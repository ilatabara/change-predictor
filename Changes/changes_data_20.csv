id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fansible-config_template~master~I049c6efc0ecf1eadeb014ead184b43e2d4609141,openstack/ansible-config_template,master,I049c6efc0ecf1eadeb014ead184b43e2d4609141,Bump collection version in metafile,MERGED,2023-05-01 21:40:36.000000000,2023-05-20 10:38:55.000000000,2023-05-20 10:38:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-01 21:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/077f1c28ec0af875bc3e9c1b3ce32c8879871f5f', 'message': 'Bump collection version in metafile\n\nAfter merging dependant changes we need to release new minor version.\n\nChange-Id: I049c6efc0ecf1eadeb014ead184b43e2d4609141\n'}, {'number': 2, 'created': '2023-05-01 21:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/b4fd7fdc9c8f6c7c9b8a357bf74448fdc1d8d8c4', 'message': 'Bump collection version in metafile\n\nAfter merging dependant changes we need to release new minor version.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-config_template/+/881668\nDepends-On: https://review.opendev.org/c/openstack/ansible-config_template/+/881887\nChange-Id: I049c6efc0ecf1eadeb014ead184b43e2d4609141\n'}, {'number': 3, 'created': '2023-05-18 18:11:15.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/130ecf68d5c673b7cdbdce54aa5ce09291aca1fd', 'message': 'Bump collection version in metafile\n\nAfter merging dependant changes we need to release new minor version.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-config_template/+/881668\nDepends-On: https://review.opendev.org/c/openstack/ansible-config_template/+/881887\nChange-Id: I049c6efc0ecf1eadeb014ead184b43e2d4609141\n'}]",1,881929,130ecf68d5c673b7cdbdce54aa5ce09291aca1fd,14,4,3,28619,,,0,"Bump collection version in metafile

After merging dependant changes we need to release new minor version.

Depends-On: https://review.opendev.org/c/openstack/ansible-config_template/+/881668
Depends-On: https://review.opendev.org/c/openstack/ansible-config_template/+/881887
Change-Id: I049c6efc0ecf1eadeb014ead184b43e2d4609141
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/29/881929/3 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,077f1c28ec0af875bc3e9c1b3ce32c8879871f5f,,"version: ""2.1.0""","version: ""1.3.0""",1,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fyoga~I2ad3f748d18bf571dc7b82422fbcd8269cbe168e,openstack/openstack-ansible-os_ceilometer,stable/yoga,I2ad3f748d18bf571dc7b82422fbcd8269cbe168e,Fix logic of defining polling_namespaces,MERGED,2023-05-18 19:46:29.000000000,2023-05-20 10:29:36.000000000,2023-05-20 10:28:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-18 19:46:29.000000000', 'files': ['releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'templates/ceilometer.conf.j2', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/db7fb19664cc8a763d7b6128fffd320445e81728', 'message': 'Fix logic of defining polling_namespaces\n\nPrevious logic did excluded possibility for ceilometer-polling agent\nto poll multiple namespaces at the same time. This resulted\nin a wrong config for AIO metal scenario.\n\nChange-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e\nCloses-Bug: #2018619\n(cherry picked from commit bfca55e20dcbf78cb6089fed5859fc4d2e735941)\n'}]",0,883549,db7fb19664cc8a763d7b6128fffd320445e81728,8,3,1,28619,,,0,"Fix logic of defining polling_namespaces

Previous logic did excluded possibility for ceilometer-polling agent
to poll multiple namespaces at the same time. This resulted
in a wrong config for AIO metal scenario.

Change-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e
Closes-Bug: #2018619
(cherry picked from commit bfca55e20dcbf78cb6089fed5859fc4d2e735941)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/49/883549/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'templates/ceilometer.conf.j2', 'vars/main.yml']",3,db7fb19664cc8a763d7b6128fffd320445e81728,,_ceilometer_polling_namespaces: | {% set _polling_namespaces = [] %} {% if 'ceilometer_agent_central' in group_names %} {% set _ = _polling_namespaces.append('central') %} {% endif %} {% if 'ceilometer_agent_compute' in group_names %} {% set _ = _polling_namespaces.append('compute') %} {% endif %} {{ _polling_namespaces }} ,,16,5
openstack%2Fopenstack-ansible-os_nova~master~I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,openstack/openstack-ansible-os_nova,master,I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,Define service_user for nova services,MERGED,2023-05-18 14:53:27.000000000,2023-05-20 10:17:26.000000000,2023-05-20 10:16:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-18 14:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1026b8b95ef54005acbf8fcb1ad9f0b91257dd3f', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n'}, {'number': 2, 'created': '2023-05-18 14:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d9c278bc091578bf578b21e28a2a48ff9da3610a', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n'}, {'number': 3, 'created': '2023-05-18 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/797e46f72092e7ae21f8d2e7973e5e56469641d5', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n'}, {'number': 4, 'created': '2023-05-19 11:48:46.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9c23b0c35993a5f5fb45f786f7e612eb20214fcd', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n'}]",0,883520,9c23b0c35993a5f5fb45f786f7e612eb20214fcd,13,4,4,28619,,,0,"Define service_user for nova services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all nova services has been added by nova.

Change-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/20/883520/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,1026b8b95ef54005acbf8fcb1ad9f0b91257dd3f,,[service_user] send_service_user_token = {{ nova_service_token_roles_required | bool }} auth_section = keystone_authtoken,,3,0
openstack%2Fnova~master~Ida57e9d9961c62ef39c07cbb51a5266479f591b7,openstack/nova,master,Ida57e9d9961c62ef39c07cbb51a5266479f591b7,Fix PCI passthrough race on reschedule (refresh),NEW,2020-03-02 17:58:31.000000000,2023-05-20 09:56:21.000000000,,"[{'_account_id': 782}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-03-02 17:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fabd9f76f7f00f12715cebccf1af5f14b93416e2', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 2, 'created': '2021-01-20 12:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e65b4b6efaf549dd61a41291755c9bfcf7c0c01', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 3, 'created': '2021-01-21 10:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29743a3e999ae9a2eb11b67208aa81e5cc2fe200', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 4, 'created': '2021-12-11 22:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af1046d33bc1ded0b553d55f13ea1ed383268553', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 5, 'created': '2021-12-12 03:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/375c875a19bdceb0d1dbd4a0855dfe714351d2ed', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 6, 'created': '2021-12-12 16:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd4af836a2ffa0148cc7e08cd1bc09bf0b0805ab', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 7, 'created': '2022-11-17 10:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8134adb81c424a5107944308dc676f0a7080c8cd', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object.\n\nThis change fixes the issue by refreshing the instance object if the claim is\naborted.\n\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\nCloses-Bug: #1860555\n'}, {'number': 8, 'created': '2022-11-17 16:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2682eed9ae79cb3680ca3ed6d236253378ac124', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the extra devices conflict, which they usually do, you see this:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nFrom the functional test, we see that the in memory instance object is\nholding a stale copy of PciDevicesList that includes a PciDevice object\nthat has already been de-allocated in the database.\n\nThe fix is simply to refresh the instance object, which correctly\nleaves the PciDeviceList as empty when passing it to the next compute\nnode, rather than leaving the stale PciDevice that is no longer assigned\nto this instance.\n\nThis means when we retry on the new Compute service we no longer\nhave the old stale PciDevice, only the new ones allocated on the\nnew host.\n\nCloses-Bug: #1860555\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\n'}, {'number': 9, 'created': '2022-11-17 16:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7aae316c02a613a87a7da398f380df622c9f501', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the extra devices conflict, which they usually do, you see this:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nFrom the functional test, we see that the in memory instance object is\nholding a stale copy of PciDevicesList that includes a PciDevice object\nthat has already been de-allocated in the database.\n\nThe fix is simply to refresh the instance object, which correctly\nleaves the PciDeviceList as empty when passing it to the next compute\nnode, rather than leaving the stale PciDevice that is no longer assigned\nto this instance.\n\nThis means when we retry on the new Compute service we no longer\nhave the old stale PciDevice, only the new ones allocated on the\nnew host.\n\nCloses-Bug: #1860555\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\n'}, {'number': 10, 'created': '2023-05-18 11:40:46.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/compute/manager.py', 'releasenotes/notes/fix-pci-in-use-bug-1860555-cff380e319c9cbfb.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b1cd349b03cacccb75923d4ccbe405baf2b5f6d1', 'message': 'Fix PCI passthrough race on reschedule (refresh)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the extra devices conflict, which they usually do, you see this:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nFrom the functional test, we see that the in memory instance object is\nholding a stale copy of PciDevicesList that includes a PciDevice object\nthat has already been de-allocated in the database.\n\nThe fix is simply to refresh the instance object, which correctly\nleaves the PciDeviceList as empty when passing it to the next compute\nnode, rather than leaving the stale PciDevice that is no longer assigned\nto this instance.\n\nThis means when we retry on the new Compute service we no longer\nhave the old stale PciDevice, only the new ones allocated on the\nnew host.\n\nCloses-Bug: #1860555\nChange-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7\n'}]",13,710848,b1cd349b03cacccb75923d4ccbe405baf2b5f6d1,69,12,10,14826,,,0,"Fix PCI passthrough race on reschedule (refresh)

If an instance with PCI passthrough devices is rescheduled (e.g. due to
affinity violation), the instance can end up with extra PCI devices attached.
If the extra devices conflict, which they usually do, you see this:

libvirtError: internal error: Device 0000:89:00.0 is already in use

From the functional test, we see that the in memory instance object is
holding a stale copy of PciDevicesList that includes a PciDevice object
that has already been de-allocated in the database.

The fix is simply to refresh the instance object, which correctly
leaves the PciDeviceList as empty when passing it to the next compute
node, rather than leaving the stale PciDevice that is no longer assigned
to this instance.

This means when we retry on the new Compute service we no longer
have the old stale PciDevice, only the new ones allocated on the
new host.

Closes-Bug: #1860555
Change-Id: Ida57e9d9961c62ef39c07cbb51a5266479f591b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/710848/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,fabd9f76f7f00f12715cebccf1af5f14b93416e2,bug/1860555," # NOTE(mgoddard): If the instance has any PCI devices, these will # have been deallocated. instance.refresh() ",,4,0
openstack%2Fopenstack-ansible-ceph_client~master~I34f2f403d03cc95f593f21c717609b9858b8d989,openstack/openstack-ansible-ceph_client,master,I34f2f403d03cc95f593f21c717609b9858b8d989,Add ceph client and configuration for immutable object cache,MERGED,2023-05-10 14:06:29.000000000,2023-05-20 08:39:18.000000000,2023-05-20 08:38:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-10 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/e21c52cb81df73ae7aed3b512e5eba0a7367ba3f', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}, {'number': 2, 'created': '2023-05-10 16:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/bbd340929f2e20f5abd2c6b4af6f3ccd3d872ca1', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}, {'number': 3, 'created': '2023-05-10 18:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/8031d730fb5bfc872e1d92966928b359d0d03e9c', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}, {'number': 4, 'created': '2023-05-15 08:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/0e2b82ead5212834deafc4f50b4fd2e39e9114b7', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}, {'number': 5, 'created': '2023-05-15 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/97991481957e50dcfaf1ccdd7784a444101316a2', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}, {'number': 6, 'created': '2023-05-18 10:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/8eb7dcf2a253e829f59cf909541e9964b8451f68', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}, {'number': 7, 'created': '2023-05-18 10:20:13.000000000', 'files': ['tasks/main.yml', 'tasks/ceph_immutable_object_cache.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/9ee3bb24f6da75d5a88cdb3d7aaeac2e016258c2', 'message': 'Add ceph client and configuration for immutable object cache\n\nSee [1] for details of this ceph component. Optionally deployed\non nova-compute nodes to accellerate access to read-only data\nfor volumes created from snapshots.\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/\n\nChange-Id: I34f2f403d03cc95f593f21c717609b9858b8d989\n'}]",6,882829,9ee3bb24f6da75d5a88cdb3d7aaeac2e016258c2,32,3,7,25023,,,0,"Add ceph client and configuration for immutable object cache

See [1] for details of this ceph component. Optionally deployed
on nova-compute nodes to accellerate access to read-only data
for volumes created from snapshots.

[1] https://docs.ceph.com/en/latest/rbd/rbd-persistent-read-only-cache/

Change-Id: I34f2f403d03cc95f593f21c717609b9858b8d989
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/29/882829/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/ceph_immutable_object_cache.yml', 'defaults/main.yml', 'vars/main.yml']",4,e21c52cb81df73ae7aed3b512e5eba0a7367ba3f,osa-ceph-cache," package: ""{{ (libvirt_packages + [ 'ceph-common' ] + ceph_immutable_object_cache_packages + python_ceph_packages) | select }}"" - name: ""{{ immutable_object_cache_client }}"" owner: ""{{ ceph_immutable_object_cache_key_owner }}"" group: ""{{ ceph_immutable_object_cache_key_group }}"" enabled: ""{{ ceph_immutable_object_cache_enabled }}""# cache daemon package name is the same on ubuntu/centos ceph_immutable_object_cache_packages: - ""{{ ceph_immutable_object_cache_enabled | ternary('ceph-immutable-object-cache', '') }}"" "," package: ""{{ libvirt_packages + [ 'ceph-common' ] + python_ceph_packages }}""",47,2
openstack%2Fgrenade~stable%2Ftrain~I7e58183ab6b85264b1a0e0e36fbc92c17046f2c8,openstack/grenade,stable/train,I7e58183ab6b85264b1a0e0e36fbc92c17046f2c8,[stable-only] Remove grenade-heat job,MERGED,2023-05-19 16:59:59.000000000,2023-05-20 08:16:18.000000000,2023-05-20 08:14:35.000000000,"[{'_account_id': 4393}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 16:59:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/b380d49bdc0bbb677dec5b27a7ec72f2daa532df', 'message': '[stable-only] Remove grenade-heat job\n\ngreanade-heat job was defined in heat stable/train which\nis now EOL\n- https://review.opendev.org/c/openstack/releases/+/871857\n\nand branch does not exist\n- https://github.com/openstack/heat/branches/active\n\nWhich introduced zuul config error in grenade gate.\n\nRemoving this undefined job.\n\nChange-Id: I7e58183ab6b85264b1a0e0e36fbc92c17046f2c8\n'}]",1,883686,b380d49bdc0bbb677dec5b27a7ec72f2daa532df,8,3,1,8556,,,0,"[stable-only] Remove grenade-heat job

greanade-heat job was defined in heat stable/train which
is now EOL
- https://review.opendev.org/c/openstack/releases/+/871857

and branch does not exist
- https://github.com/openstack/heat/branches/active

Which introduced zuul config error in grenade gate.

Removing this undefined job.

Change-Id: I7e58183ab6b85264b1a0e0e36fbc92c17046f2c8
",git fetch https://review.opendev.org/openstack/grenade refs/changes/86/883686/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b380d49bdc0bbb677dec5b27a7ec72f2daa532df,,, - grenade-heat: voting: false,0,2
openstack%2Frally~master~I27b1f108584892d64b78366d2bc39f616583af1e,openstack/rally,master,I27b1f108584892d64b78366d2bc39f616583af1e,Use official python docker images,MERGED,2023-05-19 18:22:18.000000000,2023-05-20 07:58:13.000000000,2023-05-20 07:58:13.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3735fb361b024439e2c3b081836f0c3b11db97f6', 'message': 'WIP Use official python docker images\n\nChange-Id: I27b1f108584892d64b78366d2bc39f616583af1e\n'}, {'number': 2, 'created': '2023-05-19 18:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0c82013d94461df3b18a0b985f02b3939648847b', 'message': 'WIP Use official python docker images\n\nChange-Id: I27b1f108584892d64b78366d2bc39f616583af1e\n'}, {'number': 3, 'created': '2023-05-19 21:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f38b3d717e1cec149bd126968528cf5c419c1a0f', 'message': 'Use official python docker images\n\nChange-Id: I27b1f108584892d64b78366d2bc39f616583af1e\n'}, {'number': 4, 'created': '2023-05-19 21:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d28d7e216ca9d6cac82f78f1dc39e712b2316eae', 'message': 'Use official python docker images\n\nChange-Id: I27b1f108584892d64b78366d2bc39f616583af1e\n'}, {'number': 5, 'created': '2023-05-19 22:23:11.000000000', 'files': ['Dockerfile', 'DOCKER_README.md', '.zuul.d/docker-jobs.yaml', 'tests/ci/playbooks/roles/docker-build-image/tasks/main.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/177ad8b5fb1ac6b422ea2b0cc7878f43f7b3d8fd', 'message': 'Use official python docker images\n\nChange-Id: I27b1f108584892d64b78366d2bc39f616583af1e\n'}]",0,883690,177ad8b5fb1ac6b422ea2b0cc7878f43f7b3d8fd,16,2,5,9545,,,0,"Use official python docker images

Change-Id: I27b1f108584892d64b78366d2bc39f616583af1e
",git fetch https://review.opendev.org/openstack/rally refs/changes/90/883690/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,3735fb361b024439e2c3b081836f0c3b11db97f6,docker-python,FROM python:3.9-slim RUN apt-get update && apt-get install --yes sudo vim git-core && \ python3 -m pip --no-cache-dir install --upgrade pip setuptools && \RUN python3 -m pip install . --constraint upper-constraints.txt --no-cache-dir && \ python3 -m pip install pymysql psycopg2-binary --no-cache-dir && \,FROM ubuntu:20.04 RUN sed -i s/^deb-src.*// /etc/apt/sources.list RUN apt-get update && apt-get install --yes sudo python3-dev python3-pip vim git-core && \ pip3 --no-cache-dir install --upgrade pip setuptools && \RUN pip3 install . --constraint upper-constraints.txt --no-cache-dir && \ pip3 install pymysql psycopg2-binary --no-cache-dir && \,5,7
openstack%2Fnova~master~I48d9812851449768797bbe799b3fe84fa2ce6d02,openstack/nova,master,I48d9812851449768797bbe799b3fe84fa2ce6d02,vmwareapi: Mark driver as experimental,MERGED,2022-11-07 17:44:03.000000000,2023-05-20 06:25:30.000000000,2023-05-18 15:08:04.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-07 17:44:03.000000000', 'files': ['nova/virt/vmwareapi/driver.py', 'releasenotes/notes/vmware-experimental-antelope-16a1342dd5e6ba09.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/713ef7839670bd5d73af52c211a14932adc933ba', 'message': ""vmwareapi: Mark driver as experimental\n\nOnce again, the CI has disappeared for this. It doesn't appear to be a\npriority for VMWare and we'd be lying to users if we suggested\notherwise. Mark the driver as experimental. We can explore deprecating\nit down the line once it starts costing us.\n\nChange-Id: I48d9812851449768797bbe799b3fe84fa2ce6d02\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",6,863911,713ef7839670bd5d73af52c211a14932adc933ba,31,6,1,15334,,,0,"vmwareapi: Mark driver as experimental

Once again, the CI has disappeared for this. It doesn't appear to be a
priority for VMWare and we'd be lying to users if we suggested
otherwise. Mark the driver as experimental. We can explore deprecating
it down the line once it starts costing us.

Change-Id: I48d9812851449768797bbe799b3fe84fa2ce6d02
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/863911/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/driver.py', 'releasenotes/notes/vmware-experimental-antelope-16a1342dd5e6ba09.yaml']",2,713ef7839670bd5d73af52c211a14932adc933ba,deprecate-virt-drivers,--- deprecations: - | The vmwareapi driver is marked as experimental and may be removed in a future release. The driver is not tested by the OpenStack project and does not have a clear maintainer. ,,14,0
openstack%2Fcinder~master~Ia7144c752451c270037abc523f6fd5249571dcf0,openstack/cinder,master,Ia7144c752451c270037abc523f6fd5249571dcf0,Include volume type constraints in internal API,NEW,2022-06-16 11:01:10.000000000,2023-05-20 04:20:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-06-16 11:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cabd635aab153e783ed52350d35829c2192c8d09', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 2, 'created': '2022-06-16 11:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfaa990785bbffc516a1b1334e09426418f2a1d2', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 3, 'created': '2022-06-20 10:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6132d5bdc9c23dabe3a9d226a9d519249d4970ef', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 4, 'created': '2022-06-23 10:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/769f1779cd5dd82458e6f00a64e18db0b8cf7d77', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 5, 'created': '2022-06-30 10:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ca181a9ac083a528a8bab2c3ccd122bbbc23996', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 6, 'created': '2022-07-07 09:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c85b13ebe21db3c551eb23190fd5e780d47282ed', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 7, 'created': '2022-07-14 10:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ceb46191f18f831642064007853ef30d979eabd9', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 8, 'created': '2022-10-12 11:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52dfb44124ae3ad3e5afe3d4bea8acf6b7a3f537', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 9, 'created': '2023-02-09 10:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d66b16e37ca16c8e0030c2e69faa7f03e136966', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 10, 'created': '2023-02-16 10:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e0976bb7fccb27eadd4b32e6c0737fef3f6e077', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 11, 'created': '2023-02-28 11:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05afeea1811e44e9ede22d9bebbac024f8a03779', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 12, 'created': '2023-03-01 11:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df79dec446dc5d0bd2da6b5eb069c66c62a6f4a7', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 13, 'created': '2023-03-07 11:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87af1177c8e49b5c518b207d9eb4cdf0a0cd23e2', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 14, 'created': '2023-03-15 11:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84b6391ddd173b88217d44f5ade94883bdcc5c3a', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 15, 'created': '2023-03-20 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd3eccb8f4aac98a64b4c3e444da5a43df2d6b7d', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n* the name and description cannot both be None (i.e., NULL).\nUnfortunately, the aforementioned commit added checks at the REST API\nlevel rather so it is possible that these constraints are not being\nenforced for all changes to volume types.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}, {'number': 16, 'created': '2023-05-18 10:16:02.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/tests/unit/test_volume_types.py', 'cinder/volume/volume_types.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6228081cb29990e8a20dbb3e500314aef7e42d2', 'message': 'Include volume type constraints in internal API\n\n* the name cannot be empty.\n* the name should be unique.\n* the name and description cannot both be None (i.e., NULL).\nUnfortunately, the aforementioned commit added checks at the REST API\nlevel rather so it is possible that these constraints are not being\nenforced for all changes to volume types.\n\ncloses-bug: #1486730\n\nChange-Id: Ia7144c752451c270037abc523f6fd5249571dcf0\n'}]",2,846146,e6228081cb29990e8a20dbb3e500314aef7e42d2,234,2,16,30615,,,0,"Include volume type constraints in internal API

* the name cannot be empty.
* the name should be unique.
* the name and description cannot both be None (i.e., NULL).
Unfortunately, the aforementioned commit added checks at the REST API
level rather so it is possible that these constraints are not being
enforced for all changes to volume types.

closes-bug: #1486730

Change-Id: Ia7144c752451c270037abc523f6fd5249571dcf0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/846146/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_volume_types.py', 'cinder/volume/volume_types.py']",2,cabd635aab153e783ed52350d35829c2192c8d09,846146,"def _check_values(name): """"""Raise an error if the specified values are invalid."""""" # name cannot be empty if name is None: msg = ('Volume type name must exist') raise exception.InvalidParameterValue(err=msg) elif len(name.strip()) == 0: msg = _('Volume type name cannot be empty.') raise exception.InvalidParameterValue(err=msg) _check_values(name) ",,22,0
openstack%2Fswift~master~Idd6b767f1a746c72c106199f5d1fada3615b1e97,openstack/swift,master,Idd6b767f1a746c72c106199f5d1fada3615b1e97,proxy: add periodic zero-time sleep during object PUT,MERGED,2023-05-17 12:31:42.000000000,2023-05-19 23:15:31.000000000,2023-05-19 23:14:32.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 12:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ab509811c93558220791588822ae0b345918265', 'message': 'proxy: add periodic zero-time sleep during object PUT\n\nPreviously it was possible for an entire object PUT data transfer to\nexecute without the greenthread sleeping and allowing other\ngreenthreads to run. This was more likely with an EC PUT because the\ncomputation of EC fragments might be slower than the rate at which\nthey are drained out of IO send buffers, so IO never blocks. In\nextreme cases this could cause timeouts in other greenthreads to pop.\n\nThis patch adds a periodic zero-time sleep in the object PUT data\ntransfer loop. An existing pattern in the GET path is re-used, and\nextracted to a new PeriodicSleeper helper class.\n\nChange-Id: Idd6b767f1a746c72c106199f5d1fada3615b1e97\nCloses-Bug: #2019955\nRelated-Change: Iae27109f5a3d109ad21ec9a972e39f22150f6dbb\n'}, {'number': 2, 'created': '2023-05-18 18:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3a7a8bd2173673176406d6c04c2503fa67b4c970', 'message': 'proxy: add periodic zero-time sleep during object PUT\n\nPreviously it was possible for an entire object PUT data transfer to\nexecute without the greenthread sleeping and allowing other\ngreenthreads to run. This was more likely with an EC PUT because the\ncomputation of EC fragments might be slower than the rate at which\nthey are drained out of IO send buffers, so IO never blocks. In\nextreme cases this could cause timeouts in other greenthreads to pop.\n\nThis patch adds a periodic zero-time sleep in the object PUT data\ntransfer loop. An existing pattern in the GET path is re-used, and\nextracted to a new CooperativeIterator helper class.\n\nChange-Id: Idd6b767f1a746c72c106199f5d1fada3615b1e97\nCloses-Bug: #2019955\nRelated-Change: Iae27109f5a3d109ad21ec9a972e39f22150f6dbb\n'}, {'number': 3, 'created': '2023-05-18 18:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/975bf0e6677300485b33aca5471dcff75b0c2c71', 'message': 'proxy: add periodic zero-time sleep during object PUT\n\nPreviously it was possible for an entire object PUT data transfer to\nexecute without the greenthread sleeping and allowing other\ngreenthreads to run. This was more likely with an EC PUT because the\ncomputation of EC fragments might be slower than the rate at which\nthey are drained out of IO send buffers, so IO never blocks. In\nextreme cases this could cause timeouts in other greenthreads to pop.\n\nThis patch adds a periodic zero-time sleep in the object PUT data\ntransfer loop. An existing pattern in the GET path is re-used, and\nextracted to a new CooperativeIterator helper class.\n\nChange-Id: Idd6b767f1a746c72c106199f5d1fada3615b1e97\nCloses-Bug: #2019955\nRelated-Change: Iae27109f5a3d109ad21ec9a972e39f22150f6dbb\n'}, {'number': 4, 'created': '2023-05-18 19:31:16.000000000', 'files': ['swift/common/utils/__init__.py', 'swift/proxy/controllers/obj.py', 'test/unit/common/test_utils.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aa96cb3dc675415f48d8bb2f8b61a4f394759f53', 'message': 'proxy: add periodic zero-time sleep during object PUT\n\nPreviously it was possible for an entire object PUT data transfer to\nexecute without the greenthread sleeping and allowing other\ngreenthreads to run. This was more likely with an EC PUT because the\ncomputation of EC fragments might be slower than the rate at which\nthey are drained out of IO send buffers, so IO never blocks. In\nextreme cases this could cause timeouts in other greenthreads to pop.\n\nThis patch adds a periodic zero-time sleep in the object PUT data\ntransfer loop. An existing pattern in the GET path is re-used, and\nextracted to a new CooperativeIterator helper class.\n\nChange-Id: Idd6b767f1a746c72c106199f5d1fada3615b1e97\nCloses-Bug: #2019955\nRelated-Change: Iae27109f5a3d109ad21ec9a972e39f22150f6dbb\n'}]",29,883367,aa96cb3dc675415f48d8bb2f8b61a4f394759f53,27,5,4,7847,,,0,"proxy: add periodic zero-time sleep during object PUT

Previously it was possible for an entire object PUT data transfer to
execute without the greenthread sleeping and allowing other
greenthreads to run. This was more likely with an EC PUT because the
computation of EC fragments might be slower than the rate at which
they are drained out of IO send buffers, so IO never blocks. In
extreme cases this could cause timeouts in other greenthreads to pop.

This patch adds a periodic zero-time sleep in the object PUT data
transfer loop. An existing pattern in the GET path is re-used, and
extracted to a new CooperativeIterator helper class.

Change-Id: Idd6b767f1a746c72c106199f5d1fada3615b1e97
Closes-Bug: #2019955
Related-Change: Iae27109f5a3d109ad21ec9a972e39f22150f6dbb
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/883367/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils/__init__.py', 'swift/proxy/controllers/obj.py', 'test/unit/common/test_utils.py', 'swift/proxy/controllers/base.py']",4,7ab509811c93558220791588822ae0b345918265,p-ec-put-sleep," MetricsPrefixLoggerAdapter, PeriodicSleeper sleeper = PeriodicSleeper() sleeper.incr() sleeper.maybe_sleep()","from eventlet import sleep MetricsPrefixLoggerAdapter nchunks = 0 nchunks += 1 # This is for fairness; if the network is outpacing # the CPU, we'll always be able to read and write # data without encountering an EWOULDBLOCK, and so # eventlet will not switch greenthreads on its own. # We do it manually so that clients don't starve. # # The number 5 here was chosen by making stuff up. # It's not every single chunk, but it's not too big # either, so it seemed like it would probably be an # okay choice. # # Note that we may trampoline to other greenthreads # more often than once every 5 chunks, depending on # how blocking our network IO is; the explicit sleep # here simply provides a lower bound on the rate of # trampolining. if nchunks % 5 == 0: sleep()",80,43
openstack%2Frequirements~master~Ieba70cb9e9300ab027c4b2ac7a72c4df7a21e660,openstack/requirements,master,Ieba70cb9e9300ab027c4b2ac7a72c4df7a21e660,"Revert ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1""",MERGED,2023-05-18 10:58:30.000000000,2023-05-19 22:52:13.000000000,2023-05-19 22:51:18.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6413}, {'_account_id': 8648}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-18 10:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b9dd296a07cfea9f0a1683924d7ae60530e69303', 'message': 'Revert ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1""\n\nThis reverts commit dff4253a1f87d734117835aa0b17a2026f5ad9f2.\n\nReason for revert: Most of the deprecation warning horizon get after upgrading to jQuery-migrate version 3.3.2.1 is fixed now.\n\nChange-Id: Ieba70cb9e9300ab027c4b2ac7a72c4df7a21e660\n'}, {'number': 2, 'created': '2023-05-19 03:34:15.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1bb72ac575d019558ddbf301004f798db88304ae', 'message': 'Revert ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1""\n\nThis reverts commit dff4253a1f87d734117835aa0b17a2026f5ad9f2.\n\nReason for revert: Most of the deprecation warning horizon get after upgrading to jQuery-migrate version 3.3.2.1 is fixed now.\n\nChange-Id: Ieba70cb9e9300ab027c4b2ac7a72c4df7a21e660\n'}]",0,883402,1bb72ac575d019558ddbf301004f798db88304ae,11,8,2,29313,,,0,"Revert ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1""

This reverts commit dff4253a1f87d734117835aa0b17a2026f5ad9f2.

Reason for revert: Most of the deprecation warning horizon get after upgrading to jQuery-migrate version 3.3.2.1 is fixed now.

Change-Id: Ieba70cb9e9300ab027c4b2ac7a72c4df7a21e660
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/883402/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,b9dd296a07cfea9f0a1683924d7ae60530e69303,block-jquery-migrate-3,XStatic-JQuery-Migrate===3.3.2.1,XStatic-JQuery-Migrate===1.2.1.2,2,5
openstack%2Fopenstack-ansible-ceph_client~master~I5e78521a8530ef58bba5d17e96213391747e29bb,openstack/openstack-ansible-ceph_client,master,I5e78521a8530ef58bba5d17e96213391747e29bb,Allow ceph clients to be enabled or disabled,MERGED,2023-05-10 14:06:29.000000000,2023-05-19 21:56:45.000000000,2023-05-19 21:55:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-10 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/40993893919fd3c184821087c0def1cd82c89add', 'message': 'Allow ceph clients to be enabled or disabled\n\nSome clients, like the immutable object cache need\nto be optional.\n\nChange-Id: I5e78521a8530ef58bba5d17e96213391747e29bb\n'}, {'number': 2, 'created': '2023-05-15 08:28:23.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/f7cd0b0edaa20b88f81cb99505d113c4d33bbdc1', 'message': 'Allow ceph clients to be enabled or disabled\n\nSome clients, like the immutable object cache need\nto be optional.\n\nChange-Id: I5e78521a8530ef58bba5d17e96213391747e29bb\n'}]",6,882828,f7cd0b0edaa20b88f81cb99505d113c4d33bbdc1,21,3,2,25023,,,0,"Allow ceph clients to be enabled or disabled

Some clients, like the immutable object cache need
to be optional.

Change-Id: I5e78521a8530ef58bba5d17e96213391747e29bb
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/28/882828/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,40993893919fd3c184821087c0def1cd82c89add,osa-ceph-cache, {% if client['enabled'] | default('true') | bool %} {% set _ = clients.append(client) %} {% endif %}, {% set _ = clients.append(client) %},3,1
openstack%2Fopenstack-ansible~master~Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490,openstack/openstack-ansible,master,Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490,Move repo_packages to group_vars,MERGED,2023-04-28 13:01:24.000000000,2023-05-19 21:55:05.000000000,2023-05-19 21:52:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-04-28 13:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d1e2eaf35a2dff5bba69406cc3354a5e51aedd23', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 2, 'created': '2023-04-28 13:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed783c115d3e31dc9cdc87899fd8f813c9dbb65a', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 3, 'created': '2023-04-28 14:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40ef915a5fa4f364971bfde7cd800204a705f48d', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 4, 'created': '2023-05-02 10:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d287eedcd40ba28cefe9422aeff0296f21829f0c', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 5, 'created': '2023-05-02 12:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c53d48235d34ed74daa132ee106dfb749503c62d', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 6, 'created': '2023-05-02 12:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c03339263a1525021131c564623b1dfd71ff1b07', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 7, 'created': '2023-05-02 12:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad5b3ede02e1c521ced9788b878ec591cd3f62ca', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 8, 'created': '2023-05-15 08:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c87a1608941c2ce686b0080854fbd97504354e5', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}, {'number': 9, 'created': '2023-05-18 08:49:51.000000000', 'files': ['doc/source/contributor/testing.rst', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'playbooks/os-octavia-install.yml', 'inventory/group_vars/nova_all/defaults.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/murano_all/source_git.yml', 'playbooks/os-placement-install.yml', 'inventory/group_vars/cinder_all/defaults.yml', 'inventory/group_vars/designate_all/source_git.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'playbooks/os-sahara-install.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'playbooks/os-trove-install.yml', 'inventory/group_vars/zun_all/source_git.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'playbooks/os-aodh-install.yml', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/placement_all/source_git.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-glance-install.yml', 'inventory/group_vars/glance_all/defaults.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'playbooks/os-tacker-install.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'playbooks/os-ceilometer-install.yml', 'inventory/group_vars/mistral_all/source_git.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'inventory/group_vars/swift_all/source_git.yml', 'playbooks/os-ironic-install.yml', 'playbooks/unbound-install.yml', 'inventory/group_vars/gnocchi_all/defaults.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'zuul.d/jobs.yaml', 'inventory/group_vars/heat_all/defaults.yml', 'playbooks/repo-install.yml', 'inventory/group_vars/glance_all/haproxy_service.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/os-masakari-install.yml', 'playbooks/os-mistral-install.yml', 'inventory/group_vars/gnocchi_all/source_git.yml', 'playbooks/os-blazar-install.yml', 'tests/bootstrap-aio.yml', 'inventory/group_vars/sahara_all/source_git.yml', 'releasenotes/notes/repo_packages_in_group_vars-ccd59bb64439500f.yaml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'playbooks/defaults/repo_packages/readme.rst', 'playbooks/os-horizon-install.yml', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/senlin_all/source_git.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'playbooks/os-manila-install.yml', 'inventory/group_vars/nova_all/source_git.yml', 'playbooks/common-playbooks/nova.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'playbooks/common-playbooks/neutron.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'doc/source/contributor/periodic-work.rst', 'playbooks/os-senlin-install.yml', 'playbooks/os-barbican-install.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/keystone_all/defaults.yml', 'playbooks/os-murano-install.yml', 'playbooks/os-swift-install.yml', 'doc/source/user/source-overrides/index.rst', 'inventory/group_vars/manila_all/haproxy_service.yml', 'playbooks/os-swift-sync.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'scripts/bootstrap-ansible.sh', 'playbooks/utility-install.yml', 'tests/test-upstream-shas.yml', 'inventory/group_vars/utility_all/defaults.yml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/ceilometer_all/defaults.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/horizon_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/source_git.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'playbooks/os-zun-install.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'inventory/group_vars/barbican_all/source_git.yml', 'playbooks/openstack-hosts-setup.yml', 'playbooks/containers-lxc-create.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/source_git.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/swift_all/defaults.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'playbooks/os-tempest-install.yml', 'playbooks/containers-lxc-host.yml', 'inventory/group_vars/trove_all/defaults.yml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'doc/source/conf.py', 'inventory/group_vars/horizon_all/defaults.yml', 'playbooks/common-playbooks/cinder.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/utility_all/source_git.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'playbooks/os-adjutant-install.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/gnocchi_all/haproxy_services.yml', 'inventory/group_vars/aodh_all/source_git.yml', 'inventory/group_vars/glance_all/source_git.yml', 'playbooks/os-cloudkitty-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9fca8555dff47517df8f24b0512666892b1c3b48', 'message': ""Move repo_packages to group_vars\n\nAt the moment it's not possible to apply different versions of\nservices to the different groups due to playbook vars having\nprescedence over group_vars. However, it can be quite important\nto  such use cases, for example for phased rollouts of newer versions.\n\nThis will also reduce amount of unnecessary variables that are included\nfor each host, since only required git details will be loaded.\n\nCloses-Bug: #2007296\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954\nChange-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490\n""}]",9,881824,9fca8555dff47517df8f24b0512666892b1c3b48,44,4,9,28619,,,0,"Move repo_packages to group_vars

At the moment it's not possible to apply different versions of
services to the different groups due to playbook vars having
prescedence over group_vars. However, it can be quite important
to  such use cases, for example for phased rollouts of newer versions.

This will also reduce amount of unnecessary variables that are included
for each host, since only required git details will be loaded.

Closes-Bug: #2007296
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/881954
Change-Id: Icaa3a958926d9f9aa6cb649bd9f3da9449dd7490
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/881824/6 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/sahara_all/haproxy_service.yml', 'playbooks/os-octavia-install.yml', 'inventory/group_vars/nova_all/defaults.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/murano_all/source_git.yml', 'playbooks/os-placement-install.yml', 'inventory/group_vars/cinder_all/defaults.yml', 'inventory/group_vars/designate_all/source_git.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'playbooks/os-sahara-install.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'playbooks/os-trove-install.yml', 'inventory/group_vars/zun_all/source_git.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'playbooks/os-aodh-install.yml', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/placement_all/source_git.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-glance-install.yml', 'inventory/group_vars/glance_all/defaults.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'playbooks/os-tacker-install.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'playbooks/os-ceilometer-install.yml', 'inventory/group_vars/mistral_all/source_git.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'inventory/group_vars/swift_all/source_git.yml', 'playbooks/os-ironic-install.yml', 'playbooks/unbound-install.yml', 'inventory/group_vars/gnocchi_all/defaults.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'inventory/group_vars/heat_all/defaults.yml', 'playbooks/repo-install.yml', 'inventory/group_vars/glance_all/haproxy_service.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/os-masakari-install.yml', 'playbooks/os-mistral-install.yml', 'inventory/group_vars/gnocchi_all/source_git.yml', 'playbooks/os-blazar-install.yml', 'tests/bootstrap-aio.yml', 'inventory/group_vars/sahara_all/source_git.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'playbooks/defaults/repo_packages/readme.rst', 'playbooks/os-horizon-install.yml', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/senlin_all/source_git.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'playbooks/os-manila-install.yml', 'inventory/group_vars/nova_all/source_git.yml', 'playbooks/common-playbooks/nova.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'playbooks/common-playbooks/neutron.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'playbooks/os-senlin-install.yml', 'playbooks/os-barbican-install.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/keystone_all/defaults.yml', 'playbooks/os-murano-install.yml', 'playbooks/os-swift-install.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'playbooks/os-swift-sync.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'playbooks/utility-install.yml', 'inventory/group_vars/utility_all/defaults.yml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/ceilometer_all/defaults.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/horizon_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/source_git.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'playbooks/os-zun-install.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'inventory/group_vars/barbican_all/source_git.yml', 'playbooks/openstack-hosts-setup.yml', 'playbooks/containers-lxc-create.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/source_git.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/swift_all/defaults.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'playbooks/os-tempest-install.yml', 'playbooks/containers-lxc-host.yml', 'inventory/group_vars/trove_all/defaults.yml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/horizon_all/defaults.yml', 'playbooks/common-playbooks/cinder.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/utility_all/source_git.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'playbooks/os-adjutant-install.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/gnocchi_all/haproxy_services.yml', 'inventory/group_vars/aodh_all/source_git.yml', 'inventory/group_vars/glance_all/source_git.yml', 'playbooks/os-cloudkitty-install.yml']",112,d1e2eaf35a2dff5bba69406cc3354a5e51aedd23,,," - ""defaults/repo_packages/openstack_services.yml""",908,507
openstack%2Frally~master~I0a05c0c9cc85068ecbc9f8670f2472fcab0e635c,openstack/rally,master,I0a05c0c9cc85068ecbc9f8670f2472fcab0e635c,DNM: check install job,NEW,2023-05-19 21:28:32.000000000,2023-05-19 21:55:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 21:28:32.000000000', 'files': ['tests/ci/playbooks/rally-install-pre.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/7106ece809355cfb6540bd26b1491becd22443dd', 'message': 'DNM: check install job\n\nChange-Id: I0a05c0c9cc85068ecbc9f8670f2472fcab0e635c\n'}]",0,883707,7106ece809355cfb6540bd26b1491becd22443dd,2,1,1,9545,,,0,"DNM: check install job

Change-Id: I0a05c0c9cc85068ecbc9f8670f2472fcab0e635c
",git fetch https://review.opendev.org/openstack/rally refs/changes/07/883707/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/rally-install-pre.yaml'],1,7106ece809355cfb6540bd26b1491becd22443dd,plugins_dir,, - name: Prepare rally plugins stored at home dir shell: | mkdir --parents ~/.rally/plugins cp --recursive {{ zuul.project.src_dir }}/rally-jobs/plugins/* ~/.rally/plugins,0,5
openstack%2Fopenstack-ansible~master~I9a13d836f7f266c54283125dc09d11feeea23d3e,openstack/openstack-ansible,master,I9a13d836f7f266c54283125dc09d11feeea23d3e,Bump down etcd version for zun,MERGED,2023-05-15 16:53:08.000000000,2023-05-19 21:49:06.000000000,2023-05-19 21:46:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-15 16:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b134fa4c2f751ba4dbf05096eedb77eafcee5da8', 'message': 'Replace etcd usage with zookeeper for zun\n\nChange-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e\n'}, {'number': 2, 'created': '2023-05-16 17:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0ad1b26f90f6066f3134c509a69e0335dd843b49', 'message': 'Replace etcd usage with zookeeper for zun\n\nChange-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e\n'}, {'number': 3, 'created': '2023-05-17 21:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a42beb3c8809568cfcdf694c86cd83e6569a10a', 'message': ""Bump down etcd version for zun\n\nDocker libkv [1] does not support etcd of version >=3.4,\nas otherwise ErrInvalidJSON exception is raised. Since\ndocker cluster-store is deprecated and removed in 23.0.0,\nsupport of etcd won't be fixed.\n\nAt the same time while zookeeper is also a supported driver,\nit's usage causes docker to crash on attempt to use it.\n\nSo bumping etcd version down is the only solution at the\nmoment.\n\n[1] https://github.com/docker/libkv\n\nChange-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e\n""}, {'number': 4, 'created': '2023-05-17 21:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af218893aa44384c60d9f29e4f7a4f12007b75ea', 'message': ""Bump down etcd version for zun\n\nDocker libkv [1] does not support etcd of version >=3.4,\nas otherwise ErrInvalidJSON exception is raised. Since\ndocker cluster-store is deprecated and removed in 23.0.0,\nsupport of etcd won't be fixed.\n\nAt the same time while zookeeper is also a supported driver,\nit's usage causes docker to crash on attempt to use it.\n\nSo bumping etcd version down is the only solution at the\nmoment.\n\n[1] https://github.com/docker/libkv\n\nChange-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e\n""}, {'number': 5, 'created': '2023-05-17 21:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f2843bb3492e66c51857f15f7e5a4cb1d2724d9', 'message': ""Bump down etcd version for zun\n\nDocker libkv [1] does not support etcd of version >=3.4,\nas otherwise ErrInvalidJSON exception is raised. Since\ndocker cluster-store is deprecated and removed in 23.0.0,\nsupport of etcd won't be fixed.\n\nAt the same time while zookeeper is also a supported driver,\nit's usage causes docker to crash on attempt to use it.\n\nSo bumping etcd version down is the only solution at the\nmoment.\n\n[1] https://github.com/docker/libkv\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/880288\nChange-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e\n""}, {'number': 6, 'created': '2023-05-18 16:52:05.000000000', 'files': ['playbooks/os-zun-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f3d58b5d833dbe4d886caacfd01b55949f35cf40', 'message': ""Bump down etcd version for zun\n\nDocker libkv [1] does not support etcd of version >=3.4,\nas otherwise ErrInvalidJSON exception is raised. Since\ndocker cluster-store is deprecated and removed in 23.0.0,\nsupport of etcd won't be fixed.\n\nAt the same time while zookeeper is also a supported driver,\nit's usage causes docker to crash on attempt to use it.\n\nSo bumping etcd version down is the only solution at the\nmoment.\n\n[1] https://github.com/docker/libkv\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/880288\nChange-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e\n""}]",1,883194,f3d58b5d833dbe4d886caacfd01b55949f35cf40,19,3,6,28619,,,0,"Bump down etcd version for zun

Docker libkv [1] does not support etcd of version >=3.4,
as otherwise ErrInvalidJSON exception is raised. Since
docker cluster-store is deprecated and removed in 23.0.0,
support of etcd won't be fixed.

At the same time while zookeeper is also a supported driver,
it's usage causes docker to crash on attempt to use it.

So bumping etcd version down is the only solution at the
moment.

[1] https://github.com/docker/libkv

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_zun/+/880288
Change-Id: I9a13d836f7f266c54283125dc09d11feeea23d3e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/883194/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-zun-install.yml', 'tests/roles/bootstrap-host/vars/main.yml']",2,b134fa4c2f751ba4dbf05096eedb77eafcee5da8,, {% if 'designate' in bootstrap_host_scenarios or ('validate' in bootstrap_host_scenarios and 'integrated' in bootstrap_host_scenarios) or zun in bootstrap_host_scenarios %}, {% if 'designate' in bootstrap_host_scenarios or ('validate' in bootstrap_host_scenarios and 'integrated' in bootstrap_host_scenarios) %},1,14
openstack%2Fopenstack-ansible~master~I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7,openstack/openstack-ansible,master,I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7,Tune settings in galera server for reduced ram in all-in-one build,MERGED,2023-03-13 13:19:39.000000000,2023-05-19 21:48:06.000000000,2023-05-19 21:46:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-03-13 13:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efe2f7a6cabe71202e3638942d3f9894335c3993', 'message': 'Tune settings in galera server for reduced ram in all-in-one build\n\nChange-Id: I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7\n'}, {'number': 2, 'created': '2023-03-13 15:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c66516d255cb4ef366d430599cc2814241ef413', 'message': 'Tune settings in galera server for reduced ram in all-in-one build\n\nChange-Id: I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7\n'}, {'number': 3, 'created': '2023-04-03 17:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21e5889083dbec64081f42d65dc0cbb6f2f6c76b', 'message': 'Tune settings in galera server for reduced ram in all-in-one build\n\nChange-Id: I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7\n'}, {'number': 4, 'created': '2023-04-03 20:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7da4c6f3e9558a24820c4f1d5bb4d2729d51e0f1', 'message': 'Tune settings in galera server for reduced ram in all-in-one build\n\nChange-Id: I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7\n'}, {'number': 5, 'created': '2023-04-04 11:15:25.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ada932378169c073e180bef4e04b3d5d68806d2c', 'message': 'Tune settings in galera server for reduced ram in all-in-one build\n\nChange-Id: I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7\n'}]",5,877278,ada932378169c073e180bef4e04b3d5d68806d2c,23,3,5,25023,,,0,"Tune settings in galera server for reduced ram in all-in-one build

Change-Id: I3b14adba905c85fcd6eb13934a65ae5d21b6f2d7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/877278/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/main.yml'],1,efe2f7a6cabe71202e3638942d3f9894335c3993,," - name: Reduce galera memory consumption in CI vars: galera_reduce_ram: galera_conf_conf_overrides: mysqld: read_buffer_size: '64K' innodb_buffer_pool_size: '16M' thread_stack: '192K' thread_cache_size: '8' tmp_table_size: '8M' sort_buffer_size: '8M' max_allowed_packet: '8M' copy: content: ""{{ galera_reduce_ram | to_nice_yaml }}"" dest: '/etc/openstack_deploy/user_variables_galera_ram.yml' tags: - prepare-galera-ram",,18,0
openstack%2Fansible-role-python_venv_build~master~I8ddabf996559b5300b52cad1649d8657889337cd,openstack/ansible-role-python_venv_build,master,I8ddabf996559b5300b52cad1649d8657889337cd,Fix venv_build_targets when used with multi-arch,MERGED,2023-04-28 16:50:19.000000000,2023-05-19 21:46:40.000000000,2023-05-19 21:45:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-04-28 16:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/db21f51ca9de786ae6243625b2fcf5e23eb17a0d', 'message': 'Fix venv_build_targets when used with multi-arch\n\nChange venv_build_targets data structure to a single-level dict\nwith keys of the form  <distro_ver>_<arch> instead of nested dicts.\nWhen adding new architectures to the old structure, previous\nentries for other architectures were overwritten, leaving only\nthe last seen architecture for each distro version. This could\nresult in a ""Dict object has no attribute ..."" error when trying\nto build a venv for any other architure.\n\nCloses-Bug: #2018012\nChange-Id: I8ddabf996559b5300b52cad1649d8657889337cd\n'}, {'number': 2, 'created': '2023-05-15 10:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/fe5c6e5c3255eff77468f0c6352132813a0c7853', 'message': 'Fix venv_build_targets when used with multi-arch\n\nChange venv_build_targets data structure to a single-level dict\nwith keys of the form  <distro_ver>_<arch> instead of nested dicts.\nWhen adding new architectures to the old structure, previous\nentries for other architectures were overwritten, leaving only\nthe last seen architecture for each distro version. This could\nresult in a ""Dict object has no attribute ..."" error when trying\nto build a venv for any other architure.\n\nCloses-Bug: #2018012\nChange-Id: I8ddabf996559b5300b52cad1649d8657889337cd\n'}, {'number': 3, 'created': '2023-05-18 08:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/f9f7a4d7548cf445fa225eebc227a1b766b53a30', 'message': 'Fix venv_build_targets when used with multi-arch\n\nChange venv_build_targets data structure to a single-level dict\nwith keys of the form  <distro_ver>_<arch> instead of nested dicts.\nWhen adding new architectures to the old structure, previous\nentries for other architectures were overwritten, leaving only\nthe last seen architecture for each distro version. This could\nresult in a ""Dict object has no attribute ..."" error when trying\nto build a venv for any other architure.\n\nCloses-Bug: #2018012\nChange-Id: I8ddabf996559b5300b52cad1649d8657889337cd\n'}, {'number': 4, 'created': '2023-05-18 14:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4c60fe78e4361b6717c26d39f3f2c0d634493b59', 'message': 'Fix venv_build_targets when used with multi-arch\n\nChange venv_build_targets data structure to a single-level dict\nwith keys of the form  <distro_ver>_<arch> instead of nested dicts.\nWhen adding new architectures to the old structure, previous\nentries for other architectures were overwritten, leaving only\nthe last seen architecture for each distro version. This could\nresult in a ""Dict object has no attribute ..."" error when trying\nto build a venv for any other architure.\n\nCloses-Bug: #2018012\nChange-Id: I8ddabf996559b5300b52cad1649d8657889337cd\n'}, {'number': 5, 'created': '2023-05-18 16:33:00.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/76dc23fd06809b412a10af8273ad530db2d3e5f8', 'message': 'Fix venv_build_targets when used with multi-arch\n\nChange venv_build_targets data structure to a single-level dict\nwith keys of the form  <distro_ver>_<arch> instead of nested dicts.\nWhen adding new architectures to the old structure, previous\nentries for other architectures were overwritten, leaving only\nthe last seen architecture for each distro version. This could\nresult in a ""Dict object has no attribute ..."" error when trying\nto build a venv for any other architure.\n\nCloses-Bug: #2018012\nChange-Id: I8ddabf996559b5300b52cad1649d8657889337cd\n'}]",8,881848,76dc23fd06809b412a10af8273ad530db2d3e5f8,28,4,5,25666,,,0,"Fix venv_build_targets when used with multi-arch

Change venv_build_targets data structure to a single-level dict
with keys of the form  <distro_ver>_<arch> instead of nested dicts.
When adding new architectures to the old structure, previous
entries for other architectures were overwritten, leaving only
the last seen architecture for each distro version. This could
result in a ""Dict object has no attribute ..."" error when trying
to build a venv for any other architure.

Closes-Bug: #2018012
Change-Id: I8ddabf996559b5300b52cad1649d8657889337cd
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/48/881848/4 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'vars/main.yml']",2,db21f51ca9de786ae6243625b2fcf5e23eb17a0d,bug/2018012,"# ansible_facts['distribution_version'] + '_' + # ansible_facts['architecture']: inventory_hostname# * The current inventory hostname is inserted as the first build target # and will be used if no other suitable targets are found. # * It then iterates over the group name ""repo_all"" and if any targets # are found it will catagorize them by distro and cpu architecture # and add them to the list of targets. (ansible_facts['distribution_version'] | string) + '_' + {% for item in ((groups['repo_all'] | default([])) | reverse) %} {% set _ = targets.__setitem__((distro | string) + '_' + (arch | string), (item | string )) %}","# ansible_facts['distribution_version']: { # ansible_facts['architecture']: inventory_hostname# * The automatic build targets will iterate over the group name # ""repo_all"" and if any target is found it will catagorize it # using the distro and cpu architecture criteria. # * If no group named ""repo_all"" is found the current inventory # hostname will be used as the only available build target. (ansible_facts['distribution_version'] | string): { } {% for item in ((groups['repo_all'] | default([inventory_hostname])) | reverse) %} {% set target_item = {(arch | string): (item | string)} %} {% set _ = targets.__setitem__(distro, target_item) %}",11,13
openstack%2Fopenstack-ansible-haproxy_server~master~I7c87317433acb4ed73070a2252240737b22dccfc,openstack/openstack-ansible-haproxy_server,master,I7c87317433acb4ed73070a2252240737b22dccfc,Fix use of haproxy_backend_ssl when haproxy_backend_ca is not defined,MERGED,2023-04-04 13:01:01.000000000,2023-05-19 21:02:11.000000000,2023-05-19 21:01:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-04-04 13:01:01.000000000', 'files': ['templates/service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/79bef8773a4c5675ddde306c369e04926e6c7b78', 'message': ""Fix use of haproxy_backend_ssl when haproxy_backend_ca is not defined\n\nFor certificates from widely trusted CA there is no need to provide\na specific CA file for an ssl backend, but the code fails with\nundefined variable if only haproxy_backend_ssl is enabled.\n\nA workaround is to set `haproxy_backend_ca: false` but this patch\nallows haproxy_backend_ssl to be used on it's own.\n\nChange-Id: I7c87317433acb4ed73070a2252240737b22dccfc\n""}]",2,879452,79bef8773a4c5675ddde306c369e04926e6c7b78,14,4,1,25023,,,0,"Fix use of haproxy_backend_ssl when haproxy_backend_ca is not defined

For certificates from widely trusted CA there is no need to provide
a specific CA file for an ssl backend, but the code fails with
undefined variable if only haproxy_backend_ssl is enabled.

A workaround is to set `haproxy_backend_ca: false` but this patch
allows haproxy_backend_ssl to be used on it's own.

Change-Id: I7c87317433acb4ed73070a2252240737b22dccfc
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/52/879452/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/service.j2'],1,79bef8773a4c5675ddde306c369e04926e6c7b78,,{% if service.haproxy_backend_ca | default(False) %}{% if service.haproxy_backend_ca | default(False) %},{% if service.haproxy_backend_ca %}{% if service.haproxy_backend_ca %},2,2
openstack%2Frally~master~I77eba97596df4448065982956c3b6fb08c8e45db,openstack/rally,master,I77eba97596df4448065982956c3b6fb08c8e45db,Keep CI up-to-date,MERGED,2023-05-19 10:09:45.000000000,2023-05-19 20:35:12.000000000,2023-05-19 20:35:12.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 10:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/49d6ae2b0013ade628d8aa1e3b68ba6d337fad1b', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 2, 'created': '2023-05-19 10:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/be52117dbb7efe227e6a62dde4f8273523af5cb3', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 3, 'created': '2023-05-19 11:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9f740753065145b0efd759cb8602e7145afee4a6', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 4, 'created': '2023-05-19 12:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/31dcf4ed49e898f16d2541540495c56a1d21cb48', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 5, 'created': '2023-05-19 14:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/541e203b0223f9ae2b72f5e68d8d1c46527ecd0e', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 6, 'created': '2023-05-19 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/506b0f9ffb932351aa74d269dee31e0e96d5858c', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 7, 'created': '2023-05-19 15:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8486d1c4b1efe1a24c3987b57bf30ee47b5ee1f2', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 8, 'created': '2023-05-19 16:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/afaa715d90130555e3504372e02fc25d1ebd37ec', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 9, 'created': '2023-05-19 17:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/455ce557cebd5ac484ff20e4a20ca49b13d8576e', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 10, 'created': '2023-05-19 17:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2f439c3f82f15f4a905645c434b9bc5630f2b5e3', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 11, 'created': '2023-05-19 17:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ca2e6c0c25ebc0ec1168f6539d6f9451549c057d', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 12, 'created': '2023-05-19 17:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/03b75e94c9a714824bb0fb23ffb461737114fc24', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 13, 'created': '2023-05-19 18:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7a9ef2b982bc7ccf61f764064cb4c2b7893f6fb0', 'message': 'WIP: update ci\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 14, 'created': '2023-05-19 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5cf610fbc5055efc6bc1407ae35900f5da4017cf', 'message': 'WIP: Keep CI up-to-date\n\n* Fix CI job that check rally installation with CentOS 9. Previously it\n  used CentOS 8 node :)\n* Start using Ubuntu 22.04 LTS as much as possible\n* Use python 3.10 by default for most tox envs\n* Fix issues with new hacking&flake8\n* Rewrite the way of preparation for tox\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}, {'number': 15, 'created': '2023-05-19 18:41:51.000000000', 'files': ['tests/hacking/checks.py', 'tests/ci/playbooks/tox-run.yaml', 'tests/ci/playbooks/roles/rally-tox/tasks/run.yaml', 'tests/unit/test_hacking.py', '.zuul.d/python-jobs.yaml', 'rally/task/hook.py', 'tests/unit/task/test_engine.py', 'tests/ci/playbooks/roles/rally-tox/tasks/install.yaml', 'rally/cli/cliutils.py', 'rally/task/engine.py', '.zuul.d/install-jobs.yaml', 'rally/cli/commands/task.py', '.zuul.d/zuul.yaml', 'tests/ci/playbooks/roles/rally-tox/defaults/main.yaml', 'tests/ci/playbooks/roles/rally-tox/files/find_python_for_tox_env.py', 'tests/ci/playbooks/rally-install-pre.yaml', 'tests/ci/playbooks/tox-install.yaml', 'tests/ci/playbooks/roles/rally-tox/tasks/main.yaml', 'setup.cfg', 'tox.ini', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/1694ddc50eb5e3dd872232d5ec96ebd3914c4100', 'message': 'Keep CI up-to-date\n\n* Fix CI job that check rally installation with CentOS 9. Previously it\n  used CentOS 8 node :)\n* Start using Ubuntu 22.04 LTS as much as possible\n* Use python 3.10 by default for most tox envs\n* Fix issues with new hacking&flake8\n* Rewrite the way of preparation for tox\n\nChange-Id: I77eba97596df4448065982956c3b6fb08c8e45db\n'}]",0,883652,1694ddc50eb5e3dd872232d5ec96ebd3914c4100,27,2,15,9545,,,0,"Keep CI up-to-date

* Fix CI job that check rally installation with CentOS 9. Previously it
  used CentOS 8 node :)
* Start using Ubuntu 22.04 LTS as much as possible
* Use python 3.10 by default for most tox envs
* Fix issues with new hacking&flake8
* Rewrite the way of preparation for tox

Change-Id: I77eba97596df4448065982956c3b6fb08c8e45db
",git fetch https://review.opendev.org/openstack/rally refs/changes/52/883652/7 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/install-jobs.yaml', '.zuul.d/zuul.yaml', '.zuul.d/python-jobs.yaml', 'setup.cfg', 'tox.ini']",5,49d6ae2b0013ade628d8aa1e3b68ba6d337fad1b,ci, HOME," HOME={homedir}[testenv:functional-py38] deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt stestr basepython = python3.8 commands = find . -type f -name ""*.pyc"" -delete python {toxinidir}/tests/ci/pytest_launcher.py tests/functional --posargs={posargs} ",28,33
openstack%2Frally~master~I34c8f686bdbe5a9fc935fd672bde3fd8e3b424e8,openstack/rally,master,I34c8f686bdbe5a9fc935fd672bde3fd8e3b424e8,Change python3.5 job to python3.7 job on Stein+,ABANDONED,2018-10-15 14:51:18.000000000,2023-05-19 20:24:48.000000000,,"[{'_account_id': 11805}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 14:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/04dd87597be1d0569e4724751c9424a0c2423435', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I34c8f686bdbe5a9fc935fd672bde3fd8e3b424e8\nStory: #2004073\nTask: #27446\n""}, {'number': 2, 'created': '2018-10-15 14:55:41.000000000', 'files': ['.zuul.d/zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/ef3eee7f21e64854a2ff8e0c3619c1511ee28f10', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I34c8f686bdbe5a9fc935fd672bde3fd8e3b424e8\nStory: #2004073\nTask: #27446\n""}]",0,610599,ef3eee7f21e64854a2ff8e0c3619c1511ee28f10,10,3,2,24,,,0,"Change python3.5 job to python3.7 job on Stein+

This is a mechanically generated patch to add a unit test job running
under Python 3.7 and drop the Python 3.5 unit test job.

python3.5 was the only supported python3 version on Xenial. Now that
we have Bionic nodes supporting python3.6 and python3.7, let's switch
to testing with python3.7 in addition to python3.6 in Stein and
beyond.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: I34c8f686bdbe5a9fc935fd672bde3fd8e3b424e8
Story: #2004073
Task: #27446
",git fetch https://review.opendev.org/openstack/rally refs/changes/99/610599/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/zuul.yaml'],1,04dd87597be1d0569e4724751c9424a0c2423435,py37-job,, - openstack-python35-jobs,0,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fzed~I2ad3f748d18bf571dc7b82422fbcd8269cbe168e,openstack/openstack-ansible-os_ceilometer,stable/zed,I2ad3f748d18bf571dc7b82422fbcd8269cbe168e,Fix logic of defining polling_namespaces,MERGED,2023-05-18 19:46:19.000000000,2023-05-19 20:21:02.000000000,2023-05-19 20:20:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-18 19:46:19.000000000', 'files': ['releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'templates/ceilometer.conf.j2', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/9367ff14e3590105526bd13bc99a6516e7e02fa5', 'message': 'Fix logic of defining polling_namespaces\n\nPrevious logic did excluded possibility for ceilometer-polling agent\nto poll multiple namespaces at the same time. This resulted\nin a wrong config for AIO metal scenario.\n\nChange-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e\nCloses-Bug: #2018619\n(cherry picked from commit bfca55e20dcbf78cb6089fed5859fc4d2e735941)\n'}]",0,883548,9367ff14e3590105526bd13bc99a6516e7e02fa5,8,3,1,28619,,,0,"Fix logic of defining polling_namespaces

Previous logic did excluded possibility for ceilometer-polling agent
to poll multiple namespaces at the same time. This resulted
in a wrong config for AIO metal scenario.

Change-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e
Closes-Bug: #2018619
(cherry picked from commit bfca55e20dcbf78cb6089fed5859fc4d2e735941)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/48/883548/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'templates/ceilometer.conf.j2', 'vars/main.yml']",3,9367ff14e3590105526bd13bc99a6516e7e02fa5,,_ceilometer_polling_namespaces: | {% set _polling_namespaces = [] %} {% if 'ceilometer_agent_central' in group_names %} {% set _ = _polling_namespaces.append('central') %} {% endif %} {% if 'ceilometer_agent_compute' in group_names %} {% set _ = _polling_namespaces.append('compute') %} {% endif %} {{ _polling_namespaces }} ,,16,5
openstack%2Fgovernance~master~I8f622ef646b318fdf965a65b426960614aa52299,openstack/governance,master,I8f622ef646b318fdf965a65b426960614aa52299,Update governance to reflect new VirtualPDU repo,ABANDONED,2023-03-02 21:57:20.000000000,2023-05-19 20:09:48.000000000,,"[{'_account_id': 935}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-03-02 21:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ce59fa0def8569234935a1566c83bdf49d6350ae', 'message': 'Update governance to reflect new VirtualPDU repo\n\nVirtualPDU is going to move into openstack/ namespace, this is an update\nto governance to make it know the new location after the move.\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/876208\nChange-Id: I8f622ef646b318fdf965a65b426960614aa52299\n'}, {'number': 2, 'created': '2023-03-02 21:58:39.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7676ccf992290941377e00635cf3e49c9d8b5e2c', 'message': 'Update governance to reflect new VirtualPDU repo\n\nVirtualPDU is going to move into openstack/ namespace, this is an update\nto governance to make it know the new location after the move.\n\nDepends-on: https://review.opendev.org/c/openstack/project-config/+/876231\nChange-Id: I8f622ef646b318fdf965a65b426960614aa52299\n'}]",3,876232,7676ccf992290941377e00635cf3e49c9d8b5e2c,12,5,2,10342,,,0,"Update governance to reflect new VirtualPDU repo

VirtualPDU is going to move into openstack/ namespace, this is an update
to governance to make it know the new location after the move.

Depends-on: https://review.opendev.org/c/openstack/project-config/+/876231
Change-Id: I8f622ef646b318fdf965a65b426960614aa52299
",git fetch https://review.opendev.org/openstack/governance refs/changes/32/876232/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,ce59fa0def8569234935a1566c83bdf49d6350ae,project-update, - openstack/virtualpdu, - x/virtualpdu,1,1
openstack%2Fcharm-keystone~stable%2Fussuri~I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,openstack/charm-keystone,stable/ussuri,I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,Add service user password rotation actions,MERGED,2023-05-18 14:00:54.000000000,2023-05-19 19:58:58.000000000,2023-05-19 19:58:58.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 14:00:54.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/da65055a9a844d442c38cd58343642e8ac4cb4b7', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1058\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}]",3,883531,da65055a9a844d442c38cd58343642e8ac4cb4b7,13,4,1,20870,,,0,"Add service user password rotation actions

This patch adds two actions:

 1. An action to list the service usernames that can be rotated.
 2. An action to rotate a service username that is on the list of
    usernames that can be rotated.

Change-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1058
(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/31/883531/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml']",7,da65055a9a844d442c38cd58343642e8ac4cb4b7,feature/rotate-passwords-stable/ussuri,"rotate-service-user-password: description: | Rotate the specified service user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the service user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The name of the service as specified by the service user charm. e.g. 'cinder' for the cinder charm, 'glance' for the glance charm. list-service-usernames: description: | List the usernames of the services as known by keystone. This may differ from those expected due to either prefixes or a service providing multiple endpoints. The service username passed to 'rotate-service-user-password' needs to be one of this list.",,377,2
openstack%2Fcharm-keystone~stable%2Fvictoria~I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,openstack/charm-keystone,stable/victoria,I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,Add service user password rotation actions,MERGED,2023-05-18 13:58:28.000000000,2023-05-19 19:58:56.000000000,2023-05-19 19:58:56.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:58:28.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/b87d1c5602331b5498f2076eb728daed66704e3f', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1057\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}]",3,883530,b87d1c5602331b5498f2076eb728daed66704e3f,11,4,1,20870,,,0,"Add service user password rotation actions

This patch adds two actions:

 1. An action to list the service usernames that can be rotated.
 2. An action to rotate a service username that is on the list of
    usernames that can be rotated.

Change-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1057
(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/30/883530/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml']",7,b87d1c5602331b5498f2076eb728daed66704e3f,feature/rotate-passwords-stable/xena-stable/wallaby-stable/victoria,"rotate-service-user-password: description: | Rotate the specified service user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the service user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The name of the service as specified by the service user charm. e.g. 'cinder' for the cinder charm, 'glance' for the glance charm. list-service-usernames: description: | List the usernames of the services as known by keystone. This may differ from those expected due to either prefixes or a service providing multiple endpoints. The service username passed to 'rotate-service-user-password' needs to be one of this list.",,377,2
openstack%2Fcharm-keystone~stable%2Fwallaby~I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,openstack/charm-keystone,stable/wallaby,I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,Add service user password rotation actions,MERGED,2023-05-18 13:54:12.000000000,2023-05-19 19:58:55.000000000,2023-05-19 19:58:55.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:54:12.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f829be6138f71d9b22833f102dfbf6da1a13cfc6', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1056\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}]",3,883409,f829be6138f71d9b22833f102dfbf6da1a13cfc6,11,4,1,20870,,,0,"Add service user password rotation actions

This patch adds two actions:

 1. An action to list the service usernames that can be rotated.
 2. An action to rotate a service username that is on the list of
    usernames that can be rotated.

Change-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1056
(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/09/883409/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml']",7,f829be6138f71d9b22833f102dfbf6da1a13cfc6,feature/rotate-passwords-stable/xena-stable/wallaby,"rotate-service-user-password: description: | Rotate the specified service user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the service user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The name of the service as specified by the service user charm. e.g. 'cinder' for the cinder charm, 'glance' for the glance charm. list-service-usernames: description: | List the usernames of the services as known by keystone. This may differ from those expected due to either prefixes or a service providing multiple endpoints. The service username passed to 'rotate-service-user-password' needs to be one of this list.",,377,2
openstack%2Fcharm-keystone~stable%2Fxena~I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,openstack/charm-keystone,stable/xena,I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,Add service user password rotation actions,MERGED,2023-05-18 13:34:24.000000000,2023-05-19 19:58:54.000000000,2023-05-19 19:58:54.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a4a396ddd82ae3749feb30865fa5109951f70829', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1055\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}, {'number': 2, 'created': '2023-05-18 13:41:07.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/8b1e4d6a14ae38373af7cdf3353fe533faf587d9', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1055\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}]",3,883407,8b1e4d6a14ae38373af7cdf3353fe533faf587d9,14,4,2,20870,,,0,"Add service user password rotation actions

This patch adds two actions:

 1. An action to list the service usernames that can be rotated.
 2. An action to rotate a service username that is on the list of
    usernames that can be rotated.

Change-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1055
(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/07/883407/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml']",7,a4a396ddd82ae3749feb30865fa5109951f70829,feature/rotate-passwords-stable/xena,"<<<<<<< HEAD (b5008a Ensure service name is not None before lookup) ======= get-admin-password: description: | Retrieve the admin password for the Keystone service. rotate-admin-password: description: | Rotate the admin user's password. The current password is replaced with a randomly generated password. The new password is stored in the leader's admin_passwd bucket. rotate-service-user-password: description: | Rotate the specified service user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the service user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The name of the service as specified by the service user charm. e.g. 'cinder' for the cinder charm, 'glance' for the glance charm. list-service-usernames: description: | List the usernames of the services as known by keystone. This may differ from those expected due to either prefixes or a service providing multiple endpoints. The service username passed to 'rotate-service-user-password' needs to be one of this list. >>>>>>> CHANGE (2271a9 Add service user password rotation actions)",,507,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I93be367e22d8fe288b1de171d5f8f7e1fde8ae88,openstack/tripleo-ansible,stable/wallaby,I93be367e22d8fe288b1de171d5f8f7e1fde8ae88,Do not use image digest when the Ceph cluster is deployed,MERGED,2023-05-17 15:52:11.000000000,2023-05-19 19:45:57.000000000,2023-05-19 19:45:57.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-17 15:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afd8682648610f11282fbb60f0a372ee79b3c022', 'message': 'Do not use image digest when the Ceph cluster is deployed\n\nWe recently hit issues when cephadm applies the spec and tries\nto deploy OSDs on the CephStorage nodes.\nIn particular if a registry != than the undercloud is used,\ncephadm might have issues pulling the container images through\npodman by digests.\nThis patch ensures that ""use_repo_digest"" is set to ""false"" and\nthe default container image (identified by its tag) is passed\nas part of the config.\n\nChange-Id: I93be367e22d8fe288b1de171d5f8f7e1fde8ae88\n'}, {'number': 2, 'created': '2023-05-17 17:53:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d718469890d94e6db484776e32614166efda47c1', 'message': 'Do not use image digest when the Ceph cluster is deployed\n\nWe recently hit issues when cephadm applies the spec and tries\nto deploy OSDs on the CephStorage nodes.\nIn particular if a registry != than the undercloud is used,\ncephadm might have issues pulling the container images through\npodman by digests.\nThis patch ensures that ""use_repo_digest"" is set to ""false"" and\nthe default container image (identified by its tag) is passed\nas part of the config.\n\nChange-Id: I93be367e22d8fe288b1de171d5f8f7e1fde8ae88\n'}]",6,883413,d718469890d94e6db484776e32614166efda47c1,20,4,2,25402,,,0,"Do not use image digest when the Ceph cluster is deployed

We recently hit issues when cephadm applies the spec and tries
to deploy OSDs on the CephStorage nodes.
In particular if a registry != than the undercloud is used,
cephadm might have issues pulling the container images through
podman by digests.
This patch ensures that ""use_repo_digest"" is set to ""false"" and
the default container image (identified by its tag) is passed
as part of the config.

Change-Id: I93be367e22d8fe288b1de171d5f8f7e1fde8ae88
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/883413/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml']",2,afd8682648610f11282fbb60f0a372ee79b3c022,,,- name: set default container image in ceph configuration command: | {{ tripleo_cephadm_ceph_cli }} config set global container_image \ {{ tripleo_cephadm_container_ns }}/{{ tripleo_cephadm_container_image }}:{{ tripleo_cephadm_container_tag }} changed_when: false become: true when: - not (tripleo_cephadm_default_container | default(false) | bool) ,20,9
openstack%2Fcharm-keystone~stable%2Fzed~I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,openstack/charm-keystone,stable/zed,I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,Add service user password rotation actions,MERGED,2023-05-18 11:10:15.000000000,2023-05-19 19:44:17.000000000,2023-05-19 19:44:17.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 11:10:15.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d58ee596c690364ce2bcf4efd27ad0802a225fa4', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1053\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}]",2,883403,d58ee596c690364ce2bcf4efd27ad0802a225fa4,10,4,1,20870,,,0,"Add service user password rotation actions

This patch adds two actions:

 1. An action to list the service usernames that can be rotated.
 2. An action to rotate a service username that is on the list of
    usernames that can be rotated.

Change-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1053
(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/03/883403/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml']",7,d58ee596c690364ce2bcf4efd27ad0802a225fa4,feature/rotate-passwords-stable/zed,"rotate-service-user-password: description: | Rotate the specified service user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the service user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The name of the service as specified by the service user charm. e.g. 'cinder' for the cinder charm, 'glance' for the glance charm. list-service-usernames: description: | List the usernames of the services as known by keystone. This may differ from those expected due to either prefixes or a service providing multiple endpoints. The service username passed to 'rotate-service-user-password' needs to be one of this list.",,377,2
openstack%2Fansible-config_template~master~I748bc0d2e476148c38f8305f15fd6e573eb7d008,openstack/ansible-config_template,master,I748bc0d2e476148c38f8305f15fd6e573eb7d008,"Revert ""Publish openstack.config_template on galaxy""",MERGED,2023-05-01 21:39:05.000000000,2023-05-19 19:10:09.000000000,2023-05-19 19:08:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-01 21:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/6b2ef0883abf70b4e12ede11c206aa83984e5169', 'message': 'Revert ""Publish openstack.config_template on galaxy""\n\nThis reverts commit d90989ef87626fa9e87eb0e44de75e14e60be6b4.\n\nReason for revert: This job requires secret that can not be shared the way it is\noriginally supposed. So we should find other way around to publish collection to the galaxy.\n\nChange-Id: I748bc0d2e476148c38f8305f15fd6e573eb7d008\n'}, {'number': 2, 'created': '2023-05-19 10:10:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/c272bc341ac3965555b8f5a6ebb6237e447002ed', 'message': 'Revert ""Publish openstack.config_template on galaxy""\n\nThis reverts commit d90989ef87626fa9e87eb0e44de75e14e60be6b4.\n\nReason for revert: This job requires secret that can not be shared the way it is\noriginally supposed. So we should find other way around to publish collection to the galaxy.\n\nChange-Id: I748bc0d2e476148c38f8305f15fd6e573eb7d008\n'}]",0,881668,c272bc341ac3965555b8f5a6ebb6237e447002ed,10,5,2,28619,,,0,"Revert ""Publish openstack.config_template on galaxy""

This reverts commit d90989ef87626fa9e87eb0e44de75e14e60be6b4.

Reason for revert: This job requires secret that can not be shared the way it is
originally supposed. So we should find other way around to publish collection to the galaxy.

Change-Id: I748bc0d2e476148c38f8305f15fd6e573eb7d008
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/68/881668/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6b2ef0883abf70b4e12ede11c206aa83984e5169,,, tag: jobs: - ansible-collections-openstack-release,0,4
openstack%2Fironic~master~Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6,openstack/ironic,master,Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6,CI: Disable mysql counters for grenade,MERGED,2023-05-09 17:21:13.000000000,2023-05-19 19:07:00.000000000,2023-05-19 19:04:52.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 17:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2045632086a69bd71ffa0166c082d038bace00b4', 'message': 'DNM: Disable mysql counters for grenade\n\nChange-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6\n'}, {'number': 2, 'created': '2023-05-18 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05ebfea3199f9712642087b33435a1a4b5c9f412', 'message': 'DNM: Disable mysql counters for grenade\n\nChange-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6\n'}, {'number': 3, 'created': '2023-05-19 00:27:55.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b98dfafd848bc1f1bd31c073bcdd37606081045', 'message': 'CI: Disable mysql counters for grenade\n\nDisabling the performance counters as we suspect it is causing\ndatabase interaction to freeze on the grenade CI job.\n\nChange-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6\n'}]",2,882731,8b98dfafd848bc1f1bd31c073bcdd37606081045,24,2,3,11655,,,0,"CI: Disable mysql counters for grenade

Disabling the performance counters as we suspect it is causing
database interaction to freeze on the grenade CI job.

Change-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/882731/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,2045632086a69bd71ffa0166c082d038bace00b4,,," - ironic-tox-unit-with-driver-libs - ironic-cross-sushy: voting: false - ironic-tempest-functional-python3 # NOTE(rpittau) moving to non-voting until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 - ironic-tempest-functional-rbac-scope-enforced: voting: false - ironic-standalone - ironic-standalone-redfish - ironic-tempest-bios-redfish-pxe - ironic-tempest-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-partition-uefi-ipmi-pxe # NOTE(TheJulia) Marking multinode non-voting on 20210311 # Due to a high failure rate on limestone where the compute1 # machine never appears to be able to communicate across the # vxlan tunnel, possible mtu issue, but non-voting until we # understand it in mind for the upcoming release. - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 - metalsmith-integration-glance-centos8-legacy # Non-voting jobs - ironic-tox-bandit: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-uefi-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - ironic-tempest-ipxe-ipv6: voting: false - ironic-standalone-anaconda: voting: false - ironic-inspector-tempest-rbac-scope-enforced: voting: false - bifrost-integration-tinyipa-ubuntu-focal: voting: false - bifrost-integration-redfish-vmedia-uefi-centos-9: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false - bifrost-benchmark-ironic: voting: false - metal3-integration: voting: false",1,52
openstack%2Fcharm-cinder-ceph~master~I177aa30a86fa26d8bf9d4b2c543637c1c42124be,openstack/charm-cinder-ceph,master,I177aa30a86fa26d8bf9d4b2c543637c1c42124be,Apply README template,MERGED,2022-09-14 00:16:21.000000000,2023-05-19 18:54:54.000000000,2023-05-19 18:54:54.000000000,"[{'_account_id': 2424}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-14 00:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/7256c8da8d0263f8d951a125c75781b03ee56c27', 'message': 'Review README\n\nReview README.\n\nApply README template.\n\nChange-Id: I177aa30a86fa26d8bf9d4b2c543637c1c42124be\n'}, {'number': 2, 'created': '2022-09-15 21:13:08.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/eeb4c91c9f45e2ed2330a3d48e84b388f1a470d7', 'message': 'Apply README template\n\nChange-Id: I177aa30a86fa26d8bf9d4b2c543637c1c42124be\n'}]",9,857527,eeb4c91c9f45e2ed2330a3d48e84b388f1a470d7,25,4,2,30561,,,0,"Apply README template

Change-Id: I177aa30a86fa26d8bf9d4b2c543637c1c42124be
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/27/857527/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,7256c8da8d0263f8d951a125c75781b03ee56c27,improve-readme,"To display all configuration option information run `juju config <application>`. If the application is not deployed then see the charm's [Configure tab][cinder-ceph-configure] in the Charmhub. Finally, the [Juju documentation][juju-docs-config-apps] provides general guidance on configuring applications.The cinder-ceph application requires the cinder application and a Ceph cluster to be present. First configure Cinder to not use a local block device. Then deploy cinder-ceph, and add a relation to both the cinder and ceph-mon applications: juju config cinder block-device=None* [OpenStack Charm Guide][cg]: the primary source of information for OpenStack charms * [OpenStack Charms Deployment Guide][cdg]: a step-by-step guide for deploying OpenStack with charmsPlease report bugs on [Launchpad][cinder-ceph-filebug].[cinder-charm]: https://charmhub.io/cinder [ceph-mon-charm]: https://charmhub.io/ceph-mon [ceph-proxy-charm]: https://charmhub.io/ceph-proxy [cinder-purestorage-charm]: https://charmhub.io/cinder-purestorage [juju-docs-config-apps]: https://juju.is/docs/olm/configure-an-application [cinder-ceph-configure]: https://charmhub.io/cinder-ceph/configure [cinder-ceph-filebug]: https://bugs.launchpad.net/charm-cinder-ceph/+filebug","This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `pool-type` The `pool-type` option dictates the storage pool type. See section 'Ceph pool type' for more information. #### `rbd-pool-name` The `rbd-pool-name` option sets an existing rbd pool that Cinder should map to.These instructions will show how to deploy Cinder and connect it to an existing Juju-managed Ceph cluster. Let file `cinder.yaml` contain the following: cinder: block-device: None Deploy Cinder and add relations to essential OpenStack components: juju deploy --config cinder.yaml cinder juju add-relation cinder:cinder-volume-service nova-cloud-controller:cinder-volume-service juju add-relation cinder:shared-db mysql:shared-db juju add-relation cinder:identity-service keystone:identity-service juju add-relation cinder:amqp rabbitmq-server:amqp Now deploy cinder-ceph and add a relation to both the cinder and ceph-mon applications: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage informationPlease report bugs on [Launchpad][lp-bugs-charm-cinder-ceph].[cinder-charm]: https://jaas.ai/cinder [ceph-mon-charm]: https://jaas.ai/ceph-mon [ceph-proxy-charm]: https://jaas.ai/ceph-proxy [cinder-purestorage-charm]: https://jaas.ai/cinder-purestorage [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [lp-bugs-charm-cinder-ceph]: https://bugs.launchpad.net/charm-cinder-ceph/+filebug",22,44
openstack%2Fironic~stable%2Fxena~I5a9536f24103032059f25f9f69fda354e9e38187,openstack/ironic,stable/xena,I5a9536f24103032059f25f9f69fda354e9e38187,Make rbac enforced test non-voting for the time being,ABANDONED,2023-05-19 18:11:30.000000000,2023-05-19 18:45:46.000000000,,[{'_account_id': 11655}],"[{'number': 1, 'created': '2023-05-19 18:11:30.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ff24fa7651f271c2556009925885846bfdf69f8', 'message': 'Make rbac enforced test non-voting for the time being\n\nWe need to fix the tests first, so this needs to pass\nhttps://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312\n\nChange-Id: I5a9536f24103032059f25f9f69fda354e9e38187\n(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)\n'}]",0,883587,7ff24fa7651f271c2556009925885846bfdf69f8,5,1,1,10342,,,0,"Make rbac enforced test non-voting for the time being

We need to fix the tests first, so this needs to pass
https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312

Change-Id: I5a9536f24103032059f25f9f69fda354e9e38187
(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/883587/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7ff24fa7651f271c2556009925885846bfdf69f8,rbac-temp-non-voting-stable/2023.1-stable/zed-stable/yoga-stable/xena, # NOTE(rpittau) moving to non-voting until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 - ironic-tempest-functional-rbac-scope-enforced: voting: false # NOTE(rpittau) disabled until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 #- ironic-tempest-functional-rbac-scope-enforced, - ironic-tempest-functional-rbac-scope-enforced - ironic-tempest-functional-rbac-scope-enforced,7,2
openstack%2Fironic~stable%2Fyoga~I5a9536f24103032059f25f9f69fda354e9e38187,openstack/ironic,stable/yoga,I5a9536f24103032059f25f9f69fda354e9e38187,Make rbac enforced test non-voting for the time being,ABANDONED,2023-05-19 18:11:01.000000000,2023-05-19 18:45:45.000000000,,[{'_account_id': 11655}],"[{'number': 1, 'created': '2023-05-19 18:11:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ca2ba9fa89d3bcb2a6f04ebd8cf6af0562a3e90', 'message': 'Make rbac enforced test non-voting for the time being\n\nWe need to fix the tests first, so this needs to pass\nhttps://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312\n\nChange-Id: I5a9536f24103032059f25f9f69fda354e9e38187\n(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)\n'}]",0,883586,7ca2ba9fa89d3bcb2a6f04ebd8cf6af0562a3e90,4,1,1,10342,,,0,"Make rbac enforced test non-voting for the time being

We need to fix the tests first, so this needs to pass
https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312

Change-Id: I5a9536f24103032059f25f9f69fda354e9e38187
(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/883586/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7ca2ba9fa89d3bcb2a6f04ebd8cf6af0562a3e90,rbac-temp-non-voting-stable/2023.1-stable/zed-stable/yoga, # NOTE(rpittau) moving to non-voting until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 - ironic-tempest-functional-rbac-scope-enforced: voting: false # NOTE(rpittau) disabled until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 #- ironic-tempest-functional-rbac-scope-enforced, - ironic-tempest-functional-rbac-scope-enforced - ironic-tempest-functional-rbac-scope-enforced,7,2
openstack%2Fironic~stable%2Fzed~I5a9536f24103032059f25f9f69fda354e9e38187,openstack/ironic,stable/zed,I5a9536f24103032059f25f9f69fda354e9e38187,Make rbac enforced test non-voting for the time being,ABANDONED,2023-05-19 18:09:34.000000000,2023-05-19 18:45:40.000000000,,[{'_account_id': 11655}],"[{'number': 1, 'created': '2023-05-19 18:09:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c50201772d5732f438bbd592ee69c31ca6e1f7d', 'message': 'Make rbac enforced test non-voting for the time being\n\nWe need to fix the tests first, so this needs to pass\nhttps://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312\n\nChange-Id: I5a9536f24103032059f25f9f69fda354e9e38187\n(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)\n'}]",0,883585,5c50201772d5732f438bbd592ee69c31ca6e1f7d,4,1,1,10342,,,0,"Make rbac enforced test non-voting for the time being

We need to fix the tests first, so this needs to pass
https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312

Change-Id: I5a9536f24103032059f25f9f69fda354e9e38187
(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/883585/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5c50201772d5732f438bbd592ee69c31ca6e1f7d,rbac-temp-non-voting-stable/2023.1-stable/zed, # NOTE(rpittau) moving to non-voting until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 - ironic-tempest-functional-rbac-scope-enforced: voting: false # NOTE(rpittau) disabled until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 #- ironic-tempest-functional-rbac-scope-enforced, - ironic-tempest-functional-rbac-scope-enforced - ironic-tempest-functional-rbac-scope-enforced,7,2
openstack%2Fironic~stable%2F2023.1~I5a9536f24103032059f25f9f69fda354e9e38187,openstack/ironic,stable/2023.1,I5a9536f24103032059f25f9f69fda354e9e38187,Make rbac enforced test non-voting for the time being,ABANDONED,2023-05-19 18:09:18.000000000,2023-05-19 18:45:35.000000000,,[{'_account_id': 11655}],"[{'number': 1, 'created': '2023-05-19 18:09:18.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/effeb4db5ff5a541740d3907edfd8954382153a2', 'message': 'Make rbac enforced test non-voting for the time being\n\nWe need to fix the tests first, so this needs to pass\nhttps://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312\n\nChange-Id: I5a9536f24103032059f25f9f69fda354e9e38187\n(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)\n'}]",0,883584,effeb4db5ff5a541740d3907edfd8954382153a2,4,1,1,10342,,,0,"Make rbac enforced test non-voting for the time being

We need to fix the tests first, so this needs to pass
https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312

Change-Id: I5a9536f24103032059f25f9f69fda354e9e38187
(cherry picked from commit cae05c70e65c69530a243b7d8046e53d1aaba452)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/883584/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,effeb4db5ff5a541740d3907edfd8954382153a2,rbac-temp-non-voting-stable/2023.1, # NOTE(rpittau) moving to non-voting until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 - ironic-tempest-functional-rbac-scope-enforced: voting: false # NOTE(rpittau) disabled until we fix the tests # see also https://review.opendev.org/c/openstack/ironic-tempest-plugin/+/882312 #- ironic-tempest-functional-rbac-scope-enforced, - ironic-tempest-functional-rbac-scope-enforced - ironic-tempest-functional-rbac-scope-enforced,7,2
openstack%2Frally~master~Id843607e7a416e15f24b820979564193f8e9ab2b,openstack/rally,master,Id843607e7a416e15f24b820979564193f8e9ab2b,Replace deprecated inspect.getargspec,MERGED,2021-07-15 11:55:49.000000000,2023-05-19 18:41:57.000000000,2023-05-19 18:41:57.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 11:55:49.000000000', 'files': ['doc/ext/cli_reference.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/ab23f27e855be0625299e680fd2c66105eed0ffa', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: Id843607e7a416e15f24b820979564193f8e9ab2b\n'}]",1,800928,ab23f27e855be0625299e680fd2c66105eed0ffa,8,2,1,9816,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Id843607e7a416e15f24b820979564193f8e9ab2b
",git fetch https://review.opendev.org/openstack/rally refs/changes/28/800928/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/cli_reference.py'],1,ab23f27e855be0625299e680fd2c66105eed0ffa,getargspec, spec = inspect.getfullargspec(func), spec = inspect.getargspec(func),1,1
openstack%2Frally~master~I861996a8e6663d2a11ed7f1b3a23b7ebe0747eb2,openstack/rally,master,I861996a8e6663d2a11ed7f1b3a23b7ebe0747eb2,Remove python-dev from bindep and tox4 fixes,ABANDONED,2022-11-07 10:04:47.000000000,2023-05-19 18:33:37.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 10:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/91c859dd011e28ae9e3bb16f3e2b0f83a473557c', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: I861996a8e6663d2a11ed7f1b3a23b7ebe0747eb2\n""}, {'number': 2, 'created': '2023-01-27 15:29:07.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/4ef069b782204595376c67f0ff494dc146727cf2', 'message': ""Remove python-dev from bindep and tox4 fixes\n\nIt is no longer supported by jammy and lead us to the\nfollowing errors with the announce-release and docs\njobs.\n\n```\nNo package matching 'python-dev' is available\n```\n\nAlso Update tox.ini to be tox4 compatible.\n\nChange-Id: I861996a8e6663d2a11ed7f1b3a23b7ebe0747eb2\n""}]",4,863844,4ef069b782204595376c67f0ff494dc146727cf2,10,2,2,28522,,,0,"Remove python-dev from bindep and tox4 fixes

It is no longer supported by jammy and lead us to the
following errors with the announce-release and docs
jobs.

```
No package matching 'python-dev' is available
```

Also Update tox.ini to be tox4 compatible.

Change-Id: I861996a8e6663d2a11ed7f1b3a23b7ebe0747eb2
",git fetch https://review.opendev.org/openstack/rally refs/changes/44/863844/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,91c859dd011e28ae9e3bb16f3e2b0f83a473557c,drop-python-dev-from-bindep,,python-dev [platform:dpkg],0,1
openstack%2Frally~master~Id9fb80cfdfb9518947b6dd16421a45741e23b581,openstack/rally,master,Id9fb80cfdfb9518947b6dd16421a45741e23b581,Fix cover tox job and functional-py38 zuul job,ABANDONED,2022-12-21 19:08:36.000000000,2023-05-19 18:33:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 19:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5939bf07234461b11d1b0f6125dce9fbc17342e5', 'message': 'Fix cover tox job\n\nChange-Id: Id9fb80cfdfb9518947b6dd16421a45741e23b581\n'}, {'number': 2, 'created': '2022-12-21 19:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/41dad0f12c951f1f3a04a4c245e36559ca955f45', 'message': 'Fix cover tox job and functional-py38 zuul job\n\nChange-Id: Id9fb80cfdfb9518947b6dd16421a45741e23b581\n'}, {'number': 3, 'created': '2022-12-21 19:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3aee837f44904da59e6e26fc8108fcc2ba657a9a', 'message': 'Fix cover tox job and functional-py38 zuul job\n\nChange-Id: Id9fb80cfdfb9518947b6dd16421a45741e23b581\n'}, {'number': 4, 'created': '2022-12-21 20:05:15.000000000', 'files': ['etc/rally/rally.conf.sample', '.zuul.d/zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/d8ceba78f6986fd32b2a80bea7813de0fc64a5c5', 'message': 'Fix cover tox job and functional-py38 zuul job\n\nChange-Id: Id9fb80cfdfb9518947b6dd16421a45741e23b581\n'}]",1,868366,d8ceba78f6986fd32b2a80bea7813de0fc64a5c5,8,1,4,9545,,,0,"Fix cover tox job and functional-py38 zuul job

Change-Id: Id9fb80cfdfb9518947b6dd16421a45741e23b581
",git fetch https://review.opendev.org/openstack/rally refs/changes/66/868366/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/zuul.yaml', '.coveragerc', 'tox.ini']",3,5939bf07234461b11d1b0f6125dce9fbc17342e5,fix-cover, ignore:The --rsyncdir command line argument and rsyncdirs config variable are deprecated.:DeprecationWarning:,,4,13
openstack%2Fironic~master~I774c459a5e11b7cd01f7a65754d5a2c7cc573476,openstack/ironic,master,I774c459a5e11b7cd01f7a65754d5a2c7cc573476,[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode,MERGED,2023-04-24 10:52:21.000000000,2023-05-19 17:43:21.000000000,2023-05-19 17:42:09.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 10:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c936d4b7bbe5a6eee78642bec4cbaefa66d286f9', 'message': ""[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes bug in parse_driver_info of iRMC driver where\nSNMP version is required to be version 3 when FIPS is enabled\neven though all xxx_interface of iRMC driver don't use SNMP\ninternally.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n""}, {'number': 2, 'created': '2023-04-25 09:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7efabac14044e753134f6bd73627ef371277d19', 'message': ""[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes bug in parse_driver_info of iRMC driver where\nSNMP version is required to be version 3 when FIPS is enabled\neven though all xxx_interface of iRMC driver don't use SNMP\ninternally.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nStory: 2010713\nTask: 47879\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n""}, {'number': 3, 'created': '2023-04-26 10:41:52.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f09bdcf952621b75e7a0dfc9e001542b2bcc94f', 'message': '[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes a condition where iRMC driver interfaces would have\nthe FIPS enforcement logic check applied if the SNMP version was not\nset to SNMP v3, even if the interfaces did not use SNMP.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nStory: 2010713\nTask: 47879\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n'}]",12,881358,3f09bdcf952621b75e7a0dfc9e001542b2bcc94f,51,3,3,30566,,,0,"[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode

This patch fixes a condition where iRMC driver interfaces would have
the FIPS enforcement logic check applied if the SNMP version was not
set to SNMP v3, even if the interfaces did not use SNMP.

With this patch, if FIPS enabled, iRMC driver enforces SNMP
version to be version 3 only when any xxx_interface of iRMC
driver actually uses SNMP.

Story: 2010713
Task: 47879
Change-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/881358/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml']",3,c936d4b7bbe5a6eee78642bec4cbaefa66d286f9,fix_always_check_snmp_bug,"--- fixes: - | Fixes bug of iRMC driver in parse_driver_info where, if FIPS is enabled, SNMP version is always required to be version 3 even though iRMC driver's xxx_interface doesn't use SNMP actually. ",,60,0
openstack%2Fansible-role-python_venv_build~master~I3699a7b8ae858463cdd84b11072557049e798309,openstack/ansible-role-python_venv_build,master,I3699a7b8ae858463cdd84b11072557049e798309,setup.cfg: Replace dashes with underscores,MERGED,2023-05-05 01:13:14.000000000,2023-05-19 17:36:15.000000000,2023-05-19 17:35:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-05 01:13:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5e0c8b19abdac26d97cbd84a3adb709a2320d685', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I3699a7b8ae858463cdd84b11072557049e798309\n""}]",1,882253,5e0c8b19abdac26d97cbd84a3adb709a2320d685,8,3,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I3699a7b8ae858463cdd84b11072557049e798309
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/53/882253/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5e0c8b19abdac26d97cbd84a3adb709a2320d685,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ansible-role-python_venv_build/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ansible-role-python_venv_build/latest/,3,3
openstack%2Fnova~master~I1de03b41f11eabf48130c55ec89935025e124955,openstack/nova,master,I1de03b41f11eabf48130c55ec89935025e124955,DNM: Look for disabled node claims,ABANDONED,2023-04-05 21:29:39.000000000,2023-05-19 17:25:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-05 21:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ad805e9efae9b355514f42b3099de006846e758', 'message': 'DNM testing grenade object versions\n\nChange-Id: I1de03b41f11eabf48130c55ec89935025e124955\n'}, {'number': 2, 'created': '2023-04-05 21:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b3a247da9a7c1c11bdb9ad1f211fc627e8667d0', 'message': 'DNM testing grenade object versions\n\nChange-Id: I1de03b41f11eabf48130c55ec89935025e124955\n'}, {'number': 3, 'created': '2023-04-05 21:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe204b82d74d6c778426e1f84dc98f51ec6d125d', 'message': 'DNM testing grenade object versions\n\nChange-Id: I1de03b41f11eabf48130c55ec89935025e124955\n'}, {'number': 4, 'created': '2023-04-05 21:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbf3c7c1a047580f865b7d228cb2b401218e89af', 'message': 'DNM testing grenade object versions\n\nChange-Id: I1de03b41f11eabf48130c55ec89935025e124955\n'}, {'number': 5, 'created': '2023-04-12 17:26:30.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd693f1204ec2629b4e4480a51ee565727b90d5', 'message': 'DNM: Look for disabled node claims\n\nChange-Id: I1de03b41f11eabf48130c55ec89935025e124955\n'}]",3,879687,9fd693f1204ec2629b4e4480a51ee565727b90d5,24,1,5,4393,,,0,"DNM: Look for disabled node claims

Change-Id: I1de03b41f11eabf48130c55ec89935025e124955
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/879687/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'nova/objects/instance.py']",2,0ad805e9efae9b355514f42b3099de006846e758,bp/compute-object-ids," LOG.debug('Creating instance version %s with %s' % ( self.VERSION, updates))",,2,136
openstack%2Fbarbican-tempest-plugin~master~I91874ec6001d82104630b4f33883b5af9d2ac09f,openstack/barbican-tempest-plugin,master,I91874ec6001d82104630b4f33883b5af9d2ac09f,Migrate back to Launchpad,MERGED,2023-05-09 11:55:54.000000000,2023-05-19 17:18:50.000000000,2023-05-19 17:18:50.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 11:55:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/42300cd1e56459fcbab6d98f74c9d5dd0442fe5c', 'message': 'Migrate back to Launchpad\n\nChange-Id: I91874ec6001d82104630b4f33883b5af9d2ac09f\n'}]",0,882703,42300cd1e56459fcbab6d98f74c9d5dd0442fe5c,7,2,1,14250,,,0,"Migrate back to Launchpad

Change-Id: I91874ec6001d82104630b4f33883b5af9d2ac09f
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/03/882703/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,42300cd1e56459fcbab6d98f74c9d5dd0442fe5c,barbican-launchpad,Please report bugs to: http://bugs.launchpad.net/barbican,Please report bugs to: https://storyboard.openstack.org/#!/project/openstack/barbican-tempest-plugin,1,1
openstack%2Fcharm-keystone~stable%2Fyoga~I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,openstack/charm-keystone,stable/yoga,I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e,Add service user password rotation actions,MERGED,2023-05-18 13:21:40.000000000,2023-05-19 17:15:13.000000000,2023-05-19 17:15:13.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:21:40.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/be3be07bfcdf5c956944c481a1495c84fc76af69', 'message': 'Add service user password rotation actions\n\nThis patch adds two actions:\n\n 1. An action to list the service usernames that can be rotated.\n 2. An action to rotate a service username that is on the list of\n    usernames that can be rotated.\n\nChange-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1054\n(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)\n'}]",1,883406,be3be07bfcdf5c956944c481a1495c84fc76af69,8,4,1,20870,,,0,"Add service user password rotation actions

This patch adds two actions:

 1. An action to list the service usernames that can be rotated.
 2. An action to rotate a service username that is on the list of
    usernames that can be rotated.

Change-Id: I3a8a6af7ec8b0ea32da04eff34fafd32f43cee0e
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1054
(cherry picked from commit 2271a961b7bfadd000093b86ca34b93f730e1eeb)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/06/883406/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'actions/rotate_service_user_password.py', 'actions/list-service-usernames', 'hooks/keystone_utils.py', 'actions/rotate-service-user-password', 'README.md', 'actions.yaml']",7,be3be07bfcdf5c956944c481a1495c84fc76af69,feature/rotate-passwords-stable/yoga,"rotate-service-user-password: description: | Rotate the specified service user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the service user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The name of the service as specified by the service user charm. e.g. 'cinder' for the cinder charm, 'glance' for the glance charm. list-service-usernames: description: | List the usernames of the services as known by keystone. This may differ from those expected due to either prefixes or a service providing multiple endpoints. The service username passed to 'rotate-service-user-password' needs to be one of this list.",,377,2
openstack%2Fnova~master~Ie267574fb6a824ef2788b2010c9b55b5420a5e38,openstack/nova,master,Ie267574fb6a824ef2788b2010c9b55b5420a5e38,Preserve cached base images for failed resize ops,NEW,2023-03-14 16:44:26.000000000,2023-05-19 17:13:16.000000000,,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-14 16:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cd98d969fd121843e6e7cf726487379937be021', 'message': ""Don't remove cached base images for failed resize ops\n\nLibvirt imagecache is designed to support scenarios when Glance\nimage is no longer available, but cached base image is still used\nby an instance.\n\nAt the same time some failed resize operations could cause a\nsituation when Nova believes that instance is already hosted on\ndestination compute, while it doesn't. In such case imagecache\non source compute will remove base image after\nremove_unused_original_minimum_age_seconds (1 day by default).\n\nThis patch introduces extra check for ImageCacheManager, so\nbase images related to failed resize operations will not be removed\nand WARNING message will be logged.\n\nProposed solution has its limitations. For example, cached base image\nwill be removed after old migration records are cleaned from DB. But\nit will give user a chance to address potential problems and avoid\nserious consequences.\n\nCloses-bug: #1686703\nChange-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38\n""}, {'number': 2, 'created': '2023-03-15 17:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f0de5f2895b42f188ead19ead6a3a0f4d496cee', 'message': ""Preserve cached base images for failed resize ops\n\nLibvirt imagecache is designed to support scenarios when Glance\nimage is no longer available, but cached base image is still used\nby an instance.\n\nAt the same time some failed resize operations could cause a\nsituation when Nova believes that instance is already hosted on\ndestination compute, while it doesn't. In such case imagecache\non source compute will remove base image after\nremove_unused_original_minimum_age_seconds (1 day by default).\n\nThis patch introduces extra check for ImageCacheManager, so\nbase images related to failed resize operations will not be removed\nand WARNING message will be logged.\n\nProposed solution has its limitations. For example, cached base image\nwill be removed after old migration records are cleaned from DB. But\nit will give user a chance to address potential problems and avoid\nserious consequences.\n\nCloses-bug: #1686703\nChange-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38\n""}, {'number': 3, 'created': '2023-03-15 22:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d5494b27cb9b57be2d9088d1b006954e743daef', 'message': ""Preserve cached base images for failed resize ops\n\nLibvirt imagecache is designed to support scenarios when Glance\nimage is no longer available, but cached base image is still used\nby an instance.\n\nAt the same time some failed resize operations could cause a\nsituation when Nova believes that instance is already hosted on\ndestination compute, while it isn't. In such case imagecache\non source compute will remove base image after\nremove_unused_original_minimum_age_seconds (1 day by default).\n\nThis patch introduces extra check for ImageCacheManager, so\nbase images related to failed resize operations will not be removed\nand WARNING message will be logged.\n\nProposed solution has its limitations. For example, affected cached\nbase image will be removed after old migration records are cleaned\nfrom DB. But it will give user a chance to address potential problems\nand avoid serious consequences.\n\nCloses-bug: #1686703\nChange-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38\n""}, {'number': 4, 'created': '2023-03-15 22:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45e6483ed22d1fbdef92d6a714dfa3e664f9b7a3', 'message': ""Preserve cached base images for failed resize ops\n\nLibvirt imagecache is designed to support scenarios when Glance\nimage is no longer available, but cached base image is still used\nby an instance.\n\nAt the same time some failed resize operations could cause a\nsituation when Nova believes that instance is already hosted on\ndestination compute, while it isn't. In such case imagecache\non source compute will remove base image after\nremove_unused_original_minimum_age_seconds (1 day by default).\n\nThis patch introduces extra check for ImageCacheManager, so\nbase images related to failed resize operations will not be removed\nand WARNING message will be logged.\n\nProposed solution has its limitations. For example, affected cached\nbase image will be removed after old migration records are cleaned\nfrom DB. But it will give user a chance to address potential problems\nand avoid serious consequences.\n\nCloses-bug: #1686703\nChange-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38\n""}, {'number': 5, 'created': '2023-03-16 08:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcc3ed3d3a5c1b4e3c07bce5750c71a488ba6e36', 'message': ""Preserve cached base images for failed resize ops\n\nLibvirt imagecache is designed to support scenarios when Glance\nimage is no longer available, but cached base image is still used\nby an instance.\n\nAt the same time some failed resize operations could cause a\nsituation when Nova believes that instance is already hosted on\ndestination compute, while it isn't. In such case imagecache\non source compute will remove base image after\nremove_unused_original_minimum_age_seconds (1 day by default).\n\nThis patch introduces extra check for ImageCacheManager, so\nbase images related to failed resize operations will not be removed\nand WARNING message will be logged.\n\nProposed solution has its limitations. For example, affected cached\nbase image will be removed after old migration records are cleaned\nfrom DB. But it will give user a chance to address potential problems\nand avoid serious consequences.\n\nCloses-bug: #1686703\nChange-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38\n""}, {'number': 6, 'created': '2023-04-28 15:59:29.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d754fd0d5bd4adc2a2908a6c356a56daebc514f9', 'message': ""Preserve cached base images for failed resize ops\n\nLibvirt imagecache is designed to support scenarios when Glance\nimage is no longer available, but cached base image is still used\nby an instance.\n\nAt the same time some failed resize operations could cause a\nsituation when Nova believes that instance is already hosted on\ndestination compute, while it isn't. In such case imagecache\non source compute will remove base image after\nremove_unused_original_minimum_age_seconds (1 day by default).\n\nThis patch introduces extra check for ImageCacheManager, so\nbase images related to failed resize operations will not be removed\nand WARNING message will be logged.\n\nProposed solution has its limitations. For example, affected cached\nbase image will be removed after old migration records are cleaned\nfrom DB. But it will give user a chance to address potential problems\nand avoid serious consequences.\n\nCloses-bug: #1686703\nChange-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38\n""}]",12,877410,d754fd0d5bd4adc2a2908a6c356a56daebc514f9,31,7,6,19234,,,0,"Preserve cached base images for failed resize ops

Libvirt imagecache is designed to support scenarios when Glance
image is no longer available, but cached base image is still used
by an instance.

At the same time some failed resize operations could cause a
situation when Nova believes that instance is already hosted on
destination compute, while it isn't. In such case imagecache
on source compute will remove base image after
remove_unused_original_minimum_age_seconds (1 day by default).

This patch introduces extra check for ImageCacheManager, so
base images related to failed resize operations will not be removed
and WARNING message will be logged.

Proposed solution has its limitations. For example, affected cached
base image will be removed after old migration records are cleaned
from DB. But it will give user a chance to address potential problems
and avoid serious consequences.

Closes-bug: #1686703
Change-Id: Ie267574fb6a824ef2788b2010c9b55b5420a5e38
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/877410/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/imagecache.py'],1,9cd98d969fd121843e6e7cf726487379937be021,bug/1686703,"from nova.compute import vm_statesfrom nova import objects from nova.objects import fields # Remove cached images associated with failed resize operation # from unexplained_images for img in self.resize_failed_images: fingerprint = hashlib.sha1( encodeutils.safe_encode(img)).hexdigest() for base_file in self._find_base_file(base_dir, fingerprint): if base_file in self.unexplained_images: self.unexplained_images.remove(base_file) LOG.warning(f'{img} base image was used by instances ' f'{self.resize_failed_images[img][2]} before ' f'failed resize operation(s). Affected instance(s) ' f'are no longer running at this host. This ' f'situation could potentially cause loss of data ' f'if base image was already deleted from Glance. ' f'Please investigate and recover affected instances.') def _find_problematic_images(self, context): """"""Find potentially problematic images that exist in local image cache, don't fall under standard categories and should not be removed. At this point this method returns only a list of images associated with instances in ERROR state which have failed resize operations. Disctionary is returned, so it shouldn't be hard to introduce additional groups of problematic images. """""" resize_failed_images = {} # Obtain list of failed resize operations where local host is # a source host. filters = { 'source_compute': CONF.host, 'status': 'error', 'migration_type': fields.MigrationType.RESIZE } failed_resize_calls = objects.MigrationList.get_by_filters( context, filters) if failed_resize_calls: # Create list of instance UUIDs affected by failed # resize operations failed_resize_instance_uuids = [] for mig in failed_resize_calls: failed_resize_instance_uuids.append(mig.instance_uuid) # Get instances in ERROR state that have associated failed # resize operations filters = { 'vm_state': vm_states.ERROR, 'uuid': failed_resize_instance_uuids } resize_failed_inst = objects.InstanceList.get_by_filters( context, filters) # Get list of images backing affected instances for instance in resize_failed_inst: image_ref_str = getattr(instance, 'image_ref') if image_ref_str is None: continue local, remote, insts = resize_failed_images.get( image_ref_str, (0, 0, [])) local += 1 insts.append(instance.uuid) resize_failed_images[image_ref_str] = (local, remote, insts) return {'resize_failed': resize_failed_images} # find problematic images problematic_images = self._find_problematic_images(context) self.resize_failed_images = problematic_images['resize_failed']",,72,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I1c3178e5694b08ace9364f6da397837049ca2d49,openstack/openstack-ansible-lxc_container_create,master,I1c3178e5694b08ace9364f6da397837049ca2d49,Properly render sysctl-container,MERGED,2023-05-19 09:38:36.000000000,2023-05-19 16:38:15.000000000,2023-05-19 16:37:21.000000000,"[{'_account_id': 22348}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-19 09:38:36.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d2a3a22a58d1539eb466824a3a301fb78470cd2c', 'message': 'Properly render sysctl-container\n\nInside jinja block variables should not be inside start/end block.\nThis used to work due to the workaround placed in config_template\nthat was removed within [1]. So we fix our usage of jinja to make\nvariable resolved properly.\n\n[1] https://review.opendev.org/c/openstack/ansible-config_template/+/881887\n\nChange-Id: I1c3178e5694b08ace9364f6da397837049ca2d49\n'}]",0,883649,d2a3a22a58d1539eb466824a3a301fb78470cd2c,8,3,1,28619,,,0,"Properly render sysctl-container

Inside jinja block variables should not be inside start/end block.
This used to work due to the workaround placed in config_template
that was removed within [1]. So we fix our usage of jinja to make
variable resolved properly.

[1] https://review.opendev.org/c/openstack/ansible-config_template/+/881887

Change-Id: I1c3178e5694b08ace9364f6da397837049ca2d49
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/49/883649/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,d2a3a22a58d1539eb466824a3a301fb78470cd2c,," 'execstarts': sysctl_path ~ '/sysctl -p',"," 'execstarts': '{{ sysctl_path }}/sysctl -p',",1,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I4889600be9f31532ac30d944bde28a64cff5ed26,openstack/puppet-tripleo,stable/train,I4889600be9f31532ac30d944bde28a64cff5ed26,Fix regression of Nova dhcp_domain handling,MERGED,2023-04-24 10:55:47.000000000,2023-05-19 16:24:42.000000000,2023-05-19 16:24:42.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-04-24 10:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a5dffe231c71e9b12e26225a78a4bfc80d65690e', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2023-04-24 10:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cce8bc28321a85a23d39b2a85172852c42a8857b', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit a5dffe231c71e9b12e26225a78a4bfc80d65690e)\n'}, {'number': 3, 'created': '2023-04-24 10:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bf04a2de54f5028a2694756e5e75cc781da323c6', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit a5dffe231c71e9b12e26225a78a4bfc80d65690e)\n'}, {'number': 4, 'created': '2023-04-24 11:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ed788f7d9dad473e47675f2d355704b1f51c2d4b', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit d45e00772c91b91b94aab712cf0a7ff3d6ec3ac0)\n'}, {'number': 5, 'created': '2023-04-25 15:32:42.000000000', 'files': ['manifests/profile/base/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e60b46efd7562b8626a5b61940dfa60cd1cecbf2', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 0d5139ee56888611c769792230d184efc31b118b)\n'}]",3,881360,e60b46efd7562b8626a5b61940dfa60cd1cecbf2,17,6,5,6926,,,0,"Fix regression of Nova dhcp_domain handling

As of https://review.opendev.org/774415
nova::metadata::dhcp_domain values in custom hiera
overrides stopped working for users.

As a result, during updates/upgrades, that might alter
existing hostnames for Nova compute nodes.

Fix regression by honoring legacy nova::metadata::dhcp_domain
alongside nova::dhcp_domain values.

Change-Id: I4889600be9f31532ac30d944bde28a64cff5ed26
Related: rhbz#2181566
Co-authored-by: Takashi Kajinami <tkajinam@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 0d5139ee56888611c769792230d184efc31b118b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/60/881360/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova.pp'],1,a5dffe231c71e9b12e26225a78a4bfc80d65690e,," dhcp_domain => hiera('nova::metadata::dhcp_domain', hiera('nova::dhcp_domain', '')),",,1,0
openstack%2Fnova~master~I1ee826ced89f7947225fe678c0d416be8f111092,openstack/nova,master,I1ee826ced89f7947225fe678c0d416be8f111092,Fix live migrating to a host with cpu_shared_set configured will now update the VM's configuration accordingly.,NEW,2023-03-17 09:32:34.000000000,2023-05-19 16:21:45.000000000,,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 26286}, {'_account_id': 26458}]","[{'number': 1, 'created': '2023-03-17 09:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9a946d6d151d486e1eae722f014d669baab6bd5', 'message': 'Fix for bug 1869804.\n\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}, {'number': 2, 'created': '2023-03-17 16:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be327b548e83b5efe3a8ddb1534aab7d0e81f6ae', 'message': 'Fix for bug 1869804.\n\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}, {'number': 3, 'created': '2023-03-20 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fac85b4bde9767a308ee7f9ba6861ee05ab9ac9a', 'message': 'Fix for bug 1869804.\n\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}, {'number': 4, 'created': '2023-03-22 15:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08679e011326964bef2d818acebc91a504e328d2', 'message': 'Fix live migrating to a host with cpu_shared_set configured will now\nupdate the VM\'s configuration accordingly.\n\nExample: live migrating a VM from source host with cpu_shared_set=0,1 to\ndestination host with cpu_shared_set=2,3 will now update the VM configuration.\n(<vcpu cpuset=""0-1""> will be updated to <vcpu cpuset=""2-3"">).\n\nRelated-Bug: #1869804\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}, {'number': 5, 'created': '2023-03-22 18:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27529b215717fa058c201354c915bbb2c3ad1bcf', 'message': 'Fix live migrating to a host with cpu_shared_set configured will now\nupdate the VM\'s configuration accordingly.\n\nExample: live migrating a VM from source host with cpu_shared_set=0,1 to\ndestination host with cpu_shared_set=2,3 will now update the VM configuration.\n(<vcpu cpuset=""0-1""> will be updated to <vcpu cpuset=""2-3"">).\n\nRelated-Bug: #1869804\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}, {'number': 6, 'created': '2023-04-26 16:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19d44bfd6c358ab9f5141879101b77cf8668c657', 'message': 'Fix live migrating to a host with cpu_shared_set configured will now\nupdate the VM\'s configuration accordingly.\n\nExample: live migrating a VM from source host with cpu_shared_set=0,1 to\ndestination host with cpu_shared_set=2,3 will now update the VM configuration.\n(<vcpu cpuset=""0-1""> will be updated to <vcpu cpuset=""2-3"">).\n\nRelated-Bug: #1869804\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}, {'number': 7, 'created': '2023-04-27 14:30:54.000000000', 'files': ['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_live_migration.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eadc301172a63b1ddffa268f4dfe164d4cc4c53a', 'message': 'Fix live migrating to a host with cpu_shared_set configured will now\nupdate the VM\'s configuration accordingly.\n\nExample: live migrating a VM from source host with cpu_shared_set=0,1 to\ndestination host with cpu_shared_set=2,3 will now update the VM configuration.\n(<vcpu cpuset=""0-1""> will be updated to <vcpu cpuset=""2-3"">).\n\nRelated-Bug: #1869804\nChange-Id: I1ee826ced89f7947225fe678c0d416be8f111092\n'}]",21,877773,eadc301172a63b1ddffa268f4dfe164d4cc4c53a,52,8,7,16207,,,0,"Fix live migrating to a host with cpu_shared_set configured will now
update the VM's configuration accordingly.

Example: live migrating a VM from source host with cpu_shared_set=0,1 to
destination host with cpu_shared_set=2,3 will now update the VM configuration.
(<vcpu cpuset=""0-1""> will be updated to <vcpu cpuset=""2-3"">).

Related-Bug: #1869804
Change-Id: I1ee826ced89f7947225fe678c0d416be8f111092
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/877773/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_live_migration.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,b9a946d6d151d486e1eae722f014d669baab6bd5,bug/1869804," 'dst_cpu_shared_set_info': None, 'dst_cpu_shared_set_info': None, 'dst_cpu_shared_set_info': None, 'dst_cpu_shared_set_info': None, 'dst_cpu_shared_set_info': None,",,59,12
openstack%2Fironic~master~Ia0df1c211d5510777c6055f1341335f9bc5c5006,openstack/ironic,master,Ia0df1c211d5510777c6055f1341335f9bc5c5006,CI: Try to isolate test failures in neutron vif logic,MERGED,2023-05-19 00:17:13.000000000,2023-05-19 16:19:30.000000000,2023-05-19 16:18:17.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 00:17:13.000000000', 'files': ['ironic/tests/unit/drivers/modules/network/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cb371327f63b9889ad8858b0820515040895870', 'message': 'CI: Try to isolate test failures in neutron vif logic\n\nOne of our tests is super-friendly to race because it relies on changing\nan object, but that object not being saved yet to verify the difference.\nHowever, that object and even similar changes can occur in the database\nand trigger the test to fail.\n\nSo instead using the shared resource created on test startup, create an\nisolated, dedicated resource for it to use inside of the test, which should\neliminate the entire issue. I hope.\n\nChange-Id: Ia0df1c211d5510777c6055f1341335f9bc5c5006\n'}]",1,883598,1cb371327f63b9889ad8858b0820515040895870,10,4,1,11655,,,0,"CI: Try to isolate test failures in neutron vif logic

One of our tests is super-friendly to race because it relies on changing
an object, but that object not being saved yet to verify the difference.
However, that object and even similar changes can occur in the database
and trigger the test to fail.

So instead using the shared resource created on test startup, create an
isolated, dedicated resource for it to use inside of the test, which should
eliminate the entire issue. I hope.

Change-Id: Ia0df1c211d5510777c6055f1341335f9bc5c5006
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/883598/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/network/test_common.py'],1,1cb371327f63b9889ad8858b0820515040895870,," port = obj_utils.create_test_port( self.context, id=1119, uuid=uuidutils.generate_uuid(), node_id=self.node.id, address='51:51:00:cf:2d:33', internal_info={'tenant_vif_port_id': uuidutils.generate_uuid()}, extra={'client-id': 'fake1'}) port.internal_info = {'tenant_vif_port_id': 'fake-id'} port.extra = {'client-id': 'fake3'} port.obj_what_changed = what_changed_mock exception.FailedToUpdateDHCPOptOnPort(port_id=port.uuid)) task, port)"," self.port.internal_info = {'tenant_vif_port_id': 'fake-id'} self.port.extra = {'client-id': 'fake3'} self.port.obj_what_changed = what_changed_mock exception.FailedToUpdateDHCPOptOnPort(port_id=self.port.uuid)) task, self.port)",14,5
openstack%2Fkeystone~stable%2Fxena~I59ebf0fa77391d49b2349e918fc55f96318c42a6,openstack/keystone,stable/xena,I59ebf0fa77391d49b2349e918fc55f96318c42a6,[PooledLDAPHandler] Ensure result3() invokes message.clean(),MERGED,2023-02-24 07:08:18.000000000,2023-05-19 16:14:52.000000000,2023-05-19 16:13:30.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-24 07:08:18.000000000', 'files': ['keystone/tests/unit/test_backend_ldap_pool.py', 'keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/fakeldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3e5805e40e26b51ce5c4a69aa31d81226d38ccf9', 'message': '[PooledLDAPHandler] Ensure result3() invokes message.clean()\n\nresult3 does not invoke message.clean() when an exception is thrown\nby `message.connection.result3()` call, causing pool connection\nassociated with the message to be marked active forever. This causes\na denial-of-service on ldappool.\n\nThe fix ensures message.clean() is invoked by wrapping the offending\ncall in try-except-finally and putting the message.clean() in finally\nblock.\n\nCloses-Bug: #1998789\n\nChange-Id: I59ebf0fa77391d49b2349e918fc55f96318c42a6\nSigned-off-by: Mustafa Kemal Gilor <mustafa.gilor@canonical.com>\n(cherry picked from commit ff632a81fb09e6d9f3298e494d53eb6df50269cf)\n'}]",0,874843,3e5805e40e26b51ce5c4a69aa31d81226d38ccf9,9,3,1,34980,,,0,"[PooledLDAPHandler] Ensure result3() invokes message.clean()

result3 does not invoke message.clean() when an exception is thrown
by `message.connection.result3()` call, causing pool connection
associated with the message to be marked active forever. This causes
a denial-of-service on ldappool.

The fix ensures message.clean() is invoked by wrapping the offending
call in try-except-finally and putting the message.clean() in finally
block.

Closes-Bug: #1998789

Change-Id: I59ebf0fa77391d49b2349e918fc55f96318c42a6
Signed-off-by: Mustafa Kemal Gilor <mustafa.gilor@canonical.com>
(cherry picked from commit ff632a81fb09e6d9f3298e494d53eb6df50269cf)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/874843/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_backend_ldap_pool.py', 'keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/fakeldap.py']",3,3e5805e40e26b51ce5c4a69aa31d81226d38ccf9,, self.connected = True self.who = who self.cred = cred self.connected = False self.who = None self.cred = None if serverctrls and len(serverctrls) > 1: self._uri = uri, if len(serverctrls) > 1:,138,10
openstack%2Fcinder~master~Iccc8d642e21b05ca22a0260979f3bbc0578731cd,openstack/cinder,master,Iccc8d642e21b05ca22a0260979f3bbc0578731cd,Remove six from GPFS driver,MERGED,2023-04-10 14:03:44.000000000,2023-05-19 15:52:06.000000000,2023-05-19 15:50:57.000000000,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-04-10 14:03:44.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1d0be7b2652f89ce1b1e00f8e2f170ea0f3fc63', 'message': 'Remove six from GPFS driver\n\nChange-Id: Iccc8d642e21b05ca22a0260979f3bbc0578731cd\n'}]",3,879965,b1d0be7b2652f89ce1b1e00f8e2f170ea0f3fc63,29,4,1,4523,,,0,"Remove six from GPFS driver

Change-Id: Iccc8d642e21b05ca22a0260979f3bbc0578731cd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/879965/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py']",2,b1d0be7b2652f89ce1b1e00f8e2f170ea0f3fc63,, @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open') @mock.patch('builtins.open'), @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open') @mock.patch('six.moves.builtins.open'),10,11
openstack%2Fpython-keystoneclient~master~I6bd85d18432d0d077e774fcd51a6ba40d1d66be0,openstack/python-keystoneclient,master,I6bd85d18432d0d077e774fcd51a6ba40d1d66be0,Fix the gate,MERGED,2023-02-17 15:14:34.000000000,2023-05-19 15:48:26.000000000,2023-05-19 15:47:28.000000000,"[{'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-17 15:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c8fa0fbc18aa4dcf78c19710ed9f13288becb7a5', 'message': ""Fix the gate\n\nThis patch resolves the issues with the gate by passing the tests\nthat are trying to use the old keystoneauth plugins. This is not\nthe correct fix, but it get's us past the gate issues. We need to\nlook at deprecating python-keystoneclient.\n\nChange-Id: I6bd85d18432d0d077e774fcd51a6ba40d1d66be0\n""}, {'number': 2, 'created': '2023-02-17 15:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/51d253ab63106e95937e5429d05250f3fb5cbb5e', 'message': ""Fix the gate\n\nThis patch resolves the issues with the gate by passing the tests\nthat are trying to use the old keystoneauth plugins. This is not\nthe correct fix, but it get's us past the gate issues. We need to\nlook at deprecating python-keystoneclient.\n\nChange-Id: I6bd85d18432d0d077e774fcd51a6ba40d1d66be0\n""}, {'number': 3, 'created': '2023-04-27 12:34:58.000000000', 'files': ['test-requirements.txt', 'keystoneclient/tests/unit/auth/test_conf.py', 'keystoneclient/tests/unit/v3/test_auth_saml2.py', 'keystoneclient/v3/domains.py', 'keystoneclient/tests/unit/auth/test_auth.py', 'keystoneclient/v3/policies.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/141787ae8b0db7ac4dffce915e033a78d145d54e', 'message': ""Fix the gate\n\nThis patch resolves the issues with the gate by passing the tests\nthat are trying to use the old keystoneauth plugins. This is not\nthe correct fix, but it get's us past the gate issues. We need to\nlook at deprecating python-keystoneclient.\n\nChange-Id: I6bd85d18432d0d077e774fcd51a6ba40d1d66be0\n""}]",2,874263,141787ae8b0db7ac4dffce915e033a78d145d54e,13,3,3,7414,,,0,"Fix the gate

This patch resolves the issues with the gate by passing the tests
that are trying to use the old keystoneauth plugins. This is not
the correct fix, but it get's us past the gate issues. We need to
look at deprecating python-keystoneclient.

Change-Id: I6bd85d18432d0d077e774fcd51a6ba40d1d66be0
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/63/874263/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/auth/test_conf.py', 'keystoneclient/tests/unit/v3/test_auth_saml2.py', 'keystoneclient/tests/unit/auth/test_auth.py', 'doc/requirements.txt']",4,c8fa0fbc18aa4dcf78c19710ed9f13288becb7a5,antelope_fixes,"keystoneauth1>=3.4.0 # Apache-2.0oslo.config>=5.2.0 # Apache-2.0 oslo.serialization!=2.19.1,>=2.18.0 # Apache-2.0 oslo.utils>=3.33.0 # Apache-2.0six>=1.10.0 # MIT",,13,131
openstack%2Foslo.policy~master~I1224c2dd035e26fea6a6adc3987bedfc19034319,openstack/oslo.policy,master,I1224c2dd035e26fea6a6adc3987bedfc19034319,Bump bandit and make oslo.policy compatible with latest rules,NEW,2023-05-19 13:44:55.000000000,2023-05-19 15:36:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 13:44:55.000000000', 'files': ['test-requirements.txt', 'oslo_policy/_external.py', 'oslo_policy/tests/test_external.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/3648ebfce99239304b526e7381310aed9328e4f0', 'message': 'Bump bandit and make oslo.policy compatible with latest rules\n\n- Apply a timeout to requests calls to avoid uncontrolled\n  resource consumption (CWE-400) [1].\n- Move requirements from tox.ini to test-requirements.txt\n- Remove doc/requirements from testenv.deps as already did in other\n  oslo projects where these requirements are called directly from tox docs\n  and releasenotes targets.\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I1224c2dd035e26fea6a6adc3987bedfc19034319\n'}]",0,883671,3648ebfce99239304b526e7381310aed9328e4f0,2,1,1,28522,,,0,"Bump bandit and make oslo.policy compatible with latest rules

- Apply a timeout to requests calls to avoid uncontrolled
  resource consumption (CWE-400) [1].
- Move requirements from tox.ini to test-requirements.txt
- Remove doc/requirements from testenv.deps as already did in other
  oslo projects where these requirements are called directly from tox docs
  and releasenotes targets.

[1] https://cwe.mitre.org/data/definitions/400.html

Change-Id: I1224c2dd035e26fea6a6adc3987bedfc19034319
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/71/883671/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'oslo_policy/_external.py', 'oslo_policy/tests/test_external.py', 'tox.ini']",4,3648ebfce99239304b526e7381310aed9328e4f0,,," -r{toxinidir}/doc/requirements.txtdeps = pre-commit>=2.6.0 # MIT bandit>=1.6.0,<1.7.0 # Apache-2.0",40,23
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3,openstack/tripleo-heat-templates,stable/wallaby,Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3,HA: minor update with new container image name,MERGED,2022-10-12 17:20:27.000000000,2023-05-19 15:21:48.000000000,2023-05-19 15:20:45.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-12 17:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73d6d34165aca25c3d062ec925fead42b7e2f321', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 2, 'created': '2022-10-17 20:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7635d043db46ed17ffdc5dd38a085cc62b0c588f', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 3, 'created': '2023-02-15 10:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5e90369c26a7e76f5fda271a598c90b72ee45be', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 4, 'created': '2023-05-03 09:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fad629ab715defdb16151c5ba62237f6548ccfaa', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: I9f66591d453be2f41f671ff70c511d8268945472\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 5, 'created': '2023-05-04 15:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5616bbd2c393039a12cc95606a3a1a6d190f801e', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: I9f66591d453be2f41f671ff70c511d8268945472\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 6, 'created': '2023-05-04 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/717cd5b2912f288bb214e47c164f4aba46312baa', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/872029\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 7, 'created': '2023-05-05 13:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1cd03f6f7296a6957ea3145769ff77f0be309cb', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/872029\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 8, 'created': '2023-05-09 10:19:49.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/ha_image_update-f9d7054b9f07b125.yaml', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76e37a3b7f0fb26d413c7bb62b99b640a18a0fd1', 'message': ""HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nFor the `test_tht_ansible_syntax.py` test we have populated\nthe groups so that the test won't fail because of an empty\ninventory. Note that the final host list passed to the\n`tripleo_ha_image_update` role is empty.\n\nCloses-Bug: #1992988\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/872029\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n""}]",8,861100,76e37a3b7f0fb26d413c7bb62b99b640a18a0fd1,37,3,8,20778,,,0,"HA: minor update with new container image name

Pacemaker-managed services use intermediate container
image names internally to implement minor updates without
service disruption. The naming scheme is configured at
initial deployment from Heat parameters ClusterCommonTag
and ClusterFullTag.

This change makes it possible to change the configured
naming scheme during a minor update, without causing
service disruption. It works by running new external
update tasks to prepare for the switch prior to the
minor update.

For the `test_tht_ansible_syntax.py` test we have populated
the groups so that the test won't fail because of an empty
inventory. Note that the final host list passed to the
`tripleo_ha_image_update` role is empty.

Closes-Bug: #1992988

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/872029
Change-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/861100/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",10,73d6d34165aca25c3d062ec925fead42b7e2f321,ha_image_upd-stable/wallaby," external_update_tasks: - when: step|int == 1 tags: ha_image_update block: - block: &rabbitmq_container_image_facts - name: Get rabbitmq image from pacemaker become: true register: xmllint_pcmk_rabbitmq_image # retrieve info even when pacemaker is stopped shell: 'xmllint --xpath ""string(//bundle[@id=''rabbitmq-bundle'']/podman/@image)"" /var/lib/pacemaker/cib/cib.xml' - name: Get container rabbitmq image set_fact: # container image to use for deployment rabbitmq_image: {get_attr: [RoleParametersValue, value, ContainerRabbitmqImage]} # pacemaker bundle image name to use for deployment rabbitmq_image_latest: *rabbitmq_image_pcmklatest # image currently configured in pacemaker bundle pcmk_rabbitmq_image: '{{xmllint_pcmk_rabbitmq_image.stdout}}' delegate_to: '{{ groups[""oslo_messaging_rpc""][0] }}' - name: rabbitmq temporary pacemaker container tag in case of image switch become: true import_role: name: tripleo_ha_image_update vars: tripleo_ha_image_update_service: oslo_messaging_rpc tripleo_ha_image_update_bundle: rabbitmq-bundle tripleo_ha_image_update_new_image: '{{rabbitmq_image_latest}}' tripleo_ha_image_update_old_image: '{{pcmk_rabbitmq_image}}' when: - (pcmk_rabbitmq_image != """") - (pcmk_rabbitmq_image != rabbitmq_image_latest) update_tasks: - block: *rabbitmq_container_image_facts when: step|int in [0,2] - name: Check for update of rabbitmq container image name when: step|int == 0 assert: that: pcmk_rabbitmq_image == rabbitmq_image_latest fail_msg: ""rabbitmq image change detected, run overcloud external-update first"" - name: Rabbitmq fetch and retag container image for pacemaker container_image: '{{rabbitmq_image}}' container_image_latest: '{{rabbitmq_image_latest}}' block: - block: *rabbitmq_container_image_facts - block: *rabbitmq_fetch_retag_container_tasks"," update_tasks: - name: Rabbit fetch and retag container image for pacemaker - name: Get container rabbitmq image set_fact: rabbitmq_image: {get_attr: [RoleParametersValue, value, ContainerRabbitmqImage]} rabbitmq_image_latest: *rabbitmq_image_pcmklatest - name: Pull latest rabbitmq images command: ""{{container_cli}} pull {{rabbitmq_image}}"" register: result retries: 3 delay: 3 until: result.rc == 0 - name: Get previous rabbitmq image id shell: ""{{container_cli}} inspect --format '{{'{{'}}.Id{{'}}'}}' {{rabbitmq_image_latest}}"" register: old_rabbitmq_image_id failed_when: false - name: Get new rabbitmq image id shell: ""{{container_cli}} inspect --format '{{'{{'}}.Id{{'}}'}}' {{rabbitmq_image}}"" register: new_rabbitmq_image_id container_image: ""{{rabbitmq_image}}"" container_image_latest: ""{{rabbitmq_image_latest}}"" when: - old_rabbitmq_image_id.stdout != new_rabbitmq_image_id.stdout block: *rabbitmq_fetch_retag_container_tasks",447,244
openstack%2Fcharm-rabbitmq-server~stable%2Ffocal~Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1,openstack/charm-rabbitmq-server,stable/focal,Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1,Add service user password rotation feature,MERGED,2023-05-17 17:18:28.000000000,2023-05-19 15:08:42.000000000,2023-05-19 15:08:42.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 17:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/83e5ef518d762841d3211ea7bed7e7baa3ab8841', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\nThe first lists the possible usernames that can be rotated.  The\nsecond action rotates the service, and is tested via the func-test-pr.\n\nChange-Id: Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1052\n(cherry picked from commit 42714adfde814729f39c31165667b59f959555e2)\n'}, {'number': 2, 'created': '2023-05-18 10:14:15.000000000', 'files': ['tests/tests.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'actions/actions.py', 'test-requirements.txt', 'actions/list-service-usernames', 'unit_tests/test_actions.py', 'hooks/rabbitmq_server_relations.py', 'actions/rotate-service-user-password', 'hooks/rabbit_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/4072c674445b7052d03c111d8afb005f2ed28cbf', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\nThe first lists the possible usernames that can be rotated.  The\nsecond action rotates the service, and is tested via the func-test-pr.\n\nNote: in order to get the patch to cherry-pick from master, some changes\nhad to be made to work with the older, focal, codebase.\n\nChange-Id: Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1052\n(cherry picked from commit 42714adfde814729f39c31165667b59f959555e2)\n'}]",1,883391,4072c674445b7052d03c111d8afb005f2ed28cbf,12,4,2,20870,,,0,"Add service user password rotation feature

This patch adds the service user rotation feature, which provides two
actions:

 - list-service-usernames
 - rotate-service-user-password

The first lists the possible usernames that can be rotated.  The
second action rotates the service, and is tested via the func-test-pr.

Note: in order to get the patch to cherry-pick from master, some changes
had to be made to work with the older, focal, codebase.

Change-Id: Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1052
(cherry picked from commit 42714adfde814729f39c31165667b59f959555e2)
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/91/883391/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'actions/actions.py', 'unit_tests/test_rabbit_utils.py', 'actions/list-service-usernames', 'unit_tests/test_actions.py', 'hooks/rabbitmq_server_relations.py', 'actions/rotate-service-user-password', 'hooks/rabbit_utils.py', 'actions.yaml']",10,83e5ef518d762841d3211ea7bed7e7baa3ab8841,service-password-rotation-stable/focal,rotate-service-user-password: description: | Rotate the specified rabbitmq-server user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The username of the rabbitmq-server service as specified in list-service-usernames. list-service-usernames: description: | List the usernames of the passwords that have been provided on the amqp relations. The service username passed to 'rotate-service-user-password' needs to be on this list.,,886,3
openstack%2Fcharm-rabbitmq-server~stable%2Fjammy~Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1,openstack/charm-rabbitmq-server,stable/jammy,Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1,Add service user password rotation feature,MERGED,2023-05-17 09:29:15.000000000,2023-05-19 15:06:49.000000000,2023-05-19 15:06:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 09:29:15.000000000', 'files': ['tests/tests.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'actions/actions.py', 'actions/list-service-usernames', 'unit_tests/test_actions.py', 'hooks/rabbitmq_server_relations.py', 'actions/rotate-service-user-password', 'hooks/rabbit_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/df01c257f8ed22166d97a9c5d3bc1ec6894ea46c', 'message': 'Add service user password rotation feature\n\nThis patch adds the service user rotation feature, which provides two\nactions:\n\n - list-service-usernames\n - rotate-service-user-password\n\nThe first lists the possible usernames that can be rotated.  The\nsecond action rotates the service, and is tested via the func-test-pr.\n\nChange-Id: Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1051\n(cherry picked from commit 42714adfde814729f39c31165667b59f959555e2)\n'}]",1,883126,df01c257f8ed22166d97a9c5d3bc1ec6894ea46c,8,4,1,20870,,,0,"Add service user password rotation feature

This patch adds the service user rotation feature, which provides two
actions:

 - list-service-usernames
 - rotate-service-user-password

The first lists the possible usernames that can be rotated.  The
second action rotates the service, and is tested via the func-test-pr.

Change-Id: Ia94ab3d54cd8a59e9ba5005b88d3ec1ff87019b1
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1051
(cherry picked from commit 42714adfde814729f39c31165667b59f959555e2)
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/26/883126/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'actions/actions.py', 'unit_tests/test_rabbit_utils.py', 'actions/list-service-usernames', 'unit_tests/test_actions.py', 'hooks/rabbitmq_server_relations.py', 'actions/rotate-service-user-password', 'hooks/rabbit_utils.py', 'actions.yaml']",10,df01c257f8ed22166d97a9c5d3bc1ec6894ea46c,service-password-rotation-stable/jammy,rotate-service-user-password: description: | Rotate the specified rabbitmq-server user's password. The current password is replaced with a randomly generated password. The password is changed on the relation to the user's units. This may result in a control plane outage for the duration of the password changing process. params: service-user: type: string description: | The username of the rabbitmq-server service as specified in list-service-usernames. list-service-usernames: description: | List the usernames of the passwords that have been provided on the amqp relations. The service username passed to 'rotate-service-user-password' needs to be on this list.,,506,3
openstack%2Fneutron~master~I207ecf7954b06507e03cb16b502ceb6e2807e0e7,openstack/neutron,master,I207ecf7954b06507e03cb16b502ceb6e2807e0e7,Delete sg rule which remote is the deleted sg,MERGED,2023-03-07 10:50:07.000000000,2023-05-19 14:45:53.000000000,2023-05-02 15:28:42.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-07 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/471fabedc79e8247ca917eefdd545fe8d9d3994d', 'message': 'OVS FW: Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy checking the RemoteResourceCache for these rules the\nsecurity-group delete event can handle this issue.\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nCloses-Bug: #2008712\n'}, {'number': 2, 'created': '2023-03-10 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db995e8fc808ae5288cc0c8f0ab7a22373eb628f', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nCloses-Bug: #2008712\n'}, {'number': 3, 'created': '2023-03-14 17:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b953d9a1fb1b9c6027b875d830b37a427f0a4fc', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nCloses-Bug: #2008712\n'}, {'number': 4, 'created': '2023-03-16 15:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51b1ba2f87c3b2eabeda62ffb87bf5e673d056f9', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nCloses-Bug: #2008712\n'}, {'number': 5, 'created': '2023-03-17 08:24:38.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63584957203ec9f5ba165177978213c3909f81f0', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nCloses-Bug: #2008712\n'}]",23,876716,63584957203ec9f5ba165177978213c3909f81f0,50,7,5,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

Change-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7
Closes-Bug: #2008712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/876716/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",2,471fabedc79e8247ca917eefdd545fe8d9d3994d,bug/2008712," # If there's a rule which remote is the deleted sg, remove that also. filters = {'remote_group_id': (existing.id, )} for rule in self.rcache.get_resources('SecurityGroupRule', filters): self.rcache.record_resource_delete(context, 'SecurityGroupRule', rule.id)",,63,1
openstack%2Fcinder~master~Ied165418559145bf4f44ffa216fe5d0b23342a44,openstack/cinder,master,Ied165418559145bf4f44ffa216fe5d0b23342a44,WIP: update policy matrix for zed,NEW,2022-10-20 12:55:41.000000000,2023-05-19 14:35:57.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-10-20 12:55:41.000000000', 'files': ['doc/source/configuration/block-storage/policy-personas.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d12751b5fe60edddfe5d9cc61104f58948149d12', 'message': 'WIP: update policy matrix for zed\n\nChange-Id: Ied165418559145bf4f44ffa216fe5d0b23342a44\n'}]",3,862136,d12751b5fe60edddfe5d9cc61104f58948149d12,24,4,1,5314,,,0,"WIP: update policy matrix for zed

Change-Id: Ied165418559145bf4f44ffa216fe5d0b23342a44
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/862136/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/policy-personas.rst'],1,d12751b5fe60edddfe5d9cc61104f58948149d12,zed-policy-matrix,".. note:: The secure RBAC effort not only spans OpenStack services, it is also taking place over several OpenStack development cycles. Thus it's important to make sure that you are looking at the version of this document that is applicable to the OpenStack release you have deployed. This document applies to the **Zed** release. Additionally, keep in mind that different projects are implementing secure RBAC on different schedules. This document applies *only* to Cinder. To get an idea of the full scope of this effort, consult the `Consistent and Secure Default RBAC <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ community goal document. This is easiest to explain if we introduce the three ""personas"" Cinder recognizes in the Xena, Yoga, and Zed releases. In the list below, a ""system"" refers to the deployed system (that is, Cinder and all its services), and a ""project"" refers to a container or.. list-table:: The Cinder Personas * - administrator (formerly, called the ""system-admin"") In the Xena and Yoga releases, this persona was called the ""system-admin"" to emphasize that the range of action is the *entire Cinder system*, but we will just call this persona the ""administrator"" from now on to avoid any confusion. *Note that if you assign the 'admin' role to a user, that user can affect the entire Cinder system, not just the project that person is a member of.* Please keep this in mind as you assign roles to users in the Identity service. but Cinder does not recognize them.Implementation Details ---------------------- This document describes the range of action of each of the personas with respect to the OpenStack Block Storage API. In order to have an OpenStack user be recognized as a particular persona, you must use the OpenStack Identity service (Keystone) to assign an appropriate role to that user. .. list-table:: The 3 Xena/Yoga/Zed Personas * - administrator as having permission to act on *the entire cinder system* .. note:: By default, the 'reader', 'member', and 'admin' roles are created by the Keystone bootstrap process. Keystone also defines inheritance relations between the roles so that: - a user with the 'admin' role is automatically also assigned the 'member' and 'reader' roles - a user with the 'member' role is automatically also assigned the 'reader' role Thus, when you assign a user the 'member' role on a project, you don't need to assign that user the 'reader' role as well; the user inherits the 'reader' role automatically. .. warning:: By default, a user with the 'admin' role is recognized as a Cinder administrator capable of affecting any project's resources in Cinder as well as the Cinder system itself.to the policies that are recognized by Cinder. - administrator - administrator - administrator - administrator - administrator - administrator - administrator - administrator - administrator - | (NOTE: Yoga policies split POST, PUT, DELETE) * - Create a group type * - Update a group type * - Delete a group type - | (NOTE: Yoga policies split GET, POST, PUT, DELETE) * - Create group type spec * - List group type specs * - Show detail for a group type spec * - Update group type spec * - Delete group type spec - administrator - administrator - administrator - administrator - | (NOTE: Yoga policies split GET and PUT) * - Show project quota class * - Update project quota class - administrator - administrator | (NOTE: will be deprecated in Zed and new policies introduced - administrator | (Yoga policies for create/update/delete) * - Create a volume type * - Update a volume type * - Delete a volume type * - | List private volume type access detail, that is, list the projects - administrator * - Reimage a volume in ``available`` or ``error`` status - ``POST /volumes/{volume_id}/action`` (os-reimage) - volume:reimage * - Reimage a volume in ``reserved`` status - ``POST /volumes/{volume_id}/action`` (os-reimage) - volume:reimage_reserved - no - yes - administrator - administrator - | (NOTE: Yoga policies split GET and POST) * - Include volume's image metadata in volume detail responses * - Set image metadata for a volume * - Remove specific image metadata from a volume - administrator - administrator - administrator","This is easiest to explain if we introduce the five ""personas"" Cinder recognizes. In the list below, a ""system"" refers to the deployed system (that is, Cinder and all its services), and a ""project"" refers to a container or.. list-table:: The Five Personas * - project-admin - All the normal stuff plus some minor administrative abilities in a particular project, for example, able to set the default volume type for a project. (The administrative abilities are ""minor"" in the sense that they have no impact on the Cinder system, they only allow the project-admin to make system-safe changes isolated to that project.) * - system-reader - Has read only access to the API; like the project-reader, but can read any project recognized by cinder. * - system-admin but Cinder does not currently recognize them. In particular: * Cinder does not recognize the ``domain`` scope at all. So even if you successfully request a ""domain-scoped"" token from the Identity service, you won't be able to use it with Cinder. Instead, request a ""project-scoped"" token for the particular project in your domain that you want to act upon. * Cinder does not recognize a ""system-member"" persona, that is, a user with the ``member`` role on a ``system``. The default Cinder policy configuration treats such a user as identical to the *system-reader* persona described above. More information about roles and scope is available in the `Keystone Administrator Guides <https://docs.openstack.org/keystone/latest/admin/service-api-protection.html>`__.Implementation Schedule ----------------------- For reasons that will become clear in this section, the secure RBAC effort is being implemented in Cinder in two phases. In Xena, there are three personas. .. list-table:: The 3 Xena Personas * - system-admin as having permission to act on the cinder *system* Note that you *cannot* create a project-admin persona on your own simply by assigning the ``admin`` role to a user. Such assignment results in that user becoming a system-admin. In the Yoga release, we plan to implement the full set of Cinder personas: .. list-table:: The 5 Yoga Personas :header-rows: 1 * - who - Keystone technical info * - project-reader - ``reader`` role on a ``project``, resulting in project-scope * - project-member - ``member`` role on a ``project``, resulting in project-scope * - project-admin - ``admin`` role on a ``project``, resulting in project-scope * - system-reader - ``reader`` role on a ``system``, resulting in system-scope * - system-admin - ``admin`` role on a ``system``, resulting in system-scope Note that although the underlying technical information changes for the system-admin, the range of actions performable by that persona does not change.to the policies that are recognized by Cinder. Keep in mind that only three of the personas (project-reader, project-member, and system-admin) are implemented in the Xena release. NOTE: the columns in () will be deleted; they are here for comparison as the matrix is validated by human beings. - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - empty - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - empty - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - empty - no - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - empty - no - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - | (NOTE: new policies split POST, PUT, DELETE) - rule:admin_api - no - no - no - yes * - | **NEW** | Create a group type - (new policy) - no - no - n/a - n/a * - | **NEW** | Update a group type - (new policy) - no - no - n/a - n/a * - | **NEW** | Delete a group type - (new policy) - no - no - n/a - n/a - rule:admin_api - no - no - yes - no - | (NOTE: new policies split GET, POST, PUT, DELETE) - rule:admin_api - no - no - no - yes * - | **NEW** | Create group type spec - (new policy) - no - no - n/a - n/a * - | **NEW** | List group type specs - (new policy) - no - no - n/a - n/a * - | **NEW** | Show detail for a group type spec - (new policy) - no - no - n/a - n/a * - | **NEW** | Update group type spec - (new policy) - no - no - n/a - n/a * - | **NEW** | Delete group type spec - (new policy) - no - no - n/a - n/a - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - empty - no - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - | (NOTE: new policies split GET and PUT) - rule:admin_api - no - no - no - yes * - | **NEW** | Show project quota class - (new policy) - no - no - n/a - n/a * - | **NEW** | Update project quota class - (new policy) - no - no - n/a - n/a - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no | (NOTE: will be deprecated in Yoga and new policies introduced - rule:admin_api - no - no - yes - no - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") | (new policies for create/update/delete) - rule:admin_api - no - no - no - yes * - | **NEW** | Create a volume type - (new policy) - no - no - no - yes * - | **NEW** | Update a volume type - (new policy) - no - no - no - yes * - | **NEW** | Delete a volume type - (new policy) - no - no - yes - no - empty - yes - yes - yes - yes - empty - yes - yes - yes - yes - rule:admin_api - - - no - yes - rule:volume_extension:volume_type_encryption - no - no - yes - no - rule:volume_extension:volume_type_encryption - no - no - yes - no - rule:volume_extension:volume_type_encryption - no - no - yes - no - rule:volume_extension:volume_type_encryption - no - no - yes - no - empty - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_or_owner - no - yes - no - yes * - | **NEW** | List private volume type access detail, that is, list the projects - (new policy) - no - no - n/a - n/a - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - empty - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - | (NOTE: new policies are introduced below to split GET and POST) - rule:admin_or_owner - no - yes - yes - yes * - | **NEW** | Include volume's image metadata in volume detail responses - (new policy) - yes - yes - yes - yes * - | **NEW** | Set image metadata for a volume - (new policy) - no - yes - yes - yes * - | **NEW** | Remove specific image metadata from a volume - (new policy) - no - yes - yes - yes - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - empty - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - empty - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - empty - no - yes - yes - yes - empty - no - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_api - no - no - yes - no - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_api - no - no - yes - no - rule:admin_or_owner - yes - yes - yes - yes - rule:admin_or_owner - no - yes - yes - yes - (old rule) - project-admin - system-reader - system-admin - (old ""owner"") - (old ""admin"") - rule:system_or_domain_or_project_admin - no - yes - no - yes - rule:system_or_domain_or_project_admin - no - yes - no - yes - role:admin and system_scope:all - no - no - yes - no - rule:system_or_domain_or_project_admin - no - yes - no - yes",111,1049
openstack%2Fos-brick~master~Ide525f27605e1e9455825eabcdf090326a9aa5f8,openstack/os-brick,master,Ide525f27605e1e9455825eabcdf090326a9aa5f8,(WIP) Encryptors: remove execute parameter,NEW,2022-08-17 14:03:40.000000000,2023-05-19 14:29:33.000000000,,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-08-17 14:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c32ae3c446d8a3c42707dba86dc1c2c76a6a1dab', 'message': '(WIP) Encryptors: remove execute parameter\n\nThis seems to be unnecessary, as anyone calling\nthis from Cinder and Nova is using the default path\nwhich loads the os_brick.privileged.rootwrap executor.\n\nChange-Id: Ide525f27605e1e9455825eabcdf090326a9aa5f8\n'}, {'number': 2, 'created': '2022-08-25 15:49:52.000000000', 'files': ['os_brick/encryptors/__init__.py', 'os_brick/encryptors/luks.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3a8dab8ad4ac08766d483f6ad482819ba0395b2f', 'message': '(WIP) Encryptors: remove execute parameter\n\nThis seems to be unnecessary, as anyone calling\nthis from Cinder and Nova is using the default path\nwhich loads the os_brick.privileged.rootwrap executor.\n\nChange-Id: Ide525f27605e1e9455825eabcdf090326a9aa5f8\n'}]",4,853500,3a8dab8ad4ac08766d483f6ad482819ba0395b2f,25,5,2,4523,,,0,"(WIP) Encryptors: remove execute parameter

This seems to be unnecessary, as anyone calling
this from Cinder and Nova is using the default path
which loads the os_brick.privileged.rootwrap executor.

Change-Id: Ide525f27605e1e9455825eabcdf090326a9aa5f8
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/00/853500/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/encryptors/__init__.py', 'os_brick/encryptors/luks.py']",2,c32ae3c446d8a3c42707dba86dc1c2c76a6a1dab,,," execute=None, execute=execute,",0,5
openstack%2Fneutron~master~I2738d161d828e8ab0524281d72ed1930e08e194b,openstack/neutron,master,I2738d161d828e8ab0524281d72ed1930e08e194b,Disable mysql gather performance in jobs,MERGED,2023-05-19 09:32:36.000000000,2023-05-19 14:14:00.000000000,2023-05-19 14:11:49.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 09:32:36.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d0335810d89ede47cf3b54614382cb25d1986ae', 'message': ""Disable mysql gather performance in jobs\n\nWe seeing random issue in CI as mentioned\nin the related bug. As per the tests done\nin [1] seems disabling it make the issue\nappear less frequent. Let's try it atleast\nuntil the root cause is fixed.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/883282\n\nRelated-Bug: #2015065\nChange-Id: I2738d161d828e8ab0524281d72ed1930e08e194b\n""}]",1,883648,1d0335810d89ede47cf3b54614382cb25d1986ae,8,4,1,13861,,,0,"Disable mysql gather performance in jobs

We seeing random issue in CI as mentioned
in the related bug. As per the tests done
in [1] seems disabling it make the issue
appear less frequent. Let's try it atleast
until the root cause is fixed.

[1] https://review.opendev.org/c/openstack/neutron/+/883282

Related-Bug: #2015065
Change-Id: I2738d161d828e8ab0524281d72ed1930e08e194b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/883648/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml']",4,1d0335810d89ede47cf3b54614382cb25d1986ae,bug/2015065, MYSQL_GATHER_PERFORMANCE: false MYSQL_GATHER_PERFORMANCE: false MYSQL_GATHER_PERFORMANCE: false,,16,0
openstack%2Fmagnum~master~I2322d7699df2e30decb06b34596d88b46ea255a2,openstack/magnum,master,I2322d7699df2e30decb06b34596d88b46ea255a2,Fixes for octavia-ingress-controller,NEW,2023-02-06 13:34:23.000000000,2023-05-19 13:45:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 35260}]","[{'number': 1, 'created': '2023-02-06 13:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6673cf18a492a9103e02bdc1c07e69556a0d1391', 'message': ""Fixes for octavia-ingress-controller\n\n- Add missing provider option, otherwise it hard codes to Octavia and\nisn't usable.\n- Enable security group management\n\nChange-Id: I2322d7699df2e30decb06b34596d88b46ea255a2\n""}, {'number': 2, 'created': '2023-02-06 13:34:54.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3feeca8f8ba1da5fd7e9653dda939514fa8d694b', 'message': ""Fixes for octavia-ingress-controller\n\n- Add missing provider option, otherwise it hard codes to Octavia and\nisn't usable.\n- Enable security group management\n\nChange-Id: I2322d7699df2e30decb06b34596d88b46ea255a2\n""}]",2,872751,3feeca8f8ba1da5fd7e9653dda939514fa8d694b,5,2,2,29268,,,0,"Fixes for octavia-ingress-controller

- Add missing provider option, otherwise it hard codes to Octavia and
isn't usable.
- Enable security group management

Change-Id: I2322d7699df2e30decb06b34596d88b46ea255a2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/872751/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh'],1,6673cf18a492a9103e02bdc1c07e69556a0d1391,ingress-fixes, manage-security-groups: true provider: ${OCTAVIA_PROVIDER} ,,2,0
openstack%2Fproject-config~master~I71010276b9b35cb67e3717002377707e1435f9f9,openstack/project-config,master,I71010276b9b35cb67e3717002377707e1435f9f9,Add cinder-nfs charm to OpenStack charms,MERGED,2023-04-04 15:33:54.000000000,2023-05-19 13:30:11.000000000,2023-05-19 13:14:05.000000000,"[{'_account_id': 2424}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-04-04 15:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1fb68e634e03a1cf5ac1cfb2d10b62821e78f2d', 'message': 'Add cinder-nfs charm to OpenStack charms\n\nAdd new charm that provides the NFS backend support to the OpenStack\nCinder service.\n\nChange-Id: I71010276b9b35cb67e3717002377707e1435f9f9\n'}, {'number': 2, 'created': '2023-04-04 17:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/df0e658410c15ac68ff959ffd40b2bbf73e0c203', 'message': 'Add cinder-nfs charm to OpenStack charms\n\nAdd new charm that provides the NFS backend support to the OpenStack\nCinder service.\n\nChange-Id: I71010276b9b35cb67e3717002377707e1435f9f9\n'}, {'number': 3, 'created': '2023-04-05 00:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b6f7973dd280d4447d2e16dc9048d72969c4dbfc', 'message': 'Add cinder-nfs charm to OpenStack charms\n\nAdd new charm that provides the NFS backend support to the OpenStack\nCinder service.\n\nChange-Id: I71010276b9b35cb67e3717002377707e1435f9f9\n'}, {'number': 4, 'created': '2023-04-05 13:45:49.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d88083309f951182d20a2df9725559631dc71aef', 'message': 'Add cinder-nfs charm to OpenStack charms\n\nAdd new charm that provides the NFS backend support to the OpenStack\nCinder service.\n\nChange-Id: I71010276b9b35cb67e3717002377707e1435f9f9\n'}]",5,879469,d88083309f951182d20a2df9725559631dc71aef,22,7,4,34059,,,0,"Add cinder-nfs charm to OpenStack charms

Add new charm that provides the NFS backend support to the OpenStack
Cinder service.

Change-Id: I71010276b9b35cb67e3717002377707e1435f9f9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/879469/4 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e1fb68e634e03a1cf5ac1cfb2d10b62821e78f2d,cinder-nfs,- project: openstack/charm-cinder-nfs description: Juju Charm - Cinder NFS backend acl-config: /home/gerrit2/acls/openstack/charm.config options: - delay-release,,5,0
openstack%2Fcharm-guide~master~Ibd3c529a4d2f621306b7cf016742b246f0b26576,openstack/charm-guide,master,Ibd3c529a4d2f621306b7cf016742b246f0b26576,Add Infinidat backend charms in the charm-guide,MERGED,2023-02-21 11:04:06.000000000,2023-05-19 13:29:07.000000000,2023-05-19 13:28:12.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-02-21 11:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/487d30718824180a4c78a89ef2dc04b3be634747', 'message': 'List Infinidat backend charms in the charm-guide\n\nChange-Id: Ibd3c529a4d2f621306b7cf016742b246f0b26576\n'}, {'number': 2, 'created': '2023-03-30 16:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6d649e1c4976d285f79227c24d0d8eae750e3bc7', 'message': 'List Infinidat backend charms in the charm-guide\n\nChange-Id: Ibd3c529a4d2f621306b7cf016742b246f0b26576\n'}, {'number': 3, 'created': '2023-05-16 17:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ff8c5ab0ff4dc9ae3f65145e732b359a367be179', 'message': 'Add Infinidat backend charms in the charm-guide\n\nChange-Id: Ibd3c529a4d2f621306b7cf016742b246f0b26576\n'}, {'number': 4, 'created': '2023-05-18 16:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/fc0f98de4ad5fe534859ec708a5def290989beca', 'message': 'Add Infinidat backend charms in the charm-guide\n\nChange-Id: Ibd3c529a4d2f621306b7cf016742b246f0b26576\n'}, {'number': 5, 'created': '2023-05-19 11:41:52.000000000', 'files': ['doc/source/release-notes/2023.1-antelope.rst', 'doc/source/project/openstack-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5ab23960a36c64ddc2ea25c978714a59c82e6a18', 'message': 'Add Infinidat backend charms in the charm-guide\n\nChange-Id: Ibd3c529a4d2f621306b7cf016742b246f0b26576\n'}]",7,874554,5ab23960a36c64ddc2ea25c978714a59c82e6a18,19,2,5,30110,,,0,"Add Infinidat backend charms in the charm-guide

Change-Id: Ibd3c529a4d2f621306b7cf016742b246f0b26576
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/54/874554/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/openstack-charms.rst'],1,487d30718824180a4c78a89ef2dc04b3be634747,adding-infinidat-charms,* `cinder-infinidat`_ * `infinidat-tools`_* `manila-infinidat`_,,3,0
openstack%2Fswift~master~Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97,openstack/swift,master,Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97,s3api: Better logging for non-JSON when trying to do bucket listings,MERGED,2020-03-27 17:31:35.000000000,2023-05-19 13:27:27.000000000,2023-05-19 13:26:27.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-27 17:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cbd39b377cf3ae0da194b95418132aff4ee589ca', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}, {'number': 2, 'created': '2020-04-03 19:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b57dc3f6015f5393b248a1c34d560c554d90544', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}, {'number': 3, 'created': '2021-06-08 18:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42c6eeec8cb3b7b8922b2d7797c50c0447e86320', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nDrive-by: Introduce a string-length truncator.\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}, {'number': 4, 'created': '2022-02-25 18:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c42f3d9b4ca8c7350626b347fa28e345ff7314f1', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}, {'number': 5, 'created': '2023-01-24 17:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d47018da76778eb2f6c7790352b9106b61712b1a', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}, {'number': 6, 'created': '2023-04-06 03:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6bedde1cc07cccab1a1e9c0018aa8b20731a00c6', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}, {'number': 7, 'created': '2023-05-19 11:06:17.000000000', 'files': ['test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/controllers/bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2deab27dadb2f765a9abac43d5ecc6ad1851c6de', 'message': 's3api: Better logging for non-JSON when trying to do bucket listings\n\nChange-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97\n'}]",9,715492,2deab27dadb2f765a9abac43d5ecc6ad1851c6de,27,3,7,15343,,,0,"s3api: Better logging for non-JSON when trying to do bucket listings

Change-Id: Ib79bfd23b7b6f40673396aafa47a0f8c4f533a97
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/715492/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/controllers/bucket.py'],1,cbd39b377cf3ae0da194b95418132aff4ee589ca,715492," try: objects = json.loads(resp.body) except ValueError: self.logger.error('Got non-JSON response trying to list %s: %r', req.path, resp.body) raise", objects = json.loads(resp.body),6,1
openstack%2Fkayobe~master~Ia9ab2b6d4611465a791a3a235abafbce3735b4bd,openstack/kayobe,master,Ia9ab2b6d4611465a791a3a235abafbce3735b4bd,DNM: Debug a-c-k installation,ABANDONED,2023-05-19 13:15:22.000000000,2023-05-19 13:26:03.000000000,,[],"[{'number': 1, 'created': '2023-05-19 13:15:22.000000000', 'files': ['roles/kayobe-galaxy-requirements/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0fcba2c2a7981d49969bbc9283029d3170210d72', 'message': 'DNM: Debug a-c-k installation\n\nChange-Id: Ia9ab2b6d4611465a791a3a235abafbce3735b4bd\n'}]",0,883668,0fcba2c2a7981d49969bbc9283029d3170210d72,2,0,1,22629,,,0,"DNM: Debug a-c-k installation

Change-Id: Ia9ab2b6d4611465a791a3a235abafbce3735b4bd
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/883668/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/kayobe-galaxy-requirements/tasks/main.yml'],1,0fcba2c2a7981d49969bbc9283029d3170210d72,,"- name: Print new requirements.yml debug: msg: ""{{ new_requirements | to_nice_yaml }}"" vars: old_requirements: ""{{ requirements_yml.stdout | from_yaml }}"" new_requirement: name: ""file://{{ ansible_collection_kolla_src_dir }}"" type: git version: ""{{ kayobe_galaxy_requirements_branch }}"" new_requirements: collections: ""{{ (old_requirements.collections | rejectattr('name', 'search', 'ansible-collection-kolla') | list) + [new_requirement] }}"" roles: ""{{ old_requirements.roles | default([]) }}"" ",,13,0
openstack%2Fneutron-specs~master~Ieccd6e70bce6be9a16d38b25efc2774ffefe1699,openstack/neutron-specs,master,Ieccd6e70bce6be9a16d38b25efc2774ffefe1699,"Add ""remote_address_group_id"" attribute to the default SG rules API",MERGED,2023-05-16 14:14:50.000000000,2023-05-19 12:56:51.000000000,2023-05-19 12:55:07.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fd2d9cacdf597a309091df8917fca39ddcc79e78', 'message': 'Add ""remote_address_group_id"" attribute to the default SG rules API\n\nThis patch adds new parameter to the API of the default SG rules\ntemplates API. New parameter is called\n""remote_address_group_id"" and can be used to define uuid of the remote\naddress group which will be referenced in default rule(s) created for\neach new SG.\n\nAdditionally this patch updates type of the ""remote_ip_prefix"" field in\nthe database. It was set by mistake to ""Integer"" but should be ""String"".\n\nRelated-bug: #1983053\nChange-Id: Ieccd6e70bce6be9a16d38b25efc2774ffefe1699\n'}, {'number': 2, 'created': '2023-05-16 18:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/47f6a02619b356ebcb18427f45ba826900eabb30', 'message': 'Add ""remote_address_group_id"" attribute to the default SG rules API\n\nThis patch adds new parameter to the API of the default SG rules\ntemplates API. New parameter is called\n""remote_address_group_id"" and can be used to define uuid of the remote\naddress group which will be referenced in default rule(s) created for\neach new SG.\n\nAdditionally this patch updates type of the ""remote_ip_prefix"" field in\nthe database. It was set by mistake to ""Integer"" but should be ""String"".\n\nRelated-bug: #1983053\nChange-Id: Ieccd6e70bce6be9a16d38b25efc2774ffefe1699\n'}, {'number': 3, 'created': '2023-05-19 07:44:14.000000000', 'files': ['specs/2023.2/configurable-default-sg-rules.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7600a542f724cbb1e4b711e148d247c6713b8d17', 'message': 'Add ""remote_address_group_id"" attribute to the default SG rules API\n\nThis patch adds new parameter to the API of the default SG rules\ntemplates API. New parameter is called\n""remote_address_group_id"" and can be used to define uuid of the remote\naddress group which will be referenced in default rule(s) created for\neach new SG.\n\nAdditionally this patch updates type of the ""remote_ip_prefix"" field in\nthe database. It was set by mistake to ""Integer"" but should be ""String"".\n\nRelated-bug: #1983053\nChange-Id: Ieccd6e70bce6be9a16d38b25efc2774ffefe1699\n'}]",3,883268,7600a542f724cbb1e4b711e148d247c6713b8d17,17,4,3,11975,,,0,"Add ""remote_address_group_id"" attribute to the default SG rules API

This patch adds new parameter to the API of the default SG rules
templates API. New parameter is called
""remote_address_group_id"" and can be used to define uuid of the remote
address group which will be referenced in default rule(s) created for
each new SG.

Additionally this patch updates type of the ""remote_ip_prefix"" field in
the database. It was set by mistake to ""Integer"" but should be ""String"".

Related-bug: #1983053
Change-Id: Ieccd6e70bce6be9a16d38b25efc2774ffefe1699
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/68/883268/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/configurable-default-sg-rules.rst'],1,fd2d9cacdf597a309091df8917fca39ddcc79e78,bug/1983053,"+-------------------------+---------+------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +=========================+=========+======+======+=======================================+ | id | uuid-str| No | R | Id of default security group rule. | +-------------------------+---------+------+------+---------------------------------------+ | direction | String | Yes | CR | Direction in which the security group | | | | | | rule is applied. | +-------------------------+---------+------+------+---------------------------------------+ | ethertype | String | No | CR | Must be IPv4 or IPv6. | +-------------------------+---------+------+------+---------------------------------------+ | remote_group_id | String | No | CR | The remote group UUID to associate | | | | | | with this security group rule. | | | | | | Special value ``PARENT`` can be also | | | | | | used and it means to always use | | | | | | id of the security group in which | | | | | | will be created with such rule. | +-------------------------+---------+------+------+---------------------------------------+ | remote_address_group_id | String | No | CR | The remote address group UUID to | | | | | | associate with this security group | | | | | | rule. | +-------------------------+---------+------+------+---------------------------------------+ | protocol | String | No | CR | The IP protocol can be represented by | | | | | | a string, an integer, or null. | | | | | | Valid strings or integers are the | | | | | | same as for the | | | | | | ``security group rule``. | +-------------------------+---------+------+------+---------------------------------------+ | port_range_min | String | No | CR | The minimum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +-------------------------+---------+------+------+---------------------------------------+ | port_range_max | Integer | No | CR | The maximum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +-------------------------+---------+------+------+---------------------------------------+ | remote_ip_prefix | String | No | CR | The remote IP prefix that is matched | | | | | | by this security group rule. | +-------------------------+---------+------+------+---------------------------------------+ | standard_attr_id | Ingeger | Yes | R | Id of the associated standard | | | | | | attribute record. | +-------------------------+---------+------+------+---------------------------------------+ | used_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | ``default`` security group which is | | | | | | created automatically for every | | | | | | project. Default value is ``False`` | +-------------------------+---------+------+------+---------------------------------------+ | used_non_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | every ``non default`` security group. | | | | | | Default value is ``False`` | +-------------------------+---------+------+------+---------------------------------------+","+------------------------+---------+------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +========================+=========+======+======+=======================================+ | id | uuid-str| No | R | Id of default security group rule. | +------------------------+---------+------+------+---------------------------------------+ | direction | String | Yes | CR | Direction in which the security group | | | | | | rule is applied. | +------------------------+---------+------+------+---------------------------------------+ | ethertype | String | No | CR | Must be IPv4 or IPv6. | +------------------------+---------+------+------+---------------------------------------+ | remote_group_id | String | No | CR | The remote group UUID to associate | | | | | | with this security group rule. | | | | | | Special value ``PARENT`` can be also | | | | | | used and it means to always use | | | | | | id of the security group in which | | | | | | will be created with such rule. | +------------------------+---------+------+------+---------------------------------------+ | protocol | String | No | CR | The IP protocol can be represented by | | | | | | a string, an integer, or null. | | | | | | Valid strings or integers are the | | | | | | same as for the | | | | | | ``security group rule``. | +------------------------+---------+------+------+---------------------------------------+ | port_range_min | String | No | CR | The minimum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +------------------------+---------+------+------+---------------------------------------+ | port_range_max | Integer | No | CR | The maximum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +------------------------+---------+------+------+---------------------------------------+ | remote_ip_prefix | Integer | No | CR | The remote IP prefix that is matched | | | | | | by this security group rule. | +------------------------+---------+------+------+---------------------------------------+ | standard_attr_id | Ingeger | Yes | R | Id of the associated standard | | | | | | attribute record. | +------------------------+---------+------+------+---------------------------------------+ | used_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | ``default`` security group which is | | | | | | created automatically for every | | | | | | project. Default value is ``False`` | +------------------------+---------+------+------+---------------------------------------+ | used_non_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | every ``non default`` security group. | | | | | | Default value is ``False`` | +------------------------+---------+------+------+---------------------------------------+",52,48
openstack%2Fneutron-specs~master~Ic2fd7b00d4a9de150252eddaffd0409da0925e99,openstack/neutron-specs,master,Ic2fd7b00d4a9de150252eddaffd0409da0925e99,"Add ""used_in_non_default_sg"" attribute to the default SG rules API",MERGED,2023-05-16 14:14:50.000000000,2023-05-19 12:56:05.000000000,2023-05-19 12:55:06.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/59eaaeec6bba1f774f914e6e14d5e6fa28db2ec2', 'message': 'Add ""used_in_non_default_sg"" attribute to the default SG rules API\n\nThis patch adds new parameter to the API of the default SG rules\ntemplates API. New parameter is called\n""used_in_non_default_security_group"" and will be used to mark if rule\nshould be used in SGs other than ""default"" one for the project.\n\nRelated-bug: #1983053\nChange-Id: Ic2fd7b00d4a9de150252eddaffd0409da0925e99\n'}, {'number': 2, 'created': '2023-05-16 18:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bba7056d35bd5e88345802017dd453f3a7b4cb24', 'message': 'Add ""used_in_non_default_sg"" attribute to the default SG rules API\n\nThis patch adds new parameter to the API of the default SG rules\ntemplates API. New parameter is called\n""used_in_non_default_security_group"" and will be used to mark if rule\nshould be used in SGs other than ""default"" one for the project.\n\nRelated-bug: #1983053\nChange-Id: Ic2fd7b00d4a9de150252eddaffd0409da0925e99\n'}, {'number': 3, 'created': '2023-05-19 07:37:57.000000000', 'files': ['specs/2023.2/configurable-default-sg-rules.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/73f68a1fdae9631621f0c9a64261b3190c62bae9', 'message': 'Add ""used_in_non_default_sg"" attribute to the default SG rules API\n\nThis patch adds new parameter to the API of the default SG rules\ntemplates API. New parameter is called\n""used_in_non_default_security_group"" and will be used to mark if rule\nshould be used in SGs other than ""default"" one for the project.\n\nRelated-bug: #1983053\nChange-Id: Ic2fd7b00d4a9de150252eddaffd0409da0925e99\n'}]",4,883267,73f68a1fdae9631621f0c9a64261b3190c62bae9,21,4,3,11975,,,0,"Add ""used_in_non_default_sg"" attribute to the default SG rules API

This patch adds new parameter to the API of the default SG rules
templates API. New parameter is called
""used_in_non_default_security_group"" and will be used to mark if rule
should be used in SGs other than ""default"" one for the project.

Related-bug: #1983053
Change-Id: Ic2fd7b00d4a9de150252eddaffd0409da0925e99
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/67/883267/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/configurable-default-sg-rules.rst'],1,59eaaeec6bba1f774f914e6e14d5e6fa28db2ec2,bug/1983053," ""used_in_non_default_security_group"": True ""used_in_non_default_security_group"": True ""used_in_non_default_security_group"": False ""used_in_non_default_security_group"": False ""used_in_non_default_security_group"": True ""used_in_non_default_security_group"": True ""used_in_non_default_security_group"": True ""used_in_non_default_security_group"": True+------------------------+---------+------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +========================+=========+======+======+=======================================+ | id | uuid-str| No | R | Id of default security group rule. | +------------------------+---------+------+------+---------------------------------------+ | direction | String | Yes | CR | Direction in which the security group | | | | | | rule is applied. | +------------------------+---------+------+------+---------------------------------------+ | ethertype | String | No | CR | Must be IPv4 or IPv6. | +------------------------+---------+------+------+---------------------------------------+ | remote_group_id | String | No | CR | The remote group UUID to associate | | | | | | with this security group rule. | | | | | | Special value ``PARENT`` can be also | | | | | | used and it means to always use | | | | | | id of the security group in which | | | | | | will be created with such rule. | +------------------------+---------+------+------+---------------------------------------+ | protocol | String | No | CR | The IP protocol can be represented by | | | | | | a string, an integer, or null. | | | | | | Valid strings or integers are the | | | | | | same as for the | | | | | | ``security group rule``. | +------------------------+---------+------+------+---------------------------------------+ | port_range_min | String | No | CR | The minimum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +------------------------+---------+------+------+---------------------------------------+ | port_range_max | Integer | No | CR | The maximum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +------------------------+---------+------+------+---------------------------------------+ | remote_ip_prefix | Integer | No | CR | The remote IP prefix that is matched | | | | | | by this security group rule. | +------------------------+---------+------+------+---------------------------------------+ | standard_attr_id | Ingeger | Yes | R | Id of the associated standard | | | | | | attribute record. | +------------------------+---------+------+------+---------------------------------------+ | used_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | ``default`` security group which is | | | | | | created automatically for every | | | | | | project. Default value is ``False`` | +------------------------+---------+------+------+---------------------------------------+ | used_non_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | every ``non default`` security group. | | | | | | Default value is ``False`` | +------------------------+---------+------+------+---------------------------------------+","+--------------------+---------+------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +====================+=========+======+======+=======================================+ | id | uuid-str| No | R | Id of default security group rule. | +--------------------+---------+------+------+---------------------------------------+ | direction | String | Yes | CR | Direction in which the security group | | | | | | rule is applied. | +--------------------+---------+------+------+---------------------------------------+ | ethertype | String | No | CR | Must be IPv4 or IPv6. | +--------------------+---------+------+------+---------------------------------------+ | remote_group_id | String | No | CR | The remote group UUID to associate | | | | | | with this security group rule. | | | | | | Special value ``PARENT`` can be also | | | | | | used and it means to always use | | | | | | id of the security group in which | | | | | | will be created with such rule. | +--------------------+---------+------+------+---------------------------------------+ | protocol | String | No | CR | The IP protocol can be represented by | | | | | | a string, an integer, or null. | | | | | | Valid strings or integers are the | | | | | | same as for the | | | | | | ``security group rule``. | +--------------------+---------+------+------+---------------------------------------+ | port_range_min | String | No | CR | The minimum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +--------------------+---------+------+------+---------------------------------------+ | port_range_max | Integer | No | CR | The maximum port number in the | | | | | | range that is matched by the security | | | | | | group rule. | +--------------------+---------+------+------+---------------------------------------+ | remote_ip_prefix | Integer | No | CR | The remote IP prefix that is matched | | | | | | by this security group rule. | +--------------------+---------+------+------+---------------------------------------+ | standard_attr_id | Ingeger | Yes | R | Id of the associated standard | | | | | | attribute record. | +--------------------+---------+------+------+---------------------------------------+ | used_in_default_sg | Boolean | No | CR | If it is set to ``True`` such rule | | | | | | will be used in a template for the | | | | | | ``default`` security group which is | | | | | | created automatically for every | | | | | | project. Default value is ``False`` | +--------------------+---------+------+------+---------------------------------------+",56,43
openstack%2Fneutron-dynamic-routing~master~I71f59da65edc163aa5891cf0b0d9768d2538b7a7,openstack/neutron-dynamic-routing,master,I71f59da65edc163aa5891cf0b0d9768d2538b7a7,[alembic] Alembic operations require keywords only arguments,MERGED,2023-05-17 10:12:33.000000000,2023-05-19 11:43:21.000000000,2023-05-19 11:42:25.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 10:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a41d3cd66ba734c41e794e722236ebee27c2074a', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: I71f59da65edc163aa5891cf0b0d9768d2538b7a7\n'}, {'number': 2, 'created': '2023-05-17 11:28:39.000000000', 'files': ['neutron_dynamic_routing/db/migration/alembic_migrations/versions/newton/contract/4cf8bc3edb66_rename_tenant_to_project.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/513ea649be9fd652b0c5b391167f851bc3d653bb', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: I71f59da65edc163aa5891cf0b0d9768d2538b7a7\n'}]",1,883341,513ea649be9fd652b0c5b391167f851bc3d653bb,10,3,2,16688,,,0,"[alembic] Alembic operations require keywords only arguments

Since [1] (release 1.11.0), the Alembic operations ""now enforce
keyword-only arguments as passed as keyword and not positionally""
(from the commit message).

This change is compatible with the previous versions (as confirmed
in the CI).

[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4

Closes-Bug: #2019948
Change-Id: I71f59da65edc163aa5891cf0b0d9768d2538b7a7
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/41/883341/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/db/migration/alembic_migrations/versions/newton/contract/4cf8bc3edb66_rename_tenant_to_project.py'],1,a41d3cd66ba734c41e794e722236ebee27c2074a,bug/2019948," op.drop_index(index_name=op.f(old_name), table_name=table_name)"," op.drop_index(op.f(old_name), table_name)",1,1
openstack%2Fswift~master~I2a84d5b74d74967628973ad5d67749b787ba7590,openstack/swift,master,I2a84d5b74d74967628973ad5d67749b787ba7590,memcached: encapsulate common command parameters,MERGED,2023-05-18 11:32:57.000000000,2023-05-19 10:45:56.000000000,2023-05-19 10:43:50.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2023-05-18 11:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/642d5ee556cc639c041a4f1952c48df3c2a307fc', 'message': 'memcached: encapsulate common command parameters\n\nIntroduce a MemcacheCommand class to encapsulate some of the common\nparameters and functionality associated with the MemcacheRing methods.\n\nNo behavioural changes.\n\nChange-Id: I2a84d5b74d74967628973ad5d67749b787ba7590\nRelated-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\nRelated-Change: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 2, 'created': '2023-05-19 08:24:53.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f714f43c90ec6666edaf1ebedec9294d7b6d304e', 'message': 'memcached: encapsulate common command parameters\n\nIntroduce a MemcacheCommand class to encapsulate some of the common\nparameters and functionality associated with the MemcacheRing methods.\n\nNo behavioural changes.\n\nChange-Id: I2a84d5b74d74967628973ad5d67749b787ba7590\nRelated-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\nRelated-Change: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}]",4,883490,f714f43c90ec6666edaf1ebedec9294d7b6d304e,13,4,2,7847,,,0,"memcached: encapsulate common command parameters

Introduce a MemcacheCommand class to encapsulate some of the common
parameters and functionality associated with the MemcacheRing methods.

No behavioural changes.

Change-Id: I2a84d5b74d74967628973ad5d67749b787ba7590
Related-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47
Related-Change: I07491bb4ebc3baa13cf09f64a04a61011d561409
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/883490/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,642d5ee556cc639c041a4f1952c48df3c2a307fc,p-memcache-error-timing," MemcacheCommandclass TestMemcacheCommand(unittest.TestCase): def test_init(self): cmd = MemcacheCommand(""set"", ""shard-updating-v2/a/c"") self.assertEqual(cmd.method, ""set"") self.assertEqual(cmd.command, b""set"") self.assertEqual(cmd.key, ""shard-updating-v2/a/c"") self.assertEqual(cmd.key_prefix, ""shard-updating-v2/a"") self.assertEqual(cmd.hash_key, md5hash(""shard-updating-v2/a/c"")) def test_get_key_prefix(self): cmd = MemcacheCommand(""set"", ""shard-updating-v2/a/c"") self.assertEqual(cmd.key_prefix, ""shard-updating-v2/a"") cmd = MemcacheCommand(""set"", ""shard-listing-v2/accout/container3"") self.assertEqual(cmd.key_prefix, ""shard-listing-v2/accout"") cmd = MemcacheCommand( ""set"", ""auth_reseller_name/token/X58E34EL2SDFLEY3"") self.assertEqual(cmd.key_prefix, ""auth_reseller_name/token"") cmd = MemcacheCommand(""set"", ""nvratelimit/v2/wf/2345392374"") self.assertEqual(cmd.key_prefix, ""nvratelimit/v2/wf"") cmd = MemcacheCommand(""set"", ""some_key"") self.assertEqual(cmd.key_prefix, ""some_key"") self.set_cmd = MemcacheCommand('set', 'key') list(client._get_conns(self.set_cmd)) for conn in memcache_client._get_conns(self.set_cmd): for conn in memcache_client._get_conns(self.set_cmd): for conn in memcache_client._get_conns(self.set_cmd): for conn in memcache_client._get_conns(self.set_cmd): for conn in memcache_client._get_conns(self.set_cmd): conn_generator = memcache_client._get_conns(self.set_cmd)","from uuid import uuid4 get_key_prefix def test_get_key_prefix(self): self.assertEqual( get_key_prefix(""shard-updating-v2/a/c""), ""shard-updating-v2/a"") self.assertEqual( get_key_prefix(""shard-listing-v2/accout/container3""), ""shard-listing-v2/accout"") self.assertEqual( get_key_prefix(""auth_reseller_name/token/X58E34EL2SDFLEY3""), ""auth_reseller_name/token"") self.assertEqual( get_key_prefix(""nvratelimit/v2/wf/2345392374""), ""nvratelimit/v2/wf"") self.assertEqual(get_key_prefix(""some_key""), ""some_key"") key = uuid4().hex.encode('ascii') list(client._get_conns('set', 'test', key)) key = uuid4().hex.encode('ascii') for conn in memcache_client._get_conns('set', 'test', key): key = uuid4().hex.encode('ascii') for conn in memcache_client._get_conns('set', 'test', key): key = uuid4().hex.encode('ascii') for conn in memcache_client._get_conns('set', 'test', key): key = uuid4().hex.encode('ascii') for conn in memcache_client._get_conns('set', 'test', key): key = uuid4().hex.encode('ascii') for conn in memcache_client._get_conns('set', 'test', key): conn_generator = memcache_client._get_conns( 'set', 'key', md5hash(b'key'))",104,112
openstack%2Fcyborg~master~I7a97cecff3bdfa1ee80bb1d2ee5f8a9e9d1448cf,openstack/cyborg,master,I7a97cecff3bdfa1ee80bb1d2ee5f8a9e9d1448cf,Fix delete attribute api bug,NEW,2023-05-19 10:09:10.000000000,2023-05-19 10:44:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 10:09:10.000000000', 'files': ['cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/51df465d1baf20879680f60bdc7471dababdd08d', 'message': 'Fix delete attribute api bug\n\nCloses-Bug: #2020179\nChange-Id: I7a97cecff3bdfa1ee80bb1d2ee5f8a9e9d1448cf\n'}]",0,883651,51df465d1baf20879680f60bdc7471dababdd08d,2,1,1,31412,,,0,"Fix delete attribute api bug

Closes-Bug: #2020179
Change-Id: I7a97cecff3bdfa1ee80bb1d2ee5f8a9e9d1448cf
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/51/883651/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,51df465d1baf20879680f60bdc7471dababdd08d,bug/2020179," api_obj_attribute = objects.Attribute.get(context, uuid) api_obj_attribute.destroy(context)"," objects.Attribute.destroy(context, uuid)",2,1
openstack%2Frally-openstack~master~I62adcb49822c24d17167a63f94be5256fd5a697d,openstack/rally-openstack,master,I62adcb49822c24d17167a63f94be5256fd5a697d,Fix creating of Rally DB,MERGED,2023-02-09 17:16:23.000000000,2023-05-19 10:40:49.000000000,2023-05-19 10:40:49.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-09 17:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c04adf48e370727da60f51a7c8131a6d6b17e889', 'message': 'Fix creating of Rally DB\n\nRally-openstack requires Rally.\nCreation of Rally database was fixed in commit:\nhttps://github.com/openstack/rally/commit/14d449b2f1bc51416053d1e6bdd1a5cd915e527a\nBut the fix is not included yet in new Rally release,\nso we make some workaround untill then.\n\nChange-Id: I62adcb49822c24d17167a63f94be5256fd5a697d\n'}, {'number': 2, 'created': '2023-02-09 17:18:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7ec93aef2ee6e0cec9099d4edf681a39224a18c9', 'message': 'Fix creating of Rally DB\n\nRally-openstack requires Rally.\nCreation of Rally database was fixed in commit:\nhttps://github.com/openstack/rally/commit/14d449b2f1bc51416053d1e6bdd1a5cd915e527a\nBut the fix is not included yet in new Rally release,\nso we make some workaround untill then.\n\nRelated-Bug: #2004022\nChange-Id: I62adcb49822c24d17167a63f94be5256fd5a697d\n'}]",4,873306,7ec93aef2ee6e0cec9099d4edf681a39224a18c9,14,2,2,32927,,,0,"Fix creating of Rally DB

Rally-openstack requires Rally.
Creation of Rally database was fixed in commit:
https://github.com/openstack/rally/commit/14d449b2f1bc51416053d1e6bdd1a5cd915e527a
But the fix is not included yet in new Rally release,
so we make some workaround untill then.

Related-Bug: #2004022
Change-Id: I62adcb49822c24d17167a63f94be5256fd5a697d
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/06/873306/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c04adf48e370727da60f51a7c8131a6d6b17e889,bug/2004022,# keep until commit # https://github.com/openstack/rally/commit/14d449b2f1bc51416053d1e6bdd1a5cd915e527a # is included in new rally version (>3.3) SQLAlchemy<2.0.0 # MIT,,4,0
openstack%2Fopenstacksdk~master~I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2,openstack/openstacksdk,master,I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2,ironic: Add support for Introspection Rules,MERGED,2021-02-16 17:22:12.000000000,2023-05-19 10:14:54.000000000,2023-05-19 10:13:50.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 17:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/961d8ceccb9cc9b42a9fd57afa98ab05c1b591b7', 'message': 'Support Introspection rules for ironic API\n\n1. Create Introspection Rule\n2. Get Introspection Rules\n3. Get Introspection Rule\n4. Delete Introspection Rules\n5. Delete Introspection Rule\n\nChange-Id: I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2\n'}, {'number': 2, 'created': '2021-02-23 18:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/95d16a7b054c9dd29a860a3f0256d8a82338370b', 'message': 'Support Introspection rules for ironic API\n\n1. Create Introspection Rule\n2. Get Introspection Rules\n3. Get Introspection Rule\n4. Delete Introspection Rules\n5. Delete Introspection Rule\n\nStory: 2008193\nTask: 40958\nChange-Id: I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2\n'}, {'number': 3, 'created': '2023-05-16 09:54:38.000000000', 'files': ['doc/source/user/resources/baremetal_introspection/v1/introspection_rule.rst', 'openstack/baremetal_introspection/v1/introspection_rule.py', 'openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'releasenotes/notes/ironic-introspection_rules_support-18b0488a76800122.yaml', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/tests/unit/baremetal_introspection/v1/test_introspection_rule.py', 'doc/source/user/resources/baremetal_introspection/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8357f00424107902f1678171fabcf155f4784e4d', 'message': 'ironic: Add support for Introspection Rules\n\nhttps://docs.openstack.org/api-ref/baremetal-introspection/#introspection-rules\n\nChange-Id: I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2\nStory: 2008193\nTask: 40958\n'}]",40,775878,8357f00424107902f1678171fabcf155f4784e4d,17,4,3,32518,,,0,"ironic: Add support for Introspection Rules

https://docs.openstack.org/api-ref/baremetal-introspection/#introspection-rules

Change-Id: I3136eefe7733edb0a05c2e5ee6b90c74781d5bc2
Story: 2008193
Task: 40958
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/775878/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/resources/baremetal_introspection/v1/introspection_rules.rst', 'releasenotes/notes/ironic-introspection_rules_support-18b0488a76800122.yaml', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/tests/unit/baremetal_introspection/v1/test_introspection_rules.py', 'doc/source/user/resources/baremetal_introspection/index.rst', 'openstack/baremetal_introspection/v1/introspection_rules.py']",6,961d8ceccb9cc9b42a9fd57afa98ab05c1b591b7,2008193-40958,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.baremetal.v1 import _common from openstack import resource class IntrospectionRules(_common.ListMixin, resource.Resource): resources_key = 'introspection_rules' base_path = '/introspection_rules' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True allow_patch = True commit_method = 'PATCH' commit_jsonpatch = True _query_mapping = resource.QueryParameters( 'node', 'detail', fields={'type': _common.fields_type}, ) #: List of a logic statementd or operations in rules conditions = resource.Body('conditions', type=list) #: List of operations that will be performed if # conditions of this rule are fulfilled. actions = resource.Body('actions', type=list) #: Rule human-readable description description = resource.Body('description') #: Scope of an introspection rule scope = resource.Body('scope') #: The UUID of the resource. id = resource.Body('uuid', alternate_id=True) ",,265,0
openstack%2Fopenstacksdk~master~I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15,openstack/openstacksdk,master,I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15,Add find_share() for shared file system share resource,MERGED,2023-05-11 16:09:31.000000000,2023-05-19 10:07:37.000000000,2023-05-19 10:06:31.000000000,"[{'_account_id': 10239}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-11 16:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/71c1538d7b9dc2e7496a62ee0bee0e75b8275482', 'message': 'Add find_share() for sfs share resource\n\nChange-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15\n'}, {'number': 2, 'created': '2023-05-11 16:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d88ff9aa134adb5b7e321012e4effcbeb4f8fe18', 'message': 'Add find_share() for shared file system share resource\n\nChange-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15\n'}, {'number': 3, 'created': '2023-05-12 11:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/69d123792dd04a625d845b0c79f7f5e129555993', 'message': 'Add find_share() for shared file system share resource\n\nChange-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15\n'}, {'number': 4, 'created': '2023-05-15 10:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b99d516405b3b5010b503d545a12e4521d34c158', 'message': 'Add find_share() for shared file system share resource\n\nChange-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15\n'}, {'number': 5, 'created': '2023-05-17 09:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/315f81e349471c0dbe810adb5df6342b7c968f45', 'message': 'Add find_share() for shared file system share resource\n\nChange-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15\n'}, {'number': 6, 'created': '2023-05-18 08:11:26.000000000', 'files': ['openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'openstack/shared_file_system/v2/share.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/functional/shared_file_system/test_share.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1aa942500c0957e9dc49affa04c70a874dac55ba', 'message': 'Add find_share() for shared file system share resource\n\nChange-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15\n'}]",5,882979,1aa942500c0957e9dc49affa04c70a874dac55ba,18,4,6,32787,,,0,"Add find_share() for shared file system share resource

Change-Id: I5e6af38d47735eeb983d06c43ad2f9c9be9a6c15
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/79/882979/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'openstack/proxy.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/functional/shared_file_system/test_share.py']",5,71c1538d7b9dc2e7496a62ee0bee0e75b8275482,sfs," def test_find(self): sot = self.user_cloud.share.find_share(name_or_id=self.SHARE_ID) assert isinstance(sot, _share.Share) self.assertEqual(self.SHARE_ID, sot.id) ",,58,1
openstack%2Fironic~master~If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,openstack/ironic,master,If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,Fix anaconda stage2_id loading from image properties,MERGED,2023-05-04 12:45:06.000000000,2023-05-19 09:26:51.000000000,2023-05-19 09:25:40.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 12:45:06.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1', 'message': 'Fix anaconda stage2_id loading from image properties\n\nAnaconda stage2 location is not verified nor loaded when kernel\nand ramdisk instance info on a node is already populated, due\nto a condition removed by commit 4d653ac225.\nThis change implements a check based on stage2 label presence\nthat again allows stage2 to be processed separately from kernel\nand ramdisk.\n\nAnd changes incorrect parameter check_on_exit passed to\noslo_concurrency.processutils.execute() to the correct one,\ncheck_exit_code.\n\nChange-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5\n'}]",3,882285,7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1,16,3,1,35987,,,0,"Fix anaconda stage2_id loading from image properties

Anaconda stage2 location is not verified nor loaded when kernel
and ramdisk instance info on a node is already populated, due
to a condition removed by commit 4d653ac225.
This change implements a check based on stage2 label presence
that again allows stage2 to be processed separately from kernel
and ramdisk.

And changes incorrect parameter check_on_exit passed to
oslo_concurrency.processutils.execute() to the correct one,
check_exit_code.

Change-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/882285/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1,fix-anaconda-stage2," if 'stage2' in anaconda_labels: 'ksvalidator', ks_file.name, check_exit_code=[0], attempts=1"," 'ksvalidator', ks_file.name, check_on_exit=[0], attempts=1",2,1
openstack%2Fneutron~master~Ic5e7790377668d83be2cebbba8f6bfa09f7cee5e,openstack/neutron,master,Ic5e7790377668d83be2cebbba8f6bfa09f7cee5e,[alembic] Alembic operations require keywords only arguments,MERGED,2023-05-17 10:10:06.000000000,2023-05-19 09:20:09.000000000,2023-05-19 09:18:53.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 10:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08334b4328981683fe5d25ca87f97aff5f8a81df', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: Ic5e7790377668d83be2cebbba8f6bfa09f7cee5e\n'}, {'number': 2, 'created': '2023-05-17 13:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5000dce400dd488a27d1278ff65f7b976fb99be6', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: Ic5e7790377668d83be2cebbba8f6bfa09f7cee5e\n'}, {'number': 3, 'created': '2023-05-17 15:21:21.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/yoga/expand/1ffef8d6f371_rbac_target_tenant_to_target_project.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/7d9d8eeec6ad_rename_tenant_to_project.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43c756d728e36b538e4059e095b6cbdf78f3bcfd', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: Ic5e7790377668d83be2cebbba8f6bfa09f7cee5e\n'}]",6,883340,43c756d728e36b538e4059e095b6cbdf78f3bcfd,31,4,3,16688,,,0,"[alembic] Alembic operations require keywords only arguments

Since [1] (release 1.11.0), the Alembic operations ""now enforce
keyword-only arguments as passed as keyword and not positionally""
(from the commit message).

This change is compatible with the previous versions (as confirmed
in the CI).

[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4

Closes-Bug: #2019948
Change-Id: Ic5e7790377668d83be2cebbba8f6bfa09f7cee5e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/883340/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/yoga/expand/1ffef8d6f371_rbac_target_tenant_to_target_project.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/7d9d8eeec6ad_rename_tenant_to_project.py']",2,08334b4328981683fe5d25ca87f97aff5f8a81df,bug/2019948," op.drop_index(index_name=op.f(old_name), table_name=table_name)"," op.drop_index(op.f(old_name), table_name)",2,2
openstack%2Fkolla-ansible~master~Ida60abb2167a7bc1d15902d2fa0693b1dca536de,openstack/kolla-ansible,master,Ida60abb2167a7bc1d15902d2fa0693b1dca536de,systemd_worker: do not compare unit when restart policy is no,NEW,2023-05-11 19:55:41.000000000,2023-05-19 09:19:20.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-11 19:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bf84adaa0c83ea2a7c85df5e271fbf7bf9d59d4', 'message': 'systemd_worker: do not compare unit when restart policy is no\n\nChange-Id: Ida60abb2167a7bc1d15902d2fa0693b1dca536de\n'}, {'number': 2, 'created': '2023-05-12 07:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e0466d73e44c34db78a141b1d71164b7dfb056e', 'message': 'systemd_worker: do not compare unit when restart policy is no\n\nChange-Id: Ida60abb2167a7bc1d15902d2fa0693b1dca536de\n'}, {'number': 3, 'created': '2023-05-19 07:43:49.000000000', 'files': ['ansible/module_utils/kolla_systemd_worker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a875a1c0e19696f8d5e9bc2da574f26483fe6380', 'message': 'systemd_worker: do not compare unit when restart policy is no\n\nChange-Id: Ida60abb2167a7bc1d15902d2fa0693b1dca536de\n'}]",2,883034,a875a1c0e19696f8d5e9bc2da574f26483fe6380,11,3,3,22629,,,0,"systemd_worker: do not compare unit when restart policy is no

Change-Id: Ida60abb2167a7bc1d15902d2fa0693b1dca536de
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/883034/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/module_utils/kolla_systemd_worker.py'],1,9bf84adaa0c83ea2a7c85df5e271fbf7bf9d59d4,," if restart_policy == ""no"": return False ",,3,0
openstack%2Fmagnum~master~I89eb6e365aa3749fcdb94cc83628f224d94d9344,openstack/magnum,master,I89eb6e365aa3749fcdb94cc83628f224d94d9344,Change role name to control-plane,NEW,2023-05-19 08:43:18.000000000,2023-05-19 09:17:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 08:43:18.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'tools/sync/cinder-csi', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e46404101cfe1180128abf1960111f28577e7d49', 'message': 'Change role name to control-plane\n\nSince v1.20 the offical role name changed from master to control-plane.\n\nChange-Id: I89eb6e365aa3749fcdb94cc83628f224d94d9344\nSigned-off-by: Justin Lamp <justin.lamp@netways.de>\n'}]",0,883643,e46404101cfe1180128abf1960111f28577e7d49,2,1,1,34799,,,0,"Change role name to control-plane

Since v1.20 the offical role name changed from master to control-plane.

Change-Id: I89eb6e365aa3749fcdb94cc83628f224d94d9344
Signed-off-by: Justin Lamp <justin.lamp@netways.de>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/43/883643/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-octavia.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'tools/sync/cinder-csi', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-scaling.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",13,e46404101cfe1180128abf1960111f28577e7d49,," --patch '{""metadata"": {""labels"": {""node-role.kubernetes.io/control-plane"": """"}}}' echo ""Trying to label master node with node-role.kubernetes.io/control-plane=\""\"""""," --patch '{""metadata"": {""labels"": {""node-role.kubernetes.io/master"": """"}}}' echo ""Trying to label master node with node-role.kubernetes.io/master=\""\""""",19,19
openstack%2Fswift~master~I126d51dbde3bb20665b641f44cc59afbe46e798c,openstack/swift,master,I126d51dbde3bb20665b641f44cc59afbe46e798c,Proxy: container HEADs to use cache before reaching backend.,NEW,2023-05-19 06:13:48.000000000,2023-05-19 08:11:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 06:13:48.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/83a2597ee97a9a3a5bd4ac6702aafb6a37cb6d21', 'message': 'Proxy: container HEADs to use cache before reaching backend.\n\nChange-Id: I126d51dbde3bb20665b641f44cc59afbe46e798c\n'}]",3,883638,83a2597ee97a9a3a5bd4ac6702aafb6a37cb6d21,6,1,1,34930,,,0,"Proxy: container HEADs to use cache before reaching backend.

Change-Id: I126d51dbde3bb20665b641f44cc59afbe46e798c
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/883638/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/container.py']",2,83a2597ee97a9a3a5bd4ac6702aafb6a37cb6d21,container_info_cache," and record_type != 'object') or (req.method == 'HEAD'): may_get_listing_shards = True if req.method == 'GET' else False if req.method == 'HEAD' and info: headers = headers_from_container_info(info) resp = Response(request=req, body='') update_headers(resp, headers) resp.last_modified = Timestamp(headers['x-put-timestamp']).ceil() resp.environ['swift_x_timestamp'] = headers.get('x-timestamp') resp.accept_ranges = 'bytes' resp.content_type = 'application/json' elif (may_get_listing_shards and", and record_type != 'object'): may_get_listing_shards = True if (may_get_listing_shards and,43,3
openstack%2Fpuppet-aodh~master~Ic7ceb2f5e1213ecc7f94557e2ed308a745e9a759,openstack/puppet-aodh,master,Ic7ceb2f5e1213ecc7f94557e2ed308a745e9a759,DNM: Testing new rspec-puppet,ABANDONED,2023-05-18 02:11:45.000000000,2023-05-19 08:10:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 02:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/00a644e7e78ec423ce8664f4a03caa1767039147', 'message': 'DNM: Testing new rspec-puppet\n\nChange-Id: Ic7ceb2f5e1213ecc7f94557e2ed308a745e9a759\n'}, {'number': 2, 'created': '2023-05-18 02:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/506a59e15140639e05df191772679d7ddb8a0b8d', 'message': 'DNM: Testing new rspec-puppet\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/883458\nChange-Id: Ic7ceb2f5e1213ecc7f94557e2ed308a745e9a759\n'}, {'number': 3, 'created': '2023-05-18 04:20:59.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/58f3b947c7676d193399dca0320b7812e6574e33', 'message': 'DNM: Testing new rspec-puppet\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/883465/\nChange-Id: Ic7ceb2f5e1213ecc7f94557e2ed308a745e9a759\n'}]",0,883460,58f3b947c7676d193399dca0320b7812e6574e33,6,1,3,9816,,,0,"DNM: Testing new rspec-puppet

Depends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/883465/
Change-Id: Ic7ceb2f5e1213ecc7f94557e2ed308a745e9a759
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/60/883460/2 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,00a644e7e78ec423ce8664f4a03caa1767039147,rspec-puppet,,,0,0
openstack%2Fsahara~master~Id3f005dc63e0785df2a4cdf2fccd8585ece11d15,openstack/sahara,master,Id3f005dc63e0785df2a4cdf2fccd8585ece11d15,Add name param for start_tls_proxy funtion,MERGED,2022-04-19 11:11:58.000000000,2023-05-19 07:58:41.000000000,2023-05-19 07:56:14.000000000,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2022-04-19 11:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e472a5d3c0f20dc32765b75025130ff99ff0b731', 'message': 'Add name param for start_tls_proxy funtion\n\nChange-Id: Id3f005dc63e0785df2a4cdf2fccd8585ece11d15\n'}, {'number': 2, 'created': '2022-04-20 02:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8fc0568c0acc0c93f9029ba8e06f9b233b771e4b', 'message': 'Add name param for start_tls_proxy funtion\n\nChange-Id: Id3f005dc63e0785df2a4cdf2fccd8585ece11d15\n'}, {'number': 3, 'created': '2022-04-20 02:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dd70ac8c601ace553a527a6eb80a9334799d0f86', 'message': 'Add name param for start_tls_proxy funtion\n\nChange-Id: Id3f005dc63e0785df2a4cdf2fccd8585ece11d15\n'}, {'number': 4, 'created': '2022-04-22 07:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1dbd5bb746d4416a1297deec00dd13b97d45f93f', 'message': 'Add name param for start_tls_proxy funtion\n\nChange-Id: Id3f005dc63e0785df2a4cdf2fccd8585ece11d15\n'}, {'number': 5, 'created': '2022-04-22 07:20:16.000000000', 'files': ['devstack/plugin.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d7c7217b226b5d8faba2f94f7cc26396cf39838c', 'message': 'Add name param for start_tls_proxy funtion\n\nChange-Id: Id3f005dc63e0785df2a4cdf2fccd8585ece11d15\n'}]",13,838487,d7c7217b226b5d8faba2f94f7cc26396cf39838c,15,2,5,31412,,,0,"Add name param for start_tls_proxy funtion

Change-Id: Id3f005dc63e0785df2a4cdf2fccd8585ece11d15
",git fetch https://review.opendev.org/openstack/sahara refs/changes/87/838487/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e472a5d3c0f20dc32765b75025130ff99ff0b731,, start_tls_proxy sahara '*' $SAHARA_SERVICE_PORT \ $SAHARA_SERVICE_HOST \ $SAHARA_SERVICE_PORT_INT &, start_tls_proxy '*' $SAHARA_SERVICE_PORT \ $SAHARA_SERVICE_HOST \ $SAHARA_SERVICE_PORT_INT &,3,3
openstack%2Fsahara~master~I0d94b9941a9ab5ee1b03f6ddce84b9c584421d03,openstack/sahara,master,I0d94b9941a9ab5ee1b03f6ddce84b9c584421d03,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-09-13 12:32:38.000000000,2023-05-19 07:57:54.000000000,2023-05-19 07:56:12.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29423}]","[{'number': 1, 'created': '2022-09-13 12:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d0df59632c6b923f31fc057bfd0973bbcef768ae', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I0d94b9941a9ab5ee1b03f6ddce84b9c584421d03\n'}, {'number': 2, 'created': '2022-12-15 16:14:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ecc374abc929dd1e6c5320f4480d17300d5c2301', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I0d94b9941a9ab5ee1b03f6ddce84b9c584421d03\n'}]",1,857409,ecc374abc929dd1e6c5320f4480d17300d5c2301,12,4,2,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I0d94b9941a9ab5ee1b03f6ddce84b9c584421d03
",git fetch https://review.opendev.org/openstack/sahara refs/changes/09/857409/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d0df59632c6b923f31fc057bfd0973bbcef768ae,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fneutron-tempest-plugin~master~I1de7d570a43106af2bb0cda9af8703b9dc067eeb,openstack/neutron-tempest-plugin,master,I1de7d570a43106af2bb0cda9af8703b9dc067eeb,DNM Just test of the Zed job's time execution,ABANDONED,2023-03-08 13:25:50.000000000,2023-05-19 07:47:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-08 13:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5850a3a8d5b4afb3b284fbb0f64846a918b6b225', 'message': 'DNM Just test of the Zed job with latest stable/zed neutron-lib\n\nChange-Id: I1de7d570a43106af2bb0cda9af8703b9dc067eeb\n'}, {'number': 2, 'created': '2023-03-08 13:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1eb73cd15ace85f36c9c42759926ae8f308f76fe', 'message': 'DNM Just test of the Zed job with latest stable/zed neutron-lib\n\nChange-Id: I1de7d570a43106af2bb0cda9af8703b9dc067eeb\n'}, {'number': 3, 'created': '2023-03-28 10:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d5eb1844abc1fbd13fa2b553cc8fd8ff4ee5dc52', 'message': ""DNM Just test of the Zed job's time execution\n\nChange-Id: I1de7d570a43106af2bb0cda9af8703b9dc067eeb\n""}, {'number': 4, 'created': '2023-03-28 10:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e6591f5c6cb05d21f65da16f4d6828704d4c525a', 'message': ""DNM Just test of the Zed job's time execution\n\nChange-Id: I1de7d570a43106af2bb0cda9af8703b9dc067eeb\n""}, {'number': 5, 'created': '2023-03-31 08:28:15.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8a0211839bedbbdd86f48911f2ad5ab802167986', 'message': ""DNM Just test of the Zed job's time execution\n\nChange-Id: I1de7d570a43106af2bb0cda9af8703b9dc067eeb\n""}]",3,876869,8a0211839bedbbdd86f48911f2ad5ab802167986,13,1,5,11975,,,0,"DNM Just test of the Zed job's time execution

Change-Id: I1de7d570a43106af2bb0cda9af8703b9dc067eeb
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/69/876869/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zed_jobs.yaml'],1,5850a3a8d5b4afb3b284fbb0f64846a918b6b225,cleaning-eol-branches, required-projects: - openstack/neutron - openstack/tempest - name: openstack/neutron-lib override-checkout: stable/zed,,5,0
openstack%2Fproject-config~master~Id44d29533f5bac444d316cc46e1b239b69286ea5,openstack/project-config,master,Id44d29533f5bac444d316cc46e1b239b69286ea5,grafana: Update kolla dashboards with proper job names,MERGED,2023-05-16 08:05:21.000000000,2023-05-19 07:21:43.000000000,2023-05-19 07:15:34.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-16 08:05:21.000000000', 'files': ['grafana/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d423a4ae9d7fbfd9e2f51b21b0e76c6fd446d8f0', 'message': 'grafana: Update kolla dashboards with proper job names\n\nChange-Id: Id44d29533f5bac444d316cc46e1b239b69286ea5\n'}]",1,883234,d423a4ae9d7fbfd9e2f51b21b0e76c6fd446d8f0,11,4,1,22629,,,0,"grafana: Update kolla dashboards with proper job names

Change-Id: Id44d29533f5bac444d316cc46e1b239b69286ea5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/883234/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/kolla.yaml'],1,d423a4ae9d7fbfd9e2f51b21b0e76c6fd446d8f0,," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8s.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8s.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-rocky9') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check-arm64.project.opendev_org.openstack_kolla.master.job.kolla-build-ubuntu-aarch64.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-rocky9-aarch64') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-rocky9') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-rocky9-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-rocky9-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-rocky9-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8s-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8s-quay.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-publish-rocky9-quay')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8s.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-build-centos8s.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-build-centos8s') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-centos8s-source') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source-upgrade.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-centos8s-source-upgrade.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-centos8s-source-upgrade') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-debian-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-debian-source-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_kolla.master.job.kolla-ansible-ubuntu-source-upgrade-cephadm.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-ansible-ubuntu-source-upgrade-cephadm') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8s-quay.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_kolla.master.job.kolla-publish-centos8s-quay.{SUCCESS,FAILURE,TIMED_OUT})),'72hours'), 'kolla-publish-centos8s-quay')",15,12
openstack%2Fsahara~master~I97460f7d2bb300d0375a3b8d6c99ea8b1af1ab7f,openstack/sahara,master,I97460f7d2bb300d0375a3b8d6c99ea8b1af1ab7f,Update master for stable/2023.1,MERGED,2023-03-03 14:49:26.000000000,2023-05-19 07:05:25.000000000,2023-05-19 07:04:21.000000000,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-03-03 14:49:26.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/69083a6ea525e8c2775560a35083b51a159a193d', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I97460f7d2bb300d0375a3b8d6c99ea8b1af1ab7f\n'}]",1,876378,69083a6ea525e8c2775560a35083b51a159a193d,9,2,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I97460f7d2bb300d0375a3b8d6c99ea8b1af1ab7f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/78/876378/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,69083a6ea525e8c2775560a35083b51a159a193d,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fkolla-ansible~master~I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8,openstack/kolla-ansible,master,I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8,ansible: bump min to 2.13 and max to 2.14.2,MERGED,2023-05-18 15:31:20.000000000,2023-05-19 06:53:18.000000000,2023-05-19 06:52:21.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-18 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c499a2b44b00e77e41b19c250e6eef7919780c23', 'message': 'ansible: bump min to 2.13 and max to 2.14 (mgoddard remix)\n\nmariadb role bootstrap handlers have been reworked\ndue to a change in ansible-core [1].\n\n[1]: https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35\n\nChange-Id: I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8\nCo-Authored-By: Michal Nasiadka <michal@stackhpc.com>\n'}, {'number': 2, 'created': '2023-05-18 19:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a043fc11c2c61e4c2d3ac3d93d4e7459f3293e5', 'message': 'ansible: bump min to 2.13 and max to 2.14.2 (mgoddard remix)\n\nWe limit to 2.14.2 due to a regression in ansible-core [1].\n\n[1]: https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35\n\nChange-Id: I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8\nCo-Authored-By: Michal Nasiadka <michal@stackhpc.com>\n'}, {'number': 3, 'created': '2023-05-18 19:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/296d54e093eecae280f6b2d69f5a6f309b59960e', 'message': 'ansible: bump min to 2.13 and max to 2.14.2\n\nWe limit to 2.14.2 due to a regression in ansible-core [1].\n\n[1]: https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35\n\nChange-Id: I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8\nCo-Authored-By: Michal Nasiadka <michal@stackhpc.com>\n'}, {'number': 4, 'created': '2023-05-18 19:05:37.000000000', 'files': ['tests/run.yml', 'doc/source/user/quickstart.rst', 'doc/source/user/virtual-environments.rst', 'releasenotes/notes/ansible-2.14-d83c5ce197321353.yaml', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10fc1b748aac8fe4157537531f6e34d111bb879c', 'message': 'ansible: bump min to 2.13 and max to 2.14.2\n\nWe limit to 2.14.2 due to a regression in ansible-core [1] that breaks\nconditional include_task loops in handlers. This is used for controlled\nrestarts of MariaDB and RabbitMQ.\n\n[1]: https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35\n\nChange-Id: I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8\nCo-Authored-By: Michal Nasiadka <michal@stackhpc.com>\n'}]",1,883525,10fc1b748aac8fe4157537531f6e34d111bb879c,18,4,4,14826,,,0,"ansible: bump min to 2.13 and max to 2.14.2

We limit to 2.14.2 due to a regression in ansible-core [1] that breaks
conditional include_task loops in handlers. This is used for controlled
restarts of MariaDB and RabbitMQ.

[1]: https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35

Change-Id: I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8
Co-Authored-By: Michal Nasiadka <michal@stackhpc.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/883525/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/handlers/main.yml', 'tests/run.yml', 'doc/source/user/quickstart.rst', 'ansible/roles/mariadb/tasks/deploy.yml', 'doc/source/user/virtual-environments.rst', 'zuul.d/project.yaml', 'releasenotes/notes/ansible-2.14-d83c5ce197321353.yaml', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml']",9,c499a2b44b00e77e41b19c250e6eef7919780c23,,ansible_version_min: '2.13' ansible_version_max: '2.14',ansible_version_min: '2.12' ansible_version_max: '2.13',25,73
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4d3fb7ba5b33425e0efab9293b36c75ee9111f4b,openstack/tripleo-heat-templates,stable/wallaby,I4d3fb7ba5b33425e0efab9293b36c75ee9111f4b,Fix admin and internal Glance endpoint ports,MERGED,2023-05-05 18:50:55.000000000,2023-05-19 06:06:17.000000000,2023-05-19 06:06:17.000000000,"[{'_account_id': 6796}, {'_account_id': 9816}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 18:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96fce5216da514a72099ec1a66974ccbf184cb0f', 'message': 'Fix admin and internal Glance endpoint ports\n\nSeparate Glance service was introduced recently to adopt\nrecommendations outlined in OSSN-0090:\nId093613f9d410eb3fe5564a724c0f75275eeb4e8\n\nSome TLS-related environment files are missing in master and\nstable/zed, but present in stable/wallaby. So backport introduced\nregression.\n\nThis patch fixes inconsistend GlanceAdmin and GlanceInternal\nendpoint definitions in various environment files.\n\nRHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=2184424\nCloses-bug: #2018622\nChange-Id: I4d3fb7ba5b33425e0efab9293b36c75ee9111f4b\n'}, {'number': 2, 'created': '2023-05-18 12:59:28.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddd78c8e9053dce4a6f66cdaa6abccb51e107fb4', 'message': 'Fix admin and internal Glance endpoint ports\n\nSeparate Glance service was introduced recently to adopt\nrecommendations outlined in OSSN-0090:\nId093613f9d410eb3fe5564a724c0f75275eeb4e8\n\nSome TLS-related environment files are missing in master and\nstable/zed, but present in stable/wallaby. So backport introduced\nregression.\n\nThis patch fixes inconsistend GlanceAdmin and GlanceInternal\nendpoint definitions in various environment files.\n\nRHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=2184424\nCloses-bug: #2018622\nChange-Id: I4d3fb7ba5b33425e0efab9293b36c75ee9111f4b\n'}]",3,882474,ddd78c8e9053dce4a6f66cdaa6abccb51e107fb4,12,5,2,19234,,,0,"Fix admin and internal Glance endpoint ports

Separate Glance service was introduced recently to adopt
recommendations outlined in OSSN-0090:
Id093613f9d410eb3fe5564a724c0f75275eeb4e8

Some TLS-related environment files are missing in master and
stable/zed, but present in stable/wallaby. So backport introduced
regression.

This patch fixes inconsistend GlanceAdmin and GlanceInternal
endpoint definitions in various environment files.

RHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=2184424
Closes-bug: #2018622
Change-Id: I4d3fb7ba5b33425e0efab9293b36c75ee9111f4b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/882474/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml']",4,96fce5216da514a72099ec1a66974ccbf184cb0f,bug/2018622," GlanceAdmin: {protocol: 'http', port: '9293', host: 'IP_ADDRESS'} GlanceInternal: {protocol: 'http', port: '9293', host: 'IP_ADDRESS'}"," GlanceAdmin: {protocol: 'http', port: '9292', host: 'IP_ADDRESS'} GlanceInternal: {protocol: 'http', port: '9292', host: 'IP_ADDRESS'}",12,12
openstack%2Fmanila~master~Ic3795e26e538b85a178e3a2b6bf0a810c953c387,openstack/manila,master,Ic3795e26e538b85a178e3a2b6bf0a810c953c387,"db: Migrate ""share network"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-19 05:21:24.000000000,2023-05-19 03:43:29.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dd3d0022f7880a9bc9c8678279a5ca7d45174cc4', 'message': 'db: Migrate ""share network"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ic3795e26e538b85a178e3a2b6bf0a810c953c387\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/04b5f2e04636d32f513ec5c1e211b793f9201864', 'message': 'db: Migrate ""share network"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ic3795e26e538b85a178e3a2b6bf0a810c953c387\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/56ab504160a08db84b2fde2158890fae7a3174bd', 'message': 'db: Migrate ""share network"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ic3795e26e538b85a178e3a2b6bf0a810c953c387\n'}]",8,880198,56ab504160a08db84b2fde2158890fae7a3174bd,41,4,3,15334,,,0,"db: Migrate ""share network"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ic3795e26e538b85a178e3a2b6bf0a810c953c387
",git fetch https://review.opendev.org/openstack/manila refs/changes/98/880198/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,dd3d0022f7880a9bc9c8678279a5ca7d45174cc4,sqlalchemy-20,"def _security_service_get_query(context, project_only=False):def _share_network_get_query(context): return model_query( context, models.ShareNetwork, project_only=True, ).options( joinedload('share_instances'), joinedload('security_services'), subqueryload('share_network_subnets'), )@context_manager.writer network_ref.save(session=context.session) return _share_network_get(context, values['id'])@context_manager.writer def share_network_delete(context, id): network_ref = _share_network_get(context, id) network_ref.soft_delete(session=context.session)@context_manager.writer def share_network_update(context, id, values): network_ref = _share_network_get(context, id) network_ref.update(values) network_ref.save(session=context.session) return network_ref@context_manager.reader def share_network_get(context, id): return _share_network_get(context, id) @require_context def _share_network_get(context, id): result = _share_network_get_query(context).filter_by(id=id).first()@context_manager.reader def share_network_get_all_by_filter(context, filters=None): query = _share_network_get_query(context) legal_filter_keys = ('project_id', 'created_since', 'created_before') if not filters: filters = {} query = exact_filter( query, models.ShareNetwork, filters, legal_filter_keys, ) if 'security_service_id' in filters: security_service_id = filters.get('security_service_id') query = query.join( models.ShareNetworkSecurityServiceAssociation, models.ShareNetwork.id == models.ShareNetworkSecurityServiceAssociation.share_network_id, # noqa: E501 ).filter_by( security_service_id=security_service_id, deleted=0, ) return query.all()@context_manager.reader def share_network_get_all(context): return _share_network_get_query(context).all()@context_manager.reader def share_network_get_all_by_project(context, project_id): return _share_network_get_query( context, ).filter_by(project_id=project_id).all()@context_manager.reader def share_network_get_all_by_security_service(context, security_service_id): return model_query( context, models.ShareNetwork, ).join( models.ShareNetworkSecurityServiceAssociation, models.ShareNetwork.id == models.ShareNetworkSecurityServiceAssociation.share_network_id, ).filter_by(security_service_id=security_service_id, deleted=0).all()@context_manager.writer def share_network_add_security_service(context, id, security_service_id): assoc_ref = model_query( context, models.ShareNetworkSecurityServiceAssociation, ).filter_by( share_network_id=id, ).filter_by(security_service_id=security_service_id).first() if assoc_ref: msg = ""Already associated"" raise exception.ShareNetworkSecurityServiceAssociationError( share_network_id=id, security_service_id=security_service_id, reason=msg, share_nw_ref = _share_network_get(context, id) security_service_ref = _security_service_get(context, security_service_id) share_nw_ref.security_services += [security_service_ref] share_nw_ref.save(session=context.session)@context_manager.reader context, share_network_id, security_service_id, ): association = model_query( context, models.ShareNetworkSecurityServiceAssociation, ).filter_by( share_network_id=share_network_id, ).filter_by( security_service_id=security_service_id, ).first() return association@context_manager.writer def share_network_remove_security_service(context, id, security_service_id): share_nw_ref = _share_network_get(context, id) _security_service_get(context, security_service_id) assoc_ref = model_query( context, models.ShareNetworkSecurityServiceAssociation, ).filter_by( share_network_id=id, ).filter_by(security_service_id=security_service_id).first() if assoc_ref: assoc_ref.soft_delete(session=context.session) else: msg = ""No association defined"" raise exception.ShareNetworkSecurityServiceDissociationError( share_network_id=id, security_service_id=security_service_id, reason=msg, )@context_manager.writer def share_network_update_security_service( context, id, current_security_service_id, new_security_service_id, ): share_nw_ref = _share_network_get(context, id) # Check if the old security service exists _security_service_get(context, current_security_service_id) new_security_service_ref = _security_service_get( context, new_security_service_id, ) assoc_ref = model_query( context, models.ShareNetworkSecurityServiceAssociation, ).filter_by( share_network_id=id, ).filter_by( security_service_id=current_security_service_id, ).first() if assoc_ref: assoc_ref.soft_delete(session=context.session) else: msg = ""No association defined"" raise exception.ShareNetworkSecurityServiceDissociationError( share_network_id=id, security_service_id=current_security_service_id, reason=msg) # Add new association share_nw_ref.security_services += [new_security_service_ref] share_nw_ref.save(session=context.session) return share_nw_ref","# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _security_service_get_query(context, project_only=False, session=None): session=session,# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted session=session,def _network_get_query(context, session=None): if session is None: session = get_session() return (model_query(context, models.ShareNetwork, session=session, project_only=True). options(joinedload('share_instances'), joinedload('security_services'), subqueryload('share_network_subnets'))) session = get_session() with session.begin(): network_ref.save(session=session) return share_network_get(context, values['id'], session)def share_network_delete(context, id): session = get_session() with session.begin(): network_ref = share_network_get(context, id, session=session) network_ref.soft_delete(session)def share_network_update(context, id, values): session = get_session() with session.begin(): network_ref = share_network_get(context, id, session=session) network_ref.update(values) network_ref.save(session=session) return network_refdef share_network_get(context, id, session=None): result = _network_get_query(context, session).filter_by(id=id).first()def share_network_get_all_by_filter(context, filters=None): model_sn = models.ShareNetwork session = get_session() with session.begin(): query = _network_get_query(context, session=session) legal_filter_keys = ('project_id', 'created_since', 'created_before') if not filters: filters = {} query = exact_filter(query, model_sn, filters, legal_filter_keys) if 'security_service_id' in filters: security_service_id = filters.get('security_service_id') query = query.join( models.ShareNetworkSecurityServiceAssociation, models.ShareNetwork.id == models. ShareNetworkSecurityServiceAssociation. share_network_id).filter_by( security_service_id=security_service_id, deleted=0) return query.all()def share_network_get_all(context): return _network_get_query(context).all()def share_network_get_all_by_project(context, project_id): return _network_get_query(context).filter_by(project_id=project_id).all()def share_network_get_all_by_security_service(context, security_service_id): session = get_session() return (model_query(context, models.ShareNetwork, session=session). join(models.ShareNetworkSecurityServiceAssociation, models.ShareNetwork.id == models.ShareNetworkSecurityServiceAssociation.share_network_id). filter_by(security_service_id=security_service_id, deleted=0) .all())def share_network_add_security_service(context, id, security_service_id): session = get_session() with session.begin(): assoc_ref = (model_query( context, models.ShareNetworkSecurityServiceAssociation, session=session). filter_by(share_network_id=id). filter_by( security_service_id=security_service_id).first()) if assoc_ref: msg = ""Already associated"" raise exception.ShareNetworkSecurityServiceAssociationError( share_network_id=id, security_service_id=security_service_id, reason=msg) share_nw_ref = share_network_get(context, id, session=session) security_service_ref = _security_service_get( context, security_service_id, session=session, share_nw_ref.security_services += [security_service_ref] share_nw_ref.save(session=session) context, share_network_id, security_service_id): session = get_session() with session.begin(): association = (model_query( context, models.ShareNetworkSecurityServiceAssociation, session=session).filter_by( share_network_id=share_network_id).filter_by( security_service_id=security_service_id).first()) return associationdef share_network_remove_security_service(context, id, security_service_id): session = get_session() with session.begin(): share_nw_ref = share_network_get(context, id, session=session) _security_service_get(context, security_service_id, session=session) assoc_ref = (model_query( context, models.ShareNetworkSecurityServiceAssociation, session=session). filter_by(share_network_id=id). filter_by(security_service_id=security_service_id).first()) if assoc_ref: assoc_ref.soft_delete(session) else: msg = ""No association defined"" raise exception.ShareNetworkSecurityServiceDissociationError( share_network_id=id, security_service_id=security_service_id, reason=msg)def share_network_update_security_service(context, id, current_security_service_id, new_security_service_id): session = get_session() with session.begin(): share_nw_ref = share_network_get(context, id, session=session) # Check if the old security service exists _security_service_get( context, current_security_service_id, session=session, ) new_security_service_ref = _security_service_get( context, new_security_service_id, session=session, ) assoc_ref = (model_query( context, models.ShareNetworkSecurityServiceAssociation, session=session).filter_by( share_network_id=id).filter_by( security_service_id=current_security_service_id).first()) if assoc_ref: assoc_ref.soft_delete(session) else: msg = ""No association defined"" raise exception.ShareNetworkSecurityServiceDissociationError( share_network_id=id, security_service_id=current_security_service_id, reason=msg) # Add new association share_nw_ref.security_services += [new_security_service_ref] share_nw_ref.save(session=session) return share_nw_ref",138,143
openstack%2Fkolla-ansible~master~I1074d44a030b7b471c37be90d2644001d46850c6,openstack/kolla-ansible,master,I1074d44a030b7b471c37be90d2644001d46850c6,ironic: Enable automated cleaning by default,NEW,2023-05-17 13:09:30.000000000,2023-05-19 05:04:57.000000000,,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-17 13:09:30.000000000', 'files': ['ansible/roles/ironic/templates/ironic.conf.j2', 'releasenotes/notes/ironic-enable-cleaning-04a146dde358b8eb.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2246e38fe3648e92b93238723de912e7a82cc670', 'message': 'ironic: Enable automated cleaning by default\n\nAutomated cleaning is used to perform actions to sanitise a bare metal\nnode after use. It is an important part of a multi-tenant bare metal\ndeployment, and is enabled by default in Ironic. Kolla Ansible\npreviously disabled automated cleaning for simplicity, but this no\nlonger seems like a sensible default.\n\nThis change enables automated cleaning by default, providing Kolla with\na more secure default configuration for Ironic.\n\nChange-Id: I1074d44a030b7b471c37be90d2644001d46850c6\n'}]",2,883369,2246e38fe3648e92b93238723de912e7a82cc670,12,5,1,14826,,,0,"ironic: Enable automated cleaning by default

Automated cleaning is used to perform actions to sanitise a bare metal
node after use. It is an important part of a multi-tenant bare metal
deployment, and is enabled by default in Ironic. Kolla Ansible
previously disabled automated cleaning for simplicity, but this no
longer seems like a sensible default.

This change enables automated cleaning by default, providing Kolla with
a more secure default configuration for Ironic.

Change-Id: I1074d44a030b7b471c37be90d2644001d46850c6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/883369/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic.conf.j2', 'releasenotes/notes/ironic-enable-cleaning-04a146dde358b8eb.yaml']",2,2246e38fe3648e92b93238723de912e7a82cc670,,"--- upgrade: - | `Automated cleaning <https://docs.openstack.org/ironic/latest/admin/cleaning.html>`__ is now enabled by default for Ironic. This matches the default in Ironic. It requires a cleaning network to be configured via ``[neutron] ironic_cleaning_network`` in ``ironic.conf`` when using the ``flat`` or ``neutron`` Ironic network interfaces. To revert to the previous Kolla Ansible default of cleaning being disabled, set ``[conductor] automated_clean=false`` in ``ironic.conf``. ",,12,5
openstack%2Fpuppet-cinder~stable%2Fzed~I6b863938bf4e872f73ca5eda245d74cec3efdacf,openstack/puppet-cinder,stable/zed,I6b863938bf4e872f73ca5eda245d74cec3efdacf,Zed-only: Remove TripleO job,ABANDONED,2023-05-19 04:42:56.000000000,2023-05-19 04:54:04.000000000,,[],"[{'number': 1, 'created': '2023-05-19 04:42:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2f583b6eec0b92b6b5586c9d0af1344a04f61780', 'message': 'Zed-only: Remove TripleO job\n\n... because the stable/zed branch of TripleO repos is no longer\nmaintained.\n\nChange-Id: I6b863938bf4e872f73ca5eda245d74cec3efdacf\n'}]",0,883621,2f583b6eec0b92b6b5586c9d0af1344a04f61780,3,0,1,9816,,,0,"Zed-only: Remove TripleO job

... because the stable/zed branch of TripleO repos is no longer
maintained.

Change-Id: I6b863938bf4e872f73ca5eda245d74cec3efdacf
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/21/883621/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2f583b6eec0b92b6b5586c9d0af1344a04f61780,,, check: jobs: - puppet-cinder-tripleo-standalone gate: jobs: - puppet-cinder-tripleo-standalone - job: name: puppet-cinder-tripleo-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Cinder specific Tempest tests. vars: build_container_images: true featureset_override: run_tempest: false tempest_services: - cinder tempest_test_whitelist: - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' - 'tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern' use_os_tempest: true,0,22
openstack%2Frequirements~master~Ia3d23c43cf294b78207f9a04cba3283bbbe51cf3,openstack/requirements,master,Ia3d23c43cf294b78207f9a04cba3283bbbe51cf3,glance_store 4.4.0 denied!,ABANDONED,2023-05-18 20:23:40.000000000,2023-05-19 03:44:34.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 20:23:40.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5da1d94c1de7004668408f073e9c967abd73e4c5', 'message': 'glance_store 4.4.0 denied!\n\nThe glance_store 4.4.0 release (2023.2) contains a change [0] that\nintroduced a blocking library call for the thread running image\nimport jobs when the RBD store is used.  That change has been\nreverted [1] and glance_store for 2023.2 has been released as\n4.4.1 [2].\n\n[0] https://review.opendev.org/c/openstack/glance_store/+/861191\n[1] https://review.opendev.org/c/openstack/glance_store/+/883532\n[2] https://review.opendev.org/c/openstack/releases/+/883563\n\nChange-Id: Ia3d23c43cf294b78207f9a04cba3283bbbe51cf3\nRelated-bug: #2020122\n'}]",2,883568,5da1d94c1de7004668408f073e9c967abd73e4c5,6,2,1,5314,,,0,"glance_store 4.4.0 denied!

The glance_store 4.4.0 release (2023.2) contains a change [0] that
introduced a blocking library call for the thread running image
import jobs when the RBD store is used.  That change has been
reverted [1] and glance_store for 2023.2 has been released as
4.4.1 [2].

[0] https://review.opendev.org/c/openstack/glance_store/+/861191
[1] https://review.opendev.org/c/openstack/glance_store/+/883532
[2] https://review.opendev.org/c/openstack/releases/+/883563

Change-Id: Ia3d23c43cf294b78207f9a04cba3283bbbe51cf3
Related-bug: #2020122
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/883568/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,5da1d94c1de7004668408f073e9c967abd73e4c5,glance-store-4.4.0-denied,"glance-store!=0.29.0,!=4.4.0 # Apache-2.0",glance-store!=0.29.0 # Apache-2.0,1,1
openstack%2Fmasakari~master~Ib5cb678ff9683d576b5f059604dd5254fdaba48c,openstack/masakari,master,Ib5cb678ff9683d576b5f059604dd5254fdaba48c,migrate to alembic,ABANDONED,2023-05-18 07:08:21.000000000,2023-05-19 02:42:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 07:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f83496ea4de03920f105ec31cd87eb017955ac93', 'message': 'migrate to alembic\n\nStart to migrate to alembic, and the sqlalchemy-migrate will be removed\nentirely laterly.\n\nChange-Id: Ib5cb678ff9683d576b5f059604dd5254fdaba48c\n'}, {'number': 2, 'created': '2023-05-18 12:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/29b7eae526763eae0bc649af2a70b8f7e572ba70', 'message': 'migrate to alembic\n\nStart to migrate to alembic, and the sqlalchemy-migrate will be removed\nentirely laterly.\n\nChange-Id: Ib5cb678ff9683d576b5f059604dd5254fdaba48c\n'}, {'number': 3, 'created': '2023-05-19 00:13:01.000000000', 'files': ['masakari/cmd/manage.py', 'releasenotes/notes/switch-to-alembic-628ec27da63bd571.yaml', 'masakari/db/sqlalchemy/migration.py', 'masakari/db/sqlalchemy/migrations/env.py', 'masakari/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/5522b45c54240cd165357ccc10f3d7e1f51cd76a', 'message': 'migrate to alembic\n\nStart to migrate to alembic, and the sqlalchemy-migrate will be removed\nentirely laterly.\n\nChange-Id: Ib5cb678ff9683d576b5f059604dd5254fdaba48c\n'}]",0,883475,5522b45c54240cd165357ccc10f3d7e1f51cd76a,8,1,3,30623,,,0,"migrate to alembic

Start to migrate to alembic, and the sqlalchemy-migrate will be removed
entirely laterly.

Change-Id: Ib5cb678ff9683d576b5f059604dd5254fdaba48c
",git fetch https://review.opendev.org/openstack/masakari refs/changes/75/883475/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/cmd/manage.py', 'releasenotes/notes/switch-to-alembic-628ec27da63bd571.yaml', 'masakari/db/sqlalchemy/migration.py', 'masakari/db/sqlalchemy/migrations/env.py', 'masakari/tests/unit/db/test_migrations.py']",5,f83496ea4de03920f105ec31cd87eb017955ac93,," def include_object(self, object_, name, type_, reflected, compare_to):","from oslo_db.sqlalchemy import utils as oslodbutilsimport sqlalchemy from sqlalchemy.engine import reflection import sqlalchemy.exc def assertColumnExists(self, engine, table_name, column): self.assertTrue(oslodbutils.column_exists(engine, table_name, column), 'Column %s.%s does not exist' % (table_name, column)) def assertColumnNotExists(self, engine, table_name, column): self.assertFalse(oslodbutils.column_exists(engine, table_name, column), 'Column %s.%s should not exist' % (table_name, column)) def assertTableNotExists(self, engine, table): self.assertRaises(sqlalchemy.exc.NoSuchTableError, oslodbutils.get_table, engine, table) def assertIndexExists(self, engine, table_name, index): self.assertTrue(oslodbutils.index_exists(engine, table_name, index), 'Index %s on table %s does not exist' % (index, table_name)) def assertIndexNotExists(self, engine, table_name, index): self.assertFalse(oslodbutils.index_exists(engine, table_name, index), 'Index %s on table %s should not exist' % (index, table_name)) def assertIndexMembers(self, engine, table, index, members): self.assertIndexExists(engine, table, index) t = oslodbutils.get_table(engine, table) index_columns = None for idx in t.indexes: if idx.name == index: index_columns = [c.name for c in idx.columns] break self.assertEqual(members, index_columns) def include_object(self, object_, name, type_, reflected, compare_to): if type_ == 'table': # migrate_version is a sqlalchemy-migrate control table and # isn't included in the model. shadow_* are generated from # the model and have their own tests to ensure they don't # drift. if name == 'migrate_version' or name.startswith('shadow_'): return False def test_walk_versions(self): self.walk_versions(snake_walk=False, downgrade=False) def _check_001(self, engine, data): self.assertColumnExists(engine, 'failover_segments', 'uuid') self.assertColumnExists(engine, 'failover_segments', 'name') self.assertColumnExists(engine, 'failover_segments', 'service_type') self.assertColumnExists(engine, 'failover_segments', 'description') self.assertColumnExists(engine, 'failover_segments', 'recovery_method') self.assertIndexMembers(engine, 'failover_segments', 'segments_service_type_idx', ['service_type']) def _check_002(self, engine, data): self.assertColumnExists(engine, 'hosts', 'uuid') self.assertColumnExists(engine, 'hosts', 'name') self.assertColumnExists(engine, 'hosts', 'reserved') self.assertColumnExists(engine, 'hosts', 'type') self.assertColumnExists(engine, 'hosts', 'control_attributes') self.assertColumnExists(engine, 'hosts', 'failover_segment_id') self.assertColumnExists(engine, 'hosts', 'on_maintenance') self.assertColumnExists(engine, 'hosts', 'type') self.assertIndexMembers(engine, 'hosts', 'hosts_type_idx', ['type']) def _check_003(self, engine, data): inspector = reflection.Inspector.from_engine(engine) constraints = inspector.get_unique_constraints('hosts') constraint_names = [constraint['name'] for constraint in constraints] self.assertIn('uniq_host0name0deleted', constraint_names) def _check_004(self, engine, data): self.assertColumnExists(engine, 'notifications', 'notification_uuid') self.assertColumnExists(engine, 'notifications', 'generated_time') self.assertColumnExists(engine, 'notifications', 'source_host_uuid') self.assertColumnExists(engine, 'notifications', 'type') self.assertColumnExists(engine, 'notifications', 'payload') self.assertColumnExists(engine, 'notifications', 'status') def _check_005(self, engine, data): failover_segments = oslodbutils.get_table(engine, 'failover_segments') hosts = oslodbutils.get_table(engine, 'hosts') for table in [failover_segments, hosts]: self.assertTrue(table.c.created_at.nullable) def _check_006(self, engine, data): self.assertColumnExists(engine, 'logbooks', 'created_at') self.assertColumnExists(engine, 'logbooks', 'updated_at') self.assertColumnExists(engine, 'logbooks', 'meta') self.assertColumnExists(engine, 'logbooks', 'name') self.assertColumnExists(engine, 'logbooks', 'uuid') self.assertColumnExists(engine, 'flowdetails', 'created_at') self.assertColumnExists(engine, 'flowdetails', 'updated_at') self.assertColumnExists(engine, 'flowdetails', 'parent_uuid') self.assertColumnExists(engine, 'flowdetails', 'meta') self.assertColumnExists(engine, 'flowdetails', 'name') self.assertColumnExists(engine, 'flowdetails', 'state') self.assertColumnExists(engine, 'flowdetails', 'uuid') self.assertColumnExists(engine, 'atomdetails', 'created_at') self.assertColumnExists(engine, 'atomdetails', 'updated_at') self.assertColumnExists(engine, 'atomdetails', 'parent_uuid') self.assertColumnExists(engine, 'atomdetails', 'meta') self.assertColumnExists(engine, 'atomdetails', 'name') self.assertColumnExists(engine, 'atomdetails', 'results') self.assertColumnExists(engine, 'atomdetails', 'version') self.assertColumnExists(engine, 'atomdetails', 'state') self.assertColumnExists(engine, 'atomdetails', 'uuid') self.assertColumnExists(engine, 'atomdetails', 'failure') self.assertColumnExists(engine, 'atomdetails', 'atom_type') self.assertColumnExists(engine, 'atomdetails', 'intention') self.assertColumnExists(engine, 'atomdetails', 'revert_results') self.assertColumnExists(engine, 'atomdetails', 'revert_failure') def _check_007(self, engine, data): self.assertColumnExists(engine, 'failover_segments', 'enabled') def _check_008(self, engine, data): self.assertColumnExists(engine, 'vmoves', 'uuid') self.assertColumnExists(engine, 'vmoves', 'notification_uuid') self.assertColumnExists(engine, 'vmoves', 'instance_uuid') self.assertColumnExists(engine, 'vmoves', 'instance_name') self.assertColumnExists(engine, 'vmoves', 'source_host') self.assertColumnExists(engine, 'vmoves', 'dest_host') self.assertColumnExists(engine, 'vmoves', 'start_time') self.assertColumnExists(engine, 'vmoves', 'end_time') self.assertColumnExists(engine, 'vmoves', 'type') self.assertColumnExists(engine, 'vmoves', 'status') self.assertColumnExists(engine, 'vmoves', 'message') ",94,201
openstack%2Fironic~master~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,master,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-05-11 18:09:50.000000000,2023-05-19 02:24:45.000000000,2023-05-19 02:21:39.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 18:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba06783a1206197c7ea51d46ad0824d47044d2ca', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 2, 'created': '2023-05-11 22:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/428920d6a61d883cd0238b63dfaa9b43d927f64c', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 3, 'created': '2023-05-16 15:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f257cbdbd6343e517bb2ae38c2d814dc3d9826c', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 4, 'created': '2023-05-16 16:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f02e52db5d531b81e791991d715a628ee9bbd6b3', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 5, 'created': '2023-05-16 16:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8aec1652af04395a4e6cb3124bf882acf9bd6d0c', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 6, 'created': '2023-05-16 17:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca64639751b072e3482ad1676d25177830733165', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 7, 'created': '2023-05-16 17:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a756e5aa6dec0996dbeb567cef5a4e69d745060', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 8, 'created': '2023-05-16 19:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cca2efa76c7729b1b716d40a954660458ae36ffe', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 9, 'created': '2023-05-16 20:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e21b59178d9f8c01559ad87f6ae980c94c1e6cb2', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 10, 'created': '2023-05-16 21:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b207aa6ea2d84e94bbedc0287358b8f9d8ecf93', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 11, 'created': '2023-05-16 23:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/adb6f7daf141606d65a00da0aed64055a450a64f', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 12, 'created': '2023-05-17 00:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/44d4da2c27d6dc53cd0a6f1102577b1b54e422a9', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 13, 'created': '2023-05-17 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a592cc802a067a6d38eab971dc9ccf1af20bef0', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 14, 'created': '2023-05-17 18:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c6bad6b4768863ca42c38b7587dc7b7b1a3279a', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 15, 'created': '2023-05-17 21:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/82fd8876a48f43c023f2b645b6eb5836b7588151', 'message': 'WIP bfv service change\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 16, 'created': '2023-05-17 23:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7dffe2205403add948189705532e97e4cc7800df', 'message': 'WIP Fix Cinder Integration fallout from CVE-2023-2088\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 17, 'created': '2023-05-18 13:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16b4295a0b359efbb0d026153af964e7a5a327a2', 'message': 'WIP Fix Cinder Integration fallout from CVE-2023-2088\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 18, 'created': '2023-05-18 14:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa3f6d81fbc7bc7dd0be31a5977b27cdadf567a9', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}, {'number': 19, 'created': '2023-05-18 14:43:37.000000000', 'files': ['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'zuul.d/project.yaml', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c0b4c90a19fc1db262a942a1b6a1baafc881ccc', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n'}]",51,882985,9c0b4c90a19fc1db262a942a1b6a1baafc881ccc,78,3,19,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/882985/17 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ba06783a1206197c7ea51d46ad0824d47044d2ca,, iniset $IRONIC_CONF_FILE keystone_authtoken service_token_roles_required True,,1,1
openstack%2Fnova~stable%2Fwallaby~I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4,openstack/nova,stable/wallaby,I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4,Enable use of service user token with admin context,MERGED,2023-05-10 15:05:57.000000000,2023-05-19 02:21:09.000000000,2023-05-18 22:24:43.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/321cbb5716bd97f634394979e770028c19f87726', 'message': ""Enable use of service user token with admin context\n\nWhen the [service_user] section is configured in nova.conf, nova will\nhave the ability to send a service user token alongside the user's\ntoken. The service user token is sent when nova calls other services'\nREST APIs to authenticate as a service, and service calls can sometimes\nhave elevated privileges.\n\nCurrently, nova does not however have the ability to send a service user\ntoken with an admin context. This means that when nova makes REST API\ncalls to other services with an anonymous admin RequestContext (such as\nin nova-manage or periodic tasks), it will not be authenticated as a\nservice.\n\nThis adds a keyword argument to service_auth.get_auth_plugin() to\nenable callers to provide a user_auth object instead of attempting to\nextract the user_auth from the RequestContext.\n\nThe cinder and neutron client modules are also adjusted to make use of\nthe new user_auth keyword argument so that nova calls made with\nanonymous admin request contexts can authenticate as a service when\nconfigured.\n\nRelated-Bug: #2004555\n\nChange-Id: I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4\n(cherry picked from commit 41c64b94b0af333845e998f6cc195e72ca5ab6bc)\n(cherry picked from commit 1f781423ee4224c0871ab4aafec191bb2f7ef0e4)\n(cherry picked from commit 0d6dd6c67f56c9d4ed36246d14f119da6bca0a5a)\n(cherry picked from commit 98c3e3707c08a07f7ca5996086b165512f604ad6)\n(cherry picked from commit 6cc4e7fb9ac49606c598e72fcd3d6cf02efac4f1)\n""}, {'number': 2, 'created': '2023-05-15 17:47:38.000000000', 'files': ['nova/service_auth.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/network/neutron.py', 'nova/volume/cinder.py', 'nova/tests/unit/test_service_auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/48150a6fbab7e2a7b9fbeaa39110d0e6f7f37aaf', 'message': ""Enable use of service user token with admin context\n\nWhen the [service_user] section is configured in nova.conf, nova will\nhave the ability to send a service user token alongside the user's\ntoken. The service user token is sent when nova calls other services'\nREST APIs to authenticate as a service, and service calls can sometimes\nhave elevated privileges.\n\nCurrently, nova does not however have the ability to send a service user\ntoken with an admin context. This means that when nova makes REST API\ncalls to other services with an anonymous admin RequestContext (such as\nin nova-manage or periodic tasks), it will not be authenticated as a\nservice.\n\nThis adds a keyword argument to service_auth.get_auth_plugin() to\nenable callers to provide a user_auth object instead of attempting to\nextract the user_auth from the RequestContext.\n\nThe cinder and neutron client modules are also adjusted to make use of\nthe new user_auth keyword argument so that nova calls made with\nanonymous admin request contexts can authenticate as a service when\nconfigured.\n\nRelated-Bug: #2004555\n\nChange-Id: I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4\n(cherry picked from commit 41c64b94b0af333845e998f6cc195e72ca5ab6bc)\n(cherry picked from commit 1f781423ee4224c0871ab4aafec191bb2f7ef0e4)\n(cherry picked from commit 0d6dd6c67f56c9d4ed36246d14f119da6bca0a5a)\n(cherry picked from commit 98c3e3707c08a07f7ca5996086b165512f604ad6)\n(cherry picked from commit 6cc4e7fb9ac49606c598e72fcd3d6cf02efac4f1)\n""}]",4,882870,48150a6fbab7e2a7b9fbeaa39110d0e6f7f37aaf,29,4,2,4690,,,0,"Enable use of service user token with admin context

When the [service_user] section is configured in nova.conf, nova will
have the ability to send a service user token alongside the user's
token. The service user token is sent when nova calls other services'
REST APIs to authenticate as a service, and service calls can sometimes
have elevated privileges.

Currently, nova does not however have the ability to send a service user
token with an admin context. This means that when nova makes REST API
calls to other services with an anonymous admin RequestContext (such as
in nova-manage or periodic tasks), it will not be authenticated as a
service.

This adds a keyword argument to service_auth.get_auth_plugin() to
enable callers to provide a user_auth object instead of attempting to
extract the user_auth from the RequestContext.

The cinder and neutron client modules are also adjusted to make use of
the new user_auth keyword argument so that nova calls made with
anonymous admin request contexts can authenticate as a service when
configured.

Related-Bug: #2004555

Change-Id: I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4
(cherry picked from commit 41c64b94b0af333845e998f6cc195e72ca5ab6bc)
(cherry picked from commit 1f781423ee4224c0871ab4aafec191bb2f7ef0e4)
(cherry picked from commit 0d6dd6c67f56c9d4ed36246d14f119da6bca0a5a)
(cherry picked from commit 98c3e3707c08a07f7ca5996086b165512f604ad6)
(cherry picked from commit 6cc4e7fb9ac49606c598e72fcd3d6cf02efac4f1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/882870/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service_auth.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/network/neutron.py', 'nova/volume/cinder.py', 'nova/tests/unit/test_service_auth.py']",6,321cbb5716bd97f634394979e770028c19f87726,bug/2004555," @mock.patch.object(ks_loading, 'load_auth_from_conf_options', new=mock.Mock()) def test_get_auth_plugin_user_auth(self): self.flags(send_service_user_token=True, group='service_user') user_auth = mock.Mock() result = service_auth.get_auth_plugin(self.ctx, user_auth=user_auth) self.assertEqual(user_auth, result.user_auth)",,51,8
openstack%2Fpuppet-nova~stable%2Fwallaby~I41bc31e92119810ca7cd5c3a57179d932923072f,openstack/puppet-nova,stable/wallaby,I41bc31e92119810ca7cd5c3a57179d932923072f,Remove logic to look up removed parameters,ABANDONED,2023-05-19 02:12:06.000000000,2023-05-19 02:12:28.000000000,,[],"[{'number': 1, 'created': '2023-05-19 02:12:06.000000000', 'files': ['manifests/compute/image_cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fa95bd9066fce219cf893aa15d63809333dd6986', 'message': 'Remove logic to look up removed parameters\n\nThese lines should have been removed when we removed the deprecated\nimage cache parameters from the nova::compute::libvirt class[1].\n\n[1] 369f0509795e29a99a3e13bbd8257e8643bc2014\n\nChange-Id: I41bc31e92119810ca7cd5c3a57179d932923072f\n(cherry picked from commit 04a8a01806447f67f1a46f8ffc77c5616f67b844)\n(cherry picked from commit 42c668545b3635660021ca9e342cea63e6328081)\n(cherry picked from commit 7666f55bc12c8b40489b8a58fd014188eed784f7)\n(cherry picked from commit 185adaf497b693c22c406713fc51cc2896f8a333)\n(cherry picked from commit 10e82ee4240c654462151506802301b23b8bfcca)\n'}]",0,883613,fa95bd9066fce219cf893aa15d63809333dd6986,2,0,1,9816,,,0,"Remove logic to look up removed parameters

These lines should have been removed when we removed the deprecated
image cache parameters from the nova::compute::libvirt class[1].

[1] 369f0509795e29a99a3e13bbd8257e8643bc2014

Change-Id: I41bc31e92119810ca7cd5c3a57179d932923072f
(cherry picked from commit 04a8a01806447f67f1a46f8ffc77c5616f67b844)
(cherry picked from commit 42c668545b3635660021ca9e342cea63e6328081)
(cherry picked from commit 7666f55bc12c8b40489b8a58fd014188eed784f7)
(cherry picked from commit 185adaf497b693c22c406713fc51cc2896f8a333)
(cherry picked from commit 10e82ee4240c654462151506802301b23b8bfcca)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/13/883613/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/image_cache.pp'],1,fa95bd9066fce219cf893aa15d63809333dd6986,, 'image_cache/remove_unused_base_images': value => $remove_unused_base_images; 'image_cache/remove_unused_original_minimum_age_seconds': value => $remove_unused_original_minimum_age_seconds; 'image_cache/remove_unused_resized_minimum_age_seconds': value => $remove_unused_resized_minimum_age_seconds;," $remove_unused_base_images_real = pick( $::nova::compute::libvirt::remove_unused_base_images, $remove_unused_base_images) $remove_unused_original_minimum_age_seconds_real = pick( $::nova::compute::libvirt::remove_unused_original_minimum_age_seconds, $remove_unused_original_minimum_age_seconds) $remove_unused_resized_minimum_age_seconds_real = pick( $::nova::compute::libvirt::remove_unused_resized_minimum_age_seconds, $remove_unused_resized_minimum_age_seconds) 'image_cache/remove_unused_base_images': value => $remove_unused_base_images_real; 'image_cache/remove_unused_original_minimum_age_seconds': value => $remove_unused_original_minimum_age_seconds_real; 'image_cache/remove_unused_resized_minimum_age_seconds': value => $remove_unused_resized_minimum_age_seconds_real;",3,15
openstack%2Fcharm-mysql-innodb-cluster~master~Ic46da9695f414317c539f9eef17a4cf5783c455c,openstack/charm-mysql-innodb-cluster,master,Ic46da9695f414317c539f9eef17a4cf5783c455c,Fix issues when the leader is not in the cluster,MERGED,2023-04-03 14:45:17.000000000,2023-05-19 01:41:10.000000000,2023-05-19 01:41:10.000000000,"[{'_account_id': 2424}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-03 14:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/86578800d2a767c998ec77fcc932fe4cb6135ca1', 'message': ""Fix issues when the leader is not in the cluster\n\nEssentially, if GR is down and the unit is the leader it spends ages in\nhooks trying to essentially check databases and users and essentially\ndoing nothing.  Get it to run the hook quicker as it can't do anything.\n\nChange-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c\n""}, {'number': 2, 'created': '2023-04-05 10:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/507a98be0803b413b0899c24e0fb330583aff6e6', 'message': ""Fix issues when the leader is not in the cluster\n\nEssentially, if GR is down and the unit is the leader it spends ages in\nhooks trying to essentially check databases and users and essentially\ndoing nothing.  Get it to run the hook quicker as it can't do anything.\n\nChange-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c\n""}, {'number': 3, 'created': '2023-04-06 15:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/02ab3e9bf33f09307dac28380a33a77e1351afba', 'message': ""Fix issues when the leader is not in the cluster\n\nEssentially, if GR is down and the unit is the leader it spends ages in\nhooks trying to essentially check databases and users and essentially\ndoing nothing.  Get it to run the hook quicker as it can't do anything.\n\nChange-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c\n""}, {'number': 4, 'created': '2023-05-17 07:10:52.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a5d5db403ec5d41af00190439c5b5e41f5c63f41', 'message': ""Fix issues when the leader is not in the cluster\n\nEssentially, if GR is down and the unit is the leader it spends ages in\nhooks trying to essentially check databases and users and essentially\ndoing nothing.  Get it to run the hook quicker as it can't do anything.\n\nChange-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c\n""}]",6,879351,a5d5db403ec5d41af00190439c5b5e41f5c63f41,28,5,4,20870,,,0,"Fix issues when the leader is not in the cluster

Essentially, if GR is down and the unit is the leader it spends ages in
hooks trying to essentially check databases and users and essentially
doing nothing.  Get it to run the hook quicker as it can't do anything.

Change-Id: Ic46da9695f414317c539f9eef17a4cf5783c455c
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/51/879351/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_innodb_cluster.py'],1,86578800d2a767c998ec77fcc932fe4cb6135ca1,fix-hook-execution-leader-not-in-cluster," return None if not rw_helper: ch_core.hookenv.log( ""create_databases_and_users: the rw helper for the cluster is "" ""not available and so skipping create_databases_and_users"", ""WARNING"") return False", return,7,1
openstack%2Fcharm-nova-cloud-controller~master~I31e95e227f82a4049d5f639516ed4ef5ef52d354,openstack/charm-nova-cloud-controller,master,I31e95e227f82a4049d5f639516ed4ef5ef52d354,Sync with charm-helpers,MERGED,2023-05-18 19:24:08.000000000,2023-05-19 01:40:50.000000000,2023-05-19 01:40:50.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 19:24:08.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9adc198f74a7a5270acf0b295b16f004c41a2d59', 'message': 'Sync with charm-helpers\n\nThis sync includes these patches to charm helpers:\n\nhttps://github.com/juju/charm-helpers/pull/740\nhttps://github.com/juju/charm-helpers/pull/757\n\nBoth are meant to include templates to configure service tokens\nin juju charms as shown in this lp bug:\n\nRelated-Bug: #1992840\nChange-Id: I31e95e227f82a4049d5f639516ed4ef5ef52d354\n'}]",1,883564,9adc198f74a7a5270acf0b295b16f004c41a2d59,8,3,1,34275,,,0,"Sync with charm-helpers

This sync includes these patches to charm helpers:

https://github.com/juju/charm-helpers/pull/740
https://github.com/juju/charm-helpers/pull/757

Both are meant to include templates to configure service tokens
in juju charms as shown in this lp bug:

Related-Bug: #1992840
Change-Id: I31e95e227f82a4049d5f639516ed4ef5ef52d354
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/64/883564/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py']",6,9adc198f74a7a5270acf0b295b16f004c41a2d59,lp1992840," env=env_proxy_settings(['https', 'no_proxy']))", env=env_proxy_settings(['https'])),32,8
openstack%2Fwatcher-tempest-plugin~master~I63deab4384511e35f94d78ad9f1939c95f148b09,openstack/watcher-tempest-plugin,master,I63deab4384511e35f94d78ad9f1939c95f148b09,Update hacking version to latest,ABANDONED,2019-01-26 04:08:21.000000000,2023-05-19 01:08:46.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28748}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-26 04:08:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/724957ff118ea65d7ad2061b00be6908bb295a55', 'message': 'Update hacking version to latest\n\nChange-Id: I63deab4384511e35f94d78ad9f1939c95f148b09\n'}]",0,633329,724957ff118ea65d7ad2061b00be6908bb295a55,13,6,1,29423,,,0,"Update hacking version to latest

Change-Id: I63deab4384511e35f94d78ad9f1939c95f148b09
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/29/633329/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,724957ff118ea65d7ad2061b00be6908bb295a55,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.13,>=0.12.0 # Apache-2.0",1,1
openstack%2Fmurano-tempest-plugin~master~Ie45de657dd4deb1ed9ce9d252511b53a7105a121,openstack/murano-tempest-plugin,master,Ie45de657dd4deb1ed9ce9d252511b53a7105a121,Update hacking version to latest,ABANDONED,2019-01-26 03:53:59.000000000,2023-05-19 01:08:22.000000000,,"[{'_account_id': 14107}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-26 03:53:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/b8f1dea4bfdc124f74cc3e6a7f4ea92c954cad8a', 'message': 'Update hacking version to latest\n\nChange-Id: Ie45de657dd4deb1ed9ce9d252511b53a7105a121\n'}]",0,633317,b8f1dea4bfdc124f74cc3e6a7f4ea92c954cad8a,8,6,1,29423,,,0,"Update hacking version to latest

Change-Id: Ie45de657dd4deb1ed9ce9d252511b53a7105a121
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/17/633317/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b8f1dea4bfdc124f74cc3e6a7f4ea92c954cad8a,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.13,>=0.12.0 # Apache-2.0",1,1
openstack%2Ftempest~master~I7fd475c0cb92968f8dcac69e79c01aba155fa412,openstack/tempest,master,I7fd475c0cb92968f8dcac69e79c01aba155fa412,DNM: testing nova new defaults setting change in devstack,ABANDONED,2023-05-18 18:05:43.000000000,2023-05-19 00:31:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 18:05:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/73863499490934cb99d9bba89b41e343b7bd223a', 'message': 'DNM: testing nova new defaults setting change in devstack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883556\nChange-Id: I7fd475c0cb92968f8dcac69e79c01aba155fa412\n'}]",0,883558,73863499490934cb99d9bba89b41e343b7bd223a,3,1,1,8556,,,0,"DNM: testing nova new defaults setting change in devstack

Depends-On: https://review.opendev.org/c/openstack/devstack/+/883556
Change-Id: I7fd475c0cb92968f8dcac69e79c01aba155fa412
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/883558/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,73863499490934cb99d9bba89b41e343b7bd223a,secure-rbac,# test,,1,0
openstack%2Fironic~master~Ibb93240f17ed8b76fe9907542f7c17fe203be046,openstack/ironic,master,Ibb93240f17ed8b76fe9907542f7c17fe203be046,Add OpenBMC class for accessing nodes using OpenBMC,ABANDONED,2017-02-06 19:13:06.000000000,2023-05-19 00:22:28.000000000,,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11878}, {'_account_id': 11929}, {'_account_id': 12175}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 24843}]","[{'number': 1, 'created': '2017-02-06 19:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea62ec4346f92f12bbb2a5897816c24ce4e347b6', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 2, 'created': '2017-03-06 21:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f66491041a32a9336c712b0c6b4a7f18ba079826', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 3, 'created': '2017-03-06 21:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa2c884505da288a95c32f64c2e71f69432bae90', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 4, 'created': '2017-03-08 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6a2a81d9a56afc495a2ae8b0b608b1735e7725f', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 5, 'created': '2017-03-08 17:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d5d1b67ca1c32549fe5733d0fc0aca217b3e6ce', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 6, 'created': '2017-09-13 22:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3fd0bae3b08ca0588aa31206233d7406b3860c92', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 7, 'created': '2017-11-14 18:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8de4a11361ce8ca7180207a355489f09a2cc71d3', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nCo-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 8, 'created': '2018-01-18 18:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5bc56cf2206e9fafe7712ff81bfdc796f3695756', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nCo-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 9, 'created': '2018-02-12 20:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/892cec9640d57a266d32c875ada1f0f2422e9b60', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nCo-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 10, 'created': '2018-03-19 17:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/467bcc1717af530e8c88132f4c2114ccaddf3a93', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nCo-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 11, 'created': '2018-07-21 21:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4eb935a986aeee8eebcc14d4ae73f282c11cc94', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nCo-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}, {'number': 12, 'created': '2018-07-21 21:37:04.000000000', 'files': ['ironic/drivers/modules/openbmc/__init__.py', 'ironic/tests/unit/drivers/modules/openbmc/__init__.py', 'ironic/common/exception.py', 'ironic/drivers/modules/openbmc/common.py', 'ironic/conf/openbmc.py', 'ironic/tests/unit/db/utils.py', 'ironic/conf/opts.py', 'ironic/conf/__init__.py', 'ironic/tests/unit/drivers/modules/openbmc/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8179c95ff61f677c57bf1c29d98cad5abab469b', 'message': 'Add OpenBMC class for accessing nodes using OpenBMC\n\nThis adds a class that handles operations against a node running\nOpenBMC.\n\nCo-Authored-By: Mark Hamzy <hamzy@us.ibm.com>\nCo-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>\nPartial-Bug: #1634635\nChange-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046\n'}]",34,429836,c8179c95ff61f677c57bf1c29d98cad5abab469b,99,17,12,11929,,,0,"Add OpenBMC class for accessing nodes using OpenBMC

This adds a class that handles operations against a node running
OpenBMC.

Co-Authored-By: Mark Hamzy <hamzy@us.ibm.com>
Co-Authored-By: Adam Kimball <adam.c.kimball@ibm.com>
Partial-Bug: #1634635
Change-Id: Ibb93240f17ed8b76fe9907542f7c17fe203be046
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/429836/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/openbmc/common.py'],1,ea62ec4346f92f12bbb2a5897816c24ce4e347b6,bug/1634635,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """""" Object library to interact with an OpenBMC controller. """""" # # Documentation: # # OpenBMC cheatsheet # https://github.com/openbmc/docs/blob/master/cheatsheet.md # # OpenBMC REST API # https://github.com/openbmc/docs/blob/master/rest-api.md # # OpenBMC DBUS API # https://github.com/openbmc/docs/blob/master/dbus-interfaces.md # # https://github.com/openbmc/openbmc-test-automation/blob/master/lib/utils.robot # # https://github.com/causten/tools/tree/master/obmc # # pylint: disable=too-many-arguments # pylint: disable=too-few-public-methods # pylint: disable=global-statement # What is with [invalid-name] Invalid variable name ""fp"" # pylint: disable=invalid-name import json import requests from oslo_log import log as logging from ironic.common import exception # Sadly a way to fit the line into 78 characters mainly JSON_HEADERS = {""Content-Type"": ""application/json""} LOG = logging.getLogger(__name__) class OpenBMC(object): """"""Operations against a node running OpenBMC"""""" def __init__(self, hostname, user, password): self.session = None self.hostname = hostname self.verbose = False session = requests.Session() # Log in with a special URL and JSON data structure url = ""https://%s/login"" % (hostname, ) login_data = json.dumps({""data"": [user, password]}) response = session.post(url, data=login_data, verify=False, headers=JSON_HEADERS) if response.status_code != 200: raise exception.OpenBMCError( ""Login Failed: Response code to is not 200! (%d)"" % response.status_code) self.session = session def enumerate(self, key): """"""Enumerate the provided key"""""" if key.startswith(""/""): path = key[1:] else: path = key if path.endswith(""/""): path = path + ""enumerate"" else: path = path + ""/enumerate"" return self.get(path) def get(self, key): """"""Get the value for the provided key"""""" if key.startswith(""/""): path = key[1:] else: path = key url = ""https://%s/%s"" % (self.hostname, path, ) response = self.session.get(url, verify=False, headers=JSON_HEADERS) if response.status_code != 200: raise exception.OpenBMCError( ""Error: Response code to get %(key)s "" ""enumerate is not 200!(%(status_code)d)"" % {'key': key, 'status_code': response.status_code}) return response.json()[""data""] def _filter_org_openbmc_control(self, filter_list): """"""Filter /org/openbmc/control against the provided filter list"""""" # Enumerate the inventory of the system's control hardware mappings = {} items = self.enumerate(""/org/openbmc/control/"").items() # Loop through the returned map items for (item_key, item_value) in items: # We only care about filter entries if not any(x in item_key for x in filter_list): continue # Add the entry into our mappings for fltr in filter_list: idx = item_key.find(fltr) if idx > -1: # Get the identity (the rest of the string) ident = item_key[idx + len(fltr):] # Create a new map for the first time if ident not in mappings: mappings[ident] = {} # Save both the full filename and map contents mappings[ident][fltr] = (item_key, item_value) return mappings def _power_common(self, with_state_do): # Query /org/openbmc/control for power and chassis entries filter_list = [""control/power"", ""control/chassis""] mappings = self._filter_org_openbmc_control(filter_list) if mappings is None: return False # Loop through the found power & chassis entries for (_, ident_mappings) in mappings.items(): # { '/power': # ( u'/org/openbmc/control/power0', # {u'pgood': 1, # u'poll_interval': 3000, # u'pgood_timeout': 10, # u'heatbeat': 0, # u'state': 1 # } # ), # '/chassis': # ( u'/org/openbmc/control/chassis0', # {u'reboot': 0, # u'uuid': u'24340d83aa784d858468993286b390a5' # } # ) # } # Grab our information back out of the mappings (power_url, power_mapping) = ident_mappings[""control/power""] (chassis_url, _) = ident_mappings[""control/chassis""] LOG.debug(_(""Current state of %(power_url)s is %(power_state)s""), {'power_url': power_url, 'power_state': power_mapping[""state""]}) (url, jdata) = with_state_do(power_mapping[""state""], self.hostname, chassis_url) if url is None: return False response = self.session.post(url, data=jdata, verify=False, headers=JSON_HEADERS) if response.status_code != 200: raise exception.OpenBMCError( ""Error: Response code to PUT is not 200! (%d)"" % response.status_code) return True def power_on(self): """"""Turn the power on"""""" def with_state_off_do(state, hostname, chassis_url): """"""Do something with the state"""""" url = None jdata = None if state == 0: # power_on called and machine is off url = ""https://%s%s/action/powerOn"" % (hostname, chassis_url, ) jdata = json.dumps({""data"": []}) elif state == 1: # power_on called and machine is on pass return (url, jdata) return self._power_common(with_state_off_do) def power_off(self): """"""Turn the power off"""""" def with_state_on_do(state, hostname, chassis_url): """"""Do something with the state"""""" url = None jdata = None if state == 0: # power_off called and machine is off pass elif state == 1: # power_off called and machine is on url = ""https://%s%s/action/powerOff"" % (hostname, chassis_url, ) jdata = json.dumps({""data"": []}) return (url, jdata) return self._power_common(with_state_on_do) def get_power_state(self): """"""Return the state of the power"""""" # Query /org/openbmc/control for power and chassis entries filter_list = [""control/chassis""] mappings = self._filter_org_openbmc_control(filter_list) if mappings is None: return False # Loop through the found power & chassis entries for (_, ident_mappings) in mappings.items(): # Grab our information back out of the mappings (chassis_url, _) = ident_mappings[""control/chassis""] url = ""https://%s/%s/action/getPowerState"" % (self.hostname, chassis_url, ) jdata = json.dumps({""data"": []}) response = self.session.post(url, data=jdata, verify=False, headers=JSON_HEADERS) if response.status_code != 200: raise exception.OpenBMCError( ""Error: Response code to PUT is not 200!"" "" (%d)"" % (response.status_code, )) return response.json()[""data""] return None def trigger_warm_reset(self): """"""Force a warm reset"""""" filter_list = [""control/bmc""] mappings = self._filter_org_openbmc_control(filter_list) if mappings is None: return False # Loop through the found bmc entries for (_, ident_mappings) in mappings.items(): # Grab our information back out of the mappings (bmc_url, _) = ident_mappings[""control/bmc""] url = ""https://%s%s/action/warmReset"" % (self.hostname, bmc_url, ) jdata = json.dumps({""data"": []}) response = self.session.post(url, data=jdata, verify=False, headers=JSON_HEADERS) if response.status_code != 200: raise exception.OpenBMCError( ""Error: Response code to PUT is not 200! (%d)"" % response.status_code) return True def get_flash_bios(self): """"""Get the flash BIOS"""""" return self.get(""/org/openbmc/control/flash/bios"") def get_bmc_state(self): """"""Get the state of the OpenBMC controller"""""" path = ""org/openbmc/managers/System"" url = ""https://%s/%s/action/getSystemState"" % (self.hostname, path, ) jdata = json.dumps({""data"": []}) response = self.session.post(url, data=jdata, verify=False, headers=JSON_HEADERS) if response.status_code != 200: raise exception.OpenBMCError( ""Error: Response code to PUT is not 200!(%d)"" % response.status_code) return response.json()[""data""] ",,326,0
openstack%2Fironic~master~I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e,openstack/ironic,master,I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e,OpenBMC Hardware Type,ABANDONED,2016-11-28 18:08:16.000000000,2023-05-19 00:22:16.000000000,,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 19593}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 24843}, {'_account_id': 26576}]","[{'number': 1, 'created': '2016-11-28 18:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/341b2ae212fe7d4fe8fbff2017aba6d6ad576541', 'message': '[WIP] OpenBMC Driver\n\nAdds initial version of openbmc driver to ironic\n\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\n'}, {'number': 2, 'created': '2017-01-23 15:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a2092c9e73c47bec3cb6764d9e7e90dfadf0e49', 'message': '[WIP] OpenBMC Driver\n\nAdds initial version of openbmc driver to ironic\n\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\n'}, {'number': 3, 'created': '2017-03-08 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4b139120014913b8d5662d6bf78522d7a208ac4', 'message': 'OpenBMC Driver\n\nAdds initial version of openbmc driver to ironic\n\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\nCloses-bug: 1634635\n'}, {'number': 4, 'created': '2017-03-09 16:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f51fd712e18736add6416599e2c4ae8f7f51c10', 'message': 'OpenBMC Driver\n\nAdds initial version of openbmc driver to ironic\n\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\nCloses-bug: 1634635\n'}, {'number': 5, 'created': '2017-09-13 22:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0f843e993345e59e5993da38dcc51017c3aa607', 'message': 'OpenBMC Driver\n\nAdds initial version of openbmc driver to ironic\n\nCo-Authored-By: Adam Kimball <baha@linux.vnet.ibm.com>\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\nCloses-bug: 1634635\n'}, {'number': 6, 'created': '2017-11-14 19:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c2b1225f072b1b261f2aa369a644e2ce6e1d18f', 'message': 'OpenBMC Hardware Type\n\nAdds initial version of the openbmc hardware type to ironic\n\nCo-Authored-By: Adam Kimball <baha@linux.vnet.ibm.com>\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\nCloses-bug: 1634635\n'}, {'number': 7, 'created': '2018-02-12 20:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ed0681e6a059b58ea59a7d38c9980588289c7a3', 'message': 'OpenBMC Hardware Type\n\nAdds initial version of the openbmc hardware type to ironic\n\nCo-Authored-By: Adam Kimball <baha@linux.vnet.ibm.com>\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\nCloses-bug: 1634635\n'}, {'number': 8, 'created': '2018-07-21 21:45:30.000000000', 'files': ['ironic/drivers/modules/openbmc/management.py', 'ironic/tests/unit/drivers/modules/openbmc/test_power.py', 'ironic/drivers/modules/openbmc/common.py', 'ironic/tests/unit/drivers/modules/openbmc/test_common.py', 'ironic/tests/unit/drivers/modules/openbmc/test_management.py', 'ironic/drivers/modules/openbmc/power.py', 'setup.cfg', 'ironic/drivers/openbmc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7657ffed9034c00bed5911d382836882694c5bc', 'message': 'OpenBMC Hardware Type\n\nAdds initial version of the openbmc hardware type to ironic\n\nCo-Authored-By: Adam Kimball <baha@linux.vnet.ibm.com>\nChange-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e\nCloses-bug: 1634635\n'}]",48,403835,a7657ffed9034c00bed5911d382836882694c5bc,65,17,8,11929,,,0,"OpenBMC Hardware Type

Adds initial version of the openbmc hardware type to ironic

Co-Authored-By: Adam Kimball <baha@linux.vnet.ibm.com>
Change-Id: I7377e24e29c4bc97501ff6d7e454ad118f8cbe9e
Closes-bug: 1634635
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/403835/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/openbmc/__init__.py', 'ironic/drivers/modules/openbmc/management.py', 'etc/ironic/ironic.conf.sample', 'ironic/drivers/agent.py', 'ironic/drivers/modules/openbmc/common.py', 'ironic/conf/openbmc.py', 'ironic/drivers/modules/openbmc/power.py', 'setup.cfg']",8,341b2ae212fe7d4fe8fbff2017aba6d6ad576541,bug/1634635, agent_openbmc = ironic.drivers.agent:AgentAndOpenBMCDriver,,396,0
openstack%2Fironic-specs~master~I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6,openstack/ironic-specs,master,I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6,Add spec for specific faults support,NEW,2016-06-24 23:21:49.000000000,2023-05-19 00:21:42.000000000,,"[{'_account_id': 3}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 13295}, {'_account_id': 19686}, {'_account_id': 20462}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2016-06-24 23:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4d01b3bac2fd94147137d456a23ff73adf93790c', 'message': 'Add spec for specific faults support\n\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n'}, {'number': 2, 'created': '2016-10-18 23:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/661cea00c14d9464a161ad2800c6a87396d1d4a8', 'message': 'Add spec for specific faults support\n\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n'}, {'number': 3, 'created': '2016-11-15 23:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/458edce40fce5830703f4e2dc3a25cb933c05d34', 'message': 'Add spec for specific faults support\n\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n'}, {'number': 4, 'created': '2016-11-15 23:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fd382e7ea30541c74bab4e722bd5251a322d17d3', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 5, 'created': '2016-11-22 20:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ddc237ee62219f4e908d06f7588f019847c9c507', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 6, 'created': '2016-11-22 20:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/968c6732765104d91c3c4553ff2d8579fca66c6c', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 7, 'created': '2016-11-22 20:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0bb2d204099eddcaf3c57971a842f23a748d0b54', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 8, 'created': '2016-11-22 20:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/984a5a9448dc3bf2bb0b5a11c768772dbf9ba0bd', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 9, 'created': '2016-12-08 16:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/40d0504598424492bf49abaf842844d28664220f', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 10, 'created': '2017-03-10 18:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e6553ac2a01027ae56e87281793d20b531fdb92e', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 11, 'created': '2017-07-17 11:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3292f841df1cae856362fb658d03b685f58e3cfb', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 12, 'created': '2017-07-19 09:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2adbd9501eb0d5291d7c0213716143c1d511bc15', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 13, 'created': '2017-07-24 12:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c053d2ff4be8a0eb19cc3fb3749a4a55c20ab7e7', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 14, 'created': '2017-07-31 08:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e0f712fcab76336485e9c48d77423cdab6166c67', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 15, 'created': '2017-08-14 07:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/151554f10261d21b0945e9d394f4ec507433d604', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 16, 'created': '2017-08-30 07:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/901180738a1730dd4347262a352a58b3f37bb325', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}, {'number': 17, 'created': '2017-10-16 09:20:29.000000000', 'files': ['specs/approved/node-fault-support.rst', 'specs/not-implemented/node-fault-support.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/22a6d70f4d1e3e383690113d207bb41e42054d22', 'message': ""Add spec for specific faults support\n\nCurrently, ironic's API and data model makes no differentiation between\nironic setting maintenance on a node (for instance, when cleaning fails,\nor when the power status loop cannot contact the BMC) and an operator\nsetting maintenance on a node (an explicit API action).\n\nAn explicit goal of this specification is to get rid of any situation\nwhere ironic currently sets maintenance, and instead replace it with ironic\nsetting a fault, leaving maintenance and maintenance_reason as\noperator-controlled fields.\n\nCo-Authored-By: Jay Faulkner <jay@jvf.cc>\nCo-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>\nChange-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6\nRelated-bug: 1596107\n""}]",79,334113,22a6d70f4d1e3e383690113d207bb41e42054d22,61,10,17,10342,,,0,"Add spec for specific faults support

Currently, ironic's API and data model makes no differentiation between
ironic setting maintenance on a node (for instance, when cleaning fails,
or when the power status loop cannot contact the BMC) and an operator
setting maintenance on a node (an explicit API action).

An explicit goal of this specification is to get rid of any situation
where ironic currently sets maintenance, and instead replace it with ironic
setting a fault, leaving maintenance and maintenance_reason as
operator-controlled fields.

Co-Authored-By: Jay Faulkner <jay@jvf.cc>
Co-Authored-By: Mario Villaplana <mario.villaplana@gmail.com>
Change-Id: I0f617f16616658ec8d8aa3cf5ef35fa275b9b4f6
Related-bug: 1596107
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/13/334113/16 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/specific-fault-support.rst', 'specs/approved/specific-fault-support.rst']",2,4d01b3bac2fd94147137d456a23ff73adf93790c,bug/1596107,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Specific Fault Support ====================== https://bugs.launchpad.net/ironic/+bug/1596107 Currently, Ironic's API and data model makes no differentiation between Ironic setting maintenance on a node (for instance, when cleaning fails, or when the power status loop cannot contact the BMC) and an operator setting maintenance on a node (an explicit API action). Problem description =================== * Maintenance mode is an overloaded boolean setting, which acts as a dumping ground for ironic identified failures. * Transient failures (such as network failures) can cause many nodes in an environment to go into maintenance mode, acting as a denial of service. With the current boolean maintenance system, enough information does not exist for ironic to reliably self-heal in these scenarios. (Although such self-healing is outside the scope of this spec). * In order for ironic to heal after transient failures, such as network issues preventing access to a BMC, fault conditions found by ironic need to be identified separately from operator-set maintenance modes. Proposed change =============== This spec proposes adding a field on the node, ""faults"" which would contain a list of Ironic-identified faults on the node. Multiple faults could be simultaneously identified on a node, such as if a node both timed out while booting a ramdisk for cleaning and BMC communication failed. These would both have to be separately resolved for the node to be treated normally again. #TODO / Open question: How should the data model look like for this? A list of # opaque error codes? Error strings? By identifying the faults explicitly, we allow ironic to detect and resolve those faults, in order to later self-heal. Alternatives ------------ * Proposals have already been made and rejected to use the combination of maintenance being set and a given maintenance_reason or last_error to do self-healing due to inconsistency. Data model impact ----------------- This will add a field to the node object in the ironic db to contain a list of faults. #TODO: Figure out the best way to store this data and define db fields. State Machine Impact -------------------- None. REST API impact --------------- # Open question: Should we add an API endpoint to force/request ironic to # attempt to resolve faults on a faulted node? === NO MEANINGFUL CHANGES BELOW THE POINT === Client (CLI) impact ------------------- Dependant on if REST API would change. ""ironic"" CLI ~~~~~~~~~~~~ Dependant on if REST API would change. ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ Dependant on if REST API would change. RPC API impact -------------- Changes which affect the RPC API should be listed here. For example: * What are the changes, if any, to existing API calls? * What new API calls are being added? Will these be using cast() or call()? * ironic-api and ironic-conductor services must be upgradable independently. What is the upgrade process for rolling this change out to an existing deployment? Driver API impact ----------------- Changes which affect the driver API have a direct effect on all drivers, and often have a wider impact on the system. There are several things to consider in this section. * Is it a change to a ""core"" or ""common"" API? * Can all drivers support it initially, or is it specific to a particular vendor's hardware? * How will it be tested in the gate and in third-party CI systems? * If adding a new interface, explain the intended scope of the proposed interface, what functionality it enables, why it is needed, and whether it is supported by current drivers. * If adding or changing a method on an existing interface, the impact on existing drivers should be explored. * Will the new interface or method need to be invoked when the hash ring rebalances, for example to rebuild local state on a new conductor service? * How does this affect upgrades? Third-party drivers could be updated independently from this change, and care must be taken not to break backwards-compatibility within our Driver API. Nova driver impact ------------------ Chances are, if this change affects the REST or Driver APIs, it will also affect the Nova driver in some way. If this requires a functional change in Nova, chances are the Nova team will require a spec to discuss the changes to their project as well. Provide a link to that here, or a justification for why that is not needed. Questions which need to be addressed in this section include: * What is the impact on Nova? * If this change is enabling new functionality exposed via Nova, this section should cite the relevant components within other Nova drivers that already implement this. * Ironic and Nova services must be upgradable independently. If the change affects existing functionality of the nova.virt.ironic driver, how will an upgrade be performed? How will it be tested? Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or credentials? * Does this change affect the accessibility of hardware managed by Ironic? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Other end user impact --------------------- Aside from the API and client, are there other ways a user will interact with this feature? * Will this require changes in the Horizon panel, or any other OpenStack project? Scalability impact ------------------ Describe any potential scalability impact on the system, for example any increase in network, RPC, or database traffic, or whether the feature requires synchronization across multiple services. Examples of things to consider here include: * Additional network calls to internal or external services. * Additional disk or network traffic that will be required by the feature. * Any change in the number of physical nodes which can be managed by each conductor service. Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition, but all periodic tasks run in a single thread so a periodic task that takes a long time to run will have an effect on the timing of other periodic tasks. * A small change in a utility function or a commonly used decorator can have a large impact on performance. * Calls which result in one or more database queries (whether in the api or conductor services) can have a profound impact on performance when called in critical sections of the code. * Will the change include any TaskManager locking, and if so what considerations are there on holding the lock? * How will the new code be affected if the hash ring rebalances while it is running? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example, a flag that other hardware drivers might want to implement as well)? Are the default values appropriate for production? Provide an explanation of why these defaults are reasonable. * Is this a change that takes immediate effect after it's merged, or is it something that has to be explicitly enabled? * If this change adds a new service that deployers will be required to run, how would it be deployed? Describe the expected topology, for example, what network connectivity the new service would need, what service(s) it would interact with, how many should run relative to the size of the deployment, and so on. * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we were to change the directory that PXE boot files were stored in, how would we update existing boot files created before the change landed? Would we require deployers to manually move them? Is there a special case in the code, which would be removed after some deprecation period? Would we require operators to delete and recreate all instances in order to perform the upgrade? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other drivers would implement the feature is required. Implementation ============== Assignee(s) ----------- Primary assignee: JayF Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in Ironic, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Ironic, document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? * Does this feature target specific hardware? If so, is it a common standard (eg IPMI) or a vendor-specific implementation (eg iLO)? Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc)? Upgrades and Backwards Compatibility ==================================== Care must be taken to support our users by not breaking backwards compatibility with either REST API or Driver API changes. * If your proposal includes any changes to the REST API, describe how existing clients will continue to function when interacting with an upgraded API server. * If your proposal includes any changes to the Driver API, describe how existing driver implementations will continue to function when loaded by a conductor running with the new driver base class. * Describe what testing you will be adding to ensure that backwards compatibility is maintained. * If deprecating an existing feature or API, describe the deprecation plan, and for how long compatibility will be maintained. Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to ",,370,0
openstack%2Fneutron~master~I748ccfa8b50496dcbcbe41fd22f84249a4d46b11,openstack/neutron,master,I748ccfa8b50496dcbcbe41fd22f84249a4d46b11,Add rate-limiting to metadata agents,MERGED,2022-09-22 09:58:04.000000000,2023-05-19 00:11:23.000000000,2023-05-19 00:10:06.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2022-09-22 09:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a49b7961a740228648cdade0032cc95a42e1d189', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 2, 'created': '2022-09-22 15:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d748c3f051c902287d7b838aaf4a5800c0d30894', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 3, 'created': '2023-03-13 22:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8e5f0c3a78a0d153c426a57c2935344d5eb0684', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 4, 'created': '2023-03-13 22:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/924791afc91d960ee983b4e83e760d1bdf0d1d03', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 5, 'created': '2023-03-14 22:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99754602cb66e163a26960ac057ae2d460c7611d', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 6, 'created': '2023-03-15 22:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e8f091c6d91400a81cf8a5a96cd560d3cc28bc9', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 7, 'created': '2023-03-15 23:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fdd6303d560fc8d95ac60e7ce5b205d1d15d9a6', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 8, 'created': '2023-03-16 13:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d20954462671d2eb68a9a50e8e246ec4b2fd03f', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 9, 'created': '2023-03-16 18:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef0ba3998a16a67356a635ec029c6c4abfd59657', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 10, 'created': '2023-03-16 23:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6efc8ef0a8e1e94680ffb113591da56945fa6e6a', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 11, 'created': '2023-03-17 16:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dad74f5165e89f9826a4afbfb5b26b0daf726f1e', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 12, 'created': '2023-03-17 21:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89daf26ac00e953cb158c33d88b25a21983e87c5', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 13, 'created': '2023-03-22 23:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/841da599c1790d074084b125e6ff6bd6b2bca815', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 14, 'created': '2023-03-24 00:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed80fc89e02857cb48de4877a8be53a070f25ca2', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 15, 'created': '2023-03-28 00:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca860d28edcd24df38423f6184caa421f3ab85d7', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 16, 'created': '2023-03-28 23:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b87a18965e4e3c1cc80a616302da10d0cb42bf06', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 17, 'created': '2023-04-03 23:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9a205ca67878d6be7fdcaf4c9c5f8c55f6d1825', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 18, 'created': '2023-04-04 00:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f1768145d9233028ea02085ec7ac907442f6c5b', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 19, 'created': '2023-04-04 03:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2374698178bba0fd99609006dd1812e6d40e748a', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 20, 'created': '2023-04-12 00:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e395156153ea5640a7b56f9910784535edecd711', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 21, 'created': '2023-04-12 00:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc1e35f2866fa1fcd2cdd7e43470e93d659aee16', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 22, 'created': '2023-04-12 00:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8f09841b597dd2a1b15d860415da34bd762f244', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 23, 'created': '2023-04-12 03:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11c307265f3811ab61ae56c0ff63684e6a9c9124', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 24, 'created': '2023-04-13 21:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ec772444dbef0ccc9dde207b86bdb6a7f6707d2', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 25, 'created': '2023-04-13 21:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90c9e708447b0ccca21e17b798732d2b6ed5e236', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 26, 'created': '2023-04-13 22:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51c8955f36f30451a7da5cb9909c3d98e7cec302', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 27, 'created': '2023-04-15 00:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acc8ab439d5fbff416c61e55c8edb9dba67e1b7d', 'message': '[DNM] Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 28, 'created': '2023-04-17 21:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1965e19ad207a2134ac9009b82cd5760dc1b7167', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 29, 'created': '2023-04-17 22:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cf5b9f4553e2419c1b20a8bdda8260a02e5eab0', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 30, 'created': '2023-04-17 23:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a1e70494faff343d0687647036f0c95217f4c23', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 31, 'created': '2023-04-19 23:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adea380d6bf64222aa6eb23605a7581a73315f2e', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 32, 'created': '2023-04-20 23:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c7e50937bab11f1f8650e777b04eb6be8860445', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 33, 'created': '2023-04-21 21:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1799ba59e4594ebce7424ae4f502494181c9167a', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 34, 'created': '2023-04-21 22:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fba1d9214324fe2e7ac84eb117005b107e700d4', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 35, 'created': '2023-04-22 00:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43dfdb01e7be74d03508c241eedecb12ff5fbc0e', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 36, 'created': '2023-04-24 23:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a577f215dd2b7b512586a670eab966cd37b14440', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 37, 'created': '2023-04-24 23:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe910c6ae7338543594c454d2b0ae6d5dd75564c', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 38, 'created': '2023-04-25 19:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29ee83f3831aa685b878a4627516358341e965ac', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 39, 'created': '2023-04-25 22:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6014fa065a9f1bdedb38fa69f5f07800367f5110', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 40, 'created': '2023-04-27 00:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb33fef827b964322b64ac872714d4fed672e407', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 41, 'created': '2023-04-27 23:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cd807d4ce85659a83bc272d59c85fab26277464', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 42, 'created': '2023-05-15 00:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76ad28f3ba718a49a76e918166c99972d749e5b3', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 43, 'created': '2023-05-15 00:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c92bb8be5e1775e9d0dbf7f57818105b65e56b1a', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 44, 'created': '2023-05-15 18:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31f45ed5599db23e1767710bee1239ac238e5b46', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 45, 'created': '2023-05-16 17:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12d4591fb6075a160a652909b73cc0214c296377', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}, {'number': 46, 'created': '2023-05-18 00:05:29.000000000', 'files': ['neutron/conf/agent/dhcp.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/l3_agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'doc/source/admin/config-metadata-rate-limiting.rst', 'neutron/common/metadata.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/contrib/testing.filters', 'neutron/agent/metadata_agent.py', 'neutron/conf/agent/metadata/config.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'doc/source/admin/config.rst', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/functional/agent/l3/test_metadata_proxy.py', 'releasenotes/notes/add-metadata-rate-limiting-bf0c17a31f86ee16.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f4a41326d7b1da03e1929b4fd8bcdaf69da19ab', 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}]",83,858879,5f4a41326d7b1da03e1929b4fd8bcdaf69da19ab,240,9,46,9642,,,0,"Add rate-limiting to metadata agents

Requests handled by the metadata-agents can now be rate-limited by
source-ip. This is done to protect the OpenStack control plane against
VMs querying the metadata endpoint in an overly enthusiastic way.

Co-authored-by: Miguel Lavalle <mlavalle@redhat.com>

Related-Bug: #1989199
Change-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/858879/41 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata_agent.py', 'neutron/agent/metadata_agent.py', 'neutron/conf/agent/metadata/config.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py']",7,a49b7961a740228648cdade0032cc95a42e1d189,metadata_rate_limit," RATE_LIMIT_CONFIG = { 'base_window_duration': 10, 'base_query_rate_limit': 5, 'burst_window_duration': 1, 'burst_query_rate_limit': 10, } ovn_meta_conf.register_meta_conf_opts( meta_conf.METADATA_RATE_LIMITING_OPTS, cfg.CONF, group='rate_limiting') return self._test_spawn_metadata_proxy(rate_limited=False) def _test_spawn_metadata_proxy(self, rate_limited=False): expected_params = { if rate_limited: expected_params.update(self.RATE_LIMIT_CONFIG, stick_table_expire=10) expected_config_template = ( metadata_driver._HAPROXY_CONFIG_TEMPLATE + metadata_driver._RATE_LIMITED_CONFIG_TEMPLATE) else: expected_config_template = ( metadata_driver._HAPROXY_CONFIG_TEMPLATE + metadata_driver._UNLIMITED_CONFIG_TEMPLATE) mock.call().write(expected_config_template % expected_params)], mock.ANY, mock.ANY) mock.ANY, mock.ANY)"," cfg_contents = metadata_driver._HAPROXY_CONFIG_TEMPLATE % { mock.call().write(cfg_contents)], mock.ANY) mock.ANY)",188,17
openstack%2Fmanila~master~I911960c2988bd7aa6dcff81abac3089f22e59c24,openstack/manila,master,I911960c2988bd7aa6dcff81abac3089f22e59c24,"db: Migrate ""security service"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-18 23:59:52.000000000,2023-05-18 21:05:01.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fd853301916f6deed67ccd2d02343c390089efe4', 'message': 'db: Migrate ""security service"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I911960c2988bd7aa6dcff81abac3089f22e59c24\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/780163a4b14928a882660b365541788ea7f88b09', 'message': 'db: Migrate ""security service"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I911960c2988bd7aa6dcff81abac3089f22e59c24\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1f9f5c1bf8aaac9269fef30ec02768613632ba7e', 'message': 'db: Migrate ""security service"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I911960c2988bd7aa6dcff81abac3089f22e59c24\n'}]",4,880196,1f9f5c1bf8aaac9269fef30ec02768613632ba7e,37,4,3,15334,,,0,"db: Migrate ""security service"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I911960c2988bd7aa6dcff81abac3089f22e59c24
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/880196/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,fd853301916f6deed67ccd2d02343c390089efe4,sqlalchemy-20,"def _security_service_get_query(context, project_only=False): return model_query( context, models.SecurityService, project_only=project_only, ) @context_manager.writer security_service_ref.save(session=context.session)@context_manager.writer def security_service_delete(context, id): security_service_ref = _security_service_get(context, id) security_service_ref.soft_delete(session=context.session)@context_manager.writer def security_service_update(context, id, values): security_service_ref = _security_service_get(context, id) security_service_ref.update(values) security_service_ref.save(session=context.session) return security_service_ref@context_manager.reader def security_service_get(context, id, **kwargs): return _security_service_get(context, id, **kwargs) @require_context def _security_service_get(context, id, **kwargs): result = _security_service_get_query( context, **kwargs, ).filter_by(id=id).first()@context_manager.reader@context_manager.reader@context_manager.reader def security_service_get_all_by_share_network(context, share_network_id): return model_query( context, models.SecurityService, ).join( models.ShareNetworkSecurityServiceAssociation, models.SecurityService.id == models.ShareNetworkSecurityServiceAssociation.security_service_id, ).filter_by( share_network_id=share_network_id, deleted=0, ).all()"," session = get_session() with session.begin(): security_service_ref.save(session=session)def security_service_delete(context, id): session = get_session() with session.begin(): security_service_ref = security_service_get(context, id, session=session) security_service_ref.soft_delete(session)def security_service_update(context, id, values): session = get_session() with session.begin(): security_service_ref = security_service_get(context, id, session=session) security_service_ref.update(values) security_service_ref.save(session=session) return security_service_refdef security_service_get(context, id, session=None, **kwargs): result = (_security_service_get_query(context, session=session, **kwargs). filter_by(id=id).first()) def _security_service_get_query(context, session=None, project_only=False): if session is None: session = get_session() return model_query(context, models.SecurityService, session=session, project_only=project_only) def security_service_get_all_by_share_network(context, share_network_id): session = get_session() return (model_query(context, models.SecurityService, session=session). join(models.ShareNetworkSecurityServiceAssociation, models.SecurityService.id == models.ShareNetworkSecurityServiceAssociation.security_service_id). filter_by(share_network_id=share_network_id, deleted=0) .all())",38,36
openstack%2Fnova~stable%2Fwallaby~I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8,openstack/nova,stable/wallaby,I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8,Use force=True for os-brick disconnect during delete,MERGED,2023-05-10 15:05:57.000000000,2023-05-18 23:44:33.000000000,2023-05-18 15:22:50.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6579b6eeb4f04c758df472a25b15b73116fcc1a', 'message': ""Use force=True for os-brick disconnect during delete\n\nThe 'force' parameter of os-brick's disconnect_volume() method allows\ncallers to ignore flushing errors and ensure that devices are being\nremoved from the host.\n\nWe should use force=True when we are going to delete an instance to\navoid leaving leftover devices connected to the compute host which\ncould then potentially be reused to map to volumes to an instance that\nshould not have access to those volumes.\n\nWe can use force=True even when disconnecting a volume that will not be\ndeleted on termination because os-brick will always attempt to flush\nand disconnect gracefully before forcefully removing devices.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/volume/test_lightos.py\n    nova/virt/libvirt/volume/lightos.py\n\nNOTE(melwitt): The conflicts are because change\nIc314b26695d9681d31a18adcec0794c2ff41fe71 (Lightbits LightOS driver) is\nnot in Xena.\n\nCloses-Bug: #2004555\n\nChange-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8\n(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)\n(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)\n(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)\n(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)\n(cherry picked from commit b574901500d936488cdedf9fda90c4d36eeddd97)\n""}, {'number': 2, 'created': '2023-05-15 17:47:38.000000000', 'files': ['nova/virt/libvirt/volume/scaleio.py', 'doc/source/admin/configuration/index.rst', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/fibrechannel.py', 'doc/source/admin/configuration/cross-cell-resize.rst', 'nova/virt/libvirt/driver.py', 'doc/source/install/controller-install-obs.rst', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/volume/smbfs.py', 'doc/source/install/compute-install-ubuntu.rst', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/virt/libvirt/volume/storpool.py', 'nova/virt/libvirt/volume/nvme.py', 'doc/source/install/compute-install-rdo.rst', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'doc/source/admin/migrate-instance-with-snapshot.rst', 'nova/cmd/status.py', 'nova/virt/libvirt/volume/fs.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'doc/source/admin/support-compute.rst', 'doc/source/install/controller-install-ubuntu.rst', 'nova/virt/hyperv/volumeops.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/libvirt/volume/vzstorage.py', 'nova/virt/libvirt/volume/net.py', 'doc/source/admin/live-migration-usage.rst', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/virt/libvirt/volume/volume.py', 'releasenotes/notes/service-user-token-421d067c16257782.yaml', 'doc/source/admin/configuration/service-user-token.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4cb92aa8adab2bd3d7905e0b76eceab680ab28', 'message': ""Use force=True for os-brick disconnect during delete\n\nThe 'force' parameter of os-brick's disconnect_volume() method allows\ncallers to ignore flushing errors and ensure that devices are being\nremoved from the host.\n\nWe should use force=True when we are going to delete an instance to\navoid leaving leftover devices connected to the compute host which\ncould then potentially be reused to map to volumes to an instance that\nshould not have access to those volumes.\n\nWe can use force=True even when disconnecting a volume that will not be\ndeleted on termination because os-brick will always attempt to flush\nand disconnect gracefully before forcefully removing devices.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/volume/test_lightos.py\n    nova/virt/libvirt/volume/lightos.py\n\nNOTE(melwitt): The conflicts are because change\nIc314b26695d9681d31a18adcec0794c2ff41fe71 (Lightbits LightOS driver) is\nnot in Xena.\n\nNOTE(melwitt): The difference from the cherry picked change is because\nof the following additional affected volume driver in Wallaby:\n    * nova/virt/libvirt/volume/net.py\n\nCloses-Bug: #2004555\n\nChange-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8\n(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)\n(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)\n(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)\n(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)\n(cherry picked from commit b574901500d936488cdedf9fda90c4d36eeddd97)\n""}]",3,882869,5b4cb92aa8adab2bd3d7905e0b76eceab680ab28,20,5,2,4690,,,0,"Use force=True for os-brick disconnect during delete

The 'force' parameter of os-brick's disconnect_volume() method allows
callers to ignore flushing errors and ensure that devices are being
removed from the host.

We should use force=True when we are going to delete an instance to
avoid leaving leftover devices connected to the compute host which
could then potentially be reused to map to volumes to an instance that
should not have access to those volumes.

We can use force=True even when disconnecting a volume that will not be
deleted on termination because os-brick will always attempt to flush
and disconnect gracefully before forcefully removing devices.

Conflicts:
    nova/tests/unit/virt/libvirt/volume/test_lightos.py
    nova/virt/libvirt/volume/lightos.py

NOTE(melwitt): The conflicts are because change
Ic314b26695d9681d31a18adcec0794c2ff41fe71 (Lightbits LightOS driver) is
not in Xena.

NOTE(melwitt): The difference from the cherry picked change is because
of the following additional affected volume driver in Wallaby:
    * nova/virt/libvirt/volume/net.py

Closes-Bug: #2004555

Change-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8
(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)
(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)
(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)
(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)
(cherry picked from commit b574901500d936488cdedf9fda90c4d36eeddd97)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/882869/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/volume/scaleio.py', 'doc/source/admin/configuration/index.rst', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/fibrechannel.py', 'doc/source/admin/configuration/cross-cell-resize.rst', 'nova/virt/libvirt/driver.py', 'doc/source/install/controller-install-obs.rst', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/volume/smbfs.py', 'doc/source/install/compute-install-ubuntu.rst', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/virt/libvirt/volume/storpool.py', 'nova/virt/libvirt/volume/nvme.py', 'doc/source/install/compute-install-rdo.rst', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'doc/source/admin/migrate-instance-with-snapshot.rst', 'nova/cmd/status.py', 'nova/virt/libvirt/volume/fs.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'doc/source/admin/support-compute.rst', 'doc/source/install/controller-install-ubuntu.rst', 'nova/virt/hyperv/volumeops.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/libvirt/volume/vzstorage.py', 'doc/source/admin/live-migration-usage.rst', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/virt/libvirt/volume/volume.py', 'releasenotes/notes/service-user-token-421d067c16257782.yaml', 'doc/source/admin/configuration/service-user-token.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst']",37,a6579b6eeb4f04c758df472a25b15b73116fcc1a,bug/2004555," * In the ``[service_user]`` section, configure :ref:`service user tokens <service_user_token>`: .. path /etc/nova/nova.conf .. code-block:: ini [service_user] send_service_user_token = true auth_url = https://controller/identity auth_strategy = keystone auth_type = password project_domain_name = Default project_name = service user_domain_name = Default username = nova password = NOVA_PASS Replace ``NOVA_PASS`` with the password you chose for the ``nova`` user in the Identity service. ",,402,110
openstack%2Fcharm-guide~master~Ic52d5eb4aea953f65c405f5c2ebaf59144411ae5,openstack/charm-guide,master,Ic52d5eb4aea953f65c405f5c2ebaf59144411ae5,Update contact page,MERGED,2023-05-18 20:14:06.000000000,2023-05-18 21:37:36.000000000,2023-05-18 21:36:38.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 20:14:06.000000000', 'files': ['doc/source/community/contact.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f303338cd64b20d75a59cf18cc2346c35850981f', 'message': 'Update contact page\n\nChange-Id: Ic52d5eb4aea953f65c405f5c2ebaf59144411ae5\n'}]",0,883567,f303338cd64b20d75a59cf18cc2346c35850981f,7,2,1,30561,,,0,"Update contact page

Change-Id: Ic52d5eb4aea953f65c405f5c2ebaf59144411ae5
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/67/883567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/contact.rst'],1,f303338cd64b20d75a59cf18cc2346c35850981f,update-contact-page,"Chat ---- The Charmhub `Mattermost`_ channel for OpenStack Charms offers a real-time chat experience. This is perfect for newcomers or for when you just want to check in and chat. The Juju `Discourse`_ site is popular with users looking to get or provide technical help. Mark the forum post (""topic"") with the `openstack`_ tag... _Mattermost: https://chat.charmhub.io/charmhub/channels/openstack-charms .. _Discourse: https://discourse.charmhub.io .. _openstack: https://discourse.charmhub.io/tag/openstack",Find us on the Juju Discourse site: `OpenStack`_. Mark the forum post (topic) with the ``openstack`` tag.IRC --- IRC on OFTC also works: ``#openstack-charms`` .. _OpenStack: https://discourse.charmhub.io/c/juju/,12,8
openstack%2Fopenstack-ansible-os_nova~master~I9f110f663fae71f5f3c01c6d09e6d1302d517466,openstack/openstack-ansible-os_nova,master,I9f110f663fae71f5f3c01c6d09e6d1302d517466,Add way to periodically trim Nova DB,MERGED,2023-04-20 13:13:09.000000000,2023-05-18 21:34:55.000000000,2023-05-18 21:33:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-04-20 13:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/89998e635d6e2a16f39b2dd4bb800998e0b2430e', 'message': ""Add way to periodically trim Nova DB\n\nWe're adding 2 services that are responsible for executing db purge and\narchive_deleted_rows. Services will be deployed by default, but left\nstopped/disabled. This way we allow deployers to enable/disable\nfeature by changing value of nova_archive/purge_deleted.\n\nOtherwise, when variables set to true once, setting them to false won't\nlead to stopoing of DB trimming and that would need to be done manualy.\n\nChange-Id: I9f110f663fae71f5f3c01c6d09e6d1302d517466\n""}, {'number': 2, 'created': '2023-04-20 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b061dc09e0c785781f6e212614db15466cf45820', 'message': ""Add way to periodically trim Nova DB\n\nWe're adding 2 services that are responsible for executing db purge and\narchive_deleted_rows. Services will be deployed by default, but left\nstopped/disabled. This way we allow deployers to enable/disable\nfeature by changing value of nova_archive/purge_deleted.\n\nOtherwise, when variables set to true once, setting them to false won't\nlead to stopoing of DB trimming and that would need to be done manualy.\n\nChange-Id: I9f110f663fae71f5f3c01c6d09e6d1302d517466\n""}, {'number': 3, 'created': '2023-05-18 07:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7395dd977d2ae5f86742a8cf930b018bb4fadbdf', 'message': ""Add way to periodically trim Nova DB\n\nWe're adding 2 services that are responsible for executing db purge and\narchive_deleted_rows. Services will be deployed by default, but left\nstopped/disabled. This way we allow deployers to enable/disable\nfeature by changing value of nova_archive/purge_deleted.\n\nOtherwise, when variables set to true once, setting them to false won't\nlead to stopoing of DB trimming and that would need to be done manualy.\n\nChange-Id: I9f110f663fae71f5f3c01c6d09e6d1302d517466\n""}, {'number': 4, 'created': '2023-05-18 08:11:03.000000000', 'files': ['tasks/nova_db_post_setup.yml', 'defaults/main.yml', 'releasenotes/notes/nova_db_cleanup_services-a39bafaaacfb4671.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/efe64725e177649ae9fe9624c51601d76fea2438', 'message': ""Add way to periodically trim Nova DB\n\nWe're adding 2 services that are responsible for executing db purge and\narchive_deleted_rows. Services will be deployed by default, but left\nstopped/disabled. This way we allow deployers to enable/disable\nfeature by changing value of nova_archive/purge_deleted.\n\nOtherwise, when variables set to true once, setting them to false won't\nlead to stopoing of DB trimming and that would need to be done manualy.\n\nChange-Id: I9f110f663fae71f5f3c01c6d09e6d1302d517466\n""}]",0,880971,efe64725e177649ae9fe9624c51601d76fea2438,12,3,4,28619,,,0,"Add way to periodically trim Nova DB

We're adding 2 services that are responsible for executing db purge and
archive_deleted_rows. Services will be deployed by default, but left
stopped/disabled. This way we allow deployers to enable/disable
feature by changing value of nova_archive/purge_deleted.

Otherwise, when variables set to true once, setting them to false won't
lead to stopoing of DB trimming and that would need to be done manualy.

Change-Id: I9f110f663fae71f5f3c01c6d09e6d1302d517466
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/71/880971/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_db_post_setup.yml', 'defaults/main.yml', 'releasenotes/notes/nova_db_cleanup_services-a39bafaaacfb4671.yaml']",3,89998e635d6e2a16f39b2dd4bb800998e0b2430e,,--- features: - | Added option to periodically clean-up deleted records from Nova database. Having a lot of records for the deleted instances affects service performance. With that 2 new services are being introduced: ``nova-archive-deleted`` and ``nova-purge-deleted`` that will be called periodically using corresponsive systemd timers on the first nova-conductor host. By default these services are disabled/stopped and database cleanup is not performed. You can enable this behaviour by defining variables ``nova_archive_deleted`` and ``nova_purge_deleted``. Service ``nova-archive-deleted`` will execute `nova-manage db archive_deleted_rows` while ``nova-archive-deleted`` will execute `nova-manage db purge`. Please correspond to nova-manage documentation for more information on what these commands do: https://docs.openstack.org/nova/latest/cli/nova-manage.html ,,100,0
openstack%2Fbarbican-tempest-plugin~master~Ic211ea87006662c5a24aef3d1b78a5aa85b5e35b,openstack/barbican-tempest-plugin,master,Ic211ea87006662c5a24aef3d1b78a5aa85b5e35b,Fix test_secret_stores tests,MERGED,2023-05-18 09:18:27.000000000,2023-05-18 21:29:31.000000000,2023-05-18 21:29:31.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 09:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4f99293a4605e15d523bebc65a46d52ba9db8641', 'message': ""Fix test_secret_stores tests\n\nThere were five minor issues with the test_secret_stores tests:\n\n1) There is a typo in some test cases. They are calling\n   unset_peferred_secret_store instead of unset_p<r>eferred_secret_store\n\n2) Set and unset preferred secret stores API calls in the\n   SecretStoresClient expect 200 response status code when in fact they\n   should expect 204 instead [1].\n\n3) test_get_preferred_secret_store test expects to get preferred\n   secret store when in fact none is set for the project.\n\n4) skip_checks() function did not call super's skip_checks()\n\n5) test_set_unset_preferred_secret_store test expects to get preferred\n   secret store for a project when there is no preferred secret store\n   set for it.\n\n[1] https://docs.openstack.org/barbican/rocky/api/reference/store_backends.html#post-v1-secret-stores-secret-store-id-preferred\n\nChange-Id: Ic211ea87006662c5a24aef3d1b78a5aa85b5e35b\n""}, {'number': 2, 'created': '2023-05-18 12:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a6df96e2288dfa713fc99a00f8a8177ea837f566', 'message': ""Fix test_secret_stores tests\n\nThere were five minor issues with the test_secret_stores tests:\n\n1) There is a typo in some test cases. They are calling\n   unset_peferred_secret_store instead of unset_p<r>eferred_secret_store\n\n2) Set and unset preferred secret stores API calls in the\n   SecretStoresClient expect 200 response status code when in fact they\n   should expect 204 instead [1].\n\n3) test_get_preferred_secret_store test expects to get preferred\n   secret store when in fact none is set for the project.\n\n4) skip_checks() function did not call super's skip_checks()\n\n5) test_set_unset_preferred_secret_store test expects to get preferred\n   secret store for a project when there is no preferred secret store\n   set for it.\n\n[1] https://docs.openstack.org/barbican/rocky/api/reference/store_backends.html#post-v1-secret-stores-secret-store-id-preferred\n\nChange-Id: Ic211ea87006662c5a24aef3d1b78a5aa85b5e35b\n""}, {'number': 3, 'created': '2023-05-18 12:36:03.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/test_secret_stores.py', 'barbican_tempest_plugin/services/key_manager/json/secret_stores_client.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/26c700da60565e0a3d0f8c7aa25c9208bdce00ee', 'message': ""Fix test_secret_stores tests\n\nThere were five minor issues with the test_secret_stores tests:\n\n1) There is a typo in some test cases. They are calling\n   unset_peferred_secret_store instead of unset_p<r>eferred_secret_store\n\n2) Set and unset preferred secret stores API calls in the\n   SecretStoresClient expect 200 response status code when in fact they\n   should expect 204 instead [1].\n\n3) test_get_preferred_secret_store test expects to get preferred\n   secret store when in fact none is set for the project.\n\n4) skip_checks() function did not call super's skip_checks()\n\n5) test_set_unset_preferred_secret_store test expects to get preferred\n   secret store for a project when there is no preferred secret store\n   set for it.\n\n[1] https://docs.openstack.org/barbican/rocky/api/reference/store_backends.html#post-v1-secret-stores-secret-store-id-preferred\n\nChange-Id: Ic211ea87006662c5a24aef3d1b78a5aa85b5e35b\n""}]",5,883482,26c700da60565e0a3d0f8c7aa25c9208bdce00ee,12,3,3,30674,,,0,"Fix test_secret_stores tests

There were five minor issues with the test_secret_stores tests:

1) There is a typo in some test cases. They are calling
   unset_peferred_secret_store instead of unset_p<r>eferred_secret_store

2) Set and unset preferred secret stores API calls in the
   SecretStoresClient expect 200 response status code when in fact they
   should expect 204 instead [1].

3) test_get_preferred_secret_store test expects to get preferred
   secret store when in fact none is set for the project.

4) skip_checks() function did not call super's skip_checks()

5) test_set_unset_preferred_secret_store test expects to get preferred
   secret store for a project when there is no preferred secret store
   set for it.

[1] https://docs.openstack.org/barbican/rocky/api/reference/store_backends.html#post-v1-secret-stores-secret-store-id-preferred

Change-Id: Ic211ea87006662c5a24aef3d1b78a5aa85b5e35b
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/82/883482/3 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/test_secret_stores.py', 'barbican_tempest_plugin/services/key_manager/json/secret_stores_client.py']",2,4f99293a4605e15d523bebc65a46d52ba9db8641,," resp, body = self.post(uri, None) self.expected_success(204, resp.status) return {} self.expected_success(204, resp.status) return {}"," resp, body = self.post(uri) self.expected_success(200, resp.status) return json.loads(body.decode('UTF-8')) self.expected_success(200, resp.status) return json.loads(body.decode('UTF-8'))",22,10
openstack%2Fswift~master~Ic94761e435d85a7fe4bd17a7d341b1655b98b3ff,openstack/swift,master,Ic94761e435d85a7fe4bd17a7d341b1655b98b3ff,tests: Make dark data probe tests pass with sync_method = ssync,MERGED,2023-05-17 22:26:09.000000000,2023-05-18 21:16:32.000000000,2023-05-18 21:15:25.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 22:26:09.000000000', 'files': ['test/probe/test_dark_data.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/66e6ee6241ffc2ff5b7aecff970a91bbe5be9cbd', 'message': 'tests: Make dark data probe tests pass with sync_method = ssync\n\nChange-Id: Ic94761e435d85a7fe4bd17a7d341b1655b98b3ff\n'}]",1,883452,66e6ee6241ffc2ff5b7aecff970a91bbe5be9cbd,9,3,1,15343,,,0,"tests: Make dark data probe tests pass with sync_method = ssync

Change-Id: Ic94761e435d85a7fe4bd17a7d341b1655b98b3ff
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/883452/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_dark_data.py'],1,66e6ee6241ffc2ff5b7aecff970a91bbe5be9cbd,," if file in ('.lock', 'hashes.pkl', 'hashes.invalid', '.lock-replication'):"," if file in ('.lock', 'hashes.pkl', 'hashes.invalid'):",2,1
openstack%2Fnova~master~I8028d265da9b4f38fc4b09fe8e57be8881835041,openstack/nova,master,I8028d265da9b4f38fc4b09fe8e57be8881835041,testing: Use the oslo.log ContextFormatter in the log fixture,NEW,2023-05-18 04:24:11.000000000,2023-05-18 21:13:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 04:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55ece93343011e6f7f2446837f5e98d28996fdc2', 'message': 'testing: Use the oslo.log ContextFormatter in the log fixture\n\nCurrently, we are using a different log formatter than is used by\noslo.log by default. Occasionally, if a patch is passing an invalid\nkeyword arg in a logging call, we will not catch it until integration\ntests are run. And if the given log message is not normally emitted\nduring integration tests, the bug could go unnoticed for some time.\n\nAn example of this is passing an Instance object in a log statement.\nThe default formatter actually requires that Instance.uuid be set, else\nthe log call will go into a recursion error. In the current test\nenvironment, running such a log statement succeeds because a different\nlog formatter is being used. For example:\n\n    instance = objects.Instance()\n    LOG.debug(\'some log message\', instance=instance)\n\nThe above will not cause a problem in the unit and functional test\nenvironment but will blow up in a tempest run, if that log message is\nhappens to be emitted.\n\nThis adds usage of the default ContextFormatter from oslo.log to make\ntest runs more realistic and catch potential issues related to args or\nkwargs passed in logging calls earlier. For example, the\nContextFormatter is what handles calls like\nLOG.debug(\'foo\', instance=instance) where the instance kwarg is used to\nshow ""[instance: 127a0d59-b88c-422b-b9a1-2dc7cc51fb9a]"" in a log\nmessage.\n\nThis also adjusts some tests that currently fail under the\nContextFormatter for lack of having Instance.uuid or making other log\nformatting assumptions.\n\nChange-Id: I8028d265da9b4f38fc4b09fe8e57be8881835041\n'}, {'number': 2, 'created': '2023-05-18 04:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6a5e1af198d4bbe515088b6886e2cb2245e217f', 'message': 'testing: Use the oslo.log ContextFormatter in the log fixture\n\nCurrently, we are using a different log formatter in our unit and\nfunctional test environments than is used by oslo.log by default.\nOccasionally, if a patch is passing an invalid keyword arg in a logging\ncall, we will not catch it until integration tests are run. And if the\ngiven log message is not normally emitted during integration tests, the\nbug could go unnoticed for some time.\n\nAn example of this is passing an Instance object in a log statement.\nThe default formatter actually requires that Instance.uuid be set, else\nthe log call will go into a recursion error. In the current test\nenvironment, running such a log statement succeeds because a different\nlog formatter is being used. For example:\n\n   instance = objects.Instance()\n   LOG.debug(\'some log message\', instance=instance)\n\nThe above will not cause a problem in the unit and functional test\nenvironment but will blow up in a tempest run, if that log message\nhappens to be emitted.\n\nThis adds usage of the default ContextFormatter from oslo.log to make\ntest runs more realistic and catch potential issues related to args or\nkwargs passed in logging calls earlier. For example, the\nContextFormatter is what handles calls like\nLOG.debug(\'foo\', instance=instance) where the instance kwarg is used to\nshow ""[instance: 127a0d59-b88c-422b-b9a1-2dc7cc51fb9a]"" in a log\nmessage.\n\nThis also adjusts some tests that currently fail under the\nContextFormatter for lack of having Instance.uuid or making other log\nformatting assumptions.\n\nChange-Id: I8028d265da9b4f38fc4b09fe8e57be8881835041\n'}, {'number': 3, 'created': '2023-05-18 20:30:31.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_in_placement.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/test_crypto.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/989af1e7afe439e677295cfe03be91f30f0743b2', 'message': 'testing: Use the oslo.log ContextFormatter in the log fixture\n\nCurrently, we are using the default python log formatter in our unit\nand functional test environments instead of the one used in oslo.log.\nOccasionally, if a patch is passing an invalid keyword arg in a logging\ncall, we will not catch it until integration tests are run. And if the\ngiven log message is not normally emitted during integration tests, the\nbug could go unnoticed for some time.\n\nAn example of this is passing an Instance object in a log statement.\nThe oslo.log ContextFormatter actually requires that Instance.uuid be\nset, else the log call will go into a recursion error. In the current\ntest environment, running such a log statement succeeds because the\ndefault python log formatter is being used. For example:\n\n   instance = objects.Instance()\n   LOG.debug(\'some log message\', instance=instance)\n\nThe above will not cause a problem in the unit and functional test\nenvironment but will blow up in a tempest run, if that log message\nhappens to be emitted.\n\nThis adds usage of the default ContextFormatter from oslo.log to make\ntest runs more realistic and catch potential issues related to args or\nkwargs passed in logging calls earlier. The ContextFormatter is what\nhandles calls like:\n\n  LOG.debug(\'foo\', instance=instance)\n\nwhere the instance kwarg is used to show\n\n  ""[instance: 127a0d59-b88c-422b-b9a1-2dc7cc51fb9a]""\n\nin the log message.\n\nThis also adjusts some tests that currently fail under the\nContextFormatter for lack of having Instance.uuid or making other log\nformatting assumptions based on the default python log formatter.\n\nChange-Id: I8028d265da9b4f38fc4b09fe8e57be8881835041\n'}]",0,883466,989af1e7afe439e677295cfe03be91f30f0743b2,8,1,3,4690,,,0,"testing: Use the oslo.log ContextFormatter in the log fixture

Currently, we are using the default python log formatter in our unit
and functional test environments instead of the one used in oslo.log.
Occasionally, if a patch is passing an invalid keyword arg in a logging
call, we will not catch it until integration tests are run. And if the
given log message is not normally emitted during integration tests, the
bug could go unnoticed for some time.

An example of this is passing an Instance object in a log statement.
The oslo.log ContextFormatter actually requires that Instance.uuid be
set, else the log call will go into a recursion error. In the current
test environment, running such a log statement succeeds because the
default python log formatter is being used. For example:

   instance = objects.Instance()
   LOG.debug('some log message', instance=instance)

The above will not cause a problem in the unit and functional test
environment but will blow up in a tempest run, if that log message
happens to be emitted.

This adds usage of the default ContextFormatter from oslo.log to make
test runs more realistic and catch potential issues related to args or
kwargs passed in logging calls earlier. The ContextFormatter is what
handles calls like:

  LOG.debug('foo', instance=instance)

where the instance kwarg is used to show

  ""[instance: 127a0d59-b88c-422b-b9a1-2dc7cc51fb9a]""

in the log message.

This also adjusts some tests that currently fail under the
ContextFormatter for lack of having Instance.uuid or making other log
formatting assumptions based on the default python log formatter.

Change-Id: I8028d265da9b4f38fc4b09fe8e57be8881835041
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/883466/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/test_crypto.py']",6,55ece93343011e6f7f2446837f5e98d28996fdc2,log-formatting-in-tests, instance = objects.Instance(uuid=uuids.instance), instance = objects.Instance(),29,16
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If46660b89401d2cc6c56bdc858b3ac4393420408,openstack/tripleo-heat-templates,stable/wallaby,If46660b89401d2cc6c56bdc858b3ac4393420408,Use /run/nova/startup/ for nova-comp delay script,MERGED,2023-03-14 12:45:30.000000000,2023-05-18 21:10:33.000000000,2023-05-18 21:08:57.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 15206}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-03-14 12:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/059d55b874a5b97254526e7c68333e24a43395bf', 'message': 'Use /run/nova/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova instead, and ensure its creation by the systemd\ntmpfiles.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n(cherry picked from commit 7db435ee02fbf79a9fbbe208db1d69821ed3d97f)\n(cherry picked from commit 2f3df87c0485f60744c74462bf56d2cdfa1270f4)\n'}, {'number': 2, 'created': '2023-04-05 12:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/647ce829f8b657ecc47d49ce43fb8eb1b3de532d', 'message': 'Use /run/nova/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova instead, and ensure its creation by the systemd\ntmpfiles.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 3, 'created': '2023-04-17 15:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6a22ca6eebe850ab3d892467e2cb1922878aca9', 'message': 'Use /run/nova/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova instead, and ensure its creation by the systemd\ntmpfiles.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 4, 'created': '2023-04-24 10:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69034a2ee7daf2df56d41662f310f0b1a0eae48b', 'message': 'Use /run/nova/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova instead, and ensure its creation by the systemd\ntmpfiles.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 5, 'created': '2023-04-28 11:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f89b509f65c886c70b0558fc3cc48748769b0685', 'message': 'Use /run/nova/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova instead, and ensure its creation by the systemd\ntmpfiles.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 6, 'created': '2023-05-04 13:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e000fe881f335c5134ddfc703764c637a6d8c648', 'message': 'Use /run/nova/startup/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova/startup instead, and ensure its creation by the systemd\ntmpfiles.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 7, 'created': '2023-05-04 13:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ffba96dd87bead8506ef07d434d47ade0d1b18a', 'message': 'Use /run/nova/startup/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova/startup instead, and ensure its creation by the systemd\ntmpfiles.\n\nRelated: rhbz#2173939\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 8, 'created': '2023-05-04 13:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/284808c54523b2daf4fa8fa771352d84d84792cf', 'message': 'Use /run/nova/startup/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova/startup instead, and ensure its creation by the systemd\ntmpfiles.\n\nRelated: rhbz#2173939\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 9, 'created': '2023-05-11 12:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fec7ae11511e0b6fffa1bffb719b17e6e627e34e', 'message': 'Use /run/nova/startup/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova/startup instead, and ensure its creation by the systemd\ntmpfiles.\n\nRelated: rhbz#2173939\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}, {'number': 10, 'created': '2023-05-16 11:40:05.000000000', 'files': ['releasenotes/notes/delayed_nova_compute-71325b99b34a11df.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'scripts/delay-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/457c489548a1e784e316d817ca2e9a9bed5360f1', 'message': 'Use /run/nova/startup/ for nova-comp delay script\n\nNova have no permissions to write into /run.\nUse /run/nova/startup instead, and ensure its creation by the systemd\ntmpfiles.\n\nRelated: rhbz#2173939\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: If46660b89401d2cc6c56bdc858b3ac4393420408\n'}]",17,877371,457c489548a1e784e316d817ca2e9a9bed5360f1,51,8,10,6926,,,0,"Use /run/nova/startup/ for nova-comp delay script

Nova have no permissions to write into /run.
Use /run/nova/startup instead, and ensure its creation by the systemd
tmpfiles.

Related: rhbz#2173939
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: If46660b89401d2cc6c56bdc858b3ac4393420408
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/877371/10 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/delayed_nova_compute-71325b99b34a11df.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'scripts/delay-nova-compute']",3,059d55b874a5b97254526e7c68333e24a43395bf,," default=""/run/nova/nova-compute-delayed"", '(default: /run/nova/nova-compute-delayed)')"," default=""/run/nova-compute-delayed"", '(default: /run/nova-compute-delayed)')",23,3
openstack%2Ftripleo-ci~master~I20233cd928fc16e401f8f9300705c7451e8231e0,openstack/tripleo-ci,master,I20233cd928fc16e401f8f9300705c7451e8231e0,Remove Zed check branchful jobs,MERGED,2023-05-09 21:16:22.000000000,2023-05-18 21:09:00.000000000,2023-05-18 21:09:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2023-05-09 21:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/21a081ca4db66e5dbe6de608f44b7bd2f6720420', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check jobs are being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}, {'number': 2, 'created': '2023-05-16 10:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/edce71b99caecedd54ae529e64bda515bdc2eb23', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check and periodic jobs\nare being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}, {'number': 3, 'created': '2023-05-16 11:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/af1e0a9d81d6126fc3059bff3c80c7eb1b8e580d', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check and periodic jobs\nare being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}, {'number': 4, 'created': '2023-05-16 11:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fe1eef578d21713ca9df22145b9b1d729b7df6ce', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check and periodic jobs\nare being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}, {'number': 5, 'created': '2023-05-16 12:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8d2ac3f33835b4c51b05d2fb0865031e53c3574', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check and periodic jobs\nare being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}, {'number': 6, 'created': '2023-05-16 12:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/869c8e00f95adea9ca2d59ee5abbd13eae4fe13e', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check and periodic jobs\nare being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}, {'number': 7, 'created': '2023-05-17 11:27:44.000000000', 'files': ['zuul.d/periodic.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37f88e99f740fd0ae330516677963b369d37f022', 'message': 'Remove Zed check branchful jobs\n\nPer the decision to not maintain TripleO after\nthe Zed release [1], and Zed is not an imported\nrelease, the Zed branchful check and periodic jobs\nare being removed.\n\n[1] https://review.opendev.org/c/openstack/governance/+/878799\n\nDepends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504\nChange-Id: I20233cd928fc16e401f8f9300705c7451e8231e0\n'}]",7,882759,37f88e99f740fd0ae330516677963b369d37f022,28,6,7,9976,,,0,"Remove Zed check branchful jobs

Per the decision to not maintain TripleO after
the Zed release [1], and Zed is not an imported
release, the Zed branchful check and periodic jobs
are being removed.

[1] https://review.opendev.org/c/openstack/governance/+/878799

Depends-On: https://review.rdoproject.org/r/c/rdo-jobs/+/48504
Change-Id: I20233cd928fc16e401f8f9300705c7451e8231e0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/59/882759/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,21a081ca4db66e5dbe6de608f44b7bd2f6720420,zed-tear-down, - tripleo-ci-centos-9-content-provider-wallaby:, - tripleo-ci-centos-9-content-provider-zed: - tripleo-ci-centos-9-content-provider-wallaby: irrelevant-files: *branchful_ignored dependencies: - openstack-tox-linters - tripleo-ci-centos-9-containers-multinode-zed: &multi_consumer_job_zed irrelevant-files: *branchful_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-9-content-provider-zed - tripleo-ci-centos-9-content-provider-zed: irrelevant-files: *branchful_ignored - tripleo-ci-centos-9-containers-multinode-zed: *multi_consumer_job_zed,1,13
openstack%2Fkolla-ansible~master~I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b,openstack/kolla-ansible,master,I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b,service-rabbitmq: avoid password leak without no_log,NEW,2020-03-03 10:53:43.000000000,2023-05-18 20:55:02.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 10:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/472044c88e7772988ef72135b51256ff72ba986b', 'message': 'service-rabbitmq: avoid password leak without no_log\n\nAdding no_log to tasks is quite a heavy-handed solution for preventing\nleakage of sensitive data, as it hides all output and error reporting.\n\nThis change loops over indices of the users list rather than items to\navoid exposing the password contained within the item. This allows us to\nremove the no_log that was added in\nI68a40bebc174e8ebdaea36a0689b34cadb9009d2.\n\nChange-Id: I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b\nRelated-bug: #1865840\n'}, {'number': 2, 'created': '2020-03-03 13:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/547f3c2887791f5233dcb3d7ca738cd54de6eb28', 'message': 'service-rabbitmq: avoid password leak without no_log\n\nAdding no_log to tasks is quite a heavy-handed solution for preventing\nleakage of sensitive data, as it hides all output and error reporting.\n\nThis change loops over indices of the users list rather than items to\navoid exposing the password contained within the item. This allows us to\nremove the no_log that was added in\nI68a40bebc174e8ebdaea36a0689b34cadb9009d2.\n\nChange-Id: I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b\nRelated-bug: #1865840\n'}, {'number': 3, 'created': '2020-03-04 10:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2375107992cc1e7a1ebd5dc1715f5a980bab3ecb', 'message': 'service-rabbitmq: avoid password leak without no_log\n\nAdding no_log to tasks is quite a heavy-handed solution for preventing\nleakage of sensitive data, as it hides all output and error reporting.\n\nThis change loops over indices of the users list rather than items to\navoid exposing the password contained within the item. This allows us to\nremove the no_log that was added in\nI68a40bebc174e8ebdaea36a0689b34cadb9009d2.\n\nChange-Id: I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b\nRelated-bug: #1865840\n'}, {'number': 4, 'created': '2020-03-06 15:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/520939c26e6b67793e6c11056b1e8367907366bf', 'message': 'service-rabbitmq: avoid password leak without no_log\n\nAdding no_log to tasks is quite a heavy-handed solution for preventing\nleakage of sensitive data, as it hides all output and error reporting.\n\nThis change loops over indices of the users list rather than items to\navoid exposing the password contained within the item. This allows us to\nremove the no_log that was added in\nI68a40bebc174e8ebdaea36a0689b34cadb9009d2.\n\nChange-Id: I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b\nRelated-bug: #1865840\n'}, {'number': 5, 'created': '2023-05-18 14:55:53.000000000', 'files': ['ansible/roles/service-rabbitmq/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c4b50443fa939b530b79a4a52675cb7a95ad87f', 'message': 'service-rabbitmq: avoid password leak without no_log\n\nAdding no_log to tasks is quite a heavy-handed solution for preventing\nleakage of sensitive data, as it hides all output and error reporting.\n\nThis change loops over indices of the users list rather than items to\navoid exposing the password contained within the item. This allows us to\nremove the no_log that was added in\nI68a40bebc174e8ebdaea36a0689b34cadb9009d2.\n\nChange-Id: I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b\nRelated-bug: #1865840\n'}]",0,710969,6c4b50443fa939b530b79a4a52675cb7a95ad87f,19,3,5,14826,,,0,"service-rabbitmq: avoid password leak without no_log

Adding no_log to tasks is quite a heavy-handed solution for preventing
leakage of sensitive data, as it hides all output and error reporting.

This change loops over indices of the users list rather than items to
avoid exposing the password contained within the item. This allows us to
remove the no_log that was added in
I68a40bebc174e8ebdaea36a0689b34cadb9009d2.

Change-Id: I1eedeb7e0b96eab8273539e5b7eee1c59a658d1b
Related-bug: #1865840
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/710969/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/service-rabbitmq/tasks/main.yml'],1,472044c88e7772988ef72135b51256ff72ba986b,bug/1865840," vars: rabbitmq_user: ""{{ service_rabbitmq_users[item] }}"" user: ""{{ rabbitmq_user.user }}"" password: ""{{ rabbitmq_user.password }}"" vhost: ""{{ rabbitmq_user.vhost }}"" # NOTE(mgoddard): Avoid leaking password in logs by looping over list # indices. loop: ""{{ range(service_rabbitmq_users | length)}}"" user: ""{{ rabbitmq_user.user }}"" vhost: ""{{ rabbitmq_user.vhost }}"""," user: ""{{ item.user }}"" password: ""{{ item.password }}"" vhost: ""{{ item.vhost }}"" loop: ""{{ service_rabbitmq_users }}"" user: ""{{ item.user }}"" vhost: ""{{ item.vhost }}"" no_log: True",10,7
openstack%2Fkolla~master~I8e55c699e493494b3e5c908c7e8c370ce992fdf5,openstack/kolla,master,I8e55c699e493494b3e5c908c7e8c370ce992fdf5,ubuntu: use Antelope UCA,MERGED,2023-05-17 14:29:51.000000000,2023-05-18 20:38:28.000000000,2023-05-18 20:37:31.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-17 14:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f69eaff8567e2ee744463b8b7d39331a2326514', 'message': 'ubuntu: use Antelope UCA\n\nChange-Id: I8e55c699e493494b3e5c908c7e8c370ce992fdf5\n'}, {'number': 2, 'created': '2023-05-18 11:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fce840c103e9e963101d24829bb1bb0c1c4abb65', 'message': 'ubuntu: use Antelope UCA\n\nChange-Id: I8e55c699e493494b3e5c908c7e8c370ce992fdf5\n'}, {'number': 3, 'created': '2023-05-18 14:54:56.000000000', 'files': ['tests/templates/template_overrides.j2', 'docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/665357248d83b3a752ff81338b571c83f2a1dbdb', 'message': 'ubuntu: use Antelope UCA\n\nSkip using the mirror for now, given the OpenDev AFS\nspace issues.\n\nChange-Id: I8e55c699e493494b3e5c908c7e8c370ce992fdf5\n'}]",2,883380,665357248d83b3a752ff81338b571c83f2a1dbdb,26,4,3,22629,,,0,"ubuntu: use Antelope UCA

Skip using the mirror for now, given the OpenDev AFS
space issues.

Change-Id: I8e55c699e493494b3e5c908c7e8c370ce992fdf5
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/883380/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu']",2,0f69eaff8567e2ee744463b8b7d39331a2326514,,deb http://ubuntu-cloud.archive.canonical.com/ubuntu jammy-updates/antelope main,deb http://ubuntu-cloud.archive.canonical.com/ubuntu jammy-updates/zed main,2,2
openstack%2Fswift~master~I6b60e1a6225c5b83f5108ef4e2a236d322861cc6,openstack/swift,master,I6b60e1a6225c5b83f5108ef4e2a236d322861cc6,probe tests: Skip versioning tests if not enabled,NEW,2023-05-17 23:03:16.000000000,2023-05-18 20:24:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 23:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c22fa0696c58077cc83837b16f128fd7126cd554', 'message': 'probe tests: Skip versioning tests if not enabled\n\nChange-Id: I6b60e1a6225c5b83f5108ef4e2a236d322861cc6\n'}, {'number': 2, 'created': '2023-05-18 19:12:56.000000000', 'files': ['test/probe/test_sharder.py', 'test/probe/test_object_versioning.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1e4bd96e247fc65f2ab9042847ebef90fe401c5f', 'message': 'probe tests: Skip versioning tests if not enabled\n\nChange-Id: I6b60e1a6225c5b83f5108ef4e2a236d322861cc6\n'}]",1,883455,1e4bd96e247fc65f2ab9042847ebef90fe401c5f,6,1,2,15343,,,0,"probe tests: Skip versioning tests if not enabled

Change-Id: I6b60e1a6225c5b83f5108ef4e2a236d322861cc6
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/883455/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_object_versioning.py', 'test/probe/test_sharder.py']",2,c22fa0696c58077cc83837b16f128fd7126cd554,," if self.cluster_info.get('versioned_writes'): test_headers['x-versions-location'] = 'versions' # NB: we haven't checked the pipeline; wait until we've actually got a # running config, below def setUp(self): super(TestContainerShardingObjectVersioning, self).setUp() if 'object_versioning' not in self.cluster_info: # Last chance -- check the running config raise SkipTest('Object Versioning is not enabled')"," 'x-versions-location': 'versions',",22,2
openstack%2Fglance_store~master~I83e3a0da9fdf7167cf4adf7257d5960338901158,openstack/glance_store,master,I83e3a0da9fdf7167cf4adf7257d5960338901158,"Revert ""RBD: Wrap RBD calls in native threads""",MERGED,2023-05-18 14:12:25.000000000,2023-05-18 20:18:16.000000000,2023-05-18 20:17:13.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-18 14:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7463ef30504f70789997d37821891f050f5d491d', 'message': 'Revert ""RBD: Wrap RBD calls in native threads""\n\nThis reverts commit 27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447.\n\nReason for revert: Appears to have broken CI jobs as the import tests always(?) fail now\n\nChange-Id: I83e3a0da9fdf7167cf4adf7257d5960338901158\n'}, {'number': 2, 'created': '2023-05-18 16:32:02.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py', 'releasenotes/notes/fix-rbd-lockup-3aa2bb86f7d29e19.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/99f4014493fa6178961a588ca6e1c52b4cc8d549', 'message': 'Revert ""RBD: Wrap RBD calls in native threads""\n\nThis reverts commit 27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447.\n\nReason for revert: The change introduced a blocking library call for\nthe thread running import jobs.\n\nCloses-Bug: #2020122\nChange-Id: I83e3a0da9fdf7167cf4adf7257d5960338901158\n'}]",1,883532,99f4014493fa6178961a588ca6e1c52b4cc8d549,10,6,2,4393,,,0,"Revert ""RBD: Wrap RBD calls in native threads""

This reverts commit 27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447.

Reason for revert: The change introduced a blocking library call for
the thread running import jobs.

Closes-Bug: #2020122
Change-Id: I83e3a0da9fdf7167cf4adf7257d5960338901158
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/32/883532/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py']",2,7463ef30504f70789997d37821891f050f5d491d,861191,," def test_create_image_in_native_thread(self): # Tests that we use non-0 features from ceph.conf and cast to int. fsid = 'fake' features = '3' conf_get_mock = mock.Mock(return_value=features) conn = mock.Mock(conf_get=conf_get_mock) ioctxt = mock.sentinel.ioctxt name = '1' size = 1024 order = 3 fake_proxy = mock.MagicMock() fake_rbd = mock.MagicMock() with mock.patch.object(rbd_store.tpool, 'Proxy') as tpool_mock, \ mock.patch.object(rbd_store.rbd, 'RBD') as rbd_mock: tpool_mock.return_value = fake_proxy rbd_mock.return_value = fake_rbd location = self.store._create_image( fsid, conn, ioctxt, name, size, order) self.assertEqual(fsid, location.specs['fsid']) self.assertEqual(rbd_store.DEFAULT_POOL, location.specs['pool']) self.assertEqual(name, location.specs['image']) self.assertEqual(rbd_store.DEFAULT_SNAPNAME, location.specs['snapshot']) tpool_mock.assert_called_once_with(fake_rbd) fake_proxy.create.assert_called_once_with(ioctxt, name, size, order, old_format=False, features=3) def test_delete_image_in_native_thread(self): fake_proxy = mock.MagicMock() fake_rbd = mock.MagicMock() fake_ioctx = mock.MagicMock() with mock.patch.object(rbd_store.tpool, 'Proxy') as tpool_mock, \ mock.patch.object(rbd_store.rbd, 'RBD') as rbd_mock, \ mock.patch.object(self.store, 'get_connection') as mock_conn: mock_get_conn = mock_conn.return_value.__enter__.return_value mock_ioctx = mock_get_conn.open_ioctx.return_value.__enter__ mock_ioctx.return_value = fake_ioctx tpool_mock.return_value = fake_proxy rbd_mock.return_value = fake_rbd self.store._delete_image('fake_pool', self.location.image) tpool_mock.assert_called_once_with(fake_rbd) fake_proxy.remove.assert_called_once_with(fake_ioctx, self.location.image)",4,58
openstack%2Fswift~master~Iff1aa6ad636a404cf8149ad3070e28bef48aa527,openstack/swift,master,Iff1aa6ad636a404cf8149ad3070e28bef48aa527,Imported Translations from Zanata,MERGED,2023-05-09 02:39:26.000000000,2023-05-18 20:17:22.000000000,2023-05-18 20:16:14.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 02:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bb5357b8b0ad4bf95909e597442c7de9a63fa85a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}, {'number': 2, 'created': '2023-05-10 02:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c20c863ef3f13ee5d4043f598f2a81ea83c22062', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}, {'number': 3, 'created': '2023-05-11 02:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b9755484df686ab9c43ae17126493d5937bb298', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}, {'number': 4, 'created': '2023-05-13 02:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a7824b1ad9ddc004b780c58d785139394d1b55a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}, {'number': 5, 'created': '2023-05-16 02:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d66dc7a41b266f36e80bdfe209c7601cc113c7c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}, {'number': 6, 'created': '2023-05-17 03:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/949a65cc6534c73b18a0f87d468ad0ba66f90906', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}, {'number': 7, 'created': '2023-05-18 03:18:39.000000000', 'files': ['swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/4bc86ec30eaddc157d6a21803951f11c0e798519', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527\n'}]",0,882635,4bc86ec30eaddc157d6a21803951f11c0e798519,26,2,7,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iff1aa6ad636a404cf8149ad3070e28bef48aa527
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/882635/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po']",13,bb5357b8b0ad4bf95909e597442c7de9a63fa85a,zanata/translations,"""POT-Creation-Date: 2023-05-01 06:33+0000\n""","""POT-Creation-Date: 2022-05-27 18:57+0000\n""msgid ""ERROR auditing"" msgstr ""Erro auditando"" msgid ""Unable to locate %s in libc. Leaving as a no-op."" msgstr ""No  possvel localizar %s em libc. Saindo como um no operacional."" #, python-formatmsgid """" ""Unable to locate fallocate, posix_fallocate in libc. Leaving as a no-op."" msgstr """" ""No  possvel localizar fallocate, posix_fallocate em libc. Saindo como um "" ""no operacional."" ",181,240
openstack%2Fkolla~stable%2Fyoga~I13fe5b46fed3f1ad14eab9fae513617a3d2053c8,openstack/kolla,stable/yoga,I13fe5b46fed3f1ad14eab9fae513617a3d2053c8,fluentd: pin fluent-plugin-elasticsearch to <5.3.0,MERGED,2023-05-17 11:49:53.000000000,2023-05-18 20:11:38.000000000,2023-05-18 13:20:19.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-05-17 11:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/08700e9d08ea245ca4cf126f6789ffca0bd1448c', 'message': ""fluentd: pin fluent-plugin-elasticsearch to <5.3.0\n\n5.3.0 requires faraday>2.0, let's pin stable branches requiring\nElasticSearch support.\n\nCloses-Bug: #2019557\nChange-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8\n""}, {'number': 2, 'created': '2023-05-17 12:44:20.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/64ab2e983de8bec2da394110334c88a7b35d5773', 'message': ""fluentd: pin fluent-plugin-elasticsearch to <5.3.0\n\n5.3.0 requires faraday>2.0, let's pin stable branches requiring\nElasticSearch support.\n\nCloses-Bug: #2019557\nChange-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8\n""}]",2,883358,64ab2e983de8bec2da394110334c88a7b35d5773,20,5,2,22629,,,0,"fluentd: pin fluent-plugin-elasticsearch to <5.3.0

5.3.0 requires faraday>2.0, let's pin stable branches requiring
ElasticSearch support.

Closes-Bug: #2019557
Change-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/883358/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,08700e9d08ea245ca4cf126f6789ffca0bd1448c,," 'fluent-plugin-elasticsearch:""<5.3.0""',"," 'fluent-plugin-elasticsearch',",1,1
openstack%2Fcharm-keystone~stable%2F2023.1~I8b815a6c14738c4e8f22fa6c281ab5116cfeb640,openstack/charm-keystone,stable/2023.1,I8b815a6c14738c4e8f22fa6c281ab5116cfeb640,charm-helpers sync,MERGED,2023-05-11 13:05:24.000000000,2023-05-18 19:34:18.000000000,2023-05-18 19:34:18.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 13:05:24.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0f0870520a0c1e6292cfd56b3d4af433ed1b60e6', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nChange-Id: I8b815a6c14738c4e8f22fa6c281ab5116cfeb640\nCloses-Bug: #2015103\n'}]",5,882946,0f0870520a0c1e6292cfd56b3d4af433ed1b60e6,17,4,1,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Change-Id: I8b815a6c14738c4e8f22fa6c281ab5116cfeb640
Closes-Bug: #2015103
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/46/882946/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka']",3,0f0870520a0c1e6292cfd56b3d4af433ed1b60e6,bug/2015103-2023.1,service_token_roles = {{ admin_role }} service_token_roles_required = True,,12,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I2ad3f748d18bf571dc7b82422fbcd8269cbe168e,openstack/openstack-ansible-os_ceilometer,master,I2ad3f748d18bf571dc7b82422fbcd8269cbe168e,Fix logic of defining polling_namespaces,MERGED,2023-05-05 18:25:42.000000000,2023-05-18 19:23:55.000000000,2023-05-18 19:22:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-05 18:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/a120c9cc27646f29140663ddb43f575b8023da7d', 'message': 'Fix logic of defining polling_namespaces\n\nPrevious logic did excluded possibility for ceilometer-polling agent\nto poll multiple namespaces at the same time. This resulted\nin a wrong config for AIO metal scenario.\n\nChange-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e\nCloses-Bug: #2018619\n'}, {'number': 2, 'created': '2023-05-05 18:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/f0c81b147f4c8b6583c0036c2b4dc4e8e8856a56', 'message': 'Fix logic of defining polling_namespaces\n\nPrevious logic did excluded possibility for ceilometer-polling agent\nto poll multiple namespaces at the same time. This resulted\nin a wrong config for AIO metal scenario.\n\nChange-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e\nCloses-Bug: #2018619\n'}, {'number': 3, 'created': '2023-05-05 21:22:42.000000000', 'files': ['releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'templates/ceilometer.conf.j2', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/bfca55e20dcbf78cb6089fed5859fc4d2e735941', 'message': 'Fix logic of defining polling_namespaces\n\nPrevious logic did excluded possibility for ceilometer-polling agent\nto poll multiple namespaces at the same time. This resulted\nin a wrong config for AIO metal scenario.\n\nChange-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e\nCloses-Bug: #2018619\n'}]",1,882466,bfca55e20dcbf78cb6089fed5859fc4d2e735941,16,4,3,28619,,,0,"Fix logic of defining polling_namespaces

Previous logic did excluded possibility for ceilometer-polling agent
to poll multiple namespaces at the same time. This resulted
in a wrong config for AIO metal scenario.

Change-Id: I2ad3f748d18bf571dc7b82422fbcd8269cbe168e
Closes-Bug: #2018619
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/66/882466/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'templates/ceilometer.conf.j2', 'vars/main.yml']",3,a120c9cc27646f29140663ddb43f575b8023da7d,,_ceilometer_polling_namespaces: | {% set _polling_namespaces = [] %} {% if 'ceilometer_agent_central' in group_names %} {% set _ = _polling_namespaces.append('central') % {% endif %} {% if 'ceilometer_agent_compute' in group_names %} {% set _ = _polling_namespaces.append('compute') %} {% endif %} ,,15,5
openstack%2Ftempest~master~I2a827eb9718890628f31cbac1cb34d288dfa4e4e,openstack/tempest,master,I2a827eb9718890628f31cbac1cb34d288dfa4e4e,DNM: test keystone new defaults and scope,NEW,2023-05-18 18:12:39.000000000,2023-05-18 18:59:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 18:12:39.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f76a8953c3a177703107af383d0a98ba159c373d', 'message': 'DNM: test keystone new defaults and scope\n\nChange-Id: I2a827eb9718890628f31cbac1cb34d288dfa4e4e\n'}]",0,883561,f76a8953c3a177703107af383d0a98ba159c373d,3,1,1,8556,,,0,"DNM: test keystone new defaults and scope

Change-Id: I2a827eb9718890628f31cbac1cb34d288dfa4e4e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/883561/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml']",2,f76a8953c3a177703107af383d0a98ba159c373d,secure-rbac, KEYSTONE_ENFORCE_SCOPE: true,,2,208
openstack%2Fcharm-cinder~master~I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,openstack/charm-cinder,master,I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,Add support for using service tokens,MERGED,2023-05-18 15:25:23.000000000,2023-05-18 18:53:49.000000000,2023-05-18 18:53:49.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 15:25:23.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/81c330b5d87a64a7a9ec601f4dd263b836ee9c01', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n'}]",1,883524,81c330b5d87a64a7a9ec601f4dd263b836ee9c01,7,3,1,34275,,,0,"Add support for using service tokens

This patch configures Cinder to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Cinder. Also with this patch Cinder will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Change-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/24/883524/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,81c330b5d87a64a7a9ec601f4dd263b836ee9c01,lp1992840,"{% include ""section-service-user"" %} ",,2,0
openstack%2Fossa~master~Ibd0d1d796012fb5d34d48925ce34f6f1c300b54e,openstack/ossa,master,Ibd0d1d796012fb5d34d48925ce34f6f1c300b54e,Add errata 3 for OSSA-2023-003,MERGED,2023-05-15 18:54:15.000000000,2023-05-18 18:42:39.000000000,2023-05-18 18:41:42.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 18:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/683aab4f2fea135a6e754f99d96f210671d814cb', 'message': ""Add errata 3 for OSSA-2023-003\n\nSince this only impacts the fix for stable/wallaby which is not\nunder normal maintenance, we'll dispose with the usual errata\nannouncements.\n\nChange-Id: Ibd0d1d796012fb5d34d48925ce34f6f1c300b54e\n""}, {'number': 2, 'created': '2023-05-15 19:21:35.000000000', 'files': ['ossa/OSSA-2023-003.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/136b24c5ddfaff6f4957af9bc9b84fa1b7deb6e3', 'message': ""Add errata 3 for OSSA-2023-003\n\nSince this only impacts the fix for stable/wallaby which is not\nunder normal maintenance, we'll dispose with the usual errata\nannouncements.\n\nChange-Id: Ibd0d1d796012fb5d34d48925ce34f6f1c300b54e\nRelated-Bug: #2004555\n""}]",0,883202,136b24c5ddfaff6f4957af9bc9b84fa1b7deb6e3,9,2,2,5263,,,0,"Add errata 3 for OSSA-2023-003

Since this only impacts the fix for stable/wallaby which is not
under normal maintenance, we'll dispose with the usual errata
announcements.

Change-Id: Ibd0d1d796012fb5d34d48925ce34f6f1c300b54e
Related-Bug: #2004555
",git fetch https://review.opendev.org/openstack/ossa refs/changes/02/883202/2 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2023-003.yaml'],1,683aab4f2fea135a6e754f99d96f210671d814cb,bug/2004555, place (errata 2). The stable/wallaby branch fix for nova introduced a regression which was addressed through subsequent adjustment of its patches after the advisory was published (errata 3). - 2023-05-15 - Errata 3, place (errata 2).,4,1
openstack%2Fmanila~master~I2e114c54d679a78208ada1821109187b2f645e76,openstack/manila,master,I2e114c54d679a78208ada1821109187b2f645e76,"db: Migrate ""share server"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-18 18:42:00.000000000,2023-05-18 16:13:52.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/64d724aca48f8a7a7b4a100bea33aff7346728cd', 'message': 'db: Migrate ""share server"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e114c54d679a78208ada1821109187b2f645e76\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1a86bcd0900efacad1c47f80b4a1b9694e22cfdd', 'message': 'db: Migrate ""share server"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e114c54d679a78208ada1821109187b2f645e76\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c4306e04bcc7bf76b4abec843b8a3481b2e871eb', 'message': 'db: Migrate ""share server"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2e114c54d679a78208ada1821109187b2f645e76\n'}]",4,880195,c4306e04bcc7bf76b4abec843b8a3481b2e871eb,38,4,3,15334,,,0,"db: Migrate ""share server"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I2e114c54d679a78208ada1821109187b2f645e76
",git fetch https://review.opendev.org/openstack/manila refs/changes/95/880195/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py']",3,64d724aca48f8a7a7b4a100bea33aff7346728cd,sqlalchemy-20,"def _share_server_get_query(context): return model_query( context, models.ShareServer, ).options( joinedload('share_instances'), joinedload('network_allocations'), joinedload('share_network_subnets'), )@context_manager.writer server_ref.save(session=context.session) # NOTE(u_glide): Do so to prevent errors with relationships return _share_server_get(context, server_ref['id'])@context_manager.writer def share_server_delete(context, id): server_ref = _share_server_get(context, id) model_query( context, models.ShareServerShareNetworkSubnetMapping, ).filter_by( share_server_id=id, ).soft_delete() _share_server_backend_details_delete(context, id) server_ref.soft_delete(session=context.session, update_status=True)@context_manager.writer def share_server_update(context, id, values): server_ref = _share_server_get(context, id) server_ref.update(values) server_ref.save(session=context.session) return server_ref@context_manager.reader def share_server_get(context, server_id): return _share_server_get(context, server_id) @require_context def _share_server_get(context, server_id): result = _share_server_get_query(context).filter_by(id=server_id).first()@context_manager.reader def share_server_search_by_identifier(context, identifier): result = (_share_server_get_query(context).filter( result = (_share_server_get_query(context).filter( result = (_share_server_get_query(context).filter( result = (_share_server_get_query(context).filter( result = (_share_server_get_query(context).filter( result = (_share_server_get_query(context).filter(@context_manager.reader def share_server_get_all_by_host_and_share_subnet_valid( context, host, share_subnet_id, ): result = _share_server_get_query( context, ).filter_by( host=host, ).filter( models.ShareServer.share_network_subnets.any(id=share_subnet_id) ).filter( models.ShareServer.status.in_( (constants.STATUS_CREATING, constants.STATUS_ACTIVE), ) ).all() filters_description=filters_description, )@context_manager.reader def share_server_get_all_by_host_and_share_subnet( context, host, share_subnet_id, ): result = _share_server_get_query( context, ).filter_by( host=host, ).filter( models.ShareServer.share_network_subnets.any(id=share_subnet_id) ).all() filters_description = ( 'share_network_subnet_id is ""%(share_subnet_id)s"" and host is ' '""%(host)s"".' ) % { filters_description=filters_description, )@context_manager.reader def share_server_get_all(context): return _share_server_get_query(context).all()@context_manager.reader def share_server_get_all_with_filters(context, filters): return _share_server_get_all_with_filters(context, filters) @require_context def _share_server_get_all_with_filters(context, filters): query = _share_server_get_query(context)@context_manager.reader return _share_server_get_all_with_filters(context, filters=filters)@context_manager.reader result = (_share_server_get_query(context)@context_manager.writer def share_server_backend_details_set(context, share_server_id, server_details): _share_server_get(context, share_server_id) meta_ref.save(session=context.session)@context_manager.writer def share_server_backend_details_delete(context, share_server_id): return _share_server_backend_details_delete(context, share_server_id)def _share_server_backend_details_delete(context, share_server_id): share_server_details = model_query( context, models.ShareServerBackendDetails, ).filter_by(share_server_id=share_server_id).all() for item in share_server_details: item.soft_delete(session=context.session) @require_context @context_manager.writer def share_servers_update(context, share_server_ids, values): result = model_query( context, models.ShareServer, read_deleted=""no"", ).filter( models.ShareServer.id.in_(share_server_ids), ).update(values, synchronize_session=False)","def _server_get_query(context, session=None): if session is None: session = get_session() return (model_query(context, models.ShareServer, session=session). options(joinedload('share_instances'), joinedload('network_allocations'), joinedload('share_network_subnets'))) session = get_session() with session.begin(): server_ref.save(session=session) # NOTE(u_glide): Do so to prevent errors with relationships return share_server_get(context, server_ref['id'], session=session)def share_server_delete(context, id): session = get_session() with session.begin(): server_ref = share_server_get(context, id, session=session) model_query( context, models.ShareServerShareNetworkSubnetMapping, session=session ).filter_by( share_server_id=id, ).soft_delete() share_server_backend_details_delete(context, id, session=session) server_ref.soft_delete(session=session, update_status=True)def share_server_update(context, id, values): session = get_session() with session.begin(): server_ref = share_server_get(context, id, session=session) server_ref.update(values) server_ref.save(session=session) return server_refdef share_server_get(context, server_id, session=None): result = (_server_get_query(context, session).filter_by(id=server_id) .first())def share_server_search_by_identifier(context, identifier, session=None): result = (_server_get_query(context, session).filter( result = (_server_get_query(context, session).filter( result = (_server_get_query(context, session).filter( result = (_server_get_query(context, session).filter( result = (_server_get_query(context, session).filter( result = (_server_get_query(context, session).filter(def share_server_get_all_by_host_and_share_subnet_valid(context, host, share_subnet_id, session=None): result = (_server_get_query(context, session) .filter_by(host=host) .filter(models.ShareServer.share_network_subnets.any( id=share_subnet_id)) .filter(models.ShareServer.status.in_( (constants.STATUS_CREATING, constants.STATUS_ACTIVE))).all()) filters_description=filters_description)def share_server_get_all_by_host_and_share_subnet(context, host, share_subnet_id, session=None): result = (_server_get_query(context, session) .filter_by(host=host) .filter(models.ShareServer.share_network_subnets.any( id=share_subnet_id)).all()) filters_description = ('share_network_subnet_id is ' '""%(share_subnet_id)s"" and host is ' '""%(host)s"".') % { filters_description=filters_description)def share_server_get_all(context): return _server_get_query(context).all()def share_server_get_all_with_filters(context, filters): query = _server_get_query(context) return share_server_get_all_with_filters(context, filters=filters) result = (_server_get_query(context)def share_server_backend_details_set(context, share_server_id, server_details): share_server_get(context, share_server_id) session = get_session() with session.begin(): meta_ref.save(session)def share_server_backend_details_delete(context, share_server_id, session=None): if not session: session = get_session() share_server_details = (model_query(context, models.ShareServerBackendDetails, session=session) .filter_by(share_server_id=share_server_id).all()) for item in share_server_details: item.soft_delete(session)def share_servers_update( context, share_server_ids, values, session=None): session = session or get_session() result = ( model_query( context, models.ShareServer, read_deleted=""no"", session=session).filter( models.ShareServer.id.in_(share_server_ids)).update( values, synchronize_session=False))",127,102
openstack%2Fopenstack-ansible-os_nova~master~I27fd98a1568bda8bea3d88c3f18b44a080982d0e,openstack/openstack-ansible-os_nova,master,I27fd98a1568bda8bea3d88c3f18b44a080982d0e,Ensure ipxe-qemu is always installed,MERGED,2023-05-04 09:14:34.000000000,2023-05-18 18:33:15.000000000,2023-05-18 18:32:12.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-04 09:14:34.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/15fde4287d2330f7c507c36610eb3a0079bc7fe2', 'message': 'Ensure ipxe-qemu is always installed\n\nThis is required by qemu-system-x86 but only recommended by\nqemu-system-arm. Without the file /usr/lib/ipxe/efi-virtio.rom\nfrom ipxe-qemu it is not possible to boot a VM on arm\nhosts.\n\nThis patch ensures that ipxe-qemu is always installed.\n\nChange-Id: I27fd98a1568bda8bea3d88c3f18b44a080982d0e\n'}]",2,882244,15fde4287d2330f7c507c36610eb3a0079bc7fe2,14,3,1,25023,,,0,"Ensure ipxe-qemu is always installed

This is required by qemu-system-x86 but only recommended by
qemu-system-arm. Without the file /usr/lib/ipxe/efi-virtio.rom
from ipxe-qemu it is not possible to boot a VM on arm
hosts.

This patch ensures that ipxe-qemu is always installed.

Change-Id: I27fd98a1568bda8bea3d88c3f18b44a080982d0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/44/882244/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,15fde4287d2330f7c507c36610eb3a0079bc7fe2,, - ipxe-qemu,,1,0
openstack%2Fdevstack~master~Ifb444fb7291dd669f62c2b47ebb4625c084e8980,openstack/devstack,master,Ifb444fb7291dd669f62c2b47ebb4625c084e8980,Add system_scope setting support for Nova & Tempest,ABANDONED,2018-10-25 09:20:34.000000000,2023-05-18 18:25:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-10-25 09:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/df994c48fc39b8adb67bc1e65aa69b4c98c698fc', 'message': 'Enable Keystone system_scope testing on Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since queens.\n\nTempest has disabled the system_scope by default.\n\nThis commit enable the system scope testing.\n\nDepends-On: https://review.openstack.org/#/c/604909/\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n'}, {'number': 2, 'created': '2018-10-31 11:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4cfcdb12febc0be5abb4c59d638138bf80ae20f', 'message': 'Add support for system_scope testing on Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since queens.\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.identity.system_scope to True\n- oslo_policy.enforce_scope to True\n\nBoth of the abpve mentioned config options are disabled default.\n\nThis commit does:\n- tempest.identity.system_scope to True.\n- Add flag to set the oslo_policy.enforce_scope which can be\n  set to True from zuul job.\n\nDepends-On: https://review.openstack.org/#/c/604909/\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n'}, {'number': 3, 'created': '2020-07-08 22:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d6e2ad68ecd034c74a0a5c09d38ed4a78a19b823', 'message': ""Add support for system_scope testing on Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since queens.\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nBoth of the above mentioned config options are disabled default.\n\nDepends-On: https://review.opendev.org/#/c/740122/\n\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}, {'number': 4, 'created': '2020-07-10 16:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/10ae8d9973f804f4788e4a6a56a031361a9cc892', 'message': ""Add system_scope setting support for Nova & Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since Queens. Nova has added\nthe scope support in their policies in Ussuri[1].\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nDepends-On: https://review.opendev.org/#/c/740122/\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}, {'number': 5, 'created': '2020-10-31 20:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d949fb3615c6c0fac64ab8fad97a4cc35ed06549', 'message': ""Add system_scope setting support for Nova & Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since Queens. Nova has added\nthe scope support in their policies in Ussuri[1].\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nDepends-On: https://review.opendev.org/#/c/740122/\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}, {'number': 6, 'created': '2020-10-31 20:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e815743149d61d5050ac22aa5301fa6a3991fde1', 'message': ""Add system_scope setting support for Nova & Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since Queens. Nova has added\nthe scope support in their policies in Ussuri[1].\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nDepends-On: https://review.opendev.org/#/c/740122/\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}, {'number': 7, 'created': '2020-11-16 15:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7cff49ac771f66203c3c18d5e06d3f2aaf1ecec8', 'message': ""Add system_scope setting support for Nova & Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since Queens. Nova has added\nthe scope support in their policies in Ussuri[1].\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nDepends-On: https://review.opendev.org/#/c/740122/\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}, {'number': 8, 'created': '2021-01-11 19:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/79061236a8d55e662e4061a26737a24fec36a540', 'message': ""Add system_scope setting support for Nova & Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since Queens. Nova has added\nthe scope support in their policies in Ussuri[1].\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770197\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}, {'number': 9, 'created': '2021-02-03 23:04:06.000000000', 'files': ['lib/nova', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c02952490cb5f49eed99d692fbd58cf17a3d8350', 'message': ""Add system_scope setting support for Nova & Tempest\n\nTempest starts the testing of keystone system scope\nfeature which is available since Queens. Nova has added\nthe scope support in their policies in Ussuri[1].\n\nTo enable the system scope testing on Tempest, we need to set:\n- tempest.auth.admin_system to 'all'\n- and option to set the service based oslo_policy.enforce_scope flag\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770197\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html\nChange-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980\n""}]",0,613251,c02952490cb5f49eed99d692fbd58cf17a3d8350,45,8,9,8556,,,0,"Add system_scope setting support for Nova & Tempest

Tempest starts the testing of keystone system scope
feature which is available since Queens. Nova has added
the scope support in their policies in Ussuri[1].

To enable the system scope testing on Tempest, we need to set:
- tempest.auth.admin_system to 'all'
- and option to set the service based oslo_policy.enforce_scope flag

Depends-On: https://review.opendev.org/c/openstack/tempest/+/770197

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/policy-defaults-refresh.html
Change-Id: Ifb444fb7291dd669f62c2b47ebb4625c084e8980
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/613251/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,df994c48fc39b8adb67bc1e65aa69b4c98c698fc,secure-rbac, # Set system_scope for keystone system scope testing which is available since queens. # TODO(gmann): Remove this config options from Tempest and from here once pike is in # End of Life. iniset $TEMPEST_CONFIG identity system_scope True,,4,0
openstack%2Fansible-config_template~master~I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f,openstack/ansible-config_template,master,I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f,Fix usage of {% raw %} tags and Jinja2 headers,MERGED,2023-04-28 19:35:58.000000000,2023-05-18 18:12:13.000000000,2023-05-18 18:10:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-04-28 19:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/e6b7b184b294933d435e14964b10f99d444d790b', 'message': 'DNM\n\nChange-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f\n'}, {'number': 2, 'created': '2023-04-29 03:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/4592897b6976e250c87327035f0dc937e5173308', 'message': ""Fix usage of {% raw %} tags and Jinja2 headers\n\nAt the moment we do resolve template 2 times for some historical reasons\n\nThis leads to {% raw %} tag as well as any other content be not respected\non the second renderring, since after the first one these tags\nare gone, so no escaping or whatsoever work.\n\nAt the same time there're no obvious reasons to render second time,\nsince all override content is being renderred already. So there should\nnot be anything left that indeed needs this second run.\n\nChange-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f\nCloses-Bug: #1649381\n""}, {'number': 3, 'created': '2023-04-29 03:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/c9f566943d9187f548d3f8e8182beda2dcd82aba', 'message': ""Fix usage of {% raw %} tags and Jinja2 headers\n\nAt the moment we do resolve template 2 times for some historical reasons\n\nThis leads to {% raw %} tag as well as any other content be not respected\non the second renderring, since after the first one these tags\nare gone, so no escaping or whatsoever work.\n\nAt the same time there're no obvious reasons to render second time,\nsince all override content is being renderred already. So there should\nnot be anything left that indeed needs this second run.\n\nChange-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f\nCloses-Bug: #1649381\n""}, {'number': 4, 'created': '2023-04-29 09:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/d1fe5734ae7b91a995f014610ab494555266ccf4', 'message': ""Fix usage of {% raw %} tags and Jinja2 headers\n\nAt the moment we do resolve template 2 times for some historical reasons\n\nThis leads to {% raw %} tag as well as any other content be not respected\non the second renderring, since after the first one these tags\nare gone, so no escaping or whatsoever work.\n\nAt the same time there're no obvious reasons to render second time,\nsince all override content is being renderred already. So there should\nnot be anything left that indeed needs this second run.\n\nChange-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f\nCloses-Bug: #1649381\n""}, {'number': 5, 'created': '2023-04-29 18:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/19fdf21f3e5a02f4df4b49fb46094084d66bdbcf', 'message': ""Fix usage of {% raw %} tags and Jinja2 headers\n\nAt the moment we do resolve template 2 times for some historical reasons\n\nThis leads to {% raw %} tag as well as any other content be not respected\non the second renderring, since after the first one these tags\nare gone, so no escaping or whatsoever work.\n\nAt the same time there're no obvious reasons to render second time,\nsince all override content is being renderred already. So there should\nnot be anything left that indeed needs this second run.\n\nChange-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f\nCloses-Bug: #1649381\n""}, {'number': 6, 'created': '2023-05-01 09:18:06.000000000', 'files': ['tests/files/test_raw_content.ini.expected', 'tests/test-ini.yml', 'doc/source/index.rst', 'tests/templates/test_raw_content.ini', 'plugins/action/config_template.py', 'releasenotes/notes/raw_tag_fixed-9c7cc7506314f76b.yaml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/e528ed0e9e9f3d3fcb2f33ddc5d175faf72094ac', 'message': ""Fix usage of {% raw %} tags and Jinja2 headers\n\nAt the moment we do resolve template 2 times for some historical reasons\n\nThis leads to {% raw %} tag as well as any other content be not respected\non the second renderring, since after the first one these tags\nare gone, so no escaping or whatsoever work.\n\nAt the same time there're no obvious reasons to render second time,\nsince all override content is being renderred already. So there should\nnot be anything left that indeed needs this second run.\n\nChange-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f\nCloses-Bug: #1649381\n""}]",11,881887,e528ed0e9e9f3d3fcb2f33ddc5d175faf72094ac,31,4,6,28619,,,0,"Fix usage of {% raw %} tags and Jinja2 headers

At the moment we do resolve template 2 times for some historical reasons

This leads to {% raw %} tag as well as any other content be not respected
on the second renderring, since after the first one these tags
are gone, so no escaping or whatsoever work.

At the same time there're no obvious reasons to render second time,
since all override content is being renderred already. So there should
not be anything left that indeed needs this second run.

Change-Id: I414b1b3b4e426316707dda23b9aeff6b6f4f7c2f
Closes-Bug: #1649381
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/87/881887/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/action/config_template.py'],1,e6b7b184b294933d435e14964b10f99d444d790b,," # resultant = self._check_templar(data=resultant, extra=_vars)"," resultant = self._check_templar(data=resultant, extra=_vars)",1,1
openstack%2Fneutron~master~I5a581f7ace6c25ea40a19c23868e591ae97fce1a,openstack/neutron,master,I5a581f7ace6c25ea40a19c23868e591ae97fce1a,"Replace ""tenant_id"" with ""project_id"" in address scope",MERGED,2023-05-11 13:17:17.000000000,2023-05-18 18:05:49.000000000,2023-05-18 18:04:27.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 13:17:17.000000000', 'files': ['neutron/db/address_scope_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/363c690529fe1958d3d7710a165a7ae1a5c81ca0', 'message': 'Replace ""tenant_id"" with ""project_id"" in address scope\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\n\nChange-Id: I5a581f7ace6c25ea40a19c23868e591ae97fce1a\n'}]",4,882949,363c690529fe1958d3d7710a165a7ae1a5c81ca0,23,4,1,16688,,,0,"Replace ""tenant_id"" with ""project_id"" in address scope

This is part of the remaining technical debt of the specs
https://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html

Blueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3

Change-Id: I5a581f7ace6c25ea40a19c23868e591ae97fce1a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/882949/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/address_scope_db.py'],1,363c690529fe1958d3d7710a165a7ae1a5c81ca0,bp/keystone-v3," address_scope.project_id == context.project_id) # TODO(ralonsoh): remove tenant_id reference once bp/keystone-v3 # migration finishes. project_id = a_s.get('project_id') or a_s['tenant_id'] pool_args = {'project_id': project_id,"," address_scope.tenant_id == context.tenant_id) pool_args = {'project_id': a_s['tenant_id'],",5,2
openstack%2Fneutron-specs~master~Id64231e30678207ee36225c18ce72b9928303afb,openstack/neutron-specs,master,Id64231e30678207ee36225c18ce72b9928303afb,Move configurable default SG rules spec to 2023.2 cycle,MERGED,2023-05-16 18:06:28.000000000,2023-05-18 17:47:09.000000000,2023-05-18 17:46:04.000000000,"[{'_account_id': 1131}, {'_account_id': 7730}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 18:06:28.000000000', 'files': ['specs/2023.2/configurable-default-sg-rules.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/55b8b9e88683a6b0356512c136f6265718ae6a58', 'message': ""Move configurable default SG rules spec to 2023.2 cycle\n\nThis spec was approved originally in the 2023.1 cycle but I didn't had\ntime to implement it then.\nSo now lets move it to the 2023.2 cycle and implement it finally.\n\nRelated-bug: #1983053\nChange-Id: Id64231e30678207ee36225c18ce72b9928303afb\n""}]",0,883295,55b8b9e88683a6b0356512c136f6265718ae6a58,9,4,1,11975,,,0,"Move configurable default SG rules spec to 2023.2 cycle

This spec was approved originally in the 2023.1 cycle but I didn't had
time to implement it then.
So now lets move it to the 2023.2 cycle and implement it finally.

Related-bug: #1983053
Change-Id: Id64231e30678207ee36225c18ce72b9928303afb
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/95/883295/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/configurable-default-sg-rules.rst'],1,55b8b9e88683a6b0356512c136f6265718ae6a58,bug/1983053,,,0,0
openstack%2Fneutron~stable%2Fwallaby~I628591da75c1cc367076f5a3051ca3c1e131d216,openstack/neutron,stable/wallaby,I628591da75c1cc367076f5a3051ca3c1e131d216,[stable-only][ovn] Fix ovsdbapp db_set command for stable branches,MERGED,2023-05-18 10:31:02.000000000,2023-05-18 17:23:00.000000000,2023-05-18 17:21:32.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 10:31:02.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d0f7a3a5c59693439c533b2b0e5d16b364b658b', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)\n'}]",2,883486,5d0f7a3a5c59693439c533b2b0e5d16b364b658b,16,3,1,32586,,,0,"[stable-only][ovn] Fix ovsdbapp db_set command for stable branches

The lack of an if_exists on the db_set function in ovsdbapp causes the
network log object deletion to not be a asynchronous operation on the
ML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since
that is an API change[0] it will not be backported to older branches,
so this patch overrides the function. This way we avoid the
possibility of getting errors when concurrently making operations
with security groups and network log objects.

Closes-bug: #2019887

[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py

Change-Id: I628591da75c1cc367076f5a3051ca3c1e131d216
(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/883486/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",2,5d0f7a3a5c59693439c533b2b0e5d16b364b658b,,"import collections from collections import abc class DbSetCommand(command.BaseCommand): def __init__(self, api, table, record, *col_values, if_exists=False, **columns): super().__init__(api) self.table = table self.record = record self.col_values = col_values or columns.items() self.if_exists = if_exists def run_idl(self, txn): try: record = self.api.lookup(self.table, self.record) except idlutils.RowNotFound: if self.if_exists: return raise for col, val in self.col_values: if isinstance(val, abc.Mapping): if isinstance(val, collections.OrderedDict): val = dict(val) existing = getattr(record, col, {}) existing.update(val) val = existing # Since we are updating certain keys and leaving existing keys # but rewriting the whole external_ids column, we must verify() record.verify(col) # For non-map columns, we unconditionally overwrite the values that # exist, so prior state doesn't matter and we don't need verify() self.set_column(record, col, val)",,42,0
openstack%2Fopenstacksdk~master~I559e6341b15041cb40fe208439da44c66b7cc6ca,openstack/openstacksdk,master,I559e6341b15041cb40fe208439da44c66b7cc6ca,"Add 'callback' to 'wait_for_delete', 'wait_for_status'",MERGED,2022-12-19 17:56:57.000000000,2023-05-18 17:22:56.000000000,2023-05-18 17:21:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-19 17:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f665a4c55a06cacf93b88639e99b3a82436288e1', 'message': ""Add 'callback' to 'wait_for_delete', 'wait_for_status'\n\nThis is helpful for OSC.\n\nChange-Id: I559e6341b15041cb40fe208439da44c66b7cc6ca\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-05-18 11:52:01.000000000', 'files': ['openstack/tests/unit/block_storage/v2/test_proxy.py', 'releasenotes/notes/wait_for_status_delete_callback_param-68d30161e23340bb.yaml', 'openstack/tests/unit/test_resource.py', 'openstack/resource.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'tox.ini', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a30f9562dfe146260611720ac961481be56fb2a6', 'message': ""Add 'callback' to 'wait_for_delete', 'wait_for_status'\n\nThis is helpful for OSC. We also use the opportunity to clean up the\ntests for these two functions since they were fairly janky.\n\nChange-Id: I559e6341b15041cb40fe208439da44c66b7cc6ca\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,868111,a30f9562dfe146260611720ac961481be56fb2a6,10,2,2,15334,,,0,"Add 'callback' to 'wait_for_delete', 'wait_for_status'

This is helpful for OSC. We also use the opportunity to clean up the
tests for these two functions since they were fairly janky.

Change-Id: I559e6341b15041cb40fe208439da44c66b7cc6ca
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/11/868111/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/resource.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v2/_proxy.py', 'openstack/compute/v2/_proxy.py']",4,f665a4c55a06cacf93b88639e99b3a82436288e1,wait-callbacks," self, server, status='ACTIVE', failures=None, interval=2, wait=120, callback=None, :param callback: A callback function. This will be called with a single value, progress, which is a percentage value from 0-100. :type callback: callable self, server, status=status, failures=failures, interval=interval, wait=wait, callback=callback, def wait_for_delete(self, res, interval=2, wait=120, callback=None): :param callback: A callback function. This will be called with a single value, progress, which is a percentage value from 0-100. return resource.wait_for_delete(self, res, interval, wait, callback)"," self, server, status='ACTIVE', failures=None, interval=2, wait=120, self, server, status, failures, interval, wait, def wait_for_delete(self, res, interval=2, wait=120): return resource.wait_for_delete(self, res, interval, wait)",99,15
openstack%2Fneutron~stable%2Fxena~I628591da75c1cc367076f5a3051ca3c1e131d216,openstack/neutron,stable/xena,I628591da75c1cc367076f5a3051ca3c1e131d216,[stable-only][ovn] Fix ovsdbapp db_set command for stable branches,MERGED,2023-05-18 10:20:14.000000000,2023-05-18 17:22:52.000000000,2023-05-18 17:21:28.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 10:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7eb2d04d4a53043cd538edba90f4663ffeb38ec5', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n(cherry picked from commit 0bf8a0f1e33f467f150f5227300ebc92bcee5f19)\n'}, {'number': 2, 'created': '2023-05-18 10:31:54.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f68426366d536a51d57a8a26f4185a81f543771c', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)\n'}]",0,883485,f68426366d536a51d57a8a26f4185a81f543771c,10,3,2,32586,,,0,"[stable-only][ovn] Fix ovsdbapp db_set command for stable branches

The lack of an if_exists on the db_set function in ovsdbapp causes the
network log object deletion to not be a asynchronous operation on the
ML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since
that is an API change[0] it will not be backported to older branches,
so this patch overrides the function. This way we avoid the
possibility of getting errors when concurrently making operations
with security groups and network log objects.

Closes-bug: #2019887

[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py

Change-Id: I628591da75c1cc367076f5a3051ca3c1e131d216
(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/883485/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",2,7eb2d04d4a53043cd538edba90f4663ffeb38ec5,,"import collections from collections import abc class DbSetCommand(command.BaseCommand): def __init__(self, api, table, record, *col_values, if_exists=False, **columns): super().__init__(api) self.table = table self.record = record self.col_values = col_values or columns.items() self.if_exists = if_exists def run_idl(self, txn): try: record = self.api.lookup(self.table, self.record) except idlutils.RowNotFound: if self.if_exists: return raise for col, val in self.col_values: if isinstance(val, abc.Mapping): if isinstance(val, collections.OrderedDict): val = dict(val) existing = getattr(record, col, {}) existing.update(val) val = existing # Since we are updating certain keys and leaving existing keys # but rewriting the whole external_ids column, we must verify() record.verify(col) # For non-map columns, we unconditionally overwrite the values that # exist, so prior state doesn't matter and we don't need verify() self.set_column(record, col, val)",,42,0
openstack%2Fneutron~stable%2Fyoga~I628591da75c1cc367076f5a3051ca3c1e131d216,openstack/neutron,stable/yoga,I628591da75c1cc367076f5a3051ca3c1e131d216,[stable-only][ovn] Fix ovsdbapp db_set command for stable branches,MERGED,2023-05-18 09:43:26.000000000,2023-05-18 17:22:50.000000000,2023-05-18 17:21:25.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 09:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf8a0f1e33f467f150f5227300ebc92bcee5f19', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 2, 'created': '2023-05-18 10:32:07.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b712b39707189ae92110afd58eb6a5796e9220', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)\n'}]",0,883401,99b712b39707189ae92110afd58eb6a5796e9220,11,3,2,32586,,,0,"[stable-only][ovn] Fix ovsdbapp db_set command for stable branches

The lack of an if_exists on the db_set function in ovsdbapp causes the
network log object deletion to not be a asynchronous operation on the
ML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since
that is an API change[0] it will not be backported to older branches,
so this patch overrides the function. This way we avoid the
possibility of getting errors when concurrently making operations
with security groups and network log objects.

Closes-bug: #2019887

[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687

Change-Id: I628591da75c1cc367076f5a3051ca3c1e131d216
(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/883401/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",2,0bf8a0f1e33f467f150f5227300ebc92bcee5f19,,"import collections from collections import abc class DbSetCommand(command.BaseCommand): def __init__(self, api, table, record, *col_values, if_exists=False, **columns): super().__init__(api) self.table = table self.record = record self.col_values = col_values or columns.items() self.if_exists = if_exists def run_idl(self, txn): try: record = self.api.lookup(self.table, self.record) except idlutils.RowNotFound: if self.if_exists: return raise for col, val in self.col_values: if isinstance(val, abc.Mapping): if isinstance(val, collections.OrderedDict): val = dict(val) existing = getattr(record, col, {}) existing.update(val) val = existing # Since we are updating certain keys and leaving existing keys # but rewriting the whole external_ids column, we must verify() record.verify(col) # For non-map columns, we unconditionally overwrite the values that # exist, so prior state doesn't matter and we don't need verify() self.set_column(record, col, val)",,42,0
openstack%2Fneutron~stable%2Fzed~I628591da75c1cc367076f5a3051ca3c1e131d216,openstack/neutron,stable/zed,I628591da75c1cc367076f5a3051ca3c1e131d216,[stable-only][ovn] Fix ovsdbapp db_set command for stable branches,MERGED,2023-05-18 09:42:42.000000000,2023-05-18 17:22:34.000000000,2023-05-18 17:21:21.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 09:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8e950c54499abfe3557d28cfbd4cda872639150', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 2, 'created': '2023-05-18 10:32:20.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1529c0a29728955064a53d616a118bc8a7ca1b4c', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)\n'}]",0,883400,1529c0a29728955064a53d616a118bc8a7ca1b4c,10,3,2,32586,,,0,"[stable-only][ovn] Fix ovsdbapp db_set command for stable branches

The lack of an if_exists on the db_set function in ovsdbapp causes the
network log object deletion to not be a asynchronous operation on the
ML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since
that is an API change[0] it will not be backported to older branches,
so this patch overrides the function. This way we avoid the
possibility of getting errors when concurrently making operations
with security groups and network log objects.

Closes-bug: #2019887

[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687

Change-Id: I628591da75c1cc367076f5a3051ca3c1e131d216
(cherry picked from commit 551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/883400/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",2,f8e950c54499abfe3557d28cfbd4cda872639150,,"import collections from collections import abc class DbSetCommand(command.BaseCommand): def __init__(self, api, table, record, *col_values, if_exists=False, **columns): super().__init__(api) self.table = table self.record = record self.col_values = col_values or columns.items() self.if_exists = if_exists def run_idl(self, txn): try: record = self.api.lookup(self.table, self.record) except idlutils.RowNotFound: if self.if_exists: return raise for col, val in self.col_values: if isinstance(val, abc.Mapping): if isinstance(val, collections.OrderedDict): val = dict(val) existing = getattr(record, col, {}) existing.update(val) val = existing # Since we are updating certain keys and leaving existing keys # but rewriting the whole external_ids column, we must verify() record.verify(col) # For non-map columns, we unconditionally overwrite the values that # exist, so prior state doesn't matter and we don't need verify() self.set_column(record, col, val)",,42,0
openstack%2Fpython-openstackclient~master~I243b7c1fc411747e9d38c9c50a0a5db4d33eca79,openstack/python-openstackclient,master,I243b7c1fc411747e9d38c9c50a0a5db4d33eca79,"Metadef resource type list working, and matches glance client output. Removed metadef_resource_type_create since this command is not supported by the SDK.",ABANDONED,2023-05-17 17:25:26.000000000,2023-05-18 17:15:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 17:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1a747318d8e6f7a460ee5f780fda195cc0c0e8f0', 'message': 'Metadef resource type list working, and matches glance client output.\nRemoved metadef_resource_type_create since this command is not\nsupported by the SDK.\n\nChange-Id: I243b7c1fc411747e9d38c9c50a0a5db4d33eca79\n'}, {'number': 2, 'created': '2023-05-18 17:05:43.000000000', 'files': ['openstackclient/image/v2/metadef_resource_types.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c73a693a8eedefb2121e9773eba67b0300be4569', 'message': 'Metadef resource type list working, and matches glance client output.\nRemoved metadef_resource_type_create since this command is not\nsupported by the SDK.\n\nChange-Id: I243b7c1fc411747e9d38c9c50a0a5db4d33eca79\n'}]",0,883420,c73a693a8eedefb2121e9773eba67b0300be4569,4,1,2,35548,,,0,"Metadef resource type list working, and matches glance client output.
Removed metadef_resource_type_create since this command is not
supported by the SDK.

Change-Id: I243b7c1fc411747e9d38c9c50a0a5db4d33eca79
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/883420/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/image/v2/metadef_resource_types.py', 'setup.cfg']",2,1a747318d8e6f7a460ee5f780fda195cc0c0e8f0,antoniagaete/image_metadef_namespace_resource_types,, image_metadef_resource_type_create = openstackclient.image.v2.metadef_resource_types:CreateMetadefResourceType,5,43
openstack%2Fironic~master~I3b7b5c0cf2f7d669b265669d27e0eaca0dd1fc2a,openstack/ironic,master,I3b7b5c0cf2f7d669b265669d27e0eaca0dd1fc2a,Migrate to pysnmp lextudio ecosystem,MERGED,2023-05-11 06:53:14.000000000,2023-05-18 17:14:42.000000000,2023-05-18 17:13:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 06:53:14.000000000', 'files': ['test-requirements.txt', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8c83ef544a660abd3dbe19a1f238a30cc3d9cac', 'message': ""Migrate to pysnmp lextudio ecosystem\n\nThe pysnmp library is not maintained since 4 years now and it's\nincompatible with recent libraries like pyasn1.\nIts fork pysnmp-lextudio is regularly maintained, we should move\nto that.\n\nChange-Id: I3b7b5c0cf2f7d669b265669d27e0eaca0dd1fc2a\n""}]",0,882917,c8c83ef544a660abd3dbe19a1f238a30cc3d9cac,10,3,1,23851,,,0,"Migrate to pysnmp lextudio ecosystem

The pysnmp library is not maintained since 4 years now and it's
incompatible with recent libraries like pyasn1.
Its fork pysnmp-lextudio is regularly maintained, we should move
to that.

Change-Id: I3b7b5c0cf2f7d669b265669d27e0eaca0dd1fc2a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/882917/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'driver-requirements.txt']",2,c8c83ef544a660abd3dbe19a1f238a30cc3d9cac,migrate-to-pysnmp-lextm,pysnmp-lextudio>=5.0.0 # BSD pyasn1-lextudio>=1.1.0 # BSD pyasn1-modules-lextudio>=0.2.0 # BSD,"pysnmp>=4.3.0,<5.0.0",6,2
openstack%2Fcharm-nova-compute~stable%2F2023.1~I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1,openstack/charm-nova-compute,stable/2023.1,I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1,Add support for using service tokens,MERGED,2023-05-18 11:47:08.000000000,2023-05-18 17:02:47.000000000,2023-05-18 17:02:47.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 11:47:08.000000000', 'files': ['templates/yoga/nova.conf', 'hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2f2f34c84f3a4992cef86d10176a394d65a5bf10', 'message': 'Add support for using service tokens\n\nThis patch configures Nova to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Nova. Also with this patch Nova will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1\n(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)\n'}]",1,883404,2f2f34c84f3a4992cef86d10176a394d65a5bf10,7,3,1,11805,,,0,"Add support for using service tokens

This patch configures Nova to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Nova. Also with this patch Nova will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Change-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1
(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/04/883404/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/yoga/nova.conf', 'hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",7,2f2f34c84f3a4992cef86d10176a394d65a5bf10,lp1987355-stable/2023.1," 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin',",,17,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fwallaby~I0c93a9a6d4390229cabd26853c17667be87e4201,openstack/openstack-ansible-os_tempest,stable/wallaby,I0c93a9a6d4390229cabd26853c17667be87e4201,Fix tmepest plugin versions,NEW,2023-05-18 15:38:40.000000000,2023-05-18 17:00:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 15:38:40.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cf741fcbbbb7d5a0059d85aef8ab8d989da8f12f', 'message': 'Fix tmepest plugin versions\n\nWith time plugin installations failing due to changing requirements.\n\nBy fixing version of tempest plugins we avoid issues in CI caused\nby that.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/880324\nChange-Id: I0c93a9a6d4390229cabd26853c17667be87e4201\n'}]",0,883528,cf741fcbbbb7d5a0059d85aef8ab8d989da8f12f,2,1,1,28619,,,0,"Fix tmepest plugin versions

With time plugin installations failing due to changing requirements.

By fixing version of tempest plugins we avoid issues in CI caused
by that.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/880324
Change-Id: I0c93a9a6d4390229cabd26853c17667be87e4201
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/28/883528/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,cf741fcbbbb7d5a0059d85aef8ab8d989da8f12f,, branch: 1.7.0 branch: 1.8.0 branch: 2.7.0 branch: 0.16.0 branch: 1.7.0 branch: 2.6.0 branch: 0.11.0 branch: 1.8.0 branch: 1.12.0 branch: 2.5.0 branch: 1.9.0 branch: 1.6.0 branch: 0.16.0 branch: 1.8.0 branch: 1.5.0 branch: 1.5.0 branch: 4.7.0, branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master branch: master,17,17
openstack%2Fopenstack-ansible~stable%2Fzed~I186e7c814c0f6f867605ffa321a616cd8a20283f,openstack/openstack-ansible,stable/zed,I186e7c814c0f6f867605ffa321a616cd8a20283f,[doc] Add Ubuntu 22.04 as supported in AIO docs,MERGED,2023-05-18 15:24:16.000000000,2023-05-18 17:00:31.000000000,2023-05-18 16:58:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-18 15:24:16.000000000', 'files': ['doc/source/user/aio/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7a119005135e157b12eb06795a7f7bdd8c8f034', 'message': '[doc] Add Ubuntu 22.04 as supported in AIO docs\n\nChange-Id: I186e7c814c0f6f867605ffa321a616cd8a20283f\n(cherry picked from commit 5bfaf8e330e9a175c4daea49bc00365a863cf71a)\n'}]",0,883540,b7a119005135e157b12eb06795a7f7bdd8c8f034,8,3,1,28619,,,0,"[doc] Add Ubuntu 22.04 as supported in AIO docs

Change-Id: I186e7c814c0f6f867605ffa321a616cd8a20283f
(cherry picked from commit 5bfaf8e330e9a175c4daea49bc00365a863cf71a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/883540/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/aio/quickstart.rst'],1,b7a119005135e157b12eb06795a7f7bdd8c8f034,," Debian 11 (bullseye), Ubuntu 20.04 (Focal Fossa), Ubuntu 22.04 (Jammy Jellyfish), CentOS 9 Stream,"," Debian 11 (bullseye), Ubuntu 20.04 (Focal Fossa), CentOS 9 Stream,",2,1
openstack%2Fcinder-tempest-plugin~master~I5c7818da89323c9de4381326882707828a7a1db2,openstack/cinder-tempest-plugin,master,I5c7818da89323c9de4381326882707828a7a1db2,Increase cinder volume quota for cbak job,MERGED,2023-03-09 19:17:29.000000000,2023-05-18 16:51:40.000000000,2023-05-18 16:51:40.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-03-09 19:17:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/310228cb7fc999fccbaf14586022547a7494b61d', 'message': 'Increase cinder volume quota for cbak job\n\nWith new tests such as I281f881 being added,\ncinder-tempest-plugin-cbak-ceph is failing due to\nthe quota limit of 10 volumes.\n\nIncrease this to 25.\n\nChange-Id: I5c7818da89323c9de4381326882707828a7a1db2\n'}]",2,877035,310228cb7fc999fccbaf14586022547a7494b61d,9,6,1,4523,,,0,"Increase cinder volume quota for cbak job

With new tests such as I281f881 being added,
cinder-tempest-plugin-cbak-ceph is failing due to
the quota limit of 10 volumes.

Increase this to 25.

Change-Id: I5c7818da89323c9de4381326882707828a7a1db2
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/35/877035/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,310228cb7fc999fccbaf14586022547a7494b61d,, devstack_localrc: CINDER_QUOTA_VOLUMES: 25,,2,0
openstack%2Fcinder-tempest-plugin~master~Ic41eeb457e8e26f251471dc1de63e1f07729d468,openstack/cinder-tempest-plugin,master,Ic41eeb457e8e26f251471dc1de63e1f07729d468,Add Python 3.10 to setup.cfg metadata,MERGED,2023-03-09 19:17:29.000000000,2023-05-18 16:49:51.000000000,2023-05-18 16:49:51.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-03-09 19:17:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8c60846e51e4c2c3f3dbff71b78d1b967398b05c', 'message': 'Add Python 3.10 to setup.cfg metadata\n\nWe support 3.10 as of Antelope.\n\nChange-Id: Ic41eeb457e8e26f251471dc1de63e1f07729d468\n'}]",3,877034,8c60846e51e4c2c3f3dbff71b78d1b967398b05c,11,6,1,4523,,,0,"Add Python 3.10 to setup.cfg metadata

We support 3.10 as of Antelope.

Change-Id: Ic41eeb457e8e26f251471dc1de63e1f07729d468
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/34/877034/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8c60846e51e4c2c3f3dbff71b78d1b967398b05c,, Programming Language :: Python :: 3.10,,1,0
openstack%2Fnetworking-generic-switch~master~Ia28a08b5426cd71c03d51e7b6149f8fda37fc91c,openstack/networking-generic-switch,master,Ia28a08b5426cd71c03d51e7b6149f8fda37fc91c,Fake: support adding a random sleep and injecting failures,NEW,2023-02-22 17:17:52.000000000,2023-05-18 16:44:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-22 17:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/1f2bf87f85e98d592b47b840446fae6569bf77fa', 'message': 'Fake: support adding a random sleep and injecting failures\n\nThis allows us to more closely model real switch devices.\n\nChange-Id: Ia28a08b5426cd71c03d51e7b6149f8fda37fc91c\n'}, {'number': 2, 'created': '2023-05-18 14:41:34.000000000', 'files': ['networking_generic_switch/devices/netmiko_devices/fake.py', 'networking_generic_switch/devices/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c019cc21a86ddd0c0ecbcd1787218f569aa0b53a', 'message': 'Fake: support adding a random sleep and injecting failures\n\nThis allows us to more closely model real switch devices.\n\nChange-Id: Ia28a08b5426cd71c03d51e7b6149f8fda37fc91c\n'}]",0,874793,c019cc21a86ddd0c0ecbcd1787218f569aa0b53a,4,1,2,14826,,,0,"Fake: support adding a random sleep and injecting failures

This allows us to more closely model real switch devices.

Change-Id: Ia28a08b5426cd71c03d51e7b6149f8fda37fc91c
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/93/874793/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/devices/netmiko_devices/fake.py', 'networking_generic_switch/devices/__init__.py']",2,1f2bf87f85e98d592b47b840446fae6569bf77fa,," # The following three are used in the Fake device driver. {'name': 'ngs_fake_sleep_min_s'}, {'name': 'ngs_fake_sleep_max_s'}, {'name': 'ngs_fake_failure_prob'},",,48,8
openstack%2Fneutron~master~I8a9d9d188f4f046fd3794f2973517a5e41f09f8c,openstack/neutron,master,I8a9d9d188f4f046fd3794f2973517a5e41f09f8c,"RPC sighup test is failing, suspecting due to stestr concurrency",ABANDONED,2023-02-18 03:56:03.000000000,2023-05-18 16:30:05.000000000,,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-18 03:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e1b157ff6eb4da80be71a57a95e5eb8a85c93be', 'message': '[DNM] rpc sighup test failing, suspecting due to concurrency\n\nChange-Id: I8a9d9d188f4f046fd3794f2973517a5e41f09f8c\n'}, {'number': 2, 'created': '2023-02-19 03:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfbf5c04fca82978947bc84c88d40875bdf0d0ec', 'message': '[DNM] rpc sighup test failing, suspecting due to concurrency\n\nChange-Id: I8a9d9d188f4f046fd3794f2973517a5e41f09f8c\n'}, {'number': 3, 'created': '2023-02-28 15:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58591187b67e4a2012af47b99724d23172f5d085', 'message': 'RPC sighup test is failing, suspecting due to stestr concurrency\n\nAccording to ZUUL logs from when the test fails there are other\nprocesses running on the system. I am suspecting this is due to\nstestr running multiple concurrent tests. When I ran this test\nin CI with concurrency 1 it passes. Thus I am, proposing\nwe run this with concurrency 1 all the time.\n\nChange-Id: I8a9d9d188f4f046fd3794f2973517a5e41f09f8c\n'}, {'number': 4, 'created': '2023-03-01 22:41:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/799d02188d0013177edc83ca4e8e2370be645a50', 'message': 'RPC sighup test is failing, suspecting due to stestr concurrency\n\nAccording to ZUUL logs from when the test fails there are other\nprocesses running on the system. I am suspecting this is due to\nstestr running multiple concurrent tests. When I ran this test\nin CI with concurrency 1 it passes. Thus I am, proposing\nwe run this with concurrency 1 all the time.\n\nCloses-Bug:#2008947\n\nChange-Id: I8a9d9d188f4f046fd3794f2973517a5e41f09f8c\n'}]",4,874345,799d02188d0013177edc83ca4e8e2370be645a50,18,3,4,34271,,,0,"RPC sighup test is failing, suspecting due to stestr concurrency

According to ZUUL logs from when the test fails there are other
processes running on the system. I am suspecting this is due to
stestr running multiple concurrent tests. When I ran this test
in CI with concurrency 1 it passes. Thus I am, proposing
we run this with concurrency 1 all the time.

Closes-Bug:#2008947

Change-Id: I8a9d9d188f4f046fd3794f2973517a5e41f09f8c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/874345/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,6e1b157ff6eb4da80be71a57a95e5eb8a85c93be,sighup_test_conc_1, stestr run --exclude-regex (.*MySQL\.|.*PostgreSQL\.|.*test_get_all_devices.|.*test_restart_rpc_on_sighup_multiple_workers) {posargs} stestr run --combine --concurrency 1 (.*MySQL\.|.*PostgreSQL\.|.*test_get_all_devices.|.*test_restart_rpc_on_sighup_multiple_workers) {posargs}, stestr run --exclude-regex (.*MySQL\.|.*PostgreSQL\.|.*test_get_all_devices) {posargs} stestr run --combine --concurrency 1 (.*MySQL\.|.*PostgreSQL\.|.*test_get_all_devices) {posargs},57,56
openstack%2Fironic-python-agent~master~I5d46af2a9d94f3b2e05e4f937e0619a89fe04d4c,openstack/ironic-python-agent,master,I5d46af2a9d94f3b2e05e4f937e0619a89fe04d4c,Ironic (and IPA) use launchpad now,MERGED,2023-05-15 21:08:29.000000000,2023-05-18 16:17:37.000000000,2023-05-18 16:16:21.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-15 21:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/22fbaeb359cc09e5ab258646d16866e12a50b8d2', 'message': 'Ironic (and IPA) use launchpad now\n\nCorrect links to point to launchpad bug tracker\n\nChange-Id: I5d46af2a9d94f3b2e05e4f937e0619a89fe04d4c\n'}, {'number': 2, 'created': '2023-05-17 22:39:09.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6098747ec549ea9ab7e6c2ae7f60d2ce706aef1a', 'message': 'Ironic (and IPA) use launchpad now\n\nCorrect links to point to launchpad bug tracker, correct docs config\n\nChange-Id: I5d46af2a9d94f3b2e05e4f937e0619a89fe04d4c\n'}]",0,883211,6098747ec549ea9ab7e6c2ae7f60d2ce706aef1a,14,4,2,10342,,,0,"Ironic (and IPA) use launchpad now

Correct links to point to launchpad bug tracker, correct docs config

Change-Id: I5d46af2a9d94f3b2e05e4f937e0619a89fe04d4c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/11/883211/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,22fbaeb359cc09e5ab258646d16866e12a50b8d2,back-to-lp,Project bugs are tracked on Launchpad: https://bugs.launchpad.net/ironic-python-agent/+bugs #openstack-ironic on irc.oftc.net,"Project status, features, and bugs are tracked on StoryBoard: https://storyboard.openstack.org/#!/project/947 #openstack-ironic",5,5
openstack%2Fironic~master~Id4c8815a0bcce0445f921652169222b3a19846eb,openstack/ironic,master,Id4c8815a0bcce0445f921652169222b3a19846eb,WIP: Remove Cinder Instance UUID,ABANDONED,2023-05-17 15:42:48.000000000,2023-05-18 16:13:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 15:42:48.000000000', 'files': ['ironic/common/cinder.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0bae102091bd281ce75db43445d7dc95c8fea2f', 'message': ""WIP: Remove Cinder Instance UUID\n\nWith Cinder, we were previously sending an embedded instance_uuid\nvalue to emulate Nova's behavior.\n\nHowever, this was all because Cinder had a bug where instance_uuid\nwas enforced being present, when it shouldn't have been[0].\n\nAs such, to unblock us, we're going to stop sending an instance_uuid\nin our attachment operations.\n\n[0]: https://review.opendev/org/q/I5108fd51effa\n\nChange-Id: Id4c8815a0bcce0445f921652169222b3a19846eb\n""}]",0,883412,f0bae102091bd281ce75db43445d7dc95c8fea2f,5,1,1,11655,,,0,"WIP: Remove Cinder Instance UUID

With Cinder, we were previously sending an embedded instance_uuid
value to emulate Nova's behavior.

However, this was all because Cinder had a bug where instance_uuid
was enforced being present, when it shouldn't have been[0].

As such, to unblock us, we're going to stop sending an instance_uuid
in our attachment operations.

[0]: https://review.opendev/org/q/I5108fd51effa

Change-Id: Id4c8815a0bcce0445f921652169222b3a19846eb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/883412/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/cinder.py'],1,f0bae102091bd281ce75db43445d7dc95c8fea2f,," client.volumes.attach(volume_id, None,"," instance_uuid = node.instance_uuid or node.uuid client.volumes.attach(volume_id, instance_uuid,",1,3
openstack%2Ftripleo-ci~master~I32cb57ecf1dc17a9f847e1d844486f4eba95c345,openstack/tripleo-ci,master,I32cb57ecf1dc17a9f847e1d844486f4eba95c345,Updates CentOS-9 image,MERGED,2023-05-17 14:32:26.000000000,2023-05-18 16:09:07.000000000,2023-05-18 16:09:07.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 14:32:26.000000000', 'files': ['roles/oooci-build-images/vars/centos-9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ac10a0791eb9a3340fcac165f53a93630f9fd89', 'message': 'Updates CentOS-9 image\n\nThis patch updates CentOS-9 image to latest since current one\nis not available anymore.\n\nChange-Id: I32cb57ecf1dc17a9f847e1d844486f4eba95c345\n'}]",2,883382,3ac10a0791eb9a3340fcac165f53a93630f9fd89,8,2,1,30002,,,0,"Updates CentOS-9 image

This patch updates CentOS-9 image to latest since current one
is not available anymore.

Change-Id: I32cb57ecf1dc17a9f847e1d844486f4eba95c345
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/883382/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/vars/centos-9.yaml'],1,3ac10a0791eb9a3340fcac165f53a93630f9fd89,update_tripleo_image,tripleo_image_source: http://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20230516.0.x86_64.qcow2,tripleo_image_source: http://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20230410.0.x86_64.qcow2,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~Icc323212222ac1edd0edd221336adc424000e50e,openstack/tripleo-common,stable/wallaby,Icc323212222ac1edd0edd221336adc424000e50e,Follow-up nova_migration user creation,MERGED,2023-05-15 13:17:28.000000000,2023-05-18 16:01:14.000000000,2023-05-18 16:00:17.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 11604}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-15 13:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/666648d50fb5ce4b974717006686c17fa2f1dc56', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified.\n\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2023-05-16 15:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e0502dca7843c30fa20d65bd217bcc2ef4d7ef5', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified.\n\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2023-05-17 12:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba0612b66f20d078b825d02779d6634b60faea36', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified (and is the same as in RDO).\n\nAs the nova_migration user is given a shell /bin/bash\nin RDO packaging, support custom shell argument for TCIB as well.\n\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2023-05-17 12:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de5e743ec157351fcb2affecdb2bf49d4b5ee5a6', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified.\n\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2023-05-17 12:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0dca4867e2a33565fce54fc97f766b0ace48135c', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified.\n\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2023-05-17 14:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/380f50eda0d7839989f5345aee918533d9816019', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified (and is the same as in RDO).\n\nAs the nova_migration user is given a shell /bin/bash\nin RDO packaging, support custom shell argument for TCIB as well.\n\nCo-Authored-By:Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2023-05-17 14:01:49.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cbb03c005727a6226757951df4cbc341acf7baa7', 'message': 'Follow-up nova_migration user creation\n\nFollow the same pattern as other users specific for nova use.\nMake sure the home dir is specified (and is the same as in RDO).\n\nAs the nova_migration user is given a shell /bin/bash\nin RDO packaging, support custom shell argument for TCIB as well.\n\nCo-Authored-By: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: Icc323212222ac1edd0edd221336adc424000e50e\nCloses-bug: #2019507\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",24,883156,cbb03c005727a6226757951df4cbc341acf7baa7,47,10,7,6926,,,0,"Follow-up nova_migration user creation

Follow the same pattern as other users specific for nova use.
Make sure the home dir is specified (and is the same as in RDO).

As the nova_migration user is given a shell /bin/bash
in RDO packaging, support custom shell argument for TCIB as well.

Co-Authored-By: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: Icc323212222ac1edd0edd221336adc424000e50e
Closes-bug: #2019507
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/883156/7 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/uid_gid_manage.sh'],1,666648d50fb5ce4b974717006686c17fa2f1dc56,,_SUPPORTED_USERS['nova_migration']='nova_migration 989 989 /var/lib/nova kolla',_SUPPORTED_USERS['nova_migration']='nova_migration 989 989',1,1
openstack%2Fopenstack-ansible~master~I186e7c814c0f6f867605ffa321a616cd8a20283f,openstack/openstack-ansible,master,I186e7c814c0f6f867605ffa321a616cd8a20283f,[doc] Add Ubuntu 22.04 as supported in AIO docs,MERGED,2023-05-18 11:30:12.000000000,2023-05-18 15:55:22.000000000,2023-05-18 15:24:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-18 11:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/68efaa81bd5676fe35bc06cf99bba8653b5bca41', 'message': '[doc] Add Ubuntu 20.04 as supported in AIO docs\n\nChange-Id: I186e7c814c0f6f867605ffa321a616cd8a20283f\n'}, {'number': 2, 'created': '2023-05-18 11:30:30.000000000', 'files': ['doc/source/user/aio/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5bfaf8e330e9a175c4daea49bc00365a863cf71a', 'message': '[doc] Add Ubuntu 22.04 as supported in AIO docs\n\nChange-Id: I186e7c814c0f6f867605ffa321a616cd8a20283f\n'}]",3,883489,5bfaf8e330e9a175c4daea49bc00365a863cf71a,12,4,2,28619,,,0,"[doc] Add Ubuntu 22.04 as supported in AIO docs

Change-Id: I186e7c814c0f6f867605ffa321a616cd8a20283f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/883489/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/aio/quickstart.rst'],1,68efaa81bd5676fe35bc06cf99bba8653b5bca41,," Debian 11 (bullseye), Ubuntu 20.04 (Focal Fossa), Ubuntu 22.04 (Jammy Jellyfish), CentOS 9 Stream,"," Debian 11 (bullseye), Ubuntu 20.04 (Focal Fossa), CentOS 9 Stream,",2,1
openstack%2Fproject-config~master~I9c7e063bfe7d7324c6833560ad4b1264752f62fb,openstack/project-config,master,I9c7e063bfe7d7324c6833560ad4b1264752f62fb,Fix voting groups of starlingx/app-harbor,MERGED,2023-05-18 15:05:32.000000000,2023-05-18 15:38:36.000000000,2023-05-18 15:32:58.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 15:05:32.000000000', 'files': ['gerrit/acls/starlingx/app-harbor.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/628b5ba4d60b4c9fa53d4a10c3adbe0818805734', 'message': 'Fix voting groups of starlingx/app-harbor\n\nSigned-off-by: Scott Little <scott.little@windriver.com>\nChange-Id: I9c7e063bfe7d7324c6833560ad4b1264752f62fb\n'}]",0,883523,628b5ba4d60b4c9fa53d4a10c3adbe0818805734,7,2,1,28410,,,0,"Fix voting groups of starlingx/app-harbor

Signed-off-by: Scott Little <scott.little@windriver.com>
Change-Id: I9c7e063bfe7d7324c6833560ad4b1264752f62fb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/883523/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/starlingx/app-harbor.config'],1,628b5ba4d60b4c9fa53d4a10c3adbe0818805734,, label-Code-Review = -2..+2 group starlingx-app-harbor-core label-Workflow = -1..+1 group starlingx-app-harbor-core, label-Code-Review = -2..+2 group starlingx-harbor-core label-Workflow = -1..+1 group starlingx-harbor-core,2,2
openstack%2Fcharm-keystone~master~I37ed94d5937a9abf46fd12cd6f230ddb5a298b0e,openstack/charm-keystone,master,I37ed94d5937a9abf46fd12cd6f230ddb5a298b0e,Restart keystone's apache2 if mysql passwd rotated,MERGED,2023-03-27 10:48:30.000000000,2023-05-18 15:13:10.000000000,2023-03-29 13:40:01.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-27 10:48:30.000000000', 'files': ['hooks/keystone_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3ea0c428a2d695dfbb1f0ed690b2a43a55d279f5', 'message': ""Restart keystone's apache2 if mysql passwd rotated\n\nWhen the mysql password is changed via the shared-db relation, the\nshared-db hook handler needs to restart keystone's apache2 so that the\npassword is picked up and used by keystone during the rest of the hook.\n\nChange-Id: I37ed94d5937a9abf46fd12cd6f230ddb5a298b0e\n""}]",2,878637,3ea0c428a2d695dfbb1f0ed690b2a43a55d279f5,10,4,1,20870,,,0,"Restart keystone's apache2 if mysql passwd rotated

When the mysql password is changed via the shared-db relation, the
shared-db hook handler needs to restart keystone's apache2 so that the
password is picked up and used by keystone during the rest of the hook.

Change-Id: I37ed94d5937a9abf46fd12cd6f230ddb5a298b0e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/37/878637/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/keystone_hooks.py'],1,3ea0c428a2d695dfbb1f0ed690b2a43a55d279f5,service-password-rotation," # here we may need to restart keystone's apache2 if the database # password has been rotated as otherwise the # `update_all_identity_related_units()` function will fail as it need # to use keystone to check the database. _maybe_config_updated() @restart_on_change(restart_map(), restart_functions=restart_function_map()) def _maybe_config_updated(): """"""Restart the keystone service is the configs have been updated."""""" CONFIGS.write(KEYSTONE_CONF) ", CONFIGS.write(KEYSTONE_CONF),13,1
openstack%2Fnetworking-baremetal~master~I50372d16020d3932da1a30ae6c6106033737bf68,openstack/networking-baremetal,master,I50372d16020d3932da1a30ae6c6106033737bf68,"Bugs are now in launchpad, doc fixes",MERGED,2023-05-17 22:29:37.000000000,2023-05-18 15:03:33.000000000,2023-05-18 15:02:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 22:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/8456f511754bb9e1e69392e9c27ce398e7467c8c', 'message': 'Bugs are now in launchpad, doc fixes\n\nUpdates docs to reflects bugs currently in launchpad\nFixes default copyright line to be in line with one in ironic repo\n\nChange-Id: I50372d16020d3932da1a30ae6c6106033737bf68\n'}, {'number': 2, 'created': '2023-05-17 22:35:16.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/639b0afd18d149e2368de718f4f23b6fee742a65', 'message': 'Bugs are now in launchpad, doc fixes\n\nUpdates docs to reflects bugs currently in launchpad\nFixes default copyright line to be in line with one in ironic repo\n\nChange-Id: I50372d16020d3932da1a30ae6c6106033737bf68\n'}]",0,883453,639b0afd18d149e2368de718f4f23b6fee742a65,11,3,2,10342,,,0,"Bugs are now in launchpad, doc fixes

Updates docs to reflects bugs currently in launchpad
Fixes default copyright line to be in line with one in ironic repo

Change-Id: I50372d16020d3932da1a30ae6c6106033737bf68
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/53/883453/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'doc/source/conf.py']",3,8456f511754bb9e1e69392e9c27ce398e7467c8c,back-to-lp,copyright = 'OpenStack Foundation'openstackdocs_use_storyboard = False,"copyright = '2017, The Networking Baremetal team'openstackdocs_use_storyboard = True",5,5
openstack%2Fkolla-ansible~master~I666fe842869429c99a754dc145df678fe124fdd3,openstack/kolla-ansible,master,I666fe842869429c99a754dc145df678fe124fdd3,WIP: keystone fernet follow up follow up,ABANDONED,2020-08-13 15:05:47.000000000,2023-05-18 14:48:49.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 15:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f37691f7638ad208dca0e6ef46e5444baf64617a', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}, {'number': 2, 'created': '2020-08-26 11:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0767664f98496a85ee9423eaa83e54c9110b7f6e', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}, {'number': 3, 'created': '2020-08-26 13:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/635680dbd04052a0a69640e2c60fe4a089b43f8b', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}, {'number': 4, 'created': '2020-08-26 13:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df0ef3e3fb01d0a3a8dcd09e0c8ab96467ff6018', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nCloses-Bug: #1888512\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}, {'number': 5, 'created': '2020-08-26 16:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/442dafef0f4a956cd54f766f8bd5a4df8aad7cf0', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nCloses-Bug: #1888512\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}, {'number': 6, 'created': '2020-08-27 08:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/275a3547a7706dd993fa2782323c86537e48d214', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nCloses-Bug: #1888512\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}, {'number': 7, 'created': '2020-08-27 12:30:19.000000000', 'files': ['ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/keystone/tasks/distribute_fernet.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone-fernet.json.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/templates/keystone-startup.sh.j2', 'ansible/roles/keystone/templates/keystone-ssh.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7bb22be148f71537efb0910fc34f7ecd676f3886', 'message': 'WIP: keystone fernet follow up follow up\n\nAdapting ideas from https://review.opendev.org/#/c/707080/\n\nCloses-Bug: #1888512\n\nChange-Id: I666fe842869429c99a754dc145df678fe124fdd3\n'}]",0,746153,7bb22be148f71537efb0910fc34f7ecd676f3886,22,2,7,14826,,,0,"WIP: keystone fernet follow up follow up

Adapting ideas from https://review.opendev.org/#/c/707080/

Closes-Bug: #1888512

Change-Id: I666fe842869429c99a754dc145df678fe124fdd3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/746153/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/deploy.yml', 'ansible/roles/keystone/tasks/distribute_fernet.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/keystone/templates/keystone-startup.sh.j2']",4,f37691f7638ad208dca0e6ef46e5444baf64617a,,"if [ ! -f ""${TOKEN_DIR}/0"" ]; then echo ""ERROR: Fernet tokens have not been populated"" echo ""DEBUG: ${TOKEN_DIR} contents:"" ls -l ${TOKEN_DIR} exit 1 fi","n=0 while [ ! -f ""${TOKEN_DIR}/0"" ]; do if [ $n -lt 36 ]; then n=$(( n + 1 )) echo ""ERROR: Fernet tokens have not been populated, rechecking in 5 seconds"" echo ""DEBUG: ${TOKEN_DIR} contents:"" ls -l ${TOKEN_DIR} sleep 5 else echo ""CRITICAL: Waited for 10 minutes - failing"" exit 1 fi done",31,36
openstack%2Fkolla-ansible~master~I8c9353341aebf6ef6ad7dd4ce6058a9946402c16,openstack/kolla-ansible,master,I8c9353341aebf6ef6ad7dd4ce6058a9946402c16,CI: octavia: check load balancer HTTP response,ABANDONED,2021-03-23 10:33:12.000000000,2023-05-18 14:48:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-23 10:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1b2595660f73e43604295b391b30dde8900daa9', 'message': 'CI: octavia: check load balancer HTTP response\n\nPreviously we were not checking the HTTP response from octavia load\nbalancers created in the octavia scenario. This change fixes the issue.\n\nChange-Id: I8c9353341aebf6ef6ad7dd4ce6058a9946402c16\n'}, {'number': 2, 'created': '2021-03-26 09:34:31.000000000', 'files': ['tests/test-octavia.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68369483ba8f130bd0d543ac07ae644fff57a7bf', 'message': 'CI: octavia: check load balancer HTTP response\n\nPreviously we were not checking the HTTP response from octavia load\nbalancers created in the octavia scenario. This change fixes the issue.\n\nChange-Id: I8c9353341aebf6ef6ad7dd4ce6058a9946402c16\n'}]",0,782404,68369483ba8f130bd0d543ac07ae644fff57a7bf,9,1,2,14826,,,0,"CI: octavia: check load balancer HTTP response

Previously we were not checking the HTTP response from octavia load
balancers created in the octavia scenario. This change fixes the issue.

Change-Id: I8c9353341aebf6ef6ad7dd4ce6058a9946402c16
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/782404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-octavia.sh', 'zuul.d/project.yaml']",2,e1b2595660f73e43604295b391b30dde8900daa9,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8-source-monasca - kolla-ansible-centos8-source-cephadm - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,13,54
openstack%2Fkolla-ansible~master~Ib91e61ac3b083b8410588b630dc220f675ea2285,openstack/kolla-ansible,master,Ib91e61ac3b083b8410588b630dc220f675ea2285,[WIP] CI: Enable TLS in all jobs,ABANDONED,2021-03-23 09:47:41.000000000,2023-05-18 14:47:45.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 09:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22bc06dbd1d576d0678d651c49efb8c75888a735', 'message': 'DNM: CI: Enable TLS in all jobs\n\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 2, 'created': '2021-03-23 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87fd83d62e346ffa7307f3a54a12d79796068a8d', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 3, 'created': '2021-03-23 12:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccc13551e2ee8d8533ae0af4a4e329510af85718', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 4, 'created': '2021-03-23 15:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84c1e46b295e1fa69074c0c2a00eba8d8e2bfcac', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/781062\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 5, 'created': '2021-03-24 10:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba386767107cd32b746fef3ffbfce3efeddbb5d3', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/781062\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 6, 'created': '2021-03-25 09:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a731ea6f7aa48011230fdfface9bd04ece521f90', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/781062\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 7, 'created': '2021-03-25 11:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/454c9d71f0ff98be1c15f2a331f0e902313220d1', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/781062\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 8, 'created': '2021-07-02 12:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/172f5699c30571dbd1c43af52811fd2b690ccabd', 'message': 'DNM: CI: Enable TLS in all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/779893\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/781062\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}, {'number': 9, 'created': '2021-11-04 12:35:23.000000000', 'files': ['tests/test-prometheus-efk.sh', 'tests/run.yml', 'ansible/roles/octavia/templates/octavia-openrc.sh.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'zuul.d/base.yaml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d03afd2ba8276c155841128b0665ac68e686cc3e', 'message': '[WIP] CI: Enable TLS in all jobs\n\nChange-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285\n'}]",0,782387,d03afd2ba8276c155841128b0665ac68e686cc3e,23,2,9,14826,,,0,"[WIP] CI: Enable TLS in all jobs

Change-Id: Ib91e61ac3b083b8410588b630dc220f675ea2285
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/782387/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/bootstrap-servers.yml', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'ansible/roles/baremetal/tasks/post-install.yml']",4,22bc06dbd1d576d0678d651c49efb8c75888a735,,,"- name: Ensure docker config directory exists file: path: /etc/docker state: directory become: True - name: Merge Zun docker config set_fact: docker_config: ""{{ docker_config | combine(docker_zun_config) }}"" when: - docker_configure_for_zun | bool - name: Warn about deprecations debug: msg: > docker_custom_option is deprecated in favor of docker_custom_config when: docker_custom_option | length > 0 - name: Setup docker insecure registries vars: registries: [""{{ docker_registry }}""] set_fact: docker_config: ""{{ docker_config | combine({'insecure-registries': registries}) }}"" when: docker_registry_insecure | bool - name: Setup docker storage driver set_fact: docker_config: ""{{ docker_config | combine({'storage-driver': docker_storage_driver}) }}"" when: docker_storage_driver | length > 0 - name: Setup docker runtime directory set_fact: docker_config: ""{{ docker_config | combine({'data-root': docker_runtime_directory}) }}"" when: docker_runtime_directory | length > 0 - name: Warn about docker default iptables debug: msg: >- Docker default iptables rules will be disabled by default from the Wallaby 12.0.0 release. If you have any non-Kolla containers that need this functionality, you should plan a migration for this change, or set docker_disable_default_iptables_rules to false. when: not docker_disable_default_iptables_rules | bool - name: Disable docker default iptables rules set_fact: docker_config: ""{{ docker_config | combine({'iptables': false}) }}"" when: docker_disable_default_iptables_rules | bool - name: Warn about docker default networking debug: msg: >- Docker default network on docker0 will be disabled by default from the Wallaby 12.0.0 release. If you have any non-Kolla containers that need this functionality, you should plan a migration for this change, or set docker_disable_default_network to false. when: not docker_disable_default_network | bool - name: Disable docker default network on docker0 set_fact: docker_config: ""{{ docker_config | combine({'bridge': 'none'}) }}"" when: docker_disable_default_network | bool - name: Merge custom docker config set_fact: docker_config: ""{{ docker_config | combine(docker_custom_config) }}"" - name: Write docker config become: True copy: content: ""{{ docker_config | to_nice_json }}"" dest: /etc/docker/daemon.json mode: 0644 register: docker_configured - name: Remove old docker options file become: True file: path: /etc/systemd/system/docker.service.d/kolla.conf state: absent when: - not docker_custom_option - not docker_configure_for_zun|bool - name: Ensure docker service directory exists become: True file: path: /etc/systemd/system/docker.service.d state: directory recurse: yes when: docker_custom_option | length > 0 or docker_configure_for_zun|bool - name: Configure docker service become: True template: src: docker_systemd_service.j2 dest: /etc/systemd/system/docker.service.d/kolla.conf when: docker_custom_option | length > 0 or docker_configure_for_zun|bool ",3,112
openstack%2Fdiskimage-builder~master~I0535b96dfadf9ec3df8b1cdfbd6e7e21b9cc174c,openstack/diskimage-builder,master,I0535b96dfadf9ec3df8b1cdfbd6e7e21b9cc174c,Fix LVM build when VG exists on build host,ABANDONED,2022-08-24 15:27:31.000000000,2023-05-18 14:44:19.000000000,,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-24 15:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/76a0ebb5d352dd17e317b84a4d0a279646a8a208', 'message': 'Fix LVM build when VG exists on build host\n\nIf building an image using an LVM recipe, and the build host has a\nvolume group with the same name as one of the volume groups\nin the recipe, the build will fail.\n\nThe command that fails is something like:\n\n    sudo vgcreate vg /dev/mapper/loop6p3 --force\n\nThe error message gets swallowed, but is this:\n\n    /dev/vg: already exists in filesystem\n\nThis change fixes the issue by using a random VG name during the image\nbuild process, then renaming the VG after it has been unmounted.\n\nChange-Id: I0535b96dfadf9ec3df8b1cdfbd6e7e21b9cc174c\nCloses-Bug: #1987534\n'}, {'number': 2, 'created': '2022-08-25 08:24:01.000000000', 'files': ['diskimage_builder/block_device/level1/lvm.py', 'diskimage_builder/block_device/tests/test_lvm.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3885f2325f6ea224cc88d765b15e4aa89f782617', 'message': 'Fix LVM build when VG exists on build host\n\nIf building an image using an LVM recipe, and the build host has a\nvolume group with the same name as one of the volume groups\nin the recipe, the build will fail.\n\nThe command that fails is something like:\n\n    sudo vgcreate vg /dev/mapper/loop6p3 --force\n\nThe error message gets swallowed, but is this:\n\n    /dev/vg: already exists in filesystem\n\nThis change fixes the issue by using a random VG name during the image\nbuild process, then renaming the VG after it has been unmounted.\n\nChange-Id: I0535b96dfadf9ec3df8b1cdfbd6e7e21b9cc174c\nCloses-Bug: #1987534\n'}]",2,854427,3885f2325f6ea224cc88d765b15e4aa89f782617,13,3,2,14826,,,0,"Fix LVM build when VG exists on build host

If building an image using an LVM recipe, and the build host has a
volume group with the same name as one of the volume groups
in the recipe, the build will fail.

The command that fails is something like:

    sudo vgcreate vg /dev/mapper/loop6p3 --force

The error message gets swallowed, but is this:

    /dev/vg: already exists in filesystem

This change fixes the issue by using a random VG name during the image
build process, then renaming the VG after it has been unmounted.

Change-Id: I0535b96dfadf9ec3df8b1cdfbd6e7e21b9cc174c
Closes-Bug: #1987534
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/27/854427/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/block_device/level1/lvm.py', 'diskimage_builder/block_device/tests/test_lvm.py']",2,76a0ebb5d352dd17e317b84a4d0a279646a8a208,,"def fake_tmp_name(self, name): # Generate a deterministic temporary VG name. return ""tmp_{}"".format(name) @mock.patch.object(VgsNode, '_get_tmp_name', fake_tmp_name) mock.call(['vgcreate', 'tmp_vg', 'tmp_vg']), 'tmp_vg']), 'tmp_vg']), 'tmp_vg']), 'tmp_vg']), 'tmp_vg'])] 'device': '/dev/mapper/tmp_vg-lv_audit', 'vgs': 'tmp_vg' 'device': '/dev/mapper/tmp_vg-lv_home', 'vgs': 'tmp_vg' 'device': '/dev/mapper/tmp_vg-lv_log', 'vgs': 'tmp_vg' 'device': '/dev/mapper/tmp_vg-lv_root', 'vgs': 'tmp_vg' 'device': '/dev/mapper/tmp_vg-lv_tmp', 'vgs': 'tmp_vg' 'device': '/dev/mapper/tmp_vg-lv_var', 'vgs': 'tmp_vg' @mock.patch.object(VgsNode, '_get_tmp_name', fake_tmp_name) mock.call(['vgcreate', 'tmp_vg1', mock.call(['vgcreate', 'tmp_vg2', '-L', '1799356416B', 'tmp_vg1']), '-L', '96468992B', 'tmp_vg1']), '-L', '499122176B', 'tmp_vg2']), '-L', '96468992B', 'tmp_vg2']), '-L', '96468992B', 'tmp_vg2']), '-L', '197132288B', 'tmp_vg2'])] 'device': '/dev/mapper/tmp_vg2-lv_audit', 'vgs': 'tmp_vg2' 'device': '/dev/mapper/tmp_vg2-lv_home', 'vgs': 'tmp_vg2' 'device': '/dev/mapper/tmp_vg2-lv_log', 'vgs': 'tmp_vg2' 'device': '/dev/mapper/tmp_vg1-lv_root', 'vgs': 'tmp_vg1' 'device': '/dev/mapper/tmp_vg1-lv_tmp', 'vgs': 'tmp_vg1' 'device': '/dev/mapper/tmp_vg2-lv_var', 'vgs': 'tmp_vg2' mock.call(['lvchange', '-an', '/dev/tmp_vg1/lv_root']), mock.call(['lvchange', '-an', '/dev/tmp_vg1/lv_tmp']), mock.call(['lvchange', '-an', '/dev/tmp_vg2/lv_var']), mock.call(['lvchange', '-an', '/dev/tmp_vg2/lv_log']), mock.call(['lvchange', '-an', '/dev/tmp_vg2/lv_audit']), mock.call(['lvchange', '-an', '/dev/tmp_vg2/lv_home']), mock.call(['vgchange', '-an', 'tmp_vg1']), mock.call(['vgrename', 'tmp_vg1', 'vg1']), mock.call(['vgchange', '-an', 'tmp_vg2']), mock.call(['vgrename', 'tmp_vg2', 'vg2']), @mock.patch.object(VgsNode, '_get_tmp_name', fake_tmp_name) mock.call(['vgcreate', 'tmp_vg_root', mock.call(['vgcreate', 'tmp_vg_data', '-L', '1799356416B', 'tmp_vg_root']), '-L', '1996488704B', 'tmp_vg_data']) mock.call(['lvchange', '-an', '/dev/tmp_vg_root/lv_root']), mock.call(['lvchange', '-an', '/dev/tmp_vg_data/lv_data']), mock.call(['vgchange', '-an', 'tmp_vg_root']), mock.call(['vgrename', 'tmp_vg_root', 'vg_root']), mock.call(['vgchange', '-an', 'tmp_vg_data']), mock.call(['vgrename', 'tmp_vg_data', 'vg_data']), @mock.patch.object(VgsNode, '_get_tmp_name', fake_tmp_name) ['vgcreate', 'tmp_vg', '/dev/fake/root', '--force']), ['lvcreate', '--name', 'lv_root', '-l', '28%VG', 'tmp_vg']), ['lvcreate', '--name', 'lv_tmp', '-l', '4%VG', 'tmp_vg']), ['lvcreate', '--name', 'lv_var', '-l', '40%VG', 'tmp_vg']), ['lvcreate', '--name', 'lv_log', '-l', '23%VG', 'tmp_vg']), ['lvcreate', '--name', 'lv_audit', '-l', '4%VG', 'tmp_vg']), ['lvcreate', '--name', 'lv_home', '-l', '1%VG', 'tmp_vg']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/tmp_vg/lv_root']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/tmp_vg/lv_tmp']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/tmp_vg/lv_var']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/tmp_vg/lv_log']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/tmp_vg/lv_audit']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/tmp_vg/lv_home']), mock.call.sudo_lvm(['vgchange', '-an', 'tmp_vg']), mock.call.sudo_lvm(['vgrename', 'tmp_vg', 'vg']),"," mock.call(['vgcreate', 'vg', 'vg']), 'vg']), 'vg']), 'vg']), 'vg']), 'vg'])] 'device': '/dev/mapper/vg-lv_audit', 'vgs': 'vg' 'device': '/dev/mapper/vg-lv_home', 'vgs': 'vg' 'device': '/dev/mapper/vg-lv_log', 'vgs': 'vg' 'device': '/dev/mapper/vg-lv_root', 'vgs': 'vg' 'device': '/dev/mapper/vg-lv_tmp', 'vgs': 'vg' 'device': '/dev/mapper/vg-lv_var', 'vgs': 'vg' mock.call(['vgcreate', 'vg1', mock.call(['vgcreate', 'vg2', '-L', '1799356416B', 'vg1']), '-L', '96468992B', 'vg1']), '-L', '499122176B', 'vg2']), '-L', '96468992B', 'vg2']), '-L', '96468992B', 'vg2']), '-L', '197132288B', 'vg2'])] 'device': '/dev/mapper/vg2-lv_audit', 'vgs': 'vg2' 'device': '/dev/mapper/vg2-lv_home', 'vgs': 'vg2' 'device': '/dev/mapper/vg2-lv_log', 'vgs': 'vg2' 'device': '/dev/mapper/vg1-lv_root', 'vgs': 'vg1' 'device': '/dev/mapper/vg1-lv_tmp', 'vgs': 'vg1' 'device': '/dev/mapper/vg2-lv_var', 'vgs': 'vg2' mock.call(['lvchange', '-an', '/dev/vg1/lv_root']), mock.call(['lvchange', '-an', '/dev/vg1/lv_tmp']), mock.call(['lvchange', '-an', '/dev/vg2/lv_var']), mock.call(['lvchange', '-an', '/dev/vg2/lv_log']), mock.call(['lvchange', '-an', '/dev/vg2/lv_audit']), mock.call(['lvchange', '-an', '/dev/vg2/lv_home']), mock.call(['vgchange', '-an', 'vg1']), mock.call(['vgchange', '-an', 'vg2']), mock.call(['vgcreate', 'vg_root', mock.call(['vgcreate', 'vg_data', '-L', '1799356416B', 'vg_root']), '-L', '1996488704B', 'vg_data']) mock.call(['lvchange', '-an', '/dev/vg_root/lv_root']), mock.call(['lvchange', '-an', '/dev/vg_data/lv_data']), mock.call(['vgchange', '-an', 'vg_root']), mock.call(['vgchange', '-an', 'vg_data']), ['vgcreate', 'vg', '/dev/fake/root', '--force']), ['lvcreate', '--name', 'lv_root', '-l', '28%VG', 'vg']), ['lvcreate', '--name', 'lv_tmp', '-l', '4%VG', 'vg']), ['lvcreate', '--name', 'lv_var', '-l', '40%VG', 'vg']), ['lvcreate', '--name', 'lv_log', '-l', '23%VG', 'vg']), ['lvcreate', '--name', 'lv_audit', '-l', '4%VG', 'vg']), ['lvcreate', '--name', 'lv_home', '-l', '1%VG', 'vg']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/vg/lv_root']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/vg/lv_tmp']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/vg/lv_var']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/vg/lv_log']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/vg/lv_audit']), mock.call.sudo_lvm(['lvchange', '-an', '/dev/vg/lv_home']), mock.call.sudo_lvm(['vgchange', '-an', 'vg']),",108,72
openstack%2Fkolla-ansible~master~I6ebe548756e40a244f9549287a06969be70d9dc5,openstack/kolla-ansible,master,I6ebe548756e40a244f9549287a06969be70d9dc5,WIP: CI: monasca job follow up,ABANDONED,2021-02-03 12:31:47.000000000,2023-05-18 14:39:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-03 12:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38ee3afd388db6fe0b599ecd0848af72621a6651', 'message': 'WIP: CI: monasca job follow up\n\n* trim down image build list\n* use nested groups for control/network\n* remove unused switch & peers groups from nodesets\n\nChange-Id: I6ebe548756e40a244f9549287a06969be70d9dc5\n'}, {'number': 2, 'created': '2021-02-03 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d2de50e17b98b77e6f483100c0c210c3d2fda3a', 'message': 'WIP: CI: monasca job follow up\n\n* trim down image build list\n* use nested groups for control/network\n* remove unused switch & peers groups from nodesets\n\nChange-Id: I6ebe548756e40a244f9549287a06969be70d9dc5\n'}, {'number': 3, 'created': '2021-02-18 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78f6ec621d814b324538e169c3e216830e38e7fa', 'message': 'WIP: CI: monasca job follow up\n\n* trim down image build list\n* use nested groups for control/network\n* remove unused switch & peers groups from nodesets\n\nChange-Id: I6ebe548756e40a244f9549287a06969be70d9dc5\n'}, {'number': 4, 'created': '2021-02-18 10:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5e9bd70d6fbc72cbee86bab6284ed033d323514', 'message': 'WIP: CI: monasca job follow up\n\n* trim down image build list\n* use nested groups for control/network\n* remove unused switch & peers groups from nodesets\n\nChange-Id: I6ebe548756e40a244f9549287a06969be70d9dc5\n'}, {'number': 5, 'created': '2021-02-19 15:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/280e8fce3611d50c1f37468a267309db741eb782', 'message': 'WIP: CI: monasca job follow up\n\n* trim down image build list\n* use nested groups for control/network\n* remove unused switch & peers groups from nodesets\n\nChange-Id: I6ebe548756e40a244f9549287a06969be70d9dc5\n'}, {'number': 6, 'created': '2021-02-22 10:14:24.000000000', 'files': ['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/nodesets.yaml', 'ansible/roles/monasca/defaults/main.yml', 'tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f13bc11d44db418a897c2c200e2856827a4e2e76', 'message': 'WIP: CI: monasca job follow up\n\n* trim down image build list\n* use nested groups for control/network\n* remove unused switch & peers groups from nodesets\n\nChange-Id: I6ebe548756e40a244f9549287a06969be70d9dc5\n'}]",3,773881,f13bc11d44db418a897c2c200e2856827a4e2e76,20,1,6,14826,,,0,"WIP: CI: monasca job follow up

* trim down image build list
* use nested groups for control/network
* remove unused switch & peers groups from nodesets

Change-Id: I6ebe548756e40a244f9549287a06969be70d9dc5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/773881/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/setup_gate.sh', 'zuul.d/nodesets.yaml', 'tests/templates/inventory.j2']",4,38ee3afd388db6fe0b599ecd0848af72621a6651,,,{% if scenario == 'monasca' %}{% else %} [network] {% for host in hostvars %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %} {% endif %},7,40
openstack%2Fkolla-ansible~master~I922ed92c432a326a19f85a65184802ae489a4b37,openstack/kolla-ansible,master,I922ed92c432a326a19f85a65184802ae489a4b37,WIP: CI: Profile performance and task execution time,ABANDONED,2019-08-05 17:59:37.000000000,2023-05-18 14:39:34.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-05 17:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52c04a9155eab70359fec4c216ce9041e338b4e2', 'message': 'WIP: CI: Profile performance and task execution time\n\nUses the cgroup_memory_recap, cgroup_perf_recap and profile_tasks\ncallback plugins to profile memory & CPU usage on the ansible execution host\nand task execution time.\n\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_memory_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_perf_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/profile_tasks.html\n\nChange-Id: I922ed92c432a326a19f85a65184802ae489a4b37\n'}, {'number': 2, 'created': '2019-08-05 18:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ca99c23b5ad3be79629e789586e70c61af085eb', 'message': 'WIP: CI: Profile performance and task execution time\n\nUses the cgroup_memory_recap, cgroup_perf_recap and profile_tasks\ncallback plugins to profile memory & CPU usage on the ansible execution host\nand task execution time.\n\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_memory_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_perf_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/profile_tasks.html\n\nChange-Id: I922ed92c432a326a19f85a65184802ae489a4b37\n'}, {'number': 3, 'created': '2019-08-06 11:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/860cc23a6213897cd8dcbba7a40a8719911f7eee', 'message': 'WIP: CI: Profile performance and task execution time\n\nUses the cgroup_memory_recap, cgroup_perf_recap and profile_tasks\ncallback plugins to profile memory & CPU usage on the ansible execution host\nand task execution time.\n\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_memory_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_perf_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/profile_tasks.html\n\nChange-Id: I922ed92c432a326a19f85a65184802ae489a4b37\n'}, {'number': 4, 'created': '2019-08-06 17:27:26.000000000', 'files': ['tests/reconfigure.sh', 'tests/deploy.sh', 'tools/setup_gate.sh', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1ab5565a8f65d51fdaab772f2e4a5ae1bc9541a', 'message': 'WIP: CI: Profile performance and task execution time\n\nUses the cgroup_memory_recap, cgroup_perf_recap and profile_tasks\ncallback plugins to profile memory & CPU usage on the ansible execution host\nand task execution time.\n\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_memory_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/cgroup_perf_recap.html\nhttps://docs.ansible.com/ansible/latest/plugins/callback/profile_tasks.html\n\nChange-Id: I922ed92c432a326a19f85a65184802ae489a4b37\n'}]",0,674664,f1ab5565a8f65d51fdaab772f2e4a5ae1bc9541a,14,3,4,14826,,,0,"WIP: CI: Profile performance and task execution time

Uses the cgroup_memory_recap, cgroup_perf_recap and profile_tasks
callback plugins to profile memory & CPU usage on the ansible execution host
and task execution time.

https://docs.ansible.com/ansible/latest/plugins/callback/cgroup_memory_recap.html
https://docs.ansible.com/ansible/latest/plugins/callback/cgroup_perf_recap.html
https://docs.ansible.com/ansible/latest/plugins/callback/profile_tasks.html

Change-Id: I922ed92c432a326a19f85a65184802ae489a4b37
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/674664/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/reconfigure.sh', 'tests/deploy.sh', 'tools/setup_gate.sh', 'tests/upgrade.sh']",4,52c04a9155eab70359fec4c216ce9041e338b4e2,," cgexec -g cpuacct,memory,pids:ansible_profile tools/kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks &> /tmp/logs/ansible/upgrade-prechecks cgexec -g cpuacct,memory,pids:ansible_profile tools/kolla-ansible -i ${RAW_INVENTORY} -vvv pull &> /tmp/logs/ansible/pull-upgrade cgexec -g cpuacct,memory,pids:ansible_profile tools/kolla-ansible -i ${RAW_INVENTORY} -vvv upgrade &> /tmp/logs/ansible/upgrade cgexec -g cpuacct,memory,pids:ansible_profile tools/kolla-ansible -i ${RAW_INVENTORY} -vvv check &> /tmp/logs/ansible/check-upgrade", tools/kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks &> /tmp/logs/ansible/upgrade-prechecks tools/kolla-ansible -i ${RAW_INVENTORY} -vvv pull &> /tmp/logs/ansible/pull-upgrade tools/kolla-ansible -i ${RAW_INVENTORY} -vvv upgrade &> /tmp/logs/ansible/upgrade tools/kolla-ansible -i ${RAW_INVENTORY} -vvv check &> /tmp/logs/ansible/check-upgrade,26,17
openstack%2Fkolla-ansible~master~I8423ce40bfa70f8b60086ff2a2c609411f1d9d05,openstack/kolla-ansible,master,I8423ce40bfa70f8b60086ff2a2c609411f1d9d05,Performance: Dynamically include upgrade tasks,ABANDONED,2020-07-02 17:14:56.000000000,2023-05-18 14:38:32.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 17:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b18f24cd3f97fa801f1a3db9aed08caa88b4fbf', 'message': 'Performance: Dynamically include upgrade tasks\n\nFor services that support two upgrade modes (legacy and rolling), we\ncurrently have two task includes. Each has a small overhead. This can be\nreduced to one by dynamically setting the name of the included file.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I8423ce40bfa70f8b60086ff2a2c609411f1d9d05\n'}, {'number': 2, 'created': '2020-08-01 20:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6da264e14d54e263c425fd54d7eccc72f192fa36', 'message': 'Performance: Dynamically include upgrade tasks\n\nFor services that support two upgrade modes (legacy and rolling), we\ncurrently have two task includes. Each has a small overhead. This can be\nreduced to one by dynamically setting the name of the included file.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I8423ce40bfa70f8b60086ff2a2c609411f1d9d05\n'}, {'number': 3, 'created': '2020-08-01 20:12:39.000000000', 'files': ['ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/neutron/tasks/upgrade.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'tools/kolla-ansible', 'ansible/roles/glance/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46f4285eedd8f37ec0da9dcb7474fb2912acdfc6', 'message': 'Performance: Dynamically include upgrade tasks\n\nFor services that support two upgrade modes (legacy and rolling), we\ncurrently have two task includes. Each has a small overhead. This can be\nreduced to one by dynamically setting the name of the included file.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I8423ce40bfa70f8b60086ff2a2c609411f1d9d05\n'}]",0,739110,46f4285eedd8f37ec0da9dcb7474fb2912acdfc6,21,2,3,14826,,,0,"Performance: Dynamically include upgrade tasks

For services that support two upgrade modes (legacy and rolling), we
currently have two task includes. Each has a small overhead. This can be
reduced to one by dynamically setting the name of the included file.

Partially-Implements: blueprint performance-improvements

Change-Id: I8423ce40bfa70f8b60086ff2a2c609411f1d9d05
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/739110/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/neutron/tasks/upgrade.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'ansible/roles/glance/tasks/upgrade.yml']",4,7b18f24cd3f97fa801f1a3db9aed08caa88b4fbf,bp/performance-improvements,"- include_tasks: ""{{ 'rolling_upgrade' if glance_enable_rolling_upgrade | bool else 'legacy_upgrade' }}.yml""",- include_tasks: rolling_upgrade.yml when: glance_enable_rolling_upgrade | bool - include_tasks: legacy_upgrade.yml when: not glance_enable_rolling_upgrade | bool,4,20
openstack%2Fopenstack-ansible-os_magnum~master~Id3413eb53ab2948de61b2e67f85c5a19fc670434,openstack/openstack-ansible-os_magnum,master,Id3413eb53ab2948de61b2e67f85c5a19fc670434,Add TLS support to magnum backends,MERGED,2023-04-08 15:50:38.000000000,2023-05-18 14:36:20.000000000,2023-05-18 14:35:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-04-08 15:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/afca3b894d1c11e5f51b15b699338953b6a166a2', 'message': 'Add TLS support to magnum backends\n\nBy overriding the variable `magnum_backend_ssl: True` HTTPS will\nbe enabled, disabling HTTP support on the magnum backend api.\n\nThe ansible-role-pki is used to generate the required TLS\ncertificates if this functionality is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085\nChange-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434\n'}, {'number': 2, 'created': '2023-04-20 21:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/58a4d429942e5dd9a6af6223781d441141037a9e', 'message': 'Add TLS support to magnum backends\n\nBy overriding the variable `magnum_backend_ssl: True` HTTPS will\nbe enabled, disabling HTTP support on the magnum backend api.\n\nThe ansible-role-pki is used to generate the required TLS\ncertificates if this functionality is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085\nChange-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434\n'}, {'number': 3, 'created': '2023-04-24 22:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/542a8304a118a17a84ae8cc764331e89ada74cb8', 'message': 'Add TLS support to magnum backends\n\nBy overriding the variable `magnum_backend_ssl: True` HTTPS will\nbe enabled, disabling HTTP support on the magnum backend api.\n\nThe ansible-role-pki is used to generate the required TLS\ncertificates if this functionality is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085\nChange-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434\n'}, {'number': 4, 'created': '2023-04-29 16:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/fbf173288db88babd3f82f0aadd0176eecdb591e', 'message': 'Add TLS support to magnum backends\n\nBy overriding the variable `magnum_backend_ssl: True` HTTPS will\nbe enabled, disabling HTTP support on the magnum backend api.\n\nThe ansible-role-pki is used to generate the required TLS\ncertificates if this functionality is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085\nChange-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434\n'}, {'number': 5, 'created': '2023-05-03 12:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/322076bec0c6374aed50e7b4ae21bf899e2d1345', 'message': 'Add TLS support to magnum backends\n\nBy overriding the variable `magnum_backend_ssl: True` HTTPS will\nbe enabled, disabling HTTP support on the magnum backend api.\n\nThe ansible-role-pki is used to generate the required TLS\ncertificates if this functionality is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085\nChange-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434\n'}, {'number': 6, 'created': '2023-05-16 15:04:39.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/c9fb7e4f460d5b37b54ff7453c6d35c0ccdf3c8a', 'message': 'Add TLS support to magnum backends\n\nBy overriding the variable `magnum_backend_ssl: True` HTTPS will\nbe enabled, disabling HTTP support on the magnum backend api.\n\nThe ansible-role-pki is used to generate the required TLS\ncertificates if this functionality is enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085\nChange-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434\n'}]",1,879918,c9fb7e4f460d5b37b54ff7453c6d35c0ccdf3c8a,19,3,6,32666,,,0,"Add TLS support to magnum backends

By overriding the variable `magnum_backend_ssl: True` HTTPS will
be enabled, disabling HTTP support on the magnum backend api.

The ansible-role-pki is used to generate the required TLS
certificates if this functionality is enabled.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879085
Change-Id: Id3413eb53ab2948de61b2e67f85c5a19fc670434
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/18/879918/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml', 'defaults/main.yml']",3,afca3b894d1c11e5f51b15b699338953b6a166a2,tls-backend," uwsgi_tls: ""{{ magnum_backend_ssl | ternary(magnum_uwsgi_tls, {}) }}""magnum_uwsgi_tls: crt: ""{{ magnum_ssl_cert }}"" key: ""{{ magnum_ssl_key }}"" ### ### Backend TLS ### # Define if communication between haproxy and service backends should be # encrypted with TLS(works only with uWSGI). magnum_backend_ssl: ""{{ openstack_service_backend_ssl | default(False) }}"" # Storage location for SSL certificate authority magnum_pki_dir: ""{{ openstack_pki_dir }}"" # Delegated host for operating the certificate authority magnum_pki_setup_host: ""{{ openstack_pki_setup_host | default('localhost') }}"" # The local address used for the magnum node magnum_node_address: ""{{ management_address | default('127.0.0.1') }}"" # magnum server certificate magnum_pki_keys_path: ""{{ magnum_pki_dir ~ '/certs/private/' }}"" magnum_pki_certs_path: ""{{ magnum_pki_dir ~ '/certs/certs/' }}"" magnum_pki_intermediate_cert_name: ""{{ openstack_pki_service_intermediate_cert_name }}"" magnum_pki_regen_cert: '' magnum_pki_certificates: - name: ""magnum_{{ ansible_facts['hostname'] }}"" provider: ownca cn: ""{{ ansible_facts['hostname'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ magnum_node_address }}"" signed_by: ""{{ magnum_pki_intermediate_cert_name }}"" # magnum destination files for SSL certificates magnum_ssl_cert: /etc/magnum/magnum.pem magnum_ssl_key: /etc/magnum/magnum.key # Installation details for SSL certificates magnum_pki_install_certificates: - src: ""{{ magnum_user_ssl_cert | default(magnum_pki_certs_path ~ 'magnum_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ magnum_ssl_cert }}"" owner: ""{{ magnum_system_user_name }}"" group: ""{{ magnum_system_user_name }}"" mode: ""0644"" - src: ""{{ magnum_user_ssl_key | default(magnum_pki_keys_path ~ 'magnum_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ magnum_ssl_key }}"" owner: ""{{ magnum_system_user_name }}"" group: ""{{ magnum_system_user_name }}"" mode: ""0600"" # Define user-provided SSL certificates #magnum_user_ssl_cert: <path to cert on ansible deployment host> #magnum_user_ssl_key: <path to cert on ansible deployment host>",,75,0
openstack%2Fkolla-ansible~master~I483a4503c5ccf07043c1aad81b8bc1510b196624,openstack/kolla-ansible,master,I483a4503c5ccf07043c1aad81b8bc1510b196624,WIP: CI: add expand scenario,ABANDONED,2020-08-10 13:16:09.000000000,2023-05-18 14:36:14.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 13:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6c0b1f3af6ef400026978c004be48a47228eb0d', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 2, 'created': '2020-08-10 14:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb9434b184fc033861d6be32e15f42e650f136c4', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 3, 'created': '2020-08-10 15:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d51aeba79e0ca80f206885bfa34539bb12ebe2f', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 4, 'created': '2020-08-10 20:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/736a09a7d6eb861e7ef346ad93811a472fdcf5f0', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 5, 'created': '2020-08-11 10:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b460a2d9cd34c690218d7cd70fe48968aca44f69', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 6, 'created': '2020-08-11 18:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a93eb514fb1d622952118ca9d6a1b33287873767', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 7, 'created': '2020-08-12 08:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96dbbd4f40c72cdfcf42eaf6674f3a643cdba7fb', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 8, 'created': '2020-08-12 09:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb110eec2610a0ce4c51d199747fb5f4bc4cf298', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 9, 'created': '2020-08-12 12:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/18f8126fe5563aaf7e892b3a48ea711ca0a7270c', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 10, 'created': '2020-08-12 18:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c22f7e3ad5b20156d214f1eb8136cb2de5ac0ffe', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 11, 'created': '2020-08-12 20:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5f08e0acbe6fb69af09d229278c2dddc7346782', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 12, 'created': '2020-08-13 14:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b69599e5bc1753bcafd46cdd3d764f136734c8d2', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}, {'number': 13, 'created': '2020-08-13 20:35:44.000000000', 'files': ['tests/expand.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09cb101ae27956c5491c33e8af99a62744f2c53b', 'message': 'WIP: CI: add expand scenario\n\nTests expansion of control plane from 2 nodes to 3.\n\nChange-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624\n'}]",0,745528,09cb101ae27956c5491c33e8af99a62744f2c53b,48,2,13,14826,,,0,"WIP: CI: add expand scenario

Tests expansion of control plane from 2 nodes to 3.

Change-Id: I483a4503c5ccf07043c1aad81b8bc1510b196624
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/745528/8 && git format-patch -1 --stdout FETCH_HEAD,"['tests/expand.sh', 'tests/run.yml', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",5,f6c0b1f3af6ef400026978c004be48a47228eb0d,, - job: name: kolla-ansible-centos8-source-expand parent: kolla-ansible-expand-base nodeset: kolla-ansible-centos8-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-expand parent: kolla-ansible-expand-base nodeset: kolla-ansible-bionic-multi vars: base_distro: ubuntu install_type: source,,109,44
openstack%2Fkolla-ansible~master~I8eeb48982dd1773cf9f8e1975289aa4862da7aaf,openstack/kolla-ansible,master,I8eeb48982dd1773cf9f8e1975289aa4862da7aaf,Run nova-status upgrade check after DB sync and migrations,ABANDONED,2019-06-17 11:02:55.000000000,2023-05-18 14:35:06.000000000,,"[{'_account_id': 6873}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2019-06-17 11:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55d1a1bc17065e6a74ed8432a68f0e7dfbe631ae', 'message': 'Run nova-status upgrade check after DB sync and migrations\n\nBackport: Stein\n\nThe nova documentation [1] states that the upgrade checks should be run\nafter the DB schema migration and online data migrations have been\nperformed. Currently, kolla ansible executes the upgrade check before\nstarting the upgrade process, which is wrong can could fail.\n\n[1] https://docs.openstack.org/nova/latest/reference/upgrade-checks.html\n\nChange-Id: I8eeb48982dd1773cf9f8e1975289aa4862da7aaf\nCloses-Bug: #1833064\n'}, {'number': 2, 'created': '2019-06-18 15:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/392ccdde5f265a6098a1e45cf13e7939cf9bd2e6', 'message': 'Run nova-status upgrade check after DB sync and migrations\n\nBackport: Stein\n\nThe nova documentation [1] states that the upgrade checks should be run\nafter the DB schema migration and online data migrations have been\nperformed. Currently, kolla ansible executes the upgrade check before\nstarting the upgrade process, which is wrong can could fail.\n\n[1] https://docs.openstack.org/nova/latest/reference/upgrade-checks.html\n\nChange-Id: I8eeb48982dd1773cf9f8e1975289aa4862da7aaf\nCloses-Bug: #1833064\n'}, {'number': 3, 'created': '2019-06-18 16:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5f21c85294cb8b2a87a439964476eeea4bb092f', 'message': 'Run nova-status upgrade check after DB sync and migrations\n\nBackport: Stein\n\nThe nova documentation [1] states that the upgrade checks should be run\nafter the DB schema migration and online data migrations have been\nperformed. Currently, kolla ansible executes the upgrade check before\nstarting the upgrade process, which is wrong and could fail.\n\n[1] https://docs.openstack.org/nova/latest/reference/upgrade-checks.html\n\nChange-Id: I8eeb48982dd1773cf9f8e1975289aa4862da7aaf\nCloses-Bug: #1833064\n'}, {'number': 4, 'created': '2019-08-09 17:09:42.000000000', 'files': ['ansible/roles/nova/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e929370e0d7e01b124134fd9790071d4a331367f', 'message': 'Run nova-status upgrade check after DB sync and migrations\n\nBackport: Stein\n\nThe nova documentation [1] states that the upgrade checks should be run\nafter the DB schema migration and online data migrations have been\nperformed. Currently, kolla ansible executes the upgrade check before\nstarting the upgrade process, which is wrong and could fail.\n\n[1] https://docs.openstack.org/nova/latest/reference/upgrade-checks.html\n\nChange-Id: I8eeb48982dd1773cf9f8e1975289aa4862da7aaf\nCloses-Bug: #1833064\n'}]",6,665643,e929370e0d7e01b124134fd9790071d4a331367f,22,5,4,14826,,,0,"Run nova-status upgrade check after DB sync and migrations

Backport: Stein

The nova documentation [1] states that the upgrade checks should be run
after the DB schema migration and online data migrations have been
performed. Currently, kolla ansible executes the upgrade check before
starting the upgrade process, which is wrong and could fail.

[1] https://docs.openstack.org/nova/latest/reference/upgrade-checks.html

Change-Id: I8eeb48982dd1773cf9f8e1975289aa4862da7aaf
Closes-Bug: #1833064
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/665643/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/upgrade.yml'],1,55d1a1bc17065e6a74ed8432a68f0e7dfbe631ae,bug/1833064,- include_tasks: legacy_upgrade.yml when: not nova_enable_rolling_upgrade | bool - include_tasks: rolling_upgrade.yml when: nova_enable_rolling_upgrade | bool , - include_tasks: legacy_upgrade.yml when: not nova_enable_rolling_upgrade | bool - include_tasks: rolling_upgrade.yml when: nova_enable_rolling_upgrade | bool,6,6
openstack%2Fproject-config~master~I99e071653c64e64b3074b3eb873dcee0a779ac9c,openstack/project-config,master,I99e071653c64e64b3074b3eb873dcee0a779ac9c,Fix the NebulOuS tenant config,MERGED,2023-05-18 13:44:01.000000000,2023-05-18 14:25:33.000000000,2023-05-18 14:02:13.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:44:01.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc8b74f30108d1ae3355ce0ecaef7dd64db0bde9', 'message': 'Fix the NebulOuS tenant config\n\nopenstack/project-config is *not* included and thus should not\n(and, in fact, cannot) be shadowed.\n\nOtherwise, Zuul refuses to run jobs on untrusted-projects due to\na processing error.\n\nChange-Id: I99e071653c64e64b3074b3eb873dcee0a779ac9c\n'}]",1,883507,bc8b74f30108d1ae3355ce0ecaef7dd64db0bde9,8,3,1,30491,,,0,"Fix the NebulOuS tenant config

openstack/project-config is *not* included and thus should not
(and, in fact, cannot) be shadowed.

Otherwise, Zuul refuses to run jobs on untrusted-projects due to
a processing error.

Change-Id: I99e071653c64e64b3074b3eb873dcee0a779ac9c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/883507/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,bc8b74f30108d1ae3355ce0ecaef7dd64db0bde9,fix-nebulous, - zuul/zuul-jobs, - zuul/zuul-jobs: shadow: openstack/project-config,1,2
openstack%2Ftripleo-ci~master~I4b0d4cbfff922ee318bdc86ab1eaacb447ded7d2,openstack/tripleo-ci,master,I4b0d4cbfff922ee318bdc86ab1eaacb447ded7d2,Run standalone 001 job for change in overcloud ceph commands,MERGED,2023-04-27 08:32:01.000000000,2023-05-18 14:21:10.000000000,2023-05-18 14:21:10.000000000,"[{'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-04-27 08:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd9a11b08eb35dd2429bd46ecc80ac4123c3a500', 'message': 'Run standalone 001 job for change in overcloud ceph commands\n\nThis makes sures that we run standalone 001 job which has ceph enabled\nin cass the overcloud ceph commands are updated.\n\nChange-Id: I4b0d4cbfff922ee318bdc86ab1eaacb447ded7d2\n'}, {'number': 2, 'created': '2023-04-27 08:32:46.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d5e121a04697f9926328f22fa2070c3452e0117', 'message': 'Run standalone 001 job for change in overcloud ceph commands\n\nThis makes sures that we run standalone 001 job which has ceph enabled\nin cass the overcloud ceph commands are updated.\n\nRelated-Bug: #2017631\nChange-Id: I4b0d4cbfff922ee318bdc86ab1eaacb447ded7d2\n'}]",1,881700,2d5e121a04697f9926328f22fa2070c3452e0117,9,4,2,9816,,,0,"Run standalone 001 job for change in overcloud ceph commands

This makes sures that we run standalone 001 job which has ceph enabled
in cass the overcloud ceph commands are updated.

Related-Bug: #2017631
Change-Id: I4b0d4cbfff922ee318bdc86ab1eaacb447ded7d2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/00/881700/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,dd9a11b08eb35dd2429bd46ecc80ac4123c3a500,, - ^tripleoclient/utils.py$ - ^tripleoclient/v2/overcloud_ceph.py$, - tripleoclient/utils.py,2,1
openstack%2Foslo.messaging~master~I103d2aa79b4bd2c331810583aeca53e22ee27a49,openstack/oslo.messaging,master,I103d2aa79b4bd2c331810583aeca53e22ee27a49,Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay,MERGED,2022-12-05 18:11:34.000000000,2023-05-18 14:20:47.000000000,2023-05-18 14:19:39.000000000,"[{'_account_id': 9816}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-12-05 18:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9f8a7a958db60cbde35e269d9c43be0342f23efe', 'message': 'Reduce kombu_reconnect_delay to .1 second\n\nThe previous delay of 1.0 causes us to always exceed\nthe 1.0 second timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nBug: 1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n'}, {'number': 2, 'created': '2023-01-30 10:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/722c59b92f17858efd609aad055e12b24b75d12d', 'message': 'Reduce kombu_reconnect_delay to .1 second\n\nThe previous delay of 1.0 causes us to always exceed\nthe 1.0 second timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nBug: 1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n'}, {'number': 3, 'created': '2023-03-01 14:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0253db57ad2241c76e8a9f87ccc9c2d302fa78ff', 'message': 'Reduce kombu_reconnect_delay to .1 second\n\nThe previous delay of 1.0 causes us to always exceed\nthe 1.0 second timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nBug: 1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n'}, {'number': 4, 'created': '2023-04-20 20:30:51.000000000', 'files': ['releasenotes/notes/bug-1993149-e8b231791b65e938.yaml', 'oslo_messaging/tests/test_config_opts_proxy.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0602d1a10ac20c48fa35ad711355c79ee5b0ec77', 'message': ""Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay\n\nPreviously the two values were the same; this caused us\nto always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nAlso apply min/max values to kombu_reconnect_delay so it doesn't\nexceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.\n\nCloses-Bug: #1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n""}]",20,866617,0602d1a10ac20c48fa35ad711355c79ee5b0ec77,40,5,4,12932,,,0,"Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay

Previously the two values were the same; this caused us
to always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX
which results in various code paths never being traversed
due to premature timeout exceptions.

Also apply min/max values to kombu_reconnect_delay so it doesn't
exceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.

Closes-Bug: #1993149
Change-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/17/866617/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1993149-e8b231791b65e938.yaml', 'oslo_messaging/tests/test_config_opts_proxy.py', 'oslo_messaging/_drivers/impl_rabbit.py']",3,9f8a7a958db60cbde35e269d9c43be0342f23efe,bug/1993149," default=0.1, min=0.0, max=0.5, help='How long to wait (in seconds) before reconnecting in ' 'response to an AMQP consumer cancel notification.'),"," default=1.0, help='How long to wait before reconnecting in response to an ' 'AMQP consumer cancel notification.'),",15,4
openstack%2Fmagnum~master~If9d8a33109b9956becff9621a528de1dfc658c29,openstack/magnum,master,If9d8a33109b9956becff9621a528de1dfc658c29,WIP: Adding ovn support,ABANDONED,2023-05-04 12:53:58.000000000,2023-05-18 14:15:30.000000000,,"[{'_account_id': 782}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 12:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/35f5c83398f19530c94c544a859c588a906a68a7', 'message': 'WIP: Adding ovn support\n\nstory: 2009780\n\nchanges have been made to helm charts to support configuration of\nloadbalancer provider. this patch reflects that in the magnum driver.\n\nChange-Id: If9d8a33109b9956becff9621a528de1dfc658c29\n'}, {'number': 2, 'created': '2023-05-11 13:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fbaa17638b86a680e3a5189c347ff61cfa483ec5', 'message': 'WIP: Adding ovn support\n\nstory: 2009780\n\nchanges have been made to helm charts to support configuration of\nloadbalancer provider. this patch reflects that in the magnum driver.\n\nChange-Id: If9d8a33109b9956becff9621a528de1dfc658c29\n'}, {'number': 3, 'created': '2023-05-11 16:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/51d667c705339f06ad0285b7433d94123a4fe4d0', 'message': 'WIP: Adding ovn support\n\nstory: 2009780\n\nchanges have been made to helm charts to support configuration of\nloadbalancer provider. this patch reflects that in the magnum driver.\n\nChange-Id: If9d8a33109b9956becff9621a528de1dfc658c29\n'}, {'number': 4, 'created': '2023-05-16 11:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dfe9caa90e1fb317fc17b06ddf067a2f690b03a5', 'message': 'WIP: Adding ovn support\n\nstory: 2009780\n\nchanges have been made to helm charts to support configuration of\nloadbalancer provider. this patch reflects that in the magnum driver.\n\nChange-Id: If9d8a33109b9956becff9621a528de1dfc658c29\n'}]",1,882287,dfe9caa90e1fb317fc17b06ddf067a2f690b03a5,9,2,4,35260,,,0,"WIP: Adding ovn support

story: 2009780

changes have been made to helm charts to support configuration of
loadbalancer provider. this patch reflects that in the magnum driver.

Change-Id: If9d8a33109b9956becff9621a528de1dfc658c29
",git fetch https://review.opendev.org/openstack/magnum refs/changes/87/882287/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/cluster_api/driver.py'],1,35f5c83398f19530c94c544a859c588a906a68a7,,"MAGNUM_HELM_CHART_VERSION = ""0.1.1-dev.0.main.213""","MAGNUM_HELM_CHART_VERSION = ""0.1.1-dev.0.main.196""",1,1
openstack%2Fglance_store~master~I8efb0460df9fcba050b5ce949eb10caea325c851,openstack/glance_store,master,I8efb0460df9fcba050b5ce949eb10caea325c851,RBD: Wrap RBD calls in native threads,MERGED,2022-10-13 14:28:30.000000000,2023-05-18 14:12:25.000000000,2023-04-26 15:09:20.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 14:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/53b3b7d14922e765ad51c7c326f1e82eda8c0a1e', 'message': ""RBD: Wrap RBD calls in native threads\n\nlibrbd methods call lower level C code which runs in native thread\nand isn't aware about the eventlet threads hence hangs the eventlet loop\nuntil the native thread is executed.\nThis could cause problems when we are creating multiple images\nwith large size where one call to librados can cause the process to\nhang and other operations can starve for execution and error out.\nThis patch wraps each RBD call in it's own native thread that won't\naffect other RBD call from executing.\n\nChange-Id: I8efb0460df9fcba050b5ce949eb10caea325c851\n""}, {'number': 2, 'created': '2023-04-06 12:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8f12b7e17da0adedc919e59c8e92730486d38f91', 'message': ""RBD: Wrap RBD calls in native threads\n\nlibrbd methods call lower level C code which runs in native thread\nand isn't aware about the eventlet threads hence hangs the eventlet loop\nuntil the native thread is executed.\nThis could cause problems when we are creating multiple images\nwith large size where one call to librados can cause the process to\nhang and other operations can starve for execution and error out.\nThis patch wraps each RBD call in it's own native thread that won't\naffect other RBD call from executing.\n\nChange-Id: I8efb0460df9fcba050b5ce949eb10caea325c851\n""}, {'number': 3, 'created': '2023-04-06 15:16:25.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447', 'message': ""RBD: Wrap RBD calls in native threads\n\nlibrbd methods call lower level C code which runs in native thread\nand isn't aware about the eventlet threads hence hangs the eventlet loop\nuntil the native thread is executed.\nThis could cause problems when we are creating multiple images\nwith large size where one call to librados can cause the process to\nhang and other operations can starve for execution and error out.\nThis patch wraps each RBD call in it's own native thread that won't\naffect other RBD call from executing.\n\nChange-Id: I8efb0460df9fcba050b5ce949eb10caea325c851\n""}]",8,861191,27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447,26,4,3,27615,,,0,"RBD: Wrap RBD calls in native threads

librbd methods call lower level C code which runs in native thread
and isn't aware about the eventlet threads hence hangs the eventlet loop
until the native thread is executed.
This could cause problems when we are creating multiple images
with large size where one call to librados can cause the process to
hang and other operations can starve for execution and error out.
This patch wraps each RBD call in it's own native thread that won't
affect other RBD call from executing.

Change-Id: I8efb0460df9fcba050b5ce949eb10caea325c851
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/91/861191/2 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/rbd.py'],1,53b3b7d14922e765ad51c7c326f1e82eda8c0a1e,861191,"from eventlet import tpool def RBDProxy(self): return tpool.Proxy(rbd.RBD()) self.RBDProxy().create(ioctx, image_name, size, order, old_format=False, features=int(features)) self.RBDProxy().remove(ioctx, image_name)"," librbd = rbd.RBD() librbd.create(ioctx, image_name, size, order, old_format=False, features=int(features)) rbd.RBD().remove(ioctx, image_name)",8,4
openstack%2Fovn-octavia-provider~master~Ica8cff57c6ddb9aaa3e58c3af0294b499d8a5be2,openstack/ovn-octavia-provider,master,Ica8cff57c6ddb9aaa3e58c3af0294b499d8a5be2,Use new get_rpc_client API from oslo.messaging,NEW,2023-05-18 08:16:51.000000000,2023-05-18 14:10:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2023-05-18 08:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b32a21f75389d000ed72a76abc199d3a13df3cdb', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: Ica8cff57c6ddb9aaa3e58c3af0294b499d8a5be2\n'}, {'number': 2, 'created': '2023-05-18 10:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c534622a406e379025509a8b4dfb56810dc966b4', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: Ica8cff57c6ddb9aaa3e58c3af0294b499d8a5be2\n'}, {'number': 3, 'created': '2023-05-18 12:21:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/41bc5f729f91635d7973188bbde305c7bbaeb09e', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: Ica8cff57c6ddb9aaa3e58c3af0294b499d8a5be2\n'}]",0,883181,41bc5f729f91635d7973188bbde305c7bbaeb09e,6,2,3,29423,,,0,"Use new get_rpc_client API from oslo.messaging

Use the new API that is consistent with
the existing API instead of instantiating the client
class directly.

This was introduced in release 14.1.0 here [1] and
added into oslo.messaging here [2]

[1] https://review.opendev.org/c/openstack/requirements/+/869340
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419

Change-Id: Ica8cff57c6ddb9aaa3e58c3af0294b499d8a5be2
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/81/883181/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b32a21f75389d000ed72a76abc199d3a13df3cdb,,oslo.messaging>=14.1.0 # Apache-2.0,oslo.messaging>=12.4.0 # Apache-2.0,1,1
openstack%2Fnetworking-generic-switch~master~Ia36b3497c9bbe93be55dcc933d56e1509fa46fb0,openstack/networking-generic-switch,master,Ia36b3497c9bbe93be55dcc933d56e1509fa46fb0,"Bugs are now tracked in launchpad, fix docs",MERGED,2023-05-17 22:11:10.000000000,2023-05-18 13:24:06.000000000,2023-05-18 13:23:03.000000000,"[{'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 22:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/e26491bf449d4d16dd576dda3d2ef40e5f5fae41', 'message': 'Bugs are now tracked in launchpad, fix docs\n\nDocs now reflect we have bug tracking in launchpad.\n\nChange-Id: Ia36b3497c9bbe93be55dcc933d56e1509fa46fb0\n'}, {'number': 2, 'created': '2023-05-17 22:37:16.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/5246705d24224d9c5cb6d9befd0542162c4ff737', 'message': 'Bugs are now tracked in launchpad, fix docs\n\nDocs now reflect we have bug tracking in launchpad.\n\nChange-Id: Ia36b3497c9bbe93be55dcc933d56e1509fa46fb0\n'}]",0,883450,5246705d24224d9c5cb6d9befd0542162c4ff737,12,3,2,10342,,,0,"Bugs are now tracked in launchpad, fix docs

Docs now reflect we have bug tracking in launchpad.

Change-Id: Ia36b3497c9bbe93be55dcc933d56e1509fa46fb0
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/50/883450/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/conf.py']",2,e26491bf449d4d16dd576dda3d2ef40e5f5fae41,back-to-lp,openstackdocs_use_storyboard = False,openstackdocs_use_storyboard = True,2,6
openstack%2Fkolla-ansible~master~I154d33f8599cd6e4b06fe34110bc516765fcf75a,openstack/kolla-ansible,master,I154d33f8599cd6e4b06fe34110bc516765fcf75a,Fix Bug: Update endpoint of cyborg service.,ABANDONED,2023-05-18 12:34:28.000000000,2023-05-18 13:05:17.000000000,,"[{'_account_id': 14200}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-18 12:34:28.000000000', 'files': ['ansible/roles/cyborg/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8ed8158c72feb298a123e2a2a580707e10c3615', 'message': 'Fix Bug: Update endpoint of cyborg service.\n\nChange-Id: I154d33f8599cd6e4b06fe34110bc516765fcf75a\n'}]",2,883498,d8ed8158c72feb298a123e2a2a580707e10c3615,5,2,1,36022,,,0,"Fix Bug: Update endpoint of cyborg service.

Change-Id: I154d33f8599cd6e4b06fe34110bc516765fcf75a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/883498/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cyborg/defaults/main.yml'],1,d8ed8158c72feb298a123e2a2a580707e10c3615,fix_bug_cyborg,"cyborg_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ cyborg_api_port }}/v2"" cyborg_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn | put_address_in_context('url') }}:{{ cyborg_api_port }}/v2""","cyborg_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ cyborg_api_port }}"" cyborg_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn | put_address_in_context('url') }}:{{ cyborg_api_port }}""",2,2
openstack%2Fkolla-ansible~master~Ie9bb2b2d84dcb9e12e0d4e36a813b0c0c58fb622,openstack/kolla-ansible,master,Ie9bb2b2d84dcb9e12e0d4e36a813b0c0c58fb622,Fix Bug: Wrong type of cyborg service.,ABANDONED,2023-05-18 12:34:28.000000000,2023-05-18 13:05:03.000000000,,"[{'_account_id': 14200}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-18 12:34:28.000000000', 'files': ['ansible/roles/cyborg/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f723dd908aebc074c1314b32b441dc1c4a8c4b6c', 'message': 'Fix Bug: Wrong type of cyborg service.\n\nChange-Id: Ie9bb2b2d84dcb9e12e0d4e36a813b0c0c58fb622\n'}]",2,883499,f723dd908aebc074c1314b32b441dc1c4a8c4b6c,4,2,1,36022,,,0,"Fix Bug: Wrong type of cyborg service.

Change-Id: Ie9bb2b2d84dcb9e12e0d4e36a813b0c0c58fb622
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/883499/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cyborg/defaults/main.yml'],1,f723dd908aebc074c1314b32b441dc1c4a8c4b6c,fix_bug_cyborg," type: ""accelerator"""," type: ""cyborg""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If72ee0c1615efa7107a334e44ddd19d638178ce7,openstack/tripleo-heat-templates,stable/wallaby,If72ee0c1615efa7107a334e44ddd19d638178ce7,Remove external from KeystoneAuthMethods,NEW,2023-03-23 13:24:56.000000000,2023-05-18 13:00:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-03-23 13:24:56.000000000', 'files': ['environments/enable-federation-openidc.yaml', 'sample-env-generator/openidc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59aac85357da48483281c2a18b620cf65b0b403f', 'message': 'Remove external from KeystoneAuthMethods\n\nExternal is not compatable with federated authentication\n\nChange-Id: If72ee0c1615efa7107a334e44ddd19d638178ce7\n(cherry picked from commit 67f47c0d79ceb57a2a60c500a5dd3f8dd4316555)\n'}]",1,878343,59aac85357da48483281c2a18b620cf65b0b403f,4,4,1,7414,,,0,"Remove external from KeystoneAuthMethods

External is not compatable with federated authentication

Change-Id: If72ee0c1615efa7107a334e44ddd19d638178ce7
(cherry picked from commit 67f47c0d79ceb57a2a60c500a5dd3f8dd4316555)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/878343/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/enable-federation-openidc.yaml', 'sample-env-generator/openidc.yaml']",2,59aac85357da48483281c2a18b620cf65b0b403f,add_oidc_parameters-stable/wallaby," KeystoneAuthMethods: password,token,oauth1,mapped,application_credential,openid"," KeystoneAuthMethods: external,password,token,oauth1,mapped,application_credential,openid",2,2
openstack%2Fmasakari~master~I1f803c98ed39d12cceb66f46006f0b015d3b82d8,openstack/masakari,master,I1f803c98ed39d12cceb66f46006f0b015d3b82d8,Add initial alembic migration,NEW,2023-03-24 11:09:03.000000000,2023-05-18 12:53:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-24 11:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/cca25d88ef806e4d87ff846443c1f6481e220078', 'message': 'Add initial alembic migration\n\nThis is all migrations to initial alembic migration for antelope\nrelease.\n\nChange-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8\n'}, {'number': 2, 'created': '2023-03-25 07:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/08d6802069307a635d646e94fd5ec3b1c6e49257', 'message': 'Add initial alembic migration\n\nThis is all migrations to initial alembic migration for antelope\nrelease.\n\nChange-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8\n'}, {'number': 3, 'created': '2023-05-17 09:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b874654d735a611e4e90493d3105283ccaef7458', 'message': 'Add initial alembic migration\n\nChange-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8\n'}, {'number': 4, 'created': '2023-05-18 01:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e81bf9a2a7d984340343527e3b8fa69f6f847f59', 'message': 'Add initial alembic migration\n\nChange-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8\n'}, {'number': 5, 'created': '2023-05-18 11:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2d6d290aca2ea2440970f611c52192f5e647c335', 'message': 'Add initial alembic migration\n\nChange-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8\n'}, {'number': 6, 'created': '2023-05-18 12:01:37.000000000', 'files': ['masakari/db/sqlalchemy/migrations/versions/e8ff90217ade_initial.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/dc9138c0fa367997ca0ed08dd92e11c6e8104c41', 'message': 'Add initial alembic migration\n\nChange-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8\n'}]",2,878525,dc9138c0fa367997ca0ed08dd92e11c6e8104c41,12,1,6,30623,,,0,"Add initial alembic migration

Change-Id: I1f803c98ed39d12cceb66f46006f0b015d3b82d8
",git fetch https://review.opendev.org/openstack/masakari refs/changes/25/878525/4 && git format-patch -1 --stdout FETCH_HEAD,['masakari/db/sqlalchemy/migrations/versions/e8ff90217ade_antelope.py'],1,cca25d88ef806e4d87ff846443c1f6481e220078,remove-sqlalchemy-migrate,"# Copyright(c) 2022 Inspur # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""antelope release Revision ID: e8ff90217ade Revises: Create Date: 2023-03-24 17:11:32.457935 """""" from alembic import op import oslo_db import sqlalchemy as sa # revision identifiers, used by Alembic. revision = 'e8ff90217ade' down_revision = None branch_labels = None depends_on = None def upgrade(): op.create_table( 'failover_segments', sa.Column('created_at', sa.DateTime(), nullable=True), sa.Column('updated_at', sa.DateTime(), nullable=True), sa.Column('deleted_at', sa.DateTime(), nullable=True), sa.Column('deleted', oslo_db.sqlalchemy.types.SoftDeleteInteger(), nullable=True), sa.Column('id', sa.Integer(), nullable=True), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column('name', sa.String(length=255), nullable=False), sa.Column('service_type', sa.String(length=255), nullable=False), sa.Column('enabled', sa.Boolean(), default=True), sa.Column('description', sa.Text(), nullable=True), sa.Column('recovery_method', sa.Enum('auto', 'reserved_host', 'auto_priority', 'rh_priority', name='recovery_methods'), nullable=False), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('name', 'deleted', name='uniq_segment0name0deleted'), sa.UniqueConstraint('uuid', name='uniq_segments0uuid') ) op.create_table( 'hosts', sa.Column('created_at', sa.DateTime(), nullable=True), sa.Column('updated_at', sa.DateTime(), nullable=True), sa.Column('deleted_at', sa.DateTime(), nullable=True), sa.Column('deleted', oslo_db.sqlalchemy.types.SoftDeleteInteger(), nullable=True), sa.Column('id', sa.Integer(), nullable=True), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column('name', sa.String(length=255), nullable=False), sa.Column('reserved', sa.Boolean(), default=False), sa.Column('type', sa.String(length=255), nullable=False), sa.Column('control_attributes', sa.Text()), sa.Column('failover_segment_id', sa.String(length=36), nullable=False), sa.Column('on_maintenance', sa.Boolean(), default=False), sa.ForeignKeyConstraint(['failover_segment_id'], ['failover_segments.uuid'], ), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('failover_segment_id', 'name', 'deleted', name='uniq_host0name0deleted'), sa.UniqueConstraint('uuid', name='uniq_host0uuid') ) op.create_table( 'notifications', sa.Column('created_at', sa.DateTime(), nullable=True), sa.Column('updated_at', sa.DateTime(), nullable=True), sa.Column('deleted_at', sa.DateTime(), nullable=True), sa.Column('deleted', oslo_db.sqlalchemy.types.SoftDeleteInteger(), nullable=True), sa.Column('id', sa.Integer(), nullable=True), sa.Column('notification_uuid', sa.String(length=36), nullable=False), sa.Column('generated_time', sa.DateTime(), nullable=False), sa.Column('source_host_uuid', sa.String(length=36), nullable=False), sa.Column('type', sa.String(length=36), nullable=False), sa.Column('payload', sa.Text()), sa.Column('status', sa.Enum('new', 'running', 'error', 'failed', 'ignored', 'finished', name='notification_status'), nullable=False), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('notification_uuid', name='uniq_notifications0uuid') ) op.create_table( 'vmoves', sa.Column('created_at', sa.DateTime(), nullable=True), sa.Column('updated_at', sa.DateTime(), nullable=True), sa.Column('deleted_at', sa.DateTime(), nullable=True), sa.Column('deleted', oslo_db.sqlalchemy.types.SoftDeleteInteger(), nullable=True), sa.Column('id', sa.Integer(), nullable=True), sa.Column('uuid', sa.String(length=36), nullable=False), sa.Column('notification_uuid', sa.String(length=36), nullable=False), sa.Column('instance_uuid', sa.String(length=36), nullable=False), sa.Column('instance_name', sa.String(length=255), nullable=False), sa.Column('source_host', sa.String(length=255), nullable=True), sa.Column('dest_host', sa.String(length=255), nullable=True), sa.Column('start_time', sa.DateTime(), nullable=True), sa.Column('end_time', sa.DateTime(), nullable=True), sa.Column('type', sa.String(length=36), nullable=True), sa.Column('status', sa.String(length=36), nullable=True), sa.Column('message', sa.Text(), nullable=True), sa.PrimaryKeyConstraint('id'), sa.UniqueConstraint('uuid', name='uniq_vmove0uuid') ) def downgrade(): op.drop_table('failover_segments') op.drop_table('hosts') op.drop_table('notifications') op.drop_table('vmoves') ",,136,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I396a75119cdfd3762a59f6e5437234fcc661b7ae,openstack/openstack-ansible-openstack_hosts,master,I396a75119cdfd3762a59f6e5437234fcc661b7ae,Revert pinning rdo-deps for openvswitch 2.17 for rocky,MERGED,2023-05-16 17:50:10.000000000,2023-05-18 12:40:37.000000000,2023-05-18 12:39:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-16 17:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6e1dc25267322ef1eb4bc9c331c40b16a64b47ba', 'message': 'Revert pinning rdo-deps for openvswitch 2.17 for rocky\n\nRocky 9.2 was released today and ships a new centos-release-nfv which\npoints to builds of RDO Dependencies build against RHEL 9 buildroots\ninstead of CentOS Stream 9. As such, we no longer need to keep Rocky at\na lower version of ovs/ovn and can match other distributions (and\nStream) on 3.1.\n\nChange-Id: I396a75119cdfd3762a59f6e5437234fcc661b7ae\n'}, {'number': 2, 'created': '2023-05-17 14:46:35.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d1b4da3f66acaee95ce948b58d6e913d85404bca', 'message': 'Revert pinning rdo-deps for openvswitch 2.17 for rocky\n\nRocky 9.2 was released today and ships a new centos-release-nfv which\npoints to builds of RDO Dependencies build against RHEL 9 buildroots\ninstead of CentOS Stream 9. As such, we no longer need to keep Rocky at\na lower version of ovs/ovn and can match other distributions (and\nStream) on 3.1.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/883377\nChange-Id: I396a75119cdfd3762a59f6e5437234fcc661b7ae\n'}]",5,883294,d1b4da3f66acaee95ce948b58d6e913d85404bca,21,3,2,34411,,,0,"Revert pinning rdo-deps for openvswitch 2.17 for rocky

Rocky 9.2 was released today and ships a new centos-release-nfv which
points to builds of RDO Dependencies build against RHEL 9 buildroots
instead of CentOS Stream 9. As such, we no longer need to keep Rocky at
a lower version of ovs/ovn and can match other distributions (and
Stream) on 3.1.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/883377
Change-Id: I396a75119cdfd3762a59f6e5437234fcc661b7ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/94/883294/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,6e1dc25267322ef1eb4bc9c331c40b16a64b47ba,,," exclude: ""{{ (ansible_facts['distribution'] == 'Rocky') | ternary(['*rdo-openvswitch*3.1*', '*rdo-ovn*3.1*'], omit) }}""",0,1
openstack%2Fneutron~master~Ic4ebb61cecbac8b0403e5899f3d0dd3cafec66f7,openstack/neutron,master,Ic4ebb61cecbac8b0403e5899f3d0dd3cafec66f7,[sqlalchemy-20] Retrieve the ``URL`` string with the password,MERGED,2023-05-16 16:44:00.000000000,2023-05-18 12:34:19.000000000,2023-05-18 12:33:04.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-16 16:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0af23ec15de6627a148a6162320ba97a0706defb', 'message': '[sqlalchemy-20] Retrieve the ``URL`` string with the password\n\nWith SQLAlchemy 2.0, the ``URL`` object is printed with the password\nhidden. It is needed ``render_as_string`` to print the URL string\nwith the password in plain text.\n\nCloses-Bug: #2015847\nChange-Id: Ic4ebb61cecbac8b0403e5899f3d0dd3cafec66f7\n'}, {'number': 2, 'created': '2023-05-17 13:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e05e6950f0d574dd29e494b6cb7eb7de0ec0b797', 'message': '[sqlalchemy-20] Retrieve the ``URL`` string with the password\n\nWith SQLAlchemy 2.0, the ``URL`` object is printed with the password\nhidden. It is needed ``render_as_string`` to print the URL string\nwith the password in plain text.\n\nCloses-Bug: #2015847\nChange-Id: Ic4ebb61cecbac8b0403e5899f3d0dd3cafec66f7\n'}, {'number': 3, 'created': '2023-05-17 15:20:56.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0959e452d358597c005630f3aab3948ba6c1d26f', 'message': '[sqlalchemy-20] Retrieve the ``URL`` string with the password\n\nWith SQLAlchemy 2.0, the ``URL`` object is printed with the password\nhidden. It is needed ``render_as_string`` to print the URL string\nwith the password in plain text.\n\nCloses-Bug: #2015847\nChange-Id: Ic4ebb61cecbac8b0403e5899f3d0dd3cafec66f7\n'}]",4,883287,0959e452d358597c005630f3aab3948ba6c1d26f,22,5,3,16688,,,0,"[sqlalchemy-20] Retrieve the ``URL`` string with the password

With SQLAlchemy 2.0, the ``URL`` object is printed with the password
hidden. It is needed ``render_as_string`` to print the URL string
with the password in plain text.

Closes-Bug: #2015847
Change-Id: Ic4ebb61cecbac8b0403e5899f3d0dd3cafec66f7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/883287/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,0af23ec15de6627a148a6162320ba97a0706defb,bug/2015847," try: url_str = engine.url.render_as_string(hide_password=False) except AttributeError: # NOTE(ralonsoh): ``URL`` objects from SQLAlchemy<2.0.0 don't have # ``render_as_string`` method but it is not necessary. url_str = str(engine.url) cfg.CONF.set_override('connection', url_str, group='database')"," cfg.CONF.set_override('connection', engine.url, group='database')",8,1
openstack%2Fpython-openstackclient~master~I90cfd9ff004c59cadc3e760eb120a460687701fe,openstack/python-openstackclient,master,I90cfd9ff004c59cadc3e760eb120a460687701fe,trivial: Remove duplicate definitions,MERGED,2023-04-04 12:44:38.000000000,2023-05-18 12:34:03.000000000,2023-05-18 12:33:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-04-04 12:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3623c3a5521e14cd255951898e4c1b9614203beb', 'message': ""trivial: Remove duplicate definitions\n\nThese are already set in the 'TestServer' super class.\n\nChange-Id: I90cfd9ff004c59cadc3e760eb120a460687701fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2023-04-11 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/78d742e5632f7d36cc5ebed9ce6c8fb2db607659', 'message': ""trivial: Remove duplicate definitions\n\nThese are already set in the 'TestServer' super class.\n\nChange-Id: I90cfd9ff004c59cadc3e760eb120a460687701fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2023-05-18 10:14:12.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e984ca18a42c4773e16a2e18aecef0c9a46a2b49', 'message': ""trivial: Remove duplicate definitions\n\nThese are already set in the 'TestServer' super class.\n\nChange-Id: I90cfd9ff004c59cadc3e760eb120a460687701fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,879451,e984ca18a42c4773e16a2e18aecef0c9a46a2b49,12,3,3,15334,,,0,"trivial: Remove duplicate definitions

These are already set in the 'TestServer' super class.

Change-Id: I90cfd9ff004c59cadc3e760eb120a460687701fe
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/51/879451/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/test_server.py'],1,3623c3a5521e14cd255951898e4c1b9614203beb,trivial,, self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.compute = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.compute self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.compute = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.compute self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.compute = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.compute ,0,12
openstack%2Fopenstack-ansible-ceph_client~master~Ifd78224acf389200a79aea25461b499a7c0da5d1,openstack/openstack-ansible-ceph_client,master,Ifd78224acf389200a79aea25461b499a7c0da5d1,Allow ceph client keyring files to have custom owner/group/mode,MERGED,2023-05-10 14:06:29.000000000,2023-05-18 12:31:11.000000000,2023-05-18 12:30:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-10 14:06:29.000000000', 'files': ['tasks/ceph_get_keyrings_from_mons.yml', 'vars/main.yml', 'tasks/ceph_get_keyrings_from_files.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/fdd2aaa00b3753b393be5768f730f58d0a1e3b04', 'message': 'Allow ceph client keyring files to have custom owner/group/mode\n\nThis is required for a future patch enabling the ceph\nimmutable object cache.\n\nChange-Id: Ifd78224acf389200a79aea25461b499a7c0da5d1\n'}]",0,882827,fdd2aaa00b3753b393be5768f730f58d0a1e3b04,10,3,1,25023,,,0,"Allow ceph client keyring files to have custom owner/group/mode

This is required for a future patch enabling the ceph
immutable object cache.

Change-Id: Ifd78224acf389200a79aea25461b499a7c0da5d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/27/882827/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_get_keyrings_from_mons.yml', 'vars/main.yml', 'tasks/ceph_get_keyrings_from_files.yml']",3,fdd2aaa00b3753b393be5768f730f58d0a1e3b04,osa-ceph-cache," client: lookup('file', ceph_keyrings_dir ~ '/' ~ client['name'] ~ '.keyring') dest: ""/etc/ceph/{{ ceph_cluster_name }}.client.{{ item['name'] }}.keyring"" content: ""{{ ceph_client_keys[item['name']] }}\n"" # noqa 206 owner: ""{{ client['owner'] | default('root') }}"" group: ""{{ client['group'] | default(cephkeys_access_group) }}"" mode: ""{{ client['mode'] | default ('0640') }}"""," client: lookup('file', ceph_keyrings_dir ~ '/' ~ client ~ '.keyring') dest: ""/etc/ceph/{{ ceph_cluster_name }}.client.{{ item }}.keyring"" content: ""{{ ceph_client_keys[item] }}\n"" # noqa 206 group: ""{{ cephkeys_access_group }}"" mode: 0640",16,15
openstack%2Ftenks~master~I19d3241e0db1c70394dbcb8ceaf875c5fcd65b6d,openstack/tenks,master,I19d3241e0db1c70394dbcb8ceaf875c5fcd65b6d,"Move ironic node updates to creation, wait until cleaning finishes",NEW,2023-05-18 10:08:19.000000000,2023-05-18 12:30:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 10:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/a64ca8e8f2a04462dbb85366249c69fa196d39cd', 'message': 'Move ironic node updates to creation, wait until cleaning finishes\n\nChange-Id: I19d3241e0db1c70394dbcb8ceaf875c5fcd65b6d\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/883369\n'}, {'number': 2, 'created': '2023-05-18 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/cccfc8be228ea22e76093f9bce6e05244a024294', 'message': 'Move ironic node updates to creation, wait until cleaning finishes\n\nChange-Id: I19d3241e0db1c70394dbcb8ceaf875c5fcd65b6d\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/883369\n'}, {'number': 3, 'created': '2023-05-18 11:33:08.000000000', 'files': ['ansible/roles/ironic-enrolment/tasks/node.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/c8940e8bf98bf8a4cd1ce5f2fe6952aaccba9c0d', 'message': 'Move ironic node updates to creation, wait until cleaning finishes\n\nChange-Id: I19d3241e0db1c70394dbcb8ceaf875c5fcd65b6d\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/883369\n'}]",0,883484,c8940e8bf98bf8a4cd1ce5f2fe6952aaccba9c0d,5,1,3,14826,,,0,"Move ironic node updates to creation, wait until cleaning finishes

Change-Id: I19d3241e0db1c70394dbcb8ceaf875c5fcd65b6d
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/883369
",git fetch https://review.opendev.org/openstack/tenks refs/changes/84/883484/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic-enrolment/tasks/node.yml'],1,a64ca8e8f2a04462dbb85366249c69fa196d39cd,," bios_interface: ""{{ node.bios_interface | default(omit) }}"" boot_interface: ""{{ node.boot_interface | default(omit) }}"" console_interface: ""{{ node.consle_interface | default(omit) }}"" deploy_interface: ""{{ node.deploy_interface | default(omit) }}"" inspect_interface: ""{{ node.inspect_interface | default(omit) }}"" management_interface: ""{{ node.management_interface | default(omit) }}"" network_interface: ""{{ node.network_interface | default(omit) }}"" power_interface: ""{{ node.power_interface | default(omit) }}"" properties: ""{{ properties }}"" raid_interface: ""{{ node.raid_interface | default(omit) }}"" rescue_interface: ""{{ node.rescue_interface | default(omit) }}"" resource_class: ""{{ node.ironic_config.resource_class }}"" storage_interface: ""{{ node.storage_interface | default(omit) }}"" vendor_interface: ""{{ node.vendor_interface | default(omit) }}"" properties: ""{{ default_properties | combine(custom_properties) }}"" custom_properties: ""{{ node.ironic_config.get('properties', {}) }}"" # Although properties are not required for scheduling, the os_ironic module # adds silly defaults that cause the validation API call to fail, # preventing deployment. We add them here because the os_ironic module # uses unusual names (cpus, ram, disk_size) for scheduling properties, # and doesn't support setting other properties. default_properties: cpus: ""{{ node.vcpus }}"" memory_mb: ""{{ node.memory_mb }}"" local_gb: ""{{ node.volumes[0].capacity | size_string_to_gb if node.volumes | length > 0 else 0 }}"" # Set the boot mode explicitly here, since we cannot rely on a stable # default in Ironic (it changed from legacy BIOS to UEFI in Yoga). # If the capabilities field is provided, the boot_mode should be set # explicitly. capabilities: ""boot_mode:{{ default_boot_mode }}"" # provision_state field only present when node has been created until: node_res.provision_state | default not in ['cleaning', 'clean wait'] retries: 60 delay: 5"," - name: Set additional Ironic node attributes command: >- '{{ ironic_virtualenv_path }}/bin/openstack' baremetal node set '{{ node_res.uuid }}' --resource-class {{ node.ironic_config.resource_class }} {% for iface in ironic_interfaces %} {% if (iface + '_interface') in node.ironic_config %} --{{ iface }}-interface {{ node.ironic_config[iface + '_interface'] }} {% endif %} {% endfor %} {% for key, val in properties.items() %} --property '{{ key }}={{ val }}' {% endfor %} vars: properties: ""{{ default_properties | combine(custom_properties) }}"" custom_properties: ""{{ node.ironic_config.get('properties', {}) }}"" # Although properties are not required for scheduling, the os_ironic module # adds silly defaults that cause the validation API call to fail, # preventing deployment. We add them here because the os_ironic module # uses unusual names (cpus, ram, disk_size) for scheduling properties, # and doesn't support setting other properties. default_properties: cpus: ""{{ node.vcpus }}"" memory_mb: ""{{ node.memory_mb }}"" local_gb: ""{{ node.volumes[0].capacity | size_string_to_gb if node.volumes | length > 0 else 0 }}"" # Set the boot mode explicitly here, since we cannot rely on a stable # default in Ironic (it changed from legacy BIOS to UEFI in Yoga). # If the capabilities field is provided, the boot_mode should be set # explicitly. capabilities: ""boot_mode:{{ default_boot_mode }}"" changed_when: true ",34,32
openstack%2Fmanila~master~I5e6513e7ca7b4a9d4d7261f873cbf3f5bf3c83ab,openstack/manila,master,I5e6513e7ca7b4a9d4d7261f873cbf3f5bf3c83ab,sqlalchemy: add generic repr to base model,MERGED,2023-04-19 08:20:52.000000000,2023-05-18 12:23:29.000000000,2023-05-18 12:22:18.000000000,"[{'_account_id': 7872}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-04-19 08:20:52.000000000', 'files': ['requirements.txt', 'manila/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e34e8f7fc337a03ada69bbaf0088a150f04e1d7a', 'message': ""sqlalchemy: add generic repr to base model\n\nInstead of\n`<manila.db.sqlalchemy.models.ShareServer object at 0x7f603645bf40>`\nwe now get\n```\nShareServer(created_at=datetime.datetime(2023, 4, 18, 15, 44, 43, 741302),\nupdated_at=datetime.datetime(2023, 4, 19, 10, 18, 59, 614018),\ndeleted_at=datetime.datetime(2023, 4, 19, 10, 18, 59, 613577),\nid='3363dcd4-fcdd-4cfa-b02d-5899fba3d413',\ndeleted='3363dcd4-fcdd-4cfa-b02d-5899fba3d413',\nshare_network_subnet_id='8d4365dc-0869-4896-8049-6455f84ad08f', ...)\n```\ne.g. in error messages of failed purges or in interactive shell sessions.\n\nChange-Id: I5e6513e7ca7b4a9d4d7261f873cbf3f5bf3c83ab\n""}]",3,880523,e34e8f7fc337a03ada69bbaf0088a150f04e1d7a,19,5,1,18816,,,0,"sqlalchemy: add generic repr to base model

Instead of
`<manila.db.sqlalchemy.models.ShareServer object at 0x7f603645bf40>`
we now get
```
ShareServer(created_at=datetime.datetime(2023, 4, 18, 15, 44, 43, 741302),
updated_at=datetime.datetime(2023, 4, 19, 10, 18, 59, 614018),
deleted_at=datetime.datetime(2023, 4, 19, 10, 18, 59, 613577),
id='3363dcd4-fcdd-4cfa-b02d-5899fba3d413',
deleted='3363dcd4-fcdd-4cfa-b02d-5899fba3d413',
share_network_subnet_id='8d4365dc-0869-4896-8049-6455f84ad08f', ...)
```
e.g. in error messages of failed purges or in interactive shell sessions.

Change-Id: I5e6513e7ca7b4a9d4d7261f873cbf3f5bf3c83ab
",git fetch https://review.opendev.org/openstack/manila refs/changes/23/880523/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'manila/db/sqlalchemy/models.py']",2,e34e8f7fc337a03ada69bbaf0088a150f04e1d7a,sqlalchemy_utils_repl,from sqlalchemy_utils import generic_repr@generic_repr,,3,0
openstack%2Fovn-octavia-provider~master~I388284968e27e0ad8ec7bb0a522aa2925b560146,openstack/ovn-octavia-provider,master,I388284968e27e0ad8ec7bb0a522aa2925b560146,Fix update member action,MERGED,2023-04-20 11:20:08.000000000,2023-05-18 12:15:36.000000000,2023-05-18 12:14:41.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-20 11:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c42492b8c220e4fa793cdca690e976e54ec3526e', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n'}, {'number': 2, 'created': '2023-04-20 11:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ac3fe18b1a2a8a00b373149bee07414c2c1d725d', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n'}, {'number': 3, 'created': '2023-05-10 09:37:30.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8beeeb9112f6c61758f844774bfe4c5d6e8c6a08', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n'}]",15,880945,8beeeb9112f6c61758f844774bfe4c5d6e8c6a08,36,3,3,34451,,,0,"Fix update member action

Upon receipt of a member update request, certain attribute checks
are done, which may result in an error and prevent the update from
being successfully completed.

As per [1], only the ""admin_state_up"" attribute holds significance
in enabling or disabling members on the ovn-provider side during
an update operation.

This patch remove other checks are deemed unnecessary.

[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member

Closes-Bug: 2017127
Change-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/45/880945/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",6,c42492b8c220e4fa793cdca690e976e54ec3526e,," self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) mock.call(self.ovn_lb, self.ovn_lb.external_ids), mock.call(udp_lb, udp_lb.external_ids)], self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_member_status') def test_member_update_exception(self, mock_find_member_status): mock_find_member_status.side_effect = [TypeError] ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) def test__frame_lb_vips_member_offline(self): self.ovn_lb.external_ids[ovn_const.OVN_MEMBER_STATUS_KEY] = \ '{""%s"": ""%s""}' % (self.member_id, constants.OFFLINE) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) expected = {} self.assertEqual(expected, ret) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids)"," self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.call(udp_lb.uuid, udp_lb.external_ids)], self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids)",96,152
openstack%2Fkolla~master~I00e188b13cecb4af6aee2a790b5bb23d3844a32f,openstack/kolla,master,I00e188b13cecb4af6aee2a790b5bb23d3844a32f,[DNM] test-pip,ABANDONED,2023-05-04 17:54:56.000000000,2023-05-18 12:11:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 17:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d4baa975053fc231de51e82b5b57b7a4b671c4b', 'message': '[DNM] test-pip\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I00e188b13cecb4af6aee2a790b5bb23d3844a32f\n'}, {'number': 2, 'created': '2023-05-04 17:56:37.000000000', 'files': ['.zuul.d/debian.yaml', 'tests/playbooks/pre.yml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/faed5c77706a5145cc47c8cb8e9993cea077ab4d', 'message': '[DNM] test-pip\n\nChange-Id: I00e188b13cecb4af6aee2a790b5bb23d3844a32f\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,882349,faed5c77706a5145cc47c8cb8e9993cea077ab4d,6,1,2,14200,,,0,"[DNM] test-pip

Change-Id: I00e188b13cecb4af6aee2a790b5bb23d3844a32f
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/882349/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', 'tests/playbooks/pre.yml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml']",7,1d4baa975053fc231de51e82b5b57b7a4b671c4b,test-pip,, - kolla-ansible-rocky9 - kolla-ansible-rocky9-upgrade check-arm64: jobs: - kolla-build-rocky9-aarch64 gate: jobs: - kolla-build-rocky9 - kolla-ansible-rocky9 - kolla-ansible-rocky9-upgrade periodic: jobs: - kolla-publish-rocky9-quay periodic-weekly: jobs: - kolla-publish-rocky9-dockerhub experimental: jobs: - kolla-build-no-infra-wheels-rocky9 # Test rabbitmq and mariadb in multinode ceph jobs. - kolla-ansible-rocky9-cephadm: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-rocky9-upgrade-cephadm: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-rocky9-zun: files: ^docker\/(base|cinder|etcd|iscsid|kuryr|openstack-base|zun)\/.* - kolla-ansible-rocky9-ironic: files: ^docker\/(base|dnsmasq|ironic|ironic-inspector|iscsid|openstack-base)\/.* - kolla-ansible-rocky9-swift: files: ^docker/(base|openstack-base|glance|swift)/ - kolla-ansible-rocky9-mariadb: files: ^docker/(base|mariadb)/ - kolla-ansible-rocky9-masakari: files: ^docker/(base|masakari|openstack-base)/ - kolla-ansible-rocky9-octavia: files: ^docker/(base|neutron|octavia|openstack-base|openvswitch|ovn)/ - kolla-ansible-rocky9-ovn: files: ^docker/(base|neutron|openstack-base|openvswitch|ovn)/ - kolla-ansible-rocky9-prometheus-opensearch: files: ^docker/(base|opensearch|fluentd|grafana|prometheus)/ - kolla-ansible-rocky9-kvm: files: ^docker/nova/ - job: name: kolla-build-rocky9-aarch64 parent: kolla-build-rocky9 nodeset: kolla-rockylinux-9-aarch64 voting: false - job: name: kolla-build-no-infra-wheels-rocky9 parent: kolla-build-no-infra-wheels-base nodeset: kolla-rockylinux-9 vars: base_distro: rocky base_distro_version: 9 - job: name: kolla-publish-rocky9-dockerhub parent: kolla-build-rocky9 post-run: tests/playbooks/publish.yml vars: publisher: true kolla_registry: dockerhub kolla_namespace: kolla secrets: - kolla_dockerhub_creds - job: name: kolla-publish-rocky9-quay parent: kolla-build-rocky9 post-run: tests/playbooks/publish.yml vars: publisher: true kolla_registry: quay.io kolla_namespace: openstack.kolla secrets: - kolla_quay_io_creds,11,274
openstack%2Fkolla~stable%2Fxena~I00e188b13cecb4af6aee2a790b5bb23d3844a32f,openstack/kolla,stable/xena,I00e188b13cecb4af6aee2a790b5bb23d3844a32f,[DNM] test-pip,ABANDONED,2023-05-04 18:50:25.000000000,2023-05-18 12:11:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 18:50:25.000000000', 'files': ['.zuul.d/debian.yaml', 'tests/playbooks/pre.yml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/57d180dcc3bd48b479146f9bc5ffef02a50e8c65', 'message': '[DNM] test-pip\n\nChange-Id: I00e188b13cecb4af6aee2a790b5bb23d3844a32f\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,882352,57d180dcc3bd48b479146f9bc5ffef02a50e8c65,3,1,1,14200,,,0,"[DNM] test-pip

Change-Id: I00e188b13cecb4af6aee2a790b5bb23d3844a32f
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/882352/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', 'tests/playbooks/pre.yml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/project.yaml', '.zuul.d/ubuntu.yaml']",6,57d180dcc3bd48b479146f9bc5ffef02a50e8c65,test-pip,, - kolla-build-ubuntu-binary - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-binary - kolla-ansible-ubuntu-source-upgrade check-arm64: jobs: - kolla-build-ubuntu-source-aarch64 gate: jobs: - kolla-build-ubuntu-source - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-source-upgrade periodic: jobs: - kolla-publish-ubuntu-source-quay - kolla-publish-ubuntu-binary-quay periodic-weekly: jobs: - kolla-publish-ubuntu-source-dockerhub - kolla-publish-ubuntu-binary-dockerhub experimental: jobs: - kolla-build-no-infra-wheels-ubuntu-source # Test rabbitmq and mariadb in multinode ceph jobs. - kolla-ansible-ubuntu-source-cephadm: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-ubuntu-source-upgrade-cephadm: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-ubuntu-source-zun: files: ^docker\/(base|cinder|etcd|iscsid|kuryr|openstack-base|zun)\/.* - kolla-ansible-ubuntu-source-ironic: files: ^docker\/(base|dnsmasq|ironic|ironic-inspector|iscsid|openstack-base)\/.* - kolla-ansible-ubuntu-source-swift: files: ^docker/(base|openstack-base|glance|swift)/ - kolla-ansible-ubuntu-source-mariadb: files: ^docker/(base|mariadb)/ - kolla-ansible-ubuntu-source-masakari: files: ^docker/(base|masakari|openstack-base)/ - kolla-ansible-ubuntu-source-linuxbridge: files: ^docker/(base|neutron|openstack-base)/ - kolla-ansible-ubuntu-source-octavia: files: ^docker/(base|neutron|octavia|openstack-base|openvswitch|ovn)/ - kolla-ansible-ubuntu-source-ovn: files: ^docker/(base|neutron|openstack-base|openvswitch|ovn)/ - kolla-ansible-ubuntu-source-prometheus-efk: files: ^docker/(base|elasticsearch|grafana|kibana|prometheus)/ - kolla-ansible-ubuntu-source-kvm: files: ^docker/nova/ - job: name: kolla-build-ubuntu-binary parent: kolla-base nodeset: kolla-ubuntu-focal voting: false vars: base_distro: ubuntu install_type: binary - job: name: kolla-publish-ubuntu-binary-dockerhub parent: kolla-build-ubuntu-binary post-run: tests/playbooks/publish.yml vars: publisher: true kolla_registry: dockerhub kolla_namespace: kolla secrets: - kolla_dockerhub_creds - job: name: kolla-publish-ubuntu-binary-quay parent: kolla-build-ubuntu-binary post-run: tests/playbooks/publish.yml vars: publisher: true kolla_registry: quay.io kolla_namespace: openstack.kolla secrets: - kolla_quay_io_creds - job: name: kolla-build-ubuntu-source-aarch64 parent: kolla-build-ubuntu-source nodeset: kolla-ubuntu-focal-aarch64 voting: false - job: name: kolla-publish-ubuntu-source-dockerhub parent: kolla-build-ubuntu-source post-run: tests/playbooks/publish.yml vars: publisher: true kolla_registry: dockerhub kolla_namespace: kolla secrets: - kolla_dockerhub_creds - job: name: kolla-publish-ubuntu-source-quay parent: kolla-build-ubuntu-source post-run: tests/playbooks/publish.yml vars: publisher: true kolla_registry: quay.io kolla_namespace: openstack.kolla secrets: - kolla_quay_io_creds - job: name: kolla-build-no-infra-wheels-ubuntu-source parent: kolla-build-no-infra-wheels-base nodeset: kolla-ubuntu-focal vars: base_distro: ubuntu install_type: source,11,357
openstack%2Fkolla~master~I1c5af7cd496803dcabed2fe14a20be00c61e54e6,openstack/kolla,master,I1c5af7cd496803dcabed2fe14a20be00c61e54e6,prometheus: update ovn-exporter version to 1.0.6,MERGED,2023-02-19 23:07:04.000000000,2023-05-18 12:04:36.000000000,2023-05-18 12:03:35.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-02-19 23:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/893db86f47acf4294b24d6f135461cc7f3fb12b2', 'message': 'Update ovn-exporter version to 1.0.6\n\nChange-Id: I1c5af7cd496803dcabed2fe14a20be00c61e54e6\n'}, {'number': 2, 'created': '2023-02-20 23:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aeb9f78c710ab86e7a2d9e7ae4eefbdb6e18078e', 'message': 'Update ovn-exporter version to 1.0.6\n\nChange-Id: I1c5af7cd496803dcabed2fe14a20be00c61e54e6\n'}, {'number': 3, 'created': '2023-02-21 01:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b7b7b8ad014239628e67f4ea0aed07d7fc8e0ae', 'message': 'Update ovn-exporter version to 1.0.6\n\nChange-Id: I1c5af7cd496803dcabed2fe14a20be00c61e54e6\n'}, {'number': 4, 'created': '2023-02-21 14:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/319924c22eecac7242dcd2a46c98fa201cb3c498', 'message': 'prometheus: update ovn-exporter version to 1.0.6\n\nChange-Id: I1c5af7cd496803dcabed2fe14a20be00c61e54e6\n'}, {'number': 5, 'created': '2023-02-21 14:17:34.000000000', 'files': ['releasenotes/notes/update-ovn-exporter-ab80a3e88e617bdd.yaml', 'docker/prometheus/prometheus-ovn-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e4418445642b091f27feb2d8849a95605cc56b7', 'message': 'prometheus: update ovn-exporter version to 1.0.6\n\nChange-Id: I1c5af7cd496803dcabed2fe14a20be00c61e54e6\n'}]",1,874355,9e4418445642b091f27feb2d8849a95605cc56b7,24,7,5,29268,,,0,"prometheus: update ovn-exporter version to 1.0.6

Change-Id: I1c5af7cd496803dcabed2fe14a20be00c61e54e6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/874355/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/update-ovn-exporter-ab80a3e88e617bdd.yaml', 'docker/prometheus/prometheus-ovn-exporter/Dockerfile.j2']",2,893db86f47acf4294b24d6f135461cc7f3fb12b2,ovn_exporter,ARG prometheus_ovn_version=1.0.6,ARG prometheus_ovn_version=1.0.4,5,1
openstack%2Fcharm-cinder~stable%2F2023.1~Ib273f50d620160f62cbb3d6f5789bf334a7d6333,openstack/charm-cinder,stable/2023.1,Ib273f50d620160f62cbb3d6f5789bf334a7d6333,Sync with charm-helpers,ABANDONED,2023-05-18 11:58:30.000000000,2023-05-18 12:00:14.000000000,,[],"[{'number': 1, 'created': '2023-05-18 11:58:30.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/665f5d0beb01b0810cc2a54ffe8d97f2c95d8d7b', 'message': 'Sync with charm-helpers\n\nThis sync includes this patch to charm helpers:\n\nhttps://github.com/juju/charm-helpers/pull/757\n\nwhich is an extension of this one:\n\nhttps://github.com/juju/charm-helpers/pull/740\n\nand both are meant to include templates to configure service tokens\nin juju charms as shown in this lp bug:\n\nRelated-Bug: #1992840\nChange-Id: Ib273f50d620160f62cbb3d6f5789bf334a7d6333\n(cherry picked from commit 739aed0a14ed842bd8d83f3aaa8654ceeedcc780)\n'}]",0,883405,665f5d0beb01b0810cc2a54ffe8d97f2c95d8d7b,2,0,1,11805,,,0,"Sync with charm-helpers

This sync includes this patch to charm helpers:

https://github.com/juju/charm-helpers/pull/757

which is an extension of this one:

https://github.com/juju/charm-helpers/pull/740

and both are meant to include templates to configure service tokens
in juju charms as shown in this lp bug:

Related-Bug: #1992840
Change-Id: Ib273f50d620160f62cbb3d6f5789bf334a7d6333
(cherry picked from commit 739aed0a14ed842bd8d83f3aaa8654ceeedcc780)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/05/883405/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka']",2,665f5d0beb01b0810cc2a54ffe8d97f2c95d8d7b,charm-helpers-sync-stable/2023.1,service_token_roles = {{ admin_role }} service_token_roles_required = True,,5,1
openstack%2Fpython-openstackclient~master~Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80,openstack/python-openstackclient,master,Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80,Dropping the use of 'addFixedIp' server action,MERGED,2023-03-24 09:56:23.000000000,2023-05-18 11:54:08.000000000,2023-05-18 11:52:56.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-03-24 09:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d3db0d8e25a34feb3e4946e06c598ba112cd4834', 'message': 'Change microversion check to 2.42\n\nChange supports_microversion check to\nthe minimum version of 2.42 to add back\ncompatibility with older microversions.\n\nAdds back support for using the\n--fixed-ip-address argument.\n\nChange-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80\n'}, {'number': 2, 'created': '2023-03-28 08:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6049778d3042beda4997d8d58061b8efe249820d', 'message': ""Dropping the use of 'addFixedIp' server action\n\nDropping the use of 'AddFixedIp' server action\nentirely in favour of creating an interface\nwith a fixed IP using the 'os-interface' API.\nThe reason for doing this is because this\nmechanism allows us to request an explicit\nfixed IP.\n\nAdds back support for using the\n--fixed-ip-address argument for users who\nuse older nova-api versions.\n\nChange-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80\n""}, {'number': 3, 'created': '2023-03-28 11:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/215ed20f63f1daae0a386bff5dfaa6b3c9abe316', 'message': ""Dropping the use of 'addFixedIp' server action\n\nDropping the use of 'AddFixedIp' server action\nentirely in favour of creating an interface\nwith a fixed IP using the 'os-interface' API.\nThe reason for doing this is because this\nmechanism allows us to request an explicit\nfixed IP.\n\nAdds back support for using the\n--fixed-ip-address argument for users who\nuse older nova-api versions.\n\nChange-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80\n""}, {'number': 4, 'created': '2023-03-29 15:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4fdccd80989ab3bd7ca96594d40ccb732fd713cc', 'message': ""Dropping the use of 'addFixedIp' server action\n\nDropping the use of 'AddFixedIp' server action\nentirely in favour of creating an interface\nwith a fixed IP using the 'os-interface' API.\nThe reason for doing this is because this\nmechanism allows us to request an explicit\nfixed IP.\n\nAdds back support for using the\n--fixed-ip-address argument for users who\nuse older nova-api versions.\n\nChange-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80\n""}, {'number': 5, 'created': '2023-03-29 18:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a779ba12253b372eaf2dfeda2a280399f3c8d72d', 'message': ""Dropping the use of 'addFixedIp' server action\n\nDropping the use of 'AddFixedIp' server action\nentirely in favour of creating an interface\nwith a fixed IP using the 'os-interface' API.\nThe reason for doing this is because this\nmechanism allows us to request an explicit\nfixed IP.\n\nAdds back support for using the\n--fixed-ip-address argument for users who\nuse older nova-api versions.\n\nChange-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80\n""}, {'number': 6, 'created': '2023-05-17 16:47:16.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e91844dd0e3e4c70e8f33e3b53574bfc6d176d1f', 'message': ""Dropping the use of 'addFixedIp' server action\n\nDropping the use of 'AddFixedIp' server action entirely in favour of\ncreating an interface with a fixed IP using the 'os-interface' API. The\nreason for doing this is because this mechanism allows us to request an\nexplicit fixed IP.\n\nAdds back support for using the --fixed-ip-address argument for users\nwho use older nova-api versions.\n\nChange-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80\n""}]",10,878520,e91844dd0e3e4c70e8f33e3b53574bfc6d176d1f,26,3,6,34401,,,0,"Dropping the use of 'addFixedIp' server action

Dropping the use of 'AddFixedIp' server action entirely in favour of
creating an interface with a fixed IP using the 'os-interface' API. The
reason for doing this is because this mechanism allows us to request an
explicit fixed IP.

Adds back support for using the --fixed-ip-address argument for users
who use older nova-api versions.

Change-Id: Ieac4b0fbcb38fe7207eaaa6a79e0c6770ee11d80
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/878520/6 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,d3db0d8e25a34feb3e4946e06c598ba112cd4834,fixed-ip-address-version-change," if not sdk_utils.supports_microversion(compute_client, '2.42'):"," if not sdk_utils.supports_microversion(compute_client, '2.44'):",1,1
openstack%2Fswift~master~I4d4f20b92b85255ac8bf66f2c830e691e64bbe47,openstack/swift,master,I4d4f20b92b85255ac8bf66f2c830e691e64bbe47,Memcached: emit memcache timing metrics when exceptions raised,MERGED,2023-04-17 18:13:42.000000000,2023-05-18 11:54:05.000000000,2023-05-18 11:52:53.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2023-04-17 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4db3bd29d04ef7bc7726a464872b8a60f9999417', 'message': 'WIP: memcached: emit timing metrics when exceptions raised\n\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 2, 'created': '2023-04-18 16:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8c72d27fb047f85ed08b78db705a3a0c720b2011', 'message': 'WIP: memcached: emit timing metrics when exceptions raised\n\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 3, 'created': '2023-04-20 05:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ddbfb99fd0cb1fc8b046859df1c0f78c066aee4a', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Jianjian Huo <jhuo@nvidia.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 4, 'created': '2023-04-20 05:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77262dec3ee9b66ab7735c22353b6f273e498fc4', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Jianjian Huo <jhuo@nvidia.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 5, 'created': '2023-04-21 05:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d530786159171928bda72f5eaf09953858b29a92', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Jianjian Huo <jhuo@nvidia.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 6, 'created': '2023-04-22 23:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42d7b35f91c7e45d684e02680938c95ae7f5e6a5', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Jianjian Huo <jhuo@nvidia.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 7, 'created': '2023-04-25 05:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0801bef3db667b4e12054aaf803d7ea83a583b4a', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Jianjian Huo <jhuo@nvidia.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 8, 'created': '2023-04-26 01:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf1b03297f28b4c457e8d60a6847313ee6552c5a', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 9, 'created': '2023-04-26 03:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bdcd5e53618610141dca2e4d6691d5544d2386f1', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 10, 'created': '2023-04-27 05:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4fe4b3c0dabf1477f8d267ff5736d2c4dde499bd', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 11, 'created': '2023-04-27 11:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0b6dd8da887d23504ada332aca63f77813b63103', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 12, 'created': '2023-05-01 21:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d19482b9c25ee3f4a8399210273740f884b2ce6', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 13, 'created': '2023-05-10 20:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/06fec1d2822f17d41efce0f14dc23a37909af0a9', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nBelow new metrics will be added:\nmemcached.[method].timeout.timing\nmemcached.[method].conn_err.timing\nmemcached.[method].errors.timing\n\nAlso, MemcacheRing method and time spent in the function will\nbe logged when Timeout or other exceptions are raised.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}, {'number': 14, 'created': '2023-05-10 20:28:11.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7b4642567ae2c35dd0e8d07ea628a80d04ccc820', 'message': 'Memcached: emit memcache timing metrics when exceptions raised\n\nBelow new metrics will be added:\nmemcached.[method].timeout.timing\nmemcached.[method].conn_err.timing\nmemcached.[method].errors.timing\n\nAlso, MemcacheRing method and time spent in the function will\nbe logged when Timeout or other exceptions are raised.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}]",66,880676,7b4642567ae2c35dd0e8d07ea628a80d04ccc820,64,3,14,7847,,,0,"Memcached: emit memcache timing metrics when exceptions raised

Below new metrics will be added:
memcached.[method].timeout.timing
memcached.[method].conn_err.timing
memcached.[method].errors.timing

Also, MemcacheRing method and time spent in the function will
be logged when Timeout or other exceptions are raised.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/880676/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils/__init__.py', 'test/unit/common/test_memcached.py']",2,4db3bd29d04ef7bc7726a464872b8a60f9999417,p-memcache-error-timing," def test_operations_timing_stats_with_exceptions(self): memcache_client = memcached.MemcacheRing(['1.2.3.4:11211'], logger=self.logger) mock_memcache = MockMemcached() def handle_add(key, flags, exptime, num_bytes, noreply=b''): raise Exception('add failed') memcache_client._client_cache[ '1.2.3.4:11211'] = MockedMemcachePool( [(mock_memcache, mock_memcache)] * 2) with patch('time.time', ) as mock_time: with mock.patch.object(mock_memcache, 'handle_add', handle_add): mock_time.return_value = 4000.99 with self.assertRaises(MemcacheConnectionError): memcache_client.incr('incr_key', delta=5) self.assertTrue(self.logger.log_dict['timing_since']) last_stats = self.logger.log_dict['timing_since'][-1] self.assertEqual('memcached.incr.errors.timing', last_stats[0][0]) self.assertEqual(last_stats[0][1], 4000.99) ",,36,3
openstack%2Fneutron~stable%2F2023.1~I628591da75c1cc367076f5a3051ca3c1e131d216,openstack/neutron,stable/2023.1,I628591da75c1cc367076f5a3051ca3c1e131d216,[stable-only][ovn] Fix ovsdbapp db_set command for stable branches,MERGED,2023-05-14 23:31:32.000000000,2023-05-18 11:53:59.000000000,2023-05-18 11:52:50.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-14 23:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c27f9e18855fd5d9215deb64f3aed827cce9b82', 'message': '[ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 2, 'created': '2023-05-15 14:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88fe59392fff1904dee93d389a11857061ec8c08', 'message': '[ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be an atomic operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 3, 'created': '2023-05-16 15:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40efab1114166482afbaf69420256bf31545d008', 'message': '[ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 4, 'created': '2023-05-16 16:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44b6a92bf2b9cf3de79a3e66c1c7ce1368e3fec5', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 5, 'created': '2023-05-17 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf3d8fdecc9952be6045c3e51f16bc40908bc773', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}, {'number': 6, 'created': '2023-05-17 16:59:29.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2', 'message': '[stable-only][ovn] Fix ovsdbapp db_set command for stable branches\n\nThe lack of an if_exists on the db_set function in ovsdbapp causes the\nnetwork log object deletion to not be a asynchronous operation on the\nML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since\nthat is an API change[0] it will not be backported to older branches,\nso this patch overrides the function. This way we avoid the\npossibility of getting errors when concurrently making operations\nwith security groups and network log objects.\n\nCloses-bug: #2019887\n\n[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687\n\nChange-Id: I628591da75c1cc367076f5a3051ca3c1e131d216\n'}]",15,883102,551ba73aa49c070f95ba3fd6461ab85c5f2c7bd2,33,5,6,32586,,,0,"[stable-only][ovn] Fix ovsdbapp db_set command for stable branches

The lack of an if_exists on the db_set function in ovsdbapp causes the
network log object deletion to not be a asynchronous operation on the
ML2/OVN plugin. The if_exists was recently added to ovsdbapp, but since
that is an API change[0] it will not be backported to older branches,
so this patch overrides the function. This way we avoid the
possibility of getting errors when concurrently making operations
with security groups and network log objects.

Closes-bug: #2019887

[0] https://review.opendev.org/c/openstack/ovsdbapp/+/880687

Change-Id: I628591da75c1cc367076f5a3051ca3c1e131d216
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/883102/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",2,6c27f9e18855fd5d9215deb64f3aed827cce9b82,,"import collections from collections import abc class DbSetCommand(command.BaseCommand): def __init__(self, api, table, record, *col_values, if_exists=False, **columns): super().__init__(api) self.table = table self.record = record self.col_values = col_values or columns.items() self.if_exists = if_exists def run_idl(self, txn): try: record = self.api.lookup(self.table, self.record) except idlutils.RowNotFound: if self.if_exists: return raise for col, val in self.col_values: if isinstance(val, abc.Mapping): if isinstance(val, collections.OrderedDict): val = dict(val) existing = getattr(record, col, {}) existing.update(val) val = existing # Since we are updating certain keys and leaving existing keys # but rewriting the whole external_ids column, we must verify() record.verify(col) # For non-map columns, we unconditionally overwrite the values that # exist, so prior state doesn't matter and we don't need verify() self.set_column(record, col, val)",,38,0
openstack%2Fnova~master~I0011628b9e4e2a1f69330e570f9bd661369cab24,openstack/nova,master,I0011628b9e4e2a1f69330e570f9bd661369cab24,Fix PCI passthrough race on reschedule (claims),ABANDONED,2020-03-02 17:58:31.000000000,2023-05-18 11:42:34.000000000,,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14826}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-02 17:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c6ab999c57e795686b2f565647c0c87e724f7c0', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by keeping a reference to the original instance\nobject in the Claim object, and using this during the claim's abort.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 2, 'created': '2020-10-12 15:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5063bbcd623c663b224f224b9bcdc51456740f55', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by keeping a reference to the original instance\nobject in the Claim object, and using this during the claim's abort.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 3, 'created': '2020-10-14 16:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/240acc1b7636582f99673c3de055e7eb0fdaf9bf', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 4, 'created': '2021-01-21 10:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db0787d42056b0745ced58b8bdd4f561a9c086b8', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 5, 'created': '2021-12-11 21:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa8df3cf22370d0f1f71cde78d780c5641dc8438', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 6, 'created': '2021-12-11 21:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a373a1abaac4a60d5bccd0f3f904cd86b0ce340f', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 7, 'created': '2021-12-12 03:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e604101beff1f72d76b27c862eddf8e4e29b9b9', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 8, 'created': '2021-12-12 14:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249ca3bc7903a79ef8d98f2e360cc71aab1916e1', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}, {'number': 9, 'created': '2022-11-17 10:43:59.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'releasenotes/notes/bug-1860555-fdeb619511887fc1.yaml', 'nova/tests/unit/pci/test_manager.py', 'nova/compute/claims.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83376579f09c169c22b7ea93676919250b72c3a7', 'message': ""Fix PCI passthrough race on reschedule (claims)\n\nIf an instance with PCI passthrough devices is rescheduled (e.g. due to\naffinity violation), the instance can end up with extra PCI devices attached.\nIf the devices selected on the original and subsequent compute nodes have the\nsame address, the instance will fail to create, with the following error:\n\nlibvirtError: internal error: Device 0000:89:00.0 is already in use\n\nHowever, if the devices are different, and all available on the first and\nsecond compute nodes, the VM may end up with additional hostdevs.\n\nOn investigation, when the node is rescheduled, the instance object passed to\nthe conductor RPC API contains the PCI devices that should have been freed.\nThis is because the claim object holds a clone of the instance that is used to\nperform the abort on failure, and the PCI devices removed from its list are not\nreflected in the original object. There is a secondary issue that the PCI\nmanager was not passing through the instance to the PCI object's free() method\nin all cases, resulting in the PCI device not being removed from the\ninstance.pci_devices list.\n\nThis change fixes the issue by using a reference to the original instance\nobject in the Claim object, rather than a clone. The PCI devices are\nthen removed from the original object if the claim is aborted.\n\nA few small changes were also required to the PCI manager\nto pass through an instance object to the free() method of the\nPCI device object, ensuring that the PCI device is removed from the\nlist.\n\nFinally, the PCI device object's free method now allows for the case\nwhere an allocated PCI device is not present in the instance's PCI\ndevice list. This should ideally not happen, but we should handle the\ncase cleanly when it does.\n\nChange-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24\nCloses-Bug: #1860555\n""}]",24,710847,83376579f09c169c22b7ea93676919250b72c3a7,78,17,9,14826,,,0,"Fix PCI passthrough race on reschedule (claims)

If an instance with PCI passthrough devices is rescheduled (e.g. due to
affinity violation), the instance can end up with extra PCI devices attached.
If the devices selected on the original and subsequent compute nodes have the
same address, the instance will fail to create, with the following error:

libvirtError: internal error: Device 0000:89:00.0 is already in use

However, if the devices are different, and all available on the first and
second compute nodes, the VM may end up with additional hostdevs.

On investigation, when the node is rescheduled, the instance object passed to
the conductor RPC API contains the PCI devices that should have been freed.
This is because the claim object holds a clone of the instance that is used to
perform the abort on failure, and the PCI devices removed from its list are not
reflected in the original object. There is a secondary issue that the PCI
manager was not passing through the instance to the PCI object's free() method
in all cases, resulting in the PCI device not being removed from the
instance.pci_devices list.

This change fixes the issue by using a reference to the original instance
object in the Claim object, rather than a clone. The PCI devices are
then removed from the original object if the claim is aborted.

A few small changes were also required to the PCI manager
to pass through an instance object to the free() method of the
PCI device object, ensuring that the PCI device is removed from the
list.

Finally, the PCI device object's free method now allows for the case
where an allocated PCI device is not present in the instance's PCI
device list. This should ideally not happen, but we should handle the
case cleanly when it does.

Change-Id: I0011628b9e4e2a1f69330e570f9bd661369cab24
Closes-Bug: #1860555
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/710847/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/compute/claims.py']",3,6c6ab999c57e795686b2f565647c0c87e724f7c0,bug/1860555," # NOTE(mgoddard) Also keep a copy of the original instance object to # use if the claim is aborted. Using the original object ensures that # changes such as PCI device deallocation are reflected in the object # seen by the caller. self.instance_orig = instance LOG.debug(""Aborting claim: %s"", self, instance=self.instance_orig) self.tracker.abort_instance_claim(self.context, self.instance_orig, LOG.debug(""Aborting claim: %s"", self, instance=self.instance_orig) self.instance_orig, self.nodename, self.instance_orig.drop_migration_context()"," LOG.debug(""Aborting claim: %s"", self, instance=self.instance) self.tracker.abort_instance_claim(self.context, self.instance, LOG.debug(""Aborting claim: %s"", self, instance=self.instance) self.instance, self.nodename, self.instance.drop_migration_context()",20,14
openstack%2Frequirements~master~I617e3b73d93792ce23a3c2427db45764dac85498,openstack/requirements,master,I617e3b73d93792ce23a3c2427db45764dac85498,Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1,MERGED,2021-02-03 00:35:53.000000000,2023-05-18 10:58:30.000000000,2021-02-09 18:20:06.000000000,"[{'_account_id': 1736}, {'_account_id': 6413}, {'_account_id': 8648}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-03 00:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4d90ebe26bd0b03683c4b1f2c503dde86e912ad3', 'message': 'DNM: test horizon integration tests with the previous jquery-migrate\n\nhorizon integration test started to fail since Jan 28.\nxstatic-jquery-migrate in u-c was updated at Jan 28 and\nit was just before the test failure started.\nI wonder xstatic-jquery-migrate upgrade triggers the horizon\nintegration test failure.\nThis is to verify what happens in the horizon integration tests\nwith the previous version of xstatic-jquery-migrate.\n\nChange-Id: I617e3b73d93792ce23a3c2427db45764dac85498\n'}, {'number': 2, 'created': '2021-02-04 09:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1fa3d8e265d984e64c05d6f53bceb50c81823605', 'message': ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1\n\nThis patch revert I601a59260daeb925fbd23e8c4e006df733ec6528 commit.\nAfter updating XStatic-JQuery-Migrate to 3.3.2.1 horizon integration tests\nstart failing. As discussed in yesterday's horizon weekly meeting[1]\nhorizon team decided to use the older version of xstatic-jquery-migrate\nuntil we fixed the integration tests with the new xstatic-jquery-migrate\nversion.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-02-03.log.html#t2021-02-03T15:43:44\n\nChange-Id: I617e3b73d93792ce23a3c2427db45764dac85498\n""}, {'number': 3, 'created': '2021-02-05 17:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2abe4769ee2e6322a0cdf4cbc3334a2ccb1c41a1', 'message': ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1\n\nThis patch revert I601a59260daeb925fbd23e8c4e006df733ec6528 commit.\nAfter updating XStatic-JQuery-Migrate to 3.3.2.1 horizon integration\ntests start failing. As discussed in yesterday's horizon weekly\nmeeting[1] horizon team decided to use the older version of\nxstatic-jquery-migrate until we fixed the integration tests with the\nnew xstatic-jquery-migrate version.\n\nIt also raise cap on XStatic-JQuery-Migrate version.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-02-03.log.html#t2021-02-03T15:43:44\n\nChange-Id: I617e3b73d93792ce23a3c2427db45764dac85498\n""}, {'number': 4, 'created': '2021-02-05 19:58:46.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dff4253a1f87d734117835aa0b17a2026f5ad9f2', 'message': ""Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1\n\nThis patch revert I601a59260daeb925fbd23e8c4e006df733ec6528 commit.\nAfter updating XStatic-JQuery-Migrate to 3.3.2.1 horizon integration\ntests start failing. As discussed in yesterday's horizon weekly\nmeeting[1] horizon team decided to use the older version of\nxstatic-jquery-migrate until we fixed the integration tests with the\nnew xstatic-jquery-migrate version.\n\nIt also raise cap on XStatic-JQuery-Migrate version.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-02-03.log.html#t2021-02-03T15:43:44\n\nChange-Id: I617e3b73d93792ce23a3c2427db45764dac85498\n""}]",4,773823,dff4253a1f87d734117835aa0b17a2026f5ad9f2,26,8,4,841,,,0,"Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1

This patch revert I601a59260daeb925fbd23e8c4e006df733ec6528 commit.
After updating XStatic-JQuery-Migrate to 3.3.2.1 horizon integration
tests start failing. As discussed in yesterday's horizon weekly
meeting[1] horizon team decided to use the older version of
xstatic-jquery-migrate until we fixed the integration tests with the
new xstatic-jquery-migrate version.

It also raise cap on XStatic-JQuery-Migrate version.

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-02-03.log.html#t2021-02-03T15:43:44

Change-Id: I617e3b73d93792ce23a3c2427db45764dac85498
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/773823/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,4d90ebe26bd0b03683c4b1f2c503dde86e912ad3,block-jquery-migrate-3,XStatic-JQuery-Migrate===1.2.1.2,XStatic-JQuery-Migrate===3.3.2.1,2,2
openstack%2Fkolla~master~I5ec0fbfdaf18cf53a6b5bf91236d3e040daa9d7e,openstack/kolla,master,I5ec0fbfdaf18cf53a6b5bf91236d3e040daa9d7e,Fix docker version check after docker-py>=6.0.0,MERGED,2023-05-04 17:00:43.000000000,2023-05-18 10:49:01.000000000,2023-05-18 10:47:07.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-04 17:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d3060ae13f8e251e5f17478679aba0e254699933', 'message': ""Fix docker version check after docker-py>=6.0.0\n\ndocker-py reworked their version function and now it does not\nreturn a string [1].\n\nExample:\n>>> import docker\n>>> docker.version\n<module 'docker.version' from '/home/cloud-user/kolla-venv/lib64/python3.9/site-packages/docker/version.py'>\n\n[1]: https://github.com/docker/docker-py/commit/cd2c35a9b699522b282cc4f024efa5699df24896\n\nChange-Id: I5ec0fbfdaf18cf53a6b5bf91236d3e040daa9d7e\n""}, {'number': 2, 'created': '2023-05-05 06:20:28.000000000', 'files': ['kolla/image/build.py', 'kolla/engine_adapter/engine.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/050e26ed89b307a2037f118e314d0a44249a0f89', 'message': ""Fix docker version check after docker-py>=6.0.0\n\ndocker-py reworked their version function and now it does not\nreturn a string [1].\n\nExample:\n>>> import docker\n>>> docker.version\n<module 'docker.version' from '/home/cloud-user/kolla-venv/lib64/python3.9/site-packages/docker/version.py'>\n\n[1]: https://github.com/docker/docker-py/commit/cd2c35a9b699522b282cc4f024efa5699df24896\n\nCloses-Bug: #2018559\n\nChange-Id: I5ec0fbfdaf18cf53a6b5bf91236d3e040daa9d7e\n""}]",3,882343,050e26ed89b307a2037f118e314d0a44249a0f89,22,6,2,22629,,,0,"Fix docker version check after docker-py>=6.0.0

docker-py reworked their version function and now it does not
return a string [1].

Example:
>>> import docker
>>> docker.version
<module 'docker.version' from '/home/cloud-user/kolla-venv/lib64/python3.9/site-packages/docker/version.py'>

[1]: https://github.com/docker/docker-py/commit/cd2c35a9b699522b282cc4f024efa5699df24896

Closes-Bug: #2018559

Change-Id: I5ec0fbfdaf18cf53a6b5bf91236d3e040daa9d7e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/882343/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,d3060ae13f8e251e5f17478679aba0e254699933,,from distutils.version import StrictVersion StrictVersion(docker.version), docker.version,2,1
openstack%2Fkolla~master~I03b8ed63687ed854a50d521043b04deaf76f7067,openstack/kolla,master,I03b8ed63687ed854a50d521043b04deaf76f7067,"Revert ""toolbox: pin ansible.posix to <1.5.4""",MERGED,2023-05-17 11:55:01.000000000,2023-05-18 10:48:11.000000000,2023-05-18 10:47:05.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-17 11:55:01.000000000', 'files': ['docker/kolla-toolbox/requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a15e26ed8cc7af90a4866440df038cc537dbfb88', 'message': 'Revert ""toolbox: pin ansible.posix to <1.5.4""\n\nThis reverts commit d965b1b3da9b8c2780a91781834a46f5886bd9c2.\n\nReason for revert: Not required in master?\n\nChange-Id: I03b8ed63687ed854a50d521043b04deaf76f7067\n'}]",4,883127,a15e26ed8cc7af90a4866440df038cc537dbfb88,15,6,1,22629,,,0,"Revert ""toolbox: pin ansible.posix to <1.5.4""

This reverts commit d965b1b3da9b8c2780a91781834a46f5886bd9c2.

Reason for revert: Not required in master?

Change-Id: I03b8ed63687ed854a50d521043b04deaf76f7067
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/883127/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/requirements.yml'],1,a15e26ed8cc7af90a4866440df038cc537dbfb88,, version: '<2', version: '<1.5.4',1,1
openstack%2Fopenstack-ansible~master~I7215b9c43ccd539f117787a510078368ba7034cf,openstack/openstack-ansible,master,I7215b9c43ccd539f117787a510078368ba7034cf,Populate scenario properly in CI for N-2 upgrade job,MERGED,2023-05-17 14:22:15.000000000,2023-05-18 10:33:27.000000000,2023-05-18 10:30:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-17 14:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eaf532a90a24fe60edb19cb68296fff0f34a9e15', 'message': 'Populate scenario properly in CI for N-2 upgrade job\n\nAfter adding upgrade_yoga job, I have missed to adjust regexp to parse\nSCENARIO properly. Due to that, infra jobs were attempting to\nrun aio_lxc upgrade job rather then just infra.\n\nChange-Id: I7215b9c43ccd539f117787a510078368ba7034cf\n'}, {'number': 2, 'created': '2023-05-17 14:22:53.000000000', 'files': ['zuul.d/playbooks/pre-gate-scenario.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0e92e00777759348f710433b9c85e7d87289798e', 'message': 'Populate scenario properly in CI for N-2 upgrade job\n\nAfter adding upgrade_yoga job, I have missed to adjust regexp to parse\nSCENARIO properly. Due to that, infra jobs were attempting to\nrun aio_lxc upgrade job rather then just infra.\n\nChange-Id: I7215b9c43ccd539f117787a510078368ba7034cf\n'}]",2,883377,0e92e00777759348f710433b9c85e7d87289798e,13,4,2,28619,,,0,"Populate scenario properly in CI for N-2 upgrade job

After adding upgrade_yoga job, I have missed to adjust regexp to parse
SCENARIO properly. Due to that, infra jobs were attempting to
run aio_lxc upgrade job rather then just infra.

Change-Id: I7215b9c43ccd539f117787a510078368ba7034cf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/883377/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-gate-scenario.yml'],1,eaf532a90a24fe60edb19cb68296fff0f34a9e15,," {% if zuul.job is match('^openstack-ansible-(deploy|upgrade_?[a-z,0-9,.,_]*)-([^-]+)-.*$') %} regex_replace('^openstack-ansible-[a-z,0-9,.,_]*-([^-]+)-.*$', '\\1')).split('_')"," {% if zuul.job is match('^openstack-ansible-(deploy|upgrade)-([^-]+)-.*$') %} regex_replace('^openstack-ansible-[a-z]*-([^-]+)-.*$', '\\1')).split('_')",2,2
openstack%2Fopenstack-ansible-os_magnum~master~I2327ed957133ad0a918fb1d2e215952b4184c61f,openstack/openstack-ansible-os_magnum,master,I2327ed957133ad0a918fb1d2e215952b4184c61f,Ensure service is restarted on unit file changes,MERGED,2023-04-10 14:17:41.000000000,2023-05-18 10:31:47.000000000,2023-05-18 10:30:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-04-10 14:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/8341ee404595cea3349467399b2257b824538f8a', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}, {'number': 2, 'created': '2023-04-12 07:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/911bd9e987632b75a80f5b1b1f3681644d0a8235', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}, {'number': 3, 'created': '2023-04-12 17:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2f4fc0bb4e689ba724e991de81a0dd791e545461', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}, {'number': 4, 'created': '2023-04-20 21:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/e067096464d2689d3680feae19d36752febd674c', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}, {'number': 5, 'created': '2023-05-03 12:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/e4fc17a96166004189e4f3763794b48b918b3161', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}, {'number': 6, 'created': '2023-05-16 15:04:29.000000000', 'files': ['handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2b6859ee2a69f50962c9fe98c6b941c94d90c4bf', 'message': ""Ensure service is restarted on unit file changes\n\nAt the moment we don't restart services if systemd unit file is changed.\n\nWe knowingly prevent systemd_service role handlers to execute\nby providing `state: started` as otherwise service will be restarted twice.\nWith that now  we ensure that role handlers will also listen for systemd\nunit changes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047\nChange-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f\n""}]",3,879970,2b6859ee2a69f50962c9fe98c6b941c94d90c4bf,24,3,6,28619,,,0,"Ensure service is restarted on unit file changes

At the moment we don't restart services if systemd unit file is changed.

We knowingly prevent systemd_service role handlers to execute
by providing `state: started` as otherwise service will be restarted twice.
With that now  we ensure that role handlers will also listen for systemd
unit changes.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047
Change-Id: I2327ed957133ad0a918fb1d2e215952b4184c61f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/70/879970/2 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'vars/main.yml']",2,8341ee404595cea3349467399b2257b824538f8a,osa/systemd_restart_on_unit_change," 'enabled': value['enabled'] | default(True), 'state': value['state'] | default('started'),"," 'enabled': 'yes', 'state': 'started',",3,2
openstack%2Ftenks~master~I93cc6793cf23fd21462cec6a4deb2ea35d36da21,openstack/tenks,master,I93cc6793cf23fd21462cec6a4deb2ea35d36da21,Add retries for get_url and package tasks,MERGED,2023-04-18 14:59:14.000000000,2023-05-18 10:25:08.000000000,2023-05-18 10:24:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 14:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/9f37c136e2c1e8c9b0c0d3b5d3b8234a43619eab', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}, {'number': 2, 'created': '2023-04-19 15:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/6711445b53ce90fedb270900c9835bf608533d0d', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}, {'number': 3, 'created': '2023-04-20 09:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/eebf2140ad057313b9df7606ea83ac73bf30614b', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}, {'number': 4, 'created': '2023-04-20 15:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/7c363bbb24db9017392a1ae20d2d706527eade4b', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}, {'number': 5, 'created': '2023-04-25 13:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/327a6ddd20925e0b90f492aeab1f4c976d0bbfcd', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}, {'number': 6, 'created': '2023-05-17 16:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/c3dba3ef8feea0522069ba8c50bf3ba1e6455194', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}, {'number': 7, 'created': '2023-05-18 08:25:08.000000000', 'files': ['playbooks/tenks-deploy-teardown/pre.yml', 'ansible/roles/virtualbmc-daemon/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/0bb3edcabb1098c016c3d3b849518b2490c980f9', 'message': 'Add retries for get_url and package tasks\n\nOccasionally we see connection issues in CI.\n\nChange-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21\n'}]",0,880759,0bb3edcabb1098c016c3d3b849518b2490c980f9,22,2,7,14826,,,0,"Add retries for get_url and package tasks

Occasionally we see connection issues in CI.

Change-Id: I93cc6793cf23fd21462cec6a4deb2ea35d36da21
",git fetch https://review.opendev.org/openstack/tenks refs/changes/59/880759/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tenks-deploy-teardown/tasks/ensure_openvswitch.yml', 'playbooks/tenks-deploy-teardown/pre.yml', 'ansible/roles/virtualbmc-daemon/tasks/main.yml']",3,9f37c136e2c1e8c9b0c0d3b5d3b8234a43619eab,, register: result until: result is success retries: 3,,9,0
openstack%2Ftenks~master~Ic607ccccc866da65c100053bfa15ee141a98679e,openstack/tenks,master,Ic607ccccc866da65c100053bfa15ee141a98679e,Fix CI failures,MERGED,2023-04-19 15:43:17.000000000,2023-05-18 10:21:18.000000000,2023-05-18 10:19:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-19 15:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/fb0990f409fe71af5a04387abf041a2fd0878cf2', 'message': 'Fix CI failures\n\n* new ansible-lint complaints\n* tox 4 support\n* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing\n\nChange-Id: Ic607ccccc866da65c100053bfa15ee141a98679e\n'}, {'number': 2, 'created': '2023-04-20 09:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/b346203614d0929f5f4851f5dd5476c2112169c8', 'message': 'Fix CI failures\n\n* new ansible-lint complaints\n* tox 4 support\n* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing\n\nChange-Id: Ic607ccccc866da65c100053bfa15ee141a98679e\n'}, {'number': 3, 'created': '2023-04-20 15:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/4ef50646e98257260093526318d5bb0e9bb34625', 'message': 'Fix CI failures\n\n* new ansible-lint complaints\n* tox 4 support\n* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing\n\nChange-Id: Ic607ccccc866da65c100053bfa15ee141a98679e\n'}, {'number': 4, 'created': '2023-04-25 11:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/78e290f19441a6e63adb72e80c8fc1307b7a4ca1', 'message': 'Fix CI failures\n\n* new ansible-lint complaints\n* tox 4 support\n* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing\n\nChange-Id: Ic607ccccc866da65c100053bfa15ee141a98679e\n'}, {'number': 5, 'created': '2023-05-17 16:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/b9814875f1d79d4d66b45ac2f4b36a2201c0421f', 'message': 'Fix CI failures\n\n* new ansible-lint complaints\n* clamp ansible-lint to <7\n* tox 4 support\n* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing\n* switch from Kayobe CentOS stream 8 to Rocky Linux 9 and Ubuntu Jammy\n  jobs - these are the current supported distros in Kayobe master\n\nChange-Id: Ic607ccccc866da65c100053bfa15ee141a98679e\n'}, {'number': 6, 'created': '2023-05-18 08:25:08.000000000', 'files': ['ansible/resource_wait.yml', 'playbooks/tenks-deploy-teardown/vars/common.yml', 'test-requirements.txt', 'playbooks/tenks-deploy-teardown/vars/Debian.yml', 'ansible/roles/ironic-enrolment/tasks/main.yml', 'ansible/roles/veth-pair/tasks/present.yml', 'ansible/physical_network.yml', 'ansible/roles/virtualbmc-daemon/tasks/main.yml', '.ansible-lint', 'ansible/roles/veth-pair/tasks/absent.yml', 'playbooks/tenks-deploy-teardown/tasks/ensure_openvswitch.yml', 'playbooks/tenks-deploy-teardown/vars/RedHat.yml', 'ansible/hypervisor_setup.yml', 'ansible/roles/ironic-enrolment/tasks/port.yml', 'zuul.d/project.yaml', 'ansible/host_setup.yml', 'ansible/roles/ironic-enrolment/tasks/node.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tenks/commit/2c2c8b950429972cb1edbd172c96fb82b161f3cb', 'message': 'Fix CI failures\n\n* new ansible-lint complaints\n* clamp ansible-lint to <7\n* tox 4 support\n* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing\n* switch from Kayobe CentOS stream 8 to Rocky Linux 9 and Ubuntu Jammy\n  jobs - these are the current supported distros in Kayobe master\n\nChange-Id: Ic607ccccc866da65c100053bfa15ee141a98679e\n'}]",0,880866,2c2c8b950429972cb1edbd172c96fb82b161f3cb,20,2,6,14826,,,0,"Fix CI failures

* new ansible-lint complaints
* clamp ansible-lint to <7
* tox 4 support
* switch to CentOS NFV Open vSwitch repository for OVS - rocky 9 RDO install was failing
* switch from Kayobe CentOS stream 8 to Rocky Linux 9 and Ubuntu Jammy
  jobs - these are the current supported distros in Kayobe master

Change-Id: Ic607ccccc866da65c100053bfa15ee141a98679e
",git fetch https://review.opendev.org/openstack/tenks refs/changes/66/880866/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/veth-pair/tasks/absent.yml', 'playbooks/tenks-deploy-teardown/tasks/ensure_openvswitch.yml', 'ansible/resource_wait.yml', 'playbooks/tenks-deploy-teardown/vars/Debian.yml', 'playbooks/tenks-deploy-teardown/vars/RedHat.yml', 'ansible/hypervisor_setup.yml', 'ansible/roles/veth-pair/tasks/present.yml', 'ansible/physical_network.yml', 'ansible/host_setup.yml', 'tox.ini', 'ansible/roles/virtualbmc-daemon/tasks/main.yml']",11,fb0990f409fe71af5a04387abf041a2fd0878cf2,," mode: ""0644"" when: - ansible_facts.selinux.status | default('disabled') == 'enabled' - vbmcd_virtualenv_path - name: ""[selinux] Allow systemd to start vbmcd from venv - restorecon"" # noqa no-handler mode: ""0644"""," - name: ""[selinux] Allow systemd to start vbmcd from venv - restorecon"" when: - ansible_facts.selinux.status | default('disabled') == 'enabled' - vbmcd_virtualenv_path mode: 0644",39,34
openstack%2Fpython-openstackclient~master~Id1049965150c46fe972733d6194b78d996c6e5d3,openstack/python-openstackclient,master,Id1049965150c46fe972733d6194b78d996c6e5d3,Support compute microversion 2.94,NEW,2023-02-01 15:23:46.000000000,2023-05-18 10:16:03.000000000,,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-01 15:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/74fee343349035e8ec460ea507d9243670fdea61', 'message': ""Add func test for compute 2.94\n\nThe only thing that changes in 2.94 is server-side validation of the\n``hostname`` parameter, so no client-side changes are needed other\nthan to bump novaclient's max supported microversion (see dependent\npatch), but it's still nice to have a test to assert that osc pipes\nthrough the correct value to the Nova API.\n\nChange-Id: Id1049965150c46fe972733d6194b78d996c6e5d3\nDepends-on: https://review.opendev.org/c/openstack/python-novaclient/+/872418\n""}, {'number': 2, 'created': '2023-02-09 16:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6af732c0e3b13cdb78859d6177a93cfdfa2b560f', 'message': 'Support compute microversion 2.94\n\nThe only thing that changes in 2.94 is server-side validation of the\n``hostname`` parameter, so strictly speaking no client-side changes\nare needed. We can still improve the help text for --hostname to\nexplain the differences between microversions, and add a functional\ntest to exercise the new microversion.\n\nChange-Id: Id1049965150c46fe972733d6194b78d996c6e5d3\nDepends-on: https://review.opendev.org/c/openstack/python-novaclient/+/872418\n'}, {'number': 3, 'created': '2023-02-09 16:51:20.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a9c821289c140d514b59ec1cfed5e6154c086fe5', 'message': 'Support compute microversion 2.94\n\nThe only thing that changes in 2.94 is server-side validation of the\n``hostname`` parameter, so strictly speaking no client-side changes\nare needed. We can still improve the help text for --hostname to\nexplain the differences between microversions, and add a functional\ntest to exercise the new microversion.\n\nChange-Id: Id1049965150c46fe972733d6194b78d996c6e5d3\nDepends-on: https://review.opendev.org/c/openstack/python-novaclient/+/872418\n'}]",9,872420,a9c821289c140d514b59ec1cfed5e6154c086fe5,18,4,3,8864,,,0,"Support compute microversion 2.94

The only thing that changes in 2.94 is server-side validation of the
``hostname`` parameter, so strictly speaking no client-side changes
are needed. We can still improve the help text for --hostname to
explain the differences between microversions, and add a functional
test to exercise the new microversion.

Change-Id: Id1049965150c46fe972733d6194b78d996c6e5d3
Depends-on: https://review.opendev.org/c/openstack/python-novaclient/+/872418
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/872420/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/compute/v2/test_server.py'],1,74fee343349035e8ec460ea507d9243670fdea61,," def test_server_create_with_fqdn_hostname(self): server_name = uuid.uuid4().hex server = self.openstack( '--os-compute-api-version 2.94 ' + 'server create ' + '--flavor ' + self.flavor_name + ' ' + '--image ' + self.image_name + ' ' + '--nic none ' + '--hostname test.example.com' + server_name, parse_output=True, ) self.assertIsNotNone(server[""id""]) self.addCleanup(self.openstack, 'server delete --wait ' + server_name) self.wait_for_status(server_name, ""ACTIVE"") self.assertEqual('test.example.com', server['OS-EXT-SRV-ATTR:hostname']) ",,18,0
openstack%2Fpython-openstackclient~master~I0cf50e4c076dae788fbd58f8099b30b4e4a0af4c,openstack/python-openstackclient,master,I0cf50e4c076dae788fbd58f8099b30b4e4a0af4c,"""server list"" doesn't show  IMG Name for Instances Using Volume",NEW,2023-05-15 05:22:07.000000000,2023-05-18 10:13:38.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 05:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0417a7252f99fa1074d85946052a353cad433580', 'message': '""server list"" doesn\'t show  IMG Name for Instances Using Volume\n\nOpenstackclient doesnt display the image name in case instances are using volume.\n\nIn this patch, we also display the image name in case instances are using volume.\n\nIf instances are using volume, call  CinderClient volume data\nand store to volume_client.\nThen, find id for volume_identity and store volume data to v.\nIn volume image_metadata for v, find image_name, image_id\nand store to each name, id.\n\nStory: 2010748\nTitle: 48001\nChange-Id: I0cf50e4c076dae788fbd58f8099b30b4e4a0af4c\n'}, {'number': 2, 'created': '2023-05-15 05:38:06.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a80d53d85884a984977557dbeb8484be75071cf4', 'message': '""server list"" doesn\'t show  IMG Name for Instances Using Volume\n\nOpenstackclient doesnt display the image name in case instances are using volume.\n\nIn this patch, we also display the image name in case instances are using volume.\n\nIf instances are using volume, call  CinderClient volume data\nand store to volume_client.\nThen, find id for volume_identity and store volume data to v.\nIn volume image_metadata for v, find image_name, image_id\nand store to each name, id.\n\nCo-authored-by : OH JI WOO <jiu3159@naver.com>\n\nstory: 2010748\ntask: 48001\nChange-Id: I0cf50e4c076dae788fbd58f8099b30b4e4a0af4c\n'}]",3,883109,a80d53d85884a984977557dbeb8484be75071cf4,4,2,2,36010,,,0,"""server list"" doesn't show  IMG Name for Instances Using Volume

Openstackclient doesnt display the image name in case instances are using volume.

In this patch, we also display the image name in case instances are using volume.

If instances are using volume, call  CinderClient volume data
and store to volume_client.
Then, find id for volume_identity and store volume data to v.
In volume image_metadata for v, find image_name, image_id
and store to each name, id.

Co-authored-by : OH JI WOO <jiu3159@naver.com>

story: 2010748
task: 48001
Change-Id: I0cf50e4c076dae788fbd58f8099b30b4e4a0af4c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/09/883109/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,0417a7252f99fa1074d85946052a353cad433580,, volume_identity = s.volumes[0] volume_client = self.app.client_manager.sdk_connection.volume v = volume_client.get_volume(volume_identity.id) s.image_name = v.volume_image_metadata.get('image_name') s.image_id = v.volume_image_metadata.get('image_id') , s.image_name = IMAGE_STRING_FOR_BFV s.image_id = IMAGE_STRING_FOR_BFV,10,2
openstack%2Fkolla~master~I9a8703861e174d8933e0a2cce63b076145eaa732,openstack/kolla,master,I9a8703861e174d8933e0a2cce63b076145eaa732,WIP: we want to track github releases easier,NEW,2023-04-12 13:51:54.000000000,2023-05-18 10:06:24.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-12 13:51:54.000000000', 'files': ['tools/check-github.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c4558bc4a305caf21d1c3d892296769e890ea2a2', 'message': 'WIP: we want to track github releases easier\n\ntools/check-github.py is start of something. All it does for now is\ngoing through Github API and check for latest releases of components we\nuse.\n\nRate limited.\n\nChange-Id: I9a8703861e174d8933e0a2cce63b076145eaa732\n'}]",0,880154,c4558bc4a305caf21d1c3d892296769e890ea2a2,4,2,1,24072,,,0,"WIP: we want to track github releases easier

tools/check-github.py is start of something. All it does for now is
going through Github API and check for latest releases of components we
use.

Rate limited.

Change-Id: I9a8703861e174d8933e0a2cce63b076145eaa732
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/880154/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-github.py'],1,c4558bc4a305caf21d1c3d892296769e890ea2a2,,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import requests import sys github_projects = { ""containernetworking/plugins"", ""etcd-io/etcd"", ""google/cadvisor"", ""google/mtail"", ""greenpau/ovn_exporter"", ""openstack-exporter/openstack-exporter"", ""prometheus/alertmanager"", ""prometheus/blackbox_exporter"", ""prometheus-community/elasticsearch_exporter"", ""prometheus/haproxy_exporter"", ""prometheus/memcached_exporter"", ""prometheus-msteams/prometheus-msteams"", ""prometheus/mysqld_exporter"", ""prometheus/node_exporter"", ""prometheus/prometheus"" } for project in github_projects: response = requests.get(f""https://api.github.com/repos/{project}/"" f""releases/latest"", timeout=60) try: if ""/"" in response.json()[""name""]: print(""/"") version = response.json()[""name""].split(""/"")[0] else: version = response.json()[""name""] print(f""{project} has {response.json()['name']} version"") # rate limit probably except KeyError: print(response.json()[""message""]) sys.exit(-1) ",,51,0
openstack%2Fos-brick~stable%2Fzed~I0de32021eb90ca045845a6c7c7e3d27e52895948,openstack/os-brick,stable/zed,I0de32021eb90ca045845a6c7c7e3d27e52895948,Support separate privsep logging levels,MERGED,2023-02-08 10:47:26.000000000,2023-05-18 10:05:08.000000000,2023-05-18 10:04:04.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-08 10:47:26.000000000', 'files': ['releasenotes/notes/privsep-logs-9e938e5a2aee042e.yaml', 'os_brick/privileged/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/30ddb1761045dfc551e0b218b375842a14c42b0e', 'message': 'Support separate privsep logging levels\n\nCurrently we don\'t have os_brick DEBUG log levels in Nova when setting\nthe service to debug mode.\n\nThat happens because Nova is forcefully setting oslo.privsep.daemon\nlevels to INFO to prevent leaking instance XML details (bug #1784062).\n\nOslo Privsep now supports per-context debug log levels, so this patch\nsets the log level name for its only os_brick privsep context to\n""os_brick.privileged"" to differentiate it from the service it runs under\nwhich uses the default ""oslo_privsep.daemon"".\n\nThis way even though Nova is still disabling its own privileged calls it\nwon\'t affect os-brick privileged calls, allowing us to properly debug\nblock device attach/detach operations.\n\nCloses-Bug: #1922052\nRelated-Bug: #1784062\nChange-Id: I0de32021eb90ca045845a6c7c7e3d27e52895948\n(cherry picked from commit a82b2ffce5ad11b591130df40500b2fb1673a129)\n'}]",3,873100,30ddb1761045dfc551e0b218b375842a14c42b0e,12,4,1,9535,,,0,"Support separate privsep logging levels

Currently we don't have os_brick DEBUG log levels in Nova when setting
the service to debug mode.

That happens because Nova is forcefully setting oslo.privsep.daemon
levels to INFO to prevent leaking instance XML details (bug #1784062).

Oslo Privsep now supports per-context debug log levels, so this patch
sets the log level name for its only os_brick privsep context to
""os_brick.privileged"" to differentiate it from the service it runs under
which uses the default ""oslo_privsep.daemon"".

This way even though Nova is still disabling its own privileged calls it
won't affect os-brick privileged calls, allowing us to properly debug
block device attach/detach operations.

Closes-Bug: #1922052
Related-Bug: #1784062
Change-Id: I0de32021eb90ca045845a6c7c7e3d27e52895948
(cherry picked from commit a82b2ffce5ad11b591130df40500b2fb1673a129)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/00/873100/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/privsep-logs-9e938e5a2aee042e.yaml', 'os_brick/privileged/__init__.py']",2,30ddb1761045dfc551e0b218b375842a14c42b0e,context-logging," logger_name=__name__,",,12,0
openstack%2Fkolla~master~If2f39736e2af34cd91d0976051ff66f06e96ab42,openstack/kolla,master,If2f39736e2af34cd91d0976051ff66f06e96ab42,Add exclude for permissions in kolla config.json file,NEW,2019-04-25 07:02:39.000000000,2023-05-18 10:02:06.000000000,,"[{'_account_id': 14200}, {'_account_id': 19286}, {'_account_id': 19779}, {'_account_id': 21113}, {'_account_id': 21334}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-25 07:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0aa19bf0963044bff583113e49989fc67def8ac8', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 2, 'created': '2019-04-25 07:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5051101ab5b5a3e97ce6d41c0e1cc8b2483b2444', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 3, 'created': '2019-04-26 05:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b84e75cc18010c0c6206f6f765cdcab91e1ff0b1', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 4, 'created': '2019-04-26 08:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a37828b38ffa392cf89af419eaadf1618ed5ec1e', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 5, 'created': '2019-05-05 00:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ff19bcfbccc4c4823693eea9f264f7cc7c8940c8', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 6, 'created': '2019-07-25 04:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0446acc1f0d4dfe42cb5ae98be0e23531582c871', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 7, 'created': '2019-07-25 09:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/95315c9f7c3f444edd35a64ff9c5bc3f72d2eccf', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}, {'number': 8, 'created': '2021-12-16 11:16:15.000000000', 'files': ['docker/base/set_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd40b891b750640c2bddd62fcf4eebb10c352c99', 'message': 'Add exclude for permissions in kolla config.json file\n\nIn kolla config.json file, we can set permissions for a directory,\nwhen use recurse mode, every directories and files under the\ndirectory will be set permissions according to the config.\nSometimes, there should be an exception, that we don\'t want\npermissions be set for any directories or files.\n\nWe can set exclude like this:\n    ""permissions"": [\n        {\n            ""path"": ""/var/lib/glance"",\n            ""owner"": ""glance:glance"",\n            ""recurse"": true,\n            ""exclude"": [""/var/lib/glance/.snapshot""]\n        }\n     ]\n\nChange-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42\n'}]",17,655620,cd40b891b750640c2bddd62fcf4eebb10c352c99,35,10,8,21113,,,0,"Add exclude for permissions in kolla config.json file

In kolla config.json file, we can set permissions for a directory,
when use recurse mode, every directories and files under the
directory will be set permissions according to the config.
Sometimes, there should be an exception, that we don't want
permissions be set for any directories or files.

We can set exclude like this:
    ""permissions"": [
        {
            ""path"": ""/var/lib/glance"",
            ""owner"": ""glance:glance"",
            ""recurse"": true,
            ""exclude"": [""/var/lib/glance/.snapshot""]
        }
     ]

Change-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42
",git fetch https://review.opendev.org/openstack/kolla refs/changes/20/655620/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/set_configs.py'],1,0aa19bf0963044bff583113e49989fc67def8ac8,bug/1826324," exclude = permission.get('exclude', []) LOG.info(""hande dir %s:"" % os.path.join(root, dir_)) flag = True for e in exclude: if os.path.join(root, dir_).find(e) != -1: flag = False break if flag: set_perms(os.path.join(root, dir_), uid, gid, perm) for file_ in files: LOG.info(""hande file %s:"" % os.path.join(root, file_)) flag = True for e in exclude: if os.path.join(root, file_).find(e) != -1: flag = False break if flag: set_perms(os.path.join(root, file_), uid, gid, perm)"," set_perms(os.path.join(root, dir_), uid, gid, perm) for file_ in files: set_perms(os.path.join(root, file_), uid, gid, perm)",17,2
openstack%2Fkolla~stable%2Fzed~I5aeb5796f8de7697a1c4a7404fe292ef9eb522ee,openstack/kolla,stable/zed,I5aeb5796f8de7697a1c4a7404fe292ef9eb522ee,opensearch: move to yum/apt repos,MERGED,2023-05-11 12:59:04.000000000,2023-05-18 09:59:30.000000000,2023-05-18 09:58:26.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-11 12:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cefed65fe9eb43dc2cc9b6cfb2cf502c5d341de0', 'message': 'opensearch: move to yum/apt repos\n\nsystemd-tmpfiles is needed otherwise opensearch\npostinst on Debian/Ubuntu fails\n\nChange-Id: I5aeb5796f8de7697a1c4a7404fe292ef9eb522ee\n(cherry picked from commit 6bd7898a1d95157c713bdff0fe5bdf5a59b65550)\n'}, {'number': 2, 'created': '2023-05-18 05:23:12.000000000', 'files': ['docker/opensearch/opensearch/Dockerfile.j2', 'docker/opensearch/opensearch-dashboards/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/opensearch.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/aab455c5eb063b5e843bc0919bbae8f1687cf1d5', 'message': 'opensearch: move to yum/apt repos\n\nsystemd-tmpfiles is needed otherwise opensearch\npostinst on Debian/Ubuntu fails\n\nChange-Id: I5aeb5796f8de7697a1c4a7404fe292ef9eb522ee\n(cherry picked from commit 6bd7898a1d95157c713bdff0fe5bdf5a59b65550)\n'}]",0,882785,aab455c5eb063b5e843bc0919bbae8f1687cf1d5,15,5,2,14826,,,0,"opensearch: move to yum/apt repos

systemd-tmpfiles is needed otherwise opensearch
postinst on Debian/Ubuntu fails

Change-Id: I5aeb5796f8de7697a1c4a7404fe292ef9eb522ee
(cherry picked from commit 6bd7898a1d95157c713bdff0fe5bdf5a59b65550)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/882785/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/opensearch/opensearch-dashboards/Dockerfile.j2', 'docker/opensearch/opensearch/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/opensearch.repo']",5,cefed65fe9eb43dc2cc9b6cfb2cf502c5d341de0,,[opensearch-2.x] name=OpenSearch 2.x baseurl=https://artifacts.opensearch.org/releases/bundle/opensearch/2.x/yum enabled=0 repo_gpgcheck=1 gpgcheck=1 gpgkey=https://artifacts.opensearch.org/publickeys/opensearch.pgp autorefresh=1 type=rpm-md [opensearch-dashboards-2.x] name=OpenSearch Dashboards 2.x baseurl=https://artifacts.opensearch.org/releases/bundle/opensearch-dashboards/2.x/yum enabled=0 repo_gpgcheck=1 gpgcheck=1 gpgkey=https://artifacts.opensearch.org/publickeys/opensearch.pgp autorefresh=1 type=rpm-md ,,122,32
openstack%2Fkolla~master~I09c26db52df26559d39a7506e6d67d0401548639,openstack/kolla,master,I09c26db52df26559d39a7506e6d67d0401548639,antelope: tidy up renos,MERGED,2023-05-18 05:15:52.000000000,2023-05-18 09:59:29.000000000,2023-05-18 09:58:28.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-18 05:15:52.000000000', 'files': ['releasenotes/notes/add-skyline-200d1bca7907b00c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9231757443fff5e7a389cfbba8ee5eabade204a', 'message': 'antelope: tidy up renos\n\nChange-Id: I09c26db52df26559d39a7506e6d67d0401548639\n'}]",0,883469,b9231757443fff5e7a389cfbba8ee5eabade204a,9,4,1,22629,,,0,"antelope: tidy up renos

Change-Id: I09c26db52df26559d39a7506e6d67d0401548639
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/883469/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-skyline-200d1bca7907b00c.yaml'],1,b9231757443fff5e7a389cfbba8ee5eabade204a,, - Add ``skyline`` container images. ``Skyline`` is a modern OpenStack dashboard service.," - Add skyline(base, apiserver and console) Dockerfile. Skyline is an OpenStack dashboard optimized by UI and UX.",2,2
openstack%2Fsahara~master~I7452e9b8b6ed07d89bac7d0c1dc188ad0ed25ffa,openstack/sahara,master,I7452e9b8b6ed07d89bac7d0c1dc188ad0ed25ffa,Use new get_rpc_client API from oslo.messaging,MERGED,2023-05-18 06:08:20.000000000,2023-05-18 09:56:40.000000000,2023-05-18 09:55:35.000000000,"[{'_account_id': 22348}, {'_account_id': 29423}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-18 06:08:20.000000000', 'files': ['requirements.txt', 'sahara/utils/rpc.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/99865a7b0311713571c152e5ec404d10c8cf0fab', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: I7452e9b8b6ed07d89bac7d0c1dc188ad0ed25ffa\n'}]",0,883180,99865a7b0311713571c152e5ec404d10c8cf0fab,8,3,1,29423,,,0,"Use new get_rpc_client API from oslo.messaging

Use the new API that is consistent with
the existing API instead of instantiating the client
class directly.

This was introduced in release 14.1.0 here [1] and
added into oslo.messaging here [2]

[1] https://review.opendev.org/c/openstack/requirements/+/869340
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419

Change-Id: I7452e9b8b6ed07d89bac7d0c1dc188ad0ed25ffa
",git fetch https://review.opendev.org/openstack/sahara refs/changes/80/883180/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'sahara/utils/rpc.py']",2,99865a7b0311713571c152e5ec404d10c8cf0fab,, self.__client = messaging.get_rpc_client(, self.__client = messaging.RPCClient(,2,2
openstack%2Fcinder-tempest-plugin~master~I43401b2269e792590f77ee72be3779a6761372fd,openstack/cinder-tempest-plugin,master,I43401b2269e792590f77ee72be3779a6761372fd,[srbac] Testing Volume Actions,ABANDONED,2023-04-02 08:41:17.000000000,2023-05-18 09:24:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-02 08:41:17.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/af93c3cb20f4cb8abe153550b636042fee2964a3', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume actions operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: I43401b2269e792590f77ee72be3779a6761372fd\n'}]",0,878683,af93c3cb20f4cb8abe153550b636042fee2964a3,3,1,1,35621,,,0,"[srbac] Testing Volume Actions

Adding Reader srbac tests with volume actions operations

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986
Change-Id: I43401b2269e792590f77ee72be3779a6761372fd
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/83/878683/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volume_actions.py'],1,af93c3cb20f4cb8abe153550b636042fee2964a3,srbac_cinder_vol_actions,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base class VolumeV3RbacCapabilityTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.volume_capabilities_client_latest # NOTE(lbragstad): This admin_client will be more useful later when # cinder supports system-scope and we need it for administrative # operations. For now, keep os_project_admin as the admin client until # we have system-scope. admin_client = cls.os_project_admin cls.admin_capabilities_client = ( admin_client.volume_capabilities_client_latest) cls.admin_stats_client = ( admin_client.volume_scheduler_stats_client_latest) @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, 'os_%s' % cls.credentials[0]) @abc.abstractmethod def test_get_capabilities(self): """"""Test volume_extension:capabilities policy. This test must check: * whether the persona can fetch capabilities for a host. """""" pass class ProjectAdminTests(VolumeV3RbacCapabilityTests, base.BaseVolumeTest): credentials = ['project_admin', 'system_admin'] @decorators.idempotent_id('1fdbe493-e58f-48bf-bb38-52003eeef8cb') def test_get_capabilities(self): pools = self.admin_stats_client.list_pools()['pools'] host_name = pools[0]['name'] self.do_request('show_backend_capabilities', expected_status=200, host=host_name) class ProjectMemberTests(ProjectAdminTests, base.BaseVolumeTest): credentials = ['project_member', 'project_admin', 'system_admin'] @decorators.idempotent_id('dbaf51de-fafa-4f55-875f-7537524489ab') def test_get_capabilities(self): pools = self.admin_stats_client.list_pools()['pools'] host_name = pools[0]['name'] self.do_request('show_backend_capabilities', expected_status=exceptions.Forbidden, host=host_name) class ProjectReaderTests(ProjectMemberTests, base.BaseVolumeTest): credentials = ['project_reader', 'project_admin', 'system_admin'] @decorators.idempotent_id('d16034fc-4204-4ea8-94b3-714de59fdfbf') def test_get_capabilities(self): super().test_get_capabilities() ",,87,0
openstack%2Fkolla~stable%2Fzed~I2f879e59a64b9039a8a27c40bd462fde4df73f43,openstack/kolla,stable/zed,I2f879e59a64b9039a8a27c40bd462fde4df73f43,toolbox: pin ansible.posix to <1.5.4,MERGED,2023-05-16 13:33:18.000000000,2023-05-18 08:11:37.000000000,2023-05-18 08:10:37.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-16 13:33:18.000000000', 'files': ['docker/kolla-toolbox/requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/140032d6e930b8abee5914d26fca7d8d29ed51d6', 'message': 'toolbox: pin ansible.posix to <1.5.4\n\nansible.posix 1.5.4 has been released and it broke the way\nwe use JSON callback plugin (it requires play.path) - see [1] and [2].\n\n[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac\n[2]: https://github.com/ansible-collections/ansible.posix/issues/461\n\nChange-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43\n(cherry picked from commit d965b1b3da9b8c2780a91781834a46f5886bd9c2)\n'}]",1,883121,140032d6e930b8abee5914d26fca7d8d29ed51d6,13,4,1,22629,,,0,"toolbox: pin ansible.posix to <1.5.4

ansible.posix 1.5.4 has been released and it broke the way
we use JSON callback plugin (it requires play.path) - see [1] and [2].

[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac
[2]: https://github.com/ansible-collections/ansible.posix/issues/461

Change-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43
(cherry picked from commit d965b1b3da9b8c2780a91781834a46f5886bd9c2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/883121/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/requirements.yml'],1,140032d6e930b8abee5914d26fca7d8d29ed51d6,, version: '<1.5.4', version: '<2',1,1
openstack%2Fpuppet-keystone~master~Ib00e93663c2fd90bf5befbd71ad896343652f027,openstack/puppet-keystone,master,Ib00e93663c2fd90bf5befbd71ad896343652f027,Ensure options for domain specific drivers are purged by default,MERGED,2023-05-17 03:31:04.000000000,2023-05-18 07:12:21.000000000,2023-05-18 07:12:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 03:31:04.000000000', 'files': ['manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c39fca315c22552bb12c608942ffb542f091da45', 'message': 'Ensure options for domain specific drivers are purged by default\n\n... to avoid leaving these options unmaintained.\n\nChange-Id: Ib00e93663c2fd90bf5befbd71ad896343652f027\n'}]",2,883326,c39fca315c22552bb12c608942ffb542f091da45,15,3,1,9816,,,0,"Ensure options for domain specific drivers are purged by default

... to avoid leaving these options unmaintained.

Change-Id: Ib00e93663c2fd90bf5befbd71ad896343652f027
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/26/883326/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",2,c39fca315c22552bb12c608942ffb542f091da45,, is_expected.to contain_keystone_config('identity/domain_specific_drivers_enabled').with_ensure('absent') is_expected.to contain_keystone_config('identity/domain_config_dir').with_ensure('absent'),,8,0
openstack%2Fdevstack~stable%2F2023.1~Id15fd121575801c7fe8570498b74fc892b38032c,openstack/devstack,stable/2023.1,Id15fd121575801c7fe8570498b74fc892b38032c,[DNM] Test grenade,NEW,2023-05-18 05:40:52.000000000,2023-05-18 07:07:00.000000000,,[],"[{'number': 1, 'created': '2023-05-18 05:40:52.000000000', 'files': ['lib/nova', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5e6582ad2f9d5da2a3fbdd0e8621f93a3a6cf4d', 'message': '[DNM] Test grenade\n\nChange-Id: Id15fd121575801c7fe8570498b74fc892b38032c\n(cherry picked from commit 3c51b59abd183c01b2d85a3c7f4f5f6a1d0f4b42)\n'}]",0,883473,c5e6582ad2f9d5da2a3fbdd0e8621f93a3a6cf4d,3,0,1,13861,,,0,"[DNM] Test grenade

Change-Id: Id15fd121575801c7fe8570498b74fc892b38032c
(cherry picked from commit 3c51b59abd183c01b2d85a3c7f4f5f6a1d0f4b42)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/883473/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', '.zuul.yaml']",2,c5e6582ad2f9d5da2a3fbdd0e8621f93a3a6cf4d,bug/2015065, check: jobs: []," templates: - integrated-gate-py3 - publish-openstack-docs-pti check: jobs: - devstack - devstack-ipv6 - devstack-enforce-scope - devstack-platform-fedora-latest - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-rocky-blue-onyx - devstack-platform-ubuntu-focal - devstack-platform-ubuntu-jammy-ovn-source - devstack-platform-ubuntu-jammy-ovs - devstack-platform-openEuler-22.03-ovn-source - devstack-platform-openEuler-22.03-ovs - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ gate: jobs: - devstack - devstack-ipv6 # TODO(kopecmartin) n-v until the following is resolved: # https://bugs.launchpad.net/neutron/+bug/1979047 # - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-ubuntu-focal - devstack-enforce-scope - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # Please add a note on each job and conditions for the job not # being experimental any more, so we can keep this list somewhat # pruned. # # * nova-next: maintained by nova for unreleased/undefaulted # things # * neutron-fullstack-with-uwsgi: maintained by neutron for fullstack test # when neutron-api is served by uwsgi, it's in exprimental for testing. # the next cycle we can remove this job if things turn out to be # stable enough. # * neutron-functional-with-uwsgi: maintained by neutron for functional # test. Next cycle we can remove this one if things turn out to be # stable engouh with uwsgi. # * neutron-tempest-with-uwsgi: maintained by neutron for tempest test. # Next cycle we can remove this if everything run out stable enough. # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration # * devstack-platform-fedora-latest-virt-preview: Maintained by lyarwood # for Nova to allow early testing of the latest versions of Libvirt and # QEMU. Should only graduate out of experimental if it ever moves into # the check queue for Nova. experimental: jobs: - nova-multi-cell - nova-next - neutron-fullstack-with-uwsgi - neutron-functional-with-uwsgi - neutron-tempest-with-uwsgi - devstack-plugin-ceph-tempest-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - cinder-tempest-lvm-multibackend: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-pg-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - devstack-platform-fedora-latest-virt-preview - devstack-no-tls-proxy periodic: jobs: - devstack-no-tls-proxy periodic-weekly: jobs: - devstack-platform-openEuler-22.03-ovn-source - devstack-platform-openEuler-22.03-ovs",5,152
openstack%2Fdevstack~master~Id15fd121575801c7fe8570498b74fc892b38032c,openstack/devstack,master,Id15fd121575801c7fe8570498b74fc892b38032c,[DNM] Test grenade,NEW,2023-05-18 05:39:31.000000000,2023-05-18 07:06:52.000000000,,[],"[{'number': 1, 'created': '2023-05-18 05:39:31.000000000', 'files': ['lib/nova', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c51b59abd183c01b2d85a3c7f4f5f6a1d0f4b42', 'message': '[DNM] Test grenade\n\nChange-Id: Id15fd121575801c7fe8570498b74fc892b38032c\n'}]",0,883472,3c51b59abd183c01b2d85a3c7f4f5f6a1d0f4b42,3,0,1,13861,,,0,"[DNM] Test grenade

Change-Id: Id15fd121575801c7fe8570498b74fc892b38032c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/72/883472/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', '.zuul.yaml']",2,3c51b59abd183c01b2d85a3c7f4f5f6a1d0f4b42,bug/2015065, check: jobs: []," templates: - integrated-gate-py3 - publish-openstack-docs-pti check: jobs: - devstack - devstack-ipv6 - devstack-enforce-scope - devstack-platform-fedora-latest - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-rocky-blue-onyx - devstack-platform-ubuntu-focal - devstack-platform-ubuntu-jammy-ovn-source - devstack-platform-ubuntu-jammy-ovs - devstack-platform-openEuler-22.03-ovn-source - devstack-platform-openEuler-22.03-ovs - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ gate: jobs: - devstack - devstack-ipv6 # TODO(kopecmartin) n-v until the following is resolved: # https://bugs.launchpad.net/neutron/+bug/1979047 # - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-ubuntu-focal - devstack-enforce-scope - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # Please add a note on each job and conditions for the job not # being experimental any more, so we can keep this list somewhat # pruned. # # * nova-next: maintained by nova for unreleased/undefaulted # things # * neutron-fullstack-with-uwsgi: maintained by neutron for fullstack test # when neutron-api is served by uwsgi, it's in exprimental for testing. # the next cycle we can remove this job if things turn out to be # stable enough. # * neutron-functional-with-uwsgi: maintained by neutron for functional # test. Next cycle we can remove this one if things turn out to be # stable engouh with uwsgi. # * neutron-ovn-tempest-with-uwsgi: maintained by neutron for tempest test. # Next cycle we can remove this if everything run out stable enough. # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration # * devstack-platform-fedora-latest-virt-preview: Maintained by lyarwood # for Nova to allow early testing of the latest versions of Libvirt and # QEMU. Should only graduate out of experimental if it ever moves into # the check queue for Nova. experimental: jobs: - nova-multi-cell - nova-next - neutron-fullstack-with-uwsgi - neutron-functional-with-uwsgi - neutron-ovn-tempest-with-uwsgi - devstack-plugin-ceph-tempest-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - cinder-tempest-lvm-multibackend: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-pg-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - devstack-platform-fedora-latest-virt-preview - devstack-no-tls-proxy periodic: jobs: - devstack-no-tls-proxy periodic-weekly: jobs: - devstack-platform-openEuler-22.03-ovn-source - devstack-platform-openEuler-22.03-ovs",5,152
openstack%2Fkolla~master~Id20394d06747b7f56e8745f129149c3f1c492ca7,openstack/kolla,master,Id20394d06747b7f56e8745f129149c3f1c492ca7,toolbox: use venv instead of virtualenv,MERGED,2023-02-23 12:09:10.000000000,2023-05-18 06:38:12.000000000,2023-05-18 06:37:13.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-02-23 12:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9b3e645ab11a7e9505dcd8b6c4b79ad6c185beb', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}, {'number': 2, 'created': '2023-02-23 12:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a21099c6fe38316b28b9baf6567dc4f1a9b84928', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}, {'number': 3, 'created': '2023-02-24 07:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2762e59ffc79022bdbe0aea4b1071f6fd8a67d53', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}, {'number': 4, 'created': '2023-02-24 08:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3de6e455259b140867defe3eb12395ad002c63f1', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}, {'number': 5, 'created': '2023-05-17 13:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d8911895130b539ae6013f7d9a9777338cde6225', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}, {'number': 6, 'created': '2023-05-17 13:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/83d33123223e752d74265f2c379a07337b0ce566', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}, {'number': 7, 'created': '2023-05-17 14:00:38.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7aa6450491644068300575062993c53b9413568d', 'message': 'toolbox: use venv instead of virtualenv\n\nChange-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7\n'}]",0,874916,7aa6450491644068300575062993c53b9413568d,23,4,7,22629,,,0,"toolbox: use venv instead of virtualenv

Change-Id: Id20394d06747b7f56e8745f129149c3f1c492ca7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/874916/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/Dockerfile.j2'],1,f9b3e645ab11a7e9505dcd8b6c4b79ad6c185beb,,{% set venv_path='/opt/ansible' %} {% set os_client_config= venv_path + '/lib/python' + distro_python_version + '/site-packages/os_client_config/defaults.json' %} && python3 -m venv --system-site-packages {{ venv_path }}ENV PATH {{ venv_path }}/bin:$PATH && echo 'localhost ansible_connection=local ansible_python_interpreter={{ venv_path }}/bin/python' > /etc/ansible/hosts \,"{% set virtualenv_path='/opt/ansible' %} {% set os_client_config= virtualenv_path + '/lib/python' + distro_python_version + '/site-packages/os_client_config/defaults.json' %}{% set kolla_toolbox_pip_virtualenv_packages = [ 'virtualenv' ] %} && {{ macros.install_pip(kolla_toolbox_pip_virtualenv_packages | customizable(""pip_virtualenv_packages"")) }} \ && virtualenv --system-site-packages {{ virtualenv_path }}ENV PATH {{ virtualenv_path }}/bin:$PATH && echo 'localhost ansible_connection=local ansible_python_interpreter={{ virtualenv_path }}/bin/python' > /etc/ansible/hosts \",5,10
openstack%2Fkolla~master~Icd7049eea8d558ee41e2061189002ef6440f4f4f,openstack/kolla,master,Icd7049eea8d558ee41e2061189002ef6440f4f4f,Add some sanity to nova-ssh commands,ABANDONED,2019-04-02 23:41:40.000000000,2023-05-18 05:41:41.000000000,,"[{'_account_id': 9076}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-02 23:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/992044401495619783f992caedd651d8b17f9303', 'message': 'Add some sanity to nova-ssh commands\n\nNova-ssh is used via the remotefs calls in nova.  This method implements\nbascially 4 commands.  To limit the security risk of allowing password\nssh access between compute nodes for remotefs puproses we should do\nsanity checking of the commands that are coming though ssh.\n\nIn practice we only need to implement touch, rm, scp and mkdir.  So we\nhave created a wrapper that will only allow these commands to run and\nattempts to ""defang"" options passed to them as well.\n\nChange-Id: Icd7049eea8d558ee41e2061189002ef6440f4f4f\n'}, {'number': 2, 'created': '2019-04-03 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b04f26be924d60dd3bb4b40183ca276acdf61f39', 'message': 'Add some sanity to nova-ssh commands\n\nNova-ssh is used via the remotefs calls in nova.  This method implements\nbascially 4 commands.  To limit the security risk of allowing password\nless ssh access between compute nodes for remotefs puproses we should do\nsanity checking of the commands that are coming though ssh.\n\nIn practice we only need to implement touch, rm, scp and mkdir.  So we\nhave created a wrapper that will only allow these commands to run and\nattempts to ""defang"" options passed to them as well.\n\nChange-Id: Icd7049eea8d558ee41e2061189002ef6440f4f4f\n'}, {'number': 3, 'created': '2019-04-03 19:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/337eed4077ddee2506cb59dc107f05f8bcadc672', 'message': 'Add some sanity to nova-ssh commands\n\nNova-ssh is used via the remotefs calls in nova.  This method implements\nbascially 4 commands.  To limit the security risk of allowing password\nless ssh access between compute nodes for remotefs puproses we should do\nsanity checking of the commands that are coming though ssh.\n\nIn practice we only need to implement touch, rm, scp and mkdir.  So we\nhave created a wrapper that will only allow these commands to run and\nattempts to ""defang"" options passed to them as well.\n\nChange-Id: Icd7049eea8d558ee41e2061189002ef6440f4f4f\n'}, {'number': 4, 'created': '2019-04-03 22:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e43de5afc4a12a89bdd161c2053e9108cfd63e2e', 'message': 'Add some sanity to nova-ssh commands\n\nNova-ssh is used via the remotefs calls in nova.  This method implements\nbascially 4 commands.  To limit the security risk of allowing password\nless ssh access between compute nodes for remotefs puproses we should do\nsanity checking of the commands that are coming though ssh.\n\nIn practice we only need to implement touch, rm, scp and mkdir.  So we\nhave created a wrapper that will only allow these commands to run and\nattempts to ""defang"" options passed to them as well.\n\nChange-Id: Icd7049eea8d558ee41e2061189002ef6440f4f4f\n'}, {'number': 5, 'created': '2019-04-04 22:23:25.000000000', 'files': ['docker/nova/nova-ssh/remote_fs', 'docker/nova/nova-ssh/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e86f93bcf4212a403d6a75666a137810acdd1aaf', 'message': 'Add some sanity to nova-ssh commands\n\nNova-ssh is used via the remotefs calls in nova.  This method implements\nbascially 4 commands.  To limit the security risk of allowing password\nless ssh access between compute nodes for remotefs puproses we should do\nsanity checking of the commands that are coming though ssh.\n\nIn practice we only need to implement touch, rm, scp and mkdir.  So we\nhave created a wrapper that will only allow these commands to run and\nattempts to ""defang"" options passed to them as well.\n\nChange-Id: Icd7049eea8d558ee41e2061189002ef6440f4f4f\n'}]",13,649477,e86f93bcf4212a403d6a75666a137810acdd1aaf,22,4,5,9076,,,0,"Add some sanity to nova-ssh commands

Nova-ssh is used via the remotefs calls in nova.  This method implements
bascially 4 commands.  To limit the security risk of allowing password
less ssh access between compute nodes for remotefs puproses we should do
sanity checking of the commands that are coming though ssh.

In practice we only need to implement touch, rm, scp and mkdir.  So we
have created a wrapper that will only allow these commands to run and
attempts to ""defang"" options passed to them as well.

Change-Id: Icd7049eea8d558ee41e2061189002ef6440f4f4f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/649477/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-ssh/remote_fs.sh', 'docker/nova/nova-ssh/Dockerfile.j2']",2,992044401495619783f992caedd651d8b17f9303,nova_ssh_remotefs,COPY remote_fs.sh /usr/local/bin/remote_fs.sh RUN chmod 755 /usr/local/bin/remote_fs.sh ,,38,0
openstack%2Ftripleo-ansible~master~Id4466cfb01cf69dca06c56f4cd03146d8e38d363,openstack/tripleo-ansible,master,Id4466cfb01cf69dca06c56f4cd03146d8e38d363,fix to be able to edit ns_records of /etc/designate/pools.yaml,ABANDONED,2022-12-08 11:15:21.000000000,2023-05-18 05:30:40.000000000,,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-08 11:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36cbba5c18911ce95310922657ce1a01d4984d5e', 'message': ""fix to be able to edit ns_records of /etc/designate/pools.yaml\n\nAs the RFC 1034 mentions, parent's NS records and child's NS records\nmust be the same.\nFor example:\n\n  Parent:\n    parent.example.com.       SOA ......\n    child NS nameserver1.child.parent.example.com.\n    child NS nameserver2.child.parent.example.com.\n    child NS nameserver3.child.parent.example.com.\n\n  Child:\n    child.parent.example.com. SOA ......\n          NS nameserver1.child.parent.example.com.\n          NS nameserver2.child.parent.example.com.\n          NS nameserver3.child.parent.example.com.\n\nCurrently, ns_records of /etc/designate/pools.yaml always start with\nnsX and are not changeable. To make them the same as parent's NS\nrecords, we have to be able to change ns_records to any value.\n\nPartial-Bug: 1999134\nChange-Id: Id4466cfb01cf69dca06c56f4cd03146d8e38d363\n""}, {'number': 2, 'created': '2022-12-09 06:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b162234e850dda983f7b4b2cffe7e8f2c0768a8', 'message': 'fix to be able to edit ns_records of /etc/designate/pools.yaml\n\nAs the RFC 1034 mentions, parent\'s NS records and child\'s NS records\nmust be the same.\nFor example:\n\n  Parent:\n    parent.example.com.       SOA ......\n    child NS nameserver1.child.parent.example.com.\n    child NS nameserver2.child.parent.example.com.\n    child NS nameserver3.child.parent.example.com.\n\n  Child:\n    child.parent.example.com. SOA ......\n          NS nameserver1.child.parent.example.com.\n          NS nameserver2.child.parent.example.com.\n          NS nameserver3.child.parent.example.com.\n\nCurrently, ns_records of /etc/designate/pools.yaml always start with\nnsX and are not changeable. To make them the same as parent\'s NS\nrecords, we have to be able to change ns_records to any value.\n\nAs ns_records should end with ""."", this change makes sure that it ends\nwith ""."".\n\nPartial-Bug: 1999134\nChange-Id: Id4466cfb01cf69dca06c56f4cd03146d8e38d363\n'}, {'number': 3, 'created': '2022-12-12 00:27:06.000000000', 'files': ['tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_pool/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abc9f431031e6742e324e62807867e6d888ceb49', 'message': 'fix to be able to edit ns_records of /etc/designate/pools.yaml\n\nAs the RFC 1034 mentions, parent\'s NS records and child\'s NS records\nmust be the same.\nFor example:\n\n  Parent:\n    parent.example.com.       SOA ......\n    child NS nameserver1.child.parent.example.com.\n    child NS nameserver2.child.parent.example.com.\n    child NS nameserver3.child.parent.example.com.\n\n  Child:\n    child.parent.example.com. SOA ......\n          NS nameserver1.child.parent.example.com.\n          NS nameserver2.child.parent.example.com.\n          NS nameserver3.child.parent.example.com.\n\nCurrently, ns_records of /etc/designate/pools.yaml always start with\nnsX and are not changeable. To make them the same as parent\'s NS\nrecords, we have to be able to change ns_records to any value.\n\nAs ns_records should end with ""."", this change makes sure that it ends\nwith ""."".\n\nPartial-Bug: 1999134\nChange-Id: Id4466cfb01cf69dca06c56f4cd03146d8e38d363\n'}]",6,866978,abc9f431031e6742e324e62807867e6d888ceb49,20,4,3,34564,,,0,"fix to be able to edit ns_records of /etc/designate/pools.yaml

As the RFC 1034 mentions, parent's NS records and child's NS records
must be the same.
For example:

  Parent:
    parent.example.com.       SOA ......
    child NS nameserver1.child.parent.example.com.
    child NS nameserver2.child.parent.example.com.
    child NS nameserver3.child.parent.example.com.

  Child:
    child.parent.example.com. SOA ......
          NS nameserver1.child.parent.example.com.
          NS nameserver2.child.parent.example.com.
          NS nameserver3.child.parent.example.com.

Currently, ns_records of /etc/designate/pools.yaml always start with
nsX and are not changeable. To make them the same as parent's NS
records, we have to be able to change ns_records to any value.

As ns_records should end with ""."", this change makes sure that it ends
with ""."".

Partial-Bug: 1999134
Change-Id: Id4466cfb01cf69dca06c56f4cd03146d8e38d363
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/866978/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_pool/defaults/main.yml']",2,36cbba5c18911ce95310922657ce1a01d4984d5e,bug/1999134,designate_bind_pool_ns_records: - 'ns1.example.org.' - 'ns2.example.org.' - 'ns3.example.org.',pool_zone_domain: 'example.org',6,3
openstack%2Ftripleo-heat-templates~master~I97c4f7c4785dba4ea5485ccc8d4a6d0531e0d791,openstack/tripleo-heat-templates,master,I97c4f7c4785dba4ea5485ccc8d4a6d0531e0d791,add parameter to change ns_records of /etc/designate/pools.yaml,ABANDONED,2022-12-08 11:16:33.000000000,2023-05-18 05:30:37.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-08 11:16:33.000000000', 'files': ['ci/environments/scenario003-standalone.yaml', 'deployment/designate/designate-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91c4795fb374c9e45aca8e5835588239a8b814b0', 'message': ""add parameter to change ns_records of /etc/designate/pools.yaml\n\nAs the RFC 1034 mentions, parent's NS records and child's NS records\nmust be the same.\nFor example:\n\n  Parent:\n    parent.example.com.       SOA ......\n    child NS nameserver1.child.parent.example.com.\n    child NS nameserver2.child.parent.example.com.\n    child NS nameserver3.child.parent.example.com.\n\n  Child:\n    child.parent.example.com. SOA ......\n          NS nameserver1.child.parent.example.com.\n          NS nameserver2.child.parent.example.com.\n          NS nameserver3.child.parent.example.com.\n\nCurrently, there are no parameters to edit ns_records of\n/etc/designate/pools.yaml. To make them the same as parent's NS\nrecords, we have to have a parameter to configure ns_records.\n\nPartial-Bug: 1999134\nDepends-On: Id4466cfb01cf69dca06c56f4cd03146d8e38d363\nChange-Id: I97c4f7c4785dba4ea5485ccc8d4a6d0531e0d791\n""}]",5,866980,91c4795fb374c9e45aca8e5835588239a8b814b0,13,3,1,34564,,,0,"add parameter to change ns_records of /etc/designate/pools.yaml

As the RFC 1034 mentions, parent's NS records and child's NS records
must be the same.
For example:

  Parent:
    parent.example.com.       SOA ......
    child NS nameserver1.child.parent.example.com.
    child NS nameserver2.child.parent.example.com.
    child NS nameserver3.child.parent.example.com.

  Child:
    child.parent.example.com. SOA ......
          NS nameserver1.child.parent.example.com.
          NS nameserver2.child.parent.example.com.
          NS nameserver3.child.parent.example.com.

Currently, there are no parameters to edit ns_records of
/etc/designate/pools.yaml. To make them the same as parent's NS
records, we have to have a parameter to configure ns_records.

Partial-Bug: 1999134
Depends-On: Id4466cfb01cf69dca06c56f4cd03146d8e38d363
Change-Id: I97c4f7c4785dba4ea5485ccc8d4a6d0531e0d791
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/866980/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario003-standalone.yaml', 'deployment/designate/designate-central-container-puppet.yaml']",2,91c4795fb374c9e45aca8e5835588239a8b814b0,bug/1999134," DesignateBindNSRecords: description: > Used to configure NS records and SOA record of zones managed by designate with bind servers managed type: comma_delimited_list default: ['ns1.example.org.', 'ns2.example.org.', 'ns3.example.org.'] designate_bind_pool_ns_records: {get_param: DesignateBindNSRecords}",,11,0
openstack%2Ftripleo-quickstart~master~I71be38ca4b2d00897c507ac0bb7b376a30f7e4f8,openstack/tripleo-quickstart,master,I71be38ca4b2d00897c507ac0bb7b376a30f7e4f8,top excluding ansible-core-2.14.2-4 for master,ABANDONED,2023-03-03 03:49:01.000000000,2023-05-18 04:31:31.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-03 03:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/806ae13eca2b2230410722d187ddd639fa6c5b1a', 'message': 'Stop excluding ansible-core-2.14.2-4 for master\n\nThis partially reverts 9c69b90a0ecdb99a1745444118f86455028fdaeb .\nThe issue is supposed to be fixed by the dependent change.\n\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/874382\nChange-Id: I71be38ca4b2d00897c507ac0bb7b376a30f7e4f8\n'}, {'number': 2, 'created': '2023-03-03 07:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/61da3f0c7a87f293c9d3e0309f1d6fb3af046fa3', 'message': 'Stop excluding ansible-core-2.14.2-4 for master\n\nThis partially reverts 9c69b90a0ecdb99a1745444118f86455028fdaeb .\nThe issue is supposed to be fixed by the dependent change.\n\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/874382\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/876254\nChange-Id: I71be38ca4b2d00897c507ac0bb7b376a30f7e4f8\n'}, {'number': 3, 'created': '2023-03-22 02:09:21.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/66f9107b06980cd500b70340e4db47898b832ab1', 'message': 'top excluding ansible-core-2.14.2-4 for master\n\n... because RDO now provides the ansible package rebuilt which uses\npython 3.9.\n\nChange-Id: I71be38ca4b2d00897c507ac0bb7b376a30f7e4f8\n'}]",2,876247,66f9107b06980cd500b70340e4db47898b832ab1,11,2,3,9816,,,0,"top excluding ansible-core-2.14.2-4 for master

... because RDO now provides the ansible package rebuilt which uses
python 3.9.

Change-Id: I71be38ca4b2d00897c507ac0bb7b376a30f7e4f8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/47/876247/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-9/master.yml'],1,806ae13eca2b2230410722d187ddd639fa6c5b1a,,, - ansible-core-2.14.2-4* # TODO(marios) https://bugs.launchpad.net/tripleo/+bug/2007659,0,1
openstack%2Ftripleo-ansible~master~I5bd958070e637c6589bbca4ff1e36f0556aea5a4,openstack/tripleo-ansible,master,I5bd958070e637c6589bbca4ff1e36f0556aea5a4,Stop using filters from ansible.netcommon,ABANDONED,2023-03-03 07:51:24.000000000,2023-05-18 04:31:25.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-03-03 07:51:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/net_ip_map.j2', 'tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml', 'tripleo_ansible/roles/octavia_controller_config/vars/main.yml', 'tripleo_ansible/roles/tripleo_mysql_client/templates/tripleo.cnf.j2', 'tripleo_ansible/roles/octavia_overcloud_config/vars/main.yml', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/requirements.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4339591c7e28a606eeedb50675a868e514289a22', 'message': 'Stop using filters from ansible.netcommon\n\nThe filters from ansible.netcommon requires some libraries (netaddr)\nare installed in controller side. This does not work in case ansible\nis installed in a different python version.\n\nChange-Id: I5bd958070e637c6589bbca4ff1e36f0556aea5a4\n'}]",0,876254,4339591c7e28a606eeedb50675a868e514289a22,4,3,1,9816,,,0,"Stop using filters from ansible.netcommon

The filters from ansible.netcommon requires some libraries (netaddr)
are installed in controller side. This does not work in case ansible
is installed in a different python version.

Change-Id: I5bd958070e637c6589bbca4ff1e36f0556aea5a4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/876254/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/templates/net_ip_map.j2', 'tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml', 'tripleo_ansible/roles/octavia_controller_config/vars/main.yml', 'tripleo_ansible/roles/tripleo_mysql_client/templates/tripleo.cnf.j2', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/requirements.yml', 'tripleo_ansible/roles/octavia_overcloud_config/vars/main.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2']",8,4339591c7e28a606eeedb50675a868e514289a22,,"--db-nb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip | ansible.utils.ipwrap }} \--db-nb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.utils.ipwrap }} \--db-nb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.utils.ipwrap }} \--db-sb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip | ansible.utils.ipwrap }} \--db-sb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.utils.ipwrap }} \--db-sb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.utils.ipwrap }} \--ovnnb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips | ansible.utils.ipwrap) | map('join', ':') | product([tripleo_ovn_cluster_nb_db_port]) | map('join', ':') | join(',') }} \ --ovnsb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips | ansible.utils.ipwrap) | map('join', ':') | product([tripleo_ovn_cluster_sb_db_port]) | map('join', ':') | join(',') }}""","--db-nb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip | ansible.netcommon.ipwrap }} \--db-nb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--db-nb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--db-sb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip | ansible.netcommon.ipwrap }} \--db-sb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--db-sb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--ovnnb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips | ansible.netcommon.ipwrap) | map('join', ':') | product([tripleo_ovn_cluster_nb_db_port]) | map('join', ':') | join(',') }} \ --ovnsb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips | ansible.netcommon.ipwrap) | map('join', ':') | product([tripleo_ovn_cluster_sb_db_port]) | map('join', ':') | join(',') }}""",15,19
openstack%2Ftripleo-ansible~master~Ia9e244daf33b547d6b274badb3a46230a35dee57,openstack/tripleo-ansible,master,Ia9e244daf33b547d6b274badb3a46230a35dee57,remove unicode from code,ABANDONED,2022-08-19 02:03:25.000000000,2023-05-18 04:29:48.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-19 02:03:25.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69f9a3805632b55edc1d0b159969985571c23e5f', 'message': 'remove unicode from code\n\nChange-Id: Ia9e244daf33b547d6b274badb3a46230a35dee57\n'}]",0,853726,69f9a3805632b55edc1d0b159969985571c23e5f,4,2,1,35067,,,0,"remove unicode from code

Change-Id: Ia9e244daf33b547d6b274badb3a46230a35dee57
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/853726/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,69f9a3805632b55edc1d0b159969985571c23e5f,,"project = 'tripleo-ansible Release Notes' copyright = '2019, TripleO Developers' ('index', 'tripleo-ansibleReleaseNotes.tex', 'tripleo-ansible Release Notes Documentation', '2016, TripleO Developers', 'manual'), ('index', 'tripleo-ansiblereleasenotes', 'tripleo-ansible Release Notes Documentation', ['2016, TripleO Developers'], 1) ('index', 'tripleo-ansibleReleaseNotes', 'tripleo-ansible Release Notes Documentation', '2016, TripleO Developers', 'tripleo-ansibleReleaseNotes', 'One line description of project.',","project = u'tripleo-ansible Release Notes' copyright = u'2019, TripleO Developers' ('index', 'tripleo-ansibleReleaseNotes.tex', u'tripleo-ansible Release Notes Documentation', u'2016, TripleO Developers', 'manual'), ('index', 'tripleo-ansiblereleasenotes', u'tripleo-ansible Release Notes Documentation', [u'2016, TripleO Developers'], 1) ('index', 'tripleo-ansibleReleaseNotes', u'tripleo-ansible Release Notes Documentation', u'2016, TripleO Developers', 'tripleo-ansibleReleaseNotes', 'One line description of project.',",12,12
openstack%2Ftripleo-common~master~Id5b53802840026ecebb36a444f6d5c2ea07d6688,openstack/tripleo-common,master,Id5b53802840026ecebb36a444f6d5c2ea07d6688,Remove workaround for nettle on tcib base image,NEW,2023-03-24 11:01:13.000000000,2023-05-18 04:26:37.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-24 11:01:13.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f48e4d0815eb7d207eabb114de7b234b5dc0f0ca', 'message': 'Remove workaround for nettle on tcib base image\n\nThis removes an earlier workaround for related-bug as it is now\ncausing new bug [1]\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2181513\nRelated-Bug: 1984237\n\nChange-Id: Id5b53802840026ecebb36a444f6d5c2ea07d6688\n'}]",2,878524,f48e4d0815eb7d207eabb114de7b234b5dc0f0ca,4,2,1,8449,,,0,"Remove workaround for nettle on tcib base image

This removes an earlier workaround for related-bug as it is now
causing new bug [1]

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2181513
Related-Bug: 1984237

Change-Id: Id5b53802840026ecebb36a444f6d5c2ea07d6688
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/878524/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,f48e4d0815eb7d207eabb114de7b234b5dc0f0ca,,,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. # See: https://bugzilla.redhat.com/show_bug.cgi?id=2154924 and # https://bugs.launchpad.net/tripleo/+bug/1984237 - run: >- if [ '{{ tcib_release }}' == '9' ];then dnf -y install nettle-3.8-3.el9; fi",0,9
openstack%2Ftripleo-common~master~Ic3f9918935bcddfe5fded23a56cd0ff082e60804,openstack/tripleo-common,master,Ic3f9918935bcddfe5fded23a56cd0ff082e60804,healthcheck: Fix the conf path of ironic-api,ABANDONED,2023-05-14 08:33:55.000000000,2023-05-18 04:25:07.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-14 08:33:55.000000000', 'files': ['healthcheck/ironic-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4d02d5857635d0e299fc005517cb5961f48c827a', 'message': 'healthcheck: Fix the conf path of ironic-api\n\nironic-api healthcheck always fails because\n/etc/httpd/conf.d/10-ironic_wsgi.conf is no longer used.\n\nUse /etc/httpd/conf.d/10-ironic_api.conf instead to get the virtual host\ninformation.\n\nChange-Id: Ic3f9918935bcddfe5fded23a56cd0ff082e60804\n'}]",1,883100,4d02d5857635d0e299fc005517cb5961f48c827a,4,2,1,34260,,,0,"healthcheck: Fix the conf path of ironic-api

ironic-api healthcheck always fails because
/etc/httpd/conf.d/10-ironic_wsgi.conf is no longer used.

Use /etc/httpd/conf.d/10-ironic_api.conf instead to get the virtual host
information.

Change-Id: Ic3f9918935bcddfe5fded23a56cd0ff082e60804
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/883100/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-api'],1,4d02d5857635d0e299fc005517cb5961f48c827a,fix_ironic_api_healthcheck,check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-ironic_api.conf),check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-ironic_wsgi.conf),1,1
openstack%2Fos-traits~master~I6605af9474a588ad283e5b1f571839c239e3c746,openstack/os-traits,master,I6605af9474a588ad283e5b1f571839c239e3c746,"CPU: add traits for new X86 feature ""AMX""",NEW,2022-12-20 01:26:18.000000000,2023-05-18 03:56:08.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 01:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/1ed7094e7dcc90b52418f2f622fa8fda3f3eeab3', 'message': 'CPU: add traits for new X86 feature ""AMX""\n\nAdd three standard traits for the support of new CPU AMX [1]\ninstructions, which includes \'AMXBF16\', \'AMXINT8\' and\n\'AMXTILE\'.\n\n[1] https://en.wikipedia.org/wiki/Advanced_Matrix_Extensions\n\nSigned-off-by: Lin Yang <lin.a.yang@intel.com>\nChange-Id: I6605af9474a588ad283e5b1f571839c239e3c746\n'}, {'number': 2, 'created': '2023-04-24 21:59:11.000000000', 'files': ['os_traits/hw/cpu/x86/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/57e4943e93a795eff2e62ea0eea0dff706be1349', 'message': 'CPU: add traits for new X86 feature ""AMX""\n\nAdd three standard traits for the support of new CPU AMX [1]\ninstructions, which includes \'AMXBF16\', \'AMXINT8\' and\n\'AMXTILE\'.\n\n[1] https://en.wikipedia.org/wiki/Advanced_Matrix_Extensions\n\nSigned-off-by: Lin Yang <lin.a.yang@intel.com>\nChange-Id: I6605af9474a588ad283e5b1f571839c239e3c746\n'}]",4,868149,57e4943e93a795eff2e62ea0eea0dff706be1349,8,2,2,12597,,,0,"CPU: add traits for new X86 feature ""AMX""

Add three standard traits for the support of new CPU AMX [1]
instructions, which includes 'AMXBF16', 'AMXINT8' and
'AMXTILE'.

[1] https://en.wikipedia.org/wiki/Advanced_Matrix_Extensions

Signed-off-by: Lin Yang <lin.a.yang@intel.com>
Change-Id: I6605af9474a588ad283e5b1f571839c239e3c746
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/49/868149/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/hw/cpu/x86/__init__.py'],1,1ed7094e7dcc90b52418f2f622fa8fda3f3eeab3,," # ref: https://en.wikipedia.org/wiki/Advanced_Matrix_Extensions 'AMXBF16', 'AMXINT8', 'AMXTILE',",,4,0
openstack%2Fmasakari~master~I60e0beb4194e3766a3dcc2e6d532a407eafc0940,openstack/masakari,master,I60e0beb4194e3766a3dcc2e6d532a407eafc0940,Add initial alembic framework,NEW,2023-03-24 01:37:39.000000000,2023-05-18 02:12:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-24 01:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/214ba2a348928ddb54b196a3045c50ec9e8f15cd', 'message': ""Add initial alembic framework\n\nUsing 'alembic init' to generate the alembic framework, first step of\nmigration from sqlalchemy-migrate to alembic.\n\nChange-Id: I60e0beb4194e3766a3dcc2e6d532a407eafc0940\n""}, {'number': 2, 'created': '2023-03-24 03:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/11a5dfec8d2d924ef017d0b3757a095394f7d695', 'message': ""Add initial alembic framework\n\nUsing 'alembic init' to generate the alembic framework, first step of\nmigration from sqlalchemy-migrate to alembic.\n\nChange-Id: I60e0beb4194e3766a3dcc2e6d532a407eafc0940\n""}, {'number': 3, 'created': '2023-03-24 03:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9abe1bbf35af6bbee0b676e28b6b259f3679542a', 'message': ""Add initial alembic framework\n\nUsing 'alembic init' to generate the alembic framework, first step of\nmigration from sqlalchemy-migrate to alembic.\n\nChange-Id: I60e0beb4194e3766a3dcc2e6d532a407eafc0940\n""}, {'number': 4, 'created': '2023-05-18 01:33:44.000000000', 'files': ['masakari/db/sqlalchemy/alembic.ini', 'requirements.txt', 'masakari/db/sqlalchemy/migrations/README', 'masakari/db/sqlalchemy/migrations/env.py', 'masakari/db/sqlalchemy/migrations/script.py.mako'], 'web_link': 'https://opendev.org/openstack/masakari/commit/5feacecf02769c9a643f8e258840140caf642769', 'message': ""Add initial alembic framework\n\nUsing 'alembic init' to generate the alembic framework, first step of\nmigration from sqlalchemy-migrate to alembic.\n\nChange-Id: I60e0beb4194e3766a3dcc2e6d532a407eafc0940\n""}]",0,878500,5feacecf02769c9a643f8e258840140caf642769,8,1,4,30623,,,0,"Add initial alembic framework

Using 'alembic init' to generate the alembic framework, first step of
migration from sqlalchemy-migrate to alembic.

Change-Id: I60e0beb4194e3766a3dcc2e6d532a407eafc0940
",git fetch https://review.opendev.org/openstack/masakari refs/changes/00/878500/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/db/migrations/script.py.mako', 'masakari/db/alembic.ini', 'masakari/db/migrations/env.py', 'masakari/db/migrations/README']",4,214ba2a348928ddb54b196a3045c50ec9e8f15cd,remove-sqlalchemy-migrate,Generic single-database configuration.,,235,0
openstack%2Fvenus-tempest-plugin~master~If3c3ef89f3b99ffe53a4d1d3197367976262ea58,openstack/venus-tempest-plugin,master,If3c3ef89f3b99ffe53a4d1d3197367976262ea58,remove venus-tempest-plugin-master dir,MERGED,2023-04-03 09:15:00.000000000,2023-05-18 01:43:41.000000000,2023-05-18 01:43:41.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-04-03 09:15:00.000000000', 'files': ['venus-tempest-plugin-master/.gitignore', 'venus-tempest-plugin-master/.coveragerc', 'venus-tempest-plugin-master/.gitreview', 'venus-tempest-plugin-master/.mailmap', 'venus-tempest-plugin-master/.stestr.conf', 'venus-tempest-plugin-master/.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/venus-tempest-plugin/commit/76ec2a0d5953c17c308b5b8e8e06fa8d666b8ef4', 'message': 'remove venus-tempest-plugin-master dir\n\nremove venus-tempest-plugin-master dir because there is no master code\n\nChange-Id: If3c3ef89f3b99ffe53a4d1d3197367976262ea58\n'}]",0,879290,76ec2a0d5953c17c308b5b8e8e06fa8d666b8ef4,6,4,1,30409,,,0,"remove venus-tempest-plugin-master dir

remove venus-tempest-plugin-master dir because there is no master code

Change-Id: If3c3ef89f3b99ffe53a4d1d3197367976262ea58
",git fetch https://review.opendev.org/openstack/venus-tempest-plugin refs/changes/90/879290/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus-tempest-plugin-master/.gitignore', 'venus-tempest-plugin-master/.coveragerc', 'venus-tempest-plugin-master/.gitreview', 'venus-tempest-plugin-master/.mailmap', 'venus-tempest-plugin-master/.stestr.conf', 'venus-tempest-plugin-master/.zuul.yaml']",6,76ec2a0d5953c17c308b5b8e8e06fa8d666b8ef4,master7,,"- project: templates: - check-requirements - tempest-plugin-jobs check: jobs: - venus-tempest - venus-tempest-ipv6-only gate: queue: venus - job: name: venus-tempest description: | Venus devstack tempest tests job for < Ussuri release run on python 2. voting: false parent: devstack-tempest timeout: 7800 required-projects: &base_required_projects - openstack/venus - openstack/python-venusclient - openstack/tempest - openstack/venus-tempest-plugin vars: &base_vars devstack_plugins: venus: https://opendev.org/openstack/venus devstack_services: tempest: true s-account: false s-container: false s-object: false s-proxy: false tls-proxy: false devstack_localrc: TEMPEST_PLUGINS: ""/opt/stack/venus-tempest-plugin"" tempest_test_regex: venus_tempest_plugin tox_envlist: all irrelevant-files: &base_irrelevant_files - ^.*\.rst$ - ^doc/.*$ - ^setup.cfg$ - ^releasenotes/.*$ - ^(test-|)requirements.txt$ - ^.git.*$ - ^tox.ini$ # NOTE(gmann): This job is for < Ussuri for testing # on py2. branches: - stable/ocata - stable/pike - stable/queens - stable/rocky - stable/stein - stable/train - job: name: venus-tempest description: | Venus devstack tempest tests job for >=Ussuri release run on python 3. parent: devstack-tempest timeout: 7800 required-projects: - openstack/venus - openstack/python-venusclient - openstack/tempest - openstack/venus-tempest-plugin vars: devstack_plugins: venus: https://opendev.org/openstack/venus devstack_services: tempest: true s-account: false s-container: false s-object: false s-proxy: false tls-proxy: false c-api: false c-bak: false c-sch: false c-vol: false cinder: false devstack_localrc: TEMPEST_PLUGINS: ""/opt/stack/venus-tempest-plugin"" USE_PYTHON3: true tempest_test_regex: venus_tempest_plugin tox_envlist: all irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^setup.cfg$ - ^releasenotes/.*$ - ^(test-|)requirements.txt$ - ^.git.*$ - ^tox.ini$ - job: name: venus-tempest-ipv6-only parent: devstack-tempest-ipv6 description: | Venus devstack tempest tests job for IPv6-only deployment voting: false timeout: 7800 required-projects: *base_required_projects vars: *base_vars irrelevant-files: *base_irrelevant_files ",0,190
openstack%2Ftripleo-common~stable%2Ftrain~Ic31b39811eebc0a0e65df94e08e38b39d24a7015,openstack/tripleo-common,stable/train,Ic31b39811eebc0a0e65df94e08e38b39d24a7015,Add Python MySQL drivers to the horizon container,MERGED,2022-10-25 12:51:21.000000000,2023-05-18 01:22:14.000000000,2023-05-18 01:21:18.000000000,"[{'_account_id': 7144}, {'_account_id': 8648}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 33983}]","[{'number': 1, 'created': '2022-10-25 12:51:21.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6da64def9d410d01eb641d35c418ac1ccadba169', 'message': 'Add Python MySQL drivers to the horizon container\n\nHorizon has an option for using a MySQL database for session storage in\nplace of Memcached, and some customers prefer that option. However, for\nthat to work we need to have the Python MySQL drivers installed in the\ncontainer.\n\nChange-Id: Ic31b39811eebc0a0e65df94e08e38b39d24a7015\n(cherry picked from commit e80399dc3dae5b5ebf61f0fb86b835b6c8fee46c)\n'}]",3,862574,6da64def9d410d01eb641d35c418ac1ccadba169,18,6,1,8648,,,0,"Add Python MySQL drivers to the horizon container

Horizon has an option for using a MySQL database for session storage in
place of Memcached, and some customers prefer that option. However, for
that to work we need to have the Python MySQL drivers installed in the
container.

Change-Id: Ic31b39811eebc0a0e65df94e08e38b39d24a7015
(cherry picked from commit e80399dc3dae5b5ebf61f0fb86b835b6c8fee46c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/862574/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/horizon/horizon.yaml'],1,6da64def9d410d01eb641d35c418ac1ccadba169,horizon-add-mysql-stable/wallaby-stable/train, - python3-PyMySQL,,1,0
openstack%2Fpuppet-aodh~master~Ie22e1ae00109adc8f8dc7c5ef25533b42698eaac,openstack/puppet-aodh,master,Ie22e1ae00109adc8f8dc7c5ef25533b42698eaac,DNM: Testing puppet 8 jobs,ABANDONED,2023-05-04 03:58:01.000000000,2023-05-18 01:14:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 03:58:01.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/32a5abc069e2b8b5450bedf622325688952a1aa6', 'message': 'DNM: Testing puppet 8 jobs\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/881790\nChange-Id: Ie22e1ae00109adc8f8dc7c5ef25533b42698eaac\n'}]",0,882189,32a5abc069e2b8b5450bedf622325688952a1aa6,3,1,1,9816,,,0,"DNM: Testing puppet 8 jobs

Depends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/881790
Change-Id: Ie22e1ae00109adc8f8dc7c5ef25533b42698eaac
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/89/882189/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,32a5abc069e2b8b5450bedf622325688952a1aa6,puppet8,,,1,0
openstack%2Ftripleo-common~stable%2Fwallaby~I623fd2d4b336bf1b1773aee5d154ae17a5b37115,openstack/tripleo-common,stable/wallaby,I623fd2d4b336bf1b1773aee5d154ae17a5b37115,DNM: Testing probably appropriate fix,ABANDONED,2023-05-17 11:43:46.000000000,2023-05-18 01:12:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 11:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3154b512ef51d115bca7be5554f00f9b11b67d78', 'message': 'DNM: Testing probably appropriate fix\n\nChange-Id: I623fd2d4b336bf1b1773aee5d154ae17a5b37115\n'}, {'number': 2, 'created': '2023-05-17 11:46:05.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8135ddbf9cef3a09baee68deb683a15fbb1b4bbb', 'message': 'DNM: Testing probably appropriate fix\n\nChange-Id: I623fd2d4b336bf1b1773aee5d154ae17a5b37115\n'}]",2,883357,8135ddbf9cef3a09baee68deb683a15fbb1b4bbb,6,1,2,9816,,,0,"DNM: Testing probably appropriate fix

Change-Id: I623fd2d4b336bf1b1773aee5d154ae17a5b37115
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/883357/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/uid_gid_manage.sh'],1,3154b512ef51d115bca7be5554f00f9b11b67d78,,"_SUPPORTED_USERS['nova_migration']='nova_migration 989 989 /var/lib/nova_migration kolla /bin/bash' _SHELL= _SHELL=$(echo ${_SUPPORTED_USERS[$_USER_TO_CREATE]} | awk '{ print $6 }') if [[ ""$_HOME_DIR"" == ""/"" ]]; then _HOME_ARGS=""-M -d $_HOME_DIR"" else _HOME_ARGS=""-m -d $_HOME_DIR"" fi fi if [[ -z $_SHELL ]]; then _SHELL_ARGS=""--shell /usr/sbin/nologin"" else _SHELL_ARGS=""--shell $_SHELL"" if [[ ""$_HOME_DIR"" == ""/"" ]]; then # do not create/chown the directory if / is used else _EXTRA_PERMS=""&& mkdir -p $_HOME_DIR && chown -R $_UID:$_GID $_HOME_DIR"" fi _USERADD_CMD=""useradd -l ${_HOME_ARGS} ${_SHELL_ARGS} --uid $_UID --gid $_GID ${_EXTRA_GROUPS_ARG} $_NAME""","_SUPPORTED_USERS['nova_migration']='nova_migration 989 989 /var/lib/nova_migration kolla' _HOME_ARGS=""-m --home $_HOME_DIR"" _EXTRA_PERMS=""&& mkdir -p $_HOME_DIR && chown -R $_UID:$_GID $_HOME_DIR"" _USERADD_CMD=""useradd -l ${_HOME_ARGS} --shell /usr/sbin/nologin --uid $_UID --gid $_GID ${_EXTRA_GROUPS_ARG} $_NAME""",20,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5be0bc1c928f504d282a19bd8eb6a914fc7a8a01,openstack/tripleo-heat-templates,stable/wallaby,I5be0bc1c928f504d282a19bd8eb6a914fc7a8a01,Fix requirement to track wallaby.,MERGED,2023-05-05 13:38:34.000000000,2023-05-18 00:55:07.000000000,2023-05-18 00:55:07.000000000,"[{'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-05-05 13:38:34.000000000', 'files': ['tripleo_heat_templates/tests/tht-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d40f8a50dabe6af6a0addfd273bf2af29388d2d4', 'message': ""Fix requirement to track wallaby.\n\nCurrently it's tracking master which is not maintained anymore.\n\nChange-Id: I5be0bc1c928f504d282a19bd8eb6a914fc7a8a01\n""}]",3,882443,d40f8a50dabe6af6a0addfd273bf2af29388d2d4,15,5,1,8297,,,0,"Fix requirement to track wallaby.

Currently it's tracking master which is not maintained anymore.

Change-Id: I5be0bc1c928f504d282a19bd8eb6a914fc7a8a01
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/882443/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_heat_templates/tests/tht-role-requirements.yml'],1,d40f8a50dabe6af6a0addfd273bf2af29388d2d4,ha_image_upd-stable/wallaby, version: stable/wallaby trackbranch: stable/wallaby, version: master trackbranch: master,2,2
openstack%2Fpuppet-keystone~master~I099f85c918e867e7af6a1443e6ec8f718671b8cc,openstack/puppet-keystone,master,I099f85c918e867e7af6a1443e6ec8f718671b8cc,Remove unnecessary restart resource,ABANDONED,2023-05-17 01:58:13.000000000,2023-05-18 00:54:03.000000000,,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 01:58:13.000000000', 'files': ['spec/defines/keystone_ldap_backend_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7714bcf81fe6d838e3e83a74ccb43108cb117c3a', 'message': 'Remove unnecessary restart resource\n\nIt is causing failure in unit tests with Puppet 8, because of\nthe undefined service_name_real variable.\n\nChange-Id: I099f85c918e867e7af6a1443e6ec8f718671b8cc\n'}]",0,883321,7714bcf81fe6d838e3e83a74ccb43108cb117c3a,6,3,1,9816,,,0,"Remove unnecessary restart resource

It is causing failure in unit tests with Puppet 8, because of
the undefined service_name_real variable.

Change-Id: I099f85c918e867e7af6a1443e6ec8f718671b8cc
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/21/883321/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/keystone_ldap_backend_spec.rb'],1,7714bcf81fe6d838e3e83a74ccb43108cb117c3a,,," exec { 'restart_keystone': path => ['/usr/sbin', '/usr/bin', '/sbin', '/bin/'], command => ""service ${service_name_real} restart"", refreshonly => true, }",0,5
openstack%2Fopenstack-ansible-ceph_client~master~If3e0d8205a33b00a07bea530d9d7317e83f5b0d6,openstack/openstack-ansible-ceph_client,master,If3e0d8205a33b00a07bea530d9d7317e83f5b0d6,Remove conditional code for ubuntu version earlier than 20.x,MERGED,2023-05-10 14:06:29.000000000,2023-05-18 00:33:40.000000000,2023-05-18 00:32:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-10 14:06:29.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/3502645d5a8f8aeb3ebe1275f467ecb4aee9edd5', 'message': 'Remove conditional code for ubuntu version earlier than 20.x\n\nThis has not been supported for a while in openstack-ansible so\ntidy up the old code.\n\nChange-Id: If3e0d8205a33b00a07bea530d9d7317e83f5b0d6\n'}]",3,882826,3502645d5a8f8aeb3ebe1275f467ecb4aee9edd5,10,3,1,25023,,,0,"Remove conditional code for ubuntu version earlier than 20.x

This has not been supported for a while in openstack-ansible so
tidy up the old code.

Change-Id: If3e0d8205a33b00a07bea530d9d7317e83f5b0d6
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/26/882826/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,3502645d5a8f8aeb3ebe1275f467ecb4aee9edd5,,libvirt_packages: - libvirt-daemon-system,"# LibVirt differentials between Debian and Ubuntu libvirt_packages: - ""{{ (ansible_facts['distribution'] == 'Ubuntu' and ansible_facts['distribution_major_version'] is version('20', '<')) | ternary('libvirt-bin', 'libvirt-daemon-system') }}""",1,2
openstack%2Fopenstack-ansible~master~I7d1969967a78936ba79645b62a354201d2deab6c,openstack/openstack-ansible,master,I7d1969967a78936ba79645b62a354201d2deab6c,Remove redundant `repo_server_enable_sync_manager` variable,MERGED,2023-05-10 15:00:30.000000000,2023-05-17 23:42:27.000000000,2023-05-17 23:41:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-10 15:00:30.000000000', 'files': ['inventory/group_vars/repo_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13145d7ec4fbb23535a10e1b110578e201253bec', 'message': 'Remove redundant `repo_server_enable_sync_manager` variable\n\nThis was used to transiton fron lsyncd to glusterfs which is\nnow complete and there is no use of this var any more.\n\nChange-Id: I7d1969967a78936ba79645b62a354201d2deab6c\n'}]",1,882862,13145d7ec4fbb23535a10e1b110578e201253bec,8,3,1,25023,,,0,"Remove redundant `repo_server_enable_sync_manager` variable

This was used to transiton fron lsyncd to glusterfs which is
now complete and there is no use of this var any more.

Change-Id: I7d1969967a78936ba79645b62a354201d2deab6c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/882862/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/repo_all.yml'],1,13145d7ec4fbb23535a10e1b110578e201253bec,,,"# Transition to shared filesystem, disable lsyncd deployment repo_server_enable_sync_manager: False ",0,3
openstack%2Fnova~stable%2Fyoga~I16ed1143ead3779c87698aa29bac005678db2993,openstack/nova,stable/yoga,I16ed1143ead3779c87698aa29bac005678db2993,Add reno for fixing bug 1941005,MERGED,2022-08-16 11:22:04.000000000,2023-05-17 23:30:06.000000000,2023-05-17 23:28:15.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-16 11:22:04.000000000', 'files': ['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/19bac6e9c362ee692f4be92041bb3f6c3b9b6c23', 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n'}]",4,853268,19bac6e9c362ee692f4be92041bb3f6c3b9b6c23,11,3,1,9708,,,0,"Add reno for fixing bug 1941005

Related-Bug: #1941005
Related-Bug: #1983753
Change-Id: I16ed1143ead3779c87698aa29bac005678db2993
(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/853268/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'],1,19bac6e9c362ee692f4be92041bb3f6c3b9b6c23,bug/1941005,--- fixes: - | `Bug #1941005 <https://bugs.launchpad.net/nova/+bug/1941005>`_ is fixed. During resize Nova now uses the PCI requests from the new flavor to select the destination host. ,,6,0
openstack%2Fnova~stable%2Fyoga~I73c9ae27e9c42ee211a53bed3d849650b65f08be,openstack/nova,stable/yoga,I73c9ae27e9c42ee211a53bed3d849650b65f08be,Update RequestSpec.pci_request for resize,MERGED,2022-08-16 11:22:04.000000000,2023-05-17 23:29:15.000000000,2023-05-17 23:28:09.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-08-16 11:22:04.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6c7ee07ad2a6503b8aad0921cca70e61e60259d', 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n'}]",3,853267,b6c7ee07ad2a6503b8aad0921cca70e61e60259d,13,4,1,9708,,,0,"Update RequestSpec.pci_request for resize

Nova uses the RequestSpec.pci_request in the PciPassthroughFilter to
decide if the PCI devicesm, requested via the pci_alias in the flavor
extra_spec, are available on a potential target host. During resize the
new flavor might contain different pci_alias request than the old flavor
of the instance. In this case Nova should use the pci_alias from the new
flavor to scheduler the destination host of the resize. However this
logic was missing and Nova used the old pci_request value based on the
old flavor. This patch adds the missing logic.

Closes-Bug: #1983753
Closes-Bug: #1941005
Change-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be
(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/853267/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",4,b6c7ee07ad2a6503b8aad0921cca70e61e60259d,bug/1941005, fake_spec = objects.RequestSpec( pci_requests=objects.InstancePCIRequests(requests=[])), fake_spec = objects.RequestSpec(),29,28
openstack%2Frequirements~master~I34c6c17cb7daf37ff0995ae3f8c8f7914b78bad0,openstack/requirements,master,I34c6c17cb7daf37ff0995ae3f8c8f7914b78bad0,update constraint for keystoneauth1 to new release 5.2.0,MERGED,2023-05-17 11:12:51.000000000,2023-05-17 23:29:13.000000000,2023-05-17 23:28:19.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 11:12:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/afd822d5192aee2c91795e8ba44a22d67953f629', 'message': 'update constraint for keystoneauth1 to new release 5.2.0\n\nmeta: version: 5.2.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ie82802dd77a0cbf8a7de42939a434acc8f054713\nmeta: release:Code-Review+1: David Wilde <dwilde@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I34c6c17cb7daf37ff0995ae3f8c8f7914b78bad0\n'}]",1,883348,afd822d5192aee2c91795e8ba44a22d67953f629,12,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 5.2.0

meta: version: 5.2.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ie82802dd77a0cbf8a7de42939a434acc8f054713
meta: release:Code-Review+1: David Wilde <dwilde@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I34c6c17cb7daf37ff0995ae3f8c8f7914b78bad0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/883348/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,afd822d5192aee2c91795e8ba44a22d67953f629,new-release,keystoneauth1===5.2.0,keystoneauth1===5.1.2,1,1
openstack%2Fswift~master~Ib864c7dc6c8c7bb849f4f97a1239eb5cc04c424c,openstack/swift,master,Ib864c7dc6c8c7bb849f4f97a1239eb5cc04c424c,Add cap_length helper,MERGED,2022-02-25 18:58:02.000000000,2023-05-17 23:22:21.000000000,2023-05-17 23:20:30.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-25 18:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/689dab9a7f82640a8cd151f1b740c6e0cb45a2f4', 'message': 'Add cap_length helper\n\nChange-Id: Ib864c7dc6c8c7bb849f4f97a1239eb5cc04c424c\n'}, {'number': 2, 'created': '2023-01-24 17:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/32081ad100de2610cd69fb5238108fa87b056f7d', 'message': 'Add cap_length helper\n\nChange-Id: Ib864c7dc6c8c7bb849f4f97a1239eb5cc04c424c\n'}, {'number': 3, 'created': '2023-04-06 03:54:59.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'swift/obj/ssync_sender.py', 'swift/common/utils/__init__.py', 'swift/proxy/server.py', 'test/unit/common/test_utils.py', 'swift/obj/ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0a4e41701dbb5795ff4cab7a2c68a41c90bd51e7', 'message': 'Add cap_length helper\n\nChange-Id: Ib864c7dc6c8c7bb849f4f97a1239eb5cc04c424c\n'}]",6,831020,0a4e41701dbb5795ff4cab7a2c68a41c90bd51e7,15,2,3,15343,,,0,"Add cap_length helper

Change-Id: Ib864c7dc6c8c7bb849f4f97a1239eb5cc04c424c
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/831020/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'swift/common/utils.py', 'swift/obj/ssync_sender.py', 'test/unit/common/test_utils.py', 'swift/obj/ssync_receiver.py', 'swift/proxy/controllers/base.py']",6,689dab9a7f82640a8cd151f1b740c6e0cb45a2f4,," cache_from_env, MetricsPrefixLoggerAdapter, cap_length 'body': cap_length(self.bodies[-1], 1024),"," cache_from_env, MetricsPrefixLoggerAdapter 'body': self.bodies[-1][:1024],",32,14
openstack%2Fpython-openstackclient~master~I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4,openstack/python-openstackclient,master,I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4,volume: Add 'volume qos set --no-property' option,MERGED,2017-02-14 05:43:00.000000000,2023-05-17 23:22:21.000000000,2023-05-17 23:20:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-02-14 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3d0683b8f10bb756bbe11231f0a894054d6b4f20', 'message': 'Support ""--no-property"" option in volume qos set\n\nSupporting ""--no-property"" option will apply user a convenient\nway to clean all properties of volume qos in a short command,\nand this kind of behavior is the recommended way to devref.\nThe patch adds ""--no-property"" option in ""volume qos set"" command,\nand update related test cases and devref document.\n\nChange-Id: I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4\n'}, {'number': 2, 'created': '2017-02-27 03:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fbf0bb93ce7a671b8e08d1ab8856b0087891e137', 'message': 'Support ""--no-property"" option in volume qos set\n\nSupporting ""--no-property"" option will apply user a convenient\nway to clean all properties of volume qos in a short command,\nand this kind of behavior is the recommended way to devref.\nThe patch adds ""--no-property"" option in ""volume qos set"" command,\nand update related test cases and devref document.\n\nChange-Id: I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4\n'}, {'number': 3, 'created': '2021-03-19 16:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/378da929e3739574bf8de43ec8ecfda7dc71ec3c', 'message': 'volume: Add \'volume qos set --no-property\' option\n\nSupporting ""--no-property"" option will apply user a convenient\nway to clean all properties of volume qos in a short command,\nand this kind of behavior is the recommended way to devref.\nThe patch adds ""--no-property"" option in ""volume qos set"" command,\nand update related test cases and devref document.\n\nChange-Id: I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4\n'}, {'number': 4, 'created': '2023-05-17 12:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6604077f8aad3410795bdb14da97ab9ab106c865', 'message': 'volume: Add \'volume qos set --no-property\' option\n\nSupporting ""--no-property"" option will apply user a convenient way to\nclean all properties of volume qos in a short command. The patch adds\n""--no-property"" option in ""volume qos set"" command and update related\ntest cases and docs.\n\nChange-Id: I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4\n'}, {'number': 5, 'created': '2023-05-17 15:50:30.000000000', 'files': ['doc/source/cli/command-objects/volume-qos.rst', 'openstackclient/tests/functional/volume/v1/test_qos.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'releasenotes/notes/add-volume-qos-set-no-property-option-348480dfc42a0a64.yaml', 'openstackclient/volume/v2/qos_specs.py', 'openstackclient/volume/v1/qos_specs.py', 'openstackclient/tests/functional/volume/v2/test_qos.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/functional/volume/v3/test_qos.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/629eb33c4dcb73d44d1a4c6105e40d28f6cebdfc', 'message': 'volume: Add \'volume qos set --no-property\' option\n\nSupporting ""--no-property"" option will apply user a convenient way to\nclean all properties of volume qos in a short command. The patch adds\n""--no-property"" option in ""volume qos set"" command and update related\ntest cases and docs.\n\nChange-Id: I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4\n'}]",1,433451,629eb33c4dcb73d44d1a4c6105e40d28f6cebdfc,22,2,5,24081,,,0,"volume: Add 'volume qos set --no-property' option

Supporting ""--no-property"" option will apply user a convenient way to
clean all properties of volume qos in a short command. The patch adds
""--no-property"" option in ""volume qos set"" command and update related
test cases and docs.

Change-Id: I1fb5b4f0a923bbf557a3af3f63809bde9e84ffd4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/51/433451/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/command-objects/volume-qos.rst', 'openstackclient/tests/functional/volume/v1/test_qos.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/volume/v2/qos_specs.py', 'openstackclient/volume/v1/qos_specs.py', 'openstackclient/tests/functional/volume/v2/test_qos.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'releasenotes/notes/support-no-property-in-volume-qos-348480dfc42a0a64.yaml']",8,3d0683b8f10bb756bbe11231f0a894054d6b4f20,bp/allow-overwrite-set-options,--- features: - | Add ``--no-property`` option in ``volume qos set``. Supporting ``--no-property`` option will apply user a convenient way to clean all properties of volume qos in a short command. [Blueprint `allow-overwrite-set-options <https://blueprints.launchpad.net/python-openstackclient/+spec/allow-overwrite-set-options>` _] ,,106,18
openstack%2Fnova~stable%2Fyoga~Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,openstack/nova,stable/yoga,Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,Reproducer for bug 1983753,MERGED,2022-08-16 11:22:04.000000000,2023-05-17 23:21:47.000000000,2023-05-17 23:20:34.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-08-16 11:22:04.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1983753.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bdc32226e2d9ce4a073306f8f6267fbe305e64e4', 'message': 'Reproducer for bug 1983753\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n'}]",3,853266,bdc32226e2d9ce4a073306f8f6267fbe305e64e4,12,4,1,9708,,,0,"Reproducer for bug 1983753

Related-Bug: #1983753
Change-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe
(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/853266/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1983753.py'],1,bdc32226e2d9ce4a073306f8f6267fbe305e64e4,bug/1941005,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures from oslo_serialization import jsonutils from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional.api import client from nova.tests.functional.libvirt import test_pci_sriov_servers class TestPciResize(test_pci_sriov_servers._PCIServersTestBase): # these tests use multiple different configs so the whitelist is set by # each testcase individually PCI_PASSTHROUGH_WHITELIST = [] PCI_ALIAS = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, ""name"": ""a-pci-dev"", }, { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PF_PROD_ID, ""device_type"": ""type-PF"", ""name"": ""a-pf"", }, { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.VF_PROD_ID, ""device_type"": ""type-VF"", ""name"": ""a-vf"", }, ] ] def setUp(self): super().setUp() self.useFixture( fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.' 'migrate_disk_and_power_off', return_value='{}' ) ) # These tests should not depend on the host's sysfs self.useFixture( fixtures.MockPatch('nova.pci.utils.is_physical_function')) self.useFixture( fixtures.MockPatch( 'nova.pci.utils.get_function_by_ifname', return_value=(None, False) ) ) def _test_resize_from_two_devs_to_one_dev(self, num_pci_on_dest): # The fake libvirt will emulate on the host: # * two type-PCI in slot 0, 1 compute1_pci_info = fakelibvirt.HostPCIDevicesInfo(num_pci=2) # the config matches the PCI dev compute1_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute1_device_spec) self.start_compute(hostname=""compute1"", pci_info=compute1_pci_info) self.assertPCIDeviceCounts(""compute1"", total=2, free=2) # create a server that requests two PCI devs extra_spec = {""pci_passthrough:alias"": ""a-pci-dev:2""} flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server(flavor_id=flavor_id, networks=[]) self.assertPCIDeviceCounts(""compute1"", total=2, free=0) # start another compute with a different amount of PCI dev available compute2_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pci=num_pci_on_dest) # the config matches the PCI dev compute2_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PCI_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute2_device_spec) self.start_compute(hostname=""compute2"", pci_info=compute2_pci_info) self.assertPCIDeviceCounts( ""compute2"", total=num_pci_on_dest, free=num_pci_on_dest) # resize the server to request only one PCI dev instead of the current # two. This should fit to compute2 having at least one dev extra_spec = {""pci_passthrough:alias"": ""a-pci-dev:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) self._resize_server(server, flavor_id=flavor_id) self._confirm_resize(server) self.assertPCIDeviceCounts(""compute1"", total=2, free=2) self.assertPCIDeviceCounts( ""compute2"", total=num_pci_on_dest, free=num_pci_on_dest - 1) def test_resize_from_two_devs_to_one_dev_dest_has_two_devs(self): # this works self._test_resize_from_two_devs_to_one_dev(num_pci_on_dest=2) def test_resize_from_two_devs_to_one_dev_dest_has_one_dev(self): # This is bug 1983753 as nova uses the old InstancePciRequest during # the scheduling and therefore tries to find a compute with two PCI # devs even though the flavor only requests one. ex = self.assertRaises( client.OpenStackApiException, self._test_resize_from_two_devs_to_one_dev, num_pci_on_dest=1 ) self.assertIn('nova.exception.NoValidHost', str(ex)) def test_resize_from_vf_to_pf(self): # The fake libvirt will emulate on the host: # * one type-PF in slot 0 with one VF compute1_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pfs=1, num_vfs=1) # the config matches only the VF compute1_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.VF_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute1_device_spec) self.start_compute(hostname=""compute1"", pci_info=compute1_pci_info) self.assertPCIDeviceCounts(""compute1"", total=1, free=1) # create a server that requests one Vf extra_spec = {""pci_passthrough:alias"": ""a-vf:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server(flavor_id=flavor_id, networks=[]) self.assertPCIDeviceCounts(""compute1"", total=1, free=0) # start another compute with a single PF dev available # The fake libvirt will emulate on the host: # * one type-PF in slot 0 with 1 VF compute2_pci_info = fakelibvirt.HostPCIDevicesInfo( num_pfs=1, num_vfs=1) # the config matches the PF dev but not the VF compute2_device_spec = [ jsonutils.dumps(x) for x in [ { ""vendor_id"": fakelibvirt.PCI_VEND_ID, ""product_id"": fakelibvirt.PF_PROD_ID, }, ] ] self.flags(group='pci', passthrough_whitelist=compute2_device_spec) self.start_compute(hostname=""compute2"", pci_info=compute2_pci_info) self.assertPCIDeviceCounts(""compute2"", total=1, free=1) # resize the server to request on PF dev instead of the current VF # dev. This should fit to compute2 having exactly one PF dev. extra_spec = {""pci_passthrough:alias"": ""a-pf:1""} flavor_id = self._create_flavor(extra_spec=extra_spec) # This is bug 1983753 as nova uses the old InstancePciRequest during # the scheduling and therefore tries to find a compute with a VF dev # even though the flavor only requests a PF dev. ex = self.assertRaises( client.OpenStackApiException, self._resize_server, server, flavor_id=flavor_id, ) self.assertIn('nova.exception.NoValidHost', str(ex)) ",,193,0
openstack%2Fpython-openstackclient~master~If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e,openstack/python-openstackclient,master,If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e,Allow server rebuild --wait for SHUTOFF servers,MERGED,2023-05-15 12:01:33.000000000,2023-05-17 23:21:33.000000000,2023-05-17 23:20:11.000000000,"[{'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 12:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/49dda12a30cc2e13ec81ef21bc12bba042a89e27', 'message': 'Allow server rebuild --wait for SHUTOFF servers\n\ncurrently the command is waiting only for ACTIVE server status,\nbut if the server was SHUTOFF before, it will be SHUTOFF after\nrebuild as well, so the command is stuck in waiting forever.\n\nAdditionally, we now also pre-validate the server status on client side,\nand raise an error if the server to be rebuilt is not in ACTIVE, ERROR\nor SHUTOFF state.\n\nChange-Id: If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e\nCo-Authored-By: Oleksiy Molchanov <omolchanov@mirantis.com>\nStory: 2010751\nTask: 48005\n'}, {'number': 2, 'created': '2023-05-16 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fbe3f09d1a59df5ec197a4a1c1e496c9b7c114b3', 'message': 'Allow server rebuild --wait for SHUTOFF servers\n\ncurrently the command is waiting only for ACTIVE server status,\nbut if the server was SHUTOFF before, it will be SHUTOFF after\nrebuild as well, so the command is stuck in waiting forever.\n\nAdditionally, we now also pre-validate the server status on client side,\nand raise an error if the server to be rebuilt is not in ACTIVE, ERROR\nor SHUTOFF state.\n\nChange-Id: If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e\nCo-Authored-By: Oleksiy Molchanov <omolchanov@mirantis.com>\nStory: 2010751\nTask: 48005\n'}, {'number': 3, 'created': '2023-05-17 11:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8ba60dc6b6e49c090b7462c7676b4280fb47c709', 'message': 'Allow server rebuild --wait for SHUTOFF servers\n\ncurrently the command is waiting only for ACTIVE server status,\nbut if the server was SHUTOFF before, it will be SHUTOFF after\nrebuild as well, so the command is stuck in waiting forever.\n\nAdditionally, we now also pre-validate the server status on client side,\nand raise an error if the server to be rebuilt is not in ACTIVE, ERROR\nor SHUTOFF state.\n\nChange-Id: If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e\nCo-Authored-By: Oleksiy Molchanov <omolchanov@mirantis.com>\nStory: 2010751\nTask: 48005\n'}, {'number': 4, 'created': '2023-05-17 11:38:37.000000000', 'files': ['releasenotes/notes/story-2010751-server-rebuild-wait-shutoff-c84cddcd3f15e9ce.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/417a7ad2039c09adbd497392c0199b7667e65ef7', 'message': 'Allow server rebuild --wait for SHUTOFF servers\n\ncurrently the command is waiting only for ACTIVE server status,\nbut if the server was SHUTOFF before, it will be SHUTOFF after\nrebuild as well, so the command is stuck in waiting forever.\n\nAdditionally, we now also pre-validate the server status on client side,\nand raise an error if the server to be rebuilt is not in ACTIVE, ERROR\nor SHUTOFF state.\n\nChange-Id: If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e\nCo-Authored-By: Oleksiy Molchanov <omolchanov@mirantis.com>\nStory: 2010751\nTask: 48005\n'}]",3,883154,417a7ad2039c09adbd497392c0199b7667e65ef7,16,3,4,9542,,,0,"Allow server rebuild --wait for SHUTOFF servers

currently the command is waiting only for ACTIVE server status,
but if the server was SHUTOFF before, it will be SHUTOFF after
rebuild as well, so the command is stuck in waiting forever.

Additionally, we now also pre-validate the server status on client side,
and raise an error if the server to be rebuilt is not in ACTIVE, ERROR
or SHUTOFF state.

Change-Id: If90a4bbba9a7ecd972f8b594c52fee4f75a0ae5e
Co-Authored-By: Oleksiy Molchanov <omolchanov@mirantis.com>
Story: 2010751
Task: 48005
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/54/883154/3 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,49dda12a30cc2e13ec81ef21bc12bba042a89e27,story/2010751," status = getattr(server, 'status', '').lower() if status == 'shutoff': success_status = ['shutoff'] elif status in ('error', 'active'): success_status = ['active'] else: msg = _(""The server status is not ACTIVE, SHUTOFF or ERROR."") raise exceptions.CommandError(msg) success_status=success_status,",,10,0
openstack%2Fswift~master~I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39,openstack/swift,master,I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39,Unit test for keepalive timeout,MERGED,2023-04-25 21:32:51.000000000,2023-05-17 23:21:32.000000000,2023-05-17 23:20:23.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-25 21:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/86f7a37362631a5414a2ea919baeee823ac91973', 'message': 'Unit test for keepalive timeout\n\nCreating a unit test to set a pipeline timeout to 70\nfor 2 requests named test_GET_ec_pipeline.\nThe test can be run as\npytest test/unit/proxy/test_server.py::BaseTestECObjectController::test_GET_ec_pipeline\n\nChange-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39\n'}, {'number': 2, 'created': '2023-05-02 18:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3c7b149ec130e55148133726f94aac73291d43d1', 'message': 'Unit test for keepalive timeout\n\nCreate a unit test to verify client timeout\nfor multiple requests\n\nChange-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39\n'}, {'number': 3, 'created': '2023-05-05 22:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba90ed5eb1ccf2b3e94cb484db493dc5a8cc9ee1', 'message': 'Unit test for keepalive timeout\n\nCreate a unit test to verify client timeout for multiple requests\n\nChange-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39\n'}, {'number': 4, 'created': '2023-05-05 22:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ebf0f4ca424252ac5d036d7d76f1275b818a1c78', 'message': 'Unit test for keepalive timeout\n\nCreate a unit test to verify client timeout for multiple requests\n\nChange-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39\n'}, {'number': 5, 'created': '2023-05-07 04:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88f7fa9c6510f73720eaf016981f027f71f57172', 'message': 'Unit test for keepalive timeout\n\nCreate a unit test to verify client timeout for multiple requests\n\nChange-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39\n'}, {'number': 6, 'created': '2023-05-10 16:02:15.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/647ee83906df8fae336b479c0f169be2ced1772c', 'message': 'Unit test for keepalive timeout\n\nCreate a unit test to verify client timeout for multiple requests\n\nChange-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39\n'}]",41,881517,647ee83906df8fae336b479c0f169be2ced1772c,29,3,6,35790,,,0,"Unit test for keepalive timeout

Create a unit test to verify client timeout for multiple requests

Change-Id: I974e01cd2cb18f4ea87c3966dbf4b06bff22ed39
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/881517/5 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/test_server.py'],1,86f7a37362631a5414a2ea919baeee823ac91973,pipelineTimeout," def test_GET_ec_pipeline(self): prolis = _test_sockets[0] prosrv = _test_servers[0] self.put_container(self.ec_policy.name, self.ec_policy.name) obj = b'0123456' * 11 * 17 sock = connect_tcp(('localhost', prolis.getsockname()[1])) fd = sock.makefile('rwb') fd.write(('PUT /v1/a/%s/go-get-it HTTP/1.1\r\n' 'Host: localhost\r\n' 'Content-Length: %d\r\n' 'X-Storage-Token: t\r\n' 'X-Object-Meta-Color: chartreuse\r\n' 'Content-Type: application/octet-stream\r\n' '\r\n' % (self.ec_policy.name, len(obj))).encode('ascii')) fd.write(obj) fd.flush() headers = readuntil2crlfs(fd) exp = b'HTTP/1.1 201' self.assertEqual(headers[:len(exp)], exp) fd.write(('GET /v1/a/%s/go-get-it HTTP/1.1\r\n' 'Host: localhost\r\n' 'Connection: close\r\n' 'X-Storage-Token: t\r\n' '\r\n' % self.ec_policy.name).encode('ascii')) fd.flush() time.sleep(70) # pipeline-timeout fd.write(('GET /v1/a/%s/go-get-it HTTP/1.1\r\n' 'Host: localhost\r\n' 'Connection: close\r\n' 'X-Storage-Token: t\r\n' '\r\n' % self.ec_policy.name).encode('ascii')) # time.sleep(70) #pipeline-timeout fd.flush() headers = readuntil2crlfs(fd) exp = b'HTTP/1.1 200' self.assertEqual(headers[:len(exp)], exp) ",,43,0
openstack%2Frequirements~master~I749e1d462e57bc17b729b7fe0fa9a322b04732a3,openstack/requirements,master,I749e1d462e57bc17b729b7fe0fa9a322b04732a3,update constraint for python-heatclient to new release 3.3.0,MERGED,2023-05-17 11:26:20.000000000,2023-05-17 23:21:20.000000000,2023-05-17 23:20:08.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 11:26:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c0369391c85c23304ba07297a57f6bf24fc697d', 'message': 'update constraint for python-heatclient to new release 3.3.0\n\nmeta: version: 3.3.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I05a175b28bb0898891c62c125ec8a59bc195f7e8\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Takashi Kajinami <tkajinam@redhat.com>\nChange-Id: I749e1d462e57bc17b729b7fe0fa9a322b04732a3\n'}]",0,883354,4c0369391c85c23304ba07297a57f6bf24fc697d,8,3,1,11131,,,0,"update constraint for python-heatclient to new release 3.3.0

meta: version: 3.3.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I05a175b28bb0898891c62c125ec8a59bc195f7e8
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Takashi Kajinami <tkajinam@redhat.com>
Change-Id: I749e1d462e57bc17b729b7fe0fa9a322b04732a3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/883354/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4c0369391c85c23304ba07297a57f6bf24fc697d,new-release,python-heatclient===3.3.0,python-heatclient===3.2.0,1,1
openstack%2Fswift~master~I07491bb4ebc3baa13cf09f64a04a61011d561409,openstack/swift,master,I07491bb4ebc3baa13cf09f64a04a61011d561409,memcached: log user provided keys in exception error logging.,MERGED,2023-04-20 03:45:30.000000000,2023-05-17 23:20:25.000000000,2023-05-17 23:20:25.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 03:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/31d6ebb44f80d4dd0f2d3e78615b094458eeadad', 'message': 'memcached client: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 2, 'created': '2023-04-20 05:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a46355f87e9be5c5b168c55818f64f8d18aafea', 'message': 'memcached client: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 3, 'created': '2023-04-21 02:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a0b16e229496c36f85486a9673a2578c7d117458', 'message': 'memcached: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 4, 'created': '2023-04-21 03:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4e5a7fbef0a9328c1fe70530bd83a6f0c8469a9c', 'message': 'memcached: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 5, 'created': '2023-04-21 23:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7834edf3dd99b0b588a95975ed75cbd48b3fe1ee', 'message': 'memcached: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 6, 'created': '2023-04-25 04:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/365b208bc3d685028b21c41998a120b636a86ede', 'message': 'memcached: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}, {'number': 7, 'created': '2023-05-01 18:03:54.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9fb860880d755291377c28702679c4d5deb55a6f', 'message': 'memcached: log user provided keys in exception error logging.\n\nUser provided keys are need to debug those tracebacks/timeouts when\nclients talking to memcached, in order to associate those failures\nwith specific memcache usages within swift services.\n\nChange-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409\n'}]",23,880903,9fb860880d755291377c28702679c4d5deb55a6f,44,4,7,34930,,,0,"memcached: log user provided keys in exception error logging.

User provided keys are need to debug those tracebacks/timeouts when
clients talking to memcached, in order to associate those failures
with specific memcache usages within swift services.

Change-Id: I07491bb4ebc3baa13cf09f64a04a61011d561409
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/880903/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,31d6ebb44f80d4dd0f2d3e78615b094458eeadad,memcache_log_key,"from swift.common.memcached import MemcacheConnectionError, md5hash list(client._get_conns('ascii', key)) for conn in memcache_client._get_conns('ascii', key): for conn in memcache_client._get_conns('ascii', key): for conn in memcache_client._get_conns('ascii', key): for conn in memcache_client._get_conns('ascii', key): for conn in memcache_client._get_conns('ascii', key): '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', '[Errno 32] Broken pipe: with key some_key', ['Timeout getting a connection to memcached: 1.2.3.5:11211' ': with key key'] * 8) conn_generator = memcache_client._get_conns( b'key', md5hash(b'key'))","from swift.common.memcached import MemcacheConnectionError list(client._get_conns(key)) for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', '[Errno 32] Broken pipe', ['Timeout getting a connection to memcached: 1.2.3.5:11211'] * 8) conn_generator = memcache_client._get_conns(b'key')",80,68
openstack%2Fpython-openstackclient~master~I6b314eab31bcf452e88b8b6a239ac2e296497cb9,openstack/python-openstackclient,master,I6b314eab31bcf452e88b8b6a239ac2e296497cb9,compute: Fix bug with start/stop server,MERGED,2023-05-17 10:58:49.000000000,2023-05-17 23:20:17.000000000,2023-05-17 23:20:17.000000000,"[{'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-17 10:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dbbfb5bf3941bed64114d6eabcaa356f7246c2e6', 'message': 'compute: Fix bug with start/stop server\n\nA mistake was introduced during the conversion from novaclient to SDK in\nchange I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c. Fix the issue and add\nfunctional tests to prevent it being reintroduced.\n\nChange-Id: I6b314eab31bcf452e88b8b6a239ac2e296497cb9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nStory: 2010750\nTask: 48004\n'}, {'number': 2, 'created': '2023-05-17 15:01:28.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a63f8603e37542a9758db4ed2db73c781b48e4f', 'message': 'compute: Fix bug with start/stop server\n\nA mistake was introduced during the conversion from novaclient to SDK in\nchange I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c. Fix the issue and add\nfunctional tests to prevent it being reintroduced.\n\nChange-Id: I6b314eab31bcf452e88b8b6a239ac2e296497cb9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nStory: 2010750\nTask: 48004\n'}]",1,883347,0a63f8603e37542a9758db4ed2db73c781b48e4f,10,4,2,15334,,,0,"compute: Fix bug with start/stop server

A mistake was introduced during the conversion from novaclient to SDK in
change I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c. Fix the issue and add
functional tests to prevent it being reintroduced.

Change-Id: I6b314eab31bcf452e88b8b6a239ac2e296497cb9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Story: 2010750
Task: 48004
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/47/883347/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,dbbfb5bf3941bed64114d6eabcaa356f7246c2e6,story/2010750," server, ignore_missing=False, server, ignore_missing=False,"," name=server, ignore_missing=False, name=server, ignore_missing=False,",52,10
openstack%2Frequirements~master~Ib8c76db1d0dabc6acd322dac19af15d21d1e03d4,openstack/requirements,master,Ib8c76db1d0dabc6acd322dac19af15d21d1e03d4,update constraint for keystonemiddleware to new release 10.3.0,MERGED,2023-05-17 11:16:06.000000000,2023-05-17 23:11:35.000000000,2023-05-17 23:09:59.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 11:16:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c1712878c4c7a9f645b1ff3116cf7f956d8fb26b', 'message': 'update constraint for keystonemiddleware to new release 10.3.0\n\nmeta: version: 10.3.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I228ab7f026f2bb3d7fd950c6fca9c0aceae1b02a\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: David Wilde <dwilde@redhat.com>\nChange-Id: Ib8c76db1d0dabc6acd322dac19af15d21d1e03d4\n'}]",1,883352,c1712878c4c7a9f645b1ff3116cf7f956d8fb26b,9,3,1,11131,,,0,"update constraint for keystonemiddleware to new release 10.3.0

meta: version: 10.3.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I228ab7f026f2bb3d7fd950c6fca9c0aceae1b02a
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: David Wilde <dwilde@redhat.com>
Change-Id: Ib8c76db1d0dabc6acd322dac19af15d21d1e03d4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/883352/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c1712878c4c7a9f645b1ff3116cf7f956d8fb26b,new-release,keystonemiddleware===10.3.0,keystonemiddleware===10.2.0,1,1
openstack%2Frequirements~master~I404198f236672972df32a4e429addb0d4340eaac,openstack/requirements,master,I404198f236672972df32a4e429addb0d4340eaac,update constraint for glance_store to new release 4.3.1,MERGED,2023-05-17 11:15:17.000000000,2023-05-17 23:10:53.000000000,2023-05-17 23:09:57.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 11:15:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d9ce3cc812201cb6e6e9af9c39d8e6a7af8ee07a', 'message': 'update constraint for glance_store to new release 4.3.1\n\nmeta: version: 4.3.1\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I65929f14f1bb81e5615a69d847c0851354cb6563\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nmeta: release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I404198f236672972df32a4e429addb0d4340eaac\n'}]",0,883350,d9ce3cc812201cb6e6e9af9c39d8e6a7af8ee07a,8,3,1,11131,,,0,"update constraint for glance_store to new release 4.3.1

meta: version: 4.3.1
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I65929f14f1bb81e5615a69d847c0851354cb6563
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I404198f236672972df32a4e429addb0d4340eaac
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/883350/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d9ce3cc812201cb6e6e9af9c39d8e6a7af8ee07a,new-release,glance-store===4.3.1,glance-store===4.4.0,1,1
openstack%2Frequirements~stable%2Fzed~I8b602aec27df083acdafa052dadd69ce70b962fb,openstack/requirements,stable/zed,I8b602aec27df083acdafa052dadd69ce70b962fb,update constraint for glance_store to new release 4.1.1,MERGED,2023-05-17 11:15:36.000000000,2023-05-17 23:09:20.000000000,2023-05-17 23:09:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 11:15:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8a9f69d09be03926242bfc2a04168a166f23209f', 'message': 'update constraint for glance_store to new release 4.1.1\n\nmeta: version: 4.1.1\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I65929f14f1bb81e5615a69d847c0851354cb6563\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nmeta: release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I8b602aec27df083acdafa052dadd69ce70b962fb\n'}]",0,883351,8a9f69d09be03926242bfc2a04168a166f23209f,8,3,1,11131,,,0,"update constraint for glance_store to new release 4.1.1

meta: version: 4.1.1
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I65929f14f1bb81e5615a69d847c0851354cb6563
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I8b602aec27df083acdafa052dadd69ce70b962fb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/883351/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8a9f69d09be03926242bfc2a04168a166f23209f,new-release,glance-store===4.1.1,glance-store===4.1.0,1,1
openstack%2Fmanila-tempest-plugin~master~I6abf7a8eb275c5b29cfe29b3a0f54de76c5bb1e8,openstack/manila-tempest-plugin,master,I6abf7a8eb275c5b29cfe29b3a0f54de76c5bb1e8,[CI] Fix cephfs-nfs job by running on centos-stream-9,MERGED,2023-05-09 00:49:53.000000000,2023-05-17 22:46:57.000000000,2023-05-17 22:46:57.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2023-05-09 00:49:53.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7afdada46d249a89519e1ecc0977ff606b159f74', 'message': '[CI] Fix cephfs-nfs job by running on centos-stream-9\n\nPackage based installation of ceph via devstack-plugin-ceph\nis deprecated. Recently, we broke support for Ubuntu 20.04 LTS\n(Focal Fossa) [1] because we\'re trying to advance all OpenStack\nCI jobs to Ubuntu 22.04/Jammy Jellyfish or Centos Stream 9. The\ncommunity\'s plan is to retire package based installation of ceph\non devstack during the 2023.2/Bobcat release cycle, and move all\nefforts onto ""cephadm"" [2].\n\nWith CephFS/NFS, cephadm deployment works, but seems to require\nmore CI resources than a single test node can afford. So, we\'re\nworking in parallel to create a multi-node job [3][4] to ensure more\nstable testing without foregoing coverage. As a temporary workaround,\nwe can run the ceph-nfs job (which doesn\'t use cephadm) on\ncentos-9 stream.\n\nUnfortunately, ipv6 testing would have to be turned off because of\nLP bug #1998489. We\'ll remedy this separately.\n\n[1] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/865315\n[2] https://docs.ceph.com/en/quincy/cephadm/index.html\n[3] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/876747\n[4] https://review.opendev.org/c/openstack/manila/+/869235\n\nChange-Id: I6abf7a8eb275c5b29cfe29b3a0f54de76c5bb1e8\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",4,882624,7afdada46d249a89519e1ecc0977ff606b159f74,11,4,1,16643,,,0,"[CI] Fix cephfs-nfs job by running on centos-stream-9

Package based installation of ceph via devstack-plugin-ceph
is deprecated. Recently, we broke support for Ubuntu 20.04 LTS
(Focal Fossa) [1] because we're trying to advance all OpenStack
CI jobs to Ubuntu 22.04/Jammy Jellyfish or Centos Stream 9. The
community's plan is to retire package based installation of ceph
on devstack during the 2023.2/Bobcat release cycle, and move all
efforts onto ""cephadm"" [2].

With CephFS/NFS, cephadm deployment works, but seems to require
more CI resources than a single test node can afford. So, we're
working in parallel to create a multi-node job [3][4] to ensure more
stable testing without foregoing coverage. As a temporary workaround,
we can run the ceph-nfs job (which doesn't use cephadm) on
centos-9 stream.

Unfortunately, ipv6 testing would have to be turned off because of
LP bug #1998489. We'll remedy this separately.

[1] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/865315
[2] https://docs.ceph.com/en/quincy/cephadm/index.html
[3] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/876747
[4] https://review.opendev.org/c/openstack/manila/+/869235

Change-Id: I6abf7a8eb275c5b29cfe29b3a0f54de76c5bb1e8
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/24/882624/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,7afdada46d249a89519e1ecc0977ff606b159f74,," nodeset: devstack-single-node-centos-9-stream vars: # TODO(gouthamr): some tests are disabled due to bugs # IPv6 Tests: https://bugs.launchpad.net/manila/+bug/1998489 # snapshot clone fs sync: https://bugs.launchpad.net/manila/+bug/1989273 tempest_exclude_regex: ""\ (^manila_tempest_tests.tests.scenario.*IPv6.*)|\ (^manila_tempest_tests.tests.scenario.test_share_basic_ops.TestShareBasicOpsNFS.test_write_data_to_share_created_from_snapshot)"" devstack_localrc: MANILA_OPTGROUP_cephfsnfs_cephfs_ganesha_server_ip: ""{{ hostvars[inventory_hostname]['nodepool']['private_ipv4'] }}"" CEPH_RELEASE: ""quincy"" MANILA_SETUP_IPV6: false NEUTRON_CREATE_INITIAL_NETWORKS: true IP_VERSION: 4", nodeset: openstack-single-node-focal,14,1
openstack%2Fcharm-cinder-ceph~master~Icf9763f1f26c4ef9255a42b8895cc8c0ae7c2990,openstack/charm-cinder-ceph,master,Icf9763f1f26c4ef9255a42b8895cc8c0ae7c2990,DNM: test,NEW,2022-06-23 14:04:47.000000000,2023-05-17 21:06:06.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/0e615067a8f39c107cc29cf859d70d6e0a407c48', 'message': 'DNM: test\n\nChange-Id: Icf9763f1f26c4ef9255a42b8895cc8c0ae7c2990\n'}, {'number': 2, 'created': '2023-05-17 15:57:40.000000000', 'files': ['foo.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/d3fd85e814d20c30be09f6505380bdfd35cca9fa', 'message': 'DNM: test\n\nChange-Id: Icf9763f1f26c4ef9255a42b8895cc8c0ae7c2990\n'}]",0,847354,d3fd85e814d20c30be09f6505380bdfd35cca9fa,8,2,2,2424,,,0,"DNM: test

Change-Id: Icf9763f1f26c4ef9255a42b8895cc8c0ae7c2990
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/54/847354/1 && git format-patch -1 --stdout FETCH_HEAD,['foo.txt'],1,0e615067a8f39c107cc29cf859d70d6e0a407c48,test-wip,,,0,0
openstack%2Ftripleo-quickstart-extras~master~I49c24b9c529e9d2fc423864e1d0b62700da741fb,openstack/tripleo-quickstart-extras,master,I49c24b9c529e9d2fc423864e1d0b62700da741fb,Add project_name_mapped to change_list,ABANDONED,2023-05-16 11:49:07.000000000,2023-05-17 20:55:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 11:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85678a1670474b86130854bb093b333b95ee30e1', 'message': 'Add project_name_mapped to change_list\n\nChange-Id: I49c24b9c529e9d2fc423864e1d0b62700da741fb\n'}, {'number': 2, 'created': '2023-05-16 12:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/037c2cb81775b73c76db7407866f4b9a2e9dcad5', 'message': 'Add project_name_mapped to change_list\n\nChange-Id: I49c24b9c529e9d2fc423864e1d0b62700da741fb\n'}, {'number': 3, 'created': '2023-05-16 14:24:57.000000000', 'files': ['roles/build-test-packages/templates/run_dlrn.sh.j2', 'roles/build-test-packages/tasks/dlrn-build.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6e703269c31b2a97d27280fa3393417c65fa0f1', 'message': 'Add project_name_mapped to change_list\n\nChange-Id: I49c24b9c529e9d2fc423864e1d0b62700da741fb\n'}]",0,883250,b6e703269c31b2a97d27280fa3393417c65fa0f1,6,1,3,30002,,,0,"Add project_name_mapped to change_list

Change-Id: I49c24b9c529e9d2fc423864e1d0b62700da741fb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/883250/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/dlrn-build.yml'],1,85678a1670474b86130854bb093b333b95ee30e1,build-test-packages," register: project_name_mapped_rdoinfo failed_when: project_name_mapped_rdoinfo.rc != 0 or not project_name_mapped_rdoinfo.stdout always: WARNING: Got {{ project_name_mapped_rdoinfo.rc }} result code trying to build {{ artg_change.project }} {{ project_name_mapped_rdoinfo.stderr }} {{ project_name_mapped_rdoinfo.stdout }} - name: set project name mapped set_fact: project_name_mapped: ""{{ artg_change.project_name_mapped | default(project_name_mapped_rdoinfo.stdout) }}"" - block: artg_rdo_packages: '{{ artg_rdo_packages }} + {{ [ project_name_mapped ] }}' - name: Check if project {{ project_name_mapped }} source already exist stat: path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}/.git' {{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }} dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}' git_path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}' path: ""{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}_distro"" dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}_distro' msg: ""Building change for {{ project_name_mapped|default('unknown') }}"""," register: project_name_mapped failed_when: project_name_mapped.rc != 0 or not project_name_mapped.stdout rescue: WARNING: Got {{ project_name_mapped.rc }} result code trying to build {{ artg_change.project }} {{ project_name_mapped.stderr }} {{ project_name_mapped.stdout }} - when: project_name_mapped is success block: artg_rdo_packages: '{{ artg_rdo_packages }} + {{ [ project_name_mapped.stdout ] }}' - name: Check if project {{ project_name_mapped.stdout }} source already exist stat: path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}/.git' {{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }} dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}' git_path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}' path: ""{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}_distro"" dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}_distro' msg: ""Building change for {{ project_name_mapped.stdout|default('unknown') }}""",20,17
openstack%2Fcinder~master~Ia682f899f9a05200d732b9b39f1de3318b8976bc,openstack/cinder,master,Ia682f899f9a05200d732b9b39f1de3318b8976bc,Enable validations for ceph-mn job,ABANDONED,2023-05-11 14:09:21.000000000,2023-05-17 20:21:01.000000000,,"[{'_account_id': 4393}, {'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 14:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/511a036b08de2623ca7442ae9808450aa3bb9bc2', 'message': 'Enable validations for ceph-mn job\n\nA lot of work has been done recently on the tempest tests that involve\nvolumes to make them wait for guests to be SSHABLE before attaching or\ndetaching. This avoids the scenario where the guest is slow to boot\nand misses one or the other request and qemu never allows us to try\nagain, resulting in a timeout waiting for the detach.\n\nIn order for this behavior to work, the validations flag has to be\nenabled, otherwise we wait for nothing. Enabling this does slow down\nthe test a bit, but in our experience the tradeoff is a many-fold\nincrease in passing runs. The default in tempest is to disable this,\nbut the job that this one inherits from has it disabled.\n\nChange-Id: Ia682f899f9a05200d732b9b39f1de3318b8976bc\n'}, {'number': 2, 'created': '2023-05-11 15:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4c65b24da5c9556c7648201cea8009c42d8f0af', 'message': 'Enable validations for ceph-mn job\n\nA lot of work has been done recently on the tempest tests that involve\nvolumes to make them wait for guests to be SSHABLE before attaching or\ndetaching. This avoids the scenario where the guest is slow to boot\nand misses one or the other request and qemu never allows us to try\nagain, resulting in a timeout waiting for the detach.\n\nIn order for this behavior to work, the validations flag has to be\nenabled, otherwise we wait for nothing. Enabling this does slow down\nthe test a bit, but in our experience the tradeoff is a many-fold\nincrease in passing runs. The default in tempest is to disable this,\nbut the job that this one inherits from has it disabled.\n\nChange-Id: Ia682f899f9a05200d732b9b39f1de3318b8976bc\n'}, {'number': 3, 'created': '2023-05-11 18:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42771a13b96e3dea646157d4844704b6c0298ede', 'message': 'Enable validations for ceph-mn job\n\nA lot of work has been done recently on the tempest tests that involve\nvolumes to make them wait for guests to be SSHABLE before attaching or\ndetaching. This avoids the scenario where the guest is slow to boot\nand misses one or the other request and qemu never allows us to try\nagain, resulting in a timeout waiting for the detach.\n\nIn order for this behavior to work, the validations flag has to be\nenabled, otherwise we wait for nothing. Enabling this does slow down\nthe test a bit, but in our experience the tradeoff is a many-fold\nincrease in passing runs. The default in tempest is to disable this,\nbut the job that this one inherits from has it disabled.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/882483\nChange-Id: Ia682f899f9a05200d732b9b39f1de3318b8976bc\n'}, {'number': 4, 'created': '2023-05-11 18:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dd14559a059b3a66f0a252ed8412eaa37429931', 'message': 'Enable validations for ceph-mn job\n\nA lot of work has been done recently on the tempest tests that involve\nvolumes to make them wait for guests to be SSHABLE before attaching or\ndetaching. This avoids the scenario where the guest is slow to boot\nand misses one or the other request and qemu never allows us to try\nagain, resulting in a timeout waiting for the detach.\n\nIn order for this behavior to work, the validations flag has to be\nenabled, otherwise we wait for nothing. Enabling this does slow down\nthe test a bit, but in our experience the tradeoff is a many-fold\nincrease in passing runs. The default in tempest is to disable this,\nbut the job that this one inherits from has it disabled.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/882987\nChange-Id: Ia682f899f9a05200d732b9b39f1de3318b8976bc\n'}, {'number': 5, 'created': '2023-05-17 16:33:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37311b414d34a1331eaaaed98226b2b994094245', 'message': 'Enable validations for ceph-mn job\n\nA lot of work has been done recently on the tempest tests that involve\nvolumes to make them wait for guests to be SSHABLE before attaching or\ndetaching. This avoids the scenario where the guest is slow to boot\nand misses one or the other request and qemu never allows us to try\nagain, resulting in a timeout waiting for the detach.\n\nIn order for this behavior to work, the validations flag has to be\nenabled, otherwise we wait for nothing. Enabling this does slow down\nthe test a bit, but in our experience the tradeoff is a many-fold\nincrease in passing runs. The default in tempest is to enable this,\nbut the job that this one inherits from has it disabled.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/882987\nChange-Id: Ia682f899f9a05200d732b9b39f1de3318b8976bc\n'}]",6,882955,37311b414d34a1331eaaaed98226b2b994094245,60,3,5,4393,,,0,"Enable validations for ceph-mn job

A lot of work has been done recently on the tempest tests that involve
volumes to make them wait for guests to be SSHABLE before attaching or
detaching. This avoids the scenario where the guest is slow to boot
and misses one or the other request and qemu never allows us to try
again, resulting in a timeout waiting for the detach.

In order for this behavior to work, the validations flag has to be
enabled, otherwise we wait for nothing. Enabling this does slow down
the test a bit, but in our experience the tradeoff is a many-fold
increase in passing runs. The default in tempest is to enable this,
but the job that this one inherits from has it disabled.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/882987
Change-Id: Ia682f899f9a05200d732b9b39f1de3318b8976bc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/882955/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,511a036b08de2623ca7442ae9808450aa3bb9bc2,enable-validations, devstack_localrc: TEMPEST_RUN_VALIDATION: True,,2,0
openstack%2Fdevstack-plugin-ceph~stable%2Fwallaby~Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5,openstack/devstack-plugin-ceph,stable/wallaby,Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5,Cap cinder-tempest-plugin version for stable/wallaby,MERGED,2023-01-27 02:24:37.000000000,2023-05-17 19:35:31.000000000,2023-05-17 19:33:37.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-27 02:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/df9762413b0277a7ecd7979e59a30f9250de2344', 'message': 'DNM: testing tempest pin for stable/wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/871782\nChange-Id: Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5\n'}, {'number': 2, 'created': '2023-01-27 05:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/46cb1c32110d1f2ede9961bc0807822f6e19e90d', 'message': 'Cap cinder-tempest-plugin version for stable/wallaby\n\nAs stable/wallaby is in EM phase, and currently broken\nwith the Tempest master. We are pinning tempest there (depends-on).\n\nTo have compatible cinder-tempest-plugin version for stable/wallaby\ncep jobs, we need to pin cinder-tempest-plugin 1.7.0 version.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/871782\n\nChange-Id: Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5\n'}, {'number': 3, 'created': '2023-01-27 05:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/fe5fff0ebb9736b12044d1c20e9a54913e36d6da', 'message': 'Cap cinder-tempest-plugin version for stable/wallaby\n\nAs stable/wallaby is in EM phase, and currently broken\nwith the Tempest master. We are pinning tempest there (depends-on).\n\nTo have compatible cinder-tempest-plugin version for stable/wallaby\ncep jobs, we need to pin cinder-tempest-plugin 1.7.0 version.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/871782\n\nChange-Id: Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5\n'}, {'number': 4, 'created': '2023-05-16 18:46:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a04376dba90cd7afa692fd9c135ee19e6a169ab2', 'message': 'Cap cinder-tempest-plugin version for stable/wallaby\n\nAs stable/wallaby is in EM phase, and currently broken\nwith the Tempest master. We are pinning tempest there (depends-on).\n\nTo have compatible cinder-tempest-plugin version for stable/wallaby\nceph jobs, we need to pin cinder-tempest-plugin 1.7.0 version.\n\nAlso, we need the os-brick fix\n- https://review.opendev.org/c/openstack/os-brick/+/864479\nAs wallaby is in EM and os-brick cannot be released with the above fix,\nwe need to install it from stable/wallaby git version instead of pip\nfrom u-c.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/871782\n\nChange-Id: Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5\n'}]",22,871920,a04376dba90cd7afa692fd9c135ee19e6a169ab2,47,4,4,8556,,,0,"Cap cinder-tempest-plugin version for stable/wallaby

As stable/wallaby is in EM phase, and currently broken
with the Tempest master. We are pinning tempest there (depends-on).

To have compatible cinder-tempest-plugin version for stable/wallaby
ceph jobs, we need to pin cinder-tempest-plugin 1.7.0 version.

Also, we need the os-brick fix
- https://review.opendev.org/c/openstack/os-brick/+/864479
As wallaby is in EM and os-brick cannot be released with the above fix,
we need to install it from stable/wallaby git version instead of pip
from u-c.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/871782

Change-Id: Ie47c3e9bb41e3513f65735a657e7a3a5dbfa27e5
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/20/871920/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,df9762413b0277a7ecd7979e59a30f9250de2344,wallaby-pin-tempest,#test,,1,0
openstack%2Fopenstack-ansible-os_magnum~master~I072ef995d14b2301d308ef1af958e28154f882c4,openstack/openstack-ansible-os_magnum,master,I072ef995d14b2301d308ef1af958e28154f882c4,Rename floating IP option for coe_cluster_template,MERGED,2023-04-14 12:10:03.000000000,2023-05-17 19:33:39.000000000,2023-05-17 19:32:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-04-14 12:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/aec04799de1b2e19dcd45baaf7ef4ed9cf3114ad', 'message': 'Rename floating IP option for coe_cluster_template\n\nWith new collection version, this option was renamed.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_heat/+/879963\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/880047\nChange-Id: I072ef995d14b2301d308ef1af958e28154f882c4\n'}, {'number': 2, 'created': '2023-04-26 14:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/152e15dd444f34478c672652831487eb1b2ccc15', 'message': 'Rename floating IP option for coe_cluster_template\n\nWith new collection version, this option was renamed.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/881566\nChange-Id: I072ef995d14b2301d308ef1af958e28154f882c4\n'}, {'number': 3, 'created': '2023-05-02 17:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/011a10e66f8c042d4b51b10b47e47d96b926cad9', 'message': 'Rename floating IP option for coe_cluster_template\n\nWith new collection version, this option was renamed.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/882090\nChange-Id: I072ef995d14b2301d308ef1af958e28154f882c4\n'}, {'number': 4, 'created': '2023-05-12 22:06:06.000000000', 'files': ['tasks/magnum_resources.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/3591a729dd073406468695ecc4f004c40bb1124c', 'message': 'Rename floating IP option for coe_cluster_template\n\nWith new collection version, this option was renamed.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/881566\nChange-Id: I072ef995d14b2301d308ef1af958e28154f882c4\n'}]",12,880484,3591a729dd073406468695ecc4f004c40bb1124c,35,3,4,28619,,,0,"Rename floating IP option for coe_cluster_template

With new collection version, this option was renamed.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/881566
Change-Id: I072ef995d14b2301d308ef1af958e28154f882c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/84/880484/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/magnum_resources.yml'],1,aec04799de1b2e19dcd45baaf7ef4ed9cf3114ad,," is_floating_ip_enabled: ""{{ item.floating_ip_enabled | default(omit) }}"""," floating_ip_enabled: ""{{ item.floating_ip_enabled | default(omit) }}""",1,1
openstack%2Fneutron~master~I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,openstack/neutron,master,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-04-17 10:32:35.000000000,2023-05-17 19:24:18.000000000,2023-05-17 19:23:02.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}, {'_account_id': 35408}]","[{'number': 1, 'created': '2023-04-17 10:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f4b3948c8006699b89a036e1b991b0a96aa32e4', 'message': 'Use explicit join instead of implicit\n\nThis significantly improves performance of the querying database for\nfetching list of ports for a specific project\n\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 2, 'created': '2023-04-17 10:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5e422f30c67e75c1bf5175eb9b8ce3fa42dbb45', 'message': '[WIP] Use explicit join instead of implicit\n\nThis significantly improves performance of the querying database for\nfetching list of ports for a specific project\n\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 3, 'created': '2023-04-17 10:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f5101890256a93c026fa002d11010fa21dc4cff', 'message': 'Use explicit join instead of implicit\n\nThis significantly improves performance of the querying database for\nfetching list of ports for a specific project\n\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 4, 'created': '2023-04-17 11:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19dd6f7bad4dd4effaf1699edce5ba3e9b76d43b', 'message': 'Use explicit join instead of implicit\n\nThis significantly(~100%) improves performance of the querying database for\nfetching list of ports for a specific project\n\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 5, 'created': '2023-04-17 14:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4cd08c68dc82bda7a6109b9b4e18d2fe57a26ea', 'message': 'Use explicit join instead of implicit\n\nThis significantly improves performance of the querying database for\nfetching list of ports for a specific project\n\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 6, 'created': '2023-04-17 18:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbd4049be5998a4c996a9dc3822a20391cff61ae', 'message': 'Use explicit join instead of implicit\n\nThis improves performance of the querying database for\nfetching list of ports for a specific project\n\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\nBug: https://bugs.launchpad.net/neutron/+bug/2016704\n'}, {'number': 7, 'created': '2023-04-17 18:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d77555c08c9cadd8967405232f203ebe9e8c97d9', 'message': 'Use explicit join instead of implicit\n\nThis improves performance of the querying database for\nfetching list of ports for a specific project\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 8, 'created': '2023-04-17 18:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/489d603fa44ec3ece984233288bb6f5702365762', 'message': 'Use explicit join instead of implicit\n\nThis improves performance of the querying database for\nfetching list of ports for a specific project\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}, {'number': 9, 'created': '2023-04-20 10:49:53.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n'}]",22,880621,f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c,65,9,9,30772,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/880621/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,3f4b3948c8006699b89a036e1b991b0a96aa32e4,bug/2016704,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",6,2
openstack%2Frequirements~master~I1445fea935c66ee792e081c8df6662f5f30865e0,openstack/requirements,master,I1445fea935c66ee792e081c8df6662f5f30865e0,update constraint for sushy to new release 4.5.0,MERGED,2023-05-11 09:17:24.000000000,2023-05-17 18:33:40.000000000,2023-05-17 18:32:39.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 09:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a1ec38429058e4ae34f0ae91f580b5eab1f0f6da', 'message': 'update constraint for sushy to new release 4.5.0\n\nmeta: version: 4.5.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ie9b9ac25c22c2156a1ba345cf116d95220a05d8c\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1445fea935c66ee792e081c8df6662f5f30865e0\n'}, {'number': 2, 'created': '2023-05-17 13:28:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a79adeefd4f843487557bc7b8d66acaa665df4f3', 'message': 'update constraint for sushy to new release 4.5.0\n\nmeta: version: 4.5.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ie9b9ac25c22c2156a1ba345cf116d95220a05d8c\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1445fea935c66ee792e081c8df6662f5f30865e0\n'}]",1,882931,a79adeefd4f843487557bc7b8d66acaa665df4f3,20,3,2,11131,,,0,"update constraint for sushy to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ie9b9ac25c22c2156a1ba345cf116d95220a05d8c
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I1445fea935c66ee792e081c8df6662f5f30865e0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/882931/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a1ec38429058e4ae34f0ae91f580b5eab1f0f6da,new-release,sushy===4.5.0,sushy===4.4.2,1,1
openstack%2Fneutron-lib~master~Ic70202d1b41ea64ffd63dc910b7852fe75421fa9,openstack/neutron-lib,master,Ic70202d1b41ea64ffd63dc910b7852fe75421fa9,Context.elevated() method sets all required roles for context object,MERGED,2023-05-17 10:19:29.000000000,2023-05-17 18:11:37.000000000,2023-05-17 18:10:36.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 10:19:29.000000000', 'files': ['neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c5ca1ddf420b827e4684dee6a6495475014a91e3', 'message': 'Context.elevated() method sets all required roles for context object\n\nIf context should be elevated, it should always have ""admin"", ""member""\nand ""reader"" roles set as admin user always have ""member"" and ""reader""\nrole as well.\nUsually, when context is created by keystone it is like that but in some\ncases, e.g. when noauth middleware is used instead of keystone it\'s not\nlike that and then context from the environment don\'t have any role set\nso we should make sure that elevated context have all required roles set\ncorrectly.\n\nCloses-Bug: #2019946\nChange-Id: Ic70202d1b41ea64ffd63dc910b7852fe75421fa9\n'}]",2,883345,c5ca1ddf420b827e4684dee6a6495475014a91e3,12,3,1,11975,,,0,"Context.elevated() method sets all required roles for context object

If context should be elevated, it should always have ""admin"", ""member""
and ""reader"" roles set as admin user always have ""member"" and ""reader""
role as well.
Usually, when context is created by keystone it is like that but in some
cases, e.g. when noauth middleware is used instead of keystone it's not
like that and then context from the environment don't have any role set
so we should make sure that elevated context have all required roles set
correctly.

Closes-Bug: #2019946
Change-Id: Ic70202d1b41ea64ffd63dc910b7852fe75421fa9
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/45/883345/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py']",2,c5ca1ddf420b827e4684dee6a6495475014a91e3,secure-rbac," expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) def test_neutron_context_elevated_keeps_custom_roles(self): expected_admin_roles = ['admin', 'member', 'reader'] custom_roles = ['custom_role'] ctx = context.Context('user_id', 'tenant_id', roles=custom_roles) self.assertFalse(ctx.is_admin) self.assertNotEqual('all', ctx.system_scope) for expected_admin_role in expected_admin_roles: self.assertNotIn(expected_admin_role, ctx.roles) for custom_role in custom_roles: self.assertIn(custom_role, ctx.roles) elevated_ctx = ctx.elevated() self.assertTrue(elevated_ctx.is_admin) for expected_admin_role in expected_admin_roles: self.assertIn(expected_admin_role, elevated_ctx.roles) for custom_role in custom_roles: self.assertIn(custom_role, ctx.roles) ",,32,2
openstack%2Fdevstack-plugin-ceph~master~I76b62471a4707e0aff2914e2a042523d58665af4,openstack/devstack-plugin-ceph,master,I76b62471a4707e0aff2914e2a042523d58665af4,[WIP] Disable msgrv2 compatibility,ABANDONED,2023-04-28 00:09:00.000000000,2023-05-17 17:55:19.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-28 00:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/3b85e12fe14451ebd9ca6480dcda6c62e961ecaa', 'message': '[WIP] Disable msgrv2 compatibility\n\nChange-Id: I76b62471a4707e0aff2914e2a042523d58665af4\n'}, {'number': 2, 'created': '2023-04-28 00:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/85a5b682c1c8d269924d17847d7149485b39a75b', 'message': '[WIP] Disable msgrv2 compatibility\n\nChange-Id: I76b62471a4707e0aff2914e2a042523d58665af4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2023-04-28 00:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/800c95b7833545499aedad340f2c509f48a340e9', 'message': '[WIP] Disable msgrv2 compatibility\n\nChange-Id: I76b62471a4707e0aff2914e2a042523d58665af4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2023-04-28 03:11:19.000000000', 'files': ['devstack/lib/cephadm'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/856b72c69d695d351481870bb69d472f9d6469b8', 'message': '[WIP] Disable msgrv2 compatibility\n\nChange-Id: I76b62471a4707e0aff2914e2a042523d58665af4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",1,881767,856b72c69d695d351481870bb69d472f9d6469b8,8,2,4,16643,,,0,"[WIP] Disable msgrv2 compatibility

Change-Id: I76b62471a4707e0aff2914e2a042523d58665af4
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/67/881767/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/cephadm'],1,3b85e12fe14451ebd9ca6480dcda6c62e961ecaa,unpin-focal," # Turn off compatibility in the mon_ip sed -e 's/.*v2:\(.*\)\/0,.*/mon_ip = \1/' $CEPH_CONFIG ",,3,0
openstack%2Fdevstack-plugin-ceph~master~If7057b1a5e071dede60423654ebe5259980f92c3,openstack/devstack-plugin-ceph,master,If7057b1a5e071dede60423654ebe5259980f92c3,[WIP] Change libntirpc version,ABANDONED,2022-12-01 19:09:07.000000000,2023-05-17 17:54:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 19:09:07.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6854e59bcf42405451436b4adbe86063d235ff48', 'message': '[WIP] Change libntirpc version\n\nUbuntu 22 currently does not have a candidate for libntirpc3, so\nin order to fix the Cephfs NFS CI, we will need to bump the\nversion from 3 to 4.\n\nChange-Id: If7057b1a5e071dede60423654ebe5259980f92c3\n'}]",0,866382,6854e59bcf42405451436b4adbe86063d235ff48,3,1,1,29632,,,0,"[WIP] Change libntirpc version

Ubuntu 22 currently does not have a candidate for libntirpc3, so
in order to fix the Cephfs NFS CI, we will need to bump the
version from 3 to 4.

Change-Id: If7057b1a5e071dede60423654ebe5259980f92c3
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/82/866382/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,6854e59bcf42405451436b4adbe86063d235ff48,,"GANESHA_RELEASE=${GANESHA_RELEASE:-V4.0-stable} if [[ $GANESHA_RELEASE =~ V4.(4|0)-stable ]]; then sudo add-apt-repository -y ppa:nfs-ganesha/libntirpc-4.0 sudo add-apt-repository -y ppa:nfs-ganesha/nfs-ganesha-4.0 elif [[ $GANESHA_RELEASE =~ V3.(3|5)-stable ]]; then CEPH_PACKAGES=""${CEPH_PACKAGES} libntirpc4 nfs-ganesha nfs-ganesha-ceph \","GANESHA_RELEASE=${GANESHA_RELEASE:-V3.5-stable} if [[ $GANESHA_RELEASE =~ V3.(3|5)-stable ]]; then CEPH_PACKAGES=""${CEPH_PACKAGES} libntirpc3 nfs-ganesha nfs-ganesha-ceph \",6,3
openstack%2Fdevstack-plugin-ceph~master~Icfd973fd2829fee8e3e611ad1e23031a4afc4151,openstack/devstack-plugin-ceph,master,Icfd973fd2829fee8e3e611ad1e23031a4afc4151,Fix auth ID caps for manila with ceph-mgr,ABANDONED,2021-03-24 20:23:48.000000000,2023-05-17 17:53:03.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-24 20:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/403763e59ca9a5287c62ca9c5deff3f12816356a', 'message': 'Fix auth ID caps for manila with ceph-mgr\n\nNow that we issue mgr/volume commands and rados\nget/put on pool with ""ganesha_rados_store_pool_name""\nname via a rados client, the auth ID used by the\ndriver/rados client would need different capabilities.\n\nThe auth ID will now require:\n\nmon \'allow r\'\nmgr \'allow rw\'\nosd \'allow rw pool=<ganesha_rados_store_pool_name>""\n\nThe driver\'s auth ID does not need any MDS capability,\nrequires reduced MON and OSD capability, and extra write\ncapability for MGR.\n\nPartially-Implements: bp update-cephfs-drivers\n\nCo-Authored-By: Victoria Martinez de la Cruz <victoria@redhat.com>\nCo-Authored-By: Ramana Raja <rraja@redhat.com>\nCo-Authored-By: Tom Barron <tpb@dyncloud.net>\nChange-Id: Icfd973fd2829fee8e3e611ad1e23031a4afc4151\n'}, {'number': 2, 'created': '2021-04-09 11:26:42.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/234d2d333fc6ff1470be915b119206273da3bc46', 'message': 'Fix auth ID caps for manila with ceph-mgr\n\nNow that we issue mgr/volume commands and rados\nget/put on pool with ""ganesha_rados_store_pool_name""\nname via a rados client, the auth ID used by the\ndriver/rados client would need different capabilities.\n\nThe auth ID will now require:\n\nmon \'allow r\'\nmgr \'allow rw\'\nosd \'allow rw pool=<ganesha_rados_store_pool_name>""\n\nThe driver\'s auth ID does not need any MDS capability,\nrequires reduced MON and OSD capability, and extra write\ncapability for MGR.\n\nDepends-On: https://review.opendev.org/c/openstack/manila/+/785623\n\nPartially-Implements: bp update-cephfs-drivers\n\nCo-Authored-By: Victoria Martinez de la Cruz <victoria@redhat.com>\nCo-Authored-By: Ramana Raja <rraja@redhat.com>\nCo-Authored-By: Tom Barron <tpb@dyncloud.net>\nChange-Id: Icfd973fd2829fee8e3e611ad1e23031a4afc4151\n'}]",5,782855,234d2d333fc6ff1470be915b119206273da3bc46,32,4,2,6413,,,0,"Fix auth ID caps for manila with ceph-mgr

Now that we issue mgr/volume commands and rados
get/put on pool with ""ganesha_rados_store_pool_name""
name via a rados client, the auth ID used by the
driver/rados client would need different capabilities.

The auth ID will now require:

mon 'allow r'
mgr 'allow rw'
osd 'allow rw pool=<ganesha_rados_store_pool_name>""

The driver's auth ID does not need any MDS capability,
requires reduced MON and OSD capability, and extra write
capability for MGR.

Depends-On: https://review.opendev.org/c/openstack/manila/+/785623

Partially-Implements: bp update-cephfs-drivers

Co-Authored-By: Victoria Martinez de la Cruz <victoria@redhat.com>
Co-Authored-By: Ramana Raja <rraja@redhat.com>
Co-Authored-By: Tom Barron <tpb@dyncloud.net>
Change-Id: Icfd973fd2829fee8e3e611ad1e23031a4afc4151
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/55/782855/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,403763e59ca9a5287c62ca9c5deff3f12816356a,bp/update-cephfs-drivers," mon ""allow r"" osd ""allow rw pool=${CEPHFS_DATA_POOL}"" mgr ""allow rw"" \"," mon ""allow *"" osd ""allow rw"" mds ""allow *"" mgr ""allow *"" \",1,1
openstack%2Fdevstack-plugin-ceph~stable%2Fussuri~Ie65b6c0877c5cc6976bd4bbba635d7654a90c3cf,openstack/devstack-plugin-ceph,stable/ussuri,Ie65b6c0877c5cc6976bd4bbba635d7654a90c3cf,Fix manila test jobs,ABANDONED,2021-05-28 17:34:14.000000000,2023-05-17 17:52:27.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 17:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/661c11baf4fc00fe1b130cc99aaf74995a828aac', 'message': 'cleanup manila post test hook\n\nmanila jobs now install manila-tempest-plugin\ninside a tempest venv instead of globally; so\nwe need to fix the invocation in\nthe post_test_hook.sh script that the job\nrelies upon.\n\nAlso take the opportunity to remove some\nbranch-specific code that is now unnecessary\nsince this repository is branched.\n\nChange-Id: Ie65b6c0877c5cc6976bd4bbba635d7654a90c3cf\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-05-28 17:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2a7eed1ec77ac07aa050d7ba7de0157a28550397', 'message': 'cleanup manila post test hook\n\nmanila jobs now install manila-tempest-plugin\ninside a tempest venv instead of globally; so\nwe need to fix the invocation in\nthe post_test_hook.sh script that the job\nrelies upon.\n\nAlso take the opportunity to remove some\nbranch-specific code that is now unnecessary\nsince this repository is branched.\n\nDepends-On: I6c7db2286d544ff8156926e07efd57628cfdc9ff\nChange-Id: Ie65b6c0877c5cc6976bd4bbba635d7654a90c3cf\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-06-02 21:38:43.000000000', 'files': ['manila/pre_test_hook.sh', '.zuul.yaml', 'manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2feac7dea461cc874125080e80e5666cef8f799c', 'message': ""Fix manila test jobs\n\ntest code on this branch should not be\ntesting snapshots nor cloning of snapshots.\nSnapshots are disabled by default and\nthe cloning functionality is not available\nin manila's cephfs drivers in this stable\nbranch.\n\nWe can also get rid of the devstack-gate\nhooks that are no longer needed since\nthe jobs are migrated to zuulv3 style.\n\nDepends-On: I22ef492ec84d2c1b864a461f285e2eb2e14bf617\nChange-Id: Ie65b6c0877c5cc6976bd4bbba635d7654a90c3cf\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,793631,2feac7dea461cc874125080e80e5666cef8f799c,15,3,3,16643,,,0,"Fix manila test jobs

test code on this branch should not be
testing snapshots nor cloning of snapshots.
Snapshots are disabled by default and
the cloning functionality is not available
in manila's cephfs drivers in this stable
branch.

We can also get rid of the devstack-gate
hooks that are no longer needed since
the jobs are migrated to zuulv3 style.

Depends-On: I22ef492ec84d2c1b864a461f285e2eb2e14bf617
Change-Id: Ie65b6c0877c5cc6976bd4bbba635d7654a90c3cf
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/31/793631/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/post_test_hook.sh'],1,661c11baf4fc00fe1b130cc99aaf74995a828aac,native-zuulv3-migration," # NOTE(gouthamr): extra rules are needed to allow VMs to mount storage # from the host. TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done donecd $BASE/new/tempest/ echo ""Running tempest manila test suites"" tox -evenv-tempest -- tempest run -r $MANILA_TESTS -w $MANILA_TEMPEST_CONCURRENCY RETVAL=$? cd -","if [[ $ZUUL_BRANCH != ""master"" ]]; then # If testing a stable branch, we need to ensure we're testing with # supported API micro-versions; so set the versions from code if we're # not testing the master branch. If we're testing master, we'll allow # manila-tempest-plugin (which is branchless) tell us what versions it # wants to test. Grab the supported API micro-versions from the code _API_VERSION_REQUEST_PATH=$BASE/new/manila/manila/api/openstack/api_version_request.py _DEFAULT_MIN_VERSION=$(awk '$0 ~ /_MIN_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) _DEFAULT_MAX_VERSION=$(awk '$0 ~ /_MAX_API_VERSION = /{print $3}' $_API_VERSION_REQUEST_PATH) # Override the *_api_microversion tempest options if present MANILA_TEMPEST_MIN_API_MICROVERSION=${MANILA_TEMPEST_MIN_API_MICROVERSION:-$_DEFAULT_MIN_VERSION} MANILA_TEMPEST_MAX_API_MICROVERSION=${MANILA_TEMPEST_MAX_API_MICROVERSION:-$_DEFAULT_MAX_VERSION} # Set these options in tempest.conf iniset $TEMPEST_CONFIG share min_api_microversion $MANILA_TEMPEST_MIN_API_MICROVERSION iniset $TEMPEST_CONFIG share max_api_microversion $MANILA_TEMPEST_MAX_API_MICROVERSION # NOTE(gouthamr): extra rules are needed to allow VMs to mount storage # from the host. # In master/victoria, this is being done by manila's devstack plugin # See: https://review.opendev.org/724202/ TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT done for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done # In master/ussuri, this is being done by manila's devstack plugin # See: https://review.opendev.org/724204/ if [[ ""$(trueorfalse False MANILA_SETUP_IPV6)"" == ""True"" ]]; then # Now that all plugins are loaded, setup BGP here public_gateway_ipv6=$(openstack subnet show ipv6-public-subnet -c gateway_ip -f value) neutron bgp-speaker-create --ip-version 6 --local-as 100 bgpspeaker neutron bgp-speaker-network-add bgpspeaker $PUBLIC_NETWORK_NAME neutron bgp-peer-create --peer-ip $public_gateway_ipv6 --remote-as 200 bgppeer neutron bgp-speaker-peer-add bgpspeaker bgppeer fi ficd $BASE/new/tempest echo ""Running tempest manila test suites""sudo -H -u $USER tempest list-plugins sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY",18,48
openstack%2Fdevstack-plugin-ceph~master~I4eee6963ea782c3d90ad49ecb9fa56815d5e3e6b,openstack/devstack-plugin-ceph,master,I4eee6963ea782c3d90ad49ecb9fa56815d5e3e6b,add 2 skip cases to tempest blacklist,ABANDONED,2020-08-27 04:01:48.000000000,2023-05-17 17:51:05.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2020-08-27 04:01:48.000000000', 'files': ['tempest_blacklist.txt'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/70037e18cfa89c6496f4691099a13058ccf249ad', 'message': 'add 2 skip cases to tempest blacklist\n\nChange-Id: I4eee6963ea782c3d90ad49ecb9fa56815d5e3e6b\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,748354,70037e18cfa89c6496f4691099a13058ccf249ad,5,3,1,22076,,,0,"add 2 skip cases to tempest blacklist

Change-Id: I4eee6963ea782c3d90ad49ecb9fa56815d5e3e6b
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/54/748354/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest_blacklist.txt'],1,70037e18cfa89c6496f4691099a13058ccf249ad,,tempest.api.network # Skip force detach as it is not implemented tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume # Ceph ISCSI cinder driver does not support delete volume with snapshot tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete ,tempest.api.network,8,1
openstack%2Fswift~master~Ieb35e6ecf87506d8fda101b78f5e841fa9f53fd1,openstack/swift,master,Ieb35e6ecf87506d8fda101b78f5e841fa9f53fd1,s3api: add option to log '503 Slow Down' as 429,NEW,2023-05-17 16:04:02.000000000,2023-05-17 17:36:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 16:04:02.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/__init__.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_utils.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/s3api/utils.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/09b7b42b5e71350bd02a4689412fdd7584492dda', 'message': ""s3api: add option to log '503 Slow Down' as 429\n\nAdd 'log_ratelimit_as_client_error' option that will force\nproxy_logging middleware to log rate limited requests with a 429\nstatus int even when a 503 is returned to the client. This can help\ndifferentiate between rate limited requests and server errors when\nlogs only report the status int.\n\nThe new option is ignored if ratelimit_as_client_error is True, when\na 429 status int is already logged.\n\nRelated-Change: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\nChange-Id: Ieb35e6ecf87506d8fda101b78f5e841fa9f53fd1\n""}]",0,883415,09b7b42b5e71350bd02a4689412fdd7584492dda,3,1,1,7847,,,0,"s3api: add option to log '503 Slow Down' as 429

Add 'log_ratelimit_as_client_error' option that will force
proxy_logging middleware to log rate limited requests with a 429
status int even when a 503 is returned to the client. This can help
differentiate between rate limited requests and server errors when
logs only report the status int.

The new option is ignored if ratelimit_as_client_error is True, when
a 429 status int is already logged.

Related-Change: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6
Change-Id: Ieb35e6ecf87506d8fda101b78f5e841fa9f53fd1
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/883415/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/__init__.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/s3api/utils.py', 'test/unit/common/middleware/s3api/test_utils.py', 'test/unit/common/middleware/s3api/test_s3api.py']",8,09b7b42b5e71350bd02a4689412fdd7584492dda,s3api-429," 'log_ratelimit_as_client_error': False, 'log_ratelimit_as_client_error': True,",,81,2
openstack%2Fkolla~master~Id627edcc2a42643ad3ae6184d972aca760474634,openstack/kolla,master,Id627edcc2a42643ad3ae6184d972aca760474634,mariadb: log bootstrap output to file,MERGED,2023-05-04 09:33:46.000000000,2023-05-17 17:11:09.000000000,2023-05-17 17:09:53.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-04 09:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f36572453a653e1d09cae1fb579af0c8cd5ec1c2', 'message': 'mariadb: log bootstrap output to file\n\nChange-Id: Id627edcc2a42643ad3ae6184d972aca760474634\n'}, {'number': 2, 'created': '2023-05-04 10:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd75fcc9a29bcefd9eaecb49767bf99a4747a12a', 'message': 'mariadb: log bootstrap output to file\n\nChange-Id: Id627edcc2a42643ad3ae6184d972aca760474634\n'}, {'number': 3, 'created': '2023-05-04 12:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1270c3daeb51f15f5b6234cb1533fcb85ce4d78b', 'message': 'mariadb: log bootstrap output to file\n\nChange-Id: Id627edcc2a42643ad3ae6184d972aca760474634\n'}, {'number': 4, 'created': '2023-05-04 12:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3771188aa13f284907675a4a34621b11ed80bc06', 'message': 'mariadb: log bootstrap output to file\n\nChange-Id: Id627edcc2a42643ad3ae6184d972aca760474634\n'}, {'number': 5, 'created': '2023-05-04 12:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7028a9d8b107410b2ddb61f8d69015a4f38496fa', 'message': 'mariadb: log bootstrap output to file\n\nChange-Id: Id627edcc2a42643ad3ae6184d972aca760474634\n'}, {'number': 6, 'created': '2023-05-08 10:12:25.000000000', 'files': ['docker/mariadb/mariadb-server/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1cae428f958cf2d2dd967961318d5e4b56d836af', 'message': 'mariadb: log bootstrap output to file\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/882344\n\nChange-Id: Id627edcc2a42643ad3ae6184d972aca760474634\n'}]",6,882247,1cae428f958cf2d2dd967961318d5e4b56d836af,36,5,6,22629,,,0,"mariadb: log bootstrap output to file

Depends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/882344

Change-Id: Id627edcc2a42643ad3ae6184d972aca760474634
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/882247/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/mariadb-server/extend_start.sh'],1,f36572453a653e1d09cae1fb579af0c8cd5ec1c2,, mysql_install_db | tee -a ${MARIADB_LOG_DIR}/bootstrap.log bootstrap_db | tee -a ${MARIADB_LOG_DIR}/bootstrap.log, mysql_install_db bootstrap_db,2,2
openstack%2Fpython-openstackclient~master~Iaa9708ebae5d6ab3dfc73e4e2376af32ed098688,openstack/python-openstackclient,master,Iaa9708ebae5d6ab3dfc73e4e2376af32ed098688,Migrate 'volume revert' command to SDK,MERGED,2023-05-16 12:08:15.000000000,2023-05-17 17:10:40.000000000,2023-05-17 17:09:20.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-16 12:08:15.000000000', 'files': ['openstackclient/volume/v3/volume.py', 'releasenotes/notes/migrate-volume-revert-to-sdk-1e399853d80ba5f8.yaml', 'openstackclient/tests/unit/volume/v3/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aaeda25e28ba27c7e5d1870eba448e94e4a8aa1b', 'message': ""Migrate 'volume revert' command to SDK\n\nThis patch modifies the existing revert volume to snapshot call\nfrom cinderclient to SDK.\n\nChange-Id: Iaa9708ebae5d6ab3dfc73e4e2376af32ed098688\n""}]",0,883252,aaeda25e28ba27c7e5d1870eba448e94e4a8aa1b,11,3,1,27615,,,0,"Migrate 'volume revert' command to SDK

This patch modifies the existing revert volume to snapshot call
from cinderclient to SDK.

Change-Id: Iaa9708ebae5d6ab3dfc73e4e2376af32ed098688
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/52/883252/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v3/volume.py', 'releasenotes/notes/migrate-volume-revert-to-sdk-1e399853d80ba5f8.yaml', 'openstackclient/tests/unit/volume/v3/test_volume.py']",3,aaeda25e28ba27c7e5d1870eba448e94e4a8aa1b,storage-sdk,"from openstack import utils as sdk_utils self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.volume = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.volume self.sdk_client.reset_mock() patcher = mock.patch.object( sdk_utils, 'supports_microversion', return_value=True ) self.addCleanup(patcher.stop) self.supports_microversion_mock = patcher.start() self._set_mock_microversion( self.app.client_manager.volume.api_version.get_string() ) attrs={'volume_id': self.mock_volume.id} def _set_mock_microversion(self, mock_v): """"""Set a specific microversion for the mock supports_microversion()."""""" self.supports_microversion_mock.reset_mock(return_value=True) self.supports_microversion_mock.side_effect = ( lambda _, v: api_versions.APIVersion(v) <= api_versions.APIVersion(mock_v) ) self._set_mock_microversion('3.40') self.sdk_client, 'find_volume', return_value=self.mock_volume ), mock.patch.object( self.sdk_client, 'find_snapshot', return_value=self.mock_snapshot ): self.sdk_client.revert_volume_to_snapshot.assert_called_once_with( self.mock_volume, self.mock_snapshot, self.sdk_client.find_volume.assert_called_with( self.mock_volume.id, ignore_missing=False, ) self.sdk_client.find_snapshot.assert_called_with( self.mock_snapshot.id, ignore_missing=False, )","from osc_lib import utils self.volumes_mock = self.app.client_manager.volume.volumes self.volumes_mock.reset_mock() self.snapshots_mock = self.app.client_manager.volume.volume_snapshots self.snapshots_mock.reset_mock() attrs={'volume_id': self.volumes_mock.id} self.app.client_manager.volume.api_version = api_versions.APIVersion( '3.40' ) find_mock_result = [self.mock_snapshot, self.mock_volume] utils, 'find_resource', side_effect=find_mock_result ) as find_mock: self.volumes_mock.revert_to_snapshot.assert_called_once_with( volume=self.mock_volume, snapshot=self.mock_snapshot, self.assertEqual(2, find_mock.call_count)",55,24
openstack%2Fneutron~master~Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623,openstack/neutron,master,Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623,Fix not working use_random_fully config option,MERGED,2023-05-16 09:11:08.000000000,2023-05-17 17:10:37.000000000,2023-05-17 17:09:17.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6577}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27654}, {'_account_id': 34512}]","[{'number': 1, 'created': '2023-05-16 09:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0865890edf8d0055adef0f55ad0d276f277fe2e6', 'message': 'Fix not working use_random_fully config option\n\nCloses-Bug: #2018599\nChange-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623\n'}, {'number': 2, 'created': '2023-05-16 14:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aca8e286c97dd53866333e8aed7b2b56e33f82e', 'message': 'Fix not working use_random_fully config option\n\nCloses-Bug: #2018599\nChange-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623\n'}, {'number': 3, 'created': '2023-05-16 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8daf3f04c8ac3487bbf47f003fb8b3cb9db3fda8', 'message': 'Fix not working use_random_fully config option\n\nCloses-Bug: #2018599\nChange-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623\n'}, {'number': 4, 'created': '2023-05-16 16:24:37.000000000', 'files': ['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a612346146db2f9e70a23af55eb7502655666940', 'message': 'Fix not working use_random_fully config option\n\nFixed bug when config option  use_random_fully is\nset to False all routers accept one configured\nby l3 agent with iptables ""--random-fully"" option.\nAlso added storing of use iptables --random-fully\nconfig option to ""_random_fully"" class variable\nof IptablesManager to reduce checks of iptables\nversion by instances of this class.\n\nCloses-Bug: #2018599\n\nChange-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623\n'}]",10,883239,a612346146db2f9e70a23af55eb7502655666940,32,16,4,34512,,,0,"Fix not working use_random_fully config option

Fixed bug when config option  use_random_fully is
set to False all routers accept one configured
by l3 agent with iptables ""--random-fully"" option.
Also added storing of use iptables --random-fully
config option to ""_random_fully"" class variable
of IptablesManager to reduce checks of iptables
version by instances of this class.

Closes-Bug: #2018599

Change-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/883239/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py']",2,0865890edf8d0055adef0f55ad0d276f277fe2e6,," class IptablesRandomFullyFixture(fixtures.Fixture): def _setUp(self): # We MUST save and restore _random_fully because it is a class # attribute and could change state in some tests, which can cause # the other router test cases to randomly fail due to race conditions. self._random_fully = iptables_manager.IptablesManager._random_fully iptables_manager.IptablesManager._random_fully = None self.addCleanup(self._reset) def _reset(self): iptables_manager.IptablesManager._random_fully = self._random_fully class IptablesManagerDisableRandomFullyTestCase(base.BaseTestCase): def setUp(self): super(IptablesManagerDisableRandomFullyTestCase, self).setUp() self.useFixture(IptablesRandomFullyFixture()) self.execute = mock.patch.object(linux_utils, ""execute"").start() cfg.CONF.set_override('use_random_fully', False, ""AGENT"") def test_verify_disable_random_fully(self): expected_calls_and_values = [ (mock.call(['iptables', '--version'], run_as_root=True, privsep_exec=True), ""iptables v1.6.2"")] tools.setup_mock_calls(self.execute, expected_calls_and_values) iptables_mgrs = [iptables_manager.IptablesManager() for _ in range(3)] # The random_full properties of all # IptablesManager instances must return False for ipt_mgr in iptables_mgrs: self.assertFalse(ipt_mgr.random_fully)",,37,2
openstack%2Fkolla~master~I5bfa02e923f5d99726a1cd9fefc2a865b3209834,openstack/kolla,master,I5bfa02e923f5d99726a1cd9fefc2a865b3209834,WIP: Use Debian Bookworm,NEW,2023-05-17 15:27:34.000000000,2023-05-17 17:08:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 15:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/25be682e3b09b20d10cfce89a388df48123698db', 'message': 'WIP: Use Debian Bookworm\n\nChange-Id: I5bfa02e923f5d99726a1cd9fefc2a865b3209834\n'}, {'number': 2, 'created': '2023-05-17 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/80d1f4f843d38d8ee69789a6b9a0d5672c4cf487', 'message': 'WIP: Use Debian Bookworm\n\nChange-Id: I5bfa02e923f5d99726a1cd9fefc2a865b3209834\n'}, {'number': 3, 'created': '2023-05-17 15:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6a301044c880beff56d6f7fd0e5bbe1290ec23e2', 'message': 'WIP: Use Debian Bookworm\n\nChange-Id: I5bfa02e923f5d99726a1cd9fefc2a865b3209834\n'}, {'number': 4, 'created': '2023-05-17 15:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c69a1f5a0bdae36ff95e6bda5e8299ce0123e16f', 'message': 'WIP: Use Debian Bookworm\n\nChange-Id: I5bfa02e923f5d99726a1cd9fefc2a865b3209834\n'}, {'number': 5, 'created': '2023-05-17 15:38:52.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/base.yaml', 'tests/templates/template_overrides.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/95edeb6ffdf315eba44092048bc4597f8061cbdf', 'message': 'WIP: Use Debian Bookworm\n\nChange-Id: I5bfa02e923f5d99726a1cd9fefc2a865b3209834\n'}]",2,883388,95edeb6ffdf315eba44092048bc4597f8061cbdf,9,1,5,22629,,,0,"WIP: Use Debian Bookworm

Change-Id: I5bfa02e923f5d99726a1cd9fefc2a865b3209834
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/883388/3 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,25be682e3b09b20d10cfce89a388df48123698db,," 'debian': {'name': 'debian', 'tag': 'bookworm'},"," 'debian': {'name': 'debian', 'tag': 'bullseye'},",1,1
openstack%2Fironic~master~I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71,openstack/ironic,master,I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71,Rewrite devstack/tools/ironic/scripts/create-node.sh in Python,ABANDONED,2020-10-19 09:25:29.000000000,2023-05-17 16:59:59.000000000,,"[{'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-10-19 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ad2aff5db7d33e98ccd83e4b5b0504fda27ac12', 'message': 'Rewrite devstack/tools/ironic/scripts/create-node.sh in Python\nAdding the changes from the earlier patch by\nAlexander Bashmakov which got abandoned\nLink to the earlier patch - https://review.opendev.org/#/c/346832/\n\nChange-Id: I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71\nStory: #1596726\nTask: #10471\n'}, {'number': 2, 'created': '2020-10-19 14:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ef563505dbe85853967ae14fd56751ee4434c6e', 'message': 'Rewrite devstack/tools/ironic/scripts/create-node.sh in Python\n\nAdding the changes from the earlier patch\nwhich got abandoned\nLink to the earlier patch - https://review.opendev.org/#/c/346832/\nMade changes to the file ""ironic"" of the directory\n""/devstack/lib/ironic""\nby replacing create-node.sh to create-node.py\n\nChange-Id: I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71\nStory: #1596726\nTask: #10471\n'}, {'number': 3, 'created': '2020-10-22 18:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/afb4da7ce17ae0c4a9a1a55ba97b0941a5b83984', 'message': 'Rewrite devstack/tools/ironic/scripts/create-node.sh in Python\n\nAdding the changes from the earlier patch\nwhich got abandoned\nLink to the earlier patch - https://review.opendev.org/#/c/346832/\nMade changes to the file ""ironic"" of the directory\n""/devstack/lib/ironic""\nby replacing create-node.sh to create-node.py\n\nChange-Id: I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71\nStory: #1596726\nTask: #10471\n'}, {'number': 4, 'created': '2020-10-23 11:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/afec353b202a2c2fbdf3dbb829e5b3f0b85cf76d', 'message': 'Rewrite devstack/tools/ironic/scripts/create-node.sh in Python\n\nAdding the changes from the earlier patch\nwhich got abandoned\nLink to the earlier patch - https://review.opendev.org/#/c/346832/\nMade changes to the file ""ironic"" of the directory\n""/devstack/lib/ironic""\nby replacing create-node.sh to create-node.py\n\nChange-Id: I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71\nStory: #1596726\nTask: #10471\n'}, {'number': 5, 'created': '2020-10-23 13:43:38.000000000', 'files': ['devstack/lib/ironic', 'requirements.txt', 'devstack/tools/ironic/scripts/create-node.py', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/49eca452c9cc250af9d37a578cb41e86c5e88f9a', 'message': 'Rewrite devstack/tools/ironic/scripts/create-node.sh in Python\n\nAdding the changes from the earlier patch\nwhich got abandoned\nLink to the earlier patch - https://review.opendev.org/#/c/346832/\nMade changes to the file ""ironic"" of the directory\n""/devstack/lib/ironic""\nby replacing create-node.sh to create-node.py\n\nChange-Id: I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71\nStory: #1596726\nTask: #10471\n'}]",49,758762,49eca452c9cc250af9d37a578cb41e86c5e88f9a,20,7,5,32518,,,0,"Rewrite devstack/tools/ironic/scripts/create-node.sh in Python

Adding the changes from the earlier patch
which got abandoned
Link to the earlier patch - https://review.opendev.org/#/c/346832/
Made changes to the file ""ironic"" of the directory
""/devstack/lib/ironic""
by replacing create-node.sh to create-node.py

Change-Id: I6a5966aeeddd8223492664d8c00c9e2dc2a7cf71
Story: #1596726
Task: #10471
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/758762/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/tools/ironic/scripts/create-node.py', 'test-requirements.txt']",2,2ad2aff5db7d33e98ccd83e4b5b0504fda27ac12,1596726,"pyroute2>=0.4.3 # Apache-2.0 (+ dual licensed GPL2) ryu>=3.30,!=4.1,!=4.2,!=4.2.1,!=4.4 # Apache-2.0",,413,0
openstack%2Fironic~master~I30335f7215b41cceeca79af8b3161bdb8faa0c83,openstack/ironic,master,I30335f7215b41cceeca79af8b3161bdb8faa0c83,[DNM] Run only grenade job with MYSQL_REDUCE_MEMORY,ABANDONED,2023-04-04 16:49:47.000000000,2023-05-17 16:59:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-04 16:49:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/10a8a1cd22a1dc4b93391f321a3a265bbb75facf', 'message': '[DNM] Run only grenade job with MYSQL_REDUCE_MEMORY\n\nChange-Id: I30335f7215b41cceeca79af8b3161bdb8faa0c83\n'}]",3,879495,10a8a1cd22a1dc4b93391f321a3a265bbb75facf,13,1,1,15519,,,0,"[DNM] Run only grenade job with MYSQL_REDUCE_MEMORY

Change-Id: I30335f7215b41cceeca79af8b3161bdb8faa0c83
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/879495/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,10a8a1cd22a1dc4b93391f321a3a265bbb75facf,dnm_grenade,," - ironic-tox-unit-with-driver-libs - ironic-cross-sushy: voting: false - ironic-tempest-functional-python3 - ironic-tempest-functional-rbac-scope-enforced - ironic-standalone - ironic-standalone-redfish - ironic-tempest-bios-redfish-pxe - ironic-tempest-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-partition-uefi-ipmi-pxe # NOTE(TheJulia) Marking multinode non-voting on 20210311 # Due to a high failure rate on limestone where the compute1 # machine never appears to be able to communicate across the # vxlan tunnel, possible mtu issue, but non-voting until we # understand it in mind for the upcoming release. - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 - metalsmith-integration-glance-centos8-legacy # Non-voting jobs - ironic-tox-bandit: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-uefi-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - ironic-tempest-ipxe-ipv6: voting: false - ironic-standalone-anaconda: voting: false - ironic-inspector-tempest-rbac-scope-enforced: voting: false - bifrost-integration-tinyipa-ubuntu-focal: voting: false - bifrost-integration-redfish-vmedia-uefi-centos-9: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false - bifrost-benchmark-ironic: voting: false - metal3-integration: voting: false",0,49
openstack%2Fironic~master~Id57ffdc72b195b395ee39c8978ec6abe330605ea,openstack/ironic,master,Id57ffdc72b195b395ee39c8978ec6abe330605ea,Disable MYSQL_REDUCE_MEMORY for grenade,ABANDONED,2023-04-04 16:48:25.000000000,2023-05-17 16:58:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-04-04 16:48:25.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f32aa98e180c7fcec162044c418bac87c96623b', 'message': 'Disable MYSQL_REDUCE_MEMORY for grenade\n\nChange-Id: Id57ffdc72b195b395ee39c8978ec6abe330605ea\n'}]",1,879494,1f32aa98e180c7fcec162044c418bac87c96623b,5,2,1,15519,,,0,"Disable MYSQL_REDUCE_MEMORY for grenade

Change-Id: Id57ffdc72b195b395ee39c8978ec6abe330605ea
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/879494/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,1f32aa98e180c7fcec162044c418bac87c96623b,grenade," #NOTE: a change was introduced to reduce mysql memory, #we started to see problems with the grenade job. MYSQL_REDUCE_MEMORY: false",,3,0
openstack%2Fpython-openstackclient~master~I571ae7a48c02a0fe8665faf6fd42c8036f9e309c,openstack/python-openstackclient,master,I571ae7a48c02a0fe8665faf6fd42c8036f9e309c,WIP: Add function test for server migrate list,ABANDONED,2019-09-11 13:29:36.000000000,2023-05-17 16:52:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-09-11 13:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7b4f03766b3e489ff538e7cde3cdeadb68a5bcff', 'message': 'WIP: Add function test for server migrate list\n\nChange-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c\n'}, {'number': 2, 'created': '2019-09-12 09:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d31e855bd40a3b62d0334d15816eb88b8b0bcbef', 'message': 'WIP: Add function test for server migrate list\n\nChange-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c\n'}, {'number': 3, 'created': '2019-09-16 00:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b42c890868be68254762d6a3f1af969d3a37d9b3', 'message': 'WIP: Add function test for server migrate list\n\nChange-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c\n'}, {'number': 4, 'created': '2019-09-16 01:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c157f0f80d4fe94df674f20af45ebc47bf7c0014', 'message': 'WIP: Add function test for server migrate list\n\nChange-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c\n'}, {'number': 5, 'created': '2019-10-09 07:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9625c66f698f8397d464cfcf4d5032e148321abc', 'message': 'WIP: Add function test for server migrate list\n\nChange-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c\n'}, {'number': 6, 'created': '2020-03-20 12:19:15.000000000', 'files': ['openstackclient/tests/functional/compute/v2/common.py', 'openstackclient/tests/functional/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ccbcdb64e68b90b442218a103914627302a6cde2', 'message': 'WIP: Add function test for server migrate list\n\nChange-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c\n'}]",1,681473,ccbcdb64e68b90b442218a103914627302a6cde2,15,2,6,26458,,,0,"WIP: Add function test for server migrate list

Change-Id: I571ae7a48c02a0fe8665faf6fd42c8036f9e309c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/73/681473/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/compute/v2/common.py', 'openstackclient/tests/functional/compute/v2/test_server.py']",2,7b4f03766b3e489ff538e7cde3cdeadb68a5bcff,bp/add-user-id-field-to-the-migrations-table," class TestMigrationList(common.ComputeTestCase): @classmethod def setUpClass(cls): super(TestMigrationList, cls).setUpClass() cls.haz_network = cls.is_service_enabled('network') def test_migration_list(self): """"""Tests creating a server, cold migrating it and then listing and filtering migrations using various microversion milestones. """""" cmd_output = self.server_create(flavor=self.flavor_name).id server_name = cmd_output['name'] self.wait_for_status(server_name, ""ACTIVE"") # Cold migrate Server self.openstack( 'server migrate -f json ' + server_name ) # First, list migrations with v2.1 and our server id should be in the # output. # TODO(brinzhang): We cannot confirm the cold migrate, because of the # 'openstack server migrate confirm' unsupport now, because of # https://review.opendev.org/#/c/664393/ has not been merged. migrations = json.loads(self.openstack( '--os-compute-api-version 2.1 ' + 'server migrate list -f json ' + server_name )) instance_uuid = self._get_column_value_from_single_row_table( migrations, 'Instance UUID') self.assertEqual(server_id, instance_uuid) # Now listing migrations with 2.23 should give us the Type column migrations = json.loads(self.openstack( '--os-compute-api-version 2.23 ' + 'server migrate list -f json ' + server_name )) migration_type = self._get_column_value_from_single_row_table( migrations, 'Type') self.assertEqual('migration', migration_type) # Filter migrations with v2.59 and make sure there is a migration UUID # value in the output. self._get_column_value_from_single_row_table(migrations, 'UUID')",,79,0
openstack%2Fpython-openstackclient~master~I14d6711e538e217e965c6aae3338e7687c40dcfc,openstack/python-openstackclient,master,I14d6711e538e217e965c6aae3338e7687c40dcfc,Add project info to server list from all projects,ABANDONED,2018-04-18 14:46:31.000000000,2023-05-17 16:52:24.000000000,,"[{'_account_id': 970}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27057}]","[{'number': 1, 'created': '2018-04-18 14:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/748230d95c68af66a73977e8bd12687976fc040b', 'message': 'Add project info to server list from all projects\n\nWhen listing servers from all projects, the project, where each server\nbelongs to, is not shown. A cloud admin may list thousands of servers\nand it would be really helpful to have this information available.\n\nThis commit, adds the project info for each listed server when using\nthe all-projects param.\n\nThe project info follows the example of flavor and image information:\n\nWhen using just the --all param, the project name is shown for each\nlisted server.\nWhen the --all and --no-name-lookup params, the project id is shown\ninstead.\nWhen using the --all and --long params, both the project name and id\nare listed.\n\nInstead of hardcoding both the column headers and the server fields\nbefore forming the table, a new mechanism for mapping column headers\nto server fields is introduced.\n\nChange-Id: I14d6711e538e217e965c6aae3338e7687c40dcfc\nCloses-Bug: #1732216\n'}, {'number': 2, 'created': '2018-04-18 15:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c373cfb59e648b43590a2eee34486eb95881f17c', 'message': 'Add project info to server list from all projects\n\nWhen listing servers from all projects, the project, where each server\nbelongs to, is not shown. A cloud admin may list thousands of servers\nand it would be really helpful to have this information available.\n\nThis commit, adds the project info for each listed server when using\nthe all-projects param.\n\nThe project info follows the example of flavor and image information:\n\nWhen using just the --all param, the project name is shown for each\nlisted server.\nWhen the --all and --no-name-lookup params, the project id is shown\ninstead.\nWhen using the --all and --long params, both the project name and id\nare listed.\n\nInstead of hardcoding both the column headers and the server fields\nbefore forming the table, a new mechanism for mapping column headers\nto server fields is introduced.\n\nChange-Id: I14d6711e538e217e965c6aae3338e7687c40dcfc\nCloses-Bug: #2001867\n'}, {'number': 3, 'created': '2018-04-23 06:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/eabd6bd40c01c86b29a81dd39d7aa7aac31adb72', 'message': 'Add project info to server list from all projects\n\nWhen listing servers from all projects, the project, where each server\nbelongs to, is not shown. A cloud admin may list thousands of servers\nand it would be really helpful to have this information available.\n\nThis commit, adds the project info for each listed server when using\nthe all-projects param.\n\nThe project info follows the example of flavor and image information:\n\nWhen using just the --all param, the project name is shown for each\nlisted server.\nWhen the --all and --no-name-lookup params, the project id is shown\ninstead.\nWhen using the --all and --long params, both the project name and id\nare listed.\n\nInstead of hardcoding both the column headers and the server fields\nbefore forming the table, a new mechanism for mapping column headers\nto server fields is introduced.\n\nChange-Id: I14d6711e538e217e965c6aae3338e7687c40dcfc\nCloses-Bug: #2001867\n'}, {'number': 4, 'created': '2018-04-29 17:59:47.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b4842772aaf8842e9a103b1c443a49199c6c6caa', 'message': 'Add project info to server list from all projects\n\nWhen listing servers from all projects, the project, where each server\nbelongs to, is not shown. A cloud admin may list thousands of servers\nand it would be really helpful to have this information available.\n\nThis commit, adds the project info for each listed server when using\nthe all-projects param.\n\nThe project info follows the example of flavor and image information:\n\nWhen using just the --all param, the project name is shown for each\nlisted server.\nWhen the --all and --no-name-lookup params, the project id is shown\ninstead.\nWhen using the --all and --long params, both the project name and id\nare listed.\n\nInstead of hardcoding both the column headers and the server fields\nbefore forming the table, a new mechanism for mapping column headers\nto server fields is introduced.\n\nChange-Id: I14d6711e538e217e965c6aae3338e7687c40dcfc\nStory: #2001867\nTask: #14321\n'}]",4,562300,b4842772aaf8842e9a103b1c443a49199c6c6caa,16,4,4,27057,,,0,"Add project info to server list from all projects

When listing servers from all projects, the project, where each server
belongs to, is not shown. A cloud admin may list thousands of servers
and it would be really helpful to have this information available.

This commit, adds the project info for each listed server when using
the all-projects param.

The project info follows the example of flavor and image information:

When using just the --all param, the project name is shown for each
listed server.
When the --all and --no-name-lookup params, the project id is shown
instead.
When using the --all and --long params, both the project name and id
are listed.

Instead of hardcoding both the column headers and the server fields
before forming the table, a new mechanism for mapping column headers
to server fields is introduced.

Change-Id: I14d6711e538e217e965c6aae3338e7687c40dcfc
Story: #2001867
Task: #14321
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/00/562300/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,748230d95c68af66a73977e8bd12687976fc040b,bug/2001867,"def _get_columns_from_headers(headers, no_name_lookup): """"""Get the server's fields based on the provided headers. Forms and returns a tupple of server columns (fields) based on the provided headers. The mixed case columns are added in a list and returned for further handling during the table creation. :param headers: a tupple containing the selected table headers :param no_name_lookup: this specifies if the Id or Name will be shown in the resulting server list """""" header_to_column = { 'Task State': 'OS-EXT-STS:task_state', 'Power State': 'OS-EXT-STS:power_state', 'Availability Zone': 'OS-EXT-AZ:availability_zone', 'Host': 'OS-EXT-SRV-ATTR:host', 'Properties': 'Metadata', } mixed_case = [ 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host' ] columns = [] mixed_case_columns = [] for header in headers: # Try to map the header to column using the dictionary. column = header_to_column.get(header) if not column: column = header # Some columns have to be mapped to either the ID or the Name # depending on no_name_lookup. if column == 'Flavor': if no_name_lookup: column = 'Flavor ID' else: column = 'Flavor Name' elif column == 'Image': if no_name_lookup: column = 'Image ID' else: column = 'Image Name' elif column == 'Project': if no_name_lookup: column = 'Project ID' else: column = 'Project Name' # If the column is mixed case, append it to this list also. if column in mixed_case: mixed_case_columns.append(column) columns.append(column) return tuple(columns), mixed_case_columns # If servers from all projects are listed, then the project info # should be added for each listed server. Keep show_project as a flag. show_project = parsed_args.all_projects and not parsed_args.project if show_project: column_headers = ( 'Task State', 'Power State', 'Image ID', 'Flavor ID', 'Project Name', 'Project ID', 'Availability Zone', 'Host', 'Properties', else: column_headers = ( 'ID', 'Name', 'Status', 'Task State', 'Power State', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'Availability Zone', 'Host', 'Properties', ) else: if show_project: column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', 'Project', ) else: column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', ) no_name_lookup = parsed_args.no_name_lookup columns, mixed_case_fields = _get_columns_from_headers(column_headers, no_name_lookup) projects = {} # Create a dict that maps tenant_id to project object. # Needed so that we can display the ""Project Name"" column. # ""Project Name"" is not crucial, so we swallow any exceptions. if show_project and not parsed_args.no_name_lookup: try: projects_list = identity_client.projects.list() for i in projects_list: projects[i.id] = i except Exception: pass # Populate image_name, image_id, flavor_name, flavor_id, project_name # and project_id attributes of server objects so that we can display # those columns. if show_project: project = projects.get(s.tenant_id) if project: s.project_name = project.name s.project_id = s.tenant_id else: s.project_name = '' s.project_id = ''"," columns = ( 'ID', 'Name', 'Status', 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', 'Metadata', ) column_headers = ( 'ID', 'Name', 'Status', 'Task State', 'Power State', 'Networks', 'Image Name', 'Image ID', 'Flavor Name', 'Flavor ID', 'Availability Zone', 'Host', 'Properties', ) mixed_case_fields = [ 'OS-EXT-STS:task_state', 'OS-EXT-STS:power_state', 'OS-EXT-AZ:availability_zone', 'OS-EXT-SRV-ATTR:host', ] else: if parsed_args.no_name_lookup: columns = ( 'Networks', 'Image ID', 'Flavor ID', ) else: columns = ( 'ID', 'Name', 'Status', column_headers = ( 'ID', 'Name', 'Status', 'Networks', 'Image', 'Flavor', ) mixed_case_fields = [] # Populate image_name, image_id, flavor_name and flavor_id attributes # of server objects so that we can display those columns.",301,59
openstack%2Fpython-openstackclient~master~I45cee6dc22df524213182ae9b3b3d0cc7a593c06,openstack/python-openstackclient,master,I45cee6dc22df524213182ae9b3b3d0cc7a593c06,"Revert ""Use the SDK for server show""",ABANDONED,2023-03-10 13:55:37.000000000,2023-05-17 16:42:07.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 35355}]","[{'number': 1, 'created': '2023-03-10 13:55:37.000000000', 'files': ['releasenotes/notes/switch-server-show-to-sdk-44a614aebf2c6da6.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/373d71cab5851243561a57b23c818addc3f9f3f4', 'message': 'Revert ""Use the SDK for server show""\n\nThis reverts commit 70dbb01ea3ed900a41092d46ed5ae1370d5771af.\n\nReason for revert: This should have been discussed with teh nova core team i think before it was merged\n\nthere are a few issues with this.\nfirst the SDK names while more uniform diverge form the filed in teh api respocne https://docs.openstack.org/api-ref/compute/?expanded=show-server-details-detail#show-server-details\n\nits not clear that the sdk should be providign new names as that will require the client to be updated every time we add a filed where as previously you could just pass -c ""api field name"" and it was included as far as i am aware.\n\nZigo on irc raised this to our atention as a usableity regression\nas many of the field are unset and it make it harder to view the output.\n\nosc 6.0.0\nhttps://paste.opendev.org/show/bHaPZKj88T8mQ5uulgH7/\nvs 6.2.0\nhttps://paste.opendev.org/show/bM3MkVFMqeEn4ZLkMuMn/\n\neven as an admin there are a lot of empty field that shoudl not be rendered by default.\n\nthe patch shoudl realy have been two patchs.\none to adopt the sdk with no change to the output and a second\nto disucss the chagne to the output that should have been reviewd by the nova team.\n\nim not actully expecting this revert to be accepted but i think we need to disucs this at the PTG to find a better way forward.\n\nfor example things like fault shoudl not be rended if there is not one.\nthe currernt behavior may be fine with --long but i think we shoudl retrun a condenced view by default\n\nChange-Id: I45cee6dc22df524213182ae9b3b3d0cc7a593c06\n'}]",0,877017,373d71cab5851243561a57b23c818addc3f9f3f4,3,3,1,11604,,,0,"Revert ""Use the SDK for server show""

This reverts commit 70dbb01ea3ed900a41092d46ed5ae1370d5771af.

Reason for revert: This should have been discussed with teh nova core team i think before it was merged

there are a few issues with this.
first the SDK names while more uniform diverge form the filed in teh api respocne https://docs.openstack.org/api-ref/compute/?expanded=show-server-details-detail#show-server-details

its not clear that the sdk should be providign new names as that will require the client to be updated every time we add a filed where as previously you could just pass -c ""api field name"" and it was included as far as i am aware.

Zigo on irc raised this to our atention as a usableity regression
as many of the field are unset and it make it harder to view the output.

osc 6.0.0
https://paste.opendev.org/show/bHaPZKj88T8mQ5uulgH7/
vs 6.2.0
https://paste.opendev.org/show/bM3MkVFMqeEn4ZLkMuMn/

even as an admin there are a lot of empty field that shoudl not be rendered by default.

the patch shoudl realy have been two patchs.
one to adopt the sdk with no change to the output and a second
to disucss the chagne to the output that should have been reviewd by the nova team.

im not actully expecting this revert to be accepted but i think we need to disucs this at the PTG to find a better way forward.

for example things like fault shoudl not be rended if there is not one.
the currernt behavior may be fine with --long but i think we shoudl retrun a condenced view by default

Change-Id: I45cee6dc22df524213182ae9b3b3d0cc7a593c06
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/17/877017/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/switch-server-show-to-sdk-44a614aebf2c6da6.yaml', 'openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",4,373d71cab5851243561a57b23c818addc3f9f3f4,nova-gaps," if image_info: info['addresses'] = format_columns.DictListColumn(server.networks) compute_client = self.app.client_manager.compute server = utils.find_resource( compute_client.servers, parsed_args.server) (resp, data) = server.diagnostics() if not resp.status_code == 200: self.app.stderr.write(_( ""Error retrieving diagnostics data\n"" )) return ({}, {}) if compute_client.api_version < api_versions.APIVersion('2.78'): topology = server.topology() compute_client, self.app.client_manager.image, server,"," def machine_readable(self): return {k: [i['addr'] for i in v if 'addr' in i] for k, v in self._value.items()} # Note: Some callers of this routine pass a novaclient server, and others # pass an SDK server. Column names may be different across those cases. # Some commands using this routine were originally implemented with the # nova python wrappers, and were later migrated to use the SDK. Map the # SDK's property names to the original property names to maintain backward # compatibility for existing users. Data is duplicated under both the old # and new name so users can consume the data by either name. column_map = { 'access_ipv4': 'accessIPv4', 'access_ipv6': 'accessIPv6', 'admin_password': 'adminPass', 'admin_password': 'adminPass', 'volumes': 'os-extended-volumes:volumes_attached', 'availability_zone': 'OS-EXT-AZ:availability_zone', 'block_device_mapping': 'block_device_mapping_v2', 'compute_host': 'OS-EXT-SRV-ATTR:host', 'created_at': 'created', 'disk_config': 'OS-DCF:diskConfig', 'flavor_id': 'flavorRef', 'has_config_drive': 'config_drive', 'host_id': 'hostId', 'fault': 'fault', 'hostname': 'OS-EXT-SRV-ATTR:hostname', 'hypervisor_hostname': 'OS-EXT-SRV-ATTR:hypervisor_hostname', 'image_id': 'imageRef', 'instance_name': 'OS-EXT-SRV-ATTR:instance_name', 'is_locked': 'locked', 'kernel_id': 'OS-EXT-SRV-ATTR:kernel_id', 'launch_index': 'OS-EXT-SRV-ATTR:launch_index', 'launched_at': 'OS-SRV-USG:launched_at', 'power_state': 'OS-EXT-STS:power_state', 'project_id': 'tenant_id', 'ramdisk_id': 'OS-EXT-SRV-ATTR:ramdisk_id', 'reservation_id': 'OS-EXT-SRV-ATTR:reservation_id', 'root_device_name': 'OS-EXT-SRV-ATTR:root_device_name', 'scheduler_hints': 'OS-SCH-HNT:scheduler_hints', 'task_state': 'OS-EXT-STS:task_state', 'terminated_at': 'OS-SRV-USG:terminated_at', 'updated_at': 'updated', 'user_data': 'OS-EXT-SRV-ATTR:user_data', 'vm_state': 'OS-EXT-STS:vm_state', } info.update({ column_map[column]: data for column, data in info.items() if column in column_map}) if image_info and any(image_info.values()): info['addresses'] = ( AddressesColumn(info['addresses']) if 'addresses' in info else format_columns.DictListColumn(info.get('networks'))) compute_client = self.app.client_manager.sdk_connection.compute # Find by name or ID, then get the full details of the server server = compute_client.find_server( parsed_args.server, ignore_missing=False) server = compute_client.get_server(server) data = compute_client.get_server_diagnostics(server) if not sdk_utils.supports_microversion(compute_client, '2.78'): topology = server.fetch_topology(compute_client) # TODO(dannosliwcd): Replace these clients with SDK clients after # all callers of _prep_server_detail() are using the SDK. self.app.client_manager.compute, self.app.client_manager.image, server,",26,109
openstack%2Fpython-openstackclient~master~I76253c7f37cecdec04faa51e369ccf7ee2429e69,openstack/python-openstackclient,master,I76253c7f37cecdec04faa51e369ccf7ee2429e69,Use instance.get_interface instead of instance.interface,ABANDONED,2018-02-02 18:33:22.000000000,2023-05-17 16:41:36.000000000,,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-02 18:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/baeb2bcd173f63cd3a2e3b0dbf5fea4485fa57d8', 'message': ""Use instance.get_interface instead of instance.interface\n\nThe get_interface method is the API we'd like for things to use.\ninstance.interface depends on the squirelly __getattr__ in\nos-client-config and it would be nice to be able to get rid of that in\nopenstacksdk.\n\nChange-Id: I76253c7f37cecdec04faa51e369ccf7ee2429e69\n""}, {'number': 2, 'created': '2022-03-10 11:32:16.000000000', 'files': ['openstackclient/compute/client.py', 'openstackclient/object/client.py', 'openstackclient/identity/client.py', 'openstackclient/volume/client.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e3f13eb3d6c199492012a3b36fff2081131242fb', 'message': ""Use instance.get_interface instead of instance.interface\n\nThe get_interface method is the API we'd like for things to use.\ninstance.interface depends on the squirelly __getattr__ in\nos-client-config and it would be nice to be able to get rid of that in\nopenstacksdk.\n\nChange-Id: I76253c7f37cecdec04faa51e369ccf7ee2429e69\n""}]",3,540481,e3f13eb3d6c199492012a3b36fff2081131242fb,9,3,2,2,,,0,"Use instance.get_interface instead of instance.interface

The get_interface method is the API we'd like for things to use.
instance.interface depends on the squirelly __getattr__ in
os-client-config and it would be nice to be able to get rid of that in
openstacksdk.

Change-Id: I76253c7f37cecdec04faa51e369ccf7ee2429e69
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/81/540481/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/image/client.py', 'openstackclient/compute/client.py', 'openstackclient/object/client.py', 'openstackclient/identity/client.py', 'openstackclient/network/client.py', 'openstackclient/volume/client.py']",6,baeb2bcd173f63cd3a2e3b0dbf5fea4485fa57d8,," instance.get_api_version(API_NAME), kwargs = utils.build_kwargs_dict('endpoint_type', instance.get_interface(API_NAME))"," instance._api_version[API_NAME], kwargs = utils.build_kwargs_dict('endpoint_type', instance.interface)",12,9
openstack%2Fpython-openstackclient~master~I7ea3219bfdbc203277e7a497302fff720d1248cf,openstack/python-openstackclient,master,I7ea3219bfdbc203277e7a497302fff720d1248cf,compute: Fix fakes for SDK servers,ABANDONED,2023-03-30 18:13:42.000000000,2023-05-17 16:29:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-30 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aa5eb6c490365fb245e9c4b308c6f5bacd36a7f1', 'message': ""compute: Fix fakes for SDK servers\n\nWe don't override methods like we used to. We also don't need to have a\nwrapper class. Finally, we need better docstrings. Correct all issues.\n\nChange-Id: I7ea3219bfdbc203277e7a497302fff720d1248cf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2023-04-11 14:57:13.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fe5a622838705baf8165b6d4873fa0d8d4c649a6', 'message': ""compute: Fix fakes for SDK servers\n\nWe don't override methods like we used to. We also don't need to have a\nwrapper class. Finally, we need better docstrings. Correct all issues.\n\nChange-Id: I7ea3219bfdbc203277e7a497302fff720d1248cf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,879072,fe5a622838705baf8165b6d4873fa0d8d4c649a6,5,1,2,15334,,,0,"compute: Fix fakes for SDK servers

We don't override methods like we used to. We also don't need to have a
wrapper class. Finally, we need better docstrings. Correct all issues.

Change-Id: I7ea3219bfdbc203277e7a497302fff720d1248cf
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/72/879072/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py']",6,aa5eb6c490365fb245e9c4b308c6f5bacd36a7f1,fix-server-show, servers = compute_fakes.create_servers(," servers = compute_fakes.FakeServer.create_sdk_servers( methods=self.methods,",67,100
openstack%2Fpython-openstackclient~master~I5beb12c842e63b05bb0e1029fb4f32faaefb10e4,openstack/python-openstackclient,master,I5beb12c842e63b05bb0e1029fb4f32faaefb10e4,Switch image metadef namespace operations to SDK,ABANDONED,2023-05-02 18:03:57.000000000,2023-05-17 16:11:34.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-02 18:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6362aee50db17bea952afdd3dfdb684b1e80e073', 'message': ""Switch image metadef namespace operations to SDK\n\nSimply adding 'sdk_connection' whenever the image_client\nreferences 'self.app.client_manager.image' worked without\nchanging anything else.\n\nChange-Id: I5beb12c842e63b05bb0e1029fb4f32faaefb10e4\n""}, {'number': 2, 'created': '2023-05-02 18:05:43.000000000', 'files': ['openstackclient/image/v2/metadef_namespaces.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fa959a453ba930e83e37ddee7828217a0668660a', 'message': ""Switch image metadef namespace operations to SDK\n\nSimply adding 'sdk_connection' whenever the image_client\nreferences 'self.app.client_manager.image' worked without\nchanging anything else, so not sure if I'm missing something.\n\nChange-Id: I5beb12c842e63b05bb0e1029fb4f32faaefb10e4\n""}]",3,882091,fa959a453ba930e83e37ddee7828217a0668660a,7,3,2,35548,,,0,"Switch image metadef namespace operations to SDK

Simply adding 'sdk_connection' whenever the image_client
references 'self.app.client_manager.image' worked without
changing anything else, so not sure if I'm missing something.

Change-Id: I5beb12c842e63b05bb0e1029fb4f32faaefb10e4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/882091/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/metadef_namespaces.py'],1,6362aee50db17bea952afdd3dfdb684b1e80e073,antoniagaete/image_metadef_namespace, image_client = self.app.client_manager.sdk_connection.image image_client = self.app.client_manager.sdk_connection.image image_client = self.app.client_manager.sdk_connection.image image_client = self.app.client_manager.sdk_connection.image image_client = self.app.client_manager.sdk_connection.image, image_client = self.app.client_manager.image image_client = self.app.client_manager.image image_client = self.app.client_manager.image image_client = self.app.client_manager.image image_client = self.app.client_manager.image,5,5
openstack%2Fkolla~master~I61af58fb564a60df1bc2630d7e1c73308838fe28,openstack/kolla,master,I61af58fb564a60df1bc2630d7e1c73308838fe28,debian: Use Antelope extrepo,NEW,2023-05-17 14:32:17.000000000,2023-05-17 16:10:47.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-17 14:32:17.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c36aceef705b39c6c9adbe40604cd05da5428d5', 'message': 'debian: Use Antelope extrepo\n\nChange-Id: I61af58fb564a60df1bc2630d7e1c73308838fe28\n'}]",0,883381,0c36aceef705b39c6c9adbe40604cd05da5428d5,5,3,1,22629,,,0,"debian: Use Antelope extrepo

Change-Id: I61af58fb564a60df1bc2630d7e1c73308838fe28
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/883381/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,0c36aceef705b39c6c9adbe40604cd05da5428d5,, && extrepo enable openstack_antelope \, && extrepo enable openstack_zed \,1,1
openstack%2Fpython-openstackclient~master~I128ddc820ba62c36f3a355ae98b293d427202692,openstack/python-openstackclient,master,I128ddc820ba62c36f3a355ae98b293d427202692,"volume: Add ""block storage volume snapshot manage, unmanage"" commands",NEW,2017-01-15 13:55:36.000000000,2023-05-17 16:09:44.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-01-15 13:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/300f2ad5873c5ebecd26d6f1b2ccdd6410ef78e5', 'message': 'Add ""volume snapshot manage & unmanage"" commands in volume v2\n\nAdd ""volume snapshot manage"" and ""snapshot unmanage"" commands\nin volume v2 (v2 only), also add the doc, unit tests\nand release note.\n\nChange-Id: I128ddc820ba62c36f3a355ae98b293d427202692\nImplements: bp cinder-command-support\nCloses-Bug: #1618676\n'}, {'number': 2, 'created': '2021-03-19 16:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1767deec8eea664c3fdeb19d9973f9c2e46bee52', 'message': 'Add ""volume snapshot manage & unmanage"" commands in volume v2\n\nAdd ""volume snapshot manage"" and ""snapshot unmanage"" commands\nin volume v2 (v2 only), also add the doc, unit tests\nand release note.\n\nChange-Id: I128ddc820ba62c36f3a355ae98b293d427202692\nImplements: bp cinder-command-support\nCloses-Bug: #1618676\n'}, {'number': 3, 'created': '2023-05-17 14:57:16.000000000', 'files': ['openstackclient/tests/unit/volume/v2/test_block_storage_volume_snapshot.py', 'releasenotes/notes/bug-1618676-9fa202133fb289c1.yaml', 'openstackclient/volume/v2/block_storage_volume_snapshot.py', 'doc/source/cli/data/cinder.csv', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/429151270dfb8a6ace5f6081eff3fdcbb7647523', 'message': 'volume: Add ""block storage volume snapshot manage, unmanage"" commands\n\nAdd ""block storage volume snapshot manage"" and ""block storage volume\nsnapshot unmanage"" commands.\n\nChange-Id: I128ddc820ba62c36f3a355ae98b293d427202692\n'}]",0,420416,429151270dfb8a6ace5f6081eff3fdcbb7647523,10,2,3,21514,,,0,"volume: Add ""block storage volume snapshot manage, unmanage"" commands

Add ""block storage volume snapshot manage"" and ""block storage volume
snapshot unmanage"" commands.

Change-Id: I128ddc820ba62c36f3a355ae98b293d427202692
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/16/420416/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1618676-9fa202133fb289c1.yaml', 'openstackclient/tests/unit/volume/v2/test_snapshot.py', 'openstackclient/volume/v2/volume_snapshot.py', 'setup.cfg', 'doc/source/command-objects/volume-snapshot.rst']",5,300f2ad5873c5ebecd26d6f1b2ccdd6410ef78e5,cinder-gaps,volume snapshot manage ---------------------- Manage a remote volume snapshot source .. program:: volume snapshot manage .. code:: bash openstack volume snapshot manage --volume <volume> --snapshot-source <key=value> [...] [--description <description>] [--property <key=value> [...] ] [<name>] .. option:: --volume <volume> An existing volume (name or ID) (required) .. option:: --snapshot-source <key=value> The attribute(s) of the remote volume snapshot source (required) (repeat option to specify multiple attributes) e.g.: '--snapshot-source source-name=test_name' '--snapshot-source source-id=test_id' .. option:: --description <description> Set description for the volume snapshot .. option:: --property <key=value> Set property for the volume snapshot (repeat option to set multiple properties) .. _volume_snapshot_manage: .. describe:: <name> Volume snapshot name (default to None) volume snapshot unmanage ------------------------ Stop managing a remote volume snapshot source .. program:: volume snapshot unmanage .. code:: bash openstack volume snapshot unmanage <snapshot> .. _volume_snapshot_unmanage-snapshot: .. describe:: <snapshot> Volume snapshot to unmanage (name or ID) ,,260,0
openstack%2Fpuppet-keystone~master~I1c3c977dd4ac7439eec8e7278b857d606f1a25f3,openstack/puppet-keystone,master,I1c3c977dd4ac7439eec8e7278b857d606f1a25f3,Simplify validations of domain specific backends,MERGED,2023-05-17 02:09:51.000000000,2023-05-17 16:06:00.000000000,2023-05-17 16:06:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 02:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3e02b0de9071724614898a770e90634538a8283a', 'message': 'Simplify validations of domain specific backends\n\nCurrently we assert raw resources but this is redundant because these\nresources are created by the keystone class. We can assert the required\ndefinition at the class interface layer.\n\nAlso creationg of domain config directory is duplicate and can be\nhandled in a single place.\n\nChange-Id: I1c3c977dd4ac7439eec8e7278b857d606f1a25f3\n'}, {'number': 2, 'created': '2023-05-17 03:26:43.000000000', 'files': ['manifests/ldap_backend.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c478a377761a25d0097eb7a79a71f98f356d93c8', 'message': 'Simplify validations of domain specific backends\n\nCurrently we assert raw resources but this is redundant because these\nresources are created by the keystone class. We can assert the required\ndefinition at the class interface layer.\n\nAlso creationg of domain config directory is duplicate and can be\nhandled in a single place.\n\nChange-Id: I1c3c977dd4ac7439eec8e7278b857d606f1a25f3\n'}]",0,883322,c478a377761a25d0097eb7a79a71f98f356d93c8,8,3,2,9816,,,0,"Simplify validations of domain specific backends

Currently we assert raw resources but this is redundant because these
resources are created by the keystone class. We can assert the required
definition at the class interface layer.

Also creationg of domain config directory is duplicate and can be
handled in a single place.

Change-Id: I1c3c977dd4ac7439eec8e7278b857d606f1a25f3
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/22/883322/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap_backend.pp', 'spec/defines/keystone_ldap_backend_spec.rb', 'manifests/init.pp']",3,3e02b0de9071724614898a770e90634538a8283a,," file { $domain_config_directory: ensure => directory, owner => $keystone_user, group => $keystone_group, mode => '0750', require => Anchor['keystone::install::end'], } if $manage_service { File[$domain_config_directory] ~> Service[$service_name] } keystone_config { 'identity/domain_specific_drivers_enabled': value => true; 'identity/domain_config_dir': value => $domain_config_directory; }"," # Better than ensure resource. We don't want to conflict with any # user definition even if they don't match exactly our parameters. # The error catching mechanism in the provider will remind them if # they did something silly, like defining a file rather than a # directory. For the permission it's their choice. if (!defined(File[$domain_config_directory])) { file { $domain_config_directory: ensure => directory, owner => $keystone_user, group => $keystone_group, mode => '0750', require => Anchor['keystone::install::end'], } if $manage_service { File[$domain_config_directory] ~> Service[$service_name] } } # Here we want the creation to fail if the user has created those # resources with different values. That means that the user # wrongly uses using_domain_config parameter. ensure_resource( 'keystone_config', 'identity/domain_specific_drivers_enabled', {'value' => true} ) ensure_resource( 'keystone_config', 'identity/domain_config_dir', {'value' => $domain_config_directory} )",26,70
openstack%2Fpython-openstackclient~master~I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c,openstack/python-openstackclient,master,I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c,"volume: Add ""block storage volume manage, unmanage"" commands",NEW,2016-08-30 11:58:38.000000000,2023-05-17 15:58:20.000000000,,"[{'_account_id': 964}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 7350}, {'_account_id': 12924}, {'_account_id': 21514}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-08-30 11:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/030e04fdf64bfa0067dc0fe19928ea9808874760', 'message': 'WIP: Add ""volume manage & unmanage"" commands in volume v2\n\nAdd ""volume manage"" and ""volume unmanage"" commands\nin volume v2, also add the doc, unit tests, fuctional\ntests, release note.\n\nChange-Id: I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c\nImplements: bp cinder-command-support\nCloses-Bug: #1554893\nCo-Authored-By: Sheel Rana <ranasheel2000@gmail.com>\n'}, {'number': 2, 'created': '2016-09-20 11:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b05c14706fa93580b871f4459891b2130043cbef', 'message': 'Add options to ""volume create"" command\n\nAdd ""--remote-source-id"", ""--remote-source-name"",\n""--remote-host"" and ""--bootable"" options to\n""volume create"" command, also add the doc,\nunit tests and release note.\n\nChange-Id: I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c\nImplements: bp cinder-command-support\nCloses-Bug: #1554893\nCo-Authored-By: Sheel Rana <ranasheel2000@gmail.com>\n'}, {'number': 3, 'created': '2017-01-15 12:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6f5e2786fb9a2798a276693805226703464c924b', 'message': 'Add ""volume manage & unmanage"" commands in volume v2\n\nAdd ""volume manage"" and ""volume unmanage"" commands in\nvolume v2, also add the doc, unit tests and release note.\n\nChange-Id: I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c\nImplements: bp cinder-command-support\nCloses-Bug: #1554893\n'}, {'number': 4, 'created': '2023-05-17 14:57:16.000000000', 'files': ['openstackclient/volume/v2/block_storage_volume.py', 'releasenotes/notes/add-block-storage-volume-commands-bd15fca580f6a9f1.yaml', 'doc/source/cli/data/cinder.csv', 'setup.cfg', 'openstackclient/tests/unit/volume/v2/test_block_storage_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b4ffdacf188220e09d48792431f280c2edaeba61', 'message': 'volume: Add ""block storage volume manage, unmanage"" commands\n\nAdd ""block storage volume manage"" and ""block storage volume unmanage""\ncommands. They replace the now deprecated \'volume snapshot create\n--remote\' and \'volume snapshot delete --remote\' commands.\n\nChange-Id: I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c\n'}]",10,362802,b4ffdacf188220e09d48792431f280c2edaeba61,26,7,4,21514,,,0,"volume: Add ""block storage volume manage, unmanage"" commands

Add ""block storage volume manage"" and ""block storage volume unmanage""
commands. They replace the now deprecated 'volume snapshot create
--remote' and 'volume snapshot delete --remote' commands.

Change-Id: I90104bb2ec1ffb743c54a2e73a30b9f27d8eb37c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/02/362802/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'releasenotes/notes/bug-1554893-bd15fca580f6a9f1.yaml', 'functional/tests/volume/v2/test_volume.py', 'openstackclient/tests/volume/v2/test_volume.py', 'doc/source/command-objects/volume.rst', 'setup.cfg']",6,030e04fdf64bfa0067dc0fe19928ea9808874760,cinder-gaps, volume_manage = openstackclient.volume.v2.volume:ManageVolume volume_unmanage = openstackclient.volume.v2.volume:UnmanageVolume,,317,0
openstack%2Fpython-openstackclient~master~Iac36e02b5b6d75733e0baa5e7fd70b360a584b60,openstack/python-openstackclient,master,Iac36e02b5b6d75733e0baa5e7fd70b360a584b60,Fix bug that readonly option doesnt setup with volume create.,ABANDONED,2021-09-25 08:22:58.000000000,2023-05-17 15:46:59.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-25 08:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e34300e67c92576b0a7dd68b02fa758d1f4515b', 'message': 'Fix bug that readonly option doesnt setup with volume create.\n\nThe readonly option does not affect when the volume status is creating.\n\nTo support the readonly option in volume create,\nthe cli have to wait for that the status is not creating.\n\nIn this patch, the cli polling the volume status every 1 second and\nupdate readonly flag when the status is not creating.\n\nstory: 2002158\ntask: 20007\nChange-Id: Iac36e02b5b6d75733e0baa5e7fd70b360a584b60\n'}, {'number': 2, 'created': '2021-10-08 16:12:05.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e4c8a7be8793d0a3f3ba9880c649ceb96c7391c', 'message': 'Fix bug that readonly option doesnt setup with volume create.\n\nThe readonly option does not affect when the volume status is creating.\n\nTo support the readonly option in volume create,\nthe cli have to wait for that the status is not creating.\n\nIn this patch, the cli polling the volume status every 1 second and\nupdate readonly flag when the status is not creating.\n\nStory: 2002158\nTask: 20007\nChange-Id: Iac36e02b5b6d75733e0baa5e7fd70b360a584b60\n'}]",16,811006,6e4c8a7be8793d0a3f3ba9880c649ceb96c7391c,9,2,2,33835,,,0,"Fix bug that readonly option doesnt setup with volume create.

The readonly option does not affect when the volume status is creating.

To support the readonly option in volume create,
the cli have to wait for that the status is not creating.

In this patch, the cli polling the volume status every 1 second and
update readonly flag when the status is not creating.

Story: 2002158
Task: 20007
Change-Id: Iac36e02b5b6d75733e0baa5e7fd70b360a584b60
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/811006/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py']",2,6e34300e67c92576b0a7dd68b02fa758d1f4515b,, self.volumes_mock.get.return_value = self.new_volume,,9,0
openstack%2Fcharm-cinder~master~Ib273f50d620160f62cbb3d6f5789bf334a7d6333,openstack/charm-cinder,master,Ib273f50d620160f62cbb3d6f5789bf334a7d6333,Sync with charm-helpers,MERGED,2023-03-31 16:17:39.000000000,2023-05-17 15:10:03.000000000,2023-05-17 15:10:03.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-31 16:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/40983c31db915a70f6f7d0153a3cd89b573a4ddb', 'message': 'Sync with charm-helpers\n\nThis sync includes this patch to charm helpers:\n\nhttps://github.com/juju/charm-helpers/pull/757\n\nwhich is an extension of this one:\n\nhttps://github.com/juju/charm-helpers/pull/740\n\nand both are meant to include templates to configure service tokens\nin juju charms as shown in this lp bug:\n\nRelated-Bug: #1992840\nChange-Id: Ib273f50d620160f62cbb3d6f5789bf334a7d6333\n'}, {'number': 2, 'created': '2023-05-15 15:07:49.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/739aed0a14ed842bd8d83f3aaa8654ceeedcc780', 'message': 'Sync with charm-helpers\n\nThis sync includes this patch to charm helpers:\n\nhttps://github.com/juju/charm-helpers/pull/757\n\nwhich is an extension of this one:\n\nhttps://github.com/juju/charm-helpers/pull/740\n\nand both are meant to include templates to configure service tokens\nin juju charms as shown in this lp bug:\n\nRelated-Bug: #1992840\nChange-Id: Ib273f50d620160f62cbb3d6f5789bf334a7d6333\n'}]",3,879195,739aed0a14ed842bd8d83f3aaa8654ceeedcc780,14,3,2,34275,,,0,"Sync with charm-helpers

This sync includes this patch to charm helpers:

https://github.com/juju/charm-helpers/pull/757

which is an extension of this one:

https://github.com/juju/charm-helpers/pull/740

and both are meant to include templates to configure service tokens
in juju charms as shown in this lp bug:

Related-Bug: #1992840
Change-Id: Ib273f50d620160f62cbb3d6f5789bf334a7d6333
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/95/879195/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka']",2,40983c31db915a70f6f7d0153a3cd89b573a4ddb,charm-helpers-sync,service_token_roles = {{ admin_role }} service_token_roles_required = True,,5,1
openstack%2Fpython-openstackclient~master~I29767f54eaad3b36eb159ac29a5aee7556e5345d,openstack/python-openstackclient,master,I29767f54eaad3b36eb159ac29a5aee7556e5345d,"Add column ""Volume type"" and ""Bootable""",ABANDONED,2021-10-12 13:59:27.000000000,2023-05-17 15:05:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-12 13:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2f641bac566a6b3cc5409fa2509338b287e977bf', 'message': 'title : Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nstory: 2009290\ntask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}, {'number': 2, 'created': '2021-10-13 16:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d7a0283b34d7284d862822a8e3c12d6c6a259e62', 'message': 'title : Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nstory: 2009290\ntask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}, {'number': 3, 'created': '2021-10-13 17:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de5b52046f8b93a82e5c23cdc66ad0d759140915', 'message': 'title : Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nstory: 2009290\ntask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}, {'number': 4, 'created': '2021-10-14 12:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c057083286abf02f5b95c5f16295e9cfe81ba174', 'message': 'title : Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nstory: 2009290\ntask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}, {'number': 5, 'created': '2021-10-14 15:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6ec272eafc9183369ee8a53ecc173bb98c822541', 'message': 'title : Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nstory: 2009290\ntask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}, {'number': 6, 'created': '2021-10-16 12:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2c23a44750f47199cdf63070a1069c955e4c4096', 'message': 'Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nstory: 2009290\ntask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}, {'number': 7, 'created': '2021-10-17 01:10:11.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b746b5eeb38f10c9188cf1b0bc8c4c4a65cd6cb9', 'message': 'Add column ""Volume type"" and ""Bootable""\n\nAdd column ""Volume type"" and ""Bootable"" in openstack cli\n\nStory: 2009290\nTask: 43593\nChange-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d\n'}]",2,813655,b746b5eeb38f10c9188cf1b0bc8c4c4a65cd6cb9,19,1,7,33854,,,0,"Add column ""Volume type"" and ""Bootable""

Add column ""Volume type"" and ""Bootable"" in openstack cli

Story: 2009290
Task: 43593
Change-Id: I29767f54eaad3b36eb159ac29a5aee7556e5345d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/55/813655/6 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/v2/volume.py'],1,2f641bac566a6b3cc5409fa2509338b287e977bf,," 'Name', 'Volume Type', 'Bootable', column_headers[6] = 'Attached to'"," 'Name', column_headers[4] = 'Attached to'",4,2
openstack%2Foctavia~master~I8894f0602cd5b7fc7e09687c36b52e44aef5de83,openstack/octavia,master,I8894f0602cd5b7fc7e09687c36b52e44aef5de83,Imported Translations from Zanata,MERGED,2023-05-09 02:13:11.000000000,2023-05-17 14:18:06.000000000,2023-05-17 14:16:48.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 02:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d7403c2d88bf73daeed09ec280473769ce5aab30', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8894f0602cd5b7fc7e09687c36b52e44aef5de83\n'}, {'number': 2, 'created': '2023-05-17 03:21:05.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1278660ec06b5dd90c800ddfd4462cc8249cd602', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8894f0602cd5b7fc7e09687c36b52e44aef5de83\n'}]",1,882630,1278660ec06b5dd90c800ddfd4462cc8249cd602,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8894f0602cd5b7fc7e09687c36b52e44aef5de83
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/882630/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,d7403c2d88bf73daeed09ec280473769ce5aab30,zanata/translations,"""POT-Creation-Date: 2023-05-03 18:43+0000\n""""PO-Revision-Date: 2023-05-08 11:50+0000\n""msgid ""10.0.0-57"" msgstr ""10.0.0-57""msgid ""11.0.0-15"" msgstr ""11.0.0-15"" msgid ""12.0.0"" msgstr ""12.0.0"" msgid ""12.0.0-4"" msgstr ""12.0.0-4"" msgid ""12.0.0.0rc1-24"" msgstr ""12.0.0.0rc1-24"" msgid ""5.1.2-36"" msgstr ""5.1.2-36"" msgid ""6.2.2-37"" msgstr ""6.2.2-37"" msgid ""7.1.2-34"" msgstr ""7.1.2-34"" msgid ""8.0.1-66"" msgstr ""8.0.1-66"" msgid ""9.1.0"" msgstr ""9.1.0"" msgid ""9.1.0-16"" msgstr ""9.1.0-16"" ","""POT-Creation-Date: 2023-03-27 23:41+0000\n""""PO-Revision-Date: 2023-01-26 10:16+0000\n""msgid ""10.0.0-54"" msgstr ""10.0.0-54""",34,4
openstack%2Fkolla-ansible~master~I21ac8bf692d0c5c0111bea23dfe9718080d1e028,openstack/kolla-ansible,master,I21ac8bf692d0c5c0111bea23dfe9718080d1e028,CI: dump tab2list RMQ 3.11.12,ABANDONED,2023-03-31 11:00:56.000000000,2023-05-17 14:04:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-31 11:00:56.000000000', 'files': ['tests/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4935cdbc3fdf47dc3034a94ee4f1392deb567116', 'message': 'CI: dump tab2list RMQ 3.11.12\n\nChange-Id: I21ac8bf692d0c5c0111bea23dfe9718080d1e028\n'}]",0,879149,4935cdbc3fdf47dc3034a94ee4f1392deb567116,4,1,1,22629,,,0,"CI: dump tab2list RMQ 3.11.12

Change-Id: I21ac8bf692d0c5c0111bea23dfe9718080d1e028
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/879149/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get_logs.sh'],1,4935cdbc3fdf47dc3034a94ee4f1392deb567116,," # RabbitMQ logs if [[ $(docker ps --filter name=rabbitmq --format ""{{.Names}}"") ]]; then mkdir -p ${LOG_DIR}/kolla/rabbitmq docker exec -it rabbitmq bash -c ""rabbitmqctl eval 'ets:tab2list(ranch_server).'"" > ${LOG_DIR}/kolla/rabbitmq/tab2list.txt fi ",,6,0
openstack%2Fnova~master~I1ef6d6a402480ef9e1291372f3e753abf6d61b5a,openstack/nova,master,I1ef6d6a402480ef9e1291372f3e753abf6d61b5a,[WIP] use alpine instead of cirros,NEW,2023-05-01 12:54:27.000000000,2023-05-17 13:40:02.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-01 12:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a8d8859f629e68cbd8270ac68890dca197dea84', 'message': '[WIP] use alpine instead of cirros\n\nThis change replaces the teant image with\nalpin built with cloud init to try and reduce the\nguest memory usage and mitigate volume detach issues.\n\nChange-Id: I1ef6d6a402480ef9e1291372f3e753abf6d61b5a\n'}, {'number': 2, 'created': '2023-05-01 13:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9682e9cee374840492d72ac2325441ebb4dfc47', 'message': '[WIP] use alpine instead of cirros\n\nThis change replaces the teant image with\nalpin built with cloud init to try and reduce the\nguest memory usage and mitigate volume detach issues.\n\nChange-Id: I1ef6d6a402480ef9e1291372f3e753abf6d61b5a\n'}, {'number': 3, 'created': '2023-05-01 13:04:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b02008a2051bb56173f4d602c58ee782147e4b8', 'message': '[WIP] use alpine instead of cirros\n\nThis change replaces the teant image with\nalpin built with cloud init to try and reduce the\nguest memory usage and mitigate volume detach issues.\n\nChange-Id: I1ef6d6a402480ef9e1291372f3e753abf6d61b5a\n'}]",9,881912,8b02008a2051bb56173f4d602c58ee782147e4b8,11,3,3,11604,,,0,"[WIP] use alpine instead of cirros

This change replaces the teant image with
alpin built with cloud init to try and reduce the
guest memory usage and mitigate volume detach issues.

Change-Id: I1ef6d6a402480ef9e1291372f3e753abf6d61b5a
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/881912/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a8d8859f629e68cbd8270ac68890dca197dea84,alpine," IMAGE_URLS: ""https://fileshare.seanmooney.info/alpine.qcow2"" DOWNLOAD_DEFAULT_IMAGES: False DEFAULT_INSTANCE_USER: ""alpine"" DEFAULT_INSTANCE_ALT_USER: ""alpine""",,4,0
openstack%2Fnova~stable%2Fxena~Ia738a0972b050f549f446c85171d3f33e60ada4f,openstack/nova,stable/xena,Ia738a0972b050f549f446c85171d3f33e60ada4f,Handle InstanceInvalidState exception,NEW,2023-02-27 12:29:26.000000000,2023-05-17 13:34:30.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-02-27 12:29:26.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb696a3274f7891dc7def0a33ef9528f6df7b085', 'message': ""Handle InstanceInvalidState exception\n\nWhen instance task state is 'deleting' or 'migrating', then\nget_vnc_console throws 500 error, as InstanceInvalidState\nexception is not handled there.\n\nThis change handles InstanceInvalidState in api layer in\nget_vnc_console call.\n\nCloses-Bug: #1968618\nChange-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f\n(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)\n(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)\n(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)\n""}]",2,875345,bb696a3274f7891dc7def0a33ef9528f6df7b085,8,5,1,20733,,,0,"Handle InstanceInvalidState exception

When instance task state is 'deleting' or 'migrating', then
get_vnc_console throws 500 error, as InstanceInvalidState
exception is not handled there.

This change handles InstanceInvalidState in api layer in
get_vnc_console call.

Closes-Bug: #1968618
Change-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f
(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)
(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)
(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/875345/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py']",3,bb696a3274f7891dc7def0a33ef9528f6df7b085,lp_1968618,"from unittest import mock from nova.compute import api as compute from nova import exception @mock.patch.object(compute.API, 'get_vnc_console') def test_get_vnc_console_instance_invalid_state(self, mock_get_vnc_console): uuid = self._post_server() def fake_get_vnc_console(*args, **kwargs): raise exception.InstanceInvalidState( attr='fake_attr', state='fake_state', method='fake_method', instance_uuid=uuid) mock_get_vnc_console.side_effect = fake_get_vnc_console response = self._do_post('servers/%s/action' % uuid, 'get-vnc-console-post-req', {'action': 'os-getVNCConsole'}) self.assertEqual(409, response.status_code) ",,35,0
openstack%2Fkeystonemiddleware~master~I83f67ce5309c2d7909fab53dc7f5f8fd37158f15,openstack/keystonemiddleware,master,I83f67ce5309c2d7909fab53dc7f5f8fd37158f15,[DNM] Fix mocks in EC2 token tests,ABANDONED,2023-05-16 19:03:56.000000000,2023-05-17 13:23:19.000000000,,[],"[{'number': 1, 'created': '2023-05-16 19:03:56.000000000', 'files': ['keystonemiddleware/tests/unit/test_ec2_token_middleware.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4b5a049a1282ce9fcdc00ca8601d3c9faf594b43', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n(cherry picked from commit 0a478a6f814142e4aa9141b76c4c3d0e18322e6b)\n'}]",0,883299,4b5a049a1282ce9fcdc00ca8601d3c9faf594b43,6,0,1,34275,,,0,"[DNM] Fix mocks in EC2 token tests

Updated mocks used in ec2_token tests according to the changes made by
[1]

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023

Change-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15
(cherry picked from commit 0a478a6f814142e4aa9141b76c4c3d0e18322e6b)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/99/883299/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/test_ec2_token_middleware.py'],1,4b5a049a1282ce9fcdc00ca8601d3c9faf594b43,877808-stable/victoria," requests, 'post', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None, timeout=mock.ANY) requests, 'post', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None, timeout=mock.ANY) 'post', mock_request.assert_called_with(mock.ANY, verify=mock.ANY, cert=mock.ANY, timeout=mock.ANY) 'post', mock_request.assert_called_with(mock.ANY, verify=mock.ANY, cert=mock.ANY, timeout=mock.ANY)"," requests, 'request', 'POST', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None) requests, 'request', 'POST', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None) 'request', mock_request.assert_called_with('POST', mock.ANY, verify=mock.ANY, cert=mock.ANY) 'request', mock_request.assert_called_with('POST', mock.ANY, verify=mock.ANY, cert=mock.ANY)",14,12
openstack%2Freleases~master~I2cac16a4eb8d0b2fcd408f8efafc9bb5ef300cb0,openstack/releases,master,I2cac16a4eb8d0b2fcd408f8efafc9bb5ef300cb0,Add missing release note links for 2023.1 Antelope,MERGED,2023-04-27 11:41:33.000000000,2023-05-17 13:12:58.000000000,2023-05-15 12:08:57.000000000,"[{'_account_id': 308}, {'_account_id': 6282}, {'_account_id': 6469}, {'_account_id': 8846}, {'_account_id': 9816}, {'_account_id': 10342}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 15519}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 23851}, {'_account_id': 27900}, {'_account_id': 28356}, {'_account_id': 28706}, {'_account_id': 28748}, {'_account_id': 29244}, {'_account_id': 29423}, {'_account_id': 29632}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-04-27 11:41:33.000000000', 'files': ['deliverables/antelope/manila-ui.yaml', 'deliverables/antelope/puppet-heat.yaml', 'deliverables/antelope/designate-dashboard.yaml', 'deliverables/antelope/octavia-dashboard.yaml', 'deliverables/antelope/puppet-horizon.yaml', 'deliverables/antelope/puppet-tempest.yaml', 'deliverables/antelope/octavia-lib.yaml', 'deliverables/antelope/puppet-swift.yaml', 'deliverables/antelope/puppet-openstack_extras.yaml', 'deliverables/antelope/puppet-zaqar.yaml', 'deliverables/antelope/senlin-dashboard.yaml', 'deliverables/antelope/cloudkitty-dashboard.yaml', 'deliverables/antelope/puppet-ironic.yaml', 'deliverables/antelope/skyline-apiserver.yaml', 'deliverables/antelope/puppet-qdr.yaml', 'deliverables/antelope/puppet-vswitch.yaml', 'deliverables/antelope/puppet-ovn.yaml', 'deliverables/antelope/puppet-barbican.yaml', 'deliverables/antelope/python-octaviaclient.yaml', 'deliverables/antelope/puppet-cinder.yaml', 'deliverables/antelope/puppet-oslo.yaml', 'deliverables/antelope/ironic-python-agent.yaml', 'deliverables/antelope/puppet-watcher.yaml', 'deliverables/antelope/cloudkitty.yaml', 'deliverables/antelope/puppet-designate.yaml', 'deliverables/antelope/puppet-manila.yaml', 'deliverables/antelope/senlin.yaml', 'deliverables/antelope/puppet-vitrage.yaml', 'deliverables/antelope/watcher-dashboard.yaml', 'deliverables/antelope/osc-lib.yaml', 'deliverables/antelope/puppet-placement.yaml', 'deliverables/antelope/manila.yaml', 'deliverables/antelope/mistral.yaml', 'deliverables/antelope/puppet-ceilometer.yaml', 'deliverables/antelope/puppet-ec2api.yaml', 'deliverables/antelope/puppet-octavia.yaml', 'deliverables/antelope/puppet-openstack_spec_helper.yaml', 'deliverables/antelope/puppet-rally.yaml', 'deliverables/antelope/puppet-gnocchi.yaml', 'deliverables/antelope/skyline-console.yaml', 'deliverables/antelope/puppet-murano.yaml', 'deliverables/antelope/puppet-magnum.yaml', 'deliverables/antelope/puppet-cloudkitty.yaml', 'deliverables/antelope/puppet-nova.yaml', 'deliverables/antelope/puppet-keystone.yaml', 'deliverables/antelope/puppet-sahara.yaml', 'deliverables/antelope/python-cloudkittyclient.yaml', 'deliverables/antelope/puppet-neutron.yaml', 'deliverables/antelope/zaqar-ui.yaml', 'deliverables/antelope/puppet-mistral.yaml', 'deliverables/antelope/puppet-glance.yaml', 'deliverables/antelope/puppet-aodh.yaml', 'deliverables/antelope/puppet-openstacklib.yaml', 'deliverables/antelope/sahara-dashboard.yaml', 'deliverables/antelope/puppet-trove.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6ba2a8726ae4c5333edd82f5fc45cb7983687783', 'message': 'Add missing release note links for 2023.1 Antelope\n\nChange-Id: I2cac16a4eb8d0b2fcd408f8efafc9bb5ef300cb0\n'}]",1,881717,6ba2a8726ae4c5333edd82f5fc45cb7983687783,17,22,1,17685,,,0,"Add missing release note links for 2023.1 Antelope

Change-Id: I2cac16a4eb8d0b2fcd408f8efafc9bb5ef300cb0
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/881717/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/manila-ui.yaml', 'deliverables/antelope/puppet-heat.yaml', 'deliverables/antelope/designate-dashboard.yaml', 'deliverables/antelope/octavia-dashboard.yaml', 'deliverables/antelope/puppet-horizon.yaml', 'deliverables/antelope/puppet-tempest.yaml', 'deliverables/antelope/octavia-lib.yaml', 'deliverables/antelope/puppet-swift.yaml', 'deliverables/antelope/puppet-openstack_extras.yaml', 'deliverables/antelope/puppet-zaqar.yaml', 'deliverables/antelope/senlin-dashboard.yaml', 'deliverables/antelope/cloudkitty-dashboard.yaml', 'deliverables/antelope/puppet-ironic.yaml', 'deliverables/antelope/skyline-apiserver.yaml', 'deliverables/antelope/puppet-qdr.yaml', 'deliverables/antelope/puppet-vswitch.yaml', 'deliverables/antelope/puppet-ovn.yaml', 'deliverables/antelope/puppet-barbican.yaml', 'deliverables/antelope/python-octaviaclient.yaml', 'deliverables/antelope/puppet-cinder.yaml', 'deliverables/antelope/puppet-oslo.yaml', 'deliverables/antelope/ironic-python-agent.yaml', 'deliverables/antelope/puppet-watcher.yaml', 'deliverables/antelope/cloudkitty.yaml', 'deliverables/antelope/puppet-designate.yaml', 'deliverables/antelope/puppet-manila.yaml', 'deliverables/antelope/senlin.yaml', 'deliverables/antelope/puppet-vitrage.yaml', 'deliverables/antelope/watcher-dashboard.yaml', 'deliverables/antelope/osc-lib.yaml', 'deliverables/antelope/puppet-placement.yaml', 'deliverables/antelope/manila.yaml', 'deliverables/antelope/mistral.yaml', 'deliverables/antelope/puppet-ceilometer.yaml', 'deliverables/antelope/puppet-ec2api.yaml', 'deliverables/antelope/puppet-octavia.yaml', 'deliverables/antelope/puppet-openstack_spec_helper.yaml', 'deliverables/antelope/puppet-rally.yaml', 'deliverables/antelope/puppet-gnocchi.yaml', 'deliverables/antelope/skyline-console.yaml', 'deliverables/antelope/puppet-murano.yaml', 'deliverables/antelope/puppet-magnum.yaml', 'deliverables/antelope/puppet-cloudkitty.yaml', 'deliverables/antelope/puppet-nova.yaml', 'deliverables/antelope/puppet-keystone.yaml', 'deliverables/antelope/puppet-sahara.yaml', 'deliverables/antelope/python-cloudkittyclient.yaml', 'deliverables/antelope/puppet-neutron.yaml', 'deliverables/antelope/zaqar-ui.yaml', 'deliverables/antelope/puppet-mistral.yaml', 'deliverables/antelope/puppet-glance.yaml', 'deliverables/antelope/puppet-aodh.yaml', 'deliverables/antelope/puppet-openstacklib.yaml', 'deliverables/antelope/sahara-dashboard.yaml', 'deliverables/antelope/puppet-trove.yaml']",55,6ba2a8726ae4c5333edd82f5fc45cb7983687783,missing-reno-links,release-notes: https://docs.openstack.org/releasenotes/puppet-trove/2023.1.html,,55,0
openstack%2Ftripleo-upgrade~master~I93d9ed80d0d5d181ff9058d8275ef6b7ff0a0245,openstack/tripleo-upgrade,master,I93d9ed80d0d5d181ff9058d8275ef6b7ff0a0245,WIP: Overcloud upgrade prepare,ABANDONED,2022-07-28 13:49:32.000000000,2023-05-17 13:10:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 13:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/538d5034e29612a21e08ee4dac054f843e2625e5', 'message': 'Overcloud upgrade prepare\n\nChange-Id: I93d9ed80d0d5d181ff9058d8275ef6b7ff0a0245\n'}, {'number': 2, 'created': '2022-07-28 14:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2a296057e6e94fc40bdce3ebb7b7d533b8eeffa6', 'message': 'Overcloud upgrade prepare\n\nChange-Id: I93d9ed80d0d5d181ff9058d8275ef6b7ff0a0245\n'}, {'number': 3, 'created': '2022-07-28 15:00:35.000000000', 'files': ['templates/ceph_host_limit.txt.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dd6255e135cde01d519b936c8769b83a051ee269', 'message': 'WIP: Overcloud upgrade prepare\n\nChange-Id: I93d9ed80d0d5d181ff9058d8275ef6b7ff0a0245\n'}]",2,851409,dd6255e135cde01d519b936c8769b83a051ee269,5,1,3,22954,,,0,"WIP: Overcloud upgrade prepare

Change-Id: I93d9ed80d0d5d181ff9058d8275ef6b7ff0a0245
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/09/851409/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceph_host_limit.txt.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'defaults/main.yml']",4,538d5034e29612a21e08ee4dac054f843e2625e5,,"# default skip tags use on the ceph upgrade steps ceph_upgrade_skip_tags: ceph_health,opendev-validation,ceph_ansible_remote_tmp # roles where the cephadm-admin and keyring is shared ceph_limit_roles: - Undercloud - ceph_osd - ceph_mon ",,46,1
openstack%2Fcharm-mysql-innodb-cluster~master~I5bf1b2a030c08461bc42c1e686af6220738ed98c,openstack/charm-mysql-innodb-cluster,master,I5bf1b2a030c08461bc42c1e686af6220738ed98c,Add Kinetic and Zed support,ABANDONED,2022-07-18 13:14:13.000000000,2023-05-17 12:39:41.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-18 13:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a7e58d40962e4c29870a86cfe73bd7e1b8180025', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* change openstack-origin/source default to zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* add run-on base for 22.10\n* drop series from metadata.yaml in favor of run-on bases\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 2, 'created': '2022-07-22 17:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/2c1724a62436482ac146c07b80e8c948e20b8e09', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* change openstack-origin/source default to zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* add run-on base for 22.10\n* drop series from metadata.yaml in favor of run-on bases\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 3, 'created': '2022-07-25 21:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/78711286589cf47a5b5cf5622701df9824e7997a', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 4, 'created': '2022-07-26 13:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/85cc1918afb80928652fc6214062e1211e193a58', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 5, 'created': '2022-07-26 13:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/10735c4d908fc148ca2d019e76e439c59e35c2f6', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 6, 'created': '2022-07-26 19:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7d91f38906dfb6ab83c3ab65ed48419cdf9f7d34', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 7, 'created': '2022-07-26 20:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/2c33f7db7a5e9206aece31cf78fec5155ee460c1', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 8, 'created': '2022-08-02 14:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/e87e38782492bf0a1e75d3bba7382f58dcde09c6', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 9, 'created': '2022-08-04 16:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/eb381d50b8a3bfb1b3aa4eebd28b078673f14fae', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 10, 'created': '2022-08-05 01:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c4eb5f0833f7a198588f0527090ea08a0d37456c', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 11, 'created': '2022-08-05 19:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/9199199b1f483acae3a7b608506a0dbe65d87bfb', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 12, 'created': '2022-08-15 20:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/fb7363a6efd890d151fba61c851635eb657e6b29', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 13, 'created': '2022-08-17 18:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f2fc414e8e1a5075921436025e8de9d4986f3b4f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 14, 'created': '2022-08-18 12:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b0a054b9b8c544f61259e62ffd53b3c1a27912ec', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 15, 'created': '2022-08-22 21:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/59281fddeb5e4815d4cb57ead82e03e1e67b1ba4', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 16, 'created': '2022-08-23 15:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/af0536134920e08b6366784f92a8bb73457c62c2', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}, {'number': 17, 'created': '2022-08-26 18:44:18.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-full-ha.yaml', '.zuul.yaml', 'src/tests/bundles/kinetic-full.yaml', 'src/metadata.yaml', 'src/tests/bundles/jammy-full.yaml', 'src/tests/bundles/overlays/kinetic-full-ha.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-full-ha.yaml', 'src/tests/bundles/kinetic.yaml', 'requirements.txt', 'bindep.txt', 'src/tests/bundles/jammy-full-ha.yaml', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a1e567e312134e8e46a0e1e74ef1d45b52be9f7c', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n'}]",4,850203,a1e567e312134e8e46a0e1e74ef1d45b52be9f7c,57,3,17,11805,,,0,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Change-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/03/850203/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.zuul.yaml', 'src/tests/bundles/kinetic-full.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-full.yaml', 'src/tests/bundles/jammy-full.yaml', 'src/tests/bundles/overlays/kinetic-full-ha.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-full-ha.yaml', 'src/tests/bundles/kinetic.yaml', 'src/tests/bundles/jammy-full-ha.yaml', 'charmcraft.yaml']",12,a7e58d40962e4c29870a86cfe73bd7e1b8180025,batch-update," - name: ubuntu channel: ""22.10"" architectures: [amd64, s390x, ppc64el, arm64]",,436,5
openstack%2Fcharm-manila-infinidat~stable%2Fussuri~I2ec980da453153042971e7f8a766250e43589215,openstack/charm-manila-infinidat,stable/ussuri,I2ec980da453153042971e7f8a766250e43589215,stable/ussuri finalisation,MERGED,2023-04-27 17:16:57.000000000,2023-05-17 12:32:32.000000000,2023-05-17 12:32:32.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-27 17:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/d866f57d2037a191a2266bb5ea7a217d86568479', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri channel.\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}, {'number': 2, 'created': '2023-04-27 17:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/a93555b9d395efb8e510d01785e9c33cd15c4c26', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri channel.\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}, {'number': 3, 'created': '2023-04-27 17:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/5eb9477cab44bef9f0b8e35d869241842e88bb23', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri channel.\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}, {'number': 4, 'created': '2023-04-28 17:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/4cc3eecde87d03e4aaee43eea73cf84f4a5d7f99', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}, {'number': 5, 'created': '2023-05-15 17:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/88c3394034b32deac7aef0c9a83f5e9da8ddc4d6', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}, {'number': 6, 'created': '2023-05-15 19:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/a510c89c5b247b27cd93bba38c7b07e6d9ca6ff8', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}, {'number': 7, 'created': '2023-05-16 10:51:26.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', 'tests/bundles/focal-yoga.yaml', '.zuul.yaml', 'tests/tests.yaml', 'requirements.txt', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-victoria.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'src/charm.py', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/291f5ebb2aeb16f45d677da517e38fa46cd9ca14', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: I2ec980da453153042971e7f8a766250e43589215\n'}]",1,881750,291f5ebb2aeb16f45d677da517e38fa46cd9ca14,23,2,7,20870,,,0,"stable/ussuri finalisation

This patch finilises the charm to build and push to the ussuri branch.
This is a focal only charm.

This branch supports the following OpenStack channels:

* ussuri
* victoria
* wallaby
* xena
* yoga (on focal only)

Change-Id: I2ec980da453153042971e7f8a766250e43589215
",git fetch https://review.opendev.org/openstack/charm-manila-infinidat refs/changes/50/881750/7 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', '.gitreview', '.zuul.yaml', 'charmcraft.yaml', 'metadata.yaml']",5,d866f57d2037a191a2266bb5ea7a217d86568479,infinidat-ussuri, scope: container , scope: container,12,16
openstack%2Fcharm-manila-infinidat~stable%2Fyoga~Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb,openstack/charm-manila-infinidat,stable/yoga,Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb,stable/yoga finalisation,MERGED,2023-05-11 13:43:12.000000000,2023-05-17 12:31:44.000000000,2023-05-17 12:31:44.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/8f644172adfd29aa4ae6289df8c2b5261f5b133f', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb\n'}, {'number': 2, 'created': '2023-05-11 13:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/eeb37ae05afe0952559f1a7d0245492c5ec74212', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb\n'}, {'number': 3, 'created': '2023-05-15 13:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/28c8fe1de465bf734f37e5277312a06cea25f752', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb\n'}, {'number': 4, 'created': '2023-05-15 19:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/e462751041e93a6fe28640690d7cf8e101a8003e', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb\n'}, {'number': 5, 'created': '2023-05-16 11:10:34.000000000', 'files': ['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'tests/tests.yaml', 'requirements.txt', 'tests/bundles/focal-xena.yaml', 'pip.sh', 'charmcraft.yaml', 'src/charm.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/f29c1adf7fb2d85146ce8e54031484d48aa3d2d2', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb\n'}]",0,882953,f29c1adf7fb2d85146ce8e54031484d48aa3d2d2,16,2,5,20870,,,0,"stable/yoga finalisation

This patch finalises the charm to build and push to the stable/yoga
branch that will then support the yoga channel for focal and jammy.

i.e. this branch is for just supporting the yoga branch, but also
supporting an upgrade from xena.  It is intended for the yoga support
with series upgrade.

Change-Id: Ia113cca0972b69f4ea31e1c4073ce8cfb5fd98cb
",git fetch https://review.opendev.org/openstack/charm-manila-infinidat refs/changes/53/882953/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'pip.sh', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini']",11,8f644172adfd29aa4ae6289df8c2b5261f5b133f,infinidat-yoga, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",53,110
openstack%2Fcharm-infinidat-tools~stable%2Fussuri~Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b,openstack/charm-infinidat-tools,stable/ussuri,Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b,stable/ussuri finalisation,MERGED,2023-04-28 16:48:28.000000000,2023-05-17 12:31:43.000000000,2023-05-17 12:31:43.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-28 16:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/c4b1869c932cb848f56b6cf3a91bf86948ac0104', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b\n'}, {'number': 2, 'created': '2023-05-15 14:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/8dc2a3f8b8a44c7c4ede4a7867cd1a183a5af7ab', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b\n'}, {'number': 3, 'created': '2023-05-16 10:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/9cc5cf0e016473b2d6e36909b8761c6eb9cec718', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b\n'}, {'number': 4, 'created': '2023-05-16 10:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/c856e1b1c534440b9a1379af55a554340da62550', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b\n'}, {'number': 5, 'created': '2023-05-17 07:32:04.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', '.zuul.yaml', 'config.yaml', 'CHANNELS.md', 'tests/tests.yaml', 'requirements.txt', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-victoria.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/754f0090929765476dfd4c07117d7a3306e91e8d', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b\n'}]",1,881834,754f0090929765476dfd4c07117d7a3306e91e8d,18,2,5,20870,,,0,"stable/ussuri finalisation

This patch finilises the charm to build and push to the ussuri branch.
This is a focal only charm.

This branch supports the following OpenStack channels:

* ussuri
* victoria
* wallaby
* xena
* yoga (on focal only)

Change-Id: Iabe036c28a2f56d2900ba9da1df1d6d77c3fe22b
",git fetch https://review.opendev.org/openstack/charm-infinidat-tools refs/changes/34/881834/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', 'tests/bundles/focal-yoga.yaml', '.zuul.yaml', 'config.yaml', 'CHANNELS.md', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-victoria.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml']",12,c4b1869c932cb848f56b6cf3a91bf86948ac0104,infinidat-ussuri,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby openstack-channel: &openstack-channel wallaby/edge series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': local_overlay_enabled: false applications: mysql: charm: ch:mysql-innodb-cluster channel: 8.0/edge num_units: 3 to: - '0' - '1' - '2' keystone: charm: ch:keystone channel: *openstack-channel num_units: 1 options: openstack-origin: *openstack-origin to: - '3' keystone-mysql-router: charm: ch:mysql-router channel: 8.0/edge cinder: charm: ch:cinder channel: *openstack-channel num_units: 1 options: openstack-origin: *openstack-origin to: - '4' cinder-mysql-router: charm: ch:mysql-router channel: 8.0/edge infinidat-tools: charm: ../../infinidat-tools.charm rabbitmq-server: charm: ch:rabbitmq-server channel: 3.8/edge num_units: 1 to: - '5' relations: - [ keystone:shared-db, keystone-mysql-router:shared-db ] - [ cinder:shared-db, cinder-mysql-router:shared-db ] - [ cinder:identity-service, keystone:identity-service ] - [ cinder:amqp, rabbitmq-server:amqp ] - [ cinder:juju-info, infinidat-tools:juju-info ] - [ keystone-mysql-router:db-router, mysql:db-router ] - [ cinder-mysql-router:db-router, mysql:db-router ] ",,318,31
openstack%2Fcharm-manila-infinidat~stable%2Fzed~I5e8d7214ef88a4a0fac8a3d99a04007c612705d9,openstack/charm-manila-infinidat,stable/zed,I5e8d7214ef88a4a0fac8a3d99a04007c612705d9,stable/zed finalisation,MERGED,2023-05-11 17:58:39.000000000,2023-05-17 12:30:34.000000000,2023-05-17 12:30:34.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 17:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/55e2e568d28447b28765820b66be4d55e429975c', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I5e8d7214ef88a4a0fac8a3d99a04007c612705d9\n'}, {'number': 2, 'created': '2023-05-15 14:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/1a35999bb4371dcc1ad37cd95173ea6ed13b7168', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I5e8d7214ef88a4a0fac8a3d99a04007c612705d9\n'}, {'number': 3, 'created': '2023-05-15 19:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/56a890ad1c14ea58df39ff6bab51ea8640798364', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I5e8d7214ef88a4a0fac8a3d99a04007c612705d9\n'}, {'number': 4, 'created': '2023-05-16 11:19:02.000000000', 'files': ['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'requirements.txt', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'src/charm.py', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/e57eb13043e8b228db7d36adabac57463ed56e1b', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I5e8d7214ef88a4a0fac8a3d99a04007c612705d9\n'}]",0,882984,e57eb13043e8b228db7d36adabac57463ed56e1b,15,2,4,20870,,,0,"stable/zed finalisation

This patch provides the jammy only charm for zed+, currently zed and
antelope (2023.1).  This branch will feed the charmhub channels zed and
2023.1.

Change-Id: I5e8d7214ef88a4a0fac8a3d99a04007c612705d9
",git fetch https://review.opendev.org/openstack/charm-manila-infinidat refs/changes/84/882984/3 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini']",12,55e2e568d28447b28765820b66be4d55e429975c,infinidat-zed, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",57,118
openstack%2Fcharm-manila-infinidat~main~I545954fe10601c7d20c333c701b2aebffd0ec40a,openstack/charm-manila-infinidat,main,I545954fe10601c7d20c333c701b2aebffd0ec40a,Add updates for bringing this updated to antelope,MERGED,2023-04-26 17:04:33.000000000,2023-05-17 12:30:33.000000000,2023-05-17 12:30:33.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-26 17:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/fab2fce03a69b0a1ea96840666a03e46a74bb64d', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I545954fe10601c7d20c333c701b2aebffd0ec40a\n'}, {'number': 2, 'created': '2023-04-26 20:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/3967a0bf0db56116b5f88504c481e0bc1ca02c36', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I545954fe10601c7d20c333c701b2aebffd0ec40a\n'}, {'number': 3, 'created': '2023-04-27 11:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/b6b39292ebb04b0555b14272cb9cee47bc9ee7e9', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I545954fe10601c7d20c333c701b2aebffd0ec40a\n'}, {'number': 4, 'created': '2023-04-27 15:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/ca59b3cf18592cd31fd4fe6eddd3103337044a50', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I545954fe10601c7d20c333c701b2aebffd0ec40a\n'}, {'number': 5, 'created': '2023-05-15 19:28:16.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'src/charm.py', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-infinidat/commit/ac7af8bf4e5011881db8e243af0ec72597c07e84', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I545954fe10601c7d20c333c701b2aebffd0ec40a\n'}]",0,881589,ac7af8bf4e5011881db8e243af0ec72597c07e84,16,2,5,20870,,,0,"Add updates for bringing this updated to antelope

* Enable running under tox 4
* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri
* Update osci.yaml so that it runs with charmcraft 2.1/stable

Change-Id: I545954fe10601c7d20c333c701b2aebffd0ec40a
",git fetch https://review.opendev.org/openstack/charm-manila-infinidat refs/changes/89/881589/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'test-requirements.txt', 'build-requirements.txt', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'tox.ini']",8,fab2fce03a69b0a1ea96840666a03e46a74bb64d,infinidat-antelope, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py38] basepython = python3.8 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",48,112
openstack%2Fcharm-cinder-infinidat~stable%2Fussuri~Ifbc1886bff5683117518d887d00281382293ddf5,openstack/charm-cinder-infinidat,stable/ussuri,Ifbc1886bff5683117518d887d00281382293ddf5,stable/ussuri finalisation,MERGED,2023-04-27 17:54:26.000000000,2023-05-17 12:30:32.000000000,2023-05-17 12:30:32.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-27 17:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/61e135b739fe574c7a4de4fa96d70136b5a8c2b8', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri channel.\n\nChange-Id: Ifbc1886bff5683117518d887d00281382293ddf5\n'}, {'number': 2, 'created': '2023-04-27 17:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/a4423599cbe66de8915c646754c935b75e14539a', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri channel.\n\nChange-Id: Ifbc1886bff5683117518d887d00281382293ddf5\n'}, {'number': 3, 'created': '2023-04-28 17:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/327c2332549274ac47a5357d4594aef278dd1a23', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Ifbc1886bff5683117518d887d00281382293ddf5\n'}, {'number': 4, 'created': '2023-05-11 18:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/1176d08715fc36f2a7d5ded7785ffaf43cec695c', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Ifbc1886bff5683117518d887d00281382293ddf5\n'}, {'number': 5, 'created': '2023-05-16 10:38:45.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'requirements.txt', 'tests/bundles/focal-xena.yaml', '.gitreview', '.zuul.yaml', 'tests/bundles/focal-victoria.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/14d1b833dd0d7096e811cc7c0117d75e7be637f9', 'message': 'stable/ussuri finalisation\n\nThis patch finilises the charm to build and push to the ussuri branch.\nThis is a focal only charm.\n\nThis branch supports the following OpenStack channels:\n\n* ussuri\n* victoria\n* wallaby\n* xena\n* yoga (on focal only)\n\nChange-Id: Ifbc1886bff5683117518d887d00281382293ddf5\n'}]",0,881755,14d1b833dd0d7096e811cc7c0117d75e7be637f9,20,2,5,20870,,,0,"stable/ussuri finalisation

This patch finilises the charm to build and push to the ussuri branch.
This is a focal only charm.

This branch supports the following OpenStack channels:

* ussuri
* victoria
* wallaby
* xena
* yoga (on focal only)

Change-Id: Ifbc1886bff5683117518d887d00281382293ddf5
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/55/881755/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', '.gitreview', '.zuul.yaml', 'charmcraft.yaml']",4,61e135b739fe574c7a4de4fa96d70136b5a8c2b8,infinidat-ussuri,," - name: ubuntu channel: ""21.10""",11,15
openstack%2Fcharm-cinder-infinidat~stable%2Fyoga~I091434567a2d6a8d67ea7602f591792c08e334cd,openstack/charm-cinder-infinidat,stable/yoga,I091434567a2d6a8d67ea7602f591792c08e334cd,stable/yoga finalisation,MERGED,2023-05-15 13:53:18.000000000,2023-05-17 12:30:31.000000000,2023-05-17 12:30:31.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 13:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/b052106e3e8db95b1c1a7f05d0507bf1b7f19881', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: I091434567a2d6a8d67ea7602f591792c08e334cd\n'}, {'number': 2, 'created': '2023-05-15 19:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/689373786dd4cc9347e1c9ac067aa5c3b2fca003', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: I091434567a2d6a8d67ea7602f591792c08e334cd\n'}, {'number': 3, 'created': '2023-05-16 11:04:44.000000000', 'files': ['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'tests/tests.yaml', 'requirements.txt', 'tests/bundles/focal-xena.yaml', 'pip.sh', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/70351584bea4844845c227068749723271e7f385', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: I091434567a2d6a8d67ea7602f591792c08e334cd\n'}]",0,883158,70351584bea4844845c227068749723271e7f385,13,2,3,20870,,,0,"stable/yoga finalisation

This patch finalises the charm to build and push to the stable/yoga
branch that will then support the yoga channel for focal and jammy.

i.e. this branch is for just supporting the yoga branch, but also
supporting an upgrade from xena.  It is intended for the yoga support
with series upgrade.

Change-Id: I091434567a2d6a8d67ea7602f591792c08e334cd
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/58/883158/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'tests/bundles/focal-yoga.yaml', '.zuul.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'pip.sh', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tox.ini']",13,b052106e3e8db95b1c1a7f05d0507bf1b7f19881,infinidat-yoga,passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOscipassenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",59,116
openstack%2Fcharm-cinder-infinidat~stable%2Fzed~I69722de365d330dca6f8a874e537f7db276320f3,openstack/charm-cinder-infinidat,stable/zed,I69722de365d330dca6f8a874e537f7db276320f3,stable/zed finalisation,MERGED,2023-05-15 14:09:50.000000000,2023-05-17 12:30:30.000000000,2023-05-17 12:30:30.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/22747535d9321e19e876041f8faeb345620e3bdd', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I69722de365d330dca6f8a874e537f7db276320f3\n'}, {'number': 2, 'created': '2023-05-16 11:14:39.000000000', 'files': ['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'requirements.txt', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/546af215efdde5d0275229101360b85f70bc293e', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I69722de365d330dca6f8a874e537f7db276320f3\n'}]",0,883160,546af215efdde5d0275229101360b85f70bc293e,11,2,2,20870,,,0,"stable/zed finalisation

This patch provides the jammy only charm for zed+, currently zed and
antelope (2023.1).  This branch will feed the charmhub channels zed and
2023.1.

Change-Id: I69722de365d330dca6f8a874e537f7db276320f3
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/60/883160/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini']",12,22747535d9321e19e876041f8faeb345620e3bdd,infinidat-zed, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",53,113
openstack%2Fcharm-cinder-infinidat~main~I49d3d39e4b9052d50a5fa2f2f826b88ad92f7516,openstack/charm-cinder-infinidat,main,I49d3d39e4b9052d50a5fa2f2f826b88ad92f7516,Add updates for bringing this updated to antelope,MERGED,2023-04-27 15:04:02.000000000,2023-05-17 12:29:37.000000000,2023-05-17 12:29:37.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-27 15:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/6ddd3beb969cb3a0ee709edb8858b686c8d00880', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I49d3d39e4b9052d50a5fa2f2f826b88ad92f7516\n'}, {'number': 2, 'created': '2023-04-27 15:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/ff5341514e5d759d2438e59c11fa32a6c9bf9bd6', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I49d3d39e4b9052d50a5fa2f2f826b88ad92f7516\n'}, {'number': 3, 'created': '2023-05-15 20:16:09.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'build-requirements.txt', 'pip.sh', '.zuul.yaml', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/af3ba4994854b52d46e3b5040100be75b7e996eb', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I49d3d39e4b9052d50a5fa2f2f826b88ad92f7516\n'}]",0,881730,af3ba4994854b52d46e3b5040100be75b7e996eb,10,2,3,20870,,,0,"Add updates for bringing this updated to antelope

* Enable running under tox 4
* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri
* Update osci.yaml so that it runs with charmcraft 2.1/stable

Change-Id: I49d3d39e4b9052d50a5fa2f2f826b88ad92f7516
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/30/881730/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'build-requirements.txt', 'pip.sh', '.zuul.yaml', 'tests/bundles/jammy-antelope.yaml', 'tox.ini', 'tests/bundles/jammy-zed.yaml']",8,6ddd3beb969cb3a0ee709edb8858b686c8d00880,infinidat-antelope,series: jammy variables: openstack-origin: &openstack-origin cloud:jammy-zed ovn-channel: &ovn-channel latest/edge openstack-channel: &openstack-channel zed/edge mysql-channel: &mysql-channel 8.0/edge channel: *mysql-channel channel: *mysql-channel channel: *mysql-channel channel: *mysql-channel channel: *mysql-channel channel: *mysql-channel channel: *mysql-channel charm: *mysql-channel channel: 1.8/stable,series: focal variables: openstack-origin: &openstack-origin distro ovn-channel: &ovn-channel latest/stable openstack-channel: &openstack-channel ussuri/edge mysql-channel: &mysql-channel 8.0/stable channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge charm: mysql-router channel: 1.7/stable,42,97
openstack%2Fcharm-infinidat-tools~stable%2Fyoga~Ibc770e571adf18866c0102207c239f46c56e618c,openstack/charm-infinidat-tools,stable/yoga,Ibc770e571adf18866c0102207c239f46c56e618c,stable/yoga finalisation,MERGED,2023-05-15 14:40:41.000000000,2023-05-17 12:29:27.000000000,2023-05-17 12:29:27.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 14:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/fe4d6f2e65a6c48590933fb241ddb42774cc6d16', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ibc770e571adf18866c0102207c239f46c56e618c\n'}, {'number': 2, 'created': '2023-05-15 18:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/042b4bbbe1b6d766ee7a4b0c3174c5e36214c0cc', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ibc770e571adf18866c0102207c239f46c56e618c\n'}, {'number': 3, 'created': '2023-05-16 10:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/ab211c2da7c2fc675f055cbe76776562610830a0', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ibc770e571adf18866c0102207c239f46c56e618c\n'}, {'number': 4, 'created': '2023-05-17 07:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/f0d99079568e0ed46ffd03224bf0670f1ee9104b', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ibc770e571adf18866c0102207c239f46c56e618c\n'}, {'number': 5, 'created': '2023-05-17 07:31:18.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'config.yaml', 'CHANNELS.md', 'tests/tests.yaml', 'requirements.txt', 'tests/bundles/focal-xena.yaml', 'pip.sh', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/de88285fe6ab91cca3fb052a598e8c3626b3af31', 'message': 'stable/yoga finalisation\n\nThis patch finalises the charm to build and push to the stable/yoga\nbranch that will then support the yoga channel for focal and jammy.\n\ni.e. this branch is for just supporting the yoga branch, but also\nsupporting an upgrade from xena.  It is intended for the yoga support\nwith series upgrade.\n\nChange-Id: Ibc770e571adf18866c0102207c239f46c56e618c\n'}]",3,883163,de88285fe6ab91cca3fb052a598e8c3626b3af31,18,2,5,20870,,,0,"stable/yoga finalisation

This patch finalises the charm to build and push to the stable/yoga
branch that will then support the yoga channel for focal and jammy.

i.e. this branch is for just supporting the yoga branch, but also
supporting an upgrade from xena.  It is intended for the yoga support
with series upgrade.

Change-Id: Ibc770e571adf18866c0102207c239f46c56e618c
",git fetch https://review.opendev.org/openstack/charm-infinidat-tools refs/changes/63/883163/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'tests/bundles/focal-yoga.yaml', '.zuul.yaml', 'config.yaml', 'CHANNELS.md', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'pip.sh', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tox.ini']",16,fe4d6f2e65a6c48590933fb241ddb42774cc6d16,infinidat-yoga, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",227,125
openstack%2Fcharm-infinidat-tools~stable%2Fzed~I944881e89be33bac46767b41ed3765f3a859da0e,openstack/charm-infinidat-tools,stable/zed,I944881e89be33bac46767b41ed3765f3a859da0e,stable/zed finalisation,MERGED,2023-05-15 14:47:35.000000000,2023-05-17 12:29:26.000000000,2023-05-17 12:29:26.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 14:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/9435641ca04e235eb14401527eebd8205765e929', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I944881e89be33bac46767b41ed3765f3a859da0e\n'}, {'number': 2, 'created': '2023-05-15 19:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/8916e84700140b0e12285f8db32aaf8c2deb944d', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I944881e89be33bac46767b41ed3765f3a859da0e\n'}, {'number': 3, 'created': '2023-05-16 10:34:00.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'requirements.txt', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/f0cdae018980341ccd3ab22f05a8132d141be1a8', 'message': 'stable/zed finalisation\n\nThis patch provides the jammy only charm for zed+, currently zed and\nantelope (2023.1).  This branch will feed the charmhub channels zed and\n2023.1.\n\nChange-Id: I944881e89be33bac46767b41ed3765f3a859da0e\n'}]",0,883164,f0cdae018980341ccd3ab22f05a8132d141be1a8,13,2,3,20870,,,0,"stable/zed finalisation

This patch provides the jammy only charm for zed+, currently zed and
antelope (2023.1).  This branch will feed the charmhub channels zed and
2023.1.

Change-Id: I944881e89be33bac46767b41ed3765f3a859da0e
",git fetch https://review.opendev.org/openstack/charm-infinidat-tools refs/changes/64/883164/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini']",13,9435641ca04e235eb14401527eebd8205765e929,infinidat-zed, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",151,128
openstack%2Fcharm-infinidat-tools~main~I3422b0f215137240cd6960eea62923117c0ee91c,openstack/charm-infinidat-tools,main,I3422b0f215137240cd6960eea62923117c0ee91c,Add updates for bringing this updated to antelope,MERGED,2023-04-27 16:32:40.000000000,2023-05-17 12:28:37.000000000,2023-05-17 12:28:37.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-27 16:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/b6136ff3c332deb63e978198406310619a62a40f', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I3422b0f215137240cd6960eea62923117c0ee91c\n'}, {'number': 2, 'created': '2023-05-15 20:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/309a18fd580ce431a91b455794dda7945efb2d33', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I3422b0f215137240cd6960eea62923117c0ee91c\n'}, {'number': 3, 'created': '2023-05-15 20:14:53.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-infinidat-tools/commit/248711e28727c738d81acc2970621dcb092b9716', 'message': 'Add updates for bringing this updated to antelope\n\n* Enable running under tox 4\n* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri\n* Update osci.yaml so that it runs with charmcraft 2.1/stable\n\nChange-Id: I3422b0f215137240cd6960eea62923117c0ee91c\n'}]",0,881748,248711e28727c738d81acc2970621dcb092b9716,10,2,3,20870,,,0,"Add updates for bringing this updated to antelope

* Enable running under tox 4
* add jammy-antelope, and jammy-zed bundles; remove focal-ussuri
* Update osci.yaml so that it runs with charmcraft 2.1/stable

Change-Id: I3422b0f215137240cd6960eea62923117c0ee91c
",git fetch https://review.opendev.org/openstack/charm-infinidat-tools refs/changes/48/881748/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/tests.yaml', 'pip.sh', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini']",12,b6136ff3c332deb63e978198406310619a62a40f,infinidat-antelope, {toxinidir}/rename.sh passenv = HOME TERM CS_* OS_* TEST_*deps = charmcraft -v pack,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 # * It is necessary to declare setuptools as a dependency otherwise tox will # fail very early at not being able to load it. The version pinning is in # line with `pip.sh`. requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0 rename.sh passenv = HOME TERM CS_* OS_* TEST_*[testenv:py35] basepython = python3.5 # python3.5 is irrelevant on a focal+ charm. commands = /bin/true [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = -r{toxinidir}/build-requirements.txt charmcraft -v build",147,124
openstack%2Fpython-openstackclient~master~Ib0da07fd9d793968b111986bd36a6d4311469d4e,openstack/python-openstackclient,master,Ib0da07fd9d793968b111986bd36a6d4311469d4e,tests: Use SDK objects where expected,MERGED,2022-12-14 12:06:49.000000000,2023-05-17 12:24:12.000000000,2023-05-17 12:23:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-14 12:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fba321bbda9ac7103ff94977cbef71dff4dfa2a5', 'message': 'tests: Use SDK objects where expected\n\nWe had not migrated a number of tests to use SDK objects instead of fake\nnovaclient-like objects when migrating the commands themselves. Address\nthis now.\n\nChange-Id: Ib0da07fd9d793968b111986bd36a6d4311469d4e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2023-01-04 13:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/216515dd474546e913abac47ba433c95bf0f10e8', 'message': 'tests: Use SDK objects where expected\n\nWe had not migrated a number of tests to use SDK objects instead of fake\nnovaclient-like objects when migrating the commands themselves. Address\nthis now.\n\nChange-Id: Ib0da07fd9d793968b111986bd36a6d4311469d4e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2023-05-16 15:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fab98294ba4445f6cc94c992fb43206c36a79bee', 'message': 'tests: Use SDK objects where expected\n\nWe had not migrated a number of tests to use SDK objects instead of fake\nnovaclient-like objects when migrating the commands themselves. Address\nthis now.\n\nChange-Id: Ib0da07fd9d793968b111986bd36a6d4311469d4e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2023-05-16 16:55:08.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/31ae635ffe0a2c37ab2bda394d2b072d7e5acff9', 'message': 'tests: Use SDK objects where expected\n\nWe had not migrated a number of tests to use SDK objects instead of fake\nnovaclient-like objects when migrating the commands themselves. Address\nthis now.\n\nChange-Id: Ib0da07fd9d793968b111986bd36a6d4311469d4e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,867627,31ae635ffe0a2c37ab2bda394d2b072d7e5acff9,16,3,4,15334,,,0,"tests: Use SDK objects where expected

We had not migrated a number of tests to use SDK objects instead of fake
novaclient-like objects when migrating the commands themselves. Address
this now.

Change-Id: Ib0da07fd9d793968b111986bd36a6d4311469d4e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/27/867627/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py']",6,fba321bbda9ac7103ff94977cbef71dff4dfa2a5,nova-gaps,," methods=self.methods,",140,170
openstack%2Fkolla~stable%2Fyoga~I2f879e59a64b9039a8a27c40bd462fde4df73f43,openstack/kolla,stable/yoga,I2f879e59a64b9039a8a27c40bd462fde4df73f43,toolbox: pin ansible.posix to <1.5.4,MERGED,2023-05-16 13:33:32.000000000,2023-05-17 12:16:30.000000000,2023-05-17 12:15:32.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-16 13:33:32.000000000', 'files': ['docker/kolla-toolbox/requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a600b779134ac2e1990dc86544bb83a69a501fc', 'message': 'toolbox: pin ansible.posix to <1.5.4\n\nansible.posix 1.5.4 has been released and it broke the way\nwe use JSON callback plugin (it requires play.path) - see [1] and [2].\n\n[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac\n[2]: https://github.com/ansible-collections/ansible.posix/issues/461\n\nChange-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43\n(cherry picked from commit d965b1b3da9b8c2780a91781834a46f5886bd9c2)\n'}]",5,883122,5a600b779134ac2e1990dc86544bb83a69a501fc,22,4,1,22629,,,0,"toolbox: pin ansible.posix to <1.5.4

ansible.posix 1.5.4 has been released and it broke the way
we use JSON callback plugin (it requires play.path) - see [1] and [2].

[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac
[2]: https://github.com/ansible-collections/ansible.posix/issues/461

Change-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43
(cherry picked from commit d965b1b3da9b8c2780a91781834a46f5886bd9c2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/883122/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/requirements.yml'],1,5a600b779134ac2e1990dc86544bb83a69a501fc,, version: '<1.5.4', version: '<2',1,1
openstack%2Fbarbican~master~I90c50355f84e0e5c3b9fc1940ee6084c01bed97a,openstack/barbican,master,I90c50355f84e0e5c3b9fc1940ee6084c01bed97a,Logrotate all log files,NEW,2023-04-11 10:46:58.000000000,2023-05-17 12:03:38.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 34120}, {'_account_id': 35125}]","[{'number': 1, 'created': '2023-04-11 10:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6893b8ef6ad7ec8b2444bfd800e5916404188e30', 'message': 'Logrotate all log files\n\nDepending on the paste configuration there\nmight be other log files in log directory\nthat needs to be rotated.\n\nAlso removes the comment that about the\ndebian directory that does not exist.\n\nChange-Id: I90c50355f84e0e5c3b9fc1940ee6084c01bed97a\n'}, {'number': 2, 'created': '2023-04-27 19:48:06.000000000', 'files': ['etc/logrotate.d/barbican-api'], 'web_link': 'https://opendev.org/openstack/barbican/commit/e7963e674278732c1e929f93bbbdbd9cc1064e86', 'message': 'Logrotate all log files\n\nDepending on the paste configuration there\nmight be other log files in log directory\nthat needs to be rotated.\n\nAlso removes the comment that about the\ndebian directory that does not exist.\n\nChange-Id: I90c50355f84e0e5c3b9fc1940ee6084c01bed97a\n'}]",1,880039,e7963e674278732c1e929f93bbbdbd9cc1064e86,6,7,2,16137,,,0,"Logrotate all log files

Depending on the paste configuration there
might be other log files in log directory
that needs to be rotated.

Also removes the comment that about the
debian directory that does not exist.

Change-Id: I90c50355f84e0e5c3b9fc1940ee6084c01bed97a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/39/880039/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/logrotate.d/barbican-api'],1,6893b8ef6ad7ec8b2444bfd800e5916404188e30,,# Used in rpm build. /var/log/barbican/*.log {,# Used in rpm build. Keep in sync with debian/barbican-api.logrotate /var/log/barbican/barbican-api.log {,2,2
openstack%2Fkolla~master~I2f879e59a64b9039a8a27c40bd462fde4df73f43,openstack/kolla,master,I2f879e59a64b9039a8a27c40bd462fde4df73f43,toolbox: pin ansible.posix to <1.5.4,MERGED,2023-05-16 10:35:17.000000000,2023-05-17 11:55:01.000000000,2023-05-16 13:32:47.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-16 10:35:17.000000000', 'files': ['docker/kolla-toolbox/requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d965b1b3da9b8c2780a91781834a46f5886bd9c2', 'message': 'toolbox: pin ansible.posix to <1.5.4\n\nansible.posix 1.5.4 has been released and it broke the way\nwe use JSON callback plugin (it requires play.path) - see [1] and [2].\n\n[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac\n[2]: https://github.com/ansible-collections/ansible.posix/issues/461\n\nChange-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43\n'}]",1,883245,d965b1b3da9b8c2780a91781834a46f5886bd9c2,13,5,1,22629,,,0,"toolbox: pin ansible.posix to <1.5.4

ansible.posix 1.5.4 has been released and it broke the way
we use JSON callback plugin (it requires play.path) - see [1] and [2].

[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac
[2]: https://github.com/ansible-collections/ansible.posix/issues/461

Change-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/883245/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/requirements.yml'],1,d965b1b3da9b8c2780a91781834a46f5886bd9c2,, version: '<1.5.4', version: '<2',1,1
openstack%2Fpython-openstackclient~master~I27326b8f2e0d84d3ef2c2fbdcb5c96a5ac1d79e4,openstack/python-openstackclient,master,I27326b8f2e0d84d3ef2c2fbdcb5c96a5ac1d79e4,tests: Remove unnecessary nesting of compute resources,MERGED,2022-12-14 12:06:49.000000000,2023-05-17 11:44:32.000000000,2023-05-17 11:42:45.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-14 12:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e0fecc1bc1d2c7a1c43b7fcb51c619835fe20a0c', 'message': 'tests: Remove unnecessary nesting of compute resources\n\nChange-Id: I27326b8f2e0d84d3ef2c2fbdcb5c96a5ac1d79e4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2023-01-04 13:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5de7c76835481ba643697326337cd8ac7c758f48', 'message': 'tests: Remove unnecessary nesting of compute resources\n\nChange-Id: I27326b8f2e0d84d3ef2c2fbdcb5c96a5ac1d79e4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2023-05-16 15:31:24.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_security_group_compute.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_compute.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_console.py', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/common/test_quota.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'openstackclient/tests/unit/common/test_extension.py', 'openstackclient/tests/unit/compute/v2/test_service.py', 'openstackclient/tests/unit/compute/v2/test_usage.py', 'openstackclient/tests/unit/common/test_availability_zone.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/compute/v2/test_agent.py', 'openstackclient/tests/unit/compute/v2/test_host.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py', 'openstackclient/tests/unit/common/test_project_purge.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_compute.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/tests/unit/network/v2/test_network_compute.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_pool_compute.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/19be070204ae52e342ba2c18f6cc519d617230ab', 'message': 'tests: Remove unnecessary nesting of compute resources\n\nChange-Id: I27326b8f2e0d84d3ef2c2fbdcb5c96a5ac1d79e4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,867626,19be070204ae52e342ba2c18f6cc519d617230ab,13,2,3,15334,,,0,"tests: Remove unnecessary nesting of compute resources

Change-Id: I27326b8f2e0d84d3ef2c2fbdcb5c96a5ac1d79e4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/26/867626/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_security_group_compute.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_compute.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_console.py', 'openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/common/test_quota.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'openstackclient/tests/unit/common/test_extension.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor_stats.py', 'openstackclient/tests/unit/compute/v2/test_service.py', 'openstackclient/tests/unit/compute/v2/test_usage.py', 'openstackclient/tests/unit/common/test_availability_zone.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/compute/v2/test_agent.py', 'openstackclient/tests/unit/compute/v2/test_host.py', 'openstackclient/tests/unit/compute/v2/test_server_event.py', 'openstackclient/tests/unit/common/test_project_purge.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_compute.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/tests/unit/network/v2/test_network_compute.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_pool_compute.py']",27,e0fecc1bc1d2c7a1c43b7fcb51c619835fe20a0c,nova-gaps, _floating_ip_pools = compute_fakes.create_floating_ip_pools(count=3), _floating_ip_pools = \ compute_fakes.FakeFloatingIPPool.create_floating_ip_pools(count=3),1483,1618
openstack%2Fpython-openstackclient~master~Ia69fd9d05796cce5ed48a8d12902cb54caec9779,openstack/python-openstackclient,master,Ia69fd9d05796cce5ed48a8d12902cb54caec9779,tests: Reorder compute fakes,MERGED,2023-05-16 15:31:24.000000000,2023-05-17 11:43:43.000000000,2023-05-17 11:42:44.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-16 15:31:24.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/347b444feb19ddb13a5b1a66d049eb0d818cbe77', 'message': 'tests: Reorder compute fakes\n\nThis will make future changes slightly less complex.\n\nChange-Id: Ia69fd9d05796cce5ed48a8d12902cb54caec9779\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,883278,347b444feb19ddb13a5b1a66d049eb0d818cbe77,7,2,1,15334,,,0,"tests: Reorder compute fakes

This will make future changes slightly less complex.

Change-Id: Ia69fd9d05796cce5ed48a8d12902cb54caec9779
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/78/883278/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/fakes.py'],1,347b444feb19ddb13a5b1a66d049eb0d818cbe77,nova-gaps,"class FakeAggregate(object): """"""Fake one aggregate."""""" @staticmethod def create_one_aggregate(attrs=None): """"""Create a fake aggregate. :param dict attrs: A dictionary with all attributes :return: A FakeResource object, with id and other attributes """""" attrs = attrs or {} # Set default attribute aggregate_info = { ""name"": ""aggregate-name-"" + uuid.uuid4().hex, ""availability_zone"": ""ag_zone"", ""hosts"": [], ""id"": ""aggregate-id-"" + uuid.uuid4().hex, ""metadata"": { ""availability_zone"": ""ag_zone"", ""key1"": ""value1"", }, } # Overwrite default attributes. aggregate_info.update(attrs) aggregate = fakes.FakeResource( info=copy.deepcopy(aggregate_info), loaded=True ) return aggregate @staticmethod def create_aggregates(attrs=None, count=2): """"""Create multiple fake aggregates. :param dict attrs: A dictionary with all attributes :param int count: The number of aggregates to fake :return: A list of FakeResource objects faking the aggregates """""" aggregates = [] for i in range(0, count): aggregates.append(FakeAggregate.create_one_aggregate(attrs)) return aggregates @staticmethod def get_aggregates(aggregates=None, count=2): """"""Get an iterable MagicMock object with a list of faked aggregates. If aggregates list is provided, then initialize the Mock object with the list. Otherwise create one. :param List aggregates: A list of FakeResource objects faking aggregates :param int count: The number of aggregates to fake :return: An iterable Mock object with side_effect set to a list of faked aggregates """""" if aggregates is None: aggregates = FakeAggregate.create_aggregates(count) return mock.Mock(side_effect=aggregates) ","class FakeAggregate(object): """"""Fake one aggregate."""""" @staticmethod def create_one_aggregate(attrs=None): """"""Create a fake aggregate. :param dict attrs: A dictionary with all attributes :return: A FakeResource object, with id and other attributes """""" attrs = attrs or {} # Set default attribute aggregate_info = { ""name"": ""aggregate-name-"" + uuid.uuid4().hex, ""availability_zone"": ""ag_zone"", ""hosts"": [], ""id"": ""aggregate-id-"" + uuid.uuid4().hex, ""metadata"": { ""availability_zone"": ""ag_zone"", ""key1"": ""value1"", }, } # Overwrite default attributes. aggregate_info.update(attrs) aggregate = fakes.FakeResource( info=copy.deepcopy(aggregate_info), loaded=True ) return aggregate @staticmethod def create_aggregates(attrs=None, count=2): """"""Create multiple fake aggregates. :param dict attrs: A dictionary with all attributes :param int count: The number of aggregates to fake :return: A list of FakeResource objects faking the aggregates """""" aggregates = [] for i in range(0, count): aggregates.append(FakeAggregate.create_one_aggregate(attrs)) return aggregates @staticmethod def get_aggregates(aggregates=None, count=2): """"""Get an iterable MagicMock object with a list of faked aggregates. If aggregates list is provided, then initialize the Mock object with the list. Otherwise create one. :param List aggregates: A list of FakeResource objects faking aggregates :param int count: The number of aggregates to fake :return: An iterable Mock object with side_effect set to a list of faked aggregates """""" if aggregates is None: aggregates = FakeAggregate.create_aggregates(count) return mock.Mock(side_effect=aggregates) ",71,71
openstack%2Fpython-openstackclient~master~Ie72622dd44b79414d7a3b798d835e82b6c4814e3,openstack/python-openstackclient,master,Ie72622dd44b79414d7a3b798d835e82b6c4814e3,Fix server stop and start commands,ABANDONED,2023-05-15 11:45:01.000000000,2023-05-17 11:37:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-15 11:45:01.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/62afb9e9a45dd5f3f394f5b130b35abb9dd06b10', 'message': ""Fix server stop and start commands\n\nserver's name_or_id must be passed to find_server as positional\nargument, not as a keyword one.\n\nStory: 2010750\nTask: 48004\nChange-Id: Ie72622dd44b79414d7a3b798d835e82b6c4814e3\n""}]",3,883152,62afb9e9a45dd5f3f394f5b130b35abb9dd06b10,7,2,1,9542,,,0,"Fix server stop and start commands

server's name_or_id must be passed to find_server as positional
argument, not as a keyword one.

Story: 2010750
Task: 48004
Change-Id: Ie72622dd44b79414d7a3b798d835e82b6c4814e3
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/52/883152/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,62afb9e9a45dd5f3f394f5b130b35abb9dd06b10,story/2010750," server, server,"," name=server, name=server,",5,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8e00f575f491d69f62f934b5fd69ac1a9bcf2fdb,openstack/tripleo-heat-templates,stable/wallaby,I8e00f575f491d69f62f934b5fd69ac1a9bcf2fdb,DNM: Testing NovaComputeStartupDelay,ABANDONED,2023-05-17 02:31:40.000000000,2023-05-17 11:32:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 02:31:40.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae4363f35555841f5a3b1544b8b9ecf3d5660d64', 'message': 'DNM: Testing NovaComputeStartupDelay\n\nChange-Id: I8e00f575f491d69f62f934b5fd69ac1a9bcf2fdb\n'}]",0,883323,ae4363f35555841f5a3b1544b8b9ecf3d5660d64,3,1,1,9816,,,0,"DNM: Testing NovaComputeStartupDelay

Change-Id: I8e00f575f491d69f62f934b5fd69ac1a9bcf2fdb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/883323/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,ae4363f35555841f5a3b1544b8b9ecf3d5660d64,, NovaComputeStartupDelay: 10,,1,0
openstack%2Fpython-openstackclient~master~I73f903ffb2f08ddfdf731f4ab789543a238a0d8d,openstack/python-openstackclient,master,I73f903ffb2f08ddfdf731f4ab789543a238a0d8d,Add backup import/export to OpenStack Client,ABANDONED,2016-11-26 18:40:53.000000000,2023-05-17 11:22:15.000000000,,"[{'_account_id': 170}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 11904}, {'_account_id': 18332}, {'_account_id': 21514}, {'_account_id': 22227}, {'_account_id': 24080}]","[{'number': 1, 'created': '2016-11-26 18:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cd8b626e140f62eacaed5e4f6030cb92eb4f31e5', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC\n\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 2, 'created': '2016-11-26 22:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f66ecb254bede73fec603d63d06873d0dc5b381b', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC\n\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 3, 'created': '2016-11-28 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/47c418afbf4991bfca800d2c715abf4c2122fc6b', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC\n\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 4, 'created': '2016-12-19 09:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/215bb3b440627a9f3c25cbce6522f98e23aeb60e', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 5, 'created': '2016-12-19 10:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/021eef92ee86a0dbe4b5f7a885c03623c82d5e5b', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 6, 'created': '2016-12-19 11:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/73c128680b275c3a4af1239189ae248bc3e6a1ed', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC.\nBP link:https://blueprints.launchpad.net/python-openstackclient/+spec/cinder-command-support\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 7, 'created': '2016-12-26 06:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/97644569918cac909f04373c7795a54a80784585', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC.\nBP link:https://blueprints.launchpad.net/python-openstackclient/+spec/cinder-command-support\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 8, 'created': '2016-12-28 07:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/023094217365d9faa674501462938499ec95f886', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC.\nImplements: bp cinder-command-support\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 9, 'created': '2017-01-26 16:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/25750bf5d66547b0eb96df3ccb14eecb018a569c', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC.\nImplements: bp cinder-command-support\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}, {'number': 10, 'created': '2017-02-27 23:24:29.000000000', 'files': ['doc/source/commands.rst', 'openstackclient/tests/unit/volume/v2/test_backup.py', 'releasenotes/notes/bp-cinder-command-support-e512343fd63161f2.yaml', 'openstackclient/volume/v2/backup.py', 'setup.cfg', 'doc/source/command-objects/volume-backup.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cf83371ac81756e59f2bd472b72eb40d043cb8fd', 'message': 'Add backup import/export to OpenStack Client\n\nThis patch implements import and export of backup metadata in the OSC.\nImplements: bp cinder-command-support\n\nCo-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>\nChange-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d\n'}]",56,403393,cf83371ac81756e59f2bd472b72eb40d043cb8fd,57,10,10,22227,,,0,"Add backup import/export to OpenStack Client

This patch implements import and export of backup metadata in the OSC.
Implements: bp cinder-command-support

Co-Authored-By: jiahui.qiang <jiahui.qiang@easystack.cn>
Change-Id: I73f903ffb2f08ddfdf731f4ab789543a238a0d8d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/93/403393/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_backup.py', 'openstackclient/volume/v2/backup.py', 'setup.cfg', 'doc/source/command-objects/volume-backup.rst']",4,cd8b626e140f62eacaed5e4f6030cb92eb4f31e5,bp/cinder-command-support,volume backup export -------------------- Export backup metadata record .. program:: volume backup export .. code:: bash os volume backup export <backup> .. _volume_backup_export-backup: .. describe:: <backup> Backup service to use for importing the backup. volume backup import -------------------- Import backup metadata record .. program:: volume backup import .. code:: bash os volume backup import <backup_service> <backup_url> .. _volume_backup_import-backup: .. describe:: <backup> Backup to import (name or ID) .. describe:: <backup_url> Backup URL for importing the backup metadata. ,,123,11
openstack%2Fpython-openstackclient~master~Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad,openstack/python-openstackclient,master,Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad,"Add ""volume backup export/import"" commands",ABANDONED,2017-08-24 09:25:46.000000000,2023-05-17 11:22:03.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 15822}, {'_account_id': 22299}]","[{'number': 1, 'created': '2017-08-24 09:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fc1f81cc964f38b0d891b1d74a10ad5889c1e1a5', 'message': 'Add ""volume backup export/import"" commands\n\nThis patch add commands that supports exporting/importing\nbackup metadata record.\n\nChange-Id: Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad\n'}, {'number': 2, 'created': '2017-08-28 02:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c033c4e74fa782a2988078015bbfa04fe7a76641', 'message': 'Add ""volume backup export/import"" commands\n\nThis patch add commands that supports exporting/importing\nbackup metadata record.\n\nChange-Id: Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad\n'}, {'number': 3, 'created': '2017-09-21 06:59:44.000000000', 'files': ['doc/source/cli/command-objects/volume-backup.rst', 'openstackclient/tests/functional/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/backup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d8e0143ba5f0ce9c21ecb115196794f57739f729', 'message': 'Add ""volume backup export/import"" commands\n\nThis patch add commands that supports exporting/importing\nbackup metadata record.\n\nCloses-Bug: #1712952\nChange-Id: Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad\n'}]",3,497167,d8e0143ba5f0ce9c21ecb115196794f57739f729,15,5,3,22299,,,0,"Add ""volume backup export/import"" commands

This patch add commands that supports exporting/importing
backup metadata record.

Closes-Bug: #1712952
Change-Id: Iaf0f8036720f5343b4e1e66bf1adfe2377c56bad
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/67/497167/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/volume-backup.rst', 'openstackclient/volume/v2/backup.py', 'setup.cfg']",3,fc1f81cc964f38b0d891b1d74a10ad5889c1e1a5,bug/1712952, volume_backup_export = openstackclient.volume.v2.backup:ExportVolumeBackup volume_backup_import = openstackclient.volume.v2.backup:ImportVolumeBackup,,82,0
openstack%2Freleases~master~Ifbe961aab45132103d94aae076551527893820bb,openstack/releases,master,Ifbe961aab45132103d94aae076551527893820bb,Release python-brick-cinderclient-ext for Bobcat-1 milestone,ABANDONED,2023-05-08 16:10:58.000000000,2023-05-17 11:12:38.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-08 16:10:58.000000000', 'files': ['deliverables/bobcat/python-brick-cinderclient-ext.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8a1075f4768a476078c683c7d9fdf4a2325ff56d', 'message': 'Release python-brick-cinderclient-ext for Bobcat-1 milestone\n\nThis is a library release for python-brick-cinderclient-ext for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 2.1.0..a0aa649\na0aa649 Update functional jobs for 2023.2\ne0a4a0c Add Python 3.10 to setup.cfg metadata\n1a33b25 Update master for stable/2023.1\n\nChange-Id: Ifbe961aab45132103d94aae076551527893820bb\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",2,882591,8a1075f4768a476078c683c7d9fdf4a2325ff56d,5,3,1,17685,,,0,"Release python-brick-cinderclient-ext for Bobcat-1 milestone

This is a library release for python-brick-cinderclient-ext for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 2.1.0..a0aa649
a0aa649 Update functional jobs for 2023.2
e0a4a0c Add Python 3.10 to setup.cfg metadata
1a33b25 Update master for stable/2023.1

Change-Id: Ifbe961aab45132103d94aae076551527893820bb
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/882591/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/python-brick-cinderclient-ext.yaml'],1,8a1075f4768a476078c683c7d9fdf4a2325ff56d,bobcat-milestone-1,releases: - version: 2.2.0 projects: - repo: openstack/python-brick-cinderclient-ext hash: a0aa649ed92c8f6a582182514f9bfcf4fd3e1aa1,,5,0
openstack%2Freleases~master~Ia14a1a716a119e1e14ae5568b933a4d81831d529,openstack/releases,master,Ia14a1a716a119e1e14ae5568b933a4d81831d529,Release python-cinderclient for Bobcat-1 milestone,ABANDONED,2023-05-08 16:11:22.000000000,2023-05-17 11:12:02.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-08 16:11:22.000000000', 'files': ['deliverables/bobcat/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c38eb3b894ffeeb7c3aac3397786badb30853dcc', 'message': 'Release python-cinderclient for Bobcat-1 milestone\n\nThis is a library release for python-cinderclient for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 9.3.0..dc6bb18\n1260de9 Use tox 4\ne16ae76 Remove USE_PYTHON3 setting from .zuul.yaml\na75c5bf Add Python 3.10 to setup.cfg metadata\nc2dced2 Update master for stable/2023.1\n\nChange-Id: Ia14a1a716a119e1e14ae5568b933a4d81831d529\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",2,882592,c38eb3b894ffeeb7c3aac3397786badb30853dcc,5,3,1,17685,,,0,"Release python-cinderclient for Bobcat-1 milestone

This is a library release for python-cinderclient for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 9.3.0..dc6bb18
1260de9 Use tox 4
e16ae76 Remove USE_PYTHON3 setting from .zuul.yaml
a75c5bf Add Python 3.10 to setup.cfg metadata
c2dced2 Update master for stable/2023.1

Change-Id: Ia14a1a716a119e1e14ae5568b933a4d81831d529
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/882592/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/python-cinderclient.yaml'],1,c38eb3b894ffeeb7c3aac3397786badb30853dcc,bobcat-milestone-1,releases: - version: 9.4.0 projects: - repo: openstack/python-cinderclient hash: dc6bb1837b11ca4e6d0137caccd4dd4bd39c35c6,,5,0
openstack%2Freleases~master~I1f479228fb5c0742496ba92d711371eff9d3d8d2,openstack/releases,master,I1f479228fb5c0742496ba92d711371eff9d3d8d2,Release os-brick for Bobcat-1 milestone,MERGED,2023-05-08 16:01:06.000000000,2023-05-17 11:10:47.000000000,2023-05-12 14:28:26.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-08 16:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1abef063f08143649b4e2fc68fe2624c055db19f', 'message': 'Release os-brick for Bobcat-1 milestone\n\nThis is a library release for os-brick for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 6.2.0..f7adade\n1b739ed Revert ""Fix iSCSI disconnect_volume when flush fails""\n8070ac3 Fix iSCSI disconnect_volume when flush fails\ne04d0de Bump mypy to 1.1.1\n9496bb2 LVM: Fix supports_full_pool_create\ne15edf6 Add Python 3.10 to setup.cfg metadata\nf184c8a Set packages in setup.cfg\na0bc09b Update master for stable/2023.1\n653c4c5 Update hacking to 5.0\n05052a1 LVM: Fix bare raise on LVM command error\n\nChange-Id: I1f479228fb5c0742496ba92d711371eff9d3d8d2\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}, {'number': 2, 'created': '2023-05-11 09:28:02.000000000', 'files': ['deliverables/bobcat/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/970b6501478b7eaa38253d4a3eb774a46ef3cbc4', 'message': 'Release os-brick for Bobcat-1 milestone\n\nThis is a library release for os-brick for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\nChange-Id: I1f479228fb5c0742496ba92d711371eff9d3d8d2\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",8,882580,970b6501478b7eaa38253d4a3eb774a46ef3cbc4,18,6,2,17685,,,0,"Release os-brick for Bobcat-1 milestone

This is a library release for os-brick for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

Change-Id: I1f479228fb5c0742496ba92d711371eff9d3d8d2
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/882580/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/os-brick.yaml'],1,1abef063f08143649b4e2fc68fe2624c055db19f,bobcat-milestone-1,releases: - version: 6.3.0 projects: - repo: openstack/os-brick hash: f7adadef4f1e648efc68351b697b69fdc3930a1d,,5,0
openstack%2Freleases~master~Ifcadbaab68de1af59bae867bb6518163f430ab92,openstack/releases,master,Ifcadbaab68de1af59bae867bb6518163f430ab92,Release cinder for CVE-2023-2088,MERGED,2023-05-11 19:08:56.000000000,2023-05-17 11:08:34.000000000,2023-05-17 11:03:32.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-11 19:08:56.000000000', 'files': ['deliverables/yoga/cinder.yaml', 'deliverables/zed/cinder.yaml', 'deliverables/antelope/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f8d6a569f8d9f454f4d6f3ba771d8627315874e2', 'message': 'Release cinder for CVE-2023-2088\n\nFor complete coverage, these cinder versions should be used with\nan updated version of os-brick that also addresses the CVE:\n- 2023.1 (Antelope): use os-brick>=6.2.2\n- Zed: use os-brick>=6.1.1\n- Yoga: use os-brick>=5.2.3\n\nChange-Id: Ifcadbaab68de1af59bae867bb6518163f430ab92\nRelated-bug: #2004555\n'}]",10,883030,f8d6a569f8d9f454f4d6f3ba771d8627315874e2,11,6,1,5314,,,0,"Release cinder for CVE-2023-2088

For complete coverage, these cinder versions should be used with
an updated version of os-brick that also addresses the CVE:
- 2023.1 (Antelope): use os-brick>=6.2.2
- Zed: use os-brick>=6.1.1
- Yoga: use os-brick>=5.2.3

Change-Id: Ifcadbaab68de1af59bae867bb6518163f430ab92
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/883030/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/cinder.yaml', 'deliverables/zed/cinder.yaml', 'deliverables/antelope/cinder.yaml']",3,f8d6a569f8d9f454f4d6f3ba771d8627315874e2,bug/2004555-cinder, - version: 22.1.0 projects: - repo: openstack/cinder hash: ba4e53095e89d9c0a5f7a13f6516fce034f75970,,12,0
openstack%2Fopenstack-manuals~master~I39e0740e57502fd96299fea79409e55e49c10367,openstack/openstack-manuals,master,I39e0740e57502fd96299fea79409e55e49c10367,Attempt at fixing broken docs,MERGED,2023-04-22 14:29:23.000000000,2023-05-17 11:06:19.000000000,2023-05-17 10:45:46.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-04-22 14:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f56bbf26b490e6c32d199a384d3293f441790b03', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}, {'number': 2, 'created': '2023-05-09 15:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/14ff1fd738dc129cd47a965a4112725d9ed0dc79', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\nAdditionally adds redirects for /2023.1.antelope to /2023.1\nand 2023.2.bobcat to 2023.2.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}, {'number': 3, 'created': '2023-05-09 16:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7296ec02fcaa6bf0c64c4977773c81e16d4b7436', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\nAdditionally adds redirects for /2023.1.antelope to /2023.1\nand 2023.2.bobcat to 2023.2.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}, {'number': 4, 'created': '2023-05-09 16:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7d382f0e3eac202f51a794ec150f38e4d27867fe', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\nAdditionally adds redirects for /2023.1.antelope to /2023.1\nand 2023.2.bobcat to 2023.2.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}, {'number': 5, 'created': '2023-05-16 18:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/df52d7ce7c4736afd88a93ee6513f884800433e1', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\nAdditionally adds redirects for /2023.1.antelope to /2023.1\nand 2023.2.bobcat to 2023.2.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}, {'number': 6, 'created': '2023-05-16 19:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/56e3004d1f6b105f889428607c58961bf06ff8bf', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\nAdditionally adds redirects for /2023.1.antelope to /2023.1\nand 2023.2.bobcat to 2023.2.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}, {'number': 7, 'created': '2023-05-16 19:41:21.000000000', 'files': ['www/2023.1.antelope/deploy/index.html', 'www/2023.2/deploy/index.html', 'www/2023.1/index.html', 'www/2023.1/api/index.html', 'tools/www-generator.py', 'www/2023.1/language-bindings.html', 'www/2023.1/configuration/index.html', 'www/2023.1/badge.html', 'www/2023.2/api/index.html', 'www/2023.2/projects.html', 'www/2023.1/user/index.html', 'www/2023.2/user/index.html', 'www/.htaccess', 'www/2023.1/admin/index.html', 'www/2023.2/install/index.html', 'www/2023.2/configuration/index.html', 'www/2023.2/language-bindings.html', 'www/2023.1/deploy/index.html', 'www/2023.1.antelope/install/index.html', 'www/2023.1/install/index.html', 'www/2023.2/index.html', 'www/redirect-tests.txt', 'www/2023.2/badge.html', 'www/2023.2/admin/index.html', 'www/2023.1/projects.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/86b1b7ff117ab82a6857a7ef077c4e6579b2e33d', 'message': 'Attempt at fixing broken docs\n\nThis patch attempts to fix the broken docs by having the series\nname match the branch name (2023.1 instead of 2023.1.antelope)\n\nA patch was previously merged and reverted[0]. It changed the\nname of the series, but missed updating the directory names\nunder the www directory.\n\nI did test this locally, and it did correctly pupulate the pages\nwith links for the various projects, but I do not know if it\nfully resolves the issue.\n\nAdditionally adds redirects for /2023.1.antelope to /2023.1\nand 2023.2.bobcat to 2023.2.\n\n[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060\n\nChange-Id: I39e0740e57502fd96299fea79409e55e49c10367\n'}]",11,881290,86b1b7ff117ab82a6857a7ef077c4e6579b2e33d,32,6,7,16465,,,0,"Attempt at fixing broken docs

This patch attempts to fix the broken docs by having the series
name match the branch name (2023.1 instead of 2023.1.antelope)

A patch was previously merged and reverted[0]. It changed the
name of the series, but missed updating the directory names
under the www directory.

I did test this locally, and it did correctly pupulate the pages
with links for the various projects, but I do not know if it
fully resolves the issue.

Additionally adds redirects for /2023.1.antelope to /2023.1
and 2023.2.bobcat to 2023.2.

[0]. https://review.opendev.org/c/openstack/openstack-manuals/+/880060

Change-Id: I39e0740e57502fd96299fea79409e55e49c10367
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/90/881290/4 && git format-patch -1 --stdout FETCH_HEAD,"['www/2023.2/user/index.html', 'www/2023.1.antelope/deploy/index.html', 'www/2023.2/deploy/index.html', 'www/2023.1/index.html', 'www/2023.1/admin/index.html', 'www/2023.1/api/index.html', 'www/2023.2/install/index.html', 'tools/www-generator.py', 'www/2023.2/configuration/index.html', 'www/2023.2/language-bindings.html', 'www/2023.1/deploy/index.html', 'www/2023.1/language-bindings.html', 'www/2023.1.antelope/install/index.html', 'www/2023.1/configuration/index.html', 'www/2023.1/badge.html', 'www/2023.1/install/index.html', 'www/2023.2/index.html', 'www/2023.2/api/index.html', 'www/2023.2/projects.html', 'www/2023.1/user/index.html', 'www/2023.2/badge.html', 'www/2023.2/admin/index.html', 'www/2023.1/projects.html']",23,f56bbf26b490e6c32d199a384d3293f441790b03,fix/docs-numbered-releases,,,2,125
openstack%2Freleases~master~I995be29bd2b4acb39988a741ddcd7c0267c9fb18,openstack/releases,master,I995be29bd2b4acb39988a741ddcd7c0267c9fb18,heat-dashboard: Create final stable/xena release,MERGED,2023-05-15 04:02:19.000000000,2023-05-17 11:05:21.000000000,2023-05-17 11:05:21.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 04:02:19.000000000', 'files': ['deliverables/xena/heat-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1a300193735e14144f8572437cb03e355dac67d4', 'message': 'heat-dashboard: Create final stable/xena release\n\nThis creates the final stable/xena release of heat-dashboard, which\ncontainers a minor bug fix[1].\n\n[1] https://review.opendev.org/c/openstack/heat-dashboard/+/845087\n\nChange-Id: I995be29bd2b4acb39988a741ddcd7c0267c9fb18\n'}]",1,883106,1a300193735e14144f8572437cb03e355dac67d4,8,4,1,9816,,,0,"heat-dashboard: Create final stable/xena release

This creates the final stable/xena release of heat-dashboard, which
containers a minor bug fix[1].

[1] https://review.opendev.org/c/openstack/heat-dashboard/+/845087

Change-Id: I995be29bd2b4acb39988a741ddcd7c0267c9fb18
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/883106/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/heat-dashboard.yaml'],1,1a300193735e14144f8572437cb03e355dac67d4,h-dashboard-xena-final, - version: 6.0.1 projects: - repo: openstack/heat-dashboard hash: 4d1ce41ba402574ce25e854d47348be507b93e3f,,4,0
openstack%2Freleases~master~I11542bafc5d983f43be64fcfd8cd2c5816ac3406,openstack/releases,master,I11542bafc5d983f43be64fcfd8cd2c5816ac3406,[Puppet OpenStack] Create the final xena release,MERGED,2023-05-15 01:47:55.000000000,2023-05-17 11:05:15.000000000,2023-05-17 11:05:15.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 01:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ff4188f349aa5847e79440407fed9831df0e1aa2', 'message': '[Puppet OpenStack] Create the final xena release\n\nCreate the final xena release for the modules which have been updated\nsince the previous release, before transitioning the branch to EM.\n\nChange-Id: I11542bafc5d983f43be64fcfd8cd2c5816ac3406\n'}, {'number': 2, 'created': '2023-05-15 03:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ec4a76f423ef14b371f6f405a61cf1b7944aa190', 'message': '[Puppet OpenStack] Create the final xena release\n\nCreate the final xena release for the modules which have been updated\nsince the previous release, before transitioning the branch to EM.\n\nChange-Id: I11542bafc5d983f43be64fcfd8cd2c5816ac3406\n'}, {'number': 3, 'created': '2023-05-15 03:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0969d4ceeba41e4c273db194e8bc0b8480b4850c', 'message': '[Puppet OpenStack] Create the final xena release\n\nCreate the final xena release for the modules which have been updated\nsince the previous release, before transitioning the branch to EM.\n\nChange-Id: I11542bafc5d983f43be64fcfd8cd2c5816ac3406\n'}, {'number': 4, 'created': '2023-05-15 03:56:38.000000000', 'files': ['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e3bc768f8b25e8b9eabb20a5c7f9a2567c59e45c', 'message': '[Puppet OpenStack] Create the final xena release\n\nCreate the final xena release for the modules which have been updated\nsince the previous release, before transitioning the branch to EM.\n\nChange-Id: I11542bafc5d983f43be64fcfd8cd2c5816ac3406\n'}]",2,883103,e3bc768f8b25e8b9eabb20a5c7f9a2567c59e45c,14,3,4,9816,,,0,"[Puppet OpenStack] Create the final xena release

Create the final xena release for the modules which have been updated
since the previous release, before transitioning the branch to EM.

Change-Id: I11542bafc5d983f43be64fcfd8cd2c5816ac3406
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/883103/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml']",24,ff4188f349aa5847e79440407fed9831df0e1aa2,puppet-xena-final, - projects: - hash: 6262ebb064179ad42e5c122538c4f401744e5100 repo: openstack/puppet-octavia version: 19.5.0,,100,0
openstack%2Freleases~master~I29c405b0b3c8abd1527aa4ee47aa31a01dddeec8,openstack/releases,master,I29c405b0b3c8abd1527aa4ee47aa31a01dddeec8,Nova 25.2.0 stable release,MERGED,2023-05-16 16:14:40.000000000,2023-05-17 11:03:38.000000000,2023-05-17 11:03:38.000000000,"[{'_account_id': 308}, {'_account_id': 16207}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-16 16:14:40.000000000', 'files': ['deliverables/yoga/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/52889e6f375baec175078b99eff5e7c6499a422d', 'message': 'Nova 25.2.0 stable release\n\nSince we merged the fixes for CVE-2023-2088, we need to\nuse a minor version for the new release.\n\n$ git log --oneline --no-merges 25.1.1..217e21aacf\nacb31f01b1 CI: fix backport validator for new branch naming\n98c3e3707c Enable use of service user token with admin context\n4d8efa2d19 Use force=True for os-brick disconnect during delete\n6c1b862274 Remove deleted projects from flavor access list\n286aadf289 Handle InstanceInvalidState exception\n37129b4b44 Remove mentions of removed scheduler filters\n5f086d437e Fix LM rollback w/o multi port bindings extension\n\nChange-Id: I29c405b0b3c8abd1527aa4ee47aa31a01dddeec8\n'}]",1,883283,52889e6f375baec175078b99eff5e7c6499a422d,9,5,1,7166,,,0,"Nova 25.2.0 stable release

Since we merged the fixes for CVE-2023-2088, we need to
use a minor version for the new release.

$ git log --oneline --no-merges 25.1.1..217e21aacf
acb31f01b1 CI: fix backport validator for new branch naming
98c3e3707c Enable use of service user token with admin context
4d8efa2d19 Use force=True for os-brick disconnect during delete
6c1b862274 Remove deleted projects from flavor access list
286aadf289 Handle InstanceInvalidState exception
37129b4b44 Remove mentions of removed scheduler filters
5f086d437e Fix LM rollback w/o multi port bindings extension

Change-Id: I29c405b0b3c8abd1527aa4ee47aa31a01dddeec8
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/883283/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/nova.yaml'],1,52889e6f375baec175078b99eff5e7c6499a422d,nova_25.2.0, - version: 25.2.0 projects: - repo: openstack/nova hash: 217e21aacf3e28aa47098d44451cbe077b64206d,,4,0
openstack%2Freleases~master~Ie51330762f7109a3625d768085fd76990257bcd0,openstack/releases,master,Ie51330762f7109a3625d768085fd76990257bcd0,Nova 26.2.0 stable release,MERGED,2023-05-16 15:42:57.000000000,2023-05-17 11:03:36.000000000,2023-05-17 11:03:36.000000000,"[{'_account_id': 308}, {'_account_id': 16207}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-16 15:42:57.000000000', 'files': ['deliverables/zed/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c8fb887751c80f14a6b564a1dd4e24dcc59b526f', 'message': 'Nova 26.2.0 stable release\n\nSince we merged the fixes for CVE-2023-2088, we need to\nuse a minor version for the new release.\n\n$ git log --oneline --no-merges 26.1.1..67dd915e8c\n91ee67019e Revert ""Debug Nova APIs call failures""\nabd9a34a60 CI: fix backport validator for new branch naming\n0d6dd6c67f Enable use of service user token with admin context\n8b4b99149a Use force=True for os-brick disconnect during delete\n2ea2b556da Remove deleted projects from flavor access list\nd71e9f6ec4 Ironic: retry when node not available\n\nChange-Id: Ie51330762f7109a3625d768085fd76990257bcd0\n'}]",1,883280,c8fb887751c80f14a6b564a1dd4e24dcc59b526f,8,5,1,7166,,,0,"Nova 26.2.0 stable release

Since we merged the fixes for CVE-2023-2088, we need to
use a minor version for the new release.

$ git log --oneline --no-merges 26.1.1..67dd915e8c
91ee67019e Revert ""Debug Nova APIs call failures""
abd9a34a60 CI: fix backport validator for new branch naming
0d6dd6c67f Enable use of service user token with admin context
8b4b99149a Use force=True for os-brick disconnect during delete
2ea2b556da Remove deleted projects from flavor access list
d71e9f6ec4 Ironic: retry when node not available

Change-Id: Ie51330762f7109a3625d768085fd76990257bcd0
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/883280/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/nova.yaml'],1,c8fb887751c80f14a6b564a1dd4e24dcc59b526f,, - version: 26.2.0 projects: - repo: openstack/nova hash: 67dd915e8c2946ea5616d66e8e22e89a39d7221d,,4,0
openstack%2Freleases~master~I65929f14f1bb81e5615a69d847c0851354cb6563,openstack/releases,master,I65929f14f1bb81e5615a69d847c0851354cb6563,Release glance_store for CVE-2023-2088,MERGED,2023-05-11 16:02:34.000000000,2023-05-17 11:03:34.000000000,2023-05-17 11:03:34.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 17685}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 16:02:34.000000000', 'files': ['deliverables/yoga/glance-store.yaml', 'deliverables/antelope/glance-store.yaml', 'deliverables/zed/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/496d20d5fc494f5a3d45b7ce0198a0588f97210e', 'message': 'Release glance_store for CVE-2023-2088\n\nThese releases contain a fix to the cinder glance_store driver that,\nwhen used with an appropriate os-brick release, will protect against\nthe ""accidental"" case described in CVE-2023-2088.\n- 2023.1 (Antelope): use os-brick>=6.2.2\n- Zed: use os-brick>=6.1.1\n- Yoga: use os-brick>=5.2.3\n\nChange-Id: I65929f14f1bb81e5615a69d847c0851354cb6563\nRelated-bug: #2004555\n'}]",5,882978,496d20d5fc494f5a3d45b7ce0198a0588f97210e,10,5,1,5314,,,0,"Release glance_store for CVE-2023-2088

These releases contain a fix to the cinder glance_store driver that,
when used with an appropriate os-brick release, will protect against
the ""accidental"" case described in CVE-2023-2088.
- 2023.1 (Antelope): use os-brick>=6.2.2
- Zed: use os-brick>=6.1.1
- Yoga: use os-brick>=5.2.3

Change-Id: I65929f14f1bb81e5615a69d847c0851354cb6563
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/882978/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/glance-store.yaml', 'deliverables/antelope/glance-store.yaml', 'deliverables/zed/glance-store.yaml']",3,496d20d5fc494f5a3d45b7ce0198a0588f97210e,bug/2004555, - version: 4.1.1 projects: - repo: openstack/glance_store hash: e9d2509926445fd95c9bba9e1cacacb85a5e58af,,12,0
openstack%2Freleases~master~I3454f91a07545779776a016e97cb716c536aa9df,openstack/releases,master,I3454f91a07545779776a016e97cb716c536aa9df,27.1.0 Nova stable release,MERGED,2023-05-16 15:26:21.000000000,2023-05-17 11:03:30.000000000,2023-05-17 11:03:30.000000000,"[{'_account_id': 308}, {'_account_id': 16207}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-16 15:26:21.000000000', 'files': ['deliverables/antelope/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/afe857035a42c11267fe56f6f044bdc7f64dc63e', 'message': '27.1.0 Nova stable release\n\nSince we merged the fixes for CVE-2023-2088, we need to\nuse a minor version for the new release.\n\n$ git log --oneline --no-merges 27.0.0..f361ce2ab1\n09f85a8a92 CI: fix backport validator for new branch naming\n6eab57952e Bump nova-ceph-multstore timeout\na02f966873 Revert ""Debug Nova APIs call failures""\neb3fe4ddc6 Have host look for CPU controller of cgroupsv2 location.\n1f781423ee Enable use of service user token with admin context\nefb01985db Use force=True for os-brick disconnect during delete\nfa2ba3ab2c Handle zero pinned CPU in a cell with mixed policy\n2cf835be82 Reproduce asym NUMA mixed CPU policy bug\nacb511652c Save cell socket correctly when updating host NUMA topology\n29e3f2f2ab Reproduce bug 1995153\n47b6850bb1 (gerrit/stable/2023.1) [stable-only] Update TOX_CONSTRAINTS_FILE for stable/2023.1\nd081938e22 [stable-only] Update .gitreview for stable/2023.1\n\nChange-Id: I3454f91a07545779776a016e97cb716c536aa9df\n'}]",1,883277,afe857035a42c11267fe56f6f044bdc7f64dc63e,8,5,1,7166,,,0,"27.1.0 Nova stable release

Since we merged the fixes for CVE-2023-2088, we need to
use a minor version for the new release.

$ git log --oneline --no-merges 27.0.0..f361ce2ab1
09f85a8a92 CI: fix backport validator for new branch naming
6eab57952e Bump nova-ceph-multstore timeout
a02f966873 Revert ""Debug Nova APIs call failures""
eb3fe4ddc6 Have host look for CPU controller of cgroupsv2 location.
1f781423ee Enable use of service user token with admin context
efb01985db Use force=True for os-brick disconnect during delete
fa2ba3ab2c Handle zero pinned CPU in a cell with mixed policy
2cf835be82 Reproduce asym NUMA mixed CPU policy bug
acb511652c Save cell socket correctly when updating host NUMA topology
29e3f2f2ab Reproduce bug 1995153
47b6850bb1 (gerrit/stable/2023.1) [stable-only] Update TOX_CONSTRAINTS_FILE for stable/2023.1
d081938e22 [stable-only] Update .gitreview for stable/2023.1

Change-Id: I3454f91a07545779776a016e97cb716c536aa9df
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/883277/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/nova.yaml'],1,afe857035a42c11267fe56f6f044bdc7f64dc63e,, - version: 27.1.0 projects: - repo: openstack/nova hash: f361ce2ab1c2cec12ace3ab6a3416747ccf1a630,,4,0
openstack%2Fneutron-dynamic-routing~master~Iadc9b819ce4aaf6029e77f53ce0616aa70119c70,openstack/neutron-dynamic-routing,master,Iadc9b819ce4aaf6029e77f53ce0616aa70119c70,fix unittest issues caused by neutron rbac changes,MERGED,2023-05-10 10:17:45.000000000,2023-05-17 11:02:14.000000000,2023-05-17 11:01:16.000000000,"[{'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-10 10:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/78437addd36c429f6c0dcba8c4c235495e8153e8', 'message': 'fix unittest issues caused by neutron rbac changes\n\nneutron recently merged a commit enabling secure rbacs by default [1].\nHowever this commit breaks the unittests of neutron-dynamic-routing.\nTo fix this we run multiple calls as admin, to allow them to succeed.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nCloses-Bug: 2019097\nChange-Id: Iadc9b819ce4aaf6029e77f53ce0616aa70119c70\n'}, {'number': 2, 'created': '2023-05-17 08:23:41.000000000', 'files': ['requirements.txt', 'neutron_dynamic_routing/tests/unit/db/test_bgp_dragentscheduler_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/bf54f03ce58aaac3bfc1f201c7d4af66f5e2cb11', 'message': 'fix unittest issues caused by neutron rbac changes\n\nneutron recently merged a commit enabling secure rbacs by default [1].\nHowever this commit breaks the unittests of neutron-dynamic-routing.\nTo fix this we run multiple calls as admin, to allow them to succeed.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nCloses-Bug: 2019097\nChange-Id: Iadc9b819ce4aaf6029e77f53ce0616aa70119c70\n'}]",7,882815,bf54f03ce58aaac3bfc1f201c7d4af66f5e2cb11,16,3,2,29074,,,0,"fix unittest issues caused by neutron rbac changes

neutron recently merged a commit enabling secure rbacs by default [1].
However this commit breaks the unittests of neutron-dynamic-routing.
To fix this we run multiple calls as admin, to allow them to succeed.

[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00

Closes-Bug: 2019097
Change-Id: Iadc9b819ce4aaf6029e77f53ce0616aa70119c70
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/15/882815/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/tests/unit/db/test_bgp_dragentscheduler_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py']",2,78437addd36c429f6c0dcba8c4c235495e8153e8,fix_ci," {'network': {external_net.EXTERNAL: True}}, as_admin=True) ip_version=gw_ip_net.version, as_admin=True),\ ip_version=tenant_ip_net.version, as_admin=True) as int_subnet: shared=True, as_admin=True) as network: ip_version=6, as_admin=True) as ext_subnet,\ ip_version=6, as_admin=True) as int_subnet,\ ip_version=6, as_admin=True) as ext_subnet,\ ip_version=6, as_admin=True) as int_subnet,\"," {'network': {external_net.EXTERNAL: True}}) ip_version=gw_ip_net.version),\ ip_version=tenant_ip_net.version) as int_subnet: shared=True) as network: ip_version=6) as ext_subnet,\ ip_version=6) as int_subnet,\ ip_version=6) as ext_subnet,\ ip_version=6) as int_subnet,\",23,16
openstack%2Freleases~master~I05a175b28bb0898891c62c125ec8a59bc195f7e8,openstack/releases,master,I05a175b28bb0898891c62c125ec8a59bc195f7e8,Release python-heatclient for Bobcat-1 milestone,MERGED,2023-05-08 16:14:04.000000000,2023-05-17 11:00:45.000000000,2023-05-17 11:00:45.000000000,"[{'_account_id': 308}, {'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 16:14:04.000000000', 'files': ['deliverables/bobcat/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1b1c36ecaa8b7f463f2467753ce4fbc8742123ca', 'message': 'Release python-heatclient for Bobcat-1 milestone\n\nThis is a library release for python-heatclient for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 3.2.0..668d85f\n668d85f Add Python 3.10 to supported runtime.\ne2c006b Update master for stable/2023.1\n3edca52 Switch to 2023.1 Python3 unit tests and generic template name\n\nChange-Id: I05a175b28bb0898891c62c125ec8a59bc195f7e8\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",1,882594,1b1c36ecaa8b7f463f2467753ce4fbc8742123ca,9,5,1,17685,,,0,"Release python-heatclient for Bobcat-1 milestone

This is a library release for python-heatclient for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 3.2.0..668d85f
668d85f Add Python 3.10 to supported runtime.
e2c006b Update master for stable/2023.1
3edca52 Switch to 2023.1 Python3 unit tests and generic template name

Change-Id: I05a175b28bb0898891c62c125ec8a59bc195f7e8
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/882594/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/python-heatclient.yaml'],1,1b1c36ecaa8b7f463f2467753ce4fbc8742123ca,bobcat-milestone-1,releases: - version: 3.3.0 projects: - repo: openstack/python-heatclient hash: 668d85fa8a6c7ee2898ce71f8d531f1257d55b64,,5,0
openstack%2Fpython-openstackclient~stable%2Fyoga~Ib134fb80aefd50c71e8f004a9c8f0c5ae5e98d53,openstack/python-openstackclient,stable/yoga,Ib134fb80aefd50c71e8f004a9c8f0c5ae5e98d53,Host removed from AZ when service is manually disabled,NEW,2023-05-17 09:49:00.000000000,2023-05-17 11:00:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-17 09:49:00.000000000', 'files': ['openstackclient/common/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2281639ae7045258b2ea3e8c80c2da84955b5565', 'message': 'Host removed from AZ when service is manually disabled\n\nShow disabled host services in detailed view table\nby adding extra option ""show_disabled=true""\n\nCloses-Issue: PRODX-32244\nChange-Id: Ib134fb80aefd50c71e8f004a9c8f0c5ae5e98d53\n'}]",0,883339,2281639ae7045258b2ea3e8c80c2da84955b5565,2,1,1,35392,,,0,"Host removed from AZ when service is manually disabled

Show disabled host services in detailed view table
by adding extra option ""show_disabled=true""

Closes-Issue: PRODX-32244
Change-Id: Ib134fb80aefd50c71e8f004a9c8f0c5ae5e98d53
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/39/883339/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/common/availability_zone.py'],1,2281639ae7045258b2ea3e8c80c2da84955b5565,PRODX-32244," parser.add_argument( '--show_disabled', action='store_true', default=False, help=_('List disabled service hosts in detailed output'), ) params = {} if parsed_args.show_disabled: params[""show_disabled""] = True try: data = compute_client.availability_zones.list( show_disabled=parsed_args.show_disabled, )", try: data = compute_client.availability_zones.list(),12,1
openstack%2Freleases~master~I228ab7f026f2bb3d7fd950c6fca9c0aceae1b02a,openstack/releases,master,I228ab7f026f2bb3d7fd950c6fca9c0aceae1b02a,Release keystonemiddleware for Bobcat-1 milestone,MERGED,2023-05-08 15:58:40.000000000,2023-05-17 11:00:27.000000000,2023-05-17 11:00:27.000000000,"[{'_account_id': 308}, {'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 15:58:40.000000000', 'files': ['deliverables/bobcat/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/35525cd853f4bb9d25f3e6797b00b3d27c01bb88', 'message': 'Release keystonemiddleware for Bobcat-1 milestone\n\nThis is a library release for keystonemiddleware for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 10.2.0..92cdf8a\n92cdf8a Add timeout for requests\na59020f OAuth 2.0 Mutual-TLS Support\n1c820f0 Add missing doc requirements\n\nChange-Id: I228ab7f026f2bb3d7fd950c6fca9c0aceae1b02a\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",1,882579,35525cd853f4bb9d25f3e6797b00b3d27c01bb88,9,5,1,17685,,,0,"Release keystonemiddleware for Bobcat-1 milestone

This is a library release for keystonemiddleware for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 10.2.0..92cdf8a
92cdf8a Add timeout for requests
a59020f OAuth 2.0 Mutual-TLS Support
1c820f0 Add missing doc requirements

Change-Id: I228ab7f026f2bb3d7fd950c6fca9c0aceae1b02a
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/882579/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/keystonemiddleware.yaml'],1,35525cd853f4bb9d25f3e6797b00b3d27c01bb88,bobcat-milestone-1,releases: - version: 10.3.0 projects: - repo: openstack/keystonemiddleware hash: 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec,,5,0
openstack%2Fpython-cyborgclient~master~I74263294cb4138e2145f3384aad0f0c8aade68b2,openstack/python-cyborgclient,master,I74263294cb4138e2145f3384aad0f0c8aade68b2,Add ut for list attribute client api,MERGED,2023-05-17 02:31:49.000000000,2023-05-17 10:54:51.000000000,2023-05-17 10:53:56.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2023-05-17 02:31:49.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_attribute.py', 'cyborgclient/tests/unit/osc/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/bf9579eb24cf8b6ff9aa072aec90ee6edc248e71', 'message': 'Add ut for list attribute client api\n\nChange-Id: I74263294cb4138e2145f3384aad0f0c8aade68b2\n'}]",1,883324,bf9579eb24cf8b6ff9aa072aec90ee6edc248e71,7,2,1,31412,,,0,"Add ut for list attribute client api

Change-Id: I74263294cb4138e2145f3384aad0f0c8aade68b2
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/24/883324/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/tests/unit/osc/v2/test_attribute.py', 'cyborgclient/tests/unit/osc/v2/fakes.py']",2,bf9579eb24cf8b6ff9aa072aec90ee6edc248e71,,"attribute_created_at = '2023-05-17T00:00:00.000000+00:00' attribute_updated_at = '2023-05-17T11:11:11.111111+11:11' attribute_id = 1 attribute_uuid = uuid.uuid4().hex attribute_deployable_id = 'fake_attribute_name' attribute_key = 'traits1' attribute_value = 'CUSTOM_FAKE_DEVICE' ATTRIBUTE = { 'created_at': attribute_created_at, 'updated_at': attribute_updated_at, 'id': attribute_id, 'uuid': attribute_uuid, 'deployable_id': attribute_deployable_id, 'key': attribute_key, 'value': attribute_value, } ",,106,0
openstack%2Freleases~master~Ie82802dd77a0cbf8a7de42939a434acc8f054713,openstack/releases,master,Ie82802dd77a0cbf8a7de42939a434acc8f054713,Release keystoneauth for Bobcat-1 milestone,MERGED,2023-05-08 15:58:02.000000000,2023-05-17 10:53:55.000000000,2023-05-17 10:53:55.000000000,"[{'_account_id': 308}, {'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 15:58:02.000000000', 'files': ['deliverables/bobcat/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff164e65c6040c590d733b7e5c56000116070a5f', 'message': 'Release keystoneauth for Bobcat-1 milestone\n\nThis is a library release for keystoneauth for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 5.1.2..2e40bbf\n2e40bbf Update master for stable/2023.1\n44e5b2d New auth plugin v3oidcdeviceauthz\nca28df8 OAuth 2.0 Mutual-TLS Support\n192a27a Remove six\nbef3dfb setup.cfg: Restore python_requires after a typo\n737790f Allow federation to work with unversioned auth_url\n19db34e Switch to 2023.1 Python3 unit tests and generic template name\naaca2b3 Update master for stable/zed\nbe2223c Replace abc.abstractproperty with property and abc.abstractmethod\n\nChange-Id: Ie82802dd77a0cbf8a7de42939a434acc8f054713\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",2,882578,ff164e65c6040c590d733b7e5c56000116070a5f,11,5,1,17685,,,0,"Release keystoneauth for Bobcat-1 milestone

This is a library release for keystoneauth for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 5.1.2..2e40bbf
2e40bbf Update master for stable/2023.1
44e5b2d New auth plugin v3oidcdeviceauthz
ca28df8 OAuth 2.0 Mutual-TLS Support
192a27a Remove six
bef3dfb setup.cfg: Restore python_requires after a typo
737790f Allow federation to work with unversioned auth_url
19db34e Switch to 2023.1 Python3 unit tests and generic template name
aaca2b3 Update master for stable/zed
be2223c Replace abc.abstractproperty with property and abc.abstractmethod

Change-Id: Ie82802dd77a0cbf8a7de42939a434acc8f054713
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/882578/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/keystoneauth.yaml'],1,ff164e65c6040c590d733b7e5c56000116070a5f,bobcat-milestone-1,releases: - version: 5.2.0 projects: - repo: openstack/keystoneauth hash: 2e40bbf8e3c12ae06c7572adfa8510e0deef7eb4,,5,0
openstack%2Freleases~master~Ie9e32f8bd44e4c3b3486a572bb2c48bef1ed42d6,openstack/releases,master,Ie9e32f8bd44e4c3b3486a572bb2c48bef1ed42d6,Release python-adjutantclient for Bobcat-1 milestone,MERGED,2023-05-08 16:09:52.000000000,2023-05-17 10:53:53.000000000,2023-05-17 10:53:53.000000000,"[{'_account_id': 308}, {'_account_id': 14394}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-08 16:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1d68b36c0adaf3cfcfdf2a6bce7560304a037710', 'message': 'Release python-adjutantclient for Bobcat-1 milestone\n\nThis is a library release for python-adjutantclient for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 0.12.0..2f405f1\ndb795e2 Fix listing and removing roles from users.\nc50e3fe Fix typo in help text\n5a92d90 Bugfix: Six removal introduced regression in v1/users\nb4ef3e6 Add check-requirements to Zuul tests\n\nChange-Id: Ie9e32f8bd44e4c3b3486a572bb2c48bef1ed42d6\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}, {'number': 2, 'created': '2023-05-15 21:05:50.000000000', 'files': ['deliverables/bobcat/python-adjutantclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5a448c11c7745c024391455ff537d2f7b55ec0e8', 'message': 'Release python-adjutantclient for Bobcat-1 milestone\n\nThis is a library release for python-adjutantclient for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 0.12.0..2f405f1\ndb795e2 Fix listing and removing roles from users.\nc50e3fe Fix typo in help text\n5a92d90 Bugfix: Six removal introduced regression in v1/users\nb4ef3e6 Add check-requirements to Zuul tests\n\nChange-Id: Ie9e32f8bd44e4c3b3486a572bb2c48bef1ed42d6\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",5,882589,5a448c11c7745c024391455ff537d2f7b55ec0e8,14,4,2,17685,,,0,"Release python-adjutantclient for Bobcat-1 milestone

This is a library release for python-adjutantclient for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 0.12.0..2f405f1
db795e2 Fix listing and removing roles from users.
c50e3fe Fix typo in help text
5a92d90 Bugfix: Six removal introduced regression in v1/users
b4ef3e6 Add check-requirements to Zuul tests

Change-Id: Ie9e32f8bd44e4c3b3486a572bb2c48bef1ed42d6
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/882589/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/python-adjutantclient.yaml'],1,1d68b36c0adaf3cfcfdf2a6bce7560304a037710,bobcat-milestone-1,releases: - version: 0.13.0 projects: - repo: openstack/python-adjutantclient hash: 2f405f1c394a472c274581474206ddd1763b064e,,5,0
openstack%2Fpython-cyborgclient~master~I30744311735bd72bd55c69577e73105fc6586543,openstack/python-cyborgclient,master,I30744311735bd72bd55c69577e73105fc6586543,Add client API for accelerator attribute show,MERGED,2023-05-16 11:47:02.000000000,2023-05-17 10:52:14.000000000,2023-05-17 10:50:20.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2023-05-16 11:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/9213b1516c06490b654f030e63c7665faefe711e', 'message': 'Add client API for accelerator attribute show\n\nChange-Id: I30744311735bd72bd55c69577e73105fc6586543\n'}, {'number': 2, 'created': '2023-05-17 01:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/a9e0fc04acf99d5ae0446d4ef30e5edeb618dddd', 'message': 'Add client API for accelerator attribute show\n\nChange-Id: I30744311735bd72bd55c69577e73105fc6586543\n'}, {'number': 3, 'created': '2023-05-17 01:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/7dc144523dc53b92ee3e2cab5916af83a20d34cb', 'message': 'Add client API for accelerator attribute show\n\nChange-Id: I30744311735bd72bd55c69577e73105fc6586543\n'}, {'number': 4, 'created': '2023-05-17 02:10:02.000000000', 'files': ['cyborgclient/osc/v2/attribute.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/0e349b7cfbbca636f188ee3a4dffbd0869eedbba', 'message': 'Add client API for accelerator attribute show\n\nChange-Id: I30744311735bd72bd55c69577e73105fc6586543\n'}]",4,883249,0e349b7cfbbca636f188ee3a4dffbd0869eedbba,13,2,4,31412,,,0,"Add client API for accelerator attribute show

Change-Id: I30744311735bd72bd55c69577e73105fc6586543
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/49/883249/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/osc/v2/attribute.py', 'setup.cfg']",2,9213b1516c06490b654f030e63c7665faefe711e,, accelerator_device_attribute_show = cyborgclient.osc.v2.attribute:ShowAttribute,,21,0
openstack%2Fpython-cyborgclient~master~I4212b4eab6850502855d38e7ce6e9ecc0914bdd6,openstack/python-cyborgclient,master,I4212b4eab6850502855d38e7ce6e9ecc0914bdd6,Add client API for accelerator attribute create,MERGED,2023-05-16 10:33:08.000000000,2023-05-17 10:51:20.000000000,2023-05-17 10:50:18.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2023-05-16 10:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/97fd6c3fe82f67090bb0b3d746bd49df5923864c', 'message': 'Add client API for accelerator attribute create\n\nChange-Id: I4212b4eab6850502855d38e7ce6e9ecc0914bdd6\n'}, {'number': 2, 'created': '2023-05-17 01:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/643e32d835bcd6182db871b410f4142f9a24780e', 'message': 'Add client API for accelerator attribute create\n\nChange-Id: I4212b4eab6850502855d38e7ce6e9ecc0914bdd6\n'}, {'number': 3, 'created': '2023-05-17 02:09:36.000000000', 'files': ['cyborgclient/osc/v2/attribute.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/b841f546b0600a0ce72c73eecfe29c8063e41a91', 'message': 'Add client API for accelerator attribute create\n\nChange-Id: I4212b4eab6850502855d38e7ce6e9ecc0914bdd6\n'}]",2,883244,b841f546b0600a0ce72c73eecfe29c8063e41a91,11,2,3,31412,,,0,"Add client API for accelerator attribute create

Change-Id: I4212b4eab6850502855d38e7ce6e9ecc0914bdd6
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/44/883244/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/osc/v2/attribute.py', 'setup.cfg']",2,97fd6c3fe82f67090bb0b3d746bd49df5923864c,, accelerator_device_attribute_create = cyborgclient.osc.v2.attribute:CreateAttribute,,66,0
openstack%2Fpython-cyborgclient~master~I22de597a0862357e86bbaeeb6cd29ac47f73572c,openstack/python-cyborgclient,master,I22de597a0862357e86bbaeeb6cd29ac47f73572c,Add client API for accelerator attribute delete,MERGED,2023-05-16 11:45:16.000000000,2023-05-17 10:50:19.000000000,2023-05-17 10:50:19.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2023-05-16 11:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/92a5933667c9a11ce7d2cae06cfc12212ac2f93a', 'message': 'Add client API for accelerator attribute delete\n\nChange-Id: I22de597a0862357e86bbaeeb6cd29ac47f73572c\n'}, {'number': 2, 'created': '2023-05-17 00:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/5911d9fb169215ca59292640e0b37dc6a3a725d9', 'message': 'Add client API for accelerator attribute delete\n\nChange-Id: I22de597a0862357e86bbaeeb6cd29ac47f73572c\n'}, {'number': 3, 'created': '2023-05-17 01:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/8d31269346ec14ca4b1c6aea870da1cf8fa1efeb', 'message': 'Add client API for accelerator attribute delete\n\nChange-Id: I22de597a0862357e86bbaeeb6cd29ac47f73572c\n'}, {'number': 4, 'created': '2023-05-17 02:09:56.000000000', 'files': ['cyborgclient/osc/v2/attribute.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/0f940fe5df8432273320c777eb8ff4a5282375d7', 'message': 'Add client API for accelerator attribute delete\n\nChange-Id: I22de597a0862357e86bbaeeb6cd29ac47f73572c\n'}]",4,883248,0f940fe5df8432273320c777eb8ff4a5282375d7,12,2,4,31412,,,0,"Add client API for accelerator attribute delete

Change-Id: I22de597a0862357e86bbaeeb6cd29ac47f73572c
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/48/883248/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/osc/v2/attribute.py', 'setup.cfg']",2,92a5933667c9a11ce7d2cae06cfc12212ac2f93a,, accelerator_device_attribute_delete = cyborgclient.osc.v2.attribute:DeleteAttribute,,36,0
openstack%2Fcyborg~master~I27923697051573da738d98a8040529d230555f8f,openstack/cyborg,master,I27923697051573da738d98a8040529d230555f8f,improve doc format,MERGED,2023-05-17 07:45:23.000000000,2023-05-17 09:57:29.000000000,2023-05-17 09:56:33.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-17 07:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3a51153299cc259318b61e1130502a103b3897dd', 'message': 'improve api doc format\n\nChange-Id: I27923697051573da738d98a8040529d230555f8f\n'}, {'number': 2, 'created': '2023-05-17 07:52:08.000000000', 'files': ['releasenotes/source/queens.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b4ca84cd90ab37ebf2c73cb57d6b0ed29c23ea5e', 'message': 'improve doc format\n\nChange-Id: I27923697051573da738d98a8040529d230555f8f\n'}]",1,883333,b4ca84cd90ab37ebf2c73cb57d6b0ed29c23ea5e,8,3,2,33436,,,0,"improve doc format

Change-Id: I27923697051573da738d98a8040529d230555f8f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/33/883333/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/queens.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst', 'HACKING.rst']",4,3a51153299cc259318b61e1130502a103b3897dd,,=========================,===============================================,10,10
openstack%2Fpython-openstackclient~master~I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c,openstack/python-openstackclient,master,I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c,"Switch server start, server stop to SDK",MERGED,2021-11-30 05:59:11.000000000,2023-05-17 09:46:47.000000000,2023-03-30 19:05:02.000000000,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-30 05:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/561ae7cc8d12d3d69861977cfc2661a1128e935a', 'message': 'Switch server start and server stop to SDK\n\nSwitch the server start and server stop commands from novaclient to SDK.\nUse the SDK versions of test fakes to support fake Server resources.\n\nChange-Id: I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c\n'}, {'number': 2, 'created': '2022-01-01 00:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7267c4812db65fbd32338b666300391594cc34ee', 'message': 'Switch server start and server stop to SDK\n\nSwitch the server start and server stop commands from novaclient to SDK.\nUse the SDK versions of test fakes to support fake Server resources.\n\nChange-Id: I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c\n'}, {'number': 3, 'created': '2022-12-19 17:57:35.000000000', 'files': ['releasenotes/notes/migrate-server-start-stop-to-sdk-55edd4e1ff5e6ac7.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9241514137cd8d45fa6f36808536c5d0f218cb97', 'message': 'Switch server start, server stop to SDK\n\nSwitch the server start and server stop commands from novaclient to SDK.\n\nChange-Id: I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c\n'}]",10,819753,9241514137cd8d45fa6f36808536c5d0f218cb97,18,4,3,34045,,,0,"Switch server start, server stop to SDK

Switch the server start and server stop commands from novaclient to SDK.

Change-Id: I5ebfa6b2468d5f20b99ea0eab1aea9377be09b8c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/53/819753/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrate-server-start-stop-to-sdk-55edd4e1ff5e6ac7.yaml', 'openstackclient/compute/v2/server.py']",2,561ae7cc8d12d3d69861977cfc2661a1128e935a,compute-sdk," compute_client = self.app.client_manager.sdk_connection.compute for server in parsed_args.server: all_servers = {} try: for s in compute_client.servers(details=False, all_projects=parsed_args.all_projects, name=server): all_servers[s.id] = s.name except sdk_exceptions.HttpException as exc: if exc.status_code == 403: msg = _(""Policy doesn't allow passing all-projects"") raise exceptions.Forbidden(msg) if len(all_servers) > 1: msg = _(""More than one server exists with the name '%s'"") msg = (msg % server) raise exceptions.InvalidValue(msg) elif len(all_servers) == 1: server_id = s.id else: server_id = compute_client.find_server( server, ignore_missing=False, ).id compute_client.start_server(server_id) compute_client = self.app.client_manager.sdk_connection.compute for server in parsed_args.server: all_servers = {} try: for s in compute_client.servers(details=False, all_projects=parsed_args.all_projects, name=server): all_servers[s.id] = s.name except sdk_exceptions.HttpException as exc: if exc.status_code == 403: msg = _(""Policy doesn't allow passing all-projects"") raise exceptions.Forbidden(msg) if len(all_servers) > 1: msg = _(""More than one server exists with the name '%s'"") msg = (msg % server) raise exceptions.InvalidValue(msg) elif len(all_servers) == 1: server_id = s.id else: server_id = compute_client.find_server( server, ignore_missing=False, ).id compute_client.stop_server(server_id)"," compute_client = self.app.client_manager.compute for server in parsed_args.server: utils.find_resource( compute_client.servers, server, all_tenants=parsed_args.all_projects, ).start() compute_client = self.app.client_manager.compute for server in parsed_args.server: utils.find_resource( compute_client.servers, server, all_tenants=parsed_args.all_projects, ).stop()",51,12
openstack%2Ftripleo-common~stable%2Fwallaby~I32cd611311a4c0ba49d4b4991771899ed89b640c,openstack/tripleo-common,stable/wallaby,I32cd611311a4c0ba49d4b4991771899ed89b640c,[DNM] nova_migration fix test,NEW,2023-05-16 13:42:06.000000000,2023-05-17 09:42:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 13:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c3ef72ea66b849acd3f4fa6205752c8f8c3acec', 'message': '[DNM] nova_migration fix test\n\nChange-Id: I32cd611311a4c0ba49d4b4991771899ed89b640c\n'}, {'number': 2, 'created': '2023-05-16 16:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ec0a00aa157bee26ab73dd0a9ab5ea5a9d65bdeb', 'message': '[DNM] nova_migration fix test\n\nChange-Id: I32cd611311a4c0ba49d4b4991771899ed89b640c\n'}, {'number': 3, 'created': '2023-05-17 09:36:08.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/base.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18209645d57c841326b8f631a3efab4c27952182', 'message': '[DNM] nova_migration fix test\n\nChange-Id: I32cd611311a4c0ba49d4b4991771899ed89b640c\n'}]",0,883261,18209645d57c841326b8f631a3efab4c27952182,6,1,3,13861,,,0,"[DNM] nova_migration fix test

Change-Id: I32cd611311a4c0ba49d4b4991771899ed89b640c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/883261/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/base.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'zuul.d/layout.yaml']",3,5c3ef72ea66b849acd3f4fa6205752c8f8c3acec,dnm, check: jobs: [], templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-multinode-container-minimal-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-buildimage-jobs - tripleo-standalone-scenarios-pipeline - tripleo-upgrades-wallaby-pipeline vars: ensure_global_symlinks: true check: jobs: - openstack-tox-linters - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py38 - openstack-tox-py39 - tripleo-cross-tripleoclient-py37 - tripleo-ci-centos-9-content-provider: dependencies: &deps_unit_lint - openstack-tox-linters - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py38 - openstack-tox-py39 - tripleo-buildimage-overcloud-full-centos-9: dependencies: *deps_unit_lint - tripleo-buildimage-ironic-python-agent-centos-9: dependencies: *deps_unit_lint - tripleo-buildimage-overcloud-hardened-uefi-full-centos-9: dependencies: *deps_unit_lint gate: jobs: - openstack-tox-py37 - openstack-tox-linters - tripleo-cross-tripleoclient-py37,3,41
openstack%2Fpython-cyborgclient~master~I25391f14352658214fa1fef90e8db2c8ce9bbd40,openstack/python-cyborgclient,master,I25391f14352658214fa1fef90e8db2c8ce9bbd40,Add Attribute api client,MERGED,2023-05-16 09:47:58.000000000,2023-05-17 09:40:40.000000000,2023-05-17 09:39:45.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-16 09:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/0d3fe311f570eb442f29c3054167b0ce4163be65', 'message': 'Add Attribute api client\n\nClient for list attribute api\n\nChange-Id: I25391f14352658214fa1fef90e8db2c8ce9bbd40\n'}, {'number': 2, 'created': '2023-05-17 01:34:20.000000000', 'files': ['cyborgclient/osc/v2/attribute.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/91cf9d7715ae3ceabf6aed4a8d91a96e501f70e1', 'message': 'Add Attribute api client\n\nClient for list attribute api\n\nChange-Id: I25391f14352658214fa1fef90e8db2c8ce9bbd40\n'}]",2,883241,91cf9d7715ae3ceabf6aed4a8d91a96e501f70e1,10,3,2,31412,,,0,"Add Attribute api client

Client for list attribute api

Change-Id: I25391f14352658214fa1fef90e8db2c8ce9bbd40
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/41/883241/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborgclient/osc/v2/attribute.py', 'setup.cfg']",2,0d3fe311f570eb442f29c3054167b0ce4163be65,, accelerator_device_attribute_list = cyborgclient.osc.v2.attribute:ListAttribute,,65,0
openstack%2Fnova~master~Ia916310522b007061660172fa4d63d0fde9a55ac,openstack/nova,master,Ia916310522b007061660172fa4d63d0fde9a55ac,tests: Use GreenThreadPoolExecutor.shutdown(wait=True),MERGED,2023-05-17 00:16:59.000000000,2023-05-17 09:22:12.000000000,2023-05-17 09:20:59.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 00:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8454a6d455afb7b2f75237114d5074447db7d6d4', 'message': 'tests: Use GreenThreadPoolExecutor.shutdown(wait=True)\n\nWe are still having some issues in the gate where greenlets from\nprevious tests continue to run while the next test starts, causing\nfalse negative failures in unit or functional test jobs.\n\nThis adds a new fixture that will ensure\nGreenThreadPoolExecutor.shutdown() is called with wait=True, to wait\nfor greenlets in the pool to finish running before moving on.\n\nIn local testing, doing this does not appear to adversely affect test\nrun times, which was my primary concern.\n\nAs a baseline, I ran a subset of functional tests in a loop\nuntil failure without the patch and after 11 hours, I got a failure\nreproducing the bug. With the patch, running the same subset of\nfunctional tests in a loop has been running for 24 hours and has not\nfailed yet.\n\nBased on this, I think it may be worth trying this out to see if it\nwill help stability of our unit and functional test jobs. And if it\nends up impacting test run times or causes other issues, we can\nrevert it.\n\nPartial-Bug: #1946339\n\nChange-Id: Ia916310522b007061660172fa4d63d0fde9a55ac\n'}, {'number': 2, 'created': '2023-05-17 00:58:04.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c095cfe04e2c71efcfbfdd95948af080a98065e6', 'message': 'tests: Use GreenThreadPoolExecutor.shutdown(wait=True)\n\nWe are still having some issues in the gate where greenlets from\nprevious tests continue to run while the next test starts, causing\nfalse negative failures in unit or functional test jobs.\n\nThis adds a new fixture that will ensure\nGreenThreadPoolExecutor.shutdown() is called with wait=True, to wait\nfor greenlets in the pool to finish running before moving on.\n\nIn local testing, doing this does not appear to adversely affect test\nrun times, which was my primary concern.\n\nAs a baseline, I ran a subset of functional tests in a loop\nuntil failure without the patch and after 11 hours, I got a failure\nreproducing the bug. With the patch, running the same subset of\nfunctional tests in a loop has been running for 24 hours and has not\nfailed yet.\n\nBased on this, I think it may be worth trying this out to see if it\nwill help stability of our unit and functional test jobs. And if it\nends up impacting test run times or causes other issues, we can\nrevert it.\n\nPartial-Bug: #1946339\n\nChange-Id: Ia916310522b007061660172fa4d63d0fde9a55ac\n'}]",5,883317,c095cfe04e2c71efcfbfdd95948af080a98065e6,13,3,2,4690,,,0,"tests: Use GreenThreadPoolExecutor.shutdown(wait=True)

We are still having some issues in the gate where greenlets from
previous tests continue to run while the next test starts, causing
false negative failures in unit or functional test jobs.

This adds a new fixture that will ensure
GreenThreadPoolExecutor.shutdown() is called with wait=True, to wait
for greenlets in the pool to finish running before moving on.

In local testing, doing this does not appear to adversely affect test
run times, which was my primary concern.

As a baseline, I ran a subset of functional tests in a loop
until failure without the patch and after 11 hours, I got a failure
reproducing the bug. With the patch, running the same subset of
functional tests in a loop has been running for 24 hours and has not
failed yet.

Based on this, I think it may be worth trying this out to see if it
will help stability of our unit and functional test jobs. And if it
ends up impacting test run times or causes other issues, we can
revert it.

Partial-Bug: #1946339

Change-Id: Ia916310522b007061660172fa4d63d0fde9a55ac
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/883317/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/test.py']",2,8454a6d455afb7b2f75237114d5074447db7d6d4,bug/1946339," # Wait for bare greenlets spawn_n()'ed from a GreenThreadPoolExecutor # to finish before moving on from the test. When greenlets from a # previous test remain running, they may attempt to access structures # (like the database) that have already been torn down and can cause # the currently running test to fail. self.useFixture(nova_fixtures.GreenThreadPoolShutdownWait()) ",,43,0
openstack%2Fmistral~master~I0b7202589eee68ba5560bf2aa60fbbd6118f3719,openstack/mistral,master,I0b7202589eee68ba5560bf2aa60fbbd6118f3719,Starting tasks via RPC,MERGED,2023-01-04 11:14:39.000000000,2023-05-17 09:21:39.000000000,2023-05-17 09:20:40.000000000,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-01-04 11:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/78be33e32247309371ce1c1b27c9af273c8e482c', 'message': 'Starting tasks via RPC\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 2, 'created': '2023-01-04 11:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/61bf326cc20659464d4f1c82b8aa34395a31652e', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 3, 'created': '2023-01-04 13:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e17f2158fe401827a8f257b186f117326e03ab5', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 4, 'created': '2023-01-04 13:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2bfab2de6aeee75916b9549cd54ae0eb1b958580', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 5, 'created': '2023-01-05 10:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0d7ac7f35233ba95d46acc3b6007584486a8ee10', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 6, 'created': '2023-01-06 11:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/84e84cb5a7487134ae8f3c8213f8094ee455874e', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 7, 'created': '2023-01-06 11:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e0e31c857cfbcf122a723bba901f1d4bd2c6cc44', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 8, 'created': '2023-01-06 12:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5c717a816e8842b6c9697ea2fb6ba9f0bf14798f', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 9, 'created': '2023-01-06 13:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e3dd4e48cee9c33199f7cc29acf2392566a7938d', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 10, 'created': '2023-01-10 06:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b79fa6c458b1df699bc0d231677ac38217a3996e', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: https://blueprints.launchpad.net/mistral/+spec/distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 11, 'created': '2023-01-11 07:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/80e87a3335c43585f49befb2405a122e49d9abe0', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: https://blueprints.launchpad.net/mistral/+spec/distribute-mistral-operations\n\nLink to failing Test case review: https://review.opendev.org/c/openstack/mistral-tempest-plugin/+/869652\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 12, 'created': '2023-01-13 11:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d47a678387cd24e19d4c118bc1adfe7b5e03b24d', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: https://blueprints.launchpad.net/mistral/+spec/distribute-mistral-operations\n\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 13, 'created': '2023-01-19 05:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4fd8b0ca84c5c5743fd31c8056be38fbd5c04c4d', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: https://blueprints.launchpad.net/mistral/+spec/distribute-mistral-operations\n\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}, {'number': 14, 'created': '2023-02-16 07:53:42.000000000', 'files': ['mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun.py', 'mistral/engine/base.py', 'mistral/tests/unit/engine/test_default_engine.py', 'mistral/rpc/clients.py', 'mistral/tests/unit/notifiers/test_notify.py', 'mistral/engine/engine_server.py', 'mistral/tests/unit/engine/test_task_cancel.py', 'mistral/engine/dispatcher.py', 'mistral/tests/unit/engine/test_policies.py', 'mistral/tests/unit/engine/test_workflow_cancel.py', 'mistral/tests/unit/engine/test_execution_fields_size_limitation.py', 'mistral/tests/unit/engine/test_task_started_finished_at.py', 'mistral/tests/unit/engine/test_task_pause_resume.py', 'mistral/tests/unit/engine/test_with_items.py', 'mistral/engine/default_engine.py', 'mistral/tests/unit/engine/test_subworkflows_pause_resume.py', 'mistral/engine/task_handler.py', 'mistral/tests/unit/engine/test_race_condition.py', 'mistral/tests/unit/engine/test_error_result.py', 'mistral/engine/tasks.py', 'mistral/tests/unit/engine/test_direct_workflow_rerun_cancelled.py', 'mistral/tests/unit/engine/test_adhoc_actions.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun_cancelled.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9f52e2b6f39306e79e9291e58985e376243aba63', 'message': 'Starting tasks via RPC\n\nAfter this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.\n\nImplements: blueprint distribute-mistral-operations\n\nChange-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719\n'}]",15,869193,9f52e2b6f39306e79e9291e58985e376243aba63,41,8,14,35584,,,0,"Starting tasks via RPC

After this patch mistral will run tasks using RPC which will distribute tasks amongst available engine threads. this will enhance performance in case of executing huge executions containing multiple tasks.

Implements: blueprint distribute-mistral-operations

Change-Id: I0b7202589eee68ba5560bf2aa60fbbd6118f3719
",git fetch https://review.opendev.org/openstack/mistral refs/changes/93/869193/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/engine/engine_server.py', 'mistral/engine/task_handler.py', 'mistral/engine/dispatcher.py', 'mistral/engine/base.py', 'mistral/engine/default_engine.py']",6,78be33e32247309371ce1c1b27c9af273c8e482c,bp/distribute-mistral-operations,"from mistral.engine import task_handler @post_tx_queue.run def start_task(self, task_ex_id, first_run, waiting, triggered_by, rerun, reset, **params): with db_api.transaction(): task_handler.run_task(task_ex_id, waiting, triggered_by, rerun, reset, first_run) ",,145,38
openstack%2Fmistral~master~I6f344dc15a4ca5c69a6b21841544a31f95eb393f,openstack/mistral,master,I6f344dc15a4ca5c69a6b21841544a31f95eb393f,Info endpoint,MERGED,2022-11-17 19:14:15.000000000,2023-05-17 09:06:03.000000000,2023-05-17 09:05:03.000000000,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 35584}]","[{'number': 1, 'created': '2022-11-17 19:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c1448af93680fe0c0acb2460c56f2823cec75846', 'message': 'Info endpoint\n\nFor many various support reasons, Mistral should have a special\nendpoint to store all necessary data. This endpoint will read\njson from created by admin info file. To configure this you should\nuse mistral configuration:\n\n[api]\nenable_info_endpoint = True\ninfo_json_file_path = info.json\n\nChange-Id: I6f344dc15a4ca5c69a6b21841544a31f95eb393f\nImplements: blueprint mistral-info-endpoint\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 2, 'created': '2022-11-17 19:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4ed6511e8211834bd873c0a019b34b797769e222', 'message': 'Info endpoint\n\nFor many various support reasons, Mistral should have a special\nendpoint to store all necessary info data. This endpoint will read\njson from created by admin info file. To configure this you should\nuse mistral configuration:\n\n[api]\nenable_info_endpoint = True\ninfo_json_file_path = info.json\n\nChange-Id: I6f344dc15a4ca5c69a6b21841544a31f95eb393f\nImplements: blueprint mistral-info-endpoint\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 3, 'created': '2022-11-17 19:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2a3a8369bf9533e8acff9baf8a149f5585f7b87b', 'message': 'Info endpoint\n\nFor many various support reasons, Mistral should have a special\nendpoint to store all necessary info data. This endpoint will read\njson from created by admin info file. To configure this you should\nuse mistral configuration:\n\n[api]\nenable_info_endpoint = True\ninfo_json_file_path = info.json\n\nChange-Id: I6f344dc15a4ca5c69a6b21841544a31f95eb393f\nImplements: blueprint mistral-info-endpoint\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 4, 'created': '2022-11-17 22:06:37.000000000', 'files': ['mistral/context.py', 'mistral/config.py', 'mistral/api/controllers/root.py', 'doc/source/admin/configuration/config-guide.rst', 'mistral/exceptions.py', 'mistral/api/controllers/info.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/517789943aa51dbd4c6f098ebe2bea9e5b9c3660', 'message': 'Info endpoint\n\nFor many various support reasons, Mistral should have a special\nendpoint to store all necessary info data. This endpoint will read\njson from created by admin info file. To configure this you should\nuse mistral configuration:\n\n[api]\nenable_info_endpoint = True\ninfo_json_file_path = info.json\n\nChange-Id: I6f344dc15a4ca5c69a6b21841544a31f95eb393f\nImplements: blueprint mistral-info-endpoint\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",11,864939,517789943aa51dbd4c6f098ebe2bea9e5b9c3660,22,8,4,29124,,,0,"Info endpoint

For many various support reasons, Mistral should have a special
endpoint to store all necessary info data. This endpoint will read
json from created by admin info file. To configure this you should
use mistral configuration:

[api]
enable_info_endpoint = True
info_json_file_path = info.json

Change-Id: I6f344dc15a4ca5c69a6b21841544a31f95eb393f
Implements: blueprint mistral-info-endpoint
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/39/864939/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/config.py', 'mistral/api/controllers/root.py', 'mistral/exceptions.py', 'mistral/api/controllers/info.py']",4,c1448af93680fe0c0acb2460c56f2823cec75846,bp/mistral-info-endpoint,"# Copyright 2022 - NetCracker Technology Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import json from mistral import exceptions as exc from mistral.utils import rest_utils import os.path from oslo_config import cfg import pecan from pecan import rest class InfoController(rest.RestController): @rest_utils.wrap_pecan_controller_exception @pecan.expose('json') def get(self): if not cfg.CONF.api.enable_info_endpoint: raise exc.InfoEndpointNotAvailableException( ""Info endpoint disabled."" ) file_path = cfg.CONF.api.info_json_file_path if not os.path.exists(file_path): raise exc.InfoEndpointNotAvailableException( ""Incorrect path to info json file."" ) with open(file_path) as f: return json.load(f) ",,58,1
openstack%2Foctavia-tempest-plugin~master~I37fbfe50076dcc7f700609b7f00478e9cafbc4f4,openstack/octavia-tempest-plugin,master,I37fbfe50076dcc7f700609b7f00478e9cafbc4f4,Spliting healthmonitor test for each pool protocol,NEW,2023-01-17 15:04:19.000000000,2023-05-17 09:00:44.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 29244}, {'_account_id': 32029}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-01-17 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e13c16676de0bcc0bf5ea5bc143e29ba32d0746c', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffice tests for different pool\nprotocols, in order to have a better granularity and not\njust running over ROUND_ROBIN one.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 2, 'created': '2023-01-17 16:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2d2533dabefc248b66205a2dc75cb8dad2d62226', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffice tests for different pool\nprotocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 3, 'created': '2023-01-18 10:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/78c84b1192c2b45e1fc3161019e5a98d4335d4c8', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 4, 'created': '2023-01-18 13:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/42ec7ce146b44dabe7dec2b38f1ce1cfd82e33fd', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 5, 'created': '2023-01-18 17:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/72dde8eb2afe11a38dc7118c92b6659a33ac5822', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 6, 'created': '2023-01-23 15:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5cff40500dd64e56346b8fe27f1f7a34df82d24f', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 7, 'created': '2023-01-24 16:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/81d3289ff7fd842cfca83453117d9ee94b3937ea', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 8, 'created': '2023-02-08 20:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ee61507697b4e2a85b44cd71e10e0a5870c98cc2', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 9, 'created': '2023-02-09 10:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/59853c2895340372c5617a1cefe7433292024451', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}, {'number': 10, 'created': '2023-03-31 07:19:50.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6e7698130c04f7e57df1770d2b6d5caa847f9276', 'message': 'Spliting healthmonitor test for each pool protocol\n\nSplit the healthmonitor traffic tests for different pool\nLB protocols, in order to have a better granularity and not\njust running over ROUND_ROBIN.\n\nChange-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4\n'}]",48,870824,6e7698130c04f7e57df1770d2b6d5caa847f9276,45,7,10,34451,,,0,"Spliting healthmonitor test for each pool protocol

Split the healthmonitor traffic tests for different pool
LB protocols, in order to have a better granularity and not
just running over ROUND_ROBIN.

Change-Id: I37fbfe50076dcc7f700609b7f00478e9cafbc4f4
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/24/870824/7 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,e13c16676de0bcc0bf5ea5bc143e29ba32d0746c,split," def test_healthmonitor_least_connections_http_traffic(self): try: pool_id = self._listener_pool_create( const.HTTP, 82, pool_algorithm=const.LB_ALGORITHM_LEAST_CONNECTIONS)[1] self._test_healthmonitor_traffic(const.HTTP, 82, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('15a54ddc-95d8-4030-b655-c08798bc9774') def test_healthmonitor_round_robin_http_traffic(self): try: pool_id = self._listener_pool_create(const.HTTP, 82)[1] self._test_healthmonitor_traffic(const.HTTP, 82, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('80f97c31-6e27-4fd5-a65e-5d04070a37c1') def test_healthmonitor_source_ip_http_traffic(self): try: pool_id = self._listener_pool_create( const.HTTP, 82, pool_algorithm=const.LB_ALGORITHM_SOURCE_IP)[1] self._test_healthmonitor_traffic(const.HTTP, 82, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('b6c1d91c-7030-4912-8125-d7992039bd34') def test_healthmonitor_source_ip_port_http_traffic(self): try: pool_id = self._listener_pool_create( const.HTTP, 82, pool_algorithm=const.LB_ALGORITHM_SOURCE_IP_PORT)[1] self._test_healthmonitor_traffic(const.HTTP, 82, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) def test_healthmonitor_least_connections_tcp_traffic(self): try: pool_id = self._listener_pool_create( const.TCP, 83, pool_algorithm=const.LB_ALGORITHM_LEAST_CONNECTIONS)[1] self._test_healthmonitor_traffic(const.TCP, 83, pool_id, persistent=False) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('15a54ddc-95d8-4030-b655-c08798bc9774') def test_healthmonitor_round_robin_tcp_traffic(self): try: pool_id = self._listener_pool_create(const.TCP, 83)[1] self._test_healthmonitor_traffic(const.TCP, 83, pool_id, persistent=False) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('80f97c31-6e27-4fd5-a65e-5d04070a37c1') def test_healthmonitor_source_ip_tcp_traffic(self): try: pool_id = self._listener_pool_create( const.TCP, 83, pool_algorithm=const.LB_ALGORITHM_SOURCE_IP)[1] self._test_healthmonitor_traffic(const.TCP, 83, pool_id, persistent=False) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('b6c1d91c-7030-4912-8125-d7992039bd34') def test_healthmonitor_source_ip_port_tcp_traffic(self): try: pool_id = self._listener_pool_create( const.TCP, 83, pool_algorithm=const.LB_ALGORITHM_SOURCE_IP_PORT)[1] self._test_healthmonitor_traffic(const.TCP, 83, pool_id, persistent=False) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('9f8c8b30-d958-41ea-aa4a-f4a6870c3cc0') def test_healthmonitor_least_connections_udp_traffic(self): try: pool_id = self._listener_pool_create( const.UDP, 8081, pool_algorithm=const.LB_ALGORITHM_LEAST_CONNECTIONS)[1] self._test_healthmonitor_traffic(const.UDP, 8081, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('344167ff-0243-4f70-9e2b-e2e3b36121ea') def test_healthmonitor_round_robin_udp_traffic(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') try: pool_id = self._listener_pool_create(const.UDP, 8081)[1] self._test_healthmonitor_traffic(const.UDP, 8081, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('889c7443-639e-44cb-8d14-804dbdd5daae') def test_healthmonitor_source_ip_udp_traffic(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') try: pool_id = self._listener_pool_create( const.UDP, 8081, pool_algorithm=const.LB_ALGORITHM_SOURCE_IP)[1] self._test_healthmonitor_traffic(const.UDP, 8081, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message) @decorators.idempotent_id('62f6dc6c-acbc-4e2d-8ee3-18487760b32b') def test_healthmonitor_source_ip_port_udp_traffic(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') try: pool_id = self._listener_pool_create( const.UDP, 8081, pool_algorithm=const.LB_ALGORITHM_SOURCE_IP_PORT)[1] self._test_healthmonitor_traffic(const.UDP, 8081, pool_id) except exceptions.NotImplemented as e: message = (""The configured provider driver '{driver}' "" ""does not support a feature required for this "" ""test."".format(driver=CONF.load_balancer.provider)) if hasattr(e, 'resp_body'): message = e.resp_body.get('faultstring', message) raise testtools.TestCase.skipException(message)"," def test_healthmonitor_http_traffic(self): pool_id = self._listener_pool_create(const.HTTP, 82)[1] self._test_healthmonitor_traffic(const.HTTP, 82, pool_id) def test_healthmonitor_tcp_traffic(self): pool_id = self._listener_pool_create(const.TCP, 83)[1] self._test_healthmonitor_traffic(const.TCP, 83, pool_id, persistent=False) @decorators.idempotent_id('80b86513-1a76-4e42-91c9-cb23c879e536') def test_healthmonitor_udp_traffic(self): pool_id = self._listener_pool_create(const.UDP, 8081)[1] self._test_healthmonitor_traffic(const.UDP, 8081, pool_id)",184,11
openstack%2Freleases~master~I4d4b499307ab58e8df988b97886b6eb2349abb69,openstack/releases,master,I4d4b499307ab58e8df988b97886b6eb2349abb69,Release Neutron 23.0.0.0b2,MERGED,2023-05-16 10:14:24.000000000,2023-05-17 07:58:56.000000000,2023-05-17 07:58:56.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-16 10:14:24.000000000', 'files': ['deliverables/bobcat/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/813c0a4710c63e6c56711e8f52071dc3db400146', 'message': 'Release Neutron 23.0.0.0b2\n\nThis release fixes the error in [1]. 23.0.0.0b1 was supposed to release\nNeutron with hash 9319ba00a986e693eeb4707055aa53111601e7c8. Instead of\nthat it was released with hash 92766c85b642bdece24c629625bf80050882c797\nthat matches 22.0.0.0rc1.\n\nOnce merged, 23.0.0.0b1 should not be used.\n\n[1]https://review.opendev.org/c/openstack/releases/+/882819\n\nChange-Id: I4d4b499307ab58e8df988b97886b6eb2349abb69\n'}]",3,883242,813c0a4710c63e6c56711e8f52071dc3db400146,10,6,1,16688,,,0,"Release Neutron 23.0.0.0b2

This release fixes the error in [1]. 23.0.0.0b1 was supposed to release
Neutron with hash 9319ba00a986e693eeb4707055aa53111601e7c8. Instead of
that it was released with hash 92766c85b642bdece24c629625bf80050882c797
that matches 22.0.0.0rc1.

Once merged, 23.0.0.0b1 should not be used.

[1]https://review.opendev.org/c/openstack/releases/+/882819

Change-Id: I4d4b499307ab58e8df988b97886b6eb2349abb69
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/883242/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/neutron.yaml'],1,813c0a4710c63e6c56711e8f52071dc3db400146,neutron_23.0.0.0b2, - version: 23.0.0.0b2 projects: - repo: openstack/neutron hash: 9319ba00a986e693eeb4707055aa53111601e7c8,,4,0
openstack%2Fcharm-mysql-innodb-cluster~master~I9462bb7c2aa0d09a695b980037d600aceffd29ff,openstack/charm-mysql-innodb-cluster,master,I9462bb7c2aa0d09a695b980037d600aceffd29ff,README - Improve information on scaling,NEW,2021-12-07 20:37:02.000000000,2023-05-17 07:18:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-07 20:37:02.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/55a766aad23e906b8521406372c690531bb331d7', 'message': 'README - Improve information on scaling\n\nCreate a general section on scaling. Remove existing\ncontent and refer instead to cloud operations in the\ncharm-guide.\n\nDepends-On: ??????????????\nChange-Id: I9462bb7c2aa0d09a695b980037d600aceffd29ff\n'}]",1,820948,55a766aad23e906b8521406372c690531bb331d7,4,2,1,30561,,,0,"README - Improve information on scaling

Create a general section on scaling. Remove existing
content and refer instead to cloud operations in the
charm-guide.

Depends-On: ??????????????
Change-Id: I9462bb7c2aa0d09a695b980037d600aceffd29ff
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/48/820948/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,55a766aad23e906b8521406372c690531bb331d7,lp1889792-remove-instance,## Scaling The topic of scaling an already formed cluster is covered in these cloud operations (hosted in the [OpenStack Charm Guide][cg]): * [Add a MySQL InnoDB Cluster node][cg-ops-add-mysql8-node] * [Remove a MySQL InnoDB Cluster node][cg-ops-remove-mysql8-node][cg-ops-add-mysql8-node]: https://docs.openstack.org/charm-guide/latest/admin/ops-add-mysql8-node.html [cg-ops-remove-mysql8-node]: https://docs.openstack.org/charm-guide/latest/admin/ops-remove-mysql8-node.html,"## Adding a unit on a new subnet When adding a unit to an already formed cluster, and where that unit resides on a subnet different from any existing unit, the following extra actions are needed: juju run-action --wait mysql-innodb-cluster/leader update-unit-acls juju run-action --wait mysql-innodb-cluster/leader add-instance address=<address of new unit>",7,6
openstack%2Fpuppet-pacemaker~master~I544e1f51966ebe4a71a1adc00810341aaf92328c,openstack/puppet-pacemaker,master,I544e1f51966ebe4a71a1adc00810341aaf92328c,"Configuration of the stonith devices gets a broken password, when fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp passwords contain a special character.",ABANDONED,2023-04-04 08:56:29.000000000,2023-05-17 07:16:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-04 08:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b9e83cb639bdfb0629b0a563ab45c515bca08aba', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 2, 'created': '2023-05-17 07:06:57.000000000', 'files': ['manifests/stonith/fence_ipmilan.pp', 'manifests/stonith/fence_rhevm.pp', 'manifests/stonith/fence_redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/e6e8f01d5f8baf6ae79c2be225a5233d882d1468', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp passwords\ncontain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}]",1,879431,e6e8f01d5f8baf6ae79c2be225a5233d882d1468,6,1,2,35080,,,0,"Configuration of the stonith devices gets a broken password,
when fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp passwords
contain a special character.

This causes the fence device to remain in ""stopped"" status.

Closes-Bug: #2015215
Change-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/31/879431/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/stonith/fence_ipmilan.pp'],1,b9e83cb639bdfb0629b0a563ab45c515bca08aba,," default => ""passwd=\'${passwd}\'"","," default => ""passwd=\""${passwd}\"""",",1,1
openstack%2Fcharm-mysql-innodb-cluster~stable%2Ffocal~I0536220d62930173f34971575a49596fcc07a2b9,openstack/charm-mysql-innodb-cluster,stable/focal,I0536220d62930173f34971575a49596fcc07a2b9,Use unittest.mock instead of mock,ABANDONED,2023-03-02 01:34:04.000000000,2023-05-17 07:13:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-02 01:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/2183a34922d3040399130d848f421e3f9fe3ec5b', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0536220d62930173f34971575a49596fcc07a2b9\n(cherry picked from commit c21427f3dc16c034d69ff4c3d9016e2586480b0b)\n""}, {'number': 2, 'created': '2023-03-14 11:47:00.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/433d36be2f4e90ac351f4579ea09da92320d62e5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0536220d62930173f34971575a49596fcc07a2b9\n(cherry picked from commit c21427f3dc16c034d69ff4c3d9016e2586480b0b)\n""}]",3,875999,433d36be2f4e90ac351f4579ea09da92320d62e5,9,3,2,5112,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I0536220d62930173f34971575a49596fcc07a2b9
(cherry picked from commit c21427f3dc16c034d69ff4c3d9016e2586480b0b)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/99/875999/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py']",5,2183a34922d3040399130d848f421e3f9fe3ec5b,,from unittest import mock,import mock,4,9
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I728f969b0e1bf748701565466f6ca522dbdd4c98,openstack/tripleo-heat-templates,stable/wallaby,I728f969b0e1bf748701565466f6ca522dbdd4c98,Designate mDNS: restrict access to internal network,MERGED,2023-05-16 13:03:26.000000000,2023-05-17 06:57:32.000000000,2023-05-17 06:57:32.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 13:03:26.000000000', 'files': ['deployment/designate/designate-mdns-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae95d677b144799f3b700b85d63032544b0cbff9', 'message': 'Designate mDNS: restrict access to internal network\n\nThis patch amends the firewall rule to only allow connections source on\nthe same network that the mDNS is listening on (typically the internal\nAPI network).\n\nChange-Id: I728f969b0e1bf748701565466f6ca522dbdd4c98\n(cherry picked from commit a8e936a9c45f3a4b2c12288e929f5c2d20098697)\n'}]",1,883258,ae95d677b144799f3b700b85d63032544b0cbff9,6,4,1,6681,,,0,"Designate mDNS: restrict access to internal network

This patch amends the firewall rule to only allow connections source on
the same network that the mDNS is listening on (typically the internal
API network).

Change-Id: I728f969b0e1bf748701565466f6ca522dbdd4c98
(cherry picked from commit a8e936a9c45f3a4b2c12288e929f5c2d20098697)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/883258/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-mdns-container-puppet.yaml'],1,ae95d677b144799f3b700b85d63032544b0cbff9,wallaby," map_merge: - '142 designate_mdns udp': extras: ensure: absent '143 designate_mdns tcp': extras: ensure: absent - map_merge: repeat: for_each: <% net_cidr %>: {get_param: [ServiceData, net_cidr_map, {get_param: [ServiceNetMap, DesignateMdnsNetwork]}]} template: '142 designate_mdns udp <% net_cidr %>': proto: 'udp' source: <% net_cidr %> dport: - 5354 '143 designate_mdns tcp <% net_cidr %>': proto: 'tcp' source: <% net_cidr %> dport: - 5354", '142 designate_mdns udp': proto: 'udp' dport: - 5354 '143 designate_mdns tcp': proto: 'tcp' dport: - 5354,22,8
openstack%2Fci-log-processing~master~Idb1b7dfe19a2a570c8f9d3df811740a804d80da6,openstack/ci-log-processing,master,Idb1b7dfe19a2a570c8f9d3df811740a804d80da6,Change OpenSearch services  version for CI tests,MERGED,2023-04-04 09:51:55.000000000,2023-05-17 06:55:07.000000000,2023-05-17 06:54:13.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-04 09:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/35b2c695c985b303b740ab20b90d4c3a67c99211', 'message': 'Change OpenSearch version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}, {'number': 2, 'created': '2023-04-04 13:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/e9357200710b331d0d0e86c3c30253b4e3696174', 'message': 'Change OpenSearch version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}, {'number': 3, 'created': '2023-04-04 14:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/e8fda1ec51a412926e94e19c0d53b9001b33ab4b', 'message': 'Change OpenSearch version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}, {'number': 4, 'created': '2023-05-04 13:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/91353b0f56acdcc66387aeec1b6be683ca8a354c', 'message': 'Change OpenSearch version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}, {'number': 5, 'created': '2023-05-04 14:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/7f2c2d28f84b90c5b760828573e2ef1bb1a8b90f', 'message': 'Change OpenSearch services  version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}, {'number': 6, 'created': '2023-05-05 08:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/cd4311c685562d85ee43b0c506b1b39039001262', 'message': 'Change OpenSearch services  version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}, {'number': 7, 'created': '2023-05-05 08:32:02.000000000', 'files': ['ansible/roles/check-services/tasks/download.yml', 'ansible/roles/check-services/tasks/main.yml', 'ansible/roles/backup-dashboards-objects/tasks/main.yml', 'ansible/roles/check-services/templates/logstash-index.conf.j2'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/2d4b496a08440917009a6626e930869a273b74f2', 'message': 'Change OpenSearch services  version for CI tests\n\nThe testing version should be same as it is on the production.\n\nChange-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6\n'}]",1,879434,2d4b496a08440917009a6626e930869a273b74f2,21,5,7,20676,,,0,"Change OpenSearch services  version for CI tests

The testing version should be same as it is on the production.

Change-Id: Idb1b7dfe19a2a570c8f9d3df811740a804d80da6
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/34/879434/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/check-services/tasks/download.yml', 'ansible/roles/check-services/tasks/main.yml']",2,35b2c695c985b303b740ab20b90d4c3a67c99211,, quay.io/software-factory/opensearch:2.5.0, quay.io/software-factory/opensearch:1.1.0,2,2
openstack%2Fci-log-processing~master~Ica140ad9f5351ba0597b5a2197b7e88b787fd614,openstack/ci-log-processing,master,Ica140ad9f5351ba0597b5a2197b7e88b787fd614,Check memory consumption if its not to high in performance.json file,MERGED,2023-05-04 09:02:53.000000000,2023-05-17 06:52:59.000000000,2023-05-17 06:52:00.000000000,"[{'_account_id': 4393}, {'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 09:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/2d6f3d38d1969a45c374d5e48f16fae59b5cf007', 'message': 'Check memory consumption if its not to high in performance.json file\n\nThe OpenSearch service is rejecting field, that has bigger value than\n9223372036854775807 (In Java, the ""long"" data type is a 64-bit signed\ninteger).\nMore info about numeric types you can find in doc [1].\n\n[1] https://opensearch.org/docs/latest/field-types/numeric/\n\nChange-Id: Ica140ad9f5351ba0597b5a2197b7e88b787fd614\n'}, {'number': 2, 'created': '2023-05-04 13:15:06.000000000', 'files': ['logscraper/tests/test_logsender.py', 'logscraper/logsender.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/51848a8dbebc741e0fd39fca73fd338d7fd4ecd0', 'message': 'Check memory consumption if its not to high in performance.json file\n\nThe OpenSearch service is rejecting field, that has bigger value than\n9223372036854775807 (In Java, the ""long"" data type is a 64-bit signed\ninteger).\nMore info about numeric types you can find in doc [1].\n\n[1] https://opensearch.org/docs/latest/field-types/numeric/\n\nChange-Id: Ica140ad9f5351ba0597b5a2197b7e88b787fd614\n'}]",0,882243,51848a8dbebc741e0fd39fca73fd338d7fd4ecd0,10,6,2,20676,,,0,"Check memory consumption if its not to high in performance.json file

The OpenSearch service is rejecting field, that has bigger value than
9223372036854775807 (In Java, the ""long"" data type is a 64-bit signed
integer).
More info about numeric types you can find in doc [1].

[1] https://opensearch.org/docs/latest/field-types/numeric/

Change-Id: Ica140ad9f5351ba0597b5a2197b7e88b787fd614
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/43/882243/1 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logsender.py'],1,2d6f3d38d1969a45c374d5e48f16fae59b5cf007,," if (not isinstance(current_mem, int) or current_mem > 9223372036854775807):"," if not isinstance(current_mem, int):",2,1
openstack%2Fmanila~master~Ie292296801bca396b13580e74ce2be7ff0b59c95,openstack/manila,master,Ie292296801bca396b13580e74ce2be7ff0b59c95,"db: Migrate ""availability zone"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-17 06:01:14.000000000,2023-05-16 14:08:40.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b1b8718ec39af0ea597a0bcfcd06f48b60c0a1a1', 'message': 'db: Migrate ""availability zone"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ie292296801bca396b13580e74ce2be7ff0b59c95\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/614bf80184657dd8475b5e2841da612f1d790851', 'message': 'db: Migrate ""availability zone"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ie292296801bca396b13580e74ce2be7ff0b59c95\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2b7b100124ad350a1447fb4728cd002c1c98be24', 'message': 'db: Migrate ""availability zone"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ie292296801bca396b13580e74ce2be7ff0b59c95\n'}]",2,880193,2b7b100124ad350a1447fb4728cd002c1c98be24,33,4,3,15334,,,0,"db: Migrate ""availability zone"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ie292296801bca396b13580e74ce2be7ff0b59c95
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/880193/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,b1b8718ec39af0ea597a0bcfcd06f48b60c0a1a1,sqlalchemy-20,"@context_manager.reader def availability_zone_get(context, id_or_name): return _availability_zone_get(context, id_or_name) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted@context_manager.reader def availability_zone_get_all(context): return model_query( context, models.AvailabilityZone, read_deleted=""no"", ).filter(","def availability_zone_get(context, id_or_name, session=None): if session is None: session = get_session() return _availability_zone_get(context, id_or_name, session=session) def availability_zone_get_all(context): session = get_session() session=session, return model_query(context, models.AvailabilityZone, session=session, read_deleted=""no"").filter(",9,10
openstack%2Fpython-novaclient~master~I1e604867bd00d51caebcb049777bbc675a398969,openstack/python-novaclient,master,I1e604867bd00d51caebcb049777bbc675a398969,Typo - nova CLI deprecation warning,MERGED,2023-05-17 01:49:53.000000000,2023-05-17 05:29:49.000000000,2023-05-17 05:28:49.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 01:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3490ead2b7f55ad6b3e0f83996dfbe8e58a188f6', 'message': 'Typo - nova CLI deprecation warning\n\nChange-Id: I1e604867bd00d51caebcb049777bbc675a398969\n'}, {'number': 2, 'created': '2023-05-17 02:21:48.000000000', 'files': ['novaclient/tests/unit/test_shell.py', 'novaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e464940f39d1643128c9cef0b92e02c3d0e754c7', 'message': 'Typo - nova CLI deprecation warning\n\nChange-Id: I1e604867bd00d51caebcb049777bbc675a398969\n'}]",6,883320,e464940f39d1643128c9cef0b92e02c3d0e754c7,13,3,2,36017,,,0,"Typo - nova CLI deprecation warning

Change-Id: I1e604867bd00d51caebcb049777bbc675a398969
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/20/883320/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/unit/test_shell.py'],1,3490ead2b7f55ad6b3e0f83996dfbe8e58a188f6,Typo," 'nova CLI is deprecated and will be removed in a future release', 'nova CLI is deprecated and will be removed in a future release',"," 'nova CLI is deprecated and will be a removed in a future release', 'nova CLI is deprecated and will be a removed in a future release',",2,2
openstack%2Fpython-openstackclient~master~I9d619817e2ac2c628d266cfd4905047f91a7a3fa,openstack/python-openstackclient,master,I9d619817e2ac2c628d266cfd4905047f91a7a3fa,"""network list"" command does not filter by network id",NEW,2023-05-14 06:12:34.000000000,2023-05-17 05:05:27.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-14 06:12:34.000000000', 'files': ['openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b9974540fb89e72d01c7b06f3df5ca8c77d884e9', 'message': '""network list"" command does not filter by network id\n\nThe network list api supports  filter a result by id.\nBut, openstackclient doesn\'t support filter by id in network list.\n\nIn this patch, By adding \'id\' field in request params,\nnetwork list can support filter by id.\n\nCo-authored-by: KIM HYUK SU <hsoo0720@naver.com>\n\nstory: 2010747\ntask: 48000\nChange-Id: I9d619817e2ac2c628d266cfd4905047f91a7a3fa\n'}]",1,883099,b9974540fb89e72d01c7b06f3df5ca8c77d884e9,3,2,1,36006,,,0,"""network list"" command does not filter by network id

The network list api supports  filter a result by id.
But, openstackclient doesn't support filter by id in network list.

In this patch, By adding 'id' field in request params,
network list can support filter by id.

Co-authored-by: KIM HYUK SU <hsoo0720@naver.com>

story: 2010747
task: 48000
Change-Id: I9d619817e2ac2c628d266cfd4905047f91a7a3fa
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/99/883099/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network.py']",2,b9974540fb89e72d01c7b06f3df5ca8c77d884e9,," def test_list_id(self): test_id = ""fakeid"" arglist = [ '--id', test_id, ] verifylist = [ ('external', False), ('long', False), ('id', test_id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.network.networks.assert_called_once_with(**{'id': test_id}) self.assertEqual(self.columns, columns) self.assertCountEqual(self.data, list(data)) ",,30,0
openstack%2Fneutron~master~Id9aaac9dff8cbcd0c965795f8450417fef51c630,openstack/neutron,master,Id9aaac9dff8cbcd0c965795f8450417fef51c630,[WIP] Create connection for alembic migration,ABANDONED,2023-05-16 13:17:56.000000000,2023-05-17 04:55:21.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 13:17:56.000000000', 'files': ['neutron/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c0414c7cad53a1dc71c8acbdc4df969a5a59e5b', 'message': '[WIP] Create connection for alembic migration\n\nBug: 2015847\n\nChange-Id: Id9aaac9dff8cbcd0c965795f8450417fef51c630\n'}]",4,883259,3c0414c7cad53a1dc71c8acbdc4df969a5a59e5b,7,2,1,16688,,,0,"[WIP] Create connection for alembic migration

Bug: 2015847

Change-Id: Id9aaac9dff8cbcd0c965795f8450417fef51c630
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/883259/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/migration/alembic_migrations/env.py'],1,3c0414c7cad53a1dc71c8acbdc4df969a5a59e5b,bug/2015847,"from oslo_db.sqlalchemy import sessionfrom sqlalchemy import engine_from_configfrom sqlalchemy import pool connectable = config.attributes.get('connection', None) if connectable is None: # only create Engine if we don't have a Connection from the outside connectable = session.create_engine(neutron_config.database.connection) with connectable.connect() as connection: connection=connection,"," connection = config.attributes.get('connection') with DBConnection(neutron_config.database.connection, connection) as conn: connection=conn,",10,3
openstack%2Fpuppet-keystone~master~I75e5d92a6eebb74f0e0c728ff3298d169725b84c,openstack/puppet-keystone,master,I75e5d92a6eebb74f0e0c728ff3298d169725b84c,Remove deprecated package_ensure parameters,MERGED,2023-05-15 07:26:17.000000000,2023-05-17 04:43:15.000000000,2023-05-17 04:42:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 07:26:17.000000000', 'files': ['manifests/federation/openidc.pp', 'releasenotes/notes/auth-modules-cleanup-6bcd7e86da88eead.yaml', 'manifests/federation/mellon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3e7fe620db83681abd016e81b486cfcb15b1816e', 'message': 'Remove deprecated package_ensure parameters\n\nThese were deprecated during the previous cycle and have had no effect\nsince then[1].\n\n[1] fe95db4cb068a80ce1ea1390a30abe7864b92633\n\nChange-Id: I75e5d92a6eebb74f0e0c728ff3298d169725b84c\n'}]",1,883133,3e7fe620db83681abd016e81b486cfcb15b1816e,12,3,1,9816,,,0,"Remove deprecated package_ensure parameters

These were deprecated during the previous cycle and have had no effect
since then[1].

[1] fe95db4cb068a80ce1ea1390a30abe7864b92633

Change-Id: I75e5d92a6eebb74f0e0c728ff3298d169725b84c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/33/883133/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/federation/openidc.pp', 'releasenotes/notes/auth-modules-cleanup-6bcd7e86da88eead.yaml', 'manifests/federation/mellon.pp']",3,3e7fe620db83681abd016e81b486cfcb15b1816e,,,"# DEPRECATED PARAMETERS # # [*package_ensure*] # (optional) Desired ensure state of packages. # accepts latest or specific versions. # Defaults to present. # # DEPRECATED PARAMETERS $package_ensure = undef, if $package_ensure != undef { warning('The package_ensure parameter is deprecated and has no effect.') } ",8,26
openstack%2Fvenus~master~I7f178ddb283c89cfc975ceaf05a609404351229e,openstack/venus,master,I7f178ddb283c89cfc975ceaf05a609404351229e,remove unicode from code,MERGED,2023-03-21 01:35:42.000000000,2023-05-17 02:35:37.000000000,2023-05-17 02:33:22.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2023-03-21 01:35:42.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/67762a75fe068577bd333faace9196b68fb70ca6', 'message': 'remove unicode from code\n\nChange-Id: I7f178ddb283c89cfc975ceaf05a609404351229e\n'}]",1,877921,67762a75fe068577bd333faace9196b68fb70ca6,8,2,1,35067,,,0,"remove unicode from code

Change-Id: I7f178ddb283c89cfc975ceaf05a609404351229e
",git fetch https://review.opendev.org/openstack/venus refs/changes/21/877921/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,67762a75fe068577bd333faace9196b68fb70ca6,,"copyright = '2016-present, OpenStack Foundation' 'OpenStack Log Management Service API Documentation', 'OpenStack Foundation', 'manual'),","copyright = u'2016-present, OpenStack Foundation' u'OpenStack Log Management Service API Documentation', u'OpenStack Foundation', 'manual'),",3,3
openstack%2Fvenus~master~I24fdadd53da60109eadbc585aff880c6914e58c1,openstack/venus,master,I24fdadd53da60109eadbc585aff880c6914e58c1,The variable is not declared in advance,MERGED,2023-03-21 03:31:06.000000000,2023-05-17 02:34:28.000000000,2023-05-17 02:33:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2023-03-21 03:31:06.000000000', 'files': ['venus/modules/search/search_lib.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/6f0fd87da6432e6fc6af60a213d309d3714d48f6', 'message': 'The variable is not declared in advance\n\nChange-Id: I24fdadd53da60109eadbc585aff880c6914e58c1\n'}]",1,877925,6f0fd87da6432e6fc6af60a213d309d3714d48f6,7,2,1,34934,,,0,"The variable is not declared in advance

Change-Id: I24fdadd53da60109eadbc585aff880c6914e58c1
",git fetch https://review.opendev.org/openstack/venus refs/changes/25/877925/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/search/search_lib.py'],1,6f0fd87da6432e6fc6af60a213d309d3714d48f6,, result = None , ,1,1
openstack%2Fvenus~master~I30839167f514925f6cb27de6e1256b366e6bc6e4,openstack/venus,master,I30839167f514925f6cb27de6e1256b366e6bc6e4,setup.cfg: Replace dashes with underscores,MERGED,2023-03-21 01:23:04.000000000,2023-05-17 02:33:21.000000000,2023-05-17 02:33:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2023-03-21 01:23:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/241a5927b0490515ababb1baf7719d6d7ca767f9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I30839167f514925f6cb27de6e1256b366e6bc6e4\n""}]",1,877919,241a5927b0490515ababb1baf7719d6d7ca767f9,7,2,1,35067,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I30839167f514925f6cb27de6e1256b366e6bc6e4
",git fetch https://review.opendev.org/openstack/venus refs/changes/19/877919/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,241a5927b0490515ababb1baf7719d6d7ca767f9,, venus_manager = venus.cmd.manage:main venus_api = venus.cmd.api:main, venus-manager = venus.cmd.manage:main venus-api = venus.cmd.api:main,2,2
openstack%2Fvenus~master~I89d8243fbe333b7e9a239248e5b5db2f867b0273,openstack/venus,master,I89d8243fbe333b7e9a239248e5b5db2f867b0273,The json standard does not allow comments,MERGED,2023-03-21 08:00:55.000000000,2023-05-17 02:33:20.000000000,2023-05-17 02:33:20.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2023-03-21 08:00:55.000000000', 'files': ['api-ref/source/v1/samples/custom-config/get-custom-config-show-response.json'], 'web_link': 'https://opendev.org/openstack/venus/commit/67718e3a36684762c96bda2540a1a074eda8b88c', 'message': 'The json standard does not allow comments\n\nChange-Id: I89d8243fbe333b7e9a239248e5b5db2f867b0273\n'}]",1,878054,67718e3a36684762c96bda2540a1a074eda8b88c,6,2,1,33161,,,0,"The json standard does not allow comments

Change-Id: I89d8243fbe333b7e9a239248e5b5db2f867b0273
",git fetch https://review.opendev.org/openstack/venus refs/changes/54/878054/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v1/samples/custom-config/get-custom-config-show-response.json'],1,67718e3a36684762c96bda2540a1a074eda8b88c,," ""log_save_days"": ""30"""," ""log_save_days"": ""30"" // the retention days of logs(ElasticSearch indexes).",1,1
openstack%2Fvenus~master~If48734fc0223c5390baf63c7d1171a3d70be1d71,openstack/venus,master,If48734fc0223c5390baf63c7d1171a3d70be1d71,remove not user variables,MERGED,2023-04-03 08:14:24.000000000,2023-05-17 02:33:19.000000000,2023-05-17 02:33:19.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-04-03 08:14:24.000000000', 'files': ['venus/modules/search/action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/157fefdcabbfc126a47ed06d32e490b3850ed673', 'message': 'remove not user variables\n\nremove not use variables field for venus/mudules/search/action.py file\nChange-Id: I49a1c9a1b3d800ca13b73fa8894bf86115831f01\n\nChange-Id: If48734fc0223c5390baf63c7d1171a3d70be1d71\n'}]",1,878688,157fefdcabbfc126a47ed06d32e490b3850ed673,6,4,1,30409,,,0,"remove not user variables

remove not use variables field for venus/mudules/search/action.py file
Change-Id: I49a1c9a1b3d800ca13b73fa8894bf86115831f01

Change-Id: If48734fc0223c5390baf63c7d1171a3d70be1d71
",git fetch https://review.opendev.org/openstack/venus refs/changes/88/878688/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/search/action.py'],1,157fefdcabbfc126a47ed06d32e490b3850ed673,master1,," field = """" ",0,1
openstack%2Fvenus~master~I39c8ef94a4292fe70c5b78aa0fe11befa0a5c6c0,openstack/venus,master,I39c8ef94a4292fe70c5b78aa0fe11befa0a5c6c0,blank line is required after a literal block,MERGED,2023-03-21 06:52:01.000000000,2023-05-17 02:33:18.000000000,2023-05-17 02:33:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2023-03-21 06:52:01.000000000', 'files': ['doc/README.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/bcee973c0c5e460909caa975e1456c165617ea01', 'message': 'blank line is required after a literal block\n\nChange-Id: I39c8ef94a4292fe70c5b78aa0fe11befa0a5c6c0\n'}]",1,878051,bcee973c0c5e460909caa975e1456c165617ea01,6,2,1,33161,,,0,"blank line is required after a literal block

Change-Id: I39c8ef94a4292fe70c5b78aa0fe11befa0a5c6c0
",git fetch https://review.opendev.org/openstack/venus refs/changes/51/878051/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/README.rst'],1,bcee973c0c5e460909caa975e1456c165617ea01,,% cd .. % tox -e docs, % cd .. % tox -e docs,2,2
openstack%2Fcharm-mysql-innodb-cluster~master~I5df4fd5ecbdd2b7bce525a9930dcffbc5868cbb8,openstack/charm-mysql-innodb-cluster,master,I5df4fd5ecbdd2b7bce525a9930dcffbc5868cbb8,Wait for Group Replication to finish; 3100 before commit error,MERGED,2023-05-16 19:26:01.000000000,2023-05-17 02:29:04.000000000,2023-05-17 02:29:04.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 19:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/cbf1daff4b38dd3d38b48c3fa1624d118f4adc0d', 'message': 'Wait for Group Replication to finish; 3100 before commit error\n\nThe bug is triggered, as a race, usually by the\nprometheus-relation-joined hook, when it tries to create a user whilst\nGroup Replication is recovering during a rolling restart.  This patch\nalters the create_user() method so that it detects the failure condition\nand then retries for up to a minute (6 times, every 10 seconds) for the\nGroup Replication to recover before giving up and returning False\n(indicating the the user was not created).  This will usually result in\nthe handler not completing during the hook, and then retrying on the\nnext hook.\n\nChange-Id: I5df4fd5ecbdd2b7bce525a9930dcffbc5868cbb8\nCloses-Bug: #2018385\n'}, {'number': 2, 'created': '2023-05-16 19:47:47.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5fb5a05be128a2ec6a912394aacd14b44eb82998', 'message': 'Wait for Group Replication to finish; 3100 before commit error\n\nThe bug is triggered, as a race, usually by the\nprometheus-relation-joined hook, when it tries to create a user whilst\nGroup Replication is recovering during a rolling restart.  This patch\nalters the create_user() method so that it detects the failure condition\nand then retries for up to a minute (6 times, every 10 seconds) for the\nGroup Replication to recover before giving up and returning False\n(indicating the the user was not created).  This will usually result in\nthe handler not completing during the hook, and then retrying on the\nnext hook.\n\nChange-Id: I5df4fd5ecbdd2b7bce525a9930dcffbc5868cbb8\nCloses-Bug: #2018385\n'}]",3,883300,5fb5a05be128a2ec6a912394aacd14b44eb82998,10,4,2,20870,,,0,"Wait for Group Replication to finish; 3100 before commit error

The bug is triggered, as a race, usually by the
prometheus-relation-joined hook, when it tries to create a user whilst
Group Replication is recovering during a rolling restart.  This patch
alters the create_user() method so that it detects the failure condition
and then retries for up to a minute (6 times, every 10 seconds) for the
Group Replication to recover before giving up and returning False
(indicating the the user was not created).  This will usually result in
the handler not completing during the hook, and then retrying on the
next hook.

Change-Id: I5df4fd5ecbdd2b7bce525a9930dcffbc5868cbb8
Closes-Bug: #2018385
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/00/883300/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,cbf1daff4b38dd3d38b48c3fa1624d118f4adc0d,bug/2018385," _before_commit_error = 3100 @tenacity.retry(stop=tenacity.stop_after_attempt(6), wait=tenacity.wait_fixed(10), retry=tenacity.retry_if_result(lambda x: x is False)) NOTE: LP#2018383 means that the function may return False in the prometheus-relation-joined hook if the cluster is recovering from switching to TLS and recovering Group Replication. The function detects this error (3100), and returns False. The tenacity retry on the method retries the function after 10 seconds, 6 times, allowing for 1 minute for the Group Replication to recover during the hook execution. Otherwise, the function returns False to allow the caller to decide what to do on the failure. The function returns None if the unit is not configured in cluster or the helper can't connect to the local socket, neither of which are recoverable in this function. :returns: True if successful, False|None if there are failures :rtype: Optional(Bool) return None return None ""User {} exists."".format(user), ""WARNING"") if e.args[0] == self._before_commit_error: ch_core.hookenv.log( ""Couldn't commit due to error {}; most likely the "" ""cluster's group replication recovery is in process "" .format(self._before_commit_error), ""WARNING"") return False raise"," :returns: True if successful, False if there are failures :rtype: Boolean return False return False ""User {} exists."" .format(user), ""WARNING"") else: raise",41,11
openstack%2Fcharm-ops-sunbeam~main~Ie32d7d8bef16e88e7bbd2048b141c749eeafa3a3,openstack/charm-ops-sunbeam,main,Ie32d7d8bef16e88e7bbd2048b141c749eeafa3a3,Fix bug causing process not to be restarted,MERGED,2023-05-16 14:31:41.000000000,2023-05-17 02:23:14.000000000,2023-05-17 02:23:14.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-16 14:31:41.000000000', 'files': ['ops_sunbeam/container_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/0cb390b8ae26ee9f0d21799bfdc13c2bab3f759d', 'message': 'Fix bug causing process not to be restarted\n\nThe init_service function calls write_config twice. write_config\nreturns a list of any files changed. The 2nd call was overwriting\nthe list of changed files and stopping services being restarted.\n\nChange-Id: Ie32d7d8bef16e88e7bbd2048b141c749eeafa3a3\n'}]",1,883272,0cb390b8ae26ee9f0d21799bfdc13c2bab3f759d,7,3,1,12549,,,0,"Fix bug causing process not to be restarted

The init_service function calls write_config twice. write_config
returns a list of any files changed. The 2nd call was overwriting
the list of changed files and stopping services being restarted.

Change-Id: Ie32d7d8bef16e88e7bbd2048b141c749eeafa3a3
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/72/883272/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/container_handlers.py'],1,0cb390b8ae26ee9f0d21799bfdc13c2bab3f759d,fix-restart-bug, files_changed.extend(self.write_config(context)), files_changed = self.write_config(context),1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I785c7eeaf4cc6c965909ae76862eb16bd3835778,openstack/tripleo-ansible,stable/wallaby,I785c7eeaf4cc6c965909ae76862eb16bd3835778,Get ports from once before threaded processing,MERGED,2023-02-19 11:16:49.000000000,2023-05-17 02:07:06.000000000,2023-05-17 02:02:53.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-02-19 11:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00c527bf5e63bb5d089a58e3aa243de09001d372', 'message': 'Get ports from once before threaded processing\n\nInstead of fetching all ports associated with one overcloud\nstack for each and every node instance. Get the ports from\nneutron once, and pass copies to the method processing the\ninformation.\n\nThis will reduce the load on the networking service, and\nmost likely significantly improve deploy times for larger\nscale deployments.\n\nChange-Id: I785c7eeaf4cc6c965909ae76862eb16bd3835778\n'}, {'number': 2, 'created': '2023-05-04 12:30:01.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_ports.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc6d6392c837e7b2ccf02905e71f75be0eef0254', 'message': 'Get ports from once before threaded processing\n\nInstead of fetching all ports associated with one overcloud\nstack for each and every node instance. Get the ports from\nneutron once, and pass copies to the method processing the\ninformation.\n\nThis will reduce the load on the networking service, and\nmost likely significantly improve deploy times for larger\nscale deployments.\n\nChange-Id: I785c7eeaf4cc6c965909ae76862eb16bd3835778\n'}]",6,874325,cc6d6392c837e7b2ccf02905e71f75be0eef0254,23,6,2,24245,,,0,"Get ports from once before threaded processing

Instead of fetching all ports associated with one overcloud
stack for each and every node instance. Get the ports from
neutron once, and pass copies to the method processing the
information.

This will reduce the load on the networking service, and
most likely significantly improve deploy times for larger
scale deployments.

Change-Id: I785c7eeaf4cc6c965909ae76862eb16bd3835778
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/874325/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_ports.py']",2,00c527bf5e63bb5d089a58e3aa243de09001d372,reduce-neutron-calls-stable/wallaby," FAKE_MAPS, {}, 'ironic_uuid', 'role', self.a2g([])) FAKE_MAPS, {}, 'ironic_uuid', 'role', self.a2g([port_foo, port_bar])) FAKE_MAPS, {}, 'ironic_uuid', 'role', self.a2g([port_foo])) None, self.a2g([port_foo, port_bar]))"," mock_conn.network.ports.return_value = self.a2g([]) FAKE_MAPS, {}, 'ironic_uuid', 'role') mock_conn.network.ports.return_value = self.a2g([port_foo, port_bar]) FAKE_MAPS, {}, 'ironic_uuid', 'role') mock_conn.network.ports.return_value = self.a2g([port_foo]) FAKE_MAPS, {}, 'ironic_uuid', 'role') mock_conn.network.ports.return_value = self.a2g([port_foo, port_bar]) None)",15,28
openstack%2Fcyborg~master~I1a0258766757ad3baa4422ed4c51632a4ca0330d,openstack/cyborg,master,I1a0258766757ad3baa4422ed4c51632a4ca0330d,Use new get_rpc_client API from oslo.messaging,MERGED,2023-01-19 20:32:27.000000000,2023-05-17 01:19:26.000000000,2023-05-17 01:18:29.000000000,"[{'_account_id': 20566}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-01-19 20:32:27.000000000', 'files': ['requirements.txt', 'cyborg/common/rpc.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6491be0d196d5f1bb3eb41e02157463a3fe7469d', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: I1a0258766757ad3baa4422ed4c51632a4ca0330d\n'}]",2,871161,6491be0d196d5f1bb3eb41e02157463a3fe7469d,8,4,1,16137,,,0,"Use new get_rpc_client API from oslo.messaging

Use the new API that is consistent with
the existing API instead of instantiating the client
class directly.

This was introduced in release 14.1.0 here [1] and
added into oslo.messaging here [2]

[1] https://review.opendev.org/c/openstack/requirements/+/869340
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419

Change-Id: I1a0258766757ad3baa4422ed4c51632a4ca0330d
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/61/871161/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cyborg/common/rpc.py']",2,6491be0d196d5f1bb3eb41e02157463a3fe7469d,," return messaging.get_rpc_client( TRANSPORT, target, version_cap=version_cap, serializer=serializer)"," return messaging.RPCClient(TRANSPORT, target, version_cap=version_cap, serializer=serializer)",4,5
openstack%2Fvenus-tempest-plugin~master~Ifb162fbb5c7fb9348379adf45f99f5ae36a26a65,openstack/venus-tempest-plugin,master,Ifb162fbb5c7fb9348379adf45f99f5ae36a26a65,add custom config api service,MERGED,2023-04-03 08:51:04.000000000,2023-05-17 01:06:58.000000000,2023-05-17 01:06:58.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-04-03 08:51:04.000000000', 'files': ['venus_tempest_plugin/services/venus_rest_client.py'], 'web_link': 'https://opendev.org/openstack/venus-tempest-plugin/commit/11824a7992a7cf5e4bdf45e9257b2fd863a3dcbc', 'message': 'add custom config api service\n\nadd custom config api service for venus module\n\nChange-Id: Ifb162fbb5c7fb9348379adf45f99f5ae36a26a65\n'}]",0,878689,11824a7992a7cf5e4bdf45e9257b2fd863a3dcbc,6,4,1,30409,,,0,"add custom config api service

add custom config api service for venus module

Change-Id: Ifb162fbb5c7fb9348379adf45f99f5ae36a26a65
",git fetch https://review.opendev.org/openstack/venus-tempest-plugin refs/changes/89/878689/1 && git format-patch -1 --stdout FETCH_HEAD,['venus_tempest_plugin/services/venus_rest_client.py'],1,11824a7992a7cf5e4bdf45e9257b2fd863a3dcbc,master6," CC_URL = '/custom_config' def set_custom_config(self, body): body = json.dump_as_bytes(body) resp, body = self.post(self.CC_URL, body=body) return self._response_helper(resp, body) def get_custom_config(self): resp, body = self.get(self.CC_URL) return self._response_helper(resp, body) ",,10,0
openstack%2Ftripleo-ci~master~Ib68f5b26ea5672d294709a8a1d7e725133be0203,openstack/tripleo-ci,master,Ib68f5b26ea5672d294709a8a1d7e725133be0203,Fixes for ansible-lint in tox linter job,MERGED,2023-05-16 17:44:59.000000000,2023-05-17 01:01:47.000000000,2023-05-17 01:01:47.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 17:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c9a346acf8fbf1472aa368c6a230a0724e11413', 'message': 'Fixes for ansible-lint in tox linter job\n\nThis patch updated ansible-lint version on pre-commit configuration\nfile and updates tox.ini to install ansible and collections needed for\nansible-lint validation.\n\nChange-Id: Ib68f5b26ea5672d294709a8a1d7e725133be0203\n'}, {'number': 2, 'created': '2023-05-16 17:46:53.000000000', 'files': ['requirements.yml', 'tox.ini', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/941bbcdfff116b4df2011d7a74a1a9a8dc8c26b8', 'message': 'Fixes for ansible-lint in tox linter job\n\nThis patch updated ansible-lint version on pre-commit configuration\nfile and updates tox.ini to install ansible and collections needed for\nansible-lint validation.\n\nCloses-Bug: #2019875\n\nChange-Id: Ib68f5b26ea5672d294709a8a1d7e725133be0203\n'}]",1,883293,941bbcdfff116b4df2011d7a74a1a9a8dc8c26b8,8,2,2,30002,,,0,"Fixes for ansible-lint in tox linter job

This patch updated ansible-lint version on pre-commit configuration
file and updates tox.ini to install ansible and collections needed for
ansible-lint validation.

Closes-Bug: #2019875

Change-Id: Ib68f5b26ea5672d294709a8a1d7e725133be0203
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/883293/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.yml', 'tox.ini', '.ansible-lint', '.pre-commit-config.yaml']",4,5c9a346acf8fbf1472aa368c6a230a0724e11413,fix_ansible_linter, rev: v6.16.0, rev: v5.3.2,5,1
openstack%2Fswift~master~Idbff951506ee2f3b288eda00217c902314393877,openstack/swift,master,Idbff951506ee2f3b288eda00217c902314393877,docs: Remove references to out-dated install guides,MERGED,2023-05-16 22:31:21.000000000,2023-05-17 00:21:00.000000000,2023-05-17 00:20:06.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 22:31:21.000000000', 'files': ['doc/source/index.rst', 'doc/source/howto_installmultinode.rst', 'doc/source/getting_started.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/ca0dd8d703fd1eda0673bf48828a82422fd8aca8', 'message': 'docs: Remove references to out-dated install guides\n\nChange-Id: Idbff951506ee2f3b288eda00217c902314393877\n'}]",1,883313,ca0dd8d703fd1eda0673bf48828a82422fd8aca8,7,2,1,15343,,,0,"docs: Remove references to out-dated install guides

Change-Id: Idbff951506ee2f3b288eda00217c902314393877
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/883313/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/howto_installmultinode.rst', 'doc/source/getting_started.rst']",3,ca0dd8d703fd1eda0673bf48828a82422fd8aca8,,* :doc:`install/index`,* :doc:`Multiple Server Swift Installation <howto_installmultinode>`,1,17
openstack%2Fswift~master~Ibed9dc0afbdb922d06f7798bdac01db7c55b19f1,openstack/swift,master,Ibed9dc0afbdb922d06f7798bdac01db7c55b19f1,docs: Update versions in Getting Started doc,MERGED,2023-05-16 22:36:06.000000000,2023-05-17 00:18:54.000000000,2023-05-17 00:17:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 22:36:06.000000000', 'files': ['doc/source/getting_started.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/cff092b6822385e93d8d42b579a67f10291f795f', 'message': 'docs: Update versions in Getting Started doc\n\nChange-Id: Ibed9dc0afbdb922d06f7798bdac01db7c55b19f1\n'}]",0,883314,cff092b6822385e93d8d42b579a67f10291f795f,7,2,1,15343,,,0,"docs: Update versions in Getting Started doc

Change-Id: Ibed9dc0afbdb922d06f7798bdac01db7c55b19f1
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/883314/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting_started.rst'],1,cff092b6822385e93d8d42b579a67f10291f795f,,"Swift development currently targets Ubuntu Server 22.04, but should work on* Python (2.7 or 3.6-3.10)","Swift development currently targets Ubuntu Server 16.04, but should work on* Python (2.7 or 3.6-3.9)",2,2
openstack%2Fnova~stable%2Fxena~I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4,openstack/nova,stable/xena,I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4,Enable use of service user token with admin context,MERGED,2023-05-10 15:03:25.000000000,2023-05-16 22:37:38.000000000,2023-05-16 22:35:22.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 15:03:25.000000000', 'files': ['nova/service_auth.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/network/neutron.py', 'nova/volume/cinder.py', 'nova/tests/unit/test_service_auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6cc4e7fb9ac49606c598e72fcd3d6cf02efac4f1', 'message': ""Enable use of service user token with admin context\n\nWhen the [service_user] section is configured in nova.conf, nova will\nhave the ability to send a service user token alongside the user's\ntoken. The service user token is sent when nova calls other services'\nREST APIs to authenticate as a service, and service calls can sometimes\nhave elevated privileges.\n\nCurrently, nova does not however have the ability to send a service user\ntoken with an admin context. This means that when nova makes REST API\ncalls to other services with an anonymous admin RequestContext (such as\nin nova-manage or periodic tasks), it will not be authenticated as a\nservice.\n\nThis adds a keyword argument to service_auth.get_auth_plugin() to\nenable callers to provide a user_auth object instead of attempting to\nextract the user_auth from the RequestContext.\n\nThe cinder and neutron client modules are also adjusted to make use of\nthe new user_auth keyword argument so that nova calls made with\nanonymous admin request contexts can authenticate as a service when\nconfigured.\n\nRelated-Bug: #2004555\n\nChange-Id: I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4\n(cherry picked from commit 41c64b94b0af333845e998f6cc195e72ca5ab6bc)\n(cherry picked from commit 1f781423ee4224c0871ab4aafec191bb2f7ef0e4)\n(cherry picked from commit 0d6dd6c67f56c9d4ed36246d14f119da6bca0a5a)\n(cherry picked from commit 98c3e3707c08a07f7ca5996086b165512f604ad6)\n""}]",3,882868,6cc4e7fb9ac49606c598e72fcd3d6cf02efac4f1,15,3,1,4690,,,0,"Enable use of service user token with admin context

When the [service_user] section is configured in nova.conf, nova will
have the ability to send a service user token alongside the user's
token. The service user token is sent when nova calls other services'
REST APIs to authenticate as a service, and service calls can sometimes
have elevated privileges.

Currently, nova does not however have the ability to send a service user
token with an admin context. This means that when nova makes REST API
calls to other services with an anonymous admin RequestContext (such as
in nova-manage or periodic tasks), it will not be authenticated as a
service.

This adds a keyword argument to service_auth.get_auth_plugin() to
enable callers to provide a user_auth object instead of attempting to
extract the user_auth from the RequestContext.

The cinder and neutron client modules are also adjusted to make use of
the new user_auth keyword argument so that nova calls made with
anonymous admin request contexts can authenticate as a service when
configured.

Related-Bug: #2004555

Change-Id: I14df2d55f4b2f0be58f1a6ad3f19e48f7a6bfcb4
(cherry picked from commit 41c64b94b0af333845e998f6cc195e72ca5ab6bc)
(cherry picked from commit 1f781423ee4224c0871ab4aafec191bb2f7ef0e4)
(cherry picked from commit 0d6dd6c67f56c9d4ed36246d14f119da6bca0a5a)
(cherry picked from commit 98c3e3707c08a07f7ca5996086b165512f604ad6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/882868/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service_auth.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/network/neutron.py', 'nova/volume/cinder.py', 'nova/tests/unit/test_service_auth.py']",6,6cc4e7fb9ac49606c598e72fcd3d6cf02efac4f1,bug/2004555," @mock.patch.object(ks_loading, 'load_auth_from_conf_options', new=mock.Mock()) def test_get_auth_plugin_user_auth(self): self.flags(send_service_user_token=True, group='service_user') user_auth = mock.Mock() result = service_auth.get_auth_plugin(self.ctx, user_auth=user_auth) self.assertEqual(user_auth, result.user_auth)",,51,8
openstack%2Fironic~master~I045d58afe195f08823af3b1a2fa6eabb6efb63ca,openstack/ironic,master,I045d58afe195f08823af3b1a2fa6eabb6efb63ca,CI: Mark BFV job non-voting for now,MERGED,2023-05-16 18:19:42.000000000,2023-05-16 22:29:36.000000000,2023-05-16 22:27:28.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 18:19:42.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84', 'message': ""CI: Mark BFV job non-voting for now\n\nUntil we're able to get the BFV job softed, we need to unblock\nthe gate, and as such moving the BFV job to non-voting to allow\nother contributors to make progress.\n\nChange-Id: I045d58afe195f08823af3b1a2fa6eabb6efb63ca\n""}]",1,883296,912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84,9,2,1,11655,,,0,"CI: Mark BFV job non-voting for now

Until we're able to get the BFV job softed, we need to unblock
the gate, and as such moving the BFV job to non-voting to allow
other contributors to make progress.

Change-Id: I045d58afe195f08823af3b1a2fa6eabb6efb63ca
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/883296/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84,," # Currently broken, fallout from OSSA-2023-003 which was a breaking # change. Ironic needs to ensure we use a service token, not the # admin token credentials, and we then may need to revise our tempest # plugin once we have that sorted. # bugs.launchpad.net/ironic/+bug/2019892 - ironic-tempest-bfv: voting: false # NOTE(TheJulia): Disabled as of 20230516 until we can get the # Cinder boot from volume integration sorted. # https://bugs.launchpad.net/ironic/+bug/2019892 # - ironic-tempest-bfv", - ironic-tempest-bfv - ironic-tempest-bfv,11,2
openstack%2Fopenstack-zuul-jobs~master~I62c3ca8731f237ba19868db5d0388d130ea0f214,openstack/openstack-zuul-jobs,master,I62c3ca8731f237ba19868db5d0388d130ea0f214,Pin ansible-compat<4 until we upgrade ansible-lint,MERGED,2023-05-16 21:33:24.000000000,2023-05-16 21:45:58.000000000,2023-05-16 21:45:08.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 21:33:24.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e21c6138cc0a46bf4cdf30d880f94dd35feaf9ce', 'message': ""Pin ansible-compat<4 until we upgrade ansible-lint\n\nThere was a regression introduced in ansible-compat v4 which stopped\nansible-lint from working. This was fixed in ansible-lint 6.16.0 but\nwe've pinned it for so long now that there are a lot of rule\nviolations to fix or mark for skipping. In the interim, pin back all\nnew versions of ansible-compat until someone has time to fix things\nor rip out ansible-lint entirely.\n\nChange-Id: I62c3ca8731f237ba19868db5d0388d130ea0f214\n""}]",0,883310,e21c6138cc0a46bf4cdf30d880f94dd35feaf9ce,7,2,1,5263,,,0,"Pin ansible-compat<4 until we upgrade ansible-lint

There was a regression introduced in ansible-compat v4 which stopped
ansible-lint from working. This was fixed in ansible-lint 6.16.0 but
we've pinned it for so long now that there are a lot of rule
violations to fix or mark for skipping. In the interim, pin back all
new versions of ansible-compat until someone has time to fix things
or rip out ansible-lint entirely.

Change-Id: I62c3ca8731f237ba19868db5d0388d130ea0f214
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/10/883310/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e21c6138cc0a46bf4cdf30d880f94dd35feaf9ce,ansible-lint,# pin these two until someone has time to update all our skips to >=6.16ansible-compat<4,"# pin until https://github.com/ansible/ansible-lint/issues/2320 is fixed# avoid for https://github.com/ansible/ansible-compat/issues/258 ansible-compat!=4.0.1,!=4.0.2",2,3
openstack%2Fswift~master~I460d10a44255097bbf0a943fdf4a939b458ec163,openstack/swift,master,I460d10a44255097bbf0a943fdf4a939b458ec163,docs: Drop admin guide references to inactive projects,NEW,2023-05-16 21:28:27.000000000,2023-05-16 21:36:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 21:28:27.000000000', 'files': ['doc/source/admin/objectstorage-monitoring.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/2d862b476c49410346e7d1a5d15d300638085785', 'message': ""docs: Drop admin guide references to inactive projects\n\nNeither swift-informant nor statsdlog have been updated since 2015.\n\nWhile we're at it, replace the dead blog link with an archived version.\n\nChange-Id: I460d10a44255097bbf0a943fdf4a939b458ec163\n""}]",0,883309,2d862b476c49410346e7d1a5d15d300638085785,2,1,1,15343,,,0,"docs: Drop admin guide references to inactive projects

Neither swift-informant nor statsdlog have been updated since 2015.

While we're at it, replace the dead blog link with an archived version.

Change-Id: I460d10a44255097bbf0a943fdf4a939b458ec163
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/883309/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/objectstorage-monitoring.rst'],1,2d862b476c49410346e7d1a5d15d300638085785,, This section was excerpted from a `blog post by Darrell Bishop <https://web.archive.org/web/20190721104553/https://www.swiftstack.com/blog/2012/04/11/swift-monitoring-with-statsd/>`_ and has since been edited.," This section was excerpted from a `blog post by Darrell Bishop <https://swiftstack.com/blog/2012/04/11/swift-monitoring-with-statsd>`_ and has since been edited.Swift-Informant ~~~~~~~~~~~~~~~ Swift-Informant middleware (see `swift-informant <https://github.com/pandemicsyn/swift-informant>`_) has real-time visibility into Object Storage client requests. It sits in the pipeline for the proxy server, and after each request to the proxy server it sends three meters to a ``StatsD`` server: - A counter increment for a meter like ``obj.GET.200`` or ``cont.PUT.404``. - Timing data for a meter like ``acct.GET.200`` or ``obj.GET.200``. [The README says the meters look like ``duration.acct.GET.200``, but I do not see the ``duration`` in the code. I am not sure what the Etsy server does but our StatsD server turns timing meters into five derivative meters with new segments appended, so it probably works as coded. The first meter turns into ``acct.GET.200.lower``, ``acct.GET.200.upper``, ``acct.GET.200.mean``, ``acct.GET.200.upper_90``, and ``acct.GET.200.count``]. - A counter increase by the bytes transferred for a meter like ``tfer.obj.PUT.201``. This is used for receiving information on the quality of service clients experience with the timing meters, as well as sensing the volume of the various modifications of a request server type, command, and response code. Swift-Informant requires no change to core Object Storage code because it is implemented as middleware. However, it gives no insight into the workings of the cluster past the proxy server. If the responsiveness of one storage node degrades, you can only see that some of the requests are bad, either as high latency or error status codes. Statsdlog ~~~~~~~~~ The `Statsdlog <https://github.com/pandemicsyn/statsdlog>`_ project increments StatsD counters based on logged events. Like Swift-Informant, it is also non-intrusive, however statsdlog can track events from all Object Storage daemons, not just proxy-server. The daemon listens to a UDP stream of syslog messages, and StatsD counters are incremented when a log line matches a regular expression. Meter names are mapped to regex match patterns in a JSON file, allowing flexible configuration of what meters are extracted from the log stream. Currently, only the first matching regex triggers a StatsD counter increment, and the counter is always incremented by one. There is no way to increment a counter by more than one or send timing data to StatsD based on the log line content. The tool could be extended to handle more meters for each line and data extraction, including timing data. But a coupling would still exist between the log textual format and the log parsing regexes, which would themselves be more complex to support multiple matches for each line and data extraction. Also, log processing introduces a delay between the triggering event and sending the data to StatsD. It would be preferable to increment error counters where they occur and send timing data as soon as it is known to avoid coupling between a log string and a parsing regex and prevent a time delay between events and sending data to StatsD. The next section describes another method for gathering Object Storage operational meters. ",3,66
openstack%2Fproject-config~master~I68e06bbfaf0b38582320f09659dfc462016eacf8,openstack/project-config,master,I68e06bbfaf0b38582320f09659dfc462016eacf8,Pin ansible-compat<4 until we upgrade ansible-lint,MERGED,2023-05-16 20:07:50.000000000,2023-05-16 21:05:51.000000000,2023-05-16 21:04:38.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 20:07:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f87307b86a33a3a8f2aa39b9096724f1542d27f8', 'message': ""Pin ansible-compat<4 until we upgrade ansible-lint\n\nThere was a regression introduced in ansible-compat v4 which stopped\nansible-lint from working. This was fixed in ansible-lint 6.16.0 but\nwe've pinned it for so long now that there are a lot of rule\nviolations to fix or mark for skipping. In the interim, pin back all\nnew versions of ansible-compat until someone has time to fix things\nor rip out ansible-lint entirely.\n\nChange-Id: I68e06bbfaf0b38582320f09659dfc462016eacf8\n""}]",0,883303,f87307b86a33a3a8f2aa39b9096724f1542d27f8,8,3,1,5263,,,0,"Pin ansible-compat<4 until we upgrade ansible-lint

There was a regression introduced in ansible-compat v4 which stopped
ansible-lint from working. This was fixed in ansible-lint 6.16.0 but
we've pinned it for so long now that there are a lot of rule
violations to fix or mark for skipping. In the interim, pin back all
new versions of ansible-compat until someone has time to fix things
or rip out ansible-lint entirely.

Change-Id: I68e06bbfaf0b38582320f09659dfc462016eacf8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/883303/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f87307b86a33a3a8f2aa39b9096724f1542d27f8,ansible-lint, # pin these two until someone has time to update all our skips to >=6.16 ansible-compat<4," # pin until https://github.com/ansible/ansible-lint/issues/2320 is fixed # avoid for https://github.com/ansible/ansible-compat/issues/258 ansible-compat!=4.0.1,!=4.0.2",2,3
openstack%2Fopenstack-ansible-os_manila~master~If3757269213246f3f54769e12bc93cdc50fe93e1,openstack/openstack-ansible-os_manila,master,If3757269213246f3f54769e12bc93cdc50fe93e1,"Don't install zlibc, it was removed from Debian",MERGED,2023-05-12 13:30:07.000000000,2023-05-16 19:50:48.000000000,2023-05-16 19:49:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-12 13:30:07.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/e29058b48e3d239d0b61ef2cff1b45c2e11794fc', 'message': ""Don't install zlibc, it was removed from Debian\n\nChange-Id: If3757269213246f3f54769e12bc93cdc50fe93e1\n""}]",0,883067,e29058b48e3d239d0b61ef2cff1b45c2e11794fc,8,3,1,819,,,0,"Don't install zlibc, it was removed from Debian

Change-Id: If3757269213246f3f54769e12bc93cdc50fe93e1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/67/883067/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,e29058b48e3d239d0b61ef2cff1b45c2e11794fc,dont-install-zlibc,, - zlibc,0,1
openstack%2Fswift-bench~master~I52b38ca4ccaec0b77d333a710e238300679cf86b,openstack/swift-bench,master,I52b38ca4ccaec0b77d333a710e238300679cf86b,py3: Fix distributed benchmarking,MERGED,2023-02-16 18:41:39.000000000,2023-05-16 19:47:01.000000000,2023-05-16 19:47:01.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34892}]","[{'number': 1, 'created': '2023-02-16 18:41:39.000000000', 'files': ['swiftbench/bench.py'], 'web_link': 'https://opendev.org/openstack/swift-bench/commit/23aba5291e45892d04e50be851ef183b25a17b86', 'message': 'py3: Fix distributed benchmarking\n\nChange-Id: I52b38ca4ccaec0b77d333a710e238300679cf86b\n'}]",1,874123,23aba5291e45892d04e50be851ef183b25a17b86,9,3,1,15343,,,0,"py3: Fix distributed benchmarking

Change-Id: I52b38ca4ccaec0b77d333a710e238300679cf86b
",git fetch https://review.opendev.org/openstack/swift-bench refs/changes/23/874123/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftbench/bench.py'],1,23aba5291e45892d04e50be851ef183b25a17b86,,"import ioimport six client_file = client.makefile('rwb', 1) if not six.PY2: client_file = io.TextIOWrapper(client_file) for k, v in result.items(): s.sendall(json.dumps(self.conf.__dict__).encode('ascii')) if not six.PY2: line = line.decode('ascii')"," client_file = client.makefile('rb+', 1) for k, v in result.iteritems(): s.sendall(json.dumps(self.conf.__dict__))",9,3
openstack%2Fcharm-rabbitmq-server~master~I1cb50ded8bbe27894f197fae3a7fe7c29c337f63,openstack/charm-rabbitmq-server,master,I1cb50ded8bbe27894f197fae3a7fe7c29c337f63,Typo Fix: chaged => changed,MERGED,2023-04-05 22:39:43.000000000,2023-05-16 19:43:41.000000000,2023-05-16 19:43:41.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-05 22:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/22883d23718704899ef1daa84d4192828542edec', 'message': 'Typo Fix: chaged => changed\n\nChanged missing an ""n"".\n\nChange-Id: I1cb50ded8bbe27894f197fae3a7fe7c29c337f63\n'}, {'number': 2, 'created': '2023-05-12 19:10:54.000000000', 'files': ['hooks/rabbitmq_server_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/58c2a1aa9304fafcd5bea5b271750a76e308e5db', 'message': 'Typo Fix: chaged => changed\n\nChanged missing an ""n"".\n\nChange-Id: I1cb50ded8bbe27894f197fae3a7fe7c29c337f63\n'}]",3,879710,58c2a1aa9304fafcd5bea5b271750a76e308e5db,14,3,2,35902,,,0,"Typo Fix: chaged => changed

Changed missing an ""n"".

Change-Id: I1cb50ded8bbe27894f197fae3a7fe7c29c337f63
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/10/879710/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbitmq_server_relations.py'],1,22883d23718704899ef1daa84d4192828542edec,typo-fix," """"""Run config-changed hook."," """"""Run config-chaged hook.",1,1
openstack%2Fnova~stable%2Fxena~I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8,openstack/nova,stable/xena,I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8,Use force=True for os-brick disconnect during delete,MERGED,2023-05-10 15:03:25.000000000,2023-05-16 19:35:16.000000000,2023-05-16 19:33:59.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 15:03:25.000000000', 'files': ['nova/virt/libvirt/volume/scaleio.py', 'doc/source/admin/configuration/index.rst', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/fibrechannel.py', 'doc/source/admin/configuration/cross-cell-resize.rst', 'nova/virt/libvirt/driver.py', 'doc/source/install/controller-install-obs.rst', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/volume/smbfs.py', 'doc/source/install/compute-install-ubuntu.rst', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/virt/libvirt/volume/storpool.py', 'nova/virt/libvirt/volume/nvme.py', 'doc/source/install/compute-install-rdo.rst', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'doc/source/admin/migrate-instance-with-snapshot.rst', 'nova/cmd/status.py', 'nova/virt/libvirt/volume/fs.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'doc/source/admin/support-compute.rst', 'doc/source/install/controller-install-ubuntu.rst', 'nova/virt/hyperv/volumeops.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/libvirt/volume/vzstorage.py', 'doc/source/admin/live-migration-usage.rst', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/virt/libvirt/volume/volume.py', 'releasenotes/notes/service-user-token-421d067c16257782.yaml', 'doc/source/admin/configuration/service-user-token.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b574901500d936488cdedf9fda90c4d36eeddd97', 'message': ""Use force=True for os-brick disconnect during delete\n\nThe 'force' parameter of os-brick's disconnect_volume() method allows\ncallers to ignore flushing errors and ensure that devices are being\nremoved from the host.\n\nWe should use force=True when we are going to delete an instance to\navoid leaving leftover devices connected to the compute host which\ncould then potentially be reused to map to volumes to an instance that\nshould not have access to those volumes.\n\nWe can use force=True even when disconnecting a volume that will not be\ndeleted on termination because os-brick will always attempt to flush\nand disconnect gracefully before forcefully removing devices.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/volume/test_lightos.py\n    nova/virt/libvirt/volume/lightos.py\n\nNOTE(melwitt): The conflicts are because change\nIc314b26695d9681d31a18adcec0794c2ff41fe71 (Lightbits LightOS driver) is\nnot in Xena.\n\nCloses-Bug: #2004555\n\nChange-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8\n(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)\n(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)\n(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)\n(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)\n""}]",4,882867,b574901500d936488cdedf9fda90c4d36eeddd97,15,3,1,4690,,,0,"Use force=True for os-brick disconnect during delete

The 'force' parameter of os-brick's disconnect_volume() method allows
callers to ignore flushing errors and ensure that devices are being
removed from the host.

We should use force=True when we are going to delete an instance to
avoid leaving leftover devices connected to the compute host which
could then potentially be reused to map to volumes to an instance that
should not have access to those volumes.

We can use force=True even when disconnecting a volume that will not be
deleted on termination because os-brick will always attempt to flush
and disconnect gracefully before forcefully removing devices.

Conflicts:
    nova/tests/unit/virt/libvirt/volume/test_lightos.py
    nova/virt/libvirt/volume/lightos.py

NOTE(melwitt): The conflicts are because change
Ic314b26695d9681d31a18adcec0794c2ff41fe71 (Lightbits LightOS driver) is
not in Xena.

Closes-Bug: #2004555

Change-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8
(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)
(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)
(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)
(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/882867/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/volume/scaleio.py', 'doc/source/admin/configuration/index.rst', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/fibrechannel.py', 'doc/source/admin/configuration/cross-cell-resize.rst', 'nova/virt/libvirt/driver.py', 'doc/source/install/controller-install-obs.rst', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/volume/smbfs.py', 'doc/source/install/compute-install-ubuntu.rst', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/virt/libvirt/volume/storpool.py', 'nova/virt/libvirt/volume/nvme.py', 'doc/source/install/compute-install-rdo.rst', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'doc/source/admin/migrate-instance-with-snapshot.rst', 'nova/cmd/status.py', 'nova/virt/libvirt/volume/fs.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'doc/source/admin/support-compute.rst', 'doc/source/install/controller-install-ubuntu.rst', 'nova/virt/hyperv/volumeops.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/libvirt/volume/vzstorage.py', 'doc/source/admin/live-migration-usage.rst', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/virt/libvirt/volume/volume.py', 'releasenotes/notes/service-user-token-421d067c16257782.yaml', 'doc/source/admin/configuration/service-user-token.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst']",37,b574901500d936488cdedf9fda90c4d36eeddd97,bug/2004555," * In the ``[service_user]`` section, configure :ref:`service user tokens <service_user_token>`: .. path /etc/nova/nova.conf .. code-block:: ini [service_user] send_service_user_token = true auth_url = https://controller/identity auth_strategy = keystone auth_type = password project_domain_name = Default project_name = service user_domain_name = Default username = nova password = NOVA_PASS Replace ``NOVA_PASS`` with the password you chose for the ``nova`` user in the Identity service. ",,402,110
openstack%2Fwhitebox-tempest-plugin~master~I4687cebc4779ebfaf07b843de10e1f85c41f5caa,openstack/whitebox-tempest-plugin,master,I4687cebc4779ebfaf07b843de10e1f85c41f5caa,DNM experimenting with enforce scope,NEW,2023-03-28 17:51:30.000000000,2023-05-16 19:05:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-28 17:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4111a1a75f154c4de0a6501a21be635dc5eb412e', 'message': 'DNM experimenting with enforce scope\n\nWondering what happens if we enable enforce scope\n\nChange-Id: I4687cebc4779ebfaf07b843de10e1f85c41f5caa\n'}, {'number': 2, 'created': '2023-05-04 13:00:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/48e64a2ecc478d026889b4557ac47e1b5dca3ec4', 'message': 'DNM experimenting with enforce scope\n\nWondering what happens if we enable enforce scope\n\nChange-Id: I4687cebc4779ebfaf07b843de10e1f85c41f5caa\n'}]",3,878793,48e64a2ecc478d026889b4557ac47e1b5dca3ec4,8,1,2,22873,,,0,"DNM experimenting with enforce scope

Wondering what happens if we enable enforce scope

Change-Id: I4687cebc4779ebfaf07b843de10e1f85c41f5caa
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/93/878793/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4111a1a75f154c4de0a6501a21be635dc5eb412e,, ENFORCE_SCOPE: true ENFORCE_SCOPE: true,,2,0
openstack%2Fhorizon~master~I0c463d205d4534f7b0cfcab00bec4b98cd429ae1,openstack/horizon,master,I0c463d205d4534f7b0cfcab00bec4b98cd429ae1,Bump XStatic package version to latest i.e. 1.0.3,MERGED,2023-05-12 05:58:36.000000000,2023-05-16 18:51:35.000000000,2023-05-16 18:50:35.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-12 05:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/38f9f52a4eb49e321c99b42a854e7966160df52b', 'message': 'mp XStatic package version to latest i.e. 1.0.3\n\nhorizon does not support setuptools 67.3.1 and it broke Kolla\nHorizon container builds. We recently cut a new release of Xstatic\n[1] which may fix this setuptools issue. So this patch bump the\nXstatic version to 1.0.3 to fix setuptools issue.\n\n[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c\n\nRelated-Bug: #2007574\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/882916\nChange-Id: I0c463d205d4534f7b0cfcab00bec4b98cd429ae1\n'}, {'number': 2, 'created': '2023-05-12 06:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e7295eb8ce22aac242c2520c6a5e630a71800b3d', 'message': 'Bump XStatic package version to latest i.e. 1.0.3\n\nhorizon does not support setuptools 67.3.1 and it broke Kolla\nHorizon container builds. We recently cut a new release of Xstatic\n[1] which may fix this setuptools issue. So this patch bump the\nXstatic version to 1.0.3 to fix setuptools issue.\n\n[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c\n\nRelated-Bug: #2007574\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/882916\nChange-Id: I0c463d205d4534f7b0cfcab00bec4b98cd429ae1\n'}, {'number': 3, 'created': '2023-05-16 09:36:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a13e01bc462718df5c52d460b489131eaaca5735', 'message': 'Bump XStatic package version to latest i.e. 1.0.3\n\nhorizon does not support setuptools 67.3.1 and it broke Kolla\nHorizon container builds. We recently cut a new release of Xstatic\n[1] which may fix this setuptools issue. So this patch bump the\nXstatic version to 1.0.3 to fix setuptools issue. XStatic package\nversion is also bumped in openstack/requirements[2].\n\n[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c\n[2] https://review.opendev.org/c/openstack/requirements/+/882916\nRelated-Bug: #2007574\n\nChange-Id: I0c463d205d4534f7b0cfcab00bec4b98cd429ae1\n'}]",5,883051,a13e01bc462718df5c52d460b489131eaaca5735,25,5,3,29313,,,0,"Bump XStatic package version to latest i.e. 1.0.3

horizon does not support setuptools 67.3.1 and it broke Kolla
Horizon container builds. We recently cut a new release of Xstatic
[1] which may fix this setuptools issue. So this patch bump the
Xstatic version to 1.0.3 to fix setuptools issue. XStatic package
version is also bumped in openstack/requirements[2].

[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c
[2] https://review.opendev.org/c/openstack/requirements/+/882916
Related-Bug: #2007574

Change-Id: I0c463d205d4534f7b0cfcab00bec4b98cd429ae1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/883051/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,38f9f52a4eb49e321c99b42a854e7966160df52b,bug/2007574,XStatic>=1.0.3 # MIT License,XStatic>=1.0.0 # MIT License,1,1
openstack%2Foctavia~master~I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef,openstack/octavia,master,I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef,Splitting scenario jobs in 2,MERGED,2023-05-15 06:57:07.000000000,2023-05-16 18:39:12.000000000,2023-05-16 18:37:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-15 06:57:07.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/80d316f5cbcff63cb880fc294f4e1ad39973189f', 'message': 'Splitting scenario jobs in 2\n\nSplitting octavia-v2-dsvm-scenario and octavia-v2-dsvm-scenario-jobboard\nin 2 jobs.\nIt would reduce the duration of the jobs and avoid potential timeouts on\nslow hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/882807\nChange-Id: I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef\n'}]",1,883131,80d316f5cbcff63cb880fc294f4e1ad39973189f,9,4,1,29244,,,0,"Splitting scenario jobs in 2

Splitting octavia-v2-dsvm-scenario and octavia-v2-dsvm-scenario-jobboard
in 2 jobs.
It would reduce the duration of the jobs and avoid potential timeouts on
slow hosts.

Depends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/882807
Change-Id: I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef
",git fetch https://review.opendev.org/openstack/octavia refs/changes/31/883131/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,80d316f5cbcff63cb880fc294f4e1ad39973189f,,- job: name: octavia-v2-dsvm-scenario-traffic-ops-jobboard parent: octavia-v2-dsvm-scenario-traffic-ops vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD: True - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-jobboard parent: octavia-v2-dsvm-scenario-non-traffic-ops vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD: True ,,20,2
openstack%2Fkeystonemiddleware~master~I86c22fa4dcba64aaa518832fa6e07cc31811d56a,openstack/keystonemiddleware,master,I86c22fa4dcba64aaa518832fa6e07cc31811d56a,Add timeout for requests,ABANDONED,2023-05-16 18:25:37.000000000,2023-05-16 18:28:08.000000000,,[],"[{'number': 1, 'created': '2023-05-16 18:25:37.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f57a67739586daa37fd223baca5778fc780caa5a', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\nChange-Id: I86c22fa4dcba64aaa518832fa6e07cc31811d56a\n""}]",0,883297,f57a67739586daa37fd223baca5778fc780caa5a,2,0,1,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
Change-Id: I86c22fa4dcba64aaa518832fa6e07cc31811d56a
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/97/883297/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py']",3,f57a67739586daa37fd223baca5778fc780caa5a,877808-stable/victoria,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),31,16
openstack%2Foctavia~master~I0b03bcde50fff283819ea912738142bddee08a87,openstack/octavia,master,I0b03bcde50fff283819ea912738142bddee08a87,Add DPDK vhost user mode support,NEW,2023-05-05 12:44:45.000000000,2023-05-16 18:22:34.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-05 12:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c34484d3d9ac3e1b108c68977a0847490f77f397', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}, {'number': 2, 'created': '2023-05-05 12:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9cf24137650145874c7b01fe937c45c04b681ee', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}, {'number': 3, 'created': '2023-05-10 12:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9d3a79a2eadf57466dc00b7a82a34e5b225488b', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}, {'number': 4, 'created': '2023-05-16 15:45:21.000000000', 'files': ['octavia/common/constants.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0df440adbe75203b299702c3d2d87296b70b981', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}]",9,882439,b0df440adbe75203b299702c3d2d87296b70b981,12,3,4,34429,,,0,"Add DPDK vhost user mode support

Change-Id: I0b03bcde50fff283819ea912738142bddee08a87
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/882439/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",2,c34484d3d9ac3e1b108c68977a0847490f77f397,dpdk-amps," admin_state_up=True, qos_policy_id=None, dpdk: bool = False): if dpdk: # FIXME: use constants # Create a DPDK vNIC that allows direct access to the physical # NIC in order to improve performance port['vnic_type'] = constants.DIRECT port['vif_type'] = 'vhostuser' port[constants.BINDING_PROFILE] = { constants.CAPABILITIES: [ # Switchdev mode is a Linux networking driver model # that offloads network functions, such as packet # processing and filtering, to the hardware # switch ASIC. {constants.SWITCHDEV: True}, # 'server' mode is used by the application that # receives the network traffic. {constants.VHOST_USER_MODE: constants.SERVER}, # The vhost user socket is used to exchange network # packets between the DPDK application and the Linux # kernel. # FIXME: socket path {constants.VHOST_USER_SOCKET: '/tmp/vhu.sock'}, ], } port[constants.PORT_SECURITY_ENABLED] = False"," admin_state_up=True, qos_policy_id=None):",38,1
openstack%2Foctavia-tempest-plugin~master~Ib8af2af6696b27879eb923793959837646469905,openstack/octavia-tempest-plugin,master,Ib8af2af6696b27879eb923793959837646469905,Splitting scenario jobs in 2 jobs,MERGED,2023-05-10 07:40:56.000000000,2023-05-16 18:10:59.000000000,2023-05-16 18:09:17.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 31664}, {'_account_id': 34429}, {'_account_id': 34451}]","[{'number': 1, 'created': '2023-05-10 07:40:56.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b9af9163cb7a5277e4c72dc1becb563148f7fa1b', 'message': 'Splitting scenario jobs in 2 jobs\n\nEach scenario job is splitted in scenario-traffic-ops and\nscenario-non-traffic-ops jobs to avoid possible TIMEOUT in the CI.\n\nChange-Id: Ib8af2af6696b27879eb923793959837646469905\n'}]",3,882807,b9af9163cb7a5277e4c72dc1becb563148f7fa1b,11,5,1,29244,,,0,"Splitting scenario jobs in 2 jobs

Each scenario job is splitted in scenario-traffic-ops and
scenario-non-traffic-ops jobs to avoid possible TIMEOUT in the CI.

Change-Id: Ib8af2af6696b27879eb923793959837646469905
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/07/882807/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,b9af9163cb7a5277e4c72dc1becb563148f7fa1b,, name: octavia-v2-dsvm-scenario-traffic-ops parent: octavia-v2-dsvm-scenario vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.*traffic_ops - job: name: octavia-v2-dsvm-scenario-non-traffic-ops parent: octavia-v2-dsvm-scenario vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.(?!.*traffic_ops) - job: name: octavia-v2-dsvm-scenario-traffic-ops-stable-yoga parent: octavia-v2-dsvm-scenario-stable-yoga vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.*traffic_ops - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-stable-yoga parent: octavia-v2-dsvm-scenario-stable-yoga vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.(?!.*traffic_ops) - job: name: octavia-v2-dsvm-scenario-traffic-ops-stable-xena parent: octavia-v2-dsvm-scenario-stable-xena vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.*traffic_ops - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-stable-xena parent: octavia-v2-dsvm-scenario-stable-xena vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.(?!.*traffic_ops) - job:- job: name: octavia-v2-dsvm-scenario-traffic-ops-stable-wallaby parent: octavia-v2-dsvm-scenario-stable-wallaby vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.*traffic_ops - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-stable-wallaby parent: octavia-v2-dsvm-scenario-stable-wallaby vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.(?!.*traffic_ops) ,,65,8
openstack%2Fkeystone~master~I903db2fd2ac810ec96dbd25fc6529752c08f9a79,openstack/keystone,master,I903db2fd2ac810ec96dbd25fc6529752c08f9a79,[PooledLDAPHandler] Clean up the fix for result3(),MERGED,2023-03-22 03:59:16.000000000,2023-05-16 18:08:58.000000000,2023-05-16 18:07:44.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 34980}]","[{'number': 1, 'created': '2023-03-22 03:59:16.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/42e2f985b246aa11de914bf5a8f0dc7f6836f501', 'message': '[PooledLDAPHandler] Clean up the fix for result3()\n\nAn empty exception clause is unnecessary when you\'re using\na ""finally"" clause.\n\nPrevious-Change-Id: I59ebf0fa77391d49b2349e918fc55f96318c42a6\nChange-Id: I903db2fd2ac810ec96dbd25fc6529752c08f9a79\n'}]",1,878187,42e2f985b246aa11de914bf5a8f0dc7f6836f501,18,7,1,597,,,0,"[PooledLDAPHandler] Clean up the fix for result3()

An empty exception clause is unnecessary when you're using
a ""finally"" clause.

Previous-Change-Id: I59ebf0fa77391d49b2349e918fc55f96318c42a6
Change-Id: I903db2fd2ac810ec96dbd25fc6529752c08f9a79
",git fetch https://review.opendev.org/openstack/keystone refs/changes/87/878187/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,42e2f985b246aa11de914bf5a8f0dc7f6836f501,bug1998789-fixup,," except Exception: # We don't want to ignore thrown # exceptions, raise them raise",0,4
openstack%2Fnova~stable%2F2023.1~Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed,openstack/nova,stable/2023.1,Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed,Fix get_segments_id with subnets without segment_id,MERGED,2023-05-04 13:38:10.000000000,2023-05-16 18:08:48.000000000,2023-05-16 18:07:39.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-04 13:38:10.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b8d9d419170fb0ec2c6df561a0874e6362382c1', 'message': 'Fix get_segments_id with subnets without segment_id\n\nUnfortunatly when we merged Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a we\nforgot that subnets can have no segment_id field.\n\nChange-Id: Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed\nCloses-Bug: #2018375\n(cherry picked from commit 6d7bd6a03446d5227d515b2b4c0da632ef4aa4a1)\n'}]",4,882293,6b8d9d419170fb0ec2c6df561a0874e6362382c1,19,4,1,7166,,,0,"Fix get_segments_id with subnets without segment_id

Unfortunatly when we merged Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a we
forgot that subnets can have no segment_id field.

Change-Id: Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed
Closes-Bug: #2018375
(cherry picked from commit 6d7bd6a03446d5227d515b2b4c0da632ef4aa4a1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/882293/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,6b8d9d419170fb0ec2c6df561a0874e6362382c1,bug/2018375, if subnet.get('segment_id') is not None], if subnet['segment_id'] is not None],18,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I701e5246723edaf80607f4befe13a7f65ee57632,openstack/tripleo-heat-templates,stable/wallaby,I701e5246723edaf80607f4befe13a7f65ee57632,[S-RBAC] Fix policy for neutron's get_rule_type API call,MERGED,2023-05-16 07:52:08.000000000,2023-05-16 17:39:45.000000000,2023-05-16 17:39:45.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 19118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 07:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72f20dec29e53070c82c990f17aec2f288a3a04a', 'message': ""[S-RBAC] Fix policy for neutron's get_rule_type API call\n\nThis call should be available for everyone, not only ADMIN users.\nIt was fixed in u/s neutron with [1] and this patch just reflects that\nchange.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/882414\n\nRelated: rhbz#2193344\n\nChange-Id: I701e5246723edaf80607f4befe13a7f65ee57632\n""}, {'number': 2, 'created': '2023-05-16 07:52:25.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/611dc63ada47fb35891653837fcad44c17794d35', 'message': ""[S-RBAC] Fix policy for neutron's get_rule_type API call\n\nThis call should be available for everyone, not only ADMIN users.\nIt was fixed in u/s neutron with [1] and this patch just reflects that\nchange.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/882414\n\nRelated: rhbz#2193344\n\nChange-Id: I701e5246723edaf80607f4befe13a7f65ee57632\n""}]",0,883233,611dc63ada47fb35891653837fcad44c17794d35,9,4,2,11975,,,0,"[S-RBAC] Fix policy for neutron's get_rule_type API call

This call should be available for everyone, not only ADMIN users.
It was fixed in u/s neutron with [1] and this patch just reflects that
change.

[1] https://review.opendev.org/c/openstack/neutron/+/882414

Related: rhbz#2193344

Change-Id: I701e5246723edaf80607f4befe13a7f65ee57632
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/883233/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,72f20dec29e53070c82c990f17aec2f288a3a04a,bz/2193344," value: ""role:reader"""," value: ""rule:admin_api or (role:reader and project_id:%(project_id)s)""",1,1
openstack%2Fpython-glanceclient~master~I1d8c69acd5d61fdc426469cd87d1ace81871e60f,openstack/python-glanceclient,master,I1d8c69acd5d61fdc426469cd87d1ace81871e60f,do_image_import: fix argument retrieval,MERGED,2023-04-18 01:31:13.000000000,2023-05-16 17:26:22.000000000,2023-05-16 17:25:30.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 01:31:13.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/e2190c4feb7b237c55a5d7df49e0db340a9d342f', 'message': 'do_image_import: fix argument retrieval\n\nThe argparse module automatically replaces \'-\' characters with \'_\'\ncharacters when converting an option string to an attribute:\n\nFor optional argument actions, the value of dest is normally inferred\nfrom the option strings. ArgumentParser generates the value of dest by\ntaking the first long option string and stripping away the initial --\nstring. If no long option strings were supplied, dest will be derived\nfrom the first short option string by stripping the initial - character.\nAny internal - characters will be converted to _ characters to make sure\nthe string is a valid attribute name.[1]\n\nThis means that the value of the ""--remote-region"" option of the\n""image-import"" command will be available as ""args.remote_region"";\n""remote-region"" would not be a valid attribute anyway.\n\nWe make sure to retrieve the proper value for the following\noptions:\xa0--remote-region, --remote-image-id and\n--remote-service-interface.\n\n[1] https://docs.python.org/3/library/argparse.html#dest\n\nChange-Id: I1d8c69acd5d61fdc426469cd87d1ace81871e60f\nPartial-Bug: #2012442\n'}]",3,880696,e2190c4feb7b237c55a5d7df49e0db340a9d342f,12,3,1,8122,,,0,"do_image_import: fix argument retrieval

The argparse module automatically replaces '-' characters with '_'
characters when converting an option string to an attribute:

For optional argument actions, the value of dest is normally inferred
from the option strings. ArgumentParser generates the value of dest by
taking the first long option string and stripping away the initial --
string. If no long option strings were supplied, dest will be derived
from the first short option string by stripping the initial - character.
Any internal - characters will be converted to _ characters to make sure
the string is a valid attribute name.[1]

This means that the value of the ""--remote-region"" option of the
""image-import"" command will be available as ""args.remote_region"";
""remote-region"" would not be a valid attribute anyway.

We make sure to retrieve the proper value for the following
options:--remote-region, --remote-image-id and
--remote-service-interface.

[1] https://docs.python.org/3/library/argparse.html#dest

Change-Id: I1d8c69acd5d61fdc426469cd87d1ace81871e60f
Partial-Bug: #2012442
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/96/880696/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py']",2,e2190c4feb7b237c55a5d7df49e0db340a9d342f,bug/2012442," remote_region = getattr(args, ""remote_region"", None) remote_image_id = getattr(args, ""remote_image_id"", None) remote_service_interface = getattr(args, ""remote_service_interface"", None)"," remote_region = getattr(args, ""remote-region"", None) remote_image_id = getattr(args, ""remote-image-id"", None) remote_service_interface = getattr(args, ""remote-service-interface"", None)",6,6
openstack%2Fheat~stable%2Fvictoria~Ie552e6398c10797e4df4afe757760c48ca7f80af,openstack/heat,stable/victoria,Ie552e6398c10797e4df4afe757760c48ca7f80af,stable-only: Pin bandit to 1.7.4 to fix the gate,MERGED,2023-03-29 14:05:28.000000000,2023-05-16 17:07:14.000000000,2023-05-16 17:06:06.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 14:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0f25564994af4aede8db8b69eca6057fc6d1daa8', 'message': 'stable-only: Pin bandit to 1.7.4\n\nbandit 1.7.5 introduced the new lint rule with which current heat code\nis not compliant. This pins bandit so that any new lint rule does not\naffect pep8 job in stable branches.\n\nBackport note:\nThis also makes the broken grenade job non-voting to unblock CI.\n\nChange-Id: Ie552e6398c10797e4df4afe757760c48ca7f80af\n(cherry picked from commit 6a4c7b57b8383bef4a02fb485e781c4cbb2a03d8)\n(cherry picked from commit 66bba4ad21d0e405dfd209e2216a3173cda58dda)\n(cherry picked from commit 487fadf5c754e522b3edd02d7a2ec08223399cad)\n(cherry picked from commit f54abaed083083f2de7119ffa28fdaf20bb9c309)\n(cherry picked from commit 509eb8054c513648722abf8a42e8a173b575fa94)\n'}, {'number': 2, 'created': '2023-05-04 11:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d5943f66163279c1a461b8c7eff5fcabe84233ad', 'message': 'stable-only: Pin bandit to 1.7.4 to fix the gate\n\nbandit 1.7.5 introduced the new lint rule with which current heat code\nis not compliant. This pins bandit so that any new lint rule does not\naffect pep8 job in stable branches.\n\nNOTE(elod.illes): this patch was squashed into another gate fixing\npatch and backported all the way back to stable/wallaby, but those\nare not necessary here in victoria. Gate should pass without those.\n\nChange-Id: Ie552e6398c10797e4df4afe757760c48ca7f80af\n(cherry picked from commit 6a4c7b57b8383bef4a02fb485e781c4cbb2a03d8)\n(cherry picked from commit 66bba4ad21d0e405dfd209e2216a3173cda58dda)\n(cherry picked from commit 487fadf5c754e522b3edd02d7a2ec08223399cad)\n(cherry picked from commit f54abaed083083f2de7119ffa28fdaf20bb9c309)\n(cherry picked from commit 509eb8054c513648722abf8a42e8a173b575fa94)\n'}, {'number': 3, 'created': '2023-05-16 04:34:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/400b73a32aca8783e9ae93afd7ea83cb7d4aeb20', 'message': 'stable-only: Pin bandit to 1.7.4 to fix the gate\n\nbandit 1.7.5 introduced the new lint rule with which current heat code\nis not compliant. This pins bandit so that any new lint rule does not\naffect pep8 job in stable branches.\n\nNOTE(elod.illes): this patch was squashed into another gate fixing\npatch and backported all the way back to stable/wallaby, but those\nare not necessary here in victoria. Gate should pass without those.\nSo this fix is directly backported from yoga.\n\nChange-Id: Ie552e6398c10797e4df4afe757760c48ca7f80af\n(cherry picked from commit 6a4c7b57b8383bef4a02fb485e781c4cbb2a03d8)\n(cherry picked from commit 66bba4ad21d0e405dfd209e2216a3173cda58dda)\n(cherry picked from commit 487fadf5c754e522b3edd02d7a2ec08223399cad)\n'}]",4,878908,400b73a32aca8783e9ae93afd7ea83cb7d4aeb20,16,3,3,9816,,,0,"stable-only: Pin bandit to 1.7.4 to fix the gate

bandit 1.7.5 introduced the new lint rule with which current heat code
is not compliant. This pins bandit so that any new lint rule does not
affect pep8 job in stable branches.

NOTE(elod.illes): this patch was squashed into another gate fixing
patch and backported all the way back to stable/wallaby, but those
are not necessary here in victoria. Gate should pass without those.
So this fix is directly backported from yoga.

Change-Id: Ie552e6398c10797e4df4afe757760c48ca7f80af
(cherry picked from commit 6a4c7b57b8383bef4a02fb485e781c4cbb2a03d8)
(cherry picked from commit 66bba4ad21d0e405dfd209e2216a3173cda58dda)
(cherry picked from commit 487fadf5c754e522b3edd02d7a2ec08223399cad)
",git fetch https://review.opendev.org/openstack/heat refs/changes/08/878908/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml']",2,0f25564994af4aede8db8b69eca6057fc6d1daa8,, voting: false,,2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I88e816edf2c443ebeeebc70ff5359e4435ae4c2b,openstack/tripleo-heat-templates,stable/wallaby,I88e816edf2c443ebeeebc70ff5359e4435ae4c2b,Update Neutron's QoS Secure RBAC policies,MERGED,2023-05-10 10:29:09.000000000,2023-05-16 17:04:52.000000000,2023-05-16 17:04:52.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 10:29:09.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86f453c29d58e8562dadd68dd8579f0e77be9f07', 'message': ""Update Neutron's QoS Secure RBAC policies\n\nThis patch updates policies for get qos rules API in Neutron.\nThose APIs needs to be available for the user with reader role and owner\nof the qos policy, as qos rules don't have project id field at all.\n\nThis patch reflects upstream neutron change which is done in [1].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/882688\n\nCloses: rhbz#2196291\nChange-Id: I88e816edf2c443ebeeebc70ff5359e4435ae4c2b\n""}]",1,882817,86f453c29d58e8562dadd68dd8579f0e77be9f07,9,3,1,11975,,,0,"Update Neutron's QoS Secure RBAC policies

This patch updates policies for get qos rules API in Neutron.
Those APIs needs to be available for the user with reader role and owner
of the qos policy, as qos rules don't have project id field at all.

This patch reflects upstream neutron change which is done in [1].

[1] https://review.opendev.org/c/openstack/neutron/+/882688

Closes: rhbz#2196291
Change-Id: I88e816edf2c443ebeeebc70ff5359e4435ae4c2b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/882817/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,86f453c29d58e8562dadd68dd8579f0e77be9f07,bz/2196291," value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"""," value: ""rule:admin_api or (role:reader and project_id:%(project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(project_id)s)""",3,3
openstack%2Fglance_store~stable%2Fyoga~Ic8bc4d7ae7e38eca65be01184add7ae1ca377a22,openstack/glance_store,stable/yoga,Ic8bc4d7ae7e38eca65be01184add7ae1ca377a22,Update 'extras' for cinder driver,MERGED,2023-05-11 00:18:21.000000000,2023-05-16 17:00:21.000000000,2023-05-16 16:59:24.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 00:18:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/712eb6df3b79009b49c0cf075675d75f14281914', 'message': ""Update 'extras' for cinder driver\n\nRaise the min version of os-brick to include the fix for\nCVE-2023-2088.\n\nChange-Id: Ic8bc4d7ae7e38eca65be01184add7ae1ca377a22\nRelated-bug: #2004555\n""}]",1,882908,712eb6df3b79009b49c0cf075675d75f14281914,10,3,1,5314,,,0,"Update 'extras' for cinder driver

Raise the min version of os-brick to include the fix for
CVE-2023-2088.

Change-Id: Ic8bc4d7ae7e38eca65be01184add7ae1ca377a22
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/08/882908/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,712eb6df3b79009b49c0cf075675d75f14281914,bug/2004555, os-brick>=5.2.3 # Apache-2.0, os-brick>=2.6.0 # Apache-2.0,1,1
openstack%2Fopenstackdocstheme~master~I9fd6771f11297f35a868be00e0abedf449cc4aa2,openstack/openstackdocstheme,master,I9fd6771f11297f35a868be00e0abedf449cc4aa2,Remove 'type' attribute of <script> element,MERGED,2023-05-10 16:24:05.000000000,2023-05-16 16:59:58.000000000,2023-05-16 16:57:55.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 16:24:05.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/search.html', 'openstackdocstheme/theme/openstackdocs/script_search.html', 'openstackdocstheme/theme/openstackdocs/layout.html', 'openstackdocstheme/theme/openstackdocs/script_footer.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/b301ee75bf54b9a5b8010bbe344170d5992f1abd', 'message': ""Remove 'type' attribute of <script> element\n\nThis is obsolete.\n\nChange-Id: I9fd6771f11297f35a868be00e0abedf449cc4aa2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,882883,b301ee75bf54b9a5b8010bbe344170d5992f1abd,7,2,1,15334,,,0,"Remove 'type' attribute of <script> element

This is obsolete.

Change-Id: I9fd6771f11297f35a868be00e0abedf449cc4aa2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/83/882883/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/search.html', 'openstackdocstheme/theme/openstackdocs/script_search.html', 'openstackdocstheme/theme/openstackdocs/layout.html', 'openstackdocstheme/theme/openstackdocs/script_footer.html']",4,b301ee75bf54b9a5b8010bbe344170d5992f1abd,html-errors,"<script src=""{{pathto('_static/js/jquery-3.2.1.min.js', 1)}}""></script><script src=""{{pathto('_static/js/bootstrap.min.js', 1)}}""></script><script src=""{{pathto('_static/js/navigation.js', 1)}}""></script><script src=""{{pathto('_static/js/docs.js', 1)}}""></script><script src=""{{pathto('_static/underscore.js', 1)}}""></script> <script src=""{{pathto('_static/doctools.js', 1)}}""></script> <script src=""{{pathto('_static/searchtools.js', 1)}}""></script> <script src=""{{ pathto('_static/language_data.js', 1) }}""></script> <script><script>","<script type=""text/javascript"" src=""{{pathto('_static/js/jquery-3.2.1.min.js', 1)}}""></script><script type=""text/javascript"" src=""{{pathto('_static/js/bootstrap.min.js', 1)}}""></script><script type=""text/javascript"" src=""{{pathto('_static/js/navigation.js', 1)}}""></script><script type=""text/javascript"" src=""{{pathto('_static/js/docs.js', 1)}}""></script><script type=""text/javascript"" src=""{{pathto('_static/underscore.js', 1)}}""></script> <script type=""text/javascript"" src=""{{pathto('_static/doctools.js', 1)}}""></script> <script type=""text/javascript"" src=""{{pathto('_static/searchtools.js', 1)}}""></script> <script type=""text/javascript"" src=""{{ pathto('_static/language_data.js', 1) }}""></script> <script type=""text/javascript""><script language=""JavaScript"">",17,18
openstack%2Fglance_store~stable%2Fzed~I6c55fc943d26a8a0fdffc028b123ef4e6ff68cb2,openstack/glance_store,stable/zed,I6c55fc943d26a8a0fdffc028b123ef4e6ff68cb2,Update 'extras' for cinder driver,MERGED,2023-05-11 00:15:51.000000000,2023-05-16 16:59:57.000000000,2023-05-16 16:58:56.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 29268}]","[{'number': 1, 'created': '2023-05-11 00:15:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/02ab740fbf2a2fb12d2459b4e52e0200aa5e8f20', 'message': ""Update 'extras' for cinder driver\n\nRaise the min version of os-brick to include the fix for\nCVE-2023-2088.\n\nChange-Id: I6c55fc943d26a8a0fdffc028b123ef4e6ff68cb2\nRelated-bug: #2004555\n""}]",1,882907,02ab740fbf2a2fb12d2459b4e52e0200aa5e8f20,9,4,1,5314,,,0,"Update 'extras' for cinder driver

Raise the min version of os-brick to include the fix for
CVE-2023-2088.

Change-Id: I6c55fc943d26a8a0fdffc028b123ef4e6ff68cb2
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/07/882907/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,02ab740fbf2a2fb12d2459b4e52e0200aa5e8f20,bug/2004555, os-brick>=6.1.1 # Apache-2.0, os-brick>=2.6.0 # Apache-2.0,1,1
openstack%2Fglance_store~stable%2F2023.1~I4433df9414129ab2acec772791e05a17e3bf78ed,openstack/glance_store,stable/2023.1,I4433df9414129ab2acec772791e05a17e3bf78ed,Update 'extras' for cinder driver,MERGED,2023-05-10 19:52:55.000000000,2023-05-16 16:59:38.000000000,2023-05-16 16:58:33.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 19:52:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4f4de2348f38a623523c37c31c91fdcf18bbcbf6', 'message': ""Update 'extras' for cinder driver\n\nRaise the min version of os-brick to include the fix for\nCVE-2023-2088.\n\nChange-Id: I4433df9414129ab2acec772791e05a17e3bf78ed\nRelated-bug: #2004555\n""}]",5,882892,4f4de2348f38a623523c37c31c91fdcf18bbcbf6,15,3,1,5314,,,0,"Update 'extras' for cinder driver

Raise the min version of os-brick to include the fix for
CVE-2023-2088.

Change-Id: I4433df9414129ab2acec772791e05a17e3bf78ed
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/92/882892/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4f4de2348f38a623523c37c31c91fdcf18bbcbf6,bug/2004555, os-brick>=6.2.2 # Apache-2.0, os-brick>=2.6.0 # Apache-2.0,1,1
openstack%2Fopenstackdocstheme~master~I3e15062b0f0306fbdc2ef82376a07e2b6943aeda,openstack/openstackdocstheme,master,I3e15062b0f0306fbdc2ef82376a07e2b6943aeda,Remove invalid attributes,MERGED,2023-05-10 16:24:05.000000000,2023-05-16 16:59:08.000000000,2023-05-16 16:57:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 16:24:05.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/sidebartoc_menu_apiref.html', 'openstackdocstheme/theme/openstackdocs/sidebartoc_menu.html', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu_apiref.html', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/88b610f0029f94201bcbe764f8d2772518471fea', 'message': ""Remove invalid attributes\n\nThe 'href' attribute is not valid for a <button> element, while the\n'aria-labelledby' attribute must point to a valid element. It does not.\n\nWhile we're here, we also fix indentation.\n\nChange-Id: I3e15062b0f0306fbdc2ef82376a07e2b6943aeda\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,882882,88b610f0029f94201bcbe764f8d2772518471fea,7,2,1,15334,,,0,"Remove invalid attributes

The 'href' attribute is not valid for a <button> element, while the
'aria-labelledby' attribute must point to a valid element. It does not.

While we're here, we also fix indentation.

Change-Id: I3e15062b0f0306fbdc2ef82376a07e2b6943aeda
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/82/882882/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/sidebartoc_menu_apiref.html', 'openstackdocstheme/theme/openstackdocs/sidebartoc_menu.html', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu_apiref.html', 'openstackdocstheme/theme/starlingxdocs/sidebartoc_menu.html']",4,88b610f0029f94201bcbe764f8d2772518471fea,html-errors,"<button type=""button"" data-toggle=""dropdown"" class=""btn docs-sidebar-release-select"">StarlingX Documentation<i class=""fa fa-caret-down""></i></button> <ul class=""dropdown-menu docs-sidebar-dropdown"" role=""menu""> <li role=""presentation"" class=""dropdown-header"">Guides</li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://docs.starlingx.io"">Install Guides</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://docs.starlingx.io/api-ref/"">API Guides</a></li> </ul>","<button href=""#"" type=""button"" data-toggle=""dropdown"" class=""btn docs-sidebar-release-select"">StarlingX Documentation<i class=""fa fa-caret-down""></i></button> <ul class=""dropdown-menu docs-sidebar-dropdown"" role=""menu"" aria-labelledby=""dLabel""> <li role=""presentation"" class=""dropdown-header"">Guides</li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://docs.starlingx.io"">Install Guides</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://docs.starlingx.io/api-ref/"">API Guides</a></li> </ul>",76,76
openstack%2Fopenstackdocstheme~master~I9920b63d7dda2051ecfd4865cab4187533f70c07,openstack/openstackdocstheme,master,I9920b63d7dda2051ecfd4865cab4187533f70c07,Remove nested 'li',MERGED,2023-05-10 16:24:05.000000000,2023-05-16 16:57:56.000000000,2023-05-16 16:56:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 16:24:05.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/header.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/65fb860eeea4ca7997d229db8decd7870f8415c2', 'message': 'Remove nested \'li\'\n\nA <li> HTML element ""must be contained in a parent element: an ordered\nlist (<ol>), an unordered list (<ul>), or a menu (<menu>)."" [1]\n\n[1] https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li\n\nChange-Id: I9920b63d7dda2051ecfd4865cab4187533f70c07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,882880,65fb860eeea4ca7997d229db8decd7870f8415c2,7,2,1,15334,,,0,"Remove nested 'li'

A <li> HTML element ""must be contained in a parent element: an ordered
list (<ol>), an unordered list (<ul>), or a menu (<menu>)."" [1]

[1] https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li

Change-Id: I9920b63d7dda2051ecfd4865cab4187533f70c07
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/80/882880/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/openstackdocs/header.html'],1,65fb860eeea4ca7997d229db8decd7870f8415c2,html-errors,"{% include 'os_search.html' %}{% include 'os_search_mobile.html' %} <li class=""join-nav-section""> <!-- Join --> <a href=""https://openinfra.dev/join/"" id=""dropdownMenuJoin"">Join <i class=""fa fa-caret-down""></i></a> <ul class=""dropdown-menu dropdown-hover"" role=""menu"" aria-labelledby=""dropdownMenuJoin"" style=""display: none;""> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Sign up for Foundation Membership</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Sponsor the Foundation</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev"">More about the Foundation</a></li> </ul> </li> <li> <!-- Login --> <a href=""{{osf_base_url}}/Security/login/?BackURL=/home/"" class=""sign-in-btn"">Log In</a>"," {% include 'os_search.html' %} {% include 'os_search_mobile.html' %} <li> <!-- Join --> <li class=""join-nav-section""> <a href=""https://openinfra.dev/join/"" id=""dropdownMenuJoin"">Join <i class=""fa fa-caret-down""></i></a> <ul class=""dropdown-menu dropdown-hover"" role=""menu"" aria-labelledby=""dropdownMenuJoin"" style=""display: none;""> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Sign up for Foundation Membership</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev/join/"">Sponsor the Foundation</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://openinfra.dev"">More about the Foundation</a></li> </ul> </li> <li> <a href=""{{osf_base_url}}/Security/login/?BackURL=/home/"" class=""sign-in-btn"">Log In</a> </li>",12,14
openstack%2Fopenstackdocstheme~master~I3bb4bf55c4a4f7d220e2d09cdaee146fac5a9da5,openstack/openstackdocstheme,master,I3bb4bf55c4a4f7d220e2d09cdaee146fac5a9da5,Remove errant character,MERGED,2023-05-10 16:24:05.000000000,2023-05-16 16:57:00.000000000,2023-05-16 16:57:00.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 16:24:05.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/footer.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/7a6d3e8ebccc16de6e22c16fba1857f4f3125541', 'message': 'Remove errant character\n\nErroneously introduced in commit 403c9bca.\n\nChange-Id: I3bb4bf55c4a4f7d220e2d09cdaee146fac5a9da5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,882881,7a6d3e8ebccc16de6e22c16fba1857f4f3125541,6,2,1,15334,,,0,"Remove errant character

Erroneously introduced in commit 403c9bca.

Change-Id: I3bb4bf55c4a4f7d220e2d09cdaee146fac5a9da5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/81/882881/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/theme/openstackdocs/footer.html'],1,7a6d3e8ebccc16de6e22c16fba1857f4f3125541,html-errors," <li><a href=""https://openstack.org/blog/"">Blog</a></li>"," <li><a href=""https://openstack.org/blog/"">Blog</a></li>g",1,1
openstack%2Fopenstackdocstheme~master~I5120549758f4e5cd619a0cf8f461996ede3a724d,openstack/openstackdocstheme,master,I5120549758f4e5cd619a0cf8f461996ede3a724d,Replace ampersand with HTML characters,MERGED,2023-05-09 15:13:14.000000000,2023-05-16 16:51:44.000000000,2023-05-16 16:50:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 15:13:14.000000000', 'files': ['openstackdocstheme/theme/openstackdocs/footer.html', 'openstackdocstheme/theme/starlingxdocs/footer.html', 'openstackdocstheme/theme/openstackdocs/header.html'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/9bfd0a43baee7f904a706d20058022f678bd863a', 'message': 'Replace ampersand with HTML characters\n\nThis is currently invalid HTML.\n\nChange-Id: I5120549758f4e5cd619a0cf8f461996ede3a724d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,882723,9bfd0a43baee7f904a706d20058022f678bd863a,7,2,1,15334,,,0,"Replace ampersand with HTML characters

This is currently invalid HTML.

Change-Id: I5120549758f4e5cd619a0cf8f461996ede3a724d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/23/882723/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackdocstheme/theme/openstackdocs/footer.html', 'openstackdocstheme/theme/starlingxdocs/footer.html', 'openstackdocstheme/theme/openstackdocs/header.html']",3,9bfd0a43baee7f904a706d20058022f678bd863a,html-entities," <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/telecoms-and-nfv/"">Telecom &amp; NFV</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/events/openstackdays"">OpenStack &amp; OpenInfra Days</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/distros/"">Distros &amp; Appliances</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/consulting/"">Consulting &amp; Integrators</a></li>"," <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/use-cases/telecoms-and-nfv/"">Telecom & NFV</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/events/openstackdays"">OpenStack & OpenInfra Days</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/distros/"">Distros & Appliances</a></li> <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""{{osf_base_url}}/marketplace/consulting/"">Consulting & Integrators</a></li>",8,8
openstack%2Fglance_store~master~If3dba01d5cbb3a3deacdf23ab5290d7bcab4b5c7,openstack/glance_store,master,If3dba01d5cbb3a3deacdf23ab5290d7bcab4b5c7,Update 'extras' for cinder driver,MERGED,2023-05-11 16:14:23.000000000,2023-05-16 16:50:34.000000000,2023-05-16 16:49:23.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 29268}]","[{'number': 1, 'created': '2023-05-11 16:14:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ce86bf38239e3962db880bc9bfbaa9f6364a2d14', 'message': ""Update 'extras' for cinder driver\n\nRaise the min version of os-brick to include the fix for\nCVE-2023-2088.\n\nChange-Id: If3dba01d5cbb3a3deacdf23ab5290d7bcab4b5c7\nRelated-bug: #2004555\n""}]",5,882980,ce86bf38239e3962db880bc9bfbaa9f6364a2d14,15,4,1,5314,,,0,"Update 'extras' for cinder driver

Raise the min version of os-brick to include the fix for
CVE-2023-2088.

Change-Id: If3dba01d5cbb3a3deacdf23ab5290d7bcab4b5c7
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/80/882980/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ce86bf38239e3962db880bc9bfbaa9f6364a2d14,bug/2004555, os-brick>=6.3.0 # Apache-2.0, os-brick>=2.6.0 # Apache-2.0,1,1
openstack%2Fneutron~master~Ia446e17a44b1a260971ae237841451edb97ce39f,openstack/neutron,master,Ia446e17a44b1a260971ae237841451edb97ce39f,"Add scope ID to the ""GROUP BY"" clause in ``get_scoped_floating_ips``",MERGED,2023-05-11 09:37:40.000000000,2023-05-16 16:45:39.000000000,2023-05-16 16:44:28.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21d4839eff7529b482d5a47edaff439d6e5a2d0e', 'message': 'Add scope ID to the ""GROUP BY"" clause in ``get_scoped_floating_ips``\n\nPostgreSQL requires to add the table keys selected in the SELECT clause\nin the later GROUP BY clause. This patch is adding\n""SubnetPool.address_scope_id"" to this GROUP BY clause. Because the\nsubnet pool (for IPv4) is unique for the FIP subnet, the returned\nelements in this query will be the same.\n\nCloses-Bug: #2019186\nChange-Id: Ia446e17a44b1a260971ae237841451edb97ce39f\n'}, {'number': 2, 'created': '2023-05-11 13:32:25.000000000', 'files': ['neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/objects/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b7699bc6614d0c03d55087e63c4ccd19878caa4', 'message': 'Add scope ID to the ""GROUP BY"" clause in ``get_scoped_floating_ips``\n\nPostgreSQL requires to add the table keys selected in the SELECT clause\nin the later GROUP BY clause. This patch is adding\n""SubnetPool.address_scope_id"" to this GROUP BY clause. Because the\nsubnet pool (for IPv4) is unique for the FIP subnet, the returned\nelements in this query will be the same.\n\nCloses-Bug: #2019186\nChange-Id: Ia446e17a44b1a260971ae237841451edb97ce39f\n'}]",8,882935,3b7699bc6614d0c03d55087e63c4ccd19878caa4,34,8,2,16688,,,0,"Add scope ID to the ""GROUP BY"" clause in ``get_scoped_floating_ips``

PostgreSQL requires to add the table keys selected in the SELECT clause
in the later GROUP BY clause. This patch is adding
""SubnetPool.address_scope_id"" to this GROUP BY clause. Because the
subnet pool (for IPv4) is unique for the FIP subnet, the returned
elements in this query will be the same.

Closes-Bug: #2019186
Change-Id: Ia446e17a44b1a260971ae237841451edb97ce39f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/882935/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/objects/router.py']",3,21d4839eff7529b482d5a47edaff439d6e5a2d0e,bug/2019186," # Remove duplicate rows based on FIP IDs and the subnet pool address # scope. Only one subnet pool (per IP version, 4 in this case) can # be assigned to a subnet. The subnet pool address scope for a FIP is # unique. query = query.group_by(l3.FloatingIP.id, models_v2.SubnetPool.address_scope_id)", # Remove duplicate rows based on FIP IDs query = query.group_by(l3.FloatingIP.id),37,12
openstack%2Fpuppet-keystone~master~I1ed978e55774637abcddaec91f36c6b5d3c473eb,openstack/puppet-keystone,master,I1ed978e55774637abcddaec91f36c6b5d3c473eb,Remove redundant installation of python3-pysaml2,MERGED,2023-05-15 10:33:00.000000000,2023-05-16 16:36:23.000000000,2023-05-16 16:36:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 10:33:00.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/federation/identity_provider.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3c86a14ddb4551e51c326cc17f5bcb500549248b', 'message': ""Remove redundant installation of python3-pysaml2\n\nThe python3-pysaml2 package is required by the python3-keystone package\nso we don't have to install it explicitly.\n\nChange-Id: I1ed978e55774637abcddaec91f36c6b5d3c473eb\n""}]",0,883149,3c86a14ddb4551e51c326cc17f5bcb500549248b,7,3,1,9816,,,0,"Remove redundant installation of python3-pysaml2

The python3-pysaml2 package is required by the python3-keystone package
so we don't have to install it explicitly.

Change-Id: I1ed978e55774637abcddaec91f36c6b5d3c473eb
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/49/883149/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_federation_identity_provider_spec.rb', 'manifests/federation/identity_provider.pp', 'manifests/params.pp']",3,3c86a14ddb4551e51c326cc17f5bcb500549248b,,, $python_pysaml2_package_name = 'python3-pysaml2' $python_pysaml2_package_name = 'python3-pysaml2',0,13
openstack%2Fcharm-nova-k8s~main~I4cc5740343fba69b030fca2a1e4e2bf201e72d4c,openstack/charm-nova-k8s,main,I4cc5740343fba69b030fca2a1e4e2bf201e72d4c,Add debug option,MERGED,2023-05-16 14:56:38.000000000,2023-05-16 16:31:13.000000000,2023-05-16 16:08:52.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-16 14:56:38.000000000', 'files': ['src/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/0f22181e9f3049f66369776daf9215d6461f06f7', 'message': 'Add debug option\n\nChange-Id: I4cc5740343fba69b030fca2a1e4e2bf201e72d4c\n'}]",0,883275,0f22181e9f3049f66369776daf9215d6461f06f7,8,3,1,12549,,,0,"Add debug option

Change-Id: I4cc5740343fba69b030fca2a1e4e2bf201e72d4c
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/75/883275/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/nova.conf.j2'],1,0f22181e9f3049f66369776daf9215d6461f06f7,add-debug-log-control,debug = {{ options.debug }},,1,0
openstack%2Fkeystoneauth~master~Ibc4747c32afe646fe15baf52538f1ef1defc40c1,openstack/keystoneauth,master,Ibc4747c32afe646fe15baf52538f1ef1defc40c1,Fix up some packaging metadata,MERGED,2023-03-16 23:04:23.000000000,2023-05-16 16:25:01.000000000,2023-05-16 16:23:12.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-16 23:04:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/4e518145c332299af3fe921255dfdee694f96945', 'message': 'Fix up some packaging metadata\n\nhttps://pypi.org/pypi/keystoneauth1/json currently does not have a minimum\npython version.\n\nAlso clean up a twine warning:\n\n  warning: `long_description_content_type` missing. defaulting to `text/x-rst`.\n\nChange-Id: Ibc4747c32afe646fe15baf52538f1ef1defc40c1\n'}]",0,877722,4e518145c332299af3fe921255dfdee694f96945,9,4,1,15343,,,0,"Fix up some packaging metadata

https://pypi.org/pypi/keystoneauth1/json currently does not have a minimum
python version.

Also clean up a twine warning:

  warning: `long_description_content_type` missing. defaulting to `text/x-rst`.

Change-Id: Ibc4747c32afe646fe15baf52538f1ef1defc40c1
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/22/877722/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4e518145c332299af3fe921255dfdee694f96945,whl-metadata,long_description_content_type = text/x-rstpython_requires = >=3.8,python_equires = >=3.8,2,1
openstack%2Fkeystoneauth~master~I2392ef51302804c0c66c0fb52227db5f35bca3fd,openstack/keystoneauth,master,I2392ef51302804c0c66c0fb52227db5f35bca3fd,Make v3oidcpassword send client_id,MERGED,2023-05-02 14:03:41.000000000,2023-05-16 16:24:16.000000000,2023-05-16 16:23:11.000000000,"[{'_account_id': 782}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-02 14:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/927a75ee2aa330acb1b9997656cf61c346f12683', 'message': 'Updates the v3oidcpassword function to also send the client_id as part of the request body, this seems to be a requirement for services like onelogin.\n\nChange-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd\n'}, {'number': 2, 'created': '2023-05-11 11:08:06.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/30d61ad316bc3fe873674b2825bab1e85534b80d', 'message': 'Make v3oidcpassword send client_id\n\nUpdates the v3oidcpassword function to also send the client_id as part of the request body,\nthis seems to be a requirement for services like onelogin.\n\nChange-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd\n'}]",1,881969,30d61ad316bc3fe873674b2825bab1e85534b80d,12,5,2,26922,,,0,"Make v3oidcpassword send client_id

Updates the v3oidcpassword function to also send the client_id as part of the request body,
this seems to be a requirement for services like onelogin.

Change-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/69/881969/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,927a75ee2aa330acb1b9997656cf61c346f12683,one_login_compat," 'scope': self.scope, 'client_id': self.client_id}", 'scope': self.scope},2,1
openstack%2Fneutron~master~Ia8bfebe7a1d97d5f6daa7794fc520b02eb3e3560,openstack/neutron,master,Ia8bfebe7a1d97d5f6daa7794fc520b02eb3e3560,Fix not working use_random_fully config option,ABANDONED,2023-05-16 16:22:15.000000000,2023-05-16 16:23:34.000000000,,[],"[{'number': 1, 'created': '2023-05-16 16:22:15.000000000', 'files': ['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/94ebe66c36b32a96b6a91acc92674bccad297f31', 'message': 'Fix not working use_random_fully config option\n\nFixed bug when config option  use_random_fully is\nset to False all routers accept one configured\nby l3 agent with iptables ""--random-fully"" option.\nAlso added storing of use iptables --random-fully\nconfig option to ""_random_fully"" class variable\nof IptablesManager to reduce checks of iptables\nversion by instances of this class.\n\nCloses-Bug: #2018599\nChange-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623\n\nChange-Id: Ia8bfebe7a1d97d5f6daa7794fc520b02eb3e3560\n'}]",0,883286,94ebe66c36b32a96b6a91acc92674bccad297f31,2,0,1,34512,,,0,"Fix not working use_random_fully config option

Fixed bug when config option  use_random_fully is
set to False all routers accept one configured
by l3 agent with iptables ""--random-fully"" option.
Also added storing of use iptables --random-fully
config option to ""_random_fully"" class variable
of IptablesManager to reduce checks of iptables
version by instances of this class.

Closes-Bug: #2018599
Change-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623

Change-Id: Ia8bfebe7a1d97d5f6daa7794fc520b02eb3e3560
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/883286/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py']",2,94ebe66c36b32a96b6a91acc92674bccad297f31,," class IptablesRandomFullyFixture(fixtures.Fixture): def _setUp(self): # We MUST save and restore _random_fully because it is a class # attribute and could change state in some tests, which can cause # the other router test cases to randomly fail due to race conditions. self._random_fully = iptables_manager.IptablesManager._random_fully iptables_manager.IptablesManager._random_fully = None self.addCleanup(self._reset) def _reset(self): iptables_manager.IptablesManager._random_fully = self._random_fully class IptablesManagerDisableRandomFullyTestCase(base.BaseTestCase): def setUp(self): super(IptablesManagerDisableRandomFullyTestCase, self).setUp() self.useFixture(IptablesRandomFullyFixture()) self.execute = mock.patch.object(linux_utils, ""execute"").start() cfg.CONF.set_override('use_random_fully', False, ""AGENT"") def test_verify_disable_random_fully(self): expected_calls_and_values = [ (mock.call(['iptables', '--version'], run_as_root=True, privsep_exec=True), ""iptables v1.6.2"")] tools.setup_mock_calls(self.execute, expected_calls_and_values) iptables_mgrs = [iptables_manager.IptablesManager() for _ in range(3)] # The random_full properties of all # IptablesManager instances must return False for ipt_mgr in iptables_mgrs: self.assertFalse(ipt_mgr.random_fully)",,38,3
openstack%2Fkolla~stable%2Fxena~I2f879e59a64b9039a8a27c40bd462fde4df73f43,openstack/kolla,stable/xena,I2f879e59a64b9039a8a27c40bd462fde4df73f43,toolbox: pin ansible.posix to <1.5.4,MERGED,2023-05-16 13:33:41.000000000,2023-05-16 16:17:28.000000000,2023-05-16 16:16:32.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-16 13:33:41.000000000', 'files': ['docker/kolla-toolbox/requirements.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e19503c0903e905b60b054aa7a5cc20f428ac4e', 'message': 'toolbox: pin ansible.posix to <1.5.4\n\nansible.posix 1.5.4 has been released and it broke the way\nwe use JSON callback plugin (it requires play.path) - see [1] and [2].\n\n[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac\n[2]: https://github.com/ansible-collections/ansible.posix/issues/461\n\nChange-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43\n(cherry picked from commit d965b1b3da9b8c2780a91781834a46f5886bd9c2)\n'}]",0,883123,2e19503c0903e905b60b054aa7a5cc20f428ac4e,10,4,1,22629,,,0,"toolbox: pin ansible.posix to <1.5.4

ansible.posix 1.5.4 has been released and it broke the way
we use JSON callback plugin (it requires play.path) - see [1] and [2].

[1]: https://github.com/ansible-collections/ansible.posix/commit/3bbf2e3cd56775096fc8ce69e281142472b73cac
[2]: https://github.com/ansible-collections/ansible.posix/issues/461

Change-Id: I2f879e59a64b9039a8a27c40bd462fde4df73f43
(cherry picked from commit d965b1b3da9b8c2780a91781834a46f5886bd9c2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/883123/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/requirements.yml'],1,2e19503c0903e905b60b054aa7a5cc20f428ac4e,, version: '<1.5.4', version: '<2',1,1
openstack%2Ftripleo-ci~master~I8e41362a8d388c0a025aac9fa19a80bdb129aadc,openstack/tripleo-ci,master,I8e41362a8d388c0a025aac9fa19a80bdb129aadc,DNM - Testing ansible-lint,NEW,2023-05-16 13:53:48.000000000,2023-05-16 16:05:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 13:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7f8286ac8c9f2e2a8d14eda8dc54bf4d27aa0815', 'message': 'DNM - Testing ansible-lint\n\nChange-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc\n'}, {'number': 2, 'created': '2023-05-16 14:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/729b45d9fba3729f42a7ee1fb3d805668076409d', 'message': 'DNM - Testing ansible-lint\n\nChange-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc\n'}, {'number': 3, 'created': '2023-05-16 14:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/31d50d23cd8d97aa7898c8c874da76285b722cf9', 'message': 'DNM - Testing ansible-lint\n\nChange-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc\n'}, {'number': 4, 'created': '2023-05-16 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20dd8933c177107d27d4ee68bae22426fea05cdc', 'message': 'DNM - Testing ansible-lint\n\nChange-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc\n'}, {'number': 5, 'created': '2023-05-16 15:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c998b65784e3bb988747fea6caf57dafc6549e0', 'message': 'DNM - Testing ansible-lint\n\nChange-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc\n'}, {'number': 6, 'created': '2023-05-16 15:46:27.000000000', 'files': ['.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9228f2fc9fed7ce667b929851b839914106ca4a8', 'message': 'DNM - Testing ansible-lint\n\nChange-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc\n'}]",0,883262,9228f2fc9fed7ce667b929851b839914106ca4a8,13,1,6,9976,,,0,"DNM - Testing ansible-lint

Change-Id: I8e41362a8d388c0a025aac9fa19a80bdb129aadc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/883262/6 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7f8286ac8c9f2e2a8d14eda8dc54bf4d27aa0815,ansible-lint,ansible-lint==6.16.0,,1,0
openstack%2Fopenstacksdk~master~I74979ded4ded26382629611b5990229c9936e247,openstack/openstacksdk,master,I74979ded4ded26382629611b5990229c9936e247,compute: Adds shelve-offload support,MERGED,2022-09-15 18:59:43.000000000,2023-05-16 16:05:03.000000000,2023-05-16 16:03:54.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-15 18:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b3d727328ac133757fa7622dd53f3e31aeaceefe', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 2, 'created': '2022-09-16 00:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bba53cc96c38657ebcd9a01c504cb7773b196c60', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 3, 'created': '2022-09-16 04:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b4a56978bf479338335325a0ab1ce147ab72c508', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 4, 'created': '2022-09-16 04:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d34375fbb5476920db9b57102525f3d576bebd82', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 5, 'created': '2022-11-01 17:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9338c38a4b0eba3e907529c64a09e1d71234c589', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 6, 'created': '2022-11-01 17:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/92bdba53228cb0308d978aefbd2d4db81579bf96', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 7, 'created': '2022-11-01 22:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/875fc1c5ee5bc2bd9e719234c72236d078df1a8e', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 8, 'created': '2022-11-01 22:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/396f6d9916e556bf68ea4c48b8801ab0bfee6dc9', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 9, 'created': '2022-11-10 21:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dbfbb46e5069497b3b305fa92d50c69abb0d6c46', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 10, 'created': '2022-11-11 04:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3455bbf03fc6149dcbe1793ffe3c6868c01b15da', 'message': 'Adds shelf offload action to server proxy\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}, {'number': 11, 'created': '2023-05-16 10:41:29.000000000', 'files': ['openstack/compute/v2/server.py', 'releasenotes/notes/add-shelve_offload-427f6550fc55e622.yaml', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6d04b0c3ced433f57a6a44158d975b143c03afc1', 'message': 'compute: Adds shelve-offload support\n\nChange-Id: I74979ded4ded26382629611b5990229c9936e247\n'}]",23,857947,6d04b0c3ced433f57a6a44158d975b143c03afc1,32,2,11,34208,,,0,"compute: Adds shelve-offload support

Change-Id: I74979ded4ded26382629611b5990229c9936e247
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/47/857947/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/compute/v2/_proxy.py']",2,b3d727328ac133757fa7622dd53f3e31aeaceefe,," def shelf_offload_server(self, server): """"""Shelf-offloads, or removes, a server Data and resource associations are deleted. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: None """""" server = self._get_resource(_server.Server, server) server.shelf_offload(self) ",,16,0
openstack%2Fcharm-ops-sunbeam~main~I017c4f563565503a1cc28d8db8b0b5dc406053d7,openstack/charm-ops-sunbeam,main,I017c4f563565503a1cc28d8db8b0b5dc406053d7,Add hostnames check for RMQ handler readiness,MERGED,2023-05-16 15:21:50.000000000,2023-05-16 15:49:42.000000000,2023-05-16 15:49:42.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 15:21:50.000000000', 'files': ['ops_sunbeam/relation_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/cdc9e08e2b8087d7197704229f765ecef0b35805', 'message': 'Add hostnames check for RMQ handler readiness\n\nThe hostnames field is filled later in the relation but templating the\ncontext is not possible without this field. Making it mandatory to\nconsider RMQ Handler ready.\n\nChange-Id: I017c4f563565503a1cc28d8db8b0b5dc406053d7\n'}]",1,883276,cdc9e08e2b8087d7197704229f765ecef0b35805,6,2,1,35761,,,0,"Add hostnames check for RMQ handler readiness

The hostnames field is filled later in the relation but templating the
context is not possible without this field. Making it mandatory to
consider RMQ Handler ready.

Change-Id: I017c4f563565503a1cc28d8db8b0b5dc406053d7
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/76/883276/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/relation_handlers.py'],1,cdc9e08e2b8087d7197704229f765ecef0b35805,rmq-handler-ready, return bool(self.interface.password) and bool( self.interface.hostnames ), return bool(self.interface.password),3,1
openstack%2Fpuppet-murano~master~I83216be38873c39a34a5b324cc07e947dffe7ff7,openstack/puppet-murano,master,I83216be38873c39a34a5b324cc07e947dffe7ff7,Remove deprecated database_idle_timeout parameter,MERGED,2023-05-15 07:31:41.000000000,2023-05-16 15:46:31.000000000,2023-05-16 15:45:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 07:31:41.000000000', 'files': ['releasenotes/notes/remove-database_idle_timeout-81cca6d1a0c952d5.yaml', 'manifests/db_cfapi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/3d6cfc4218463da3e12906b97417e71a2ab20e3f', 'message': 'Remove deprecated database_idle_timeout parameter\n\nThis parameter has had no effect and was formally deprecated during\nthe previous cycle[1].\n\n[1] bfe5a82b50fb146ca2dff7bfe23c8be23b21920d\n\nChange-Id: I83216be38873c39a34a5b324cc07e947dffe7ff7\n'}]",0,883134,3d6cfc4218463da3e12906b97417e71a2ab20e3f,8,3,1,9816,,,0,"Remove deprecated database_idle_timeout parameter

This parameter has had no effect and was formally deprecated during
the previous cycle[1].

[1] bfe5a82b50fb146ca2dff7bfe23c8be23b21920d

Change-Id: I83216be38873c39a34a5b324cc07e947dffe7ff7
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/34/883134/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database_idle_timeout-81cca6d1a0c952d5.yaml', 'manifests/db_cfapi.pp']",2,3d6cfc4218463da3e12906b97417e71a2ab20e3f,,,"# DEPRECATED PARAMETERS # # [*database_idle_timeout*] # (Optional) Timeout before idle SQL connections are reaped. # Defaults to undef # # DEPRECATED PARAMETERS $database_idle_timeout = undef, if $database_idle_timeout != undef { warning('The database_idle_timeout parameter is deprecated and has no effect.') } ",4,12
openstack%2Fcharm-nova-k8s~main~Icb832f5e34dc2d90fe40211abd62b739a62e00af,openstack/charm-nova-k8s,main,Icb832f5e34dc2d90fe40211abd62b739a62e00af,Wait for RMQ Context to be ready before configuring unit,ABANDONED,2023-05-16 14:07:10.000000000,2023-05-16 15:29:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 14:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/61b6fb3defc613018b90d77af9ac6350e8de5b59', 'message': 'Wait for RMQ Context to be ready before configuring unit\n\nHaving an empty RMQ Context leads to a lot of errors / deferred event\nmaking the charm really slow to be up on newer units.\n\nChange-Id: Icb832f5e34dc2d90fe40211abd62b739a62e00af\n'}, {'number': 2, 'created': '2023-05-16 14:08:16.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/aacf84e58a99cd4ac0f07192e0c504af7f1fe0a3', 'message': 'Wait for RMQ Context to be ready before configuring unit\n\nHaving an empty RMQ Context leads to a lot of errors / deferred event\nmaking the charm really slow to be up on newer units.\n\nChange-Id: Icb832f5e34dc2d90fe40211abd62b739a62e00af\n'}]",0,883264,aacf84e58a99cd4ac0f07192e0c504af7f1fe0a3,5,1,2,35761,,,0,"Wait for RMQ Context to be ready before configuring unit

Having an empty RMQ Context leads to a lot of errors / deferred event
making the charm really slow to be up on newer units.

Change-Id: Icb832f5e34dc2d90fe40211abd62b739a62e00af
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/64/883264/2 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,61b6fb3defc613018b90d77af9ac6350e8de5b59,rmq-context-ready,"import ops_sunbeam.guard as sunbeam_guard def configure_unit(self, event: ops.framework.EventBase): """"""Setup steps for a non-leader after leader has bootstrapped."""""" if not self.amqp.context(): raise sunbeam_guard.WaitingExceptionError(""AMQP context not ready"") super().configure_unit(event) ",,7,0
openstack%2Fkolla-ansible~master~I2189dafca070accfd8efcd4b8cc4221c6decdc9f,openstack/kolla-ansible,master,I2189dafca070accfd8efcd4b8cc4221c6decdc9f,always add service_user section to nova.conf,MERGED,2023-05-10 20:05:00.000000000,2023-05-16 15:18:16.000000000,2023-05-16 15:17:12.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-10 20:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc15283e2e4cee13c4463105deb5d6039e7053eb', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n'}, {'number': 2, 'created': '2023-05-11 08:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5d6bf814e6608bbeeb3510747468fa38d9dabfa', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n'}, {'number': 3, 'created': '2023-05-11 12:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81a6101653ccdcd9ae4403d94ec8e9f1c56ffd0d', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n'}, {'number': 4, 'created': '2023-05-12 16:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60f2e1a1036e946d9b3e3e0c5e6bf7055a17ae86', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n'}, {'number': 5, 'created': '2023-05-15 06:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be520494539616e268c6775f2e8e1c5963e2b81e', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n'}, {'number': 6, 'created': '2023-05-15 06:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/086976a65f755954d57ef7a2a09d4ce4b229951e', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n'}, {'number': 7, 'created': '2023-05-16 04:20:21.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'releasenotes/notes/cve-2023-2088-51e7e050be2139bf.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddadaa282e72cc437470859766ac963ac757a26a', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)\n(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)\n(cherry picked from commit cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0)\n(cherry picked from commit efe6650d09441b02cf93738a94a59723d84c5b19)\n'}]",22,882893,ddadaa282e72cc437470859766ac963ac757a26a,53,6,7,11604,,,0,"always add service_user section to nova.conf

As of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova
now requires the service_user section to be configured
to address CVE-2023-2088. This change adds
the service user section to the nova.conf template in
the nova and nova-cell roles.

Related-Bug: #2004555
Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f
(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)
(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)
(cherry picked from commit cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0)
(cherry picked from commit efe6650d09441b02cf93738a94a59723d84c5b19)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/882893/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2']",2,dc15283e2e4cee13c4463105deb5d6039e7053eb,CVE-2023-2088-stable/wallaby-stable/xena-stable/yoga-stable/zed-master, [service_user] send_service_user_token = true auth_url = {{ keystone_internal_url }} auth_type = password project_domain_id = {{ default_project_domain_id }} user_domain_id = {{ default_user_domain_id }} project_name = service username = {{ nova_keystone_user }} password = {{ nova_keystone_password }} cafile = {{ openstack_cacert }},,22,0
openstack%2Fironic~bugfix%2F21.2~I6f16da05e19c7efc966128fdf79f13546f51b5a6,openstack/ironic,bugfix/21.2,I6f16da05e19c7efc966128fdf79f13546f51b5a6,Handle MissingAttributeError when using OOB inspections to fetch MACs,NEW,2023-05-09 10:55:08.000000000,2023-05-16 14:18:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-09 10:55:08.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/87c87fd98ed1b542776fea7c5b5332ea76c3ba9e', 'message': 'Handle MissingAttributeError when using OOB inspections to fetch MACs\n\nCurrently, if an attempt is made to fetch MAC address information using\nOOB inspection on a Redfish-managed node and EthernetInterfaces\nattribute is missing on the node, inspection fails due to a\nMissingAttributeError exception being raised by sushy. This change adds\ncatching and handling this exception.\n\nChange-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6\n(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)\n'}]",2,882525,87c87fd98ed1b542776fea7c5b5332ea76c3ba9e,9,2,1,10239,,,0,"Handle MissingAttributeError when using OOB inspections to fetch MACs

Currently, if an attempt is made to fetch MAC address information using
OOB inspection on a Redfish-managed node and EthernetInterfaces
attribute is missing on the node, inspection fails due to a
MissingAttributeError exception being raised by sushy. This change adds
catching and handling this exception.

Change-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6
(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/882525/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,87c87fd98ed1b542776fea7c5b5332ea76c3ba9e,," @mock.patch.object(redfish_utils, 'get_enabled_macs', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_get_mac_addresses_missing_attr(self, mock_get_system, mock_get_enabled_macs): redfish_utils.get_enabled_macs.side_effect = (sushy.exceptions. MissingAttributeError) with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: self.assertIsNone(task.driver.management.get_mac_addresses(task))",,29,1
openstack%2Ftripleo-ci~master~I050e61a71d6b3ecfcc33bdec6fa41d064c8df097,openstack/tripleo-ci,master,I050e61a71d6b3ecfcc33bdec6fa41d064c8df097,[DNM] Test nova_migration fix,ABANDONED,2023-05-16 12:17:31.000000000,2023-05-16 13:43:54.000000000,,[],"[{'number': 1, 'created': '2023-05-16 12:17:31.000000000', 'files': ['zuul.d/layout.yaml', 'roles/build-containers/tasks/venv_setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d35bd4ad1a30f13dbcba92487b8a62548a34bd6c', 'message': '[DNM] Test nova_migration fix\n\nChange-Id: I050e61a71d6b3ecfcc33bdec6fa41d064c8df097\n'}]",0,883254,d35bd4ad1a30f13dbcba92487b8a62548a34bd6c,2,0,1,13861,,,0,"[DNM] Test nova_migration fix

Change-Id: I050e61a71d6b3ecfcc33bdec6fa41d064c8df097
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/54/883254/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/build-containers/tasks/venv_setup.yml']",2,d35bd4ad1a30f13dbcba92487b8a62548a34bd6c,dnm,"- name: hack uid gid copy become: true shell: ""cp {{ openstack_git_root }}/tripleo-common/container-images/kolla/base/uid_gid_manage.sh /usr/share/openstack-tripleo-common-containers/container-images/kolla/base/uid_gid_manage.sh"" ",,5,33
openstack%2Fmanila-tempest-plugin~master~I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2,openstack/manila-tempest-plugin,master,I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2,[RBAC] Tests for Share Instance Export Locations,MERGED,2022-12-09 14:56:01.000000000,2023-05-16 13:39:13.000000000,2023-05-16 13:39:13.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 33301}]","[{'number': 1, 'created': '2022-12-09 14:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/43e87093c65111f2db9bbdb927917d2c97d7a7af', 'message': '(WIP) RBAC tests for Share Instance Export Locations\n\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 2, 'created': '2022-12-12 19:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f1cf2021b4918b6240d198c369e752d44f3da168', 'message': 'RBAC tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 3, 'created': '2022-12-12 20:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/42647c4a327f00533157b11d11ed545aeaf83f65', 'message': '[RBAC] tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 4, 'created': '2022-12-12 20:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c12ffcbfdffcffa05fedb482d3d9243afa9327cf', 'message': '[RBAC] Tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 5, 'created': '2023-05-08 16:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a052374d50f33b0723f80d594d5e11d4141a58a3', 'message': '[RBAC] Tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 6, 'created': '2023-05-09 15:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ac146353fafc7d0f0e05b3794c03d7812159329f', 'message': '[RBAC] Tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 7, 'created': '2023-05-09 20:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/81f941e3ced4ed697c32389c22ed71255b6df8e9', 'message': '[RBAC] Tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 8, 'created': '2023-05-10 12:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/181d8d659e446216f63594c16df54aca24e9e85a', 'message': '[RBAC] Tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}, {'number': 9, 'created': '2023-05-11 13:02:10.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_share_instance_export_locations.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4246d0b9fe084bace3858912f20bea65b7421979', 'message': '[RBAC] Tests for Share Instance Export Locations\n\nThe tests validate policy of share instance export locations\nactions for admin, member and reader users in a project scope.\n\nCo-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>\nChange-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2\n'}]",73,867119,4246d0b9fe084bace3858912f20bea65b7421979,57,5,9,33648,,,0,"[RBAC] Tests for Share Instance Export Locations

The tests validate policy of share instance export locations
actions for admin, member and reader users in a project scope.

Co-Authored-By: Renan Vitor <renanpiranguinho@gmail.com>
Change-Id: I5996a1fb5365e80acc3d1cb5418a62fd60eae4b2
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/19/867119/4 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/rbac/test_share_instance_export_locations.py'],1,43e87093c65111f2db9bbdb927917d2c97d7a7af,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest import config from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from testtools import testcase as tc from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base CONF = config.CONF class ShareRbacExportLocationsTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def skip_checks(cls): super(ShareRbacExportLocationsTests, cls).skip_checks() if cls.protocol not in CONF.share.enable_protocols: message = ""%s tests are disabled"" % cls.protocol raise cls.skipException(message) @classmethod def setup_clients(cls): super(ShareRbacExportLocationsTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) @abc.abstractmethod def test_share_instance_list_export_locations(self): pass @abc.abstractmethod def test_share_instance_show_export_location(self): pass class TestProjectAdminTestsNFS(ShareRbacExportLocationsTests, base.BaseSharesTest): credentials = ['project_admin', 'project_alt_member'] protocol = 'nfs' @classmethod def setup_clients(cls): super(TestProjectAdminTestsNFS, cls).setup_clients() project_member = cls.setup_user_client( cls.persona, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @classmethod def resource_setup(cls): super(TestProjectAdminTestsNFS, cls).resource_setup() share_type = cls.get_share_type() cls.share = cls.create_share(cls.client, share_type['id']) cls.alt_share = cls.create_share( cls.alt_project_share_v2_client, share_type['id']) @decorators.idempotent_id('f3218212-d70b-4a3d-bc05-8905a4f14279') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_share_instance_list_export_locations(self): self.do_request( 'list_share_instance_export_locations', expected_status=200, share_id=self.share['id']) self.do_request( 'list_share_instance_export_locations', expected_status=200, share_id=self.alt_share['id']) @decorators.idempotent_id('c58c74cf-4fcd-4404-a2f9-1a9e6b4443c4') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_share_instance_show_export_location(self): export_location = ( self.share_member_client.list_share_instance_export_locations( self.share['id'])['export_locations']) self.do_request( 'get_share_instance_export_location', expected_status=200, share_id=self.share['id'], export_location_uuid=export_location[0]['id']) export_location = ( self.alt_project_share_v2_client .list_share_instance_export_locations( self.alt_share['id'])['export_locations']) self.do_request( 'get_share_instance_export_location', expected_status=200, share_id=self.alt_share['id'], export_location_uuid=export_location[0]['id']) class TestProjectMemberTestsNFS(ShareRbacExportLocationsTests, base.BaseSharesTest): credentials = ['project_member', 'project_alt_member'] protocol = 'nfs' @classmethod def resource_setup(cls): super(TestProjectMemberTestsNFS, cls).resource_setup() share_type = cls.get_share_type() share_client = getattr(cls, 'share_member_client', cls.client) cls.share = cls.create_share(share_client, share_type['id']) cls.alt_share = cls.create_share( cls.alt_project_share_v2_client, share_type['id']) @decorators.idempotent_id('27d495dd-b52d-417d-bfbf-9bb700e85f4d') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_share_instance_list_export_locations(self): self.do_request( 'list_share_instance_export_locations', expected_status=lib_exc.Forbidden, share_id=self.share['id']) self.do_request( 'list_share_instance_export_locations', expected_status=lib_exc.Forbidden, share_id=self.alt_share['id']) @decorators.idempotent_id('8de74960-b9cf-4ee6-81dc-fbb5dbb291dd') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_share_instance_show_export_location(self): share_client = getattr(self, 'share_member_client', self.client) export_location = share_client.list_share_instance_export_locations( self.share['id'])['export_locations'] self.do_request( 'get_share_instance_export_location', expected_status=lib_exc.Forbidden, share_id=self.share['id'], export_location_uuid=export_location[0]['id']) export_location = ( self.alt_project_share_v2_client .list_share_instance_export_locations( self.alt_share['id'])['export_locations']) self.do_request( 'get_share_instance_export_location', expected_status=lib_exc.Forbidden, share_id=self.alt_share['id'], export_location_uuid=export_location[0]['id']) class TestProjectReaderTestsNFS(TestProjectMemberTestsNFS): """"""Test suite for basic share export location operations by reader user In order to test certain share operations we must create a share resource for this. Since reader user is limited in resources creation, we are forced to use admin credentials, so we can test other share operations. In this class we use admin user to create a member user within reader project. That way we can perform a reader actions on this resource. """""" credentials = ['project_reader', 'project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(TestProjectReaderTestsNFS, cls).setup_clients() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @classmethod def resource_setup(cls): super(TestProjectReaderTestsNFS, cls).resource_setup() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @decorators.idempotent_id('9db505c1-45d3-4d82-8879-38c4861e4fb3') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_share_instance_list_export_locations(self): (super(TestProjectReaderTestsNFS, self) .test_share_instance_list_export_locations()) @decorators.idempotent_id('09009203-ff20-4914-8764-7865839e29b2') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_share_instance_show_export_location(self): (super(TestProjectReaderTestsNFS, self) .test_share_instance_show_export_location()) class TestProjectAdminTestsCEPHFS(TestProjectAdminTestsNFS): protocol = 'cephfs' class TestProjectMemberTestsCEPHFS(TestProjectMemberTestsNFS): protocol = 'cephfs' class TestProjectReaderTestsCEPHFS(TestProjectReaderTestsNFS): protocol = 'cephfs' class TestProjectAdminTestsCIFS(TestProjectAdminTestsNFS): protocol = 'cifs' class TestProjectMemberTestsCIFS(TestProjectMemberTestsNFS): protocol = 'cifs' class TestProjectReaderTestsCIFS(TestProjectReaderTestsNFS): protocol = 'cifs' ",,222,0
openstack%2Ftosca-parser~master~Iac88def836970cd976396452ffb9c3d276263d3e,openstack/tosca-parser,master,Iac88def836970cd976396452ffb9c3d276263d3e,Support importing def from local instead of url,MERGED,2023-02-09 04:05:31.000000000,2023-05-16 13:36:33.000000000,2023-05-16 13:35:33.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2023-02-09 04:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/68bc07a38842a37709477c46ddf164b44b61f581', 'message': 'DNM: Add local_defs support\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iac88def836970cd976396452ffb9c3d276263d3e\n'}, {'number': 2, 'created': '2023-02-10 05:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/bf8eadfd7015716ed40d96ef37e7756b74c955c5', 'message': 'Support importing def from local instead of url\n\nSometimes importing a nested definition from remote server is failed\nfor the server is busy. Although we usually can download the definition\nbefore and change the path as local then, cannot for a case if the\ncontents of the template is fixed and it should not be changed.\n\nThis update is avoid such a case as a remedy. The url can be replaced\nwith any other path by using arg `local_defs` like as below. In this\ncase, the definition is imported from local path instead of url.\n\n    local_defs = {""https://example.org/orig"", ""/path/to/local/def""}\n    tosca = ToscaTemplate(template, local_defs=local_defs}\n\nCloses-Bugs: #2006796\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iac88def836970cd976396452ffb9c3d276263d3e\n'}, {'number': 3, 'created': '2023-02-10 05:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/c8c402683605c199ec8744428f6d5c3e69bbc606', 'message': 'Support importing def from local instead of url\n\nSometimes importing a nested definition from remote server is failed\nfor the server is busy. Although we usually can download the definition\nbefore and change the path as local then, cannot for a case if the\ncontents of the template is fixed and it should not be changed.\n\nThis update is avoid such a case as a remedy. The url can be replaced\nwith any other path by using arg `local_defs` like as below. In this\ncase, the definition is imported from local path instead of url.\n\n    local_defs = {""https://example.org/orig"": ""/path/to/local/def""}\n    tosca = ToscaTemplate(template, local_defs=local_defs}\n\nCloses-Bugs: #2006796\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iac88def836970cd976396452ffb9c3d276263d3e\n'}, {'number': 4, 'created': '2023-02-10 05:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/e8167e303f65d073209c9c6cc5138eaefb245d0c', 'message': 'Support importing def from local instead of url\n\nSometimes importing a nested definition from remote server is failed\nfor the server is busy. Although we usually can download the definition\nbefore and change the path as local then, cannot for a case if the\ncontents of the template is fixed and it should not be changed.\n\nThis update is avoid such a case as a remedy. The url can be replaced\nwith any other path by using arg `local_defs` like as below. In this\ncase, the definition is imported from local path instead of url.\n\n    local_defs = {""https://example.org/orig"": ""/path/to/local/def""}\n    tosca = ToscaTemplate(template, local_defs=local_defs}\n\nCloses-Bugs: #2006796\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iac88def836970cd976396452ffb9c3d276263d3e\n'}, {'number': 5, 'created': '2023-02-20 08:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/deb67e32647b2a7057c612c2606d3d26c56731dc', 'message': 'Support importing def from local instead of url\n\nSometimes importing a nested definition from remote server is failed\nfor the server is busy. Although we usually can download the definition\nbefore and change the path as local then, cannot for a case if the\ncontents of the template is fixed and it should not be changed.\n\nThis update is avoid such a case as a remedy. The url can be replaced\nwith any other path by using arg `local_defs` like as below. In this\ncase, the definition is imported from local path instead of url.\n\n    local_defs = {""https://example.org/orig"": ""/path/to/local/def""}\n    tosca = ToscaTemplate(template, local_defs=local_defs}\n\nCloses-Bugs: #2006796\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iac88def836970cd976396452ffb9c3d276263d3e\n'}, {'number': 6, 'created': '2023-02-20 10:50:28.000000000', 'files': ['toscaparser/tests/test_toscatpl.py', 'toscaparser/imports.py', 'toscaparser/tests/test_toscatplvalidation.py', 'toscaparser/tosca_template.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/16932ad1d510298bb5cdececb43f177919555882', 'message': 'Support importing def from local instead of url\n\nSometimes importing a nested definition from remote server is failed\nfor the server is busy. Although we usually can download the definition\nbefore and change the path as local then, cannot for a case if the\ncontents of the template is fixed and it should not be changed.\n\nThis update is avoid such a case as a remedy. The url can be replaced\nwith any other path by using arg `local_defs` like as below. In this\ncase, the definition is imported from local path instead of url.\n\n    local_defs = {""https://example.org/orig"": ""/path/to/local/def""}\n    tosca = ToscaTemplate(template, local_defs=local_defs}\n\nCloses-Bug: #2006796\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Iac88def836970cd976396452ffb9c3d276263d3e\n'}]",5,873217,16932ad1d510298bb5cdececb43f177919555882,19,5,6,25701,,,0,"Support importing def from local instead of url

Sometimes importing a nested definition from remote server is failed
for the server is busy. Although we usually can download the definition
before and change the path as local then, cannot for a case if the
contents of the template is fixed and it should not be changed.

This update is avoid such a case as a remedy. The url can be replaced
with any other path by using arg `local_defs` like as below. In this
case, the definition is imported from local path instead of url.

    local_defs = {""https://example.org/orig"": ""/path/to/local/def""}
    tosca = ToscaTemplate(template, local_defs=local_defs}

Closes-Bug: #2006796
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: Iac88def836970cd976396452ffb9c3d276263d3e
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/17/873217/2 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/imports.py', 'toscaparser/tests/test_toscatplvalidation.py', 'toscaparser/tosca_template.py']",3,68bc07a38842a37709477c46ddf164b44b61f581,bug/2006796," yaml_dict_tpl=None, local_defs=None): baseurl = ""https://forge.etsi.org/rep/nfv/SOL001"" v = ""v2.6.1"" url = \ ""{}/raw/{}/etsi_nfv_sol001_common_types.yaml"".format(baseurl, v) fpath = \ ""/opt/stack/tacker/etc/sol001/etsi_nfv_sol001_common_types.yaml"" local_defs = {url: fpath} self.local_defs = local_defs ImportsLoader(imports, path, type_defs, self.tpl, self.local_defs)"," yaml_dict_tpl=None): ImportsLoader(imports, path, type_defs, self.tpl)",40,4
openstack%2Fironic~bugfix%2F21.0~I6f16da05e19c7efc966128fdf79f13546f51b5a6,openstack/ironic,bugfix/21.0,I6f16da05e19c7efc966128fdf79f13546f51b5a6,Handle MissingAttributeError when using OOB inspections to fetch MACs,MERGED,2023-05-09 10:55:17.000000000,2023-05-16 13:18:55.000000000,2023-05-16 13:17:43.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-09 10:55:17.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f576b4d60fa9230cc7f6b77c5c65d44abfc9f047', 'message': 'Handle MissingAttributeError when using OOB inspections to fetch MACs\n\nCurrently, if an attempt is made to fetch MAC address information using\nOOB inspection on a Redfish-managed node and EthernetInterfaces\nattribute is missing on the node, inspection fails due to a\nMissingAttributeError exception being raised by sushy. This change adds\ncatching and handling this exception.\n\nChange-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6\n(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)\n'}]",0,882526,f576b4d60fa9230cc7f6b77c5c65d44abfc9f047,8,3,1,10239,,,0,"Handle MissingAttributeError when using OOB inspections to fetch MACs

Currently, if an attempt is made to fetch MAC address information using
OOB inspection on a Redfish-managed node and EthernetInterfaces
attribute is missing on the node, inspection fails due to a
MissingAttributeError exception being raised by sushy. This change adds
catching and handling this exception.

Change-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6
(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/882526/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,f576b4d60fa9230cc7f6b77c5c65d44abfc9f047,," @mock.patch.object(redfish_utils, 'get_enabled_macs', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_get_mac_addresses_missing_attr(self, mock_get_system, mock_get_enabled_macs): redfish_utils.get_enabled_macs.side_effect = (sushy.exceptions. MissingAttributeError) with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: self.assertIsNone(task.driver.management.get_mac_addresses(task))",,29,1
openstack%2Fopenstacksdk~master~I76853895ed4d2658b9e1420e305584ff19960f23,openstack/openstacksdk,master,I76853895ed4d2658b9e1420e305584ff19960f23,modify ovh and ovh-us vendor config,MERGED,2023-03-28 10:14:49.000000000,2023-05-16 12:11:37.000000000,2023-05-16 12:09:47.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-28 10:14:49.000000000', 'files': ['openstack/config/vendors/ovh-us.json', 'openstack/config/vendors/ovh.json'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e3f50c16daee16a2d01d41c6f34c69f053f7c12', 'message': 'modify ovh and ovh-us vendor config\n\nChange-Id: I76853895ed4d2658b9e1420e305584ff19960f23\n'}]",1,878756,4e3f50c16daee16a2d01d41c6f34c69f053f7c12,8,2,1,35880,,,0,"modify ovh and ovh-us vendor config

Change-Id: I76853895ed4d2658b9e1420e305584ff19960f23
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/878756/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/vendors/ovh-us.json', 'openstack/config/vendors/ovh.json']",2,4e3f50c16daee16a2d01d41c6f34c69f053f7c12,dev/rbdupont," ""profile"": ""https://ovhcloud.com"" } }"," ""auth"": { ""auth_url"": ""https://auth.cloud.ovh.net/"", ""user_domain_name"": ""Default"", ""project_domain_name"": ""Default"" }, ""regions"": [ ""BHS"", ""BHS1"", ""BHS3"", ""BHS5"", ""DE"", ""DE1"", ""GRA"", ""GRA1"", ""GRA5"", ""GRA7"", ""SBG"", ""SBG1"", ""SBG5"", ""UK"", ""UK1"", ""WAW"", ""WAW1"", ""SYD1"", ""SGP1"" ], ""identity_api_version"": ""3"", ""floating_ip_source"": ""None"" } } ",6,30
openstack%2Fopenstacksdk~master~Idd2dd85e2fee364348328b5f25096f565cd47241,openstack/openstacksdk,master,Idd2dd85e2fee364348328b5f25096f565cd47241,image: Don't envelope properties,MERGED,2023-04-20 17:23:11.000000000,2023-05-16 12:10:33.000000000,2023-05-16 12:09:15.000000000,"[{'_account_id': 8122}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-04-20 17:23:11.000000000', 'files': ['openstack/tests/unit/image/v2/test_proxy.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/functional/image/v2/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9153d6704ba648136cf0f67e1ccdf4cbb7a417c7', 'message': ""image: Don't envelope properties\n\nThe Glance v2 API is weird, in that it allows and places arbitrary\nproperties in the root envelope of requests and responses respectively\nrather than under a 'properties' or 'metadata' key like other services.\nWe were using a properties key temporarily as an envelope so we can\nformat these extra properties specifically. However, we were forgetting\nto remove this envelope when creating an bare image without uploading\ndata. Correct this.\n\nChange-Id: Idd2dd85e2fee364348328b5f25096f565cd47241\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nStory: 2009127\nTask: 43041\n""}]",1,881033,9153d6704ba648136cf0f67e1ccdf4cbb7a417c7,8,4,1,15334,,,0,"image: Don't envelope properties

The Glance v2 API is weird, in that it allows and places arbitrary
properties in the root envelope of requests and responses respectively
rather than under a 'properties' or 'metadata' key like other services.
We were using a properties key temporarily as an envelope so we can
format these extra properties specifically. However, we were forgetting
to remove this envelope when creating an bare image without uploading
data. Correct this.

Change-Id: Idd2dd85e2fee364348328b5f25096f565cd47241
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Story: 2009127
Task: 43041
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/881033/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/image/v2/test_proxy.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/functional/image/v2/test_image.py']",3,9153d6704ba648136cf0f67e1ccdf4cbb7a417c7,story/2009127,," # TODO(mordred): This is not doing what people think it is doing. # This is EPICLY broken. However, rather than fixing it as it is, # we need to just replace the image upload code with the stuff # from shade. Figuring out mapping the crap-tastic arbitrary # extra key-value pairs into Resource is going to be fun.",9,10
openstack%2Fnova~stable%2F2023.1~I99b57c27c8a4425389bec2b7f05af660bab85610,openstack/nova,stable/2023.1,I99b57c27c8a4425389bec2b7f05af660bab85610,Have host look for CPU controller of cgroupsv2 location.,MERGED,2023-05-11 05:47:55.000000000,2023-05-16 12:06:09.000000000,2023-05-16 12:05:04.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 05:47:55.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/host.py', 'nova/tests/fixtures/nova.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_vpmem.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb3fe4ddc621380afa32ec9aec0c285f36f99ee3', 'message': ""Have host look for CPU controller of cgroupsv2 location.\n\nMake the host class look under '/sys/fs/cgroup/cgroup.controllers' for support of the cpu controller. The host will try searching through cgroupsv1 first, just like up until now, and in the case that fails, it will try cgroupsv2 then. The host will not support the feature if both checks fail.\n\nThis new check needs to be mocked by all tests that focus on this piece of code, as it touches a system file that requires privileges. For such thing, the CGroupsFixture is defined to easily add suck mocking to all test cases that require so.\n\nI also removed old mocking at test_driver.py in favor of the fixture from above.\n\nPartial-Bug: #2008102\nChange-Id: I99b57c27c8a4425389bec2b7f05af660bab85610\n(cherry picked from commit 973ff4fc1a0586937d13f2b39e517422713b1003)\n""}]",4,882913,eb3fe4ddc621380afa32ec9aec0c285f36f99ee3,19,3,1,34860,,,0,"Have host look for CPU controller of cgroupsv2 location.

Make the host class look under '/sys/fs/cgroup/cgroup.controllers' for support of the cpu controller. The host will try searching through cgroupsv1 first, just like up until now, and in the case that fails, it will try cgroupsv2 then. The host will not support the feature if both checks fail.

This new check needs to be mocked by all tests that focus on this piece of code, as it touches a system file that requires privileges. For such thing, the CGroupsFixture is defined to easily add suck mocking to all test cases that require so.

I also removed old mocking at test_driver.py in favor of the fixture from above.

Partial-Bug: #2008102
Change-Id: I99b57c27c8a4425389bec2b7f05af660bab85610
(cherry picked from commit 973ff4fc1a0586937d13f2b39e517422713b1003)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/882913/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/fixtures/nova.py', 'nova/tests/functional/libvirt/base.py', 'nova/virt/libvirt/host.py', 'nova/tests/functional/libvirt/test_vpmem.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",9,eb3fe4ddc621380afa32ec9aec0c285f36f99ee3,bug/2008102, self.cgroups = self.useFixture(nova_fixtures.CGroupsFixture()) def test_get_guest_config_numa_host_instance_fits(self): def test_get_guest_config_numa_host_instance_no_fit(self): def test_get_guest_config_numa_host_instance_pci_no_numa_info(self): def test_get_guest_config_numa_host_instance_2pci_no_fit(self): def test_get_guest_config_numa_host_instance_fit_w_cpu_pinset(self): def test_get_guest_config_non_numa_host_instance_topo(self): def test_get_guest_config_numa_host_instance_topo(self): def test_get_guest_config_with_cpu_quota(self): def test_get_guest_config_with_bogus_cpu_quota(self): def test_get_update_guest_cputune(self): # No CPU controller on the host self.cgroups.version = 0 self.useFixture(nova_fixtures.CGroupsFixture())," @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_numa_host_instance_fits(self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_numa_host_instance_no_fit(self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_numa_host_instance_pci_no_numa_info( self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_numa_host_instance_2pci_no_fit( self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_numa_host_instance_fit_w_cpu_pinset( self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_non_numa_host_instance_topo( self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_numa_host_instance_topo( self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_with_cpu_quota(self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=True) def test_get_guest_config_with_bogus_cpu_quota(self, is_able): @mock.patch.object( host.Host, ""is_cpu_control_policy_capable"", return_value=False) def test_get_update_guest_cputune(self, is_able):",173,54
openstack%2Fcinder~stable%2Fxena~I0ca25789a0b279d82f766091235f24f429405da6,openstack/cinder,stable/xena,I0ca25789a0b279d82f766091235f24f429405da6,RBD: Fix total_capacity,MERGED,2023-03-04 21:39:48.000000000,2023-05-16 12:03:50.000000000,2023-05-16 12:02:35.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-03-04 21:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4019a5e5f68f8451f64b8cd5cd274cdb80892a6a', 'message': 'RBD: Fix total_capacity\n\nCeph has changed the meaning of the ``bytes_used`` column in the pools\nreported by the ``df`` command, which means that in some deployments the\nrbd driver is not reporting the expected information ot the schedulers.\n\nThe information we should be used for the calculations is returned in\nthe ``stored`` field in those systems.\n\nThis patch uses ``stored`` when present and fallbacks to ``bytes_used``\nif not.\n\nCloses-Bug: #1960206\nChange-Id: I0ca25789a0b279d82f766091235f24f429405da6\n(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)\n'}, {'number': 2, 'created': '2023-04-18 12:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9cb6a598bbe623e84023d66365d0b32dba1c1de', 'message': 'RBD: Fix total_capacity\n\nCeph has changed the meaning of the ``bytes_used`` column in the pools\nreported by the ``df`` command, which means that in some deployments the\nrbd driver is not reporting the expected information ot the schedulers.\n\nThe information we should be used for the calculations is returned in\nthe ``stored`` field in those systems.\n\nThis patch uses ``stored`` when present and fallbacks to ``bytes_used``\nif not.\n\nCloses-Bug: #1960206\nChange-Id: I0ca25789a0b279d82f766091235f24f429405da6\n(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)\n(cherry picked from commit 97926fb888a6cdb96640ebe4e06785e6ce198226)\n(cherry picked from commit 2f798cb06a34a669459f2de6ab55d06aa985d221)\n'}, {'number': 3, 'created': '2023-04-18 14:17:28.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-total_capacity-60f10b45e3a8c8ea.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/84693e0207cfc34a6b99c50066f3d1846bd4050a', 'message': 'RBD: Fix total_capacity\n\nCeph has changed the meaning of the ``bytes_used`` column in the pools\nreported by the ``df`` command, which means that in some deployments the\nrbd driver is not reporting the expected information ot the schedulers.\n\nThe information we should be used for the calculations is returned in\nthe ``stored`` field in those systems.\n\nThis patch uses ``stored`` when present and fallbacks to ``bytes_used``\nif not.\n\nCloses-Bug: #1960206\nChange-Id: I0ca25789a0b279d82f766091235f24f429405da6\n(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)\n(cherry picked from commit 97926fb888a6cdb96640ebe4e06785e6ce198226)\n(cherry picked from commit 2f798cb06a34a669459f2de6ab55d06aa985d221)\n'}]",11,876474,84693e0207cfc34a6b99c50066f3d1846bd4050a,54,10,3,14200,,,0,"RBD: Fix total_capacity

Ceph has changed the meaning of the ``bytes_used`` column in the pools
reported by the ``df`` command, which means that in some deployments the
rbd driver is not reporting the expected information ot the schedulers.

The information we should be used for the calculations is returned in
the ``stored`` field in those systems.

This patch uses ``stored`` when present and fallbacks to ``bytes_used``
if not.

Closes-Bug: #1960206
Change-Id: I0ca25789a0b279d82f766091235f24f429405da6
(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)
(cherry picked from commit 97926fb888a6cdb96640ebe4e06785e6ce198226)
(cherry picked from commit 2f798cb06a34a669459f2de6ab55d06aa985d221)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/876474/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-total_capacity-60f10b45e3a8c8ea.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,4019a5e5f68f8451f64b8cd5cd274cdb80892a6a,rbd-total_capacity-stored-reported," @ddt.data( # Normal case, no quota and dynamic total {'free_capacity': 27.0, 'total_capacity': 28.44}, # No quota and static total {'dynamic_total': False, 'free_capacity': 27.0, 'total_capacity': 59.96}, # Quota and dynamic total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'free_capacity': 1, 'total_capacity': 2.44}, # Quota and static total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'dynamic_total': False, 'free_capacity': 1, 'total_capacity': 3.00}, # Quota and dynamic total when free would be negative {'quota_max_bytes': 1073741824, 'free_capacity': 0, 'total_capacity': 1.44}, ) @ddt.unpack @common_mocks def test_get_pool_nautilus(self, free_capacity, total_capacity, max_avail=28987613184, quota_max_bytes=0, dynamic_total=True): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster.mon_command.side_effect = [ (0, '{""stats"":{""total_bytes"":64385286144,' '""total_used_bytes"":3289628672,""total_avail_bytes"":61095657472},' '""pools"":[{""name"":""rbd"",""id"":2,""stats"":{""kb_used"":1510197,' '""stored"":1546440971,""bytes_used"":4639322913,""max_avail"":%s,' '""objects"":412}},{""name"":""volumes"",""id"":3,""stats"":{""kb_used"":0,' '""bytes_used"":0,""max_avail"":28987613184,""objects"":0}}]}\n' % max_avail, ''), (0, '{""pool_name"":""volumes"",""pool_id"":4,""quota_max_objects"":0,' '""quota_max_bytes"":%s}\n' % quota_max_bytes, ''), ] with mock.patch.object(self.driver.configuration, 'safe_get', return_value=dynamic_total): result = self.driver._get_pool_stats() client.cluster.mon_command.assert_has_calls([ mock.call('{""prefix"":""df"", ""format"":""json""}', b''), mock.call('{""prefix"":""osd pool get-quota"", ""pool"": ""rbd"",' ' ""format"":""json""}', b''), ]) self.assertEqual((free_capacity, total_capacity), result) ",,57,2
openstack%2Fcinder~stable%2Fyoga~I0ca25789a0b279d82f766091235f24f429405da6,openstack/cinder,stable/yoga,I0ca25789a0b279d82f766091235f24f429405da6,RBD: Fix total_capacity,MERGED,2023-03-04 21:37:04.000000000,2023-05-16 12:03:49.000000000,2023-05-16 12:02:31.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 14200}, {'_account_id': 16198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-04 21:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f798cb06a34a669459f2de6ab55d06aa985d221', 'message': 'RBD: Fix total_capacity\n\nCeph has changed the meaning of the ``bytes_used`` column in the pools\nreported by the ``df`` command, which means that in some deployments the\nrbd driver is not reporting the expected information ot the schedulers.\n\nThe information we should be used for the calculations is returned in\nthe ``stored`` field in those systems.\n\nThis patch uses ``stored`` when present and fallbacks to ``bytes_used``\nif not.\n\nCloses-Bug: #1960206\nChange-Id: I0ca25789a0b279d82f766091235f24f429405da6\n(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)\n'}, {'number': 2, 'created': '2023-04-18 12:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a5091d199ca957d0ef87df680752720eaee68f4', 'message': 'RBD: Fix total_capacity\n\nCeph has changed the meaning of the ``bytes_used`` column in the pools\nreported by the ``df`` command, which means that in some deployments the\nrbd driver is not reporting the expected information ot the schedulers.\n\nThe information we should be used for the calculations is returned in\nthe ``stored`` field in those systems.\n\nThis patch uses ``stored`` when present and fallbacks to ``bytes_used``\nif not.\n\nCloses-Bug: #1960206\nChange-Id: I0ca25789a0b279d82f766091235f24f429405da6\n(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)\n(cherry picked from commit 97926fb888a6cdb96640ebe4e06785e6ce198226)\n'}, {'number': 3, 'created': '2023-04-18 14:59:03.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-total_capacity-60f10b45e3a8c8ea.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad5a711fdb1c73744537636c0567c4198666925a', 'message': 'RBD: Fix total_capacity\n\nCeph has changed the meaning of the ``bytes_used`` column in the pools\nreported by the ``df`` command, which means that in some deployments the\nrbd driver is not reporting the expected information ot the schedulers.\n\nThe information we should be used for the calculations is returned in\nthe ``stored`` field in those systems.\n\nThis patch uses ``stored`` when present and fallbacks to ``bytes_used``\nif not.\n\nCloses-Bug: #1960206\nChange-Id: I0ca25789a0b279d82f766091235f24f429405da6\n(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)\n(cherry picked from commit 97926fb888a6cdb96640ebe4e06785e6ce198226)\n'}]",8,876473,ad5a711fdb1c73744537636c0567c4198666925a,46,8,3,14200,,,0,"RBD: Fix total_capacity

Ceph has changed the meaning of the ``bytes_used`` column in the pools
reported by the ``df`` command, which means that in some deployments the
rbd driver is not reporting the expected information ot the schedulers.

The information we should be used for the calculations is returned in
the ``stored`` field in those systems.

This patch uses ``stored`` when present and fallbacks to ``bytes_used``
if not.

Closes-Bug: #1960206
Change-Id: I0ca25789a0b279d82f766091235f24f429405da6
(cherry picked from commit 86d9ec5d5932557ade18e7893cc2b8f564b5b2d8)
(cherry picked from commit 97926fb888a6cdb96640ebe4e06785e6ce198226)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/876473/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-total_capacity-60f10b45e3a8c8ea.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,2f798cb06a34a669459f2de6ab55d06aa985d221,rbd-total_capacity-stored-reported," @ddt.data( # Normal case, no quota and dynamic total {'free_capacity': 27.0, 'total_capacity': 28.44}, # No quota and static total {'dynamic_total': False, 'free_capacity': 27.0, 'total_capacity': 59.96}, # Quota and dynamic total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'free_capacity': 1, 'total_capacity': 2.44}, # Quota and static total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'dynamic_total': False, 'free_capacity': 1, 'total_capacity': 3.00}, # Quota and dynamic total when free would be negative {'quota_max_bytes': 1073741824, 'free_capacity': 0, 'total_capacity': 1.44}, ) @ddt.unpack @common_mocks def test_get_pool_nautilus(self, free_capacity, total_capacity, max_avail=28987613184, quota_max_bytes=0, dynamic_total=True): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster.mon_command.side_effect = [ (0, '{""stats"":{""total_bytes"":64385286144,' '""total_used_bytes"":3289628672,""total_avail_bytes"":61095657472},' '""pools"":[{""name"":""rbd"",""id"":2,""stats"":{""kb_used"":1510197,' '""stored"":1546440971,""bytes_used"":4639322913,""max_avail"":%s,' '""objects"":412}},{""name"":""volumes"",""id"":3,""stats"":{""kb_used"":0,' '""bytes_used"":0,""max_avail"":28987613184,""objects"":0}}]}\n' % max_avail, ''), (0, '{""pool_name"":""volumes"",""pool_id"":4,""quota_max_objects"":0,' '""quota_max_bytes"":%s}\n' % quota_max_bytes, ''), ] with mock.patch.object(self.driver.configuration, 'safe_get', return_value=dynamic_total): result = self.driver._get_pool_stats() client.cluster.mon_command.assert_has_calls([ mock.call('{""prefix"":""df"", ""format"":""json""}', b''), mock.call('{""prefix"":""osd pool get-quota"", ""pool"": ""rbd"",' ' ""format"":""json""}', b''), ]) self.assertEqual((free_capacity, total_capacity), result) ",,58,2
openstack%2Fneutron~master~I8281bd8a902bcaba1187565e9610d598e4ebc254,openstack/neutron,master,I8281bd8a902bcaba1187565e9610d598e4ebc254,[S-RBAC] Get QoS rule types API available for READER role,MERGED,2023-05-05 11:14:44.000000000,2023-05-16 12:03:43.000000000,2023-05-16 12:02:27.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-05 11:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c4e0df84ac6c250158fee2ea566dc93699cd869', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n'}, {'number': 2, 'created': '2023-05-09 10:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1c097144f0bd6fe1e64f06b59b78f4dea74c64a', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n'}, {'number': 3, 'created': '2023-05-10 10:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c92f04584716f09aefe638550c9934baf9a9c25', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n'}, {'number': 4, 'created': '2023-05-11 11:15:29.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01de74dedfdc306b0331aae4f970f0c5bca5cb48', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n'}]",9,882414,01de74dedfdc306b0331aae4f970f0c5bca5cb48,40,7,4,16688,,,0,"[S-RBAC] Get QoS rule types API available for READER role

API call ""get_rule_types"" should be available in new policies for
all users with READER role as this is kind of the same what was in the
old policies (ANY).

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818

Closes-Bug: #2018585
Change-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/882414/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py']",2,3c4e0df84ac6c250158fee2ea566dc93699cd869,bug/2018585,," def test_get_rule_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_rule_type', self.target) ",5,7
openstack%2Foctavia~master~Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70,openstack/octavia,master,Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70,DNM/WIP Debugging rocky linux nft/iptables,ABANDONED,2023-02-17 06:22:23.000000000,2023-05-16 11:49:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-17 06:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/520443ebc028480e107acbe8c929bcdf45b10711', 'message': 'DNM/WIP Debugging rocky linux nft/iptables\n\nChange-Id: Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70\n'}, {'number': 2, 'created': '2023-05-15 09:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4c33c35e552d7b14c7b20c778ca3fc9fc06f8b7f', 'message': 'DNM/WIP Debugging rocky linux nft/iptables\n\nChange-Id: Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70\n'}, {'number': 3, 'created': '2023-05-15 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/61574acd6a795d0e0094088b12689efe459a8357', 'message': 'DNM/WIP Debugging rocky linux nft/iptables\n\nChange-Id: Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70\n'}, {'number': 4, 'created': '2023-05-15 19:03:10.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2908fc264a6d7efc7ab91a3658debe180f2e4fce', 'message': 'DNM/WIP Debugging rocky linux nft/iptables\n\nChange-Id: Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70\n'}]",0,874193,2908fc264a6d7efc7ab91a3658debe180f2e4fce,9,1,4,29244,,,0,"DNM/WIP Debugging rocky linux nft/iptables

Change-Id: Ie7bf7c1ecdbbf2c06fcfbbd65f59e6237be45a70
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/874193/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,520443ebc028480e107acbe8c929bcdf45b10711,," echo ""iptables-save output:"" echo ""XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"" sudo iptables-save || true echo ""XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"" echo ""nft list ruleset output:"" echo ""XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"" sudo nft list ruleset || true echo ""XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX""",,9,0
openstack%2Fopenstacksdk~master~I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2,openstack/openstacksdk,master,I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2,identity: Add access rule CRUD support,NEW,2020-06-09 10:11:39.000000000,2023-05-16 11:46:40.000000000,,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 8482}, {'_account_id': 15025}, {'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 10:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/429a44419ae0a0f201d802037446b633ee956cdb', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 2, 'created': '2020-06-09 10:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4386b9db29acee6f50a64c871cf32a9c30da93aa', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 3, 'created': '2020-06-09 10:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/83bf75312656406f33f92f0c42d649a2b5fc5b3a', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 4, 'created': '2020-06-10 06:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/61b945560ea8e83028122c34d4e2dd5c21736993', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 5, 'created': '2020-06-10 07:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc6b3a9c51d2eac0067f8101528886d9e32a2637', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 6, 'created': '2020-06-25 08:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7d65a2aa301af3626b7b252b0058bc1f3b79c0f3', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 7, 'created': '2020-06-26 12:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6765dcc70ee1c2319b0401529bd18344ceba3ec7', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 8, 'created': '2020-06-26 12:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/117e11d7d882d01ab602da44268ea29458690ed9', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 9, 'created': '2020-06-30 11:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b951876769f1ea7cb14fd4912212c6d006b6b3a6', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 10, 'created': '2020-07-02 15:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dec5c1e26f77e0ee21702d554f745fb9d5516d6b', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 11, 'created': '2023-05-16 10:16:50.000000000', 'files': ['openstack/tests/functional/identity/v3/test_access_rule.py', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/access_rule.py', 'openstack/identity/v3/application_credential.py', 'openstack/tests/unit/identity/v3/test_access_rule.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'releasenotes/notes/add_access_rules-06eb8a1f9fcd9367.yaml', 'openstack/tests/unit/identity/v3/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4faf511f4ffb2222cde2d011d8f0a4d6e8407c6d', 'message': 'identity: Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1] https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}]",23,734549,4faf511f4ffb2222cde2d011d8f0a4d6e8407c6d,44,10,11,27621,,,0,"identity: Add access rule CRUD support

This patch adds the client support of access rule in
application credentials [1].

[1] https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules

Change-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/734549/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/identity/v3/test_access_rule.py', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/access_rule.py', 'openstack/identity/v3/application_credential.py', 'openstack/tests/unit/identity/v3/test_access_rule.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'releasenotes/notes/add_access_rules-06eb8a1f9fcd9367.yaml']",7,429a44419ae0a0f201d802037446b633ee956cdb,734549,--- features: - | Added CRUD support for `access_rules <https://docs.openstack.org/keystone/latest/user/application_credentials.html#access-rules>`_. ,,327,105
openstack%2Ftripleo-common~stable%2Fwallaby~Ide494173bcaecbd3967e6688e5d49b5235f95ec9,openstack/tripleo-common,stable/wallaby,Ide494173bcaecbd3967e6688e5d49b5235f95ec9,Wire-in tss kolla user creation,ABANDONED,2023-05-04 15:50:17.000000000,2023-05-16 11:45:59.000000000,,"[{'_account_id': 6926}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 15:50:17.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62236c64a494a2c90fc8419641d20d6791878313', 'message': 'Wire-in tss kolla user creation\n\nFollow-up Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\n\nMake sure the tss user is created during TCIB\n\nChange-Id: Ide494173bcaecbd3967e6688e5d49b5235f95ec9\nRelated: rhbz#1782128\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,882336,62236c64a494a2c90fc8419641d20d6791878313,4,3,1,6926,,,0,"Wire-in tss kolla user creation

Follow-up Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018

Make sure the tss user is created during TCIB

Change-Id: Ide494173bcaecbd3967e6688e5d49b5235f95ec9
Related: rhbz#1782128
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/882336/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,62236c64a494a2c90fc8419641d20d6791878313,,- run: bash /usr/local/bin/uid_gid_manage kolla hugetlbfs libvirt qemu tss,- run: bash /usr/local/bin/uid_gid_manage kolla hugetlbfs libvirt qemu,1,1
openstack%2Fcinder~master~Ieda7e1d5612053ca696e90f1d9ab5b312dc8f7bb,openstack/cinder,master,Ieda7e1d5612053ca696e90f1d9ab5b312dc8f7bb,Add log for volume upload operation,NEW,2022-11-25 14:44:19.000000000,2023-05-16 11:26:20.000000000,,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32074}, {'_account_id': 32238}, {'_account_id': 33473}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-11-25 14:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e87f3f2e005ce23b6d83e65e8742127ab9c3a669', 'message': 'WIP: Add log for image upload time\n\nAdding log message to show image upload time for a normal volume\nupload case (no conversion, not compressed).\n\nChange-Id: Ieda7e1d5612053ca696e90f1d9ab5b312dc8f7bb\n'}, {'number': 2, 'created': '2023-02-08 11:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/912d18d9103e4243a1a8702bbe246aad4b1fb616', 'message': 'Add log for volume upload operation\n\nThis patch adds log message to show the image size\nand speed for upload volume to image operation.\nThis helps while debugging cases where upload speed is slow\nor partial data is transferred during the upload due to a\nflaky network or other issues.\n\nChange-Id: Ieda7e1d5612053ca696e90f1d9ab5b312dc8f7bb\n'}, {'number': 3, 'created': '2023-05-05 08:33:56.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5ca7d818fda8a01b80cc32692f3354dd79ed3f5', 'message': 'Add log for volume upload operation\n\nThis patch adds log message to show the image size\nand speed for upload volume to image operation.\nThis helps while debugging cases where upload speed is slow\nor partial data is transferred during the upload due to a\nflaky network or other issues.\n\nChange-Id: Ieda7e1d5612053ca696e90f1d9ab5b312dc8f7bb\n'}]",11,865695,f5ca7d818fda8a01b80cc32692f3354dd79ed3f5,75,8,3,27615,,,0,"Add log for volume upload operation

This patch adds log message to show the image size
and speed for upload volume to image operation.
This helps while debugging cases where upload speed is slow
or partial data is transferred during the upload due to a
flaky network or other issues.

Change-Id: Ieda7e1d5612053ca696e90f1d9ab5b312dc8f7bb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/865695/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,e87f3f2e005ce23b6d83e65e8742127ab9c3a669,865695," start_time = timeutils.utcnow() duration = timeutils.delta_seconds(start_time, timeutils.utcnow()) fsz_mb = os.stat(image_file.name).st_size / units.Mi mbps = (fsz_mb / duration) msg = ""Image upload %(sz).2f MB at %(mbps).2f MB/s"" LOG.info(msg, {""sz"": fsz_mb, ""mbps"": mbps})",,7,0
openstack%2Fcharm-cinder-three-par~stable%2F2023.1~I259d83b13470956a5a246697d02c38db9283c49d,openstack/charm-cinder-three-par,stable/2023.1,I259d83b13470956a5a246697d02c38db9283c49d,Stable artefacts for stable/2023.1 (antelope),MERGED,2023-04-20 18:00:24.000000000,2023-05-16 11:23:15.000000000,2023-05-16 11:23:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 18:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-three-par/commit/e065b01cef7881cf08d4235c21b1fb510059ce45', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I259d83b13470956a5a246697d02c38db9283c49d\n'}, {'number': 2, 'created': '2023-05-09 11:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-three-par/commit/88ef2025e44805a9b7ebf8ea34401f7a3dc523c3', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I259d83b13470956a5a246697d02c38db9283c49d\n'}, {'number': 3, 'created': '2023-05-16 10:19:28.000000000', 'files': ['tests/bundles/lunar-antelope.yaml', 'requirements.txt', '.gitreview', 'test-requirements.txt', '.locked-requirements', '.zuul.yaml', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-three-par/commit/43aa1a4b518d362fef05ef41684798baec2095e2', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I259d83b13470956a5a246697d02c38db9283c49d\n'}]",8,881091,43aa1a4b518d362fef05ef41684798baec2095e2,25,3,3,20870,,,0,"Stable artefacts for stable/2023.1 (antelope)

This patch is to lock the stable/2023.1 (antelope release) charms
down so that as much as possible.
In particular, this patch does:

- set the .gitreview to stable/2023.1
- lock zaza and zaza-openstack-tests to stable/antelope branches
- for reactive charms Add build.lock files to lock the layers
  and python modules used to build the charm.
- for ops framework charms, extract a pip freeze from the
  charmcraft container after building the charm to lock the
  modules used to build the charm.
- drop the kinetic bundles if the exist. (Note the updates to
  tests.yaml is in another batch (topic: antelope-voting)
- update the bundles so that they point to the antelope specific
  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for
  OVN charms, quincy/edge for Ceph charms and generally, the
  appropriate LTS Jammy branch for the various support charms.

Change-Id: I259d83b13470956a5a246697d02c38db9283c49d
",git fetch https://review.opendev.org/openstack/charm-cinder-three-par refs/changes/91/881091/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'requirements.txt', 'tests/bundles/lunar-antelope.yaml', '.gitreview', 'test-requirements.txt', '.locked-requirements', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed.yaml']",8,e065b01cef7881cf08d4235c21b1fb510059ce45,antelope-stable-charms, channel: 2023.1/edge,,15,40
openstack%2Fnova~stable%2Fwallaby~Icbdcd5d124717e195d55d9e42530611ed812fadd,openstack/nova,stable/wallaby,Icbdcd5d124717e195d55d9e42530611ed812fadd,CI: fix backport validator for new branch naming,MERGED,2023-05-11 15:09:48.000000000,2023-05-16 11:23:00.000000000,2023-05-16 11:21:50.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:09:48.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e3a8a1ba7c27d1508abc2e21921774f3cf29089', 'message': 'CI: fix backport validator for new branch naming\n\nvalidate-backport job started to fail as only old stable branch naming\nis accepted. This patch extends the script to allow numbers and dot as\nwell in the branch names (like stable/2023.1).\n\nChange-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd\n(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)\n(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)\n(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)\n(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)\n(cherry picked from commit 41895386349ee8d8acea6b1278a2b54c6f9d750f)\n'}]",1,882968,7e3a8a1ba7c27d1508abc2e21921774f3cf29089,9,3,1,17685,,,0,"CI: fix backport validator for new branch naming

validate-backport job started to fail as only old stable branch naming
is accepted. This patch extends the script to allow numbers and dot as
well in the branch names (like stable/2023.1).

Change-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd
(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)
(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)
(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)
(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)
(cherry picked from commit 41895386349ee8d8acea6b1278a2b54c6f9d750f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/882968/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,7e3a8a1ba7c27d1508abc2e21921774f3cf29089,validate-backport-release-id," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z0-9.]+)')"," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)')",1,1
openstack%2Fnova~stable%2F2023.1~I5a35a45abfcfbbb858a94927853777f112e73e5b,openstack/nova,stable/2023.1,I5a35a45abfcfbbb858a94927853777f112e73e5b,Handle zero pinned CPU in a cell with mixed policy,MERGED,2023-05-08 08:56:49.000000000,2023-05-16 11:22:53.000000000,2023-05-16 11:21:43.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-08 08:56:49.000000000', 'files': ['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40', 'message': 'Handle zero pinned CPU in a cell with mixed policy\n\nWhen cpu_policy is mixed the scheduler tries to find a valid CPU pinning\nfor each instance NUMA cell. However if there is an instance NUMA cell\nthat does not request any pinned CPUs then such logic will calculate\nempty pinning information for that cell. Then the scheduler logic\nwrongly assumes that an empty pinning result means there was no valid\npinning. However there is difference between a None result when no valid\npinning found, from an empty result [] which means there was nothing to\npin.\n\nThis patch makes sure that pinning == None is differentiated from\npinning == [].\n\nCloses-Bug: #1994526\nChange-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b\n(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)\n'}]",4,882509,fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40,14,4,1,9708,,,0,"Handle zero pinned CPU in a cell with mixed policy

When cpu_policy is mixed the scheduler tries to find a valid CPU pinning
for each instance NUMA cell. However if there is an instance NUMA cell
that does not request any pinned CPUs then such logic will calculate
empty pinning information for that cell. Then the scheduler logic
wrongly assumes that an empty pinning result means there was no valid
pinning. However there is difference between a None result when no valid
pinning found, from an empty result [] which means there was nothing to
pin.

This patch makes sure that pinning == None is differentiated from
pinning == [].

Closes-Bug: #1994526
Change-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b
(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/882509/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40,bug/1994526," expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, } server = self._run_build_test( flavor_id, expected_usage=expected_usage) # sanity check the instance topology inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(2, len(inst.numa_topology.cells)) self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) self.assertIsNone(inst.numa_topology.cells[0].cpu_pinning) self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) self.assertEqual( {6, 7}, set(inst.numa_topology.cells[1].cpu_pinning.values()) )"," # This is bug 1994526 as the scheduling fails self._run_build_test(flavor_id, end_status='ERROR') # # After bug 1994526 is fixed, this should pass # expected_usage = { # 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, # } # server = self._run_build_test( # flavor_id, expected_usage=expected_usage) # # # sanity check the instance topology # inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # # self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) # self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) # self.assertEqual(None, inst.numa_topology.cells[0].cpu_pinning) # # self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) # self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) # self.assertEqual( # {6, 7}, # set(inst.numa_topology.cells[1].cpu_pinning.values()) # )",25,27
openstack%2Fopenstacksdk~master~Ie098e0421469a33b52893ea83fbedeba14903206,openstack/openstacksdk,master,Ie098e0421469a33b52893ea83fbedeba14903206,Adding basic implementation for Accelerator attribute resource,NEW,2023-05-16 09:04:21.000000000,2023-05-16 11:20:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 09:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6418b67cfbd3a003610553814c870f1e05ee51c7', 'message': 'Adding basic implementation for Accelerator attribute resource\n\nThis patch supports Cyborg attribute resource APIs.\n\nChange-Id: Ie098e0421469a33b52893ea83fbedeba14903206\n'}, {'number': 2, 'created': '2023-05-16 09:52:00.000000000', 'files': ['openstack/accelerator/v2/attribute.py', 'openstack/tests/unit/accelerator/v2/test_attribute.py', 'openstack/accelerator/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/815e9bb4fc6a0999011b41b9e1b54d92e9a59e26', 'message': 'Adding basic implementation for Accelerator attribute resource\n\nThis patch supports Cyborg attribute resource APIs.\n\nChange-Id: Ie098e0421469a33b52893ea83fbedeba14903206\n'}]",1,883238,815e9bb4fc6a0999011b41b9e1b54d92e9a59e26,3,1,2,31412,,,0,"Adding basic implementation for Accelerator attribute resource

This patch supports Cyborg attribute resource APIs.

Change-Id: Ie098e0421469a33b52893ea83fbedeba14903206
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/38/883238/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/accelerator/v2/attribute.py', 'openstack/accelerator/v2/_proxy.py']",2,6418b67cfbd3a003610553814c870f1e05ee51c7,883238,"from openstack.accelerator.v2 import attribute as _attribute def attributes(self, **query): """"""Retrieve a generator of attributes. :param kwargs query: Optional query parameters to be sent to restrict the attributes to be returned. :returns: A generator of attribute instances. """""" return self._list(_attribute.Attribute, **query) def create_attribute(self, **attrs): """"""Create a attribute. :param kwargs attrs: a list of attributes. :returns: The list of created attributes """""" return self._create(_attribute.Attribute, **attrs) def delete_attribute(self, attribute, ignore_missing=True): """"""Delete a attribute :param attribute: The value can be either the ID of a attributes or a :class:`~openstack.accelerator.v2.attribute.Attributes` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the device profile does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent device profile. :returns: ``None`` """""" return self._delete( _attribute.Attribute, attribute, ignore_missing=ignore_missing, ) def get_attribute(self, uuid, fields=None): """"""Get a single device profile. :param uuid: The value can be the UUID of a attribute. :returns: One :class: `~openstack.accelerator.v2.attribute.Attribute` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no device profile matching the criteria could be found. """""" return self._get(_attribute.Attribute, uuid)",,85,0
openstack%2Fnetworking-sfc~master~Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a,openstack/networking-sfc,master,Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a,Fix issues due to rcent RBAC changes,ABANDONED,2023-05-12 12:15:20.000000000,2023-05-16 11:11:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-12 12:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1fe4fea90d8e5aa8ba8ae269b7ee385ff6174f86', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a\nRelated-Bug: 2019097\n'}, {'number': 2, 'created': '2023-05-12 12:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/20a88e13d153ace20af5ae0b7129ff3f585fefd9', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a\nRelated-Bug: 2019097\n'}, {'number': 3, 'created': '2023-05-12 15:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/bc6c6df2acbf0044384825019027e1b9314d7dc6', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a\nRelated-Bug: 2019097\n'}, {'number': 4, 'created': '2023-05-12 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9478a6707792538979b0d1a5ae81c52975fb17fd', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a\nRelated-Bug: 2019097\n'}, {'number': 5, 'created': '2023-05-16 09:23:38.000000000', 'files': ['requirements.txt', 'networking_sfc/tests/base.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7415e79ebc2919e0e2017a72ad1ee46275db4eda', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a\nRelated-Bug: 2019097\n'}]",3,883061,7415e79ebc2919e0e2017a72ad1ee46275db4eda,11,1,5,8313,,,0,"Fix issues due to rcent RBAC changes

neutron recently merged a commit enabling secure rbacs by default [1]
breaking several unit tests of networking-sfc.
This patch changes the necessary test calls to be admin and
requires neutron >= 23.0.0.0b1.

[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00

Change-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a
Related-Bug: 2019097
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/61/883061/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_sfc/tests/base.py']",2,1fe4fea90d8e5aa8ba8ae269b7ee385ff6174f86,bug/2019097," port = self._make_port(fmt or self.fmt, net_id, as_admin=True, **kwargs)"," port = self._make_port(fmt or self.fmt, net_id, **kwargs)",3,2
openstack%2Fnova~stable%2F2023.1~I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf,openstack/nova,stable/2023.1,I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf,Reproduce asym NUMA mixed CPU policy bug,MERGED,2023-05-08 08:56:49.000000000,2023-05-16 11:10:59.000000000,2023-05-16 11:09:42.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-08 08:56:49.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cf835be82e11505ae8609deba83d61a34ecaa8d', 'message': 'Reproduce asym NUMA mixed CPU policy bug\n\nRelated-Bug: #1994526\nChange-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf\n(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)\n'}]",2,882508,2cf835be82e11505ae8609deba83d61a34ecaa8d,11,4,1,9708,,,0,"Reproduce asym NUMA mixed CPU policy bug

Related-Bug: #1994526
Change-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf
(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/882508/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,2cf835be82e11505ae8609deba83d61a34ecaa8d,bug/1994526," def test_create_server_with_mixed_policy_asymmetric_multi_numa(self): """"""Boot an instance stretched to two NUMA nodes requesting only shared CPUs in one NUMA and only dedicated in the other NUMA node. """""" # shared dedicated # NUMA0 pCPU | 0 | 2 3 # NUMA1 pCPU | | 6 7 self.flags( cpu_shared_set='0', cpu_dedicated_set='2,3,6,7', group='compute', ) self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=4, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') # sanity check the created host topology object; this is really just a # test of the fakelibvirt module host_numa = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, 'compute1', ).numa_topology ) self.assertEqual(2, len(host_numa.cells)) self.assertEqual({0}, host_numa.cells[0].cpuset) self.assertEqual({2, 3}, host_numa.cells[0].pcpuset) self.assertEqual(set(), host_numa.cells[1].cpuset) self.assertEqual({6, 7}, host_numa.cells[1].pcpuset) # create a flavor with 1 shared and 2 dedicated CPUs stretched to # different NUMA nodes extra_spec = { 'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '^0', 'hw:numa_nodes': '2', 'hw:numa_cpus.0': '0', 'hw:numa_cpus.1': '1,2', 'hw:numa_mem.0': '256', 'hw:numa_mem.1': '768', } flavor_id = self._create_flavor( vcpu=3, memory_mb=1024, extra_spec=extra_spec) # The only possible solution (ignoring the order of vCPU1,2): # vCPU 0 => pCPU 0, NUMA0, shared # vCPU 1 => pCPU 6, NUMA1, dedicated # vCPU 2 => pCPU 7, NUMA1, dedicated # This is bug 1994526 as the scheduling fails self._run_build_test(flavor_id, end_status='ERROR') # # After bug 1994526 is fixed, this should pass # expected_usage = { # 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, # } # server = self._run_build_test( # flavor_id, expected_usage=expected_usage) # # # sanity check the instance topology # inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # # self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) # self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) # self.assertEqual(None, inst.numa_topology.cells[0].cpu_pinning) # # self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) # self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) # self.assertEqual( # {6, 7}, # set(inst.numa_topology.cells[1].cpu_pinning.values()) # ) ",,74,0
openstack%2Fnova~stable%2Fzed~I52b52e65b689dadbdb08122c94652c491f850de6,openstack/nova,stable/zed,I52b52e65b689dadbdb08122c94652c491f850de6,"Revert ""Debug Nova APIs call failures""",MERGED,2023-05-11 15:29:20.000000000,2023-05-16 11:10:59.000000000,2023-05-16 11:09:35.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-11 15:29:20.000000000', 'files': ['nova/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/91ee67019e0eb89290e599b2283f1f421718b796', 'message': 'Revert ""Debug Nova APIs call failures""\n\nThis reverts commit afb0f774841d30dcae9c074d524e7fa9be840678.\n\nReason for revert: \n\nWe unfortunately leak the token in the logs which is considered a security flaw, even if only provided on DEBUG level.\n\nChange-Id: I52b52e65b689dadbdb08122c94652c491f850de6\nCloses-Bug: #2012993\n(cherry picked from commit 6833695e70bba31b84a0a19301657bc59ae1710b)\n(cherry picked from commit a02f96687350ad74d9921406a525ee991bbe8882)\n'}]",5,882786,91ee67019e0eb89290e599b2283f1f421718b796,16,4,1,7166,,,0,"Revert ""Debug Nova APIs call failures""

This reverts commit afb0f774841d30dcae9c074d524e7fa9be840678.

Reason for revert: 

We unfortunately leak the token in the logs which is considered a security flaw, even if only provided on DEBUG level.

Change-Id: I52b52e65b689dadbdb08122c94652c491f850de6
Closes-Bug: #2012993
(cherry picked from commit 6833695e70bba31b84a0a19301657bc59ae1710b)
(cherry picked from commit a02f96687350ad74d9921406a525ee991bbe8882)
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/882786/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/wsgi.py'],1,91ee67019e0eb89290e599b2283f1f421718b796,debug-api,," LOG.debug(f'Request method failure captured:\n' f' request: {request}\n' f' method: {meth}\n' f' exception: {ex}\n' f' action_args: {action_args}\n', exc_info=1)",0,6
openstack%2Fneutron~stable%2Fzed~I8a99bc52bd815fb3395e902fc8f85cf5f187e288,openstack/neutron,stable/zed,I8a99bc52bd815fb3395e902fc8f85cf5f187e288,[S-RBAC] Get availability zone API available for READER role,MERGED,2023-05-04 07:53:59.000000000,2023-05-16 11:10:49.000000000,2023-05-16 11:09:30.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 07:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eca37fd8e839bd4e9fffef41ea1a4a0bc58ef3f3', 'message': '[S-RBAC] Get availability zone API available for READER role\n\nAPI call get_availability_zone should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-bug: #2016266\n\nChange-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288\n(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)\n'}, {'number': 2, 'created': '2023-05-08 09:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a0cb40fed633b7bd484cd00025b491e9563967a', 'message': '[S-RBAC] Get availability zone API available for READER role\n\nAPI call get_availability_zone should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-bug: #2016266\n\nChange-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288\n(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)\n'}, {'number': 3, 'created': '2023-05-08 09:12:52.000000000', 'files': ['neutron/tests/unit/conf/policies/test_availability_zone.py', 'neutron/conf/policies/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/876c681821db24cd8c8479790a302ab698c7c1d3', 'message': '[S-RBAC] Get availability zone API available for READER role\n\nAPI call get_availability_zone should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-bug: #2016266\n\nChange-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288\n(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)\n'}]",2,882224,876c681821db24cd8c8479790a302ab698c7c1d3,15,3,3,11975,,,0,"[S-RBAC] Get availability zone API available for READER role

API call get_availability_zone should be available in new policies for
all users with READER role as this is kind of the same what was in the
old policies (ANY).

Closes-bug: #2016266

Change-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288
(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/882224/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/conf/policies/test_availability_zone.py', 'neutron/conf/policies/availability_zone.py']",2,eca37fd8e839bd4e9fffef41ea1a4a0bc58ef3f3,secure-rbac-stable/2023.1-stable/zed," # NOTE: it can't be ADMIN_OR_PROJECT_READER constant from the base # module because that is using ""project_id"" in the check string and the # availability_zone resource don't belongs to any project thus such # check string would fail enforcement. check_str='role:reader',","from neutron.conf.policies import base check_str=base.ADMIN,",5,9
openstack%2Fneutron~stable%2F2023.1~I8a99bc52bd815fb3395e902fc8f85cf5f187e288,openstack/neutron,stable/2023.1,I8a99bc52bd815fb3395e902fc8f85cf5f187e288,[S-RBAC] Get availability zone API available for READER role,MERGED,2023-05-04 07:53:41.000000000,2023-05-16 11:10:45.000000000,2023-05-16 11:09:26.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 07:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41c2fd7cf0b44a5692fec161026c34c3288c2e0d', 'message': '[S-RBAC] Get availability zone API available for READER role\n\nAPI call get_availability_zone should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-bug: #2016266\n\nChange-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288\n(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)\n'}, {'number': 2, 'created': '2023-05-08 09:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e11b283730f34adc38f1996263432a1a34efac9', 'message': '[S-RBAC] Get availability zone API available for READER role\n\nAPI call get_availability_zone should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-bug: #2016266\n\nChange-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288\n(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)\n'}, {'number': 3, 'created': '2023-05-08 09:12:38.000000000', 'files': ['neutron/tests/unit/conf/policies/test_availability_zone.py', 'neutron/conf/policies/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7ccc75e0a41af5dd256ae564e7eb0f7b9473515', 'message': '[S-RBAC] Get availability zone API available for READER role\n\nAPI call get_availability_zone should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nCloses-bug: #2016266\n\nChange-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288\n(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)\n'}]",2,882223,e7ccc75e0a41af5dd256ae564e7eb0f7b9473515,14,3,3,11975,,,0,"[S-RBAC] Get availability zone API available for READER role

API call get_availability_zone should be available in new policies for
all users with READER role as this is kind of the same what was in the
old policies (ANY).

Closes-bug: #2016266

Change-Id: I8a99bc52bd815fb3395e902fc8f85cf5f187e288
(cherry picked from commit 6b5acb58357b94fad7c3868ab650726b922af51a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/882223/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/conf/policies/test_availability_zone.py', 'neutron/conf/policies/availability_zone.py']",2,41c2fd7cf0b44a5692fec161026c34c3288c2e0d,secure-rbac-stable/2023.1," # NOTE: it can't be ADMIN_OR_PROJECT_READER constant from the base # module because that is using ""project_id"" in the check string and the # availability_zone resource don't belongs to any project thus such # check string would fail enforcement. check_str='role:reader',","from neutron.conf.policies import base check_str=base.ADMIN,",5,9
openstack%2Foslo.utils~master~Ie5f18dcd2d36cd637bfd799bde664ec13b51a711,openstack/oslo.utils,master,Ie5f18dcd2d36cd637bfd799bde664ec13b51a711,Remove reference to monotonic on PyPI,NEW,2023-05-05 11:53:23.000000000,2023-05-16 11:10:38.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-05 11:53:23.000000000', 'files': ['oslo_utils/timeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c4746ef64300b4869da905f47a8dbde6f1ad294e', 'message': 'Remove reference to monotonic on PyPI\n\nThe monotonic module is no longer in use and\nthis comment is left here incorrectly.\n\nChange-Id: Ie5f18dcd2d36cd637bfd799bde664ec13b51a711\n'}]",1,882435,c4746ef64300b4869da905f47a8dbde6f1ad294e,4,3,1,16137,,,0,"Remove reference to monotonic on PyPI

The monotonic module is no longer in use and
this comment is left here incorrectly.

Change-Id: Ie5f18dcd2d36cd637bfd799bde664ec13b51a711
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/35/882435/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/timeutils.py'],1,c4746ef64300b4869da905f47a8dbde6f1ad294e,,, It will use the `monotonic`_ pypi library to find an appropriate monotonically increasing time providing function (which typically varies depending on operating system and python version). .. _monotonic: https://pypi.org/project/monotonic/ ,0,6
openstack%2Ftripleo-quickstart-extras~master~I0d3966af5fc6b9236c5bc255282aadd3c48aaa63,openstack/tripleo-quickstart-extras,master,I0d3966af5fc6b9236c5bc255282aadd3c48aaa63,Allow passing changes to build-test-packages in zuul job vars,ABANDONED,2022-06-23 23:31:39.000000000,2023-05-16 11:09:35.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-06-23 23:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/434353d0b5a35ca0e47be24eedf4af988a220fba', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 2, 'created': '2022-06-23 23:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c678e4e130cceb55092c6069e9cef91a8895aeeb', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 3, 'created': '2022-06-23 23:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3fb27aee3791c2421a5c9660a182d1cee359281e', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 4, 'created': '2022-06-24 01:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a727750d4dac62af3dfaf02f891e66086a608751', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 5, 'created': '2022-06-24 02:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b318907767aeac8b8c53d1ffb16853f77185eda4', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 6, 'created': '2022-06-24 03:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/11ce5f2ae2131727f54489f59ba039a3ab65a2f5', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 7, 'created': '2022-06-24 06:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c6fb20c4e9a5ff23742f9eb2e4fd2bf2721ed16', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 8, 'created': '2022-06-24 12:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/72548cb1b0cbf9f71f3464d3405113b3303b4d93', 'message': 'Allow passing changes to built-test-packages in zuul job vars\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n'}, {'number': 9, 'created': '2022-07-12 16:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f23d425642745ec88c45996fcc7fb47f8b5a16e1', 'message': ""Allow passing changes to build-test-packages in zuul job vars\n\nThis patch adds a new variable to the build-test-packages role that\nallows specifying arbitrary extra changes to be built. The intended use\ncase is for ad-hoc testing a change against a version of another\npackage that isn't currently being built by DLRN.\n\nFor example, the tripleo jobs in the master branch of\nansible-collections-openstack should be run against\nopenstacksdk>=0.99.0, but currently the rdo u-c[1] have openstacksdk\npinned to 0.61.0. With this change, ansible-collections-openstack can\ntell build-test-packages to build the correct version[2].\n\n[1] https://github.com/redhat-openstack/rdoinfo/blob/f482a6ecc45910cb6ccae448bffecfac0a6999c8/tags/zed-uc.yml#L467\n[2] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/844859\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n""}, {'number': 10, 'created': '2022-07-13 18:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c2bc35700ceaa0dce1926ecb9d93dc6d9141d447', 'message': ""Allow passing changes to build-test-packages in zuul job vars\n\nThis patch adds a new variable to the build-test-packages role that\nallows specifying arbitrary extra changes to be built. The intended use\ncase is for ad-hoc testing a change against a version of another\npackage that isn't currently being built by DLRN.\n\nFor example, the tripleo jobs in the master branch of\nansible-collections-openstack should be run against\nopenstacksdk>=0.99.0, but currently the rdo u-c[1] have openstacksdk\npinned to 0.61.0. With this change, ansible-collections-openstack can\ntell build-test-packages to build the correct version[2].\n\n[1] https://github.com/redhat-openstack/rdoinfo/blob/f482a6ecc45910cb6ccae448bffecfac0a6999c8/tags/zed-uc.yml#L467\n[2] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/844859\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n""}, {'number': 11, 'created': '2022-07-14 08:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7489f900a6e8579bf42a7f1c7090230722aa3283', 'message': ""Allow passing changes to build-test-packages in zuul job vars\n\nThis patch adds a new variable to the build-test-packages role that\nallows specifying arbitrary extra changes to be built. The intended use\ncase is for ad-hoc testing a change against a version of another\npackage that isn't currently being built by DLRN.\n\nFor example, the tripleo jobs in the master branch of\nansible-collections-openstack should be run against\nopenstacksdk>=0.99.0, but currently the rdo u-c[1] have openstacksdk\npinned to 0.61.0. With this change, ansible-collections-openstack can\ntell build-test-packages to build the correct version[2].\n\n[1] https://github.com/redhat-openstack/rdoinfo/blob/f482a6ecc45910cb6ccae448bffecfac0a6999c8/tags/zed-uc.yml#L467\n[2] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/844859\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n""}, {'number': 12, 'created': '2022-07-14 11:11:11.000000000', 'files': ['roles/build-test-packages/README.md', 'roles/build-test-packages/defaults/main.yml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9cfb099187630e31adbb5c736d56e1df1fea608e', 'message': ""Allow passing changes to build-test-packages in zuul job vars\n\nThis patch adds a new variable to the build-test-packages role that\nallows specifying arbitrary extra changes to be built. The intended use\ncase is for ad-hoc testing a change against a version of another\npackage that isn't currently being built by DLRN.\n\nFor example, the tripleo jobs in the master branch of\nansible-collections-openstack should be run against\nopenstacksdk>=0.99.0, but currently the rdo u-c[1] have openstacksdk\npinned to 0.61.0. With this change, ansible-collections-openstack can\ntell build-test-packages to build the correct version[2].\n\n[1] https://github.com/redhat-openstack/rdoinfo/blob/f482a6ecc45910cb6ccae448bffecfac0a6999c8/tags/zed-uc.yml#L467\n[2] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/844859\n\nChange-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63\n""}]",20,847419,9cfb099187630e31adbb5c736d56e1df1fea608e,74,11,12,34208,,,0,"Allow passing changes to build-test-packages in zuul job vars

This patch adds a new variable to the build-test-packages role that
allows specifying arbitrary extra changes to be built. The intended use
case is for ad-hoc testing a change against a version of another
package that isn't currently being built by DLRN.

For example, the tripleo jobs in the master branch of
ansible-collections-openstack should be run against
openstacksdk>=0.99.0, but currently the rdo u-c[1] have openstacksdk
pinned to 0.61.0. With this change, ansible-collections-openstack can
tell build-test-packages to build the correct version[2].

[1] https://github.com/redhat-openstack/rdoinfo/blob/f482a6ecc45910cb6ccae448bffecfac0a6999c8/tags/zed-uc.yml#L467
[2] https://review.opendev.org/c/openstack/ansible-collections-openstack/+/844859

Change-Id: I0d3966af5fc6b9236c5bc255282aadd3c48aaa63
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/847419/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-test-packages/tasks/main.yml', 'playbooks/build-test-packages.yml']",2,434353d0b5a35ca0e47be24eedf4af988a220fba,build-test-packages,- name: test test hosts: localhost tasks: - debug: var: job # - name: repo-setup # hosts: virthost # roles: # - undercloud-setup ,- include: teardown.yml - include: provision.yml,20,2
openstack%2Fopenstacksdk~stable%2Fvictoria~I93431a36398a49f130c4c5b070e4e150331465c3,openstack/openstacksdk,stable/victoria,I93431a36398a49f130c4c5b070e4e150331465c3,Point ipa-builder to stable/wallaby,NEW,2021-05-10 14:15:57.000000000,2023-05-16 11:09:33.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:15:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b7cd64ccf526f696458e6a0e5cc996f6b8c5163d', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: I93431a36398a49f130c4c5b070e4e150331465c3\n""}]",0,790464,b7cd64ccf526f696458e6a0e5cc996f6b8c5163d,5,2,1,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: I93431a36398a49f130c4c5b070e4e150331465c3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/790464/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b7cd64ccf526f696458e6a0e5cc996f6b8c5163d,ipa-builder-stable, - name: openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - openstack/ironic-python-agent-builder,2,1
openstack%2Ftacker~master~Iead03b2d6ddcf2f0e68f5d6404512642486a2bcb,openstack/tacker,master,Iead03b2d6ddcf2f0e68f5d6404512642486a2bcb,[WIP] Support Kubernetes Custom Resources for Cluster API.,NEW,2023-04-28 07:58:41.000000000,2023-05-16 10:48:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 33453}, {'_account_id': 33455}]","[{'number': 1, 'created': '2023-04-28 07:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/76fab14f55077e97291e149250a3018a550657ff', 'message': '[WIP] Support Kubernetes Custom Resources for Cluster API.\n\nThe current Tacker implementation does not support Custom Resource (CR) and can\nonly work with default Kubernetes Resource.\nHowever, CRs are already widely used to instruct Kubernetes to manage more than\njust containers.\nThis patch implements enhancements of Kubernetes infra-driver in Tacker to\nsupport Kubernetes Cluster API (CAPI) operations as an example CR.\nThis implementation can support LCM operation of Kubernetes CR as CNF.\nThe scope of the implementation includes instantiation, termination, scale and\nupdate of CNFs including CRs for CAPI.\n\nImplements: blueprint support-k8s-cr\nChange-Id: Iead03b2d6ddcf2f0e68f5d6404512642486a2bcb\n'}, {'number': 2, 'created': '2023-04-28 08:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/614821bf594a89e003408ff0e7bc9ed560054891', 'message': '[WIP] Support Kubernetes Custom Resources for Cluster API.\n\nThe current Tacker implementation does not support Custom Resource (CR)\nand can only work with default Kubernetes Resource.\nHowever, CRs are already widely used to instruct Kubernetes to manage\nmore than just containers.\nThis patch implements enhancements of Kubernetes infra-driver in Tacker\nto support Kubernetes Cluster API (CAPI) operations as an example CR.\nThis implementation can support LCM operation of Kubernetes CR as CNF.\nThe scope of the implementation includes instantiation, termination,\nscale and update of CNFs including CRs for CAPI.\n\nImplements: blueprint support-k8s-cr\nChange-Id: Iead03b2d6ddcf2f0e68f5d6404512642486a2bcb\n'}, {'number': 3, 'created': '2023-05-10 09:50:08.000000000', 'files': ['tacker/sol_refactored/infra_drivers/kubernetes/kubernetes_common.py', 'tacker/sol_refactored/infra_drivers/kubernetes/kubernetes_resource.py', 'tacker/sol_refactored/infra_drivers/kubernetes/kubernetes_utils.py', 'tacker/tests/unit/sol_refactored/conductor/test_conductor_v2.py', 'tacker/sol_refactored/infra_drivers/kubernetes/kubernetes.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/77ae6d8ad293a4c97bf7a1ce39713f2d34876114', 'message': '[WIP] Support Kubernetes Custom Resources for Cluster API.\n\nThe current Tacker implementation does not support Custom Resource (CR)\nand can only work with default Kubernetes Resource.\nHowever, CRs are already widely used to instruct Kubernetes to manage\nmore than just containers.\nThis patch implements enhancements of Kubernetes infra-driver in Tacker\nto support Kubernetes Cluster API (CAPI) operations as an example CR.\nThis implementation can support LCM operation of Kubernetes CR as CNF.\nThe scope of the implementation includes instantiation, termination,\nscale and update of CNFs including CRs for CAPI.\n\nImplements: blueprint support-k8s-cr\nChange-Id: Iead03b2d6ddcf2f0e68f5d6404512642486a2bcb\n'}]",0,881801,77ae6d8ad293a4c97bf7a1ce39713f2d34876114,5,3,3,35240,,,0,"[WIP] Support Kubernetes Custom Resources for Cluster API.

The current Tacker implementation does not support Custom Resource (CR)
and can only work with default Kubernetes Resource.
However, CRs are already widely used to instruct Kubernetes to manage
more than just containers.
This patch implements enhancements of Kubernetes infra-driver in Tacker
to support Kubernetes Cluster API (CAPI) operations as an example CR.
This implementation can support LCM operation of Kubernetes CR as CNF.
The scope of the implementation includes instantiation, termination,
scale and update of CNFs including CRs for CAPI.

Implements: blueprint support-k8s-cr
Change-Id: Iead03b2d6ddcf2f0e68f5d6404512642486a2bcb
",git fetch https://review.opendev.org/openstack/tacker refs/changes/01/881801/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/infra_drivers/kubernetes/kubernetes_common.py', 'tacker/sol_refactored/infra_drivers/kubernetes/kubernetes_resource.py', 'tacker/sol_refactored/infra_drivers/kubernetes/kubernetes_utils.py', 'tacker/sol_refactored/infra_drivers/kubernetes/kubernetes.py']",4,76fab14f55077e97291e149250a3018a550657ff,bp/support-k8s-cr,"SCALABLE_CUSTOM_KIND = {""MachineDeployment""} PATCH_CUSTOM_KIND = {""OpenStackMachineTemplate""} if vdu_res.kind in SCALABLE_KIND | SCALABLE_CUSTOM_KIND: def _custom_resource_delete(self, k8s_reses, body): for k8s_res in k8s_reses: if k8s_res.kind == ""Cluster"": cluster_k8s_reses = [] cluster_k8s_reses.append(k8s_res) self._delete_k8s_resource(cluster_k8s_reses, body) self._wait_k8s_reses_deleted(cluster_k8s_reses) reses_kinds = [k8s_res.kind for k8s_res in k8s_reses] if len(set(reses_kinds) & kubernetes_utils.SUPPORTED_CUSTOM_KINDS) > 0: self._custom_resource_delete(k8s_reses, body) for k8s_res in k8s_reses: if k8s_res.kind in PATCH_CUSTOM_KIND: k8s_res.patch() if vdu_res.kind not in SCALABLE_KIND | SCALABLE_CUSTOM_KIND: if (res.kind in kubernetes_common.TARGET_KIND | kubernetes_common.TARGET_CUSTOM_KIND", if vdu_res.kind in SCALABLE_KIND: if vdu_res.kind not in SCALABLE_KIND: if (res.kind in kubernetes_common.TARGET_KIND,250,7
openstack%2Fopenstacksdk~master~I2c6f55031fad0384dce6f78792c99d76308032c1,openstack/openstacksdk,master,I2c6f55031fad0384dce6f78792c99d76308032c1,Update python testing as per zed cycle teting runtime,ABANDONED,2022-06-04 08:43:37.000000000,2023-05-16 10:42:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-04 08:43:37.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-0d0143d5fbe489f6.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3b125897ae116a15ac97db3929e0a07f73475938', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I2c6f55031fad0384dce6f78792c99d76308032c1\n'}]",1,844696,3b125897ae116a15ac97db3929e0a07f73475938,5,1,1,33436,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I2c6f55031fad0384dce6f78792c99d76308032c1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/96/844696/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-0d0143d5fbe489f6.yaml', 'setup.cfg']",2,3b125897ae116a15ac97db3929e0a07f73475938,,python_requires = >=3.8, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7python_requires = >=3.6,6,3
openstack%2Fnova~stable%2Fwallaby~I5a35a45abfcfbbb858a94927853777f112e73e5b,openstack/nova,stable/wallaby,I5a35a45abfcfbbb858a94927853777f112e73e5b,Handle zero pinned CPU in a cell with mixed policy,NEW,2023-05-08 09:01:39.000000000,2023-05-16 10:41:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-08 09:01:39.000000000', 'files': ['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7eb06119ad2417d55c86a0eaa67d4d7772d6becd', 'message': 'Handle zero pinned CPU in a cell with mixed policy\n\nWhen cpu_policy is mixed the scheduler tries to find a valid CPU pinning\nfor each instance NUMA cell. However if there is an instance NUMA cell\nthat does not request any pinned CPUs then such logic will calculate\nempty pinning information for that cell. Then the scheduler logic\nwrongly assumes that an empty pinning result means there was no valid\npinning. However there is difference between a None result when no valid\npinning found, from an empty result [] which means there was nothing to\npin.\n\nThis patch makes sure that pinning == None is differentiated from\npinning == [].\n\nCloses-Bug: #1994526\nChange-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b\n(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)\n(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)\n(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)\n(cherry picked from commit c4e10fd7c1e928e94441b827504f49e94ad53676)\n(cherry picked from commit 201435b1595914e44dd9f24fa345f1a15775c83d)\n'}]",1,882537,7eb06119ad2417d55c86a0eaa67d4d7772d6becd,7,1,1,9708,,,0,"Handle zero pinned CPU in a cell with mixed policy

When cpu_policy is mixed the scheduler tries to find a valid CPU pinning
for each instance NUMA cell. However if there is an instance NUMA cell
that does not request any pinned CPUs then such logic will calculate
empty pinning information for that cell. Then the scheduler logic
wrongly assumes that an empty pinning result means there was no valid
pinning. However there is difference between a None result when no valid
pinning found, from an empty result [] which means there was nothing to
pin.

This patch makes sure that pinning == None is differentiated from
pinning == [].

Closes-Bug: #1994526
Change-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b
(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)
(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)
(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)
(cherry picked from commit c4e10fd7c1e928e94441b827504f49e94ad53676)
(cherry picked from commit 201435b1595914e44dd9f24fa345f1a15775c83d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/882537/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,7eb06119ad2417d55c86a0eaa67d4d7772d6becd,bug/1994526," expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, } server = self._run_build_test( flavor_id, expected_usage=expected_usage) # sanity check the instance topology inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(2, len(inst.numa_topology.cells)) self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) self.assertIsNone(inst.numa_topology.cells[0].cpu_pinning) self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) self.assertEqual( {6, 7}, set(inst.numa_topology.cells[1].cpu_pinning.values()) )"," # This is bug 1994526 as the scheduling fails self._run_build_test(flavor_id, end_status='ERROR') # # After bug 1994526 is fixed, this should pass # expected_usage = { # 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, # } # server = self._run_build_test( # flavor_id, expected_usage=expected_usage) # # # sanity check the instance topology # inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # # self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) # self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) # self.assertEqual(None, inst.numa_topology.cells[0].cpu_pinning) # # self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) # self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) # self.assertEqual( # {6, 7}, # set(inst.numa_topology.cells[1].cpu_pinning.values()) # )",25,27
openstack%2Fopenstacksdk~master~I97903b5caf05532dc78a19bf63100ee92560d12c,openstack/openstacksdk,master,I97903b5caf05532dc78a19bf63100ee92560d12c,Add all_projects parameter to find_server,ABANDONED,2022-09-15 17:14:42.000000000,2023-05-16 10:37:27.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-15 17:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/05b2c2f14920234f25a21f79322047c6da266356', 'message': 'Add all_projects parameter to find_project\n\nget_project from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 2, 'created': '2022-09-16 00:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/94541604a010a338e2fefa491367a99e66160b1a', 'message': 'Add all_projects parameter to find_project\n\nget_project from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 3, 'created': '2022-09-16 04:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/330626adab38e4faf5a4eaad5460c8cd5c196573', 'message': 'Add all_projects parameter to find_project\n\nget_project from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 4, 'created': '2022-10-25 06:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/97c25a3fc6c4aaefc0c6191917845672fb24834b', 'message': 'Add all_projects parameter to find_project\n\nget_project from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 5, 'created': '2022-10-25 06:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5a1ee66be436be0a324f0df7a5249989e3bf6351', 'message': 'Add all_projects parameter to find_project\n\nget_project from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 6, 'created': '2022-10-25 06:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/84f310a06819b3df692e9d23567e58dbe4562ec3', 'message': 'Add all_projects parameter to find_server\n\nget_server from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 7, 'created': '2022-11-01 16:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6cdea386f365c1e4e6da4db098c85c2cf6acf758', 'message': 'Add all_projects parameter to find_server\n\nget_server from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 8, 'created': '2022-11-01 16:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bc4e5d7b3c23f6b24f42c84e7cbd8d79a6b8ca76', 'message': 'Add all_projects parameter to find_server\n\nget_server from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 9, 'created': '2022-11-01 22:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa270a63df34c72be055cef17dd786f98970befb', 'message': 'Add all_projects parameter to find_server\n\nget_server from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 10, 'created': '2022-11-01 22:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/46b5fd3edafe46f07f6dbae044f515e2187d8add', 'message': 'Add all_projects parameter to find_server\n\nget_server from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}, {'number': 11, 'created': '2022-11-01 22:51:10.000000000', 'files': ['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py', 'releasenotes/notes/add-all_projects-to-find-server-7dc75485e2d058cb.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/afee1796aa3008e282391f1d44e758293916ab75', 'message': 'Add all_projects parameter to find_server\n\nget_server from the cloud layer supports this. This ports that to the\nproxy layer.\n\nChange-Id: I97903b5caf05532dc78a19bf63100ee92560d12c\n'}]",14,857936,afee1796aa3008e282391f1d44e758293916ab75,28,2,11,34208,,,0,"Add all_projects parameter to find_server

get_server from the cloud layer supports this. This ports that to the
proxy layer.

Change-Id: I97903b5caf05532dc78a19bf63100ee92560d12c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/36/857936/11 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/_proxy.py'],1,05b2c2f14920234f25a21f79322047c6da266356,," def find_server(self, name_or_id, ignore_missing=True, all_projects=False): params = {} if all_projects: params['all_projects'] = all_projects ignore_missing=ignore_missing, **params)"," def find_server(self, name_or_id, ignore_missing=True): ignore_missing=ignore_missing)",5,2
openstack%2Fopenstacksdk~master~I98729a73338048207aebebdd3bcc87ffb3af70a8,openstack/openstacksdk,master,I98729a73338048207aebebdd3bcc87ffb3af70a8,Adds volume migrate capability to v3 cinder proxy,ABANDONED,2022-01-20 18:41:24.000000000,2023-05-16 10:32:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 18:41:24.000000000', 'files': ['openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/aedf99236239afcfe2caa5254ee6f34e2ee5eff7', 'message': 'Adds volume migrate capability to v3 cinder proxy\n\nThis patch adds the ability to migrate a volume.  This was missing\nin the block storage api.\n\nChange-Id: I98729a73338048207aebebdd3bcc87ffb3af70a8\n'}]",0,825664,aedf99236239afcfe2caa5254ee6f34e2ee5eff7,8,1,1,5997,,,0,"Adds volume migrate capability to v3 cinder proxy

This patch adds the ability to migrate a volume.  This was missing
in the block storage api.

Change-Id: I98729a73338048207aebebdd3bcc87ffb3af70a8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/825664/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py']",4,aedf99236239afcfe2caa5254ee6f34e2ee5eff7,," def migrate_volume(self, volume, new_host, force_host_copy=False, lock_volume=False): """"""Migrate volume to new host. :param name_or_id: Name, unique ID of the volume or a volume dict. :param new_host: The new cinder host to migrate the volume to. :param force_host_copy: Skip driver optimizations. :param lock_volume: Lock the volume until the migration is complete. """""" volume = self._get_resource(_volume.Volume, volume) volume.migrate(self, new_host, force_host_copy, lock_volume) ",,68,0
openstack%2Fopenstacksdk~master~Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1,openstack/openstacksdk,master,Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1,Add get_actions for server resource,ABANDONED,2019-08-07 13:05:09.000000000,2023-05-16 10:18:48.000000000,,"[{'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 28595}, {'_account_id': 29925}, {'_account_id': 31357}]","[{'number': 1, 'created': '2019-08-07 13:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/51dac6cdec64fd4d629339cf72c20450cbdfa6ae', 'message': 'Add get_actions for servers\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 2, 'created': '2019-08-07 13:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a8a171954e4e2814863dca82708b12ea462e0698', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve the list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 3, 'created': '2019-08-07 14:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f7a6169d4149ec6b536f2ab82411165cf67903ad', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve the list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 4, 'created': '2019-08-08 10:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0caa5a71b4fa2be692f098eae63aa540fe647713', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve the list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 5, 'created': '2019-08-08 11:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bb9d9c177db09bcf1f4244931d2bd63740bc0a8b', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 6, 'created': '2019-08-09 08:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/444d45cbab742ea28619a5ecef600b8d12791854', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 7, 'created': '2019-08-09 09:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/51328afbf8451bf0a20eecc8d33f66fb59940007', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 8, 'created': '2019-08-09 10:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec96ee2928472f4e06e4b70b0497bbc34dae597b', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 9, 'created': '2020-09-25 12:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/678303901dd9aa62606df6a89e27e09f0e7da9a2', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 10, 'created': '2021-12-10 09:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7ec6d5e0c549ec53c55bcfcbfe8125600b8cc0c4', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 11, 'created': '2021-12-13 08:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5eb97f787a5ecd01244d7f10a9b997eabe870e92', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}, {'number': 12, 'created': '2021-12-13 08:26:40.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'releasenotes/notes/add-get-actions-for-server-resource-a1048391c742f1da.yaml', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9406179cfc49462cc95fb60636162cf0b79d0814', 'message': 'Add get_actions for server resource\n\nAdd ""get_actions"" in server resource to retrieve a list of actions\nthat was executed on it.\n\nChange-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1\nStory: 2006354\nTask: 36120\n'}]",10,675113,9406179cfc49462cc95fb60636162cf0b79d0814,35,6,12,29925,,,0,"Add get_actions for server resource

Add ""get_actions"" in server resource to retrieve a list of actions
that was executed on it.

Change-Id: Iaac8f89fd2bb468a2a92fffd1e3db011630c79b1
Story: 2006354
Task: 36120
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/13/675113/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/compute/v2/_proxy.py']",3,51dac6cdec64fd4d629339cf72c20450cbdfa6ae,Add_get_server_actions," def get_server_actions(self, server, limit=None, marker=None, changes_since=None, changes_before=None): """"""Get the lists of executed actions on a server :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :param limit: Optional page size of items. Returns a number of items up to a limit value. Use the limit parameter to make an initial limited request and use the last-seen item from the response as the marker parameter value in a subsequent limited request. :param marker: Optional request_id of the last-seen instance action. Use the limit parameter to make an initial limited request and use the last-seen item from the response as the marker parameter value in a subsequent limited request. :param changes_since: Optional date and time stamp to filters the actions performed after a specific date. The date and time stamp format is ISO 8601. :param changes_before: Optional date and time stamp to filters the actions performed before a specific date. before or equal a specific date. The date and time stamp format is ISO 8601. :returns: list actions. """""" server = self._get_resource(_server.Server, server) return server.get_actions(self, limit=limit, marker=marker, changes_since=changes_since, changes_before=changes_before) ",,50,0
openstack%2Fopenstack-tempest-skiplist~master~I0139a72d9983518c302126300d0216555e85a7b0,openstack/openstack-tempest-skiplist,master,I0139a72d9983518c302126300d0216555e85a7b0,Skip two live-migration test in nova-operator,MERGED,2023-05-16 08:58:58.000000000,2023-05-16 09:31:38.000000000,2023-05-16 09:30:37.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 08:58:58.000000000', 'files': ['openstack-operators/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5ab4a24be58fe5d57acf3f094ecf61d5808ad4db', 'message': 'Skip two live-migration test in nova-operator\n\nThe current prow job has no computes deployed so it cannot run live\nmigration tests.\n\nChange-Id: I0139a72d9983518c302126300d0216555e85a7b0\n'}]",1,883237,5ab4a24be58fe5d57acf3f094ecf61d5808ad4db,8,2,1,9708,,,0,"Skip two live-migration test in nova-operator

The current prow job has no computes deployed so it cannot run live
migration tests.

Change-Id: I0139a72d9983518c302126300d0216555e85a7b0
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/37/883237/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack-operators/tempest_skip.yml'],1,5ab4a24be58fe5d57acf3f094ecf61d5808ad4db,nova/operator, - test: tempest.api.compute.admin.test_live_migration_negative.LiveMigrationNegativeTest.test_live_block_migration_suspended deployment: - overcloud releases: - name: master reason: Test env does not have compute lp: http://no.bug jobs: - nova-operator - test: tempest.api.compute.admin.test_live_migration_negative.LiveMigrationNegativeTest.test_invalid_host_for_migration deployment: - overcloud releases: - name: master reason: Test env does not have compute lp: http://no.bug jobs: - nova-operator,,18,0
openstack%2Fopenstacksdk~master~I58d1973aa5b1d37673d629fb39630280cb1b31ad,openstack/openstacksdk,master,I58d1973aa5b1d37673d629fb39630280cb1b31ad,nit: Correct name of variable,MERGED,2023-05-11 07:24:19.000000000,2023-05-16 09:25:07.000000000,2023-05-16 09:23:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-11 07:24:19.000000000', 'files': ['doc/source/contributor/layout.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec1a035529bdb7be01dec318090bfbf6832d0019', 'message': 'nit: Correct name of variable\n\nThe variable name is resources_key and not resource_keys.\nhttps://github.com/openstack/openstacksdk/blob/692b7f39e3765b10f3092ea6a2886ed03cbc37b6/openstack/compute/v2/server.py#L33\n\nChange-Id: I58d1973aa5b1d37673d629fb39630280cb1b31ad\n'}]",0,882919,ec1a035529bdb7be01dec318090bfbf6832d0019,8,3,1,27615,,,0,"nit: Correct name of variable

The variable name is resources_key and not resource_keys.
https://github.com/openstack/openstacksdk/blob/692b7f39e3765b10f3092ea6a2886ed03cbc37b6/openstack/compute/v2/server.py#L33

Change-Id: I58d1973aa5b1d37673d629fb39630280cb1b31ad
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/19/882919/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/layout.rst'],1,ec1a035529bdb7be01dec318090bfbf6832d0019,,"and ``resources_key = ""servers""`` as multiple ``Server``\s are stored in","and ``resource_keys = ""servers""`` as multiple ``Server``\s are stored in",1,1
openstack%2Ftempest~master~Ibc48eedb6c1fe7defca878c10805484b07b3f624,openstack/tempest,master,Ibc48eedb6c1fe7defca878c10805484b07b3f624,Create releasenotes page for tempest 34.2.0,MERGED,2023-05-09 17:55:16.000000000,2023-05-16 09:25:07.000000000,2023-05-16 09:23:54.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-09 17:55:16.000000000', 'files': ['releasenotes/source/v34.2.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4054e13e65f7d11c9097946a36976bf9c6edea45', 'message': 'Create releasenotes page for tempest 34.2.0\n\nChange-Id: Ibc48eedb6c1fe7defca878c10805484b07b3f624\n'}]",0,882735,4054e13e65f7d11c9097946a36976bf9c6edea45,7,2,1,8556,,,0,"Create releasenotes page for tempest 34.2.0

Change-Id: Ibc48eedb6c1fe7defca878c10805484b07b3f624
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/882735/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v34.2.0.rst', 'releasenotes/source/index.rst']",2,4054e13e65f7d11c9097946a36976bf9c6edea45,, v34.2.0,,7,0
openstack%2Frequirements~master~Icdeb56c9890132b19bf65934bbee135df56d0341,openstack/requirements,master,Icdeb56c9890132b19bf65934bbee135df56d0341,Bump XStatic package version to latest i.e. 1.0.3,MERGED,2023-05-11 06:43:10.000000000,2023-05-16 09:24:52.000000000,2023-05-16 09:23:51.000000000,"[{'_account_id': 841}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 06:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3dc883fcde7511798b2ec0260dc75dfb30a6062b', 'message': 'Bump XStatic package version to latest i.e. 1.0.3\n\nhorizon does not support setuptools 67.3.1 and it broke Kolla\nHorizon container builds. We recently cut a new release of Xstatic\n[1] which may fix this setuptools issue. So this patch bump the\nXstatic version to 1.0.3 to fix setuptools issue.\n\n[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c\n\nRelated-Bug: #2007574\nChange-Id: Icdeb56c9890132b19bf65934bbee135df56d0341\n'}, {'number': 2, 'created': '2023-05-12 05:09:38.000000000', 'files': ['openstack_requirements/tests/files/upper-constraints.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2732c3a707144058c54db50896bc9ca14a4be79', 'message': 'Bump XStatic package version to latest i.e. 1.0.3\n\nhorizon does not support setuptools 67.3.1 and it broke Kolla\nHorizon container builds. We recently cut a new release of Xstatic\n[1] which may fix this setuptools issue. So this patch bump the\nXstatic version to 1.0.3 to fix setuptools issue.\n\n[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c\n\nRelated-Bug: #2007574\nChange-Id: Icdeb56c9890132b19bf65934bbee135df56d0341\n'}]",2,882916,a2732c3a707144058c54db50896bc9ca14a4be79,21,3,2,29313,,,0,"Bump XStatic package version to latest i.e. 1.0.3

horizon does not support setuptools 67.3.1 and it broke Kolla
Horizon container builds. We recently cut a new release of Xstatic
[1] which may fix this setuptools issue. So this patch bump the
Xstatic version to 1.0.3 to fix setuptools issue.

[1] https://github.com/xstatic-py/xstatic/commit/5cd7a2347046b71056ae29f00ffa4f71218a5c0c

Related-Bug: #2007574
Change-Id: Icdeb56c9890132b19bf65934bbee135df56d0341
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/882916/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/tests/files/upper-constraints.txt', 'upper-constraints.txt']",2,3dc883fcde7511798b2ec0260dc75dfb30a6062b,bug/2007574,XStatic===1.0.3,XStatic===1.0.2,2,2
openstack%2Fopenstacksdk~master~Ie76b8b4aa2fe2f145e216e383e0826149a681ffd,openstack/openstacksdk,master,Ie76b8b4aa2fe2f145e216e383e0826149a681ffd,Add 'reserve_volume' to openstacksdk,ABANDONED,2020-10-08 03:05:34.000000000,2023-05-16 09:08:15.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-10-08 03:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ba30f622f30993e9768065915f598a202842886a', 'message': ""Add 'reserve_volume' to openstacksdk\n\nChange-Id: Ie76b8b4aa2fe2f145e216e383e0826149a681ffd\n""}, {'number': 2, 'created': '2020-10-08 07:39:15.000000000', 'files': ['openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9e5430fe9df3f319572ca0676e6b85414cc65839', 'message': ""Add 'reserve_volume' to openstacksdk\n\nChange-Id: Ie76b8b4aa2fe2f145e216e383e0826149a681ffd\n""}]",4,756625,9e5430fe9df3f319572ca0676e6b85414cc65839,7,3,2,31827,,,0,"Add 'reserve_volume' to openstacksdk

Change-Id: Ie76b8b4aa2fe2f145e216e383e0826149a681ffd
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/756625/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_block_storage.py'],1,ba30f622f30993e9768065915f598a202842886a,," def reserve_volume(self, name_or_id=None): """"""reserve a volume. :param name_or_id: Name or unique ID of the volume. :raises: OpenStackCloudTimeout if wait time exceeded. :raises: OpenStackCloudException on operation error. """""" self.list_volumes.invalidate(self) volume = self.get_volume(name_or_id) if not volume: raise exc.OpenStackCloudException( ""Volume {name_or_id} does not exist"".format( name_or_id=name_or_id)) try: proxy._json_response(self.block_storage.post( 'volumes/{id}/action'.format(id=volume['id']), json={'os-reserve_volume': None})) except exc.OpenStackCloudURINotFound: self.log.debug( ""Volume {id} not found when reserving."".format( id=volume['id'])) return False return True",,26,0
openstack%2Fopenstacksdk~master~I1151c2b768ce2dbd5cdb2f3879803f89435b1831,openstack/openstacksdk,master,I1151c2b768ce2dbd5cdb2f3879803f89435b1831,add defaults quotas for sdk,ABANDONED,2020-10-08 12:42:29.000000000,2023-05-16 09:07:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-08 12:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9bb34582c1fe1fd09270444a859bf2ee04b76270', 'message': 'add defaults quotas for sdk\n\nChange-Id: I1151c2b768ce2dbd5cdb2f3879803f89435b1831\n'}, {'number': 2, 'created': '2020-10-09 00:51:29.000000000', 'files': ['openstack/compute/v2/quotas.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8ba167b463c6ae9c8e6c3fe2dae8be026d06dd10', 'message': 'add defaults quotas for sdk\n\nChange-Id: I1151c2b768ce2dbd5cdb2f3879803f89435b1831\n'}]",2,756698,8ba167b463c6ae9c8e6c3fe2dae8be026d06dd10,5,1,2,31828,,,0,"add defaults quotas for sdk

Change-Id: I1151c2b768ce2dbd5cdb2f3879803f89435b1831
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/756698/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/quotas.py'],1,9bb34582c1fe1fd09270444a859bf2ee04b76270,I1151c2b768ce2dbd5cdb2f3879803f89435b1831,"# Copyright 2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import utils def defaults(self, tenant_id): return self._get('/os-quota-sets/%s/defaults' % tenant_id, 'quota_set') def _get(self, url, response_key, filters=None): if filters: url = utils.get_url_with_filter(url, filters) resp, body = self.api.client.get(url) if response_key is not None: content = body[response_key] else: content = body return self.resource_class(self, content, loaded=True, resp=resp)",,33,0
openstack%2Fopenstacksdk~master~I893dd03a90a4631c69ac5f784f1c4d9d4d62fccb,openstack/openstacksdk,master,I893dd03a90a4631c69ac5f784f1c4d9d4d62fccb,add migrate volume completion,ABANDONED,2020-10-07 06:35:43.000000000,2023-05-16 09:06:45.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-07 06:35:43.000000000', 'files': ['openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3c52e78f5e4641cfed75b923fa1469d5ec9e5eda', 'message': 'add migrate volume completion\n\nChange-Id: I893dd03a90a4631c69ac5f784f1c4d9d4d62fccb\n'}]",2,756437,3c52e78f5e4641cfed75b923fa1469d5ec9e5eda,4,2,1,30077,,,0,"add migrate volume completion

Change-Id: I893dd03a90a4631c69ac5f784f1c4d9d4d62fccb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/756437/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_block_storage.py'],1,3c52e78f5e4641cfed75b923fa1469d5ec9e5eda,," def migrate_volume_completion(self, old_name_or_id, new_name_or_id, error=False): old_volume = self.get_volume(old_name_or_id) if not old_volume: raise exc.OpenStackCloudException( ""Volume %s not found."" % old_name_or_id) new_volume = self.get_volume(new_name_or_id) if not old_volume: raise exc.OpenStackCloudException( ""Volume %s not found."" % new_name_or_id) proj_old = self.get_project(old_volume.id) proj_new = self.get_project(new_volume.id) if not proj_new: raise exc.OpenStackCloudException(""project does not exist"") if not proj_old: raise exc.OpenStackCloudException(""project does not exist"") if not proj_old.id == proj_new.id: raise exc.OpenStackCloudException(""The new_volume and old_volume"" "" are not in same project"") resp = self.block_storage.post( '/volumes/%s/action' % old_volume.id, json={'os-migrate_volume_completion': { 'new_volume': new_volume.id, 'error': error}}) return proxy._json_response( resp, error_message=""cinder client call failed"") ",,28,0
openstack%2Fopenstacksdk~master~I96313614f0e6fb2ac2c6ddebe46d795507ac3247,openstack/openstacksdk,master,I96313614f0e6fb2ac2c6ddebe46d795507ac3247,Introduce `schema_version` in the attribute mapping API,ABANDONED,2020-09-02 17:24:24.000000000,2023-05-16 09:05:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-09-02 17:24:24.000000000', 'files': ['openstack/identity/v3/mapping.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/12b8b9080fc4a557271bac5b4ed4dbd7141830e7', 'message': 'Introduce `schema_version` in the attribute mapping API\n\nDepends-On: https://review.opendev.org/#/c/739966/\nChange-Id: I96313614f0e6fb2ac2c6ddebe46d795507ac3247\n'}]",0,749562,12b8b9080fc4a557271bac5b4ed4dbd7141830e7,4,2,1,28356,,,0,"Introduce `schema_version` in the attribute mapping API

Depends-On: https://review.opendev.org/#/c/739966/
Change-Id: I96313614f0e6fb2ac2c6ddebe46d795507ac3247
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/62/749562/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/identity/v3/mapping.py'],1,12b8b9080fc4a557271bac5b4ed4dbd7141830e7,attribute_mapping_schema_version," _query_mapping = resource.QueryParameters('id') #: The federated attribute mapping schema version. #: The default value is '1.0'. *Type: string* schema_version = resource.Body('schema_version', default=""1.0"")"," _query_mapping = resource.QueryParameters( 'id', )",5,3
openstack%2Fopenstacksdk~master~Ibc2f99b8911c9a40e88a0a4d5ce9ade11f8d1e49,openstack/openstacksdk,master,Ibc2f99b8911c9a40e88a0a4d5ce9ade11f8d1e49,WIP Introduce common layer for managing quotas,ABANDONED,2020-07-10 15:17:42.000000000,2023-05-16 09:04:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-10 15:17:42.000000000', 'files': ['openstack/connection.py', 'openstack/cloud/_quota.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/854caf045e0dfdc8bac6973c0c724235f3f52729', 'message': 'WIP Introduce common layer for managing quotas\n\nFrom some places we might want to have a general interface at least to\nlist quotas of different services. It is not good to reimplement logic\nby different consumers (OSC, Ansible, etc), thus try to generalize and\nnormalize things.\n\nChange-Id: Ibc2f99b8911c9a40e88a0a4d5ce9ade11f8d1e49\n'}]",0,740490,854caf045e0dfdc8bac6973c0c724235f3f52729,3,1,1,27900,,,0,"WIP Introduce common layer for managing quotas

From some places we might want to have a general interface at least to
list quotas of different services. It is not good to reimplement logic
by different consumers (OSC, Ansible, etc), thus try to generalize and
normalize things.

Change-Id: Ibc2f99b8911c9a40e88a0a4d5ce9ade11f8d1e49
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/90/740490/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_quota.py', 'openstack/connection.py']",2,854caf045e0dfdc8bac6973c0c724235f3f52729,,"from openstack.cloud import _quota _security_group.SecurityGroupCloudMixin, _quota.QuotaCloudMixin _quota.QuotaCloudMixin.__init__(self)", _security_group.SecurityGroupCloudMixin,52,1
openstack%2Fopenstacksdk~stable%2Fxena~Ia46013b416bf9d7103659190a5c18706a458c26c,openstack/openstacksdk,stable/xena,Ia46013b416bf9d7103659190a5c18706a458c26c,Fix adding roles to groups on different domains,ABANDONED,2022-03-28 13:59:43.000000000,2023-05-16 09:03:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-28 13:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a3d786e41c0cd4f0c203c430ab17bb1b6d5a4dfb', 'message': 'Support different domains for adding roles to groups\n\nSimilar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for\ngroups.\n\nChange-Id: Ia46013b416bf9d7103659190a5c18706a458c26c\n'}, {'number': 2, 'created': '2022-03-28 14:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/171752f0ac9079d1feacb592b7ff3626f0eb117b', 'message': 'Fix adding roles to groups on different domains\n\nSimilar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for\ngroups.\n\nChange-Id: Ia46013b416bf9d7103659190a5c18706a458c26c\n'}, {'number': 3, 'created': '2022-03-29 11:26:51.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_role_assignment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8a68ce26f67c56e8677eaf64641ae9ea140f89b1', 'message': 'Fix adding roles to groups on different domains\n\nSimilar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for\ngroups.\n\nChange-Id: Ia46013b416bf9d7103659190a5c18706a458c26c\n'}]",0,835457,8a68ce26f67c56e8677eaf64641ae9ea140f89b1,6,1,3,16363,,,0,"Fix adding roles to groups on different domains

Similar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for
groups.

Change-Id: Ia46013b416bf9d7103659190a5c18706a458c26c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/57/835457/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,a3d786e41c0cd4f0c203c430ab17bb1b6d5a4dfb,pedro/fix-group-assignment-on-domain," if domain: data['group'] = self.get_group(group, domain_id=filters['domain_id'], filters=filters) else: data['group'] = self.get_group(group, filters=filters)"," data['group'] = self.get_group(group, filters=filters)",6,1
openstack%2Fopenstacksdk~stable%2Fyoga~Ia46013b416bf9d7103659190a5c18706a458c26c,openstack/openstacksdk,stable/yoga,Ia46013b416bf9d7103659190a5c18706a458c26c,Fix adding roles to groups on different domains,ABANDONED,2022-03-28 14:38:48.000000000,2023-05-16 09:02:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-28 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/577d1464d33397d0274b71304e8eed3e7954d546', 'message': 'Fix adding roles to groups on different domains\n\nSimilar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for\ngroups.\n\nChange-Id: Ia46013b416bf9d7103659190a5c18706a458c26c\n'}, {'number': 2, 'created': '2022-03-28 15:48:25.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_role_assignment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/80b0c833bfc7db26176799aca9aa42ed9513ed85', 'message': 'Fix adding roles to groups on different domains\n\nSimilar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for\ngroups.\n\nChange-Id: Ia46013b416bf9d7103659190a5c18706a458c26c\n'}]",2,835466,80b0c833bfc7db26176799aca9aa42ed9513ed85,10,1,2,16363,,,0,"Fix adding roles to groups on different domains

Similar to commit 3fce613297865a6f9ab6657b4c84ce1e269f58d4 but for
groups.

Change-Id: Ia46013b416bf9d7103659190a5c18706a458c26c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/66/835466/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,577d1464d33397d0274b71304e8eed3e7954d546,pedro/fix-group-assignment-on-domain," if domain: data['group'] = self.get_group(group, domain_id=filters['domain_id'], filters=filters) else: data['group'] = self.get_group(group, filters=filters)"," data['group'] = self.get_group(group, filters=filters)",6,1
openstack%2Fopenstacksdk~stable%2Fussuri~Ica2173cedede5047401fba7c5852babc157b44b3,openstack/openstacksdk,stable/ussuri,Ica2173cedede5047401fba7c5852babc157b44b3,Add 'on_maintenance' to Masakari segment,ABANDONED,2021-08-20 03:09:18.000000000,2023-05-16 09:01:01.000000000,,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27900}, {'_account_id': 32676}]","[{'number': 1, 'created': '2021-08-20 03:09:18.000000000', 'files': ['openstack/instance_ha/v1/segment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6d127fc45c5659c21d9d72a59c89c003885514a6', 'message': ""Add 'on_maintenance' to Masakari segment\n\nAdd the 'on_maintenance' attribute to the segment,\nso that the openstack segment command can obtain the on_maintenance value\nStory: 2009131\nTask: 43064\n\nChange-Id: Ica2173cedede5047401fba7c5852babc157b44b3\n""}]",0,805325,6d127fc45c5659c21d9d72a59c89c003885514a6,8,6,1,31525,,,0,"Add 'on_maintenance' to Masakari segment

Add the 'on_maintenance' attribute to the segment,
so that the openstack segment command can obtain the on_maintenance value
Story: 2009131
Task: 43064

Change-Id: Ica2173cedede5047401fba7c5852babc157b44b3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/805325/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/instance_ha/v1/segment.py'],1,6d127fc45c5659c21d9d72a59c89c003885514a6,story/2009131," #: A maintenance status of this segment on_maintenance = resource.Body(""on_maintenance"")",,2,0
openstack%2Fopenstacksdk~stable%2Ftrain~Icee56a2ec6bc8ce1ba9f6a6eca80d84c4cd08d77,openstack/openstacksdk,stable/train,Icee56a2ec6bc8ce1ba9f6a6eca80d84c4cd08d77,[dnm] getting some logs for stable branch jobs,ABANDONED,2021-04-29 00:52:31.000000000,2023-05-16 09:00:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-29 00:52:31.000000000', 'files': ['openstack/format.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3ad6630f2d3a68bdd0f5913651665dd39b703269', 'message': '[dnm] getting some logs for stable branch jobs\n\nChange-Id: Icee56a2ec6bc8ce1ba9f6a6eca80d84c4cd08d77\n'}]",2,788626,3ad6630f2d3a68bdd0f5913651665dd39b703269,3,1,1,7118,,,0,"[dnm] getting some logs for stable branch jobs

Change-Id: Icee56a2ec6bc8ce1ba9f6a6eca80d84c4cd08d77
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/788626/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/format.py'],1,3ad6630f2d3a68bdd0f5913651665dd39b703269,,#test,,1,0
openstack%2Fopenstacksdk~stable%2Ftrain~I56edd53f7cb4fa702922e3e34c24fdfed98083e4,openstack/openstacksdk,stable/train,I56edd53f7cb4fa702922e3e34c24fdfed98083e4,OpenStack port decorator variables,ABANDONED,2020-08-24 11:30:31.000000000,2023-05-16 09:00:10.000000000,,"[{'_account_id': 2}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 31506}]","[{'number': 1, 'created': '2020-08-24 11:30:31.000000000', 'files': ['openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/df5a3c15af852229d0a95a590300903a65a057a3', 'message': 'OpenStack port decorator variables\n\nThe OpenStack port binding_host_id attribute is modifiable,\nbut an error will be reported when calling def create_port\nof the OpenStack SDK, because the binding: host_id variable\ndoes not exist in @_utils and the binding_host_id attribute\ncannot be changed.\n\nChange-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4\n(cherry picked from commit 4f2e76122c86705e42203cb2f0595d79bd78cbfe)\n'}]",1,747689,df5a3c15af852229d0a95a590300903a65a057a3,17,6,1,31506,,,0,"OpenStack port decorator variables

The OpenStack port binding_host_id attribute is modifiable,
but an error will be reported when calling def create_port
of the OpenStack SDK, because the binding: host_id variable
does not exist in @_utils and the binding_host_id attribute
cannot be changed.

Change-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4
(cherry picked from commit 4f2e76122c86705e42203cb2f0595d79bd78cbfe)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/747689/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_network.py'],1,df5a3c15af852229d0a95a590300903a65a057a3,," 'qos_policy_id', 'binding:host_id') 'port_security_enabled', 'qos_policy_id', 'binding:host_id')"," 'qos_policy_id') 'port_security_enabled', 'qos_policy_id')",3,2
openstack%2Fopenstacksdk~master~Ie1b5ab8a944b063c889de7890698e320d6ee07e8,openstack/openstacksdk,master,Ie1b5ab8a944b063c889de7890698e320d6ee07e8,Add .idea dir into gitignore,ABANDONED,2023-05-16 08:34:39.000000000,2023-05-16 08:54:36.000000000,,[{'_account_id': 27900}],"[{'number': 1, 'created': '2023-05-16 08:34:39.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/159f742f439a76195beb2b45a74f3e08f923625c', 'message': 'Add .idea dir into gitignore\n\nChange-Id: Ie1b5ab8a944b063c889de7890698e320d6ee07e8\n'}]",1,883236,159f742f439a76195beb2b45a74f3e08f923625c,3,1,1,31412,,,0,"Add .idea dir into gitignore

Change-Id: Ie1b5ab8a944b063c889de7890698e320d6ee07e8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/36/883236/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,159f742f439a76195beb2b45a74f3e08f923625c,,.idea,,1,0
openstack%2Fkolla-ansible~master~Iefbce8223806298274521c6807bf419b99f3536b,openstack/kolla-ansible,master,Iefbce8223806298274521c6807bf419b99f3536b,Run shellcheck on scripts,NEW,2023-05-06 13:48:22.000000000,2023-05-16 08:54:23.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-06 13:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bbe0f05c494de554b5d319efbe998880286134b', 'message': 'Run shellcheck on scripts\n\nChange-Id: Iefbce8223806298274521c6807bf419b99f3536b\n'}, {'number': 2, 'created': '2023-05-06 15:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/808bdff7b99b5556d27c7709bc88b5b96a333698', 'message': 'Run shellcheck on scripts\n\nChange-Id: Iefbce8223806298274521c6807bf419b99f3536b\n'}, {'number': 3, 'created': '2023-05-08 08:07:31.000000000', 'files': ['tests/check-logs.sh', 'tests/check-config.sh', 'tests/test-mariadb.sh', 'tests/test-zun.sh', 'lint-requirements.txt', 'tests/check-failure.sh', 'tests/setup_disks.sh', 'tests/test-bifrost.sh', 'tests/test-dashboard.sh', 'tests/test-prometheus-opensearch.sh', 'tests/deploy-bifrost.sh', 'tests/get_logs.sh', 'tests/link-module-utils.sh', 'tests/test-hashicorp-vault-passwords.sh', 'tools/run-bashate.sh', 'tests/test-magnum.sh', 'tests/test-masakari.sh', 'tools/pre-commit-hook', 'tools/kolla-ansible', 'tests/upgrade.sh', 'tools/run-shellcheck.sh', 'tests/test-octavia.sh', 'tests/reconfigure.sh', 'tests/test-swift.sh', 'tests/deploy.sh', 'tools/diag', 'tests/deploy-tenks.sh', 'tests/setup_gate.sh', 'tests/test-scenario-nfv.sh', 'ansible/roles/ovs-dpdk/files/ovs-dpdkctl.sh', 'tests/test-ovn.sh', 'tests/upgrade-bifrost.sh', 'tests/test-core-openstack.sh', 'tests/test-ironic.sh', 'contrib/dev/vagrant/bootstrap.sh', 'tests/init-swift.sh', 'tools/cleanup-containers', 'tools/validate-all-yaml.sh', 'tox.ini', 'tests/init-core-openstack.sh', 'tests/test-venus.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9998268fe0316d47164d6232a6d391e46d88a49', 'message': 'Run shellcheck on scripts\n\nShellcheck has way more checks than openstacks own bashate.\n\nComparison\n- https://gist.github.com/nicerobot/53cee11ee0abbdc997661e65b348f375\n- https://docs.openstack.org/bashate/latest/readme.html#currently-supported-checks\n\nChange-Id: Iefbce8223806298274521c6807bf419b99f3536b\n'}]",6,882497,e9998268fe0316d47164d6232a6d391e46d88a49,18,4,3,35218,,,0,"Run shellcheck on scripts

Shellcheck has way more checks than openstacks own bashate.

Comparison
- https://gist.github.com/nicerobot/53cee11ee0abbdc997661e65b348f375
- https://docs.openstack.org/bashate/latest/readme.html#currently-supported-checks

Change-Id: Iefbce8223806298274521c6807bf419b99f3536b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/882497/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/check-logs.sh', 'tests/check-config.sh', 'tests/test-mariadb.sh', 'tests/test-zun.sh', 'lint-requirements.txt', 'tests/check-failure.sh', 'tests/setup_disks.sh', 'tests/test-bifrost.sh', 'tests/test-dashboard.sh', 'tests/test-prometheus-opensearch.sh', 'tests/deploy-bifrost.sh', 'tests/get_logs.sh', 'tests/link-module-utils.sh', 'tests/test-hashicorp-vault-passwords.sh', 'tools/run-bashate.sh', 'tests/test-magnum.sh', 'tests/test-masakari.sh', 'tools/pre-commit-hook', 'tools/kolla-ansible', 'tests/upgrade.sh', 'tools/run-shellcheck.sh', 'tests/test-octavia.sh', 'tests/reconfigure.sh', 'tests/test-swift.sh', 'tests/deploy.sh', 'tools/diag', 'tests/deploy-tenks.sh', 'tests/setup_gate.sh', 'tests/test-scenario-nfv.sh', 'ansible/roles/ovs-dpdk/files/ovs-dpdkctl.sh', 'tests/test-ovn.sh', 'tests/upgrade-bifrost.sh', 'tests/test-core-openstack.sh', 'tests/test-ironic.sh', 'contrib/dev/vagrant/bootstrap.sh', 'tests/init-swift.sh', 'tools/cleanup-containers', 'tools/validate-all-yaml.sh', 'tox.ini', 'tests/init-core-openstack.sh', 'tests/test-venus.sh']",41,0bbe0f05c494de554b5d319efbe998880286134b,shellcheck-linter," if ! curl ""${args[@]}"" ""$opensearch_url"" >""$output_path""; then if ! grep -E '""status"":""(green|yellow)""' ""$output_path"" >/dev/null; then if ! curl --include --fail ""$venus_url"" >""$output_path""; then if ! grep -E '""status"": ""SUPPORTED""' ""$output_path"" >/dev/null; then while ! check_opensearch ""$output_path""; do attempt=$((attempt + 1)) cat ""$output_path"" while ! check_venus ""$output_path""; do attempt=$((attempt + 1)) cat ""$output_path"" # shellcheck source=/dev/null test_venus_scenario_logged >/tmp/logs/ansible/test-venus-scenario 2>&1"," if ! curl ""${args[@]}"" $opensearch_url > $output_path; then if ! grep -E '""status"":""(green|yellow)""' $output_path >/dev/null; then if ! curl --include --fail $venus_url > $output_path; then if ! grep -E '""status"": ""SUPPORTED""' $output_path >/dev/null; then while ! check_opensearch $output_path; do attempt=$((attempt+1)) cat $output_path while ! check_venus $output_path; do attempt=$((attempt+1)) cat $output_path test_venus_scenario_logged > /tmp/logs/ansible/test-venus-scenario 2>&1",826,802
openstack%2Fneutron~master~I60523690bc170ec4ba81312ada0f2d83542cae67,openstack/neutron,master,I60523690bc170ec4ba81312ada0f2d83542cae67,Use a writer context for the online alembic migrations,MERGED,2023-04-19 15:46:25.000000000,2023-05-16 08:54:06.000000000,2023-05-04 19:04:30.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-04-19 15:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/544904ec8907fd19abc3d9dc9e9a479e9d144316', 'message': '[DNM] Skip the MySQL and Postgree user definition\n\nChange-Id: I60523690bc170ec4ba81312ada0f2d83542cae67\n'}, {'number': 2, 'created': '2023-04-19 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d101cdb371de80c2df1210216bcb377e7181c3f', 'message': '[DNM] Skip the MySQL and Postgree user definition\n\nChange-Id: I60523690bc170ec4ba81312ada0f2d83542cae67\n'}, {'number': 3, 'created': '2023-04-20 15:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51ed9a6eb7eee6a25222b855a3b97c1ac2e53513', 'message': '[DNM] Define the context for the online migration\n\nChange-Id: I60523690bc170ec4ba81312ada0f2d83542cae67\n'}, {'number': 4, 'created': '2023-04-21 13:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cdbfbedfb177c18b0b851f7b3344835815614fe', 'message': 'Use a writer context for the online alembic migrations\n\nCloses-Bug: #2015847\n\nChange-Id: I60523690bc170ec4ba81312ada0f2d83542cae67\n'}, {'number': 5, 'created': '2023-04-24 12:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c37e6e0a005532743bfcfb3e83007e9fa9e8c4f', 'message': 'Use a writer context for the online alembic migrations\n\n``DBConnection`` class does not retrieve the URL string\ncorrectly and cannot connect to the database. This patch\nreplaces it with default writer context that any database\noperation transaction uses in Neutron.\n\nCloses-Bug: #2015847\n\nChange-Id: I60523690bc170ec4ba81312ada0f2d83542cae67\n'}, {'number': 6, 'created': '2023-04-25 08:25:45.000000000', 'files': ['neutron/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/82029c2c514aaca5b9d45af46d2f7d945ff3099b', 'message': 'Use a writer context for the online alembic migrations\n\n``DBConnection`` class does not retrieve the URL string\ncorrectly and cannot connect to the database. This patch\nreplaces it with default writer context that any database\noperation transaction uses in Neutron.\n\nCloses-Bug: #2015847\n\nChange-Id: I60523690bc170ec4ba81312ada0f2d83542cae67\n'}]",28,880867,82029c2c514aaca5b9d45af46d2f7d945ff3099b,74,7,6,16688,,,0,"Use a writer context for the online alembic migrations

``DBConnection`` class does not retrieve the URL string
correctly and cannot connect to the database. This patch
replaces it with default writer context that any database
operation transaction uses in Neutron.

Closes-Bug: #2015847

Change-Id: I60523690bc170ec4ba81312ada0f2d83542cae67
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/880867/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,544904ec8907fd19abc3d9dc9e9a479e9d144316,bug/2015847,,CREATE USER '${DATABASE_USER}'@'localhost' IDENTIFIED BY '${MYSQL_PASSWORD}'; GRANT ALL PRIVILEGES ON *.* TO '${DATABASE_USER}'@'localhost'; FLUSH PRIVILEGES;CREATE USER ${DATABASE_USER} WITH CREATEDB LOGIN PASSWORD '${DATABASE_PASSWORD}';,0,4
openstack%2Fkolla-ansible~stable%2Fwallaby~Iac917ef4471905caab591cd64eab379e150a8524,openstack/kolla-ansible,stable/wallaby,Iac917ef4471905caab591cd64eab379e150a8524,hacluster: Use nodename to align with nova service names,MERGED,2023-02-28 12:57:14.000000000,2023-05-16 08:44:59.000000000,2023-05-16 08:43:56.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-02-28 12:57:14.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7608b57b15730dbaf169f37b9fe1b0b5eaea31e2', 'message': 'hacluster: Use nodename to align with nova service names\n\nFor Masakari and HACluster to work properly, the hostnames used\nin HACluster need to match with the hostnames used in Nova.\n\nChange-Id: Iac917ef4471905caab591cd64eab379e150a8524\n(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)\n'}]",0,875672,7608b57b15730dbaf169f37b9fe1b0b5eaea31e2,10,3,1,29268,,,0,"hacluster: Use nodename to align with nova service names

For Masakari and HACluster to work properly, the hostnames used
in HACluster need to match with the hostnames used in Nova.

Change-Id: Iac917ef4471905caab591cd64eab379e150a8524
(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/875672/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2']",2,7608b57b15730dbaf169f37b9fe1b0b5eaea31e2,, name: {{ hostvars[host].ansible_facts.nodename }}, name: {{ hostvars[host].ansible_facts.hostname }},5,5
openstack%2Fcinder~master~I786733aae17dea47e3e6f2a393a947bfb46e70a3,openstack/cinder,master,I786733aae17dea47e3e6f2a393a947bfb46e70a3,StorPool: fix the retype volume flow,NEW,2023-01-16 14:56:42.000000000,2023-05-16 07:23:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-01-16 14:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df4488a3c3cab84e853817c034a13737c096bf4d', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}, {'number': 2, 'created': '2023-01-16 23:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/767b03274054e1c1e422ef8937769ec9851a4111', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}, {'number': 3, 'created': '2023-01-26 12:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf923621d00ccc953ed51f00c6dca81db0a010a5', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}, {'number': 4, 'created': '2023-02-08 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba4a94361b3691f6be290aa6dc30dd95e791293e', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}, {'number': 5, 'created': '2023-02-13 09:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e19ca1eb9d6eed9409ee8ea5fbe735190405a00', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}, {'number': 6, 'created': '2023-03-01 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/704cec6d87d88c51af5b4e9ddbdee0f6b2ca0f86', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}, {'number': 7, 'created': '2023-05-08 19:32:02.000000000', 'files': ['cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c003466a27aee0c1997562eda1d7c7683a944576', 'message': 'StorPool: fix the retype volume flow\n\nChange-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3\nCloses-Bug: #2002995\n'}]",10,870551,c003466a27aee0c1997562eda1d7c7683a944576,136,2,7,12988,,,0,"StorPool: fix the retype volume flow

Change-Id: I786733aae17dea47e3e6f2a393a947bfb46e70a3
Closes-Bug: #2002995
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/870551/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/storpool.py'],1,df4488a3c3cab84e853817c034a13737c096bf4d,storpool-driver-fixes," else: # We ignore any extra specs that we do not know about. # Let's leave it to Cinder's scheduler to not even # get this far if there is any serious mismatch between # the volume types. pass if orig_name in vols: LOG.debug('StorPool update_migrated_volume(): both ' int_name = temp_name + '--temp--mig' LOG.debug('Trying to swap the volume names, intermediate ""%(int)s""', {'int': int_name}) try: LOG.debug('- rename ""%(orig)s"" to ""%(int)s""', {'orig': orig_name, 'int': int_name}) self._attach.api().volumeUpdate(orig_name, {'rename': int_name}) LOG.debug('- rename ""%(temp)s"" to ""%(orig)s""', {'temp': temp_name, 'orig': orig_name}) LOG.debug('- rename ""%(int)s"" to ""%(temp)s""', {'int': int_name, 'temp': temp_name}) self._attach.api().volumeUpdate(int_name, {'rename': temp_name}) 'could not rename a volume: ' {'err': e}) try: self._attach.api().volumeUpdate(temp_name, {'rename': orig_name}) return {'_name_id': None} except spapi.ApiError as e: LOG.error('StorPool update_migrated_volume(): ' 'could not rename %(tname)s to %(oname)s: ' '%(err)s', {'tname': temp_name, 'oname': orig_name, 'err': e}) return {'_name_id': new_volume['_name_id'] or new_volume['id']}"," elif v[0] != v[1]: LOG.error('Retype of extra_specs ""%s"" not ' 'supported yet.', k) return False elif orig_name in vols: LOG.error('StorPool update_migrated_volume(): both ' return {'_name_id': new_volume['_name_id'] or new_volume['id']} else: try: 'could not rename %(tname)s to %(oname)s: ' {'tname': temp_name, 'oname': orig_name, 'err': e})",37,10
openstack%2Fkolla-ansible~stable%2Fzed~Ida582606b03d1896a6c58d4b324d088dc3b71852,openstack/kolla-ansible,stable/zed,Ida582606b03d1896a6c58d4b324d088dc3b71852,Add check_mode: false to Nova upgrade checks,NEW,2023-04-24 13:39:30.000000000,2023-05-16 07:11:25.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-24 13:39:30.000000000', 'files': ['ansible/roles/nova/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7d0a185f8eb7567c8bcd8cdf0e9c4f910b51e8a', 'message': 'Add check_mode: false to Nova upgrade checks\n\nThe step ""Run Nova upgrade checks"" needs to be excluded from check mode.\n\nRelated-Bug: #2002657\nChange-Id: Ida582606b03d1896a6c58d4b324d088dc3b71852\n(cherry picked from commit e0191cb167ffb019472d00560e80da8ce45033d4)\n'}]",0,881327,b7d0a185f8eb7567c8bcd8cdf0e9c4f910b51e8a,5,3,1,15197,,,0,"Add check_mode: false to Nova upgrade checks

The step ""Run Nova upgrade checks"" needs to be excluded from check mode.

Related-Bug: #2002657
Change-Id: Ida582606b03d1896a6c58d4b324d088dc3b71852
(cherry picked from commit e0191cb167ffb019472d00560e80da8ce45033d4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/881327/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/upgrade.yml'],1,b7d0a185f8eb7567c8bcd8cdf0e9c4f910b51e8a,bug/2002657-stable/zed, check_mode: false,,1,0
openstack%2Fstorlets~master~I453ebbf62686ec4ba16b17b99ea1b45e3aa51c2c,openstack/storlets,master,I453ebbf62686ec4ba16b17b99ea1b45e3aa51c2c,DNM: Testing gate jobs,NEW,2023-05-16 06:12:51.000000000,2023-05-16 07:10:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 06:12:51.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/storlets/commit/6ca5ed1fec365880cc75f64c443bba2e50a532ef', 'message': 'DNM: Testing gate jobs\n\nChange-Id: I453ebbf62686ec4ba16b17b99ea1b45e3aa51c2c\n'}]",0,883227,6ca5ed1fec365880cc75f64c443bba2e50a532ef,2,1,1,9816,,,0,"DNM: Testing gate jobs

Change-Id: I453ebbf62686ec4ba16b17b99ea1b45e3aa51c2c
",git fetch https://review.opendev.org/openstack/storlets refs/changes/27/883227/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,6ca5ed1fec365880cc75f64c443bba2e50a532ef,,,,0,0
openstack%2Fci-log-processing~master~I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65,openstack/ci-log-processing,master,I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65,DNM Add support for Elastic Recheck tool,ABANDONED,2022-05-24 12:31:38.000000000,2023-05-16 06:21:26.000000000,,"[{'_account_id': 14611}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-05-24 12:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/cb0c0000334ed0d5cb627c64cf6adba6a4913e4b', 'message': 'DNM Add support for Elastic Recheck tool\n\nChange-Id: I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65\n'}, {'number': 2, 'created': '2022-05-25 15:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0b7518f47fc9af2b5557e1c751006e1ac3eae592', 'message': 'DNM Add support for Elastic Recheck tool\n\nChange-Id: I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65\n'}, {'number': 3, 'created': '2022-05-30 08:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/ff48aa74e683460cb0e9afc997765fcd570ccd88', 'message': 'DNM Add support for Elastic Recheck tool\n\nChange-Id: I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65\n'}, {'number': 4, 'created': '2022-05-31 08:24:32.000000000', 'files': ['ansible/playbooks/check-services-elasticrecheck.yml', 'ansible/roles/check-services/tasks/elasticrecheck.yml', 'ansible/roles/elasticrecheck/README.rst', 'ansible/roles/elasticrecheck/templates/elasticrecheck.service.j2', 'ansible/roles/elasticrecheck/templates/elasticrecheck.sh.j2', 'ansible/roles/elasticrecheck/templates/bot.service.j2', 'ansible/playbooks/deploy-services.yml', '.zuul.yaml', 'ansible/roles/elasticrecheck/tasks/service.yml', 'ansible/roles/elasticrecheck/tasks/main.yml', 'ansible/roles/elasticrecheck/meta/main.yml', 'ansible/roles/elasticrecheck/templates/bot.sh.j2', 'ansible/roles/elasticrecheck/templates/environment.j2', 'ansible/roles/elasticrecheck/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/144f528d0ed659c0a9cdc83d836165c72838b277', 'message': 'DNM Add support for Elastic Recheck tool\n\nChange-Id: I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65\n'}]",0,843138,144f528d0ed659c0a9cdc83d836165c72838b277,11,4,4,20676,,,0,"DNM Add support for Elastic Recheck tool

Change-Id: I4b4c21d40368dcf2bbc2ff7cd96ce6264c954d65
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/38/843138/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/elastic-recheck/README.rst', 'ansible/playbooks/check-services-elasticrecheck.yml', 'ansible/roles/check-services/tasks/elasticrecheck.yml', 'ansible/roles/elastic-recheck/templates/bot.sh.j2', 'ansible/playbooks/deploy-services.yml', 'ansible/roles/elastic-recheck/templates/bot.service.j2', '.zuul.yaml', 'ansible/roles/elastic-recheck/meta/main.yml', 'ansible/roles/elastic-recheck/tasks/main.yml', 'ansible/roles/elastic-recheck/defaults/main.yml', 'ansible/roles/elastic-recheck/templates/elasticrecheck.service.j2', 'ansible/roles/elastic-recheck/templates/elasticrecheck.sh.j2', 'ansible/roles/elastic-recheck/templates/environment.j2', 'ansible/roles/elastic-recheck/tasks/service.yml']",14,cb0c0000334ed0d5cb627c64cf6adba6a4913e4b,revive-elastic-recheck,"--- # elastic recheck - name: Generate elasticrecheck script template: src: elasticrecheck.sh.j2 dest: ""/usr/local/bin/elasticrecheck-{{ item.tenant }}"" mode: '0755' register: _start_script - name: Generate systemd unit template: src: elasticrecheck.service.j2 dest: ""/etc/systemd/system/elasticrecheck-{{ item.tenant }}.service"" owner: root group: root - name: Enable and restart service service: name: elasticrecheck-{{ item.tenant }} state: restarted daemon-reload: true enabled: true when: _start_script.changed - name: Ensure that service is running service: name: elasticrecheck-{{ item.tenant }} state: started daemon-reload: true enabled: true # bot - name: Generate elasticrecheck script - bot template: src: bot.sh.j2 dest: ""/usr/local/bin/elasticrecheck-bot-{{ item.tenant }}"" mode: '0755' register: _bot_start_script - name: Generate systemd unit - bot template: src: bot.service.j2 dest: ""/etc/systemd/system/elasticrecheck-bot-{{ item.tenant }}.service"" owner: root group: root - name: Enable and restart service - bot service: name: elasticrecheck-bot-{{ item.tenant }} state: restarted daemon-reload: true enabled: true when: _bot_start_script.changed - name: Ensure that service is running service: name: elasticrecheck-bot-{{ item.tenant }} state: started daemon-reload: true enabled: true ",,292,0
openstack%2Fneutron~master~I6c338033fc56aeb829a35373cef7df9eaaf0a03a,openstack/neutron,master,I6c338033fc56aeb829a35373cef7df9eaaf0a03a,Imported Translations from Zanata,MERGED,2023-05-09 04:35:52.000000000,2023-05-16 06:03:26.000000000,2023-05-16 06:02:20.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 04:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eef89093672edc21533d3f54ac581eef92815583', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c338033fc56aeb829a35373cef7df9eaaf0a03a\n'}, {'number': 2, 'created': '2023-05-11 04:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2ecce2e862104d3ca1bfbd9ff11ab8f6a86f6c7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c338033fc56aeb829a35373cef7df9eaaf0a03a\n'}, {'number': 3, 'created': '2023-05-12 04:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9e4fdcb05d2e369487bb7a14d4dc94052dd7f4d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c338033fc56aeb829a35373cef7df9eaaf0a03a\n'}, {'number': 4, 'created': '2023-05-16 03:01:00.000000000', 'files': ['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po', 'neutron/locale/it/LC_MESSAGES/neutron.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron.po', 'neutron/locale/es/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'neutron/locale/de/LC_MESSAGES/neutron.po', 'neutron/locale/fr/LC_MESSAGES/neutron.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron.po', 'neutron/locale/ru/LC_MESSAGES/neutron.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a06b44e12da4ab8fb037b34593f33c4df7dbafa1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c338033fc56aeb829a35373cef7df9eaaf0a03a\n'}]",1,882667,a06b44e12da4ab8fb037b34593f33c4df7dbafa1,20,5,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6c338033fc56aeb829a35373cef7df9eaaf0a03a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/882667/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po', 'neutron/locale/it/LC_MESSAGES/neutron.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron.po', 'neutron/locale/es/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'neutron/locale/de/LC_MESSAGES/neutron.po', 'neutron/locale/fr/LC_MESSAGES/neutron.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron.po', 'neutron/locale/ru/LC_MESSAGES/neutron.po']",13,eef89093672edc21533d3f54ac581eef92815583,zanata/translations,"""POT-Creation-Date: 2023-05-09 00:07+0000\n""","""POT-Creation-Date: 2023-01-26 15:02+0000\n""msgid """" ""Agent starts with admin_state_up=False when enable_new_agents=False. In the "" ""case, user's resources will not be scheduled automatically to the agent "" ""until admin changes admin_state_up to True."" msgstr """" ""    admin_state_up=False,    "" ""enable_new_agents=False.        "" ""   ,     "" ""  admin_state_up  True."" msgid ""Allow auto scheduling networks to DHCP agent."" msgstr ""      DHCP."" msgid ""Allow auto scheduling of routers to L3 agent."" msgstr ""      L3."" msgid ""Allow to perform insecure SSL (https) requests to nova metadata"" msgstr ""   SSL (https)  nova"" msgid ""Client certificate for nova metadata api server."" msgstr ""    API  nova."" msgid """" ""Controls whether the neutron security group API is enabled in the server. It "" ""should be false when using no security groups or using the nova security "" ""group API."" msgstr """" "",   API   neutron  .  "" ""  false,        API "" ""  nova."" msgid """" ""Default number of resource allowed per tenant. A negative value means "" ""unlimited."" msgstr """" ""      .  "" "" -  ."" msgid ""Driver to use for scheduling network to DHCP agent"" msgstr "",       DHCP"" msgid ""Driver to use for scheduling router to a default L3 agent"" msgstr """" "",       L3  "" """" msgid """" ""Driver used for ipv6 prefix delegation. This needs to be an entry point "" ""defined in the neutron.agent.linux.pd_drivers namespace. See setup.cfg for "" ""entry points included with the neutron source."" msgstr """" ""    ipv6.    , "" ""    neutron.agent.linux.pd_drivers. .  "" ""setup.cfg    ,     neutron."" ""Enable VXLAN on the agent. Can be enabled when agent is managed by ml2 "" ""plugin using linuxbridge mechanism driver"" msgstr """" "" VXLAN  .  ,    "" "" ml2,    linuxbridge"" msgid """"msgid """" ""Extension to use alongside ml2 plugin's l2population mechanism driver. It "" ""enables the plugin to populate VXLAN forwarding table."" msgstr """" ""       l2population "" "" ml2.       VXLAN."" ""In some cases the Neutron router is not present to provide the metadata IP "" ""but the DHCP server can be used to provide this info. Setting this value "" ""will force the DHCP server to append specific host routes to the DHCP "" ""request. If this option is set, then the metadata service will be activated "" ""for all the networks."" msgstr """" ""    Neutron     "" ""  IP,      DHCP.    "" "",   DHCP        DHCP.  "" ""        ."" msgid """"msgid """" ""Interval between checks of child process liveness (seconds), use 0 to disable"" msgstr """" ""      ( ), 0  "" """" ""Iptables mangle mark used to mark ingress from external network. This mark "" ""will be masked with 0xffff so that only the lower 16 bits will be used."" msgstr """" "" mangle  iptables       .  "" ""     0xffff     "" ""16 ."" msgid """"msgid ""Location to store IPv6 PD files."" msgstr ""    PD IPv6."" msgid ""Location to store IPv6 RA config files"" msgstr ""     RA IPv6"" msgid ""Minimize polling by monitoring ovsdb for interface changes."" msgstr """" ""    ovsdb    ."" msgid """" ""Multicast group(s) for vxlan interface. A range of group addresses may be "" ""specified by using CIDR notation. Specifying a range allows different VNIs "" ""to use different group addresses, reducing or eliminating spurious broadcast "" ""traffic to the tunnel endpoints. To reserve a unique group for each possible "" ""(24-bit) VNI, use a /8 such as 239.0.0.0/8. This setting must be the same on "" ""all the agents."" msgstr """" ""    vxlan.     "" ""   CIDR.   ,   VNI  "" ""   ,      "" ""      .   "" ""       VNI (24 "" ""),   /8, , 239.0.0.0/8.    "" ""    ."" msgid """" ""Name of nova region to use. Useful if keystone manages more than one region."" msgstr """" ""   nova. ,  keystone  "" "" ."" msgid """" ""Number of DHCP agents scheduled to host a tenant network. If this number is "" ""greater than 1, the scheduler automatically assigns multiple DHCP agents for "" ""a given tenant network, providing high availability for DHCP service."" msgstr """" ""  DHCP,     .   "" ""  1,      "" ""DHCP    ,     "" ""DHCP."" ""Number of bits in an ipv4 PTR zone that will be considered network prefix. "" ""It has to align to byte boundary. Minimum value is 8. Maximum value is 24. "" ""As a consequence, range of values is 8, 16 and 24"" msgstr """" ""    PTR ipv4,      "" "".      .  : 8. "" "" : 24.  : 8, 16  24"" msgid """" ""Number of bits in an ipv6 PTR zone that will be considered network prefix. "" ""It has to align to nyble boundary. Minimum value is 4. Maximum value is 124. "" ""As a consequence, range of values is 4, 8, 12, 16,..., 124"" msgstr """" ""    PTR ipv6,      "" "".      .  : 4. "" "" : 124.  : 4, 8, 12, 16,..., 124"" msgid """"msgid """" ""Number of seconds between sending events to nova if there are any events to "" ""send."" msgstr """" "",  ,    nova,   , "" "" ."" msgid """" ""Number of security rules allowed per tenant. A negative value means "" ""unlimited."" msgstr """" ""     .   -  "" ""."" msgid ""Protocol to access nova metadata, http or https"" msgstr ""     nova (http  https)"" msgid """" ""Representing the resource type whose load is being reported by the agent. "" ""This can be \""networks\"", \""subnets\"" or \""ports\"". When specified (Default "" ""is networks), the server will extract particular load sent as part of its "" ""agent configuration object from the agent report state, which is the number "" ""of resources being consumed, at every report_interval.dhcp_load_type can be "" ""used in combination with network_scheduler_driver = neutron.scheduler."" ""dhcp_agent_scheduler.WeightScheduler When the network_scheduler_driver is "" ""WeightScheduler, dhcp_load_type can be configured to represent the choice "" ""for the resource being balanced. Example: dhcp_load_type=networks"" msgstr """" ""  ,     .    "" ""\""networks\"", \""subnets\""  \""ports\"".   (  "" ""networks),    ,    "" ""       ,   "" ""      report_interval. "" ""dhcp_load_type      network_scheduler_driver = "" ""neutron.scheduler.dhcp_agent_scheduler.WeightScheduler  "" ""network_scheduler_driver - WeightScheduler, dhcp_load_type   "" ""    . : "" ""dhcp_load_type=networks"" msgid """" ""Seconds to regard the agent is down; should be at least twice "" ""report_interval, to be sure the agent is down for good."" msgstr """" "" ( ),      ; "" ""       report_interval,  "" ""  ,    ."" msgid """" ""Send notification to nova when port data (fixed_ips/floatingip) changes so "" ""nova can update its cache."" msgstr """" ""  nova      (fixed_ips/"" ""floatingip),     nova."" msgid ""Send notification to nova when port status changes"" msgstr ""  nova     "" msgid """" ""Set new timeout in seconds for new rpc calls after agent receives SIGTERM. "" ""If value is set to 0, rpc timeout won't be changed"" msgstr """" ""  - ( )    rpc   "" ""  SIGTERM.   0 - rpc    "" msgid """" ""Set or un-set the don't fragment (DF) bit on outgoing IP packet carrying GRE/"" ""VXLAN tunnel."" msgstr """" ""/      (DF)    IP, "" ""  GRE/VXLAN."" msgid ""Subnet used for the l3 HA admin network."" msgstr """" "",       L3."" msgid ""TTL for vxlan interface protocol packets."" msgstr ""TTL     vxlan."" msgid """" ""The DHCP server can assist with providing metadata support on isolated "" ""networks. Setting this value to True will cause the DHCP server to append "" ""specific host routes to the DHCP request. The metadata service will only be "" ""activated when the subnet does not contain any router port. The guest "" ""instance must be configured to request host routes via DHCP (Option 121). "" ""This option doesn't have any effect when force_metadata is set to True."" msgstr """" "" DHCP        . "" ""    True,   DHCP   "" ""     DHCP.   ,  "" ""     .    "" ""        DHCP (Option 121).  "" ""     ,  force_metadata   True."" msgid """" ""The base mac address used for unique DVR instances by Neutron. The first 3 "" ""octets will remain unchanged. If the 4th octet is not 00, it will also be "" ""used. The others will be randomly generated. The 'dvr_base_mac' *must* be "" ""different from 'base_mac' to avoid mixing them up with MAC's allocated for "" ""tenant ports. A 4 octet example would be dvr_base_mac = fa:16:3f:4f:00:00. "" ""The default is 3 octet"" msgstr """" "" mac-,   Neutron    DVR. "" "" 3    .  4-    00,    "" "".     .  "" ""'dvr_base_mac' **   'base_mac'   "" ""   MAC-,    .  4 "" "": dvr_base_mac = fa:16:3f:4f:00:00.    3 "" msgid ""The driver used to manage the virtual interface."" msgstr "",     ."" ""The maximum number of items returned in a single response, value was "" ""'infinite' or negative integer means no limit"" msgstr """" ""  ,    ;  "" "" 'infinite'   ,    "" msgid """" ""The network type to use when creating the HA network for an HA router. By "" ""default or if empty, the first 'tenant_network_types' is used. This is "" ""helpful when the VRRP traffic should use a specific network which is not the "" ""default one."" msgstr """" ""     HA   HA.   (  "" "" )    'tenant_network_types'.  "" "" ,    VRRP   ,  "" "" ."" msgid """"msgid """" ""The number of seconds to wait before respawning the ovsdb monitor after "" ""losing communication with it."" msgstr """" "" ,  ,    ovsdb  "" ""   ."" msgid """" ""The path for API extensions. Note that this can be a colon-separated list of "" ""paths. For example: api_extensions_path = extensions:/path/to/more/exts:/"" ""even/more/exts. The __path__ of neutron.extensions is appended to this, so "" ""if your extensions are in there you don't need to specify them here."" msgstr """" ""   API.     . : "" ""api_extensions_path = extensions:/path/to/more/exts:/even/more/exts. "" ""__path__   neutron  ,    "" "" ,     ."" msgid ""The physical network name with which the HA network can be created."" msgstr ""      HA."" msgid """" ""Type of the nova endpoint to use. This endpoint will be looked up in the "" ""keystone catalog and should be one of public, internal or admin."" msgstr """" ""    nova.      "" "" keystone,     ,   "" ""."" ""Use ipset to speed-up the iptables based security groups. Enabling ipset "" ""support requires that ipset is installed on L2 agent node."" msgstr """" "" ipset        iptables. "" "" ipset ,  ipset      L2."" msgid """"""When proxying metadata requests, Neutron signs the Instance-ID header with a "" ""shared secret to prevent spoofing. You may select any string for a secret, "" ""but it must match here and in the configuration used by the Nova Metadata "" ""Server. NOTE: Nova uses the same config key, but in [neutron] section."" msgstr """" ""    Neutron   Instance-"" ""ID      .    "" "" ,           "" "" Nova. : Nova     ,   "" "" [neutron]."" msgid """"msgid """" ""With IPv6, the network used for the external gateway does not need to have "" ""an associated subnet, since the automatically assigned link-local address "" ""(LLA) can be used. However, an IPv6 gateway address is needed for use as the "" ""next-hop for the default route. If no IPv6 gateway address is configured "" ""here, (and only then) the neutron router will be configured to get its "" ""default route from router advertisements (RAs) from the upstream router; in "" ""which case the upstream router must also be configured to send these RAs. "" ""The ipv6_gateway, when configured, should be the LLA of the interface on the "" ""upstream router. If a next-hop using a global unique address (GUA) is "" ""desired, it needs to be done via a subnet allocated to the network and not "" ""through this parameter. "" msgstr """" ""  IPv6        "" ""  ,       "" ""  link-local (LLA). ,   IPv6   "" ""      .    IPv6  "" "" , (    )    Neutron "" ""        (RA)  "" ""   .        "" ""       RA.    "" ""ipv6_gateway,     LLA     "" "".   ,    (GUA), "" "" ,     , "" ""  ,      . "" ",74,3749
openstack%2Ftaskflow~stable%2F2023.1~I048faf06d89ebf980efe0598e647f2ec89f65ada,openstack/taskflow,stable/2023.1,I048faf06d89ebf980efe0598e647f2ec89f65ada,Fix parsing of zookeeper jobboard backend options,NEW,2023-04-19 04:27:28.000000000,2023-05-16 05:42:14.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-19 04:27:28.000000000', 'files': ['taskflow/persistence/backends/impl_zookeeper.py', 'releasenotes/notes/fix-zookeeper-option-parsing-f9d37fbc39af47f4.yaml', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/tests/unit/test_utils_kazoo_utils.py', 'taskflow/utils/kazoo_utils.py', 'taskflow/tests/unit/jobs/test_zk_job.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/78aa34f45930d3a3389bcf55becf6d84aac8ae51', 'message': 'Fix parsing of zookeeper jobboard backend options\n\nFix the zookeeper backend options when values are passed as strings,\na ""False"" string is now treated as the False boolean.\n\nCloses-Bug: #1999174\nChange-Id: I048faf06d89ebf980efe0598e647f2ec89f65ada\n(cherry picked from commit 086b3e4335194cbe2bbfcd8c422fa21952124b44)\n'}]",0,880605,78aa34f45930d3a3389bcf55becf6d84aac8ae51,3,2,1,28619,,,0,"Fix parsing of zookeeper jobboard backend options

Fix the zookeeper backend options when values are passed as strings,
a ""False"" string is now treated as the False boolean.

Closes-Bug: #1999174
Change-Id: I048faf06d89ebf980efe0598e647f2ec89f65ada
(cherry picked from commit 086b3e4335194cbe2bbfcd8c422fa21952124b44)
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/05/880605/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/persistence/backends/impl_zookeeper.py', 'releasenotes/notes/fix-zookeeper-option-parsing-f9d37fbc39af47f4.yaml', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/tests/unit/test_utils_kazoo_utils.py', 'taskflow/utils/kazoo_utils.py', 'taskflow/tests/unit/jobs/test_zk_job.py']",6,78aa34f45930d3a3389bcf55becf6d84aac8ae51,," def test_connect_check_compatible(self): # Valid version client = fake_client.FakeClient() board = impl_zookeeper.ZookeeperJobBoard( 'test-board', {'check_compatible': True}, client=client) self.addCleanup(board.close) self.addCleanup(self.close_client, client) with base.connect_close(board): pass # Invalid version, no check client = fake_client.FakeClient(server_version=(3, 2, 0)) board = impl_zookeeper.ZookeeperJobBoard( 'test-board', {'check_compatible': False}, client=client) self.addCleanup(board.close) self.addCleanup(self.close_client, client) with base.connect_close(board): pass # Invalid version, check_compatible=True client = fake_client.FakeClient(server_version=(3, 2, 0)) board = impl_zookeeper.ZookeeperJobBoard( 'test-board', {'check_compatible': True}, client=client) self.addCleanup(board.close) self.addCleanup(self.close_client, client) self.assertRaises(excp.IncompatibleVersion, board.connect) # Invalid version, check_compatible='False' client = fake_client.FakeClient(server_version=(3, 2, 0)) board = impl_zookeeper.ZookeeperJobBoard( 'test-board', {'check_compatible': 'False'}, client=client) self.addCleanup(board.close) self.addCleanup(self.close_client, client) with base.connect_close(board): pass",,145,10
openstack%2Fopenstack-helm~master~I115f9c8278f996205d8b28ecc35eedcb90f4ac4e,openstack/openstack-helm,master,I115f9c8278f996205d8b28ecc35eedcb90f4ac4e,Fix horizon tolerations,MERGED,2023-05-10 08:27:08.000000000,2023-05-16 04:37:36.000000000,2023-05-16 04:36:03.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 08:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55cd4d872056695d6c871194d3d33294fc69ea5a', 'message': 'Fix horizon tolerations\n\nChange-Id: I115f9c8278f996205d8b28ecc35eedcb90f4ac4e\n'}, {'number': 2, 'created': '2023-05-11 10:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1366ac9dda18fb8fd60eeefcc2a9908328ea2bfd', 'message': 'Fix horizon tolerations\n\nChange-Id: I115f9c8278f996205d8b28ecc35eedcb90f4ac4e\n'}, {'number': 3, 'created': '2023-05-11 10:41:27.000000000', 'files': ['horizon/Chart.yaml', 'horizon/templates/pod-helm-tests.yaml', 'releasenotes/notes/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/624f327a547279e2f5699bb90b473dd5e0c07649', 'message': 'Fix horizon tolerations\n\nChange-Id: I115f9c8278f996205d8b28ecc35eedcb90f4ac4e\n'}]",1,882810,624f327a547279e2f5699bb90b473dd5e0c07649,12,3,3,35499,,,0,"Fix horizon tolerations

Change-Id: I115f9c8278f996205d8b28ecc35eedcb90f4ac4e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/882810/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/pod-helm-tests.yaml'],1,55cd4d872056695d6c871194d3d33294fc69ea5a,fix-horizon-tolerations-indentations,"{{ tuple $envAll ""horizon"" | include ""helm-toolkit.snippets.kubernetes_tolerations"" | indent 2 }}","{{ tuple $envAll ""horizon"" | include ""helm-toolkit.snippets.kubernetes_tolerations"" | indent 6 }}",1,1
openstack%2Fcharm-keystone-k8s~main~I8060a0b36a8949595d97c12a211ae21059df8bce,openstack/charm-keystone-k8s,main,I8060a0b36a8949595d97c12a211ae21059df8bce,Disable keystone site in WSGI pebble handler,MERGED,2023-05-15 15:34:24.000000000,2023-05-16 03:18:40.000000000,2023-05-16 02:53:09.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 15:34:24.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/1fe0bffd9af18756974b29b7ffc55b3cab609d1b', 'message': ""Disable keystone site in WSGI pebble handler\n\nUbuntu keystone's package has a `/etc/apache2/sites-enabled/keystone.conf` by default.\nAdding logic to always disable it since we template our own.\n\nChange-Id: I8060a0b36a8949595d97c12a211ae21059df8bce\n""}]",1,883165,1fe0bffd9af18756974b29b7ffc55b3cab609d1b,7,2,1,35761,,,0,"Disable keystone site in WSGI pebble handler

Ubuntu keystone's package has a `/etc/apache2/sites-enabled/keystone.conf` by default.
Adding logic to always disable it since we template our own.

Change-Id: I8060a0b36a8949595d97c12a211ae21059df8bce
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/65/883165/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,1fe0bffd9af18756974b29b7ffc55b3cab609d1b,wsgi-pebble-handler,"import ops_sunbeam.container_handlers as sunbeam_chandlersclass WSGIKeystonePebbleHandler(sunbeam_chandlers.WSGIPebbleHandler): """"""Keystone Pebble Handler."""""" def init_service(self, context: sunbeam_core.OPSCharmContexts) -> None: """"""Enable and start WSGI service."""""" container = self.charm.unit.get_container(self.container_name) try: process = container.exec([""a2dissite"", ""keystone""], timeout=5 * 60) out, warnings = process.wait_output() if warnings: for line in warnings.splitlines(): logger.warning(""a2dissite warn: %s"", line.strip()) logging.debug(f""Output from a2dissite: \n{out}"") except ops.pebble.ExecError: logger.exception(""Failed to disable keystone site in apache"") super().init_service(context) def get_pebble_handlers(self) -> List[sunbeam_chandlers.PebbleHandler]: """"""Pebble handlers for the service."""""" return [ WSGIKeystonePebbleHandler( self, self.service_name, self.service_name, self.container_configs, self.template_dir, self.configure_charm, f""wsgi-{self.service_name}"", ) ] ",,33,0
openstack%2Fcharm-placement-k8s~main~I59b8bc88cbd4e05cb032f9d591ac8dbc1c9d961b,openstack/charm-placement-k8s,main,I59b8bc88cbd4e05cb032f9d591ac8dbc1c9d961b,Disable placement-api site in WSGI pebble handler,MERGED,2023-05-15 16:55:52.000000000,2023-05-16 03:11:39.000000000,2023-05-16 02:56:18.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 16:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/33c8f319581da33f3128c2ae5cd0ac56ed7ac9b6', 'message': ""Disable placement-api site in WSGI pebble handler\n\nUbuntu placement-api's package has a `/etc/apache2/sites-enabled/placement-api.conf` by default.\nAdding logic to always disable it since we template our own.\n\nChange-Id: I59b8bc88cbd4e05cb032f9d591ac8dbc1c9d961b\n""}, {'number': 2, 'created': '2023-05-15 17:51:01.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/2bd8fb090a53d965cefd756d3dbcec94b2191455', 'message': ""Disable placement-api site in WSGI pebble handler\n\nUbuntu placement-api's package has a `/etc/apache2/sites-enabled/placement-api.conf` by default.\nAdding logic to always disable it since we template our own.\n\nChange-Id: I59b8bc88cbd4e05cb032f9d591ac8dbc1c9d961b\n""}]",2,883195,2bd8fb090a53d965cefd756d3dbcec94b2191455,9,2,2,35761,,,0,"Disable placement-api site in WSGI pebble handler

Ubuntu placement-api's package has a `/etc/apache2/sites-enabled/placement-api.conf` by default.
Adding logic to always disable it since we template our own.

Change-Id: I59b8bc88cbd4e05cb032f9d591ac8dbc1c9d961b
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/95/883195/2 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,33c8f319581da33f3128c2ae5cd0ac56ed7ac9b6,wsgi-pebble-handler,"from typing import List import ops.pebbleimport ops_sunbeam.container_handlers as sunbeam_chandlers import ops_sunbeam.core as sunbeam_coreclass WSGIPlacementPebbleHandler(sunbeam_chandlers.WSGIPebbleHandler): """"""Placement Pebble Handler."""""" def init_service(self, context: sunbeam_core.OPSCharmContexts) -> None: """"""Enable and start WSGI service."""""" container = self.charm.unit.get_container(self.container_name) try: process = container.exec([""a2dissite"", ""placement-api""], timeout=5 * 60) out, warnings = process.wait_output() if warnings: for line in warnings.splitlines(): logger.warning(""a2dissite warn: %s"", line.strip()) logging.debug(f""Output from a2dissite: \n{out}"") except ops.pebble.ExecError: logger.exception(""Failed to disable placement-api site in apache"") super().init_service(context) def get_pebble_handlers(self) -> List[sunbeam_chandlers.PebbleHandler]: """"""Pebble handlers for the service."""""" return [ WSGIPlacementPebbleHandler( self, self.service_name, self.service_name, self.container_configs, self.template_dir, self.configure_charm, f""wsgi-{self.service_name}"", ) ] ",,35,0
openstack%2Felection~master~I1ea1e98ba4b7214b4576ecac1e2fdd66bd218c06,openstack/election,master,I1ea1e98ba4b7214b4576ecac1e2fdd66bd218c06,Switch to 2023.2 testing runtime py version,MERGED,2023-04-20 19:25:48.000000000,2023-05-16 02:54:52.000000000,2023-05-16 02:52:20.000000000,"[{'_account_id': 12898}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/7854ed71c7b13a7ef6c6d6e7b13522e9bd1ab63a', 'message': 'Switch to 2023.2 testing runtime py version\n\nWe have prepared general testing template now and\nthat has been updated for 2023.2 (current dev cycle)\ntesting runtime.\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051\n\nSwitching election repo testing to the general template\nand we do not need to update it in future cycle (all adjustment\nof future cycle testing runtime will be handled by central place).\n\nChange-Id: I1ea1e98ba4b7214b4576ecac1e2fdd66bd218c06\n'}, {'number': 2, 'created': '2023-05-10 15:29:54.000000000', 'files': ['.zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/election/commit/7f56f206e623fc6d984f4737d5c85bb38beb80cc', 'message': 'Switch to 2023.2 testing runtime py version\n\nWe have prepared general testing template now and\nthat has been updated for 2023.2 (current dev cycle)\ntesting runtime.\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051\n\nSwitching election repo testing to the general template\nand we do not need to update it in future cycle (all adjustment\nof future cycle testing runtime will be handled by central place).\n\nChange-Id: I1ea1e98ba4b7214b4576ecac1e2fdd66bd218c06\n'}]",5,881138,7f56f206e623fc6d984f4737d5c85bb38beb80cc,14,3,2,8556,,,0,"Switch to 2023.2 testing runtime py version

We have prepared general testing template now and
that has been updated for 2023.2 (current dev cycle)
testing runtime.
- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051

Switching election repo testing to the general template
and we do not need to update it in future cycle (all adjustment
of future cycle testing runtime will be handled by central place).

Change-Id: I1ea1e98ba4b7214b4576ecac1e2fdd66bd218c06
",git fetch https://review.opendev.org/openstack/election refs/changes/38/881138/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'setup.cfg']",2,7854ed71c7b13a7ef6c6d6e7b13522e9bd1ab63a,, Programming Language :: Python :: 3.9 Programming Language :: Python :: 3.10, Programming Language :: Python :: 3.5 Programming Language :: Python :: 3.6,3,3
openstack%2Fkolla-ansible~master~Ib2aabadd0ffd6a8dc2591245f29b4478e03d92fc,openstack/kolla-ansible,master,Ib2aabadd0ffd6a8dc2591245f29b4478e03d92fc,Fix Bash variable expansion issues in openrc file,MERGED,2023-04-25 11:37:12.000000000,2023-05-16 01:59:45.000000000,2023-05-16 01:58:48.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-04-25 11:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2bcc392e589cc5fef32af2533a72560fb937000', 'message': 'Fix Bash variable expansion isses in openrc file\n\nSometimes passwords, URLs and other values of the variables can\ncontain special symbols, for example the dollar sign, using these\nvalues can lead to unpredictable attempts of the variable expansions\nin the Bash scripts, such as openrc file, so we need to use single\nquotes for all variables values.\n\nChange-Id: Ib2aabadd0ffd6a8dc2591245f29b4478e03d92fc\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-04-25 11:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1eaa5e4edd2bc02b2bac0803967f3b45890bac8e', 'message': 'Fix Bash variable expansion isses in openrc file\n\nSometimes passwords, URLs and other values of the variables can\ncontain special symbols, for example the dollar sign, using these\nvalues can lead to unpredictable attempts of the variable expansions\nin the Bash scripts, such as openrc file, so we need to use single\nquotes for all variables values.\n\nChange-Id: Ib2aabadd0ffd6a8dc2591245f29b4478e03d92fc\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-04-25 11:46:39.000000000', 'files': ['ansible/roles/octavia/templates/octavia-openrc.sh.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df6472e0af8a3e5279811a1593d9cf918a89ef91', 'message': 'Fix Bash variable expansion issues in openrc file\n\nSometimes passwords, URLs and other values of the variables can\ncontain special symbols, for example the dollar sign, using these\nvalues can lead to unpredictable attempts of the variable expansions\nin the Bash scripts, such as openrc file, so we need to use single\nquotes for all variables values.\n\nChange-Id: Ib2aabadd0ffd6a8dc2591245f29b4478e03d92fc\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",3,881469,df6472e0af8a3e5279811a1593d9cf918a89ef91,22,7,3,14200,,,0,"Fix Bash variable expansion issues in openrc file

Sometimes passwords, URLs and other values of the variables can
contain special symbols, for example the dollar sign, using these
values can lead to unpredictable attempts of the variable expansions
in the Bash scripts, such as openrc file, so we need to use single
quotes for all variables values.

Change-Id: Ib2aabadd0ffd6a8dc2591245f29b4478e03d92fc
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/881469/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/admin-openrc.sh.j2'],1,e2bcc392e589cc5fef32af2533a72560fb937000,fix-bash-expansion-issue-openrc,export OS_PROJECT_DOMAIN_NAME='Default' export OS_USER_DOMAIN_NAME='Default' export OS_PROJECT_NAME='{{ keystone_admin_project }}' export OS_TENANT_NAME='{{ keystone_admin_project }}' export OS_USERNAME='{{ keystone_admin_user }}' export OS_PASSWORD='{{ keystone_admin_password }}' export OS_AUTH_URL='{{ keystone_internal_url }}' export OS_INTERFACE='internal' export OS_ENDPOINT_TYPE='internalURL'export OS_MANILA_ENDPOINT_TYPE='internalURL'export OS_MISTRAL_ENDPOINT_TYPE='internalURL'export OS_IDENTITY_API_VERSION='3' export OS_REGION_NAME='{{ openstack_region_name }}' export OS_AUTH_PLUGIN='password'export OS_CACERT='{{ kolla_admin_openrc_cacert }}',export OS_PROJECT_DOMAIN_NAME=Default export OS_USER_DOMAIN_NAME=Default export OS_PROJECT_NAME={{ keystone_admin_project }} export OS_TENANT_NAME={{ keystone_admin_project }} export OS_USERNAME={{ keystone_admin_user }} export OS_PASSWORD={{ keystone_admin_password }} export OS_AUTH_URL={{ keystone_internal_url }} export OS_INTERFACE=internal export OS_ENDPOINT_TYPE=internalURLexport OS_MANILA_ENDPOINT_TYPE=internalURLexport OS_MISTRAL_ENDPOINT_TYPE=internalURLexport OS_IDENTITY_API_VERSION=3 export OS_REGION_NAME={{ openstack_region_name }} export OS_AUTH_PLUGIN=passwordexport OS_CACERT={{ kolla_admin_openrc_cacert }},15,15
openstack%2Ftempest~master~I285961ac8eaa0e15268f0729ef33f53cdd389a69,openstack/tempest,master,I285961ac8eaa0e15268f0729ef33f53cdd389a69,Enable new servies in tempest.conf,NEW,2023-05-11 06:15:12.000000000,2023-05-16 01:44:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 06:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae4795f909dd5b0100e1051e426b488d9d1fca79', 'message': ""Enable new servies in tempest.conf\n\nrhel-9 sc02 standalone-rhos-17.1 is failing with\nNoSuchOptError('key_manager').\n\nHere, we try to enable the nova services and then load\nthem.\n\nChange-Id: I285961ac8eaa0e15268f0729ef33f53cdd389a69\n""}, {'number': 2, 'created': '2023-05-11 06:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/19f643bf81d10ada828033ded407a27c3270cf55', 'message': ""Enable new servies in tempest.conf\n\nrhel-9 sc02 standalone-rhos-17.1 is failing with\nNoSuchOptError('key_manager').\n\nHere, we try to enable the nova services and then load\nthem.\n\nCloses-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2197069\nChange-Id: I285961ac8eaa0e15268f0729ef33f53cdd389a69\n""}, {'number': 3, 'created': '2023-05-11 09:16:31.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c009893e4d1323d90923023cc0a284ec51b04737', 'message': ""Enable new servies in tempest.conf\n\nrhel-9 sc02 standalone-rhos-17.1 is failing with\nNoSuchOptError('key_manager').\n\nHere, we try to enable the nova services and then load\nthem.\n\nChange-Id: I285961ac8eaa0e15268f0729ef33f53cdd389a69\n""}]",1,882915,c009893e4d1323d90923023cc0a284ec51b04737,6,2,3,30742,,,0,"Enable new servies in tempest.conf

rhel-9 sc02 standalone-rhos-17.1 is failing with
NoSuchOptError('key_manager').

Here, we try to enable the nova services and then load
them.

Change-Id: I285961ac8eaa0e15268f0729ef33f53cdd389a69
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/882915/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,ae4795f909dd5b0100e1051e426b488d9d1fca79,fix_plugin_tests," cfg.StrOpt('enable_new_services', default='true', help=""When a new nova-compute service starts up, it gets "" ""registered in the database as an enabled service. "" ""Sometimes it can be useful to register new compute "" ""services in disabled state and then enabled them at a "" ""later point in time."" ""fail if inappropriate device name is set.""),",,8,0
openstack%2Fcharm-neutron-api-plugin-ovn~master~I48556fe8df26a5d3de6437cd88a589fcc3786920,openstack/charm-neutron-api-plugin-ovn,master,I48556fe8df26a5d3de6437cd88a589fcc3786920,DNM Test Rebuild,NEW,2023-05-15 13:42:55.000000000,2023-05-16 01:43:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 13:42:55.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/63d651c87df68a68dd9ffc76b985594f0805d6e7', 'message': 'DNM Test Rebuild\n\nChange-Id: I48556fe8df26a5d3de6437cd88a589fcc3786920\n'}]",1,883157,63d651c87df68a68dd9ffc76b985594f0805d6e7,5,2,1,2424,,,0,"DNM Test Rebuild

Change-Id: I48556fe8df26a5d3de6437cd88a589fcc3786920
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/57/883157/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,63d651c87df68a68dd9ffc76b985594f0805d6e7,test-dnm,86808636-ea77-463e-a783-304183e6e478,53dd890a-1178-11ec-a58c-3fbaa1b92367,1,1
openstack%2Fopenstack-ansible~stable%2Fxena~If3e5020c22882e95ec2649915e92de994288f13a,openstack/openstack-ansible,stable/xena,If3e5020c22882e95ec2649915e92de994288f13a,Add internal_lb_vip_address to no_proxy,MERGED,2023-05-11 16:45:03.000000000,2023-05-16 00:31:38.000000000,2023-05-16 00:30:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-11 16:45:03.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1df9384ca132bb0b11eb41b3cc017511077c71c', 'message': 'Add internal_lb_vip_address to no_proxy\n\nTraffic from containers to internal VIP should not be proxied, however\nit was not added to no_proxy before.\n\nWhen trying to implement [1] it was noticed that this change breaks\nglance uploads in proxy jobs with errors:\n\nError reading 13584 bytes. Content-Length: 21233664 consumed: 12831472\nleft: 8402192 message: Connection reset by peer\nFailed to upload image data due to internal error: OSError: error during\nread(65536) on wsgi.input\n\nIt can be solved by just adding internal VIP to no_proxy which looks\nlike a reasonable thing to do.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/881967\n\nChange-Id: If3e5020c22882e95ec2649915e92de994288f13a\n(cherry picked from commit 7f7fd9473aee6b7aa1e81bd85f21d0b24d15fce4)\n'}]",2,883010,c1df9384ca132bb0b11eb41b3cc017511077c71c,14,3,1,25023,,,0,"Add internal_lb_vip_address to no_proxy

Traffic from containers to internal VIP should not be proxied, however
it was not added to no_proxy before.

When trying to implement [1] it was noticed that this change breaks
glance uploads in proxy jobs with errors:

Error reading 13584 bytes. Content-Length: 21233664 consumed: 12831472
left: 8402192 message: Connection reset by peer
Failed to upload image data due to internal error: OSError: error during
read(65536) on wsgi.input

It can be solved by just adding internal VIP to no_proxy which looks
like a reasonable thing to do.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/881967

Change-Id: If3e5020c22882e95ec2649915e92de994288f13a
(cherry picked from commit 7f7fd9473aee6b7aa1e81bd85f21d0b24d15fce4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/883010/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,c1df9384ca132bb0b11eb41b3cc017511077c71c,," no_proxy: ""localhost,127.0.0.1,172.29.236.100,172.29.236.101,{{ bootstrap_host_public_address | default(ansible_facts['default_ipv4']['address']) }}"""," no_proxy: ""localhost,127.0.0.1,172.29.236.100,{{ bootstrap_host_public_address | default(ansible_facts['default_ipv4']['address']) }}""",1,1
openstack%2Fmanila~master~If339669ee382ccc5f37c3c6d21b663a5656c5b53,openstack/manila,master,If339669ee382ccc5f37c3c6d21b663a5656c5b53,"db: Migrate ""driver private data"" APIs to enginefacade",MERGED,2023-04-06 17:03:42.000000000,2023-05-15 23:06:24.000000000,2023-05-15 23:05:21.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-06 17:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/02cdab9667257019ff531ca7bd2804a8736e70c5', 'message': 'db: Migrate ""driver private data"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: If339669ee382ccc5f37c3c6d21b663a5656c5b53\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fe962fd48e87601b9b796032c73f3de479ba780c', 'message': 'db: Migrate ""driver private data"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: If339669ee382ccc5f37c3c6d21b663a5656c5b53\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ef6b3f0a96160f829f9503d1bca90e77f9ea0212', 'message': 'db: Migrate ""driver private data"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: If339669ee382ccc5f37c3c6d21b663a5656c5b53\n'}]",3,879778,ef6b3f0a96160f829f9503d1bca90e77f9ea0212,31,4,3,15334,,,0,"db: Migrate ""driver private data"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: If339669ee382ccc5f37c3c6d21b663a5656c5b53
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/879778/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,02cdab9667257019ff531ca7bd2804a8736e70c5,sqlalchemy-20,"def _driver_private_data_query( context, entity_id, key=None, read_deleted=False, ): context, models.DriverPrivateData,@context_manager.reader def driver_private_data_get(context, entity_id, key=None, default=None): query = _driver_private_data_query(context, entity_id, key)@context_manager.writer def driver_private_data_update( context, entity_id, details, delete_existing=False, ): # Process existing data original_data = context.session.query(models.DriverPrivateData).filter_by( entity_uuid=entity_id, ).all() for data_ref in original_data: in_new_details = data_ref['key'] in new_details if in_new_details: new_value = str(new_details.pop(data_ref['key'])) data_ref.update({ ""value"": new_value, ""deleted"": 0, ""deleted_at"": None data_ref.save(session=context.session) elif delete_existing and data_ref['deleted'] != 1: data_ref.update({ ""deleted"": 1, ""deleted_at"": timeutils.utcnow() }) data_ref.save(session=context.session) # Add new data for key, value in new_details.items(): data_ref = models.DriverPrivateData() data_ref.update({ ""entity_uuid"": entity_id, ""key"": key, ""value"": str(value) }) data_ref.save(session=context.session) return details@context_manager.writer def driver_private_data_delete(context, entity_id, key=None): query = _driver_private_data_query(context, entity_id, key) query.update({""deleted"": 1, ""deleted_at"": timeutils.utcnow()})","def _driver_private_data_query(session, context, entity_id, key=None, read_deleted=False): context, models.DriverPrivateData, session=session,def driver_private_data_get(context, entity_id, key=None, default=None, session=None): if not session: session = get_session() query = _driver_private_data_query(session, context, entity_id, key)def driver_private_data_update(context, entity_id, details, delete_existing=False, session=None): if not session: session = get_session() with session.begin(): # Process existing data original_data = session.query(models.DriverPrivateData).filter_by( entity_uuid=entity_id).all() for data_ref in original_data: in_new_details = data_ref['key'] in new_details if in_new_details: new_value = str(new_details.pop(data_ref['key'])) data_ref.update({ ""value"": new_value, ""deleted"": 0, ""deleted_at"": None }) data_ref.save(session=session) elif delete_existing and data_ref['deleted'] != 1: data_ref.update({ ""deleted"": 1, ""deleted_at"": timeutils.utcnow() }) data_ref.save(session=session) # Add new data for key, value in new_details.items(): data_ref = models.DriverPrivateData() data_ref.update({ ""entity_uuid"": entity_id, ""key"": key, ""value"": str(value) data_ref.save(session=session) return detailsdef driver_private_data_delete(context, entity_id, key=None, session=None): if not session: session = get_session() with session.begin(): query = _driver_private_data_query(session, context, entity_id, key) query.update({""deleted"": 1, ""deleted_at"": timeutils.utcnow()})",43,51
openstack%2Fmanila~master~I21980ad9f3f86225e449e0436d06f74ebbc855db,openstack/manila,master,I21980ad9f3f86225e449e0436d06f74ebbc855db,"db: Migrate ""network allocation"" APIs to enginefacade",MERGED,2023-04-06 17:03:42.000000000,2023-05-15 22:54:58.000000000,2023-05-15 22:53:09.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-06 17:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/edf987bbef930dce389c917b4d3d3748f5ce6ecd', 'message': 'db: Migrate ""network allocation"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I21980ad9f3f86225e449e0436d06f74ebbc855db\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f9efc31d1cc913f76e32c04687264d562c49b87a', 'message': 'db: Migrate ""network allocation"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I21980ad9f3f86225e449e0436d06f74ebbc855db\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9434466051c0343e2159b49aed63157a7ad7021d', 'message': 'db: Migrate ""network allocation"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I21980ad9f3f86225e449e0436d06f74ebbc855db\n'}]",2,879777,9434466051c0343e2159b49aed63157a7ad7021d,30,4,3,15334,,,0,"db: Migrate ""network allocation"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I21980ad9f3f86225e449e0436d06f74ebbc855db
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/879777/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/db/sqlalchemy/api.py']",2,edf987bbef930dce389c917b4d3d3748f5ce6ecd,sqlalchemy-20,"@context_manager.writer alloc_ref.save(session=context.session)@context_manager.writer def network_allocation_delete(context, id): alloc_ref = _network_allocation_get(context, id) alloc_ref.soft_delete(session=context.session)@context_manager.reader def network_allocation_get(context, id, read_deleted=""no""): return _network_allocation_get(context, id, read_deleted=read_deleted) @require_context def _network_allocation_get(context, id, read_deleted=""no""): result = model_query( context, models.NetworkAllocation, read_deleted=read_deleted, ).filter_by(id=id).first()@context_manager.reader def network_allocations_get_by_ip_address(context, ip_address): result = model_query( context, models.NetworkAllocation, ).filter_by(ip_address=ip_address).all()@context_manager.reader def network_allocations_get_for_share_server( context, share_server_id, label=None, subnet_id=None, ): context, models.NetworkAllocation,@context_manager.writer def network_allocation_update(context, id, values, read_deleted=None): alloc_ref = _network_allocation_get(context, id, read_deleted=read_deleted) alloc_ref.update(values) alloc_ref.save(session=context.session) return alloc_ref"," session = get_session() with session.begin(): alloc_ref.save(session=session)def network_allocation_delete(context, id): session = get_session() with session.begin(): alloc_ref = network_allocation_get(context, id, session=session) alloc_ref.soft_delete(session)def network_allocation_get(context, id, session=None, read_deleted=""no""): if session is None: session = get_session() result = (model_query(context, models.NetworkAllocation, session=session, read_deleted=read_deleted). filter_by(id=id).first())def network_allocations_get_by_ip_address(context, ip_address): session = get_session() result = (model_query(context, models.NetworkAllocation, session=session). filter_by(ip_address=ip_address).all())def network_allocations_get_for_share_server(context, share_server_id, session=None, label=None, subnet_id=None): if session is None: session = get_session() context, models.NetworkAllocation, session=session,def network_allocation_update(context, id, values, read_deleted=None): session = get_session() with session.begin(): alloc_ref = network_allocation_get(context, id, session=session, read_deleted=read_deleted) alloc_ref.update(values) alloc_ref.save(session=session) return alloc_ref",37,38
openstack%2Fnova~stable%2Fxena~Icbdcd5d124717e195d55d9e42530611ed812fadd,openstack/nova,stable/xena,Icbdcd5d124717e195d55d9e42530611ed812fadd,CI: fix backport validator for new branch naming,MERGED,2023-05-11 15:08:37.000000000,2023-05-15 22:54:41.000000000,2023-05-15 22:53:28.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:08:37.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/41895386349ee8d8acea6b1278a2b54c6f9d750f', 'message': 'CI: fix backport validator for new branch naming\n\nvalidate-backport job started to fail as only old stable branch naming\nis accepted. This patch extends the script to allow numbers and dot as\nwell in the branch names (like stable/2023.1).\n\nChange-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd\n(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)\n(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)\n(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)\n(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)\n'}]",1,882967,41895386349ee8d8acea6b1278a2b54c6f9d750f,9,3,1,17685,,,0,"CI: fix backport validator for new branch naming

validate-backport job started to fail as only old stable branch naming
is accepted. This patch extends the script to allow numbers and dot as
well in the branch names (like stable/2023.1).

Change-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd
(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)
(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)
(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)
(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/882967/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,41895386349ee8d8acea6b1278a2b54c6f9d750f,validate-backport-release-id," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z0-9.]+)')"," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)')",1,1
openstack%2Fmanila~master~I6e594532f88dc292389d0a68e535ca1c307e8c67,openstack/manila,master,I6e594532f88dc292389d0a68e535ca1c307e8c67,"db: Migrate ""share type extra specs"" APIs to enginefacade",MERGED,2023-04-06 17:03:42.000000000,2023-05-15 22:54:12.000000000,2023-05-15 22:53:05.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-06 17:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/55bfcf7adcb59d61c661b825506cc8ff55e7e195', 'message': 'db: Migrate ""share type extra specs"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I6e594532f88dc292389d0a68e535ca1c307e8c67\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/136bc46f7823653b17d878a69a450e7c276b104e', 'message': 'db: Migrate ""share type extra specs"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I6e594532f88dc292389d0a68e535ca1c307e8c67\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d233a023f100617f626c498da2218ac64c5b9634', 'message': 'db: Migrate ""share type extra specs"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I6e594532f88dc292389d0a68e535ca1c307e8c67\n'}]",2,879775,d233a023f100617f626c498da2218ac64c5b9634,31,4,3,15334,,,0,"db: Migrate ""share type extra specs"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I6e594532f88dc292389d0a68e535ca1c307e8c67
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/879775/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,55bfcf7adcb59d61c661b825506cc8ff55e7e195,sqlalchemy-20,"def _share_type_extra_specs_query(context, share_type_id): return model_query( context, models.ShareTypeExtraSpecs, read_deleted=""no"", ).filter_by( share_type_id=share_type_id, ).options(joinedload('share_type'))@context_manager.reader def share_type_extra_specs_get(context, share_type_id): rows = _share_type_extra_specs_query(context, share_type_id).all()@context_manager.writer def share_type_extra_specs_delete(context, share_type_id, key): _share_type_extra_specs_get_item(context, share_type_id, key) _share_type_extra_specs_query( context, share_type_id, ).filter_by(key=key).soft_delete() def _share_type_extra_specs_get_item(context, share_type_id, key): context, share_type_id, share_type_id=share_type_id, )@context_manager.writer def share_type_extra_specs_update_or_create(context, share_type_id, specs): spec_ref = None for key, value in specs.items(): try: spec_ref = _share_type_extra_specs_get_item( context, share_type_id, key, ) except exception.ShareTypeExtraSpecsNotFound: spec_ref = models.ShareTypeExtraSpecs() spec_ref.update( { ""key"": key, ""value"": value, ""share_type_id"": share_type_id, ""deleted"": 0, } ) spec_ref.save(session=context.session) return specs ######################################## ","def _share_type_extra_specs_query(context, share_type_id, session=None): return (model_query(context, models.ShareTypeExtraSpecs, session=session, read_deleted=""no""). filter_by(share_type_id=share_type_id). options(joinedload('share_type')))def share_type_extra_specs_get(context, share_type_id): rows = (_share_type_extra_specs_query(context, share_type_id). all()) def share_type_extra_specs_delete(context, share_type_id, key): session = get_session() with session.begin(): _share_type_extra_specs_get_item(context, share_type_id, key, session) (_share_type_extra_specs_query(context, share_type_id, session). filter_by(key=key).soft_delete()) def _share_type_extra_specs_get_item(context, share_type_id, key, session=None): context, share_type_id, session=session share_type_id=share_type_id)def share_type_extra_specs_update_or_create(context, share_type_id, specs): session = get_session() with session.begin(): spec_ref = None for key, value in specs.items(): try: spec_ref = _share_type_extra_specs_get_item( context, share_type_id, key, session) except exception.ShareTypeExtraSpecsNotFound: spec_ref = models.ShareTypeExtraSpecs() spec_ref.update({""key"": key, ""value"": value, ""share_type_id"": share_type_id, ""deleted"": 0}) spec_ref.save(session=session) return specs",40,31
openstack%2Fmanila~master~If646b894c0854886fcd25a55f79752ac9de4edf7,openstack/manila,master,If646b894c0854886fcd25a55f79752ac9de4edf7,db: Migrate 'purge_deleted_records' API to enginefacade,MERGED,2023-04-06 17:03:42.000000000,2023-05-15 22:53:07.000000000,2023-05-15 22:53:07.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-06 17:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e36c3b09a5ca3959fc166186c48eef7dabe17496', 'message': ""db: Migrate 'purge_deleted_records' API to enginefacade\n\nThis stands alone and can be migrated that way. We reduce indentation\nslightly through an early return.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: If646b894c0854886fcd25a55f79752ac9de4edf7\n""}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9ffc160adcbddc6456cf9f83f7efa77e0a15ce41', 'message': ""db: Migrate 'purge_deleted_records' API to enginefacade\n\nThis stands alone and can be migrated that way. We reduce indentation\nslightly through an early return.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: If646b894c0854886fcd25a55f79752ac9de4edf7\n""}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3c4cdf904f2b56b07b357dc6734d31f07c2f5f63', 'message': ""db: Migrate 'purge_deleted_records' API to enginefacade\n\nThis stands alone and can be migrated that way. We reduce indentation\nslightly through an early return.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: If646b894c0854886fcd25a55f79752ac9de4edf7\n""}]",2,879776,3c4cdf904f2b56b07b357dc6734d31f07c2f5f63,28,4,3,15334,,,0,"db: Migrate 'purge_deleted_records' API to enginefacade

This stands alone and can be migrated that way. We reduce indentation
slightly through an early return.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: If646b894c0854886fcd25a55f79752ac9de4edf7
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/879776/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,e36c3b09a5ca3959fc166186c48eef7dabe17496,sqlalchemy-20,"@context_manager.writer if 'deleted' not in table.columns.keys(): continue try: mds = [m for m in models.__dict__.values() if (hasattr(m, '__tablename__') and m.__tablename__ == str(table))] if len(mds) > 0: # collect all soft-deleted records with context.session.begin_nested(): model = mds[0] s_deleted_records = context.session.query( model, ).filter(model.deleted_at <= deleted_age) deleted_count = 0 # delete records one by one, # skip the records which has FK constraints for record in s_deleted_records: try: with context.session.begin_nested(): context.session.delete(record) deleted_count += 1 except db_exc.DBError: LOG.warning( (""Deleting soft-deleted resource %s "" ""failed, skipping.""), record) if deleted_count != 0: LOG.info(""Deleted %(count)s records in "" ""table %(table)s."", {'count': deleted_count, 'table': table}) except db_exc.DBError: LOG.warning(""Querying table %s's soft-deleted records "" ""failed, skipping."", table)"," session = get_session() session.begin() if 'deleted' in table.columns.keys(): try: mds = [m for m in models.__dict__.values() if (hasattr(m, '__tablename__') and m.__tablename__ == str(table))] if len(mds) > 0: # collect all soft-deleted records with session.begin_nested(): model = mds[0] s_deleted_records = session.query(model).filter( model.deleted_at <= deleted_age) deleted_count = 0 # delete records one by one, # skip the records which has FK constraints for record in s_deleted_records: try: with session.begin_nested(): session.delete(record) deleted_count += 1 except db_exc.DBError: LOG.warning( (""Deleting soft-deleted resource %s "" ""failed, skipping.""), record) if deleted_count != 0: LOG.info(""Deleted %(count)s records in "" ""table %(table)s."", {'count': deleted_count, 'table': table}) except db_exc.DBError: LOG.warning(""Querying table %s's soft-deleted records "" ""failed, skipping."", table) session.commit()",34,33
openstack%2Fkolla-ansible~master~I6c815bff288df35f87adde2be78bf2a3fad04f31,openstack/kolla-ansible,master,I6c815bff288df35f87adde2be78bf2a3fad04f31,DNM: Debug Ironic CI failures,NEW,2023-05-11 08:55:16.000000000,2023-05-15 21:29:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-11 08:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3166a77f30904340095e7f25515840ab8b7fe2c', 'message': 'DNM: Debug Ironic CI failures\n\nChange-Id: I6c815bff288df35f87adde2be78bf2a3fad04f31\n'}, {'number': 2, 'created': '2023-05-15 20:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a805a59e41a90b35532683083fc96c8fc9bbe7a', 'message': 'DNM: Debug Ironic CI failures\n\nChange-Id: I6c815bff288df35f87adde2be78bf2a3fad04f31\n'}, {'number': 3, 'created': '2023-05-15 20:16:11.000000000', 'files': ['zuul.d/project.yaml', 'tests/test-ironic.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2fecb36080888360c2ee1edfc3db63ec1d12c14b', 'message': 'DNM: Debug Ironic CI failures\n\nChange-Id: I6c815bff288df35f87adde2be78bf2a3fad04f31\n'}]",2,882923,2fecb36080888360c2ee1edfc3db63ec1d12c14b,7,1,3,22629,,,0,"DNM: Debug Ironic CI failures

Change-Id: I6c815bff288df35f87adde2be78bf2a3fad04f31
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/882923/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tests/test-ironic.sh']",2,f3166a77f30904340095e7f25515840ab8b7fe2c,, # List Ironic in Keystone catalog openstack catalog list | grep ironic ,,3,58
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I4889600be9f31532ac30d944bde28a64cff5ed26,openstack/puppet-tripleo,stable/wallaby,I4889600be9f31532ac30d944bde28a64cff5ed26,Fix regression of Nova dhcp_domain handling,MERGED,2023-04-24 11:01:17.000000000,2023-05-15 21:27:21.000000000,2023-05-15 21:27:21.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-04-24 11:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d45e00772c91b91b94aab712cf0a7ff3d6ec3ac0', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2023-04-25 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0d5139ee56888611c769792230d184efc31b118b', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2023-05-04 13:01:36.000000000', 'files': ['manifests/profile/base/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/20a162c76ee61a74d5fd42bebce53f16b472c944', 'message': 'Fix regression of Nova dhcp_domain handling\n\nAs of https://review.opendev.org/774415\nnova::metadata::dhcp_domain values in custom hiera\noverrides stopped working for users.\n\nAs a result, during updates/upgrades, that might alter\nexisting hostnames for Nova compute nodes.\n\nFix regression by honoring legacy nova::metadata::dhcp_domain\nalongside nova::dhcp_domain values.\n\nChange-Id: I4889600be9f31532ac30d944bde28a64cff5ed26\nRelated: rhbz#2181566\nCo-authored-by: Takashi Kajinami <tkajinam@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,881361,20a162c76ee61a74d5fd42bebce53f16b472c944,14,6,3,6926,,,0,"Fix regression of Nova dhcp_domain handling

As of https://review.opendev.org/774415
nova::metadata::dhcp_domain values in custom hiera
overrides stopped working for users.

As a result, during updates/upgrades, that might alter
existing hostnames for Nova compute nodes.

Fix regression by honoring legacy nova::metadata::dhcp_domain
alongside nova::dhcp_domain values.

Change-Id: I4889600be9f31532ac30d944bde28a64cff5ed26
Related: rhbz#2181566
Co-authored-by: Takashi Kajinami <tkajinam@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/881361/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova.pp'],1,d45e00772c91b91b94aab712cf0a7ff3d6ec3ac0,," dhcp_domain => hiera('nova::metadata::dhcp_domain', hiera('nova::dhcp_domain', '')),",,1,0
openstack%2Fkolla-ansible~stable%2Fzed~I2189dafca070accfd8efcd4b8cc4221c6decdc9f,openstack/kolla-ansible,stable/zed,I2189dafca070accfd8efcd4b8cc4221c6decdc9f,always add service_user section to nova.conf,MERGED,2023-05-15 18:53:41.000000000,2023-05-15 21:26:26.000000000,2023-05-15 21:25:26.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-15 18:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43587dd533339a36277aadd7e1ec1c4cdf2b545f', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)\n(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)\n(cherry picked from commit cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0)\n'}, {'number': 2, 'created': '2023-05-15 18:54:49.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'releasenotes/notes/cve-2023-2088-51e7e050be2139bf.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efe6650d09441b02cf93738a94a59723d84c5b19', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)\n(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)\n(cherry picked from commit cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0)\n'}]",1,883114,efe6650d09441b02cf93738a94a59723d84c5b19,11,3,2,22629,,,0,"always add service_user section to nova.conf

As of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova
now requires the service_user section to be configured
to address CVE-2023-2088. This change adds
the service user section to the nova.conf template in
the nova and nova-cell roles.

Related-Bug: #2004555
Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f
(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)
(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)
(cherry picked from commit cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/883114/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'releasenotes/notes/cve-2023-2088-51e7e050be2139bf.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2']",4,43587dd533339a36277aadd7e1ec1c4cdf2b545f,CVE-2023-2088-stable/wallaby-stable/xena-stable/yoga-stable/zed,"<<<<<<< HEAD (d45450 Merge ""Add precheck to fail if RabbitMQ HA needs configuring)======= # security fix, always validate service tokens # see: https://security.openstack.org/ossa/OSSA-2023-003.html # and: https://docs.openstack.org/cinder/zed/configuration/block-storage/service-token.html#troubleshooting service_token_roles_required = true service_token_roles = admin >>>>>>> CHANGE (cb105d always add service_user section to nova.conf)",,43,0
openstack%2Fkolla-ansible~master~Ie3b8653ec309146f8e354a7afe4ae66dfbe6f8cd,openstack/kolla-ansible,master,Ie3b8653ec309146f8e354a7afe4ae66dfbe6f8cd,Remove kolla-ansible-ubuntu-binary-upgrade job,MERGED,2023-05-15 20:00:10.000000000,2023-05-15 20:28:24.000000000,2023-05-15 20:26:37.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-15 20:00:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1b40982615564362801eae09359edf3bc85730d', 'message': 'Remove kolla-ansible-ubuntu-binary-upgrade job\n\nThis job is not required since Zed dropped binary images. The job\ndefinition was already deleted.\n\nChange-Id: Ie3b8653ec309146f8e354a7afe4ae66dfbe6f8cd\n'}]",0,883206,f1b40982615564362801eae09359edf3bc85730d,8,3,1,15197,,,0,"Remove kolla-ansible-ubuntu-binary-upgrade job

This job is not required since Zed dropped binary images. The job
definition was already deleted.

Change-Id: Ie3b8653ec309146f8e354a7afe4ae66dfbe6f8cd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/883206/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f1b40982615564362801eae09359edf3bc85730d,,, - kolla-ansible-ubuntu-binary-upgrade,0,1
openstack%2Fcharm-cinder~stable%2Fussuri~Iae477200d77890d464311431a957c62324c7febd,openstack/charm-cinder,stable/ussuri,Iae477200d77890d464311431a957c62324c7febd,Testing CI,ABANDONED,2023-03-29 13:55:44.000000000,2023-05-15 20:12:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 13:55:44.000000000', 'files': ['templates/ocata/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/53b175a34e169579ef16e6e391bb32eba03a57c6', 'message': 'Testing CI\n\nTesting CI\n\nChange-Id: Iae477200d77890d464311431a957c62324c7febd\n'}]",0,878905,53b175a34e169579ef16e6e391bb32eba03a57c6,4,2,1,17097,,,0,"Testing CI

Testing CI

Change-Id: Iae477200d77890d464311431a957c62324c7febd
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/05/878905/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ocata/cinder.conf'],1,53b175a34e169579ef16e6e391bb32eba03a57c6,,something_to_trigger_ci = True,,1,0
openstack%2Fkolla-ansible~stable%2Fyoga~I2189dafca070accfd8efcd4b8cc4221c6decdc9f,openstack/kolla-ansible,stable/yoga,I2189dafca070accfd8efcd4b8cc4221c6decdc9f,always add service_user section to nova.conf,MERGED,2023-05-15 15:19:01.000000000,2023-05-15 18:51:08.000000000,2023-05-15 18:49:59.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-15 15:19:01.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'releasenotes/notes/cve-2023-2088-51e7e050be2139bf.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0', 'message': 'always add service_user section to nova.conf\n\nAs of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova\nnow requires the service_user section to be configured\nto address CVE-2023-2088. This change adds\nthe service user section to the nova.conf template in\nthe nova and nova-cell roles.\n\nRelated-Bug: #2004555\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\n(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)\n(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)\n'}]",1,883113,cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0,10,6,1,22629,,,0,"always add service_user section to nova.conf

As of I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8 nova
now requires the service_user section to be configured
to address CVE-2023-2088. This change adds
the service user section to the nova.conf template in
the nova and nova-cell roles.

Related-Bug: #2004555
Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: I2189dafca070accfd8efcd4b8cc4221c6decdc9f
(cherry picked from commit a77ea13ef1991543df29b7eea14b1f91ef26f858)
(cherry picked from commit 03c12abbcc107bfec451f4558bc97d14facae01c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/883113/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'releasenotes/notes/cve-2023-2088-51e7e050be2139bf.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2']",4,cb105dc293ff1cdb11ab63fa3e3bf39fd17e0ee0,CVE-2023-2088-stable/wallaby-stable/xena-stable/yoga,"# security fix, always validate service tokens # see: https://security.openstack.org/ossa/OSSA-2023-003.html # and: https://docs.openstack.org/cinder/zed/configuration/block-storage/service-token.html#troubleshooting service_token_roles_required = true service_token_roles = admin",,40,0
openstack%2Fkeystone~master~I8a5d75750a8b028cddd9403a5212a1285b19eff7,openstack/keystone,master,I8a5d75750a8b028cddd9403a5212a1285b19eff7,Remove OSA test job,NEW,2023-05-15 17:02:37.000000000,2023-05-15 18:31:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-15 17:02:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9d0eb2953933564d7204c5d9851bb317ad507ee3', 'message': 'Remove OSA test job\n\nThis job has not passed for several years and the test framework\nit is based on is now deprecated in OSA.\n\nChange-Id: I8a5d75750a8b028cddd9403a5212a1285b19eff7\n'}]",0,883196,9d0eb2953933564d7204c5d9851bb317ad507ee3,3,1,1,25023,,,0,"Remove OSA test job

This job has not passed for several years and the test framework
it is based on is now deprecated in OSA.

Change-Id: I8a5d75750a8b028cddd9403a5212a1285b19eff7
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/883196/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d0eb2953933564d7204c5d9851bb317ad507ee3,,,# This job will execute 'tox -e upgrade' from the OSA # repo specified in 'osa_test_repo'. - job: name: openstack-ansible-keystone-rolling-upgrade parent: openstack-ansible-cross-repo-functional required-projects: - name: openstack/openstack-ansible-os_keystone vars: tox_env: upgrade osa_test_repo: openstack/openstack-ansible-os_keystone - openstack-ansible-keystone-rolling-upgrade: irrelevant-files: *irrelevant-files,0,13
openstack%2Fopenstack-tempest-skiplist~master~Icf425c160c4add0b25d3d03f61b876c46815032e,openstack/openstack-tempest-skiplist,master,Icf425c160c4add0b25d3d03f61b876c46815032e,Add manila-operator tests to allow and skip list,MERGED,2023-05-15 15:49:28.000000000,2023-05-15 18:14:36.000000000,2023-05-15 18:13:39.000000000,"[{'_account_id': 8367}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2023-05-15 15:49:28.000000000', 'files': ['openstack-operators/tempest_allow.yml', 'openstack-operators/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/615411f28ba71e57c3f4e99ef7980bf94fd361dc', 'message': 'Add manila-operator tests to allow and skip list\n\nSe the list of tests to be executed by manila operator and one failing\ntest to the skiplist.\n\nChange-Id: Icf425c160c4add0b25d3d03f61b876c46815032e\n'}]",1,883167,615411f28ba71e57c3f4e99ef7980bf94fd361dc,9,4,1,34452,,,0,"Add manila-operator tests to allow and skip list

Se the list of tests to be executed by manila operator and one failing
test to the skiplist.

Change-Id: Icf425c160c4add0b25d3d03f61b876c46815032e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/67/883167/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack-operators/tempest_allow.yml', 'openstack-operators/tempest_skip.yml']",2,615411f28ba71e57c3f4e99ef7980bf94fd361dc,, - test: manila_tempest_tests.tests.api.test_share_network_subnets.ShareNetworkSubnetsTest.test_create_delete_subnet deployment: - overcloud releases: - name: master reason: Fix not landed yet lp: http://no.bug jobs: - manila-operator,,14,0
openstack%2Fbifrost~master~I27ccc12b9f408d510710d5ba82ad04135169827a,openstack/bifrost,master,I27ccc12b9f408d510710d5ba82ad04135169827a,Skip unnecessary SDK get_machine calls,MERGED,2023-05-11 13:28:56.000000000,2023-05-15 17:57:57.000000000,2023-05-15 17:57:00.000000000,"[{'_account_id': 10239}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 35263}, {'_account_id': 35264}]","[{'number': 1, 'created': '2023-05-11 13:28:56.000000000', 'files': ['bifrost/inventory.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7979498316762b51759ef056fabd517c1f0909cd', 'message': 'Skip unnecessary SDK get_machine calls\n\nThe _process_sdk function starts by calling cloud.list_machines() which\nreturns all nodes including their names. There is no need to call\ncloud.get_machine individually for each node just to get its name\nattribute when we might be skipping this node.\n\nThis speeds up execution of the Bifrost inventory module when\nBIFROST_NODE_NAMES is used.\n\nChange-Id: I27ccc12b9f408d510710d5ba82ad04135169827a\n'}]",0,882950,7979498316762b51759ef056fabd517c1f0909cd,11,6,1,15197,,,0,"Skip unnecessary SDK get_machine calls

The _process_sdk function starts by calling cloud.list_machines() which
returns all nodes including their names. There is no need to call
cloud.get_machine individually for each node just to get its name
attribute when we might be skipping this node.

This speeds up execution of the Bifrost inventory module when
BIFROST_NODE_NAMES is used.

Change-Id: I27ccc12b9f408d510710d5ba82ad04135169827a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/50/882950/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/inventory.py'],1,7979498316762b51759ef056fabd517c1f0909cd,, machine = cloud.get_machine(machine['uuid']), machine = cloud.get_machine(machine['uuid']),1,1
openstack%2Frequirements~master~I58b9356999e81ab2a5116f3ff573d205a05cacfa,openstack/requirements,master,I58b9356999e81ab2a5116f3ff573d205a05cacfa,update constraint for oslo.policy to new release 4.2.0,MERGED,2023-05-15 08:57:39.000000000,2023-05-15 17:39:49.000000000,2023-05-15 17:38:17.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-15 08:57:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aef0fc0d7723467ff094af412a4f274b6698811d', 'message': 'update constraint for oslo.policy to new release 4.2.0\n\nmeta: version: 4.2.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I2280d24ddfaf7b970c135993573fd97113bf324b\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I58b9356999e81ab2a5116f3ff573d205a05cacfa\n'}]",1,883143,aef0fc0d7723467ff094af412a4f274b6698811d,10,4,1,11131,,,0,"update constraint for oslo.policy to new release 4.2.0

meta: version: 4.2.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I2280d24ddfaf7b970c135993573fd97113bf324b
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I58b9356999e81ab2a5116f3ff573d205a05cacfa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/883143/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aef0fc0d7723467ff094af412a4f274b6698811d,new-release,oslo.policy===4.2.0,oslo.policy===4.1.1,1,1
openstack%2Frequirements~master~I78749d962c6afc56b60a30d9b4533f923be96339,openstack/requirements,master,I78749d962c6afc56b60a30d9b4533f923be96339,update constraint for glance_store to new release 4.4.0,MERGED,2023-05-12 14:53:10.000000000,2023-05-15 17:39:10.000000000,2023-05-15 17:38:14.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-12 14:53:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7f5495872b60139870654af587398afd88597dbf', 'message': 'update constraint for glance_store to new release 4.4.0\n\nmeta: version: 4.4.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Eld Ills <elod.illes@est.tech>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I02af2b3739f5e0618916e5924173ba87414712ff\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nmeta: release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I78749d962c6afc56b60a30d9b4533f923be96339\n'}]",0,883073,7f5495872b60139870654af587398afd88597dbf,9,3,1,11131,,,0,"update constraint for glance_store to new release 4.4.0

meta: version: 4.4.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Eld Ills <elod.illes@est.tech>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I02af2b3739f5e0618916e5924173ba87414712ff
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I78749d962c6afc56b60a30d9b4533f923be96339
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/883073/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7f5495872b60139870654af587398afd88597dbf,new-release,glance-store===4.4.0,glance-store===4.3.0,1,1
openstack%2Fneutron~master~Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af,openstack/neutron,master,Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af,Add host metadata haproxy manager,MERGED,2022-11-16 03:35:22.000000000,2023-05-15 17:38:19.000000000,2023-05-15 17:37:10.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 03:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f65abf787ac767cc9bb6f3d2fd88c5ac92a73fe5', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metedata haproxy, which takes care of the\nlifecycle of the host metedata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 2, 'created': '2022-11-16 04:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/499d9dc1e749fcc2e9cebca22b2c00e05cbe5912', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metedata haproxy, which takes care of the\nlifecycle of the host metedata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 3, 'created': '2022-12-05 04:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b17e32b2eef3b711ac6cece5392c24cd3a6b15da', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 4, 'created': '2022-12-06 01:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37ed896a340a7c3c172458341795b259a44016e5', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 5, 'created': '2022-12-14 03:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37e7d7ebc3b7fc5ed7f17a7426e9526e68ec4b46', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 6, 'created': '2022-12-16 01:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b819533cce7f441b9650eb541f2597d46c81e71', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 7, 'created': '2023-02-14 01:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96ebdd9f9279a78bc8ab20d68b594bdee8953b6a', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 8, 'created': '2023-03-09 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e7cfb26836a2b7cc25261ec3ac08a9f01e34274', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 9, 'created': '2023-04-06 01:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94eb1ebb74e98ab08ce440738129832a79754cea', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}, {'number': 10, 'created': '2023-05-08 01:13:22.000000000', 'files': ['neutron/tests/unit/agent/l2/extensions/metadata/__init__.py', 'neutron/opts.py', 'neutron/tests/unit/agent/l2/extensions/metadata/test_host_metadata_proxy.py', 'neutron/agent/l2/extensions/metadata/host_metadata_proxy.py', 'neutron/agent/l2/extensions/metadata/__init__.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dde1d69c78fdada1d4441914e685f8a202f68896', 'message': 'Add host metadata haproxy manager\n\nHost haproxy configurations will be rendered by jinja2\ntemplate. And a process monitor will be used to manage\nthe host metadata haproxy, which takes care of the\nlifecycle of the host metadata haproxy.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af\n'}]",69,864649,dde1d69c78fdada1d4441914e685f8a202f68896,116,6,10,9531,,,0,"Add host metadata haproxy manager

Host haproxy configurations will be rendered by jinja2
template. And a process monitor will be used to manage
the host metadata haproxy, which takes care of the
lifecycle of the host metadata haproxy.

Partially-Implements: blueprint distributed-metadata-datapath
Change-Id: Ie7be84d503f5d60d3c50d3ac3aaaf55c13adf7af
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/864649/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l2/extensions/metadata/__init__.py', 'neutron/tests/unit/agent/l2/extensions/metadata/test_host_metadata_proxy.py', 'neutron/agent/l2/extensions/metadata/host_metadata_proxy.py', 'neutron/agent/l2/extensions/metadata/__init__.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,f65abf787ac767cc9bb6f3d2fd88c5ac92a73fe5,distributed_metadata_data_path,"metadata_opts = [ cfg.StrOpt('metadata_proxy_shared_secret', default='', help=_('When proxying metadata requests, Neutron signs the ' 'Instance-ID header with a shared secret to prevent ' 'spoofing. You may select any string for a secret, ' 'but it must match here and in the configuration used ' 'by the Nova Metadata Server. NOTE: Nova uses the same ' 'config key, but in [neutron] section.'), secret=True), cfg.ListOpt('nova_metadata_apis', default=[], help=_(""API endpoints for neutron snat metadata traffic."")), cfg.StrOpt('meta_cidr', default='240.0.0.0/16', help=_(""Local metadata CIDR for VMs metadata traffic."")), cfg.IntOpt('meta_dev_vlan_id', default=1, help=_(""The tap-meta's local vlan ID."")), cfg.StrOpt('meta_base_mac', default=""fa:16:ee:00:00:00"", help=_(""The base MAC address Neutron openvswitch agent "" ""will use for metadata traffic. "" ""The first 3 octets will remain unchanged. If the 4th "" ""octet is not 00, it will also be used. The others "" ""will be randomly generated."")), ] cfg.register_opts(metadata_opts, ""METADATA"")",,326,0
openstack%2Frequirements~master~I494ee173f8185c98bf12bcbc32735b16cea53d4e,openstack/requirements,master,I494ee173f8185c98bf12bcbc32735b16cea53d4e,update constraint for os-brick to new release 6.3.0,MERGED,2023-05-12 14:42:51.000000000,2023-05-15 17:38:17.000000000,2023-05-15 17:37:23.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-12 14:42:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e3d7304cc473c653ec8275b02281c136b57e452d', 'message': 'update constraint for os-brick to new release 6.3.0\n\nmeta: version: 6.3.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Eld Ills <elod.illes@est.tech>\nmeta: release:Change-Id: I1f479228fb5c0742496ba92d711371eff9d3d8d2\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+1: Jon Bernard <jobernar@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I494ee173f8185c98bf12bcbc32735b16cea53d4e\n'}]",0,883072,e3d7304cc473c653ec8275b02281c136b57e452d,9,3,1,11131,,,0,"update constraint for os-brick to new release 6.3.0

meta: version: 6.3.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Eld Ills <elod.illes@est.tech>
meta: release:Change-Id: I1f479228fb5c0742496ba92d711371eff9d3d8d2
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+1: Jon Bernard <jobernar@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I494ee173f8185c98bf12bcbc32735b16cea53d4e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/883072/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e3d7304cc473c653ec8275b02281c136b57e452d,new-release,os-brick===6.3.0,os-brick===6.2.2,1,1
openstack%2Fpython-cinderclient~master~Ifc7dc6588af420aa56cd862dd9f558a4506eb1a0,openstack/python-cinderclient,master,Ifc7dc6588af420aa56cd862dd9f558a4506eb1a0,Update functional jobs for 2023.2,MERGED,2023-04-17 22:59:40.000000000,2023-05-15 17:31:19.000000000,2023-05-15 17:29:37.000000000,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-04-17 22:59:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/26115ba7b19303de7c15072353f7087030bcf293', 'message': 'Update functional jobs for 2023.2\n\nBased on the python runtimes for 2023.2 [0], we should be running\nfunctional jobs on python 3.9 and python 3.10.\n\n[0] https://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ifc7dc6588af420aa56cd862dd9f558a4506eb1a0\n'}]",3,880689,26115ba7b19303de7c15072353f7087030bcf293,12,3,1,5314,,,0,"Update functional jobs for 2023.2

Based on the python runtimes for 2023.2 [0], we should be running
functional jobs on python 3.9 and python 3.10.

[0] https://governance.openstack.org/tc/reference/runtimes/2023.2.html

Change-Id: Ifc7dc6588af420aa56cd862dd9f558a4506eb1a0
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/89/880689/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,26115ba7b19303de7c15072353f7087030bcf293,2023.2-functests,- job: name: python-cinderclient-functional-py310 parent: python-cinderclient-functional-base # python 3.10 is the default in ubuntu 22.04 (jammy) nodeset: openstack-single-node-jammy vars: python_version: 3.10 tox_envlist: functional-py310 - python-cinderclient-functional-py310 - python-cinderclient-functional-py310, name: python-cinderclient-functional-py38 parent: python-cinderclient-functional-base # need to specify a platform that has python 3.8 available nodeset: openstack-single-node-focal vars: python_version: 3.8 tox_envlist: functional-py38 - job: - python-cinderclient-functional-py38 - python-cinderclient-functional-py38,11,11
openstack%2Fneutron~master~Iba0ae947e3595674e63b998826daae2582bb7668,openstack/neutron,master,Iba0ae947e3595674e63b998826daae2582bb7668,Notify neutron-server ovs is restarted,MERGED,2023-01-31 08:19:00.000000000,2023-05-15 17:10:48.000000000,2023-05-15 17:09:37.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-31 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83b77543730cce4277335a88b7f55bd279998fee', 'message': 'Notify neutron-server ovs is restarted\n\nIf openvswitch is restarted, try to notify neutron-server\nthat to refresh tunnel flows for every ports.\n\nCloses-Bug: #2004041\nChange-Id: Iba0ae947e3595674e63b998826daae2582bb7668\n'}, {'number': 2, 'created': '2023-02-01 04:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77923ab1d0e345be6cdf1930d2f78334eb29f07d', 'message': 'Notify neutron-server ovs is restarted\n\nIf openvswitch is restarted, try to notify neutron-server\nthat to refresh tunnel flows for every ports.\n\nCloses-Bug: #2004041\nChange-Id: Iba0ae947e3595674e63b998826daae2582bb7668\n'}, {'number': 3, 'created': '2023-03-09 01:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02012b6813978d7b2be1b36fafdad91faa1034da', 'message': 'Notify neutron-server ovs is restarted\n\nIf openvswitch is restarted, try to notify neutron-server\nthat to refresh tunnel flows for every ports.\n\nCloses-Bug: #2004041\nChange-Id: Iba0ae947e3595674e63b998826daae2582bb7668\n'}, {'number': 4, 'created': '2023-03-14 01:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/882bdd7ba688aaf233643d2b24378a17e66755dd', 'message': 'Notify neutron-server ovs is restarted\n\nIf openvswitch is restarted, try to notify neutron-server\nthat to refresh tunnel flows for every ports.\n\nCloses-Bug: #2004041\nChange-Id: Iba0ae947e3595674e63b998826daae2582bb7668\n'}, {'number': 5, 'created': '2023-05-11 05:38:27.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7573fca58c147eddddbfff6eebc3554fcdd23306', 'message': 'Notify neutron-server ovs is restarted\n\nIf openvswitch is restarted, try to notify neutron-server\nthat to refresh tunnel flows for every ports.\n\nCloses-Bug: #2004041\nChange-Id: Iba0ae947e3595674e63b998826daae2582bb7668\n'}]",24,872265,7573fca58c147eddddbfff6eebc3554fcdd23306,62,6,5,9531,,,0,"Notify neutron-server ovs is restarted

If openvswitch is restarted, try to notify neutron-server
that to refresh tunnel flows for every ports.

Closes-Bug: #2004041
Change-Id: Iba0ae947e3595674e63b998826daae2582bb7668
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/872265/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,83b77543730cce4277335a88b7f55bd279998fee,bug/2004041," refresh_tunnels = ((self.iter_num == 0) or tunnels_missing or self.ovs_restarted) reg_ports = (set() if self.ovs_restarted else ports) self.ovs_restarted = False self.ovs_restarted |= (self.ovs_status == ovs_const.OVS_RESTARTED) start, polling_manager, sync, self.ovs_restarted, self.ovs_restarted): self.ovs_restarted or bridges_recreated) self.ovs_restarted = False"," refresh_tunnels = (self.iter_num == 0) or tunnels_missing reg_ports = (set() if ovs_restarted else ports) ovs_restarted = False ovs_restarted |= (self.ovs_status == ovs_const.OVS_RESTARTED) start, polling_manager, sync, ovs_restarted, ovs_restarted): ovs_restarted or bridges_recreated) ovs_restarted = False",9,8
openstack%2Fopenstack-ansible-ops~master~I9eb71fde6747c7855efa86311d8a7ef15e70bd05,openstack/openstack-ansible-ops,master,I9eb71fde6747c7855efa86311d8a7ef15e70bd05,Use integrated linters job for ops repo,NEW,2023-05-15 17:08:19.000000000,2023-05-15 17:08:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-15 17:08:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/294010003ef5ed37ce48c82d7f9fb6e9cf2b640a', 'message': 'Use integrated linters job for ops repo\n\nChange-Id: I9eb71fde6747c7855efa86311d8a7ef15e70bd05\n'}]",1,883197,294010003ef5ed37ce48c82d7f9fb6e9cf2b640a,2,1,1,25023,,,0,"Use integrated linters job for ops repo

Change-Id: I9eb71fde6747c7855efa86311d8a7ef15e70bd05
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/97/883197/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,294010003ef5ed37ce48c82d7f9fb6e9cf2b640a,, - openstack-ansible-linters-jobs - openstack-ansible-linters-jobs, - openstack-ansible-linters - openstack-ansible-linters,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idc9f1c2d9cb4e14d80e3756e2557f4371f3e5eae,openstack/tripleo-heat-templates,stable/wallaby,Idc9f1c2d9cb4e14d80e3756e2557f4371f3e5eae,Add EnforceSecureRbac to ironic,NEW,2023-05-15 12:38:12.000000000,2023-05-15 16:52:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-15 12:38:12.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6c73ffa911086f41105c5a7bc5e73e660cec683', 'message': 'Add EnforceSecureRbac to ironic\n\nReplicates the implementation in other services like nova,\nheat etc. When EnforceSecureRbac THT parameter is set to\ntrue set puppet parameters:\n  ironic::policy::enforce_new_defaults: true\n  ironic::policy::enforce_scope: true\n\nNOTE:\n environments/enable-secure-rbac.yaml set EnforceSecureRbac\n to ``false``. I.e the environment to enable secure rbac\n only set up the IronicApiPolicies.\n\nResolves: rhbz#2203314\nChange-Id: Idc9f1c2d9cb4e14d80e3756e2557f4371f3e5eae\n'}]",0,883155,c6c73ffa911086f41105c5a7bc5e73e660cec683,3,1,1,24245,,,0,"Add EnforceSecureRbac to ironic

Replicates the implementation in other services like nova,
heat etc. When EnforceSecureRbac THT parameter is set to
true set puppet parameters:
  ironic::policy::enforce_new_defaults: true
  ironic::policy::enforce_scope: true

NOTE:
 environments/enable-secure-rbac.yaml set EnforceSecureRbac
 to ``false``. I.e the environment to enable secure rbac
 only set up the IronicApiPolicies.

Resolves: rhbz#2203314
Change-Id: Idc9f1c2d9cb4e14d80e3756e2557f4371f3e5eae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/883155/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,c6c73ffa911086f41105c5a7bc5e73e660cec683,rhbz#2203314," EnforceSecureRbac: type: boolean default: false description: >- Setting this option to True will configure each OpenStack service to enforce Secure RBAC by setting `[oslo_policy] enforce_new_defaults` and `[oslo_policy] enforce_scope` to True. This introduces a consistent set of RBAC personas across OpenStack services that include support for system and project scope, as well as keystone's default roles, admin, member, and reader. Do not enable this functionality until all services in your deployment actually support secure RBAC. ironic::policy::enforce_new_defaults: {get_param: EnforceSecureRbac} ironic::policy::enforce_scope: {get_param: EnforceSecureRbac}",,13,0
openstack%2Fopenstack-ansible~master~If01ab85ec172937ac8b592883b2899fc5ea5b0f5,openstack/openstack-ansible,master,If01ab85ec172937ac8b592883b2899fc5ea5b0f5,Update 'TLS for Haproxy Backends' section in docs,MERGED,2023-05-12 22:09:00.000000000,2023-05-15 16:26:17.000000000,2023-05-15 16:24:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-12 22:09:00.000000000', 'files': ['doc/source/user/security/ssl-certificates.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd776ccecd6a5d1297ab78fcc786f34297be23eb', 'message': ""Update 'TLS for Haproxy Backends' section in docs\n\nIt is possible to secure haproxy backends communication now.\nDocs should be updated accordingly.\n\nChange-Id: If01ab85ec172937ac8b592883b2899fc5ea5b0f5\n""}]",0,883090,dd776ccecd6a5d1297ab78fcc786f34297be23eb,8,3,1,32666,,,0,"Update 'TLS for Haproxy Backends' section in docs

It is possible to secure haproxy backends communication now.
Docs should be updated accordingly.

Change-Id: If01ab85ec172937ac8b592883b2899fc5ea5b0f5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/883090/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/security/ssl-certificates.rst'],1,dd776ccecd6a5d1297ab78fcc786f34297be23eb,tls-backend,"Communication between haproxy and service backends can be encrypted. Currently it is disabled by default. It can be enabled for all services by setting the following variable: .. code-block:: yaml openstack_service_backend_ssl: True There is also an option to enable it only for individual services: .. code-block:: yaml keystone_backend_ssl: True neutron_backend_ssl: True By default, self-signed certificates will be used to secure traffic but user-provided certificates are also supported.",Securing the internal communications from haproxy to backend services is currently work in progress.,17,2
openstack%2Ftripleo-heat-templates~master~Ifcb21cd5801b5dade579e58747caba0c784a9042,openstack/tripleo-heat-templates,master,Ifcb21cd5801b5dade579e58747caba0c784a9042,[DNM] Experiment,ABANDONED,2023-01-25 17:11:15.000000000,2023-05-15 16:22:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-25 17:11:15.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5534a36f4da766c23ca7a62bfb799aeb083bf01c', 'message': '[DNM] Experiment\n\nChange-Id: Ifcb21cd5801b5dade579e58747caba0c784a9042\n'}]",0,871744,5534a36f4da766c23ca7a62bfb799aeb083bf01c,3,1,1,30674,,,0,"[DNM] Experiment

Change-Id: Ifcb21cd5801b5dade579e58747caba0c784a9042
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/871744/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,5534a36f4da766c23ca7a62bfb799aeb083bf01c,experient-enforce-scope, EnforceSecureRbac: true, EnforceSecureRbac: false,1,1
openstack%2Fnova~stable%2Fwallaby~Ibecb47b6045506836ff47bc104e78a577a45552b,openstack/nova,stable/wallaby,Ibecb47b6045506836ff47bc104e78a577a45552b,DNM: Test change in run-tempest role,ABANDONED,2023-01-12 09:51:14.000000000,2023-05-15 15:56:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-12 09:51:14.000000000', 'files': ['nova/api/auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71fbd5a766363487fc1641cca61baa1f95aa237e', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: Ibecb47b6045506836ff47bc104e78a577a45552b\n'}]",0,869914,71fbd5a766363487fc1641cca61baa1f95aa237e,6,1,1,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: Ibecb47b6045506836ff47bc104e78a577a45552b
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/869914/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/auth.py'],1,71fbd5a766363487fc1641cca61baa1f95aa237e,test/updated-run-tempest-role,,,0,1
openstack%2Fcinder-tempest-plugin~master~Ief494208b472e6a4cb47bed5e9149b4ed9588388,openstack/cinder-tempest-plugin,master,Ief494208b472e6a4cb47bed5e9149b4ed9588388,Enable enforce_scope in -protection-functional job,ABANDONED,2023-02-15 15:12:45.000000000,2023-05-15 15:54:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-15 15:12:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/bbed963496babf0fa2541f668fd4870b8ef7fad5', 'message': 'Enable enforce_scope in -protection-functional job\n\nChange-Id: Ief494208b472e6a4cb47bed5e9149b4ed9588388\n'}]",0,873939,bbed963496babf0fa2541f668fd4870b8ef7fad5,3,1,1,30674,,,0,"Enable enforce_scope in -protection-functional job

Change-Id: Ief494208b472e6a4cb47bed5e9149b4ed9588388
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/39/873939/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bbed963496babf0fa2541f668fd4870b8ef7fad5,experiment/srbac-jobs, devstack_localrc: CINDER_ENFORCE_SCOPE: true, devstack_local_conf: test-config: $CINDER_CONF: oslo_policy: enforce_new_defaults: True $TEMPEST_CONFIG: enforce_scope: cinder: True,2,8
openstack%2Fcinder~stable%2Fzed~Ie78e9bfda36671c5c23ef6b44d4991b770748e12,openstack/cinder,stable/zed,Ie78e9bfda36671c5c23ef6b44d4991b770748e12,DNM: Test change in run-tempest role,ABANDONED,2023-01-11 10:19:50.000000000,2023-05-15 15:52:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33473}]","[{'number': 1, 'created': '2023-01-11 10:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6303619a66c44c662a1ddc6e9fb0b469681b0d06', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/866692\nChange-Id: Ie78e9bfda36671c5c23ef6b44d4991b770748e12\n'}, {'number': 2, 'created': '2023-01-11 10:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1972ff384d6adfd8f5b34ad8bdfa0530dc822e58', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/866692\nChange-Id: Ie78e9bfda36671c5c23ef6b44d4991b770748e12\n'}, {'number': 3, 'created': '2023-01-11 14:27:43.000000000', 'files': ['cinder/api/common.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/652283e38b864f035eea465c1f88f0155520b3d5', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: Ie78e9bfda36671c5c23ef6b44d4991b770748e12\n'}]",2,869805,652283e38b864f035eea465c1f88f0155520b3d5,27,3,3,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: Ie78e9bfda36671c5c23ef6b44d4991b770748e12
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/869805/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6303619a66c44c662a1ddc6e9fb0b469681b0d06,test/updated-run-tempest-role,==================================,================================,2,2
openstack%2Fnova~stable%2Fyoga~I364d5c23d2597cca84d5f035753a3295fe919fd3,openstack/nova,stable/yoga,I364d5c23d2597cca84d5f035753a3295fe919fd3,DNM: Test change in run-tempest role,ABANDONED,2023-01-12 09:42:55.000000000,2023-05-15 15:52:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-12 09:42:55.000000000', 'files': ['nova/api/auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/717453e53fd9d0abe2b7cf8b38b0a37622ac41e8', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: I364d5c23d2597cca84d5f035753a3295fe919fd3\n'}]",0,869912,717453e53fd9d0abe2b7cf8b38b0a37622ac41e8,5,1,1,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: I364d5c23d2597cca84d5f035753a3295fe919fd3
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/869912/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/auth.py'],1,717453e53fd9d0abe2b7cf8b38b0a37622ac41e8,test/updated-run-tempest-role,,,0,1
openstack%2Fnova~stable%2Fvictoria~I48dc75f6c8dc29ac5cb377955a5c99e7eb2f649d,openstack/nova,stable/victoria,I48dc75f6c8dc29ac5cb377955a5c99e7eb2f649d,DNM: Test change in run-tempest role,ABANDONED,2023-01-12 09:52:28.000000000,2023-05-15 15:52:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-12 09:52:28.000000000', 'files': ['nova/api/auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42db46ffeaf5fa2fbaf24886af82478a213b3d8c', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: I48dc75f6c8dc29ac5cb377955a5c99e7eb2f649d\n'}]",0,869915,42db46ffeaf5fa2fbaf24886af82478a213b3d8c,4,1,1,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: I48dc75f6c8dc29ac5cb377955a5c99e7eb2f649d
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/869915/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/auth.py'],1,42db46ffeaf5fa2fbaf24886af82478a213b3d8c,test/updated-run-tempest-role,,,0,1
openstack%2Fnova~stable%2Fxena~If8a68d78442e3f8a968a1ce4164915b4465838f9,openstack/nova,stable/xena,If8a68d78442e3f8a968a1ce4164915b4465838f9,DNM: Test change in run-tempest role,ABANDONED,2023-01-12 09:47:46.000000000,2023-05-15 15:51:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-12 09:47:46.000000000', 'files': ['nova/api/auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab2160b60250f5d3b4316c0681ccfa0ee1c5dc6b', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: If8a68d78442e3f8a968a1ce4164915b4465838f9\n'}]",0,869913,ab2160b60250f5d3b4316c0681ccfa0ee1c5dc6b,5,1,1,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: If8a68d78442e3f8a968a1ce4164915b4465838f9
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/869913/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/auth.py'],1,ab2160b60250f5d3b4316c0681ccfa0ee1c5dc6b,test/updated-run-tempest-role,,,0,1
openstack%2Fnova~stable%2Fzed~Id6e6afa282bedfdea487843e9eb5c3ce4f763853,openstack/nova,stable/zed,Id6e6afa282bedfdea487843e9eb5c3ce4f763853,DNM: Test change in run-tempest role,ABANDONED,2023-01-11 10:11:25.000000000,2023-05-15 15:51:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-11 10:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adf2864b868a75f6f64bc72fef4f8f332f693b74', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: Id6e6afa282bedfdea487843e9eb5c3ce4f763853\n'}, {'number': 2, 'created': '2023-01-11 10:43:33.000000000', 'files': ['nova/api/auth.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5487a7339cb5c423e76475f89458f66084d0ebe', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: Id6e6afa282bedfdea487843e9eb5c3ce4f763853\n'}]",0,869804,d5487a7339cb5c423e76475f89458f66084d0ebe,7,1,2,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: Id6e6afa282bedfdea487843e9eb5c3ce4f763853
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/869804/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,adf2864b868a75f6f64bc72fef4f8f332f693b74,test/updated-run-tempest-role,==============================,============================,2,2
openstack%2Fcinder~stable%2Fyoga~I055500e05d2a075c255dd79aff7c81e72eb1fbf2,openstack/cinder,stable/yoga,I055500e05d2a075c255dd79aff7c81e72eb1fbf2,DNM: Test change in run-tempest role,ABANDONED,2023-01-12 10:01:30.000000000,2023-05-15 15:49:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-12 10:01:30.000000000', 'files': ['cinder/api/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/874df0dc7cfda694baa9f0d811f6e95deab64ece', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: I055500e05d2a075c255dd79aff7c81e72eb1fbf2\n'}]",0,869919,874df0dc7cfda694baa9f0d811f6e95deab64ece,14,1,1,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: I055500e05d2a075c255dd79aff7c81e72eb1fbf2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/869919/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/common.py'],1,874df0dc7cfda694baa9f0d811f6e95deab64ece,test/updated-run-tempest-role," 'resource returns in a single response.'),"," 'resource returns in a single response'),",1,1
openstack%2Fcinder~stable%2Fwallaby~I14ec85fe189d9f075e215cc99871c4b56ee03c23,openstack/cinder,stable/wallaby,I14ec85fe189d9f075e215cc99871c4b56ee03c23,DNM: Test change in run-tempest role,ABANDONED,2023-01-12 10:07:09.000000000,2023-05-15 15:49:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-12 10:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/abb11bd7432076ab550ef98ccc7eb518b14e1c4d', 'message': 'NM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: I14ec85fe189d9f075e215cc99871c4b56ee03c23\n'}, {'number': 2, 'created': '2023-01-12 10:07:28.000000000', 'files': ['cinder/api/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/234079265c51daf03286bf7d7b5397d5c8b15bb5', 'message': 'DNM: Test change in run-tempest role\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/869440\nChange-Id: I14ec85fe189d9f075e215cc99871c4b56ee03c23\n'}]",0,869921,234079265c51daf03286bf7d7b5397d5c8b15bb5,16,1,2,30674,,,0,"DNM: Test change in run-tempest role

Depends-On: https://review.opendev.org/c/openstack/tempest/+/869440
Change-Id: I14ec85fe189d9f075e215cc99871c4b56ee03c23
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/869921/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/common.py'],1,abb11bd7432076ab550ef98ccc7eb518b14e1c4d,test/updated-run-tempest-role," 'resource returns in a single response.'),"," 'resource returns in a single response'),",1,1
