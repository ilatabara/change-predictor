id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftempest~745477,openstack/tempest,master,I6b57859b75e1c595b07d294ace37a4e955411695,add delete user negative test,ABANDONED,2020-08-10 06:08:55.000000000,2022-12-24 05:50:48.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-08-10 06:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a285b74de08667e27ed1fde97a5e93ee24978b10', 'message': 'add delete user negative test\n\ndelete a noe existent user negative test for delete user interface\n\nChange-Id: I6b57859b75e1c595b07d294ace37a4e955411695\n'}, {'number': 2, 'created': '2020-08-10 06:25:47.000000000', 'files': ['tempest/api/identity/admin/v3/test_users_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d32f350142a7d45f7c919cbb42d6e0f9fd9c9164', 'message': 'add delete user negative test\n\ndelete a non existent user negative test for delete user interface\n\nChange-Id: I6b57859b75e1c595b07d294ace37a4e955411695\n'}]",0,745477,d32f350142a7d45f7c919cbb42d6e0f9fd9c9164,13,3,2,30409,,,0,"add delete user negative test

delete a non existent user negative test for delete user interface

Change-Id: I6b57859b75e1c595b07d294ace37a4e955411695
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/745477/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_users_negative.py'],1,a285b74de08667e27ed1fde97a5e93ee24978b10,master23," @decorators.attr(type=['negative']) @decorators.idempotent_id('b8b1f69c-5501-4780-899e-ff90cb154257') def test_delete_non_existent_user(self): """"""Attempt to delete a non existent user should fail"""""" self.assertRaises(lib_exc.NotFound, self.users_client.delete_user, data_utils.rand_uuid_hex())",,8,0
openstack%2Ftempest~732144,openstack/tempest,master,I25baaf8c290beaee8ecc09d0c86fd42cd338be41,add update domain negative test,ABANDONED,2020-06-01 10:08:30.000000000,2022-12-24 05:50:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-06-01 10:08:30.000000000', 'files': ['tempest/api/identity/admin/v3/test_domains_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8afbc8ade720d813810dd384b010e5f0357e799a', 'message': 'add update domain negative test\n\nadd negative test for update domain in test_domains_negative file\nChange-Id: I25baaf8c290beaee8ecc09d0c86fd42cd338be41\n'}]",0,732144,8afbc8ade720d813810dd384b010e5f0357e799a,5,3,1,30409,,,0,"add update domain negative test

add negative test for update domain in test_domains_negative file
Change-Id: I25baaf8c290beaee8ecc09d0c86fd42cd338be41
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/732144/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_domains_negative.py'],1,8afbc8ade720d813810dd384b010e5f0357e799a,master20," @decorators.idempotent_id('a06023d9-f630-4451-aa0c-5b4ac79641da') def test_update_non_existent_domain(self): # Attempt to update a non existent domain should fail self.assertRaises(lib_exc.NotFound, self.domains_client.update_domain, data_utils.rand_uuid(), name=data_utils.rand_name('new-name')) @decorators.attr(type=['negative'])",,8,0
openstack%2Ftempest~732120,openstack/tempest,master,Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe,add create user with name is empty negative test,ABANDONED,2020-06-01 09:25:26.000000000,2022-12-24 05:50:40.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-01 09:25:26.000000000', 'files': ['tempest/api/identity/admin/v3/test_users_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/18464bb8a6c2372a83541d609606a52b35381664', 'message': 'add create user with name is empty negative test\n\nadd create user with name is empty negative test in test_users_negative\nfile\n\nChange-Id: Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe\n'}]",0,732120,18464bb8a6c2372a83541d609606a52b35381664,4,2,1,30409,,,0,"add create user with name is empty negative test

add create user with name is empty negative test in test_users_negative
file

Change-Id: Ib0ec33aa3adcefbad4de7c6dde76d2b73cf087fe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/732120/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_users_negative.py'],1,18464bb8a6c2372a83541d609606a52b35381664,master19," @decorators.attr(type=['negative']) @decorators.idempotent_id('20476c34-4415-45cd-97fd-aacd1deeb957') def test_create_user_with_empty_name(self): # user name should not be empty self.assertRaises(lib_exc.BadRequest, self.users_client.create_user, name='')",,7,0
openstack%2Ftempest~731015,openstack/tempest,master,Ib0f49b1605170b76710c566e34a47db66d0d6a5a,add update volume types negative test,ABANDONED,2020-05-27 02:15:04.000000000,2022-12-24 05:50:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 30409}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-05-27 02:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3894fd8763cf773ca12fecad94818cdc0aa8e6ac', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 2, 'created': '2020-05-27 04:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/599764769d905e932ba0fe51a4bac70c23617532', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 3, 'created': '2020-05-27 07:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9be8da85ec9f2f4c67cdac5b937d65771634f2a', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 4, 'created': '2020-05-27 10:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/908bd67d30fd20f8fd05adc94b9cba15cae6504d', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 5, 'created': '2020-06-01 00:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3766b2fba08bf2b73256fb5a1b04cd6a2f2e6d09', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}, {'number': 6, 'created': '2020-06-01 02:52:17.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e525c4a15849cbfbb4310cc81a2b0c61955ada5', 'message': 'add update volume types negative test\n\nadd negative test for update volume types in test_volume_types_negative\nfile\n\nChange-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a\n'}]",6,731015,7e525c4a15849cbfbb4310cc81a2b0c61955ada5,19,5,6,30409,,,0,"add update volume types negative test

add negative test for update volume types in test_volume_types_negative
file

Change-Id: Ib0f49b1605170b76710c566e34a47db66d0d6a5a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/731015/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,3894fd8763cf773ca12fecad94818cdc0aa8e6ac,master17," @decorators.idempotent_id('994610d6-0476-4018-a644-a2602ef5d4aa') def test_update_with_nonexistent_type_id(self): # Should not be able to update volume type with nonexistent type id. self.assertRaises(lib_exc.NotFound, self.admin_volume_types_client.update_volume_type, data_utils.rand_uuid(), name = data_utils.rand_name('update'), is_public = True, description = data_utils.rand_name('update desc')) @decorators.attr(type=['negative']) @decorators.idempotent_id('95c7a4a4-36aa-42cc-bfc5-d26c8c58c9cd') def test_update_with_invalid_type_id(self): # Should not be able to update volume type with invalid type id. self.assertRaises(lib_exc.NotFound, self.admin_volume_types_client.update_volume_type, data_utils.rand_uuid('invalid'), name = data_utils.rand_name('update'), is_public = True, description = data_utils.rand_name('update desc')) @decorators.attr(type=['negative']) @decorators.idempotent_id('e92800d1-2940-40f0-a270-fbb74745e496') def test_update_with_empty_type_id(self): # Should not be able to update volume type with empty type id. self.assertRaises(lib_exc.NotFound, self.admin_volume_types_client.update_volume_type, '', name = data_utils.rand_name('update'), is_public = True, description = data_utils.rand_name('update desc')) ) @decorators.attr(type=['negative']) @decorators.idempotent_id('085d3526-490b-4cfc-a996-ca2438400859')", @decorators.idempotent_id('6b3926d2-7d73-4896-bc3d-e42dfd11a9f6'),34,1
openstack%2Ftempest~578463,openstack/tempest,master,I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3,Add config option to set extend_attached_volume_support,ABANDONED,2018-06-27 16:23:48.000000000,2022-12-24 05:50:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14567}, {'_account_id': 18058}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-06-27 16:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/341b046c42de229ddef86e8e2193b12872164457', 'message': ""Add config option to set extend_attached_volume_support\n\nThere's already a config option extend_attached_volume, and if it is set\nto True, a happy path tempest test is executed. This test asserts that\nthe volume has a greater size after the extending operation.\n\nHowever, not every volume backend supports this operation. The API call\nto extend an attached volume succeeds, but the scheduler fails to\nperform the operation, and the volume remains with the original size. In\nsuch case, the tempest test fails.\n\nA config option was added to tell if the backend being tested supports\nthis feature.\nIf it does, the same happy path test is executed. If it doesn't, a new\ntest is executed, which basically does the same thing, but asserts that\nthe volume remains with the original size.\n\nChange-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3\nDepends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7\nRelated-Bug: #1765182\n""}, {'number': 2, 'created': '2018-09-12 19:11:11.000000000', 'files': ['tempest/api/volume/test_volumes_extend.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/211eaba4be9703e775ff0ec4ddc14ff2096dc7d9', 'message': ""Add config option to set extend_attached_volume_support\n\nThere's already a config option extend_attached_volume, and if it is set\nto True, a happy path tempest test is executed. This test asserts that\nthe volume has a greater size after the extending operation.\n\nHowever, not every volume backend supports this operation. The API call\nto extend an attached volume succeeds, but the scheduler fails to\nperform the operation, and the volume remains with the original size. In\nsuch case, the tempest test fails.\n\nA config option was added to tell if the backend being tested supports\nthis feature.\nIf it does, the same happy path test is executed. If it doesn't, a new\ntest is executed, which basically does the same thing, but asserts that\nthe volume remains with the original size.\n\nChange-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3\nDepends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7\nRelated-Bug: #1765182\n""}]",9,578463,211eaba4be9703e775ff0ec4ddc14ff2096dc7d9,27,12,2,18058,,,0,"Add config option to set extend_attached_volume_support

There's already a config option extend_attached_volume, and if it is set
to True, a happy path tempest test is executed. This test asserts that
the volume has a greater size after the extending operation.

However, not every volume backend supports this operation. The API call
to extend an attached volume succeeds, but the scheduler fails to
perform the operation, and the volume remains with the original size. In
such case, the tempest test fails.

A config option was added to tell if the backend being tested supports
this feature.
If it does, the same happy path test is executed. If it doesn't, a new
test is executed, which basically does the same thing, but asserts that
the volume remains with the original size.

Change-Id: I8637e7aec33d8ce76a3cf02fad134cf6ea39d9a3
Depends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7
Related-Bug: #1765182
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/578463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_extend.py', 'tempest/config.py']",2,341b046c42de229ddef86e8e2193b12872164457,bug/1765182," 'compute backends support this operation. This option ' 'enables the API test, regardless of the volume backend ' 'supporting this feature or not.'), cfg.BoolOpt('extend_attached_volume_support', default=False, help='Does the volume backend support extending the size of a ' 'volume which is currently attached to a server ' 'instance? This depends on the extend_attached_volume ' 'option to be set to True.')", 'compute backends support this operation.'),60,2
openstack%2Ftempest~742000,openstack/tempest,master,I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3,Adds cleanup so project does not leak,ABANDONED,2020-07-20 18:11:39.000000000,2022-12-24 05:50:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 18:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb73a8ad9824abd159795a4e26a4bc6073885a10', 'message': 'Adds cleanup so project does not leak\n\nChange-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3\n'}, {'number': 2, 'created': '2020-07-20 19:33:25.000000000', 'files': ['tempest/api/identity/admin/v3/test_tokens.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/387eb0a8e557868c140513489e4b5e68f26a53fa', 'message': 'Adds cleanup so project does not leak\n\nChange-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3\n'}]",1,742000,387eb0a8e557868c140513489e4b5e68f26a53fa,5,2,2,23140,,,0,"Adds cleanup so project does not leak

Change-Id: I7d5cd8168ba50ce6c608cd2f633ef19d7fb8a1f3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/742000/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_tokens.py'],1,bb73a8ad9824abd159795a4e26a4bc6073885a10,," self.addCleanup(self.projects_client_delete_project, project1['id'])",,1,0
openstack%2Ftempest~609357,openstack/tempest,master,I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3,Add tests for boot instance with the specified volume type,ABANDONED,2018-10-10 11:32:30.000000000,2022-12-24 05:50:20.000000000,,"[{'_account_id': 5803}, {'_account_id': 6873}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 27078}, {'_account_id': 31756}]","[{'number': 1, 'created': '2018-10-10 11:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c56dfadc26e9eafd88431d43a1152b3c6e10e5f6', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 2, 'created': '2018-10-11 01:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63bdd0eb4550cf02e8c204f3474f00ddd0eae735', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 3, 'created': '2018-10-11 03:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8fee998a70046cdffe9a973fdb18e6f504211fb', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 4, 'created': '2018-10-12 09:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/286ceb413aa5f677ebc0b30051b8918d94a4deeb', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 5, 'created': '2018-10-12 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2d85eb07d1644dbc3b71aec6610c1b9c5597090a', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 6, 'created': '2018-10-14 10:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/70e3ff041db2e7ef62f3f5fad7ca2f814cec75ef', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 7, 'created': '2018-10-15 01:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c5fcbef54ab9096390ae4a8f5b968687f088aef', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 8, 'created': '2018-10-15 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a8abc6a2832e3cd524e136c791a7fb176a97312', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 9, 'created': '2018-10-15 10:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26aa0391d594dc9795dfa6c64c57c3cea6522bdf', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 10, 'created': '2018-10-16 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/74da1626ab1d966710026ee1bf21d8d2a950e8aa', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 11, 'created': '2018-10-16 11:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2813e392095bcba94873e3ae1df3755745cd085b', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nDepends-On: https://review.openstack.org/606398/\nDepends-On: https://review.openstack.org/610032/\nDepends-On: https://review.openstack.org/610349/\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 12, 'created': '2018-10-16 15:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b6c973452480b93426fc423456536417c5d3938', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 13, 'created': '2018-10-18 00:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1eba21bf228d564e63d99913a92833fe49231d56', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 14, 'created': '2019-09-24 09:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7a0e4a810083a49481a0446a8fd1e22a9281064d', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 15, 'created': '2019-09-25 02:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ce55806405f8c5720f6fef857b0121423674076', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 16, 'created': '2019-09-25 09:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e13d7a68c1bc7639d5680d9fc92df629fe501552', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 17, 'created': '2019-09-26 00:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e594abc3a8caee4f433b0e6a2c842513cbcf7eba', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 18, 'created': '2019-09-26 23:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a3748b1d760b30917d008ff685ec8eac612ce82', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}, {'number': 19, 'created': '2019-09-27 00:25:17.000000000', 'files': ['doc/source/microversion_testing.rst', 'tempest/api/compute/admin/test_create_server_specify_volume_type.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/tests/lib/services/volume/v3/test_volume_types_client.py', 'releasenotes/notes/add-show-default-volume-type-api-to-v3-types-client-0b01729586031aba.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/050b777f65c648ffa6a4b47a19eb55d45128edc2', 'message': 'Add tests for boot instance with the specified volume type\n\nThis is to add tests of boot instance with the specified volume type.\n\nImplements blueprint: boot-instance-specific-storage-backend\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3\n'}]",73,609357,050b777f65c648ffa6a4b47a19eb55d45128edc2,81,15,19,26490,,,0,"Add tests for boot instance with the specified volume type

This is to add tests of boot instance with the specified volume type.

Implements blueprint: boot-instance-specific-storage-backend

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Change-Id: I39a35d7d64bd4062615cc7a98d7e4aa7fd3badb3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/609357/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_create_server_specify_volume_type.py'],1,c56dfadc26e9eafd88431d43a1152b3c6e10e5f6,bp/boot-instance-specific-storage-backend,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest import config from tempest.lib import decorators CONF = config.CONF class ServersTestSpecifyVolumeType(base.BaseV2ComputeTest): min_microversion = '2.67' max_microversion = 'latest' @classmethod def setup_credentials(cls): cls.prepare_instance_network() super(ServersTestSpecifyVolumeType, cls).setup_credentials() @classmethod def setup_clients(cls): super(ServersTestSpecifyVolumeType, cls).setup_clients() cls.client = cls.servers_client cls.volume_client = cls.volumes_extensions_client cls.volume_types_client = cls.os_primary.volume_types_client_latest @decorators.idempotent_id('defbaca5-d611-49f5-ae21-56ee25d2db66') def test_create_server_specify_volume_type(self): image_id = CONF.compute.image_ref volume_type_name = self.volume_types_client.list_volume_types()[ 'volume_types'][0].get('name') bdm = [{ 'uuid': image_id, 'source_type': 'image', 'destination_type': 'volume', 'volume_type': volume_type_name, 'boot_index': 0, 'volume_size': 1, 'delete_on_termination': False}] server = self.create_test_server( image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE') attachments = self.servers_client.list_volume_attachments( server['id'])['volumeAttachments'] fetched_volume_type = self.volumes_client.show_volume( attachments[0]['volumeId'])['volume']['volume_type'] self.addCleanup(self.delete_server, server['id']) self.assertEqual(1, len(attachments)) self.assertEqual(volume_type_name, fetched_volume_type) @decorators.idempotent_id('defbaca5-d611-49f5-ae21-56ee25d2db67') def test_create_server_without_specify_volume_type(self): image_id = CONF.compute.image_ref volume_type_name = None bdm = [{ 'uuid': image_id, 'source_type': 'image', 'destination_type': 'volume', 'volume_type': volume_type_name, 'boot_index': 0, 'volume_size': 1, 'delete_on_termination': False}] server = self.create_test_server( image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE') attachments = self.servers_client.list_volume_attachments( server['id'])['volumeAttachments'] self.addCleanup(self.delete_server, server['id']) self.assertEqual(1, len(attachments)) ",,78,0
openstack%2Ftempest~731717,openstack/tempest,master,I95bf35223193ea697ce1f28f91203038772a3edb,DNM: Test tempest-full without cinder,ABANDONED,2020-05-29 10:19:28.000000000,2022-12-24 05:50:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-29 10:19:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8881ecfd7eab6df8de4c9a8d6736dd1fe98db59b', 'message': 'DNM: Test tempest-full without cinder\n\nChange-Id: I95bf35223193ea697ce1f28f91203038772a3edb\n'}]",0,731717,8881ecfd7eab6df8de4c9a8d6736dd1fe98db59b,3,1,1,13252,,,0,"DNM: Test tempest-full without cinder

Change-Id: I95bf35223193ea697ce1f28f91203038772a3edb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/731717/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8881ecfd7eab6df8de4c9a8d6736dd1fe98db59b,test-no-volume, c-api: false c-vol: false c-sch: false cinder: false - tempest-full-py3, ENABLE_VOLUME_MULTIATTACH: true templates: - check-requirements - integrated-gate-py3 - openstack-cover-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - devstack-tempest: files: - ^playbooks/ - ^roles/ - ^.zuul.yaml$ - devstack-tempest-ipv6: voting: false files: - ^playbooks/ - ^roles/ - ^.zuul.yaml$ - tempest-full-parallel: # Define list of irrelevant files to use everywhere else irrelevant-files: &tempest-irrelevant-files - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^tools/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-ipv6: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full-ussuri-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-train-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-stein-py3: irrelevant-files: *tempest-irrelevant-files - tempest-multinode-full-py3: irrelevant-files: *tempest-irrelevant-files - tempest-tox-plugin-sanity-check: irrelevant-files: &tempest-irrelevant-files-2 - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ # tools/ is not here since this relies on a script in tools/. - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files-2 - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - nova-live-migration: voting: false irrelevant-files: *tempest-irrelevant-files - devstack-plugin-ceph-tempest-py3: voting: false irrelevant-files: *tempest-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario001-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario002-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario003-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario004-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - neutron-tempest-dvr: irrelevant-files: *tempest-irrelevant-files - interop-tempest-consistency: irrelevant-files: *tempest-irrelevant-files - tempest-full-test-account-py3: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full-test-account-no-admin-py3: voting: false irrelevant-files: *tempest-irrelevant-files - openstack-tox-bashate: irrelevant-files: *tempest-irrelevant-files-2 gate: jobs: - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files-2 experimental: jobs: - tempest-cinder-v2-api: irrelevant-files: *tempest-irrelevant-files - tempest-all: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *tempest-irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *tempest-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-lvm-multibackend: irrelevant-files: *tempest-irrelevant-files - tempest-pg-full: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-opensuse15: irrelevant-files: *tempest-irrelevant-files,5,129
openstack%2Ftempest~712077,openstack/tempest,master,Ifaf69e1b3563c9c6b729885a45723acacb2c82dd,Do no check os-vol-host-attr:host when using A/A,ABANDONED,2020-03-10 13:45:21.000000000,2022-12-24 05:50:08.000000000,,"[{'_account_id': 1736}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9542}, {'_account_id': 12393}, {'_account_id': 14525}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-03-10 13:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9d0a740a716dca717b3ada4c8dd726da20f780c', 'message': 'Fix test_volume_retype for active-active cluster\n\nIn case of active-active cluster deployment the host of the cinder\nvolume might be changed as it is uniq per node.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n'}, {'number': 2, 'created': '2020-03-10 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0eaec7a123d097c525690bc991e1cff3198a5a0e', 'message': 'Fix test_volume_retype for active-active cluster\n\nIn case of active-active cluster deployment the host of the cinder\nvolume might be changed as it is uniq per node.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n'}, {'number': 3, 'created': '2020-04-23 07:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aef2aead8965d557d1de4a9aa80f2d7c5de04153', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}, {'number': 4, 'created': '2020-04-23 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8bf0995db8666f555d783e5d3bc6be68fd65141', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}, {'number': 5, 'created': '2020-04-23 11:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59982f99abd5029ba8b777d30e33f14b582c79d2', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}, {'number': 6, 'created': '2020-04-29 07:22:50.000000000', 'files': ['releasenotes/notes/add-cluster-active-active-config-option-d06bd12e7842f693.yaml', 'tempest/api/volume/admin/test_volume_retype.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/61dda8c0e20f245505aea3bca33ff26bce53c4b2', 'message': ""Do no check os-vol-host-attr:host when using A/A\n\nWhen using active/active deployment services have different hostname\nsince we don't know which service process request the host might or might\nnot be changed.\n\nChange-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd\n""}]",5,712077,61dda8c0e20f245505aea3bca33ff26bce53c4b2,26,16,6,14525,,,0,"Do no check os-vol-host-attr:host when using A/A

When using active/active deployment services have different hostname
since we don't know which service process request the host might or might
not be changed.

Change-Id: Ifaf69e1b3563c9c6b729885a45723acacb2c82dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/712077/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_retype.py', 'tempest/config.py']",2,b9d0a740a716dca717b3ada4c8dd726da20f780c,mstr," 'compute backends support this operation.'), cfg.BoolOpt('cluster_active_active', default=False, help='The boolean flag to indicate if active-active mode ' 'is used by volume backend.')", 'compute backends support this operation.'),13,3
openstack%2Ftempest~703890,openstack/tempest,master,I8dac1dc7e894af03d743117b42fb802c44a20f2b,Add tempest test for retype volume with attach,ABANDONED,2020-01-22 22:31:02.000000000,2022-12-24 05:50:03.000000000,,"[{'_account_id': 8367}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}, {'_account_id': 31055}]","[{'number': 1, 'created': '2020-01-22 22:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f7bfc9c3e56974b24f39a4229eff88addeade0f', 'message': 'qwerty\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 2, 'created': '2020-01-22 22:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48bd62f39593d48e38fe79de799d011af73114a6', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 3, 'created': '2020-01-26 19:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97bdc4e2c15674c1b2cdb135cb9fc34fa06daec0', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nCloses-Bug: #1843495\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 4, 'created': '2020-01-26 21:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/73a063e6ddd4160d3acc8d9cca7fda408117908b', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nCloses-Bug: #1843495\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}, {'number': 5, 'created': '2020-01-31 16:10:55.000000000', 'files': ['tempest/api/volume/admin/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f2b81726976a6813ce98a859669c4d39d011ca9', 'message': 'Add tempest test for retype volume with attach\n\nAdd API admin tempest test for retype with attach afterwards.\n\nCloses-Bug: #1843495\n\nChange-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b\n'}]",6,703890,5f2b81726976a6813ce98a859669c4d39d011ca9,37,9,5,31055,,,0,"Add tempest test for retype volume with attach

Add API admin tempest test for retype with attach afterwards.

Closes-Bug: #1843495

Change-Id: I8dac1dc7e894af03d743117b42fb802c44a20f2b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/703890/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_retype.py'],1,0f7bfc9c3e56974b24f39a4229eff88addeade0f,bug/1843495," class VolumeRetypeWithoutMigrationTestWithAttach(VolumeRetypeWithoutMigrationTest): @decorators.idempotent_id('52e9045a-e90d-4c0d-9087-79d657faffff') def test_attach_after_retype(self): server = self.create_server() volume = self.create_volume(volume_type=self.src_vol_type['name']) # Retype the volume self._retype_volume(volume, migration_policy='never') #Attach the volume self.attach_volume(server['id'], volume['id']) ",,15,0
openstack%2Ftempest~692506,openstack/tempest,master,I6a9a9644399e54156085b8c1b4161e2cd77381bb,Replace all-plugin to all in tempest plugin usage docs,ABANDONED,2019-11-01 07:19:37.000000000,2022-12-24 05:49:58.000000000,,"[{'_account_id': 1921}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 31055}]","[{'number': 1, 'created': '2019-11-01 07:19:37.000000000', 'files': ['doc/source/plugin.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c30f7c2445a35c0efefec59af017464126791eb', 'message': 'Replace all-plugin to all in tempest plugin usage docs\n\nAccording to tox.ini all-plugin command is seems to be deprecated.\nThe new tox job name is added to the documentation.\n\nChange-Id: I6a9a9644399e54156085b8c1b4161e2cd77381bb\n'}]",6,692506,7c30f7c2445a35c0efefec59af017464126791eb,9,7,1,31055,,,0,"Replace all-plugin to all in tempest plugin usage docs

According to tox.ini all-plugin command is seems to be deprecated.
The new tox job name is added to the documentation.

Change-Id: I6a9a9644399e54156085b8c1b4161e2cd77381bb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/06/692506/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin.rst'],1,7c30f7c2445a35c0efefec59af017464126791eb,,"Tempest also exposes a tox job, ""all"", which will setup a tox virtualenv $ tox -e all -- <plugin-name-regex>","Tempest also exposes a tox job, all-plugin, which will setup a tox virtualenv",3,1
openstack%2Ftempest~690809,openstack/tempest,master,I01b621d72995e773fca4c65817e1654cec32fbf3,Fallback to tenant_id if project_id not found,ABANDONED,2019-10-24 05:50:12.000000000,2022-12-24 05:49:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-10-24 05:50:12.000000000', 'files': ['tempest/cmd/cleanup_service.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f13256229cd512fecbd6a7cc998c31cd53f6dcb', 'message': 'Fallback to tenant_id if project_id not found\n\nCloses-Bug: #1849603\n\nChange-Id: I01b621d72995e773fca4c65817e1654cec32fbf3\n'}]",0,690809,0f13256229cd512fecbd6a7cc998c31cd53f6dcb,3,2,1,8362,,,0,"Fallback to tenant_id if project_id not found

Closes-Bug: #1849603

Change-Id: I01b621d72995e773fca4c65817e1654cec32fbf3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/690809/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup_service.py'],1,0f13256229cd512fecbd6a7cc998c31cd53f6dcb,bug/1849603," if (net.get('project_id', net.get('tenant_id')) == p_id and net['name'] == net_name): if secgroup['security_group_rules'][0].get('project_id', secgroup['security_group_rules'][0].get('tenant_id')) pools = [pool for pool in pools if pool.get('project_id', pool.get('tenant_id'))", if (net['project_id'] == p_id and net['name'] == net_name): if secgroup['security_group_rules'][0]['project_id'] pools = [pool for pool in pools if pool['project_id'],6,3
openstack%2Ftempest~511172,openstack/tempest,master,Ic32d4de4bc540d8bd029e4706375bed63180acf9,Add last sub-command to tempest,ABANDONED,2017-10-11 08:09:25.000000000,2022-12-24 05:49:47.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-11 08:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/15e1c7e4c5c24426e03ca7fa641ecdd16b980206', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` command. However,\nit breaks a tempest workflow a bit. Moreover, we are now changing to use\nstestr from testr. So that, tempest users don't need to know testr now.\n\nTODO\n * Implement unit tests for `tempest last`\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}, {'number': 2, 'created': '2017-10-12 07:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0d2a16e443e1ab0b9fbf140aef8a37cca7317bb', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` command. However,\nit breaks a tempest workflow a bit. Moreover, we are now changing to use\nstestr from testr. So that, tempest users don't need to know testr now.\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}, {'number': 3, 'created': '2017-10-13 05:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14851833270494de6fd5e8d1ef1c5871fc5e5821', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` command. However,\nit breaks a tempest workflow a bit. Moreover, we are now changing to use\nstestr from testr. So that, tempest users don't need to know testr now.\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}, {'number': 4, 'created': '2017-12-13 09:39:53.000000000', 'files': ['tempest/cmd/last.py', 'tempest/tests/cmd/test_last.py', 'tempest/tests/cmd/test_run.py', 'releasenotes/notes/add-tempest-last-subcommand-2f09618b99d7272c.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/408550bdebeb16f80e067ac1a8bb814ecdf70ffd', 'message': ""Add last sub-command to tempest\n\nThis commit adds `tempest last` command which shows the last tempest run\nresult which was loaded into a repository. If we don't have this\nsub-command, we can see that result with `testr last` or `stestr last`\ncommand. However, it breaks a tempest workflow a bit. One more thing is\nthat we are now switching to use stestr from testr. So that, tempest\nusers don't need to know testr now.\n\nChange-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9\n""}]",2,511172,408550bdebeb16f80e067ac1a8bb814ecdf70ffd,21,5,4,5689,,,0,"Add last sub-command to tempest

This commit adds `tempest last` command which shows the last tempest run
result which was loaded into a repository. If we don't have this
sub-command, we can see that result with `testr last` or `stestr last`
command. However, it breaks a tempest workflow a bit. One more thing is
that we are now switching to use stestr from testr. So that, tempest
users don't need to know testr now.

Change-Id: Ic32d4de4bc540d8bd029e4706375bed63180acf9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/511172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/last.py', 'setup.cfg']",2,15e1c7e4c5c24426e03ca7fa641ecdd16b980206,add-last, last = tempest.cmd.last:TempestLast,,57,0
openstack%2Ftempest~393249,openstack/tempest,master,I1f580d79f3944e74005b5923d42d0a1a3356b32c,TestVolumeBootPattern: Add network flag,ABANDONED,2016-11-03 11:31:36.000000000,2022-12-24 05:49:43.000000000,,"[{'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 21187}, {'_account_id': 23003}]","[{'number': 1, 'created': '2016-11-03 11:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40d6557432ef65141f35a522b1cd1731cfcb1fe1', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 2, 'created': '2016-11-04 15:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2bd948d35ab0859f90fa7ce8d6b7897651e2a763', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 3, 'created': '2016-11-08 12:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22f0ff3b905a25ac1ddb913b697fbb8f6aa772b9', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 4, 'created': '2016-11-09 05:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/397f9fe401d2d83ac9e8424fb1c1e72e4a604fb9', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 5, 'created': '2016-11-09 06:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7334c5d45f9b31c48b56935f4cfe3eda559007f0', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 6, 'created': '2016-11-09 06:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37e5123d5fde9e011d00e07d6920711e18f5acc4', 'message': 'TestVolumeBootPattern: Add run_validation before ssh to an instance\n\nThis scenario ssh to an instance without checking run_validation flag.\nIn case tempest.conf validation is false , ssh to an instance should\nbe prevented.\n\nIn case run validation is enabled, we can check if its fix or\nfloating mode to ssh .\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 7, 'created': '2016-11-09 08:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a9f7fa9d2efddc2b9662af395961e3d4a4a3de8', 'message': 'TestVolumeBootPattern: Add network flag\n\nThis scenario ssh to an instance using network.\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}, {'number': 8, 'created': '2016-11-09 12:50:13.000000000', 'files': ['tempest/scenario/test_volume_boot_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c4f5a5ec8c7bba98afbbc186b7ed3ebcfe53020', 'message': 'TestVolumeBootPattern: Add network flag\n\nThis scenario ssh to an instance using network.\n\nChange-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c\n'}]",9,393249,5c4f5a5ec8c7bba98afbbc186b7ed3ebcfe53020,42,10,8,11075,,,0,"TestVolumeBootPattern: Add network flag

This scenario ssh to an instance using network.

Change-Id: I1f580d79f3944e74005b5923d42d0a1a3356b32c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/393249/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_boot_pattern.py'],1,40d6557432ef65141f35a522b1cd1731cfcb1fe1,add_network_flag,"import testtools from tempest.common import waiters from tempest.common.utils import data_utils from tempest.scenario import manager @testtools.skipUnless(CONF.validation.run_validation, 'Instance validation tests are disabled.')",from tempest.common.utils import data_utils from tempest.common import waitersfrom tempest.scenario import manager,7,3
openstack%2Ftempest~392464,openstack/tempest,master,Ib46712db4f47788f2832b4a5f442868edf46a2a3,Don't ignore api_extensions for port security,ABANDONED,2016-11-02 08:41:37.000000000,2022-12-24 05:49:38.000000000,,"[{'_account_id': 841}, {'_account_id': 1921}, {'_account_id': 6854}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 17716}]","[{'number': 1, 'created': '2016-11-02 08:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c4649482ba3486898dc96c8e7e81a33ae9ee365', 'message': 'Do not specify port security attributes unless the extension is enabled\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n'}, {'number': 2, 'created': '2016-11-03 03:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85f25e308d192d46b1e6d74f4b83a618d7586c45', 'message': ""Do not specify port security attributes unless the extension is enabled\n\nCONF.network_feature_enabled.port_security [1] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nWhy CONF.network_feature_enabled.port_security was necessary\nin addition to the usual mechanism is unclear to me.\n\n[1] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 3, 'created': '2016-11-10 07:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e014862c8fef336ecffc51653f0a5d9462f10fe6', 'message': ""Don't specify port security attrs unless enabled in the ext list\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 4, 'created': '2016-11-10 07:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e1beb116798471da888dec301d72a410a9bf8e1', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 5, 'created': '2016-11-18 05:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/048dbefa4b714846893c4696c7f1b02e48e758d3', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 6, 'created': '2016-11-18 07:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb1e9d43b9a7bb9219cae5e3eccec4c2e3f61820', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}, {'number': 7, 'created': '2016-11-18 09:00:57.000000000', 'files': ['releasenotes/notes/deprecate-port_security_enabled-ff1ab128ca491ab4.yaml', 'tempest/scenario/manager.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e881b2dd637b7692092cd1c25f6720ffa3dc92e8', 'message': ""Don't ignore api_extensions for port security\n\nCONF.network_feature_enabled.port_security [1] [2] was introduced\nrecently.  It's enabled by devstack unconditionally and breaks\nplugins without the extension.  This commit fixes the regression\nby avoiding using the extension unless it's available.\n\nAlso, this commit deprecates CONF.network_feature_enabled.port_security\nin favor of the existing CONF.network_feature_enabled.api_extensions.\n\n[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3\n[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d\n\nCloses-Bug: #1638487\nChange-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3\n""}]",20,392464,e881b2dd637b7692092cd1c25f6720ffa3dc92e8,59,10,7,6854,,,0,"Don't ignore api_extensions for port security

CONF.network_feature_enabled.port_security [1] [2] was introduced
recently.  It's enabled by devstack unconditionally and breaks
plugins without the extension.  This commit fixes the regression
by avoiding using the extension unless it's available.

Also, this commit deprecates CONF.network_feature_enabled.port_security
in favor of the existing CONF.network_feature_enabled.api_extensions.

[1] I20b8d5d2a300c83a59bdb33374fc20447ce2ede3
[2] I1efd5c838aa0d73cc6e8864e3041eea25850198d

Closes-Bug: #1638487
Change-Id: Ib46712db4f47788f2832b4a5f442868edf46a2a3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/392464/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,7c4649482ba3486898dc96c8e7e81a33ae9ee365,bug/1638487," if (tempest.test.is_extension_enabled('port-security', 'network') and CONF.network_feature_enabled.port_security):", if CONF.network_feature_enabled.port_security:,2,1
openstack%2Ftempest~457377,openstack/tempest,master,I6accf9792bc6754fce873b6c34f9889611788819,Ensure we delete shelved image,ABANDONED,2017-04-17 21:43:56.000000000,2022-12-24 05:49:34.000000000,,"[{'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-04-17 21:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed8e0da7054b24fda10c4b4e073b825647b43e31', 'message': 'Ensure we delete sheleved image\n\nWhen running test_shelved_unshelve_server() the server shelving\noperation creates an image, but we never ensure that image is cleaned up\nat the end of the test. This commit adds the image id that nova creates\nto the class level images list to make sure we delete it if the image\nstill exists during the tearDownClass.\n\nChange-Id: I6accf9792bc6754fce873b6c34f9889611788819\n'}, {'number': 2, 'created': '2017-04-19 14:30:32.000000000', 'files': ['tempest/api/compute/servers/test_delete_server.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/362562d1dbbb7dded2b4820624a8ca6e874073f6', 'message': 'Ensure we delete shelved image\n\nWhen running test_delete_server_while_in_shelved_state() the server\nshelving operation creates an image, but we never ensure that image is\ncleaned up at the end of the test. This commit adds the image id that\nnova creates to the class level images list to make sure we delete it\nif the image still exists during the tearDownClass.\n\nChange-Id: I6accf9792bc6754fce873b6c34f9889611788819\n'}]",5,457377,362562d1dbbb7dded2b4820624a8ca6e874073f6,22,9,2,5196,,,0,"Ensure we delete shelved image

When running test_delete_server_while_in_shelved_state() the server
shelving operation creates an image, but we never ensure that image is
cleaned up at the end of the test. This commit adds the image id that
nova creates to the class level images list to make sure we delete it
if the image still exists during the tearDownClass.

Change-Id: I6accf9792bc6754fce873b6c34f9889611788819
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/457377/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,ed8e0da7054b24fda10c4b4e073b825647b43e31,457377, self.images.append(images[0]['id']),,1,0
openstack%2Ftempest~647602,openstack/tempest,master,I2f19067c538482565df4e0d4b6025f025f1922f6,Validate server status in volume api tests,ABANDONED,2019-03-25 20:54:16.000000000,2022-12-24 05:49:28.000000000,,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-25 20:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b47a08881efd8554b297ad27f3aca165d00ca83b', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor proper detach, the vm aliveness tested over ssh,\nwhich will also helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}, {'number': 2, 'created': '2019-03-26 04:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/66b7b05caca75b6c725f2b34a8b4fb40efdab4d2', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor proper detach, the vm aliveness tested over ssh,\nwhich will also helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}, {'number': 3, 'created': '2019-03-28 09:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a915d564e65434f525d51c71b89d3c6ec56284b8', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor proper detach, the vm aliveness tested over ssh,\nwhich helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nThe ssh output also helps in to see was the vm\ndead before a detach failed.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}, {'number': 4, 'created': '2019-04-01 15:35:14.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/test_volumes_snapshots.py', 'tempest/scenario/manager.py', 'tempest/api/volume/base.py', 'tempest/exceptions.py', 'tempest/lib/exceptions.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbae6a9f2686fec46436bb70587cd2bab58eea66', 'message': 'Validate server status in volume api tests\n\nOnly 3 test in the volume section requires a working vm\nfor a proper detach. The vm aliveness tested over ssh,\nwhich helps in avoiding the missed acpi events issues.\n\nThe get_server_ip is closely related to the validation resources,\ncreated in the base class, so moving it there.\n\nThe ServerUnreachable exception used by this method,\nso moving it to the lib_exc.\n\nThe ssh output also helps in to see was the vm\ndead before a detach failed.\n\nChange-Id: I2f19067c538482565df4e0d4b6025f025f1922f6\n'}]",6,647602,cbae6a9f2686fec46436bb70587cd2bab58eea66,25,5,4,5803,,,0,"Validate server status in volume api tests

Only 3 test in the volume section requires a working vm
for a proper detach. The vm aliveness tested over ssh,
which helps in avoiding the missed acpi events issues.

The get_server_ip is closely related to the validation resources,
created in the base class, so moving it there.

The ServerUnreachable exception used by this method,
so moving it to the lib_exc.

The ssh output also helps in to see was the vm
dead before a detach failed.

Change-Id: I2f19067c538482565df4e0d4b6025f025f1922f6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/647602/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/test_volumes_snapshots.py', 'tempest/scenario/manager.py', 'tempest/api/volume/base.py', 'tempest/exceptions.py', 'tempest/lib/exceptions.py', 'tempest/test.py']",8,b47a08881efd8554b297ad27f3aca165d00ca83b,validate_volume," @classmethod def get_server_ip(cls, server, validation_resources=None): """"""Get the server fixed or floating IP. Based on the configuration we're in, return a correct ip address for validating that a guest is up. :param server: The server dict as returned by the API :param validation_resources: The dict of validation resources provisioned for the server. """""" if CONF.validation.connect_method == 'floating': if validation_resources: return validation_resources['floating_ip']['ip'] else: msg = ('When validation.connect_method equals floating, ' 'validation_resources cannot be None') raise lib_exc.InvalidParam(invalid_param=msg) elif CONF.validation.connect_method == 'fixed': addresses = server['addresses'][CONF.validation.network_for_ssh] for address in addresses: if address['version'] == CONF.validation.ip_version_for_ssh: return address['addr'] raise lib_exc.ServerUnreachable(server_id=server['id']) else: raise lib_exc.InvalidConfiguration() ",,81,38
openstack%2Ftempest~818861,openstack/tempest,master,Ide9836afba4a12b2ca780cf447c747797023651c,Test multiattach volume booted server does not delete multi attachments,ABANDONED,2021-11-23 08:01:42.000000000,2022-12-24 05:47:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 08:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/395ddf8537f8d9bd63d5921b6411f1e1f7596a28', 'message': 'Test delete server with multiattached bootable volume\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n'}, {'number': 2, 'created': '2021-11-23 08:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6ad70a4f23e02340e5f9bf5c34a43a0f4e1b3c4', 'message': ""Test delete server with multiattached bootable volume\n\nCreate a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 3, 'created': '2021-11-24 00:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e76719dc52196379d7c32ce214add70d8e2d3822', 'message': ""Test delete server with multiattached bootable volume\n\nCreate a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 4, 'created': '2021-11-24 06:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/916a189f4c6c7dba1673cd1395d5512d0028566e', 'message': ""Test delete server with multiattached bootable volume\n\nCreate a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 5, 'created': '2021-12-02 00:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/18e416ac8ab79fc1cf7424c2f5a51948061bbf3f', 'message': ""Test multiattach volume booted server does not delete multi attachments\n\nCreate a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 6, 'created': '2021-12-02 03:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8fca90e5cda4fdcbc2084458d0f1681b2b4f896', 'message': ""Test multiattach volume booted server does not delete multi attachments\n\nCreate a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}, {'number': 7, 'created': '2021-12-03 00:43:21.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d38fb282c047d95338a83bae535ae1e73470f1e', 'message': ""Test multiattach volume booted server does not delete multi attachments\n\nCreate a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.\n\nChange-Id: Ide9836afba4a12b2ca780cf447c747797023651c\n""}]",13,818861,6d38fb282c047d95338a83bae535ae1e73470f1e,22,3,7,31280,,,0,"Test multiattach volume booted server does not delete multi attachments

Create a bootable multiattach volume, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2.

Change-Id: Ide9836afba4a12b2ca780cf447c747797023651c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/818861/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume.py'],1,395ddf8537f8d9bd63d5921b6411f1e1f7596a28,tempest05," def _boot_from_multiattach_volume(self, delete_on_termination=False): 'delete_on_termination': delete_on_termination}] @decorators.idempotent_id('40ae5c1a-59eb-4db6-b09c-34489a9c7776') def test_delete_server_with_multiattached_bootable_volume(self): """"""Test create a bootable multiattach volume with delete_on_termination=True, create server1 from the volume, then attach it to server2, and then delete server1 in which case the volume won't be deleted because it's still attached to server2 and make sure the volume is still attached to server2. """""" server1, volume = self._boot_from_multiattach_volume( delete_on_termination=True) server2 = self.create_test_server() # Now wait for server2 to be ACTIVE. waiters.wait_for_server_status(self.servers_client, server2['id'], 'ACTIVE') # Attach the volume to server2 self._attach_volume_to_servers(volume, [server2]) # Now delete server1 check the volume won't be deleted and the volume # is still attached to server2 self.client.delete_server(server1['id']) waiters.wait_for_server_termination(self.client, server1['id']) waiters.wait_for_volume_resource_status( self.volumes_client, volume_id, 'in-use') self._detach_multiattach_volume(volume['id'], server2['id'])"," def _boot_from_multiattach_volume(self): 'delete_on_termination': False}] # TODO(mriedem): Might be interesting to create a bootable multiattach # volume with delete_on_termination=True, create server1 from the # volume, then attach it to server2, and then delete server1 in which # case the volume won't be deleted because it's still attached to # server2 and make sure the volume is still attached to server2.",31,7
openstack%2Ftempest~817560,openstack/tempest,master,I4675e86993fa724f04789fe02b2301ea73fd8405,DNM: troubleshoot guest kernel panic,ABANDONED,2021-11-11 13:56:54.000000000,2022-12-24 05:47:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-11 13:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85a963fe69e9c6177a1e2d81235c24899c97f5ed', 'message': 'DNM: troubleshoot guest kernel panic\n\nRelated-Bug: #1950310\nChange-Id: I4675e86993fa724f04789fe02b2301ea73fd8405\n'}, {'number': 2, 'created': '2021-11-16 11:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/115af9676aa7776c4f9ff4eabfc664ca3db70e43', 'message': 'DNM: troubleshoot guest kernel panic\n\nRelated-Bug: #1950310\nChange-Id: I4675e86993fa724f04789fe02b2301ea73fd8405\n'}, {'number': 3, 'created': '2021-11-16 13:20:50.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/274689f528e1fe9d5d84d23819a7a93c26ef0689', 'message': 'DNM: troubleshoot guest kernel panic\n\nRelated-Bug: #1950310\nChange-Id: I4675e86993fa724f04789fe02b2301ea73fd8405\n'}]",0,817560,274689f528e1fe9d5d84d23819a7a93c26ef0689,6,1,3,9708,,,0,"DNM: troubleshoot guest kernel panic

Related-Bug: #1950310
Change-Id: I4675e86993fa724f04789fe02b2301ea73fd8405
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/817560/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,85a963fe69e9c6177a1e2d81235c24899c97f5ed,bug/1950310," console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug( 'Console output before waiting 30 sec before volume detach' 'for %s\nconsole=\n%s', server['id'], console_output) import time time.sleep(30) console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug( 'Console output before volume detach for %s\nconsole=\n%s', server['id'], console_output) ",,15,0
openstack%2Ftempest~803700,openstack/tempest,master,Ic280f00a702d647af88daaededd4ce85c04ca1ad,"API support list group snapshots by filters in the url, with microversion greater than 3.29",ABANDONED,2021-08-06 06:48:42.000000000,2022-12-24 05:47:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 06:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c81d57a196ac424fccdccdf58b97ef26f700168', 'message': 'API support list group snapshots by filters in the url, with microversion greater than 3.29\n\nChange-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad\n'}, {'number': 2, 'created': '2021-08-09 02:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/567c84807df02d06070f65dd5a450d53859c5e7e', 'message': 'API support list group snapshots by filters in the url, with microversion greater than 3.29\n\nTest list group snapshots sort by name\n\nChange-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad\n'}, {'number': 3, 'created': '2021-08-09 10:00:06.000000000', 'files': ['tempest/api/volume/admin/test_group_snapshots.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/355fa15951b442aff0b7793ad3c87d45e7a038b7', 'message': 'API support list group snapshots by filters in the url, with microversion greater than 3.29\n\nTest list group snapshots sort by name\n\nChange-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad\n'}]",0,803700,355fa15951b442aff0b7793ad3c87d45e7a038b7,9,1,3,31280,,,0,"API support list group snapshots by filters in the url, with microversion greater than 3.29

Test list group snapshots sort by name

Change-Id: Ic280f00a702d647af88daaededd4ce85c04ca1ad
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/803700/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_snapshots.py'],1,7c81d57a196ac424fccdccdf58b97ef26f700168,tempest_05," class GroupSnapshotsV329Test(BaseGroupSnapshotsTest): """"""Test group snapshot with volume microversion greater than 3.28"""""" min_microversion = '3.29' max_microversion = 'latest' @decorators.idempotent_id('ef620194-7cb6-48d3-af2d-1e8d181b0e8a') def test_list_group_snapshots_with_filters(self): """"""Test list group snapshot with filters"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create group grp = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']]) # Create volume vol = self.create_volume(volume_type=volume_type['id'], group_id=grp['id']) # Create group snapshot snapshot_name_a = 'a_{}'.format(data_utils.rand_name('group_snapshot')) snapshot_a = self._create_group_snapshot( group_id=grp['id'], name=snapshot_name_a) snapshots = self.snapshots_client.list_snapshots( detail=True)['snapshots'] for snap in snapshots: if vol['id'] == snap['volume_id']: waiters.wait_for_volume_resource_status( self.snapshots_client, snap['id'], 'available') snapshot_name_b = 'b_{}'.format(data_utils.rand_name('group_snapshot')) snapshot_b = self._create_group_snapshot( group_id=grp['id'], name=snapshot_name_b) snapshots = self.snapshots_client.list_snapshots( detail=True)['snapshots'] for snap in snapshots: if vol['id'] == snap['volume_id']: waiters.wait_for_volume_resource_status( self.snapshots_client, snap['id'], 'available') # Get group snapshots, sort by name, sort direction is asc group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, sort=""name:asc"")['group_snapshots'] name_list = [it['name'] for it in group_snapshots] self.assertLess( name_list.index(snapshot_name_a), name_list.index(snapshot_name_b)) # Get group snapshots, sort by name, sort direction is desc group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, sort=""name:desc"")['group_snapshots'] name_list = [it['name'] for it in group_snapshots] self.assertLess( name_list.index(snapshot_name_b), name_list.index(snapshot_name_a)) group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, limit=1)['group_snapshots'] self.assertEqual(1, len(group_snapshots)) # get group snapshots with large offset, check snapshot null group_snapshots = self.group_snapshots_client.list_group_snapshots( detail=True, limit=10, offset=1000000)['group_snapshots'] self.assertEqual(0, len(group_snapshots)) # Delete group snapshot self._delete_group_snapshot(snapshot_a) self._delete_group_snapshot(snapshot_b)",,72,0
openstack%2Ftempest~802021,openstack/tempest,master,I01f3637ed3a40621418f15272ac58c618da30796,Create a bootable volume with group,ABANDONED,2021-07-23 12:49:17.000000000,2022-12-24 05:47:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-23 12:49:17.000000000', 'files': ['tempest/api/volume/admin/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea04e312c02b1891c1f6d0152bf1e2453cf73582', 'message': 'Create a bootable volume with group\n\nChange-Id: I01f3637ed3a40621418f15272ac58c618da30796\n'}]",0,802021,ea04e312c02b1891c1f6d0152bf1e2453cf73582,3,1,1,27615,,,0,"Create a bootable volume with group

Change-Id: I01f3637ed3a40621418f15272ac58c618da30796
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/802021/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_groups.py'],1,ea04e312c02b1891c1f6d0152bf1e2453cf73582,," @decorators.idempotent_id('25f7cbdb-c654-47ef-ae90-ad1379fd9bbb') def test_group_create_bootable_volume(self): """"""Test creating group with bootable volume"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create group grp1_name = data_utils.rand_name('Group1') grp1 = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']], name=grp1_name) # Create volume from image img_uuid = CONF.compute.image_ref vol1_name = data_utils.rand_name(""volume"") params = {'name': vol1_name, 'volume_type': volume_type['id'], 'group_id': grp1['id'], 'size': CONF.volume.volume_size, 'imageRef': img_uuid} vol1 = self.volumes_client.create_volume(**params)['volume'] self.assertEqual(grp1['id'], vol1['group_id']) waiters.wait_for_volume_resource_status( self.volumes_client, vol1['id'], 'available') ",,28,0
openstack%2Ftempest~788417,openstack/tempest,master,Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869,test_server_multinode.TestServerMultinode.test_schedule_to _all_nodes failed.,ABANDONED,2021-04-28 07:45:40.000000000,2022-12-24 05:47:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 07:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0842c1e1b7228c7777d4af938fdb4ba8bafc2f08', 'message': 'test_server_multinode.TestServerMultinode.\ntest_schedule_to_all_nodes will create a vm on all the\ncompute nodes included in az, but when there is an ironic\ntype hypervisor, the test fails.\n\nThis patch will exclude ironic type hypervisors.\n\nRelated Bug: #1926403\nChange-Id: Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869\n'}, {'number': 2, 'created': '2021-05-14 02:49:17.000000000', 'files': ['tempest/scenario/test_server_multinode.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/83a80ef4512ddcf72539f84dd11e119d603b61a5', 'message': 'test_server_multinode.TestServerMultinode.test_schedule_to\n_all_nodes failed.\n\ntest_server_multinode.TestServerMultinode.test_schedule_to\n_all_nodes will create a vm on all the compute nodes\nincluded in az, but when there is an ironic type\nhypervisor, the test fails.\n\nThis patch will exclude ironic type hypervisors.\n\nRelated Bug: #1926403\nChange-Id: Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869\n'}]",2,788417,83a80ef4512ddcf72539f84dd11e119d603b61a5,9,2,2,31455,,,0,"test_server_multinode.TestServerMultinode.test_schedule_to
_all_nodes failed.

test_server_multinode.TestServerMultinode.test_schedule_to
_all_nodes will create a vm on all the compute nodes
included in az, but when there is an ironic type
hypervisor, the test fails.

This patch will exclude ironic type hypervisors.

Related Bug: #1926403
Change-Id: Ie017fc62dc1cab7c4f918e4ad283ae3da6d6d869
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/788417/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_multinode.py'],1,0842c1e1b7228c7777d4af938fdb4ba8bafc2f08,tempest/fix_1926403, hypervisors = self.os_admin.hypervisor_client.list_hypervisors( detail=True)['hypervisors'] available_hypervisors = set( hyp['hypervisor_hostname'] for hyp in hypervisors if hyp['state'] == 'up' and hyp['hypervisor_type'] != 'ironic') zone['hosts'][host]['nova-compute']['available'] \ and host in available_hypervisors:, zone['hosts'][host]['nova-compute']['available']:,8,1
openstack%2Ftempest~792491,openstack/tempest,master,Iab55bfaf634b003741976c820c88ab25293a8528,Wait for info_cache updated,ABANDONED,2021-05-21 01:45:32.000000000,2022-12-24 05:46:56.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 01:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f6d52e83f4a6d71fccf95f0fd258676077a32cfa', 'message': 'Do not assume security group name\n\nServer detail list might return a security\nid, so first iterate through available security\ngroups to make sure security group id is not there\n\nChange-Id: Iab55bfaf634b003741976c820c88ab25293a8528\n'}, {'number': 2, 'created': '2021-05-21 05:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c252433a145f0263e6d49969258955fb1b9ae7c', 'message': 'Do not assume security group name\n\nServer detail list might return a security\nid, so first iterate through available security\ngroups to make sure security group id is not there\n\nChange-Id: Iab55bfaf634b003741976c820c88ab25293a8528\n'}, {'number': 3, 'created': '2021-05-29 03:07:35.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc2d80111188cf978e6c4c536e7ff35c08eeb15d', 'message': 'Wait for info_cache updated\n\nWe plan to cache security groups in info_cache\nso we should wait for its update\n\nChange-Id: Iab55bfaf634b003741976c820c88ab25293a8528\n'}]",1,792491,fc2d80111188cf978e6c4c536e7ff35c08eeb15d,12,2,3,29071,,,0,"Wait for info_cache updated

We plan to cache security groups in info_cache
so we should wait for its update

Change-Id: Iab55bfaf634b003741976c820c88ab25293a8528
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/792491/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,f6d52e83f4a6d71fccf95f0fd258676077a32cfa,update-remove-security," cls.security_groups_client = cls.os_primary.security_groups_client sg_list = self.security_groups_client.list_security_groups() name_or_id = server['security_groups'][0]['name'] sg_name = name_or_id for sg in sg_list: if sg['id'] == name_or_id: sg_name = sg['name'] break server['id'], name=sg_name)"," server['id'], name=server['security_groups'][0]['name'])",9,1
openstack%2Ftempest~774643,openstack/tempest,master,I6d86fc23b00f9685a41193dc34517cdbaa395b9a,Fix test_volume_crud_with_volume_type when multi backend setup,ABANDONED,2021-02-09 13:33:07.000000000,2022-12-24 05:46:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22696}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-09 13:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/580de0e0c9d82024f1aadbbdd1dac1d01e925e56', 'message': 'Fix test_volume_crud_with_volume_type when multi backend setup\n\nWhen having a multiple backend setup with cinder , storage_protocols\nand vendor_name are per cinder backend.\n\nAdded support for multi-backend setup, get the storage_protocol and\nvendor name from  cinder get-pool info (cinder driver) per requested\nbackend.\n\nIn case we do not enable multi-backend in tempest.conf we should\nretrieve data from tempest.conf (vendor_name)\n\nChange-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a\n'}, {'number': 2, 'created': '2021-04-27 12:57:15.000000000', 'files': ['tempest/api/volume/admin/test_volume_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3391b101c6a83ca4e090ad0417f8796420288c71', 'message': 'Fix test_volume_crud_with_volume_type when multi backend setup\n\nWhen having a multiple backend setup with cinder , storage_protocols\nand vendor_name are per cinder backend.\n\nAdded support for multi-backend setup, get the storage_protocol and\nvendor name from  cinder get-pool info (cinder driver) per requested\nbackend.\n\nIn case we do not enable multi-backend in tempest.conf we should\nretrieve data from tempest.conf (vendor_name)\n\nChange-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a\n'}]",1,774643,3391b101c6a83ca4e090ad0417f8796420288c71,13,5,2,11075,,,0,"Fix test_volume_crud_with_volume_type when multi backend setup

When having a multiple backend setup with cinder , storage_protocols
and vendor_name are per cinder backend.

Added support for multi-backend setup, get the storage_protocol and
vendor name from  cinder get-pool info (cinder driver) per requested
backend.

In case we do not enable multi-backend in tempest.conf we should
retrieve data from tempest.conf (vendor_name)

Change-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/774643/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types.py'],1,580de0e0c9d82024f1aadbbdd1dac1d01e925e56,," @classmethod def resource_setup(cls): """"""multi-backend setup storage_protocol and vendor_name When multi-backend enabled we retrieve the storage_protocol and vendor_name per backend from the cinder get-pools driver setting. When we create a type we must bind the storage_protocol to vendor_name """""" super(VolumeTypesTest, cls).resource_setup() cls.extra_specs = {} if CONF.volume_feature_enabled.multi_backend: cls.backend_name = CONF.volume.backend_names[0] # Get pool info according to backend name cinder_pools = cls.admin_scheduler_stats_client.list_pools( detail=True)['pools'] pool = \ [p for p in cinder_pools if p['capabilities']['volume_backend_name'] == cls.backend_name] cls._set_extra_specs(""storage_protocol"", pool[0]['capabilities']['storage_protocol']) cls._set_extra_specs(""vendor_name"", pool[0]['capabilities']['vendor_name']) cls._set_extra_specs(""volume_backend_name"", cls.backend_name) else: # if multi-backend disabled get info from CONF cls._set_extra_specs(""storage_protocol"", CONF.volume.storage_protocol) cls._set_extra_specs(""vendor_name"", CONF.volume.vendor_name) @classmethod def _set_extra_specs(cls, key, value): cls.extra_specs[key] = value extra_specs=self.extra_specs) 'extra_specs': self.extra_specs, self.assertEqual(self.extra_specs, fetched_volume_type['extra_specs'],"," proto = CONF.volume.storage_protocol vendor = CONF.volume.vendor_name extra_specs = {""storage_protocol"": proto, ""vendor_name"": vendor} extra_specs=extra_specs) proto = CONF.volume.storage_protocol vendor = CONF.volume.vendor_name extra_specs = {""storage_protocol"": proto, ""vendor_name"": vendor} 'extra_specs': extra_specs, self.assertEqual(extra_specs, fetched_volume_type['extra_specs'],",37,11
openstack%2Ftempest~784710,openstack/tempest,master,Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4,[TEST][DMT] run only test_server_actions tests,ABANDONED,2021-04-04 09:35:12.000000000,2022-12-24 05:46:48.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-04 09:35:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2084cb1572f513e5ba6c668002b3519fde7879ab', 'message': '[TEST][DMT] run only test_server_actions tests\n\nChange-Id: Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4\n'}]",0,784710,2084cb1572f513e5ba6c668002b3519fde7879ab,6,2,1,12404,,,0,"[TEST][DMT] run only test_server_actions tests

Change-Id: Ibc1a085a18771a1db9e4ccbe0f3629172acf1ef4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/784710/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2084cb1572f513e5ba6c668002b3519fde7879ab,test-arm64-quick-test-set, tempest run --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.api\.compute\.servers\.test_server_actions)' {posargs}, tempest run --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.api)' {posargs} tempest run --combine --serial --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.scenario)' {posargs},1,2
openstack%2Ftempest~695967,openstack/tempest,master,I02bc587601976f5972b2926d94ce5133b3590a52,Add testcases to verify disk size after snapshot created,ABANDONED,2019-11-25 18:33:09.000000000,2022-12-24 05:46:42.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5803}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9535}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27615}, {'_account_id': 31239}]","[{'number': 1, 'created': '2019-11-25 18:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/18b3587ddf23dbff2f198fd84caa051ae836f5a0', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}, {'number': 2, 'created': '2019-11-26 06:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/90bd44d2be3b89cf0f6b8948c931fcc32ce2c563', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}, {'number': 3, 'created': '2019-11-28 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7c6341e0cdbe1574deaca325d13a59ab2e60e0b8', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}, {'number': 4, 'created': '2019-12-12 18:59:18.000000000', 'files': ['tempest/scenario/test_volume_disk_checks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd67858e5e26d148c78f3fee2f2512e31c9109c1', 'message': 'Add testcases to verify disk size after snapshot created\n\n - testcase for clear volume\n - testcase for encrypted volume\n\nThe testcase run and create a volume from snapshot, attach it to instance\nWhen the volume attached we check with lsblk the volume size.\n\nThere is a bug that we manage to reproduce for encrypted volume:\n\nhttps://bugs.launchpad.net/cinder/+bug/1852168\n\nChange-Id: I02bc587601976f5972b2926d94ce5133b3590a52\n'}]",13,695967,dd67858e5e26d148c78f3fee2f2512e31c9109c1,38,17,4,11075,,,0,"Add testcases to verify disk size after snapshot created

 - testcase for clear volume
 - testcase for encrypted volume

The testcase run and create a volume from snapshot, attach it to instance
When the volume attached we check with lsblk the volume size.

There is a bug that we manage to reproduce for encrypted volume:

https://bugs.launchpad.net/cinder/+bug/1852168

Change-Id: I02bc587601976f5972b2926d94ce5133b3590a52
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/695967/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_disk_checks.py'],1,18b3587ddf23dbff2f198fd84caa051ae836f5a0,,"# Copyright (c) 2019 Redhat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from tempest import config from tempest.lib import decorators from tempest.scenario import manager import tempest.lib.exceptions CONF = config.CONF class TestVolumeDiskSizeWhenAttached(manager.EncryptionScenarioTest): credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(TestVolumeDiskSizeWhenAttached, cls).skip_checks() @classmethod def resource_setup(cls): super(TestVolumeDiskSizeWhenAttached, cls).resource_setup() cls.VOLUME_SIZE_BYTES = 1073741824 * CONF.volume.volume_size def _get_disk_bytes_size_from_instance(self, ip_address, dev_name, server, private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key, server=server) # Check if disk device exists, added "" "" to prevent names sdb1, sdb device_disk = [line for line in ssh_client.get_disks().split('\n') if dev_name + "" "" in line] if len(device_disk) != 1: msg = ""Unable to find disk device %s"" % dev_name raise tempest.lib.exceptions.TempestException(msg) return int(device_disk[0].split()[3]) def _get_disk_size(self, volume): keypair = self.create_keypair() security_group = self._create_security_group() # boot an instance from image server = self.create_server( key_name=keypair['name'], security_groups=[{'name': security_group['name']}]) self.nova_volume_attach(server, volume) self.addCleanup(self.nova_volume_detach, server, volume) # login to the instance and verify disk size instance_ip = self.get_server_ip(server) bytes_size = self._get_disk_bytes_size_from_instance( ip_address=instance_ip, dev_name=CONF.compute.volume_device_name, server=server, private_key=keypair['private_key']) return bytes_size @decorators.idempotent_id('3d59f8ef-ff5e-4563-8741-d194cda4ab6a') @testtools.skipUnless(CONF.volume_feature_enabled.snapshot, 'Snapshot is not available.') def test_volume_disk_size_volume_from_snapshot(self): """"""Test to verify disk size for a volume created from snapshot * Create a volume and a type * Create a snapshot from the volume * Create a volume from the snapshot * Boot an instance form image and attach the volume * Verify attached volume size with lsblk """""" volume_type = self.create_volume_type() volume = self.create_volume(volume_type=volume_type['name']) snapshot = self.create_volume_snapshot(volume_id=volume['id']) volume_from_snapshot = self.create_volume( snapshot_id=snapshot['id'], volume_type=volume_type['id']) bytes_size = self._get_disk_size(volume_from_snapshot) self.assertEqual(bytes_size, self.VOLUME_SIZE_BYTES) @decorators.idempotent_id('08b00328-35cc-4b19-8705-1a2bd6280680') @testtools.skipUnless( CONF.compute_feature_enabled.attach_encrypted_volume, 'Attach encrypted volume is not available.') @testtools.skipUnless(CONF.volume_feature_enabled.snapshot, 'Snapshot is not available.') @testtools.skipIf(CONF.volume.storage_protocol == 'ceph', 'Skip because of LP#1852168') def test_volume_encrypted_disk_create_volume_from_snapshot(self): """"""Test to verify disk size for encrypted volume created from snapshot * Create an encrypted volume * Create a snapshot from the encrypted volume * Create a volume from the snapshot * Boot an instance form image and attach the volume * Verify attached volume size with lsblk """""" volume_type = self.create_volume_type() kwargs = {'provider': 'nova.volume.encryptors.luks.LuksEncryptor', 'key_size': 256, 'cipher': 'aes-xts-plain64', 'control_location': 'front-end'} self.create_encryption_type(client=self.admin_encryption_types_client, type_id=volume_type['id'], **kwargs) volume = self.create_volume(volume_type=volume_type['name']) snapshot = self.create_volume_snapshot(volume_id=volume['id']) volume_from_snapshot = self.create_volume( snapshot_id=snapshot['id'], volume_type=volume_type['id']) bytes_size = self._get_disk_size(volume_from_snapshot) self.assertEqual(bytes_size, self.VOLUME_SIZE_BYTES) ",,126,0
openstack%2Ftempest~403530,openstack/tempest,master,Ic99c361b8deb04eb1892778ad298a68becfc6d0a,[WIP] Remove etc/whitelist.yaml,ABANDONED,2016-11-28 07:17:15.000000000,2022-12-24 05:46:37.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-11-28 07:17:15.000000000', 'files': ['etc/whitelist.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f4cead39c9853963b54fcbf99f6edfbaa7f223b', 'message': '[WIP] Remove etc/whitelist.yaml\n\nThis commit removes etc/whitelist.yaml. This file was kept in the\ncommit[1]. However we should keep the repository clean as possible.\n\n[1] I26f0e9789b167061e2a7dac4dddf04d89bfadee3\n\nChange-Id: Ic99c361b8deb04eb1892778ad298a68becfc6d0a\n'}]",0,403530,4f4cead39c9853963b54fcbf99f6edfbaa7f223b,8,4,1,5689,,,0,"[WIP] Remove etc/whitelist.yaml

This commit removes etc/whitelist.yaml. This file was kept in the
commit[1]. However we should keep the repository clean as possible.

[1] I26f0e9789b167061e2a7dac4dddf04d89bfadee3

Change-Id: Ic99c361b8deb04eb1892778ad298a68becfc6d0a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/403530/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/whitelist.yaml'],1,4f4cead39c9853963b54fcbf99f6edfbaa7f223b,rm-whitelist.yaml,,,0,0
openstack%2Ftempest~768047,openstack/tempest,master,I4d58d5d1ed0e3180337493355b5b3b9a7a75f055,add unitest for api of resource providers inventory,ABANDONED,2020-12-21 07:28:16.000000000,2022-12-24 05:46:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-12-21 07:28:16.000000000', 'files': ['tempest/lib/services/placement/resource_providers_client.py', 'tempest/tests/lib/services/placement/test_resource_providers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/986dc41dc96de65ca91f589b7bcf38ed24dc3682', 'message': 'add unitest for api of resource providers inventory\n\nsupplement unitest for api of resource providers inventory, include:\nlist_resource_provider_aggregates,\nupdate_resource_providers_inventory,\ndelete_resource_providers_inventory\n\nChange-Id: I4d58d5d1ed0e3180337493355b5b3b9a7a75f055\n'}]",12,768047,986dc41dc96de65ca91f589b7bcf38ed24dc3682,4,2,1,30643,,,0,"add unitest for api of resource providers inventory

supplement unitest for api of resource providers inventory, include:
list_resource_provider_aggregates,
update_resource_providers_inventory,
delete_resource_providers_inventory

Change-Id: I4d58d5d1ed0e3180337493355b5b3b9a7a75f055
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/768047/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/placement/resource_providers_client.py', 'tempest/tests/lib/services/placement/test_resource_providers_client.py']",2,986dc41dc96de65ca91f589b7bcf38ed24dc3682,fix1221," FAKE_RESOURCE_NAME = 'test' FAKE_RESOURCE_PROVIDER_INVENTORY = { ""allocation_ratio"": 16.0, ""max_unit"": 4, ""min_unit"": 1, ""reserved"": 0, ""resource_provider_generation"": 9, ""step_size"": 1, ""total"": 4 } FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_RESPONSE = { ""allocation_ratio"": 1.0, ""max_unit"": 2147483647, ""min_unit"": 1, ""reserved"": 0, ""resource_provider_generation"": 8, ""step_size"": 1, ""total"": 50 } FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_REQUEST = { ""resource_provider_generation"": 7, ""total"": 50 } def _test_list_resource_provider_inventory(self, bytes_body=False): self.check_service_client_function( self.client.list_resource_provider_inventory, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_RESOURCE_PROVIDER_INVENTORY, to_utf=bytes_body, status=200, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, resource=self.FAKE_RESOURCE_NAME ) def test_list_resource_provider_inventory_with_str_body(self): self._test_list_resource_provider_inventory() def test_list_resource_provider_inventory_with_bytes_body(self): self._test_list_resource_provider_inventory(bytes_body=True) def _test_update_resource_providers_inventory(self, bytes_body=False): self.check_service_client_function( self.client.update_resource_providers_inventory, 'tempest.lib.common.rest_client.RestClient.put', self.FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_RESPONSE, to_utf=bytes_body, status=200, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, resource=self.FAKE_RESOURCE_NAME, **self.FAKE_RESOURCE_PROVIDER_INVENTORY_UPDATE_REQUEST ) def test_update_resource_providers_inventory_with_str_body(self): self._test_update_resource_providers_inventory() def test_update_resource_providers_inventory_with_bytes_body(self): self._test_update_resource_providers_inventory(bytes_body=True) def test_delete_resource_providers_inventory(self): self.check_service_client_function( self.client.delete_resource_providers_inventory, 'tempest.lib.common.rest_client.RestClient.delete', {}, status=204, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, resource=self.FAKE_RESOURCE_NAME )",,111,0
openstack%2Ftempest~755686,openstack/tempest,master,Iac9bf8d25b1535a400bc1a16fc223dc278223ebe,Make _create_and_stage_image always return a list of stores,ABANDONED,2020-10-02 03:54:02.000000000,2022-12-24 05:46:29.000000000,,"[{'_account_id': 8122}, {'_account_id': 19138}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-02 03:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4fe4d565fb37f1436823a8d28d3f45b9f123c3e', 'message': 'Make _create_and_stage_image always return a list of stores\n\nMultiStoresImportImagesTest._create_and_stage_image returns two values:\nthe body of the HTTP request that was performed, and either a list or a\nstring depending on the value of the all_stores parameter. This forces\nthe caller to treat this second returned value differently depending on\nhow the call was made.\n\nMake sure _create_and_stage_image always return a list as its second\nreturn value.\n\nChange-Id: Iac9bf8d25b1535a400bc1a16fc223dc278223ebe\n'}, {'number': 2, 'created': '2021-01-14 19:58:15.000000000', 'files': ['tempest/api/image/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c5e3c04330959aedab752d012e7ff0da6c601f7', 'message': 'Make _create_and_stage_image always return a list of stores\n\nMultiStoresImportImagesTest._create_and_stage_image returns two values:\nthe body of the HTTP request that was performed, and either a list or a\nstring depending on the value of the all_stores parameter. This forces\nthe caller to treat this second returned value differently depending on\nhow the call was made.\n\nMake sure _create_and_stage_image always returns a string as its second\nreturn value.\n\nChange-Id: Iac9bf8d25b1535a400bc1a16fc223dc278223ebe\n'}]",2,755686,5c5e3c04330959aedab752d012e7ff0da6c601f7,11,4,2,8122,,,0,"Make _create_and_stage_image always return a list of stores

MultiStoresImportImagesTest._create_and_stage_image returns two values:
the body of the HTTP request that was performed, and either a list or a
string depending on the value of the all_stores parameter. This forces
the caller to treat this second returned value differently depending on
how the call was made.

Make sure _create_and_stage_image always returns a string as its second
return value.

Change-Id: Iac9bf8d25b1535a400bc1a16fc223dc278223ebe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/755686/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images.py'],1,f4fe4d565fb37f1436823a8d28d3f45b9f123c3e,fix-return-values," stores_list = [store['id'] for store in self.available_stores] if not all_stores: stores_list = stores_list[::len(stores_list) - 1] waiters.wait_for_image_imported_to_stores(self.client, image['id'], (','.join(stores)))"," if all_stores: stores_list = ','.join([store['id'] for store in self.available_stores]) else: stores = [store['id'] for store in self.available_stores] stores_list = stores[::len(stores) - 1] waiters.wait_for_image_imported_to_stores(self.client, image['id'], stores)",5,8
openstack%2Ftempest~709961,openstack/tempest,master,I486049a2994d2b16e7ffdcf9afb3b759e685465c,Add image task api,ABANDONED,2020-02-26 07:39:05.000000000,2022-12-24 05:46:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 30643}]","[{'number': 1, 'created': '2020-02-26 07:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9255002917c482d22ce3cd84827aac152b5f9baa', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 2, 'created': '2020-02-27 01:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25d1f300bc8e2b2a9fadf437e4f25082f36564f0', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 3, 'created': '2020-03-19 06:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bee83e68d9c0276fa83423642968f96c32761b3e', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 4, 'created': '2020-03-19 09:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e39e3b1475cc8ac670560ffb7ed6520db1e72617', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}, {'number': 5, 'created': '2020-10-12 03:18:00.000000000', 'files': ['releasenotes/notes/add-image-tasks-api-to-v2-image-part-1068060b16676e41.yaml', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/tests/lib/services/image/v2/test_image_tasks_client.py', 'tempest/lib/services/image/v2/images_tasks_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/521cf39e0ad435051e748b28b0f7c9fa9cb60b0b', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c\n'}]",0,709961,521cf39e0ad435051e748b28b0f7c9fa9cb60b0b,13,2,5,30643,,,0,"Add image task api

Add image task api and unittest to image part.

Change-Id: I486049a2994d2b16e7ffdcf9afb3b759e685465c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/709961/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-image-tasks-api-to-v2-image-part-1068060b16676e41.yaml', 'tempest/tests/lib/services/image/v2/test_image_tasks_client.py', 'tempest/lib/services/image/v2/images_tasks_client.py']",3,9255002917c482d22ce3cd84827aac152b5f9baa,fix14,"# Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils as json from six.moves.urllib import parse as urllib from tempest.lib.common import rest_client CHUNKSIZE = 1024 * 64 # 64kB class ImagesTasksClient(rest_client.RestClient): api_version = ""v2"" def create_task(self, **kwargs): """"""Create task For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=#create-task """""" data = json.dumps(kwargs) resp, body = self.post('task', data) self.expected_success(201, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def list_tasks(self, params=None): """"""List tasks For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=list-tasks-detail#list-tasks """""" url = 'tasks' if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def show_tasks_details(self, task_id, params=None): """"""Show tasks details For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=show-task-details-detail#show-task-details """""" url = 'tasks/%s' % task_id if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) ",,226,0
openstack%2Ftempest~675523,openstack/tempest,master,I44ac1ae576740e310d9b26beb436ac9c31082729,[WIP] Make tempest sanity faster,ABANDONED,2019-08-09 05:42:28.000000000,2022-12-24 05:46:23.000000000,,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-09 05:42:28.000000000', 'files': ['tools/generate-tempest-plugins-list.py', 'tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee283b6afc47a924ab6f639c8176639fd3dd69ee', 'message': '[WIP] Make tempest sanity faster\n\nThis commit makes the tempest sanity job faster with parallel execution.\nThis change might increase about 50 processes compared to the original.\nBut it should be much faster than the original.\n\nChange-Id: I44ac1ae576740e310d9b26beb436ac9c31082729\n'}]",0,675523,ee283b6afc47a924ab6f639c8176639fd3dd69ee,4,2,1,5689,,,0,"[WIP] Make tempest sanity faster

This commit makes the tempest sanity job faster with parallel execution.
This change might increase about 50 processes compared to the original.
But it should be much faster than the original.

Change-Id: I44ac1ae576740e310d9b26beb436ac9c31082729
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/675523/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate-tempest-plugins-list.py', 'tools/tempest-plugin-sanity.sh']",2,ee283b6afc47a924ab6f639c8176639fd3dd69ee,parallel-sanity," failed_plugin+=""$project, "" > $SANITY_DIR/$project.txt &"," failed_plugin+=""$project, "" > $SANITY_DIR/$project.txt",17,3
openstack%2Ftempest~675513,openstack/tempest,master,I09eb9adbde1ddcaff977923c5a098304722e266b,[WIP] Remove duplicated installation of python packages,ABANDONED,2019-08-09 03:55:37.000000000,2022-12-24 05:46:13.000000000,,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-09 03:55:37.000000000', 'files': ['tools/tempest-plugin-sanity.sh'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a183c4ae50bb0a567a8468d97ecf4180f7e99cc5', 'message': '[WIP] Remove duplicated installation of python packages\n\nThis commit removes duplicated installations of python packages. This\nreduces the execution time of the tempest-sanity check. And, this could\nfind inconsistency among each plugins.\n\nChange-Id: I09eb9adbde1ddcaff977923c5a098304722e266b\n'}]",0,675513,a183c4ae50bb0a567a8468d97ecf4180f7e99cc5,4,2,1,5689,,,0,"[WIP] Remove duplicated installation of python packages

This commit removes duplicated installations of python packages. This
reduces the execution time of the tempest-sanity check. And, this could
find inconsistency among each plugins.

Change-Id: I09eb9adbde1ddcaff977923c5a098304722e266b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/675513/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tempest-plugin-sanity.sh'],1,a183c4ae50bb0a567a8468d97ecf4180f7e99cc5,install-plugins-at-once," if [ ! -d ""$SANITY_DIR""/tempest_sanity ]; then ""$TVENV"" tempest init ""$SANITY_DIR""/tempest_sanity fi"," ""$TVENV"" tempest init ""$SANITY_DIR""/tempest_sanity && \ # Delete tempest workspace # NOTE: Cleaning should be done even if an error occurs. ""$TVENV"" tempest workspace remove --name tempest_sanity --rmdir # Remove the sanity workspace in case of remaining rm -fr ""$SANITY_DIR""/tempest_sanity # Remove the project directory after sanity run rm -fr ""$SANITY_DIR""/""$1""",3,8
openstack%2Ftempest~549111,openstack/tempest,master,I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa,Add test test_create_server_with_bdm_source_image,ABANDONED,2018-03-02 06:22:06.000000000,2022-12-24 05:46:10.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-03-02 06:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4676e2f9d91ec1eade46a4a7366916bb779b2ac8', 'message': 'Add test test_create_server_with_bdm_source_image\n\nWhen booting a server, block-device can be specified\nwith source type image, volume or snapshot. Now bdm source\ntype volume and snapshot have been covered in testcases,\nand this is to add coverage for source type image, for it\nis a basic function that is often required by cloud users.\n\nChange-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa\n'}, {'number': 2, 'created': '2018-08-17 03:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b99144a54700a677e47f15868ab39c36a40da13b', 'message': 'Add test test_create_server_with_bdm_source_image\n\nWhen booting a server, block-device can be specified\nwith source type image, volume or snapshot or blank.\nNow bdm source type volume and snapshot have been covered\nin testcases, and this is to add coverage for source type\nimage, for it is a basic function that is often required by\ncloud users.\n\nChange-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa\n'}, {'number': 3, 'created': '2018-08-20 03:17:59.000000000', 'files': ['tempest/api/compute/servers/test_servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85649742610c1b763d0a94adda5feb3f7fad7d13', 'message': 'Add test test_create_server_with_bdm_source_image\n\nWhen booting a server, block-device can be specified\nwith source type image, volume or snapshot or blank.\nNow bdm source type volume and snapshot have been covered\nin testcases, and this is to add coverage for source type\nimage, for it is a basic function that is often required by\ncloud users.\n\nChange-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa\n'}]",11,549111,85649742610c1b763d0a94adda5feb3f7fad7d13,29,10,3,20190,,,0,"Add test test_create_server_with_bdm_source_image

When booting a server, block-device can be specified
with source type image, volume or snapshot or blank.
Now bdm source type volume and snapshot have been covered
in testcases, and this is to add coverage for source type
image, for it is a basic function that is often required by
cloud users.

Change-Id: I24e6e7aa1cbebaf2d5e2fda4c65984f4a26bf6aa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/549111/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_servers.py'],1,4676e2f9d91ec1eade46a4a7366916bb779b2ac8,bdm_image," @decorators.idempotent_id('0d1d84b6-1dde-11e8-bc89-9840bb81373f') def test_create_server_with_bdm_source_image(self): # Create a server with bdm source type image. bdm = [{""source_type"": ""image"", ""delete_on_termination"": True, ""boot_index"": 0, ""uuid"": self.image_ref, ""volume_size"": CONF.volume.volume_size, ""destination_type"": ""volume""}] server = self.create_test_server(block_device_mapping_v2=bdm, image_id="""", wait_until='ACTIVE') server = self.client.show_server(server['id'])['server'] self.assertEmpty(server['image']) self.assertNotEmpty(server['os-extended-volumes:volumes_attached']) ",,15,0
openstack%2Ftempest~542789,openstack/tempest,master,I540cabf8b54b0cdc9237745ec54cc43f5c7234ec,Skip and not fail auto allocate test,ABANDONED,2018-02-09 11:34:06.000000000,2022-12-24 05:46:05.000000000,,"[{'_account_id': 1921}, {'_account_id': 6873}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-09 11:34:06.000000000', 'files': ['tempest/api/compute/admin/test_auto_allocate_network.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e5cb20b5240d1140787b651dc30010aa4d0d54f', 'message': 'Skip and not fail auto allocate test\n\nWhen a precondition is not met we should skip the test as opposed to fail.\n\nChange-Id: I540cabf8b54b0cdc9237745ec54cc43f5c7234ec\n'}]",1,542789,9e5cb20b5240d1140787b651dc30010aa4d0d54f,8,7,1,1921,,,0,"Skip and not fail auto allocate test

When a precondition is not met we should skip the test as opposed to fail.

Change-Id: I540cabf8b54b0cdc9237745ec54cc43f5c7234ec
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/542789/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_auto_allocate_network.py'],1,9e5cb20b5240d1140787b651dc30010aa4d0d54f,skip_on_preconditions, raise cls.skipException('Found tenant networks: %s' % nets),from tempest.lib import exceptions as lib_excs raise lib_excs.TempestException( 'Found tenant networks: %s' % nets),1,3
openstack%2Ftempest~429213,openstack/tempest,master,I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b,Remove unused variable,ABANDONED,2017-02-04 09:02:07.000000000,2022-12-24 05:46:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 10385}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-02-04 09:02:07.000000000', 'files': ['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_object_formpost.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b198161bc8e7579a90b42fde693479ca699098a4', 'message': 'Remove unused variable\n\nBaseObjectTest\'s resource_setup has ""cls.containers = []"",\nso its child needn\'t define containers, this is to remove it.\nThis is also to remove unused metadata variable.\n\nChange-Id: I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b\n'}]",1,429213,b198161bc8e7579a90b42fde693479ca699098a4,6,4,1,20190,,,0,"Remove unused variable

BaseObjectTest's resource_setup has ""cls.containers = []"",
so its child needn't define containers, this is to remove it.
This is also to remove unused metadata variable.

Change-Id: I90d2c4282c4c13d7b6f07923e3c50fbaedb0245b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/429213/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_object_formpost.py']",4,b198161bc8e7579a90b42fde693479ca699098a4,unused_variable,, metadata = {} containers = [] ,0,10
openstack%2Fgrenade~546745,openstack/grenade,master,I9f8c4d7e111a266584b6b10ac5c86c6347345010,Add neutron-api for lib/neutron enabling,ABANDONED,2018-02-21 19:15:38.000000000,2022-12-24 05:32:49.000000000,,"[{'_account_id': 4393}, {'_account_id': 4694}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-02-21 19:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/cadaf96e6edafcc7f0f0cf7ddae318229bd8dbde', 'message': 'Add neutron-api for lib/neutron enabling\n\nAs neutron and stadium projects have adopted lib/neutron for some\njobs, but still using lib/neutron-legacy for grenade jobs, just adding\na check for neutron-api, q-svc will be ready to removed only when all the\ngrenade jobs have adapted lib/neutron.\n\nChange-Id: I9f8c4d7e111a266584b6b10ac5c86c6347345010\n'}, {'number': 2, 'created': '2018-08-30 19:59:21.000000000', 'files': ['projects/50_neutron/settings'], 'web_link': 'https://opendev.org/openstack/grenade/commit/8a764aed9d7a598b9c9c2217be8b45c99d1d1862', 'message': 'Add neutron-api for lib/neutron enabling\n\nAs neutron and stadium projects have adopted lib/neutron for some\njobs, but still using lib/neutron-legacy for grenade jobs, just adding\na check for neutron-api, q-svc will be ready to removed only when all the\ngrenade jobs have adapted lib/neutron.\n\nChange-Id: I9f8c4d7e111a266584b6b10ac5c86c6347345010\n'}]",0,546745,8a764aed9d7a598b9c9c2217be8b45c99d1d1862,17,8,2,17120,,,0,"Add neutron-api for lib/neutron enabling

As neutron and stadium projects have adopted lib/neutron for some
jobs, but still using lib/neutron-legacy for grenade jobs, just adding
a check for neutron-api, q-svc will be ready to removed only when all the
grenade jobs have adapted lib/neutron.

Change-Id: I9f8c4d7e111a266584b6b10ac5c86c6347345010
",git fetch https://review.opendev.org/openstack/grenade refs/changes/45/546745/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/50_neutron/settings'],1,cadaf96e6edafcc7f0f0cf7ddae318229bd8dbde,,if is_service_enabled q-svc || is_service_enabled neutron-api; thenfi ,if is_service_enabled q-svc; thenfi,2,2
openstack%2Ftempest~780932,openstack/tempest,master,I72529bc5c4fc0f77273ab15419bec4018b0edd52,"Fix VolumesActions api tests, volume should not be shared",NEW,2021-03-16 17:20:16.000000000,2022-12-24 05:31:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22696}, {'_account_id': 22873}, {'_account_id': 27478}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-03-16 17:20:16.000000000', 'files': ['tempest/api/volume/test_volumes_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1948ecf8fe76f50c7bf0630594c80930442276b', 'message': 'Fix VolumesActions api tests, volume should not be shared\n\nThis class use a shared cinder volume and modify the status\nThe volume called by multiple testcase, each one change the volume\nstate and the volume cleaned in class level .\n\nChange the cinder volume to testcase level, before we enter to\ntestcase setUp called and created a dedicated volume per testcase.\n\nChange-Id: I72529bc5c4fc0f77273ab15419bec4018b0edd52\n'}]",1,780932,b1948ecf8fe76f50c7bf0630594c80930442276b,5,8,1,11075,,,0,"Fix VolumesActions api tests, volume should not be shared

This class use a shared cinder volume and modify the status
The volume called by multiple testcase, each one change the volume
state and the volume cleaned in class level .

Change the cinder volume to testcase level, before we enter to
testcase setUp called and created a dedicated volume per testcase.

Change-Id: I72529bc5c4fc0f77273ab15419bec4018b0edd52
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/780932/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_actions.py'],1,b1948ecf8fe76f50c7bf0630594c80930442276b,," def setUp(self): super(VolumesActionsTest, self).setUp() self.volume = self.create_volume()"," @classmethod def resource_setup(cls): super(VolumesActionsTest, cls).resource_setup() # Create a test shared volume for attach/detach tests cls.volume = cls.create_volume()",3,6
openstack%2Ftempest~845738,openstack/tempest,master,I9ba22ab48cb1737a6917479089cddf961c30efe4,Changed pip install tempest\ to sudo pip3 install tempest\,NEW,2022-06-14 12:26:14.000000000,2022-12-24 05:27:18.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:26:14.000000000', 'files': ['doc/source/overview.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c90e79efce53258d52f7365dc80d2a738d5a0c8', 'message': ' Changed pip install tempest\\ to sudo pip3 install tempest\\\n\nChange-Id: I9ba22ab48cb1737a6917479089cddf961c30efe4\n'}]",7,845738,1c90e79efce53258d52f7365dc80d2a738d5a0c8,5,2,1,34637,,,0," Changed pip install tempest\ to sudo pip3 install tempest\

Change-Id: I9ba22ab48cb1737a6917479089cddf961c30efe4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/38/845738/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/overview.rst'],1,1c90e79efce53258d52f7365dc80d2a738d5a0c8,, $ sudo pip3 install tempest/, $ pip install tempest/,1,1
openstack%2Fopenstack-ansible-ops~858211,openstack/openstack-ansible-ops,master,Ic2b5fd102033d4d474ba260b6f815da9c2254ca3,Add support for S3 backend,ABANDONED,2022-09-16 19:23:33.000000000,2022-12-24 05:04:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-16 19:23:33.000000000', 'files': ['multi-node-aio/README.rst', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/osa/user_mnaio_variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/80396272970621811ca8e80c9491717624db4ab6', 'message': 'Add support for S3 backend\n\nThis patch updates the MNAIO playbooks to add support for\nan S3 backend as long as Ceph and Swift are disabled. This\ncan speed up deployment times greatly for testing purposes\nwhen a local S3 backend is available.\n\nChange-Id: Ic2b5fd102033d4d474ba260b6f815da9c2254ca3\n'}]",0,858211,80396272970621811ca8e80c9491717624db4ab6,4,1,1,16011,,,0,"Add support for S3 backend

This patch updates the MNAIO playbooks to add support for
an S3 backend as long as Ceph and Swift are disabled. This
can speed up deployment times greatly for testing purposes
when a local S3 backend is available.

Change-Id: Ic2b5fd102033d4d474ba260b6f815da9c2254ca3
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/11/858211/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/README.rst', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/osa/user_mnaio_variables.yml']",3,80396272970621811ca8e80c9491717624db4ab6,,"# NOTE(jamesdenton): Enables Glance to utilize an external S3 endpoint {% if (osa_enable_s3_storage | bool) and not (osa_enable_object_storage | bool) and not (enable_ceph_storage | bool) %} glance_default_store: s3 glance_glance_api_conf_overrides: s3: s3_store_host: ""{{ osa_s3_store_host }}"" s3_store_access_key: ""{{ osa_s3_store_access_key }}"" s3_store_secret_key: ""{{ osa_s3_store_secret_key }}"" s3_store_bucket: ""{{ osa_s3_store_bucket }}"" {% endif %} ",,62,7
openstack%2Fos-brick~868315,openstack/os-brick,master,I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207,Get ready for tox 4,MERGED,2022-12-21 13:16:20.000000000,2022-12-24 00:35:18.000000000,2022-12-23 17:25:04.000000000,"[{'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-21 13:16:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c9b82241eab324673147a40c494f3996d03136cd', 'message': 'Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent os-brick\n  from being installed in the testenvs\n- made 4.0.0 the tox minversion\n\nThis patch makes tox 4 the default so that we can hopefully catch\nproblems locally before they block the gate.\n\nChange-Id: I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207\n'}]",4,868315,c9b82241eab324673147a40c494f3996d03136cd,14,4,1,5314,,,0,"Get ready for tox 4

Changes:
- eliminate whitespace in passenv values
- account for stricter allowlist checking
- removed skipsdist=True, which in tox 4 appears to prevent os-brick
  from being installed in the testenvs
- made 4.0.0 the tox minversion

This patch makes tox 4 the default so that we can hopefully catch
problems locally before they block the gate.

Change-Id: I9f88d024c9d7b4f2761aa4e132ee0bd5b7272207
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/15/868315/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9b82241eab324673147a40c494f3996d03136cd,tox-4-ready,"minversion = 4.0.0 # specify virtualenv here to keep local runs consistent with the # gate (it sets the versions of pip, setuptools, and wheel) requires = virtualenv>=20.17.1envlist = py3,pep8passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYallowlist_externals = {toxinidir}/tools/fast8.shcommands = {[testenv:docs]commands} {[testenv:docs]allowlist_externals}# explicitly to avoid unnecessarily installing the checked-out repo too skip_install = True","minversion = 3.18.0 skipsdist = True # python runtimes: https://governance.openstack.org/tc/reference/runtimes/ussuri.html envlist = py3,pep8passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYcommands = {[testenv:docs]commands}# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",19,9
openstack%2Fcinder~868253,openstack/cinder,master,I75e36fa100925bd486c9d4fdf8a33dd58347ce81,Get ready for tox 4,MERGED,2022-12-21 02:41:22.000000000,2022-12-23 17:25:05.000000000,2022-12-23 16:04:17.000000000,"[{'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-21 02:41:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d110b26a59230347b8d9dc3fa43063682ad6ff24', 'message': ""Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent cinder\n  from being installed in the testenvs\n- made 4.0.0 the tox minversion, which means tox will have to update\n  itself until it's available in distros, which in turn means that\n  the default install_command needs to be used in the base testenv,\n  which means a new base pyXX testenv is added to include our\n  install_command that includes upper constraints\n- added install_command to most testenvs since they don't inherit\n  the correct one from the base testenv any more\n\nNot strictly necessary for this patch, but I did them anyway:\n- moved the api-ref and releasenotes testenvs to be closer to\n  the docs testenv\n- added reno as a dep for the 'venv' testenv, which our contributor\n  docs say should be used to generate a new release note from the\n  reno template, and which has apparently been broken for a while\n\nThis patch makes tox 4 the default so that we can hopefully catch\nproblems locally before they block the gate.\n\nChange-Id: I75e36fa100925bd486c9d4fdf8a33dd58347ce81\n""}]",5,868253,d110b26a59230347b8d9dc3fa43063682ad6ff24,18,4,1,5314,,,0,"Get ready for tox 4

Changes:
- eliminate whitespace in passenv values
- account for stricter allowlist checking
- removed skipsdist=True, which in tox 4 appears to prevent cinder
  from being installed in the testenvs
- made 4.0.0 the tox minversion, which means tox will have to update
  itself until it's available in distros, which in turn means that
  the default install_command needs to be used in the base testenv,
  which means a new base pyXX testenv is added to include our
  install_command that includes upper constraints
- added install_command to most testenvs since they don't inherit
  the correct one from the base testenv any more

Not strictly necessary for this patch, but I did them anyway:
- moved the api-ref and releasenotes testenvs to be closer to
  the docs testenv
- added reno as a dep for the 'venv' testenv, which our contributor
  docs say should be used to generate a new release note from the
  reno template, and which has apparently been broken for a while

This patch makes tox 4 the default so that we can hopefully catch
problems locally before they block the gate.

Change-Id: I75e36fa100925bd486c9d4fdf8a33dd58347ce81
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/868253/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d110b26a59230347b8d9dc3fa43063682ad6ff24,tox-4-ready,"minversion = 4.0.0 # specify virtualenv here to keep local runs consistent with the # gate (it sets the versions of pip, setuptools, and wheel) requires = virtualenv>=20.17.1envlist = py3,compliance,pep8 # this environment's install command is used if the 'minversion' or 'requires' # values declared above in the [tox] section require tox to update itself, so # we don't define a non-default install_command here passenv = *_proxy *_PROXY [testenv:py{3,38,39,310,311}] # NOTE: Do not move the constraints from the install_command into deps, as that # may result in tox using unconstrained/untested dependencies. # We use ""usedevelop = True"" for tox jobs (except bindep), so tox does 2 # install calls, one for the deps and another for the cinder source code # as editable (pip -e). # Without the constraints in the install_command only the first # installation will honor the upper constraints, and the second install # for cinder itself will not know about the constraints which can result # in installing versions we don't want. # With constraints in the install_command tox will always honor our # constraints. install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}install_command = {[testenv:py3]install_command}[testenv:functional-py{3,38,39,310,311}] install_command = {[testenv:functional]install_command}install_command = {[testenv:functional]install_command}install_command = {[testenv:py3]install_command}allowlist_externals = {toxinidir}/tools/config/check_uptodate.sh {toxinidir}/tools/check_exec.pyinstall_command = {[testenv:py3]install_command} allowlist_externals = {toxinidir}/tools/fast8.shinstall_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command} deps = {[testenv]deps} reno# we intentionally put the constraints in the install_command, not the # deps ... see comment near the top of this file install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}install_command = {[testenv:docs]install_command}[testenv:api-ref] install_command = {[testenv:docs]install_command} allowlist_externals = rm deps = {[testenv:docs]deps} commands = rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html/ [testenv:releasenotes] install_command = {[testenv:docs]install_command} deps = {[testenv:docs]deps} commands = sphinx-build -a -E -W -j auto -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html install_command = {[testenv:py3]install_command}install_command = {[testenv:py3]install_command}install_command = {[testenv:bandit]install_command}# explicitly to avoid unnecessarily installing the checked-out repo too skip_install = Trueinstall_command = {[testenv:py3]install_command} allowlist_externals = {toxinidir}/tools/mypywrap.sh","minversion = 3.18.0 requires = virtualenv>=20.4.2 skipsdist = True # python runtimes: https://governance.openstack.org/tc/reference/project-testing-interface.html#tested-runtimes envlist = py3,compliance,pep8# NOTE: Do not move the constraints from the install_command into deps, as that # may result in tox using unconstrained/untested dependencies. # We use ""usedevelop = True"" for tox jobs (except bindep), so tox does 2 # install calls, one for the deps and another for the cinder source code # as editable (pip -e). # Without the constraints in the install_command only the first # installation will honor the upper constraints, and the second install # for cinder itself will not know about the constraints which can result # in installing versions we don't want. # With constraints in the install_command tox will always honor our # constraints. install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}passenv = *_proxy *_PROXY [testenv:api-ref] allowlist_externals = rm deps = {[testenv:docs]deps} commands = rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html/ [testenv:releasenotes] deps = {[testenv:docs]deps} commands = sphinx-build -a -E -W -j auto -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html[testenv:functional-py{38,39}]# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",73,32
openstack%2Fneutron~841838,openstack/neutron,master,I3811a4ca28906dd29100c602de7fa4a3595393ab,segment: enable multisegments support for host,MERGED,2022-05-16 07:11:36.000000000,2022-12-23 16:35:14.000000000,2022-12-23 16:34:03.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 07:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/209a76d95d3f5decca9f2a64f37021bf48b066d2', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 2, 'created': '2022-05-16 07:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce6fed9b80e092d9ce6665f4816b44a232d7f1fc', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 3, 'created': '2022-05-16 10:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d1193c3b855ccf25d35e3a1631ea82bde07168e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 4, 'created': '2022-05-23 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/796b346f9ce7ea004660d47365c0df1b8138c1c8', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 5, 'created': '2022-05-23 12:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb9592c33be17b08e246df06ad7e5cef41b499c3', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 6, 'created': '2022-05-23 13:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74bd7eeb54b36dad5aa8490e5940c9fc0089e42c', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 7, 'created': '2022-06-17 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68590a45316a812cf75d686e79c943e834dfcf8b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 8, 'created': '2022-06-27 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/212bb543cd055f3eda6b15c1f6a744c2d30d6fa8', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 9, 'created': '2022-06-30 17:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c7cc61f6d770480331ada6ab0726a0199e2ad93', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 10, 'created': '2022-06-30 17:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66718cbea00b6b75483b3b31c725e25bb252dbe3', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 11, 'created': '2022-07-04 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aee6bd344b973e9c625c9ff653c273f5e58e3b03', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 12, 'created': '2022-07-07 05:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e95581b3c591c4aa1952867dbe71ff2d92b421e4', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 13, 'created': '2022-07-11 07:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b7f74c4e58764b584551d2d5b3bc69a5e141fc4', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 14, 'created': '2022-07-11 12:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/113201a9736e17a889b3815b6bb9c6f58d1643f1', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 15, 'created': '2022-07-15 07:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/450a37dcdd2c8f4147c919cde2722626543261c0', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 16, 'created': '2022-07-18 09:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6951fa8bcb62690700d83d544d12d7084190fb21', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 17, 'created': '2022-07-18 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/360db896a4ea22f62726212e2839c130b4f12178', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 18, 'created': '2022-07-19 20:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09aceeda33ede66b957c04cabe5e1c1d9eb27021', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 19, 'created': '2022-07-20 05:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99403f06ec1c2a5557fac57db47ced4d6c3f4a68', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 20, 'created': '2022-07-20 20:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79c430c67b1efc5c6cc66345ba921ee148184bca', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 21, 'created': '2022-07-21 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7d2dc58d01f822e740116e9a5c2f21153d6c7fa', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 22, 'created': '2022-07-21 07:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af7d1771914ab1200e031b3198e1271f4e633d0b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 23, 'created': '2022-07-21 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92e919c9f7fd8c61e1eea9f9213808b41966697d', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 24, 'created': '2022-07-21 15:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e397130b73774867a7cd5a00d8c66707a03367a8', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 25, 'created': '2022-07-21 19:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67d338e5b4ded5d552e1e7214ce5b52129711167', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 26, 'created': '2022-07-22 06:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/842a13f62faddab26fed141d702e28dc64ee45d2', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 27, 'created': '2022-07-25 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4461db434fb18baafc2f3c4120e9257ffd0164e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 28, 'created': '2022-08-01 08:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c477283bc90c62f35a331f483fb14d8b91a6c3a6', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 29, 'created': '2022-08-01 13:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca6e5e3760e6b7b3488e5266b742c742fb9822f', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 30, 'created': '2022-08-01 13:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61ac338b40c75012ca8df4c6ab1282c18749f108', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 31, 'created': '2022-08-02 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eacd2d9c77fba0010f81a9788163b93b14b44699', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 32, 'created': '2022-08-04 15:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e8f74bb30a6d4f6dd43b0b458a37c48320626ae', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 33, 'created': '2022-08-05 06:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14a50486c10f6b949b9f7382784e90347620ad76', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 34, 'created': '2022-08-29 13:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac0f46a829920ca3748839f7e15b21dd28662657', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 35, 'created': '2022-08-30 08:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0e45c059d8df35f7b4f902975eab62d165df75', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 36, 'created': '2022-09-01 16:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7d0e876e37b0159528cc71672adae9994f79ff1', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 37, 'created': '2022-09-02 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c7425eb344dea7ddb972791c5e335f5c9ab93cd', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 38, 'created': '2022-09-20 09:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56c8d9089c66deb8c97b1926ecf0855ee63fa0af', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 39, 'created': '2022-10-03 09:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8d7162cad58bd32fac190e0fd6d68550439419e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 40, 'created': '2022-10-04 13:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/881ddc6f935fdd87a54120db542d47846038b75b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 41, 'created': '2022-10-05 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e299f079699c72285cc98a3b327e05b96c984e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 42, 'created': '2022-10-05 09:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdfc7775db436f6e62eb320593cb9d8609e1dcbb', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 43, 'created': '2022-10-05 16:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c24b91b51e169ab68c50d938bdf76b1f439f1572', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 44, 'created': '2022-10-06 08:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/655951cfad1443c9386ad7470a8a47ee91eebf3f', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 45, 'created': '2022-10-06 18:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7c801baa24763f143d9e9d3770940e52fadccff', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 46, 'created': '2022-10-10 13:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d07a1e8f32102f364745adcc0257ab389516bde9', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 47, 'created': '2022-10-11 06:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d56887ec2696f4eb23e984895684cb29afb88358', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 48, 'created': '2022-10-24 09:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75cc72180e04c18fc36563570a35d32c2b1b9523', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 49, 'created': '2022-10-27 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b41d5d9a87a23989eca8a152f5a5b34999fc637', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 50, 'created': '2022-11-04 13:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4369784468a84af46b720e8324705b4e4dd910e', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 51, 'created': '2022-11-04 14:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fbb4091fd838a9d0055ae0430302472b99ca63c', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 52, 'created': '2022-11-06 12:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/879f31bb492c498250a06c6037c480e385a539a6', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 53, 'created': '2022-11-07 08:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab5a4d464c4df4a7b92cfde456f8fa876ee0440b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 54, 'created': '2022-11-07 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91a5cb3ea4b97b47b81d074d7fc90e0092a8660d', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 55, 'created': '2022-11-08 09:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44a7f03d5e0c8e09f45add0ab0a8d81d49e0fc90', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 56, 'created': '2022-11-08 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11de4dcc58f42dc8018b2bd50487a48c01704fc0', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 57, 'created': '2022-11-08 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbaaae97b186bcf3442b05729975c77dd0d259b5', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 58, 'created': '2022-11-09 06:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/141abbc501971d1e8df92830d9d7d2bac7dccc30', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 59, 'created': '2022-11-09 08:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e72c445c806c4a3e6bb2b7cb765a80b81224c996', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 60, 'created': '2022-11-09 13:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b809ef943c8057389a6bfa2a11e067dc6632d649', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 61, 'created': '2022-11-13 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c93f981d508bf3638d65a8066e10b529c012f59d', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 62, 'created': '2022-11-13 10:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c21ccde1989541e4acdcbb9e8b60729486c35b91', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 63, 'created': '2022-11-13 21:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/471637ab5460422724f9b50a591cf1057dd25f77', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 64, 'created': '2022-11-14 08:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e90d5bd214457c36ab5d5f7e6df8f7ade70d3f8b', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 65, 'created': '2022-11-14 20:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3415c1cd5998b5facd95d7929e8f411de23f0e79', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 66, 'created': '2022-11-15 08:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b785b462deb907b59a0a9cc66797e479ab5ff43c', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 67, 'created': '2022-11-16 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f163dd2be331fb49754ac1e611ebe719a57e7bf', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 68, 'created': '2022-11-17 07:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26c57ec550d49169296b5fd0c9d7b1afa7273814', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 69, 'created': '2022-11-17 10:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23079f65e2701b62e1e81e2625f319ad7f8b96dd', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 70, 'created': '2022-11-23 07:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b114f49a3bac9be48806045bb43a0f651e5d0f59', 'message': 'segment: enable multisegments support for host\n\nThis updates replace the exception with a log message informing that\nmulti-segments is know supported by OVS only at that point.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}, {'number': 71, 'created': '2022-12-15 15:56:51.000000000', 'files': ['neutron/services/segments/exceptions.py', 'neutron/objects/subnet.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/fullstack/test_multisegs.py', 'doc/source/admin/config-routed-networks.rst', 'releasenotes/notes/multisegs-support-for-phynets-f3c710139e26558c.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be0996c30850a870f05cabc3f8b77a379e7ab9da', 'message': 'segment: enable multisegments support for host\n\nThis updates the exception with a log message informing that\nmulti-segments is supported by OVS only at that point.\n\nThis also add fullstack tests that validates multisegs deployment on a\nphysnet.\n\nCloses-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab\n'}]",93,841838,be0996c30850a870f05cabc3f8b77a379e7ab9da,364,6,71,7730,,,0,"segment: enable multisegments support for host

This updates the exception with a log message informing that
multi-segments is supported by OVS only at that point.

This also add fullstack tests that validates multisegs deployment on a
physnet.

Closes-Bug: #1956435
Partial-Bug: #1764738
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I3811a4ca28906dd29100c602de7fa4a3595393ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/841838/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/exceptions.py', 'neutron/objects/subnet.py', 'neutron/tests/unit/extensions/test_segment.py']",3,209a76d95d3f5decca9f2a64f37021bf48b066d2,segments," # multi segments supported since Zed. self.assertEqual(webob.exc.HTTPCreated.code, response.status_int) # multi segments supported since Zed. self.assertEqual(webob.exc.HTTPOk.code, response.status_int)"," self.assertEqual(webob.exc.HTTPConflict.code, response.status_int) self.assertEqual(segment_exc.HostConnectedToMultipleSegments.__name__, res['NeutronError']['type']) # Gets conflict because it can't map the host to a segment self.assertEqual(webob.exc.HTTPConflict.code, response.status_int) self.assertEqual(segment_exc.HostConnectedToMultipleSegments.__name__, res['NeutronError']['type'])",11,19
openstack%2Frbd-iscsi-client~868324,openstack/rbd-iscsi-client,master,I651f762bf6aac9679d1fd74817e7e5f201ced774,Get ready for tox 4,MERGED,2022-12-21 14:21:05.000000000,2022-12-23 16:29:16.000000000,2022-12-23 16:27:23.000000000,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-21 14:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/a3f6f49ddc21aaee9b5a10a0940bf6d5f50d18ca', 'message': ""Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent\n  rbd-iscsi-client from being installed in the testenvs\n- made 4.0.0 the tox minversion\n- updated the 'bindep' testenv so it would work if we had\n  a bindep.txt, which we currently don't\n\nThis patch makes tox 4 the default so that we can hopefully catch\nproblems locally before they block the gate.\n\nChange-Id: I651f762bf6aac9679d1fd74817e7e5f201ced774\n""}, {'number': 2, 'created': '2022-12-21 20:58:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/3f7eff31e1c07cbf43913ec92ab2bdffe79f76bb', 'message': ""Get ready for tox 4\n\nChanges:\n- eliminate whitespace in passenv values\n- account for stricter allowlist checking\n- removed skipsdist=True, which in tox 4 appears to prevent\n  rbd-iscsi-client from being installed in the testenvs\n- updated the 'bindep' testenv so it would work if we had\n  a bindep.txt, which we currently don't\n\nWe can't make tox 4 the default because tox 4 only supports python\n>=3.7, and rbd-iscsi-client still supports py3.6.  When our CI job\nfor py3.6 lands on a system whose default python is 3.6, the job\nwould fail because it couldn't install tox 4.\n\nChange-Id: I651f762bf6aac9679d1fd74817e7e5f201ced774\n""}]",5,868324,3f7eff31e1c07cbf43913ec92ab2bdffe79f76bb,14,3,2,5314,,,0,"Get ready for tox 4

Changes:
- eliminate whitespace in passenv values
- account for stricter allowlist checking
- removed skipsdist=True, which in tox 4 appears to prevent
  rbd-iscsi-client from being installed in the testenvs
- updated the 'bindep' testenv so it would work if we had
  a bindep.txt, which we currently don't

We can't make tox 4 the default because tox 4 only supports python
>=3.7, and rbd-iscsi-client still supports py3.6.  When our CI job
for py3.6 lands on a system whose default python is 3.6, the job
would fail because it couldn't install tox 4.

Change-Id: I651f762bf6aac9679d1fd74817e7e5f201ced774
",git fetch https://review.opendev.org/openstack/rbd-iscsi-client refs/changes/24/868324/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a3f6f49ddc21aaee9b5a10a0940bf6d5f50d18ca,tox-4-ready,"minversion = 4.0.0 # specify virtualenv here to keep local runs consistent with the # gate (it sets the versions of pip, setuptools, and wheel) requires = virtualenv>=20.17.1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYallowlist_externals = {toxinidir}/tools/fast8.sh# explicitly to avoid unnecessarily installing the checked-out repo too skip_install = True","minversion = 3.18.0 requires = virtualenv>=20.4.2 # python runtimes: https://governance.openstack.org/tc/reference/project-testing-interface.html#tested-runtimesskipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY# explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above).",15,7
openstack%2Fneutron~863780,openstack/neutron,master,I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7,[sqlalchemy-20] Add missing DB context decorator,MERGED,2022-11-06 22:12:00.000000000,2022-12-23 16:05:38.000000000,2022-12-23 16:04:12.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-06 22:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a637b56d2d9f58c20463ae3bbd1bdf06312463cd', 'message': '[sqlalchemy-20] Add missing DB context decorator\n\nThis fixes two queries still being executed without the context\ndecorator, which is causing warning messages.\n\nCloses-Bug: #1995738\nChange-Id: I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7\n'}, {'number': 2, 'created': '2022-12-07 11:56:26.000000000', 'files': ['neutron/quota/resource.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/234c5a376bef74bcd1af07d4be8adc69715f1af5', 'message': '[sqlalchemy-20] Add missing DB context decorator\n\nThis fixes two queries still being executed without the context\ndecorator, which is causing warning messages.\n\nCloses-Bug: #1995738\nChange-Id: I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7\n'}]",11,863780,234c5a376bef74bcd1af07d4be8adc69715f1af5,37,5,2,2424,,,0,"[sqlalchemy-20] Add missing DB context decorator

This fixes two queries still being executed without the context
decorator, which is causing warning messages.

Closes-Bug: #1995738
Change-Id: I61692e09119751ac7e19cecf6bf0b4b3a9fb38c7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/863780/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/quota/resource_registry.py']",2,a637b56d2d9f58c20463ae3bbd1bdf06312463cd,bug/1995738," with db_api.CONTEXT_WRITER.using(context): res.resync(context, tenant_id)"," res.resync(context, tenant_id)",5,3
openstack%2Fneutron~868162,openstack/neutron,master,I926d2a3ac0149c3e43dd14918521b088494afae8,"Remove deprecated ""list_moved_globals"" script",MERGED,2022-12-20 09:36:16.000000000,2022-12-23 15:57:05.000000000,2022-12-23 15:55:55.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 09:36:16.000000000', 'files': ['tools/list_moved_globals.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44ad4bb517d9e0d1e0a4386492087412131bca00', 'message': 'Remove deprecated ""list_moved_globals"" script\n\nThis script was deprecated in 2016 [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/394201\n\nChange-Id: I926d2a3ac0149c3e43dd14918521b088494afae8\n'}]",5,868162,44ad4bb517d9e0d1e0a4386492087412131bca00,19,3,1,16688,,,0,"Remove deprecated ""list_moved_globals"" script

This script was deprecated in 2016 [1].

[1]https://review.opendev.org/c/openstack/neutron/+/394201

Change-Id: I926d2a3ac0149c3e43dd14918521b088494afae8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/868162/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/list_moved_globals.py', 'tox.ini']",2,44ad4bb517d9e0d1e0a4386492087412131bca00,remove_list_moved_globals,, python ./tools/list_moved_globals.py,0,41
openstack%2Fbifrost~867838,openstack/bifrost,master,I2279b81c8d9975300be9d0bd8c035963021ce6df,Fixes for tox 4.0,MERGED,2022-12-15 18:03:41.000000000,2022-12-23 14:43:54.000000000,2022-12-23 14:42:48.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-15 18:03:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f06b8a7580b6312d61ae95ad5696d3935e12034f', 'message': 'Fixes for tox 4.0\n\n- Fixed passenv syntax\n- Removed usedevelop (not allowed with skipsdist)\n\nChange-Id: I2279b81c8d9975300be9d0bd8c035963021ce6df\n'}]",0,867838,f06b8a7580b6312d61ae95ad5696d3935e12034f,8,3,1,10342,,,0,"Fixes for tox 4.0

- Fixed passenv syntax
- Removed usedevelop (not allowed with skipsdist)

Change-Id: I2279b81c8d9975300be9d0bd8c035963021ce6df
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/867838/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f06b8a7580b6312d61ae95ad5696d3935e12034f,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,usedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = Falseusedevelop = Falseusedevelop = Falseusedevelop = Falseusedevelop = False,7,7
openstack%2Fneutron~868311,openstack/neutron,master,I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5,"Wait until local OVS DB updates Bridge ""datapath_id""",MERGED,2022-12-21 11:35:03.000000000,2022-12-23 14:15:10.000000000,2022-12-23 14:13:54.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 11:35:03.000000000', 'files': ['neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbd03c7ea593e1b2ba79ffd7c7afa0dc844202a6', 'message': 'Wait until local OVS DB updates Bridge ""datapath_id""\n\nCloses-Bug: #2000163\nChange-Id: I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5\n'}]",1,868311,cbd03c7ea593e1b2ba79ffd7c7afa0dc844202a6,13,3,1,16688,,,0,"Wait until local OVS DB updates Bridge ""datapath_id""

Closes-Bug: #2000163
Change-Id: I9c8ebbb334df89e8d5b3b80bbfba2e91d3d848f5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/868311/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_ovs_lib.py'],1,cbd03c7ea593e1b2ba79ffd7c7afa0dc844202a6,bug/2000163," def _check_datapath_id(): return True if dpid in self.br.get_datapath_id() else False # Wait until local OVS DB cache is updated. utils.wait_until_true(_check_datapath_id, timeout=5)"," self.assertIn(dpid, self.br.get_datapath_id())",5,1
openstack%2Fovn-bgp-agent~868332,openstack/ovn-bgp-agent,master,I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d,Adapt to the new fields on Load_Balancer SB DB,MERGED,2022-12-22 15:05:29.000000000,2022-12-23 13:28:18.000000000,2022-12-23 13:28:18.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-12-22 15:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/442ee73fcf9c648964bb4249c305d3e5a32a557b', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 2, 'created': '2022-12-22 15:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5efe002f5370e1bfa8f03193f563722c5cdd494f', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 3, 'created': '2022-12-22 15:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7d449e8cfffb88e3fe03364927c9332621febf71', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 4, 'created': '2022-12-22 15:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2e8d53a587544147bb0cef14c843a457b65e0077', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 5, 'created': '2022-12-22 17:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/09c644580cac8ba00fa26c09bb001d0e84f346f3', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 6, 'created': '2022-12-23 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/15823d4eb65258a2dbb8396b14aac81b86c6358a', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 7, 'created': '2022-12-23 10:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ca29f4cbb7b259ba6d8245fbf6dceead71028cf3', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 8, 'created': '2022-12-23 11:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ce36c88ef7ec3b03ca2427cfa759b1ad5bf3015f', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}, {'number': 9, 'created': '2022-12-23 12:00:00.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/85858530aa60b89391f097d9dda89fa16a4b6e90', 'message': 'Adapt to the new fields on Load_Balancer SB DB\n\nAfter [1] the Load_Balancer table at SB DB stop using the\ndatapaths field, in favor of the datapath_group.\n\nThis patch ensures this new field is processed if available\n\n[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html\n\nChange-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d\n'}]",10,868332,85858530aa60b89391f097d9dda89fa16a4b6e90,24,4,9,23567,,,0,"Adapt to the new fields on Load_Balancer SB DB

After [1] the Load_Balancer table at SB DB stop using the
datapaths field, in favor of the datapath_group.

This patch ensures this new field is processed if available

[1] https://mail.openvswitch.org/pipermail/ovs-git/2022-August/026755.html

Change-Id: I3f3f8395d56d4ff501d6ae2ad1a359defe6ab25d
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/32/868332/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py']",3,442ee73fcf9c648964bb4249c305d3e5a32a557b,ovn-lb-sb-format," if hasattr(row, 'datapath_group'): try: if row.datapath_group == old.datapath_group: return False except AttributeError: else: try: if row.datapaths == old.datapaths: return False except AttributeError: return False row_dp = [] old_dp = [] if hasattr(row, 'datapath_group'): dp = self.agent.sb_idl.get_dp_group( row.datapath_group) if dp: row_dp = dp[0].datapaths else: row_dp = row.datapaths if hasattr(old, 'datapath_group'): dp = self.agent.sb_idl.get_dp_group( old.datapath_group) if dp: old_dp = dp[0].datapaths else: old_dp = old.datapaths if cr_lrp_info.get('provider_datapath') not in row_dp: if row.name in cr_lrp_info['ovn_lbs']: ovn_lb_cr_lrp = cr_lrp_port if (subnet_dp in row_dp or subnet_dp in old_dp)] if match_subnets_datapaths: ovn_lb_cr_lrp = cr_lrp_port break if not ovn_lb_cr_lrp: if len(row_dp) == 1 and len(old_dp) > 1: if len(old_dp) == 1 and len(row_dp) > 1:"," try: if row.datapaths == old.datapaths: except AttributeError: return False provider_dp = """" if cr_lrp_info.get('provider_datapath') not in row.datapaths: match_subnets_datapaths = [ subnet_dp for subnet_dp in cr_lrp_info[ 'subnets_datapath'].values() if subnet_dp in row.datapaths] if (subnet_dp in row.datapaths or subnet_dp in old.datapaths)] if match_subnets_datapaths: provider_dp = cr_lrp_info.get('provider_datapath') ovn_lb_cr_lrp = cr_lrp_port break if not provider_dp: if len(row.datapaths) == 1 and len(old.datapaths) > 1: if len(old.datapaths) == 1 and len(row.datapaths) > 1:",84,42
openstack%2Fneutron~867977,openstack/neutron,master,I9c62d429bb819336da05055fecd08e3816986bf8,Limit tox version to <4,MERGED,2022-12-16 14:58:18.000000000,2022-12-23 12:10:35.000000000,2022-12-23 12:09:18.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-12-16 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ab71db3c0fff854a9ff97f0145285db7756b010', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}, {'number': 2, 'created': '2022-12-16 15:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca8fd56428fb07d8edee7483756d1fbb2cbad892', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}, {'number': 3, 'created': '2022-12-16 16:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d37469423e4baf9f83fcdff62c5a482c9654a1c0', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}, {'number': 4, 'created': '2022-12-19 10:21:50.000000000', 'files': ['playbooks/run_functional_job.yaml', 'playbooks/configure_functional_job.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bcaf1632f93633925a6f6bb2647b4007e2562f9', 'message': 'Limit tox version to <4\n\nThis patch is a workaround until we find why fullstack job is failing\nwith tox 4.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\nChange-Id: I9c62d429bb819336da05055fecd08e3816986bf8\n'}]",3,867977,8bcaf1632f93633925a6f6bb2647b4007e2562f9,23,5,4,16688,,,0,"Limit tox version to <4

This patch is a workaround until we find why fullstack job is failing
with tox 4.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943

Related-Bug: #1999558
Change-Id: I9c62d429bb819336da05055fecd08e3816986bf8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/867977/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run_functional_job.yaml', 'playbooks/configure_functional_job.yaml']",2,9ab71db3c0fff854a9ff97f0145285db7756b010,bug/1999558," ensure_tox_version: ""<4""",,2,0
openstack%2Fneutron~868398,openstack/neutron,stable/ussuri,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:46:04.000000000,2022-12-23 11:44:49.000000000,2022-12-23 11:43:39.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:46:04.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcaba9d791d17eccd8420bc5ee2dd330dfa299e3', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",2,868398,bcaba9d791d17eccd8420bc5ee2dd330dfa299e3,14,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/868398/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,bcaba9d791d17eccd8420bc5ee2dd330dfa299e3,bug/2000150-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Ftripleo-common~868470,openstack/tripleo-common,master,I638649e0722011ad39cc94f0cc0bfcf65cf1518b,Adapt to tox 4.x,MERGED,2022-12-23 07:18:15.000000000,2022-12-23 10:32:17.000000000,2022-12-23 10:31:16.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 07:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/645f443c7756d6924be5cf87be650adc54581ec6', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n'}, {'number': 2, 'created': '2022-12-23 08:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92ec5030bc2369a313fc565ab8b7a7d79dba2dd3', 'message': ""Adapt to tox 4.x\n\nskipdist=True does not work with latest tox 4.x.\n\nAlso, skip_install=True without any deps causes the following task\nfailure in CI.\n\nTASK [tox : Install any sibling python packages]\n...\nubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:\n'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/\npep8-siblings.txt'\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n""}, {'number': 3, 'created': '2022-12-23 09:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d203023cceec46696da4f71592aefc6b46a41dfc', 'message': ""Adapt to tox 4.x\n\nskipdist=True does not work with latest tox 4.x.\n\nAlso, skip_install=True without any deps causes the following task\nfailure in CI, because the log directory is no longer created.\n\nTASK [tox : Install any sibling python packages]\n...\nubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:\n'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/\npep8-siblings.txt'\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n""}, {'number': 4, 'created': '2022-12-23 09:51:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/93c21833829cc5731057586e9c5cb2140ea2d646', 'message': ""Adapt to tox 4.x\n\nskipdist=True does not work with latest tox 4.x.\n\nAlso, skip_install=True without any deps causes the following task\nfailure in CI, because the log directory is no longer created. This\nchange ensures we use the individual environment instead of using\na different environment.\n\nTASK [tox : Install any sibling python packages]\n...\nubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:\n'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/\npep8-siblings.txt'\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b\n""}]",2,868470,93c21833829cc5731057586e9c5cb2140ea2d646,15,2,4,9816,,,0,"Adapt to tox 4.x

skipdist=True does not work with latest tox 4.x.

Also, skip_install=True without any deps causes the following task
failure in CI, because the log directory is no longer created. This
change ensures we use the individual environment instead of using
a different environment.

TASK [tox : Install any sibling python packages]
...
ubuntu-jammy | FileNotFoundError: [Errno 2] No such file or directory:
'/home/zuul/src/opendev.org/openstack/tripleo-common/.tox/pep8/log/
pep8-siblings.txt'

Closes-Bug: #2000357
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Change-Id: I638649e0722011ad39cc94f0cc0bfcf65cf1518b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/868470/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,645f443c7756d6924be5cf87be650adc54581ec6,,,skipsdist = True,0,1
openstack%2Ftripleo-heat-templates~868475,openstack/tripleo-heat-templates,stable/wallaby,I5b3c2223b21f6546bfd327c5eadc089c05f38f29,WIP,ABANDONED,2022-12-23 08:39:44.000000000,2022-12-23 10:04:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 08:39:44.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae4cd76e0713b7835c48e7ec1aaa63f34d9f6b01', 'message': 'WIP\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860315\nChange-Id: I5b3c2223b21f6546bfd327c5eadc089c05f38f29\n'}]",0,868475,ae4cd76e0713b7835c48e7ec1aaa63f34d9f6b01,3,1,1,22954,,,0,"WIP

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860315
Change-Id: I5b3c2223b21f6546bfd327c5eadc089c05f38f29
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/868475/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ae4cd76e0713b7835c48e7ec1aaa63f34d9f6b01,bug/2000357,oslo.concurrency>=4.4.0 # Apache-2.0,,1,0
openstack%2Fovn-bgp-agent~868338,openstack/ovn-bgp-agent,master,Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd,Fix AttributeError exception due to missing old.chassis,MERGED,2022-12-23 06:57:40.000000000,2022-12-23 09:35:35.000000000,2022-12-23 09:35:35.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-12-23 06:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/24e70dd2bbaadd6f6c1878dfc15b5e980f067a1c', 'message': 'Fix AttributeError exception due to missing old.chassis\n\nIn previous code reorg this issue was introduced. When a\ntenant port gets deleted, the old row does not have information\nabout the chassis. So this needs to be used only for the UPDATE\nevents, and for the DELETE event simply use the one at the row\nbeing deleted\n\nChange-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd\n'}, {'number': 2, 'created': '2022-12-23 07:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f476f1a4c06a4b33693ea29d7e3ea08a630ac055', 'message': 'Fix AttributeError exception due to missing old.chassis\n\nIn previous code reorg this issue was introduced. When a\ntenant port gets deleted, the old row does not have information\nabout the chassis. So this needs to be used only for the UPDATE\nevents, and for the DELETE event simply use the one at the row\nbeing deleted\n\nAlso fix some problem with test-requirements at gates\n\nChange-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd\n'}, {'number': 3, 'created': '2022-12-23 08:11:34.000000000', 'files': ['ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d6a82079f49baf1f6a8da40574cadf5913076b5c', 'message': 'Fix AttributeError exception due to missing old.chassis\n\nIn previous code reorg this issue was introduced. When a\ntenant port gets deleted, the old row does not have information\nabout the chassis. So this needs to be used only for the UPDATE\nevents, and for the DELETE event simply use the one at the row\nbeing deleted\n\nChange-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd\n'}]",2,868338,d6a82079f49baf1f6a8da40574cadf5913076b5c,14,3,3,23567,,,0,"Fix AttributeError exception due to missing old.chassis

In previous code reorg this issue was introduced. When a
tenant port gets deleted, the old row does not have information
about the chassis. So this needs to be used only for the UPDATE
events, and for the DELETE event simply use the one at the row
being deleted

Change-Id: Ibde8cab5e45ff141cdcebae033909cb4bbfb90cd
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/38/868338/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py']",2,24e70dd2bbaadd6f6c1878dfc15b5e980f067a1c,," if event == self.ROW_UPDATE: chassis = old.chassis else: chassis = row.chassis self.agent.withdraw_remote_ip(ips, row, chassis)"," self.agent.withdraw_remote_ip(ips, row, old.chassis)",18,3
openstack%2Ftripleo-ansible~868469,openstack/tripleo-ansible,master,Ia3fe0e1de08f47ec434d04a5baae2b476132be19,Remove tox skipdist=True,MERGED,2022-12-23 07:01:23.000000000,2022-12-23 09:11:22.000000000,2022-12-23 09:10:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 07:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27eeed69f9aec28491e1af1a2c923b8187c1f08a', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}, {'number': 2, 'created': '2022-12-23 07:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35992f287c0bd5c543d870e9e6fba690a4051234', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}, {'number': 3, 'created': '2022-12-23 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93fffe1c010f262ecc5315661fc5efcb767d9bea', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\nAlso fixes few other issues in tox.ini.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}, {'number': 4, 'created': '2022-12-23 08:13:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/254ff2bd1ccc2c9c4afe61ed617df22448652a3e', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\nAlso fixes few other issues in tox.ini.\n\nCloses-Bug: #2000357\nChange-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19\n'}]",0,868469,254ff2bd1ccc2c9c4afe61ed617df22448652a3e,13,2,4,8833,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.
Also fixes few other issues in tox.ini.

Closes-Bug: #2000357
Change-Id: Ia3fe0e1de08f47ec434d04a5baae2b476132be19
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/868469/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,27eeed69f9aec28491e1af1a2c923b8187c1f08a,,,skipsdist = True,0,1
openstack%2Fovn-bgp-agent~868339,openstack/ovn-bgp-agent,master,I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329,Fix gates due to tox bump to tox4,MERGED,2022-12-23 08:17:11.000000000,2022-12-23 08:56:20.000000000,2022-12-23 08:56:20.000000000,"[{'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-12-23 08:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a5fcdf1c42be256ee4ca60c167b1d78b903208e1', 'message': 'Fix gates due to tox bump to tox4\n\nChange-Id: I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329\n'}, {'number': 2, 'created': '2022-12-23 08:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b7c2078a95841abd8f66ce00587dd9972844b004', 'message': 'Fix gates due to tox bump to tox4\n\nChange-Id: I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329\n'}]",0,868339,b7c2078a95841abd8f66ce00587dd9972844b004,9,3,2,23567,,,0,"Fix gates due to tox bump to tox4

Change-Id: I5dc6b7a2720be7c6f6fdb8f97dc84205bfe8c329
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/39/868339/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a5fcdf1c42be256ee4ca60c167b1d78b903208e1,,usedevelop = False skipsdist = False,usedevelop = True,2,1
openstack%2Fheat~868459,openstack/heat,master,I73c31297d5d6c6d4f87a88d64f305ef22da16379,Fix passenv for latest tox,ABANDONED,2022-12-23 03:12:39.000000000,2022-12-23 08:16:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 03:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c7c985e1a0b49d705ae482426a7ad3cd30c408fc', 'message': ""Fix passenv for latest tox\n\nIt's a list of environment variable names is not case sensitive.\n\nChange-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379\n""}, {'number': 2, 'created': '2022-12-23 03:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d8c3da00e7f2a7d1f9da6626972587aaa069d54f', 'message': ""Fix passenv for latest tox\n\nIt's a list of environment variable names is not case sensitive.\nAlso pin tox till we fix issues.\n\nChange-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379\n""}, {'number': 3, 'created': '2022-12-23 04:13:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/4a96e5f88e15848bd59664de2069b4bdedd6fa54', 'message': ""Fix passenv for latest tox\n\nIt's a list of environment variable names is not case sensitive.\nAlso removes skipdist=True.\n\nChange-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379\n""}]",0,868459,4a96e5f88e15848bd59664de2069b4bdedd6fa54,8,1,3,8833,,,0,"Fix passenv for latest tox

It's a list of environment variable names is not case sensitive.
Also removes skipdist=True.

Change-Id: I73c31297d5d6c6d4f87a88d64f305ef22da16379
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/868459/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c7c985e1a0b49d705ae482426a7ad3cd30c408fc,,passenv = http_proxy https_proxy no_proxy,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,4,1
openstack%2Ftripleo-common~868468,openstack/tripleo-common,master,I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b,DNM: Testing CI,ABANDONED,2022-12-23 06:59:57.000000000,2022-12-23 08:12:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 06:59:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ef629785c095b46e002bdf53799e13673f8d174', 'message': 'DNM: Testing CI\n\nChange-Id: I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b\n'}]",0,868468,7ef629785c095b46e002bdf53799e13673f8d174,3,1,1,9816,,,0,"DNM: Testing CI

Change-Id: I298cb578cf9fe4c0d8de7a31a28d2083c4e1d25b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/868468/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7ef629785c095b46e002bdf53799e13673f8d174,,,,1,0
openstack%2Ftripleo-puppet-elements~868473,openstack/tripleo-puppet-elements,master,I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7,DNM: Testing CI,ABANDONED,2022-12-23 07:21:13.000000000,2022-12-23 08:12:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 07:21:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a05bd0c2c4cd9b1c6c7e0aea8996ea0ee4e28c34', 'message': 'DNM: Testing CI\n\nChange-Id: I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7\n'}]",0,868473,a05bd0c2c4cd9b1c6c7e0aea8996ea0ee4e28c34,3,1,1,9816,,,0,"DNM: Testing CI

Change-Id: I4b0190ed0bcc42c8d90c10e19e7ce0edcaf20ae7
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/73/868473/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a05bd0c2c4cd9b1c6c7e0aea8996ea0ee4e28c34,,,,1,0
openstack%2Fpython-tripleoclient~868471,openstack/python-tripleoclient,master,Iccf25bd75c2d11aee54f8846c69f7797a170edaf,Remove tox skipdist=True,MERGED,2022-12-23 07:18:27.000000000,2022-12-23 08:06:13.000000000,2022-12-23 08:05:01.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 07:18:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/35f2d79eea6c5167bc86af50b0181145f3ad32b6', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nCo-Authored-By: Rabi Mishra <ramishra@redhat.com>\nChange-Id: Iccf25bd75c2d11aee54f8846c69f7797a170edaf\n'}]",0,868471,35f2d79eea6c5167bc86af50b0181145f3ad32b6,7,2,1,9816,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.

Closes-Bug: #2000357
Co-Authored-By: Rabi Mishra <ramishra@redhat.com>
Change-Id: Iccf25bd75c2d11aee54f8846c69f7797a170edaf
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/868471/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35f2d79eea6c5167bc86af50b0181145f3ad32b6,,,skipsdist = True,0,1
openstack%2Ftripleo-heat-templates~868465,openstack/tripleo-heat-templates,master,Ib0fca00c92ef56fce57eb6355cb6be36e478a744,Remove tox skipdist=True,MERGED,2022-12-23 06:30:01.000000000,2022-12-23 07:08:27.000000000,2022-12-23 07:07:28.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 06:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9fbf37c5942c0fbe17448677943c3b7e4622df8', 'message': 'Remove skipdist=True\n\nThis does not work with tox 4.0.\n\nChange-Id: Ib0fca00c92ef56fce57eb6355cb6be36e478a744\n'}, {'number': 2, 'created': '2022-12-23 06:34:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fd4519b222166edc5a02121a4a04c113ab671be', 'message': 'Remove tox skipdist=True\n\nThis does not work with latest tox 4.x.\n\nCloses-Bug: #2000357\nChange-Id: Ib0fca00c92ef56fce57eb6355cb6be36e478a744\n'}]",1,868465,7fd4519b222166edc5a02121a4a04c113ab671be,9,2,2,8833,,,0,"Remove tox skipdist=True

This does not work with latest tox 4.x.

Closes-Bug: #2000357
Change-Id: Ib0fca00c92ef56fce57eb6355cb6be36e478a744
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/868465/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9fbf37c5942c0fbe17448677943c3b7e4622df8,,,skipsdist = True,0,1
openstack%2Fpython-aodhclient~868282,openstack/python-aodhclient,stable/ussuri,Ia46259e960493c92a6701a165518ef87b03c5c2d,Don't use */* in accept header,ABANDONED,2022-12-21 13:39:17.000000000,2022-12-23 05:00:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 13:39:17.000000000', 'files': ['aodhclient/v2/base.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/25f9b09e26e76053cfc586838055be6d9663a9ea', 'message': ""Don't use */* in accept header\n\nThe response is returned as text/plain in case of exception.\nPecan 1.4 uses accept header to decide the response content type.\n\nThis also affected gnocciclient and has been fixed there.\nhttps://github.com/gnocchixyz/python-gnocchiclient/pull/110\n\nChange-Id: Ia46259e960493c92a6701a165518ef87b03c5c2d\n(cherry picked from commit dff4f153d442e442276eea0d82f87a5d4cb692fe)\n""}]",0,868282,25f9b09e26e76053cfc586838055be6d9663a9ea,3,1,1,32240,,,0,"Don't use */* in accept header

The response is returned as text/plain in case of exception.
Pecan 1.4 uses accept header to decide the response content type.

This also affected gnocciclient and has been fixed there.
https://github.com/gnocchixyz/python-gnocchiclient/pull/110

Change-Id: Ia46259e960493c92a6701a165518ef87b03c5c2d
(cherry picked from commit dff4f153d442e442276eea0d82f87a5d4cb692fe)
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/82/868282/1 && git format-patch -1 --stdout FETCH_HEAD,['aodhclient/v2/base.py'],1,25f9b09e26e76053cfc586838055be6d9663a9ea,," ""Accept"": ""application/json"","," ""Accept"": ""application/json, */*"",",1,1
openstack%2Fheat~868460,openstack/heat,master,Id68931235352fbdfc1fe9386e69d94d2823c4a83,DNN: Adapt to new tox,ABANDONED,2022-12-23 03:52:52.000000000,2022-12-23 04:18:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-23 03:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1b93db018dd3bf1288e58e1177e89620bd1d58b', 'message': 'Adapt to new tox\n\nChange-Id: Id68931235352fbdfc1fe9386e69d94d2823c4a83\n'}, {'number': 2, 'created': '2022-12-23 03:54:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/be98f324e8a630fce1a6ee5ef62571e4300b4c51', 'message': 'DNN: Adapt to new tox\n\nChange-Id: Id68931235352fbdfc1fe9386e69d94d2823c4a83\n'}]",0,868460,be98f324e8a630fce1a6ee5ef62571e4300b4c51,5,1,2,9816,,,0,"DNN: Adapt to new tox

Change-Id: Id68931235352fbdfc1fe9386e69d94d2823c4a83
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/868460/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1b93db018dd3bf1288e58e1177e89620bd1d58b,story/2010487,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Ftacker-specs~867316,openstack/tacker-specs,master,I3629f17e8df17a2947100215e4ad7556fa812124,"Fix Spec of ""Enhance Placement Process""",MERGED,2022-12-13 00:16:02.000000000,2022-12-23 01:48:00.000000000,2022-12-23 01:46:59.000000000,"[{'_account_id': 4149}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-12-13 00:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ebe41f67915b9a4d87995a5994433a54aa92dd41', 'message': 'Fix Spec of ""Enhance Placement Process"" for Antelope\n\n""Enhance Placement Process"" has the following spec changes in Antelope.\n* In AZ reselection, randomly select from unselected AZs without\n  considering Affinity/Anti-Affinity\n* Only StandardUserData is the target of reselection processing\n  (Delete the description of AutoScalingGroup)\n* Delete the configuration value for whether to reselect AZ\n\nThis patch fixes Spec for these changes.\n\nImplements: blueprint enhance-placement\nChange-Id: I3629f17e8df17a2947100215e4ad7556fa812124\n'}, {'number': 2, 'created': '2022-12-13 23:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/01a674bbd6f5594c2c05b44237e27aeedd0f6d88', 'message': 'Fix Spec of ""Enhance Placement Process"" for Antelope\n\n""Enhance Placement Process"" has the following spec changes in Antelope.\n* In AZ reselection, randomly select from unselected AZs without\n  considering Affinity/Anti-Affinity\n* Only StandardUserData is the target of reselection processing\n  (Delete the description of AutoScalingGroup)\n* Delete the configuration value for whether to reselect AZ\n\nThis patch fixes these changes and moves spec of\n""Enhance Placement Process"" to the directory for 2023.1.\n\nImplements: blueprint enhance-placement\nChange-Id: I3629f17e8df17a2947100215e4ad7556fa812124\n'}, {'number': 3, 'created': '2022-12-16 01:03:05.000000000', 'files': ['specs/2023.1/enhance_placement_process.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7cdebc97192a05e806618cb18f6468b0024d62d9', 'message': 'Fix Spec of ""Enhance Placement Process""\n\n""Enhance Placement Process"" has the following spec changes in Antelope.\n* In AZ reselection, randomly select from unselected AZs without\n  considering Affinity/Anti-Affinity\n* Only StandardUserData is the target of reselection processing\n  (Delete the description of AutoScalingGroup)\n* Delete the configuration value for whether to reselect AZ\n\nThis patch fixes these changes and moves spec of\n""Enhance Placement Process"" to the directory for 2023.1.\n\nImplements: blueprint enhance-placement\nChange-Id: I3629f17e8df17a2947100215e4ad7556fa812124\n'}]",14,867316,7cdebc97192a05e806618cb18f6468b0024d62d9,16,7,3,31668,,,0,"Fix Spec of ""Enhance Placement Process""

""Enhance Placement Process"" has the following spec changes in Antelope.
* In AZ reselection, randomly select from unselected AZs without
  considering Affinity/Anti-Affinity
* Only StandardUserData is the target of reselection processing
  (Delete the description of AutoScalingGroup)
* Delete the configuration value for whether to reselect AZ

This patch fixes these changes and moves spec of
""Enhance Placement Process"" to the directory for 2023.1.

Implements: blueprint enhance-placement
Change-Id: I3629f17e8df17a2947100215e4ad7556fa812124
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/16/867316/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhance_placement_process.rst'],1,ebe41f67915b9a4d87995a5994433a54aa92dd41,bp/enhance-placement,"The availability zone is reselected and re-create/update until there are no more candidates. .. note:: Availability zone reselection is valid only when StandardUserData is specified for the user data class.#. If a insufficient resource error occurs in 1, get the availability zone list.#. Select an availability zone (excluding the availability zone where the error occurred) from the availability zone list obtained in 2, becomes a insufficient resource error, reselect the availability zone and repeat until ""stack create/update"" succeeds or until all availability zone candidates fail. .. note:: Detecting error details are described in :ref:`4) Detection method of insufficient resource error<detection-method>`. If the error is other than insufficient resource error, the process ends(fails) without reselecting availability zones.candidates, and are reselected preferentially from unselected availability zones. .. note:: Affinity/Anti-Affinity of PlacementConstraint and resource states of availability zones are not considered during reselection.Availability zone reselection for each VNFLCM v2 API (instantiate/heal/scale for VNF) is as follows. Precondition: availability zone AZ-1/AZ-2/AZ-3/AZ-4/AZ-5 exist and VNF VDU1-0/VDU1-1/VDU2-0/VDU2-1 are deployed .. note:: VNFs in VDU1 are in the same availability zone (Affinity), and VNFs in VDU2 and VDU1/VDU2 are in different availability zones (Anti-Affinity). + Instantiate and AZ-2 have insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU1-0/1: Reselect the following (except AZ-1/AZ-2/AZ-3, select AZ-4 or AZ-5) + VDU1-0: AZ-4 + VDU1-1: AZ-4 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU2-0: Reselect the following (except AZ-2/AZ-3/AZ-4, select AZ-1 or AZ-5) + VDU1-0: AZ-4 + VDU1-1: AZ-4 + VDU2-0: AZ-5 + VDU2-1: AZ-3 .. note:: The above is an example, and the reselection target is randomly selected from unselected availability zones. + Heal(VDU1-1/VDU2-0/VDU2-1) + Before reselection, the following attempts to deploy failed (AZ-1 and AZ-2 have insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU1-1: Reselect the following (except AZ-1/AZ-2/AZ-3, select AZ-4 or AZ-5) + VDU1-0: AZ-1 + VDU1-1: AZ-4 + VDU2-0: AZ-2 + VDU2-1: AZ-3 .. note:: Only Heal target VNFs are targeted for availability zone reselection. Therefore, Affinity may not be satisfied due to the operation of reselection. + VDU2-0: Reselect the following (except AZ-1/AZ-2/AZ-3/AZ-4, select AZ-5) + VDU1-0: AZ-1 + VDU1-1: AZ-4 + VDU2-0: AZ-5 + VDU2-1: AZ-3 + Scale out(add VDU1-2/VDU1-3) + Before reselection, VDU1-3 deploy failed (AZ-1 has insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU1-2: AZ-1 + VDU1-3: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU1-2/3: Reselect the following (except AZ-1/AZ-2/AZ-3, select AZ-4 or AZ-5) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU1-2: AZ-4 + VDU1-3: AZ-4 + VDU2-0: AZ-2 + VDU2-1: AZ-3 .. note:: In the case of Affinity, even if VDU1-2 has been successfully deployed, both VDU1-2/VDU1-3 availability zones will be reselected. Existing VDU1-0/VDU1-1 will not be reselected, so all VDUs may not be in the same availability zone even in Affinity case. + Scale out(add VDU2-2/VDU2-3) + Before reselection, VDU2-3 deploy failed (AZ-5 has insufficient resource) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU2-2: AZ-4 + VDU2-3: AZ-5 + VDU2-3: Reselect the following (except AZ-5, select AZ-1 or AZ-2 or AZ-3 or AZ-4) + VDU1-0: AZ-1 + VDU1-1: AZ-1 + VDU2-0: AZ-2 + VDU2-1: AZ-3 + VDU2-2: AZ-4 + VDU2-3: AZ-1 .. note:: If there are no unselected availability zones left, randomly select a reselection target from the selected availability zones. In this case, Anti-Affinity cannot be satisfied.","The availability zone is reselected considering Affinity/Anti-Affinity and re-create/update until there are no more candidates.#. If an error occurs in 1, get the availability zone list.#. Select an availability zone (excluding the Availability Zone where the error occurred) randomly in compliance with Affinity/Anti-Affinity from the availability zone list obtained in 2, becomes an error, reselect the availability zone and repeat until ""stack create/update"" succeeds or until all availability zone candidates fail. Detecting error details are described in :ref:`4) Detection method of insufficient resource error<detection-method>`.candidates, and Availability zones are reselected randomly in compliance with Affinity/Anti-Affinity of PlacementConstraint.Availability zone reselection for each PlacementConstraint is as follows. Precondition: availability zone AZ-1/AZ-2/AZ-3 exist and VNF VDU-1/VDU-2 are deployed + PlacementConstraint is Anti-Affinity has insufficient resource) + VDU-1: AZ-1 + VDU-2: AZ-2 + Reselect the following (except AZ-1, select AZ-2/AZ-3 in compliance with Anti-Affinity) + VDU-1: AZ-2 + VDU-2: AZ-3 .. note:: The above is an example, and it is possible that the reverse availability zones are selected for VDU-1 and VDU-2, but it is guaranteed that they will not be the same availability zone. + PlacementConstraint is Affinity + Before reselection, attempt to deploy in the following and fail (AZ-1 has insufficient resource) + VDU-1: AZ-1 + VDU-2: AZ-1 + Reselect the following (except AZ-1, select AZ-2/AZ-3 in compliance with Affinity) + VDU-1: AZ-2 + VDU-2: AZ-2 .. note:: The above is an example, and it is possible that the availability zone AZ-3 is selected for VDU-1 and VDU-2, but it is guaranteed that they will be the same availability zone.5) AutoScalingGroup consideration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In BaseHOT which includes AutoScalingGroup definitions, there is a constraint that each VNFC associated with a VDU under AutoScalingGroup cannot be set to Anti-Affinity for the availability zone. This constraint is due to the constraint in the HOT specification that availability zones can only be set for each VDU under the AutoScalingGroup. This constraint occurs not only at the time of reselection, but also at the time of initial execution. Therefore, BaseHOT which includes AutoScalingGroup definitions, ignores the PlacementConstraint for each VNFC associated with a VDU and reselects a single availability zone for each VDU under the AutoScalingGroup. (Always set to Affinity.) top HOT: .. code-block:: resources: VDU1_scale_group: type: OS::Heat::AutoScalingGroup properties: min_size: 1 max_size: 3 desired_capacity: { get_param: [ nfv, VDU, VDU1, desired_capacity ] } resource: type: VDU1.yaml properties: flavor: { get_param: [ nfv, VDU, VDU1, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1-VirtualStorage, vcImageId ] } zone: { get_param: [ nfv, VDU, VDU1, locationConstraints] } net1: { get_param: [ nfv, CP, VDU1_CP1, network] } net2: { get_param: [ nfv, CP, VDU1_CP2, network ] } subnet1: { get_param: [nfv, CP, VDU1_CP1, fixed_ips, 0, subnet ]} subnet2: { get_param: [nfv, CP, VDU1_CP2, fixed_ips, 0, subnet ]} net3: { get_resource: internalVL1 } net4: { get_resource: internalVL2 } net5: { get_resource: internalVL3 } nested HOT: .. code-block:: resources: VDU1: type: OS::Nova::Server properties: flavor: { get_param: flavor } name: VDU1 block_device_mapping_v2: [{""volume_id"": { get_resource: VDU1-VirtualStorage }}] networks: - port: get_resource: VDU1_CP1 - port: get_resource: VDU1_CP2 - port: get_resource: VDU1_CP3 - port: get_resource: VDU1_CP4 - port: get_resource: VDU1_CP5 availability_zone: { get_param: zone } As shown above, top HOT specifies a single ""zone"" (availability zone) for each VDU under the AutoScalingGroup, so each VNFC associated with a VDU under the AutoScalingGroup is in the same availability zone.+ Whether or not to reselect availability zone Default value: not to reselect ",130,115
openstack%2Fovn-octavia-provider~868386,openstack/ovn-octavia-provider,stable/wallaby,I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,Fix listener provisioning_status after HM created/deleted,MERGED,2022-12-22 11:47:22.000000000,2022-12-22 21:56:04.000000000,2022-12-22 21:55:10.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:47:22.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/95b7c68e2616dd6b91a53300c4f7c256486e87e1', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)\n'}]",1,868386,95b7c68e2616dd6b91a53300c4f7c256486e87e1,12,3,1,34451,,,0,"Fix listener provisioning_status after HM created/deleted

When a HM is created/deleted over a pool, the listener related to the
pool keeps in PENDING_UPDATE status.

This patch return the correct status to Octavia API for the
listeners related to the pool, ensuring they could be modified and
not considered as inmutable.

Closes-Bug: #1999813
Change-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740
(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/86/868386/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,95b7c68e2616dd6b91a53300c4f7c256486e87e1,," self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE)",,32,1
openstack%2Fadjutant-ui~868437,openstack/adjutant-ui,master,I38dd2866d436134bfe8f2370cc251d853481bced,"Update zuul settings, drop Python 3.{6,7} support.",MERGED,2022-12-22 21:03:00.000000000,2022-12-22 21:49:24.000000000,2022-12-22 21:49:24.000000000,"[{'_account_id': 14394}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 21:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/5a87ead0ada6fd8b7f6b04b4941dbd82a10c0252', 'message': 'Update zuul settings, drop Python 3.{6,7} support.\n\nChange-Id: I38dd2866d436134bfe8f2370cc251d853481bced\n'}, {'number': 2, 'created': '2022-12-22 21:14:42.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/6fa9478b154ba07e4c70aba6c8fa6cc65450fb42', 'message': 'Update zuul settings, drop Python 3.{6,7} support.\n\nChange-Id: I38dd2866d436134bfe8f2370cc251d853481bced\n'}]",0,868437,6fa9478b154ba07e4c70aba6c8fa6cc65450fb42,8,2,2,14394,,,0,"Update zuul settings, drop Python 3.{6,7} support.

Change-Id: I38dd2866d436134bfe8f2370cc251d853481bced
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/37/868437/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'setup.cfg']",3,5a87ead0ada6fd8b7f6b04b4941dbd82a10c0252,,python-requires = >=3.8 Programming Language :: Python :: 3.9,python-requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,5,5
openstack%2Fneutron~868393,openstack/neutron,stable/zed,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:05.000000000,2022-12-22 20:29:06.000000000,2022-12-22 20:27:45.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:05.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c4005763b5dc41e2a8e363be9063b05e8f8b69e', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",1,868393,8c4005763b5dc41e2a8e363be9063b05e8f8b69e,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/868393/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,8c4005763b5dc41e2a8e363be9063b05e8f8b69e,bug/2000150-stable/zed," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron~868399,openstack/neutron,stable/train,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:46:14.000000000,2022-12-22 20:29:05.000000000,2022-12-22 20:27:49.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:46:14.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b48992d3875b7352ede3995976197272fd8482bf', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868399,b48992d3875b7352ede3995976197272fd8482bf,8,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/868399/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,b48992d3875b7352ede3995976197272fd8482bf,bug/2000150-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fpython-manilaclient~867337,openstack/python-manilaclient,master,I09313b7c55a5f9d4ec032a37e69a1d79db29d648,Support --os-key option,MERGED,2022-12-15 12:50:47.000000000,2022-12-22 19:26:00.000000000,2022-12-22 19:25:05.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-15 12:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bcc23307fd41e330ed37e1403c310a17cb4c9406', 'message': 'Support --os-key option\n\nkeystoneclient Session expects as cert argument, one of the followings:\n * None (no client certificate),\n * a path to client certificate,\n * a tuple with client certificate/key paths.\n\nThe change updates manilaclient code to support the last case (ie:\nos_cert and os_key are non-empty) with the --os-key option\nand OS_KEY environment variable.\n\nCloses-Bug: #1999775\nChange-Id: I09313b7c55a5f9d4ec032a37e69a1d79db29d648\n'}, {'number': 2, 'created': '2022-12-22 16:54:57.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'manilaclient/shell.py', 'releasenotes/notes/bug-1999775-add-os-key-0cfc95c7b480df05.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/43943fdf670328e2fe606c07949190e9e45063ae', 'message': 'Support --os-key option\n\nkeystoneclient Session expects as cert argument, one of the followings:\n * None (no client certificate),\n * a path to client certificate,\n * a tuple with client certificate/key paths.\n\nThe change updates manilaclient code to support the last case (ie:\nos_cert and os_key are non-empty) with the --os-key option\nand OS_KEY environment variable.\n\nCloses-Bug: #1999775\nChange-Id: I09313b7c55a5f9d4ec032a37e69a1d79db29d648\n'}]",4,867337,43943fdf670328e2fe606c07949190e9e45063ae,11,3,2,18816,,,0,"Support --os-key option

keystoneclient Session expects as cert argument, one of the followings:
 * None (no client certificate),
 * a path to client certificate,
 * a tuple with client certificate/key paths.

The change updates manilaclient code to support the last case (ie:
os_cert and os_key are non-empty) with the --os-key option
and OS_KEY environment variable.

Closes-Bug: #1999775
Change-Id: I09313b7c55a5f9d4ec032a37e69a1d79db29d648
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/37/867337/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'manilaclient/shell.py', 'releasenotes/notes/bug-1999775-add-os-key-0cfc95c7b480df05.yaml']",3,bcc23307fd41e330ed37e1403c310a17cb4c9406,bug/1999775,--- fixes: - | Support --os-key option and OS_KEY environment variable which allows to provide client cert and its private key separately. ,,27,5
openstack%2Fneutron~868395,openstack/neutron,stable/xena,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:36.000000000,2022-12-22 19:08:36.000000000,2022-12-22 19:07:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:36.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/779f647fc3960c75b00e65025f7e3e4d907a4948', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868395,779f647fc3960c75b00e65025f7e3e4d907a4948,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/868395/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,779f647fc3960c75b00e65025f7e3e4d907a4948,bug/2000150-stable/zed-stable/yoga-stable/xena," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron~868396,openstack/neutron,stable/wallaby,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:45.000000000,2022-12-22 19:08:30.000000000,2022-12-22 19:07:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:45.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bd24646ba3b59c62e130d40348b390f800d15ef', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868396,6bd24646ba3b59c62e130d40348b390f800d15ef,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/868396/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,6bd24646ba3b59c62e130d40348b390f800d15ef,bug/2000150-stable/zed-stable/yoga-stable/xena-stable/wallaby," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fneutron~868394,openstack/neutron,stable/yoga,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-22 15:45:21.000000000,2022-12-22 19:08:21.000000000,2022-12-22 19:07:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 15:45:21.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2acac47647ff2d7ad1d48c7b74102537f91f5ac8', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)\n""}]",0,868394,2acac47647ff2d7ad1d48c7b74102537f91f5ac8,9,3,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
(cherry picked from commit 370d8bcea3ae728c1aacba7b36800ecd759f3f8e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/868394/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,2acac47647ff2d7ad1d48c7b74102537f91f5ac8,bug/2000150-stable/zed-stable/yoga," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Fovn-octavia-provider~868384,openstack/ovn-octavia-provider,stable/yoga,I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,Fix listener provisioning_status after HM created/deleted,MERGED,2022-12-22 11:46:21.000000000,2022-12-22 18:48:33.000000000,2022-12-22 18:47:37.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:46:21.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/68947325f55527f739c0073818b9130369fb819e', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)\n'}]",0,868384,68947325f55527f739c0073818b9130369fb819e,8,3,1,34451,,,0,"Fix listener provisioning_status after HM created/deleted

When a HM is created/deleted over a pool, the listener related to the
pool keeps in PENDING_UPDATE status.

This patch return the correct status to Octavia API for the
listeners related to the pool, ensuring they could be modified and
not considered as inmutable.

Closes-Bug: #1999813
Change-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740
(cherry picked from commit 421665e2d269c47dd9cf9c55183735e3ac110dfc)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/84/868384/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,68947325f55527f739c0073818b9130369fb819e,," self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self._get_pool_listeners.stop() self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE)",,32,1
openstack%2Fneutron~867206,openstack/neutron,master,Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3,[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``,MERGED,2022-12-12 10:38:59.000000000,2022-12-22 18:24:56.000000000,2022-12-22 18:23:37.000000000,"[{'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 10:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9aa36126056b7a6853413cad8fcc065783281dca', 'message': ""[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``\n\nThis initialization method will assign the mechanism driver variable\nand will check if any of the valid drivers ('ovn', 'ovn-sync') is\nloaded. If not, the execution will stop and the\n``MechanismDriverNotFound`` exception will be raise. This exception\nis more informative than the reported error in the related bug, where\none of the expected configuration variables for the\n``OVNL3RouterPlugin`` class was not loaded.\n\nCloses-Bug: #1997970\nChange-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3\n""}, {'number': 2, 'created': '2022-12-12 14:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c65785bbcc40e5ed9c4c0b8a5ebefbebcf176437', 'message': ""[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``\n\nThis initialization method will assign the mechanism driver variable\nand will check if any of the valid drivers ('ovn', 'ovn-sync') is\nloaded. If not, the execution will stop and the\n``MechanismDriverNotFound`` exception will be raise. This exception\nis more informative than the reported error in the related bug, where\none of the expected configuration variables for the\n``OVNL3RouterPlugin`` class was not loaded.\n\nCloses-Bug: #1997970\nChange-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3\n""}, {'number': 3, 'created': '2022-12-12 14:32:13.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fd17aa8762a2602527674896b86b3989899964e', 'message': ""[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``\n\nThis initialization method will assign the mechanism driver variable\nand will check if any of the valid drivers ('ovn', 'ovn-sync') is\nloaded. If not, the execution will stop and the\n``MechanismDriverNotFound`` exception will be raise. This exception\nis more informative than the reported error in the related bug, where\none of the expected configuration variables for the\n``OVNL3RouterPlugin`` class was not loaded.\n\nCloses-Bug: #1997970\nChange-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3\n""}]",6,867206,2fd17aa8762a2602527674896b86b3989899964e,22,5,3,16688,,,0,"[OVN] Initialize the mech driver variable in ``OVNL3RouterPlugin``

This initialization method will assign the mechanism driver variable
and will check if any of the valid drivers ('ovn', 'ovn-sync') is
loaded. If not, the execution will stop and the
``MechanismDriverNotFound`` exception will be raise. This exception
is more informative than the reported error in the related bug, where
one of the expected configuration variables for the
``OVNL3RouterPlugin`` class was not loaded.

Closes-Bug: #1997970
Change-Id: Ie8e184c85528cd1b3fed624fb003a71c5e6c7af3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/867206/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,9aa36126056b7a6853413cad8fcc065783281dca,bug/1997970," self._initialize_plugin_driver() def _initialize_plugin_driver(self): # This method initializes the mechanism driver variable and checks # if any of the valid drivers ('ovn', 'ovn-sync') is loaded. drivers = ('ovn', 'ovn-sync') for driver in drivers: try: self._mech = self._plugin.mechanism_manager.mech_drivers[ driver].obj break except KeyError: pass else: raise ovn_l3_exc.MechanismDriverNotFound(mechanism_drivers=drivers) self._initialize_plugin_driver()"," drivers = ('ovn', 'ovn-sync') for driver in drivers: try: self._mech = self._plugin.mechanism_manager.mech_drivers[ driver].obj break except KeyError: pass else: raise ovn_l3_exc.MechanismDriverNotFound( mechanism_drivers=drivers)",16,11
openstack%2Fneutron~868195,openstack/neutron,stable/yoga,Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,[stable-only] Load config options importing ``common_config``,MERGED,2022-12-20 10:25:13.000000000,2022-12-22 18:24:55.000000000,2022-12-22 18:23:33.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:25:13.000000000', 'files': ['neutron/cmd/remove_duplicated_port_bindings.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/821970b716bf2b2d0c4bea860ba644173b816fc6', 'message': '[stable-only] Load config options importing ``common_config``\n\nIn newer versions (Zed+), [1] enforces to explicitly load the\nconfiguration options by calling ``register_common_config_options``\nmethod. In older releases, those options are loaded when the\nmodule ``common_config`` is loaded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/837392\n\nRelated-Bug: #1979072\nChange-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4\n'}]",0,868195,821970b716bf2b2d0c4bea860ba644173b816fc6,9,3,1,16688,,,0,"[stable-only] Load config options importing ``common_config``

In newer versions (Zed+), [1] enforces to explicitly load the
configuration options by calling ``register_common_config_options``
method. In older releases, those options are loaded when the
module ``common_config`` is loaded.

[1]https://review.opendev.org/c/openstack/neutron/+/837392

Related-Bug: #1979072
Change-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/868195/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/remove_duplicated_port_bindings.py'],1,821970b716bf2b2d0c4bea860ba644173b816fc6,bug/1979072,from neutron.common import config as common_config # noqa,from neutron.common import config as common_config common_config.register_common_config_options(),1,2
openstack%2Fneutron~868196,openstack/neutron,stable/xena,Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,[stable-only] Load config options importing ``common_config``,MERGED,2022-12-20 10:32:19.000000000,2022-12-22 18:24:48.000000000,2022-12-22 18:23:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:32:19.000000000', 'files': ['neutron/cmd/remove_duplicated_port_bindings.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a2fbd510258ffbe47073a7594261e13eef5e6db', 'message': '[stable-only] Load config options importing ``common_config``\n\nIn newer versions (Zed+), [1] enforces to explicitly load the\nconfiguration options by calling ``register_common_config_options``\nmethod. In older releases, those options are loaded when the\nmodule ``common_config`` is loaded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/837392\n\nRelated-Bug: #1979072\nChange-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4\n(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)\n'}]",0,868196,9a2fbd510258ffbe47073a7594261e13eef5e6db,9,3,1,16688,,,0,"[stable-only] Load config options importing ``common_config``

In newer versions (Zed+), [1] enforces to explicitly load the
configuration options by calling ``register_common_config_options``
method. In older releases, those options are loaded when the
module ``common_config`` is loaded.

[1]https://review.opendev.org/c/openstack/neutron/+/837392

Related-Bug: #1979072
Change-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4
(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/868196/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/remove_duplicated_port_bindings.py'],1,9a2fbd510258ffbe47073a7594261e13eef5e6db,bug/1979072,from neutron.common import config as common_config # noqa,from neutron.common import config as common_config common_config.register_common_config_options(),1,2
openstack%2Fneutron~868197,openstack/neutron,stable/wallaby,Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4,[stable-only] Load config options importing ``common_config``,MERGED,2022-12-20 10:32:35.000000000,2022-12-22 18:24:42.000000000,2022-12-22 18:23:25.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:32:35.000000000', 'files': ['neutron/cmd/remove_duplicated_port_bindings.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c94eb5e27d14ba5f69b8535cf3ee2f16c9d48de', 'message': '[stable-only] Load config options importing ``common_config``\n\nIn newer versions (Zed+), [1] enforces to explicitly load the\nconfiguration options by calling ``register_common_config_options``\nmethod. In older releases, those options are loaded when the\nmodule ``common_config`` is loaded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/837392\n\nRelated-Bug: #1979072\nChange-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4\n(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)\n'}]",0,868197,4c94eb5e27d14ba5f69b8535cf3ee2f16c9d48de,10,3,1,16688,,,0,"[stable-only] Load config options importing ``common_config``

In newer versions (Zed+), [1] enforces to explicitly load the
configuration options by calling ``register_common_config_options``
method. In older releases, those options are loaded when the
module ``common_config`` is loaded.

[1]https://review.opendev.org/c/openstack/neutron/+/837392

Related-Bug: #1979072
Change-Id: Iad4ac8cb00a11d2f6646966d37e6f9b160f8ecf4
(cherry picked from commit 821970b716bf2b2d0c4bea860ba644173b816fc6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/868197/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/remove_duplicated_port_bindings.py'],1,4c94eb5e27d14ba5f69b8535cf3ee2f16c9d48de,bug/1979072,from neutron.common import config as common_config # noqa,from neutron.common import config as common_config common_config.register_common_config_options(),1,2
openstack%2Fovn-octavia-provider~868411,openstack/ovn-octavia-provider,stable/wallaby,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-22 11:55:25.000000000,2022-12-22 18:15:27.000000000,2022-12-22 18:14:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:55:25.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3a505ed7b6ba2e9085dcc4089448df82b301185a', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member\n(port not found) and just log a warning about the issue, but\ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)\n'}]",0,868411,3a505ed7b6ba2e9085dcc4089448df82b301185a,8,3,1,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member
(port not found) and just log a warning about the issue, but
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/11/868411/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,3a505ed7b6ba2e9085dcc4089448df82b301185a,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),9,5
openstack%2Fneutron~866601,openstack/neutron,master,I3e7e6907802242cadd6e5589196006f382d11081,"[OVN] Implement abstract ""post_connect"" in ""MetadataAgentOvnSbIdl""",MERGED,2022-12-05 16:52:21.000000000,2022-12-22 17:55:38.000000000,2022-12-22 17:54:25.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-05 16:52:21.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8adb5aa9c5d4161c27a9ef994ff38ec2f20bf00', 'message': '[OVN] Implement abstract ""post_connect"" in ""MetadataAgentOvnSbIdl""\n\nImplement the abstract method ""post_connect"" in class\n""MetadataAgentOvnSbIdl"", inherited from parent class ""OvnIdl"".\n\nCloses-Bug: #1998833\nChange-Id: I3e7e6907802242cadd6e5589196006f382d11081\n'}]",1,866601,a8adb5aa9c5d4161c27a9ef994ff38ec2f20bf00,11,6,1,16688,,,0,"[OVN] Implement abstract ""post_connect"" in ""MetadataAgentOvnSbIdl""

Implement the abstract method ""post_connect"" in class
""MetadataAgentOvnSbIdl"", inherited from parent class ""OvnIdl"".

Closes-Bug: #1998833
Change-Id: I3e7e6907802242cadd6e5589196006f382d11081
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/866601/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/ovsdb.py'],1,a8adb5aa9c5d4161c27a9ef994ff38ec2f20bf00,bug/1998833, def post_connect(self): pass ,,3,0
openstack%2Fpuppet-neutron~868189,openstack/puppet-neutron,stable/zed,Iabab109d21cd0a09a75e1fd06740f7360723af48,neutron_router: Prohibit updating project_id/name,MERGED,2022-12-21 02:12:13.000000000,2022-12-22 17:33:55.000000000,2022-12-22 17:33:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 02:12:13.000000000', 'files': ['lib/puppet/provider/neutron_router/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4eeb47ce4bd37eb26aafc8d049910c1874fb624a', 'message': 'neutron_router: Prohibit updating project_id/name\n\nWe already prohibit updating tenant_id and tenant_name. Because\nthe provider does not have logic to handle the update, we should also\nprohibit updating these properties.\n\nChange-Id: Iabab109d21cd0a09a75e1fd06740f7360723af48\n(cherry picked from commit dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd)\n'}]",3,868189,4eeb47ce4bd37eb26aafc8d049910c1874fb624a,17,3,1,9816,,,0,"neutron_router: Prohibit updating project_id/name

We already prohibit updating tenant_id and tenant_name. Because
the provider does not have logic to handle the update, we should also
prohibit updating these properties.

Change-Id: Iabab109d21cd0a09a75e1fd06740f7360723af48
(cherry picked from commit dae8ec409c8b6fec9e51eb8e6e2876fe0c8c25dd)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/89/868189/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/neutron_router/openstack.rb'],1,4eeb47ce4bd37eb26aafc8d049910c1874fb624a,," :project_id, :project_name",,2,0
openstack%2Fneutron~864158,openstack/neutron,master,I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50,Rename setup-mtu-t1 argument because it is misleading,MERGED,2022-11-10 03:45:43.000000000,2022-12-22 17:29:15.000000000,2022-12-22 17:28:00.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2022-11-10 03:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca2b6d5c784ebf602c49b3ea737fd8982988fdc4', 'message': ""Rename setup-mtu-t1 argument name to make it less misleading\n\nsetup-mtu-t1 argument name is misleading as it suggest that\nit will do something with the MTU value, but it really just reduces\nDHCP agent t1 timer. The fact that this commnad will have a side\neffect of getting a new MTU value from DHCP should not be part\nof the argument name. This is based on customer's feedback.\nI am keeping backward compatibility for setup-mtu-t1 argument\nin order not to break any existing tools that might depend on it.\n\nIf you feel that this change might bring more headache than\nbenefit, then -1 | -2 this patch. Thank you\n\nChange-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50\n""}, {'number': 2, 'created': '2022-12-10 02:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08972d0dd4203f81c4e93b28e51043302b3cf310', 'message': ""Rename setup-mtu-t1 argument name to make it less misleading\n\nsetup-mtu-t1 argument name is misleading as it suggest that\nit will do something with the MTU value, but it really just reduces\nDHCP agent t1 timer. The fact that this commnad will have a side\neffect of getting a new MTU value from DHCP should not be part\nof the argument name. This is based on customer's feedback.\nI am keeping backward compatibility for setup-mtu-t1 argument\nin order not to break any existing tools that might depend on it.\n\nChange-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50\n""}, {'number': 3, 'created': '2022-12-10 03:07:04.000000000', 'files': ['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2fb0b16b66b69c48a8e6d9d304f0efe851d7566', 'message': ""Rename setup-mtu-t1 argument because it is misleading\n\nsetup-mtu-t1 argument name is misleading as it suggest that\nit will do something with the MTU value, but it really just reduces\nDHCP agent t1 timer. The fact that this commnad will have a side\neffect of getting a new MTU value from DHCP should not be part\nof the argument name. This is based on customer's feedback.\nI am keeping backward compatibility for setup-mtu-t1 argument\nin order not to break any existing tools that might depend on it.\n\nChange-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50\n""}]",5,864158,c2fb0b16b66b69c48a8e6d9d304f0efe851d7566,16,5,3,34271,,,0,"Rename setup-mtu-t1 argument because it is misleading

setup-mtu-t1 argument name is misleading as it suggest that
it will do something with the MTU value, but it really just reduces
DHCP agent t1 timer. The fact that this commnad will have a side
effect of getting a new MTU value from DHCP should not be part
of the argument name. This is based on customer's feedback.
I am keeping backward compatibility for setup-mtu-t1 argument
in order not to break any existing tools that might depend on it.

Change-Id: I939b21fa998c80cf921efeae3e8fa8c2b4ef4f50
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/864158/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,ca2b6d5c784ebf602c49b3ea737fd8982988fdc4,rename_arg," echo ""Please review the file before running the next command - reduce-dhcp-t1""reduce_dhcp_t1() { Step 2 -> ovn_migration.sh reduce-dhcp-t1 (deprecated name setup-mtu-t1) reduce-dhcp-t1 | setup-mtu-t1) if [[ $command = 'setup-mtu-t1' ]]; then echo -e ""Warning: setup-mtu-t1 argument was renamed.""\ ""Use reduce-dhcp-t1 argument instead."" fi reduce_dhcp_t1"," echo ""Please review the file before running the next command - setup-mtu-t1""setup_mtu_t1() { Step 2 -> ovn_migration.sh setup-mtu-t1 setup-mtu-t1) setup_mtu_t1",15,11
openstack%2Fovn-octavia-provider~868389,openstack/ovn-octavia-provider,stable/yoga,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-22 11:55:06.000000000,2022-12-22 17:23:18.000000000,2022-12-22 17:22:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:55:06.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/509941c6a507872bd6b84ec19cee449e452457af', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member\n(port not found) and just log a warning about the issue, but\ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)\n'}]",0,868389,509941c6a507872bd6b84ec19cee449e452457af,8,3,1,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member
(port not found) and just log a warning about the issue, but
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/89/868389/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,509941c6a507872bd6b84ec19cee449e452457af,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),9,5
openstack%2Fovn-octavia-provider~868388,openstack/ovn-octavia-provider,stable/zed,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-22 11:54:57.000000000,2022-12-22 17:22:08.000000000,2022-12-22 17:21:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-22 11:54:57.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/21d8f7cc7f6ce0692abc9fe25c4cbeb6faa966a1', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member\n(port not found) and just log a warning about the issue, but\ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)\n'}]",1,868388,21d8f7cc7f6ce0692abc9fe25c4cbeb6faa966a1,8,3,1,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member
(port not found) and just log a warning about the issue, but
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
(cherry picked from commit 548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/88/868388/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,21d8f7cc7f6ce0692abc9fe25c4cbeb6faa966a1,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),9,5
openstack%2Fneutron~868328,openstack/neutron,master,Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db,Add extra logs when checking if FIP GW port has been created,MERGED,2022-12-21 14:45:52.000000000,2022-12-22 16:55:59.000000000,2022-12-22 16:54:34.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 14:45:52.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e75c69ab6b8303194e731338a3c344932b686ea', 'message': 'Add extra logs when checking if FIP GW port has been created\n\nRelated-Bug: #2000164\nChange-Id: Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db\n'}]",0,868328,4e75c69ab6b8303194e731338a3c344932b686ea,9,3,1,16688,,,0,"Add extra logs when checking if FIP GW port has been created

Related-Bug: #2000164
Change-Id: Iaa6c727164954e3c1e9dac7e0f97d7a8b36647db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/868328/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/test_dvr_router.py'],1,4e75c69ab6b8303194e731338a3c344932b686ea,bug/2000164," def check_fg_port_created(device_name, ip_cidrs, mac, namespace): success = ip_lib.device_exists_with_ips_and_mac( device_name, ip_cidrs, mac, namespace=namespace) if success: return dev = ip_lib.IPDevice(device_name, namespace=namespace) dev_mac, dev_cidrs = dev.link.address, dev.addr.list() self.fail('Device name: %s, expected MAC: %s, expected CIDRs: %s, ' 'device MAC: %s, device CIDRs: %s' % (device_name, mac, ip_cidrs, dev_mac, dev_cidrs)) check_fg_port_created( external_gw_port['mac_address'], fip_ns_name)"," fg_port_created_successfully = ip_lib.device_exists_with_ips_and_mac( external_gw_port['mac_address'], namespace=fip_ns_name) self.assertTrue(fg_port_created_successfully)",13,4
openstack%2Ftacker~861137,openstack/tacker,master,Icb79f357dafe852888ccbf22da6702b5f2ad428b,Migrate Tacker jobs to Ubuntu Jammy (22.04),MERGED,2022-10-13 05:40:35.000000000,2022-12-22 16:34:20.000000000,2022-12-22 16:31:59.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-10-13 05:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/94f8aa48459af53d607d08c288f10d12403119b2', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 2, 'created': '2022-10-17 05:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9873befbd7c775603bbb78d6657b7fe4a00629ea', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 3, 'created': '2022-11-03 02:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7354d29555272204747dc2440fc3269e5895039a', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 4, 'created': '2022-11-04 04:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5e23bacc73d330b803601858c946606aa1b73571', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 5, 'created': '2022-11-09 15:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e354c9134d4d07aa334570a7ac974db8108bc8f', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/mistral/+/864080\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 6, 'created': '2022-11-10 09:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/03ee74bcb14005fc0f5e9efbf93e78fc1242c8be', 'message': 'WIP:Testing Tacker jobs in Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/mistral/+/864080\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 7, 'created': '2022-11-22 04:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/036704ceaaca0626f89208a2a570202799dc492a', 'message': 'Testing Tacker jobs in Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 8, 'created': '2022-11-22 05:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8b464646207c3a35e693eb4110db4e56b7683b07', 'message': 'Testing Tacker jobs in Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 9, 'created': '2022-11-22 09:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/168217b7efe44e3e877888e68f5099e7d6d2bbf8', 'message': 'Migrate Tacker jobs in Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 10, 'created': '2022-11-23 06:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e337c817b81f2acba382d29ea9932848b9ee4b1', 'message': 'Migrate Tacker jobs to Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}, {'number': 11, 'created': '2022-11-30 15:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/95253f1a1cd6b9539d787114abf0d59973c7e2c7', 'message': 'Migrate Tacker jobs to Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/866109\n'}, {'number': 12, 'created': '2022-12-06 09:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fd93e3d277adc0773402d17f417455332939a2c6', 'message': 'Migrate Tacker jobs to Ubuntu jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/866109\n'}, {'number': 13, 'created': '2022-12-15 04:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e1fe05eeb2b055cfb86ce62f72c21a9c5c7ed67a', 'message': 'Migrate Tacker jobs to Ubuntu Jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\nDepends-On: https://review.opendev.org/c/openstack/tacker/+/866109\n'}, {'number': 14, 'created': '2022-12-15 08:08:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/111d1554883ae7d1d4c2280d4b9363e4a486ced4', 'message': 'Migrate Tacker jobs to Ubuntu Jammy (22.04)\n\nAs per the 2023.1 cycle testing runtime and community goal [1],\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\nAdditionally, this patch adds new Jammy nodesets for\ntacker gate jobs.\n\nNote: Temporary disable ""Ceilometer"" as its failing tacker\ngate jobs.\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b\n'}]",41,861137,111d1554883ae7d1d4c2280d4b9363e4a486ced4,90,5,14,32102,,,0,"Migrate Tacker jobs to Ubuntu Jammy (22.04)

As per the 2023.1 cycle testing runtime and community goal [1],
we need to migrate upstream CI/CD to Ubuntu Jammy(22.04).
Additionally, this patch adds new Jammy nodesets for
tacker gate jobs.

Note: Temporary disable ""Ceilometer"" as its failing tacker
gate jobs.

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: Icb79f357dafe852888ccbf22da6702b5f2ad428b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/37/861137/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,94f8aa48459af53d607d08c288f10d12403119b2,migrate-to-jammy,- nodeset: name: openstack-4-nodes-jammy nodes: - name: controller label: ubuntu-jammy - name: controller-tacker label: ubuntu-jammy - name: compute1 label: ubuntu-jammy - name: compute2 label: ubuntu-jammy groups: # Nodes running the compute service - name: compute nodes: - compute1 - compute2 # Nodes that are not the controller - name: subnode nodes: - controller-tacker - compute1 - compute2 # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - controller-tacker - compute1 - compute2 - nodeset: name: openstack-k8s-4-nodes-jammy nodes: - name: controller label: ubuntu-jammy - name: controller-tacker label: ubuntu-jammy - name: controller-k8s label: ubuntu-jammy - name: compute1 label: ubuntu-jammy groups: - name: compute nodes: - controller-k8s - compute1 - name: subnode nodes: - controller-tacker - controller-k8s - compute1 - name: switch nodes: - controller - name: peers nodes: - controller-tacker - controller-k8s - compute1 nodeset: openstack-4-nodes-jammy nodeset: openstack-k8s-4-nodes-jammy, nodeset: openstack-4-nodes-focal nodeset: openstack-k8s-4-nodes-focal,66,2
openstack%2Fpython-manilaclient~868128,openstack/python-manilaclient,master,I2d7caa6e3c5a6a493639dc655a6722992540281e,Fix functional tests failing with python 3.10,MERGED,2022-12-19 21:00:04.000000000,2022-12-22 16:31:37.000000000,2022-12-22 16:30:29.000000000,"[{'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-19 21:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3499e93fe3fa36bee80ddc3291b31ed9f8dd3b7f', 'message': 'Fix functional tests failing with python 3.10\n\nargparse module had a change [1] in header text denoting optional\narguments. The header text now reads ""options"" instead of\n""optional arguments""\n\n[1] https://docs.python.org/3/whatsnew/3.10.html#argparse\nCloses-Bug: #2000092\n\nChange-Id: I2d7caa6e3c5a6a493639dc655a6722992540281e\n'}, {'number': 2, 'created': '2022-12-19 23:58:32.000000000', 'files': ['manilaclient/tests/functional/test_common.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cb14e965efbdda1ae55f85b4650d299f2c08d0bf', 'message': 'Fix functional tests failing with python 3.10\n\nargparse module had a change [1] in header text denoting optional\narguments. The header text now reads ""options"" instead of\n""optional arguments""\n\n[1] https://docs.python.org/3/whatsnew/3.10.html#argparse\nCloses-Bug: #2000092\n\nChange-Id: I2d7caa6e3c5a6a493639dc655a6722992540281e\n'}]",6,868128,cb14e965efbdda1ae55f85b4650d299f2c08d0bf,12,4,2,16643,,,0,"Fix functional tests failing with python 3.10

argparse module had a change [1] in header text denoting optional
arguments. The header text now reads ""options"" instead of
""optional arguments""

[1] https://docs.python.org/3/whatsnew/3.10.html#argparse
Closes-Bug: #2000092

Change-Id: I2d7caa6e3c5a6a493639dc655a6722992540281e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/28/868128/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_common.py'],1,3499e93fe3fa36bee80ddc3291b31ed9f8dd3b7f,, try: #TODO: Remove when python 3.10 becomes minimum supported version cmds_end = lines.index('Optional arguments:') except ValueError: cmds_end = lines.index('Options:'), cmds_end = lines.index('Optional arguments:'),5,1
openstack%2Fmanila-specs~330306,openstack/manila-specs,master,I3b345f396e581575a403c728136eb644565c5928,Add spec for share backup,MERGED,2016-06-16 03:16:33.000000000,2022-12-22 15:20:51.000000000,2022-12-22 15:19:52.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16203}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 19339}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32594}]","[{'number': 1, 'created': '2016-06-16 03:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/1d59ee7b026c683b3b278694aebe1059eefdcbfa', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 2, 'created': '2016-06-16 03:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/5126fd2b64a4cc4379a68aaddb5ce66beefa38b7', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 3, 'created': '2016-06-23 13:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e059d8f451418bcd99054220345e493d7ee3276c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 4, 'created': '2016-06-26 10:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/6789795cabb1368de3dfe2938e804f59aeed7c78', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 5, 'created': '2016-06-28 02:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3ba075c84f8e01b1eb94575c3df644464147abdd', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 6, 'created': '2016-07-11 12:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3e7400e704cc5f6e63ddaa40f19c65e2df49e4c6', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 7, 'created': '2017-01-08 08:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/796d545afc9f28a578808daf3a00d80597027b4c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 8, 'created': '2017-01-16 11:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/178d6f0375d6aa31575367bff9d155882f5d6d65', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 9, 'created': '2017-02-03 08:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e0f387de78d86bea02bf39975c17c1b9684abfa6', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 10, 'created': '2017-02-03 08:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/81843dc91f582f2b0ee7d26706dfeffd3c062246', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 11, 'created': '2017-02-06 02:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/9141016b297780868d3476c16781efec0dc7bac1', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 12, 'created': '2017-03-27 03:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/b84cfb99487fa8460d7a78b5e9d6c1a5e88b2a9a', 'message': 'Add spec for share backup\n\nAdd share backup and share restore features to\nmanila.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n'}, {'number': 13, 'created': '2017-03-28 02:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/cf3c4ea440aab2e432887e05c39edf3b647d3e78', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 14, 'created': '2017-03-28 08:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/aeb05688d19d6d0255a6d4ca0f82929576f91a02', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 15, 'created': '2017-09-14 02:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8d3031aa1c72c3e0465847325acc2a640c6beb5c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 16, 'created': '2022-08-12 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/079682ae21affb53803175167cf0a1b1549502a1', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 17, 'created': '2022-08-15 10:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/7d4b586ea4b0d04022f5617662620c4ba1f5e035', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 18, 'created': '2022-08-26 10:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f24dba9c9bd0abd53ad1f29037377a82b2dae965', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 19, 'created': '2022-10-11 14:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/34968498c6e4bcca81a180353829baa172407d7a', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 20, 'created': '2022-10-12 09:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/0ba6894aae9841e1e0192e847a300485c38a9698', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 21, 'created': '2022-10-13 15:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/e5789d791d6221e0d988cdd4978a87b9f98c994a', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 22, 'created': '2022-10-24 16:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a142bbe7760114f20bd00fdd6b7c52c1e083f3ef', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 23, 'created': '2022-10-26 07:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/cd55e77460e0bf5ecd98d36fdb6702b2e56a1818', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 24, 'created': '2022-11-01 15:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/08e89c1ce64fd6813c982caa565361c771ce41ce', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 25, 'created': '2022-11-03 14:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/66b2923ffa010564a654585707335bc20942d968', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 26, 'created': '2022-11-04 12:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a9fa284ae7349a666c21527af314867bf2b2cedd', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 27, 'created': '2022-11-14 14:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/4ffe6697ffa0a227dd2264d460e153571a1420e6', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 28, 'created': '2022-11-16 12:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/53569f5d88dd4181f6800df08fc0ac1bc6223dc0', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 29, 'created': '2022-11-17 08:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/04a358a6799ea100a2856ad5bab3147c9727a8ba', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 30, 'created': '2022-11-23 09:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a36a9fd359b930775d7bbd5087f554ad75f83320', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 31, 'created': '2022-11-30 18:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2ffcee5e792b165e0fe6f3b60985dac60a9aae4c', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 32, 'created': '2022-12-22 10:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/be4391601b0d91e5eb9279634287109825da5044', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 33, 'created': '2022-12-22 14:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/efd158ed7e012de5f0a5af1c92af363f2c5b1fb6', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}, {'number': 34, 'created': '2022-12-22 14:47:23.000000000', 'files': ['doc/source/index.rst', 'specs/antelope/backup_share.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/eb3ba53a44b3af01232a4e3af8dd17dfa936c5f3', 'message': ""Add spec for share backup\n\nCurrently, manila doesn't support backup and restore share features in\nmanila itself. This spec intends to make this possible.\n\nImplement: blueprint share-backup\nChange-Id: I3b345f396e581575a403c728136eb644565c5928\n""}]",366,330306,eb3ba53a44b3af01232a4e3af8dd17dfa936c5f3,147,20,34,15100,,,0,"Add spec for share backup

Currently, manila doesn't support backup and restore share features in
manila itself. This spec intends to make this possible.

Implement: blueprint share-backup
Change-Id: I3b345f396e581575a403c728136eb644565c5928
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/06/330306/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/backup_share.rst'],1,1d59ee7b026c683b3b278694aebe1059eefdcbfa,bp/share-backup,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Manila backup&restore share =========================== Blueprint: https://blueprints.launchpad.net/manila/+spec/share-backup Currently, manila doesn't support backup and restore share features in manila itself. This blueprint is for work to make this possible. Problem description =================== Today we can not backup a share in manila. These shares reside on the storage backend itself. Providing a way to backup shares directly will allow the user to protect the shares on a backup device, separately from the storage backend. Use Cases ========= There are users who have taken many shares and would like a way to protect these shares. This proposal to backup shares provides lower level of data protection. There are other projects in OpenStack focusing on data protection such as Freezer, Smaug, Raksha, etc. They are all in different stages of design, development, or adoption. The backup API in Manila is not a replacement of those projects which are doing a full blown orchestration of data protection for all resources in OpenStack. Instead, Manila APIs can be consumed by those higher level projects for data protection and can also be used directly by users who do not need those higher level projects. Proposed change =============== - A full copy of a share stored in an external service named backup driver. Provide a common interface for backup driver. The backup driver run in share data service. One data service can include multiple backup drivers. The backup driver can be configured in ''manila.conf''. :: enabled_backup_backends = backup1 [backup1] backup_driver = manila.data.drivers.test.TestBackupDriver - The supported backup driver for now is Object Storage or implement in the storage drivers. By default there is no backup driver enabled. - Add new share backup command to run backup function. It will allow the user to create, restore and delete backups as well as listing backups and showing the details of a specific backup. - Add policy_support capability, indicates that a backup driver can support policy in itself. The default value of the policy_support capability (if a driver doesn't report it) is False. Note: No new driver API will be introduced in this proposal. Steps to create a backup from share are as follows by default using the internal tenant: * Create a snapshot from the share * Allow access to snapshot * Mount the snapshot * Do backup from the snapshot * deny access to snapshot * Unmount the snapshot * Cleanup the snapshot If the driver has implemented the backup interface introduced(see the developer impact section), backing up a share will be done using the following steps: * Do backup from the share Alternatives ------------ None Data model impact ----------------- * Add one table for store share backup information The ``manila.db.sqlalchemy.models.Backups`` model will add these keys: ``id`` and ``share_id``, ``store``, ``policy_id``, ``status``, etc. DESC backups +-----------------------+--------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-----------------------+--------------+------+-----+---------+-------+ | created_at | datetime | YES | | NULL | | | updated_at | datetime | YES | | NULL | | | deleted_at | datetime | YES | | NULL | | | deleted | tinyint(1) | YES | | NULL | | | id | varchar(36) | NO | PRI | NULL | | | share_id | varchar(36) | NO | | NULL | | | user_id | varchar(255) | YES | | NULL | | | project_id | varchar(255) | YES | | NULL | | | host | varchar(255) | YES | | NULL | | | availability_zone | varchar(255) | YES | | NULL | | | display_name | varchar(255) | YES | | NULL | | | display_description | varchar(255) | YES | | NULL | | | store | varchar(255) | YES | | NULL | | | status | varchar(255) | YES | | NULL | | | fail_reason | varchar(255) | YES | | NULL | | | size | int(11) | YES | | NULL | | | object_count | int(11) | YES | | NULL | | | policy_id | varchar(255) | YES | | NULL | | | temp_share_id | varchar(36) | YES | | NULL | | | num_dependent_backups | int(11) | YES | | NULL | | | snapshot_id | varchar(36) | YES | | NULL | | | data_timestamp | datetime | YES | | NULL | | +-----------------------+--------------+------+-----+---------+-------+ * Add one table for share backup policy DESC share_backup_policys; +---------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +---------------+--------------+------+-----+---------+----------------+ | created_at | datetime | YES | | NULL | | | updated_at | datetime | YES | | NULL | | | deleted_at | datetime | YES | | NULL | | | deleted | int(11) | YES | | NULL | | | id | int(11) | NO | PRI | NULL | auto_increment | | backup_id | varchar(36) | NO | MUL | NULL | | | policy_key | varchar(255) | YES | | NULL | | | policy_value | varchar(255) | YES | | NULL | | +---------------+--------------+------+-----+---------+----------------+ * Add one table for share backup copys DESC share_backup_copys; +---------------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +---------------+--------------+------+-----+---------+----------------+ | created_at | datetime | YES | | NULL | | | updated_at | datetime | YES | | NULL | | | deleted_at | datetime | YES | | NULL | | | deleted | int(11) | YES | | NULL | | | id | int(11) | NO | PRI | NULL | auto_increment | | backup_id | varchar(36) | NO | MUL | NULL | | | policy_id | varchar(36) | NO | MUL | NULL | | | key | varchar(255) | YES | | NULL | | | value | varchar(255) | YES | | NULL | | +---------------+--------------+------+-----+---------+----------------+ REST API impact --------------- Add new manila APIs: Manila backup-create [--policy <policy>] [--max-num <max-num>] [--store <store>] [--description <description>] <share> * policy: A backup policy, It can have user-defined policy. The policy only used in backup driver that can support policy in itself. * store: Name of the backup storage. The default value is None. * max-num: The max number of backup share. * description: Backup description. Default=None. * share: Name or ID of share to backup. Manila backup-restore <backup> [<key=value> [<key=value> ...]] * backup: ID of backup to restore. * key-value: If the backup include policy, one backup may have many backup copys, so we need use key-value to decide which backup copy will be restored. Such as: time=""2016-2-3 21:12:12"", this ""2016-2-3 21:12:12"" data will be restored. **Creating a share backup**:: POST /v2/{tenant_id}/share-backups Request:: { ""share_backups"": { ""share"": ""test"", ""policy"": { ""start_time"", ""2016-5-3 21:12:12"", ""Interval"", ""3 Days"", }, ""store"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""description"": ""This is my share network"" } } Subnet details ``policy`` and ``description`` are optional. If the ``share`` is not known to manila, the API will respond with ``400 Bad Request``. If the tenant's share backup quota has exceeded, the API will respond with ``403 Forbidden``. Response:: Code: 202 Accepted { ""share_backups"": { ""share"": ""test"", ""created_at"": ""2016-06-01T21:12:12.617687"", ""id"": ""77eb3421-4549-4789-ac39-0d5185d68c29"", ""project_id"": ""e10a683c20da41248cfd5e1ab3d88c62"", ""description"": ""This is my share network"", ""store"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""updated_at"": null } } **Delete a backup**:: DELETE /v2/{tenant_id}/share-backups/{share_backup_id} If the share backup is invalid, the API will respond with ``404 Bad Request``. Response:: 202 Accepted **Summary listing of share backups**:: GET /v2/{tenant_id}/share-backups Response:: Code: 200 OK { ""share_backups"": [ { ""id"": ""77eb3421-4549-4789-ac39-0d5185d68c29"", ""name"": ""my_backup"" }, { ""id"": ""00cc3770-2558-4370-a088-de03b055dcff"", ""name"": ""my_backup_2"" } ] } **Detailed listing of share backups**:: GET /v2/{tenant_id}/share-backups/detail Response:: Code: 200 OK { ""share_backups"": [ { ""availability_zone"": ""az1"", ""store"": ""my_store"", ""created_at"": ""2016-04-02T10:35:27.000000"", ""description"": null, ""fail_reason"": null, ""id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""name"": ""my_backup"", ""size"": 1, ""status"": ""available"", ""share_id"": ""e5185058-943a-4cb4-96d9-72c184c337d6"", ""policy_id"": ""sdfsdfe5-23dc-3fe3-96d9-sdfc184csdf42"", }, { ""availability_zone"": ""az2"", ""store"": ""my_store_1"", ""created_at"": ""2016-05-02T10:35:27.000000"", ""description"": null, ""fail_reason"": null, ""id"": ""2ef47aee-8844-423c-804d-2a8efe561623"", ""name"": ""my_backup_1"", ""size"": 2, ""status"": ""available"", ""share_id"": ""e5185058-943a-4cb4-96d9-72c184c33dsd"", ""policy_id"": ""sdfsdfe5-23dc-3fe3-96d9-sdfc184csdsdd"", } ] } **listing of share backup policys for a share backup**:: GET /v2/{tenant_id}/share-backups/{share_backup_id}/backup_policys Response:: Code: 200 OK { ""backup_policys"": { ""start_time"": ""2016-05-02T10:35:27.000000"", ""interval_time"": ""2016-02-02T10:35:27.000000"", } } **listing of share backup copys for a share backup**:: GET /v2/{tenant_id}/share-backups/{share_backup_id}/backup_copys Response:: Code: 200 OK { ""backup_copys"": [ { ""backup_id"": ""e5185058-89gh-nntg-32sd-72c184c33dsd"", ""share_id"": ""e5185058-943a-4cb4-sdew-72c184c33dsd"", ""time"": ""2016-02-02T10:35:27.000000"", ... } { ""backup_id"": ""sdf32425-hgjg-jkly-8856-7sdfsdfsdf"", ""share_id"": ""dsfzxcv3-23es-wer3-345t-72c1sdfsdfssd"", ""time"": ""2016-02-02T10:35:27.000000"", ... } ] } **Delete a backup copy**:: DELETE /v2/{tenant_id}/share-backup-copys/{share_backup_copy_id} If the share backup copy is invalid, the API will respond with ``404 Bad Request``. Response:: 202 Accepted The return information could be defined by backup driver. **Restore a share backup**:: POST /v2/{tenant_id}/share-restore Request:: { ""share_restore"": { ""store"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""share"": ""test"", ""extra_specs"": { ""time"": ""2016-02-16"", }, } } Subnet details ``share`` and ``extra_specs`` are optional. If the ``share`` or ``store`` is not known to manila, the API will respond with ``400 Bad Request``. If the ``extra_specs`` is exist and backup driver did not configured policy, the API will respond with ``400 Bad Request``. Response:: 202 Accepted Driver impact ------------- Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- End user will be able to create a backup from a share. Performance Impact ------------------ None Other deployer impact --------------------- The deployer will be able to backup a share. Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: zhongjun Work Items ---------- * Implement backup-create command in python-manilaclient * Implement core feature * Implement backup-create in at least one first-party driver * Implement tempest support * Implement manila-ui support Dependencies ============ None Testing ======= * Unit tests. * Tempest tests. Documentation Impact ==================== - Docstrings. - Devref. - Security guide. - User guide. - Release notes. References ========== None ",,453,0
openstack%2Fpython-novaclient~868358,openstack/python-novaclient,master,I9432a26877ba61a2b6209ed129904b4075d94ab7,DNM force latest tox,ABANDONED,2022-12-21 15:59:05.000000000,2022-12-22 15:12:08.000000000,,"[{'_account_id': 679}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 15:59:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/284e20cc5903af539d6d1dc3e29ec6ed97dde1ca', 'message': 'DNM force latest tox\n\nThis change will test python-novaclient against tox v4 to check compatibility.\n\nChange-Id: I9432a26877ba61a2b6209ed129904b4075d94ab7\n'}]",0,868358,284e20cc5903af539d6d1dc3e29ec6ed97dde1ca,3,2,1,9708,,,0,"DNM force latest tox

This change will test python-novaclient against tox v4 to check compatibility.

Change-Id: I9432a26877ba61a2b6209ed129904b4075d94ab7
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/58/868358/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,284e20cc5903af539d6d1dc3e29ec6ed97dde1ca,force-tox-v4,- project: vars: # Ensures latest tox is installed. ensure_tox_version: '',,4,0
openstack%2Fos-vif~868357,openstack/os-vif,master,I9aa82b58a076f37f571a99d707cc364bade5e804,DNM force latest tox,ABANDONED,2022-12-21 15:55:42.000000000,2022-12-22 15:09:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 15:55:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/545f57f4daf27a787dd73c6062ea75e1704d5e29', 'message': 'DNM force latest tox\n\nThis change will test os-vif against tox v4 to check compatibility.\n\nChange-Id: I9aa82b58a076f37f571a99d707cc364bade5e804\n'}]",0,868357,545f57f4daf27a787dd73c6062ea75e1704d5e29,4,1,1,9708,,,0,"DNM force latest tox

This change will test os-vif against tox v4 to check compatibility.

Change-Id: I9aa82b58a076f37f571a99d707cc364bade5e804
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/57/868357/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,545f57f4daf27a787dd73c6062ea75e1704d5e29,force-tox-v4,- project: vars: # Ensures latest tox is installed. ensure_tox_version: '',,4,0
openstack%2Fplacement~868354,openstack/placement,master,Id49ad5a60f7f48f5718a7e102a946f452c45a41d,DNM force latest tox,ABANDONED,2022-12-21 15:52:06.000000000,2022-12-22 14:51:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 15:52:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/99786a35e318b250df7553b1b6291bef861ffb5c', 'message': 'DNM force latest tox\n\nThis change will test placement against tox v4 to check compatibility.\n\nChange-Id: Id49ad5a60f7f48f5718a7e102a946f452c45a41d\n'}]",0,868354,99786a35e318b250df7553b1b6291bef861ffb5c,3,1,1,9708,,,0,"DNM force latest tox

This change will test placement against tox v4 to check compatibility.

Change-Id: Id49ad5a60f7f48f5718a7e102a946f452c45a41d
",git fetch https://review.opendev.org/openstack/placement refs/changes/54/868354/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,99786a35e318b250df7553b1b6291bef861ffb5c,force-tox-v4, vars: # Ensures latest tox is installed. ensure_tox_version: '',,3,0
openstack%2Fkayobe~868391,openstack/kayobe,stable/wallaby,If89bb28fa2e8cc615da21893201cc438d5b6ff05,Do not fail when admin openrc file does not exist,MERGED,2022-12-22 10:26:25.000000000,2022-12-22 14:26:03.000000000,2022-12-22 14:24:57.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-22 10:26:25.000000000', 'files': ['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/03419f8d4e3024438396f6ab148e40431f4bc3f7', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)\n'}]",0,868391,03419f8d4e3024438396f6ab148e40431f4bc3f7,9,4,1,14826,,,0,"Do not fail when admin openrc file does not exist

Change-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05
Story: 2009323
Task: 43745
(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/868391/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml']",2,03419f8d4e3024438396f6ab148e40431f4bc3f7,, when: (kolla_config_path ~ '/admin-openrc.sh') is exists when: admin_openrc is not skipped,,10,0
openstack%2Fkayobe~868390,openstack/kayobe,stable/xena,If89bb28fa2e8cc615da21893201cc438d5b6ff05,Do not fail when admin openrc file does not exist,MERGED,2022-12-22 10:26:03.000000000,2022-12-22 13:45:57.000000000,2022-12-22 13:44:58.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-22 10:26:03.000000000', 'files': ['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e6f224f92bd9048fe856337f8a686e5e44060927', 'message': 'Do not fail when admin openrc file does not exist\n\nChange-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05\nStory: 2009323\nTask: 43745\n(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)\n'}]",0,868390,e6f224f92bd9048fe856337f8a686e5e44060927,9,4,1,14826,,,0,"Do not fail when admin openrc file does not exist

Change-Id: If89bb28fa2e8cc615da21893201cc438d5b6ff05
Story: 2009323
Task: 43745
(cherry picked from commit 73cb007ab955b97fd1d64c8c842dde90d84d0c1e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/868390/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-failure-to-generate-openrc-when-using-tags-c8e554173e0b9ac3.yaml', 'ansible/roles/public-openrc/tasks/main.yml']",2,e6f224f92bd9048fe856337f8a686e5e44060927,, when: (kolla_config_path ~ '/admin-openrc.sh') is exists when: admin_openrc is not skipped,,10,0
openstack%2Fneutron~868364,openstack/neutron,master,I8c6d226e626812c3ccf0a2681be68a5b080b3463,[Fullstack] Wait 10 seconds to ensure that MAC address is configured,MERGED,2022-12-21 16:59:18.000000000,2022-12-22 12:49:50.000000000,2022-12-22 12:48:26.000000000,"[{'_account_id': 5948}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 16:59:18.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/370d8bcea3ae728c1aacba7b36800ecd759f3f8e', 'message': ""[Fullstack] Wait 10 seconds to ensure that MAC address is configured\n\nIn Linuxbridge and OVS PortFixture, when port is created, in the fake\nvm's namespace it needs to have correct mac address configured.\nIt seems that for some reason it's not properly configured sometimes and\nthat may cause failure of e.g. DHCP tests.\nSo this patch adds retries for 10 seconds to ensure that MAC address is\nconfigured to the one which should be.\n\nCloses-bug: #2000150\nChange-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463\n""}]",2,868364,370d8bcea3ae728c1aacba7b36800ecd759f3f8e,15,4,1,11975,,,0,"[Fullstack] Wait 10 seconds to ensure that MAC address is configured

In Linuxbridge and OVS PortFixture, when port is created, in the fake
vm's namespace it needs to have correct mac address configured.
It seems that for some reason it's not properly configured sometimes and
that may cause failure of e.g. DHCP tests.
So this patch adds retries for 10 seconds to ensure that MAC address is
configured to the one which should be.

Closes-bug: #2000150
Change-Id: I8c6d226e626812c3ccf0a2681be68a5b080b3463
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/868364/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,370d8bcea3ae728c1aacba7b36800ecd759f3f8e,bug/2000150," def set_port_mac_address(self): def set_mac_address(): self.port.link.set_address(self.mac) return self.port.link.address.lower() == self.mac.lower() try: common_utils.wait_until_true(set_mac_address, timeout=10) except common_utils.WaitTimeout: LOG.error(""MAC address of the port %s not set properly. "" ""Requested MAC: %s; Actual MAC: %s"", self.port, self.mac, self.port.link.address) self.set_port_mac_address() self.set_port_mac_address()", self.port.link.set_address(self.mac) if self.mac: self.port.link.set_address(self.mac),15,3
openstack%2Ftripleo-ansible~858894,openstack/tripleo-ansible,stable/wallaby,I3209688eabfdb507f924f86c55ebbf6526ce7ef7,Support role specific ContainerImagePrepare,MERGED,2022-09-22 12:25:35.000000000,2022-12-22 12:31:31.000000000,2022-12-22 12:30:29.000000000,"[{'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30073}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-22 12:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c5759a435cb0679e09f520759c72016fc7f76cd', 'message': ""WIP: Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nChange-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7\n""}, {'number': 2, 'created': '2022-09-27 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/311995a5345fdd1f12bb50f035d827c2161542a6', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nChange-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7\n(cherry picked from commit 21a694b5e595aa68cd1a35f86a7bc200bdf8b95f)\n""}, {'number': 3, 'created': '2022-12-21 11:27:42.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a09f2377e3e441ce7b9c8b2045b312af6d572427', 'message': ""Support role specific ContainerImagePrepare\n\nThis implements partial support for overriding the ContainerImaePrepare\nparameter for individual roles, so that users can use different set\nof images for each role.\n\nexample:\nparameter_defaults:\n  ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos9\n        ...\n  ComputeEl8ContainerImagePrepare:\n    - push_destination: true\n      set:\n        name_prefix: openstack-\n        name_suffix: ''\n        namespace: quay.io/repository/tripleowallabycentos8\n        ...\n\nChange-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7\n(cherry picked from commit 21a694b5e595aa68cd1a35f86a7bc200bdf8b95f)\n""}]",1,858894,a09f2377e3e441ce7b9c8b2045b312af6d572427,22,7,3,11166,,,0,"Support role specific ContainerImagePrepare

This implements partial support for overriding the ContainerImaePrepare
parameter for individual roles, so that users can use different set
of images for each role.

example:
parameter_defaults:
  ContainerImagePrepare:
    - push_destination: true
      set:
        name_prefix: openstack-
        name_suffix: ''
        namespace: quay.io/repository/tripleowallabycentos9
        ...
  ComputeEl8ContainerImagePrepare:
    - push_destination: true
      set:
        name_prefix: openstack-
        name_suffix: ''
        namespace: quay.io/repository/tripleowallabycentos8
        ...

Change-Id: I3209688eabfdb507f924f86c55ebbf6526ce7ef7
(cherry picked from commit 21a694b5e595aa68cd1a35f86a7bc200bdf8b95f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/858894/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py'],1,1c5759a435cb0679e09f520759c72016fc7f76cd,role-image-prepare-stable/wallaby,"import copy for role in roles_data: # NOTE(tkajinam): If a role-specific container image prepare # parameter is set, run the image prepare process # with the overridden environment role_param = '%sContainerImagePrepare' % role['name'] if env.get('parameter_defaults', {}).get(role_param): tmp_env = copy.deepcopy(env) tmp_env['parameter_defaults']['ContainerImagePrepare'] = ( env['parameter_defaults'][role_param] ) # NOTE(tkajinam): Put the image parameters as role-specific # parameters params['%sParameters' % role['name']] = ( kolla_builder.container_images_prepare_multi( tmp_env, [role], cleanup=cleanup, dry_run=dry_run, lock=lock) ) ",,20,0
openstack%2Ftripleo-heat-templates~867021,openstack/tripleo-heat-templates,stable/train,I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587,[ML2 OVN] Add OVNOvsdbProbeInterval parameter,MERGED,2022-12-08 19:18:57.000000000,2022-12-22 12:01:08.000000000,2022-12-22 12:00:13.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-08 19:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7de18a5afc8e9a4f1de9d257e90a431dd28511f', 'message': '[ML2 OVN] Add OVNOvsdbProbeInterval parameter\n\nThe parameter can be used to configure\n`ovsdb_probe_interval` for neutron ml2 plugin\nand ovn metadata agent.\n\nDepends-On:https://review.opendev.org/c/openstack/puppet-neutron/+/867020\nDepends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867017\nRelated-Bug: rhbz#2105312\nChange-Id: I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587\n(cherry picked from commit 6617f0e5258dba3127cd1dfdad0049d3590ff443)\n(cherry picked from commit cf26537723b54532d104ff052029beb27fc322f5)\n'}, {'number': 2, 'created': '2022-12-08 19:30:38.000000000', 'files': ['releasenotes/notes/add-param-ovn-ovsdb-probe-interval-243e66290a72eb3c.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1c0e111811a908adc6eac5767ec496ad884fc8f', 'message': '[ML2 OVN] Add OVNOvsdbProbeInterval parameter\n\nThe parameter can be used to configure\n`ovsdb_probe_interval` for neutron ml2 plugin\nand ovn metadata agent.\n\nConflicts:\ndeployment/neutron/neutron-plugin-ml2-ovn.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867020\nDepends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867017\nRelated-Bug: rhbz#2105312\nChange-Id: I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587\n(cherry picked from commit 6617f0e5258dba3127cd1dfdad0049d3590ff443)\n(cherry picked from commit cf26537723b54532d104ff052029beb27fc322f5)\n'}]",1,867021,c1c0e111811a908adc6eac5767ec496ad884fc8f,14,5,2,34271,,,0,"[ML2 OVN] Add OVNOvsdbProbeInterval parameter

The parameter can be used to configure
`ovsdb_probe_interval` for neutron ml2 plugin
and ovn metadata agent.

Conflicts:
deployment/neutron/neutron-plugin-ml2-ovn.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867020
Depends-On: https://review.opendev.org/c/openstack/puppet-neutron/+/867017
Related-Bug: rhbz#2105312
Change-Id: I5fc94ad27205979b18c4ab8d4bcbe3a01f14d587
(cherry picked from commit 6617f0e5258dba3127cd1dfdad0049d3590ff443)
(cherry picked from commit cf26537723b54532d104ff052029beb27fc322f5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/867021/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-param-ovn-ovsdb-probe-interval-243e66290a72eb3c.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml']",3,b7de18a5afc8e9a4f1de9d257e90a431dd28511f,ovn-tunables,"<<<<<<< HEAD (49bd1a Merge ""Remove the python3-openclient and add a new task."" in)======= OVNOvsdbProbeInterval: description: Probe interval in ms for the OVSDB session type: number default: 60000 >>>>>>> CHANGE (cf2653 [ML2 OVN] Add OVNOvsdbProbeInterval parameter) neutron::plugins::ml2::ovn::ovsdb_probe_interval: {get_param: OVNOvsdbProbeInterval}",,19,0
openstack%2Fgrenade~867092,openstack/grenade,master,Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557,Update the rootwrap config when upgrading Neutron,MERGED,2022-12-09 10:25:28.000000000,2022-12-22 11:48:51.000000000,2022-12-22 11:47:51.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-12-09 10:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/619f7dc44f2e58bfb70746f920b38adceff0a7ac', 'message': 'Update the rootwrap config when upgrading Neutron\n\nAs reported in the related bug, the rootwrap filters are not updated\nbetween versions. This patch calls the devstack method that setups\nthe Neutron rootwrap configuration and filters.\n\nCloses-Bug: #1999235\nChange-Id: Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557\n'}, {'number': 2, 'created': '2022-12-21 17:10:42.000000000', 'files': ['projects/50_neutron/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/7c3144ce84f9b0c206598e3a8298d1046afcd85a', 'message': 'Update the rootwrap config when upgrading Neutron\n\nAs reported in the related bug, the rootwrap filters are not updated\nbetween versions. This patch calls the devstack method that setups\nthe Neutron rootwrap configuration and filters.\n\nCloses-Bug: #1999235\nChange-Id: Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557\n'}]",9,867092,7c3144ce84f9b0c206598e3a8298d1046afcd85a,19,7,2,16688,,,0,"Update the rootwrap config when upgrading Neutron

As reported in the related bug, the rootwrap filters are not updated
between versions. This patch calls the devstack method that setups
the Neutron rootwrap configuration and filters.

Closes-Bug: #1999235
Change-Id: Iaebf1b33ccf3bfd64191f9a898408bcfe11dd557
",git fetch https://review.opendev.org/openstack/grenade refs/changes/92/867092/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/50_neutron/upgrade.sh'],1,619f7dc44f2e58bfb70746f920b38adceff0a7ac,bug/1999235,"# Update the rootwrap configuration # NOTE(ralonsoh): make this method public in ""devstack"". _neutron_setup_rootwrap ",,4,0
openstack%2Fovn-octavia-provider~867974,openstack/ovn-octavia-provider,master,I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740,Fix listener provisioning_status after HM created/deleted,MERGED,2022-12-16 14:20:57.000000000,2022-12-22 11:36:37.000000000,2022-12-22 11:35:40.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-16 14:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7f271ed78df2071a5c09346672044dc4bd7863ba', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlistener related to the pool, ensuring it could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}, {'number': 2, 'created': '2022-12-16 15:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e38351f24b94ab719e2abf76dee9c14720b3919a', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlistener related to the pool, ensuring it could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}, {'number': 3, 'created': '2022-12-19 15:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4ffbc31fb43f073df73150a8e8fa23df7b6341d9', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}, {'number': 4, 'created': '2022-12-20 15:04:41.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/421665e2d269c47dd9cf9c55183735e3ac110dfc', 'message': 'Fix listener provisioning_status after HM created/deleted\n\nWhen a HM is created/deleted over a pool, the listener related to the\npool keeps in PENDING_UPDATE status.\n\nThis patch return the correct status to Octavia API for the\nlisteners related to the pool, ensuring they could be modified and\nnot considered as inmutable.\n\nCloses-Bug: #1999813\nChange-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740\n'}]",12,867974,421665e2d269c47dd9cf9c55183735e3ac110dfc,33,3,4,34451,,,0,"Fix listener provisioning_status after HM created/deleted

When a HM is created/deleted over a pool, the listener related to the
pool keeps in PENDING_UPDATE status.

This patch return the correct status to Octavia API for the
listeners related to the pool, ensuring they could be modified and
not considered as inmutable.

Closes-Bug: #1999813
Change-Id: I4f6e4a8acb7c7bb030aaadc6875894d6fc00d740
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/74/867974/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,7f271ed78df2071a5c09346672044dc4bd7863ba,bug/1999813," self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE)",,25,0
openstack%2Ftripleo-ansible~868276,openstack/tripleo-ansible,stable/zed,Ied6fb63ec197cc318143203b4dcb608b42408698,Fix indentation error,MERGED,2022-12-21 10:31:26.000000000,2022-12-22 10:16:58.000000000,2022-12-22 10:16:58.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-21 10:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb033dff6ab829f30174fad498cb6f213eed2e27', 'message': 'Fix indentation error\n\nChange-Id: Ied6fb63ec197cc318143203b4dcb608b42408698\n(cherry picked from commit 8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14)\n'}, {'number': 2, 'created': '2022-12-21 10:32:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cae60300d8c5a90d981ef3afd35771c29f0f474', 'message': 'Fix indentation error\n\nChange-Id: Ied6fb63ec197cc318143203b4dcb608b42408698\n(cherry picked from commit 8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14)\n'}]",0,868276,6cae60300d8c5a90d981ef3afd35771c29f0f474,9,3,2,5241,,,0,"Fix indentation error

Change-Id: Ied6fb63ec197cc318143203b4dcb608b42408698
(cherry picked from commit 8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/868276/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'],1,bb033dff6ab829f30174fad498cb6f213eed2e27,indent-error-stable/zed,"<<<<<<< HEAD (af2dbb Merge ""Fix molecule failures in tripleo_collectd"" into stabl) ======= --- # Note: Previous versions of TripleO used log file with podman exec specific data # to provide health check execution results to sensubility. This serves for # cleanup of unneeded rsyslog configuration since sensubility is fetching # data straight from podman socket - name: remove unneeded podman-related rsyslog configuration ansible.builtin.file: path: /etc/rsyslog.d/openstack-healthcheck.conf state: absent ignore_errors: yes register: rmcfg - when: rmcfg is changed service: name: rsyslog state: restarted >>>>>>> CHANGE (8f6f79 Fix indentation error) ",,20,0
openstack%2Fkolla-ansible~867349,openstack/kolla-ansible,master,I9616d1d7a52a4b3ee565dec59940cdc7e9450f67,fix bug 2000280: cleanup error when deployment node and control node are not on the same node.,NEW,2022-12-21 08:24:01.000000000,2022-12-22 09:55:01.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-21 08:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/964ff787ab87573089b0e708a2b8aa60d9499f70', 'message': 'fix cleanup error when deployment node and control node are not on the same node.\n\nWhen the deployment node is separated from the control node, only the kolla-ansible tool is installed on the deployment node, and the docker service is not installed. At this time, the cloud platform can be deployed normally, but when the command ""kolla-ansible destroy"" is used to clean up the environment, an error about docker command is reported on the deployment node.\n\nChange-Id: I9616d1d7a52a4b3ee565dec59940cdc7e9450f67\n'}, {'number': 2, 'created': '2022-12-22 02:58:17.000000000', 'files': ['ansible/roles/destroy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/025b39b6b118895301535ec973f964981f42bf3b', 'message': 'fix bug 2000280: cleanup error when deployment node and control node are not on the same node.\n\nWhen the deployment node is separated from the control node, only the kolla-ansible tool is installed on the deployment node, and the docker service is not installed. At this time, the cloud platform can be deployed normally, but when the command ""kolla-ansible destroy"" is used to clean up the environment, an error about docker command is reported on the deployment node.\n\nChange-Id: I9616d1d7a52a4b3ee565dec59940cdc7e9450f67\n'}]",5,867349,025b39b6b118895301535ec973f964981f42bf3b,10,3,2,26498,,,0,"fix bug 2000280: cleanup error when deployment node and control node are not on the same node.

When the deployment node is separated from the control node, only the kolla-ansible tool is installed on the deployment node, and the docker service is not installed. At this time, the cloud platform can be deployed normally, but when the command ""kolla-ansible destroy"" is used to clean up the environment, an error about docker command is reported on the deployment node.

Change-Id: I9616d1d7a52a4b3ee565dec59940cdc7e9450f67
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/867349/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/destroy/tasks/main.yml'],1,964ff787ab87573089b0e708a2b8aa60d9499f70,,- name: Destroying the resources of the cloud platform. block: - include_tasks: validate_docker_execute.yml - include_tasks: cleanup_containers.yml - include_tasks: cleanup_images.yml - include_tasks: cleanup_host.yml when: inventory_hostname in groups['control'] or inventory_hostname in groups['network'] or inventory_hostname in groups['compute'] or inventory_hostname in groups['monitoring'] or inventory_hostname in groups['storage'],- include_tasks: validate_docker_execute.yml - include_tasks: cleanup_containers.yml - include_tasks: cleanup_images.yml - include_tasks: cleanup_host.yml,11,4
openstack%2Fpuppet-openstack-integration~868252,openstack/puppet-openstack-integration,master,I8c5090b7e14757c667d2b118943facda3557fa65,Updated from Puppet OpenStack modules constraints,MERGED,2022-12-21 02:16:56.000000000,2022-12-22 08:42:48.000000000,2022-12-22 08:42:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 02:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/93187f165ad237ff2448bae0d3f9d4de2775b6e9', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8c5090b7e14757c667d2b118943facda3557fa65\n'}, {'number': 2, 'created': '2022-12-22 02:17:14.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b82dc6a9e27eb535654649fc16d4c5d9c25a3908', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I8c5090b7e14757c667d2b118943facda3557fa65\n'}]",1,868252,b82dc6a9e27eb535654649fc16d4c5d9c25a3908,16,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I8c5090b7e14757c667d2b118943facda3557fa65
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/52/868252/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,93187f165ad237ff2448bae0d3f9d4de2775b6e9,openstack/puppet/constraints, :ref => 'v13.1.0', :ref => 'v13.0.1',1,1
openstack%2Fnova~864824,openstack/nova,master,I154040c12a817557b7ed64105d8a13f3a15b8a05,Remove the redundant code in HostState._update_from_compute_node,NEW,2022-11-24 03:04:46.000000000,2022-12-22 08:40:55.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 03:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/096f2a4121e691f838a7271e5643e656e8796c75', 'message': 'Remove the redundant code in HostState._update_from_compute_node\n\nChange-Id: I154040c12a817557b7ed64105d8a13f3a15b8a05\n'}, {'number': 2, 'created': '2022-11-24 05:56:47.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb716e1795520e34242f3db6c1259c5afaf33c8', 'message': 'Remove the redundant code in HostState._update_from_compute_node\n\nChange-Id: I154040c12a817557b7ed64105d8a13f3a15b8a05\n'}]",0,864824,9bb716e1795520e34242f3db6c1259c5afaf33c8,8,2,2,31827,,,0,"Remove the redundant code in HostState._update_from_compute_node

Change-Id: I154040c12a817557b7ed64105d8a13f3a15b8a05
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/864824/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,096f2a4121e691f838a7271e5643e656e8796c75,, self.total_usable_ram_mb = compute.memory_mb, all_ram_mb = compute.memory_mb self.total_usable_ram_mb = all_ram_mb,1,2
openstack%2Fnova~864275,openstack/nova,master,I14c2684edf5e9a04c673d039d340afe23e448ff9,Remove the redundance code in HostState.update,NEW,2022-11-14 03:56:51.000000000,2022-12-22 08:38:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-14 03:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a061c0c63b4adbb6b9b9ca3156c5c2a49d54a1b2', 'message': 'Remove the redundance code in HostState.update\n\nThe HostState is local variable in HostManager, So the updated is\nNone for HostState.\n\nChange-Id: I14c2684edf5e9a04c673d039d340afe23e448ff9\n'}, {'number': 2, 'created': '2022-11-15 02:18:29.000000000', 'files': ['nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12f04a3017aaa5d86729cf640f637f7b0b8d59b5', 'message': 'Remove the redundance code in HostState.update\n\nThe HostState is local variable in HostManager, So the updated is\nNone for HostState.\n\nChange-Id: I14c2684edf5e9a04c673d039d340afe23e448ff9\n'}]",4,864275,12f04a3017aaa5d86729cf640f637f7b0b8d59b5,18,1,2,31827,,,0,"Remove the redundance code in HostState.update

The HostState is local variable in HostManager, So the updated is
None for HostState.

Change-Id: I14c2684edf5e9a04c673d039d340afe23e448ff9
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/864275/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,a061c0c63b4adbb6b9b9ca3156c5c2a49d54a1b2,,, if (self.updated and compute.updated_at and self.updated > compute.updated_at): return,0,3
openstack%2Fpuppet-openstack-integration~867821,openstack/puppet-openstack-integration,stable/wallaby,I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:34:03.000000000,2022-12-22 08:09:17.000000000,2022-12-22 08:09:17.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/84983265c70c0b4a2ceab1d65aea9d8eefa99611', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04\n'}, {'number': 2, 'created': '2022-12-15 15:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1a04b011c937c100bb65a5c39ad7fd346ae92661', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04\n'}, {'number': 3, 'created': '2022-12-15 15:37:54.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b1d0214290a30441c659fae5ab63a508542aaa54', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04\n'}]",14,867821,b1d0214290a30441c659fae5ab63a508542aaa54,14,3,3,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I27c323b0e9595fb9d6f75534c0aac3cd5ca2eb04
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/867821/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,84983265c70c0b4a2ceab1d65aea9d8eefa99611,oooci_teardown_8_wallaby, name: tripleo-puppet-ci-centos-9-undercloud-containers voting: false parent: tripleo-ci-centos-9-undercloud-containers - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-undercloud-container: parent: tripleo-ci-centos-9-standalone vars: featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - tripleo-puppet-ci-centos-9-standalone: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-9-content-provider, name: tripleo-puppet-ci-centos-8-undercloud-containers parent: tripleo-ci-centos-8-undercloud-containers name: tripleo-puppet-ci-centos-9-undercloud-containers voting: false parent: tripleo-ci-centos-9-undercloud-containers irrelevant-files: *irrelevant_files - job: name: tripleo-puppet-ci-centos-8-content-provider parent: tripleo-ci-centos-8-content-provider irrelevant-files: *irrelevant_files - job: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: &c8_consumer - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-9-content-provider - tripleo-puppet-ci-centos-9-undercloud-containers: &c9_consumer vars: *undercloud_consumer_vars dependencies: gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: *c8_consumer - job: name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone irrelevant-files: *irrelevant_files vars: &standalone_vars featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' parent: tripleo-ci-centos-9-standalone vars: *standalone_vars - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *c8_consumer - tripleo-puppet-ci-centos-9-standalone: *c9_consumer gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-standalone: *c8_consumer,14,42
openstack%2Fceilometer~868279,openstack/ceilometer,stable/ussuri,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2022-12-21 11:20:54.000000000,2022-12-22 07:09:46.000000000,2022-12-22 07:08:49.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 11:20:54.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bcada72c3aaeeb2a86de3368b1787a9253c9d55b', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)\n'}]",0,868279,bcada72c3aaeeb2a86de3368b1787a9253c9d55b,7,2,1,13177,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)
(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)
(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/79/868279/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,bcada72c3aaeeb2a86de3368b1787a9253c9d55b,bug-1774292-stable/victoria-stable/ussuri," def isAlive(self): return False @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",7,5
openstack%2Fpuppet-glance~868258,openstack/puppet-glance,stable/wallaby,Ifb99e0080e99bcbf5069f300b68e47a66e7e174c,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-21 05:03:45.000000000,2022-12-22 06:35:56.000000000,2022-12-22 06:35:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 05:03:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5a287ee4ddfbaf7cb8f1261b393fe4b205030fa6', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: Ifb99e0080e99bcbf5069f300b68e47a66e7e174c\n'}]",2,868258,5a287ee4ddfbaf7cb8f1261b393fe4b205030fa6,12,3,1,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: Ifb99e0080e99bcbf5069f300b68e47a66e7e174c
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/58/868258/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5a287ee4ddfbaf7cb8f1261b393fe4b205030fa6,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-glance-tripleo-centos-9-standalone gate: jobs: - puppet-glance-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-glance-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Glance specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Faodh~867594,openstack/aodh,stable/train,I074ef0ad4578abde73ae82efb18bc9edbceb7e81,Remove TripleO job,MERGED,2022-12-14 03:32:25.000000000,2022-12-22 03:26:09.000000000,2022-12-22 03:24:04.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 03:32:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/c2024b22104f7a9a3ba5758667a556d217c13883', 'message': 'Remove TripleO job\n\nThe TripleO job has been in the experimental queue but has never get\nany actual attention. Also, the job is not used in Ceilometer.\n\nConflicts:\n\t.zuul.yaml\n\nBackport note:\nstable/xena and stable/yoga were skipped because the tripleo job has\nbeen removed from these branches by different commits.\n\nChange-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81\n(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)\n'}]",1,867594,c2024b22104f7a9a3ba5758667a556d217c13883,12,2,1,9816,,,0,"Remove TripleO job

The TripleO job has been in the experimental queue but has never get
any actual attention. Also, the job is not used in Ceilometer.

Conflicts:
	.zuul.yaml

Backport note:
stable/xena and stable/yoga were skipped because the tripleo job has
been removed from these branches by different commits.

Change-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81
(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/94/867594/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2024b22104f7a9a3ba5758667a556d217c13883,,," experimental: jobs: # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. # NOTE(sileht): These job takes 3 hours and fail most of the times. # While other jobs take 20-30 minutes # We can reenable it when they take less times. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone",0,17
openstack%2Fbarbican-ui~855056,openstack/barbican-ui,master,I74a9063fe756cdb8f7b3a3db1101a52dcb43656d,Use TOX_CONSTRAINTS_FILE,ABANDONED,2022-08-30 12:18:10.000000000,2022-12-22 02:25:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-08-30 12:18:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/423ffb43d546a2f15335705879d155090ac74d00', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I74a9063fe756cdb8f7b3a3db1101a52dcb43656d\n'}]",2,855056,423ffb43d546a2f15335705879d155090ac74d00,6,2,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I74a9063fe756cdb8f7b3a3db1101a52dcb43656d
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/56/855056/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,423ffb43d546a2f15335705879d155090ac74d00,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fbarbican-ui~827987,openstack/barbican-ui,master,Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 16:39:44.000000000,2022-12-22 02:18:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-02-05 16:39:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/9cf68e481c56bb58a7885d94be71204f4f1ec93c', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idebe434ae4f7b2f0f88c61e68b4108d20ec04723\n""}]",0,827987,9cf68e481c56bb58a7885d94be71204f4f1ec93c,4,3,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idebe434ae4f7b2f0f88c61e68b4108d20ec04723
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/87/827987/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9cf68e481c56bb58a7885d94be71204f4f1ec93c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fmistral-extra~792498,openstack/mistral-extra,master,Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54,Update doc8 version,NEW,2021-05-21 03:54:21.000000000,2022-12-22 02:11:12.000000000,,"[{'_account_id': 11904}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-21 03:54:21.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/64b33849316b6b6a4fe4f7fc253835474b7428fa', 'message': 'Update doc8 version\n\nThe doc8 lib supports Py36 starting from version 0.8.1\n\nChange-Id: Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54\n'}]",0,792498,64b33849316b6b6a4fe4f7fc253835474b7428fa,5,4,1,32238,,,0,"Update doc8 version

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: Ice9f43597334d35f12d01ef4b44ff3cb75cc4a54
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/98/792498/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,64b33849316b6b6a4fe4f7fc253835474b7428fa,,doc8==0.8.1,doc8==0.6.0,2,2
openstack%2Fkeystone~860113,openstack/keystone,master,I5fe0bf383a64aa0ba7a628911cfeb9792f750f47,Emit project tags CADF notifications,NEW,2022-10-03 17:40:18.000000000,2022-12-22 00:37:49.000000000,,"[{'_account_id': 7973}, {'_account_id': 9542}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-03 17:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ab0350653a15d45b55d7ae45d073c7b73475b026', 'message': '[CPINF-704] Port tags CADF change\n\nCreating a project with existing tags was failing to provide a\nnotification that the tags were created, this change updates\nthe create project method to correctly emit this notification.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 2, 'created': '2022-10-03 18:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e44a7e9b24e9922deb566902e3826a7eb3fdc64e', 'message': 'Port tags CADF change\n\nCreating a project with existing tags was failing to provide a\nnotification that the tags were created, this change updates\nthe create project method to correctly emit this notification.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 3, 'created': '2022-10-04 14:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ad268e1281535f12c6e99cfb0f43fccab2f0acbc', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 4, 'created': '2022-10-12 20:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea2d5d6c7816346319ab7c7ff26c6707abc66956', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 5, 'created': '2022-10-12 21:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b8d428e8e8149f813692d144c111e6c40819ce7', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 6, 'created': '2022-10-12 21:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a80a8b232c7252168aeb744e954acf37abe6cdad', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 7, 'created': '2022-10-13 17:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3739f6e015db80822c437fdb4c895e34781c5c36', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 8, 'created': '2022-10-13 17:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/61a1597e184282e1394d36916c23f209a0c85feb', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 9, 'created': '2022-10-13 22:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/93ab4672d00b9e77343b6293a18ce63db678129b', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 10, 'created': '2022-10-13 22:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/be309a8dec98c584e939485091ab2cea4d07fa22', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 11, 'created': '2022-10-13 23:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a04835d0449159bfa1217aa0034dfd535e26fb35', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 12, 'created': '2022-10-13 23:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/83c6dc42178fdd13e0f1b1f55fd1b2be620b2571', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 13, 'created': '2022-10-13 23:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2fde358a8ddc7dd9009c0ac0a8f11704a1fa05f5', 'message': 'Emit tags notification on project creation\n\nCurrently when a project is created with given tags, keystone does\nnot emit any notifications that any tags were created. This is a\nsmall gap in behavior where each project tag API emits a notification\nwhen project tags are modified in any way.\n\nThis change adds in a notification for project tags being updated for\na project if the project is created with project tags.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 14, 'created': '2022-10-17 14:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cea2ce2b2c05de66fa41889c8104928041ba73a2', 'message': 'Emit project tags CADF notifications for tag created/updated events\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 15, 'created': '2022-11-14 21:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/672b54230062307aae8c005630ef2df0b01d858f', 'message': 'Emit project tags CADF notifications for tag created/updated events\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 16, 'created': '2022-11-14 22:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/721af6c362125cf83aaa9f35eb7814d7d0aa6176', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 17, 'created': '2022-11-16 23:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/76a865f5ab048e5809e4697be45694db6e9ddc4d', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 18, 'created': '2022-11-16 23:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8965dc55b781e6eab3cf1f02f6c92b27670df5ae', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 19, 'created': '2022-11-17 00:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42924db7e5c5fbf9e44180ff5cdba6646aa91da0', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 20, 'created': '2022-11-17 00:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e480cf7c52d59dc06e3677b53965167be554775', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 21, 'created': '2022-11-17 00:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6bc0f3c376c8f9e63a9c32c8f43c5d6035657c19', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 22, 'created': '2022-11-18 16:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3b1e75f3f88eb6a90eeec655ddb3846f18ee8f6', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects.This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 23, 'created': '2022-11-28 23:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1789816ef625e8df4d22fe442fb516beedc4e710', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 24, 'created': '2022-11-29 00:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f302c508bf6995c51b091fe0d465c8149e831551', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 25, 'created': '2022-11-29 01:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5308047077816134c3d348a0e5ab9768e21b1902', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 26, 'created': '2022-11-29 16:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c2e24a2c83b473944f4737ff608cb97d2115a013', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 27, 'created': '2022-12-20 16:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0379cade099c2bdff8fb9f384b28b00699f35f1', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 28, 'created': '2022-12-20 17:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a33343a19d845d2339e46d4575830ff90e961a8f', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 29, 'created': '2022-12-20 17:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a31e0bcfff7f1756bcdabfa4076a8e4c82f17eba', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 30, 'created': '2022-12-20 18:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6cbbee0fcd247f8292c025b4dbafbc2ba3d78bd0', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 31, 'created': '2022-12-20 19:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea3471bb5434a6df047658d1755695168169f0a1', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 32, 'created': '2022-12-21 19:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/08954e9c311e566a2015f28f23f65d58c2b53854', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 33, 'created': '2022-12-21 21:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b94b248127844c07b058bc585825c72cb6189a34', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}, {'number': 34, 'created': '2022-12-21 22:44:18.000000000', 'files': ['keystone/resource/core.py', 'keystone/tests/unit/common/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/99c3604ffe3571329bddc552c8f2ae80c338a1aa', 'message': 'Emit project tags CADF notifications\n\nThis patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.\n\nThe keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.\n\nAdded unit tests for project tags actions.\n\nChange-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47\n'}]",39,860113,99c3604ffe3571329bddc552c8f2ae80c338a1aa,90,7,34,34520,,,0,"Emit project tags CADF notifications

This patchet adds functionality that emits CADF notifications on events of project tags creation or deletion.

The keystone project has separate API paths to manage project tags. But because tags are sub-related entities of the project entity (one-to-many relationship) most of the times project tags are managed via API paths that manage projects. This is why a code that controls notifications about tags changes from project API has been added in this patch.

Added unit tests for project tags actions.

Change-Id: I5fe0bf383a64aa0ba7a628911cfeb9792f750f47
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/860113/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/resource/core.py'],1,ab0350653a15d45b55d7ae45d073c7b73475b026,," if ('tags' in project.keys()) and project['tags']: notifications.Audit.updated(self._PROJECT, project_id, initiator) ",,4,0
openstack%2Fneutron~866489,openstack/neutron,master,Ie633148c512f5124e978648c50a4c6318c61baa8,Gracefully restart dnsmasq to not break tcp DNS,MERGED,2022-12-02 16:39:19.000000000,2022-12-21 20:16:17.000000000,2022-12-21 20:14:52.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-12-02 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b08c74e17658fdcd33e9ad69b79a540ce095cb9', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 2, 'created': '2022-12-05 15:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6083006da6239311c17a02c56dd35980b1a82db5', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 3, 'created': '2022-12-05 15:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55fb39a1f7c8ff77db1c68132854be27cd99c3c0', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 4, 'created': '2022-12-06 10:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0609e503a6467bf9babf0b3ed754ddd9102c89a', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}, {'number': 5, 'created': '2022-12-06 10:53:00.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74224e79e031636018b970fac9c2aa72516eb12d', 'message': 'Gracefully restart dnsmasq to not break tcp DNS\n\nWhen talking to dnsmasq using DNS over tcp dnsmasq will fork out for\nTCP connections. Forked processes will stay until all connections have\nbeen closed, meaning that dangling connections will keep the processes\nand with that will also keep the tcp/53 port in listening state. On\ndnsmasq restart (e.g. on network update, subnet create, ...) the parent\nprocess is killed with SIGKILL and a new process is started. This new\nprocess cannot listen on tcp/53, as it is still in use by the old child\nwith the dangling connection.\n\nTo prevent dangling dnsmasq connections on tcp we need to properly\nshutdown the child. This is done by first sending SIGTERM and only send\na SIGKILL if the process is not shutting down properly. With that we\nget proper cleanup of all children and tcp will come up after a restart.\n\nChange-Id: Ie633148c512f5124e978648c50a4c6318c61baa8\nCloses-bug: #1998621\n'}]",20,866489,74224e79e031636018b970fac9c2aa72516eb12d,56,8,5,30314,,,0,"Gracefully restart dnsmasq to not break tcp DNS

When talking to dnsmasq using DNS over tcp dnsmasq will fork out for
TCP connections. Forked processes will stay until all connections have
been closed, meaning that dangling connections will keep the processes
and with that will also keep the tcp/53 port in listening state. On
dnsmasq restart (e.g. on network update, subnet create, ...) the parent
process is killed with SIGKILL and a new process is started. This new
process cannot listen on tcp/53, as it is still in use by the old child
with the dangling connection.

To prevent dangling dnsmasq connections on tcp we need to properly
shutdown the child. This is done by first sending SIGTERM and only send
a SIGKILL if the process is not shutting down properly. With that we
get proper cleanup of all children and tcp will come up after a restart.

Change-Id: Ie633148c512f5124e978648c50a4c6318c61baa8
Closes-bug: #1998621
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/866489/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,3b08c74e17658fdcd33e9ad69b79a540ce095cb9,bug/1998621,"import signalSIGTERM_TIMEOUT = 5 pm = self._get_process_manager() pm.disable(sig=str(int(signal.SIGTERM))) if block: try: common_utils.wait_until_true(lambda: not self.active, timeout=SIGTERM_TIMEOUT) except common_utils.WaitTimeout: LOG.warning('dnsmasq process %s did not finish after SIGTERM ' 'signal in %s seconds, sending SIGKILL signal', pm.pid, SIGTERM_TIMEOUT) pm.disable(sig=str(int(signal.SIGKILL))) common_utils.wait_until_true(lambda: not self.active)", self._get_process_manager().disable() if block: common_utils.wait_until_true(lambda: not self.active),13,2
openstack%2Fnova~854122,openstack/nova,master,If46ee131a9e5499ae91da93ddaac88aa49182f56,Func test for PCI in placement scheduling,MERGED,2022-08-23 09:06:35.000000000,2022-12-21 19:22:13.000000000,2022-12-21 19:20:17.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c563c6fee221e8ac1e504912e81efea0cc24c0eb', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97a2c7abd705cf3458facadfd6c631ddf0eb25b5', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce7bef8a943500170e4899262427591eda15607e', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ce2ef0000b40a93de254d5049bc2e3355871506', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f065834e349d12dde737a404fc6bf8ca93d66ea4', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 6, 'created': '2022-08-25 12:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9151e38de5939ad72754640601f0c3d12195a486', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 7, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7ac2daa947c33aea701396a229dbef94291ae6b', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 8, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4261811a10871a66d4a0ef5e1744865b51b9b7f6', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 9, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02e1a17126b6ac03c20f159c235e99c92758ad9c', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 10, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d414d569c0dbcf754d935dac99ff10cc9eb04fd7', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 11, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20e9793ab13e73840951260d6fdb1b92678da9ac', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 12, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b2a7ce9f4ddeea66ec132da73f7e12a1d199aa2', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 13, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a48f8f9fa7b390e1771372570196f221b13db0aa', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 14, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82bb57152d90a620b2c0fc3b8bff9bdb39671993', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 15, 'created': '2022-10-17 11:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11fa1f70287c0e428e370c6a6145fb50a5d90040', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}, {'number': 16, 'created': '2022-12-21 15:40:32.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_in_placement.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1462883dcc68be1371197264d704a44fcc289dfd', 'message': 'Func test for PCI in placement scheduling\n\nThis patch adds various functional test cases showing that the placement\nallocation candidate restricts the available PCI pools during the run of\nthe filter scheduler and that the placement PCI allocation later drives\nthe PCI claim code in the compute.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56\n'}]",18,854122,1462883dcc68be1371197264d704a44fcc289dfd,78,4,16,9708,,,0,"Func test for PCI in placement scheduling

This patch adds various functional test cases showing that the placement
allocation candidate restricts the available PCI pools during the run of
the filter scheduler and that the placement PCI allocation later drives
the PCI claim code in the compute.

blueprint: pci-device-tracking-in-placement
Change-Id: If46ee131a9e5499ae91da93ddaac88aa49182f56
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/854122/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_in_placement.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py']",2,c563c6fee221e8ac1e504912e81efea0cc24c0eb,bp/pci-device-tracking-in-placement," PCI_RC = f""CUSTOM_PCI_{fakelibvirt.PCI_VEND_ID}_{fakelibvirt.PCI_PROD_ID}"" @staticmethod def _to_device_spec_conf(spec_list): return [jsonutils.dumps(x) for x in spec_list] def setUp(self): super().setUp() self.flags(group=""pci"", report_in_placement=True) # TODO(gibi): replace this with setting the [scheduler]pci_in_placement # confing to True once that config is added self.mock_pci_in_placement_enabled = self.useFixture( fixtures.MockPatch( 'nova.objects.request_spec.RequestSpec.' '_pci_in_placement_enabled', return_value=True ) ).mock compute1_placement_pci_view = { ""inventories"": { ""0000:81:00.0"": {self.PCI_RC: 1}, }, ""traits"": { ""0000:81:00.0"": [], }, ""usages"": { ""0000:81:00.0"": {self.PCI_RC: 0}, }, ""allocations"": {}, } self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) server_with_pci = self._create_server( if self.expected_state == 'ACTIVE': compute1_placement_pci_view[""usages""][ ""0000:81:00.0""][self.PCI_RC] = 1 compute1_placement_pci_view[""allocations""][ server_with_pci['id']] = {""0000:81:00.0"": {self.PCI_RC: 1}} self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) self.assert_no_pci_healing(""compute1"") def setUp(self): super().setUp() self.useFixture( fixtures.MockPatch( 'nova.pci.utils.is_physical_function', return_value=False ) ) def test_create_server_with_pci_dev_and_numa_placement_conflict(self): # fakelibvirt will simulate the devices: # * one type-PCI in 81.00 on numa 0 # * one type-PCI in 81.01 on numa 1 pci_info = fakelibvirt.HostPCIDevicesInfo(num_pci=2) # the device_spec will assign different traits to 81.00 than 81.01 # so the two devices become different from placement perspective device_spec = self._to_device_spec_conf( [ { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, ""address"": ""0000:81:00.0"", ""traits"": ""green"", }, { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, ""address"": ""0000:81:01.0"", ""traits"": ""red"", }, ] ) self.flags(group='pci', device_spec=device_spec) # both numa 0 and numa 1 has 4 PCPUs self.flags(cpu_dedicated_set='0-7', group='compute') self.start_compute(pci_info=pci_info) compute1_placement_pci_view = { ""inventories"": { ""0000:81:00.0"": {self.PCI_RC: 1}, ""0000:81:01.0"": {self.PCI_RC: 1}, }, ""traits"": { ""0000:81:00.0"": [""CUSTOM_GREEN""], ""0000:81:01.0"": [""CUSTOM_RED""], }, ""usages"": { ""0000:81:00.0"": {self.PCI_RC: 0}, ""0000:81:01.0"": {self.PCI_RC: 0}, }, ""allocations"": {}, } self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) # boot one instance with no PCI device to ""fill up"" NUMA node 0 # so we will have PCPUs on numa 0 and we have PCI on both nodes extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=4, extra_spec=extra_spec) self._create_server(flavor_id=flavor_id) pci_alias = { ""resource_class"": self.PCI_RC, # this means only 81.00 will match in placement which is on numa 0 ""traits"": ""green"", ""name"": ""pci-dev"", # this forces the scheduler to only accept a solution where the # PCI device is on the same numa node as the pinned CPUs 'numa_policy': fields.PCINUMAAffinityPolicy.REQUIRED, } self.flags( group=""pci"", # FIXME(gibi): make _to_device_spec_conf a general util for both # device spec and pci alias alias=self._to_device_spec_conf([pci_alias]), ) # Ask for dedicated CPUs, that can only be fulfilled on numa 1. # And ask for a PCI alias that can only be fulfilled on numa 0 due to # trait request. # We expect that this makes the scheduling fail. extra_spec = { ""hw:cpu_policy"": ""dedicated"", ""pci_passthrough:alias"": ""pci-dev:1"", } flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server( flavor_id=flavor_id, expected_state=""ERROR"") self.assertIn('fault', server) self.assertIn('No valid host', server['fault']['message']) self.assert_placement_pci_view( ""compute1"", **compute1_placement_pci_view) self.assert_no_pci_healing(""compute1"")"," PCI_RC = f""CUSTOM_PCI_{fakelibvirt.PCI_VEND_ID}_{fakelibvirt.PCI_PROD_ID}"" self._create_server(",257,6
openstack%2Fnova~854121,openstack/nova,master,I18bb31e23cc014411db68c31317ed983886d1a8e,Store allocated RP in InstancePCIRequest,MERGED,2022-08-23 09:06:35.000000000,2022-12-21 19:21:22.000000000,2022-12-21 19:20:09.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d47bc7b0d2bff3fb1138cfe0fe6ea646a2e4b6', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4eb32aedd3d55aabc30a0a7b1fc30e0f87958483', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e48e6a00df859d23b437951ad76c983e9f6be3d8', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28f92c5af85c698437180ca76e651636a8436782', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/614cfd41c84a7f6244b49d0a17b547c5f6f468fd', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 6, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19022340dbd1a61c56f0234930f2cdf6343665dc', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 7, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adc77d2685c97342d16f4eb3be5cfb50595b7521', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 8, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eee689a843d2ce7f302e5960be2147e6bcfc56aa', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 9, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b8f35cd5eb051a3b0c55cc2a27d753f40ca8f78', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 10, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51af11e75ffa653ca1dc6646503ff3df3d689fb8', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 11, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38d16cd71406700df60893b6114a60b59a5e84c6', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 12, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7752b8093b3ea30e33bc06617ef4afba8a0e51c', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 13, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a30a5f5f85228fa2d884009585e07d674ab66b05', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 14, 'created': '2022-10-17 11:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18c4def3042b54eee4aa4c20a754e6614d1054b6', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}, {'number': 15, 'created': '2022-12-21 15:40:32.000000000', 'files': ['nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_utils.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/pci/stats.py', 'nova/compute/utils.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f86f1800f05f42b44e99f565e9718692ee190df5', 'message': 'Store allocated RP in InstancePCIRequest\n\nAfter the scheduler selected a target host and allocated an allocation\ncandidate that is passed the filters nova need to make sure that PCI\nclaim will allocate the real PCI devices from the RP which is allocated\nin placement. Placement returns the request group - provider mapping for\neach allocation candidate so nova can map which InstancePCIRequest was\nfulfilled from which RP in the selected allocation candidate. This\nmapping is then recorded in the InstancePCIRequest object and used\nduring the PCI claim to filter for PCI pools that can be used to claim\nPCI devices from.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: I18bb31e23cc014411db68c31317ed983886d1a8e\n'}]",21,854121,f86f1800f05f42b44e99f565e9718692ee190df5,90,4,15,9708,,,0,"Store allocated RP in InstancePCIRequest

After the scheduler selected a target host and allocated an allocation
candidate that is passed the filters nova need to make sure that PCI
claim will allocate the real PCI devices from the RP which is allocated
in placement. Placement returns the request group - provider mapping for
each allocation candidate so nova can map which InstancePCIRequest was
fulfilled from which RP in the selected allocation candidate. This
mapping is then recorded in the InstancePCIRequest object and used
during the PCI claim to filter for PCI pools that can be used to claim
PCI devices from.

blueprint: pci-device-tracking-in-placement
Change-Id: I18bb31e23cc014411db68c31317ed983886d1a8e
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/854121/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_utils.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/pci/stats.py', 'nova/compute/utils.py']",5,d8d47bc7b0d2bff3fb1138cfe0fe6ea646a2e4b6,bp/pci-device-tracking-in-placement,"def update_pci_request_with_placement_allocations( def needs_update_due_to_qos(pci_request, mapping): def get_group_mapping_for_flavor_based_pci_request(pci_request, mapping): # NOTE(gibi): for flavor based PCI requests nova generates RequestGroup # suffixes from InstancePCIRequests in the form of # {request_id}-{count_index} # NOTE(gibi): a suffixed request group always fulfilled from a single # RP return { group_id: rp_uuids[0] for group_id, rp_uuids in mapping.items() if group_id.startswith(pci_request.request_id) } for pci_request in pci_requests: mapping = get_group_mapping_for_flavor_based_pci_request( pci_request, provider_mapping) if mapping: for spec in pci_request.spec: # FIXME(gibi): this is baaad but spec is a dict of strings so # we need to serialize spec['rp_uuids'] = ','.join(set(mapping.values())) elif needs_update_due_to_qos(pci_request, provider_mapping):","def update_pci_request_spec_with_allocated_interface_name( def needs_update(pci_request, mapping): for pci_request in pci_requests: if needs_update(pci_request, provider_mapping):",58,22
openstack%2Fgovernance~867062,openstack/governance,master,I6ff58fbef50d3fe10f6622330477ada127fcaf18,Make inactive projects timeline as release milestone-2 of the cycle,MERGED,2022-12-08 23:00:44.000000000,2022-12-21 19:06:22.000000000,2022-12-21 19:05:17.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-08 23:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8e6e9fabd7fe770ceee01654bcbfd3ddbc50640f', 'message': 'Make inactive projects timeline as release milestone-2 of the cycle\n\nIn current timeline for the inactive projects is the final release\nof the cycle which will be little late for the release team to\nfinish the release work if inactive project become active. Release\nmilestone-2 is better time to do the check if any inactive projects\nneeds to be moved to active or retired.\n\nChange-Id: I6ff58fbef50d3fe10f6622330477ada127fcaf18\n'}, {'number': 2, 'created': '2022-12-13 04:05:27.000000000', 'files': ['reference/emerging-technology-and-inactive-projects.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/38fdf9261d7f2653661ef6cec36e53e1eb29b0fc', 'message': 'Make inactive projects timeline as release milestone-2 of the cycle\n\nIn current timeline for the inactive projects is the final release\nof the cycle which will be little late for the release team to\nfinish the release work if inactive project become active. Release\nmilestone-2 is better time to do the check if any inactive projects\nneeds to be moved to active or retired.\n\nChange-Id: I6ff58fbef50d3fe10f6622330477ada127fcaf18\n'}]",20,867062,38fdf9261d7f2653661ef6cec36e53e1eb29b0fc,23,10,2,8556,,,0,"Make inactive projects timeline as release milestone-2 of the cycle

In current timeline for the inactive projects is the final release
of the cycle which will be little late for the release team to
finish the release work if inactive project become active. Release
milestone-2 is better time to do the check if any inactive projects
needs to be moved to active or retired.

Change-Id: I6ff58fbef50d3fe10f6622330477ada127fcaf18
",git fetch https://review.opendev.org/openstack/governance refs/changes/62/867062/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/emerging-technology-and-inactive-projects.rst'],1,8e6e9fabd7fe770ceee01654bcbfd3ddbc50640f,formal-vote,"the release milestone-2 of the cycle they entered the ``inactive`` state to be become ``active`` again and to be released in that cycle. In the case where an ``inactive`` project does not become ``active`` before the release milestone-2 the cycle, there will be no release of it proposed by the release team in that cycle. In such a case it is up to the project itself to get CI working and propose a release if that is needed. It may be required like that for example when there will be some security fixes or compatibility fixes merged in the project. In the case where an ``inactive`` project still does not become ``active`` during the next cycle after the cycle they entered the ``inactive`` state, TC will discuss with the team if project will be retired before the release milestone-2 of the cycle. In such a case there will be no new releases of that project.","the final release of the cycle they entered the ``inactive`` state to be become ``active`` again and to be released in that cycle. In the case where an ``inactive`` project does not become ``active`` before the end of the cycle, there will be no release of it proposed by the release team in that cycle. In such a case it is up to the project itself to get CI working and propose a release if that is needed. It may be required like that for example when there will be some security fixes or compatibility fixes merged in the project. In the case where an ``inactive`` project still does not become ``active`` during the next cycle after the cycle they entered the ``inactive`` state, TC will discuss with the team if project will be retired before final release in the release cycle. In such a case there will be no new releases of that project.",12,12
openstack%2Fdevstack~867839,openstack/devstack,stable/wallaby,I572c997507b802e841f2ba3d6e09bea1e04d3113,DNM: testring tox4,ABANDONED,2022-12-15 18:05:58.000000000,2022-12-21 18:28:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 18:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aeba52e6e27f659ab2fc153fdbed344d4e039f2c', 'message': 'DNM: testring tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nChange-Id: I572c997507b802e841f2ba3d6e09bea1e04d3113\n'}, {'number': 2, 'created': '2022-12-15 18:56:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/774cbac3861c567ff5444053bf62b2efcf460ab6', 'message': 'DNM: testring tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\n\nChange-Id: I572c997507b802e841f2ba3d6e09bea1e04d3113\n'}]",1,867839,774cbac3861c567ff5444053bf62b2efcf460ab6,5,1,2,8556,,,0,"DNM: testring tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849

Change-Id: I572c997507b802e841f2ba3d6e09bea1e04d3113
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/867839/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aeba52e6e27f659ab2fc153fdbed344d4e039f2c,,#testing tox4,,1,0
openstack%2Fglance~867893,openstack/glance,master,I22e177b4acdc29fe082955cc9950531397037580,DNM: testing tox4 and pinning on stable branch,ABANDONED,2022-12-15 19:16:46.000000000,2022-12-21 18:28:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 19:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/54954d7a8a1460d6b734b61e51103ef7c5ea2521', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 2, 'created': '2022-12-15 19:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7ccb5908def4b7c658598d4305dee1af6cafdce4', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 3, 'created': '2022-12-15 19:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/72ebee8ddc55fa7a322988107bef92dc0c90a4e9', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 4, 'created': '2022-12-15 19:26:33.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/4cd48d4440ff2a58712025fe9923ffdb201977a1', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}]",1,867893,4cd48d4440ff2a58712025fe9923ffdb201977a1,14,1,4,8556,,,0,"DNM: testing tox4 and pinning on stable branch

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849
Change-Id: I22e177b4acdc29fe082955cc9950531397037580
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/867893/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,54954d7a8a1460d6b734b61e51103ef7c5ea2521,,whitelist_externals = bash,allowlist_externals = bash,29,29
openstack%2Fneutron~868181,openstack/neutron,stable/zed,Icec8fee93e64b871999f38674e305238e9705fd4,Fix handling the restart of ovn-controllers,MERGED,2022-12-20 13:03:17.000000000,2022-12-21 18:18:33.000000000,2022-12-21 18:17:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 13:03:17.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b7acc505598971fb5086c4217e0cd059f22b51', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)\n""}]",0,868181,99b7acc505598971fb5086c4217e0cd059f22b51,9,3,1,29074,,,0,"Fix handling the restart of ovn-controllers

The previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`
if the `old` row either did not contain a `nb_cfg` value or if the value
was 0.

As 0 is the value set on startup of the ovn-controller this causes the
neutron-api to ignore any event a ovn-controller directly sends after
startup. In turn this causes us to miss the information that the agent
is synchronized, causing the agent to appear as down, until something
bumps the `nb_cfg` value globally.

Closes-Bug: #1997982

Change-Id: Icec8fee93e64b871999f38674e305238e9705fd4
(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/868181/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,99b7acc505598971fb5086c4217e0cd059f22b51,fix_ovn_controller_restart-stable/zed," def test_agent_restart(self): def check_agent_up(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.alive def check_agent_down(): return not check_agent_up() def check_nb_cfg_timestamp_is_not_null(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.updated_at != 0 if not self.sb_api.is_table_present('Chassis_Private'): self.skipTest('Ovn sb not support Chassis_Private') # Set nb_cfg to some realistic value, so that the alive check can # actually work self.nb_api.db_set( 'NB_Global', '.', ('nb_cfg', 1337)).execute(check_error=True) self.sb_api.db_set( 'Chassis_Private', self.chassis_name, ('nb_cfg', 1337) ).execute(check_error=True) chassis_uuid = self.sb_api.db_get( 'Chassis', self.chassis_name, 'uuid').execute(check_error=True) self.assertTrue(check_agent_up()) n_utils.wait_until_true(check_nb_cfg_timestamp_is_not_null, timeout=5) # Lets start by shutting down the ovn-controller # (where it will remove the Chassis_Private table entry) self.sb_api.db_destroy( 'Chassis_Private', self.chassis_name).execute(check_error=True) try: n_utils.wait_until_true(check_agent_down, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go down after Chassis_Private removal') # Now the ovn-controller starts up again and has not yet synced with # the southbound database self.sb_api.db_create( 'Chassis_Private', name=self.chassis_name, external_ids={}, chassis=chassis_uuid, nb_cfg_timestamp=0, nb_cfg=0 ).execute(check_error=True) self.assertTrue(check_agent_down()) # Now the ovn-controller has synced with the southbound database nb_cfg_timestamp = timeutils.utcnow_ts() * 1000 with self.sb_api.transaction() as txn: txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg_timestamp', nb_cfg_timestamp))) txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg', 1337))) try: n_utils.wait_until_true(check_agent_up, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go up after sync is done') self.assertTrue(check_nb_cfg_timestamp_is_not_null()) ",,61,1
openstack%2Fneutron~868182,openstack/neutron,stable/yoga,Icec8fee93e64b871999f38674e305238e9705fd4,Fix handling the restart of ovn-controllers,MERGED,2022-12-20 13:03:36.000000000,2022-12-21 18:18:31.000000000,2022-12-21 18:17:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 13:03:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d3fe4f7a2b241544623b90f86c9344cb9cfc91d', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)\n""}]",0,868182,0d3fe4f7a2b241544623b90f86c9344cb9cfc91d,9,3,1,29074,,,0,"Fix handling the restart of ovn-controllers

The previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`
if the `old` row either did not contain a `nb_cfg` value or if the value
was 0.

As 0 is the value set on startup of the ovn-controller this causes the
neutron-api to ignore any event a ovn-controller directly sends after
startup. In turn this causes us to miss the information that the agent
is synchronized, causing the agent to appear as down, until something
bumps the `nb_cfg` value globally.

Closes-Bug: #1997982

Change-Id: Icec8fee93e64b871999f38674e305238e9705fd4
(cherry picked from commit 4cc611d319d0afe1ee04df6e4419014f1133df09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/868182/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,0d3fe4f7a2b241544623b90f86c9344cb9cfc91d,fix_ovn_controller_restart-stable/yoga," def test_agent_restart(self): def check_agent_up(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.alive def check_agent_down(): return not check_agent_up() def check_nb_cfg_timestamp_is_not_null(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.updated_at != 0 if not self.sb_api.is_table_present('Chassis_Private'): self.skipTest('Ovn sb not support Chassis_Private') # Set nb_cfg to some realistic value, so that the alive check can # actually work self.nb_api.db_set( 'NB_Global', '.', ('nb_cfg', 1337)).execute(check_error=True) self.sb_api.db_set( 'Chassis_Private', self.chassis_name, ('nb_cfg', 1337) ).execute(check_error=True) chassis_uuid = self.sb_api.db_get( 'Chassis', self.chassis_name, 'uuid').execute(check_error=True) self.assertTrue(check_agent_up()) n_utils.wait_until_true(check_nb_cfg_timestamp_is_not_null, timeout=5) # Lets start by shutting down the ovn-controller # (where it will remove the Chassis_Private table entry) self.sb_api.db_destroy( 'Chassis_Private', self.chassis_name).execute(check_error=True) try: n_utils.wait_until_true(check_agent_down, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go down after Chassis_Private removal') # Now the ovn-controller starts up again and has not yet synced with # the southbound database self.sb_api.db_create( 'Chassis_Private', name=self.chassis_name, external_ids={}, chassis=chassis_uuid, nb_cfg_timestamp=0, nb_cfg=0 ).execute(check_error=True) self.assertTrue(check_agent_down()) # Now the ovn-controller has synced with the southbound database nb_cfg_timestamp = timeutils.utcnow_ts() * 1000 with self.sb_api.transaction() as txn: txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg_timestamp', nb_cfg_timestamp))) txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, ('nb_cfg', 1337))) try: n_utils.wait_until_true(check_agent_up, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go up after sync is done') self.assertTrue(check_nb_cfg_timestamp_is_not_null()) ",,61,1
openstack%2Fswift~868141,openstack/swift,stable/wallaby,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:15:09.000000000,2022-12-21 18:15:52.000000000,2022-12-21 18:14:44.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:15:09.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/238f7af30298869c14e3dd54858837d65af2f46b', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",1,868141,238f7af30298869c14e3dd54858837d65af2f46b,7,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/868141/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,238f7af30298869c14e3dd54858837d65af2f46b,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~868140,openstack/swift,stable/wallaby,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-20 00:15:09.000000000,2022-12-21 18:13:34.000000000,2022-12-21 18:12:35.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:15:09.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7c8364aeaf7c7ca2faac0bebcccbf3c6a229f845', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868140,7c8364aeaf7c7ca2faac0bebcccbf3c6a229f845,7,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/868140/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,7c8364aeaf7c7ca2faac0bebcccbf3c6a229f845,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Fneutron~868278,openstack/neutron,stable/xena,Id594003681f4755d8fd1af3b98e281c3109420f6,Fix bulk create without mac,MERGED,2022-12-21 10:41:03.000000000,2022-12-21 18:10:14.000000000,2022-12-21 18:09:08.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 10:41:03.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffd74968956792555de796016c09d87e357f2632', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nConflicts:\n  neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n(cherry picked from commit 2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5)\n'}]",1,868278,ffd74968956792555de796016c09d87e357f2632,9,3,1,8313,,,0,"Fix bulk create without mac

Bulk port create without mac address fails as when Neutron calls
oslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port
is an ATTR_NOT_SPECIFIED Sentinel() object.
With some reshuffling of the code to fill the mac field this can be
fixed.

Conflicts:
  neutron/plugins/ml2/plugin.py

Closes-Bug: #1995732
Related-Bug: #1954763

Change-Id: Id594003681f4755d8fd1af3b98e281c3109420f6
(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)
(cherry picked from commit 2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/868278/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,ffd74968956792555de796016c09d87e357f2632,bug/1995732-stable/zed-stable/yoga-stable/xena,"from neutron_lib.api import converters def allocate_macs_and_ips_for_ports(self, context, ports): macs = self._generate_macs(len(ports)) network_cache = dict() network_id = port['port'].get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network raw_mac_address = port['port'].get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = converters.convert_to_sanitized_mac_address( raw_mac_address) # Create the Port object # Note: netaddr has an issue with using the correct dialect when # the input for EUI is another EUI object, see: # https://github.com/netaddr/netaddr/issues/250 # TODO(lajoskatona): remove this once # https://review.opendev.org/c/openstack/neutron-lib/+/865517 is # released. port['port']['mac_address'] = str(eui_mac_address) return ports, network_cache port_list, net_cache = self.allocate_macs_and_ips_for_ports( context, port_list) return self._create_port_bulk(context, port_list, net_cache) def _create_port_bulk(self, context, port_list, network_cache): network_id = pdata.get('network_id') network_id=network_id, network = network_cache[network_id] db_port_obj = ports_obj.Port( context, mac_address=netaddr.EUI(port['port']['mac_address'], dialect=eui48.mac_unix_expanded), id=port['port']['id'], **bulk_port_data)"," def allocate_ips_for_ports(self, context, ports): return ports port_list = self.allocate_ips_for_ports(context, port_list) return self._create_port_bulk(context, port_list) def _create_port_bulk(self, context, port_list): network_cache = dict() macs = self._generate_macs(len(port_list)) network_id=pdata.get('network_id'), # Ensure that the networks exist. network_id = pdata.get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network else: network = network_cache[network_id] # Determine the MAC address raw_mac_address = pdata.get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = netaddr.EUI(raw_mac_address, dialect=eui48.mac_unix_expanded) port['port']['mac_address'] = str(eui_mac_address) # Create the Port object db_port_obj = ports_obj.Port(context, mac_address=eui_mac_address, id=port['port']['id'], **bulk_port_data)",133,32
openstack%2Faodh~868174,openstack/aodh,stable/ussuri,Ief75ccdc0fe5c6a197fc05bc481a5be096447558,Ignore Gnocchi API error when the metric is not yet created,MERGED,2022-12-20 10:06:39.000000000,2022-12-21 17:29:45.000000000,2022-12-21 17:28:33.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/7a9529542be719ebf0384217208b302b7cd05e09', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/868170\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n(cherry picked from commit 4eaa8d64ece760837243b89caf8e43baf033d975)\n'}, {'number': 2, 'created': '2022-12-20 11:17:23.000000000', 'files': ['aodh/api/controllers/v2/alarm_rules/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/da0fd0ca4b90601ecf27c38b2b7b7aae3a516e90', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/868173\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n(cherry picked from commit 4eaa8d64ece760837243b89caf8e43baf033d975)\n'}]",1,868174,da0fd0ca4b90601ecf27c38b2b7b7aae3a516e90,11,2,2,32240,,,0,"Ignore Gnocchi API error when the metric is not yet created

Change 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of
metric aggregate API by Dynamic aggregate API.

However the Dynamic aggregate API returns a different response code
(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API
error when the metric associated with the aggregation does not exist.

This change adds 400 to the ignored response codes so that Aodh api
does not return error even when the associated metric is not yet
created in Gnocchi.

Depends-On: https://review.opendev.org/c/openstack/aodh/+/868173

Closes-Bug: #1974682
Change-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558
(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)
(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)
(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)
(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)
(cherry picked from commit 4eaa8d64ece760837243b89caf8e43baf033d975)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/74/868174/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/api/controllers/v2/alarm_rules/gnocchi.py'],1,7a9529542be719ebf0384217208b302b7cd05e09,bug/1974682-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," # doesn't exists yet, it doesn't matter. return if e.code == 400 and 'Metrics not found' in e.message[""cause""]: # NOTE(tkajinam): Gnocchi<4.5 returns 400 instead of 404"," # doesn't exists yet, it doesn't matter",4,1
openstack%2Fneutron~853120,openstack/neutron,master,I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18,Cleanup py27 support,ABANDONED,2022-08-16 00:53:55.000000000,2022-12-21 17:16:33.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-08-16 00:53:55.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d409b02b535975c5878896da8ef4efccd7a392f', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18\n""}]",2,853120,8d409b02b535975c5878896da8ef4efccd7a392f,9,4,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: I16e7f3d102f293dbf9e4120236ca3b26fa6e3e18
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/853120/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,8d409b02b535975c5878896da8ef4efccd7a392f,,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Fpython-cinderclient~851446,openstack/python-cinderclient,master,If20abef109ddd7107c83b5886beb666a6550a640,Python3.11: fix crashes in ShellTest,MERGED,2022-07-28 18:18:17.000000000,2022-12-21 17:04:53.000000000,2022-12-21 17:03:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 6476}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 34275}]","[{'number': 1, 'created': '2022-07-28 18:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1cdadbe28ffdd4075df6ec8a94b9ac6ecd894545', 'message': ""Python3.11: fix crashes in ShellTest\n\nIn Python3.11, global flags must be placed right at the start of a\nregular expression.\n\nThe following regex:\n\n\tr'.*?(?m)^Lists all volumes.',\nmust become:\n\n        r'(?m).*?^Lists all volumes.',\n\nHowever, since we are using re.MULTILINE, we actually do not need to use\na global flag.\n\nThis commit fixes the following tests in Python3.11:\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_arg_no_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand_mv\n\nCloses-Bug: #1983047\nChange-Id: If20abef109ddd7107c83b5886beb666a6550a640\n""}, {'number': 2, 'created': '2022-12-21 13:31:33.000000000', 'files': ['cinderclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/20506ef3a8b5fb1b7a9b0a2c31dbe5f60eea2130', 'message': ""Python3.11: fix crashes in ShellTest\n\nIn Python3.11, global flags must be placed right at the start of a\nregular expression.\n\nThe following regex:\n\n\tr'.*?(?m)^Lists all volumes.',\nmust become:\n\n        r'(?m).*?^Lists all volumes.',\n\nHowever, since we are using re.MULTILINE, we actually do not need to use\na global flag.\n\nThis commit fixes the following tests in Python3.11:\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_arg_no_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand\n- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand_mv\n\nCloses-Bug: #1983047\nChange-Id: If20abef109ddd7107c83b5886beb666a6550a640\n""}]",5,851446,20506ef3a8b5fb1b7a9b0a2c31dbe5f60eea2130,14,6,2,8122,,,0,"Python3.11: fix crashes in ShellTest

In Python3.11, global flags must be placed right at the start of a
regular expression.

The following regex:

	r'.*?(?m)^Lists all volumes.',
must become:

        r'(?m).*?^Lists all volumes.',

However, since we are using re.MULTILINE, we actually do not need to use
a global flag.

This commit fixes the following tests in Python3.11:
- cinderclient.tests.unit.test_shell.ShellTest.test_help_arg_no_subcommand
- cinderclient.tests.unit.test_shell.ShellTest.test_help
- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand
- cinderclient.tests.unit.test_shell.ShellTest.test_help_on_subcommand_mv

Closes-Bug: #1983047
Change-Id: If20abef109ddd7107c83b5886beb666a6550a640
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/46/851446/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/tests/unit/test_shell.py'],1,1cdadbe28ffdd4075df6ec8a94b9ac6ecd894545,py311," r'.*?^\s+create\s+Creates a volume.', r'.*?^\s+summary\s+Get volumes summary.', r'.*?^Run ""cinder help SUBCOMMAND"" for help on a subcommand.', r'.*?^Lists all volumes.', r'.*?^Get volumes summary.', r'.*?^\s+create\s+Creates a volume.', r'.*?^\s+summary\s+Get volumes summary.', r'.*?^Run ""cinder help SUBCOMMAND"" for help on a subcommand.',"," r'.*?(?m)^\s+create\s+Creates a volume.', r'.*?(?m)^\s+summary\s+Get volumes summary.', r'.*?(?m)^Run ""cinder help SUBCOMMAND"" for help on a subcommand.', r'.*?(?m)^Lists all volumes.', r'.*?(?m)^Get volumes summary.', r'.*?(?m)^\s+create\s+Creates a volume.', r'.*?(?m)^\s+summary\s+Get volumes summary.', r'.*?(?m)^Run ""cinder help SUBCOMMAND"" for help on a subcommand.',",8,8
openstack%2Fnova~852543,openstack/nova,master,I233113283f54c04118689724e18ad29a644dec05,[doc] Fix BFV Rescue trait name in microversion,MERGED,2022-08-09 10:56:47.000000000,2022-12-21 16:53:58.000000000,2022-12-21 16:52:24.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-09 10:56:47.000000000', 'files': ['nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dbfbe3804f788cb41f81b63d2750b9b64ab190a0', 'message': '[doc] Fix BFV Rescue trait name in microversion\n\nCorrect name used everywhere in code is COMPUTE_RESCUE_BFV.\nThis should be fixed to not confuse users.\n\nChange-Id: I233113283f54c04118689724e18ad29a644dec05\n'}]",3,852543,dbfbe3804f788cb41f81b63d2750b9b64ab190a0,21,3,1,28619,,,0,"[doc] Fix BFV Rescue trait name in microversion

Correct name used everywhere in code is COMPUTE_RESCUE_BFV.
This should be fixed to not confuse users.

Change-Id: I233113283f54c04118689724e18ad29a644dec05
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/852543/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst']",2,dbfbe3804f788cb41f81b63d2750b9b64ab190a0,,reports the ``COMPUTE_RESCUE_BFV`` capability trait.,reports the ``COMPUTE_BFV_RESCUE`` capability trait.,2,2
openstack%2Ftripleo-ci~868360,openstack/tripleo-ci,master,I8d711e6133d93c3d3ccdee57cac968d4e59dda2c,DNM: Add gating repo to elements path,ABANDONED,2022-12-21 16:12:45.000000000,2022-12-21 16:45:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 16:12:45.000000000', 'files': ['roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4556c460808f2a783512ba1a234da8b433ad4baf', 'message': 'DNM: Add gating repo to elements path\n\nChange-Id: I8d711e6133d93c3d3ccdee57cac968d4e59dda2c\n'}]",0,868360,4556c460808f2a783512ba1a234da8b433ad4baf,3,1,1,9976,,,0,"DNM: Add gating repo to elements path

Change-Id: I8d711e6133d93c3d3ccdee57cac968d4e59dda2c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/60/868360/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,4556c460808f2a783512ba1a234da8b433ad4baf,add-gating-elements-path," - ""/etc/yum.repos.d/gating.repo""",,1,0
openstack%2Fovn-octavia-provider~868222,openstack/ovn-octavia-provider,stable/zed,I4a1783c1a0b386a718b85ab264734ab0b7a1debb,[Stable only] Remove master jobs from zed branch,MERGED,2022-12-20 16:28:06.000000000,2022-12-21 16:24:02.000000000,2022-12-21 16:21:47.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-20 16:28:06.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b621aa85a6466c7c7bb694cee8027270fd3a0e5c', 'message': ""[Stable only] Remove master jobs from zed branch\n\nThis patch removes functional and tempest master jobs which runs\nOVS and OVN from master/main branches. We don't need to test that\nin the stable release. Those jobs should be run in the master branch.\n\nChange-Id: I4a1783c1a0b386a718b85ab264734ab0b7a1debb\n""}]",2,868222,b621aa85a6466c7c7bb694cee8027270fd3a0e5c,13,4,1,34451,,,0,"[Stable only] Remove master jobs from zed branch

This patch removes functional and tempest master jobs which runs
OVS and OVN from master/main branches. We don't need to test that
in the stable release. Those jobs should be run in the master branch.

Change-Id: I4a1783c1a0b386a718b85ab264734ab0b7a1debb
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/22/868222/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,b621aa85a6466c7c7bb694cee8027270fd3a0e5c,,, - ovn-octavia-provider-functional-master - ovn-octavia-provider-tempest-master: voting: false - ovn-octavia-provider-functional-master,0,25
openstack%2Fvenus~868355,openstack/venus,master,I3ab727ab468c13d9ef15fb93c61df9330162961e,remove duplicated function get_session,MERGED,2022-12-21 15:53:05.000000000,2022-12-21 16:17:31.000000000,2022-12-21 16:16:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-21 15:53:05.000000000', 'files': ['venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/64b8dbc9cad1d2d297535539a77f59878e0ee4ac', 'message': 'remove duplicated function get_session\n\nChange-Id: I3ab727ab468c13d9ef15fb93c61df9330162961e\n'}]",0,868355,64b8dbc9cad1d2d297535539a77f59878e0ee4ac,7,2,1,30455,,,0,"remove duplicated function get_session

Change-Id: I3ab727ab468c13d9ef15fb93c61df9330162961e
",git fetch https://review.opendev.org/openstack/venus refs/changes/55/868355/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/custom_config/backends/sql.py'],1,64b8dbc9cad1d2d297535539a77f59878e0ee4ac,,from venus.db.sqlalchemy.api import get_session,from venus.db.sqlalchemy.api import _create_facade_lazilydef get_session(**kwargs): facade = _create_facade_lazily() return facade.get_session(**kwargs) ,1,6
openstack%2Fosc-placement~868359,openstack/osc-placement,master,I1acceed2709ea855b152fe2bf8dae8c9eaf339ca,DNM force latest tox,NEW,2022-12-21 16:02:50.000000000,2022-12-21 16:16:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 16:02:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6706ad63d3ea8e2c00d9af12bf2c3a84aa668975', 'message': 'DNM force latest tox\n\nThis change will test osc-placement against tox v4 to check compatibility.\n\nChange-Id: I1acceed2709ea855b152fe2bf8dae8c9eaf339ca\n'}]",0,868359,6706ad63d3ea8e2c00d9af12bf2c3a84aa668975,2,1,1,9708,,,0,"DNM force latest tox

This change will test osc-placement against tox v4 to check compatibility.

Change-Id: I1acceed2709ea855b152fe2bf8dae8c9eaf339ca
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/59/868359/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6706ad63d3ea8e2c00d9af12bf2c3a84aa668975,force-tox-v4, vars: # Ensures latest tox is installed. ensure_tox_version: '',,3,0
openstack%2Fvenus~868350,openstack/venus,master,Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5,remove duplicated function,MERGED,2022-12-21 14:52:14.000000000,2022-12-21 15:13:45.000000000,2022-12-21 15:12:27.000000000,"[{'_account_id': 22348}, {'_account_id': 30562}]","[{'number': 1, 'created': '2022-12-21 14:52:14.000000000', 'files': ['venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/58d41110f5432e5c86715c22b7026cab6685e0b4', 'message': 'remove duplicated function\n\nChange-Id: Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5\n'}]",1,868350,58d41110f5432e5c86715c22b7026cab6685e0b4,7,2,1,30455,,,0,"remove duplicated function

Change-Id: Ic37a1c7ead6a4f3b4186d35bb459fb3c9f868bd5
",git fetch https://review.opendev.org/openstack/venus refs/changes/50/868350/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/custom_config/backends/sql.py'],1,58d41110f5432e5c86715c22b7026cab6685e0b4,,from venus.db.sqlalchemy.api import _create_facade_lazily,"import sqlalchemy import threading from oslo_config import cfg from oslo_db import options from oslo_db.sqlalchemy import session as db_session from oslo_log import log as logging import osprofiler.sqlalchemy CONF = cfg.CONF CONF.import_group(""profiler"", ""venus.service"") log = logging.getLogger(__name__) options.set_defaults(CONF, connection='sqlite:///$state_path/venus.sqlite') _LOCK = threading.Lock() _FACADE = None def _create_facade_lazily(): global _LOCK with _LOCK: global _FACADE if _FACADE is None: _FACADE = db_session.EngineFacade( CONF.database.connection, **dict(CONF.database) ) if CONF.profiler.profiler_enabled: if CONF.profiler.trace_sqlalchemy: osprofiler.sqlalchemy.add_tracing(sqlalchemy, _FACADE.get_engine(), ""db"") return _FACADE ",1,43
openstack%2Fnova~868306,openstack/nova,master,Ia1b2f2bb267ef2d395b43566f01865ca05816fd0,DNM: Identify why internal_info' isn't being set.,ABANDONED,2022-12-21 10:58:49.000000000,2022-12-21 15:03:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 10:58:49.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/17ec92107e5b6ca8d226358f247262ac8434bc21', 'message': ""DNM: Identify why internal_info' isn't being set.\n\nI'm pretty sure this is because we're not requesting a microversion,\nbut the resource specifies one so I don't know why that's happening\nif so.\n\nChange-Id: Ia1b2f2bb267ef2d395b43566f01865ca05816fd0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,868306,17ec92107e5b6ca8d226358f247262ac8434bc21,5,1,1,15334,,,0,"DNM: Identify why internal_info' isn't being set.

I'm pretty sure this is because we're not requesting a microversion,
but the resource specifies one so I don't know why that's happening
if so.

Change-Id: Ia1b2f2bb267ef2d395b43566f01865ca05816fd0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/868306/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,17ec92107e5b6ca8d226358f247262ac8434bc21,bp/openstacksdk-in-nova,import openstack openstack.enable_logging(debug=True) ports = list(self.ironic_connection.ports(node=node.id)) port_groups = list(self.ironic_connection.port_groups(node=node.id)) openstack.enable_logging(debug=False), ports = self.ironic_connection.ports(node=node.id) port_groups = self.ironic_connection.port_groups(node=node.id),5,2
openstack%2Ftripleo-ci~868203,openstack/tripleo-ci,master,I12d092a8755cb79c39ef6dfaa58fc206f3eb1209,Make EDPM jobs to voting and gating,MERGED,2022-12-20 12:05:14.000000000,2022-12-21 14:02:37.000000000,2022-12-21 14:02:37.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-20 12:05:14.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/da6738ca2834780e1f8f43501dd2f4346c79c163', 'message': ""Make EDPM jobs to voting and gating\n\nhttps://review.rdoproject.org/r/c/rdo-infra/ci-config/+/46461 moves\nthe promotion criteria. So it's time to make this job\nvoting and gating.\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I12d092a8755cb79c39ef6dfaa58fc206f3eb1209\n""}]",5,868203,da6738ca2834780e1f8f43501dd2f4346c79c163,12,6,1,12393,,,0,"Make EDPM jobs to voting and gating

https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/46461 moves
the promotion criteria. So it's time to make this job
voting and gating.

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: I12d092a8755cb79c39ef6dfaa58fc206f3eb1209
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/03/868203/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,da6738ca2834780e1f8f43501dd2f4346c79c163,standalone-roles, gate: jobs: - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-standalone-external-compute-target-host: *compute_vars, # Note(chandankumar): Gate jobs will be added once these jobs will be voting. voting: false,4,2
openstack%2Ftripleo-upgrade~868186,openstack/tripleo-upgrade,stable/ussuri,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,ABANDONED,2022-12-20 20:13:57.000000000,2022-12-21 13:50:31.000000000,,[],"[{'number': 1, 'created': '2022-12-20 20:13:57.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/59f344b37458d942b3f2852578fe3f691605f746', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)\n'}]",0,868186,59f344b37458d942b3f2852578fe3f691605f746,2,0,1,32432,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/86/868186/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,59f344b37458d942b3f2852578fe3f691605f746,update-validations-tags-stable/wallaby-stable/ussuri, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Ftripleo-upgrade~868185,openstack/tripleo-upgrade,stable/victoria,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,ABANDONED,2022-12-20 20:13:36.000000000,2022-12-21 13:50:03.000000000,,[],"[{'number': 1, 'created': '2022-12-20 20:13:36.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d6cfdebd44b7274bdc97adf998b6898a91f2d99', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)\n'}]",0,868185,5d6cfdebd44b7274bdc97adf998b6898a91f2d99,2,0,1,32432,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
(cherry picked from commit 24b382e54a11f991f20975efda4fea2bb84e60a6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/868185/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,5d6cfdebd44b7274bdc97adf998b6898a91f2d99,update-validations-tags-stable/wallaby-stable/victoria, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Fpython-tripleoclient~867775,openstack/python-tripleoclient,stable/wallaby,I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad,Fix upgrade playbook path.,MERGED,2022-12-15 10:25:28.000000000,2022-12-21 12:50:48.000000000,2022-12-21 12:49:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 10:25:28.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb01bcdbdc95c4e64594f86fbe2f5e06108ae045', 'message': 'Fix upgrade playbook path.\n\nAnsible is now generated into overcloud-deploy while\nconstants.MAJOR_UPGRADE_PLAYBOOKS is no longer static path within the\nansible execution dir.\n\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\n\nChange-Id: I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad\n(cherry picked from commit fe6a5a30ff45b6d4484c93a1d88f1f88c23eb7ca)\n(cherry picked from commit 4cf89d81712de8003b09ceb78834cf9f10b6ca40)\n'}]",1,867775,bb01bcdbdc95c4e64594f86fbe2f5e06108ae045,8,3,1,31245,,,0,"Fix upgrade playbook path.

Ansible is now generated into overcloud-deploy while
constants.MAJOR_UPGRADE_PLAYBOOKS is no longer static path within the
ansible execution dir.

Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>

Change-Id: I2c7fd4304701f128ec0588c5a2bf4a3c7da842ad
(cherry picked from commit fe6a5a30ff45b6d4484c93a1d88f1f88c23eb7ca)
(cherry picked from commit 4cf89d81712de8003b09ceb78834cf9f10b6ca40)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/75/867775/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,bb01bcdbdc95c4e64594f86fbe2f5e06108ae045,," # NOTE(cloudnull): The string option ""all"" was a special default # that is no longer relevant. To retain compatibility # this condition has been put in place. if not parsed_args.playbook or parsed_args.playbook == ['all']: playbook = [os.path.join(ansible_dir, p) for p in constants.MAJOR_UPGRADE_PLAYBOOKS] else: playbook = parsed_args.playbook "," # NOTE(cloudnull): The string option ""all"" was a special default # that is no longer relevant. To retain compatibility # this condition has been put in place. if not parsed_args.playbook or parsed_args.playbook == ['all']: playbook = constants.MAJOR_UPGRADE_PLAYBOOKS else: playbook = parsed_args.playbook ",9,8
openstack%2Fpython-tripleoclient~868188,openstack/python-tripleoclient,stable/zed,Ie6195b629fa65bcf9e5350f73d332e5034e8039b,Make ~/.tripleo/history owned by the correct user,MERGED,2022-12-21 02:10:53.000000000,2022-12-21 12:50:36.000000000,2022-12-21 12:49:30.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-21 02:10:53.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4b5576c393bc351e8dc5eb4732619441372cba3', 'message': ""Make ~/.tripleo/history owned by the correct user\n\nWhen a tripleo subcommand command is executed with sudo, we identify\nthe original user and create the history file in that user's home\ndirectory.\n\nWhen creating the file, we should make that user owns it, otherwise\nthe user no longer able to run tripleo subcommends without sudo once\nthe history file is created and owned by root.\n\nChange-Id: Ie6195b629fa65bcf9e5350f73d332e5034e8039b\n(cherry picked from commit bd70bcaa2c1f270846538ab8a0eac8f7616672a4)\n""}]",1,868188,d4b5576c393bc351e8dc5eb4732619441372cba3,8,3,1,9816,,,0,"Make ~/.tripleo/history owned by the correct user

When a tripleo subcommand command is executed with sudo, we identify
the original user and create the history file in that user's home
directory.

When creating the file, we should make that user owns it, otherwise
the user no longer able to run tripleo subcommends without sudo once
the history file is created and owned by root.

Change-Id: Ie6195b629fa65bcf9e5350f73d332e5034e8039b
(cherry picked from commit bd70bcaa2c1f270846538ab8a0eac8f7616672a4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/88/868188/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,d4b5576c393bc351e8dc5eb4732619441372cba3,," try: os.mkdir(history_path, 0o700) os.chown(history_path, int(os.environ.get('SUDO_UID', -1)), int(os.environ.get('SUDO_GID', -1))) except OSError as e: if e.errno != errno.EEXIST: messages = _(""Unable to create the .tripleo directory: "" ""{0}, {1}"").format(history_path, e) raise IOError(messages) history_file_path = os.path.join(history_path, 'history') with open(history_file_path, 'a') as history: os.chown(history_file_path, int(os.environ.get('SUDO_UID', -1)), int(os.environ.get('SUDO_GID', -1)))"," makedirs(history_path) with open(os.path.join(history_path, 'history'), 'a') as history:",69,23
openstack%2Fdiskimage-builder~868049,openstack/diskimage-builder,master,I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9,Grow thin pool metadata by 1GiB,MERGED,2022-12-19 00:53:40.000000000,2022-12-21 12:28:09.000000000,2022-12-21 04:20:44.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-12-19 00:53:40.000000000', 'files': ['diskimage_builder/elements/growvols/tests/test_growvols.py', 'diskimage_builder/elements/growvols/static/usr/local/sbin/growvols'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/00ca1262872f42991ba3132f662c6a531556ecbb', 'message': 'Grow thin pool metadata by 1GiB\n\nAn LVM thin pool has an associated metadata volume, and it can be\nassumed that the size of this volume on the image is minimized for\ndistribution.\n\nThis change grows the metadata volume by 1GiB, which is recommended[1] as\na reasonable default. This fixes a specific issue with the metadata\nvolume being exausted when growing into a 2TB drive.\n\nOther minor changes include:\n- Human readable printed values have switched to GiB, MiB, KiB, B\n- Growth percentage volumes are adjusted down to not over-provision\n  the thin volume\n\n[1] https://access.redhat.com/solutions/6318131\n\nChange-Id: I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9\nResolves: rhbz#2149586\n'}]",1,868049,00ca1262872f42991ba3132f662c6a531556ecbb,10,4,1,4571,,,0,"Grow thin pool metadata by 1GiB

An LVM thin pool has an associated metadata volume, and it can be
assumed that the size of this volume on the image is minimized for
distribution.

This change grows the metadata volume by 1GiB, which is recommended[1] as
a reasonable default. This fixes a specific issue with the metadata
volume being exausted when growing into a 2TB drive.

Other minor changes include:
- Human readable printed values have switched to GiB, MiB, KiB, B
- Growth percentage volumes are adjusted down to not over-provision
  the thin volume

[1] https://access.redhat.com/solutions/6318131

Change-Id: I1dd6dd932bb5f5d9adac9b78a026569165bd4ea9
Resolves: rhbz#2149586
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/49/868049/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/growvols/tests/test_growvols.py', 'diskimage_builder/elements/growvols/static/usr/local/sbin/growvols']",2,00ca1262872f42991ba3132f662c6a531556ecbb,rhbz/2149586,"UNIT_BYTES_FORMAT = { 'B': 1, 'KiB': 1024, 'MiB': 1048576, 'GiB': 1073741824 } # Grow the thin pool metadata size to 1GiB POOL_METADATA_SIZE = UNIT_BYTES['GiB'] """"""Format a bytes amount with units GiB, MiB etc"""""" for x in ['GiB', 'MiB', 'KiB', 'B']: unit = UNIT_BYTES_FORMAT[x] unit_num = num // unit if unit_num > 0: break return ""%d%s"" % (unit_num, x) thin_pool = find_thin_pool(devices, group) if thin_pool: # total size available, reduced by POOL_METADATA_SIZE # rounded down to whole extent size_bytes -= POOL_METADATA_SIZE size_bytes -= size_bytes % PHYSICAL_EXTENT_BYTES '--poolmetadatasize', '+%sB' % POOL_METADATA_SIZE, ], 'Add %s to thin pool metadata %s' % ( convert_bytes(POOL_METADATA_SIZE), thin_pool))) commands.append(Command([ 'lvextend', '-L+%sB' % size_bytes, thin_pool, dev_path ], 'Add %s to thin pool %s' % (convert_bytes(size_bytes),"," """"""Format a bytes amount with units MB, GB etc"""""" step_unit = 1000.0 for x in ['B', 'KB', 'MB', 'GB', 'TB']: if num < step_unit: return ""%d%s"" % (num, x) num /= step_unit thin_pool = find_thin_pool(devices, group) # total size available, rounded down to whole extents pool_size = size_bytes - size_bytes % PHYSICAL_EXTENT_BYTES '-L+%sB' % pool_size, ], 'Add %s to thin pool %s' % (convert_bytes(pool_size),",44,21
openstack%2Frequirements~865672,openstack/requirements,stable/ussuri,I0a5c86df609c6720d0d905ec2c5664faadd94642,Use python-ovs 2.16.0 and ovsdbapp 1.14.0,ABANDONED,2022-11-25 11:49:07.000000000,2022-12-21 12:23:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 11:49:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c77afa367f1b01f2b52b5fd533fb21a687a60ae3', 'message': 'Use python-ovs 2.16.0 and ovsdbapp 1.14.0\n\nDue to bug [1] CPU time is not yielded to other task\nand notification worker is stuck. That leeds to missing\nOVN notifications, ovsdb access timeouts etc.\n\n1: https://bugs.launchpad.net/os-vif/+bug/1929446\n\nRelated-Bug: #1929446\nChange-Id: I0a5c86df609c6720d0d905ec2c5664faadd94642\n'}]",0,865672,c77afa367f1b01f2b52b5fd533fb21a687a60ae3,3,1,1,30463,,,0,"Use python-ovs 2.16.0 and ovsdbapp 1.14.0

Due to bug [1] CPU time is not yielded to other task
and notification worker is stuck. That leeds to missing
OVN notifications, ovsdb access timeouts etc.

1: https://bugs.launchpad.net/os-vif/+bug/1929446

Related-Bug: #1929446
Change-Id: I0a5c86df609c6720d0d905ec2c5664faadd94642
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/865672/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c77afa367f1b01f2b52b5fd533fb21a687a60ae3,bug/1929446,ovs===2.16.0ovsdbapp===1.14.0;python_version=='3.6' ovsdbapp===1.14.0;python_version=='3.7' ovsdbapp===1.14.0;python_version=='3.8',ovs===2.11.0ovsdbapp===1.2.3;python_version=='3.6' ovsdbapp===1.2.3;python_version=='3.7' ovsdbapp===1.2.3;python_version=='3.8',4,4
openstack%2Fceilometer~792681,openstack/ceilometer,master,I3b4ac918015b2fd3fbe24047c3eb13419f580b27,NoUniqueMatch: ClientException on Gnocchi publisher,MERGED,2021-05-21 17:32:32.000000000,2022-12-21 12:17:37.000000000,2022-12-21 12:16:31.000000000,"[{'_account_id': 4264}, {'_account_id': 9542}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2021-05-21 17:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/623df6b03a4af40fa4189d0eb613433dee50e842', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\n\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\n\nThis configuration is then used by the following code:\n\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}, {'number': 2, 'created': '2021-05-21 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8e3cb833b43b1d895dc644e002fdb75e00f115d4', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\n\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\n\nThis configuration is then used by the following code:\n\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}, {'number': 3, 'created': '2022-11-30 11:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a6c00d3f6c7afbe2c6b79d48dc0f4cd53c1df3c2', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\n\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\n\nThis configuration is then used by the following code:\n\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}, {'number': 4, 'created': '2022-12-08 13:39:30.000000000', 'files': ['ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/463594b229017b30a1c457aaf6d4cdfef2bb421c', 'message': 'NoUniqueMatch: ClientException on Gnocchi publisher\n\nCeilometer can ignore/discard measurements that come from possible\nVMs that can be used to host Gnocchi. The assumption is that one\ncan use OpenStack itself to host the VMs that are used to run Gnocchi.\nThe configuration is called `filter_project`. This configuration can\nbe used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.\nHowever, when this config is not used, it has a default project name\nfor Gnocchi as `service`, as we can see in the following code snippet:\n\n```\ndef __init__(self, conf, parsed_url):\n  super(GnocchiPublisher, self).__init__(conf, parsed_url)\n  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL\n  options = urlparse.parse_qs(parsed_url.query)\n  self.filter_project = options.get(\'filter_project\', [\'service\'])[-1]\n```\n\nWhich means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.\nThis configuration is then used by the following code:\n```\ndef gnocchi_project_id(self):\n       if self._gnocchi_project_id is not None:\n           return self._gnocchi_project_id\n       with self._gnocchi_project_id_lock:\n           if self._gnocchi_project_id is None:\n               try:\n                   project = self._ks_client.projects.find(\n                       name=self.filter_project,\n                       domain=self.filter_domain)\n               except ka_exceptions.NotFound:\n                   LOG.warning(\'filtered project not found in keystone,\'\n                               \' ignoring the filter_project \'\n                               \'option\')\n                   self.filter_project = None\n                   return None\n               except Exception:\n                   LOG.exception(\'fail to retrieve filtered project \')\n                   raise\n               self._gnocchi_project_id = project.id\n               LOG.debug(""filtered project found: %s"",\n                         self._gnocchi_project_id)\n           return self._gnocchi_project_id\n```\n\nBasically, this method will look for the project ID of the project\nname that is configured in `filter_project` option. If it does not\nfind any project, it returns None, and it changes the value of\n`filter_project` to None as well. Before this `gnocchi_project_id`\nmethod/property is called, there is a verification if\n`filter_project` is None. Therefore, it is assumed that when we\nset the value of `filter_project` to None, this method\n(`gnocchi_project_id`) would not be called anymore.\nHowever, that is not taking into account concurrency parallel\nexecutions.\n\nIn the code, we can see `with self._gnocchi_project_id_lock:`\nstatement, which seems to execute locking in the execution flow.\nHowever, that will not always be the case because multiple\nconcurrent calls can be queued in that part of the code, and\nwhen the first one finishes setting the `filter_project` to None,\nthe others will execute with this variable as None, which will cause\nKeystone command `self._ks_client.projects.find` to find/list all\nprojects. That command was designed to list/find only one project;\ntherefore, when it finds more than one project, it throws an error.\nThat is the cause for the exception we were seeing from time to time\nin the log files.\n\nChange-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27\n'}]",46,792681,463594b229017b30a1c457aaf6d4cdfef2bb421c,35,5,4,28356,,,0,"NoUniqueMatch: ClientException on Gnocchi publisher

Ceilometer can ignore/discard measurements that come from possible
VMs that can be used to host Gnocchi. The assumption is that one
can use OpenStack itself to host the VMs that are used to run Gnocchi.
The configuration is called `filter_project`. This configuration can
be used in `event_pipeline.yaml` and `pipeline.yaml` configuration files.
However, when this config is not used, it has a default project name
for Gnocchi as `service`, as we can see in the following code snippet:

```
def __init__(self, conf, parsed_url):
  super(GnocchiPublisher, self).__init__(conf, parsed_url)
  # TODO(jd) allow to override Gnocchi endpoint via the host in the URL
  options = urlparse.parse_qs(parsed_url.query)
  self.filter_project = options.get('filter_project', ['service'])[-1]
```

Which means that if somebody creates a project called `service`, this project would not push measurements to Gnocchi.
This configuration is then used by the following code:
```
def gnocchi_project_id(self):
       if self._gnocchi_project_id is not None:
           return self._gnocchi_project_id
       with self._gnocchi_project_id_lock:
           if self._gnocchi_project_id is None:
               try:
                   project = self._ks_client.projects.find(
                       name=self.filter_project,
                       domain=self.filter_domain)
               except ka_exceptions.NotFound:
                   LOG.warning('filtered project not found in keystone,'
                               ' ignoring the filter_project '
                               'option')
                   self.filter_project = None
                   return None
               except Exception:
                   LOG.exception('fail to retrieve filtered project ')
                   raise
               self._gnocchi_project_id = project.id
               LOG.debug(""filtered project found: %s"",
                         self._gnocchi_project_id)
           return self._gnocchi_project_id
```

Basically, this method will look for the project ID of the project
name that is configured in `filter_project` option. If it does not
find any project, it returns None, and it changes the value of
`filter_project` to None as well. Before this `gnocchi_project_id`
method/property is called, there is a verification if
`filter_project` is None. Therefore, it is assumed that when we
set the value of `filter_project` to None, this method
(`gnocchi_project_id`) would not be called anymore.
However, that is not taking into account concurrency parallel
executions.

In the code, we can see `with self._gnocchi_project_id_lock:`
statement, which seems to execute locking in the execution flow.
However, that will not always be the case because multiple
concurrent calls can be queued in that part of the code, and
when the first one finishes setting the `filter_project` to None,
the others will execute with this variable as None, which will cause
Keystone command `self._ks_client.projects.find` to find/list all
projects. That command was designed to list/find only one project;
therefore, when it finds more than one project, it throws an error.
That is the cause for the exception we were seeing from time to time
in the log files.

Change-Id: I3b4ac918015b2fd3fbe24047c3eb13419f580b27
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/81/792681/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py']",2,623df6b03a4af40fa4189d0eb613433dee50e842,fix_gnocchi_project_id_discovery_concurrency_issue-upstream," if self.filter_project: return self._internal_gnocchi_project_discovery() LOG.debug(""Multiple executions were locked on "" ""`self._gnocchi_project_id_lock`. This execution "" ""should no call `_internal_gnocchi_project_discovery` "" ""as `self.filter_project` is None."") def _internal_gnocchi_project_discovery(self): if self._gnocchi_project_id is None: try: project = self._ks_client.projects.find( name=self.filter_project) except ka_exceptions.NotFound: LOG.warning('filtered project [%s] not found in keystone,' ' ignoring the filter_project ' 'option' % self.filter_project) self.filter_project = None return None except Exception: LOG.exception('fail to retrieve filtered project [%s].' % self.filter_project) raise self._gnocchi_project_id = project.id LOG.debug(""filtered project found: %s"", self._gnocchi_project_id) return self._gnocchi_project_id data = self.filter_gnocchi_activity_openstack(data) def filter_gnocchi_activity_openstack(self, samples): """""" Skip sample generated by gnocchi itself This method will filter out the samples that are generated by Gnocchi itself. This will happen when Gnocchi is running in virtual machine instances that are hosted in the OpenStack environment that we gather data from. """""" filtered_samples = [] for sample in samples: if not self._is_gnocchi_activity(sample): filtered_samples.append(sample) LOG.debug(""Sample [%s] is not a Gnocchi activity; therefore, "" ""we do not filter it out and push it to Gnocchi."", sample) else: LOG.debug(""Sample [%s] is a Gnocchi activity; therefore, "" ""we filter it out and do not push it to Gnocchi."", sample) return filtered_samples "," if self._gnocchi_project_id is None: try: project = self._ks_client.projects.find( name=self.filter_project, domain=self.filter_domain) except ka_exceptions.NotFound: LOG.warning('filtered project not found in keystone,' ' ignoring the filter_project ' 'option') self.filter_project = None return None except Exception: LOG.exception('fail to retrieve filtered project ') raise self._gnocchi_project_id = project.id LOG.debug(""filtered project found: %s"", self._gnocchi_project_id) # NOTE(sileht): skip sample generated by gnocchi itself data = [s for s in data if not self._is_gnocchi_activity(s)]",56,22
openstack%2Fovn-octavia-provider~868092,openstack/ovn-octavia-provider,master,I5be9130eb63c03d273fc8dfcc93094204a3ed361,Uncouple HM status of member statuses,MERGED,2022-12-19 15:30:12.000000000,2022-12-21 11:31:07.000000000,2022-12-21 11:30:07.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-19 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/232f4af5a9a463b71f39fb4eeeb1937c21682d91', 'message': 'Uncouple status of a new HM according to existing member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. At this way when\nany of the member is in ERROR status (e.g. when a member is configure\nwith non existing address) the HM created will be in ERROR status.\n\nIt looks make more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch remove the break after found an problematic member (port not\nfound) and just warning the issue, but continue with the rest of the\nmembers.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}, {'number': 2, 'created': '2022-12-20 08:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f6afebf9ec79979354cb72fefc5ced3e4f9cbabb', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member \n(port not found) and just log a warning about the issue, but \ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}, {'number': 3, 'created': '2022-12-20 11:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7760510730405e9ce83522e69ed79a402ac14c2e', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member \n(port not found) and just log a warning about the issue, but \ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}, {'number': 4, 'created': '2022-12-20 15:04:53.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4', 'message': 'Uncouple HM status of member statuses\n\nWhen a new HM is created, the provisioning status is conditioned\nby the status of the existing members on the pool. When any of\nthe members are in ERROR status (e.g. when a member is configure\nwith non existing address) the created HM is in ERROR status.\n\nIt makes more sense to warn about the member problem but let the\nHM continue with its normal flow of operation over the possible\nremaining members that exist for the pool on which it is created.\nThis patch removes the break after finding a problematic member \n(port not found) and just log a warning about the issue, but \ncontinue with the rest of the members.\n\nCloses-Bug: #2000071\nChange-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361\n'}]",19,868092,548d65d1a50612c6b24f85e6ffbdd1cd32bae8e4,18,3,4,34451,,,0,"Uncouple HM status of member statuses

When a new HM is created, the provisioning status is conditioned
by the status of the existing members on the pool. When any of
the members are in ERROR status (e.g. when a member is configure
with non existing address) the created HM is in ERROR status.

It makes more sense to warn about the member problem but let the
HM continue with its normal flow of operation over the possible
remaining members that exist for the pool on which it is created.
This patch removes the break after finding a problematic member 
(port not found) and just log a warning about the issue, but 
continue with the rest of the members.

Closes-Bug: #2000071
Change-Id: I5be9130eb63c03d273fc8dfcc93094204a3ed361
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/92/868092/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,232f4af5a9a463b71f39fb4eeeb1937c21682d91,, constants.ACTIVE) constants.ONLINE), constants.ERROR) constants.ERROR),3,3
openstack%2Fceilometer~868275,openstack/ceilometer,stable/victoria,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2022-12-21 09:54:24.000000000,2022-12-21 11:21:50.000000000,2022-12-21 11:20:37.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 09:54:24.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d2a545adda4b9c5a28addadfd8072904ffa635a5', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)\n'}]",0,868275,d2a545adda4b9c5a28addadfd8072904ffa635a5,8,2,1,13177,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)
(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)
(cherry picked from commit b80d48afea9ab934e380f277ab92aaf4d45e1297)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/75/868275/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,d2a545adda4b9c5a28addadfd8072904ffa635a5,bug-1774292-stable/victoria," def isAlive(self): return False @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",7,5
openstack%2Ftripleo-quickstart-extras~868066,openstack/tripleo-quickstart-extras,master,I6cdb21b46385017b2c56771e2cf45f340013de02,Run container-prep role before installing standalone,MERGED,2022-12-19 10:59:26.000000000,2022-12-21 11:00:44.000000000,2022-12-21 11:00:44.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-12-19 10:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2497672871f26ed2eefadaccc1f2b1df933aa63', 'message': 'Run container-prep role before installing standalone\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}, {'number': 2, 'created': '2022-12-19 12:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/18cfb71364d75963fe5bf3850ce97ab57f187143', 'message': 'Run container-prep role before installing standalone\n\nIn order to set correct container tag from dlrn md5 sum\nin container-image-prepapre file, we need to run\ncontainer-prep role before deploying standalone.\n\nOtherwise tripleo-ci-testing tag[1] will be used in periodic\nline and this tag does not exists on quay.rdoproject.org.\nIt will fail the standalone deployment with image not found.\n\nThis patch fixes the same and now tag is properly set in\ncontainer-image-prepapre[2].\n\n[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\n[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}, {'number': 3, 'created': '2022-12-20 04:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dda99022c7c706ac61385a89ba4925cf378951c7', 'message': 'Run container-prep role before installing standalone\n\nIn order to set correct container tag from dlrn md5 sum\nin container-image-prepapre file, we need to run\ncontainer-prep role before deploying standalone.\n\nOtherwise tripleo-ci-testing tag[1] will be used in periodic\nline and this tag does not exists on quay.rdoproject.org.\nIt will fail the standalone deployment with image not found.\n\nThis patch fixes the same and now tag is properly set in\ncontainer-image-prepapre[2]. The same tag will be set\nin deploy_compute.sh script.\n\n[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\n[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}, {'number': 4, 'created': '2022-12-20 14:50:22.000000000', 'files': ['roles/external-data-plane-management/tasks/prepare_node.yml', 'roles/external-data-plane-management/tasks/deploy_standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95291ba130206d8d257c793a9e01dd481985d303', 'message': 'Run container-prep role before installing standalone\n\nIn order to set correct container tag from dlrn md5 sum\nin container-image-prepare file, we need to run\ncontainer-prep role before deploying standalone.\n\nOtherwise tripleo-ci-testing tag[1] will be used in periodic\nline and this tag does not exists on quay.rdoproject.org.\nIt will fail the standalone deployment with image not found.\n\nThis patch fixes the same and now tag is properly set in\ncontainer-image-prepare[2]. The same tag will be set\nin deploy_compute.sh script.\n\n[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\n[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I6cdb21b46385017b2c56771e2cf45f340013de02\n'}]",8,868066,95291ba130206d8d257c793a9e01dd481985d303,23,6,4,12393,,,0,"Run container-prep role before installing standalone

In order to set correct container tag from dlrn md5 sum
in container-image-prepare file, we need to run
container-prep role before deploying standalone.

Otherwise tripleo-ci-testing tag[1] will be used in periodic
line and this tag does not exists on quay.rdoproject.org.
It will fail the standalone deployment with image not found.

This patch fixes the same and now tag is properly set in
container-image-prepare[2]. The same tag will be set
in deploy_compute.sh script.

[1]. https://logserver.rdoproject.org/18/46118/3/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/1355bd7/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz

[2]. https://logserver.rdoproject.org/18/46118/4/check/periodic-tripleo-ci-centos-9-standalone-external-compute-target-host-master/a572928/logs/undercloud/home/zuul/containers-prepare-parameters.yaml.txt.gz

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: I6cdb21b46385017b2c56771e2cf45f340013de02
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/66/868066/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/external-data-plane-management/tasks/deploy_standalone.yml'],1,e2497672871f26ed2eefadaccc1f2b1df933aa63,standalone-roles,- name: Set proper container params before deploying standalone include_role: name: container-prep ,,4,0
openstack%2Fopenstack-ansible~868217,openstack/openstack-ansible,master,Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848,Allow to skip clone process for some repos,ABANDONED,2022-12-20 13:59:24.000000000,2022-12-21 10:36:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-20 13:59:24.000000000', 'files': ['doc/source/reference/configuration/extending-osa.rst', 'scripts/get-ansible-role-requirements.yml', 'scripts/get-ansible-collection-requirements.yml', 'releasenotes/notes/source_required_in_ucc-eefe4f43b893d0e5.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c36c34b9a6496863015e6853d2d391b29726fa36', 'message': 'Allow to skip clone process for some repos\n\nIn environments with limited internet access, it might be handy to avoid\nclonning some collections or roles that are not required for the\ndeployment to reduce amount of local forks/mirrors that needs to be\nmaintained for no good reason.\n\nChange-Id: Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848\n'}]",3,868217,c36c34b9a6496863015e6853d2d391b29726fa36,6,2,1,28619,,,0,"Allow to skip clone process for some repos

In environments with limited internet access, it might be handy to avoid
clonning some collections or roles that are not required for the
deployment to reduce amount of local forks/mirrors that needs to be
maintained for no good reason.

Change-Id: Ibcb78ccbe24bd0bd029bf5fa47d631a6d84ad848
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/868217/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/configuration/extending-osa.rst', 'scripts/get-ansible-role-requirements.yml', 'scripts/get-ansible-collection-requirements.yml', 'releasenotes/notes/source_required_in_ucc-eefe4f43b893d0e5.yaml']",4,c36c34b9a6496863015e6853d2d391b29726fa36,,"--- other: - | From now on, ``source`` key is required to be present for all overrides in ``user-collection-requirements.yml`` file. If you have defined git path under ``name`` key, please move that to ``source`` and define collection name accordingly. All records that does not have ``source`` defined will be skipped during bootstrap process. ",,23,8
openstack%2Ftap-as-a-service~868073,openstack/tap-as-a-service,master,Idc6a224f37b539b1e62b8b9748763207c8e7534d,DNM: test with tox4,ABANDONED,2022-12-19 11:59:38.000000000,2022-12-21 10:36:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-19 11:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7e7e0f4c52c93d6592c03ea0c414d2ca236864cf', 'message': 'DNM: test with tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\n\nChange-Id: Idc6a224f37b539b1e62b8b9748763207c8e7534d\n'}, {'number': 2, 'created': '2022-12-20 12:43:47.000000000', 'files': ['neutron_taas/db/taas_db.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f103bfe1993dadf3f14d2b6076cf92a9b502b70c', 'message': 'DNM: test with tox4\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\n\nRelated-Bug: #1999558\n\nChange-Id: Idc6a224f37b539b1e62b8b9748763207c8e7534d\n'}]",0,868073,f103bfe1993dadf3f14d2b6076cf92a9b502b70c,5,1,2,8313,,,0,"DNM: test with tox4

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943

Related-Bug: #1999558

Change-Id: Idc6a224f37b539b1e62b8b9748763207c8e7534d
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/73/868073/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/db/taas_db.py'],1,7e7e0f4c52c93d6592c03ea0c414d2ca236864cf,bug/1999558, # Do Not Merge!,,1,0
openstack%2Ftripleo-ansible~867770,openstack/tripleo-ansible,master,Ied6fb63ec197cc318143203b4dcb608b42408698,Fix indentation error,MERGED,2022-12-15 09:47:55.000000000,2022-12-21 10:07:45.000000000,2022-12-21 10:07:45.000000000,"[{'_account_id': 4264}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 35491}]","[{'number': 1, 'created': '2022-12-15 09:47:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14', 'message': 'Fix indentation error\n\nChange-Id: Ied6fb63ec197cc318143203b4dcb608b42408698\n'}]",2,867770,8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14,18,7,1,5241,,,0,"Fix indentation error

Change-Id: Ied6fb63ec197cc318143203b4dcb608b42408698
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/867770/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml'],1,8f6f79ab67bd37cd75ddac5a97cfb7808e55ea14,indent-error, ignore_errors: yes register: rmcfg, ignore_errors: yes register: rmcfg,2,2
openstack%2Fnetworking-generic-switch~868235,openstack/networking-generic-switch,master,I1f9abcc011387535263b5214c631dcfd5094beb9,Add SONiC devices to docs page,MERGED,2022-12-20 18:31:00.000000000,2022-12-21 09:54:40.000000000,2022-12-21 09:53:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-20 18:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/569bd5d722728e19747e79e6392c43094cf3322e', 'message': 'Add SONiC devices to docs page\n\nSigned-off-by: Graham Hayes <gr@ham.ie>\nChange-Id: I1f9abcc011387535263b5214c631dcfd5094beb9\n'}, {'number': 2, 'created': '2022-12-20 18:57:03.000000000', 'files': ['doc/source/supported-devices.rst'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/c83ad2fd061830bafa619cc1f34943fb9c9b8279', 'message': 'Add SONiC devices to docs page\n\nSigned-off-by: Graham Hayes <gr@ham.ie>\nChange-Id: I1f9abcc011387535263b5214c631dcfd5094beb9\n'}]",0,868235,c83ad2fd061830bafa619cc1f34943fb9c9b8279,10,3,2,8099,,,0,"Add SONiC devices to docs page

Signed-off-by: Graham Hayes <gr@ham.ie>
Change-Id: I1f9abcc011387535263b5214c631dcfd5094beb9
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/35/868235/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/supported-devices.rst'],1,569bd5d722728e19747e79e6392c43094cf3322e,add-sonic-doc,* SONiC swtiches,,1,0
openstack%2Fskyline-console~868259,openstack/skyline-console,master,I104495a2b7c9937a9e6e922c4fac00d3f4178235,fix: seprate clusters and templates by different project,MERGED,2022-12-21 05:59:31.000000000,2022-12-21 08:58:38.000000000,2022-12-21 08:57:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-21 05:59:31.000000000', 'files': ['src/stores/magnum/clusterAdmin.js', 'src/stores/magnum/clusterTemplates.js', 'src/stores/keystone/project.js', 'src/stores/magnum/clusterTemplatesAdmin.js', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/583386d2ce194f56890a967640a26db432ea326b', 'message': 'fix: seprate clusters and templates by different project\n\n1.use detail api to fetch list in console but no detail in administrator\n2.fix the used quota with clusters detail api\n\nChange-Id: I104495a2b7c9937a9e6e922c4fac00d3f4178235\n'}]",0,868259,583386d2ce194f56890a967640a26db432ea326b,7,2,1,33689,,,0,"fix: seprate clusters and templates by different project

1.use detail api to fetch list in console but no detail in administrator
2.fix the used quota with clusters detail api

Change-Id: I104495a2b7c9937a9e6e922c4fac00d3f4178235
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/59/868259/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/magnum/clusterAdmin.js', 'src/stores/magnum/clusterTemplates.js', 'src/stores/keystone/project.js', 'src/stores/magnum/clusterTemplatesAdmin.js', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx']",6,583386d2ce194f56890a967640a26db432ea326b,fix-magnum-bugs,import { ClustersStore } from 'stores/magnum/clusters'; import { ClustersAdminStore } from 'stores/magnum/clusterAdmin'; if (this.isAdminPage) { this.store = new ClustersAdminStore(); } else { this.store = new ClustersStore(); },import globalClustersStore from 'src/stores/magnum/clusters'; this.store = globalClustersStore;,68,6
openstack%2Fceilometer~866659,openstack/ceilometer,stable/wallaby,I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4,Fix OutgoingBytesDeltaPollster sample name,MERGED,2022-12-06 19:30:02.000000000,2022-12-21 08:58:02.000000000,2022-12-21 08:56:54.000000000,"[{'_account_id': 4264}, {'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-06 19:30:02.000000000', 'files': ['ceilometer/compute/pollsters/net.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/da7f5bd2b1486b70f3e0763e686fe06a11c9ded9', 'message': 'Fix OutgoingBytesDeltaPollster sample name\n\nThe good name is network.outgoing.bytes.delta.\n\nChange-Id: I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n(cherry picked from commit 7a507457cb5180296922d1f533751259dee7a19c)\n(cherry picked from commit 5d246c6ceaff22eca7eaa1591bdecd8818aef555)\n'}]",1,866659,da7f5bd2b1486b70f3e0763e686fe06a11c9ded9,9,3,1,7294,,,0,"Fix OutgoingBytesDeltaPollster sample name

The good name is network.outgoing.bytes.delta.

Change-Id: I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
(cherry picked from commit 7a507457cb5180296922d1f533751259dee7a19c)
(cherry picked from commit 5d246c6ceaff22eca7eaa1591bdecd8818aef555)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/59/866659/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/pollsters/net.py'],1,da7f5bd2b1486b70f3e0763e686fe06a11c9ded9,, sample_name = 'network.outgoing.bytes.delta', sample_name = 'network.outgoing.packets.delta',1,1
openstack%2Fswift~868139,openstack/swift,stable/xena,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:14:30.000000000,2022-12-21 08:28:23.000000000,2022-12-21 08:26:31.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:14:30.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a196790cc7cda5be866aac1301b10a4ee81e1a68', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",1,868139,a196790cc7cda5be866aac1301b10a4ee81e1a68,8,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/868139/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,a196790cc7cda5be866aac1301b10a4ee81e1a68,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~868138,openstack/swift,stable/xena,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-20 00:14:30.000000000,2022-12-21 08:27:31.000000000,2022-12-21 08:26:28.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:14:30.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/75aae4c1b9b582ee0d447b40167fd0dee0c008c9', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868138,75aae4c1b9b582ee0d447b40167fd0dee0c008c9,8,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/868138/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,75aae4c1b9b582ee0d447b40167fd0dee0c008c9,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Foslo.messaging~851852,openstack/oslo.messaging,master,I81167eea0a6b1a43a88baa3bc383af684f4b1345,Remove logging from ProducerConnection._produce_message,MERGED,2022-08-02 12:51:42.000000000,2022-12-21 07:47:17.000000000,2022-12-21 07:46:22.000000000,"[{'_account_id': 9816}, {'_account_id': 11583}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-08-02 12:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1efdc7a8e4ae4fa1972d735364537c532cf34f86', 'message': 'Remove logging from ProducerConnection._produce_message\n\nIn impl_kafka, _produce_message is run in a tpool.execute\ncontext but it was also calling logging functions.\nThis could cause subsequent calls to logging functions to\ndeadlock.\n\nThis patch moves the logging calls out of the tpool.execute scope.\n\nChange-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345\nCloses-bug: #1981093\n'}, {'number': 2, 'created': '2022-08-03 12:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d97ceb6e32c3e26f31ef0532750cdf3f011e0848', 'message': 'Remove logging from ProducerConnection._produce_message\n\nIn impl_kafka, _produce_message is run in a tpool.execute\ncontext but it was also calling logging functions.\nThis could cause subsequent calls to logging functions to\ndeadlock.\n\nThis patch moves the logging calls out of the tpool.execute scope.\n\nChange-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345\nCloses-bug: #1981093\n'}, {'number': 3, 'created': '2022-08-03 15:35:26.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'releasenotes/notes/bug-1981093-kafka-dont-log-in-tpool-execute-fa50ceee2d55ebae.yaml', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/43f2224aacb668aa51de3d1274ff8939d8aa73ae', 'message': 'Remove logging from ProducerConnection._produce_message\n\nIn impl_kafka, _produce_message is run in a tpool.execute\ncontext but it was also calling logging functions.\nThis could cause subsequent calls to logging functions to\ndeadlock.\n\nThis patch moves the logging calls out of the tpool.execute scope.\n\nChange-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345\nCloses-bug: #1981093\n'}]",12,851852,43f2224aacb668aa51de3d1274ff8939d8aa73ae,24,8,3,9642,,,0,"Remove logging from ProducerConnection._produce_message

In impl_kafka, _produce_message is run in a tpool.execute
context but it was also calling logging functions.
This could cause subsequent calls to logging functions to
deadlock.

This patch moves the logging calls out of the tpool.execute scope.

Change-Id: I81167eea0a6b1a43a88baa3bc383af684f4b1345
Closes-bug: #1981093
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/52/851852/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_kafka.py'],1,1efdc7a8e4ae4fa1972d735364537c532cf34f86,," def _produce_message(self, topic, message, poll): if poll: self.producer.poll(poll) try: self.producer.produce(topic, message) except KafkaException as e: self.producer.poll(0) raise e except BufferError as e: # We'll have to poll next time raise e poll = 0 while True: try: if eventletutils.is_monkey_patched('thread'): return tpool.execute(self._produce_message, topic, message, poll) return self._produce_message(topic, message, poll) except KafkaException as e: LOG.error(""Produce message failed: %s"" % str(e)) break except BufferError: LOG.debug(""Produce message queue full, "" ""waiting for deliveries"") # We'll retry with .5s polling poll = 0.5 "," def _produce_message(self, topic, message): while True: try: self.producer.produce(topic, message) except KafkaException as e: LOG.error(""Produce message failed: %s"" % str(e)) except BufferError: LOG.debug(""Produce message queue full, waiting for deliveries"") self.producer.poll(0.5) continue break if eventletutils.is_monkey_patched('thread'): return tpool.execute(self._produce_message, topic, message) return self._produce_message(topic, message)",27,15
openstack%2Fceilometer~852492,openstack/ceilometer,stable/wallaby,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2022-08-09 10:38:50.000000000,2022-12-21 07:40:15.000000000,2022-12-21 07:39:14.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 13177}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-09 10:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cd2ef4f6950d9db3a29cfb7e32b21e0576f28f55', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 2, 'created': '2022-08-10 12:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4f3948896f1dffd4fc598f88e14e3abeed23b5d8', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 3, 'created': '2022-08-30 17:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6bb38d8b3fe2880b7ae5696371e889e203640701', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 4, 'created': '2022-09-01 12:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f5850b342eee4e9469fbee5b5c604e321196aa2d', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}, {'number': 5, 'created': '2022-12-15 13:06:29.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b80d48afea9ab934e380f277ab92aaf4d45e1297', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)\n(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)\n'}]",8,852492,b80d48afea9ab934e380f277ab92aaf4d45e1297,28,4,5,13177,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
(cherry picked from commit 0940d4f2318e7216486ad2d6ad11837c8f54797a)
(cherry picked from commit 274e51555f0b939efc228efe1ec34e0253742a8e)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/92/852492/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,cd2ef4f6950d9db3a29cfb7e32b21e0576f28f55,bug-1774292," def isAlive(self): return False @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",7,5
openstack%2Fceilometer~863969,openstack/ceilometer,master,I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2,Change oslo_cache implementation,MERGED,2022-11-08 09:19:26.000000000,2022-12-21 07:40:12.000000000,2022-12-21 07:39:12.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 09:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b808a8ed3940b1605f95eb0882b61aece51856bc', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 2, 'created': '2022-11-18 10:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d958dd24a902366ab2def5ae93a866f2775487aa', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 3, 'created': '2022-11-21 05:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c879d8bb8fcc29fba1c02415e087c70fb9bee4f3', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 4, 'created': '2022-11-21 05:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/75d00101a8bd9d7c425bf5ab274c49c8938fc811', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 5, 'created': '2022-11-21 05:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fd76aa2b6cd55a50fe1dfb9d743d8ced8f3abf15', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 6, 'created': '2022-11-21 13:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7d0f3a4fafea8adac8f373beb810b707d8512f62', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}, {'number': 7, 'created': '2022-11-21 14:19:07.000000000', 'files': ['ceilometer/cache_utils.py', 'ceilometer/tests/unit/test_cache_utils.py', 'ceilometer/polling/manager.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b4a2801ec6a99df400d353d27a11de9be879c2a3', 'message': ""Change oslo_cache implementation\n\nAs of now to leverage caching, oslo_cache library has to be imported\nand configured everytime it's needed.\n\nThis change migrates such implementatio to use `cache_utils.py`\nwhich returns a cache client to perform caching operations. This\neliminates the purpose of importing oslo_cache everytime when needed.\n\nTo get a cache client:\n```\nfrom ceilometer import cache_utils\n.\ncache_client = cache_utils.get_client(conf)\n```\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2\n""}]",0,863969,b4a2801ec6a99df400d353d27a11de9be879c2a3,19,2,7,32240,,,0,"Change oslo_cache implementation

As of now to leverage caching, oslo_cache library has to be imported
and configured everytime it's needed.

This change migrates such implementatio to use `cache_utils.py`
which returns a cache client to perform caching operations. This
eliminates the purpose of importing oslo_cache everytime when needed.

To get a cache client:
```
from ceilometer import cache_utils
.
cache_client = cache_utils.get_client(conf)
```

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I14f9e1cbe84a953b092c3a88345d5faa9bcc9fb2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/69/863969/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/cache_utils.py', 'ceilometer/polling/manager.py', 'ceilometer/publisher/gnocchi.py']",3,b808a8ed3940b1605f95eb0882b61aece51856bc,gnocchi_cache,from ceilometer import cache_utils # NOTE(cdent): The default cache backend is a real but # noop backend. We don't want to use that here because # we want to avoid the cache pathways entirely if the # cache has not been configured explicitly. self.cache = cache_utils.get_client(conf),"import hashlibimport uuidimport oslo_cacheNAME_ENCODED = __name__.encode('utf-8') CACHE_NAMESPACE = uuid.UUID(bytes=hashlib.md5(NAME_ENCODED).digest())def cache_key_mangler(key): """"""Construct an opaque cache key."""""" return uuid.uuid5(CACHE_NAMESPACE, key).hex self.cache = None try: oslo_cache.configure(conf) # NOTE(cdent): The default cache backend is a real but # noop backend. We don't want to use that here because # we want to avoid the cache pathways entirely if the # cache has not been configured explicitly. if conf.cache.enabled: cache_region = oslo_cache.create_region() self.cache = oslo_cache.configure_cache_region( conf, cache_region) self.cache.key_mangler = cache_key_mangler except oslo_cache.exception.ConfigurationError as exc: LOG.warning('unable to configure oslo_cache: %s', exc)",35,43
openstack%2Faodh~868173,openstack/aodh,stable/ussuri,I4f631d224404460138f4050b1b981d577b592544,gnocchi: Use Dynamic Aggregates API,MERGED,2022-12-20 10:05:18.000000000,2022-12-21 07:38:24.000000000,2022-12-21 07:37:25.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:05:18.000000000', 'files': ['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/262daf83d1f95641ee6a6e0e98b07da92319c0d1', 'message': 'gnocchi: Use Dynamic Aggregates API\n\nSwitch to using the Dynamic Aggregates API as the Metric Aggregation\nAPI is deprecated.\n\nWhen using the Dynamic Aggregates API, any aggregation using rates\ncan use the underlying base measures for the aggregation rather than\nthe rate, for example:\n\n    (aggregation rate:mean (metric cpu mean))\n\nThe tuple of data for each record returned via this API is encapsulated\nwith information about the aggregation used so adapt the sanitization\nfunction to deal with this and the formatting of the metrics measures\nAPI as well.\n\nChange-Id: I4f631d224404460138f4050b1b981d577b592544\nCloses-Bug: 1946793\n(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)\n(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)\n(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)\n(cherry picked from commit 4820d595bfe4c4280b77bcac7fd97660397bfe39)\n'}]",1,868173,262daf83d1f95641ee6a6e0e98b07da92319c0d1,9,2,1,32240,,,0,"gnocchi: Use Dynamic Aggregates API

Switch to using the Dynamic Aggregates API as the Metric Aggregation
API is deprecated.

When using the Dynamic Aggregates API, any aggregation using rates
can use the underlying base measures for the aggregation rather than
the rate, for example:

    (aggregation rate:mean (metric cpu mean))

The tuple of data for each record returned via this API is encapsulated
with information about the aggregation used so adapt the sanitization
function to deal with this and the formatting of the metrics measures
API as well.

Change-Id: I4f631d224404460138f4050b1b981d577b592544
Closes-Bug: 1946793
(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)
(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)
(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)
(cherry picked from commit 4820d595bfe4c4280b77bcac7fd97660397bfe39)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/73/868173/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/gnocchi.py']",5,262daf83d1f95641ee6a6e0e98b07da92319c0d1,bug/1946793-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," # NOTE(jamespage) # Dynamic Aggregates are returned in a dict struct so # check for this first. if isinstance(statistics, dict): # Pop array of measures from aggregated subdict statistics = statistics['measures']['aggregated'] _operations = [ 'aggregate', rule['aggregation_method'] ] for metric in rule['metrics']: _operations.append( [ 'metric', metric, rule['aggregation_method'].lstrip('rate:') ] ) return self._gnocchi_client.aggregates.fetch( operations=_operations, try: # FIXME(sileht): In case of a heat autoscaling stack decide to # delete an instance, the gnocchi metrics associated to this # instance will be no more updated and when the alarm will ask # for the aggregation, gnocchi will raise a 'No overlap' # exception. # So temporary set 'needed_overlap' to 0 to disable the # gnocchi checks about missing points. For more detail see: # https://bugs.launchpad.net/gnocchi/+bug/1479429 return self._gnocchi_client.aggregates.fetch( operations=[ 'aggregate', rule['aggregation_method'], [ 'metric', rule['metric'], rule['aggregation_method'].lstrip('rate:') ] ], search=json.loads(rule['query']), needed_overlap=0)"," return self._gnocchi_client.metric.aggregation( metrics=rule['metrics'], aggregation=rule['aggregation_method'], # FIXME(sileht): In case of a heat autoscaling stack decide to # delete an instance, the gnocchi metrics associated to this # instance will be no more updated and when the alarm will ask # for the aggregation, gnocchi will raise a 'No overlap' # exception. # So temporary set 'needed_overlap' to 0 to disable the # gnocchi checks about missing points. For more detail see: # https://bugs.launchpad.net/gnocchi/+bug/1479429 try: return self._gnocchi_client.metric.aggregation( metrics=rule['metric'], query=json.loads(rule['query']), aggregation=rule['aggregation_method'], needed_overlap=0, )",230,124
openstack%2Fpython-aodhclient~868172,openstack/python-aodhclient,stable/victoria,Ia11f25fa8c36c6051a44994f2545e2b64a665593,Change aggregation method to mean,MERGED,2022-12-20 07:59:47.000000000,2022-12-21 06:59:07.000000000,2022-12-21 06:58:10.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 07:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/162148700d92e081487f9d2bae8a5b45f16e8ef3', 'message': 'Change aggregation method to mean\n\nCommit 8454cac06a654bb1e4eea20e6a36417796a94d82 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nopenstack-tox-py* jobs fail due to missing ""operatorPrecedence""\nattribute because of change[1] in pyparsing module. Adjust to\nthis change by using ""infixNotation"" in place of ""operatorPrecedence"".\n\n[1] https://github.com/pyparsing/pyparsing/commit/ab2f220dd26ead73ce5bf496db85c07810e458f4\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/863796\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n(cherry picked from commit 621b4aef88edcb34712c2060a27a9f10431974d7)\n(cherry picked from commit 17677567f7d58f8eb8885feda81fbffcba53311b)\n(cherry picked from commit 1c67e9a167b6612f45313af978eaa3c10b701621)\n'}, {'number': 2, 'created': '2022-12-20 08:00:02.000000000', 'files': ['aodhclient/tests/functional/test_alarm.py', 'aodhclient/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/2dca78e03cd22194780290be99dbe4566c30c65d', 'message': 'Change aggregation method to mean\n\nCommit 8454cac06a654bb1e4eea20e6a36417796a94d82 handles\nignoring gnocchi api error when metric is not created.\nHowever there are functional test failures when the\naggregation method is set to last for alarm type\ngnocchi_aggregation_by_resources_threshold,\n\nThis fix changes the aggregration method to mean for\nany create/update of alarm type\ngnocchi_aggregation_by_resources_threshold.\n\nopenstack-tox-py* jobs fail due to missing ""operatorPrecedence""\nattribute because of change[1] in pyparsing module. Adjust to\nthis change by using ""infixNotation"" in place of ""operatorPrecedence"".\n\n[1] https://github.com/pyparsing/pyparsing/commit/ab2f220dd26ead73ce5bf496db85c07810e458f4\n\nChange-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593\nCloses-Bug: #1974682\n(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)\n(cherry picked from commit 621b4aef88edcb34712c2060a27a9f10431974d7)\n(cherry picked from commit 17677567f7d58f8eb8885feda81fbffcba53311b)\n(cherry picked from commit 1c67e9a167b6612f45313af978eaa3c10b701621)\n'}]",0,868172,2dca78e03cd22194780290be99dbe4566c30c65d,9,2,2,32240,,,0,"Change aggregation method to mean

Commit 8454cac06a654bb1e4eea20e6a36417796a94d82 handles
ignoring gnocchi api error when metric is not created.
However there are functional test failures when the
aggregation method is set to last for alarm type
gnocchi_aggregation_by_resources_threshold,

This fix changes the aggregration method to mean for
any create/update of alarm type
gnocchi_aggregation_by_resources_threshold.

openstack-tox-py* jobs fail due to missing ""operatorPrecedence""
attribute because of change[1] in pyparsing module. Adjust to
this change by using ""infixNotation"" in place of ""operatorPrecedence"".

[1] https://github.com/pyparsing/pyparsing/commit/ab2f220dd26ead73ce5bf496db85c07810e458f4

Change-Id: Ia11f25fa8c36c6051a44994f2545e2b64a665593
Closes-Bug: #1974682
(cherry picked from commit d656c191131e20bb634e4eeb6d074bc32a6df60f)
(cherry picked from commit 621b4aef88edcb34712c2060a27a9f10431974d7)
(cherry picked from commit 17677567f7d58f8eb8885feda81fbffcba53311b)
(cherry picked from commit 1c67e9a167b6612f45313af978eaa3c10b701621)
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/72/868172/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodhclient/tests/functional/test_alarm.py', 'aodhclient/utils.py', 'tox.ini']",3,162148700d92e081487f9d2bae8a5b45f16e8ef3,," PYTHONWARNINGS=ignore:DEPRECATION::pip._internal.cli.base_command,ignore::UserWarning http://tarballs.openstack.org/aodh/aodh-stable-wallaby.tar.gz#egg=aodh[mysql]", http://tarballs.openstack.org/aodh/aodh-master.tar.gz#egg=aodh[mysql],13,12
openstack%2Fcinder~861609,openstack/cinder,master,I3bfb53fda9aefe3571500db4db4c123ecf52e74b,WIP: Test Ubuntu 22.04 (Jammy) migration,ABANDONED,2022-10-17 13:25:23.000000000,2022-12-21 05:42:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-17 13:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f774cb686cb66c8d5c1a5d16ae7277d730acd41', 'message': 'WIP: Test Ubuntu 22.04 (Jammy) migration\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b\n'}, {'number': 2, 'created': '2022-11-16 13:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d72ec518ca3c455fcb8df0a2b3a7a64ab6c89ded', 'message': 'WIP: Test Ubuntu 22.04 (Jammy) migration\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/863524\nChange-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b\n'}, {'number': 3, 'created': '2022-11-17 21:45:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4e734b3525bde6036e403103b747d141a775be4', 'message': 'WIP: Test Ubuntu 22.04 (Jammy) migration\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/864948\nChange-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b\n'}]",7,861609,e4e734b3525bde6036e403103b747d141a775be4,67,1,3,27615,,,0,"WIP: Test Ubuntu 22.04 (Jammy) migration

Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/864948
Change-Id: I3bfb53fda9aefe3571500db4db4c123ecf52e74b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/861609/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f774cb686cb66c8d5c1a5d16ae7277d730acd41,migrate-to-jammy,,,1,0
openstack%2Fswift~868249,openstack/swift,stable/victoria,If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b,py2constraints: pin PasteDeploy version,MERGED,2022-12-21 01:15:58.000000000,2022-12-21 05:41:26.000000000,2022-12-21 05:40:24.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34175}]","[{'number': 1, 'created': '2022-12-21 01:15:58.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', 'py2-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/2593c4c56bf0131a6d28970e53b4ce2101ceaea8', 'message': ""py2constraints: pin PasteDeploy version\n\nPasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as\nwell as <3.7), which causes our py2 tests to fail. So cap the version\nhere at 2.1.1, the last which is compatible with our tests.\n\nEven doing this doesn't stop pip install swift pulling in a newer\nPasteDeploy in the\ntools/playbooks/saio_single_node_setup/make_rings.yaml playbook\n(causing the probes test on CentOS-7 to fail); so handle CentOS 7\nexplicitly.\n\nChange-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\n(cherry picked from commit cc033154ad4a4f345258457f3ceed9143fb3d46d)\n(cherry picked from commit d05ddb03648d70e4b8612243bb8cd2ddf8ae6baa)\n""}]",1,868249,2593c4c56bf0131a6d28970e53b4ce2101ceaea8,7,3,1,15343,,,0,"py2constraints: pin PasteDeploy version

PasteDeploy version 3.0 (2022-10-16) dropped support for python2 (as
well as <3.7), which causes our py2 tests to fail. So cap the version
here at 2.1.1, the last which is compatible with our tests.

Even doing this doesn't stop pip install swift pulling in a newer
PasteDeploy in the
tools/playbooks/saio_single_node_setup/make_rings.yaml playbook
(causing the probes test on CentOS-7 to fail); so handle CentOS 7
explicitly.

Change-Id: If69ae0f8eac8fe8ff7d5e4f4f1bff6d0ea9e7a8b
Signed-off-by: Matthew Vernon <mvernon@wikimedia.org>
(cherry picked from commit cc033154ad4a4f345258457f3ceed9143fb3d46d)
(cherry picked from commit d05ddb03648d70e4b8612243bb8cd2ddf8ae6baa)
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/868249/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/common/install_dependencies.yaml', 'py2-constraints.txt']",2,2593c4c56bf0131a6d28970e53b4ce2101ceaea8,,PasteDeploy==2.1.1,,10,0
openstack%2Fpuppet-pacemaker~854482,openstack/puppet-pacemaker,master,Iebb2c496e79604a68171c82b07af3f8efd20b50d,remove unicode from code,MERGED,2022-08-25 02:59:53.000000000,2022-12-21 05:35:52.000000000,2022-12-21 05:34:56.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 02:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/7d7fba493eabdd46a0c79ec854ee68db0a647c26', 'message': 'remove unicode from code\n\nChange-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d\n'}, {'number': 2, 'created': '2022-12-21 04:19:57.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/7add07357c2a96bf4637331bee22154ee5cc1d8a', 'message': 'remove unicode from code\n\nChange-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d\n'}]",1,854482,7add07357c2a96bf4637331bee22154ee5cc1d8a,10,2,2,35067,,,0,"remove unicode from code

Change-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/82/854482/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,7d7fba493eabdd46a0c79ec854ee68db0a647c26,,"project = 'puppet-pacemaker Release Notes' copyright = '2016, Puppet OpenStack Developers' ('index', 'puppet-pacemakerReleaseNotes.tex', 'puppet-pacemaker Release Notes Documentation', '2016, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-pacemakerreleasenotes', 'puppet-pacemaker Release Notes Documentation', ['2016, Puppet OpenStack Developers'], 1) ('index', 'puppet-pacemakerReleaseNotes', 'puppet-pacemaker Release Notes Documentation', '2016, Puppet OpenStack Developers', 'puppet-pacemakerReleaseNotes', 'One line description of project.',","project = u'puppet-pacemaker Release Notes' copyright = u'2016, Puppet OpenStack Developers' ('index', 'puppet-pacemakerReleaseNotes.tex', u'puppet-pacemaker Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-pacemakerreleasenotes', u'puppet-pacemaker Release Notes Documentation', [u'2016, Puppet OpenStack Developers'], 1) ('index', 'puppet-pacemakerReleaseNotes', u'puppet-pacemaker Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'puppet-pacemakerReleaseNotes', 'One line description of project.',",8,8
openstack%2Ftripleo-heat-templates~867027,openstack/tripleo-heat-templates,stable/zed,Iba74be163a3eead5df4110d4411d18f47d8cefc4,Configure a step when the old ironic-api configuration is cleaned,MERGED,2022-12-09 08:47:04.000000000,2022-12-21 05:34:54.000000000,2022-12-21 05:34:54.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-09 08:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f29e600acf0eb346c2fde915b00d5abe685dd35', 'message': 'Configure a step when the old ironic-api configuration is cleaned\n\nCurrently the cleaning is executed in every step,\nthis creates the ~~Undercloud/upgrade_tasks_step4.yaml.\nSeting up correctly a step avoid creates the step4\n\nChange-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4\n(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)\n'}, {'number': 2, 'created': '2022-12-09 15:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d59139e25a15914c76e6f2d0cb4ceedd9463b47', 'message': 'Configure a step when the old ironic-api configuration is cleaned\n\nCurrently the cleaning is executed in every step,\nthis creates the ~~Undercloud/upgrade_tasks_step4.yaml.\nSeting up correctly a step avoid creates the step4\n\nChange-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4\n(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)\n'}, {'number': 3, 'created': '2022-12-09 15:29:44.000000000', 'files': ['deployment/ironic/ironic-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74cff91485eec91e9edae3e237c861d7db9487b4', 'message': 'Configure a step when the old ironic-api configuration is cleaned\n\nCurrently the cleaning is executed in every step,\nthis creates the ~~Undercloud/upgrade_tasks_step4.yaml.\nSeting up correctly a step avoid creates the step4\n\nChange-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4\n(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)\n'}]",0,867027,74cff91485eec91e9edae3e237c861d7db9487b4,11,3,3,22954,,,0,"Configure a step when the old ironic-api configuration is cleaned

Currently the cleaning is executed in every step,
this creates the ~~Undercloud/upgrade_tasks_step4.yaml.
Seting up correctly a step avoid creates the step4

Change-Id: Iba74be163a3eead5df4110d4411d18f47d8cefc4
(cherry picked from commit db297a4282e868058561e7cffec07c16f9e62e68)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/867027/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-api-container-puppet.yaml'],1,2f29e600acf0eb346c2fde915b00d5abe685dd35,bug/1998501-stable/zed, when: - step|int == 2,,2,0
openstack%2Fdiskimage-builder~856577,openstack/diskimage-builder,master,Iafe3283665a437d0a9cf83a93ff66c0613310b69,Add variable for check installing python3 in yum element,MERGED,2022-09-09 08:16:29.000000000,2022-12-21 05:17:42.000000000,2022-12-21 05:16:35.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 08:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/904c275c96bfbc609e0456d46350757f42700c26', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 2, 'created': '2022-09-09 08:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4fca817f9b39a9f194cb7b35a59221d8ad9714fe', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 3, 'created': '2022-09-21 09:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4f3e99a6c11b0ce17d1be1e1d4311e573a7db338', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 4, 'created': '2022-10-06 03:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb29ed9d99da516a4bafa29c2989053347c7afb8', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 5, 'created': '2022-12-07 03:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05c2828ddec875c56c2c9dd8b69a8f5313b35bd2', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}, {'number': 6, 'created': '2022-12-16 03:51:10.000000000', 'files': ['diskimage_builder/elements/yum/pre-install.d/01-00-centos-python3', 'diskimage_builder/elements/yum/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a9edef6548091796711fec34f1d490596146c5b0', 'message': 'Add variable for check installing python3 in yum element\n\nIf client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.\n\nChange-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69\n'}]",15,856577,a9edef6548091796711fec34f1d490596146c5b0,43,3,6,35208,,,0,"Add variable for check installing python3 in yum element

If client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.

Change-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/856577/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,904c275c96bfbc609e0456d46350757f42700c26,,,,0,0
openstack%2Fmanila-tempest-plugin~867624,openstack/manila-tempest-plugin,master,I80e7e1ccef4ef3ef45e2a013610602e003deaf84,[RBAC] remove 'project_member' credentias,MERGED,2022-12-14 11:00:59.000000000,2022-12-21 03:40:48.000000000,2022-12-21 03:40:48.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 33301}]","[{'number': 1, 'created': '2022-12-14 11:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5ece8e10497cea01408da8a01e1d699e5a6b37b8', 'message': ""[RBAC] remove 'project_admin' credentias\n\nThere is no need to use 'project_member 'credentials\nin reader class.\n\nChange-Id: I80e7e1ccef4ef3ef45e2a013610602e003deaf84\n""}, {'number': 2, 'created': '2022-12-15 21:43:01.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_share_types.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/edc7ebb1d8fb53b4a5a7a0043d56fc740f6262d9', 'message': ""[RBAC] remove 'project_member' credentias\n\nThere is no need to use 'project_member 'credentials\nin reader class.\n\nChange-Id: I80e7e1ccef4ef3ef45e2a013610602e003deaf84\n""}]",5,867624,edc7ebb1d8fb53b4a5a7a0043d56fc740f6262d9,17,5,2,19262,,,0,"[RBAC] remove 'project_member' credentias

There is no need to use 'project_member 'credentials
in reader class.

Change-Id: I80e7e1ccef4ef3ef45e2a013610602e003deaf84
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/24/867624/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/rbac/test_share_types.py'],1,5ece8e10497cea01408da8a01e1d699e5a6b37b8,secure-rbac, credentials = ['project_reader']," credentials = ['project_reader', 'project_member']",1,1
openstack%2Fskyline-console~868250,openstack/skyline-console,master,Ib5de517a3c894168c9680a1b37237437a497906f,fix: fix the project column,MERGED,2022-12-21 01:26:19.000000000,2022-12-21 03:24:45.000000000,2022-12-21 03:23:38.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-21 01:26:19.000000000', 'files': ['src/resources/magnum/template.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/331c2ddd3be1a69ad95bf35c721019cccd9c61d7', 'message': 'fix: fix the project column\n\nadd project column to cluster template but not simple flavor column\n\nChange-Id: Ib5de517a3c894168c9680a1b37237437a497906f\n'}]",0,868250,331c2ddd3be1a69ad95bf35c721019cccd9c61d7,7,2,1,33689,,,0,"fix: fix the project column

add project column to cluster template but not simple flavor column

Change-Id: Ib5de517a3c894168c9680a1b37237437a497906f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/50/868250/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/magnum/template.js'],1,331c2ddd3be1a69ad95bf35c721019cccd9c61d7,fix-magnum-bugs," title: t('Project ID/Name'), dataIndex: 'project_name', isHideable: true, hidden: !self.isAdminPage, }, {"," title: t('Project ID/Name'), dataIndex: 'project_name', isHideable: true, hidden: !self.isAdminPage, }, {",6,6
openstack%2Fvenus~868160,openstack/venus,master,Idb1a453fd2a6d165deeb2321c73b06aab951102a,add databases modules,MERGED,2022-12-20 09:07:44.000000000,2022-12-21 02:42:04.000000000,2022-12-21 02:40:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}]","[{'number': 1, 'created': '2022-12-20 09:07:44.000000000', 'files': ['venus/modules/custom_config/backends/__init__.py', 'venus/modules/custom_config/backends/models.py', 'venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/3a6167124e5aeb0291712e53ef8988f9798ffc32', 'message': 'add databases modules\n\nChange-Id: Idb1a453fd2a6d165deeb2321c73b06aab951102a\n'}]",1,868160,3a6167124e5aeb0291712e53ef8988f9798ffc32,7,2,1,30455,,,0,"add databases modules

Change-Id: Idb1a453fd2a6d165deeb2321c73b06aab951102a
",git fetch https://review.opendev.org/openstack/venus refs/changes/60/868160/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/modules/custom_config/backends/__init__.py', 'venus/modules/custom_config/backends/models.py', 'venus/modules/custom_config/backends/sql.py']",3,3a6167124e5aeb0291712e53ef8988f9798ffc32,,"# Copyright 2020 Inspur # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Implementation of SQLAlchemy backend."""""" import sqlalchemy import threading import time from oslo_config import cfg from oslo_db import options from oslo_db.sqlalchemy import session as db_session from oslo_log import log as logging import osprofiler.sqlalchemy from venus.modules.custom_config.backends import models CONF = cfg.CONF CONF.import_group(""profiler"", ""venus.service"") log = logging.getLogger(__name__) options.set_defaults(CONF, connection='sqlite:///$state_path/venus.sqlite') _LOCK = threading.Lock() _FACADE = None def _create_facade_lazily(): global _LOCK with _LOCK: global _FACADE if _FACADE is None: _FACADE = db_session.EngineFacade( CONF.database.connection, **dict(CONF.database) ) if CONF.profiler.profiler_enabled: if CONF.profiler.trace_sqlalchemy: osprofiler.sqlalchemy.add_tracing(sqlalchemy, _FACADE.get_engine(), ""db"") return _FACADE def get_session(**kwargs): facade = _create_facade_lazily() return facade.get_session(**kwargs) class CustomConfigSql(object): def get_config(self, id): session = get_session() with session.begin(): config = session.query(models.CustomConfig).filter_by( id=id).first() if config is None: return None else: return config.value def set_config(self, id, value): session = get_session() with session.begin(): config = session.query(models.CustomConfig).filter_by( id=id).first() if config is None: s_instance = models.CustomConfig( id=id, value=value, update_time=time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time()))) session.add(s_instance) else: config.value = value config.update_time = time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time())) ",,167,0
openstack%2Ftripleo-ansible~865926,openstack/tripleo-ansible,stable/wallaby,Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060,DNN: Testing debug output ...,ABANDONED,2022-11-29 01:39:17.000000000,2022-12-21 02:10:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 01:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86ed0f3157c0e7214dafcea139faaa1cd4e5fe4e', 'message': 'DNN: Testing debug output ...\n\nChange-Id: Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060\n'}, {'number': 2, 'created': '2022-11-29 05:05:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de01a43d60a22da369cf35d9960ada0b9d2233e7', 'message': 'DNN: Testing debug output ...\n\nChange-Id: Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060\n'}]",0,865926,de01a43d60a22da369cf35d9960ada0b9d2233e7,7,2,2,9816,,,0,"DNN: Testing debug output ...

Change-Id: Ia4cda3330eb748fb51c2fcd7da2a6e08b3225060
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/865926/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml'],1,86ed0f3157c0e7214dafcea139faaa1cd4e5fe4e,," no_log: true - name: ""Debug output for task: Run init bundle puppet on the host for {{ tripleo_ha_wrapper_service_name }}"" debug: var: puppet_run.stdout_lines | default([]) | union(puppet_run.stderr_lines | default([]))",,5,0
openstack%2Ftripleo-heat-templates~867193,openstack/tripleo-heat-templates,stable/train,I08b635b7464ca09c45f988a1134d82b3eda0323b,DNM: Trigger Ceph job,ABANDONED,2022-12-12 03:49:17.000000000,2022-12-21 02:09:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-12 03:49:17.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a890796591587a49d30f30db0294549b7fada0ff', 'message': 'DNM: Trigger Ceph job\n\nChange-Id: I08b635b7464ca09c45f988a1134d82b3eda0323b\n'}]",0,867193,a890796591587a49d30f30db0294549b7fada0ff,4,2,1,9816,,,0,"DNM: Trigger Ceph job

Change-Id: I08b635b7464ca09c45f988a1134d82b3eda0323b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/867193/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,a890796591587a49d30f30db0294549b7fada0ff,,,,1,0
openstack%2Frequirements~851632,openstack/requirements,master,I3677978ce3b7d7c709e65b8e2e353d199c6c7518,remove unicode literal from code,ABANDONED,2022-07-30 07:54:05.000000000,2022-12-21 01:56:49.000000000,,"[{'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 07:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d4c76f8cef914413bf080dfa262153f487a6bf1', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 2, 'created': '2022-08-18 07:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9713d29d100c35dcce2d8d33194baae410011f51', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 3, 'created': '2022-08-21 07:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/13751fec005f01e26f734c041d5d34472f4af437', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 4, 'created': '2022-08-27 06:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55e976f40f33284c3d4b7790d0abef93d0b33fd5', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 5, 'created': '2022-08-27 06:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7c27fba03e10b3ebef6156d79eb2850c4e2efed', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 6, 'created': '2022-08-30 03:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ccccc303fec3ff71d5273223499c38582ca355c3', 'message': 'remove unicode literal from code\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n'}, {'number': 7, 'created': '2022-08-30 04:12:28.000000000', 'files': ['openstack_requirements/tests/test_update.py', 'openstack_requirements/project.py', 'openstack_requirements/tests/test_check_constraints.py', 'doc/source/conf.py', 'openstack_requirements/cmds/check_exists.py', 'openstack_requirements/requirement.py', 'openstack_requirements/tests/test_project.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc7a81b3bf1f0bf1f8a133be3b4190e344ac63f7', 'message': ""remove unicode literal from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518\n""}]",15,851632,dc7a81b3bf1f0bf1f8a133be3b4190e344ac63f7,24,3,7,35058,,,0,"remove unicode literal from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I3677978ce3b7d7c709e65b8e2e353d199c6c7518
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/851632/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2d4c76f8cef914413bf080dfa262153f487a6bf1,,"project = 'requirements' copyright = '2017, OpenStack Foundation' 'OpenStack contributors', 'manual'),epub_title = 'requirements Documentation' epub_author = 'OpenStack' epub_publisher = 'OpenStack' epub_copyright = '2017, OpenStack'","project = u'requirements' copyright = u'2017, OpenStack Foundation' u'OpenStack contributors', 'manual'),epub_title = u'requirements Documentation' epub_author = u'OpenStack' epub_publisher = u'OpenStack' epub_copyright = u'2017, OpenStack'",7,7
openstack%2Fswift~868137,openstack/swift,stable/yoga,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-20 00:13:25.000000000,2022-12-21 01:51:55.000000000,2022-12-21 01:50:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:13:25.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a6a85919a579bb194fc290fe719bf03269684de9', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",1,868137,a6a85919a579bb194fc290fe719bf03269684de9,8,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/868137/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,a6a85919a579bb194fc290fe719bf03269684de9,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fswift~868136,openstack/swift,stable/yoga,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-20 00:13:25.000000000,2022-12-21 01:48:33.000000000,2022-12-21 01:47:34.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 00:13:25.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4d6d6ba510187fd01297170ae50300fa2af75bf7', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868136,4d6d6ba510187fd01297170ae50300fa2af75bf7,8,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/868136/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,4d6d6ba510187fd01297170ae50300fa2af75bf7,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Fswift~866293,openstack/swift,master,Ie293ddf4bba20ac20ab97700a988396445dfcebc,WIP: Ring v2 zip: RingName abstraction class,NEW,2022-12-01 06:26:50.000000000,2022-12-21 00:21:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 06:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0ccbeb2308d4178e2c53d1d99a3cfc40a5edc82', 'message': 'WIP: Ring v2 zip: RingName abstraction class\n\nPlaying with a new RingName class that we can use to abstract away ring\nname issues.\n\nHelper class do do a bunch, maybe things like:\n - Get all ring names from directory\n - used to get all ring versions of a policy\n - check mtime and see if anything has changed.\n - Anything else that we need for name management..\n\n This is a WIP, so DO MOT MERGE.. thoughts welcome though!\n\nChange-Id: Ie293ddf4bba20ac20ab97700a988396445dfcebc\n'}, {'number': 2, 'created': '2022-12-20 22:48:45.000000000', 'files': ['test/unit/common/ring/test_utils.py', 'swift/common/ring/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e7bb28964d68c875d896b4f51b47be11449f063', 'message': 'WIP: Ring v2 zip: RingName abstraction class\n\nPlaying with a new RingName class that we can use to abstract away ring\nname issues.\n\nHelper class do do a bunch, maybe things like:\n - Get all ring names from directory\n - used to get all ring versions of a policy\n - check mtime and see if anything has changed.\n - Anything else that we need for name management..\n\n This is a WIP, so DO MOT MERGE.. thoughts welcome though!\n\nChange-Id: Ie293ddf4bba20ac20ab97700a988396445dfcebc\n'}]",7,866293,7e7bb28964d68c875d896b4f51b47be11449f063,8,1,2,7233,,,0,"WIP: Ring v2 zip: RingName abstraction class

Playing with a new RingName class that we can use to abstract away ring
name issues.

Helper class do do a bunch, maybe things like:
 - Get all ring names from directory
 - used to get all ring versions of a policy
 - check mtime and see if anything has changed.
 - Anything else that we need for name management..

 This is a WIP, so DO MOT MERGE.. thoughts welcome though!

Change-Id: Ie293ddf4bba20ac20ab97700a988396445dfcebc
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/866293/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/ring/test_utils.py', 'swift/common/ring/utils.py']",2,d0ccbeb2308d4178e2c53d1d99a3cfc40a5edc82,ring-v2,"import os from itertools import chainfrom swift.common.storage_policy import POLICIES ring_name = RingName.from_arg(argvish[1]) return ring_name.builder, ring_name.ring class RingName(object): VERSIONS = (1, 2) def __init__(self, dirname='/etc/swift', policy='object', version=1): self.extension = self._version = None self.dirname = dirname self.version = version self.policy = policy self.last_mtime = None @property def version(self): return self._version @version.setter def version(self, version): if version in (1, '1'): self._version = 1 self.extension = 'gz' elif version in (2, '2'): self._version = 2 self.extension = 'zip' else: raise ValueError(""Ring version must be either 1 or 2"") def __str__(self): return os.path.join( self.dirname, ""{}.ring.{}"".format(self.policy, self.extension)) @property def ring(self): return str(self) @property def builder(self): return os.path.join( self.dirname, ""{}.builder"".format(self.policy)) @staticmethod def from_arg(arg): dirname = os.path.dirname(arg) try: policy, _, ext = os.path.basename(arg).split('.') except ValueError: raise ValueError(""Not a valid ring name"") if ext.lower() == 'gz': return RingName(dirname, policy, 1) elif ext.lower() == 'zip': return RingName(dirname, policy, 2) raise ValueError('Could not determine ring name and version') def exists(self): return os.path.exists(self.ring) def mtime(self): self.last_mtime = os.path.getmtime(self.ring) return self.last_mtime def changed(self): last_mtime = self.last_mtime new_mtime = self.mtime() return last_mtime != new_mtime def get_all_versions(self): return self.names_from_dir(self.dirname, self.policy) @staticmethod def names_from_dir(dirname, policy=None): rings = [] if policy: policies = [policy] else: policies = chain(['account', 'container'], (p.ring_name for p in POLICIES)) for p in policies: for v in RingName.VERSIONS: rn = RingName(dirname, p, v) if rn.exists(): rings.append(rn) # I wonder if we want to return this list sorted by mtime. return rings"," first_arg = argvish[1] if first_arg.endswith('.ring.gz'): ring_file = first_arg builder_file = first_arg[:-len('.ring.gz')] + '.builder' elif first_arg.endswith('.ring.zip'): ring_file = first_arg builder_file = first_arg[:-len('.ring.zip')] + '.builder' else: builder_file = first_arg if not builder_file.endswith('.builder'): ring_file = first_arg else: ring_file = builder_file[:-len('.builder')] ring_file += '.ring.gz' return builder_file, ring_file",145,16
openstack%2Fcinderlib~868213,openstack/cinderlib,master,Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b,DNM: checking the gate,ABANDONED,2022-12-20 13:24:25.000000000,2022-12-20 23:00:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-20 13:24:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/f7132cd5c2a605edb9c9d0f9a2d93b957f9c5cd7', 'message': ""DNM: checking the gate\n\nJust want to do a plain run with none of the tox-4 changes of\nI3aa3d345a4e80ea to verify it's us and not zuul.\n\nChange-Id: Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b\n""}]",0,868213,f7132cd5c2a605edb9c9d0f9a2d93b957f9c5cd7,3,1,1,5314,,,0,"DNM: checking the gate

Just want to do a plain run with none of the tox-4 changes of
I3aa3d345a4e80ea to verify it's us and not zuul.

Change-Id: Ib46d87cb9bac6649403bbbfa1e0abc152c8c6a0b
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/13/868213/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f7132cd5c2a605edb9c9d0f9a2d93b957f9c5cd7,dnm-gate-check," # .zuul.yaml is not irrelevant, hence this comment",,1,0
openstack%2Fopenstack-ansible~867973,openstack/openstack-ansible,master,I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410,[doc] Fix document on dymanic_inventory tox usage,MERGED,2022-12-16 14:06:24.000000000,2022-12-20 22:53:41.000000000,2022-12-20 22:51:25.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-16 14:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b24e51776ff752cf17614e31b4ae4eacfc6d68a', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a type and one important option missed for inventory\ninstallation i na document, that was adjusted in [1]\n\nSo basically wah twe need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n'}, {'number': 2, 'created': '2022-12-16 15:17:26.000000000', 'files': ['doc/source/reference/inventory/generate-inventory.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8493f264e8b8d3408550906d458068264ba05774', 'message': '[doc] Fix document on dymanic_inventory tox usage\n\nThere was a type and one important option missed for inventory\ninstallation i na document, that was adjusted in [1]\n\nSo basically wah twe need to do, is store source in tox venv and create\nan egg-link to it to get dynamic_inventory binary.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423\n\nChange-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410\n'}]",2,867973,8493f264e8b8d3408550906d458068264ba05774,12,3,2,28619,,,0,"[doc] Fix document on dymanic_inventory tox usage

There was a type and one important option missed for inventory
installation i na document, that was adjusted in [1]

So basically wah twe need to do, is store source in tox venv and create
an egg-link to it to get dynamic_inventory binary.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/863423

Change-Id: I4f9587c3a30c23efb1d4c9fe6b598f7eaf793410
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/867973/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/inventory/generate-inventory.rst'],1,6b24e51776ff752cf17614e31b4ae4eacfc6d68a,, pip install -c https://releases.openstack.org/constraints/upper/master {packages} -e git+https://opendev.org/openstack/openstack-ansible@master\\#egg=openstack-ansible openstack-ansible-inventory --config {toxinidir}/openstack_deploy, pip install -c https://releases.openstack.org/constraints/upper/master {packages} git+https://opendev.org/openstack/openstack-ansible@master osa-dynamic-inventory --config {toxinidir},2,2
openstack%2Fopenstack-ansible~868227,openstack/openstack-ansible,master,Id34fb425c76bef7615bcbf1334d7a84ac6422fa8,Unset OSA-defined variables for bootstrap,MERGED,2022-12-20 17:11:33.000000000,2022-12-20 22:52:38.000000000,2022-12-20 22:51:22.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-20 17:11:33.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6cf0973c6baa0cd47a8697eec4f6b28999151ba', 'message': ""Unset OSA-defined variables for bootstrap\n\nWe've introduced couple of new ENV vars that we define in\nopenstack-ansible.rc file. While they're working properly, we still don't\nwant them to be used during bootstrap process, as in case of\nbootstrap failure somewhere in the middle of execution, like before\nour plugins collection being installed, next bootstrap re-runs will fail\nwith smth like `Invalid play strategy specified: openstack.osa.linear`\n\nIn order to fix this we set default values for ANSIBLE_TRANSPORT and\nANSIBLE_STRATEGY that we clean out after bootstrap is completed.\n\nChange-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8\n""}]",0,868227,b6cf0973c6baa0cd47a8697eec4f6b28999151ba,9,4,1,28619,,,0,"Unset OSA-defined variables for bootstrap

We've introduced couple of new ENV vars that we define in
openstack-ansible.rc file. While they're working properly, we still don't
want them to be used during bootstrap process, as in case of
bootstrap failure somewhere in the middle of execution, like before
our plugins collection being installed, next bootstrap re-runs will fail
with smth like `Invalid play strategy specified: openstack.osa.linear`

In order to fix this we set default values for ANSIBLE_TRANSPORT and
ANSIBLE_STRATEGY that we clean out after bootstrap is completed.

Change-Id: Id34fb425c76bef7615bcbf1334d7a84ac6422fa8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/868227/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,b6cf0973c6baa0cd47a8697eec4f6b28999151ba,," export ANSIBLE_TRANSPORT=""smart"" export ANSIBLE_STRATEGY=""linear"" unset ANSIBLE_TRANSPORT unset ANSIBLE_STRATEGY",,4,0
openstack%2Fkeystoneauth~802683,openstack/keystoneauth,master,I120ed63f6c1262d067eeb6168feab35278cacf6a,Enforce scope mutual exclusion for system,MERGED,2021-07-28 10:46:02.000000000,2022-12-20 22:38:34.000000000,2022-12-20 22:37:30.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 10:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5453c264d6e67be8d78639e8b1c673bc236f3c0d', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 2, 'created': '2021-08-31 13:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6fd105f66a6cb0def5a22e392b999bdd94c659b8', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 3, 'created': '2021-10-02 12:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/72f6b5acf7f0c228b19d9417efed91fc94eed588', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 4, 'created': '2022-04-29 15:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1fb8fba05b3fc919e98cef88f7fec3c520637718', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}, {'number': 5, 'created': '2022-12-02 18:03:47.000000000', 'files': ['keystoneauth1/identity/v3/base.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ae646f8d37f6defca6ee87d8c94f1cb7469253b9', 'message': 'Enforce scope mutual exclusion for system\n\nwe already fail when mutliple scope identifiers are provided, however\nnot when system scope is involved. As a result of the undocumented\npriority of checks, when system scope is specified together with any\nother scope, that other scope will silently be used.\n\nChange-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a\n'}]",3,802683,ae646f8d37f6defca6ee87d8c94f1cb7469253b9,28,5,5,9542,,,0,"Enforce scope mutual exclusion for system

we already fail when mutliple scope identifiers are provided, however
not when system scope is involved. As a result of the undocumented
priority of checks, when system scope is specified together with any
other scope, that other scope will silently be used.

Change-Id: I120ed63f6c1262d067eeb6168feab35278cacf6a
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/83/802683/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/base.py'],1,5453c264d6e67be8d78639e8b1c673bc236f3c0d,system-scope-exclusive," bool(self.system_scope), 'trust, system or unscoped')", 'trust or unscoped'),2,1
openstack%2Fansible-role-pki~867632,openstack/ansible-role-pki,stable/yoga,Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa,Ensure CA privatekey permissions,MERGED,2022-12-14 13:13:02.000000000,2022-12-20 22:23:16.000000000,2022-12-20 22:22:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-14 13:13:02.000000000', 'files': ['tasks/standalone/create_ca.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/1b6d005a56040f4c80f672381deb1640411093e7', 'message': ""Ensure CA privatekey permissions\n\nIn case private key permissions or owner doesn't match openssl_privatekey\nwill fix permissions, that will result in task being changed. We want\nto avoid this task being changed without good reasons, as our logic on\nCA certificates generation depends on that as well.\n\nChange-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa\n(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)\n""}]",0,867632,1b6d005a56040f4c80f672381deb1640411093e7,8,3,1,32666,,,0,"Ensure CA privatekey permissions

In case private key permissions or owner doesn't match openssl_privatekey
will fix permissions, that will result in task being changed. We want
to avoid this task being changed without good reasons, as our logic on
CA certificates generation depends on that as well.

Change-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa
(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/32/867632/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_ca.yml'],1,1b6d005a56040f4c80f672381deb1640411093e7,," # NOTE(noonedeadpunk): Incorrect permissions lead to CA certs re-generation as # openssl_privatekey gets changed when harmonizing ownership/permissions - name: Ensure private key has proper ownership file: state: file path: ""{{ ca_dir ~ '/private/' ~ ca.name ~ '.key.pem' }}"" mode: ""{{ ca.key_mode | default('0600') }}"" owner: ""{{ ca.key_owner | default('root') }}"" group: ""{{ ca.key_group | default('root') }}"" failed_when: false ",,11,0
openstack%2Fswift~868133,openstack/swift,stable/zed,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-19 23:01:09.000000000,2022-12-20 21:09:26.000000000,2022-12-20 20:16:52.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 23:01:09.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aa81e4f2bf25ab6a851c04c260d697c57193b1ea', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nCloses-Bug: #1999278\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)\n'}]",2,868133,aa81e4f2bf25ab6a851c04c260d697c57193b1ea,13,2,1,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Closes-Bug: #1999278
Change-Id: Iae28097668213aa0734837ff21aef83251167d19
(cherry picked from commit 884f5538f8fb187b6ff18316249f1bd4b97b0952)
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/868133/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,aa81e4f2bf25ab6a851c04c260d697c57193b1ea,," if six.PY2: from eventlet.green import httplib as http_client else: from eventlet.green.http import client as http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and \ self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers( self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True","from swift.common.swob import wsgi_quote, wsgi_unquote, \ wsgi_quote_plus, wsgi_unquote_plus, wsgi_to_bytes, bytes_to_wsgi # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",212,78
openstack%2Fopenstack-ansible-ops~868212,openstack/openstack-ansible-ops,master,If52687cb1fabed575eb3467216163b64b0c89635,Improve venv cleanup regexp discovery,MERGED,2022-12-20 13:16:34.000000000,2022-12-20 20:53:49.000000000,2022-12-20 20:52:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-20 13:16:34.000000000', 'files': ['ansible_tools/playbooks/cleanup-venvs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/11efaaec957db6aeeef0ce0c287ae2484e5cf8c2', 'message': 'Improve venv cleanup regexp discovery\n\nChange-Id: If52687cb1fabed575eb3467216163b64b0c89635\n'}]",0,868212,11efaaec957db6aeeef0ce0c287ae2484e5cf8c2,8,3,1,35642,,,0,"Improve venv cleanup regexp discovery

Change-Id: If52687cb1fabed575eb3467216163b64b0c89635
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/12/868212/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible_tools/playbooks/cleanup-venvs.yml'],1,11efaaec957db6aeeef0ce0c287ae2484e5cf8c2,improve_venv_cleanup_for_dev_versions, patterns: '^.*-(\d+(\.\d+){2}(.dev\d+)?)(?<!{{ venv_tag }})(-python[23])?$', patterns: '^.*-(\d+(\.\d+){2})(?<!{{ venv_tag }})(-python[23])?$',1,1
openstack%2Fneutron~866226,openstack/neutron,master,Id1bce82f584243b55a47fd6d5c5db81729e11f03,Update .pylintrc,MERGED,2022-11-30 22:41:43.000000000,2022-12-20 20:48:02.000000000,2022-12-20 20:45:56.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-30 22:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9ef39ccd092b2cb8d007f10fd232504b0c9d0cc', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}, {'number': 2, 'created': '2022-12-01 16:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9dfdc378bffd2485e188b0afe4c9028c58e632f', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}, {'number': 3, 'created': '2022-12-01 17:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/040380bc4fde048f5ba95b8f4f6ba3e9b64e3bde', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}, {'number': 4, 'created': '2022-12-12 17:04:07.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d315d2467f1f69323ec7bf9c227f7f6d54d84db', 'message': 'Update .pylintrc\n\nUpdate .pylintrc to be stricter, for example, to enforce\nC0330 warnings (hanging/continued indentation). This\nshould be the end of the series.\n\nAlso did some cleanup of old unsupport options that pylint\ncomplains about when you run it.\n\nChange-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03\n'}]",8,866226,0d315d2467f1f69323ec7bf9c227f7f6d54d84db,39,5,4,1131,,,0,"Update .pylintrc

Update .pylintrc to be stricter, for example, to enforce
C0330 warnings (hanging/continued indentation). This
should be the end of the series.

Also did some cleanup of old unsupport options that pylint
complains about when you run it.

Change-Id: Id1bce82f584243b55a47fd6d5c5db81729e11f03
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/866226/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,d9ef39ccd092b2cb8d007f10fd232504b0c9d0cc,pylint-c0330-pylintrc,# List of valid names for the first argument in a class method. valid-classmethod-first-arg=cls # List of valid names for the first argument in a metaclass class method. valid-metaclass-classmethod-first-arg=cls," bad-builtin, deprecated-lambda, no-init, star-args, super-on-old-class,# TODO(dougwig) - disable nonstandard-exception while we have neutron_lib shims nonstandard-exception, bad-continuation, abstract-class-little-used, abstract-class-not-used, interface-not-implemented,# List of interface methods to ignore, separated by a comma. ignore-iface-methods=",5,13
openstack%2Fneutron~866225,openstack/neutron,master,I17b4779020a7bfb369c3e721ab6638cd4a6ab50c,Fix some pylint indentation warnings,MERGED,2022-11-30 22:41:43.000000000,2022-12-20 20:47:05.000000000,2022-12-20 20:45:51.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-30 22:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/335e80e00c7c642c0bee9ef78d1906977fb06639', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}, {'number': 2, 'created': '2022-12-01 16:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2342616b7599525887ac131d892bc5d3596c598b', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}, {'number': 3, 'created': '2022-12-01 17:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcdd9ed42b9578609203cd5bbc82f3d559af75c6', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}, {'number': 4, 'created': '2022-12-12 17:04:07.000000000', 'files': ['neutron/notifiers/ironic.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/profiling/profiled_decorator.py', 'neutron/debug/commands.py', 'neutron/hacking/checks.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/objects/ports.py', 'neutron/pecan_wsgi/controllers/resource.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/cmd/ovn/migration_mtu.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/86badcfe2d4a530aad1dd364af00142a3e695f2b', 'message': 'Fix some pylint indentation warnings\n\nRunning with a stricter .pylintrc generates a lot of\nC0330 warnings (hanging/continued indentation). Fix\nsome remaining ones in miscellaneous directories.\n\nAlso cleanup any remaining code that I missed in this\nseries, or has changed since I started.\n\nTrivialfix\n\nChange-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c\n'}]",16,866225,86badcfe2d4a530aad1dd364af00142a3e695f2b,73,5,4,1131,,,0,"Fix some pylint indentation warnings

Running with a stricter .pylintrc generates a lot of
C0330 warnings (hanging/continued indentation). Fix
some remaining ones in miscellaneous directories.

Also cleanup any remaining code that I missed in this
series, or has changed since I started.

Trivialfix

Change-Id: I17b4779020a7bfb369c3e721ab6638cd4a6ab50c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/866225/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/profiling/profiled_decorator.py', 'neutron/debug/commands.py', 'neutron/hacking/checks.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/objects/ports.py', 'neutron/pecan_wsgi/controllers/resource.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/cmd/ovn/migration_mtu.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py']",13,335e80e00c7c642c0bee9ef78d1906977fb06639,pylint-c0330-pylintrc, port_binding.profile = { 'allocation':, port_binding.profile = {'allocation':,30,25
openstack%2Fnova~841444,openstack/nova,stable/train,Ica180165184b319651d22fe77e076af036228860,Set instance host and drop migration under lock,MERGED,2022-05-11 15:30:20.000000000,2022-12-20 20:18:12.000000000,2022-12-20 20:16:46.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24713}]","[{'number': 1, 'created': '2022-05-11 15:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4b427b651e429eb85b771c23197d1f50d65adb', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}, {'number': 2, 'created': '2022-05-11 16:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fae018013f73983b577bd1dd78f09b4ec96b1bd7', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}, {'number': 3, 'created': '2022-05-11 16:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a443654ccb5da4589c5bc4b05e2073c20c193d1e', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nstable/train specific change: fair locking was introduced from ussuri\nforward. See Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9\nSo the train backport does not add fair=True to the synchronized\ndecorator of finish_evacuation as that would interfere with the other\nfunctions taking the same lock without fair=True.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}, {'number': 4, 'created': '2022-11-22 16:05:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5506014837097261231b205e9b3acbfa503b354', 'message': 'Set instance host and drop migration under lock\n\nThe _update_available_resources periodic makes resource allocation\nadjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the\nlist of instances assigned to this host of the resource tracker and\nbased on the migrations where the source or the target host is the host\nof the resource tracker. So if the instance.host or the migration\ncontext changes without holding the COMPUTE_RESOURCE_SEMAPHORE while\nthe _update_available_resources task is running there there will be data\ninconsistency in the resource tracker.\n\nThis patch makes sure that during evacuation the instance.host and the\nmigration context is changed while holding the semaphore.\n\nstable/train specific change: fair locking was introduced from ussuri\nforward. See Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9\nSo the train backport does not add fair=True to the synchronized\ndecorator of finish_evacuation as that would interfere with the other\nfunctions taking the same lock without fair=True.\n\nChange-Id: Ica180165184b319651d22fe77e076af036228860\nCloses-Bug: #1896463\n(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)\n(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)\n(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)\n'}]",13,841444,d5506014837097261231b205e9b3acbfa503b354,32,5,4,9708,,,0,"Set instance host and drop migration under lock

The _update_available_resources periodic makes resource allocation
adjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the
list of instances assigned to this host of the resource tracker and
based on the migrations where the source or the target host is the host
of the resource tracker. So if the instance.host or the migration
context changes without holding the COMPUTE_RESOURCE_SEMAPHORE while
the _update_available_resources task is running there there will be data
inconsistency in the resource tracker.

This patch makes sure that during evacuation the instance.host and the
migration context is changed while holding the semaphore.

stable/train specific change: fair locking was introduced from ussuri
forward. See Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9
So the train backport does not add fair=True to the synchronized
decorator of finish_evacuation as that would interfere with the other
functions taking the same lock without fair=True.

Change-Id: Ica180165184b319651d22fe77e076af036228860
Closes-Bug: #1896463
(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)
(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)
(cherry picked from commit 3b497ad7d41bc84ec50124c4d55f4138c4878751)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/841444/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,ff4b427b651e429eb85b771c23197d1f50d65adb,bug/1896463," @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) def finish_evacuation(self, instance, node, migration): instance.apply_migration_context() # NOTE (ndipanov): This save will now update the host and node # attributes making sure that next RT pass is consistent since # it will be based on the instance and not the migration DB # entry. instance.host = self.host instance.node = node instance.save() instance.drop_migration_context() # NOTE (ndipanov): Mark the migration as done only after we # mark the instance as belonging to this host. if migration: migration.status = 'done' migration.save()",,40,37
openstack%2Foslo.messaging~861746,openstack/oslo.messaging,master,Iabce0986fae6ed8838f1f94496b5994fc19cc5ef,Warn when we force creating a non durable exchange,MERGED,2022-10-18 12:18:50.000000000,2022-12-20 20:14:12.000000000,2022-12-20 20:12:47.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 12:18:50.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b83b87d49e9bfa8af3380c56b9910625221400a6', 'message': 'Warn when we force creating a non durable exchange\n\nAdding warning logs so that users can detect the fallback with durable\nexchanges.\n\nChange-Id: Iabce0986fae6ed8838f1f94496b5994fc19cc5ef\n'}]",0,861746,b83b87d49e9bfa8af3380c56b9910625221400a6,8,3,1,28522,,,0,"Warn when we force creating a non durable exchange

Adding warning logs so that users can detect the fallback with durable
exchanges.

Change-Id: Iabce0986fae6ed8838f1f94496b5994fc19cc5ef
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/46/861746/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,b83b87d49e9bfa8af3380c56b9910625221400a6,durable_shared_control_exchange," LOG.warning(""Force creating a non durable exchange."")",,1,0
openstack%2Ftripleo-ansible~865476,openstack/tripleo-ansible,stable/wallaby,I6edef63e60623ea3b51386593d76b18092dd7f30,Ensure $tuned_params is restored after grub2-mkconfig,MERGED,2022-11-23 22:57:58.000000000,2022-12-20 19:43:20.000000000,2022-12-20 19:43:20.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-23 22:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7ebb7f36c9cc8d0efd1beda89b9d5cfb068c339', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)\n'}, {'number': 2, 'created': '2022-11-29 02:26:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba0f04726fa914e7ef56e005eb9eddaa03f14acb', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)\n(cherry picked from commit e8d2f40660e669d9f8e9bb487802df0647b7cb71)\n'}]",5,865476,ba0f04726fa914e7ef56e005eb9eddaa03f14acb,20,4,2,4571,,,0,"Ensure $tuned_params is restored after grub2-mkconfig

The playbook cli-overcloud-node-kernelargs.yaml calls the tuned role
and then the tripleo_kernel role.

The tuned role executes the following command:
    tuned-adm profile throughput-performance

This has the side-effect of adding $tuned_params to the options line
of /boot/loader/entries files, which is required to add its kernel
arguments from /boot/grub2/grubenv.

However when grub2-mkconfig is called, $tuned_params is *removed* from
the /boot/loader/entries files, breaking the enablement of the tuned
profile.

This change runs tuned-adm after grub2-mkconfig, which adds back
$tuned_params if there is an active profile.

Change-Id: I6edef63e60623ea3b51386593d76b18092dd7f30
Resolves: rhbz#2122949
(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)
(cherry picked from commit e8d2f40660e669d9f8e9bb487802df0647b7cb71)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/865476/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,a7ebb7f36c9cc8d0efd1beda89b9d5cfb068c339,bz/2139922-stable/wallaby," - name: Check for active tuned profile stat: path: ""/etc/tuned/active_profile"" register: tuned_active_profile - name: Ensure $tuned_params is restored to /boot/loader/entries files shell: >- tuned-adm profile $(cat /etc/tuned/active_profile) environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" when: - tuned_active_profile.stat.exists - tuned_active_profile.stat.size | int > 0 ",,15,0
openstack%2Ftripleo-heat-templates~865898,openstack/tripleo-heat-templates,stable/zed,Idb16f8664d937d8d11108f2b29b22f8b7ced521c,Expose /var/lib/glance to cron container,MERGED,2022-11-29 08:14:49.000000000,2022-12-20 19:43:17.000000000,2022-12-20 19:43:17.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-29 08:14:49.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ddf16a2cc84281d7a2a08bddae5a78972143f8c', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nBecause the directory is now shared by the two containers (glance_api\nand glance_api_cron), the mount flag is updated from slave to shared\nso that any change is propagated between these two containers.\n\nCloses-Bug: #1997625\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n(cherry picked from commit b532a042152805e32c2f410bbfe16f5e8e222581)\n'}]",0,865898,4ddf16a2cc84281d7a2a08bddae5a78972143f8c,8,5,1,19138,,,0,"Expose /var/lib/glance to cron container

The glance_api_cron container executes the cache clean/prune jobs, thus
it requires access to the /var/lib/glance directory which contains
the cache data.

Because the directory is now shared by the two containers (glance_api
and glance_api_cron), the mount flag is updated from slave to shared
so that any change is propagated between these two containers.

Closes-Bug: #1997625
Change-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c
(cherry picked from commit b532a042152805e32c2f410bbfe16f5e8e222581)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/865898/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,4ddf16a2cc84281d7a2a08bddae5a78972143f8c,bug/1997625-stable/zed, - /var/lib/glance:/var/lib/glance:shared - /var/lib/glance:/var/lib/glance:shared, - /var/lib/glance:/var/lib/glance:slave,2,1
openstack%2Ftripleo-ansible~864041,openstack/tripleo-ansible,stable/wallaby,I7538def60e4fd3a7187ede0e1f5ada1b0c460f65,Add podman_socket role,MERGED,2022-11-09 10:15:55.000000000,2022-12-20 19:43:14.000000000,2022-12-20 19:43:14.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-09 10:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f53ab32d33da9c86c97eed892750a33fef59a51', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}, {'number': 2, 'created': '2022-11-09 10:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23fae7dc4dc6c9257312c491a4c02a3df2327f49', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}, {'number': 3, 'created': '2022-12-13 11:56:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/templates/podman.service.j2', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d5267cceb5bce50b1b79cd59156ec3fb03d1898', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}]",1,864041,5d5267cceb5bce50b1b79cd59156ec3fb03d1898,20,5,3,5241,,,0,"Add podman_socket role

This patch adds a role for creating podman unix socket for TripleO purposes.
It will be used during collectd deployments since collectd-sensubility
requires accessing podman via the socket.

Fixes molecule tests for tripleo_podman role.

Change-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65
(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/864041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/templates/podman.service.j2', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml']",8,4f53ab32d33da9c86c97eed892750a33fef59a51,user-podman-socket-stable/wallaby,<<<<<<< HEAD (4b6c2e num_dpdk_interface_rx_queues support net conf schema) ======= - containernetworking-plugins - role: env_data >>>>>>> CHANGE (e97d1f Add podman_socket role),,97,0
openstack%2Fnova~841288,openstack/nova,stable/train,Id0577bceed9808b52da4acc352cf9c204f6c8861,Reproduce bug 1896463 in func env,MERGED,2022-05-11 15:06:07.000000000,2022-12-20 19:26:39.000000000,2022-12-20 19:25:31.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc731c32b5c51b5005a59f79b476d3df0be93bb', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)\n(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)\n(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)\n'}, {'number': 2, 'created': '2022-05-11 16:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50164f840f1d9dc650ca8f7ebe6b479c8077b384', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nConflicts:\n  nova/tests/functional/regressions/test_bug_1896463.py due to\n  I84c58de90dad6d86271767363aef90ddac0f1730 and\n  I8c96b337f32148f8f5899c9b87af331b1fa41424 is not in stable/train.\n  Also I had to make the test code python 2 compatible.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)\n(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)\n(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)\n'}, {'number': 3, 'created': '2022-11-22 16:05:13.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1896463.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e558aa2046b649696b69551657e5d429e8117427', 'message': 'Reproduce bug 1896463 in func env\n\nThere is a race condition between the rebuild and the\n_update_available_resource periodic task on the compute. This patch adds\na reproducer functional test. Unfortunately it needs some injected sleep\nto make the race happen in a stable way. This is suboptimal but only\nadds 3 seconds of slowness to the test execution.\n\nConflicts:\n  nova/tests/functional/regressions/test_bug_1896463.py due to\n  I84c58de90dad6d86271767363aef90ddac0f1730 and\n  I8c96b337f32148f8f5899c9b87af331b1fa41424 is not in stable/train.\n  Also I had to make the test code python 2 compatible.\n\nChange-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861\nRelated-Bug: #1896463\n(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)\n(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)\n(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)\n'}]",9,841288,e558aa2046b649696b69551657e5d429e8117427,19,4,3,9708,,,0,"Reproduce bug 1896463 in func env

There is a race condition between the rebuild and the
_update_available_resource periodic task on the compute. This patch adds
a reproducer functional test. Unfortunately it needs some injected sleep
to make the race happen in a stable way. This is suboptimal but only
adds 3 seconds of slowness to the test execution.

Conflicts:
  nova/tests/functional/regressions/test_bug_1896463.py due to
  I84c58de90dad6d86271767363aef90ddac0f1730 and
  I8c96b337f32148f8f5899c9b87af331b1fa41424 is not in stable/train.
  Also I had to make the test code python 2 compatible.

Change-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861
Related-Bug: #1896463
(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)
(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)
(cherry picked from commit 02114a9d7f2e8b62d3a7091ca3fde251dfffa860)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/841288/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1896463.py'],1,4dc731c32b5c51b5005a59f79b476d3df0be93bb,bug/1896463,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import copy import fixtures import time from oslo_config import cfg from nova import context from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image from nova import utils from nova.virt import fake CONF = cfg.CONF class TestEvacuateResourceTrackerRace( test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Demonstrate bug #1896463. Trigger a race condition between an almost finished evacuation that is dropping the migration context, and the _update_available_resource() periodic task that already loaded the instance list but haven't loaded the migration list yet. The result is that the PCI allocation made by the evacuation is deleted by the overlapping periodic task run and the instance will not have PCI allocation after the evacuation. """""" def setUp(self): super().setUp() self.neutron = self.useFixture(nova_fixtures.NeutronFixture(self)) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) self.placement = self.useFixture(func_fixtures.PlacementFixture()).api self.api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.admin_api = self.api_fixture.admin_api self.admin_api.microversion = 'latest' self.api = self.admin_api self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='fake.FakeDriverWithPciResources') self.useFixture( fake.FakeDriverWithPciResources. FakeDriverWithPciResourcesConfigFixture()) self.compute1 = self._start_compute('host1') self.compute1_id = self._get_compute_node_id_by_host('host1') self.compute1_service_id = self.admin_api.get_services( host='host1', binary='nova-compute')[0]['id'] self.compute2 = self._start_compute('host2') self.compute2_id = self._get_compute_node_id_by_host('host2') self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] # add extra ports and the related network to the neutron fixture # specifically for these tests. It cannot be added globally in the # fixture init as it adds a second network that makes auto allocation # based test to fail due to ambiguous networks. self.neutron._ports[self.neutron.sriov_port['id']] = \ copy.deepcopy(self.neutron.sriov_port) self.neutron._networks[ self.neutron.network_2['id']] = self.neutron.network_2 self.neutron._subnets[ self.neutron.subnet_2['id']] = self.neutron.subnet_2 self.ctxt = context.get_admin_context() def _get_compute_node_id_by_host(self, host): # we specifically need the integer id of the node not the UUID so we # need to use the old microversion with utils.temporary_mutation(self.admin_api, microversion='2.52'): hypers = self.admin_api.api_get( 'os-hypervisors').body['hypervisors'] for hyper in hypers: if hyper['hypervisor_hostname'] == host: return hyper['id'] self.fail('Hypervisor with hostname=%s not found' % host) def _assert_pci_device_allocated( self, instance_uuid, compute_node_id, num=1): """"""Assert that a given number of PCI devices are allocated to the instance on the given host. """""" devices = objects.PciDeviceList.get_by_instance_uuid( self.ctxt, instance_uuid) devices_on_host = [dev for dev in devices if dev.compute_node_id == compute_node_id] self.assertEqual(num, len(devices_on_host)) def test_evacuate_races_with_update_available_resource(self): # Create a server with a direct port to have PCI allocation server = self._create_server( name='test-server-for-bug-1896463', networks=[{'port': self.neutron.sriov_port['id']}], host='host1' ) self._assert_pci_device_allocated(server['id'], self.compute1_id) self._assert_pci_device_allocated( server['id'], self.compute2_id, num=0) # stop and force down the compute the instance is on to allow # evacuation self.compute1.stop() self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'true'}) # Inject some sleeps both in the Instance.drop_migration_context and # the MigrationList.get_in_progress_by_host_and_node code to make them # overlap. # We want to create the following execution scenario: # 1) The evacuation makes a move claim on the dest including the PCI # claim. This means there is a migration context. But the evacuation # is not complete yet so the instance.host does not point to the # dest host. # 2) The dest resource tracker starts an _update_available_resource() # periodic task and this task loads the list of instances on its # host from the DB. Our instance is not in this list due to #1. # 3) The evacuation finishes, the instance.host is set to the dest host # and the migration context is deleted. # 4) The periodic task now loads the list of in-progress migration from # the DB to check for incoming our outgoing migrations. However due # to #3 our instance is not in this list either. # 5) The periodic task cleans up every lingering PCI claim that is not # connected to any instance collected above from the instance list # and from the migration list. As our instance is not in either of # the lists, the resource tracker cleans up the PCI allocation for # the already finished evacuation of our instance. # # Unfortunately we cannot reproduce the above situation without sleeps. # We need that the evac starts first then the periodic starts, but not # finishes, then evac finishes, then periodic finishes. If I trigger # and run the whole periodic in a wrapper of drop_migration_context # then I could not reproduce the situation described at #4). In general # it is not # # evac # | # | # | periodic # | | # | | # | x # | # | # x # # but # # evac # | # | # | periodic # | | # | | # | | # x | # | # x # # what is needed need. # # Starting the periodic from the test in a separate thread at # drop_migration_context() might work but that is an extra complexity # in the test code. Also it might need a sleep still to make the # reproduction stable but only one sleep instead of two. orig_drop = objects.Instance.drop_migration_context def slow_drop(*args, **kwargs): time.sleep(1) return orig_drop(*args, **kwargs) self.useFixture( fixtures.MockPatch( 'nova.objects.instance.Instance.drop_migration_context', new=slow_drop)) orig_get_mig = objects.MigrationList.get_in_progress_by_host_and_node def slow_get_mig(*args, **kwargs): time.sleep(2) return orig_get_mig(*args, **kwargs) self.useFixture( fixtures.MockPatch( 'nova.objects.migration.MigrationList.' 'get_in_progress_by_host_and_node', new=slow_get_mig)) self.admin_api.post_server_action(server['id'], {'evacuate': {}}) # we trigger the _update_available_resource periodic to overlap with # the already started evacuation self._run_periodics() self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host2', 'status': 'ACTIVE'}) self._assert_pci_device_allocated(server['id'], self.compute1_id) # This is bug #1896463 as the PCI allocation was deleted by the racing # _update_available_resource periodic task. self._assert_pci_device_allocated( server['id'], self.compute2_id, num=0) # FIXME(gibi): When this bug is fixed (or if you remove the sleeps # above to avoid the race condition) then we expect that the PCI # allocation exists on the destination host too. # self._assert_pci_device_allocated(server['id'], self.compute2_id) ",,233,0
openstack%2Foslo.db~856838,openstack/oslo.db,stable/zed,I005af8c7afe3b5104068ca153aecbfe54e163ca3,types: Set 'cache_ok' (redux),MERGED,2022-09-09 16:42:51.000000000,2022-12-20 19:24:23.000000000,2022-12-20 19:23:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 16:42:51.000000000', 'files': ['oslo_db/sqlalchemy/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/717c824bf48dbad86611a1b34b585189e33fcc26', 'message': ""types: Set 'cache_ok' (redux)\n\nIn change Idf6fd858fad9521c7c5ba82c31b6d3077756abd9, we defined the\n'cache_ok' key on a number of custom types. However, we relied on this\nattribute being inheritable which is not the case due to how that\nattribute is checked for [1]. As a result, we must set this attribute on\nevery one of our custom types.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4_41/lib/sqlalchemy/sql/type_api.py#L984\n\nChange-Id: I005af8c7afe3b5104068ca153aecbfe54e163ca3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 10e8e77a92455fb638dcc7e73c044cd22acd84ad)\n""}]",0,856838,717c824bf48dbad86611a1b34b585189e33fcc26,7,2,1,15334,,,0,"types: Set 'cache_ok' (redux)

In change Idf6fd858fad9521c7c5ba82c31b6d3077756abd9, we defined the
'cache_ok' key on a number of custom types. However, we relied on this
attribute being inheritable which is not the case due to how that
attribute is checked for [1]. As a result, we must set this attribute on
every one of our custom types.

[1] https://github.com/sqlalchemy/sqlalchemy/blob/rel_1_4_41/lib/sqlalchemy/sql/type_api.py#L984

Change-Id: I005af8c7afe3b5104068ca153aecbfe54e163ca3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 10e8e77a92455fb638dcc7e73c044cd22acd84ad)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/38/856838/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/types.py'],1,717c824bf48dbad86611a1b34b585189e33fcc26,," cache_ok = True """"""This type is safe to cache."""""" cache_ok = True """"""This type is safe to cache."""""" cache_ok = True """"""This type is safe to cache."""""" ",,7,1
openstack%2Foslo.db~865878,openstack/oslo.db,master,I63ad4fbbd7fa72e7a4d8ebd458d323516f997424,skip bandit on oslo_db/tests,MERGED,2022-11-28 18:31:34.000000000,2022-12-20 19:24:21.000000000,2022-12-20 19:23:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 18:31:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/43d054403eb697ff96c52ee382365aac1e8d798f', 'message': 'skip bandit on oslo_db/tests\n\nthe bandit command excludes the folder named ""tests"" but does not\nseem to exclude where the tests actually are here, which is\noslo_db/tests.  add this folder, as we have ""assert"" statements\nas well as pickle use in our test suite, which bandit disapproves of.\n\nChange-Id: I63ad4fbbd7fa72e7a4d8ebd458d323516f997424\n'}]",0,865878,43d054403eb697ff96c52ee382365aac1e8d798f,7,2,1,11816,,,0,"skip bandit on oslo_db/tests

the bandit command excludes the folder named ""tests"" but does not
seem to exclude where the tests actually are here, which is
oslo_db/tests.  add this folder, as we have ""assert"" statements
as well as pickle use in our test suite, which bandit disapproves of.

Change-Id: I63ad4fbbd7fa72e7a4d8ebd458d323516f997424
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/78/865878/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,43d054403eb697ff96c52ee382365aac1e8d798f,skip_bandit_on_tests," bandit -r oslo_db -x tests -x oslo_db/tests -n5 --skip B105,B311"," bandit -r oslo_db -x tests -n5 --skip B105,B311",1,1
openstack%2Foctavia~867123,openstack/octavia,master,Ie4a690263a3de6e85a1081c373c56e2992941622,Fix typo in docs section title,MERGED,2022-12-09 16:12:37.000000000,2022-12-20 19:19:15.000000000,2022-12-20 19:18:05.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-09 16:12:37.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1d84f2972f6808109b23e3577ffaa328598344b8', 'message': 'Fix typo in docs section title\n\nChange-Id: Ie4a690263a3de6e85a1081c373c56e2992941622\n'}]",0,867123,1d84f2972f6808109b23e3577ffaa328598344b8,9,4,1,15197,,,0,"Fix typo in docs section title

Change-Id: Ie4a690263a3de6e85a1081c373c56e2992941622
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/867123/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,1d84f2972f6808109b23e3577ffaa328598344b8,fix-typo,Maintenance and Operations,Maintanence and Operations,1,1
openstack%2Foslo.concurrency~852983,openstack/oslo.concurrency,master,I89ea0dab79cdc53c164c171a42a06f2a6d6aefad,Cleanup py27 support,MERGED,2022-08-13 01:49:28.000000000,2022-12-20 19:12:37.000000000,2022-12-20 19:11:36.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-13 01:49:28.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/c7d214bae413769a8160ea8e0e71b57166206d84', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: I89ea0dab79cdc53c164c171a42a06f2a6d6aefad\n""}]",0,852983,c7d214bae413769a8160ea8e0e71b57166206d84,8,3,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: I89ea0dab79cdc53c164c171a42a06f2a6d6aefad
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/83/852983/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,c7d214bae413769a8160ea8e0e71b57166206d84,,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Fkeystoneauth~865439,openstack/keystoneauth,master,I909750381a559f9dc61650c9f98c88d4481012b7,Allow passing of version header,MERGED,2022-11-23 15:03:39.000000000,2022-12-20 19:08:20.000000000,2022-12-20 19:07:20.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 15:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/bff4b46ec7a7ba6452a303443195ba5a62b48745', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 2, 'created': '2022-11-24 20:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/366a0609a8bff115e8f20771fef30b4498177935', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 3, 'created': '2022-11-28 15:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/356987d9383b23e7dfdec8de02cab38521ecd223', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 4, 'created': '2022-11-29 08:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e2a992b8aec57a1eb20a399a8e56f3b047e54899', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 5, 'created': '2022-12-06 10:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e0950b639fd4ae82efe91f05276af66bb81a30ce', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 6, 'created': '2022-12-20 14:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/03ef097d436966396f34150b7af4a2ebb9651c68', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}, {'number': 7, 'created': '2022-12-20 14:58:10.000000000', 'files': ['keystoneauth1/discover.py', 'keystoneauth1/tests/unit/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5098d45cca0e858f8763a083308733bbc470b120', 'message': ""Allow passing of version header\n\nAdd keyword option to get_version_data() to allow passing\nof the version header so that we can get the microversions.\nSpecifically, this is so that we can re-use this function\nin barbican, which recently implemented microversions, but\ndoesn't return them by default, for backward compatibility\nwith old clients.\n\nChange-Id: I909750381a559f9dc61650c9f98c88d4481012b7\n""}]",5,865439,5098d45cca0e858f8763a083308733bbc470b120,25,4,7,14250,,,0,"Allow passing of version header

Add keyword option to get_version_data() to allow passing
of the version header so that we can get the microversions.
Specifically, this is so that we can re-use this function
in barbican, which recently implemented microversions, but
doesn't return them by default, for backward compatibility
with old clients.

Change-Id: I909750381a559f9dc61650c9f98c88d4481012b7
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/39/865439/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/discover.py', 'keystoneauth1/tests/unit/test_discovery.py']",2,bff4b46ec7a7ba6452a303443195ba5a62b48745,secret-consumers," headers = {'Accept': 'application/json', 'OpenStack-API-Version': 'microversion header'} discover.get_version_data( session, url, microversion_header='microversion header')"," headers = {'Accept': 'application/json'} discover.get_version_data(session, url)",10,3
openstack%2Fneutron~863256,openstack/neutron,stable/zed,I955f2430ad1d817966ac49f33741f1d4452d1f76,[OVN] Allow only one physical network per bridge,MERGED,2022-11-02 11:37:31.000000000,2022-12-20 19:06:21.000000000,2022-12-20 19:05:06.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-02 11:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/153824667eb26446cddcef9b7e2cc7adc6802b76', 'message': '[OVN] Allow only one physical network per bridge\n\nSince [1], OVN allows only one physical network per bridge,\nsame as other ML2 plugins (OVS, Linux Bridge). The rule ""one\nnetwork, one bridge"" is present in OVN too.\n\nThis patch fixes a small leftover in the ML2/OVN code.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/823568\n\n(cherry picked from commit 229d798a45c964783551cd61d7031698d452f72a)\n\nRelated-Bug: #1956476\nChange-Id: I955f2430ad1d817966ac49f33741f1d4452d1f76\n'}, {'number': 2, 'created': '2022-12-16 10:27:27.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d753b2ab44f38eb5b5f6b34e82c3f9e86680a0e9', 'message': '[OVN] Allow only one physical network per bridge\n\nSince [1], OVN allows only one physical network per bridge,\nsame as other ML2 plugins (OVS, Linux Bridge). The rule ""one\nnetwork, one bridge"" is present in OVN too.\n\nThis patch fixes a small leftover in the ML2/OVN code.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/823568\n\nRelated-Bug: #1956476\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py\n\nChange-Id: I955f2430ad1d817966ac49f33741f1d4452d1f76\n(cherry picked from commit 229d798a45c964783551cd61d7031698d452f72a)\n'}]",2,863256,d753b2ab44f38eb5b5f6b34e82c3f9e86680a0e9,22,3,2,35456,,,0,"[OVN] Allow only one physical network per bridge

Since [1], OVN allows only one physical network per bridge,
same as other ML2 plugins (OVS, Linux Bridge). The rule ""one
network, one bridge"" is present in OVN too.

This patch fixes a small leftover in the ML2/OVN code.

[1]https://review.opendev.org/c/openstack/neutron/+/823568

Related-Bug: #1956476

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py

Change-Id: I955f2430ad1d817966ac49f33741f1d4452d1f76
(cherry picked from commit 229d798a45c964783551cd61d7031698d452f72a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/863256/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,153824667eb26446cddcef9b7e2cc7adc6802b76,bug/1956476," mapping_dict = helpers.parse_mappings(br_map.split(','))"," mapping_dict = helpers.parse_mappings(br_map.split(','), unique_values=False)",9,5
openstack%2Fnova~854120,openstack/nova,master,If363981c4aeeb09a96ee94b140070d3d0f6af48f,Filter PCI pools based on Placement allocation,MERGED,2022-08-23 09:06:35.000000000,2022-12-20 19:06:13.000000000,2022-12-20 19:04:59.000000000,"[{'_account_id': 7730}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2e7d74ba56a512b7c06d6e65420e96614210b43', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed25950613292203feaef03d71088feb6931f6ef', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae6e6c89b0f0c49689f251783924ede15a0768ec', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5383897140eb6495057588b5ae0a83a1f2f55acd', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8965ba54945ba57afab588532452ab58188d5d28', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 6, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07647f89685b7c20cf8f9a254d6c8e75dce1d006', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 7, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be2cec9f10bb8636bc910bba5b3936205497760c', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 8, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad12e71a85a0ec178521c0936ddd09b694d191c8', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 9, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51da2fa527c97c33ab8857ff19e015b82268a73e', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 10, 'created': '2022-08-29 07:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0610f9166edeb0357e8758d859510ffcb1cbeeef', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nTODO:\n* testing\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 11, 'created': '2022-08-29 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1d12b8483a0cdc41b95ba8b86e6891afe7c72d3', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 12, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b84ec16bd7ff2cd33264cfba7f9fc87f1cf124c', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 13, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/563f389b215ba73364446c059fed95adc88faeb9', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}, {'number': 14, 'created': '2022-10-17 11:59:07.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/compute/claims.py', 'nova/scheduler/filters/pci_passthrough_filter.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/compute/test_claims.py', 'nova/virt/hardware.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/pci/stats.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1d82c0d0a0ef5932bb1e25120015c1099f03d18', 'message': 'Filter PCI pools based on Placement allocation\n\nThe stats module is used to decide if the InstancePCIRequests of a boot\nrequest can fit to a given compute host and to decide which PCI device\npool can fulfill the requests. It is used both during scheduling and also\nduring the PCI claim code.\n\nPCI devices now modelled in placement and the allocation_candidate query\nnow requests PCI resources therefore each allocation candidate returned\nfrom placement already restricts which PCI devices can be used during\nthe PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code\npaths. This patch adapts the stats module to consider the PCI\nallocation candidate or the already made placement PCI allocation when\nfiltering the PCI device pools.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f\n'}]",27,854120,f1d82c0d0a0ef5932bb1e25120015c1099f03d18,98,6,14,9708,,,0,"Filter PCI pools based on Placement allocation

The stats module is used to decide if the InstancePCIRequests of a boot
request can fit to a given compute host and to decide which PCI device
pool can fulfill the requests. It is used both during scheduling and also
during the PCI claim code.

PCI devices now modelled in placement and the allocation_candidate query
now requests PCI resources therefore each allocation candidate returned
from placement already restricts which PCI devices can be used during
the PciPassthroughFilter, the NumaTopologyFilter, and PCI claim code
paths. This patch adapts the stats module to consider the PCI
allocation candidate or the already made placement PCI allocation when
filtering the PCI device pools.

blueprint: pci-device-tracking-in-placement
Change-Id: If363981c4aeeb09a96ee94b140070d3d0f6af48f
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/854120/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/pci_passthrough_filter.py', 'nova/virt/hardware.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/pci/stats.py', 'nova/compute/claims.py', 'nova/scheduler/host_manager.py']",6,f2e7d74ba56a512b7c06d6e65420e96614210b43,bp/pci-device-tracking-in-placement," pci_requests=pci_requests, pci_stats=self.pci_stats, provider_mapping=spec_obj.get_request_group_mapping()) self.pci_stats.apply_requests( pci_requests, spec_obj.get_request_group_mapping(), instance_cells )"," pci_requests=pci_requests, pci_stats=self.pci_stats) self.pci_stats.apply_requests(pci_requests, instance_cells)",205,25
openstack%2Fcinderlib~867904,openstack/cinderlib,master,I68d038a3a64a81e6bd21e65423898d9f5b514234,Open cinderlib for 2023.1 (Antelope) development,MERGED,2022-12-15 21:40:37.000000000,2022-12-20 19:04:35.000000000,2022-12-20 19:02:38.000000000,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-15 21:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e1848d444116bb95d3b54c41b43130b3ccb8a017', 'message': 'Open cinderlib for 2023.1 (Antelope) development\n\nSee ""cinderlib tox and zuul configuration maintenance"" in\nhttps://docs.openstack.org/cinderlib/latest/contributor/contributing.html\nfor an explanation of these changes.\n\nChange-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234\n'}, {'number': 2, 'created': '2022-12-15 22:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/67b493548b5b223763249df1907843dd5cd7f66a', 'message': 'Open cinderlib for 2023.1 (Antelope) development\n\nSee ""cinderlib tox and zuul configuration maintenance"" in\nhttps://docs.openstack.org/cinderlib/latest/contributor/contributing.html\nfor an explanation of these changes.\n\nChange-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234\n'}, {'number': 3, 'created': '2022-12-16 15:06:16.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/0c0879a6810273884556bbab6791e223e3768551', 'message': 'Open cinderlib for 2023.1 (Antelope) development\n\nSee ""cinderlib tox and zuul configuration maintenance"" in\nhttps://docs.openstack.org/cinderlib/latest/contributor/contributing.html\nfor an explanation of these changes.\n\nChange-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234\n'}]",8,867904,0c0879a6810273884556bbab6791e223e3768551,14,3,3,5314,,,0,"Open cinderlib for 2023.1 (Antelope) development

See ""cinderlib tox and zuul configuration maintenance"" in
https://docs.openstack.org/cinderlib/latest/contributor/contributing.html
for an explanation of these changes.

Change-Id: I68d038a3a64a81e6bd21e65423898d9f5b514234
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/04/867904/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,e1848d444116bb95d3b54c41b43130b3ccb8a017,open-2023.1," CINDERLIB_RELEASE=antelope git+https://opendev.org/openstack/os-brick#egg=os-brick git+https://opendev.org/openstack/cinder#egg=cinder[testenv:py{3,38,39,310,311}] CINDERLIB_RELEASE=antelope[testenv:functional-py{38,39,310,311}]install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/antelope} {opts} {packages}"," CINDERLIB_RELEASE=zed git+https://opendev.org/openstack/os-brick@stable/zed#egg=os-brick git+https://opendev.org/openstack/cinder@stable/zed#egg=cinder[testenv:py{3,38,39,310}] CINDERLIB_RELEASE=zed[testenv:functional-py{38,39,310}]install_command = python -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} {opts} {packages}",27,38
openstack%2Fneutron~868081,openstack/neutron,stable/victoria,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:39:43.000000000,2022-12-20 19:00:45.000000000,2022-12-20 18:58:20.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26ba3533f717064c13daa231c738687f97391f31', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}, {'number': 2, 'created': '2022-12-19 14:48:14.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a1219f6486586247f10629e086e5c98eadbb7cf', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)\n'}]",2,868081,0a1219f6486586247f10629e086e5c98eadbb7cf,14,3,2,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/868081/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,26ba3533f717064c13daa231c738687f97391f31,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fneutron~868165,openstack/neutron,master,Icd7030d36a2462263c9379e02c756d23f6ff6440,Remove note about migration from lib/neutron-legacy to lib/neutron,MERGED,2022-12-20 10:05:22.000000000,2022-12-20 19:00:38.000000000,2022-12-20 18:58:14.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:05:22.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/lib/ml2', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4edf94041f4661ace892e5b76bab9ca17fc3970b', 'message': ""Remove note about migration from lib/neutron-legacy to lib/neutron\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes left over todo comments about things to do when\nmigration to the new lib/neutron module will be finished.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: Icd7030d36a2462263c9379e02c756d23f6ff6440\n""}]",1,868165,4edf94041f4661ace892e5b76bab9ca17fc3970b,9,4,1,11975,,,0,"Remove note about migration from lib/neutron-legacy to lib/neutron

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes left over todo comments about things to do when
migration to the new lib/neutron module will be finished.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: Icd7030d36a2462263c9379e02c756d23f6ff6440
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/868165/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/lib/ml2', 'zuul.d/grenade.yaml']",4,4edf94041f4661ace892e5b76bab9ca17fc3970b,drop-lib-neutron,, # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy,1,16
openstack%2Fosprofiler~852360,openstack/osprofiler,master,I28bfa2a34222dae4ede0dad527f264eee4d5d0c4,remove unicode prefix from code,MERGED,2022-08-08 07:25:30.000000000,2022-12-20 18:14:42.000000000,2022-12-20 18:13:41.000000000,"[{'_account_id': 6593}, {'_account_id': 7730}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-08 07:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/a91bd80e872f832219164f11c49457875dd924a3', 'message': 'remove unicode prefix from code\n\nChange-Id: I28bfa2a34222dae4ede0dad527f264eee4d5d0c4\n'}, {'number': 2, 'created': '2022-08-08 07:28:13.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/0b1bfadebdeacda93c117fa0ab513bc228039372', 'message': 'remove unicode prefix from code\n\nChange-Id: I28bfa2a34222dae4ede0dad527f264eee4d5d0c4\n'}]",3,852360,0b1bfadebdeacda93c117fa0ab513bc228039372,13,5,2,35058,,,0,"remove unicode prefix from code

Change-Id: I28bfa2a34222dae4ede0dad527f264eee4d5d0c4
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/60/852360/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a91bd80e872f832219164f11c49457875dd924a3,,"project = 'OSprofiler' copyright = '2016, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'), 'OSprofiler Documentation', 'OSprofiler Team',","project = u'OSprofiler' copyright = u'2016, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'), u'OSprofiler Documentation', u'OSprofiler Team',",6,6
openstack%2Foslotest~852978,openstack/oslotest,master,Ie233ab07100e84c97995468a75f82e932831328f,Cleanup py27 support,MERGED,2022-08-13 00:43:06.000000000,2022-12-20 18:00:00.000000000,2022-12-20 17:59:03.000000000,"[{'_account_id': 7634}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-08-13 00:43:06.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/0a5932f537be661f2aba89d13ab3759432922289', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: Ie233ab07100e84c97995468a75f82e932831328f\n""}]",1,852978,0a5932f537be661f2aba89d13ab3759432922289,10,5,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: Ie233ab07100e84c97995468a75f82e932831328f
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/78/852978/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,0a5932f537be661f2aba89d13ab3759432922289,,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Foslo.vmware~852351,openstack/oslo.vmware,master,I346b4d641505e8f9d4392eeda0485ace08b0625d,remove unicode literal from code,MERGED,2022-08-06 13:18:38.000000000,2022-12-20 17:56:07.000000000,2022-12-20 17:55:01.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-06 13:18:38.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/b0c3baf0bcf66612b263ef8e3375635ef2f4f42e', 'message': 'remove unicode literal from code\n\nChange-Id: I346b4d641505e8f9d4392eeda0485ace08b0625d\n'}]",0,852351,b0c3baf0bcf66612b263ef8e3375635ef2f4f42e,8,3,1,35058,,,0,"remove unicode literal from code

Change-Id: I346b4d641505e8f9d4392eeda0485ace08b0625d
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/51/852351/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,b0c3baf0bcf66612b263ef8e3375635ef2f4f42e,,"project = 'oslo.vmware Release Notes' copyright = '2016, oslo.vmware Developers' 'oslo.vmware Release Notes Documentation', 'oslo.vmware Developers', 'manual'), 'oslo.vmware Release Notes Documentation', ['oslo.vmware Developers'], 1) 'oslo.vmware Release Notes Documentation', 'oslo.vmware Developers', 'oslo.vmwareReleaseNotes',","project = u'oslo.vmware Release Notes' copyright = u'2016, oslo.vmware Developers' u'oslo.vmware Release Notes Documentation', u'oslo.vmware Developers', 'manual'), u'oslo.vmware Release Notes Documentation', [u'oslo.vmware Developers'], 1) u'oslo.vmware Release Notes Documentation', u'oslo.vmware Developers', 'oslo.vmwareReleaseNotes',",8,8
openstack%2Foslo.concurrency~863729,openstack/oslo.concurrency,master,Ic909177a35589f59ea78fec6e741c2c954abc119,Imported Translations from Zanata,MERGED,2022-11-05 03:27:02.000000000,2022-12-20 17:55:10.000000000,2022-12-20 17:54:07.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-05 03:27:02.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/22f69e7402b83bb9d2efe145f049f7f75f301dad', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic909177a35589f59ea78fec6e741c2c954abc119\n'}]",0,863729,22f69e7402b83bb9d2efe145f049f7f75f301dad,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic909177a35589f59ea78fec6e741c2c954abc119
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/29/863729/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,22f69e7402b83bb9d2efe145f049f7f75f301dad,zanata/translations,"""POT-Creation-Date: 2022-09-06 09:39+0000\n""""PO-Revision-Date: 2022-11-04 10:43+0000\n""msgid ""5.0.0"" msgstr ""5.0.0"" msgid """" ""Log before trying to acquire a lock to help detect deadlocks and long waits "" ""to acquire locks."" msgstr """" ""Log before trying to acquire a lock to help detect deadlocks and long waits "" ""to acquire locks."" ","""POT-Creation-Date: 2022-05-11 16:21+0000\n""""PO-Revision-Date: 2022-06-13 07:42+0000\n""",12,2
openstack%2Fpuppet-openstack-integration~867909,openstack/puppet-openstack-integration,master,I92d5d436efb2db501e039ca8a6f43109a4b6a8f5,Updated from Puppet OpenStack modules constraints,MERGED,2022-12-16 02:21:50.000000000,2022-12-20 17:38:27.000000000,2022-12-20 17:38:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 02:21:50.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5f1d69e06ead9bf0ee65317aff66b8e5ca43cfd6', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I92d5d436efb2db501e039ca8a6f43109a4b6a8f5\n'}]",2,867909,5f1d69e06ead9bf0ee65317aff66b8e5ca43cfd6,9,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I92d5d436efb2db501e039ca8a6f43109a4b6a8f5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/867909/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,5f1d69e06ead9bf0ee65317aff66b8e5ca43cfd6,openstack/puppet/constraints, :ref => 'v9.0.0', :ref => 'v8.6.0',1,1
openstack%2Fneutron-fwaas~868169,openstack/neutron-fwaas,master,I7913f4b0426624c1486efd027d6c412dfa296a06,Remove note about migration from lib/neutron-legacy to lib/neutron,MERGED,2022-12-20 10:13:57.000000000,2022-12-20 17:22:37.000000000,2022-12-20 17:21:26.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:13:57.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9326c70da552e9a27c0115e6d696cfa3b504e39d', 'message': ""Remove note about migration from lib/neutron-legacy to lib/neutron\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes left over todo comments about things to do when\nmigration to the new lib/neutron module will be finished.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: I7913f4b0426624c1486efd027d6c412dfa296a06\n""}]",1,868169,9326c70da552e9a27c0115e6d696cfa3b504e39d,12,3,1,11975,,,0,"Remove note about migration from lib/neutron-legacy to lib/neutron

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes left over todo comments about things to do when
migration to the new lib/neutron module will be finished.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: I7913f4b0426624c1486efd027d6c412dfa296a06
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/69/868169/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,9326c70da552e9a27c0115e6d696cfa3b504e39d,drop-lib-neutron,, # TODO(hoangcx) we can remove the slashes below once neutron-legacy has gone,0,1
openstack%2Ftripleo-ansible~865888,openstack/tripleo-ansible,stable/zed,Ia78e72bbd20cab537f5ce81de33a332394369d16,Fix molecule failures in tripleo_collectd,MERGED,2022-11-28 19:42:35.000000000,2022-12-20 16:47:12.000000000,2022-12-20 16:47:12.000000000,"[{'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-28 19:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4d23d06856d6b52d57a8cbc912ad07634cb224c', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)\n'}, {'number': 2, 'created': '2022-11-30 17:55:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/verify.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility_libpodstats_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/requirements.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection_default_interval/converge.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/291ca72cfe1b310bc054429b4360cfcb9d16893f', 'message': 'Fix molecule failures in tripleo_collectd\n\n* Fixed repo problems by correcting volume mounts\n* Combined some scenarios to lower testing time\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16\n(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)\n'}]",2,865888,291ca72cfe1b310bc054429b4360cfcb9d16893f,10,4,2,30893,,,0,"Fix molecule failures in tripleo_collectd

* Fixed repo problems by correcting volume mounts
* Combined some scenarios to lower testing time

Closes-Bug: #1979972
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: Ia78e72bbd20cab537f5ce81de33a332394369d16
(cherry picked from commit 8e9047ba5ae0b7905b9a4aa239d9da15b8972511)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/865888/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",9,a4d23d06856d6b52d57a8cbc912ad07634cb224c,, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg:O - /opt/yum.repos.d:/etc/yum.repos.d:O - /etc/dnf/vars:/etc/dnf/vars:O, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars,31,25
openstack%2Fneutron~868201,openstack/neutron,master,I31cc4ef324aa9112b4ba9409025495af6813a80b,Pin OVS_BRANCH to master again,MERGED,2022-12-20 11:28:31.000000000,2022-12-20 16:39:52.000000000,2022-12-20 16:37:33.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-12-20 11:28:31.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d46b199517ce93066dc9b989cb6e1e078f701b8', 'message': 'Pin OVS_BRANCH to master again\n\nThis patch reverts [1] and [2] now [3] has been merged in the\nOVN repository.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/867004\n[2]https://review.opendev.org/c/openstack/neutron/+/867522\n[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d\n\nRelated-Bug: #1999154\n\nChange-Id: I31cc4ef324aa9112b4ba9409025495af6813a80b\n'}]",4,868201,1d46b199517ce93066dc9b989cb6e1e078f701b8,12,5,1,16688,,,0,"Pin OVS_BRANCH to master again

This patch reverts [1] and [2] now [3] has been merged in the
OVN repository.

[1]https://review.opendev.org/c/openstack/neutron/+/867004
[2]https://review.opendev.org/c/openstack/neutron/+/867522
[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d

Related-Bug: #1999154

Change-Id: I31cc4ef324aa9112b4ba9409025495af6813a80b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/868201/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,1d46b199517ce93066dc9b989cb6e1e078f701b8,bug/1999154, OVS_BRANCH: master OVS_BRANCH: master, # TODO(ykarel) move to master once OVN main branch is fixed to # work with https://github.com/openvswitch/ovs/commit/b8bf410 OVS_BRANCH: a77c7796f23a76190b61e2109a009df980253b0f # TODO(ykarel) move to master once OVN main branch is fixed to # work with https://github.com/openvswitch/ovs/commit/b8bf410 OVS_BRANCH: a77c7796f23a76190b61e2109a009df980253b0f,4,12
openstack%2Fnova~854653,openstack/nova,master,Idb45421205f76d2d3b0576bd0504d261ed249edd,Add a hacking rule for the setDaemon method,MERGED,2022-08-25 16:22:39.000000000,2022-12-20 16:29:35.000000000,2022-12-20 16:25:03.000000000,"[{'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-25 16:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac67f267bd793e13c269f0ffaf83f2b6443b998', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 2, 'created': '2022-08-31 12:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07e2f9ad2a530f32cf5b91fc87dc2b1cb27d8fc2', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 3, 'created': '2022-09-06 22:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ce10ee0fe1db62f06acd177a15065f714b23abe', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 4, 'created': '2022-09-19 01:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffdfb5cf193ec520a71cfa9c8b0bf099ab11f017', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 5, 'created': '2022-10-01 08:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5056bace0edc14486ef4fda2ef4612cebf6427d', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 6, 'created': '2022-10-15 12:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/426cc5348f98c41a0c4a4cef8e9f3cbe442beea7', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 7, 'created': '2022-11-03 02:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d092c3eeb4ff31e9f90e0fcb374aedd11817a8ee', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}, {'number': 8, 'created': '2022-11-14 13:04:05.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/628e1c152cc7c5e89d5261fc6f25ec72ac24c1df', 'message': ""Add a hacking rule for the setDaemon method\n\nAdd the following hacking rule.\n\n* N372: Don't use the setDaemon method.\n        Use the daemon attribute instead.\n\nChange-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd\nRelated-Bug: 1987191\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}]",0,854653,628e1c152cc7c5e89d5261fc6f25ec72ac24c1df,56,4,8,7634,,,0,"Add a hacking rule for the setDaemon method

Add the following hacking rule.

* N372: Don't use the setDaemon method.
        Use the daemon attribute instead.

Change-Id: Idb45421205f76d2d3b0576bd0504d261ed249edd
Related-Bug: 1987191
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/854653/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst']",4,1ac67f267bd793e13c269f0ffaf83f2b6443b998,add_hacking_rule,- [N372] Don't use the setDaemon method. Use the daemon attribute instead.,,44,0
openstack%2Fnova~860733,openstack/nova,stable/yoga,I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,"Handle ""no RAM info was set"" migration case",MERGED,2022-10-07 18:43:58.000000000,2022-12-20 16:28:36.000000000,2022-12-20 16:25:18.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 18:43:58.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4316234e63b76e4f9877ec6e924b5c54ea761bbb', 'message': 'Handle ""no RAM info was set"" migration case\n\nThis handles the case where the live migration monitoring thread may\nrace and call jobStats() after the migration has completed resulting in\nthe following error:\n\n    libvirt.libvirtError: internal error: migration was active, but no\n    RAM info was set\n\nCloses-Bug: #1982284\nChange-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267\n(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)\n(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)\n'}]",2,860733,4316234e63b76e4f9877ec6e924b5c54ea761bbb,17,3,1,4690,,,0,"Handle ""no RAM info was set"" migration case

This handles the case where the live migration monitoring thread may
race and call jobStats() after the migration has completed resulting in
the following error:

    libvirt.libvirtError: internal error: migration was active, but no
    RAM info was set

Closes-Bug: #1982284
Change-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267
(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)
(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/860733/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml']",3,4316234e63b76e4f9877ec6e924b5c54ea761bbb,bug/1982284,"--- other: - | A workaround has been added to the libvirt driver to catch and pass migrations that were previously failing with the error: ``libvirt.libvirtError: internal error: migration was active, but no RAM info was set`` See `bug 1982284`_ for more details. .. _bug 1982284: https://bugs.launchpad.net/nova/+bug/1982284 ",,40,0
openstack%2Fnova~861111,openstack/nova,master,Ia43f73dba00b0b5932939bcc7d11b97a83072ee3,Update gate jobs as per the 2023.1 cycle testing runtime,MERGED,2022-10-12 21:17:56.000000000,2022-12-20 16:28:24.000000000,2022-12-20 16:24:47.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 21:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0b8bed1d409a8647d3321262d2ad6d7ec976962', 'message': 'DNM: testign nova jobs on Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 2, 'created': '2022-11-17 20:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac1268c2513099c9649b58d6a34c5e21ab586d58', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 3, 'created': '2022-11-17 20:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8637d9ee65bc94ea81376284768686d64c40dcf7', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 4, 'created': '2022-11-17 21:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53501f45a3a5bfd3f9074a4a7ab87511f754d6bd', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/864948\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 5, 'created': '2022-11-21 22:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24b84e1087ebad574eb963f503092573e22982aa', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}, {'number': 6, 'created': '2022-11-22 19:44:55.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/58500c9967c3286c97f0a1056e94d1b2f05000d7', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit adds a new job to run on focal which can be removed\nin future cycle when testing runtime drop the requirement of Focal\ntesting. Also, make python 3.10 functional and unit test job as voting\n(openstack-tox-py310 is running as part of generic template so we do\nnot need to explicitly add that)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3\n'}]",17,861111,58500c9967c3286c97f0a1056e94d1b2f05000d7,55,4,6,8556,,,0,"Update gate jobs as per the 2023.1 cycle testing runtime

As per 2023.1 testing runtime[1], we need to test on Ubuntu
Jammy (which will be taken care by tempest and devstack patches
to move base jobs to Jammy) and at least single job to run on
Ubutnu Focal (for smooth upgrade). Also, python 3.10 testing is
voting now.

This commit adds a new job to run on focal which can be removed
in future cycle when testing runtime drop the requirement of Focal
testing. Also, make python 3.10 functional and unit test job as voting
(openstack-tox-py310 is running as part of generic template so we do
not need to explicitly add that)

[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html

Change-Id: Ia43f73dba00b0b5932939bcc7d11b97a83072ee3
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/861111/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e0b8bed1d409a8647d3321262d2ad6d7ec976962,migrate-to-jammy,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~866192,openstack/nova,stable/yoga,I27441d15cc6fa2ff7715ba15aa900961aadbf54a,Adapt websocketproxy tests for SimpleHTTPServer fix,MERGED,2022-11-30 17:19:23.000000000,2022-12-20 16:27:31.000000000,2022-12-20 16:25:11.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 17:19:23.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af', 'message': ""Adapt websocketproxy tests for SimpleHTTPServer fix\n\nIn response to bug 1927677 we added a workaround to\nNovaProxyRequestHandler to respond with a 400 Bad Request if an open\nredirect is attempted:\n\n  Ie36401c782f023d1d5f2623732619105dc2cfa24\n  I95f68be76330ff09e5eabb5ef8dd9a18f5547866\n\nRecently in python 3.10.6, a fix has landed in cpython to respond with\na 301 Moved Permanently to a sanitized URL that has had extra leading\n'/' characters removed.\n\nThis breaks our existing unit tests which assume a 400 Bad Request as\nthe only expected response.\n\nThis adds handling of a 301 Moved Permanently response and asserts that\nthe redirect location is the expected sanitized URL. Doing this instead\nof checking for a given python version will enable the tests to continue\nto work if and when the cpython fix gets backported to older python\nversions.\n\nWhile updating the tests, the opportunity was taken to commonize the\ncode of two unit tests that were nearly identical.\n\nRelated-Bug: #1927677\nCloses-Bug: #1986545\n\nChange-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a\n(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)\n""}]",1,866192,4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af,9,3,1,4690,,,0,"Adapt websocketproxy tests for SimpleHTTPServer fix

In response to bug 1927677 we added a workaround to
NovaProxyRequestHandler to respond with a 400 Bad Request if an open
redirect is attempted:

  Ie36401c782f023d1d5f2623732619105dc2cfa24
  I95f68be76330ff09e5eabb5ef8dd9a18f5547866

Recently in python 3.10.6, a fix has landed in cpython to respond with
a 301 Moved Permanently to a sanitized URL that has had extra leading
'/' characters removed.

This breaks our existing unit tests which assume a 400 Bad Request as
the only expected response.

This adds handling of a 301 Moved Permanently response and asserts that
the redirect location is the expected sanitized URL. Doing this instead
of checking for a given python version will enable the tests to continue
to work if and when the cpython fix gets backported to older python
versions.

While updating the tests, the opportunity was taken to commonize the
code of two unit tests that were nearly identical.

Related-Bug: #1927677
Closes-Bug: #1986545

Change-Id: I27441d15cc6fa2ff7715ba15aa900961aadbf54a
(cherry picked from commit 15769b883ed4a86d62b141ea30d3f1590565d8e0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/866192/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,4a2b44c7cf55d1d79d5a2dd638bd0def3af0f5af,bug/1986545," def test_reject_open_redirect(self, url='//example.com/%2F..'): f'GET {url} HTTP/1.1\r\n'.encode('utf-8'), # NOTE: As of python 3.10.6 there is a fix for this vulnerability, # which will cause a 301 Moved Permanently error to be returned # instead that redirects to a sanitized version of the URL with extra # leading '/' characters removed. # See https://github.com/python/cpython/issues/87389 for details. # We will consider either response to be valid for this test. This will # also help if and when the above fix gets backported to older versions # of python. errmsg = result[0].decode() expected_nova = '400 URI must not start with //' expected_cpython = '301 Moved Permanently' self.assertTrue(expected_nova in errmsg or expected_cpython in errmsg) # If we detect the cpython fix, verify that the redirect location is # now the same url but with extra leading '/' characters removed. if expected_cpython in errmsg: location = result[3].decode() location = location.removeprefix('Location: ').rstrip('\r\n') self.assertTrue( location.startswith('/example.com/%2F..'), msg='Redirect location is not the expected sanitized URL', ) self.test_reject_open_redirect(url='///example.com/%2F..')"," def test_reject_open_redirect(self): b'GET //example.com/%2F.. HTTP/1.1\r\n', self.assertIn('400 URI must not start with //', result[0].decode()) # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",26,35
openstack%2Fplacement~840701,openstack/placement,stable/wallaby,I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,placement-status: check only consumers in allocation table,MERGED,2022-05-05 16:28:44.000000000,2022-12-20 16:27:15.000000000,2022-12-20 16:25:23.000000000,"[{'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 16:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/69a0fb8bae4bc2538df266d8cbd788ac2ad61094', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}, {'number': 2, 'created': '2022-05-05 18:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e3217c5b3bf53c3aff039317cee9e77cfb7e8cd8', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840717\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}, {'number': 3, 'created': '2022-05-05 18:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/584961ad884b1ee3c2d779fecb96b8f3710b64f6', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}, {'number': 4, 'created': '2022-05-05 21:30:05.000000000', 'files': ['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/7f66845b6382513ae291914ea02787e9776505a0', 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nConflicts:\n    placement/cmd/status.py\n\nNOTE(melwitt): The conflict is because change\nIe0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the\nnumber of individual consumers having allocations by only selecting the\naggregated consumer_id column.) is not in Wallaby.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n""}]",1,840701,7f66845b6382513ae291914ea02787e9776505a0,13,3,4,4690,,,0,"placement-status: check only consumers in allocation table

Initially, _check_incomplete_consumers was intended to find the case
when consumers are mentioned in allocation but do not exist in the
consumer table. Due to a bug it's possible to have rows in the
consumer table those are not in the allocation table. The second case
it seems was not expected and it can be tricky to automate a cleanup
with zero touch upgrade.

This patch modifies the check such way it counts only consumers
presented in the allocation table.

Conflicts:
    placement/cmd/status.py

NOTE(melwitt): The conflict is because change
Ie0bee79c1ee185c0f68fa170c668395d9058c56d (Fix SQL query counting the
number of individual consumers having allocations by only selecting the
aggregated consumer_id column.) is not in Wallaby.

Related-bug: #1780799
Change-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d
(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)
",git fetch https://review.opendev.org/openstack/placement refs/changes/01/840701/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py']",2,69a0fb8bae4bc2538df266d8cbd788ac2ad61094,bug/1780799," allocation = models.Allocation.__table__ consumer = models.Consumer.__table__ return ctxt.session.execute( sa.select([sa.func.count( sa.distinct(allocation.c.consumer_id))]) .select_from( allocation.outerjoin( consumer, allocation.c.consumer_id == consumer.c.uuid)) .where(consumer.c.id.is_(None))).fetchone()[0]", # Count the total number of consumers. num_consumers = ctxt.session.query(models.Consumer).count() # Count the total number of unique consumers in the allocations table. num_alloc_consumers = ctxt.session.query(models.Allocation).group_by( models.Allocation.consumer_id).count() return num_alloc_consumers - num_consumers,19,6
openstack%2Fnova~861146,openstack/nova,master,Ibd331df51fd4eaeed4831a98469f06a4ce0cd452,Improving logging at '_allocate_mdevs'.,MERGED,2022-10-13 07:55:07.000000000,2022-12-20 16:24:55.000000000,2022-12-20 16:24:55.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-13 07:55:07.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6feb3350b048606297068841e3feba110bb0b0ab', 'message': ""Improving logging at '_allocate_mdevs'.\n\nAdding both 'info' and 'debug' messages with the intention of telling\nwhich mdevs are available, which get allocated and whether new ones\nare created.\n\nCloses-Bug: #1992451\nChange-Id: Ibd331df51fd4eaeed4831a98469f06a4ce0cd452\n""}]",1,861146,6feb3350b048606297068841e3feba110bb0b0ab,17,6,1,34443,,,0,"Improving logging at '_allocate_mdevs'.

Adding both 'info' and 'debug' messages with the intention of telling
which mdevs are available, which get allocated and whether new ones
are created.

Closes-Bug: #1992451
Change-Id: Ibd331df51fd4eaeed4831a98469f06a4ce0cd452
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/861146/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,6feb3350b048606297068841e3feba110bb0b0ab,," LOG.debug('Searching for available mdevs...') LOG.info('Available mdevs at: %s.', available_mdevs) LOG.debug('Attempting to create new mdev...') LOG.debug('Trying on: %s.', dev_name) LOG.info('Created mdev: %s on pGPU: %s.', chosen_mdev, pci_addr) LOG.debug('Failed: No available instances on device.') LOG.info('Failed to create mdev. ' 'No free space found among the following devices: %s.', [dev['dev_id'] for dev in devices]) LOG.debug('No available mdevs where found. ' 'Creating an new one...') LOG.info('Allocated mdev: %s.', chosen_mdev)",,13,0
openstack%2Fnova~850723,openstack/nova,stable/yoga,I71c3a4355c6f06d3791e50a696e4d665db1c227a,Modify the command of getting serial console,ABANDONED,2022-07-22 07:11:32.000000000,2022-12-20 16:11:05.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 35458}]","[{'number': 1, 'created': '2022-07-22 07:11:32.000000000', 'files': ['doc/source/admin/manage-logs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1978a09bd48d8b4437395cb3db3410c92fdc23af', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a\n""}]",2,850723,1978a09bd48d8b4437395cb3db3410c92fdc23af,7,4,1,34918,,,0,"Modify the command of getting serial console

The old command 'nova get-serial-proxy' was not found when using novaclient

Change-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/850723/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-logs.rst'],1,1978a09bd48d8b4437395cb3db3410c92fdc23af,modify_serial_console_command,#. Use the :command:`nova get-serial-console` command to retrieve the websocket $ nova get-serial-console INSTANCE_NAME,#. Use the :command:`nova get-serial-proxy` command to retrieve the websocket $ nova get-serial-proxy INSTANCE_NAME,2,2
openstack%2Fnova~860892,openstack/nova,master,I71c3a4355c6f06d3791e50a696e4d665db1c227a,Modify the command of getting serial console,ABANDONED,2022-10-11 03:15:19.000000000,2022-12-20 16:10:56.000000000,,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-11 03:15:19.000000000', 'files': ['doc/source/admin/manage-logs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad278d7f3affa974560d9451e7c10ca511e26366', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a\n""}]",2,860892,ad278d7f3affa974560d9451e7c10ca511e26366,13,6,1,34918,,,0,"Modify the command of getting serial console

The old command 'nova get-serial-proxy' was not found when using novaclient

Change-Id: I71c3a4355c6f06d3791e50a696e4d665db1c227a
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/860892/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-logs.rst'],1,ad278d7f3affa974560d9451e7c10ca511e26366,modify_serial_console_command-master,#. Use the :command:`nova get-serial-console` command to retrieve the websocket $ nova get-serial-console INSTANCE_NAME,#. Use the :command:`nova get-serial-proxy` command to retrieve the websocket $ nova get-serial-proxy INSTANCE_NAME,2,2
openstack%2Fnova~862963,openstack/nova,master,If94895d0fc4b5a59febd02e127fbf93959084fee,Doc: Fix list servers detailed response param,MERGED,2022-10-28 21:55:42.000000000,2022-12-20 16:09:16.000000000,2022-12-20 16:07:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 34275}]","[{'number': 1, 'created': '2022-10-28 21:55:42.000000000', 'files': ['api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f1cc5a8f06909821d4bbfc8d439496b2fd2e122', 'message': 'Doc: Fix list servers detailed response param\n\nChange-Id: If94895d0fc4b5a59febd02e127fbf93959084fee\n'}]",1,862963,8f1cc5a8f06909821d4bbfc8d439496b2fd2e122,11,3,1,35447,,,0,"Doc: Fix list servers detailed response param

Change-Id: If94895d0fc4b5a59febd02e127fbf93959084fee
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/862963/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers.inc'],1,8f1cc5a8f06909821d4bbfc8d439496b2fd2e122,server-doc-fix, - servers: servers, - server: server,1,1
openstack%2Fneutron~867921,openstack/neutron,stable/yoga,Id594003681f4755d8fd1af3b98e281c3109420f6,Fix bulk create without mac,MERGED,2022-12-16 15:30:18.000000000,2022-12-20 16:08:50.000000000,2022-12-20 16:07:11.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 15:30:18.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nConflicts:\n  neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}]",1,867921,2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5,9,4,1,8313,,,0,"Fix bulk create without mac

Bulk port create without mac address fails as when Neutron calls
oslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port
is an ATTR_NOT_SPECIFIED Sentinel() object.
With some reshuffling of the code to fill the mac field this can be
fixed.

Conflicts:
  neutron/plugins/ml2/plugin.py

Closes-Bug: #1995732
Related-Bug: #1954763

Change-Id: Id594003681f4755d8fd1af3b98e281c3109420f6
(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/867921/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,2ed8fa503759433136e9e4aef5d9c7b5bb0aa3c5,bug/1995732-stable/zed-stable/yoga,"from neutron_lib.api import converters def allocate_macs_and_ips_for_ports(self, context, ports): macs = self._generate_macs(len(ports)) network_cache = dict() network_id = port['port'].get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network raw_mac_address = port['port'].get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = converters.convert_to_sanitized_mac_address( raw_mac_address) # Create the Port object # Note: netaddr has an issue with using the correct dialect when # the input for EUI is another EUI object, see: # https://github.com/netaddr/netaddr/issues/250 # TODO(lajoskatona): remove this once # https://review.opendev.org/c/openstack/neutron-lib/+/865517 is # released. port['port']['mac_address'] = str(eui_mac_address) return ports, network_cache port_list, net_cache = self.allocate_macs_and_ips_for_ports( context, port_list) return self._create_port_bulk(context, port_list, net_cache) def _create_port_bulk(self, context, port_list, network_cache): network_id = pdata.get('network_id') network_id=network_id, network = network_cache[network_id] db_port_obj = ports_obj.Port( context, mac_address=netaddr.EUI(port['port']['mac_address'], dialect=eui48.mac_unix_expanded), id=port['port']['id'], **bulk_port_data)"," def allocate_ips_for_ports(self, context, ports): return ports port_list = self.allocate_ips_for_ports(context, port_list) return self._create_port_bulk(context, port_list) def _create_port_bulk(self, context, port_list): network_cache = dict() macs = self._generate_macs(len(port_list)) network_id=pdata.get('network_id'), # Ensure that the networks exist. network_id = pdata.get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network else: network = network_cache[network_id] # Determine the MAC address raw_mac_address = pdata.get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = netaddr.EUI(raw_mac_address, dialect=eui48.mac_unix_expanded) port['port']['mac_address'] = str(eui_mac_address) # Create the Port object db_port_obj = ports_obj.Port(context, mac_address=eui_mac_address, id=port['port']['id'], **bulk_port_data)",133,32
openstack%2Fneutron~867920,openstack/neutron,stable/zed,Id594003681f4755d8fd1af3b98e281c3109420f6,Fix bulk create without mac,MERGED,2022-12-16 13:21:16.000000000,2022-12-20 16:08:45.000000000,2022-12-20 16:07:06.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 13:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6bcfced812b2c6a5cd6c2263b2f1967643ddc1f', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}, {'number': 2, 'created': '2022-12-16 15:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff0bd5ffd8a2776651fd24db28963c77366dcd13', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}, {'number': 3, 'created': '2022-12-16 15:23:57.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c09f7ec2ee1ade69d3716a13963f6a5fd7714d9d', 'message': 'Fix bulk create without mac\n\nBulk port create without mac address fails as when Neutron calls\noslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port\nis an ATTR_NOT_SPECIFIED Sentinel() object.\nWith some reshuffling of the code to fill the mac field this can be\nfixed.\n\nConflicts:\n  neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1995732\nRelated-Bug: #1954763\n\nChange-Id: Id594003681f4755d8fd1af3b98e281c3109420f6\n(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)\n'}]",17,867920,c09f7ec2ee1ade69d3716a13963f6a5fd7714d9d,17,4,3,8313,,,0,"Fix bulk create without mac

Bulk port create without mac address fails as when Neutron calls
oslo_utils.netutils.get_ipv6_addr_by_EUI64, as the mac field of the port
is an ATTR_NOT_SPECIFIED Sentinel() object.
With some reshuffling of the code to fill the mac field this can be
fixed.

Conflicts:
  neutron/plugins/ml2/plugin.py

Closes-Bug: #1995732
Related-Bug: #1954763

Change-Id: Id594003681f4755d8fd1af3b98e281c3109420f6
(cherry picked from commit f7dd7790f5c6e3149af4680ba521089328d1eb0c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/867920/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,a6bcfced812b2c6a5cd6c2263b2f1967643ddc1f,bug/1995732-stable/zed,"from neutron_lib.api import converters def allocate_macs_and_ips_for_ports(self, context, ports): macs = self._generate_macs(len(ports)) network_cache = dict() network_id = port['port'].get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network raw_mac_address = port['port'].get('mac_address', const.ATTR_NOT_SPECIFIED) if raw_mac_address is const.ATTR_NOT_SPECIFIED: raw_mac_address = macs.pop() elif self._is_mac_in_use(context, network_id, raw_mac_address): raise exc.MacAddressInUse(net_id=network_id, mac=raw_mac_address) eui_mac_address = converters.convert_to_sanitized_mac_address( raw_mac_address) # Create the Port object # Note: netaddr has an issue with using the correct dialect when # the input for EUI is another EUI object, see: # https://github.com/netaddr/netaddr/issues/250 # TODO(lajoskatona): remove this once # https://review.opendev.org/c/openstack/neutron-lib/+/865517 is # released. port['port']['mac_address'] = str(eui_mac_address) return ports, network_cache port_list, net_cache = self.allocate_macs_and_ips_for_ports( context, port_list) return self._create_port_bulk(context, port_list, net_cache) def _create_port_bulk(self, context, port_list, network_cache): network_id = pdata.get('network_id') network_id=network_id, network = network_cache[network_id] <<<<<<< HEAD (6927df Dont raise RouterInterfaceNotFound on overlap check router p)======= db_port_obj = ports_obj.Port( context, mac_address=netaddr.EUI(port['port']['mac_address'], dialect=eui48.mac_unix_expanded), id=port['port']['id'], **bulk_port_data) >>>>>>> CHANGE (f7dd77 Fix bulk create without mac)"," def allocate_ips_for_ports(self, context, ports): return ports port_list = self.allocate_ips_for_ports(context, port_list) return self._create_port_bulk(context, port_list) def _create_port_bulk(self, context, port_list): network_cache = dict() macs = self._generate_macs(len(port_list)) network_id=pdata.get('network_id'), # Ensure that the networks exist. network_id = pdata.get('network_id') if network_id not in network_cache: network = self.get_network(context, network_id) network_cache[network_id] = network else: network = network_cache[network_id] ",136,15
openstack%2Fnova~856757,openstack/nova,master,I0ffa47d2afbfbfa63651991b3791dfad3e1832e1,db: Drop redundant indexes on instances and console_auth_tokens tables,MERGED,2022-09-09 12:01:29.000000000,2022-12-20 16:08:16.000000000,2022-12-20 16:07:00.000000000,"[{'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-09 12:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6abb9f4f7b65a01b0b0bb7c5035485369118965', 'message': 'db: Drop redundant unique constraint for instances uuid\n\nThere were two unique constrainst on the same column uuid, this change now\ndrops one of them.\n\nThis was introduced through https://review.opendev.org/c/openstack/nova/+/97946\nbut was pending cleanup since.\n\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 2, 'created': '2022-09-09 12:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5df63f42f102a4fa1154e98d45c70f653d46f6d', 'message': 'db: Drop redundant unique constraint for instances uuid\n\nThere were two unique constrainst on the same column uuid, this change drops\none of them.\n\nThe second constraint was introduced with\nhttps://review.opendev.org/c/openstack/nova/+/97946 but was pending cleanup\nsince.\n\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 3, 'created': '2022-09-09 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dedec4d0c50c77f62fc188774714c0cf329d697', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 4, 'created': '2022-09-09 12:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf2b2dd3512fc1e4f81405dbc019d26e4c42d958', 'message': 'db: Drop redundant indexes on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 5, 'created': '2022-09-09 14:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/468029b335ce5c13eabd64355df0296c6bbd4abd', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 6, 'created': '2022-09-09 14:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cde665dd67ae3c5cfab47d1d6022b48ebcea3617', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 7, 'created': '2022-09-09 22:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7b63494177b56e865094f7d9d1f8085615a9a0d', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 8, 'created': '2022-09-12 07:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31ac291f8a327ad3b8f70faf25d8b783038e2a97', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 9, 'created': '2022-09-15 15:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1260f66d2f3ac09ad2185eceea705eed759b38', 'message': 'db: Drop redundant indeces on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 10, 'created': '2022-09-15 15:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0ffdb8bdda7c037147c832abdd8394e1e6e90c8', 'message': 'db: Drop redundant indexes on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}, {'number': 11, 'created': '2022-09-15 17:42:47.000000000', 'files': ['nova/tests/unit/db/main/test_migrations.py', 'nova/db/main/migrations/versions/960aac0e09ea_de_duplicate_indexes_in_instances__.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/531e1e8733b8928d262bf3b0b72540dde3ef1dad', 'message': 'db: Drop redundant indexes on instances and console_auth_tokens tables\n\n * There were two unique constrains on the same column uuid of instances.\n   This change drops one of them. The second constraint was introduced with\n   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup\n   since.\n * In console_auth_tokens there was a unique constraint and another index on\n   column token_hash.\n\nCloses-Bug: #1641185\nChange-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1\n'}]",11,856757,531e1e8733b8928d262bf3b0b72540dde3ef1dad,61,6,11,32755,,,0,"db: Drop redundant indexes on instances and console_auth_tokens tables

 * There were two unique constrains on the same column uuid of instances.
   This change drops one of them. The second constraint was introduced with
   https://review.opendev.org/c/openstack/nova/+/97946, but was pending cleanup
   since.
 * In console_auth_tokens there was a unique constraint and another index on
   column token_hash.

Closes-Bug: #1641185
Change-Id: I0ffa47d2afbfbfa63651991b3791dfad3e1832e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/856757/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/versions/03d2ca76f59b_drop_redundant_unique_constraint_for_.py', 'nova/db/main/models.py']",2,d6abb9f4f7b65a01b0b0bb7c5035485369118965,dedupindexes,," schema.UniqueConstraint('uuid', name='uniq_instances0uuid'),",36,1
openstack%2Fnova~864641,openstack/nova,master,I8515a25d698a3671673edd393ec6964862d3d476,libvirt: fix typo in test_config,MERGED,2022-11-16 02:34:04.000000000,2022-12-20 16:07:16.000000000,2022-12-20 16:07:16.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 02:34:04.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae055aaf5d530b86cd396b3e0b8e54e87879003b', 'message': 'libvirt: fix typo in test_config\n\nhosdev -> hostdev\n\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\nChange-Id: I8515a25d698a3671673edd393ec6964862d3d476\n'}]",1,864641,ae055aaf5d530b86cd396b3e0b8e54e87879003b,8,2,1,31652,,,0,"libvirt: fix typo in test_config

hosdev -> hostdev

Signed-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>
Change-Id: I8515a25d698a3671673edd393ec6964862d3d476
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/864641/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_config.py'],1,ae055aaf5d530b86cd396b3e0b8e54e87879003b,fix_unittest_typo, def test_config_guest_hostdev_pci(self): def test_parse_guest_hostdev_pci(self): def test_parse_guest_hostdev_usb(self):, def test_config_guest_hosdev_pci(self): def test_parse_guest_hosdev_pci(self): def test_parse_guest_hosdev_usb(self):,3,3
openstack%2Fironic~868028,openstack/ironic,bugfix/18.1,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,MERGED,2022-12-19 20:28:53.000000000,2022-12-20 15:51:33.000000000,2022-12-20 15:50:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-19 20:28:53.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7048c4f10a9f9fa648f6c729178d6f22a264e8f0', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868028,7048c4f10a9f9fa648f6c729178d6f22a264e8f0,8,2,1,6618,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/868028/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml']",3,7048c4f10a9f9fa648f6c729178d6f22a264e8f0,,"--- fixes: - | Fixes a race condition in PXE initialization where logic to retry what we suspect as potentially failed PXE boot operations was not consulting if an ``agent token`` had been established, which is the very first step in agent initialization. ",,25,0
openstack%2Fironic~868029,openstack/ironic,stable/wallaby,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,MERGED,2022-12-19 20:29:40.000000000,2022-12-20 15:51:19.000000000,2022-12-20 15:50:05.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-19 20:29:40.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/06821f4d0cd1c217ecc44d2f41cd93ac05b5b236', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868029,06821f4d0cd1c217ecc44d2f41cd93ac05b5b236,9,2,1,6618,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/868029/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml']",3,06821f4d0cd1c217ecc44d2f41cd93ac05b5b236,,"--- fixes: - | Fixes a race condition in PXE initialization where logic to retry what we suspect as potentially failed PXE boot operations was not consulting if an ``agent token`` had been established, which is the very first step in agent initialization. ",,25,0
openstack%2Fnetworking-sfc~868168,openstack/networking-sfc,master,I54ff765d1f839232c85ab01556be03d95f135bd5,Remove note about migration from lib/neutron-legacy to lib/neutron,MERGED,2022-12-20 10:12:41.000000000,2022-12-20 15:39:47.000000000,2022-12-20 15:37:59.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:12:41.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/aa1dbcd1b379ab755049173e02f5df5850c42b09', 'message': ""Remove note about migration from lib/neutron-legacy to lib/neutron\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes left over todo comments about things to do when\nmigration to the new lib/neutron module will be finished.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: I54ff765d1f839232c85ab01556be03d95f135bd5\n""}]",0,868168,aa1dbcd1b379ab755049173e02f5df5850c42b09,9,4,1,11975,,,0,"Remove note about migration from lib/neutron-legacy to lib/neutron

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes left over todo comments about things to do when
migration to the new lib/neutron module will be finished.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: I54ff765d1f839232c85ab01556be03d95f135bd5
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/68/868168/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,aa1dbcd1b379ab755049173e02f5df5850c42b09,drop-lib-neutron,, # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy,0,6
openstack%2Fkuryr-kubernetes~864404,openstack/kuryr-kubernetes,master,Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a,Use either subnet name or id for Machines.,MERGED,2022-11-14 11:31:26.000000000,2022-12-20 15:35:16.000000000,2022-12-20 15:34:19.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-14 11:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4279ad666ed0b7cf2a9f4fd9ba15285f38c492d0', 'message': ""Make ability to use either subnet name or id for Machines.\n\nCurrently, we support only uuid for primarySubnet field for OpenShift\nMachines. Even though it's possible to create objects in OpenStack with\nthe same name, it is more natural to use names instead of id in\nOpenShift world. In this patch we introduce support for such case.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 2, 'created': '2022-11-16 11:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8d73028b8d2de22f8ec82a2b42c61ffc0dc94828', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 3, 'created': '2022-11-17 12:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/df602edbeb335ec30ed3b9b96a5f2199bbebafd4', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 4, 'created': '2022-11-22 13:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ded2b24d738c5faa9eeaf0d6fcf4c765b2565089', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 5, 'created': '2022-11-24 13:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/815f7f498b4e3593b69a2af1678215a65867cecc', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 6, 'created': '2022-12-06 12:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/def55d66db4107892519ec2392f18335ba81d4fc', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid in especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}, {'number': 7, 'created': '2022-12-19 07:57:32.000000000', 'files': ['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_node_subnets.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ba4cc2b8f0ae28538529d56ebea559268e7d3e88', 'message': ""Use either subnet name or id for Machines.\n\nCurrently, we support only subnet id for primarySubnet field for\nOpenShift Machines. Even though it's possible to create objects in\nOpenStack with the same name, it is more natural to use names instead of\nid especially in OpenShift world. In this patch we introduce support\nfor using names as well.\n\nChange-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a\n""}]",63,864404,ba4cc2b8f0ae28538529d56ebea559268e7d3e88,114,4,7,13692,,,0,"Use either subnet name or id for Machines.

Currently, we support only subnet id for primarySubnet field for
OpenShift Machines. Even though it's possible to create objects in
OpenStack with the same name, it is more natural to use names instead of
id especially in OpenShift world. In this patch we introduce support
for using names as well.

Change-Id: Ib21646b4b7cf0e3c07ddef15b3569a0fb4539e8a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/864404/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_node_subnets.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py']",4,4279ad666ed0b7cf2a9f4fd9ba15285f38c492d0,subnet-name-support," @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_valid_uuid(self, m_get_net): m_net = mock.Mock() m_net.subnets.return_value = iter([munch.Munch()]) m_get_net.return_value = m_net string = 'ba8086e6-f97c-42a1-8ee2-85a1f4eb7202' result = utils.get_subnet_uuid(string) self.assertEqual(string, result) @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_valid_name(self, m_get_net): m_net = mock.Mock() subnet_id = 'eb8c0be2-e229-43dc-a6ba-69e17f7f1597' m_net.subnets.side_effect = [iter([]), iter([munch.Munch({'id': subnet_id})])] m_get_net.return_value = m_net string = 'subnet_name' result = utils.get_subnet_uuid(string) self.assertEqual(subnet_id, result) @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_valid_name_two_subnets(self, m_get_net): m_net = mock.Mock() subnet_id = 'eb8c0be2-e229-43dc-a6ba-69e17f7f1597' subnet2_id = 'd13271f5-fb57-4e67-af94-7c19298b7d41' m_net.subnets.side_effect = [iter([]), iter([munch.Munch({'id': subnet_id}), munch.Munch({'id': subnet2_id})])] m_get_net.return_value = m_net string = 'subnet_name' result = utils.get_subnet_uuid(string) self.assertEqual(subnet_id, result) @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_get_subnet_uuid_wrong_name(self, m_get_net): m_net = mock.Mock() m_net.subnets.side_effect = [iter([]), iter([])] m_get_net.return_value = m_net string = 'subnet_name' result = utils.get_subnet_uuid(string) self.assertIsNone(result)",,83,4
openstack%2Ftripleo-ci~867966,openstack/tripleo-ci,master,I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3,Adjust collection for container-image-prepare-compute,MERGED,2022-12-16 10:37:22.000000000,2022-12-20 15:24:45.000000000,2022-12-19 14:38:05.000000000,"[{'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-16 10:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/19f04dfa1b00ad6a22352fc9c29857a1eb0ba6aa', 'message': 'Adjust collection for container-image-prepare-compute\n\nThe compute container image prepare output file is added in [1] and\nnamed tripleo-container-image-prepare-compute.log\n\n[1] Ie32159bdbe15637004eb5fc7cb24fde8c6806b25\n\nChange-Id: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3\n'}, {'number': 2, 'created': '2022-12-16 10:38:18.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/818212fdbdcb7f739b4e2297f0e63443d6694cbb', 'message': 'Adjust collection for container-image-prepare-compute\n\nThe compute container image prepare output file is added in [1] and\nnamed tripleo-container-image-prepare-compute.log\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/867967\n\nChange-Id: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3\n'}]",5,867966,818212fdbdcb7f739b4e2297f0e63443d6694cbb,11,4,2,8449,,,0,"Adjust collection for container-image-prepare-compute

The compute container image prepare output file is added in [1] and
named tripleo-container-image-prepare-compute.log

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/867967

Change-Id: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/867966/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,19f04dfa1b00ad6a22352fc9c29857a1eb0ba6aa,, - /var/log/tripleo-container-image-prepare.*.log, - /var/log/tripleo-container-image-prepare.log - /var/log/tripleo-container-image-prepare-ansible.log,1,2
openstack%2Fnova~850729,openstack/nova,master,Ib106e36b77d32cdcc535e4237364b647d1cc04e0,Modify the command of getting serial console,MERGED,2022-07-22 08:23:08.000000000,2022-12-20 15:07:33.000000000,2022-12-20 15:05:36.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 08:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc07f80aab70923318444a1d29452586e1bfa459', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: Ib106e36b77d32cdcc535e4237364b647d1cc04e0\n""}, {'number': 2, 'created': '2022-07-22 09:01:51.000000000', 'files': ['doc/source/admin/manage-logs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2dcd6d48786664aac5b0c033ea9a4641b3ee0a15', 'message': ""Modify the command of getting serial console\n\nThe old command 'nova get-serial-proxy' was not found when using novaclient\n\nChange-Id: Ib106e36b77d32cdcc535e4237364b647d1cc04e0\n""}]",1,850729,2dcd6d48786664aac5b0c033ea9a4641b3ee0a15,12,2,2,34918,,,0,"Modify the command of getting serial console

The old command 'nova get-serial-proxy' was not found when using novaclient

Change-Id: Ib106e36b77d32cdcc535e4237364b647d1cc04e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/850729/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-logs.rst'],1,cc07f80aab70923318444a1d29452586e1bfa459,modify_serial_console_command,#. Use the :command:`nova get-serial-console` command to retrieve the websocket $ nova get-serial-console INSTANCE_NAME,#. Use the :command:`nova get-serial-proxy` command to retrieve the websocket $ nova get-serial-proxy INSTANCE_NAME,2,2
openstack%2Fnova~859010,openstack/nova,master,Iefd198f3fa192c0b31b75f6324afade391f2e57c,Correct reST markup in config help string,MERGED,2022-09-23 02:46:43.000000000,2022-12-20 15:06:39.000000000,2022-12-20 15:05:27.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-23 02:46:43.000000000', 'files': ['nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8942d5bc260cb46f0ea470c52ab33240a1fdecdc', 'message': 'Correct reST markup in config help string\n\nA missing blank line after ""Related options:"" is causing the\noption list to be jammed into a single paragraph instead of\nbeing rendered as a bulleted list.\n\nChange-Id: Iefd198f3fa192c0b31b75f6324afade391f2e57c\n'}]",0,859010,8942d5bc260cb46f0ea470c52ab33240a1fdecdc,15,4,1,5314,,,0,"Correct reST markup in config help string

A missing blank line after ""Related options:"" is causing the
option list to be jammed into a single paragraph instead of
being rendered as a bulleted list.

Change-Id: Iefd198f3fa192c0b31b75f6324afade391f2e57c
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/859010/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,8942d5bc260cb46f0ea470c52ab33240a1fdecdc,trivial,,,1,0
openstack%2Fnova~859201,openstack/nova,master,I6f7cf5bbca5754a91efe788064695134ecff34b6,fix typo in architecture document,MERGED,2022-09-25 19:00:14.000000000,2022-12-20 15:05:36.000000000,2022-12-20 15:03:36.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-25 19:00:14.000000000', 'files': ['doc/source/admin/architecture.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/480b63a9a6a588b2867efcb951972a53b62ca483', 'message': 'fix typo in architecture document\n\nSigned-off-by: Jan Klippel <openstack@kl1pp3l.de>\nChange-Id: I6f7cf5bbca5754a91efe788064695134ecff34b6\n'}]",4,859201,480b63a9a6a588b2867efcb951972a53b62ca483,14,4,1,34858,,,0,"fix typo in architecture document

Signed-off-by: Jan Klippel <openstack@kl1pp3l.de>
Change-Id: I6f7cf5bbca5754a91efe788064695134ecff34b6
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/859201/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/architecture.rst'],1,480b63a9a6a588b2867efcb951972a53b62ca483,fix-typo-in-doc,"The OpenStack Block Storage service, Cinder, provides persistent volumes that","The OpenStack Block Storage service, Cinder, provides persistent volumes hat",1,1
openstack%2Fpython-openstackclient~751986,openstack/python-openstackclient,master,I0f3e5419ce522e620be805c0fcd829c8dfb2e317,Add plugin doc page for cyborg,MERGED,2020-09-15 08:19:06.000000000,2022-12-20 15:04:32.000000000,2022-12-20 15:03:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-09-15 08:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3048676cdb0d75a011539b69e580a399f7c4a638', 'message': 'Add plugin doc page for cyborg\n\nThis patch add cyborg (accelerator) doc page.\n\nChange-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317\n'}, {'number': 2, 'created': '2020-11-12 15:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b0d4ae6b53a67e3925e80657d7424e95640abc6f', 'message': 'Add plugin doc page for cyborg\n\nThis patch add cyborg (accelerator) doc page.\n\nChange-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317\n'}, {'number': 3, 'created': '2020-12-22 12:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d39653bce354109e0fe5d082de3921eeb8590e50', 'message': 'Add plugin doc page for cyborg\n\nThis patch add cyborg (accelerator) doc page.\n\nChange-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317\n'}, {'number': 4, 'created': '2021-01-18 06:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/88b7f922f97b08d7707801b510ea16edd50dc5db', 'message': 'Add plugin doc page for cyborg\n\nThis patch add cyborg (accelerator) doc page.\n\nChange-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317\n'}, {'number': 5, 'created': '2021-01-18 09:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f91e8f7bbadbbcb46dc2bb2262e49aa81e9b3553', 'message': 'Add plugin doc page for cyborg\n\nThis patch add cyborg (accelerator) doc page.\n\nChange-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317\n'}, {'number': 6, 'created': '2022-12-20 12:35:50.000000000', 'files': ['doc/source/contributor/plugins.rst', 'doc/source/cli/plugin-commands/index.rst', 'doc/requirements.txt', 'doc/source/cli/plugin-commands/cyborg.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7f89b109cf6b52af416c98f03cb2a629d099b91a', 'message': 'Add plugin doc page for cyborg\n\nThis patch add cyborg (accelerator) doc page.\n\nChange-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317\n'}]",1,751986,7f89b109cf6b52af416c98f03cb2a629d099b91a,24,6,6,30759,,,0,"Add plugin doc page for cyborg

This patch add cyborg (accelerator) doc page.

Change-Id: I0f3e5419ce522e620be805c0fcd829c8dfb2e317
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/86/751986/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/plugins.rst', 'doc/source/cli/plugin-commands/index.rst', 'lower-constraints.txt', 'doc/requirements.txt', 'doc/source/cli/plugin-commands/cyborg.rst']",5,3048676cdb0d75a011539b69e580a399f7c4a638,,cyborg ------ .. autoprogram-cliff:: openstack.accelerator.v2 ,,8,0
openstack%2Fnova~855658,openstack/nova,master,Ia77410b10c1706bc6561b11cf5d2ef72b936795e,add header alingment for PrettyTable 3.4.0,MERGED,2022-09-02 12:46:06.000000000,2022-12-20 15:04:25.000000000,2022-12-20 15:03:10.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-09-02 12:46:06.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6569de43a6482488afb620fd9dd43cb15b316cce', 'message': 'add header alingment for PrettyTable 3.4.0\n\nIn 3.3.0 the align attirbute applied to both the header\nand the data. In 3.4.0 align only applies to the data.\n\nThis change restores the previous left align behavior\nfor both header and data.\n\nCloses-Bug: #1988482\nChange-Id: Ia77410b10c1706bc6561b11cf5d2ef72b936795e\n'}]",5,855658,6569de43a6482488afb620fd9dd43cb15b316cce,20,8,1,11604,,,0,"add header alingment for PrettyTable 3.4.0

In 3.3.0 the align attirbute applied to both the header
and the data. In 3.4.0 align only applies to the data.

This change restores the previous left align behavior
for both header and data.

Closes-Bug: #1988482
Change-Id: Ia77410b10c1706bc6561b11cf5d2ef72b936795e
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/855658/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,6569de43a6482488afb620fd9dd43cb15b316cce,bug/1988482," # starting in PrettyTable 3.4.0 we need to also set the header # as align now only applies to the data. if hasattr(pt, 'header_align'): pt.header_align = 'l'",,4,0
openstack%2Fnova~859578,openstack/nova,master,Ia14c2a433e31aa3685f68abfefaed5caad0a70ea,Fix link to Cyborg device profiles API,MERGED,2022-09-28 12:53:11.000000000,2022-12-20 15:03:28.000000000,2022-12-20 15:03:28.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 12:53:11.000000000', 'files': ['api-guide/source/accelerator-support.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/045125c291ed8e63f632d68cbc82e6c62edd41e9', 'message': 'Fix link to Cyborg device profiles API\n\nSigned-off-by: Jan Klippel <jan.klippel@uhurutec.com>\nChange-Id: Ia14c2a433e31aa3685f68abfefaed5caad0a70ea\n'}]",2,859578,045125c291ed8e63f632d68cbc82e6c62edd41e9,10,4,1,34858,,,0,"Fix link to Cyborg device profiles API

Signed-off-by: Jan Klippel <jan.klippel@uhurutec.com>
Change-Id: Ia14c2a433e31aa3685f68abfefaed5caad0a70ea
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/859578/1 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/accelerator-support.rst'],1,045125c291ed8e63f632d68cbc82e6c62edd41e9,fix-link-to-device-profiles-api, .. _`Cyborg device profiles API`: https://docs.openstack.org/api-ref/accelerator/#device-profiles .. _`Cyborg device profiles API`: https://docs.openstack.org/api-ref/accelerator/#device-profiles, .. _`Cyborg device profiles API`: https://docs.openstack.org/api-ref/accelerator/v2/index.html#device-profiles .. _`Cyborg device profiles API`: https://docs.openstack.org/api-ref/accelerator/v2/index.html#device-profiles,2,2
openstack%2Fnova~863891,openstack/nova,master,Icfba423fda037be9cf071022283985297a989b07,Add os_vif in nova-config-generator,MERGED,2022-11-07 15:35:02.000000000,2022-12-20 15:03:18.000000000,2022-12-20 15:03:18.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-07 15:35:02.000000000', 'files': ['etc/nova/nova-config-generator.conf'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b9342f6e256f5e182dde19b68315cc820f34109', 'message': 'Add os_vif in nova-config-generator\n\nSome config in os_vif are affecting nova behavior, so we should add them\nin nova.conf.sample in order to let people fine-tune this on demand\nwithout looking into code.\n\nThis will also change the nova config reference docs.o.o\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: Icfba423fda037be9cf071022283985297a989b07\n'}]",1,863891,6b9342f6e256f5e182dde19b68315cc820f34109,15,7,1,11583,,,0,"Add os_vif in nova-config-generator

Some config in os_vif are affecting nova behavior, so we should add them
in nova.conf.sample in order to let people fine-tune this on demand
without looking into code.

This will also change the nova config reference docs.o.o

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: Icfba423fda037be9cf071022283985297a989b07
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/863891/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/nova-config-generator.conf'],1,6b9342f6e256f5e182dde19b68315cc820f34109,,namespace = os_vif,,1,0
openstack%2Fovn-octavia-provider~867983,openstack/ovn-octavia-provider,master,I5279b288da46f6e223afb738c2c788f2bb2823b5,Pin OVS_BRANCH to master again,MERGED,2022-12-16 16:32:47.000000000,2022-12-20 14:59:19.000000000,2022-12-20 14:57:25.000000000,"[{'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-16 16:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b9e750acf87e693a2cc12a56fa11227da57d2e67', 'message': 'Pin OVS_BRANCH to work with OVN_BRANCH main\n\nWith [1] OVN main branch compilation fails, until\nmain branch is fixed we need to fix the OVS_BRANCH\nto commit a77c7796f23a76190b61e2109a009df980253b0f\n\n[1] https://github.com/openvswitch/ovs/commit/b8bf410\n\nChange-Id: I5279b288da46f6e223afb738c2c788f2bb2823b5\n'}, {'number': 2, 'created': '2022-12-20 11:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/58d6b6af16e5a27410df8e20534e0760445ff839', 'message': 'Pin OVS_BRANCH to work with OVN_BRANCH main\n\nWith [1] OVN main branch compilation fails, until\nmain branch is fixed we need to fix the OVS_BRANCH\nto commit a77c7796f23a76190b61e2109a009df980253b0f\n\n[1] https://github.com/openvswitch/ovs/commit/b8bf410\n\nChange-Id: I5279b288da46f6e223afb738c2c788f2bb2823b5\n'}, {'number': 3, 'created': '2022-12-20 12:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f0a4d24d791a91a8976e06a1f51404c4598734a8', 'message': 'Pin OVS_BRANCH to master again\n\nThis patch reverts [1], [2] now [3] has been merged in the\nOVN repository.\n\n[1]https://review.opendev.org/c/openstack/ovn-octavia-provider/+/860843\n[2]https://review.opendev.org/c/openstack/ovn-octavia-provider/+/854008\n[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d\n\nChange-Id: I5279b288da46f6e223afb738c2c788f2bb2823b5\n'}, {'number': 4, 'created': '2022-12-20 12:12:03.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2aab7367af33bb529e2afb7a04e86d612022677f', 'message': 'Pin OVS_BRANCH to master again\n\nThis patch reverts [1], [2] now [3] has been merged in the\nOVN repository.\n\n[1]https://review.opendev.org/c/openstack/ovn-octavia-provider/+/860843\n[2]https://review.opendev.org/c/openstack/ovn-octavia-provider/+/854008\n[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d\n\nChange-Id: I5279b288da46f6e223afb738c2c788f2bb2823b5\n'}]",5,867983,2aab7367af33bb529e2afb7a04e86d612022677f,17,3,4,34451,,,0,"Pin OVS_BRANCH to master again

This patch reverts [1], [2] now [3] has been merged in the
OVN repository.

[1]https://review.opendev.org/c/openstack/ovn-octavia-provider/+/860843
[2]https://review.opendev.org/c/openstack/ovn-octavia-provider/+/854008
[3]https://github.com/ovn-org/ovn/commit/1b0dbde940706e5de6e60221be78a278361fa76d

Change-Id: I5279b288da46f6e223afb738c2c788f2bb2823b5
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/83/867983/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,b9e750acf87e693a2cc12a56fa11227da57d2e67,," OVS_BRANCH: ""a77c7796f23a76190b61e2109a009df980253b0f"" OVS_BRANCH: ""a77c7796f23a76190b61e2109a009df980253b0f"""," OVS_BRANCH: ""5a686267d36c5c4229ec801a9616ceb60740fbe3"" OVS_BRANCH: ""5a686267d36c5c4229ec801a9616ceb60740fbe3""",2,2
openstack%2Fneutron-tempest-plugin~866576,openstack/neutron-tempest-plugin,master,I14a6398818ae444ef05d2121b5a34a5283b94259,Change ML2_PLUGIN name Devstack variable,ABANDONED,2022-12-05 13:25:08.000000000,2022-12-20 14:54:06.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-05 13:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/978fd1e0f0bdf5c454726ddf77ca4b3dde15e6ae', 'message': 'Change ML2_PLUGIN name Devstack variable\n\nAs we are dropping unfinished lib/neutron module from Devstack\nwe should get back to use Q_CORE_PLUGIN_CONF var name in our jobs\'\ndefinition.\nThis patch updates that and removes notes about things which we may be\nable to do once we will fully migrate to the ""new"" lib/neutron as this\nwon\'t happen for sure.\n\nChange-Id: I14a6398818ae444ef05d2121b5a34a5283b94259\n'}, {'number': 2, 'created': '2022-12-05 14:19:01.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6db52a4a86f011a1da8b06522c49a63a559c05e3', 'message': 'Change ML2_PLUGIN name Devstack variable\n\nAs we are dropping unfinished lib/neutron module from Devstack\nwe should get back to use Q_CORE_PLUGIN_CONF var name in our jobs\'\ndefinition.\nThis patch updates that and removes notes about things which we may be\nable to do once we will fully migrate to the ""new"" lib/neutron as this\nwon\'t happen for sure.\n\nRelated-bug: #1996748\n\nChange-Id: I14a6398818ae444ef05d2121b5a34a5283b94259\n'}]",2,866576,6db52a4a86f011a1da8b06522c49a63a559c05e3,8,2,2,11975,,,0,"Change ML2_PLUGIN name Devstack variable

As we are dropping unfinished lib/neutron module from Devstack
we should get back to use Q_CORE_PLUGIN_CONF var name in our jobs'
definition.
This patch updates that and removes notes about things which we may be
able to do once we will fully migrate to the ""new"" lib/neutron as this
won't happen for sure.

Related-bug: #1996748

Change-Id: I14a6398818ae444ef05d2121b5a34a5283b94259
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/76/866576/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,978fd1e0f0bdf5c454726ddf77ca4b3dde15e6ae,drop-lib-neutron, /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF: /$Q_CORE_PLUGIN_CONF:," # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: /$NEUTRON_CORE_PLUGIN_CONF: # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": /$NEUTRON_CORE_PLUGIN_CONF:",8,26
openstack%2Ftripleo-ansible~868021,openstack/tripleo-ansible,stable/zed,I0f9d4e493190ebf311c39f0a4ac52440028b5d07,Add missing vars for tripleo-standalone-vars,MERGED,2022-12-19 12:32:01.000000000,2022-12-20 14:51:25.000000000,2022-12-20 14:51:25.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:32:01.000000000', 'files': ['scripts/tripleo-standalone-vars'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/252d3dc1307a5ebb754956c63a77dc4a6e79811a', 'message': 'Add missing vars for tripleo-standalone-vars\n\nIt adds the controlplane missing vars which are needed\nfor spinning a instance on external compute.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: James Slagle <jslagle@redhat.com>\nChange-Id: I0f9d4e493190ebf311c39f0a4ac52440028b5d07\n(cherry picked from commit a45749ea35b303d4fe54ccdd612844c2b300fcd2)\n'}]",1,868021,252d3dc1307a5ebb754956c63a77dc4a6e79811a,7,5,1,12393,,,0,"Add missing vars for tripleo-standalone-vars

It adds the controlplane missing vars which are needed
for spinning a instance on external compute.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-authored-by: James Slagle <jslagle@redhat.com>
Change-Id: I0f9d4e493190ebf311c39f0a4ac52440028b5d07
(cherry picked from commit a45749ea35b303d4fe54ccdd612844c2b300fcd2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/868021/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-standalone-vars'],1,252d3dc1307a5ebb754956c63a77dc4a6e79811a,standalone-roles-stable/zed," 'section': 'service_user', 'option': 'username' 'tripleo_nova_compute_neutron_auth_type': { 'template': 'v3password', 'section': 'neutron', 'option': 'auth_type' }, 'tripleo_nova_compute_neutron_project_name': { 'template': 'service', 'section': 'neutron', 'option': 'project_name' }, 'tripleo_nova_compute_neutron_user_domain_name': { 'template': 'Default', 'section': 'neutron', 'option': 'user_domain_name' }, 'tripleo_nova_compute_neutron_project_domain_name': { 'template': 'Default', 'section': 'neutron', 'option': 'project_domain_name' }, 'tripleo_nova_compute_neutron_region_name': { 'template': 'regionOne', 'section': 'neutron', 'option': 'region_name' }, 'tripleo_nova_compute_neutron_username': { 'template': 'neutron', 'section': 'neutron', 'option': 'username' },",,32,0
openstack%2Fnetworking-odl~868167,openstack/networking-odl,master,Ia22fc377063d3bd43566f2d4fd2be0b0f4f600af,Remove lib/neutron-legacy leftovers,MERGED,2022-12-20 10:11:25.000000000,2022-12-20 14:36:45.000000000,2022-12-20 14:35:42.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 10:11:25.000000000', 'files': ['devstack/devstackgaterc', 'tools/configure_for_func_testing.sh', 'devstack/entry_points'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2e2588c4c331fcb993f333b3a53525f238a008e9', 'message': ""Remove lib/neutron-legacy leftovers\n\nIn [1] we finally got rid of the unfinished lib/neutron module and kept\nonly lib/neutron-legacy. It's renamed to lib/neutron now and it's the\nonly neutron related module in Devstack.\nSo this patch removes leftovers related to the old lib/neutron-legacy.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/865014\n\nChange-Id: Ia22fc377063d3bd43566f2d4fd2be0b0f4f600af\n""}]",1,868167,2e2588c4c331fcb993f333b3a53525f238a008e9,8,3,1,11975,,,0,"Remove lib/neutron-legacy leftovers

In [1] we finally got rid of the unfinished lib/neutron module and kept
only lib/neutron-legacy. It's renamed to lib/neutron now and it's the
only neutron related module in Devstack.
So this patch removes leftovers related to the old lib/neutron-legacy.

[1] https://review.opendev.org/c/openstack/devstack/+/865014

Change-Id: Ia22fc377063d3bd43566f2d4fd2be0b0f4f600af
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/67/868167/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'tools/configure_for_func_testing.sh', 'devstack/entry_points']",3,2e2588c4c331fcb993f333b3a53525f238a008e9,drop-lib-neutron, # refer to: https://github.com/openstack/devstack/blob/a52041cd3f067156e478e355f5712a60e12ce649/lib/neutron#L881, # refer to: https://github.com/openstack-dev/devstack/blob/d37119e797d3140aeb0038a1129ce5e9016c1a36/lib/neutron#L46 # and: https://github.com/openstack-dev/devstack/blob/d37119e797d3140aeb0038a1129ce5e9016c1a36/lib/neutron-legacy#L698,4,18
openstack%2Fkeystone-specs~843765,openstack/keystone-specs,master,I67e030c183631bd421cc93ceb767f60fa178238a,OAuth 2.0 Mutual-TLS Support,MERGED,2022-05-30 05:08:53.000000000,2022-12-20 14:09:11.000000000,2022-12-20 14:08:03.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 33920}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-05-30 05:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f8dc690cbcfe64798d6bff101de3472684833e0f', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 2, 'created': '2022-05-31 10:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/07daf8dfac66ead3e0ebfa29629f1b268759a983', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 3, 'created': '2022-05-31 10:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4272dff8190e6f92ecc075d71a6b55a4825c4867', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 4, 'created': '2022-05-31 14:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6c166e6f2348bd86d670feedfa921dd9f4f6f1c1', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 5, 'created': '2022-05-31 17:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/c7ad86f82d328db77ab18191c4e233f79c54f574', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 6, 'created': '2022-06-29 10:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b8effbcfa31831ab6c86c8730366af9b31112a25', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 7, 'created': '2022-06-30 06:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2f3299097497987ac64b2648fc86ce7f213017e1', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 8, 'created': '2022-07-07 11:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/59a93f11cdbdc0edce458bb8fb1d810a727f461a', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 9, 'created': '2022-07-07 11:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a9e0b95c8baf548e1d45ce5a63ff1fedd16915fb', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 10, 'created': '2022-07-11 07:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2f8cec5e3718e94baae8aeeac6aa67a20c250acc', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 11, 'created': '2022-07-27 08:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d1767e8207660a56283df31f1b2621cf2879473c', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 12, 'created': '2022-07-27 08:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f8f43587b58f67c5ca673be79056fb4641ecf784', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 13, 'created': '2022-08-10 09:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/84154fdc99cc236667c4599333ead385db0b13a2', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 14, 'created': '2022-08-26 12:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6d377f89dfc8f5a8e0860e80cd290c84db20aabc', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 15, 'created': '2022-09-20 15:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2d833b6eedbfe908cfad46f24a1958a3e344cdb6', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 16, 'created': '2022-10-17 03:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ca99a20a8ebafc73c3f3d709599b2a5f4d47246b', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 17, 'created': '2022-12-02 13:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b4c87b220277c8e7c8cd5f64a5a10df832a5fdae', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}, {'number': 18, 'created': '2022-12-13 14:54:22.000000000', 'files': ['doc/source/index.rst', 'specs/keystone/2023.1/support-oauth2-mtls.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/12f37d354808921834b4beb5193d95adae4aa3ad', 'message': 'OAuth 2.0 Mutual-TLS Support\n\nThis spec proposes to Provide the option for users to\nproof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0\nMutual-TLS Client Authentication and Certificate-Bound Access Tokens.\nUsers will be able to authenticate their OAuth2.0 client with a client\ncertificate instead of using Basic authentication with\nclient_id/client_secret to prevent a token from being used by a\nmalicious client. This protects Keystone Identity and other OpenStack\nservices from spoofed OAuth clients.\n\nChange-Id: I67e030c183631bd421cc93ceb767f60fa178238a\n'}]",49,843765,12f37d354808921834b4beb5193d95adae4aa3ad,67,9,18,33455,,,0,"OAuth 2.0 Mutual-TLS Support

This spec proposes to Provide the option for users to
proof-of-possession of OAuth2.0 access token based on RFC8705 OAuth 2.0
Mutual-TLS Client Authentication and Certificate-Bound Access Tokens.
Users will be able to authenticate their OAuth2.0 client with a client
certificate instead of using Basic authentication with
client_id/client_secret to prevent a token from being used by a
malicious client. This protects Keystone Identity and other OpenStack
services from spoofed OAuth clients.

Change-Id: I67e030c183631bd421cc93ceb767f60fa178238a
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/65/843765/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/keystone/zed/support-oauth2-mtls.rst', 'doc/source/index.rst']",2,f8dc690cbcfe64798d6bff101de3472684833e0f,bp/support-oauth2-mtls,Zed approved specs: specs/keystone/zed/*Yoga approved specs: .. toctree:: :glob: :maxdepth: 1 specs/keystone/yoga/* ,Yoga approved specs: specs/keystone/yoga/*,499,2
openstack%2Fopenstacksdk~868163,openstack/openstacksdk,master,I10a91cb97d680acace4230273e1bceb80769637d,Fix docs for class SecurityGroupRule,MERGED,2022-12-20 09:38:30.000000000,2022-12-20 13:51:44.000000000,2022-12-20 13:20:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-20 09:38:30.000000000', 'files': ['openstack/network/v2/security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f4b9cc850afb7228a2561f116787b6a65eda9b5d', 'message': 'Fix docs for class SecurityGroupRule\n\nThe rendering was broken from [0], also amend the wording a bit.\n\n[0] I50374c339ab7685a6e74f25f9521b8810c532e13\n\nChange-Id: I10a91cb97d680acace4230273e1bceb80769637d\n'}]",1,868163,f4b9cc850afb7228a2561f116787b6a65eda9b5d,8,3,1,13252,,,0,"Fix docs for class SecurityGroupRule

The rendering was broken from [0], also amend the wording a bit.

[0] I50374c339ab7685a6e74f25f9521b8810c532e13

Change-Id: I10a91cb97d680acace4230273e1bceb80769637d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/63/868163/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/security_group_rule.py'],1,f4b9cc850afb7228a2561f116787b6a65eda9b5d,fix-security-group-rule-docs, #: ``remote_address_group_id`` or ``remote_ip_prefix``. #: ``remote_address_group_id`` or ``remote_ip_prefix``. #: ``remote_address_group_id`` or ``remote_ip_prefix``. #: This attribute matches the specified IP prefix as the source or #: destination IP address of the IP packet depending on direction., #: ``remote_address_group_id`` or ``remote_ip_prefix`` in the request body. #: ``remote_address_group_id`` or ``remote_ip_prefix`` in the request body. # ``remote_address_group_id``or ``remote_ip_prefix`` in the request body. # This attribute matches the specified IP prefix as the source IP address # of the IP packet.,5,5
openstack%2Fopenstack-ansible~844053,openstack/openstack-ansible,master,I68785e968836fe4b1f0b8b783c7409b8df6e19f4,[DNM] test default galera_monitoring_allowed_source,ABANDONED,2022-05-31 13:26:55.000000000,2022-12-20 13:43:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 13:26:55.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/77046b7d9200d32b57a21ec144403bb11f279e3a', 'message': '[DNM] test default galera_monitoring_allowed_source\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/844037\nChange-Id: I68785e968836fe4b1f0b8b783c7409b8df6e19f4\n'}]",0,844053,77046b7d9200d32b57a21ec144403bb11f279e3a,3,1,1,13095,,,0,"[DNM] test default galera_monitoring_allowed_source

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/844037
Change-Id: I68785e968836fe4b1f0b8b783c7409b8df6e19f4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/844053/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,77046b7d9200d32b57a21ec144403bb11f279e3a,galera_monitoring,,"galera_monitoring_allowed_source: ""0.0.0.0/0""",0,1
openstack%2Fceilometer~866657,openstack/ceilometer,stable/yoga,I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4,Fix OutgoingBytesDeltaPollster sample name,MERGED,2022-12-06 17:55:53.000000000,2022-12-20 13:40:03.000000000,2022-12-20 13:38:56.000000000,"[{'_account_id': 4264}, {'_account_id': 11583}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-12-06 17:55:53.000000000', 'files': ['ceilometer/compute/pollsters/net.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cb132b3004c80df7f5bbfc40510c4defe4442d02', 'message': 'Fix OutgoingBytesDeltaPollster sample name\n\nThe good name is network.outgoing.bytes.delta.\n\nChange-Id: I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n(cherry picked from commit 7a507457cb5180296922d1f533751259dee7a19c)\n(cherry picked from commit 5d246c6ceaff22eca7eaa1591bdecd8818aef555)\n'}]",3,866657,cb132b3004c80df7f5bbfc40510c4defe4442d02,12,4,1,7294,,,0,"Fix OutgoingBytesDeltaPollster sample name

The good name is network.outgoing.bytes.delta.

Change-Id: I78e9fbe9d60b3e83761f6490d25e85ad54fcc7c4
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
(cherry picked from commit 7a507457cb5180296922d1f533751259dee7a19c)
(cherry picked from commit 5d246c6ceaff22eca7eaa1591bdecd8818aef555)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/57/866657/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/pollsters/net.py'],1,cb132b3004c80df7f5bbfc40510c4defe4442d02,, sample_name = 'network.outgoing.bytes.delta', sample_name = 'network.outgoing.packets.delta',1,1
openstack%2Fceilometer~861340,openstack/ceilometer,master,Ie03815f25d3a9ec99506a9dc14810a6800d3c42c,Update the installation guide for RHEL8/CentOS8,MERGED,2022-10-20 05:39:14.000000000,2022-12-20 13:39:29.000000000,2022-12-20 13:37:38.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-20 05:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c1c39bc92c19316f7792e808ed8748858a766892', 'message': 'Update the installation guide for RHEL8/CentOS 8\n\nThe openstack Ussuri and Victoria versions no longer support the\nRHEL7/CentOS7 and python2 environment packages. Correct the\nproblems in the latest installation document for RDO.\n\nChange-Id: Ie03815f25d3a9ec99506a9dc14810a6800d3c42c\n'}, {'number': 2, 'created': '2022-10-28 00:28:50.000000000', 'files': ['doc/source/install/install-compute-rdo.rst', 'doc/source/install/swift/install-swift-rdo.rst', 'doc/source/install/install-base-rdo.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f0730df40c89ad6c38ba9d66153149fc031414c3', 'message': 'Update the installation guide for RHEL8/CentOS8\n\nThe openstack Ussuri and Victoria versions no longer support the\nRHEL7/CentOS7 and python2 environment packages. Correct the\nproblems in the latest installation document for RDO.\n\nChange-Id: Ie03815f25d3a9ec99506a9dc14810a6800d3c42c\n'}]",7,861340,f0730df40c89ad6c38ba9d66153149fc031414c3,14,3,2,35307,,,0,"Update the installation guide for RHEL8/CentOS8

The openstack Ussuri and Victoria versions no longer support the
RHEL7/CentOS7 and python2 environment packages. Correct the
problems in the latest installation document for RDO.

Change-Id: Ie03815f25d3a9ec99506a9dc14810a6800d3c42c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/40/861340/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/swift/install-swift-rdo.rst', 'doc/source/install/install-base-rdo.rst']",2,c1c39bc92c19316f7792e808ed8748858a766892,,"Telemetry service, code-named ceilometer, on the controller node for Red Hat Enterprise Linux 8 and CentOS 8. python3-gnocchiclient","Telemetry service, code-named ceilometer, on the controller node. python-gnocchiclient",4,3
openstack%2Fpython-openstackclient~827684,openstack/python-openstackclient,master,Ie0622e79ecf7dadd6560fea142352f5a2ed66b74,Add qos rule type filtering,MERGED,2022-02-03 15:02:16.000000000,2022-12-20 13:38:58.000000000,2022-12-20 13:36:46.000000000,"[{'_account_id': 5314}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-02-03 15:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/27dfb342bf5631df25c2356b0d8efe56494a8769', 'message': '[WIP] Add qos rule type filtering\n\nTODO: testing\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 2, 'created': '2022-02-04 17:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/371fe4c61df84b8cd995a7053c4a3d8a849233e2', 'message': 'Add qos rule type filtering\n\nTODO: bump openstacksdk version\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 3, 'created': '2022-03-15 15:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0f493ffee2c202f5a44932e44992a6ff503f8595', 'message': 'Add qos rule type filtering\n\nTODO: bump openstacksdk version\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 4, 'created': '2022-04-11 06:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0e5b6ab04b87354cc4a0ffbb5cef6bbc0b2cb449', 'message': 'Add qos rule type filtering\n\nTODO: bump openstacksdk version\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 5, 'created': '2022-06-29 14:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3a179d6f7255c1d886043206ce5755ed9734be32', 'message': 'Add qos rule type filtering\n\nTODO: bump openstacksdk version\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 6, 'created': '2022-11-24 09:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ee5e7a37ca9229e4181a13c54cc28bdeaab1291f', 'message': 'Add qos rule type filtering\n\nTODO: bump openstacksdk version\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 7, 'created': '2022-11-24 09:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/23022a055bca4295a777e16ea707cb3251f3416e', 'message': 'Add qos rule type filtering\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 8, 'created': '2022-11-28 14:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2c2c45657b6346e94dd005ed41bc584cc4e7d09c', 'message': 'Add qos rule type filtering\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 9, 'created': '2022-11-29 09:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/849d15f5acb268b0df9ed4299fe24be1e1bd6a21', 'message': 'Add qos rule type filtering\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 10, 'created': '2022-12-15 18:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/909dddfe5ce81573ef2cbab216cb836dcc08212a', 'message': 'Add qos rule type filtering\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}, {'number': 11, 'created': '2022-12-16 15:21:56.000000000', 'files': ['releasenotes/notes/network-qos-rule-type-filters-47f4911a02011501.yaml', 'openstackclient/tests/unit/network/v2/test_network_qos_rule_type.py', 'openstackclient/tests/functional/network/v2/test_network_qos_rule_type.py', 'openstackclient/network/v2/network_qos_rule_type.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bfab0199bebf139be5a948fdf8ced868b3e942de', 'message': 'Add qos rule type filtering\n\nAdded two new filter flags to ``openstack network qos rule type list``:\n- ""--all-supported"", to return any QoS rule type supported by at least\n  one loaded driver.\n- ""--all-rules"", to return all QoS rule types supported by the current\n  version of Neutron server, regardless of the loaded drivers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/827683\n\nRelated-Bug: #1959749\nChange-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74\n'}]",13,827684,bfab0199bebf139be5a948fdf8ced868b3e942de,36,5,11,16688,,,0,"Add qos rule type filtering

Added two new filter flags to ``openstack network qos rule type list``:
- ""--all-supported"", to return any QoS rule type supported by at least
  one loaded driver.
- ""--all-rules"", to return all QoS rule types supported by the current
  version of Neutron server, regardless of the loaded drivers.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/827671
Depends-On: https://review.opendev.org/c/openstack/neutron/+/827683

Related-Bug: #1959749
Change-Id: Ie0622e79ecf7dadd6560fea142352f5a2ed66b74
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/827684/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/network_qos_rule_type.py'],1,27dfb342bf5631df25c2356b0d8efe56494a8769,bug/1959749," invisible_columns = [""id"", ""location"", ""name""] def get_parser(self, prog_name): parser = super(ListNetworkQosRuleType, self).get_parser(prog_name) supported = parser.add_mutually_exclusive_group() supported.add_argument( '--all-supported', action='store_true', help=_(""List all the QoS rule types supported by any loaded "" ""mechanism drivers (the union of all sets of supported "" ""rules)"") ) supported.add_argument( '--all-rules', action='store_true', help=_(""List all QoS rule types implemented in Neutron QoS driver"") ) return parser args = {} if parsed_args.all_supported: args['all_supported'] = True elif parsed_args.all_rules: args['all_rules'] = True data = client.qos_rule_types(**args)"," invisible_columns = [""id"", ""name""] data = client.qos_rule_types()",25,2
openstack%2Fceilometer~856305,openstack/ceilometer,master,Iec0d885e1fdd42edb2da37d4a71a80168c690c98,Fix barbican credentials retrieval,MERGED,2022-09-07 17:21:02.000000000,2022-12-20 13:38:38.000000000,2022-12-20 13:37:36.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 30695}]","[{'number': 1, 'created': '2022-09-07 17:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ced431f5a98d406daa7aa9736f2781f1d7b88e17', 'message': 'Fix barbican credentials retrieval\n\nChange-Id: Iec0d885e1fdd42edb2da37d4a71a80168c690c98\n'}, {'number': 2, 'created': '2022-12-06 11:19:46.000000000', 'files': ['ceilometer/polling/discovery/non_openstack_credentials_discovery.py', 'ceilometer/tests/unit/polling/test_non_openstack_credentials_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/264229ea44ad4ddcb347bda153d36255e07322ee', 'message': 'Fix barbican credentials retrieval\n\nChange-Id: Iec0d885e1fdd42edb2da37d4a71a80168c690c98\n'}]",5,856305,264229ea44ad4ddcb347bda153d36255e07322ee,15,4,2,28356,,,0,"Fix barbican credentials retrieval

Change-Id: Iec0d885e1fdd42edb2da37d4a71a80168c690c98
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/05/856305/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/polling/discovery/non_openstack_credentials_discovery.py'],1,ced431f5a98d406daa7aa9736f2781f1d7b88e17,fix_barbican_credentials_non-openstack_pollster," self).discover(manager, ""key-manager"")"," self).discover(""key-manager"")",1,1
openstack%2Fpython-openstackclient~866184,openstack/python-openstackclient,master,Ibea38354a78381cb87d287f03726ecd03ecd246d,image: Fail if we can't find an image,MERGED,2022-11-30 16:33:47.000000000,2022-12-20 13:37:48.000000000,2022-12-20 13:36:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 16:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/464e66f1257b06112b5ac5ed9391beb1582a883e', 'message': ""image: Fail if we can't find an image\n\nWhenever we attempt to find a provided image, we generally want to fail\nfast if they can't be found. This wasn't happening. Fix it.\n\nChange-Id: Ibea38354a78381cb87d287f03726ecd03ecd246d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-12-01 10:04:28.000000000', 'files': ['openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/799a073b683cec442da649160816321e1fa49418', 'message': ""image: Fail if we can't find an image\n\nWhenever we attempt to find a provided image, we generally want to fail\nfast if they can't be found. This wasn't happening. Fix it.\n\nChange-Id: Ibea38354a78381cb87d287f03726ecd03ecd246d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,866184,799a073b683cec442da649160816321e1fa49418,9,2,2,15334,,,0,"image: Fail if we can't find an image

Whenever we attempt to find a provided image, we generally want to fail
fast if they can't be found. This wasn't happening. Fix it.

Change-Id: Ibea38354a78381cb87d287f03726ecd03ecd246d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/866184/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,464e66f1257b06112b5ac5ed9391beb1582a883e,trivial," parsed_args.image, ignore_missing=False, image, ignore_missing=False, kwargs['marker'] = image_client.find_image( parsed_args.marker, ignore_missing=False, ).id image_id = image_client.find_image( parsed_args.image, ignore_missing=False, ).id parsed_args.image, ignore_missing=False, image = image_client.find_image( parsed_args.image, ignore_missing=False, ) parsed_args.image, ignore_missing=False, parsed_args.image, ignore_missing=False,"," parsed_args.image, ignore_missing=False image, ignore_missing=False kwargs['marker'] = image_client.find_image(parsed_args.marker).id image_id = image_client.find_image(parsed_args.image).id parsed_args.image, ignore_missing=False image = image_client.find_image(parsed_args.image) parsed_args.image, ignore_missing=False parsed_args.image, ignore_missing=False",22,8
openstack%2Fpython-openstackclient~866561,openstack/python-openstackclient,master,I902e8b35d4423f91dd8cdeecbcc7e60af877da75,docs: Fix typos,MERGED,2022-12-05 10:19:16.000000000,2022-12-20 13:22:15.000000000,2022-12-20 13:20:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-05 10:19:16.000000000', 'files': ['doc/source/contributor/humaninterfaceguide.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4cf22b3d76b254d9c51059b4368e064ea7ce9268', 'message': 'docs: Fix typos\n\nChange-Id: I902e8b35d4423f91dd8cdeecbcc7e60af877da75\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,866561,4cf22b3d76b254d9c51059b4368e064ea7ce9268,7,2,1,15334,,,0,"docs: Fix typos

Change-Id: I902e8b35d4423f91dd8cdeecbcc7e60af877da75
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/61/866561/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/humaninterfaceguide.rst'],1,4cf22b3d76b254d9c51059b4368e064ea7ce9268,docs, <object> <action>* ``server show --topology <name-or-id>`` (additional information should be, <object> <action> [<name-or-id>]* ``server show --toplogy <name-or-id>`` (additional information should be,2,2
openstack%2Fpython-openstackclient~866185,openstack/python-openstackclient,master,Ib552d510ca484571e59363ef15fe5e2cc0a2f4e1,image: Rename import,MERGED,2022-11-30 16:33:47.000000000,2022-12-20 13:21:22.000000000,2022-12-20 13:20:11.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 16:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/78a9ef60fb472f7791545c15b2d026c415049f0d', 'message': 'image: Rename import\n\nThis makes the code a little clearer.\n\nChange-Id: Ib552d510ca484571e59363ef15fe5e2cc0a2f4e1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2022-12-01 10:04:28.000000000', 'files': ['openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a538104a942d28642df6f04baa8e333172dd403d', 'message': 'image: Rename import\n\nThis makes the code a little clearer.\n\nChange-Id: Ib552d510ca484571e59363ef15fe5e2cc0a2f4e1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,866185,a538104a942d28642df6f04baa8e333172dd403d,9,2,2,15334,,,0,"image: Rename import

This makes the code a little clearer.

Change-Id: Ib552d510ca484571e59363ef15fe5e2cc0a2f4e1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/85/866185/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,78a9ef60fb472f7791545c15b2d026c415049f0d,trivial,"from openstackclient.identity import common as identity_common identity_common.add_project_domain_option_to_parser(parser) project_id = identity_common.find_project( identity_common.add_project_domain_option_to_parser(parser) kwargs['owner_id'] = identity_common.find_project( identity_common.add_project_domain_option_to_parser(parser) project_id = identity_common.find_project( identity_common.add_project_domain_option_to_parser(parser) identity_common.add_project_domain_option_to_parser(parser) project_id = identity_common.find_project( identity_client, parsed_args.project, parsed_args.project_domain, identity_common.add_project_domain_option_to_parser(parser) project_id = identity_common.find_project(","from openstackclient.identity import common common.add_project_domain_option_to_parser(parser) project_id = common.find_project( common.add_project_domain_option_to_parser(parser) kwargs['owner_id'] = common.find_project( common.add_project_domain_option_to_parser(parser) project_id = common.find_project( common.add_project_domain_option_to_parser(parser) common.add_project_domain_option_to_parser(parser) project_id = common.find_project( identity_client, parsed_args.project, parsed_args.project_domain common.add_project_domain_option_to_parser(parser) project_id = common.find_project(",15,13
openstack%2Fosc-placement~861470,openstack/osc-placement,master,I97b82399af9a640353ba979965c202afcb224163,Update gate jobs as per the 2023.1 cycle testing runtime,MERGED,2022-10-14 20:15:19.000000000,2022-12-20 13:15:20.000000000,2022-12-20 13:13:17.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 20:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/6283b168b99324064e06fd56cc70f8bfc40dea89', 'message': 'DNM: testign jobs on Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I97b82399af9a640353ba979965c202afcb224163\n'}, {'number': 2, 'created': '2022-11-17 21:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/705ad2b7f5595b864f0d1267b16ad162376f7d21', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit makes python 3.10 functional job as voting and python 3.10\nunit test job are voting via generic template. Python 3.8/3.9 jobs are\nrunning on Focal and python 3.10 on Jammy.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: I97b82399af9a640353ba979965c202afcb224163\n'}, {'number': 3, 'created': '2022-11-22 19:47:10.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/e3268569658b262792f481767b4128f2cb4b10ef', 'message': 'Update gate jobs as per the 2023.1 cycle testing runtime\n\nAs per 2023.1 testing runtime[1], we need to test on Ubuntu\nJammy (which will be taken care by tempest and devstack patches\nto move base jobs to Jammy) and at least single job to run on\nUbutnu Focal (for smooth upgrade). Also, python 3.10 testing is\nvoting now.\n\nThis commit makes python 3.10 functional job as voting and python 3.10\nunit test job are voting via generic template. Python 3.8/3.9 jobs are\nrunning on Focal and python 3.10 on Jammy.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html\n\nChange-Id: I97b82399af9a640353ba979965c202afcb224163\n'}]",2,861470,e3268569658b262792f481767b4128f2cb4b10ef,13,3,3,8556,,,0,"Update gate jobs as per the 2023.1 cycle testing runtime

As per 2023.1 testing runtime[1], we need to test on Ubuntu
Jammy (which will be taken care by tempest and devstack patches
to move base jobs to Jammy) and at least single job to run on
Ubutnu Focal (for smooth upgrade). Also, python 3.10 testing is
voting now.

This commit makes python 3.10 functional job as voting and python 3.10
unit test job are voting via generic template. Python 3.8/3.9 jobs are
running on Focal and python 3.10 on Jammy.

[1] https://governance.openstack.org/tc/reference/runtimes/2023.1.html

Change-Id: I97b82399af9a640353ba979965c202afcb224163
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/70/861470/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6283b168b99324064e06fd56cc70f8bfc40dea89,migrate-to-jammy,#test on jammy,,1,0
openstack%2Fopenstack-ansible~850942,openstack/openstack-ansible,master,I3162797f3e989d9f3437e3b6db426424e058783e,Set the number of threads for processes to 2,ABANDONED,2022-07-25 18:53:11.000000000,2022-12-20 13:07:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-25 18:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/850274bb03a69e941ea07d6fc37e1ca8ccd6b693', 'message': 'Set the number of threads for processes to 2\n\nThere are a lot of services that goes down in haproxy.\ntesting if setting the number of thread to 2 fixes the checks.\n\nChange-Id: I3162797f3e989d9f3437e3b6db426424e058783e\n'}, {'number': 2, 'created': '2022-07-25 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0ff56d6cfc40af4deabd97f607282759defcfe0', 'message': 'Set the number of threads for processes to 2\n\nThere are a lot of services that goes down in haproxy.\ntesting if setting the number of thread to 2 fixes the checks.\n\nChange-Id: I3162797f3e989d9f3437e3b6db426424e058783e\n'}, {'number': 3, 'created': '2022-07-25 18:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7f972c98b1558261a6b640ec98c3206f32dac9ca', 'message': 'Set the number of threads for processes to 2\n\nThere are a lot of services that goes down in haproxy.\ntesting if setting the number of thread to 2 fixes the checks.\n\nChange-Id: I3162797f3e989d9f3437e3b6db426424e058783e\n'}, {'number': 4, 'created': '2022-07-26 14:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/19dbd5b7fee4726262413834a4d186bd5128d367', 'message': 'Set the number of threads for processes to 2\n\nThere are a lot of services that goes down in haproxy.\ntesting if setting the number of thread to 2 fixes the checks.\n\nChange-Id: I3162797f3e989d9f3437e3b6db426424e058783e\n'}, {'number': 5, 'created': '2022-08-12 07:24:19.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9ecfedeec5c4b328b56b3880b4986200ca0cba1d', 'message': 'Set the number of threads for processes to 2\n\nThere are a lot of services that goes down in haproxy.\ntesting if setting the number of thread to 2 fixes the checks.\n\nChange-Id: I3162797f3e989d9f3437e3b6db426424e058783e\n'}]",1,850942,9ecfedeec5c4b328b56b3880b4986200ca0cba1d,11,1,5,13095,,,0,"Set the number of threads for processes to 2

There are a lot of services that goes down in haproxy.
testing if setting the number of thread to 2 fixes the checks.

Change-Id: I3162797f3e989d9f3437e3b6db426424e058783e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/850942/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,850274bb03a69e941ea07d6fc37e1ca8ccd6b693,threads,keystone_wsgi_threads: 2cinder_wsgi_threads: 2glance_wsgi_threads: 2placement_wsgi_threads: 2nova_wsgi_threads: 2nova_api_threads: 2neutron_api_threads: 1 neutron_num_sync_threads: 2neutron_wsgi_threads: 2heat_api_threads: 2horizon_wsgi_threads: 2,keystone_wsgi_threads: 1cinder_wsgi_threads: 1glance_wsgi_threads: 1placement_wsgi_threads: 1nova_wsgi_threads: 1nova_api_threads: 1neutron_api_threads: 2 neutron_num_sync_threads: 1heat_api_threads: 1horizon_wsgi_threads: 1,11,10
openstack%2Fos-traits~861466,openstack/os-traits,master,I340c40a96369f787526661d2ccca97e757eac51d,Update python classifier for python 3.10,MERGED,2022-10-14 20:12:43.000000000,2022-12-20 12:56:14.000000000,2022-12-20 12:55:06.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 20:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/f805b5485a7cbf04f5f16c6d8960574da9724731', 'message': 'DNM: testign jobs on Ubuntu jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: I340c40a96369f787526661d2ccca97e757eac51d\n'}, {'number': 2, 'created': '2022-11-17 20:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/8c6902542f754cd53db8c4ba4fe86bc2e6b0b0a1', 'message': 'Update python classifier for python 3.10\n\nIn 2023.1 cycle, we are testing the python 3.10\nas voting job so updating the python classifier.\n\nChange-Id: I340c40a96369f787526661d2ccca97e757eac51d\n'}, {'number': 3, 'created': '2022-11-22 19:48:14.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/feb3e28a00eeab0d4dbf097dd801aff3adeb10d6', 'message': 'Update python classifier for python 3.10\n\nIn 2023.1 cycle, we are testing the python 3.10\nas voting job so updating the python classifier.\n\nChange-Id: I340c40a96369f787526661d2ccca97e757eac51d\n'}]",3,861466,feb3e28a00eeab0d4dbf097dd801aff3adeb10d6,14,3,3,8556,,,0,"Update python classifier for python 3.10

In 2023.1 cycle, we are testing the python 3.10
as voting job so updating the python classifier.

Change-Id: I340c40a96369f787526661d2ccca97e757eac51d
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/66/861466/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f805b5485a7cbf04f5f16c6d8960574da9724731,migrate-to-jammy,#test on Jammy,,1,0
openstack%2Fnova~831917,openstack/nova,master,Id82ef1b4afacfa6fc8865df932fd8cc0c7b51c90,Change test fips job from centos8 to centos-9,ABANDONED,2022-03-04 09:50:48.000000000,2022-12-20 12:55:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-04 09:50:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/68dafc5bdb827077f9d4464842a94f965beb072a', 'message': 'Change test fips job from centos8 to centos-9\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/831607\nChange-Id: Id82ef1b4afacfa6fc8865df932fd8cc0c7b51c90\n'}]",0,831917,68dafc5bdb827077f9d4464842a94f965beb072a,9,1,1,34120,,,0,"Change test fips job from centos8 to centos-9

Depends-On: https://review.opendev.org/c/openstack/tempest/+/831607
Change-Id: Id82ef1b4afacfa6fc8865df932fd8cc0c7b51c90
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/831917/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,68dafc5bdb827077f9d4464842a94f965beb072a,centos-9-stream-fips, - tempest-centos9-stream-fips:, - tempest-centos8-stream-fips:,1,1
openstack%2Fnova~857202,openstack/nova,master,Ia509f086329acbb159ccb17327ea4f40d3d17229,[doc] Add os_vif configuration options,ABANDONED,2022-09-12 15:27:14.000000000,2022-12-20 12:51:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 32666}, {'_account_id': 34807}]","[{'number': 1, 'created': '2022-09-12 15:27:14.000000000', 'files': ['etc/nova/nova-config-generator.conf'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6d25aff0ce17f36b92040d28bbb1061ceb8e387', 'message': '[doc] Add os_vif configuration options\n\nCurrently os_vif configuration options are not refferenced in nova docs,\ndespite these settings can be used inside nova.conf and quite important\nfor operators. With that we add os_vif namespace that will reder all\npossible options for the package.\n\nChange-Id: Ia509f086329acbb159ccb17327ea4f40d3d17229\n'}]",1,857202,d6d25aff0ce17f36b92040d28bbb1061ceb8e387,9,3,1,28619,,,0,"[doc] Add os_vif configuration options

Currently os_vif configuration options are not refferenced in nova docs,
despite these settings can be used inside nova.conf and quite important
for operators. With that we add os_vif namespace that will reder all
possible options for the package.

Change-Id: Ia509f086329acbb159ccb17327ea4f40d3d17229
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/857202/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/nova-config-generator.conf'],1,d6d25aff0ce17f36b92040d28bbb1061ceb8e387,,namespace = os_vif,,1,0
openstack%2Fpython-openstackclient~551811,openstack/python-openstackclient,master,I67347fe677252c242aaa47a11b926123aed21bd8,Add force parameter for quota set,ABANDONED,2018-03-11 21:37:33.000000000,2022-12-20 12:39:16.000000000,,"[{'_account_id': 2033}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27057}]","[{'number': 1, 'created': '2018-03-11 21:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e77cf8c38284242b4abf1e9d3fd5b1a09761ff8a', 'message': 'Add force parameter for quota set\n\nIf the used or reserved value of compute quotas was greater than\nthe value being set, then the ""quota set"" command failed. This adds\nthe force parameter which is supported by the Nova API. The new\nparameter is omitted when setting network or volume quotas since it\nis not supported by the respective APIs.\n\nChange-Id: I67347fe677252c242aaa47a11b926123aed21bd8\nCloses-Bug: #1738981\n'}, {'number': 2, 'created': '2018-04-23 06:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2e8f51c13456fa6b0b951a23ea4a3f873c6fb14', 'message': 'Add force parameter for quota set\n\nIf the used or reserved value of compute quotas was greater than\nthe value being set, then the ""quota set"" command failed. This adds\nthe force parameter which is supported by the Nova API. The new\nparameter is omitted when setting network or volume quotas since it\nis not supported by the respective APIs.\n\nChange-Id: I67347fe677252c242aaa47a11b926123aed21bd8\nCloses-Bug: #1738981\n'}, {'number': 3, 'created': '2018-04-29 18:00:34.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7dd94d2848e9bedbb6895f266f084c915b5f4c0c', 'message': 'Add force parameter for quota set\n\nIf the used or reserved value of compute quotas was greater than\nthe value being set, then the ""quota set"" command failed. This adds\nthe force parameter which is supported by the Nova API. The new\nparameter is omitted when setting network or volume quotas since it\nis not supported by the respective APIs.\n\nChange-Id: I67347fe677252c242aaa47a11b926123aed21bd8\nStory: #2001938\nTask: #15052\n'}]",5,551811,7dd94d2848e9bedbb6895f266f084c915b5f4c0c,17,4,3,27057,,,0,"Add force parameter for quota set

If the used or reserved value of compute quotas was greater than
the value being set, then the ""quota set"" command failed. This adds
the force parameter which is supported by the Nova API. The new
parameter is omitted when setting network or volume quotas since it
is not supported by the respective APIs.

Change-Id: I67347fe677252c242aaa47a11b926123aed21bd8
Story: #2001938
Task: #15052
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/11/551811/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_quota.py', 'openstackclient/common/quota.py']",2,e77cf8c38284242b4abf1e9d3fd5b1a09761ff8a,bug/2001938," parser.add_argument( '--force', action='store_true', help=_('Whether force update the quota even if the already ' 'used and reserved exceeds the new quota'), ) if compute_kwargs and getattr(parsed_args, 'force', None): # Adding force only for compute quotas compute_kwargs['force'] = True ",,87,0
openstack%2Fpython-openstackclient~365910,openstack/python-openstackclient,master,Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2,Implement 'image add/remove member',ABANDONED,2016-09-06 07:35:29.000000000,2022-12-20 12:38:19.000000000,,"[{'_account_id': 970}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 6482}, {'_account_id': 8276}, {'_account_id': 14937}, {'_account_id': 17553}, {'_account_id': 21514}, {'_account_id': 22754}]","[{'number': 1, 'created': '2016-09-06 07:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a8b01448d5ea0b6bbadacfd9b044f305bdf47642', 'message': ""Refactor image project add / remove\n\nSince we also need support in future:\n'image project list'\n'image project update'\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 2, 'created': '2016-09-06 09:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/053ad42da13fe909bf36cdd6402b8a65208f73e7', 'message': ""Refactor image project add / remove\n\nSince we also need support in future:\n'image project list'\n'image project update'\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 3, 'created': '2016-09-06 09:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/80fe52e3c33bb5d7947c78a30b52093b6e46a55f', 'message': ""Refactor image project add / remove\n\nSince we also need support in future:\n'image project list'\n'image project update'\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 4, 'created': '2016-09-08 08:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aa63519cf34179901c298c43f45df718c236ac8f', 'message': ""Refactor image project add / remove\n\nSince we also need support in future:\n'image project list'\n'image project set'\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 5, 'created': '2016-09-12 02:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c4a8ec1be3a5f80627d8498a1e68a982c671eaf', 'message': ""Refactor image project add / remove\n\nSince we also need support in future:\n'image project list'\n'image project set'\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 6, 'created': '2016-09-23 09:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/61373ebb2a25c288132d6186a34552d62b9c399f', 'message': 'Refactor image project add / remove\n\nRefactor image add/remove project to\nimage member add/remove\n\nSupport set project or user as the image\nmember\n\nFollowing this format, we can have:\nimage member set/list\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n'}, {'number': 7, 'created': '2016-09-26 09:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/067981cd29ad50ac7d377f4504c00c288dbc7f05', 'message': ""Implement 'image member add / remove'\n\nExtend image add/remove project to\nimage member add/remove\n\nSupport set project or user as the image\nmember\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 8, 'created': '2016-09-27 06:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3440ee9194788701634ed0e4c4420c5802901cd1', 'message': ""Implement 'image member add / remove'\n\nExtend image add/remove project to\nimage member add/remove\n\nSupport set project or user as the image\nmember\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 9, 'created': '2016-09-27 08:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c520819e91efbd8f0616a3c392121fcd607008c3', 'message': ""Implement 'image member add / remove'\n\nExtend image add/remove project to\nimage member add/remove\n\nSupport set project or user as the image\nmember\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}, {'number': 10, 'created': '2016-09-30 03:03:57.000000000', 'files': ['releasenotes/notes/bug-1620479-24b52472bac0fc3f.yaml', 'doc/source/command-objects/image.rst', 'openstackclient/tests/unit/image/v2/test_image.py', 'setup.cfg', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a344506179421ca33c4ef202bc4bf235a062d76a', 'message': ""Implement 'image add/remove member'\n\nExtend image add/remove project to\nimage add/remove member\n\nSupport set project or user as the image\nmember\n\nChange-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2\nCloses-Bug: #1620479\n""}]",9,365910,a344506179421ca33c4ef202bc4bf235a062d76a,40,9,10,22754,,,0,"Implement 'image add/remove member'

Extend image add/remove project to
image add/remove member

Support set project or user as the image
member

Change-Id: Iba2aa4aa1563bcfe027b4692af5e783b1791d3e2
Closes-Bug: #1620479
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/10/365910/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1620479-24b52472bac0fc3f.yaml', 'doc/source/command-objects/image.rst', 'setup.cfg']",3,a8b01448d5ea0b6bbadacfd9b044f305bdf47642,bug/1620479, image_project_add = openstackclient.image.v2.image:AddProjectToImage image_project_remove = openstackclient.image.v2.image:RemoveProjectImage, image_add_project = openstackclient.image.v2.image:AddProjectToImage image_remove_project = openstackclient.image.v2.image:RemoveProjectImage,14,8
openstack%2Fpython-openstackclient~433139,openstack/python-openstackclient,master,I4619075abf2ca8a946d7cc9a65530dd3f73e6d00,Beef up volume type functional tests,ABANDONED,2017-02-13 15:33:07.000000000,2022-12-20 12:36:58.000000000,,"[{'_account_id': 6482}, {'_account_id': 18332}, {'_account_id': 24081}]","[{'number': 1, 'created': '2017-02-13 15:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5e3b2e6172ee60d95d665324d8a66decce01204f', 'message': 'Beef up volume type functional tests\n\nUse json output format and remove the setupClass() and teardownClass()\nmethods in volume type functional tests, v1 and v2\n\nChange-Id: I4619075abf2ca8a946d7cc9a65530dd3f73e6d00\n'}, {'number': 2, 'created': '2017-02-14 01:58:25.000000000', 'files': ['openstackclient/tests/functional/volume/v2/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_volume_type.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/da682e0b5a4010019b819a8ee0303a5cb77c6dd7', 'message': 'Beef up volume type functional tests\n\nUse json output format and remove the setupClass() and teardownClass()\nmethods in volume type functional tests, v1 and v2\n\nChange-Id: I4619075abf2ca8a946d7cc9a65530dd3f73e6d00\n'}]",0,433139,da682e0b5a4010019b819a8ee0303a5cb77c6dd7,11,3,2,24081,,,0,"Beef up volume type functional tests

Use json output format and remove the setupClass() and teardownClass()
methods in volume type functional tests, v1 and v2

Change-Id: I4619075abf2ca8a946d7cc9a65530dd3f73e6d00
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/39/433139/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/volume/v2/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_volume_type.py']",2,5e3b2e6172ee60d95d665324d8a66decce01204f,fun-volume-type,"import json from tempest.lib.common.utils import data_utils def test_volume_type_delete(self): name1 = data_utils.rand_name('TestVolumeType') name2 = data_utils.rand_name('TestVolumeType') self.openstack('volume type create ' + name1) self.openstack('volume type create ' + name2) del_output = self.openstack( 'volume type delete ' + name1 + ' ' + name2 ) self.assertOutput('', del_output) def test_volume_type_create_and_list(self): # Test create name1 = data_utils.rand_name('TestVolumeType') cmd_output = json.loads(self.openstack( 'volume type create -f json' + ' --property a=b ' + name1 )) self.addCleanup(self.openstack, 'volume type delete ' + name1) self.assertEqual( name1, cmd_output['name'] ) self.assertEqual( ""a='b'"", cmd_output['properties'] ) name2 = data_utils.rand_name('TestVolumeType') cmd_output = json.loads(self.openstack( 'volume type create -f json' + ' --property c=d ' + name2 )) self.addCleanup(self.openstack, 'volume type delete ' + name2) self.assertEqual( name2, cmd_output['name'] ) self.assertEqual( ""c='d'"", cmd_output['properties'] ) # Test list cmd_output = json.loads(self.openstack( 'volume type list -f json' )) names = [x['Name'] for x in cmd_output] self.assertIn(name1, names) self.assertIn(name2, names) # Test list --long cmd_output = json.loads(self.openstack( 'volume type list -f json ' + '--long' )) names = [x['Name'] for x in cmd_output] self.assertIn(name1, names) self.assertIn(name2, names) self.assertIn('lvmdriver-1', names) properties = [x['Properties'] for x in cmd_output] self.assertIn(""a='b'"", properties) self.assertIn(""c='d'"", properties) def test_volume_type_set_and_unset(self): """"""Test volume type set, show and unset"""""" name = data_utils.rand_name('TestVolumeType') cmd_output = json.loads(self.openstack( 'volume type create -f json' + ' --property a=b ' + name )) self.addCleanup(self.openstack, 'volume type delete ' + name) self.assertEqual( name, cmd_output['name'] ) self.assertEqual( ""a='b'"", cmd_output['properties'] ) # Test set raw_output = self.openstack( 'volume type set ' + '--property c=d ' + name ) # Test show cmd_output = json.loads(self.openstack( 'volume type show -f json ' + name )) self.assertEqual( ""a='b', c='d'"", cmd_output['properties'] ) # Test unset raw_output = self.openstack( 'volume type unset ' + '--property a ' + name ) self.assertOutput('', raw_output) cmd_output = json.loads(self.openstack( 'volume type show -f json ' + name )) self.assertEqual( ""c='d'"", cmd_output['properties'] )","import uuid NAME = uuid.uuid4().hex HEADERS = ['""Name""'] FIELDS = ['name'] @classmethod def setUpClass(cls): super(VolumeTypeTests, cls).setUpClass() opts = cls.get_opts(cls.FIELDS) raw_output = cls.openstack('volume type create ' + cls.NAME + opts) expected = cls.NAME + '\n' cls.assertOutput(expected, raw_output) @classmethod def tearDownClass(cls): raw_output = cls.openstack('volume type delete ' + cls.NAME) cls.assertOutput('', raw_output) def test_volume_type_list(self): opts = self.get_opts(self.HEADERS) raw_output = self.openstack('volume type list' + opts) self.assertIn(self.NAME, raw_output) def test_volume_type_show(self): opts = self.get_opts(self.FIELDS) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(self.NAME + ""\n"", raw_output) def test_volume_type_set_unset_properties(self): raw_output = self.openstack( 'volume type set --property a=b --property c=d ' + self.NAME) self.assertEqual("""", raw_output) opts = self.get_opts([""properties""]) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""a='b', c='d'\n"", raw_output) raw_output = self.openstack('volume type unset --property a ' + self.NAME) self.assertEqual("""", raw_output) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""c='d'\n"", raw_output) def test_volume_type_set_unset_multiple_properties(self): raw_output = self.openstack( 'volume type set --property a=b --property c=d ' + self.NAME) self.assertEqual("""", raw_output) opts = self.get_opts([""properties""]) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""a='b', c='d'\n"", raw_output) raw_output = self.openstack( 'volume type unset --property a --property c ' + self.NAME) self.assertEqual("""", raw_output) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""\n"", raw_output) def test_multi_delete(self): vol_type1 = uuid.uuid4().hex vol_type2 = uuid.uuid4().hex self.openstack('volume type create ' + vol_type1) self.openstack('volume type create ' + vol_type2) cmd = 'volume type delete %s %s' % (vol_type1, vol_type2) raw_output = self.openstack(cmd)",349,145
openstack%2Fpython-openstackclient~787144,openstack/python-openstackclient,master,Ibf86cc4519555a64f538c10c08a920e82bb78191,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 08:05:17.000000000,2022-12-20 12:31:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-20 08:05:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/061724636c93a15e1eb52700bdaa84bc1c135d14', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Ibf86cc4519555a64f538c10c08a920e82bb78191\n'}]",0,787144,061724636c93a15e1eb52700bdaa84bc1c135d14,3,1,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Ibf86cc4519555a64f538c10c08a920e82bb78191
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/44/787144/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,061724636c93a15e1eb52700bdaa84bc1c135d14,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fpython-openstackclient~803457,openstack/python-openstackclient,master,Ie886a24256b74a78930427e98fd54298504d193c,Ignore not installed services when performing quota operations,ABANDONED,2021-08-04 10:19:52.000000000,2022-12-20 12:31:13.000000000,,"[{'_account_id': 841}, {'_account_id': 1955}, {'_account_id': 8122}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-04 10:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3239da1c20d89217e473a65a6987ab8adfc6197f', 'message': 'Ignore not installed services when performing quota operations\n\nFixed the following bug:\n""internal endpoint for compute service in RegionOne region not found"".\nit seems like that the way the original code works is not\nflexibles as limits the invocation of quotas about single service.\n\nStory: 2009098\nTask: 42940\nChange-Id: Ie886a24256b74a78930427e98fd54298504d193c\n'}, {'number': 2, 'created': '2021-08-10 05:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/64fa37d1445b9d8c2f89c7a548e62ffb2ba2aa89', 'message': 'Ignore not installed services when performing quota operations\n\nit seems like that the way the original code works is not\nflexibles as limits the invocation of quotas about single service.\n\nStory: 2009098\nTask: 42940\nChange-Id: Ie886a24256b74a78930427e98fd54298504d193c\n'}, {'number': 3, 'created': '2021-08-10 05:58:22.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c1b123d9b272426ee1a69961e7c0da37b235b70f', 'message': 'Ignore not installed services when performing quota operations\n\nFixed the following bug:\n""internal endpoint for compute service in RegionOne region not found"".\nit seems like that the way the original code works is not\nflexibles as limits the invocation of quotas about single service.\n\nStory: 2009098\nTask: 42940\nChange-Id: Ie886a24256b74a78930427e98fd54298504d193c\n'}]",1,803457,c1b123d9b272426ee1a69961e7c0da37b235b70f,13,7,3,31525,,,0,"Ignore not installed services when performing quota operations

Fixed the following bug:
""internal endpoint for compute service in RegionOne region not found"".
it seems like that the way the original code works is not
flexibles as limits the invocation of quotas about single service.

Story: 2009098
Task: 42940
Change-Id: Ie886a24256b74a78930427e98fd54298504d193c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/57/803457/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/common/quota.py'],1,3239da1c20d89217e473a65a6987ab8adfc6197f,story/2009098," if self.app.client_manager.is_compute_endpoint_enabled(): compute_client = self.app.client_manager.compute for k, v in COMPUTE_QUOTAS.items(): value = getattr(parsed_args, k, None) if value is not None: compute_kwargs[k] = value if parsed_args.force: compute_kwargs['force'] = True if self.app.client_manager.is_volume_endpoint_enabled( self.app.client_manager.volume): volume_client = self.app.client_manager.volume for k, v in VOLUME_QUOTAS.items(): value = getattr(parsed_args, k, None) if value is not None: if (parsed_args.volume_type and k in IMPACT_VOLUME_TYPE_QUOTAS): k = k + '_%s' % parsed_args.volume_type volume_kwargs[k] = value if self.app.client_manager.is_compute_endpoint_enabled(): compute_client = self.app.client_manager.compute compute_quota_info = self.get_compute_quota(compute_client, parsed_args) info.update(compute_quota_info) if self.app.client_manager.is_volume_endpoint_enabled( self.app.client_manager.volume): volume_client = self.app.client_manager.volume volume_quota_info = self.get_volume_quota(volume_client, parsed_args) info.update(volume_quota_info) if self.app.client_manager.is_network_endpoint_enabled(): network_quota_info = self.get_network_quota(parsed_args) info.update(network_quota_info) # NOTE(reedip): Remove the below check once requirement for # Openstack SDK is fixed to version 0.9.12 and above if type(network_quota_info) is not dict: network_quota_info = network_quota_info.to_dict()"," compute_client = self.app.client_manager.compute volume_client = self.app.client_manager.volume for k, v in COMPUTE_QUOTAS.items(): value = getattr(parsed_args, k, None) if value is not None: compute_kwargs[k] = value if parsed_args.force: compute_kwargs['force'] = True for k, v in VOLUME_QUOTAS.items(): value = getattr(parsed_args, k, None) if value is not None: if (parsed_args.volume_type and k in IMPACT_VOLUME_TYPE_QUOTAS): k = k + '_%s' % parsed_args.volume_type volume_kwargs[k] = value compute_client = self.app.client_manager.compute volume_client = self.app.client_manager.volume compute_quota_info = self.get_compute_quota(compute_client, parsed_args) volume_quota_info = self.get_volume_quota(volume_client, parsed_args) network_quota_info = self.get_network_quota(parsed_args) # NOTE(reedip): Remove the below check once requirement for # Openstack SDK is fixed to version 0.9.12 and above if type(network_quota_info) is not dict: network_quota_info = network_quota_info.to_dict() info.update(compute_quota_info) info.update(volume_quota_info) info.update(network_quota_info)",36,30
openstack%2Fneutron~868082,openstack/neutron,stable/ussuri,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:40:01.000000000,2022-12-20 12:23:10.000000000,2022-12-20 12:21:47.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/924df048d45cfb478d114ba6094f6baf1c46ee3b', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}, {'number': 2, 'created': '2022-12-19 14:46:57.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0b8c5f332ec5a08679d4270ea6404d7651c41c2', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)\n'}]",1,868082,d0b8c5f332ec5a08679d4270ea6404d7651c41c2,10,3,2,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/868082/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,924df048d45cfb478d114ba6094f6baf1c46ee3b,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Faodh~867593,openstack/aodh,stable/ussuri,I074ef0ad4578abde73ae82efb18bc9edbceb7e81,Remove TripleO job,MERGED,2022-12-14 03:31:51.000000000,2022-12-20 12:17:21.000000000,2022-12-20 12:15:42.000000000,"[{'_account_id': 4264}, {'_account_id': 13177}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 03:31:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/3d71d06e27bb858fcba7db4575fbca9d49f03e32', 'message': 'Remove TripleO job\n\nThe TripleO job has been in the experimental queue but has never get\nany actual attention. Also, the job is not used in Ceilometer.\n\nConflicts:\n\t.zuul.yaml\n\nBackport note:\nstable/xena and stable/yoga were skipped because the tripleo job has\nbeen removed from these branches by different commits.\n\nChange-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81\n(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)\n'}]",1,867593,3d71d06e27bb858fcba7db4575fbca9d49f03e32,8,3,1,9816,,,0,"Remove TripleO job

The TripleO job has been in the experimental queue but has never get
any actual attention. Also, the job is not used in Ceilometer.

Conflicts:
	.zuul.yaml

Backport note:
stable/xena and stable/yoga were skipped because the tripleo job has
been removed from these branches by different commits.

Change-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81
(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/93/867593/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3d71d06e27bb858fcba7db4575fbca9d49f03e32,,," experimental: jobs: # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. # NOTE(sileht): These job takes 3 hours and fail most of the times. # While other jobs take 20-30 minutes # We can reenable it when they take less times. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone",0,17
openstack%2Fpython-openstackclient~863986,openstack/python-openstackclient,master,I99424cf2af0843ef301aa10f1e054e0af6cd7153,tests: Resolve TODO in image tests,ABANDONED,2022-11-08 11:24:01.000000000,2022-12-20 12:16:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-08 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f28664c7b329c8d70fe87e8570aec9e3ad2c7885', 'message': ""tests: Resolve TODO in image tests\n\nWe've supported a '--shared' option for 'image create' and 'image set'\nfor some time now.\n\nChange-Id: I99424cf2af0843ef301aa10f1e054e0af6cd7153\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-11-08 16:48:11.000000000', 'files': ['openstackclient/tests/functional/image/v2/test_image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/333dabfde3e6a96d8e61e5ff21316708027058d0', 'message': ""tests: Resolve TODO in image tests\n\nWe've supported a '--shared' option for 'image create' and 'image set'\nfor some time now.\n\nChange-Id: I99424cf2af0843ef301aa10f1e054e0af6cd7153\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,863986,333dabfde3e6a96d8e61e5ff21316708027058d0,5,1,2,15334,,,0,"tests: Resolve TODO in image tests

We've supported a '--shared' option for 'image create' and 'image set'
for some time now.

Change-Id: I99424cf2af0843ef301aa10f1e054e0af6cd7153
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/86/863986/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/image/v2/test_image.py'],1,f28664c7b329c8d70fe87e8570aec9e3ad2c7885,smarter-functional-tests," super().setUp() 'image create --shared -f json --tag {tag} {name}'.format( 'image show -f json ' + self.name self.openstack( 'image add project ' + self.name + ' ' + my_project_id ) self.addCleanup( self.openstack, 'image remove project ' + self.name + ' ' + my_project_id, ) self.openstack( 'image set --accept ' + self.name ) json_output = json.loads(self.openstack( 'image list -f json --shared' )) self.assertIn( self.name, [img['Name'] for img in json_output] ) self.openstack( 'image set --reject ' + self.name ) json_output = json.loads(self.openstack( 'image list -f json --shared' )) self.assertNotIn( self.name, [img['Name'] for img in json_output] )"," super(ImageTests, self).setUp() 'image create -f json --tag {tag} {name}'.format( # TODO(dtroyer): This test is incomplete and doesn't properly test # sharing images. Fix after the --shared option is # properly added. 'image show -f json ' + self.name # NOTE(dtroyer): Until OSC supports --shared flags in create and set # we can not properly test membership. Sometimes the # images are shared and sometimes they are not. if json_output[""visibility""] == 'shared': self.openstack( 'image add project ' + self.name + ' ' + my_project_id ) # self.addCleanup( # self.openstack, # 'image remove project ' + # self.name + ' ' + # my_project_id # ) self.openstack( 'image set ' + '--accept ' + self.name ) json_output = json.loads(self.openstack( 'image list -f json ' + '--shared' )) self.assertIn( self.name, [img['Name'] for img in json_output] ) self.openstack( 'image set ' + '--reject ' + self.name ) json_output = json.loads(self.openstack( 'image list -f json ' + '--shared' )) # self.assertNotIn( # self.name, # [img['Name'] for img in json_output] # ) self.openstack( 'image remove project ' + self.name + ' ' + my_project_id ) # else: # # Test not shared # self.assertRaises( # image_exceptions.HTTPForbidden, # self.openstack, # 'image add project ' + # self.name + ' ' + # my_project_id # ) # self.openstack( # 'image set ' + # '--share ' + # self.name # )",30,69
openstack%2Fpython-openstackclient~867990,openstack/python-openstackclient,master,Ic638f57ceef38c85fafcf5aa38c2b13a5439612d,Update Host List and Host Show command to use OpenStackSDK.,ABANDONED,2022-12-16 17:49:43.000000000,2022-12-20 12:08:57.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 17:49:43.000000000', 'files': ['releasenotes/notes/migrate-host-list-show-to-sdk-9b80cd9b4196ab01.yaml', 'openstackclient/compute/v2/host.py', 'openstackclient/tests/unit/compute/v2/test_host.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87e4658e74cba51aefff404a0fcf9a5deb2f50e8', 'message': 'Update Host List and Host Show command to use OpenStackSDK.\n\nChange-Id: I3813ff604ba46112ebd358509ea4f28ee38ca3ee\n\nAdded release note.\n\nChange-Id: Ic638f57ceef38c85fafcf5aa38c2b13a5439612d\n'}]",5,867990,87e4658e74cba51aefff404a0fcf9a5deb2f50e8,5,2,1,35353,,,0,"Update Host List and Host Show command to use OpenStackSDK.

Change-Id: I3813ff604ba46112ebd358509ea4f28ee38ca3ee

Added release note.

Change-Id: Ic638f57ceef38c85fafcf5aa38c2b13a5439612d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/867990/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrate-host-list-show-to-sdk-9b80cd9b4196ab01.yaml', 'openstackclient/compute/v2/host.py', 'openstackclient/tests/unit/compute/v2/test_host.py']",3,87e4658e74cba51aefff404a0fcf9a5deb2f50e8,nova-gaps,"from openstackclient.tests.unit import fakes self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.compute = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection.compute self.sdk_client.get = mock.Mock() _host = compute_fakes.FakeHost.create_one_host() self.sdk_client.get.return_value = fakes.FakeResponse( data={'hosts': [self._host]} ) self.columns = ( 'Host Name', 'Service', 'Zone' ) self.data = [( self._host['host_name'], self._host['service'], self._host['zone'], )] h_mock.return_value = [self._host] self.sdk_client.get.assert_called_with('/os-hosts', microversion='2.1') h_mock.return_value = [self._host] '--zone', self._host['zone'], ('zone', self._host['zone']), self.sdk_client.get.assert_called_with('/os-hosts', microversion='2.1') _host = compute_fakes.FakeHost.create_one_host() output_data = {""resource"": { ""host"": self._host['host'], ""project"": self._host['project'], ""cpu"": self._host['cpu'], ""memory_mb"": self._host['memory_mb'], ""disk_gb"": self._host['disk_gb'] }} self.sdk_client.get.return_value = fakes.FakeResponse( data={'host': [output_data]} ) self.columns = ( 'Host', 'Project', 'CPU', 'Memory MB', 'Disk GB', ) self.data = [( self._host['host'], self._host['project'], self._host['cpu'], self._host['memory_mb'], self._host['disk_gb'], )] h_mock.host_show.return_value = [self._host] h_mock.return_value = [self._host] self._host['host_name'], ('host', self._host['host_name']), self.sdk_client.get.assert_called_with( '/os-hosts/' + self._host['host_name'], microversion='2.1' )"," self.compute = self.app.client_manager.compute host = compute_fakes.FakeHost.create_one_host() columns = ( 'Host Name', 'Service', 'Zone', ) data = [( host['host_name'], host['service'], host['zone'], )] h_mock.return_value = [self.host] h_mock.assert_called_with(None) h_mock.return_value = [self.host] '--zone', self.host['zone'], ('zone', self.host['zone']), h_mock.assert_called_with(self.host['zone']) host = compute_fakes.FakeHost.create_one_host() columns = ( 'Host', 'Project', 'CPU', 'Memory MB', 'Disk GB', ) data = [( host['host'], host['project'], host['cpu'], host['memory_mb'], host['disk_gb'], )] h_mock.host_show.return_value = [self.host] h_mock.return_value = [self.host] self.host['host_name'], ('host', self.host['host_name']), h_mock.assert_called_with(self.host['host_name'])",171,56
openstack%2Fopenstacksdk~866383,openstack/openstacksdk,master,I255918ce01147df9820bd93e985b3328ac52ca4d,modified instance_uuid to be resource.Body in server_actions.py,ABANDONED,2022-12-01 19:13:46.000000000,2022-12-20 12:02:54.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-12-01 19:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/18c8111726e11007e331f267599d3cc60e4ba692', 'message': 'made modifications to allow server event list options to pass through to server actions\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}, {'number': 2, 'created': '2022-12-03 20:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/851ec39387122d0cdf2b86a51a464940b985b165', 'message': 'removed kwargs from inheritance input in class\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}, {'number': 3, 'created': '2022-12-03 23:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/681d7670f721ce1288a2322ccd8546e2ab4a938f', 'message': 'modified _proxy.py to correct linting error\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}, {'number': 4, 'created': '2022-12-04 01:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dde176dd7128fa8f9e6bbcc98f485e659c567166', 'message': 'improve linting error from previous patch on _proxy.py\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}, {'number': 5, 'created': '2022-12-04 22:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/33873c9f6e8c17dd469417b3c0420eabd4ef0719', 'message': 'removed the additional indentation on _proxy.py\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}, {'number': 6, 'created': '2022-12-04 22:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5a1897c573689acc7111121f9e8a6db69ef3c5d6', 'message': 'corrected the indentation error to aline with the inputs of the previous line on _proxy.py\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}, {'number': 7, 'created': '2022-12-06 16:21:45.000000000', 'files': ['openstack/compute/v2/server_action.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b1e13ad76e316f6bd5f87f3b0b6897c4da4c4f94', 'message': 'modified instance_uuid to be resource.Body in server_actions.py\n\nChange-Id: I255918ce01147df9820bd93e985b3328ac52ca4d\n'}]",8,866383,b1e13ad76e316f6bd5f87f3b0b6897c4da4c4f94,21,3,7,35360,,,0,"modified instance_uuid to be resource.Body in server_actions.py

Change-Id: I255918ce01147df9820bd93e985b3328ac52ca4d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/83/866383/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server_action.py', 'openstack/compute/v2/_proxy.py']",2,18c8111726e11007e331f267599d3cc60e4ba692,nova-gaps," def server_actions(self, server, **kwargs): return self._list(_server_action.ServerAction, server_id=server_id, **kwargs)"," def server_actions(self, server): return self._list(_server_action.ServerAction, server_id=server_id)",4,4
openstack%2Fos-net-config~866896,openstack/os-net-config,stable/zed,I004ef317133e77bdfd971f1ac66e15d4e695cea7,Avoid reconfiguring SR-IOV devices during stack update,MERGED,2022-12-08 07:35:01.000000000,2022-12-20 11:45:57.000000000,2022-12-20 11:44:59.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-12-08 07:35:01.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4a8182405917777f5c2b82741e1d4b9f42f01619', 'message': 'Avoid reconfiguring SR-IOV devices during stack update\n\nThe reconfiguration of an already configured SR-IOV device\nin HW Offload mode trigger an unbind/bind operation leading to failures\n\nChange-Id: I004ef317133e77bdfd971f1ac66e15d4e695cea7\n(cherry picked from commit 23d97d35aff8571e78880237d88d0124768a7b2f)\n'}]",0,866896,4a8182405917777f5c2b82741e1d4b9f42f01619,9,4,1,18904,,,0,"Avoid reconfiguring SR-IOV devices during stack update

The reconfiguration of an already configured SR-IOV device
in HW Offload mode trigger an unbind/bind operation leading to failures

Change-Id: I004ef317133e77bdfd971f1ac66e15d4e695cea7
(cherry picked from commit 23d97d35aff8571e78880237d88d0124768a7b2f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/96/866896/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,4a8182405917777f5c2b82741e1d4b9f42f01619,," if pf_configure_status(item): logger.debug(f""PF {item['name']} is already configured"") continuedef pf_configure_status(pf_device): return pf_device['numvfs'] == get_numvfs(pf_device['name']) ",,15,0
openstack%2Ftripleo-ansible~867232,openstack/tripleo-ansible,master,Ia0a2c46eb84e43c9c69fd5a087bfd4bcc687fd95,Rotate cephadm_command.log,MERGED,2022-12-12 18:21:08.000000000,2022-12-20 11:31:06.000000000,2022-12-20 11:31:06.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-12-12 18:21:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_run_cephadm/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35155b9230398cb62f851623ac1b5b6bbd5ae186', 'message': 'Rotate cephadm_command.log\n\nBefore calling cephadm playbook, check if the log file\ncephadm_command.log exists (from a previous run).\nIf it does, then rename it to append a timestamp. When\ncephadm is run, a new log will be created.\n\nChange-Id: Ia0a2c46eb84e43c9c69fd5a087bfd4bcc687fd95\nResolves: rhbz#2149339\n'}]",7,867232,35155b9230398cb62f851623ac1b5b6bbd5ae186,16,5,1,34598,,,0,"Rotate cephadm_command.log

Before calling cephadm playbook, check if the log file
cephadm_command.log exists (from a previous run).
If it does, then rename it to append a timestamp. When
cephadm is run, a new log will be created.

Change-Id: Ia0a2c46eb84e43c9c69fd5a087bfd4bcc687fd95
Resolves: rhbz#2149339
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/867232/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_run_cephadm/tasks/main.yml'],1,35155b9230398cb62f851623ac1b5b6bbd5ae186,ceph_bz_logrotate,"- name: rotate cephadm_command.log become: true shell: | if [[ -e cephadm_command.log ]]; then mv cephadm_command.log cephadm_command.log-$(date ""+%Y-%m-%dT%H:%M:%S""); fi args: chdir: ""{{ playbook_dir }}/cephadm/"" ",,9,0
openstack%2Faodh~809217,openstack/aodh,stable/xena,I6dac8447e50aabb97bdec65c61f46b9bc78002b7,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 06:33:08.000000000,2022-12-20 11:28:54.000000000,,"[{'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 13177}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 06:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/2c4817e5ba5efaff04eb0d77fa2e2a6e7ce7cf36', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7\n'}, {'number': 2, 'created': '2022-08-25 16:36:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/bc9c259e2be54f5f1869195c5200b78e8037d5fa', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7\n'}]",10,809217,bc9c259e2be54f5f1869195c5200b78e8037d5fa,29,4,2,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I6dac8447e50aabb97bdec65c61f46b9bc78002b7
",git fetch https://review.opendev.org/openstack/aodh refs/changes/17/809217/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2c4817e5ba5efaff04eb0d77fa2e2a6e7ce7cf36,cleanup_featuresets-stable/xena, - tripleo-ci-centos-8-scenario001-standalone - tripleo-ci-centos-8-scenario002-standalone, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone,2,7
openstack%2Fskyline-console~868155,openstack/skyline-console,master,I6cb59e9f74c76cb3d0901e89c9bf01d48a85d747,fix: fix the magnum quotai and other infos,MERGED,2022-12-20 08:05:48.000000000,2022-12-20 11:25:51.000000000,2022-12-20 11:24:54.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-20 08:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5abf92a213a1d8a3e5727b906d8f2da4d7c6ee68', 'message': 'fix: fix the magnum quotai and other infos\n\n1. support volume quota when create cluster instance\n2. fix subnet reseting when fixed network changed\n3. show project id of cluster template if switch to administrator platform\n\nCloses-Bug: #2000141\nChange-Id: I6cb59e9f74c76cb3d0901e89c9bf01d48a85d747\n'}, {'number': 2, 'created': '2022-12-20 08:25:22.000000000', 'files': ['src/stores/magnum/clusterTemplates.js', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNetwork/index.jsx', 'src/resources/magnum/template.js', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e03182b072507dfa74182c04ddbd20198af58591', 'message': 'fix: fix the magnum quotai and other infos\n\n1. support volume quota when create cluster instance\n2. fix subnet reseting when fixed network changed\n3. show project id of cluster template if switch to administrator platform\n\nCloses-Bug: #2000141\nChange-Id: I6cb59e9f74c76cb3d0901e89c9bf01d48a85d747\n'}]",0,868155,e03182b072507dfa74182c04ddbd20198af58591,8,2,2,33689,,,0,"fix: fix the magnum quotai and other infos

1. support volume quota when create cluster instance
2. fix subnet reseting when fixed network changed
3. show project id of cluster template if switch to administrator platform

Closes-Bug: #2000141
Change-Id: I6cb59e9f74c76cb3d0901e89c9bf01d48a85d747
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/55/868155/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/magnum/clusterTemplates.js', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNetwork/index.jsx', 'src/resources/magnum/template.js', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/index.jsx']",8,5abf92a213a1d8a3e5727b906d8f2da4d7c6ee68,fix-magnum-bugs," const { newNodes } = this.getNodesInput(); add: quotaError ? 0 : newNodes, const { volumes } = toJS(this.projectStore.cinderQuota) || {}; const volumeQuotaInfo = { ...volumes, add: quotaError ? 0 : newNodes, name: 'volume', title: t('Volume'), type: 'line', }; volumeQuotaInfo, getNodesInput() { const { data = {} } = this.state; const { node_count = 0, master_count = 0 } = data; const newNodes = node_count + master_count; return { newNodes, }; } const { newNodes } = this.getNodesInput(); if (left !== -1 && left < newNodes) { return this.getQuotaMessage(newNodes, instances, t('Instance')); checkVolumeQuota() { const { quotaLoading } = this.state; if (quotaLoading) { return ''; } const { newNodes } = this.getNodesInput(); const { volumes } = toJS(this.projectStore.cinderQuota) || {}; const { left = 0 } = volumes; if (left !== -1 && left < newNodes) { return this.getQuotaMessage(newNodes, volumes, t('Volume')); } return ''; } const volumeMsg = this.checkVolumeQuota(); const error = clusterMsg || instanceMsg || flavorMsg || volumeMsg; ...rest, keypair: (keypair && keypair.selectedRowKeys[0]) || null, master_flavor_id: (masterFlavor && masterFlavor.selectedRowKeys[0]) || null, flavor_id: (flavor && flavor.selectedRowKeys[0]) || null, fixed_network: (!newNetwork && fixedNetwork.selectedRowKeys[0]) || null, fixed_subnet: (!newNetwork && fixedSubnet.selectedRowKeys[0]) || null,"," add: quotaError ? 0 : 1, if (left === 0) { return this.getQuotaMessage(1, instances, t('Instance')); const error = clusterMsg || instanceMsg || flavorMsg; ...rest, if (keypair) { data.keypair = keypair.selectedRowKeys[0]; } if (masterFlavor) { data.master_flavor_id = masterFlavor.selectedRowKeys[0]; } if (flavor) { data.flavor_id = flavor.selectedRowKeys[0]; } if (!newNetwork && fixedNetwork) { const { selectedRowKeys = [] } = fixedNetwork; data.fixed_network = selectedRowKeys[0]; } if (!newNetwork && fixedSubnet) { const { selectedRowKeys = [] } = fixedSubnet; data.fixed_subnet = selectedRowKeys[0]; } ",105,37
openstack%2Fneutron~868080,openstack/neutron,stable/wallaby,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:39:23.000000000,2022-12-20 10:59:53.000000000,2022-12-20 10:58:31.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4371fb00879b7518b402fdf4c033f3f888d9645', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}, {'number': 2, 'created': '2022-12-19 14:45:45.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4331c0693fbca325d97c8d6bcbd775c4f25f7ee0', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)\n'}]",1,868080,4331c0693fbca325d97c8d6bcbd775c4f25f7ee0,12,3,2,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/868080/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,e4371fb00879b7518b402fdf4c033f3f888d9645,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fneutron~868079,openstack/neutron,stable/xena,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:39:01.000000000,2022-12-20 10:59:47.000000000,2022-12-20 10:58:27.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/209df4c13c9c1d1bc9817ec4b1713f292599cfae', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}, {'number': 2, 'created': '2022-12-19 14:40:31.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/037ba074f01e317a43d0387684afd528453126b5', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)\n'}]",1,868079,037ba074f01e317a43d0387684afd528453126b5,12,3,2,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
(cherry picked from commit 951e2c74ae0baff84e98b5580071d09db95f00d5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/868079/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,209df4c13c9c1d1bc9817ec4b1713f292599cfae,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fneutron~868078,openstack/neutron,stable/yoga,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:38:40.000000000,2022-12-20 10:59:44.000000000,2022-12-20 10:58:22.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1440615363a622895618e8c6fa3847e9d4cebc5c', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}, {'number': 2, 'created': '2022-12-19 14:39:31.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/951e2c74ae0baff84e98b5580071d09db95f00d5', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}]",2,868078,951e2c74ae0baff84e98b5580071d09db95f00d5,12,3,2,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/868078/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,1440615363a622895618e8c6fa3847e9d4cebc5c,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fneutron~868077,openstack/neutron,stable/zed,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-19 12:38:21.000000000,2022-12-20 10:59:39.000000000,2022-12-20 10:58:18.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 12:38:21.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/deebc7879a6f1007a264696890d4f87221a99c5d', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)\n'}]",1,868077,deebc7879a6f1007a264696890d4f87221a99c5d,9,3,1,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517
Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
(cherry picked from commit dfe69472a82d7eee96299122c8a9520aeed73ddd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/868077/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,deebc7879a6f1007a264696890d4f87221a99c5d,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fneutron~865697,openstack/neutron,master,Icec8fee93e64b871999f38674e305238e9705fd4,Fix handling the restart of ovn-controllers,MERGED,2022-11-25 15:43:01.000000000,2022-12-20 10:59:31.000000000,2022-12-20 10:58:14.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-25 15:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cae2a8dd5084d4b362407019fdaeca27d9ab59a', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas `0`.\n\nAs `0` is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n""}, {'number': 2, 'created': '2022-11-28 07:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4296b13ee8295d7aa4e74640d4e0e3947a8aee22', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n""}, {'number': 3, 'created': '2022-11-29 12:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28c093f96abff956631c1e3bdcceacfb56d75d70', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n""}, {'number': 4, 'created': '2022-11-30 15:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24d806651cd12f04290c5b5d78d6978afedb78ac', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n""}, {'number': 5, 'created': '2022-12-14 09:03:21.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cc611d319d0afe1ee04df6e4419014f1133df09', 'message': ""Fix handling the restart of ovn-controllers\n\nThe previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`\nif the `old` row either did not contain a `nb_cfg` value or if the value\nwas 0.\n\nAs 0 is the value set on startup of the ovn-controller this causes the\nneutron-api to ignore any event a ovn-controller directly sends after\nstartup. In turn this causes us to miss the information that the agent\nis synchronized, causing the agent to appear as down, until something\nbumps the `nb_cfg` value globally.\n\nCloses-Bug: #1997982\n\nChange-Id: Icec8fee93e64b871999f38674e305238e9705fd4\n""}]",13,865697,4cc611d319d0afe1ee04df6e4419014f1133df09,43,9,5,29074,,,0,"Fix handling the restart of ovn-controllers

The previous `getattr(old, 'nb_cfg', False)` would evaluate to `False`
if the `old` row either did not contain a `nb_cfg` value or if the value
was 0.

As 0 is the value set on startup of the ovn-controller this causes the
neutron-api to ignore any event a ovn-controller directly sends after
startup. In turn this causes us to miss the information that the agent
is synchronized, causing the agent to appear as down, until something
bumps the `nb_cfg` value globally.

Closes-Bug: #1997982

Change-Id: Icec8fee93e64b871999f38674e305238e9705fd4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/865697/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",2,2cae2a8dd5084d4b362407019fdaeca27d9ab59a,fix_ovn_controller_restart," def test_agent_restart(self): def check_agent_up(): agent = neutron_agent.AgentCache()[self.chassis_name] return agent.is_alive() def check_agent_down(): return not check_agent_up() if not self.sb_api.is_table_present('Chassis_Private'): self.skipTest('Ovn sb not support Chassis_Private') chassis = self.sb_api.db_get('Chassis', self.chassis_name) self.assertTrue(check_agent_up()) # Lets start by shutting down the ovn-controller # (where it will remove the Chassis_Private table entry) self.sb_api.db_del('Chassis_Private', self.chassis_name) try: n_utils.wait_until_true(check_agent_down, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go down after Chassis_Private removal') # Now the ovn-controller starts up again and has not yet synced with # the southbound database self.sb_api.db_create( 'Chassis_Private', name=self.chassis_name, external_ids=chassis.external_ids, chassis=chassis.uuid, nb_cfg_timestamp=0, nb_cfg=0 ).execute(check_error=True) self.assertTrue(check_agent_down()) # Now the ovn-controller has synced with the southbound database nb_cfg_timestamp = timeutils.utcnow_ts() * 1000 with self.sb_api.transaction() as txn: txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, nb_cfg_timestamp=nb_cfg_timestamp)) txn.add(self.sb_api.db_set('Chassis_Private', self.chassis_name, nb_cfg=1337)) try: n_utils.wait_until_true(check_agent_up, timeout=5) except n_utils.WaitTimeout: self.fail('Agent did not go up after sync is done') ",,42,1
openstack%2Ftempest~868198,openstack/tempest,master,I018d988c5645a83898c3c552679431b15cd244ac,Do Not Merge,ABANDONED,2022-12-20 10:45:14.000000000,2022-12-20 10:45:41.000000000,,[],"[{'number': 1, 'created': '2022-12-20 10:45:14.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/tempest/commit/227ff1d9049c6489f5215e548577a8b58aae8dc2', 'message': 'Do Not Merge\n\nChange-Id: I018d988c5645a83898c3c552679431b15cd244ac\n'}]",0,868198,227ff1d9049c6489f5215e548577a8b58aae8dc2,2,0,1,23003,,,0,"Do Not Merge

Change-Id: I018d988c5645a83898c3c552679431b15cd244ac
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/868198/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,227ff1d9049c6489f5215e548577a8b58aae8dc2,,,,0,0
openstack%2Fkeystonemiddleware~849581,openstack/keystonemiddleware,master,I7e15972642d2adf0c542c67d59a2d462f22dd2c5,Adapt to fixtures 4.x,ABANDONED,2022-07-12 20:16:28.000000000,2022-12-20 10:38:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-12 20:16:28.000000000', 'files': ['keystonemiddleware/tests/unit/audit/test_logging_notifier.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bc863d808cd3e9fb0bb132e6466b2772b1328f11', 'message': ""Adapt to fixtures 4.x\n\ndue to commit ed788ce76f0846795dd68f487958b743922090aa (mockpatch.py,\nL50) one can no longer patch stuff to be None that easily, and one test\nin keystonemiddleware relied on it.\n\nThis commit rewrites that test w/o using 'fixtures' library, only using\nstandard unittest.mock to avoid this problem.\n\nChange-Id: I7e15972642d2adf0c542c67d59a2d462f22dd2c5\n""}]",0,849581,bc863d808cd3e9fb0bb132e6466b2772b1328f11,3,1,1,9542,,,0,"Adapt to fixtures 4.x

due to commit ed788ce76f0846795dd68f487958b743922090aa (mockpatch.py,
L50) one can no longer patch stuff to be None that easily, and one test
in keystonemiddleware relied on it.

This commit rewrites that test w/o using 'fixtures' library, only using
standard unittest.mock to avoid this problem.

Change-Id: I7e15972642d2adf0c542c67d59a2d462f22dd2c5
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/81/849581/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/audit/test_logging_notifier.py'],1,bc863d808cd3e9fb0bb132e6466b2772b1328f11,fixtures4,"@mock.patch(""keystonemiddleware.audit._notifier.oslo_messaging"", new=None)","import fixtures def setUp(self): p = 'keystonemiddleware.audit._notifier.oslo_messaging' f = fixtures.MockPatch(p, None) self.messaging_fixture = self.useFixture(f) super(TestLoggingNotifier, self).setUp() ",1,9
openstack%2Ftempest~865821,openstack/tempest,master,If796ea3cdadea1ece322103e5ccacf95c0e03efa,DNM Just testing drop of lib/neutron from Devstack,ABANDONED,2022-11-28 10:56:28.000000000,2022-12-20 10:23:48.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb21dabe954b4569b29900ef3671c6aa84736b3c', 'message': 'DNM Just testing drop of lib/neutron from Devstack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/865015/\nChange-Id: If796ea3cdadea1ece322103e5ccacf95c0e03efa\n'}, {'number': 2, 'created': '2022-12-16 09:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3512cb399843caf9f3e5f883615fe2f2e7fa5f0d', 'message': 'DNM Just testing drop of lib/neutron from Devstack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/865014\nChange-Id: If796ea3cdadea1ece322103e5ccacf95c0e03efa\n'}]",9,865821,3512cb399843caf9f3e5f883615fe2f2e7fa5f0d,23,2,2,11975,,,0,"DNM Just testing drop of lib/neutron from Devstack

Depends-On: https://review.opendev.org/c/openstack/devstack/+/865014
Change-Id: If796ea3cdadea1ece322103e5ccacf95c0e03efa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/865821/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,bb21dabe954b4569b29900ef3671c6aa84736b3c,drop-lib-neutron,,,0,0
openstack%2Foctavia~867956,openstack/octavia,master,I53c4577eca5da3cbd6a03d78fb4edfcf662ca6e0,DNM Test devstack's lib/neutron drop,ABANDONED,2022-12-16 09:04:07.000000000,2022-12-20 10:23:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-16 09:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a41f17287f95c1884677a1e1a2b361ee9a90fa3a', 'message': ""DNM Test devstack's lib/neutron drop\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/865014\nChange-Id: I53c4577eca5da3cbd6a03d78fb4edfcf662ca6e0\n""}]",1,867956,a41f17287f95c1884677a1e1a2b361ee9a90fa3a,5,1,1,11975,,,0,"DNM Test devstack's lib/neutron drop

Depends-On: https://review.opendev.org/c/openstack/devstack/+/865014
Change-Id: I53c4577eca5da3cbd6a03d78fb4edfcf662ca6e0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/867956/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,a41f17287f95c1884677a1e1a2b361ee9a90fa3a,drop-lib-neutron,,,0,0
openstack%2Faodh~868171,openstack/aodh,stable/victoria,Ief75ccdc0fe5c6a197fc05bc481a5be096447558,Ignore Gnocchi API error when the metric is not yet created,MERGED,2022-12-20 06:07:02.000000000,2022-12-20 10:06:29.000000000,2022-12-20 10:04:41.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 06:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c62a0b7887f9c6b974ebf37ad013abebc3666af1', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/853829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/855344\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n'}, {'number': 2, 'created': '2022-12-20 06:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/408640bb027b0a9d44bace80cc8a970b65958168', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/868171\nDepends-On: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/853829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/855349\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n'}, {'number': 3, 'created': '2022-12-20 06:55:08.000000000', 'files': ['aodh/api/controllers/v2/alarm_rules/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/4eaa8d64ece760837243b89caf8e43baf033d975', 'message': 'Ignore Gnocchi API error when the metric is not yet created\n\nChange 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of\nmetric aggregate API by Dynamic aggregate API.\n\nHowever the Dynamic aggregate API returns a different response code\n(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API\nerror when the metric associated with the aggregation does not exist.\n\nThis change adds 400 to the ignored response codes so that Aodh api\ndoes not return error even when the associated metric is not yet\ncreated in Gnocchi.\n\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/868170\n\nCloses-Bug: #1974682\nChange-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558\n(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)\n(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)\n(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)\n(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)\n'}]",4,868171,4eaa8d64ece760837243b89caf8e43baf033d975,11,2,3,32240,,,0,"Ignore Gnocchi API error when the metric is not yet created

Change 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 replaced usage of
metric aggregate API by Dynamic aggregate API.

However the Dynamic aggregate API returns a different response code
(not 404, but 400) in Gnocchi <= 4.4 and this is causing the direct API
error when the metric associated with the aggregation does not exist.

This change adds 400 to the ignored response codes so that Aodh api
does not return error even when the associated metric is not yet
created in Gnocchi.

Depends-On: https://review.opendev.org/c/openstack/aodh/+/868170

Closes-Bug: #1974682
Change-Id: Ief75ccdc0fe5c6a197fc05bc481a5be096447558
(cherry picked from commit 214be56b3865d4d5bc30eaf0cb4b56bde9577f8c)
(cherry picked from commit 2ad64b04e858565fb830ba207841b70edf5ff347)
(cherry picked from commit 231f404ad13bac69964f19b9b1bfa5a42c1f977a)
(cherry picked from commit 8454cac06a654bb1e4eea20e6a36417796a94d82)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/71/868171/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/api/controllers/v2/alarm_rules/gnocchi.py'],1,c62a0b7887f9c6b974ebf37ad013abebc3666af1,bug/1974682-stable/yoga-stable/xena-stable/wallaby-stable/victoria," # doesn't exists yet, it doesn't matter. return if e.code == 400 and 'Metrics not found' in e.message[""cause""]: # NOTE(tkajinam): Gnocchi<4.5 returns 400 instead of 404"," # doesn't exists yet, it doesn't matter",4,1
openstack%2Faodh~868170,openstack/aodh,stable/victoria,I4f631d224404460138f4050b1b981d577b592544,gnocchi: Use Dynamic Aggregates API,MERGED,2022-12-20 05:12:10.000000000,2022-12-20 10:05:41.000000000,2022-12-20 10:04:39.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 05:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f12e7e3abbe1380e6f7e28aba50583e2ed57cee7', 'message': 'gnocchi: Use Dynamic Aggregates API\n\nSwitch to using the Dynamic Aggregates API as the Metric Aggregation\nAPI is deprecated.\n\nWhen using the Dynamic Aggregates API, any aggregation using rates\ncan use the underlying base measures for the aggregation rather than\nthe rate, for example:\n\n    (aggregation rate:mean (metric cpu mean))\n\nThe tuple of data for each record returned via this API is encapsulated\nwith information about the aggregation used so adapt the sanitization\nfunction to deal with this and the formatting of the metrics measures\nAPI as well.\n\nChange-Id: I4f631d224404460138f4050b1b981d577b592544\nCloses-Bug: 1946793\n(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)\n(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)\n(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)\n'}, {'number': 2, 'created': '2022-12-20 05:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f25b0be61c355853ebede3097d9f35302c1507c2', 'message': 'gnocchi: Use Dynamic Aggregates API\n\nSwitch to using the Dynamic Aggregates API as the Metric Aggregation\nAPI is deprecated.\n\nWhen using the Dynamic Aggregates API, any aggregation using rates\ncan use the underlying base measures for the aggregation rather than\nthe rate, for example:\n\n    (aggregation rate:mean (metric cpu mean))\n\nThe tuple of data for each record returned via this API is encapsulated\nwith information about the aggregation used so adapt the sanitization\nfunction to deal with this and the formatting of the metrics measures\nAPI as well.\n\nChange-Id: I4f631d224404460138f4050b1b981d577b592544\nCloses-Bug: 1946793\n(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)\n(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)\n(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)\n'}, {'number': 3, 'created': '2022-12-20 05:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/7e2de953e14baf2bf10178577bb1e138022df4cf', 'message': 'gnocchi: Use Dynamic Aggregates API\n\nSwitch to using the Dynamic Aggregates API as the Metric Aggregation\nAPI is deprecated.\n\nWhen using the Dynamic Aggregates API, any aggregation using rates\ncan use the underlying base measures for the aggregation rather than\nthe rate, for example:\n\n    (aggregation rate:mean (metric cpu mean))\n\nThe tuple of data for each record returned via this API is encapsulated\nwith information about the aggregation used so adapt the sanitization\nfunction to deal with this and the formatting of the metrics measures\nAPI as well.\n\nChange-Id: I4f631d224404460138f4050b1b981d577b592544\nCloses-Bug: 1946793\n(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)\n(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)\n(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)\n'}, {'number': 4, 'created': '2022-12-20 05:37:33.000000000', 'files': ['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/4820d595bfe4c4280b77bcac7fd97660397bfe39', 'message': 'gnocchi: Use Dynamic Aggregates API\n\nSwitch to using the Dynamic Aggregates API as the Metric Aggregation\nAPI is deprecated.\n\nWhen using the Dynamic Aggregates API, any aggregation using rates\ncan use the underlying base measures for the aggregation rather than\nthe rate, for example:\n\n    (aggregation rate:mean (metric cpu mean))\n\nThe tuple of data for each record returned via this API is encapsulated\nwith information about the aggregation used so adapt the sanitization\nfunction to deal with this and the formatting of the metrics measures\nAPI as well.\n\nChange-Id: I4f631d224404460138f4050b1b981d577b592544\nCloses-Bug: 1946793\n(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)\n(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)\n(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)\n'}]",0,868170,4820d595bfe4c4280b77bcac7fd97660397bfe39,11,2,4,32240,,,0,"gnocchi: Use Dynamic Aggregates API

Switch to using the Dynamic Aggregates API as the Metric Aggregation
API is deprecated.

When using the Dynamic Aggregates API, any aggregation using rates
can use the underlying base measures for the aggregation rather than
the rate, for example:

    (aggregation rate:mean (metric cpu mean))

The tuple of data for each record returned via this API is encapsulated
with information about the aggregation used so adapt the sanitization
function to deal with this and the formatting of the metrics measures
API as well.

Change-Id: I4f631d224404460138f4050b1b981d577b592544
Closes-Bug: 1946793
(cherry picked from commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8)
(cherry picked from commit e6d55b1ea9ee852cc56002c865c9443b526f2f58)
(cherry picked from commit 27ee81a37acf097f572ffce1c4cd72f9987e0520)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/70/868170/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/api/controllers/v2/alarm_rules/gnocchi.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/evaluator/gnocchi.py']",5,f12e7e3abbe1380e6f7e28aba50583e2ed57cee7,bug/1946793-stable/xena-stable/wallaby-stable/victoria," # NOTE(jamespage) # Dynamic Aggregates are returned in a dict struct so # check for this first. if isinstance(statistics, dict): # Pop array of measures from aggregated subdict statistics = statistics['measures']['aggregated'] _operations = [ 'aggregate', rule['aggregation_method'] ] for metric in rule['metrics']: _operations.append( [ 'metric', metric, rule['aggregation_method'].lstrip('rate:') ] ) return self._gnocchi_client.aggregates.fetch( operations=_operations, try: # FIXME(sileht): In case of a heat autoscaling stack decide to # delete an instance, the gnocchi metrics associated to this # instance will be no more updated and when the alarm will ask # for the aggregation, gnocchi will raise a 'No overlap' # exception. # So temporary set 'needed_overlap' to 0 to disable the # gnocchi checks about missing points. For more detail see: # https://bugs.launchpad.net/gnocchi/+bug/1479429 return self._gnocchi_client.aggregates.fetch( operations=[ 'aggregate', rule['aggregation_method'], [ 'metric', rule['metric'], rule['aggregation_method'].lstrip('rate:') ] ], search=json.loads(rule['query']), needed_overlap=0)"," return self._gnocchi_client.metric.aggregation( metrics=rule['metrics'], aggregation=rule['aggregation_method'], # FIXME(sileht): In case of a heat autoscaling stack decide to # delete an instance, the gnocchi metrics associated to this # instance will be no more updated and when the alarm will ask # for the aggregation, gnocchi will raise a 'No overlap' # exception. # So temporary set 'needed_overlap' to 0 to disable the # gnocchi checks about missing points. For more detail see: # https://bugs.launchpad.net/gnocchi/+bug/1479429 try: return self._gnocchi_client.metric.aggregation( metrics=rule['metric'], query=json.loads(rule['query']), aggregation=rule['aggregation_method'], needed_overlap=0, )",287,54
openstack%2Ftripleo-ci~867957,openstack/tripleo-ci,master,I75f120b95675a471e52ebf7d8fd27172a3d57e1b,Made tripleo-ci-centos-8-standalone-ffu-wallaby voting,MERGED,2022-12-16 09:07:42.000000000,2022-12-20 09:58:57.000000000,2022-12-20 09:58:57.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-16 09:07:42.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b727ea9b021f842a788df40eca12585c8d04c7a9', 'message': 'Made tripleo-ci-centos-8-standalone-ffu-wallaby voting\n\nThe job is being ok for some days. It can be seen at [1].\nThere are a couple of failed jobs [2][3].\n\nThe [2] patch error seems relevant to me, I added a comment on\nthe patch.\nWe need to test [3] as it failed on the deployment.\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=tripleo-ci-centos-8-standalone-ffu-wallaby\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/867226/\n[3] https://review.opendev.org/c/openstack/tripleo-ansible/+/866565/\n\nChange-Id: I75f120b95675a471e52ebf7d8fd27172a3d57e1b\n'}]",5,867957,b727ea9b021f842a788df40eca12585c8d04c7a9,14,6,1,22954,,,0,"Made tripleo-ci-centos-8-standalone-ffu-wallaby voting

The job is being ok for some days. It can be seen at [1].
There are a couple of failed jobs [2][3].

The [2] patch error seems relevant to me, I added a comment on
the patch.
We need to test [3] as it failed on the deployment.

[1] https://zuul.opendev.org/t/openstack/builds?job_name=tripleo-ci-centos-8-standalone-ffu-wallaby
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/867226/
[3] https://review.opendev.org/c/openstack/tripleo-ansible/+/866565/

Change-Id: I75f120b95675a471e52ebf7d8fd27172a3d57e1b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/867957/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,b727ea9b021f842a788df40eca12585c8d04c7a9,standalone_ffu, voting: true, voting: false,1,1
openstack%2Fskyline-apiserver~868152,openstack/skyline-apiserver,master,I66a152c2c76d4984cc2fbf085e8c2d1da3701ece,fix: prometheus response 500,MERGED,2022-12-20 03:46:30.000000000,2022-12-20 09:33:39.000000000,2022-12-20 09:31:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-12-20 03:46:30.000000000', 'files': ['skyline_apiserver/api/v1/prometheus.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/7f363390c86fc3f4acb464c1d2d3ce74013b5148', 'message': 'fix: prometheus response 500\n\nAPI /query_range always report 500 error\n\nBug: 1999839\nChange-Id: I66a152c2c76d4984cc2fbf085e8c2d1da3701ece\n'}]",0,868152,7f363390c86fc3f4acb464c1d2d3ce74013b5148,7,2,1,33196,,,0,"fix: prometheus response 500

API /query_range always report 500 error

Bug: 1999839
Change-Id: I66a152c2c76d4984cc2fbf085e8c2d1da3701ece
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/52/868152/1 && git format-patch -1 --stdout FETCH_HEAD,['skyline_apiserver/api/v1/prometheus.py'],1,7f363390c86fc3f4acb464c1d2d3ce74013b5148,," schemas.PrometheusQueryRangeResult(metric=i[""metric""], value=i[""values""])"," schemas.PrometheusQueryRangeResult(metric=i[""metric""], values=i[""values""])",1,1
openstack%2Fpuppet-heat~867812,openstack/puppet-heat,stable/wallaby,I6d026ec9cc37d847def0e04e583a01891d19877e,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:24:26.000000000,2022-12-20 09:31:36.000000000,2022-12-20 09:31:36.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/1f8169a078ab8edd00b826d590f55c97c4fa2029', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I6d026ec9cc37d847def0e04e583a01891d19877e\n'}, {'number': 2, 'created': '2022-12-15 15:37:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/faba78ec1e003b9f281acc3de64be1d642aa2c1a', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I6d026ec9cc37d847def0e04e583a01891d19877e\n'}]",0,867812,faba78ec1e003b9f281acc3de64be1d642aa2c1a,9,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I6d026ec9cc37d847def0e04e583a01891d19877e
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/12/867812/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1f8169a078ab8edd00b826d590f55c97c4fa2029,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-heat-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-heat-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Heat specific Tempest tests. voting: false vars: *standalone_vars,3,11
openstack%2Fpuppet-neutron~867815,openstack/puppet-neutron,stable/wallaby,I23cc39f081aa119d4001813b28ef27ca840f6997,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:26:37.000000000,2022-12-20 09:30:54.000000000,2022-12-20 09:30:54.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ff17d0e999836641cdadd0f2ae268c69a0f6c55b', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I23cc39f081aa119d4001813b28ef27ca840f6997\n'}, {'number': 2, 'created': '2022-12-15 15:37:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c9d467f180e7072c97ebf84250499f548bd5f52a', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I23cc39f081aa119d4001813b28ef27ca840f6997\n'}]",0,867815,c9d467f180e7072c97ebf84250499f548bd5f52a,8,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I23cc39f081aa119d4001813b28ef27ca840f6997
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/15/867815/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ff17d0e999836641cdadd0f2ae268c69a0f6c55b,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-neutron-tripleo-centos-9-standalone gate: jobs: - puppet-neutron-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - tripleo-puppet-ci-centos-8-content-provider - job: name: puppet-neutron-tripleo-centos-9-standalone voting: false parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Neutron specific Tempest tests. vars: *standalone_vars dependencies:,3,16
openstack%2Fpuppet-nova~867817,openstack/puppet-nova,stable/wallaby,I317bfb9933bf857c04fe92f22399fb888642b025,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:27:14.000000000,2022-12-20 09:05:47.000000000,2022-12-20 09:05:47.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c6db8f117b52adc8ae6b2e8df173eb0f6b49c962', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I317bfb9933bf857c04fe92f22399fb888642b025\n'}, {'number': 2, 'created': '2022-12-15 15:37:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/65b15ada5edc6b00ddafaa8f445d0d0120eede1d', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I317bfb9933bf857c04fe92f22399fb888642b025\n'}]",0,867817,65b15ada5edc6b00ddafaa8f445d0d0120eede1d,8,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I317bfb9933bf857c04fe92f22399fb888642b025
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/17/867817/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c6db8f117b52adc8ae6b2e8df173eb0f6b49c962,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-nova-tripleo-centos-9-standalone gate: jobs: - puppet-nova-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-nova-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Nova specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Fpuppet-keystone~867814,openstack/puppet-keystone,stable/wallaby,I2a095f3391dc12e242daad2c214bff0b8f41abf1,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:25:07.000000000,2022-12-20 08:53:25.000000000,2022-12-20 08:53:25.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/385b45498b8b80836dbdedbe660d7ed6fb3f18de', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I2a095f3391dc12e242daad2c214bff0b8f41abf1\n'}, {'number': 2, 'created': '2022-12-15 15:37:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/14b926598bd004148a9d919e7794733a2a1ba73a', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I2a095f3391dc12e242daad2c214bff0b8f41abf1\n'}]",0,867814,14b926598bd004148a9d919e7794733a2a1ba73a,8,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I2a095f3391dc12e242daad2c214bff0b8f41abf1
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/14/867814/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,385b45498b8b80836dbdedbe660d7ed6fb3f18de,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-keystone-tripleo-centos-9-standalone gate: jobs: - puppet-keystone-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-keystone-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Identity specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Fneutron~865822,openstack/neutron,master,I5e9a25917096bea85596411f070c9623b82ceef3,DNM Just testing drop of lib/neutron from Devstack,ABANDONED,2022-11-28 10:58:36.000000000,2022-12-20 08:47:10.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 10:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21ad706c5f3c83fed3f3c3ad66671ae2c71dcf7c', 'message': 'DNM Just testing drop of lib/neutron from Devstack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/865015/\nChange-Id: I5e9a25917096bea85596411f070c9623b82ceef3\n'}, {'number': 2, 'created': '2022-12-16 09:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7ad7b0fff85361dd4e64e7363bec0f78d111be7', 'message': 'DNM Just testing drop of lib/neutron from Devstack\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/865014\nChange-Id: I5e9a25917096bea85596411f070c9623b82ceef3\n'}]",13,865822,b7ad7b0fff85361dd4e64e7363bec0f78d111be7,46,2,2,11975,,,0,"DNM Just testing drop of lib/neutron from Devstack

Depends-On: https://review.opendev.org/c/openstack/devstack/+/865014
Change-Id: I5e9a25917096bea85596411f070c9623b82ceef3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/865822/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,21ad706c5f3c83fed3f3c3ad66671ae2c71dcf7c,drop-lib-neutron,,,0,0
openstack%2Fpuppet-horizon~867820,openstack/puppet-horizon,stable/wallaby,I31f4733545db4e2f2f56748b22adb7d03bdc2d1d,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:29:32.000000000,2022-12-20 08:45:23.000000000,2022-12-20 08:45:23.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/4c9af13a46b05e1fb7f3bd9c92468fe7dca1a1b4', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I31f4733545db4e2f2f56748b22adb7d03bdc2d1d\n'}, {'number': 2, 'created': '2022-12-15 15:37:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d8e53f6eaca04b2cec370c831d0d8afaf4069f8f', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I31f4733545db4e2f2f56748b22adb7d03bdc2d1d\n'}]",0,867820,d8e53f6eaca04b2cec370c831d0d8afaf4069f8f,8,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I31f4733545db4e2f2f56748b22adb7d03bdc2d1d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/20/867820/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4c9af13a46b05e1fb7f3bd9c92468fe7dca1a1b4,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-horizon-tripleo-centos-9-standalone gate: jobs: - puppet-horizon-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-horizon-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Horizon specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Fdevstack~865014,openstack/devstack,master,Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0,Drop lib/neutron module,MERGED,2022-11-18 10:49:18.000000000,2022-12-20 08:16:43.000000000,2022-12-19 21:01:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-18 10:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f6fad7cb669605e2d7420d15b36b123191b224c5', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 2, 'created': '2022-11-18 10:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/adc84bf6001e2fdcfd32651e78deae37bfb251ce', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 3, 'created': '2022-11-24 10:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/75e8002d1f0401d88ef2ebcfcd59718453523e35', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 4, 'created': '2022-11-24 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9a346b26497ea9b89c60554e890851c0fe0d2774', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 5, 'created': '2022-11-24 14:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8704f3745c71c7cef15f0534f75afdee7931b1ce', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 6, 'created': '2022-11-24 14:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3bdeaf50eb0a20c254af72d43ce5be950f0c6f51', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 7, 'created': '2022-11-24 14:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f834f9a14787570c4025d3d20192ef211c02216', 'message': ""Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn't really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it's time to remove\nit from the devstack code.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n""}, {'number': 8, 'created': '2022-11-28 10:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab0b53738f546c18c62e119fd48245680dfeae30', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 9, 'created': '2022-11-29 13:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/77c3be4d45baabc23fb553d5ffc30d52d286c478', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 10, 'created': '2022-11-30 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1cd02465c5aa4c39dceec97b6f8ef6e5a1d11294', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 11, 'created': '2022-12-05 13:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a4802fce7a74a177f36e28cec4a16c4ad3784fa7', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/866576\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 12, 'created': '2022-12-06 11:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd49f38d72c808154d59b1ec756b01b63f011369', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/866576\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 13, 'created': '2022-12-07 11:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0935c0d587ed78e1c2429a529ea0e1b704dfc093', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 14, 'created': '2022-12-08 10:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/03b54ae6a63eaf3372dd27b974827684525d02c2', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}, {'number': 15, 'created': '2022-12-16 09:01:43.000000000', 'files': ['lib/neutron_plugins/services/l3', 'lib/neutron_plugins/linuxbridge_agent', 'clean.sh', 'lib/neutron', 'lib/neutron_plugins/openvswitch_agent', 'lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/bigswitch_floodlight', 'lib/neutron_plugins/services/metering', 'lib/neutron_plugins/ml2', 'lib/tempest', 'lib/neutron-legacy', 'lib/neutron_plugins/services/qos', 'lib/neutron_plugins/brocade', 'lib/neutron_plugins/README.md'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a52041cd3f067156e478e355f5712a60e12ce649', 'message': 'Drop lib/neutron module\n\nModule lib/neutron was introduced long time ago as new module to deploy\nneutron. It was intended to replace old lib/neutron-legacy module. But\nsince very long time it wasn\'t really finished and used by anyone and\nlib/neutron-legacy is defacto standard module used by everyone to deploy\nneutron with devstack.\nIn [1] unfinished lib/neutron was deprecated and now it\'s time to remove\nit from the devstack code.\n\nThis patch also renames old ""lib/neutron-legacy"" module to be\n""lib/neutron"" now.\n\nPreviously ""old"" lib/neutron-legacy module was accepting neutron\nservices names wit ""q-"" prefix and ""new"" lib/neutron module was accepting\nservices with ""neutron-"" prefix. Now, as there is only one module it\naccepts both prefixes.\nFor historical reasons and to be consistent with old lib/neutron-legacy\nwhich was widely used everywhere, services will be named with ""q-""\nprefix but both prefixes will be accepted to enable or disable services.\n\nThis patch also moves _configure_neutron_service function to be called\nat the end of the ""configure_neutron"" after all agents and service\nplugins are already configured.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/823653\n\nRelated-bug: #1996748\n\nChange-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0\n'}]",22,865014,a52041cd3f067156e478e355f5712a60e12ce649,45,6,15,11975,,,0,"Drop lib/neutron module

Module lib/neutron was introduced long time ago as new module to deploy
neutron. It was intended to replace old lib/neutron-legacy module. But
since very long time it wasn't really finished and used by anyone and
lib/neutron-legacy is defacto standard module used by everyone to deploy
neutron with devstack.
In [1] unfinished lib/neutron was deprecated and now it's time to remove
it from the devstack code.

This patch also renames old ""lib/neutron-legacy"" module to be
""lib/neutron"" now.

Previously ""old"" lib/neutron-legacy module was accepting neutron
services names wit ""q-"" prefix and ""new"" lib/neutron module was accepting
services with ""neutron-"" prefix. Now, as there is only one module it
accepts both prefixes.
For historical reasons and to be consistent with old lib/neutron-legacy
which was widely used everywhere, services will be named with ""q-""
prefix but both prefixes will be accepted to enable or disable services.

This patch also moves _configure_neutron_service function to be called
at the end of the ""configure_neutron"" after all agents and service
plugins are already configured.

[1] https://review.opendev.org/c/openstack/devstack/+/823653

Related-bug: #1996748

Change-Id: Ibf1c8b2ee6b6618f77cd8486e9c687993d7cb4a0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/865014/1 && git format-patch -1 --stdout FETCH_HEAD,"['clean.sh', 'lib/neutron', 'lib/neutron_plugins/services/metering', 'unstack.sh', 'lib/neutron_plugins/services/qos', 'lib/neutron_plugins/ml2', 'lib/neutron-legacy', 'stack.sh']",8,f6fad7cb669605e2d7420d15b36b123191b224c5,drop-lib-neutron,source $TOP_DIR/lib/neutron-legacy,source $TOP_DIR/lib/neutron,91,814
openstack%2Fskyline-console~868067,openstack/skyline-console,master,I2882a63e58c5b2843b9c8e6070b6708d16c40b94,fix: reset the subnet list when create cluster instance,MERGED,2022-12-19 11:17:46.000000000,2022-12-20 02:25:00.000000000,2022-12-20 02:22:50.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-19 11:17:46.000000000', 'files': ['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d48aca89a4289bdea809c625bbe25f9741f3dac0', 'message': 'fix: reset the subnet list when create cluster instance\n\nthe subnet list was not changed when the fixed network changed, fix the update context to solve this problem\n\nChange-Id: I2882a63e58c5b2843b9c8e6070b6708d16c40b94\n'}]",0,868067,d48aca89a4289bdea809c625bbe25f9741f3dac0,7,2,1,33689,,,0,"fix: reset the subnet list when create cluster instance

the subnet list was not changed when the fixed network changed, fix the update context to solve this problem

Change-Id: I2882a63e58c5b2843b9c8e6070b6708d16c40b94
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/67/868067/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx'],1,d48aca89a4289bdea809c625bbe25f9741f3dac0,fix-magnum-bugs,, }); this.updateContext({,0,2
openstack%2Fswift~861763,openstack/swift,stable/zed,I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b,Migrate CentOS Stream 8 FIPS job to CentOS Stream 9,MERGED,2022-10-18 14:15:36.000000000,2022-12-20 01:55:53.000000000,2022-12-20 01:54:18.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 14:15:36.000000000', 'files': ['.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/swift/commit/6fd031055c951dc84a8f80252985b80edb5a6971', 'message': 'Migrate CentOS Stream 8 FIPS job to CentOS Stream 9\n\nChange-Id: I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b\n'}]",3,861763,6fd031055c951dc84a8f80252985b80edb5a6971,16,2,1,34120,,,0,"Migrate CentOS Stream 8 FIPS job to CentOS Stream 9

Change-Id: I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/861763/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/test-setup.sh']",2,6fd031055c951dc84a8f80252985b80edb5a6971,,"function is_rhel9 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 9' } if is_rhel9; then # Install CentOS OpenStack repos so that we have access to some extra # packages. sudo dnf install -y centos-release-openstack-yoga sudo dnf install -y liberasurecode-devel fi",,35,23
openstack%2Fswift~868132,openstack/swift,stable/zed,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2022-12-19 23:01:09.000000000,2022-12-20 01:48:53.000000000,2022-12-20 01:47:45.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 23:01:09.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f37cf45f7082a8b2c3c015913b9302e41b3699ac', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)\n'}]",1,868132,f37cf45f7082a8b2c3c015913b9302e41b3699ac,8,2,1,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
(cherry picked from commit 597887dedcf1f2c855edfd1c591d4f30222be580)
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/868132/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,f37cf45f7082a8b2c3c015913b9302e41b3699ac,,from swift.common.swob import Request,"from argparse import Namespaceimport types import eventlet.wsgiimport sixfrom swift.common.swob import Request, wsgi_to_bytesclass TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",608,567
openstack%2Fswift~866801,openstack/swift,master,Iae28097668213aa0734837ff21aef83251167d19,Inline parse_request from cpython,MERGED,2022-12-06 20:23:55.000000000,2022-12-19 23:00:52.000000000,2022-12-19 21:28:51.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-06 20:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eda3ec61b96f37ccb344b7e0812d3763d6fdc493', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n'}, {'number': 2, 'created': '2022-12-06 23:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f352bbd536cbad69f7a32ff45c8bde0d09e26e0b', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n'}, {'number': 3, 'created': '2022-12-07 00:27:15.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/884f5538f8fb187b6ff18316249f1bd4b97b0952', 'message': 'Inline parse_request from cpython\n\nApplied deltas:\n\n- Fix http.client references\n- Inline HTTPStatus codes\n- Address request line splitting (https://bugs.python.org/issue33973)\n- Special-case py2 header-parsing\n- Address multiple leading slashes in request path\n  (https://github.com/python/cpython/issues/99220)\n\nChange-Id: Iae28097668213aa0734837ff21aef83251167d19\n'}]",39,866801,884f5538f8fb187b6ff18316249f1bd4b97b0952,21,4,3,15343,,,0,"Inline parse_request from cpython

Applied deltas:

- Fix http.client references
- Inline HTTPStatus codes
- Address request line splitting (https://bugs.python.org/issue33973)
- Special-case py2 header-parsing
- Address multiple leading slashes in request path
  (https://github.com/python/cpython/issues/99220)

Change-Id: Iae28097668213aa0734837ff21aef83251167d19
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/866801/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py']",2,eda3ec61b96f37ccb344b7e0812d3763d6fdc493,,"from six.moves import http_client """"""Parse a request (inlined from cpython@7e293984). The request should be stored in self.raw_requestline; the results are in self.command, self.path, self.request_version and self.headers. Return True for success, False for failure; on failure, any relevant error response has already been sent back. """""" self.command = None # set in case of error on the first line self.request_version = version = self.default_request_version self.close_connection = True requestline = self.raw_requestline if not six.PY2: requestline = requestline.decode('iso-8859-1') requestline = requestline.rstrip('\r\n') self.requestline = requestline # Split off \x20 explicitly (see https://bugs.python.org/issue33973) words = requestline.split(' ') if len(words) == 0: return False if len(words) >= 3: # Enough to determine protocol version version = words[-1] try: if not version.startswith('HTTP/'): raise ValueError base_version_number = version.split('/', 1)[1] version_number = base_version_number.split(""."") # RFC 2145 section 3.1 says there can be only one ""."" and # - major and minor numbers MUST be treated as # separate integers; # - HTTP/2.4 is a lower version than HTTP/2.13, which in # turn is lower than HTTP/12.3; # - Leading zeros MUST be ignored by recipients. if len(version_number) != 2: raise ValueError version_number = int(version_number[0]), int(version_number[1]) except (ValueError, IndexError): self.send_error( 400, ""Bad request version (%r)"" % version) return False if version_number >= (1, 1) and self.protocol_version >= ""HTTP/1.1"": self.close_connection = False if version_number >= (2, 0): self.send_error( 505, ""Invalid HTTP version (%s)"" % base_version_number) return False self.request_version = version if not 2 <= len(words) <= 3: self.send_error( 400, ""Bad request syntax (%r)"" % requestline) return False command, path = words[:2] if len(words) == 2: self.close_connection = True if command != 'GET': self.send_error( 400, ""Bad HTTP/0.9 request type (%r)"" % command) return False self.command, self.path = command, path # gh-87389: The purpose of replacing '//' with '/' is to protect # against open redirect attacks possibly triggered if the path starts # with '//' because http clients treat //path as an absolute URI # without scheme (similar to http://path) rather than a path. if self.path.startswith('//'): self.path = '/' + self.path.lstrip('/') # Reduce to a single / # Examine the headers and look for a Connection directive. if six.PY2: self.headers = self.MessageClass(self.rfile, 0) else: try: self.headers = http_client.parse_headers(self.rfile, _class=self.MessageClass) except http_client.LineTooLong as err: self.send_error( 431, ""Line too long"", str(err)) return False except http_client.HTTPException as err: self.send_error( 431, ""Too many headers"", str(err) ) return False conntype = self.headers.get('Connection', """") if conntype.lower() == 'close': self.close_connection = True elif (conntype.lower() == 'keep-alive' and self.protocol_version >= ""HTTP/1.1""): self.close_connection = False # Examine the headers and look for an Expect directive expect = self.headers.get('Expect', """") if (expect.lower() == ""100-continue"" and self.protocol_version >= ""HTTP/1.1"" and self.request_version >= ""HTTP/1.1""): if not self.handle_expect_100(): return False return True"," # Need to track the bytes-on-the-wire for S3 signatures -- eventlet # would do it for us, but since we rewrite the path on py3, we need to # fix it ourselves later. self.__raw_path_info = None if not six.PY2: # request lines *should* be ascii per the RFC, but historically # we've allowed (and even have func tests that use) arbitrary # bytes. This breaks on py3 (see https://bugs.python.org/issue33973 # ) but the work-around is simple: munge the request line to be # properly quoted. if self.raw_requestline.count(b' ') >= 2: parts = self.raw_requestline.split(b' ', 2) path, q, query = parts[1].partition(b'?') self.__raw_path_info = path # unquote first, so we don't over-quote something # that was *correctly* quoted path = wsgi_to_bytes(wsgi_quote(wsgi_unquote( bytes_to_wsgi(path)))) query = b'&'.join( sep.join([ wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(key)))), wsgi_to_bytes(wsgi_quote_plus(wsgi_unquote_plus( bytes_to_wsgi(val)))) ]) for part in query.split(b'&') for key, sep, val in (part.partition(b'='), )) parts[1] = path + q + query self.raw_requestline = b' '.join(parts) # else, mangled protocol, most likely; let base class deal with it return wsgi.HttpProtocol.parse_request(self) environ['RAW_PATH_INFO'] = bytes_to_wsgi( self.__raw_path_info)",177,77
openstack%2Fironic~868023,openstack/ironic,stable/yoga,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,MERGED,2022-12-19 19:04:56.000000000,2022-12-19 22:21:44.000000000,2022-12-19 22:20:23.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 19:04:56.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26573bed3aa64f8fdb81cada528d30373060c766', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868023,26573bed3aa64f8fdb81cada528d30373060c766,11,2,1,6618,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/868023/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml']",3,26573bed3aa64f8fdb81cada528d30373060c766,,"--- fixes: - | Fixes a race condition in PXE initialization where logic to retry what we suspect as potentially failed PXE boot operations was not consulting if an ``agent token`` had been established, which is the very first step in agent initialization. ",,25,0
openstack%2Fswift~866654,openstack/swift,stable/wallaby,Ic099fdc3925bf99f8528c7aa763b651c19df1322,py36: Fix syslog fallback to UDP,MERGED,2022-12-06 14:01:26.000000000,2022-12-19 22:15:53.000000000,2022-12-19 22:14:41.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-06 14:01:26.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/73c53dd77ac2d8c4a4e898ba8a15a4f373ac20da', 'message': 'py36: Fix syslog fallback to UDP\n\nWith py2 the SysLogHandler would raise an error if it could not\nconnect to the configured log_address socket. This prompted the\nutils.get_logger() method to fallback to using UDP. With py3 an error\nis not raised [1], so the fallback never happens. In that scenario,\nexceptions are raised when swift services are started and attempt to\nlog.\n\nThis patch modifies get_logger() to test if the log_address is a socket\nbefore instantiating a SysLogHandler and fallback to UDP if not a socket.\n\n[1] https://github.com/python/cpython/blob/master/Lib/logging/handlers.py#L833-L842\n\nChange-Id: Ic099fdc3925bf99f8528c7aa763b651c19df1322\n(cherry picked from commit c7d56fa9c57a18473da166254c01f4abc44c7ee3)\n'}]",3,866654,73c53dd77ac2d8c4a4e898ba8a15a4f373ac20da,13,2,1,6968,,,0,"py36: Fix syslog fallback to UDP

With py2 the SysLogHandler would raise an error if it could not
connect to the configured log_address socket. This prompted the
utils.get_logger() method to fallback to using UDP. With py3 an error
is not raised [1], so the fallback never happens. In that scenario,
exceptions are raised when swift services are started and attempt to
log.

This patch modifies get_logger() to test if the log_address is a socket
before instantiating a SysLogHandler and fallback to UDP if not a socket.

[1] https://github.com/python/cpython/blob/master/Lib/logging/handlers.py#L833-L842

Change-Id: Ic099fdc3925bf99f8528c7aa763b651c19df1322
(cherry picked from commit c7d56fa9c57a18473da166254c01f4abc44c7ee3)
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/866654/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/test_utils.py']",2,73c53dd77ac2d8c4a4e898ba8a15a4f373ac20da,p-syslog-handler-stable/wallaby," @with_tempdir def test_get_logger_sysloghandler_plumbing(self, tempdir): # default log_address expected_args = [ ((), {'facility': orig_sysloghandler.LOG_LOCAL3})] # custom log_address - file doesn't exist: fallback to UDP log_address = os.path.join(tempdir, 'foo') 'log_address': log_address, expected_args = [ ((), {'facility': orig_sysloghandler.LOG_LOCAL3})] expected_args, syslog_handler_args) # custom log_address - file exists, not a socket: fallback to UDP with open(log_address, 'w'): pass syslog_handler_args = [] utils.get_logger({ 'log_facility': 'LOG_LOCAL3', 'log_address': log_address, }, 'server', log_route='server') expected_args = [ ((), {'facility': orig_sysloghandler.LOG_LOCAL3})] self.assertEqual( expected_args, syslog_handler_args) # custom log_address - file exists, is a socket: use it os.unlink(log_address) with contextlib.closing( socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)) as sock: sock.settimeout(5) sock.bind(log_address) syslog_handler_args = [] utils.get_logger({ 'log_facility': 'LOG_LOCAL3', 'log_address': log_address, }, 'server', log_route='server') expected_args = [ ((), {'address': log_address, 'facility': orig_sysloghandler.LOG_LOCAL3})] self.assertEqual( expected_args, syslog_handler_args) with mock.patch.object(utils, 'ThreadSafeSysLogHandler', side_effect=OSError(errno.EPERM, 'oops')): with self.assertRaises(OSError) as cm: utils.get_logger({ 'log_facility': 'LOG_LOCAL3', 'log_address': 'log_address', }, 'server', log_route='server') self.assertEqual(errno.EPERM, cm.exception.errno) "," def test_get_logger_sysloghandler_plumbing(self): expected_args.append( ((), {'facility': orig_sysloghandler.LOG_LOCAL3})) 'log_address': '/foo/bar', ((), {'address': '/foo/bar', 'facility': orig_sysloghandler.LOG_LOCAL3}), syslog_handler_args[0])",60,11
openstack%2Fswift~868007,openstack/swift,stable/zed,Ibe67b1a485350967e37809ba8575a33eba56ee97,Mark rolling-upgrade job non-voting,MERGED,2022-12-16 23:11:20.000000000,2022-12-19 21:44:15.000000000,2022-12-19 21:42:30.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 23:11:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/c8662c6f0ef8b9f321234add40263d0947623c09', 'message': ""Mark rolling-upgrade job non-voting\n\nUpstream CPython broke our HTTP parsing; while we can fix our own\nHttpProtocol, previous tags won't have the fix (naturally).\n\nSee also: https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\nand https://github.com/python/cpython/issues/99220\n\nChange-Id: Ibe67b1a485350967e37809ba8575a33eba56ee97\nRelated-Change: https://review.opendev.org/c/openstack/swift/+/863441\nRelated-Change: https://review.opendev.org/c/openstack/swift/+/866801\n(cherry picked from commit d1b2bbdcf0421691c0e45bf51084622c8f474116)\n""}]",2,868007,c8662c6f0ef8b9f321234add40263d0947623c09,9,2,1,15343,,,0,"Mark rolling-upgrade job non-voting

Upstream CPython broke our HTTP parsing; while we can fix our own
HttpProtocol, previous tags won't have the fix (naturally).

See also: https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e
and https://github.com/python/cpython/issues/99220

Change-Id: Ibe67b1a485350967e37809ba8575a33eba56ee97
Related-Change: https://review.opendev.org/c/openstack/swift/+/863441
Related-Change: https://review.opendev.org/c/openstack/swift/+/866801
(cherry picked from commit d1b2bbdcf0421691c0e45bf51084622c8f474116)
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/868007/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c8662c6f0ef8b9f321234add40263d0947623c09,, voting: false, - swift-multinode-rolling-upgrade: irrelevant-files: *functest-irrelevant-files,1,2
openstack%2Fpuppet-placement~867818,openstack/puppet-placement,stable/wallaby,I64030ea07792ca54d3e6c7bf43f0251e63e9e9b2,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:27:54.000000000,2022-12-19 21:37:42.000000000,2022-12-19 21:37:42.000000000,"[{'_account_id': 8449}, {'_account_id': 14611}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/ead646a5a65af3cfa90d8c4f589415708391c10e', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I64030ea07792ca54d3e6c7bf43f0251e63e9e9b2\n'}, {'number': 2, 'created': '2022-12-15 15:37:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/6707057402365a3e0d025e4e48ce08bb9e05ba69', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I64030ea07792ca54d3e6c7bf43f0251e63e9e9b2\n'}]",1,867818,6707057402365a3e0d025e4e48ce08bb9e05ba69,12,4,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I64030ea07792ca54d3e6c7bf43f0251e63e9e9b2
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/18/867818/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ead646a5a65af3cfa90d8c4f589415708391c10e,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-placement-tripleo-centos-9-standalone gate: jobs: - puppet-placement-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-placement-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Placement specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Fswift~799865,openstack/swift,master,I35cade2c46eb6acb66c064cde75d78173f46864c,Extract SwiftHttpProtocol to its own module,MERGED,2021-07-07 16:37:27.000000000,2022-12-19 21:29:49.000000000,2022-12-19 21:28:48.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 16:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd196dc8399948299c5e17fee7164e5d4de1b7bf', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n'}, {'number': 2, 'created': '2022-04-25 20:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/466cc0b517321171c3c2086baa3ea555e79519ac', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n'}, {'number': 3, 'created': '2022-04-26 18:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2682d2b36165821bb609ff262e19b73b21b37d2', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n'}, {'number': 4, 'created': '2022-12-06 19:16:37.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/597887dedcf1f2c855edfd1c591d4f30222be580', 'message': 'Extract SwiftHttpProtocol to its own module\n\nChange-Id: I35cade2c46eb6acb66c064cde75d78173f46864c\n'}]",21,799865,597887dedcf1f2c855edfd1c591d4f30222be580,27,3,4,15343,,,0,"Extract SwiftHttpProtocol to its own module

Change-Id: I35cade2c46eb6acb66c064cde75d78173f46864c
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/799865/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/common/test_http_protocol.py', 'test/functional/__init__.py', 'test/unit/helpers.py', 'swift/common/http_protocol.py', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",7,cd196dc8399948299c5e17fee7164e5d4de1b7bf,,"from swift.common import wsgi, utils, http_protocol self.assertEqual(proto_class, http_protocol.SwiftHttpProtocol) self.assertEqual(proto_class, http_protocol.SwiftHttpProxiedProtocol)","from swift.common import wsgi, utils self.assertEqual(proto_class, wsgi.SwiftHttpProtocol) self.assertEqual(proto_class, wsgi.SwiftHttpProxiedProtocol)class TestSwiftHttpProtocol(unittest.TestCase): def _proto_obj(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. proto_class = wsgi.SwiftHttpProtocol try: the_obj = types.InstanceType(proto_class) except AttributeError: the_obj = proto_class.__new__(proto_class) # Install some convenience mocks the_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) the_obj.send_error = mock.Mock() return the_obj def test_swift_http_protocol_log_request(self): proto_obj = self._proto_obj() self.assertEqual(None, proto_obj.log_request('ignored')) def test_swift_http_protocol_log_message(self): proto_obj = self._proto_obj() proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.error('ERROR WSGI: a%sc', 'b')], proto_obj.server.app.logger.mock_calls) def test_swift_http_protocol_log_message_no_logger(self): # If the app somehow had no logger attribute or it was None, don't blow # up proto_obj = self._proto_obj() delattr(proto_obj.server.app, 'logger') proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) proto_obj.server.log.reset_mock() proto_obj.server.app.logger = None proto_obj.log_message('a%sc', 'b') self.assertEqual([mock.call.info('ERROR WSGI: a%sc', 'b')], proto_obj.server.log.mock_calls) def test_swift_http_protocol_parse_request_no_proxy(self): proto_obj = self._proto_obj() proto_obj.raw_requestline = b'jimmy jam' proto_obj.client_address = ('a', '123') self.assertEqual(False, proto_obj.parse_request()) self.assertEqual([ mock.call(400, ""Bad HTTP/0.9 request type ('jimmy')""), ], proto_obj.send_error.mock_calls) self.assertEqual(('a', '123'), proto_obj.client_address) def test_request_line_cleanup(self): def do_test(line_from_socket, expected_line=None): if expected_line is None: expected_line = line_from_socket proto_obj = self._proto_obj() proto_obj.raw_requestline = line_from_socket with mock.patch('swift.common.wsgi.wsgi.HttpProtocol') \ as mock_super: proto_obj.parse_request() self.assertEqual([mock.call.parse_request(proto_obj)], mock_super.mock_calls) self.assertEqual(proto_obj.raw_requestline, expected_line) do_test(b'GET / HTTP/1.1') do_test(b'GET /%FF HTTP/1.1') if not six.PY2: do_test(b'GET /\xff HTTP/1.1', b'GET /%FF HTTP/1.1') do_test(b'PUT /Here%20Is%20A%20SnowMan:\xe2\x98\x83 HTTP/1.0', b'PUT /Here%20Is%20A%20SnowMan%3A%E2%98%83 HTTP/1.0') do_test( b'POST /?and%20it=fixes+params&' b'PALMTREE=\xf0%9f\x8c%b4 HTTP/1.1', b'POST /?and+it=fixes+params&PALMTREE=%F0%9F%8C%B4 HTTP/1.1') class ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): rfile = BytesIO(bytes_from_client) wfile = BytesIO() # All this fakery is needed to make the WSGI server process one # connection, possibly with multiple requests, in the main # greenthread. It doesn't hurt correctness if the function is called # in a separate greenthread, but it makes using the debugger harder. class FakeGreenthread(object): def link(self, a_callable, *args): a_callable(self, *args) class FakePool(object): def spawn(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) return FakeGreenthread() def spawn_n(self, a_callable, *args, **kwargs): a_callable(*args, **kwargs) def waitall(self): pass addr = ('127.0.0.1', 8359) fake_tcp_socket = mock.Mock( setsockopt=lambda *a: None, makefile=lambda mode, bufsize: rfile if 'r' in mode else wfile, getsockname=lambda *a: addr ) fake_listen_socket = mock.Mock( accept=mock.MagicMock( side_effect=[[fake_tcp_socket, addr], # KeyboardInterrupt breaks the WSGI server out of # its infinite accept-process-close loop. KeyboardInterrupt]), getsockname=lambda *a: addr) del fake_listen_socket.do_handshake # If we let the WSGI server close rfile/wfile then we can't access # their contents any more. with mock.patch.object(wfile, 'close', lambda: None), \ mock.patch.object(rfile, 'close', lambda: None): eventlet.wsgi.server( fake_listen_socket, self.app, protocol=self.protocol_class, custom_pool=FakePool(), log_output=False, # quiet the test run ) return wfile.getvalue() class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] def test_request_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 4433\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 4433"", b""https is <missing> (scheme http)"", ]) def test_request_with_proxy_https(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-3:], [ b""got addr: 192.168.0.1 56423"", b""on addr: 192.168.0.11 443"", b""https is on (scheme https)"", ]) def test_multiple_requests_with_proxy(self): bytes_out = self._run_bytes_through_protocol(( b""PROXY TCP4 192.168.0.1 192.168.0.11 56423 443\r\n"" b""GET /someurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" b""GET /otherurl HTTP/1.1\r\n"" b""User-Agent: something or other\r\n"" b""Connection: close\r\n"" b""\r\n"" )) lines = bytes_out.split(b""\r\n"") self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check # the address in the PROXY line is applied to every request addr_lines = [l for l in lines if l.startswith(b""got addr"")] self.assertEqual(addr_lines, [b""got addr: 192.168.0.1 56423""] * 2) addr_lines = [l for l in lines if l.startswith(b""on addr"")] self.assertEqual(addr_lines, [b""on addr: 192.168.0.11 443""] * 2) addr_lines = [l for l in lines if l.startswith(b""https is"")] self.assertEqual(addr_lines, [b""https is on (scheme https)""] * 2) def test_missing_proxy_line(self): bytes_out = self._run_bytes_through_protocol(( # whoops, no PROXY line here b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_malformed_proxy_lines(self): for bad_line in [b'PROXY jojo', b'PROXYjojo a b c d e', b'PROXY a b c d e', # bad INET protocol and family ]: bytes_out = self._run_bytes_through_protocol(bad_line) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""400 Invalid PROXY line"", lines[0]) def test_unknown_client_addr(self): # For ""UNKNOWN"", the rest of the line before the CRLF may be omitted by # the sender, and the receiver must ignore anything presented before # the CRLF is found. for unknown_line in [b'PROXY UNKNOWN', # mimimal valid unknown b'PROXY UNKNOWNblahblah', # also valid b'PROXY UNKNOWN a b c d']: bytes_out = self._run_bytes_through_protocol(( unknown_line + (b""\r\n"" b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"") )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertIn(b""200 OK"", lines[0]) def test_address_and_environ(self): # Make an object we can exercise... note the base class's __init__() # does a bunch of work, so we just new up an object like eventlet.wsgi # does. dummy_env = {'OTHER_ENV_KEY': 'OTHER_ENV_VALUE'} mock_protocol = mock.Mock(get_environ=lambda s: dummy_env) patcher = mock.patch( 'swift.common.wsgi.SwiftHttpProtocol', mock_protocol ) self.mock_super = patcher.start() self.addCleanup(patcher.stop) proto_class = wsgi.SwiftHttpProxiedProtocol try: proxy_obj = types.InstanceType(proto_class) except AttributeError: proxy_obj = proto_class.__new__(proto_class) # Install some convenience mocks proxy_obj.server = Namespace(app=Namespace(logger=mock.Mock()), url_length_limit=777, log=mock.Mock()) proxy_obj.send_error = mock.Mock() proxy_obj.rfile = BytesIO( b'PROXY TCP4 111.111.111.111 222.222.222.222 111 222' ) assert proxy_obj.handle() self.assertEqual(proxy_obj.client_address, ('111.111.111.111', '111')) self.assertEqual(proxy_obj.proxy_address, ('222.222.222.222', '222')) expected_env = { 'SERVER_PORT': '222', 'SERVER_ADDR': '222.222.222.222', 'OTHER_ENV_KEY': 'OTHER_ENV_VALUE' } self.assertEqual(proxy_obj.get_environ(), expected_env) ",583,568
openstack%2Fproject-config~868068,openstack/project-config,master,Id640ea182837d46a3010a65a2d17b887192d54a6,Update Grafana's dasboard for Neutron,MERGED,2022-12-19 11:18:29.000000000,2022-12-19 21:03:42.000000000,2022-12-19 20:58:35.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 11:18:29.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4bc39369453896d4fa52ecd80244ae2134657497', 'message': ""Update Grafana's dasboard for Neutron\n\nThis patch updates jobs which are run in check and gate queues for the\nNeutron project.\nIt also removes periodic jobs graphs as those jobs are always run only\nonce a day and there's no need to keep them in the dashboard really.\n\nChange-Id: Id640ea182837d46a3010a65a2d17b887192d54a6\n""}]",1,868068,4bc39369453896d4fa52ecd80244ae2134657497,7,2,1,11975,,,0,"Update Grafana's dasboard for Neutron

This patch updates jobs which are run in check and gate queues for the
Neutron project.
It also removes periodic jobs graphs as those jobs are always run only
once a day and there's no need to keep them in the dashboard really.

Change-Id: Id640ea182837d46a3010a65a2d17b887192d54a6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/868068/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,4bc39369453896d4fa52ecd80244ae2134657497,update-neutron-grafana," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ipv6-only-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-integrated-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-integrated-networking') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ubuntu-old.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ubuntu-old.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ubuntu-old') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ipv6-only-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-integrated-networking') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ubuntu-old.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release-ubuntu-old') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py310.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py310.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py310') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py310.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py310') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ipv6-only-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-integrated-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-integrated-networking') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ipv6-only-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-integrated-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-integrated-networking') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-grenade-multinode-skip-level.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-grenade-multinode-skip-level.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-grenade-multinode-skip-level') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovs-grenade-multinode-skip-level.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovs-grenade-multinode-skip-level.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-grenade-multinode-skip-level') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-grenade-multinode-skip-level.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-grenade-multinode-skip-level') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovs-grenade-multinode-skip-level.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovs-grenade-multinode-skip-level') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py310.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py310.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py310') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py310.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py310')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py39') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py39') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py39') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py39') - title: Periodic jobs span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-functional-with-uwsgi-fips.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-functional-with-uwsgi-fips.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional-with-uwsgi-fips') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-fullstack.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-fullstack.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-fullstack-with-uwsgi-fips.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-fullstack-with-uwsgi-fips.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-fullstack-with-uwsgi-fips') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-slow') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-slow') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-postgres-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-postgres-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-postgres-full') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-mariadb-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-mariadb-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-mariadb-full') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-with-os-ken-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-with-os-ken-master') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-master-centos-9-stream.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-master-centos-9-stream.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-master-centos-9-stream') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-with-neutron-lib-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-with-neutron-lib-master') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-fips.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-fips.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-fips') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-fips.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-fips.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-fips') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.devstack-tobiko-faults-centos.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.devstack-tobiko-faults-centos.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-faults-centos') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39-with-neutron-lib-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py39-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py39-with-neutron-lib-master') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstacksdk-functional-devstack-networking') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-9-content-provider.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-9-content-provider.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tripleo-ci-centos-9-content-provider') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-centos-9-tripleo-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-centos-9-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-centos-9-tripleo-standalone') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-9-containers-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-9-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tripleo-ci-centos-9-containers-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-linuxbridge-tempest-plugin-scenario-nftables.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-linuxbridge-tempest-plugin-scenario-nftables.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-linuxbridge-tempest-plugin-scenario-nftables') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.devstack-enforce-scope.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.devstack-enforce-scope.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-enforce-scope') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.propose-translation-update.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.propose-translation-update.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'propose-translation-update') type: graph",18,39
openstack%2Fmanila-ui~867551,openstack/manila-ui,master,I99d8ba94174bd4d1eed9cd70f7f0e2cc0e70cde7,Update ``bindep.txt`` to sync with the horizon,MERGED,2022-12-13 17:38:29.000000000,2022-12-19 20:50:41.000000000,2022-12-19 20:49:29.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-13 17:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b238cc0d7d0c302839f25f37c8f7f0a669570080', 'message': '[DNM] Test CI jobs\n\nChange-Id: I99d8ba94174bd4d1eed9cd70f7f0e2cc0e70cde7\n'}, {'number': 2, 'created': '2022-12-14 06:21:40.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/bc91bdbe2673ce51de975501c22aea6ac4312445', 'message': ""Update ``bindep.txt`` to sync with the horizon\n\nhorizon recently switch nodeset for a few jobs from\nfocal to debian-bullseye [1] as per the runtime of 2023.1\ncycle but looks like 'manila-ui-integration-tests'\nstart failing because the firefox package for debian-bullseye\nis missing in ``bindep.txt``. This patch updates the ``bindep.txt``\nfile to sync with the horizon.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/865453\n\nChange-Id: I99d8ba94174bd4d1eed9cd70f7f0e2cc0e70cde7\n""}]",2,867551,bc91bdbe2673ce51de975501c22aea6ac4312445,11,3,2,29313,,,0,"Update ``bindep.txt`` to sync with the horizon

horizon recently switch nodeset for a few jobs from
focal to debian-bullseye [1] as per the runtime of 2023.1
cycle but looks like 'manila-ui-integration-tests'
start failing because the firefox package for debian-bullseye
is missing in ``bindep.txt``. This patch updates the ``bindep.txt``
file to sync with the horizon.

[1] https://review.opendev.org/c/openstack/horizon/+/865453

Change-Id: I99d8ba94174bd4d1eed9cd70f7f0e2cc0e70cde7
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/51/867551/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b238cc0d7d0c302839f25f37c8f7f0a669570080,update-bindep.txt,,,1,0
openstack%2Fswift~863441,openstack/swift,master,Ib212e661657fe9a369505cd48bb7f7be1749dd40,Preserve client-provided paths that start '//',ABANDONED,2022-11-02 21:29:45.000000000,2022-12-19 20:34:20.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-02 21:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1021bbc2cf7c43019e19e451591edfd7b01a1180', 'message': 'Fix invalidPath func test\n\nHopefully this will get the FIPS jobs (closer to) passing?\n\nFor more information, see:\n- https://python-security.readthedocs.io/vuln/http-server-redirection.html\n- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\n\nChange-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40\n'}, {'number': 2, 'created': '2022-11-02 22:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ed37ee7fa8d0a9168e57d77368e9552ea11ea346', 'message': ""Fix some func tests involving paths that start '//'\n\nThis should get the FIPS jobs passing -- they started failing about a\nmonth ago following a CPython change.\n\nFor more information, see:\n- https://python-security.readthedocs.io/vuln/http-server-redirection.html\n- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\n\nChange-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40\n""}, {'number': 3, 'created': '2022-11-02 23:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/baf822b72f3eeeb4ed83dd3ea82b625d8da3413e', 'message': ""Fix some func tests involving paths that start '//'\n\nThis should get the FIPS jobs passing -- they started failing about a\nmonth ago following a CPython change.\n\nFor more information, see:\n- https://python-security.readthedocs.io/vuln/http-server-redirection.html\n- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\n\nChange-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40\n""}, {'number': 4, 'created': '2022-11-02 23:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e0992e7db005e12976b5d17eb771e331398bff16', 'message': ""Fix some func tests involving paths that start '//'\n\nThis should get the FIPS jobs passing -- they started failing about a\nmonth ago following a CPython change.\n\nFor more information, see:\n- https://python-security.readthedocs.io/vuln/http-server-redirection.html\n- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\n\nChange-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40\n""}, {'number': 5, 'created': '2022-11-04 04:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b296275b12f6d63e1aa5c78fe65eb355eee0080', 'message': ""Preserve client-provided paths that start '//'\n\nRecent releases of CPython introduced changes to HTTP request parsing that\napplied a `s!^//*!/!` to client-provided paths before handing things off\nto Eventlet. This was to address a CVE in the stdlib static-site server;\nfor more information, see\n\n- https://python-security.readthedocs.io/vuln/http-server-redirection.html\n- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\n\nSwift, however, actually cares about what clients requested; this change\nis particularly glaring the case when using domain_remap. Then, a request\nfor\n\n    https://cont.acct.example.com//obj\n\nshould be translated to\n\n    https://example.com/v1/acct/cont//obj\n\nwhich is very much distinct from\n\n    https://example.com/v1/acct/cont/obj\n\nThis patch reverts the breaking change that CPython introduced. This fixes\nthe some func test failures we've seen on py39.\n\nChange-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40\n""}, {'number': 6, 'created': '2022-11-21 06:23:51.000000000', 'files': ['.zuul.yaml', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0a875d91355ff19b5cb34e55d8c1c32d755f553e', 'message': ""Preserve client-provided paths that start '//'\n\nRecent releases of CPython introduced changes to HTTP request parsing that\napplied a `s!^//*!/!` to client-provided paths before handing things off\nto Eventlet. This was to address a CVE in the stdlib static-site server;\nfor more information, see\n\n- https://python-security.readthedocs.io/vuln/http-server-redirection.html\n- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e\n\nSwift, however, actually cares about what clients requested; this change\nis particularly glaring the case when using domain_remap. Then, a request\nfor\n\n    https://cont.acct.example.com//obj\n\nshould be translated to\n\n    https://example.com/v1/acct/cont//obj\n\nwhich is very much distinct from\n\n    https://example.com/v1/acct/cont/obj\n\nThis patch reverts the breaking change that CPython introduced. This fixes\nthe some func test failures we've seen on py39.\n\nChange-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40\n""}]",35,863441,0a875d91355ff19b5cb34e55d8c1c32d755f553e,42,5,6,15343,,,0,"Preserve client-provided paths that start '//'

Recent releases of CPython introduced changes to HTTP request parsing that
applied a `s!^//*!/!` to client-provided paths before handing things off
to Eventlet. This was to address a CVE in the stdlib static-site server;
for more information, see

- https://python-security.readthedocs.io/vuln/http-server-redirection.html
- https://github.com/python/cpython/commit/4abab6b603dd38bec1168e9a37c40a48ec89508e

Swift, however, actually cares about what clients requested; this change
is particularly glaring the case when using domain_remap. Then, a request
for

    https://cont.acct.example.com//obj

should be translated to

    https://example.com/v1/acct/cont//obj

which is very much distinct from

    https://example.com/v1/acct/cont/obj

This patch reverts the breaking change that CPython introduced. This fixes
the some func test failures we've seen on py39.

Change-Id: Ib212e661657fe9a369505cd48bb7f7be1749dd40
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/863441/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/tests.py'],1,1021bbc2cf7c43019e19e451591edfd7b01a1180,," self.env.account.conn.storage_path = ""/non-swift/%s"" % was_path"," self.env.account.conn.storage_path = ""/%s"" % was_path",1,1
openstack%2Floci~689028,openstack/loci,master,I86051fc48af907be05cfdd4fbb86d35aae704c4d,Install libldap-2.4-2 bindep library for the py3 ldap keystone profile,MERGED,2019-10-16 19:53:56.000000000,2022-12-19 20:15:03.000000000,2022-12-19 20:15:03.000000000,"[{'_account_id': 8898}, {'_account_id': 9373}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 19:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/90a338bd61ff51e4059b6f47acc2d87bdfc8702d', 'message': 'Install libldap-2.4-2 bindep library for the py3 ldap keystone profile\n\nChange-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d\n'}, {'number': 2, 'created': '2020-08-26 19:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/33b4f3af284b851a72a6925ed9be88919f4bebb0', 'message': 'Install libldap-2.4-2 bindep library for the py3 ldap keystone profile\n\nChange-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d\n'}, {'number': 3, 'created': '2021-09-30 16:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d75ac5930ec6c71836ef37532b789eafd2b5a0cb', 'message': 'Install libldap-2.4-2 bindep library for the py3 ldap keystone profile\n\nChange-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d\n'}, {'number': 4, 'created': '2022-07-13 13:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e511b07953361943fbf786d160d7e9abefc70129', 'message': 'Install libldap-2.4-2 bindep library for the py3 ldap keystone profile\n\nChange-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d\n'}, {'number': 5, 'created': '2022-07-25 22:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/72342c3e2d7e1e93688a2bbc236c5621b8f52313', 'message': 'Install libldap-2.4-2 bindep library for the py3 ldap keystone profile\n\nChange-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d\n'}, {'number': 6, 'created': '2022-12-06 16:33:15.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/f725a1256a2413fdada29b4d9d88acae63970ae9', 'message': 'Install libldap-2.4-2 bindep library for the py3 ldap keystone profile\n\nChange-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d\n'}]",1,689028,f725a1256a2413fdada29b4d9d88acae63970ae9,31,4,6,9373,,,0,"Install libldap-2.4-2 bindep library for the py3 ldap keystone profile

Change-Id: I86051fc48af907be05cfdd4fbb86d35aae704c4d
",git fetch https://review.opendev.org/openstack/loci refs/changes/28/689028/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,90a338bd61ff51e4059b6f47acc2d87bdfc8702d,keystone_ldap_fix,libldap-2.4-2 [platform:dpkg (keystone ldap)],libldap-2.4-2 [platform:dpkg (keystone ldap !python3)],1,1
openstack%2Fironic~868024,openstack/ironic,bugfix/21.0,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,ABANDONED,2022-12-19 19:47:48.000000000,2022-12-19 19:48:24.000000000,,[],"[{'number': 1, 'created': '2022-12-19 19:47:48.000000000', 'files': ['releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cbddfc253a538052044874d41eb12a1b22f2b7d', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868024,7cbddfc253a538052044874d41eb12a1b22f2b7d,2,0,1,10342,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/868024/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'],1,7cbddfc253a538052044874d41eb12a1b22f2b7d,,<<<<<<< HEAD (74da8b Fixes for tox 4.0)======= Fixes a race condition in PXE initialization where logic to retry >>>>>>> CHANGE (26573b Prevent pxe retry when agent token exists),,4,0
openstack%2Ftelemetry-tempest-plugin~865386,openstack/telemetry-tempest-plugin,master,Iaa61eebf0e652b60182f893bba009b30d4734f95,Disable SSL validation in gabbi tests,MERGED,2022-11-23 10:24:57.000000000,2022-12-19 19:08:20.000000000,2022-12-19 19:08:20.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 10:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/2277e23d326bdd80a76afa1d1e3fe8bf283a59e5', 'message': 'Disable SSL validation in gabbi tests\n\nDisable SSL validation to prevent autoscaling tests\nfrom failing with error\n""certificate verify failed: unable to get local issuer certificate""\n\nSet parameter ""disable_ssl_certificate_validation"" to True\nwhich was introduced in 959fc69e492ed1d2297cce624c1efbf79e9f1b66\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Iaa61eebf0e652b60182f893bba009b30d4734f95\n'}, {'number': 2, 'created': '2022-11-23 11:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/850937ee306710c406f73f6d038d407383a4b420', 'message': 'Disable SSL validation in gabbi tests\n\nDisable SSL validation to prevent autoscaling tests\nfrom failing with error\n""certificate verify failed: unable to get local issuer certificate""\n\nSet parameter ""disable_ssl_certificate_validation"" to True\nwhich was introduced in 959fc69e492ed1d2297cce624c1efbf79e9f1b66\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Iaa61eebf0e652b60182f893bba009b30d4734f95\n'}, {'number': 3, 'created': '2022-11-23 12:41:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/eff7af3610bccdd7694033360938614d617f72ec', 'message': 'Disable SSL validation in gabbi tests\n\nDisable SSL validation to prevent autoscaling tests\nfrom failing with error\n""certificate verify failed: unable to get local issuer certificate""\n\nSet parameter ""disable_ssl_certificate_validation"" to True\nwhich was introduced in 959fc69e492ed1d2297cce624c1efbf79e9f1b66\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Iaa61eebf0e652b60182f893bba009b30d4734f95\n'}]",2,865386,eff7af3610bccdd7694033360938614d617f72ec,12,2,3,32240,,,0,"Disable SSL validation in gabbi tests

Disable SSL validation to prevent autoscaling tests
from failing with error
""certificate verify failed: unable to get local issuer certificate""

Set parameter ""disable_ssl_certificate_validation"" to True
which was introduced in 959fc69e492ed1d2297cce624c1efbf79e9f1b66

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: Iaa61eebf0e652b60182f893bba009b30d4734f95
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/86/865386/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2277e23d326bdd80a76afa1d1e3fe8bf283a59e5,autoscaling, test_config: $TEMPEST_CONFIG: telemetry: disable_ssl_certificate_validation: True test_config: $TEMPEST_CONFIG: telemetry: disable_ssl_certificate_validation: True,,8,0
openstack%2Fironic~868022,openstack/ironic,stable/zed,Ice764866a08647031d16570860ec384204269501,Prevent pxe retry when agent token exists,ABANDONED,2022-12-19 19:01:59.000000000,2022-12-19 19:03:11.000000000,,[],"[{'number': 1, 'created': '2022-12-19 19:01:59.000000000', 'files': ['releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8e1258f88eb9091517449599d1938fd54b831b1', 'message': ""Prevent pxe retry when agent token exists\n\nA race condition can be observed in CI under heavy load where the\nconductor triggers are boot of the agent before it is fully online\nbased upon state, but not considering the existence of an agent\ntoken. As a result, agent is never able to check in with Ironic\nand the overall operation fails.\n\nWe now consider agent token's existence before retrying PXE as\nit is the very earliest indicator of a starting agent.\n\nChange-Id: Ice764866a08647031d16570860ec384204269501\nStory: 2010107\nTask: 45674\n(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)\n""}]",0,868022,f8e1258f88eb9091517449599d1938fd54b831b1,2,0,1,6618,,,0,"Prevent pxe retry when agent token exists

A race condition can be observed in CI under heavy load where the
conductor triggers are boot of the agent before it is fully online
based upon state, but not considering the existence of an agent
token. As a result, agent is never able to check in with Ironic
and the overall operation fails.

We now consider agent token's existence before retrying PXE as
it is the very earliest indicator of a starting agent.

Change-Id: Ice764866a08647031d16570860ec384204269501
Story: 2010107
Task: 45674
(cherry picked from commit d75424b5e5685a9cf04b30a5b0555efd1313e9c3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/868022/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/prevent-pxe-retry-when-token-exists-a4f38f7da56c1397.yaml'],1,f8e1258f88eb9091517449599d1938fd54b831b1,,"<<<<<<< HEAD (068956 Merge ""Fix unit tests for Python 3.11"" into stable/zed)======= Fixes a race condition in PXE initialization where logic to retry >>>>>>> CHANGE (d75424 Prevent pxe retry when agent token exists)",,4,0
openstack%2Fneutron~868058,openstack/neutron,master,Ifdd47b2ce8610e4b4b527fc3279e0bd7a8b21a1d,Strictly delete arp_spoofing_protection flows,MERGED,2022-12-19 07:34:19.000000000,2022-12-19 18:37:01.000000000,2022-12-19 18:35:47.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-19 07:34:19.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dad23fdcdb32e3b061642e3cafad6566fadc11c3', 'message': 'Strictly delete arp_spoofing_protection flows\n\nPort arp_spoofing_protection will install flows like this:\ntable=0, priority=9,in_port=2 actions=goto_table:25\ntable=25, priority=2,in_port=2,dl_src=fa:16:3e:54:f0:71 actions=goto_table:60\n\nFor network ports or port_security_enabled = False, those flows\nwill be delete by setup_arp_spoofing_protection in _bind_devices.\n\nBut the delete actions are a bit rough because it will delete any\nflows with ""table=0 in_port=2"" and ""table=25 in_port=2"".\n\nBesides, the ovs_agent extension handle_port will be run before\nthese actions [5]. So network or no security ports, if any flows\nadded by agent extesnion in table=0 with ""in_port=2"" will be delete\nunexpectedly. Which also means any flows added before this call of\n""uninstall_flows(table=0, in_port=2)"" will be deleted.\n\nThis patch changes the uninstall flows to strict mode. Let it\ndelete the arp_spoofing_protection related flows only by verifying\nthe priority.\n\nCloses-Bug: #2000046\nChange-Id: Ifdd47b2ce8610e4b4b527fc3279e0bd7a8b21a1d\n'}]",1,868058,dad23fdcdb32e3b061642e3cafad6566fadc11c3,11,3,1,9531,,,0,"Strictly delete arp_spoofing_protection flows

Port arp_spoofing_protection will install flows like this:
table=0, priority=9,in_port=2 actions=goto_table:25
table=25, priority=2,in_port=2,dl_src=fa:16:3e:54:f0:71 actions=goto_table:60

For network ports or port_security_enabled = False, those flows
will be delete by setup_arp_spoofing_protection in _bind_devices.

But the delete actions are a bit rough because it will delete any
flows with ""table=0 in_port=2"" and ""table=25 in_port=2"".

Besides, the ovs_agent extension handle_port will be run before
these actions [5]. So network or no security ports, if any flows
added by agent extesnion in table=0 with ""in_port=2"" will be delete
unexpectedly. Which also means any flows added before this call of
""uninstall_flows(table=0, in_port=2)"" will be deleted.

This patch changes the uninstall flows to strict mode. Let it
delete the arp_spoofing_protection related flows only by verifying
the priority.

Closes-Bug: #2000046
Change-Id: Ifdd47b2ce8610e4b4b527fc3279e0bd7a8b21a1d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/868058/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",2,dad23fdcdb32e3b061642e3cafad6566fadc11c3,," in_port=port, strict=True, priority=9) in_port=port, strict=True, priority=2)", in_port=port) in_port=port),62,2
openstack%2Fcinder~852024,openstack/cinder,master,I4b98cdbeb663e264148b5d8e30659ef3579ed03e,PowerStore NFS Driver - followup,NEW,2022-08-03 13:51:13.000000000,2022-12-19 18:10:09.000000000,,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30555}, {'_account_id': 33502}]","[{'number': 1, 'created': '2022-08-03 13:51:13.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_nfs.py', 'cinder/volume/drivers/dell_emc/powerstore/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/748abfd3a666e7aa65b63320b1bfae67cd792972', 'message': 'PowerStore NFS Driver - followup\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: I4b98cdbeb663e264148b5d8e30659ef3579ed03e\n'}]",14,852024,748abfd3a666e7aa65b63320b1bfae67cd792972,52,6,1,34290,,,0,"PowerStore NFS Driver - followup

Implements: blueprint powerstore-nfs-driver
Change-Id: I4b98cdbeb663e264148b5d8e30659ef3579ed03e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/852024/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_nfs.py', 'cinder/volume/drivers/dell_emc/powerstore/nfs.py']",3,748abfd3a666e7aa65b63320b1bfae67cd792972,bp/powerstore-nfs-driver,"from cinder import contextfrom cinder import objects from cinder.objects import fieldsfrom cinder.volume.drivers import nfsCONF.register_opts(nfs.nfs_opts, group=configuration.SHARED_CONF_GROUP) class PowerStoreNFSDriverInitialization(nfs.NfsDriver): VOLUME_BACKEND_NAME = 'PowerStore_NFS' def do_setup(self, context: context.RequestContext) -> None: def _check_multiattach_support(self) -> None: def _check_package_is_installed(self, package: str) -> None: def check_for_setup_error(self) -> None: def _update_volume_stats(self) -> None: self._stats['vendor_name'] = self.VENDOR def delete_volume(self, volume: objects.Volume) -> None: def _do_fast_clone_file(self, volume_path: str, new_volume_path: str) -> None: def _create_volume_from_snapshot( self, volume: objects.Volume, snapshot: objects.snapshot.Snapshot ) -> dict: if snapshot.status not in ['available', 'backing-up']: msg = _('Snapshot status must be ""available"" or ""backing-up"" to ' 'clone. But is: %(status)s') % {'status': snapshot.status} raise exception.InvalidSnapshot(msg) def _copy_volume_from_snapshot( self, snapshot: objects.snapshot.Snapshot, volume: objects.Volume, volume_size: int, src_encryption_key_id=None, new_encryption_key_id=None ) -> None: def _create_cloned_volume( self, volume: objects.Volume, src_vref: objects.Volume, context: context.RequestContext ) -> dict: if src_vref.status not in ['available', 'backing-up', 'downloading']: msg = (_('Volume status must be ""available"" or ""backing-up"" or ' '""downloading"" to clone. But is: %(status)s') % {'status': src_vref.status}) raise exception.InvalidVolume(msg) vol_attrs = [ 'provider_location', 'size', 'id', 'name', 'status', 'volume_type', 'metadata', 'obj_context', 'attach_status' ] obj_context=volume.obj_context, attach_status=fields.VolumeAttachStatus.DETACHED) self.extend_volume(volume_info, volume.size)","from cinder.volume.drivers.nfs import nfs_opts from cinder.volume.drivers.nfs import NfsDriverCONF.register_opts(nfs_opts, group=configuration.SHARED_CONF_GROUP) class PowerStoreNFSDriverInitialization(NfsDriver): driver_volume_type = 'nfs' driver_prefix = 'nfs' volume_backend_name = 'PowerStore_NFS' def do_setup(self, context): def _check_multiattach_support(self): def _check_package_is_installed(self, package): def check_for_setup_error(self): def _update_volume_stats(self): self._stats[""vendor_name""] = self.VENDOR def delete_volume(self, volume): def extend_volume(self, volume, new_size): """"""Extend an existing volume to the new size."""""" if self._is_volume_attached(volume): msg = (_(""Cannot extend volume %s while it is attached"") % volume.name_id) raise exception.ExtendVolumeError(msg) LOG.info(""Extending volume %s."", volume.name_id) extend_by = int(new_size) - volume.size if not self._is_share_eligible(volume.provider_location, extend_by): raise exception.ExtendVolumeError( reason=""Insufficient space to extend "" ""volume %s to %sG"" % (volume.name_id, new_size) ) path = self.local_path(volume) info = self._qemu_img_info(path, volume.name) backing_fmt = info.file_format if backing_fmt not in ['raw', 'qcow2']: msg = _(""Unrecognized backing format: %s"") % backing_fmt raise exception.InvalidVolume(msg) image_utils.resize_image(path, new_size) def _do_fast_clone_file(self, volume_path, new_volume_path): def _create_volume_from_snapshot(self, volume, snapshot): def _copy_volume_from_snapshot(self, snapshot, volume, volume_size, src_encryption_key_id=None, new_encryption_key_id=None): def _create_cloned_volume(self, volume, src_vref, context): vol_attrs = ['provider_location', 'size', 'id', 'name', 'status', 'volume_type', 'metadata', 'obj_context'] obj_context=volume.obj_context)",88,136
openstack%2Ftripleo-validations~864558,openstack/tripleo-validations,stable/zed,I6c4bdff5e253bb054231dae2c3a280322cb18b9f,Removing undercloud-tokenflush validation and related role,MERGED,2022-11-15 15:08:38.000000000,2022-12-19 18:02:22.000000000,2022-12-19 18:00:32.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-15 15:08:38.000000000', 'files': ['roles/undercloud_tokenflush/molecule/default/converge.yml', 'roles/undercloud_tokenflush/vars/main.yaml', 'doc/source/roles/role-undercloud_tokenflush.rst', 'playbooks/undercloud-tokenflush.yaml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/converge.yml', 'roles/undercloud_tokenflush/defaults/main.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/prepare.yml', 'zuul.d/molecule.yaml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/undercloud_tokenflush/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c1f0d3932a115acf2cbe0785b5c4f7680c14688f', 'message': 'Removing undercloud-tokenflush validation and related role\n\nThe validation has been\tremoved\tfrom the tripleo-validations package\nas the token management\tchanges\tmade it\tobsolete.[0]\n\nRole, molecule tests, derived CI job and documentation were removed with the validation itself.\n\n[0] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/683750\n\nCloses-Bug: #1994029\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6c4bdff5e253bb054231dae2c3a280322cb18b9f\n(cherry picked from commit f48ff324577d43c4564e841ddc0310802af027b3)\n'}]",2,864558,c1f0d3932a115acf2cbe0785b5c4f7680c14688f,12,2,1,32926,,,0,"Removing undercloud-tokenflush validation and related role

The validation has been	removed	from the tripleo-validations package
as the token management	changes	made it	obsolete.[0]

Role, molecule tests, derived CI job and documentation were removed with the validation itself.

[0] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/683750

Closes-Bug: #1994029

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6c4bdff5e253bb054231dae2c3a280322cb18b9f
(cherry picked from commit f48ff324577d43c4564e841ddc0310802af027b3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/864558/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_tokenflush/molecule/default/converge.yml', 'roles/undercloud_tokenflush/vars/main.yaml', 'doc/source/roles/role-undercloud_tokenflush.rst', 'playbooks/undercloud-tokenflush.yaml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/converge.yml', 'roles/undercloud_tokenflush/defaults/main.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/prepare.yml', 'zuul.d/molecule.yaml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/undercloud_tokenflush/tasks/main.yml']",12,c1f0d3932a115acf2cbe0785b5c4f7680c14688f,,,"--- - name: Fetch token provider become: true hiera: name: keystone::token_provider - name: Check if keystone_cron container is available when: - ansible_facts['keystone::token_provider'] != 'fernet' - ansible_facts['keystone::token_provider'] != 'jws' block: - name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - env - name: Get the Container CLI from the undercloud.conf file become: true validations_read_ini: path: ""{{ ansible_env.HOME }}/undercloud.conf"" section: DEFAULT key: container_cli ignore_missing_file: true register: container_cli - name: Get keystone crontab become: true shell: | set -o pipefail {{ container_cli.value|default('podman', true) }} exec keystone_cron crontab -l -u keystone |grep -v '^#' register: cron_result changed_when: false - name: Check keystone crontab fail: msg: >- keystone token_flush does not appear to be enabled via cron. You should add '<desired interval> keystone-manage token_flush' to the keystone users crontab."" when: ""cron_result.stdout.find('keystone-manage token_flush') == -1"" - name: Describe why token flush validation was skipped debug: msg: >- Skipping token flush validation since you are using a non-persistent token format ({{ ansible_facts['keystone::token_provider'] }}). You do not need a separate keystone_cron container to periodically prune tokens from keystone's database. when: - ansible_facts['keystone::token_provider'] == 'fernet' or ansible_facts['keystone::token_provider'] == 'jws' ",0,403
openstack%2Fneutron~855677,openstack/neutron,master,Ib1278af20c3b3b057712453cb249aba34b684a21,Add and delete multiple ip addresses in one priv call,MERGED,2022-09-02 15:43:00.000000000,2022-12-19 17:35:09.000000000,2022-12-19 17:34:00.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-09-02 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ed598911b9157930af153c00d8117e0960c2bf5', 'message': 'Add multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs to and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\n\nCloses-Bug: #198728\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 2, 'created': '2022-09-02 15:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da57e6132786f33374c9461b824820f3292d6bea', 'message': 'Add multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs to and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 3, 'created': '2022-09-21 01:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7964bc7ab5169a9392fd62d00694057abb618f83', 'message': 'Add multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 4, 'created': '2022-10-12 20:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/facdf3b1e35df2dc1868006f53ecd34a156be96a', 'message': 'Add and delete multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\nFor parity, performed the same change on the\ndelete_ip_address function.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 5, 'created': '2022-10-12 20:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dc713f0f32a53e3a792a40b5e2c5f7bb20fb3c3', 'message': 'Add and delete multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\nFor parity, performed the same change on the\ndelete_ip_address function.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 6, 'created': '2022-10-14 17:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4db391a2f54d346eb86c43e695a1c91eb02fa914', 'message': 'Add and delete multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\nFor parity, performed the same change on the\ndelete_ip_address function.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 7, 'created': '2022-10-27 01:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2580de74b987788b5485f60d216cffa4c4414c1', 'message': 'Add and delete multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\nFor parity, performed the same change on the\ndelete_ip_address function.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 8, 'created': '2022-11-04 20:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aacf2229ef1ac2a7663393857fc47d8abe4889d0', 'message': 'Add and delete multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\nFor parity, performed the same change on the\ndelete_ip_address function.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}, {'number': 9, 'created': '2022-12-04 04:25:12.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/common/utils.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81980146cbdcc42d2398f4e777e659fc59c3b55f', 'message': 'Add and delete multiple ip addresses in one priv call\n\nCreated new add_ip_addresses privileged function\nwhich takes an iterable of cidrs and adds them\nin one privileged call. This is so we dont have to\ntake on additional priv overhead when calling\nadd_ip_address in a loop.\nFor parity, performed the same change on the\ndelete_ip_address function.\n\nCloses-Bug: #1987281\nPartial-Bug: #1981113\nChange-Id: Ib1278af20c3b3b057712453cb249aba34b684a21\n'}]",33,855677,81980146cbdcc42d2398f4e777e659fc59c3b55f,72,8,9,34271,,,0,"Add and delete multiple ip addresses in one priv call

Created new add_ip_addresses privileged function
which takes an iterable of cidrs and adds them
in one privileged call. This is so we dont have to
take on additional priv overhead when calling
add_ip_address in a loop.
For parity, performed the same change on the
delete_ip_address function.

Closes-Bug: #1987281
Partial-Bug: #1981113
Change-Id: Ib1278af20c3b3b057712453cb249aba34b684a21
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/855677/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,1ed598911b9157930af153c00d8117e0960c2bf5,bug/1987281,"import netaddrdef add_ip_addresses(cidrs, device, namespace, scope, broadcast=None): for cidr in cidrs: net = netaddr.IPNetwork(cidr) ip = str(net.ip) family = _IP_VERSION_FAMILY_MAP[net.version] prefixlen = net.prefixlen # FIXME(Miro): Single source this broadcast # logic. if broadcast and net.version == 4: broadcast = str(net.broadcast or net.ip) try: _run_iproute_addr('add', device, namespace, address=ip, mask=prefixlen, family=family, broadcast=broadcast, scope=get_scope_name(scope)) except netlink_exceptions.NetlinkError as e: if e.code == errno.EEXIST: raise IpAddressAlreadyExists(ip=ip, device=device) raise @privileged.default.entrypoint",,57,8
openstack%2Fopenstack-ansible-lxc_hosts~867252,openstack/openstack-ansible-lxc_hosts,master,Ic54d160c7329aebb7769c407d3af7b0f66145bcc,Ensure tar is installed on LXC host,MERGED,2022-12-12 14:57:44.000000000,2022-12-19 17:00:28.000000000,2022-12-19 16:59:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-12 14:57:44.000000000', 'files': ['vars/debian-host.yml', 'vars/redhat-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/30b97f57c9f739e3e565ad55c79c967946a67082', 'message': ""Ensure tar is installed on LXC host\n\nTar is required for LXC to create base container using lxc-create. When\nit's absent lxc-create exits with code 1 without any output on this\ntask [1]\n\n[1] https://opendev.org/openstack/openstack-ansible-lxc_hosts/src/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a/tasks/lxc_cache_create.yml#L71\n\nChange-Id: Ic54d160c7329aebb7769c407d3af7b0f66145bcc\n""}]",2,867252,30b97f57c9f739e3e565ad55c79c967946a67082,15,4,1,28619,,,0,"Ensure tar is installed on LXC host

Tar is required for LXC to create base container using lxc-create. When
it's absent lxc-create exits with code 1 without any output on this
task [1]

[1] https://opendev.org/openstack/openstack-ansible-lxc_hosts/src/commit/ef721dbf13db8f3578b45791ac67c4815bd8c59a/tasks/lxc_cache_create.yml#L71

Change-Id: Ic54d160c7329aebb7769c407d3af7b0f66145bcc
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/52/867252/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-host.yml', 'vars/redhat-host.yml']",2,30b97f57c9f739e3e565ad55c79c967946a67082,, - tar,,2,0
openstack%2Fopenstack-ansible~868031,openstack/openstack-ansible,master,Ib358d0df3a5e7ded711d3e36f5c1a9bb87416f59,Imported Translations from Zanata,MERGED,2022-12-17 02:46:38.000000000,2022-12-19 16:47:24.000000000,2022-12-19 16:45:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-17 02:46:38.000000000', 'files': ['doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-reference.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/es/LC_MESSAGES/doc.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/36919af266414ad870488bf82571c9ce5a19e39a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib358d0df3a5e7ded711d3e36f5c1a9bb87416f59\n'}]",0,868031,36919af266414ad870488bf82571c9ce5a19e39a,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib358d0df3a5e7ded711d3e36f5c1a9bb87416f59
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/868031/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-reference.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/es/LC_MESSAGES/doc.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po']",11,36919af266414ad870488bf82571c9ce5a19e39a,zanata/translations,"""Project-Id-Version: openstack-ansible 26.1.0.dev1\n""""POT-Creation-Date: 2022-12-16 09:53+0000\n""""PO-Revision-Date: 2019-11-13 08:22+0000\n""","""Project-Id-Version: openstack-ansible 25.1.0.dev115\n""""POT-Creation-Date: 2022-11-08 22:50+0000\n""""PO-Revision-Date: 2019-11-13 08:51+0000\n""msgid ""Documentation for each of the following releases is available."" msgstr """" ""De la documentation est disponible pour chacune des livraisons suivantes."" msgid ""Mitaka: EOL (end-of-life)"" msgstr ""Mitaka: EOL (fin-de-vie)"" msgid ""Newton: EOL (end-of-life)"" msgstr ""Newton: EOL (fin-de-vie)"" msgid ""OpenStack-Ansible's Mitaka series was EOL'd on 10 April 2017."" msgstr ""Mitaka OpenStack-Ansible est en fin de vie depuis le 10 avril 2017."" msgid ""OpenStack-Ansible's Newton series was EOL'd on 3 April 2018."" msgstr ""Newton OpenStack-Ansible est en fin de vie depuis le 3 avril 2018."" msgid """" ""OpenStack-Ansible's Rocky series was first released with the 18.0.0 tag on "" ""16 October 2018."" msgstr """" ""Rocky OpenStack-Ansible a été livré initialement avec la version 19.0.0 du "" ""16 octobre 2018."" msgid """" ""OpenStack-Ansible's Stein series was first released with the 19.0.0 tag on "" ""30 June 2019."" msgstr """" ""Stein OpenStack-Ansible a été livré initialement avec la version 19.0.0 du "" ""30 juin 2019."" msgid """" ""To view the documentation only, see the `OpenStack-Ansible Mitaka "" ""Documentation <https://docs.openstack.org/openstack-ansible/mitaka/>`_."" msgstr """" ""Pour seulement consulter la documentation, voir la `Documentation Mitaka "" ""OpenStack-Ansible <https://docs.openstack.org/openstack-ansible/mitaka/>`_."" msgid """" ""To view the documentation only, see the `OpenStack-Ansible Newton "" ""Documentation <https://docs.openstack.org/openstack-ansible/newton/>`_."" msgstr """" ""Pour consulter la documentation seulement, voir la `Documentation Newton "" ""OpenStack-Ansible <https://docs.openstack.org/openstack-ansible/newton/>`_."" msgid ""`OpenStack-Ansible Ocata Documentation`_"" msgstr ""`Documentation Ocata OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Ocata series release notes`_"" msgstr ""`Notes de version pour Ocata OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Pike Documentation`_"" msgstr ""`Documentation Pike OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Pike series release notes`_"" msgstr ""`Notes de version pour Pike OpenStack-Ansible Pike`_"" msgid ""`OpenStack-Ansible Queens Documentation`_"" msgstr ""`Documentation Queens OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Queens series release notes`_"" msgstr ""`Notes de version pour Queens OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Rocky Documentation`_"" msgstr ""`Documentation Rocky OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Rocky series release notes`_"" msgstr ""`Notes de version Rocky OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Stein Documentation`_"" msgstr ""`Documentation Stein OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Stein series release notes`_"" msgstr ""`Notes de version pour Stein OpenStack-Ansible`_"" msgid ""`OpenStack-Ansible Train Documentation`_"" msgstr ""`Documentation OpenStack-Ansible Train`_"" msgid ""`OpenStack-Ansible Train series release notes`_"" msgstr ""`Notes de version pour Train OpenStack-Ansible`_""",1085,806
openstack%2Fvalidations-common~864698,openstack/validations-common,stable/1.6,I9fc8db25f8826f58de19c56d05050abcc4588dbb,Bugfix: Add missing become: true to 2 tasks,MERGED,2022-11-17 15:47:07.000000000,2022-12-19 16:09:53.000000000,2022-12-19 16:08:54.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-11-17 15:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ad89d41d32cbc02ec554aa025314d18092371f68', 'message': 'Bugfix: Add missing become: true to 2 tasks\n\n/tmp/selinux.log is owned by root:root and can only be accessed by the\nroot user. The tasks ""Filter out denials"" and ""No skip_list"" are missing\nthose which casues a false positive of the validation\n\nCloses-Bug: #1970193\nChange-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb\n(cherry picked from commit 4bab55cbffab23f8bcf28e0f52b56300f8f5bb48)\n'}, {'number': 2, 'created': '2022-11-23 14:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d6caedf2c18cd59537dba0e92de9848ccb98c379', 'message': 'Bugfix: Add missing become: true to 2 tasks\n\n/tmp/selinux.log is owned by root:root and can only be accessed by the\nroot user. The tasks ""Filter out denials"" and ""No skip_list"" are missing\nthose which casues a false positive of the validation\n\nCloses-Bug: #1970193\nChange-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb\n(cherry picked from commit 4bab55cbffab23f8bcf28e0f52b56300f8f5bb48)\n'}, {'number': 3, 'created': '2022-12-01 14:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e7fdff23bc3fad3488751eafb0ce3738a6711cc7', 'message': 'Bugfix: Add missing become: true to 2 tasks\n\n/tmp/selinux.log is owned by root:root and can only be accessed by the\nroot user. The tasks ""Filter out denials"" and ""No skip_list"" are missing\nthose which casues a false positive of the validation\n\nCloses-Bug: #1970193\nChange-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb\n(cherry picked from commit 4bab55cbffab23f8bcf28e0f52b56300f8f5bb48)\n'}, {'number': 4, 'created': '2022-12-05 14:35:48.000000000', 'files': ['validations_common/roles/validate_selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/28ca4c195a7f879f7a98617d82146dad402cfb31', 'message': 'Bugfix: Add missing become: true to 2 tasks\n\n/tmp/selinux.log is owned by root:root and can only be accessed by the\nroot user. The tasks ""Filter out denials"" and ""No skip_list"" are missing\nthose which casues a false positive of the validation\n\nCloses-Bug: #1970193\nChange-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb\n(cherry picked from commit 4bab55cbffab23f8bcf28e0f52b56300f8f5bb48)\n'}]",3,864698,28ca4c195a7f879f7a98617d82146dad402cfb31,21,4,4,16515,,,0,"Bugfix: Add missing become: true to 2 tasks

/tmp/selinux.log is owned by root:root and can only be accessed by the
root user. The tasks ""Filter out denials"" and ""No skip_list"" are missing
those which casues a false positive of the validation

Closes-Bug: #1970193
Change-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb
(cherry picked from commit 4bab55cbffab23f8bcf28e0f52b56300f8f5bb48)
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/98/864698/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/validate_selinux/tasks/main.yml'],1,ad89d41d32cbc02ec554aa025314d18092371f68,bug/1970193-stable/1.6, become: true become: true,,2,0
openstack%2Fneutron~867531,openstack/neutron,master,Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8,Check if port exists in ``update_port_virtual_type`` method,MERGED,2022-12-13 16:00:30.000000000,2022-12-19 16:02:32.000000000,2022-12-19 16:01:10.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-12-13 16:00:30.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfe69472a82d7eee96299122c8a9520aeed73ddd', 'message': 'Check if port exists in ``update_port_virtual_type`` method\n\nDuring the OVN DB inconsistency check, a OVN LSP could not be present\nin the Neutron DB. In this case, continue processing other LSPs and\nlet other ``DBInconsistenciesPeriodics`` methods to resolve this\nissue.\n\nCloses-Bug: #1999517\nChange-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8\n'}]",1,867531,dfe69472a82d7eee96299122c8a9520aeed73ddd,13,7,1,16688,,,0,"Check if port exists in ``update_port_virtual_type`` method

During the OVN DB inconsistency check, a OVN LSP could not be present
in the Neutron DB. In this case, continue processing other LSPs and
let other ``DBInconsistenciesPeriodics`` methods to resolve this
issue.

Closes-Bug: #1999517
Change-Id: Ifb8bdccf6819f7f8af1abd3b82ccb1cd2e4c2fb8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/867531/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,dfe69472a82d7eee96299122c8a9520aeed73ddd,bug/1999517," try: port = self._ovn_client._plugin.get_port(context, lsp.name) except n_exc.PortNotFound: continue "," port = self._ovn_client._plugin.get_port(context, lsp.name)",10,3
openstack%2Fkolla~867919,openstack/kolla,stable/zed,Icf7d1988aa7208cda1b6f70269b9b54cd201b730,CI: do not check for error in binary images,MERGED,2022-12-16 12:07:06.000000000,2022-12-19 15:14:17.000000000,2022-12-19 15:13:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 12:07:06.000000000', 'files': ['tools/validate-all-dockerfiles.sh', 'tools/validate-binary-build.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5b8d5198e2e8f68dc8f6c4947caede64149d202', 'message': 'CI: do not check for error in binary images\n\nThere are no such anymore.\n\nChange-Id: Icf7d1988aa7208cda1b6f70269b9b54cd201b730\n(cherry picked from commit a0b9a9704d5d799f99a5cfa7923cb1209da16ac3)\n'}]",0,867919,b5b8d5198e2e8f68dc8f6c4947caede64149d202,9,3,1,24072,,,0,"CI: do not check for error in binary images

There are no such anymore.

Change-Id: Icf7d1988aa7208cda1b6f70269b9b54cd201b730
(cherry picked from commit a0b9a9704d5d799f99a5cfa7923cb1209da16ac3)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/867919/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/validate-all-dockerfiles.sh', 'tools/validate-binary-build.sh']",2,b5b8d5198e2e8f68dc8f6c4947caede64149d202,no-binary-in-zed-stable/zed,,"#!/bin/bash # Move to top level directory REAL_PATH=$(realpath $0) cd ""$(dirname ""$REAL_PATH"")/.."" RES=0 generate_templates () { echo Generating templates for $distro tools/build.py --template-only --type binary --base $distro --work-dir=$tmpdir } check_for_errors () { regex=$1 # Look for all rendered Dockerfile. # TODO(mwhahaha): Skip kolla-toolbox for now as it's dependent on specific # set of pip installed items. find $tmpdir/docker -not -path ""*kolla-toolbox*"" -name Dockerfile -print0 | xargs -0 egrep --color ""$regex"" # NOTE(mandre) grep returns status code of 1 if the expression isn't found # xargs returns with status 123 when the command invocation returns with an # exit status 1-125, this is what we should be looking for as our ""everything # is good"" code. if [ $? -ne 123 ]; then RES=1 fi } echo Looking for forbidden instructions in binary image templates for distro in debian ubuntu centos; do tmpdir=$(mktemp -d kolla-templates.XXXXXX --tmpdir) generate_templates check_for_errors ""gem .*install"" check_for_errors ""pip .*install"" check_for_errors ""npm .*install"" check_for_errors ""git .*clone"" check_for_errors ""wget"" check_for_errors ""curl"" rm -r $tmpdir done if [ $RES -eq 1 ]; then echo ""ERROR Found forbidden instructions in binary image templates"" fi # Let's not make it fail pep8 job for now #exit $RES ",0,50
openstack%2Fopenstack-ansible-rabbitmq_server~855996,openstack/openstack-ansible-rabbitmq_server,master,I8fd7125e40b68ae1e2788602e3fa493ba7d8098d,Update the heartbeat and handshake timeout,MERGED,2022-09-06 02:50:37.000000000,2022-12-19 14:59:01.000000000,2022-12-19 14:57:53.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-09-06 02:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/51440a08d5a872762baacdb91bcc0f79318ab378', 'message': 'Update the heartbeat and handshake timeout\n\nthis change updates the default heartbeat and handshake timeouts\n\nthis change simply doubles the default handshake and updates the\nheartbeat timeout from 60 to 640\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: I8fd7125e40b68ae1e2788602e3fa493ba7d8098d\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2022-09-06 02:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f079aae9484910c6df833f7306e709c732a4cfe9', 'message': 'Update the heartbeat and handshake timeout\n\nthis change updates the default heartbeat and handshake timeouts\n\nthis change simply doubles the default handshake and updates the\nheartbeat timeout from 60 to 640\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: I8fd7125e40b68ae1e2788602e3fa493ba7d8098d\n'}, {'number': 3, 'created': '2022-09-13 13:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6e3c156d4c49d39a4bf88308b41a0ca915ab3633', 'message': 'Update the heartbeat and handshake timeout\n\nthis change updates the default heartbeat and handshake timeouts\n\nthis change simply doubles the default handshake and updates the\nheartbeat timeout from 60 to 640\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: I8fd7125e40b68ae1e2788602e3fa493ba7d8098d\n'}, {'number': 4, 'created': '2022-11-29 16:22:24.000000000', 'files': ['templates/rabbitmq.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/91def52b97a302cd2420c8d107b1a5dc65d7593e', 'message': 'Update the heartbeat and handshake timeout\n\nThis change updates the default heartbeat and handshake timeouts \nby simply doubling the default handshake timings and updating the\nheartbeat timeout from 60 to 640.\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: I8fd7125e40b68ae1e2788602e3fa493ba7d8098d\n'}]",3,855996,91def52b97a302cd2420c8d107b1a5dc65d7593e,17,3,4,7353,,,0,"Update the heartbeat and handshake timeout

This change updates the default heartbeat and handshake timeouts 
by simply doubling the default handshake timings and updating the
heartbeat timeout from 60 to 640.

Signed-off-by: Kevin Carter <kevin@cloudnull.com>
Change-Id: I8fd7125e40b68ae1e2788602e3fa493ba7d8098d
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/96/855996/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/rabbitmq.conf.j2'],1,51440a08d5a872762baacdb91bcc0f79318ab378,,heartbeat = 640 ssl_handshake_timeout = 20000 handshake_timeout = 40000,,3,0
openstack%2Ftripleo-quickstart-extras~867967,openstack/tripleo-quickstart-extras,master,Ie32159bdbe15637004eb5fc7cb24fde8c6806b25,Add logfile for compute container image prepare call mixed os job,MERGED,2022-12-16 10:37:30.000000000,2022-12-19 14:38:07.000000000,2022-12-19 14:38:07.000000000,"[{'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-16 10:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d84bbf70d44ded000a39c7670439c682cda49d61', 'message': 'Add logfile for compute container image prepare call mixed os job\n\nAdds --log-file to the compute container image prepare call. Noticed\nthis working on related-bug. The Depends-On will make sure this file\nis collected in job logs.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154179\nDepends-On: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3\n\nChange-Id: Ie32159bdbe15637004eb5fc7cb24fde8c6806b25\n'}, {'number': 2, 'created': '2022-12-16 10:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d8f88ca652b52009d3c2416414eed5a4fe922750', 'message': 'Add logfile for compute container image prepare call mixed os job\n\nAdds --log-file to the compute container image prepare call. Noticed\nthis working on related-bug. The Depends-On will make sure this file\nis collected in job logs.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154179\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/867966\n\nChange-Id: Ie32159bdbe15637004eb5fc7cb24fde8c6806b25\n'}, {'number': 3, 'created': '2022-12-16 14:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3fa56d8fe8fb4e3f35e34cfaefbe2221b6b25a61', 'message': 'Add logfile for compute container image prepare call mixed os job\n\nAdds --log-file to the compute container image prepare call. Noticed\nthis working on related-bug. The Depends-On will make sure this file\nis collected in job logs.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154179\nDepends-On: I1261d36d9a82bb4f9c6caf7c310ef5b406d86ba3\n\nChange-Id: Ie32159bdbe15637004eb5fc7cb24fde8c6806b25\n'}, {'number': 4, 'created': '2022-12-16 15:01:38.000000000', 'files': ['playbooks/multinode-overcloud-mixed-os-deploy-compute.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/412ac6ad707e083fd8eb1d8abe1c3cff03ce3eb1', 'message': 'Add logfile for compute container image prepare call mixed os job\n\nAdds --log-file to the compute container image prepare call. Noticed\nthis working on related-bug. The Depends-On will make sure this file\nis collected in job logs.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154179\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/867966\n\nChange-Id: Ie32159bdbe15637004eb5fc7cb24fde8c6806b25\n'}]",2,867967,412ac6ad707e083fd8eb1d8abe1c3cff03ce3eb1,16,4,4,8449,,,0,"Add logfile for compute container image prepare call mixed os job

Adds --log-file to the compute container image prepare call. Noticed
this working on related-bug. The Depends-On will make sure this file
is collected in job logs.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154179
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/867966

Change-Id: Ie32159bdbe15637004eb5fc7cb24fde8c6806b25
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/867967/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-mixed-os-deploy-compute.yml'],1,d84bbf70d44ded000a39c7670439c682cda49d61,, sudo openstack tripleo container image prepare -e /home/zuul/containers-prepare-parameter.yaml --log-file /var/log/tripleo-container-image-prepare-compute.log, sudo openstack tripleo container image prepare -e /home/zuul/containers-prepare-parameter.yaml,1,1
openstack%2Fpuppet-openstacklib~867935,openstack/puppet-openstacklib,stable/wallaby,Ifa9dde9d3d523087b2fd9b8e62152090a4885b94,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-16 06:53:41.000000000,2022-12-19 14:25:28.000000000,2022-12-19 14:25:28.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 06:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/9e037055c2e92232feefa5b7c7ef430c3a6ab3de', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: Ifa9dde9d3d523087b2fd9b8e62152090a4885b94\n'}, {'number': 2, 'created': '2022-12-16 06:54:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/64d8ac63fb973b269a7ec7195f1c6f1f9c40ee38', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: Ifa9dde9d3d523087b2fd9b8e62152090a4885b94\n'}]",0,867935,64d8ac63fb973b269a7ec7195f1c6f1f9c40ee38,8,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: Ifa9dde9d3d523087b2fd9b8e62152090a4885b94
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/35/867935/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e037055c2e92232feefa5b7c7ef430c3a6ab3de,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false, - puppet-openstacklib-tripleo-centos-9-standalone gate: jobs: - puppet-openstacklib-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone - job: name: puppet-openstacklib-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone voting: false description: | TripleO standalone Job running basic tests vars: *standalone_vars,2,13
openstack%2Fpuppet-oslo~867936,openstack/puppet-oslo,stable/wallaby,I929f8b7d066c75950b9511c922069c0a7ec8fadd,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-16 06:54:16.000000000,2022-12-19 14:21:21.000000000,2022-12-19 14:21:21.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 06:54:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/fe2a1479489443b6634933edbd25fd17eb44729c', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I929f8b7d066c75950b9511c922069c0a7ec8fadd\n'}]",0,867936,fe2a1479489443b6634933edbd25fd17eb44729c,7,3,1,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I929f8b7d066c75950b9511c922069c0a7ec8fadd
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/36/867936/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fe2a1479489443b6634933edbd25fd17eb44729c,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-oslo-tripleo-centos-9-standalone gate: jobs: - puppet-oslo-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-oslo-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone voting: false description: | TripleO standalone Job running basic tests centos 9 vars: *standalone_vars,3,14
openstack%2Fpuppet-swift~867937,openstack/puppet-swift,stable/wallaby,I68bd44b3f3f9a7f1eaf69fdc0b4ff7b4172cbc84,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-16 06:55:06.000000000,2022-12-19 14:10:02.000000000,2022-12-19 14:10:02.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 06:55:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/eab8e2743355dd367823eddf2ff44b949ff631cb', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I68bd44b3f3f9a7f1eaf69fdc0b4ff7b4172cbc84\n'}]",4,867937,eab8e2743355dd367823eddf2ff44b949ff631cb,9,3,1,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I68bd44b3f3f9a7f1eaf69fdc0b4ff7b4172cbc84
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/37/867937/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eab8e2743355dd367823eddf2ff44b949ff631cb,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, - puppet-swift-tripleo-centos-9-standalone gate: jobs: - puppet-swift-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-swift-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Object Storage specific Tempest tests. voting: false vars: *standalone_vars,3,14
openstack%2Fneutron~866968,openstack/neutron,stable/yoga,Ieb4cab11068747bd79868c6eb1778aab91447c30,Add address scope to the OVN LSP port registers,MERGED,2022-12-08 09:26:18.000000000,2022-12-19 14:04:07.000000000,2022-12-19 14:02:58.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 35408}]","[{'number': 1, 'created': '2022-12-08 09:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fd9231fc63410e38c1802abeb9b01b9780f119a', 'message': 'Add address scope to the OVN LSP port registers\n\nTo be able to filter on the address scope of the ports in the\novn-bgp-agent we add the address scope of the subnet pool to\neach LSP port in the northbound. Northd writes it to the\nsouthbound so the ovn-bgp-agent has access to it. The\novn-bgp-agent talks directly to the southbound to announce\nthe networks via BGP that match the configured address scope.\n\nChange-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30\nCloses-Bug: #1996741\n(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)\n'}, {'number': 2, 'created': '2022-12-12 10:02:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52f47c0945f8c0354e0af84c8223044db6a310ad', 'message': 'Add address scope to the OVN LSP port registers\n\nTo be able to filter on the address scope of the ports in the\novn-bgp-agent we add the address scope of the subnet pool to\neach LSP port in the northbound. Northd writes it to the\nsouthbound so the ovn-bgp-agent has access to it. The\novn-bgp-agent talks directly to the southbound to announce\nthe networks via BGP that match the configured address scope.\n\nChange-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30\nCloses-Bug: #1996741\n(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)\n'}]",3,866968,52f47c0945f8c0354e0af84c8223044db6a310ad,20,5,2,35408,,,0,"Add address scope to the OVN LSP port registers

To be able to filter on the address scope of the ports in the
ovn-bgp-agent we add the address scope of the subnet pool to
each LSP port in the northbound. Northd writes it to the
southbound so the ovn-bgp-agent has access to it. The
ovn-bgp-agent talks directly to the southbound to announce
the networks via BGP that match the configured address scope.

Change-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30
Closes-Bug: #1996741
(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/866968/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",6,9fd9231fc63410e38c1802abeb9b01b9780f119a,ovn_address_scope-stable/yoga," # TODO(czesla): Remove this in the A+4 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def check_port_has_address_scope(self): if not self.has_lock: return ports = self._nb_idl.db_find_rows( ""Logical_Switch_Port"", (""type"", ""!="", ovn_const.LSP_TYPE_LOCALNET) ).execute(check_error=True) context = n_context.get_admin_context() with self._nb_idl.transaction(check_error=True) as txn: for port in ports: if ( port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE4_KEY ) is None or port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE6_KEY ) is None ): try: port_neutron = self._ovn_client._plugin.get_port( context, port.name ) port_info, external_ids = ( self._ovn_client.get_external_ids_from_port( port_neutron) ) txn.add(self._nb_idl.set_lswitch_port( port.name, external_ids=external_ids)) except n_exc.PortNotFound: # The sync function will fix this port pass except Exception: LOG.exception('Failed to update port %s', port.name) raise periodics.NeverAgain() ",,255,21
openstack%2Fneutron~867230,openstack/neutron,stable/wallaby,Ieb4cab11068747bd79868c6eb1778aab91447c30,Add address scope to the OVN LSP port registers,MERGED,2022-12-12 13:26:39.000000000,2022-12-19 13:55:33.000000000,2022-12-19 13:54:01.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 13:26:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cabae90865b30db97437f8b567ce2d0f3ac33c0c', 'message': 'Add address scope to the OVN LSP port registers\n\nTo be able to filter on the address scope of the ports in the\novn-bgp-agent we add the address scope of the subnet pool to\neach LSP port in the northbound. Northd writes it to the\nsouthbound so the ovn-bgp-agent has access to it. The\novn-bgp-agent talks directly to the southbound to announce\nthe networks via BGP that match the configured address scope.\n\nChange-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30\nCloses-Bug: #1996741\n(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)\n'}]",3,867230,cabae90865b30db97437f8b567ce2d0f3ac33c0c,21,3,1,23567,,,0,"Add address scope to the OVN LSP port registers

To be able to filter on the address scope of the ports in the
ovn-bgp-agent we add the address scope of the subnet pool to
each LSP port in the northbound. Northd writes it to the
southbound so the ovn-bgp-agent has access to it. The
ovn-bgp-agent talks directly to the southbound to announce
the networks via BGP that match the configured address scope.

Change-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30
Closes-Bug: #1996741
(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/867230/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",6,cabae90865b30db97437f8b567ce2d0f3ac33c0c,wallaby," # TODO(czesla): Remove this in the A+4 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def check_port_has_address_scope(self): if not self.has_lock: return ports = self._nb_idl.db_find_rows( ""Logical_Switch_Port"", (""type"", ""!="", ovn_const.LSP_TYPE_LOCALNET) ).execute(check_error=True) context = n_context.get_admin_context() with self._nb_idl.transaction(check_error=True) as txn: for port in ports: if ( port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE4_KEY ) is None or port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE6_KEY ) is None ): try: port_neutron = self._ovn_client._plugin.get_port( context, port.name ) port_info, external_ids = ( self._ovn_client.get_external_ids_from_port( port_neutron) ) txn.add(self._nb_idl.set_lswitch_port( port.name, external_ids=external_ids)) except n_exc.PortNotFound: # The sync function will fix this port pass except Exception: LOG.exception('Failed to update port %s', port.name) raise periodics.NeverAgain() ",,238,22
openstack%2Fcinder~850320,openstack/cinder,master,I80923f9968de31738c554b77c0942a6182f0e67c,Fix Infinidat driver generic volume migration,MERGED,2022-07-21 07:45:39.000000000,2022-12-19 13:51:11.000000000,2022-12-16 23:28:48.000000000,"[{'_account_id': 935}, {'_account_id': 4523}, {'_account_id': 5948}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-07-21 07:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46b8548e7909fc5dab43f94f17b8e702eee4ca74', 'message': 'Fix Infinidat driver generic volume migration.\n\nAdded update_migrated_volume function to fix generic volume\nmigration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 2, 'created': '2022-08-01 11:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a00e07cc6ec5aadcf3f0793b94ca62dcf1c78bf', 'message': 'Fix Infinidat driver generic volume migration.\n\nAdded update_migrated_volume function to fix generic volume\nmigration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 3, 'created': '2022-08-07 10:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01ba70daf9f80bb7b065cf2bdeab590ec7cb6b4d', 'message': 'Fix Infinidat driver generic volume migration.\n\nAdded update_migrated_volume function to fix generic volume\nmigration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 4, 'created': '2022-08-07 18:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f790009eeac746edfc06a615cfd9de59a9cf35f2', 'message': 'Fix Infinidat driver generic volume migration.\n\nAdded update_migrated_volume function to fix generic volume\nmigration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 5, 'created': '2022-08-23 10:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a2e671d3a8dd3adfbe0b502faee6dd49fe25aab', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 6, 'created': '2022-08-23 11:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c742799bff176d399afddcfdd8b73a20c756e5f', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 7, 'created': '2022-09-16 18:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba25c0ea2cc6be5954f7f0df73e67e72b9cf8754', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 8, 'created': '2022-11-24 20:49:54.000000000', 'files': ['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a29d57a61cfb845eabc2cc7f72480b48b9a68e9', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}]",15,850320,9a29d57a61cfb845eabc2cc7f72480b48b9a68e9,181,8,8,35075,,,0,"Fix Infinidat driver generic volume migration

- Use volume name_id to resolve Infinidat volume name.
- Add update_migrated_volume function to fix generic volume
  migration between two pools within the same storage cluster.

Closes-bug: #1982405
Change-Id: I80923f9968de31738c554b77c0942a6182f0e67c
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/850320/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,46b8548e7909fc5dab43f94f17b8e702eee4ca74,infinidat-add-local-volume-migration," - added update migrated volume @infinisdk_to_cinder_exceptions def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): model_update = {'_name_id': new_volume._name_id or new_volume.id} new_volume_name = self._make_volume_name(new_volume) volume_name = self._make_volume_name(volume) backup_name = f'{volume_name}-backup' try: new_infinidat_volume = self._get_infinidat_volume(new_volume) except exception.InvalidVolume: LOG.error('Destination volume %s not found', new_volume_name) return model_update try: infinidat_volume = self._get_infinidat_volume(volume) except exception.InvalidVolume: LOG.debug('Source volume %s not found', volume_name) volume_found = False else: volume_found = True if volume_found: try: infinidat_volume.update_name(backup_name) except infinisdk.core.exceptions.InfiniSDKException as error: LOG.error('Failed to rename source volume %s -> %s: %s', volume_name, backup_name, error) return model_update try: new_infinidat_volume.update_name(volume_name) except infinisdk.core.exceptions.InfiniSDKException as error: LOG.error('Failed to rename destination volume %s -> %s: %s', new_volume_name, volume_name, error) return model_update if volume_found: try: infinidat_volume.update_name(new_volume_name) except infinisdk.core.exceptions.InfiniSDKException as error: LOG.error('Failed to rename backup volume %s -> %s: %s', backup_name, new_volume_name, error) return {'_name_id': None}",,128,2
openstack%2Fkeystonemiddleware~860481,openstack/keystonemiddleware,master,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,MERGED,2022-10-05 17:43:37.000000000,2022-12-19 13:42:35.000000000,2022-12-19 13:41:35.000000000,"[{'_account_id': 6476}, {'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 17:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/350fb8b2993cd628c81c2986152671c85eb57567', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n""}, {'number': 2, 'created': '2022-10-05 20:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/30c9e1a90a4196422f00eb0e0678a71c4f29920a', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n""}, {'number': 3, 'created': '2022-12-12 20:16:14.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e05466c5f439cd05482f109e6eb97a50ba156698', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n""}]",6,860481,e05466c5f439cd05482f109e6eb97a50ba156698,20,5,3,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/81/860481/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/__init__.py'],1,350fb8b2993cd628c81c2986152671c85eb57567,lp1987355,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,6
openstack%2Fpuppet-octavia~867819,openstack/puppet-octavia,stable/wallaby,Id2d0efe4789cbbb60cb72b45b8dae7687985e4b3,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:28:40.000000000,2022-12-19 13:32:15.000000000,2022-12-19 13:32:15.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f9ca7fcd5af893c1c137fa300d62b4d5facb2e31', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: Id2d0efe4789cbbb60cb72b45b8dae7687985e4b3\n'}, {'number': 2, 'created': '2022-12-15 15:37:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/92e7850a6378bb1755d8ef6a78a7ab3b47f4c037', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: Id2d0efe4789cbbb60cb72b45b8dae7687985e4b3\n'}]",0,867819,92e7850a6378bb1755d8ef6a78a7ab3b47f4c037,8,3,2,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: Id2d0efe4789cbbb60cb72b45b8dae7687985e4b3
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/19/867819/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9ca7fcd5af893c1c137fa300d62b4d5facb2e31,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone nodeset: puppet-octavia-tripleo-single-node-centos-9-stream-nested-virt voting: false vars:, - puppet-octavia-tripleo-centos-9-standalone gate: jobs: - puppet-octavia-tripleo-standalone - nodeset: name: puppet-octavia-tripleo-single-node-centos-8-stream-nested-virt nodes: - name: primary label: nested-virt-centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] parent: tripleo-puppet-ci-centos-8-standalone nodeset: puppet-octavia-tripleo-single-node-centos-8-stream-nested-virt vars: &standalone_vars - job: name: puppet-octavia-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone nodeset: puppet-octavia-tripleo-single-node-centos-9-stream-nested-virt description: | TripleO standalone Job running Octavia specific Tempest tests. voting: false vars: *standalone_vars,4,28
openstack%2Fneutron~866529,openstack/neutron,stable/xena,Ieb4cab11068747bd79868c6eb1778aab91447c30,Add address scope to the OVN LSP port registers,MERGED,2022-12-12 13:21:56.000000000,2022-12-19 13:28:59.000000000,2022-12-19 13:27:38.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 13:21:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d64da06f74820c432c3f03022b7c7ab5452e980b', 'message': 'Add address scope to the OVN LSP port registers\n\nTo be able to filter on the address scope of the ports in the\novn-bgp-agent we add the address scope of the subnet pool to\neach LSP port in the northbound. Northd writes it to the\nsouthbound so the ovn-bgp-agent has access to it. The\novn-bgp-agent talks directly to the southbound to announce\nthe networks via BGP that match the configured address scope.\n\nChange-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30\nCloses-Bug: #1996741\n(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)\n'}]",0,866529,d64da06f74820c432c3f03022b7c7ab5452e980b,13,3,1,23567,,,0,"Add address scope to the OVN LSP port registers

To be able to filter on the address scope of the ports in the
ovn-bgp-agent we add the address scope of the subnet pool to
each LSP port in the northbound. Northd writes it to the
southbound so the ovn-bgp-agent has access to it. The
ovn-bgp-agent talks directly to the southbound to announce
the networks via BGP that match the configured address scope.

Change-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30
Closes-Bug: #1996741
(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/866529/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",6,d64da06f74820c432c3f03022b7c7ab5452e980b,xena," # TODO(czesla): Remove this in the A+4 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def check_port_has_address_scope(self): if not self.has_lock: return ports = self._nb_idl.db_find_rows( ""Logical_Switch_Port"", (""type"", ""!="", ovn_const.LSP_TYPE_LOCALNET) ).execute(check_error=True) context = n_context.get_admin_context() with self._nb_idl.transaction(check_error=True) as txn: for port in ports: if ( port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE4_KEY ) is None or port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE6_KEY ) is None ): try: port_neutron = self._ovn_client._plugin.get_port( context, port.name ) port_info, external_ids = ( self._ovn_client.get_external_ids_from_port( port_neutron) ) txn.add(self._nb_idl.set_lswitch_port( port.name, external_ids=external_ids)) except n_exc.PortNotFound: # The sync function will fix this port pass except Exception: LOG.exception('Failed to update port %s', port.name) raise periodics.NeverAgain() ",,238,22
openstack%2Fvalidations-libs~865269,openstack/validations-libs,master,I3dd296c8b8b9a33f87a451dd7bef68b38ba60af7,Expanding logging facilities to rest of the framework,MERGED,2022-11-22 11:53:33.000000000,2022-12-19 13:24:15.000000000,2022-12-19 13:23:11.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-22 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/751b8642f4e244fbd766396d9ad9fa00f01571a3', 'message': 'Expanding logging facilities to rest of the framework\n\nLogger was introduced in If8ed6510dad16dc8495717789bb132b957828e0d\nand so far has been performing admirably.\n\nWe can now expand it to the rest of the library and remove leftovers\nfrom the original setup. This way we can establish proper monitoring\nof code execution across our tool and provide operators with\nmore actionable information.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3dd296c8b8b9a33f87a451dd7bef68b38ba60af7\n'}, {'number': 2, 'created': '2022-11-23 09:16:18.000000000', 'files': ['validations_libs/cli/community.py', 'validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/ansible.py', 'validations_libs/group.py', 'validations_libs/cli/common.py', 'validations_libs/community/init_validation.py', 'validations_libs/tests/test_validation_actions.py', 'validations_libs/validation.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5a23115811fda90185a667ff6c4e4c553a7ecf36', 'message': 'Expanding logging facilities to rest of the framework\n\nLogger was introduced in If8ed6510dad16dc8495717789bb132b957828e0d\nand so far has been performing admirably.\n\nWe can now expand it to the rest of the library and remove leftovers\nfrom the original setup. This way we can establish proper monitoring\nof code execution across our tool and provide operators with\nmore actionable information.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3dd296c8b8b9a33f87a451dd7bef68b38ba60af7\n'}]",5,865269,5a23115811fda90185a667ff6c4e4c553a7ecf36,23,3,2,32926,,,0,"Expanding logging facilities to rest of the framework

Logger was introduced in If8ed6510dad16dc8495717789bb132b957828e0d
and so far has been performing admirably.

We can now expand it to the rest of the library and remove leftovers
from the original setup. This way we can establish proper monitoring
of code execution across our tool and provide operators with
more actionable information.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I3dd296c8b8b9a33f87a451dd7bef68b38ba60af7
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/69/865269/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/community.py', 'validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/ansible.py', 'validations_libs/group.py', 'validations_libs/cli/common.py', 'validations_libs/community/init_validation.py', 'validations_libs/tests/test_validation_actions.py', 'validations_libs/validation.py', 'validations_libs/tests/test_ansible.py']",10,751b8642f4e244fbd766396d9ad9fa00f01571a3,logging, @mock.patch('validations_libs.ansible.getLogger'), @mock.patch('logging.getLogger'),27,26
openstack%2Fansible-role-pki~867631,openstack/ansible-role-pki,stable/zed,Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa,Ensure CA privatekey permissions,MERGED,2022-12-14 13:12:48.000000000,2022-12-19 12:42:32.000000000,2022-12-19 12:41:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-14 13:12:48.000000000', 'files': ['tasks/standalone/create_ca.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/ed68acfa72c110cf8eac4ffa889f96b6301d12c5', 'message': ""Ensure CA privatekey permissions\n\nIn case private key permissions or owner doesn't match openssl_privatekey\nwill fix permissions, that will result in task being changed. We want\nto avoid this task being changed without good reasons, as our logic on\nCA certificates generation depends on that as well.\n\nChange-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa\n(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)\n""}]",0,867631,ed68acfa72c110cf8eac4ffa889f96b6301d12c5,8,3,1,32666,,,0,"Ensure CA privatekey permissions

In case private key permissions or owner doesn't match openssl_privatekey
will fix permissions, that will result in task being changed. We want
to avoid this task being changed without good reasons, as our logic on
CA certificates generation depends on that as well.

Change-Id: Ifb172a52a496b6e14bd160dfb6309ffbe9fd96fa
(cherry picked from commit 589d085ac406ec58635323cddad94679dec6cfe3)
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/31/867631/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_ca.yml'],1,ed68acfa72c110cf8eac4ffa889f96b6301d12c5,," # NOTE(noonedeadpunk): Incorrect permissions lead to CA certs re-generation as # openssl_privatekey gets changed when harmonizing ownership/permissions - name: Ensure private key has proper ownership file: state: file path: ""{{ ca_dir ~ '/private/' ~ ca.name ~ '.key.pem' }}"" mode: ""{{ ca.key_mode | default('0600') }}"" owner: ""{{ ca.key_owner | default('root') }}"" group: ""{{ ca.key_group | default('root') }}"" failed_when: false ",,11,0
openstack%2Fovn-bgp-agent~865641,openstack/ovn-bgp-agent,master,I7d704381c0585b642f0c420b98cd4090266fa2ce,More removal of duplicated code,MERGED,2022-11-29 10:06:55.000000000,2022-12-19 12:12:45.000000000,2022-12-19 12:12:45.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-29 10:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ec7ebc92401bec7dc16f7a6376bf976bff21b265', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 2, 'created': '2022-11-29 11:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a2edd0e975ae5121d2c87f1bf4d2483050a3b463', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 3, 'created': '2022-11-29 15:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/adbf8da25a70215517adab331cd7b4ed3a3234ff', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 4, 'created': '2022-11-29 18:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/33f946e0b6a7803ba879f9965a3a425c8fbf17d6', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 5, 'created': '2022-11-30 14:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d2287b67052cade085ecc702d7641526eed5e57e', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 6, 'created': '2022-11-30 15:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c1d67844e4a4ae6aa45e62ef02e9d1e55cc1f117', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 7, 'created': '2022-12-01 07:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/3367ef9f212528ddea583b72a0e19caf421cad49', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nStil missing:\n- Fix Sync\n- Fix withdraw, of both IPs and Subnets\n- Unittesting coverage\n- Documentation\n- Testing\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 8, 'created': '2022-12-01 09:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1d335cb30aac6f8f474dcab6cc76e3ec788a87c7', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nMost of the code in this patch sets is also related to avoid\ncode duplication by reusing the same functions for events and\nsync actions. This is needed to more easily integrate the\ndistributed routing support\n\nStil missing in this patch:\n- Fix Sync\n- Unittesting coverage\n- Documentation and current limitations\n- Testing\n\nTO DO in follow up patch sets:\n- Add proper support for ovn-lb\n- Ensure FIPs are supported and recovered properly\n- Removal of limitations on documentation\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 9, 'created': '2022-12-01 12:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5aa408e4592a97d5002106e833a0bbe2cd8aa031', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nMost of the code in this patch sets is also related to avoid\ncode duplication by reusing the same functions for events and\nsync actions. This is needed to more easily integrate the\ndistributed routing support\n\nStil missing in this patch:\n- Unittesting coverage\n- Testing\n\nTO DO in follow up patch sets:\n- Add proper support for ovn-lb\n- Ensure FIPs are supported and recovered properly\n- Documentation and current limitations\n- Release note\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 10, 'created': '2022-12-01 12:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/3c37b5915078db87c3dccad90c40573fa6b7bc2f', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nMost of the code in this patch sets is also related to avoid\ncode duplication by reusing the same functions for events and\nsync actions. This is needed to more easily integrate the\ndistributed routing support\n\nStil missing in this patch:\n- Unittesting coverage\n- Testing\n\nTO DO in follow up patch sets:\n- Add proper support for ovn-lb\n- Ensure FIPs are supported and recovered properly\n- Documentation and current limitations\n- Release note\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 11, 'created': '2022-12-12 10:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1f7e387cc7f3ee501d3f316e3b5646a2d2e64164', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nMost of the code in this patch sets is also related to avoid\ncode duplication by reusing the same functions for events and\nsync actions. This is needed to more easily integrate the\ndistributed routing support\n\nStil missing in this patch:\n- Unittesting coverage\n- Testing\n\nTO DO in follow up patch sets:\n- Add proper support for ovn-lb\n- Ensure FIPs are supported and recovered properly\n- Documentation and current limitations\n- Release note\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 12, 'created': '2022-12-12 10:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/bdaab04901012ab58e1148f4e1940adbb269875d', 'message': '[WIP] Add support for distributed routers\n\nWith this patch we add support for distributed routers. In that\ncase there is no need to go through a centralized node, as there\nis no cr-lrp created for it. Thus the traffic can be directly\nsent/received on the node where the VM is (the same as with FIPs\nwith DVR) but for tenant networks IPs.\n\nMost of the code in this patch sets is also related to avoid\ncode duplication by reusing the same functions for events and\nsync actions. This is needed to more easily integrate the\ndistributed routing support\n\nStil missing in this patch:\n- Unittesting coverage\n- Testing\n\nTO DO in follow up patch sets:\n- Add proper support for ovn-lb\n- Ensure FIPs are supported and recovered properly\n- Documentation and current limitations\n- Release note\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 13, 'created': '2022-12-12 11:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c5c9b4b37e00b120049f1d8a6441066e3e91b4c5', 'message': 'More removal of duplicated code\n\nAvoid code duplication by reusing the same functions for\nevents and sync actions.\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 14, 'created': '2022-12-12 15:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/793fe1a2dc2ad7392b35726a2b7276bb271287ca', 'message': 'More removal of duplicated code\n\nAvoid code duplication by reusing the same functions for\nevents and sync actions.\n\nIt also fixes a leak on NDB Proxy removal\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 15, 'created': '2022-12-13 07:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/de03f9c43a6911ede9bd436a4a377032774ae8c2', 'message': 'More removal of duplicated code\n\nAvoid code duplication by reusing the same functions for\nevents and sync actions.\n\nIt also fixes a leak on NDB Proxy removal\n\nIt also bumps the minimum coverage to 87%\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}, {'number': 16, 'created': '2022-12-13 07:59:44.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'tox.ini', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d8a26afe9af19ac073f3fd973982146ce74be8e0', 'message': 'More removal of duplicated code\n\nAvoid code duplication by reusing the same functions for\nevents and sync actions.\n\nIt also fixes a leak on NDB Proxy removal\n\nIt also bumps the minimum coverage to 87%\n\nChange-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce\n'}]",12,865641,d8a26afe9af19ac073f3fd973982146ce74be8e0,36,3,16,23567,,,0,"More removal of duplicated code

Avoid code duplication by reusing the same functions for
events and sync actions.

It also fixes a leak on NDB Proxy removal

It also bumps the minimum coverage to 87%

Change-Id: I7d704381c0585b642f0c420b98cd4090266fa2ce
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/41/865641/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/config.py']",3,ec7ebc92401bec7dc16f7a6376bf976bff21b265,," cfg.BoolOpt('distributed_routing', default=False, help='Enable if OVN routers are fully distributed, i.e., ' 'without centralized gateway chassis port (cr-lrp).'),",,130,83
openstack%2Fneutron-tempest-plugin~867922,openstack/neutron-tempest-plugin,master,Iad827b4bd04534bf19e189cebb2839ebe4d3837e,"Revert ""Update nested-virt testing for the 2023.1 cycle""",MERGED,2022-12-16 15:59:14.000000000,2022-12-19 12:11:40.000000000,2022-12-19 12:11:40.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 15:59:14.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml', 'zuul.d/yoga_jobs.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c30984a53005ed2d7a6a2d37f304bbd631be62d', 'message': 'Revert ""Update nested-virt testing for the 2023.1 cycle""\n\nThis reverts commit f0d7d3ee057a8a95c48cf8c343474fe96233bb5d.\n\nReason for revert: vexxhost node provider is having issues with\njammy nodes as guest vms are not booting on 40% of scenario jobs and leading to failures as mentioned in #1999249.\nAlso guest vms started to take too much memory(1GiB+) in jammy[1] so it\'s not possible to run multiple guests vms together like we do in our tests. Using swap makes vm boot too slow(200+ sec) on those systems and without swap it just ooom-kills.\n\nUntil vexxhost node provider supports jammy hosts or we are\nable to run our tests in non nested-virt providers[2] reverting\nthis switch, may need some job splits or ideally fixing [1] in nova\nor by some global libvirt/qemu config[3].\n\n[1] https://bugs.launchpad.net/nova/+bug/1949606\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867934\n[3] https://listman.redhat.com/archives/libvirt-users/2022-December/013844.html\n\nChange-Id: Iad827b4bd04534bf19e189cebb2839ebe4d3837e\nRelated-Bug: #1999249\n'}]",1,867922,3c30984a53005ed2d7a6a2d37f304bbd631be62d,8,5,1,13861,,,0,"Revert ""Update nested-virt testing for the 2023.1 cycle""

This reverts commit f0d7d3ee057a8a95c48cf8c343474fe96233bb5d.

Reason for revert: vexxhost node provider is having issues with
jammy nodes as guest vms are not booting on 40% of scenario jobs and leading to failures as mentioned in #1999249.
Also guest vms started to take too much memory(1GiB+) in jammy[1] so it's not possible to run multiple guests vms together like we do in our tests. Using swap makes vm boot too slow(200+ sec) on those systems and without swap it just ooom-kills.

Until vexxhost node provider supports jammy hosts or we are
able to run our tests in non nested-virt providers[2] reverting
this switch, may need some job splits or ideally fixing [1] in nova
or by some global libvirt/qemu config[3].

[1] https://bugs.launchpad.net/nova/+bug/1949606
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867934
[3] https://listman.redhat.com/archives/libvirt-users/2022-December/013844.html

Change-Id: Iad827b4bd04534bf19e189cebb2839ebe4d3837e
Related-Bug: #1999249
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/22/867922/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base-nested-switch.yaml', 'zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml', 'zuul.d/yoga_jobs.yaml', 'zuul.d/zed_jobs.yaml']",5,3c30984a53005ed2d7a6a2d37f304bbd631be62d,update-jammy,, nodeset: neutron-nested-virt-ubuntu-focal nodeset: neutron-nested-virt-ubuntu-focal nodeset: neutron-nested-virt-ubuntu-focal nodeset: neutron-nested-virt-ubuntu-focal nodeset: neutron-nested-virt-ubuntu-focal,3,49
openstack%2Ftripleo-common~867641,openstack/tripleo-common,master,Ifbfba09c8ac552cc3c18adb482540541a282488b,"Revert ""Preserve environment variables with buildah""",MERGED,2022-12-15 15:07:06.000000000,2022-12-19 11:57:08.000000000,2022-12-19 11:56:02.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-12-15 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e83c7bb0b199276d94c8b16a3271a462d1be35db', 'message': 'Revert ""Preserve environment variables with buildah""\n\nThis reverts commit 140fc48e736e9df5cb36fd30b0e683c79df5c333.\n\nReason for revert: Testing https://bugs.launchpad.net/tripleo/+bug/1999749\n\nChange-Id: Ifbfba09c8ac552cc3c18adb482540541a282488b\n'}, {'number': 2, 'created': '2022-12-19 05:10:16.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d2f7e7a4213dfed1e7d1fefc157c38ed3439f3d', 'message': 'Revert ""Preserve environment variables with buildah""\n\nThis reverts commit 140fc48e736e9df5cb36fd30b0e683c79df5c333.\n\nReason for revert:\nThe original change breaks authentication without authfile.\n\nCloses-Bug: #1999749\nChange-Id: Ifbfba09c8ac552cc3c18adb482540541a282488b\n'}]",3,867641,8d2f7e7a4213dfed1e7d1fefc157c38ed3439f3d,14,7,2,12393,,,0,"Revert ""Preserve environment variables with buildah""

This reverts commit 140fc48e736e9df5cb36fd30b0e683c79df5c333.

Reason for revert:
The original change breaks authentication without authfile.

Closes-Bug: #1999749
Change-Id: Ifbfba09c8ac552cc3c18adb482540541a282488b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/867641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,e83c7bb0b199276d94c8b16a3271a462d1be35db,buildah-env,"BUILDAH_CMD_BASE = ['sudo', 'buildah']","BUILDAH_CMD_BASE = ['sudo', '-E', 'buildah']",2,2
openstack%2Fcinder-specs~864020,openstack/cinder-specs,master,If7168afad1a0e53b9642478023bd4c20801f1916,Use assisted volume extend API,ABANDONED,2022-11-08 15:46:47.000000000,2022-12-19 11:34:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-11-08 15:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/b4f6604f82b5de649e9a79862f6dd099aa0340cf', 'message': 'Use assisted volume extend API\n\nThis blueprint proposes to use the assisted volume extend API that has\nbeen proposed for Nova, to support online extend for remotefs-based volume\ndrivers such as NFS, NetApp NFS, and Quobyte.\n\nChange-Id: If7168afad1a0e53b9642478023bd4c20801f1916\n'}, {'number': 2, 'created': '2022-11-09 10:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/075b4e2c14d7b00bb1b2be49a2d06cf35df2998e', 'message': 'Use assisted volume extend API\n\nThis spec proposes to use the assisted volume extend API that has been\nproposed for Nova, to support online extend for remotefs-based volume\ndrivers such as NFS, NetApp NFS, and Quobyte.\n\nBlueprint: use-assisted-volume-extend-api\nChange-Id: If7168afad1a0e53b9642478023bd4c20801f1916\n'}, {'number': 3, 'created': '2022-11-23 14:07:17.000000000', 'files': ['specs/2023.1/use-assisted-volume-extend-api.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/6b36f6e0f13d65452553222487a4a12a6789dc7f', 'message': 'Use assisted volume extend API\n\nThis spec proposes to use the assisted volume extend API that has been\nproposed for Nova, to support online extend for remotefs-based volume\ndrivers such as NFS, NetApp NFS, Powerstore NFS, and Quobyte.\n\nBlueprint: use-assisted-volume-extend-api\nChange-Id: If7168afad1a0e53b9642478023bd4c20801f1916\n'}]",25,864020,6b36f6e0f13d65452553222487a4a12a6789dc7f,10,2,3,34859,,,0,"Use assisted volume extend API

This spec proposes to use the assisted volume extend API that has been
proposed for Nova, to support online extend for remotefs-based volume
drivers such as NFS, NetApp NFS, Powerstore NFS, and Quobyte.

Blueprint: use-assisted-volume-extend-api
Change-Id: If7168afad1a0e53b9642478023bd4c20801f1916
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/20/864020/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/use-assisted-volume-extend-api.rst'],1,b4f6604f82b5de649e9a79862f6dd099aa0340cf,bp/use-assisted-volume-extend-api,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================== Use assisted volume extend API ============================== https://blueprints.launchpad.net/cinder/+spec/use-assisted-volume-extend-api This blueprint proposes to use the assisted volume extend API [1]_ that has been proposed for Nova, to support online extend for remotefs-based volume drivers such as NFS, NetApp NFS, and Quobyte. Problem description =================== Volumes managed by the NFS, NetApp NFS, and Quobyte drivers are regular files, (currently either raw or qcow2 formatted) hosted in a remote file system. The drivers use ``qemu-img resize`` to extend volumes offline. However, when the volume is attached to a guest, QEMU will lock the file and ``qemu-img`` will be unable to resize it. In this case, only the QEMU process holding the lock can resize the volume, which can be triggered with the ``block-resize`` command of the QEMU monitor. Nova already uses this command to notify QEMU of a change in volume size when handling a ``volume-extended`` external server event. A previous change tried to use this mechanism to support online extend for the NFS driver [2]_, but was abandoned. Problems with this approach were the lack of feedback from Nova on the success of the operation, and the risk of leaving the volume with an inconsistent size and state on a failure. The blueprint at [1]_ proposes a new synchronous API for assisted volume extend to fix those issues. Using this API requires some changes in Cinder, which this spec will describe. Use Cases ========= As a user, I want to extend a NFS/NetApp NFS/Quobyte volume while it is attached to an instance. Proposed change =============== This feature is somewhat comparable to the assisted snapshot mechanism, which has been integrated as a base class of the remotefs driver, that all the driver classes using assisted snapshots build on. Instead of introducing another new base class, the assisted extend feature will be available as a mixin for the remotefs driver, similar to the mixins used by the remotefs-based smbfs driver. The mixin will provide one private method to call the assisted extend API, and another one that wraps ``cinder.image.image_utils.resize_image()`` and serves as a drop-in replacement. The second method will call ``image_utils.resize_image()``, catch ``oslo_concurrency.processutils.ProcessExecutionError`` exceptions and check the stored ``stderr`` for a message indicating an active lock on the file (see the proposed change to ``nfs.py`` in [2]_ for an example on how to do that). If such a message is found, it will use the first method to call the assisted extend API. Trying ``image_utils.resize_image()`` for attached images is done in case the instance is in a state where the volume is no longer locked, such as ``SHELVED_OFFLOADED``. The NFS, Netapp NFS, and Quobyte drivers all use ``image_utils.resize_image``, so support for assisted extend will be added by inheriting from the new mixin and just replacing the call with the drop-in wrapper. Alternatives ------------ This spec assumes the synchronous API described in [1]_. Instead of handling the new feature in the remotefs driver, it could also be integrated into the base volume driver or the cinder-volume handler, to make it available to other drivers. However, since currently only remotefs-based drivers have use for the feature, and the related assisted snapshot feature is handled in the remotefs driver as well, this seems like the appropriate place to include it. The alternatives to a synchronous API listed in [1]_ require either polling or a new callback in the Cinder API. Both are more complex to implement than a synchronous call, but also have precedents in the Cinder: The existing assisted snapshot feature combines a callback (to change the snapshot status) and polling (for the changed snapshot status). This allows setup and cleanup of the operation to be handled by the same thread. The assisted volume migration feature uses only a callback, which requires the cleanup to be split into a different method, which may be called by a different thread handling the callback. For an asynchronous assisted volume extend, both would be possible but the pure callback option would require some data, such as the reference to the preliminary quota reservation, to be stored persistently in the volume metadata, so that the callback can either finalize or rollback the change. Data model impact ----------------- None REST API impact --------------- Calling ``os-extend`` on an attached volume managed by one of the affected drivers will no longer automatically result in an ``error_extending`` status. Instead, an assisted extend operation will be attempted and the volume status will be updated depending on the success of the operation. All errors encountered when calling the assisted volume extend API will be logged appropriately and result in a volume status of ``error_extending``. Security impact --------------- None Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: kgube Work Items ---------- * Implement the new mixin for the remotefs driver. * Add unit tests. * Update the NFS, Quobyte and Netapp NFS drivers to use the mixin. Dependencies ============ * The assisted volume extend API [1]_ Testing ======= Unit tests for the mixin should test for all the possible API responses listed in [1]_, as well as the case that the API is not yet available in Nova. They should also test the parsing of the qemu-img error for locked volumes. Unit tests for the affected drivers should be updated to test that the new API is used for extending attached volumes. Documentation Impact ==================== Cinders driver support matrix should be updated to show online resize support for all drivers using the new assisted volume extend API. References ========== .. [1] https://review.opendev.org/c/openstack/nova-specs/+/855490 .. [2] https://review.opendev.org/c/openstack/cinder/+/739079 ",,201,0
openstack%2Fopenstack-ansible-os_masakari~867460,openstack/openstack-ansible-os_masakari,master,I7503a87b371c245de6afd6260d2058663f21d4b7,Update master for stable/zed,ABANDONED,2022-12-13 13:17:00.000000000,2022-12-19 11:14:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-13 13:17:00.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/dad303fe019d956cfe394e20ec6fa53755a0426f', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I7503a87b371c245de6afd6260d2058663f21d4b7\n'}]",0,867460,dad303fe019d956cfe394e20ec6fa53755a0426f,3,1,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I7503a87b371c245de6afd6260d2058663f21d4b7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/60/867460/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,dad303fe019d956cfe394e20ec6fa53755a0426f,reno-zed,,,6,0
openstack%2Fansible-role-pki~867367,openstack/ansible-role-pki,master,I11ed4721e4af5b59e7cf0d3c590586c599af40e6,Update master for stable/zed,ABANDONED,2022-12-13 13:04:18.000000000,2022-12-19 11:13:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-13 13:04:18.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/f3e373628245bf878143b519a17bb53848d5701e', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I11ed4721e4af5b59e7cf0d3c590586c599af40e6\n'}]",2,867367,f3e373628245bf878143b519a17bb53848d5701e,5,2,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I11ed4721e4af5b59e7cf0d3c590586c599af40e6
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/67/867367/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,f3e373628245bf878143b519a17bb53848d5701e,reno-zed,======================== Zed Series Release Notes ======================== .. release-notes:: :branch: stable/zed ,,6,0
openstack%2Fneutron~866669,openstack/neutron,stable/zed,Ieb4cab11068747bd79868c6eb1778aab91447c30,Add address scope to the OVN LSP port registers,MERGED,2022-12-07 13:54:48.000000000,2022-12-19 10:51:10.000000000,2022-12-19 10:50:02.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-07 13:54:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c9ee242868216858d070b9ceef6a313ddc03602', 'message': 'Add address scope to the OVN LSP port registers\n\nTo be able to filter on the address scope of the ports in the\novn-bgp-agent we add the address scope of the subnet pool to\neach LSP port in the northbound. Northd writes it to the\nsouthbound so the ovn-bgp-agent has access to it. The\novn-bgp-agent talks directly to the southbound to announce\nthe networks via BGP that match the configured address scope.\n\nChange-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30\nCloses-Bug: #1996741\n(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)\n'}]",1,866669,2c9ee242868216858d070b9ceef6a313ddc03602,12,3,1,23567,,,0,"Add address scope to the OVN LSP port registers

To be able to filter on the address scope of the ports in the
ovn-bgp-agent we add the address scope of the subnet pool to
each LSP port in the northbound. Northd writes it to the
southbound so the ovn-bgp-agent has access to it. The
ovn-bgp-agent talks directly to the southbound to announce
the networks via BGP that match the configured address scope.

Change-Id: Ieb4cab11068747bd79868c6eb1778aab91447c30
Closes-Bug: #1996741
(cherry picked from commit 2272b9be9515553c41a791b7c7b518696c4a2ebb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/866669/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'releasenotes/notes/add-address-scope-to-the-OVN-LSP-port-registers-1f45e34815c3896d.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",6,2c9ee242868216858d070b9ceef6a313ddc03602,ovn_address_scope-stable/zed," # TODO(czesla): Remove this in the A+4 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def check_port_has_address_scope(self): if not self.has_lock: return ports = self._nb_idl.db_find_rows( ""Logical_Switch_Port"", (""type"", ""!="", ovn_const.LSP_TYPE_LOCALNET) ).execute(check_error=True) context = n_context.get_admin_context() with self._nb_idl.transaction(check_error=True) as txn: for port in ports: if ( port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE4_KEY ) is None or port.external_ids.get( ovn_const.OVN_SUBNET_POOL_EXT_ADDR_SCOPE6_KEY ) is None ): try: port_neutron = self._ovn_client._plugin.get_port( context, port.name ) port_info, external_ids = ( self._ovn_client.get_external_ids_from_port( port_neutron) ) txn.add(self._nb_idl.set_lswitch_port( port.name, external_ids=external_ids)) except n_exc.PortNotFound: # The sync function will fix this port pass except Exception: LOG.exception('Failed to update port %s', port.name) raise periodics.NeverAgain() ",,238,22
openstack%2Fironic-python-agent~867887,openstack/ironic-python-agent,bugfix/8.1,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 19:40:11.000000000,2022-12-19 10:47:24.000000000,2022-12-19 10:46:22.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/197e7d89c2e5a2af57bffed04dff422c84c48905', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 19:40:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ca85a708ec105b6a1aed093fcac489b13efaee44', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",1,867887,ca85a708ec105b6a1aed093fcac489b13efaee44,12,2,2,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/867887/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,197e7d89c2e5a2af57bffed04dff422c84c48905,,"passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY<<<<<<< HEAD (2982f8 CI: Zuul no longer respects queue param)======= deps = hacking>=4.1.0,<5.0.0 # Apache-2.0 >>>>>>> CHANGE (020c47 Fixes for tox 4.0)",skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = Falseusedevelop = False,12,5
openstack%2Fskyline-console~868056,openstack/skyline-console,master,I18457d3593761e36a7173488b646ebdedf656ec2,fix: fix the delete operation of cluster instance,MERGED,2022-12-19 06:59:54.000000000,2022-12-19 09:54:57.000000000,2022-12-19 09:53:35.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-19 06:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3ce471d81d705efa6f2f42cf75cadbb883922f76', 'message': 'fix: fix the delete operation of cluster instance\n\nDisable the delete operation if the stack is not ready or the status is `DELETE_IN_PROGRESS`\n\nChange-Id: I18457d3593761e36a7173488b646ebdedf656ec2\n'}, {'number': 2, 'created': '2022-12-19 08:07:51.000000000', 'files': ['src/pages/container-infra/containers/Clusters/actions/Delete.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7b6e8253a6237e3f5dfc7506fb222ee83a47f68b', 'message': 'fix: fix the delete operation of cluster instance\n\nDisable the delete operation if the stack is not ready or the status is `DELETE_IN_PROGRESS`\n\nChange-Id: I18457d3593761e36a7173488b646ebdedf656ec2\n'}]",0,868056,7b6e8253a6237e3f5dfc7506fb222ee83a47f68b,9,2,2,33689,,,0,"fix: fix the delete operation of cluster instance

Disable the delete operation if the stack is not ready or the status is `DELETE_IN_PROGRESS`

Change-Id: I18457d3593761e36a7173488b646ebdedf656ec2
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/56/868056/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/container-infra/containers/Clusters/actions/Delete.jsx'],1,3ce471d81d705efa6f2f42cf75cadbb883922f76,fix-magnum-bugs," allowedCheckFunc = (item) => { const { stack_id, status } = item; return Promise.resolve(!!stack_id && status !== 'DELETE_IN_PROGRESS'); };", allowedCheckFunc = () => true;,4,1
openstack%2Faodh~867592,openstack/aodh,stable/victoria,I074ef0ad4578abde73ae82efb18bc9edbceb7e81,Remove TripleO job,MERGED,2022-12-14 03:31:11.000000000,2022-12-19 09:54:33.000000000,2022-12-19 09:52:54.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 03:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/a892c2408da1281155a64f151a11f6dcadf81e67', 'message': 'Remove TripleO job\n\nThe TripleO job has been in the experimental queue but has never get\nany actual attention. Also, the job is not used in Ceilometer.\n\nConflicts:\n\t.zuul.yaml\n\nBackport note:\nstable/xena and stable/yoga were skipped because the tripleo job has\nbeen removed from these branches by different commits.\n\nChange-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81\n(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)\n'}, {'number': 2, 'created': '2022-12-14 05:36:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/85571a65b8901bd7a5a063db6eba5a5f5e8b8f9b', 'message': 'Remove TripleO job\n\nThe TripleO job has been in the experimental queue but has never get\nany actual attention. Also, the job is not used in Ceilometer.\n\nConflicts:\n\t.zuul.yaml\n\nBackport note:\nstable/xena and stable/yoga were skipped because the tripleo job has\nbeen removed from these branches by different commits.\n\nChange-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81\n(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)\n'}]",1,867592,85571a65b8901bd7a5a063db6eba5a5f5e8b8f9b,13,2,2,9816,,,0,"Remove TripleO job

The TripleO job has been in the experimental queue but has never get
any actual attention. Also, the job is not used in Ceilometer.

Conflicts:
	.zuul.yaml

Backport note:
stable/xena and stable/yoga were skipped because the tripleo job has
been removed from these branches by different commits.

Change-Id: I074ef0ad4578abde73ae82efb18bc9edbceb7e81
(cherry picked from commit 2eb0ae38fc54e9ab24dcfcb8528eb7dd340debfc)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/92/867592/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a892c2408da1281155a64f151a11f6dcadf81e67,,," experimental: jobs: # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. # NOTE(sileht): These job takes 3 hours and fail most of the times. # While other jobs take 20-30 minutes # We can reenable it when they take less times. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone",0,17
openstack%2Ftripleo-ci~868063,openstack/tripleo-ci,master,I7e66aec434ccf39b04b533c38f7c18b8d914584f,Set REGISTRY_AUTH_FILE env var before running tcib,ABANDONED,2022-12-19 09:27:51.000000000,2022-12-19 09:49:18.000000000,,[],"[{'number': 1, 'created': '2022-12-19 09:27:51.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ad8462c69b0be6433537898b1012acb0c534707', 'message': 'Set REGISTRY_AUTH_FILE env var before running tcib\n\nhttps://review.opendev.org/c/openstack/tripleo-common/+/867080\npreserve environment variables with buildah. In order to use\nthe above patch, we need to set REGISTRY_AUTH_FILE env var\nfor buildah command(executed by tcib) otherwise container\npush will fail.\n\nSince buildah commands run with sudo. So we need to pass\nthe REGISTRY_AUTH_FILE to /run/containers/0/auth.json\nto use login and allow the containers push.\n\nCloses-Bug: #1999749\n\nSigned-off-by: Chandan Kumar <chkumar@redhat.com>\nChange-Id: I7e66aec434ccf39b04b533c38f7c18b8d914584f\n'}]",0,868063,3ad8462c69b0be6433537898b1012acb0c534707,2,0,1,12393,,,0,"Set REGISTRY_AUTH_FILE env var before running tcib

https://review.opendev.org/c/openstack/tripleo-common/+/867080
preserve environment variables with buildah. In order to use
the above patch, we need to set REGISTRY_AUTH_FILE env var
for buildah command(executed by tcib) otherwise container
push will fail.

Since buildah commands run with sudo. So we need to pass
the REGISTRY_AUTH_FILE to /run/containers/0/auth.json
to use login and allow the containers push.

Closes-Bug: #1999749

Signed-off-by: Chandan Kumar <chkumar@redhat.com>
Change-Id: I7e66aec434ccf39b04b533c38f7c18b8d914584f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/868063/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,3ad8462c69b0be6433537898b1012acb0c534707,bug/1999749, environment: REGISTRY_AUTH_FILE: /run/containers/0/auth.json,,2,0
openstack%2Ftripleo-heat-templates~861363,openstack/tripleo-heat-templates,stable/wallaby,I93090eb788904775d7eeeff7da84ccd5c99f8da8,Test standalone-wallaby-ffu,ABANDONED,2022-10-14 12:03:32.000000000,2022-12-19 08:56:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-14 12:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c63122ea0cf99d0dce4c81948204c8f0901bf9e', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 2, 'created': '2022-10-17 10:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61d43d825c34e32c1a22eece46691e5bf28b88aa', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 3, 'created': '2022-10-17 12:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb87fbcaec618e841251dd56c359706019a5c05f', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 4, 'created': '2022-10-17 12:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/551cc108eab4ddd078cda0670571987378fc6133', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 5, 'created': '2022-10-17 13:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/faebdf6b0394ed265fb2efdb9c3d5df162cf0dd8', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 6, 'created': '2022-10-17 13:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83399c3ab2866516f7902d8349a0a34179e740b5', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 7, 'created': '2022-10-26 13:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbae6670997980a69742955f7c11b8d19f5f164d', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861154\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 8, 'created': '2022-10-31 11:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c972479701017664cdcdd1d899dd01d6fefd37dc', 'message': 'WIP standalone-wallaby-upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 9, 'created': '2022-11-04 08:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f34c7c449a17c6374f8b77808f6f324c3f544080', 'message': 'Test standalone-wallaby-ffu\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863597\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 10, 'created': '2022-11-06 07:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d49d2b7cbc086c868cd36e988ff61334116e5d55', 'message': 'Test standalone-wallaby-ffu\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863597\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 11, 'created': '2022-11-07 11:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd8cd977ff55075ba1b881a840d9b2a3ba5e92b5', 'message': 'Test standalone-wallaby-ffu\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/863814\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863597\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861154\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 12, 'created': '2022-11-07 16:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5228cf2648810fd4bc27c3f82831e3214f3e350a', 'message': 'Test standalone-wallaby-ffu\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/863814\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863597\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}, {'number': 13, 'created': '2022-11-08 14:44:26.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/649a13d1917736b1216f84901ec779d5b5b0baa3', 'message': 'Test standalone-wallaby-ffu\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/863814\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863597\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861154\n\nChange-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8\n'}]",19,861363,649a13d1917736b1216f84901ec779d5b5b0baa3,78,2,13,22954,,,0,"Test standalone-wallaby-ffu

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/829711
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829713
Depends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/863814
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/863597
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861154

Change-Id: I93090eb788904775d7eeeff7da84ccd5c99f8da8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/861363/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'zuul.d/layout.yaml']",2,2c63122ea0cf99d0dce4c81948204c8f0901bf9e,standalone_ffu, #- tripleo-undercloud-jobs-pipeline #- tripleo-multinode-container-minimal-pipeline #- check-requirements #- release-notes-jobs-python3 #- openstack-python3-wallaby-jobs #- #tripleo-standalone-multinode-ipa-pipeline, - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - openstack-python3-wallaby-jobs - tripleo-standalone-multinode-ipa-pipeline,7,7
openstack%2Faodh~867305,openstack/aodh,stable/victoria,I8e34872b550c3a2fe0bb251f4686b55cfe6e8733,Replace oslo_utils.fnmatch with fnmatch,MERGED,2022-12-13 21:07:52.000000000,2022-12-19 07:45:43.000000000,2022-12-19 07:44:15.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 21:07:52.000000000', 'files': ['aodh/evaluator/event.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/7e73e6111e7173604bcb1ef28a285e4d47fbc72f', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\nDepends-On: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/853829\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/855344\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n(cherry picked from commit 865d6d9cdb796aba8c4edf08363cd73869776c74)\n""}]",0,867305,7e73e6111e7173604bcb1ef28a285e4d47fbc72f,7,2,1,13177,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b
Depends-On: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/853829
Depends-On: https://review.opendev.org/c/openstack/devstack/+/855344

Change-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733
(cherry picked from commit 865d6d9cdb796aba8c4edf08363cd73869776c74)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/05/867305/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/evaluator/event.py'],1,7e73e6111e7173604bcb1ef28a285e4d47fbc72f,fnmatch-stable/wallaby-stable/victoria,import fnmatch,from oslo_utils import fnmatch,1,1
openstack%2Fskyline-console~868050,openstack/skyline-console,master,I152e611d1478e149baf9104143ca18171e799730,feat: support custom render in the TabDetail component,MERGED,2022-12-19 03:35:52.000000000,2022-12-19 06:41:39.000000000,2022-12-19 06:40:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-12-19 03:35:52.000000000', 'files': ['src/containers/TabDetail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2d437e5b4e6e2b1a2a40ef86105c14d43a548883', 'message': 'feat: support custom render in the TabDetail component\n\nsupport custom render in the TabDetail, not only the class or string\n\nChange-Id: I152e611d1478e149baf9104143ca18171e799730\n'}]",0,868050,2d437e5b4e6e2b1a2a40ef86105c14d43a548883,8,3,1,30434,,,0,"feat: support custom render in the TabDetail component

support custom render in the TabDetail, not only the class or string

Change-Id: I152e611d1478e149baf9104143ca18171e799730
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/50/868050/1 && git format-patch -1 --stdout FETCH_HEAD,['src/containers/TabDetail/index.jsx'],1,2d437e5b4e6e2b1a2a40ef86105c14d43a548883,detail," const { component, key, render } = tabItem; if (render) { return render; }"," const { component, key } = tabItem;",4,1
openstack%2Ftripleo-upgrade~861964,openstack/tripleo-upgrade,stable/train,Ic42348412fa261065a6c8f01c1b0c4bfcfba3f9e,[train-only] fix ipa script to handle expired passwd,ABANDONED,2022-10-20 10:39:58.000000000,2022-12-19 04:46:46.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}, {'_account_id': 33080}, {'_account_id': 34847}]","[{'number': 1, 'created': '2022-10-20 10:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/34c652ac4533f05733eec9da3de9513392f1749c', 'message': '[train-only] fix ipa script to handle expired passwd\n\nuse ldappasswd to reset the admin password when admin password expires\n\nChange-Id: Ic42348412fa261065a6c8f01c1b0c4bfcfba3f9e\n'}, {'number': 2, 'created': '2022-10-20 14:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7f4608e5b3a29f9387fd57fe12f5491e7fbc8176', 'message': '[train-only] fix ipa script to handle expired passwd\n\nFreeipa admin password expire after couple of month. It cause issue when\nimage set are used. Using ldappasswd to we can reset the admin password\nwhen password expires.\n\nChange-Id: Ic42348412fa261065a6c8f01c1b0c4bfcfba3f9e\n'}, {'number': 3, 'created': '2022-10-21 04:47:46.000000000', 'files': ['templates/ipa-permission.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d16d0a0dbf116e49501595f6875ddd195e47a1aa', 'message': '[train-only] fix ipa script to handle expired passwd\n\nFreeipa admin password expire after couple of month. It cause issue when\nimage set are used. Using ldappasswd to we can reset the admin password\nwhen password expires.\n\nChange-Id: Ic42348412fa261065a6c8f01c1b0c4bfcfba3f9e\n'}]",4,861964,d16d0a0dbf116e49501595f6875ddd195e47a1aa,11,5,3,29307,,,0,"[train-only] fix ipa script to handle expired passwd

Freeipa admin password expire after couple of month. It cause issue when
image set are used. Using ldappasswd to we can reset the admin password
when password expires.

Change-Id: Ic42348412fa261065a6c8f01c1b0c4bfcfba3f9e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/64/861964/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ipa-permission.sh.j2'],1,34c652ac4533f05733eec9da3de9513392f1749c,OSP-19331," # Reset admin password sudo yum install -y openldap-clients ldappasswd -ZZ -D 'cn=Directory Manager' uid=admin,cn=users,cn=accounts,dc=redhat,dc=local -H ldap://freeipa-0.redhat.local \ -a {{ freeipa_admin_password }} -w redhat_01 -s {{ freeipa_admin_password }} ",,6,0
openstack%2Floci~858556,openstack/loci,master,I81a7d02b852fd53a3830bed92e3991da68cd3a6f,[WIP] Update centos repos and mirror,NEW,2022-09-20 16:40:01.000000000,2022-12-18 18:59:46.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-20 16:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6b71adfcb05c9ecc12e671db893a45bb02930270', 'message': '[WIP] Update centos repos and mirror\n\nDid the centos mirrors move? Also, are the other repos needed?\n\nChange-Id: I81a7d02b852fd53a3830bed92e3991da68cd3a6f\n'}, {'number': 2, 'created': '2022-09-20 16:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4b7b8624fbefa81b5da31f74d97e26c9da05aae8', 'message': '[WIP] Update centos repos and mirror\n\nDid the centos mirrors move? Also, are the other repos needed?\n\nChange-Id: I81a7d02b852fd53a3830bed92e3991da68cd3a6f\nRelated-Id: Ia4f4d6eaee6d9e272f5276ce961691fa980cd957\n'}, {'number': 3, 'created': '2022-12-18 18:31:38.000000000', 'files': ['dockerfiles/centos/Dockerfile', 'dockerfiles/centos/CentOS.repo'], 'web_link': 'https://opendev.org/openstack/loci/commit/47a6b4e53210eab719d5a1cd3c9b81fb102e35c5', 'message': '[WIP] Update centos repos and mirror\n\nDid the centos mirrors move? Also, are the other repos needed?\n\nChange-Id: I81a7d02b852fd53a3830bed92e3991da68cd3a6f\nRelated-Id: Ia4f4d6eaee6d9e272f5276ce961691fa980cd957\n'}]",2,858556,47a6b4e53210eab719d5a1cd3c9b81fb102e35c5,8,2,3,14119,,,0,"[WIP] Update centos repos and mirror

Did the centos mirrors move? Also, are the other repos needed?

Change-Id: I81a7d02b852fd53a3830bed92e3991da68cd3a6f
Related-Id: Ia4f4d6eaee6d9e272f5276ce961691fa980cd957
",git fetch https://review.opendev.org/openstack/loci refs/changes/56/858556/1 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/centos/Dockerfile', 'dockerfiles/centos/CentOS.repo']",2,6b71adfcb05c9ecc12e671db893a45bb02930270,test_centos_fix,baseurl=http://%%PACKAGE_MIRROR%%/$releasever-stream/AppStream/$basearch/os/baseurl=http://%%PACKAGE_MIRROR%%/$releasever-stream/BaseOS/$basearch/os/#[extras] #name=CentOS Linux $releasever - Extras #baseurl=http://%%PACKAGE_MIRROR%%/$releasever-stream/extras/$basearch/os/ #gpgcheck=1 #gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial #[powertools] #name=CentOS Linux $releasever - PowerTools #baseurl=http://%%PACKAGE_MIRROR%%/$releasever-stream/PowerTools/$basearch/os/ #gpgcheck=1 #gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial # Is CloudSIG putting things out for centos 9 yet? #[openstack] #name=CentOS-$releasever - OpenStack #baseurl=http://%%PACKAGE_MIRROR%%/$releasever-stream/cloud/$basearch/openstack-yoga/ #gpgcheck=1 #gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Cloudbaseurl=http://%%PACKAGE_MIRROR%%/$releasever-stream/AppStream/$basearch/os/,baseurl=http://%%PACKAGE_MIRROR%%/$contentdir/$releasever/AppStream/$basearch/os/baseurl=http://%%PACKAGE_MIRROR%%/$contentdir/$releasever/BaseOS/$basearch/os/[extras] name=CentOS Linux $releasever - Extras baseurl=http://%%PACKAGE_MIRROR%%/$contentdir/$releasever/extras/$basearch/os/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial [powertools] name=CentOS Linux $releasever - PowerTools baseurl=http://%%PACKAGE_MIRROR%%/$contentdir/$releasever/PowerTools/$basearch/os/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial [openstack] name=CentOS-$releasever - OpenStack baseurl=http://%%PACKAGE_MIRROR%%/centos/$releasever/cloud/$basearch/openstack-victoria/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Cloudbaseurl=http://%%PACKAGE_MIRROR%%/$contentdir/$releasever-stream/AppStream/$basearch/os/,20,19
openstack%2Fopenstack-helm~856277,openstack/openstack-helm,master,Ie6bd10ef1b7819c17885ed4381a5e886b92bca71,"Adds ""use_external_ingress_controller"" option",ABANDONED,2022-09-07 13:11:23.000000000,2022-12-18 18:24:51.000000000,,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2022-09-07 13:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c35ff517cfa19263e7a4a4b0e03de89517068213', 'message': 'Adds ""use_external_ingress_controller"" option\nThe new field allows creating a single ingress resource when using\na single external ingress controller. If enabled only one ingress\nresource (ingressName-namespace-fqdn) will be created instead of\ntwo (cluster and namespace).\n\nRelates to openstack-helm-infra 845253 and 849666 changes.\n\nChange-Id: Ie6bd10ef1b7819c17885ed4381a5e886b92bca71\n'}, {'number': 2, 'created': '2022-09-07 13:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/489cd7b7ade7f20d8e64ab9180d891a512a80fe9', 'message': 'Adds ""use_external_ingress_controller"" option\n\nThe new field allows creating a single ingress resource when using\na single external ingress controller. If enabled only one ingress\nresource (ingressName-namespace-fqdn) will be created instead of\ntwo (cluster and namespace).\n\nRelates to openstack-helm-infra 845253 and 849666 changes.\n\nChange-Id: Ie6bd10ef1b7819c17885ed4381a5e886b92bca71\n'}, {'number': 3, 'created': '2022-09-07 13:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d440f1a523f2271e747085389f4d48e9c8c0e8b3', 'message': 'Adds ""use_external_ingress_controller"" option\n\nThe new field allows creating a single ingress resource when using\na single external ingress controller. If enabled only one ingress\nresource (ingressName-namespace-fqdn) will be created instead of\ntwo (cluster and namespace).\n\nRelates to openstack-helm-infra 845253 and 849666 changes.\n\nChange-Id: Ie6bd10ef1b7819c17885ed4381a5e886b92bca71\n'}, {'number': 4, 'created': '2022-11-01 15:56:02.000000000', 'files': ['heat/Chart.yaml', 'releasenotes/notes/ironic.yaml', 'horizon/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'cinder/Chart.yaml', 'keystone/values.yaml', 'designate/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/senlin.yaml', 'senlin/values.yaml', 'mistral/values.yaml', 'cyborg/Chart.yaml', 'senlin/Chart.yaml', 'barbican/values.yaml', 'releasenotes/notes/aodh.yaml', 'magnum/values.yaml', 'releasenotes/notes/placement.yaml', 'aodh/values.yaml', 'ironic/Chart.yaml', 'neutron/Chart.yaml', 'nova/Chart.yaml', 'octavia/values.yaml', 'designate/values.yaml', 'glance/Chart.yaml', 'placement/values.yaml', 'releasenotes/notes/cyborg.yaml', 'nova/values.yaml', 'placement/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'ceilometer/Chart.yaml', 'cyborg/values.yaml', 'keystone/Chart.yaml', 'releasenotes/notes/magnum.yaml', 'releasenotes/notes/heat.yaml', 'glance/values.yaml', 'magnum/Chart.yaml', 'barbican/Chart.yaml', 'ironic/values.yaml', 'releasenotes/notes/mistral.yaml', 'releasenotes/notes/nova.yaml', 'aodh/Chart.yaml', 'mistral/Chart.yaml', 'heat/values.yaml', 'releasenotes/notes/glance.yaml', 'cinder/values.yaml', 'releasenotes/notes/keystone.yaml', 'releasenotes/notes/horizon.yaml', 'releasenotes/notes/barbican.yaml', 'releasenotes/notes/ceilometer.yaml', 'releasenotes/notes/designate.yaml', 'octavia/Chart.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1634e12e68e6cf89dc69c256a5714d87064903ba', 'message': 'Adds ""use_external_ingress_controller"" option\n\nThe new field allows creating a single ingress resource when using\na single external ingress controller. If enabled only one ingress\nresource (ingressName-namespace-fqdn) will be created instead of\ntwo (cluster and namespace).\n\nRelates to openstack-helm-infra 845253 and 849666 changes.\n\nChange-Id: Ie6bd10ef1b7819c17885ed4381a5e886b92bca71\n'}]",2,856277,1634e12e68e6cf89dc69c256a5714d87064903ba,10,6,4,31052,,,0,"Adds ""use_external_ingress_controller"" option

The new field allows creating a single ingress resource when using
a single external ingress controller. If enabled only one ingress
resource (ingressName-namespace-fqdn) will be created instead of
two (cluster and namespace).

Relates to openstack-helm-infra 845253 and 849666 changes.

Change-Id: Ie6bd10ef1b7819c17885ed4381a5e886b92bca71
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/856277/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'glance/values.yaml', 'octavia/values.yaml', 'horizon/values.yaml', 'designate/values.yaml', 'ceilometer/values.yaml', 'placement/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'cyborg/values.yaml', 'senlin/values.yaml']",18,c35ff517cfa19263e7a4a4b0e03de89517068213,use_external_ingress_controller, # enable this if you have only one external ingress controller to create a single # ingress resource (ingressName-namespace-fqdn) # if enabled ingress resources (ingressName-cluster-fqdn) won't be created use_external_ingress_controller: false,,73,0
openstack%2Fmanila-tempest-plugin~866399,openstack/manila-tempest-plugin,master,Iecc7b825913dfebe3b5a383bbe56ffc8665ae3eb,[RBAC] Add availability zones tests,MERGED,2022-12-01 20:56:59.000000000,2022-12-18 11:06:05.000000000,2022-12-18 11:06:05.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-01 20:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/24fe4042150d6cc75d217ce090b5d3480d6a9a44', 'message': '[RBAC] Add Availability zones tests\n\nChange-Id: Iecc7b825913dfebe3b5a383bbe56ffc8665ae3eb\n'}, {'number': 2, 'created': '2022-12-01 22:13:16.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_availability_zones.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/937338e055c3f83979941aa7510f9ab6407731e2', 'message': '[RBAC] Add availability zones tests\n\nValidate policy of availability zones actions\nfor admin, member and reader users in a project scope.\n\nChange-Id: Iecc7b825913dfebe3b5a383bbe56ffc8665ae3eb\n'}]",3,866399,937338e055c3f83979941aa7510f9ab6407731e2,14,3,2,30025,,,0,"[RBAC] Add availability zones tests

Validate policy of availability zones actions
for admin, member and reader users in a project scope.

Change-Id: Iecc7b825913dfebe3b5a383bbe56ffc8665ae3eb
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/99/866399/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/rbac/test_availability_zones.py'],1,24fe4042150d6cc75d217ce090b5d3480d6a9a44,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.lib import decorators from testtools import testcase as tc from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base class ShareRbacAvailabilityZonesTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super(ShareRbacAvailabilityZonesTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() @abc.abstractmethod def test_list_availability_zones(self): pass class TestProjectAdminTestsNFS(ShareRbacAvailabilityZonesTests, base.BaseSharesTest): credentials = ['project_admin'] @decorators.idempotent_id('87d9bb1c-f4de-40e5-8f25-05a6e1055c0b') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_availability_zones(self): self.do_request('list_availability_zones', expected_status=200) class TestProjectMemberTestsNFS(ShareRbacAvailabilityZonesTests, base.BaseSharesTest): credentials = ['project_member'] @decorators.idempotent_id('ee2db349-176a-47bc-a20d-5ba9b5f8a813') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_availability_zones(self): self.do_request('list_availability_zones', expected_status=200) class TestProjectReaderTestsNFS(ShareRbacAvailabilityZonesTests, base.BaseSharesTest): credentials = ['project_reader'] @decorators.idempotent_id('a095fac8-ae62-4be7-8a3e-b0fc1bc71348') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_availability_zones(self): self.do_request('list_availability_zones', expected_status=200) ",,69,0
openstack%2Fironic~867933,openstack/ironic,master,I0b7875cbe364abb66a84b2d081dd890e9bba2758,Use persistent boot for supermicro,NEW,2022-12-16 05:41:18.000000000,2022-12-18 10:29:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-16 05:41:18.000000000', 'files': ['ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef5232d4e0597abfaa130aa86d3130a016c65b8b', 'message': 'Use persistent boot for supermicro\n\nSupermicro unfortunately have not followed IPMI spec for boot device\nselsection. To be specific, they requires persistent boot flag to change\nboot device via IMPI.\n\nAdd workaround to enable the persistent flag for every cases only for\nsupermicro.\n\nStory: 2009726\nChange-Id: I0b7875cbe364abb66a84b2d081dd890e9bba2758\n'}]",0,867933,ef5232d4e0597abfaa130aa86d3130a016c65b8b,5,1,1,26970,,,0,"Use persistent boot for supermicro

Supermicro unfortunately have not followed IPMI spec for boot device
selsection. To be specific, they requires persistent boot flag to change
boot device via IMPI.

Add workaround to enable the persistent flag for every cases only for
supermicro.

Story: 2009726
Change-Id: I0b7875cbe364abb66a84b2d081dd890e9bba2758
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/867933/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,ef5232d4e0597abfaa130aa86d3130a016c65b8b,," vendor = task.node.properties.get('vendor', None) if vendor and vendor.lower() == 'supermicro': persistent = True LOG.warn( ""Supermicro requires persistent boot to change boot device. "" ""Override 'force_persistent_boot_device = true'."" ) ",,8,0
openstack%2Ftripleo-ansible~867074,openstack/tripleo-ansible,master,Iad7af0b7eca794042cfa82ff79d766d13b63c08a,Remove the infra_image from containers.conf,ABANDONED,2022-12-09 04:21:10.000000000,2022-12-18 09:42:36.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 35491}]","[{'number': 1, 'created': '2022-12-09 04:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/936ed070e48c043a863a4a40989bbe048e00093c', 'message': ""[WIP] Remove the infra_state from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 2, 'created': '2022-12-09 04:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b56105e27c496c7d882303ee44d1c842f134255f', 'message': ""[WIP] Remove the infra_image from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 3, 'created': '2022-12-09 06:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6801e7613ae2f1470c6a149076683e56ef2e490', 'message': ""[WIP] Remove the infra_image from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 4, 'created': '2022-12-10 01:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88cdd07030608ca23386f2cc76fa2ddea1cfe61c', 'message': ""Remove the infra_image from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 5, 'created': '2022-12-10 01:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db93a34cfd9648abb70b9ecc83a6c9b4f6e81df4', 'message': ""[WIP] Remove the infra_image from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 6, 'created': '2022-12-10 02:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d16ae4578926b90d8e982d5ad93a99ed0029023a', 'message': ""Remove the infra_image from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 7, 'created': '2022-12-10 08:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bdbb0bdec662f8386ecee9f41a5637ef8267e908', 'message': ""Remove the infra_image from containers.conf\n\nThe infra_image option from containers.conf. By\ndefault, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the buildin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}, {'number': 8, 'created': '2022-12-13 08:58:12.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b1cbdae8cdfa95f5d7d9d2b7513f1fe62a6d7f7', 'message': ""Remove the infra_image from containers.conf\n\nBy default, container engines run a builtin container\nusing the pause executable. If we override it,\nthen podman will try to pull the container. If it's\nnot set, podman will use the builtin container.\n\nThis change should remove the need to pull additional\ncontainers outside of the CIP process by allowing podman\nto use the default container and pause executable.\n\nResolves: rhbz#2149493\nChange-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a\n""}]",8,867074,1b1cbdae8cdfa95f5d7d9d2b7513f1fe62a6d7f7,30,4,8,30073,,,0,"Remove the infra_image from containers.conf

By default, container engines run a builtin container
using the pause executable. If we override it,
then podman will try to pull the container. If it's
not set, podman will use the builtin container.

This change should remove the need to pull additional
containers outside of the CIP process by allowing podman
to use the default container and pause executable.

Resolves: rhbz#2149493
Change-Id: Iad7af0b7eca794042cfa82ff79d766d13b63c08a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/867074/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/install.yml'],1,936ed070e48c043a863a4a40989bbe048e00093c,remove-infra_image," state: ""{{ item.state }}"" state: present state: present state: preset state: absent state: present",,6,0
openstack%2Fopenstack-helm-images~868039,openstack/openstack-helm-images,master,I6866b08b54379ce34f9d8e140145102940d18882,feat : use --no-cache-dir flag to pip in dockerfiles to save space,ABANDONED,2022-12-18 06:21:38.000000000,2022-12-18 07:13:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 31020}]","[{'number': 1, 'created': '2022-12-18 06:21:38.000000000', 'files': ['prometheus-openstack-exporter/Dockerfile.ubuntu_bionic', 'elasticsearch-s3/Dockerfile.7_6_2', 'nagios/Dockerfile.ubuntu_bionic', 'tempest/Dockerfile.ubuntu_focal', 'osh-selenium/Dockerfile.ubuntu_bionic', 'vbmc/Dockerfile.centos_7', 'vbmc/Dockerfile.suse_15', 'calicoctl-utility/Dockerfile.alpine', 'elasticsearch-s3/Dockerfile.7_1_0', 'osh-selenium/Dockerfile.opensuse_15', 'ospurge/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/66eb5414891357538c6197afda729bd46cdcc16a', 'message': 'feat : use --no-cache-dir flag to pip in dockerfiles to save space\n\nusing the ""--no-cache-dir"" flag in pip install, make sure downloaded packages by pip don\'t cache on the system. This is a best practice that makes sure to fetch from a repo instead of using a local cached one. Further, in the case of Docker Containers, by restricting caching, we can reduce image size. In terms of stats, it depends upon the number of python packages multiplied by their respective size. e.g for heavy packages with a lot of dependencies it reduces a lot by don\'t cache pip packages.\n\nFurther, more detailed information can be found at\n\nhttps://medium.com/sciforce/strategies-of-docker-images-optimization-2ca9cc5719b6\n\nSigned-off-by: Pratik Raj <rajpratik71@gmail.com>\nChange-Id: I6866b08b54379ce34f9d8e140145102940d18882\n'}]",1,868039,66eb5414891357538c6197afda729bd46cdcc16a,4,2,1,31020,,,0,"feat : use --no-cache-dir flag to pip in dockerfiles to save space

using the ""--no-cache-dir"" flag in pip install, make sure downloaded packages by pip don't cache on the system. This is a best practice that makes sure to fetch from a repo instead of using a local cached one. Further, in the case of Docker Containers, by restricting caching, we can reduce image size. In terms of stats, it depends upon the number of python packages multiplied by their respective size. e.g for heavy packages with a lot of dependencies it reduces a lot by don't cache pip packages.

Further, more detailed information can be found at

https://medium.com/sciforce/strategies-of-docker-images-optimization-2ca9cc5719b6

Signed-off-by: Pratik Raj <rajpratik71@gmail.com>
Change-Id: I6866b08b54379ce34f9d8e140145102940d18882
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/39/868039/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/Dockerfile.ubuntu_bionic', 'elasticsearch-s3/Dockerfile.7_6_2', 'nagios/Dockerfile.ubuntu_bionic', 'tempest/Dockerfile.ubuntu_focal', 'osh-selenium/Dockerfile.ubuntu_bionic', 'vbmc/Dockerfile.centos_7', 'vbmc/Dockerfile.suse_15', 'calicoctl-utility/Dockerfile.alpine', 'elasticsearch-s3/Dockerfile.7_1_0', 'osh-selenium/Dockerfile.opensuse_15', 'ospurge/Dockerfile.ubuntu_bionic']",11,66eb5414891357538c6197afda729bd46cdcc16a,optimization/pip-no-cache-dir,RUN pip install --no-cache-dir ospurge python-openstackclient,RUN pip install ospurge python-openstackclient,19,19
openstack%2Fcinder~855451,openstack/cinder,stable/yoga,Ia9f22d630ff9d9541bb36e5506679dd15c27d5d5,[SVf] : Fix the SVC code level for lsfcportsetmember call,MERGED,2022-09-01 06:47:40.000000000,2022-12-17 23:01:24.000000000,2022-12-17 23:00:08.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-09-01 06:47:40.000000000', 'files': ['releasenotes/notes/bug-1976499-storwize-lsfcportsetmember_is_being_called_in_the_wrong_SVC_code_level-db06c4eca902f389.yaml', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4de3270c9c8be0a4d3f172086d2cef9f2563400d', 'message': ""[SVf] : Fix the SVC code level for lsfcportsetmember call\n\n[Spectrum Virtualize family] lsfcportsetmember call was\nintroduced in SVC code level 8.5.x. But during portset implementation,\nlsfcportsetmember was included in 8.4.2.0 which is incorrect as SVC\n8.4.2.0 doesn't recognise this command.\n\nCorrecting the SVC code level for lsfcportsetmember call.\n\nCloses-Bug: #1976499\nChange-Id: Ia9f22d630ff9d9541bb36e5506679dd15c27d5d5\n(cherry picked from commit 0df29396bfa4eca306b5e4700defbfa5d5637b24)\n""}]",12,855451,4de3270c9c8be0a4d3f172086d2cef9f2563400d,47,7,1,32074,,,0,"[SVf] : Fix the SVC code level for lsfcportsetmember call

[Spectrum Virtualize family] lsfcportsetmember call was
introduced in SVC code level 8.5.x. But during portset implementation,
lsfcportsetmember was included in 8.4.2.0 which is incorrect as SVC
8.4.2.0 doesn't recognise this command.

Correcting the SVC code level for lsfcportsetmember call.

Closes-Bug: #1976499
Change-Id: Ia9f22d630ff9d9541bb36e5506679dd15c27d5d5
(cherry picked from commit 0df29396bfa4eca306b5e4700defbfa5d5637b24)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/855451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1976499-storwize-lsfcportsetmember_is_being_called_in_the_wrong_SVC_code_level-db06c4eca902f389.yaml', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,4de3270c9c8be0a4d3f172086d2cef9f2563400d,bug/1976499-stable/yoga," if code_level >= (8, 5, 0, 0):"," if code_level >= (8, 4, 2, 0):",8,1
openstack%2Fnova~854119,openstack/nova,master,Id0afff271d345a94aa83fc886e9c3231c3ff2570,Make allocation candidates available for scheduler filters,MERGED,2022-08-23 09:06:35.000000000,2022-12-17 17:13:40.000000000,2022-12-17 17:12:31.000000000,"[{'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-08-23 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0171525e8777a0c230f92d95e6cee243fed75c34', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 2, 'created': '2022-08-23 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ab45b6a86ea82a5a756f521367b97cc53efdb8d', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 3, 'created': '2022-08-23 17:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7deee526785283cdb94b03ab44b1471d4a530b0d', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 4, 'created': '2022-08-24 17:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a2d5657ad0e5f985421b43405c1ad21d1d52428', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 5, 'created': '2022-08-25 08:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d0a47ca957a2de79c0766e3498c4f3992d2be15', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 6, 'created': '2022-08-26 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77cce4d363f30f879e363e6c79ab70e4ab2f290b', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nTODO:\n* unit test\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 7, 'created': '2022-08-28 17:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8447169ce5b0b862e0a0b4d390b35dfc3480035', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 8, 'created': '2022-08-28 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8a6eb853e354354c03060e3b268c6c23962dae4', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 9, 'created': '2022-08-28 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93805d2f0a0319d911ece4827bc61c9fb7208d66', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 10, 'created': '2022-08-30 16:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/940c55327d2646c93a93d796c5fb14d781513ab6', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 11, 'created': '2022-09-02 12:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d64ecd802a037b85bdcf17b5d91c5e81c59e247', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}, {'number': 12, 'created': '2022-10-17 11:59:07.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/scheduler/filters/__init__.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d818c3473cdd94cac846309b555b771243f82b8', 'message': 'Make allocation candidates available for scheduler filters\n\nThis patch extends the HostState object with an allocation_candidates\nlist populated by the scheduler manager. Also this changes the generic\nscheduler logic to allocate the candidate of the selected host based on\nthe candidates in the host state.\n\nSo after this patch scheduler filters can be extended to filter the\nallocation_candidates list of the HostState object while processing a\nhost and restrict which candidate can be allocated if the host passes\nthe all the filters. Potentially all candidates can be removed by\nmultiple consecutive filters making the host as a non viable scheduling\ntarget.\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570\n'}]",28,854119,3d818c3473cdd94cac846309b555b771243f82b8,115,7,12,9708,,,0,"Make allocation candidates available for scheduler filters

This patch extends the HostState object with an allocation_candidates
list populated by the scheduler manager. Also this changes the generic
scheduler logic to allocate the candidate of the selected host based on
the candidates in the host state.

So after this patch scheduler filters can be extended to filter the
allocation_candidates list of the HostState object while processing a
host and restrict which candidate can be allocated if the host passes
the all the filters. Potentially all candidates can be removed by
multiple consecutive filters making the host as a non viable scheduling
target.

blueprint: pci-device-tracking-in-placement
Change-Id: Id0afff271d345a94aa83fc886e9c3231c3ff2570
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/854119/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/scheduler/filters/__init__.py', 'nova/scheduler/host_manager.py']",3,0171525e8777a0c230f92d95e6cee243fed75c34,bp/pci-device-tracking-in-placement," self.allocation_candidates = [] return ( ""(%(host)s, %(node)s) ram: %(free_ram)sMB "" ""disk: %(free_disk)sMB io_ops: %(num_io_ops)s "" ""instances: %(num_instances)s, "" ""allocation_candidates: %(num_a_c)s"" % { ""host"": self.host, ""node"": self.nodename, ""free_ram"": self.free_ram_mb, ""free_disk"": self.free_disk_mb, ""num_io_ops"": self.num_io_ops, ""num_instances"": self.num_instances, ""num_a_c"": len(self.allocation_candidates), } )"," return (""(%(host)s, %(node)s) ram: %(free_ram)sMB "" ""disk: %(free_disk)sMB io_ops: %(num_io_ops)s "" ""instances: %(num_instances)s"" % {'host': self.host, 'node': self.nodename, 'free_ram': self.free_ram_mb, 'free_disk': self.free_disk_mb, 'num_io_ops': self.num_io_ops, 'num_instances': self.num_instances})",65,22
openstack%2Fnova~867642,openstack/nova,stable/zed,Iab92124b5776a799c7f90d07281d28fcf191c8fe,Ironic nodes with instance reserved in placement,MERGED,2022-12-15 16:09:04.000000000,2022-12-17 17:02:42.000000000,2022-12-17 17:01:28.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 16:09:04.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n""}]",4,867642,c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76,17,4,1,6618,,,0,"Ironic nodes with instance reserved in placement

Currently, when you delete an ironic instance, we trigger
and undeploy in ironic and we release our allocation in placement.
We do this well before the ironic node is actually available.

We have attempted to fix this my marking unavailable nodes
as reserved in placement. This works great until you try
and re-image lots of nodes.

It turns out, ironic nodes that are waiting for their automatic
clean to finish, are returned as a valid allocation candidates
for quite some time. Eventually we mark then as reserved.

This patch takes a strange approach, if we mark all nodes as
reserved as soon as the instance lands, we close the race.
That is, when the allocation is removed the node is still
unavailable until the next update of placement is done and
notices that the node has become available. That may or may
not have been after automatic cleaning. The trade off is
that when you don't have automatic cleaning, we wait a bit
longer to notice the node is available again.

Note, this is also useful when a broken Ironic node is
marked as in-maintainance while it is in-use by a nova
instance. In a similar way, we mark the Nova as reserved
immmeidately, rather than first waiting for the instance to be
deleted before reserving the resources in Placement.

Closes-Bug: #1974070
Change-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe
(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/867642/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py']",4,c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76,fix-ironic-scheduler-race-stable/zed," cfg.BoolOpt( 'skip_reserve_in_use_ironic_nodes', default=False, help="""""" This may be useful if you use the Ironic driver, but don't have automatic cleaning enabled in Ironic. Nova, by default, will mark Ironic nodes as reserved as soon as they are in use. When you free the Ironic node (by deleting the nova instance) it takes a while for Nova to un-reserve that Ironic node in placement. Usually this is a good idea, because it avoids placement providing an Ironic as a valid candidate when it is still being cleaned. Howerver, if you don't use automatic cleaning, it can cause an extra delay before and Ironic node is available for building a new Nova instance. """"""),",,89,11
openstack%2Fcinder~850321,openstack/cinder,master,Ibda3a09a181160b8ee9129795429a7f1795e907d,Fix Infinidat driver multi-attach feature,MERGED,2022-07-21 11:30:09.000000000,2022-12-17 07:03:00.000000000,2022-12-16 23:34:54.000000000,"[{'_account_id': 935}, {'_account_id': 4523}, {'_account_id': 5948}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-07-21 11:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4c22fbc04fc1da2d5b684aae2e1e7c6a7ba32f4', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector. And terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 2, 'created': '2022-08-01 14:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/def5942134e3c16cfe1173c91e071405b156527d', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector. And terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 3, 'created': '2022-08-07 21:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cea7a4fa9b80fc6b608cf8c3c3d7c23915e1c21', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector. And terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 4, 'created': '2022-08-23 17:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fcb298a7d7e87444d8dc44189301a325c306532', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector. And terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 5, 'created': '2022-08-24 08:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b710f6a32b31d719c78fe1c02c727422a2b9b638', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector. And terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 6, 'created': '2022-09-09 22:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95c0fabf11a66f2248eeeb105fab94d4cea6a87e', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 7, 'created': '2022-11-04 13:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b97f5fe57232f2b82ac88a8ec462330043cdd43', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 8, 'created': '2022-11-24 20:49:54.000000000', 'files': ['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8ca81e7c911add4f99f888d7315130ac3b60e22', 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}]",27,850321,d8ca81e7c911add4f99f888d7315130ac3b60e22,205,8,8,35075,,,0,"Fix Infinidat driver multi-attach feature

Added a check if there are multiple attachments to the volume
from the same connector and terminate connection only for the
last attachment from the corresponding host.

Closes-bug: #1982350
Change-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/850321/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,c4c22fbc04fc1da2d5b684aae2e1e7c6a7ba32f4,infinidat-add-local-volume-migration," - fixed volume multi-attach def _is_volume_multiattached(self, volume, connector): """"""Returns whether the volume is multiattached. Check if there are multiple attachments to the volume from the same connector. Terminate connection only for the last attachment from the corresponding host. """""" if not (connector and volume.multiattach and volume.volume_attachment): return False attributes = ['system uuid'] if self._protocol == constants.FC: attributes.append('wwpns') else: attributes.append('initiator') found = dict.fromkeys(attributes, []) for attachment in volume.volume_attachment: if not attachment.connector: continue for attribute in attributes: value = attachment.connector.get(attribute) if not value: continue values = found[attribute] if value in values and value == connector.get(attribute): LOG.debug('volume %s is multiattached to %s %s', volume.id, attribute, value) return True values.append(value) return False if self._is_volume_multiattached(volume, connector): return True clone = mock.Mock(id=str(volume.id) + '-internal', multiattach=False, volume_attachment=None)", clone = mock.Mock(id=str(volume.id) + '-internal'),124,37
openstack%2Fcinder~866788,openstack/cinder,master,I0005a527a5606798d6139c0cc2e1251b4e4638cc,nit: correct comment in backup manager,MERGED,2022-12-06 17:46:18.000000000,2022-12-17 03:54:28.000000000,2022-12-16 20:18:15.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 31779}, {'_account_id': 32074}]","[{'number': 1, 'created': '2022-12-06 17:46:18.000000000', 'files': ['cinder/backup/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c4c12934c8972c298ff938c15505ca041796bed', 'message': ""nit: correct comment in backup manager\n\n_run_backup method doesn't exist anymore and the flow was updated\nto use _start_backup, continue_backup and _finish_backup methods.\n\nChange-Id: I0005a527a5606798d6139c0cc2e1251b4e4638cc\n""}]",2,866788,5c4c12934c8972c298ff938c15505ca041796bed,24,5,1,27615,,,0,"nit: correct comment in backup manager

_run_backup method doesn't exist anymore and the flow was updated
to use _start_backup, continue_backup and _finish_backup methods.

Change-Id: I0005a527a5606798d6139c0cc2e1251b4e4638cc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/866788/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,5c4c12934c8972c298ff938c15505ca041796bed,," # continue_backup method above updated the status for the backup, so # it will reflect latest status, even if it is deleted"," # _run_backup method above updated the status for the backup, so it # will reflect latest status, even if it is deleted",2,2
openstack%2Ftosca-parser~867759,openstack/tosca-parser,master,I14b012788ca3c00470683b594280347aeaedee68,Update python classifier for python 3.10,MERGED,2022-12-15 06:35:29.000000000,2022-12-17 03:44:25.000000000,2022-12-17 03:43:24.000000000,"[{'_account_id': 6456}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-12-15 06:35:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/98e99e52239a12e1b1866308afea48fdbc171105', 'message': 'Update python classifier for python 3.10\n\nIn 2023.1 cycle, we are testing the python 3.10\nas voting job so updating the python classifier.\n\nCurrently we have python 3.8 unit test job running on\nUbuntu Focal and python 3.10 job on Ubuntu Jammy.\n\nChange-Id: I14b012788ca3c00470683b594280347aeaedee68\n'}]",1,867759,98e99e52239a12e1b1866308afea48fdbc171105,9,5,1,32102,,,0,"Update python classifier for python 3.10

In 2023.1 cycle, we are testing the python 3.10
as voting job so updating the python classifier.

Currently we have python 3.8 unit test job running on
Ubuntu Focal and python 3.10 job on Ubuntu Jammy.

Change-Id: I14b012788ca3c00470683b594280347aeaedee68
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/59/867759/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,98e99e52239a12e1b1866308afea48fdbc171105,migrate-to-jammy, Programming Language :: Python :: 3.10,,1,0
openstack%2Fpuppet-cinder~867811,openstack/puppet-cinder,stable/wallaby,I85789448edc46598f9864a6fcf5f3f7ce1f9bd6a,Remove centos8 wallaby tripleo jobs,MERGED,2022-12-15 15:21:25.000000000,2022-12-17 01:18:22.000000000,2022-12-17 01:18:22.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 15:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ff6d56159e7d369adfa45474fca9c6bbdb53cef6', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I85789448edc46598f9864a6fcf5f3f7ce1f9bd6a\n'}, {'number': 2, 'created': '2022-12-15 15:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1795709905105c49a229ce14e73236251843e9b8', 'message': 'Remove centos8 wallaby jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I85789448edc46598f9864a6fcf5f3f7ce1f9bd6a\n'}, {'number': 3, 'created': '2022-12-15 15:37:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c4243d2b2bb9c5a593dbbe822b5743cbbaf849ed', 'message': 'Remove centos8 wallaby tripleo jobs\n\nTripleO has decided to drop all centos8 wallaby jobs. This removes\nthe c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS\nStream 9 is not officially supported by stable/wallaby release of\nour modules so the job is kept non-voting.\n\nChange-Id: I85789448edc46598f9864a6fcf5f3f7ce1f9bd6a\n'}]",1,867811,c4243d2b2bb9c5a593dbbe822b5743cbbaf849ed,10,3,3,9816,,,0,"Remove centos8 wallaby tripleo jobs

TripleO has decided to drop all centos8 wallaby jobs. This removes
the c8s tripleo jobs from Puppet OpenStack repos. Note that CentOS
Stream 9 is not officially supported by stable/wallaby release of
our modules so the job is kept non-voting.

Change-Id: I85789448edc46598f9864a6fcf5f3f7ce1f9bd6a
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/11/867811/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ff6d56159e7d369adfa45474fca9c6bbdb53cef6,oooci_teardown_8_wallaby, parent: tripleo-puppet-ci-centos-9-standalone voting: false vars:, parent: tripleo-puppet-ci-centos-8-standalone vars: &standalone_vars - job: name: puppet-cinder-tripleo-centos-9-standalone parent: tripleo-puppet-ci-centos-9-standalone description: | TripleO standalone Job running Cinder specific Tempest tests. voting: false vars: *standalone_vars,3,10
openstack%2Frequirements~867975,openstack/requirements,master,Ic147ce220a5fafaab74f14e6408602bdd1449de4,update constraint for python-cinderclient to new release 9.2.0,MERGED,2022-12-16 14:44:44.000000000,2022-12-17 00:58:06.000000000,2022-12-17 00:57:12.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 14:44:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/90da966b4f283f140970663e0ce424e40ddf94ee', 'message': 'update constraint for python-cinderclient to new release 9.2.0\n\nmeta: version: 9.2.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I57049b81353c8363be86ce3710d0c7a6c460ffb1\nmeta: release:Code-Review+1: Jon Bernard <jobernar@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Code-Review+1: panhongyin <panhongyin@yovole.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic147ce220a5fafaab74f14e6408602bdd1449de4\n'}]",1,867975,90da966b4f283f140970663e0ce424e40ddf94ee,14,3,1,11131,,,0,"update constraint for python-cinderclient to new release 9.2.0

meta: version: 9.2.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I57049b81353c8363be86ce3710d0c7a6c460ffb1
meta: release:Code-Review+1: Jon Bernard <jobernar@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Code-Review+1: panhongyin <panhongyin@yovole.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ic147ce220a5fafaab74f14e6408602bdd1449de4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/867975/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,90da966b4f283f140970663e0ce424e40ddf94ee,new-release,python-cinderclient===9.2.0,python-cinderclient===9.1.0,1,1
openstack%2Fcinder~850605,openstack/cinder,master,I4deae6cfc71c74e568a9941766847997d9a08fb1,Remove unused session parameter,MERGED,2022-07-21 04:56:18.000000000,2022-12-17 00:48:27.000000000,2022-12-16 20:00:11.000000000,"[{'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32074}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-21 04:56:18.000000000', 'files': ['cinder/objects/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05cbe04518bee13fc2113819183324e10c1d87c6', 'message': ""Remove unused session parameter\n\nIn the conditional_update OVO method, we accept a session\nparameter but don't use it. Also recent changes to our DB layer\nuse context based session and we don't pass session anymore\nacross methods so it won't be useful anyway.\nThis patch removes the session parameter from the\nconditiona_update method.\n\nChange-Id: I4deae6cfc71c74e568a9941766847997d9a08fb1\n""}]",8,850605,05cbe04518bee13fc2113819183324e10c1d87c6,43,9,1,27615,,,0,"Remove unused session parameter

In the conditional_update OVO method, we accept a session
parameter but don't use it. Also recent changes to our DB layer
use context based session and we don't pass session anymore
across methods so it won't be useful anyway.
This patch removes the session parameter from the
conditiona_update method.

Change-Id: I4deae6cfc71c74e568a9941766847997d9a08fb1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/850605/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/objects/base.py'],1,05cbe04518bee13fc2113819183324e10c1d87c6,," save_all=False, reflect_changes=True, order=None):"," save_all=False, session=None, reflect_changes=True, order=None): :param session: Session to use for the update",1,3
openstack%2Fswift~863621,openstack/swift,stable/wallaby,I4d807f3b3649a45dbb2166bb8e911c45fb9cb701,CI: Add nslookup_target to FIPS jobs,MERGED,2022-11-04 11:24:18.000000000,2022-12-16 23:36:37.000000000,2022-12-16 23:34:57.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 11:24:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/0bb66c3f471f3ba6375546cffdb973ccae481a88', 'message': 'CI: Add nslookup_target to FIPS jobs\n\nAt some point, this became a required parameter.\n\nChange-Id: I4d807f3b3649a45dbb2166bb8e911c45fb9cb701\nRelated-Change: Iebf474c9351e4246d7ab2072b48a50e93dbf0b94\n(cherry picked from commit 3e6ce930b6ce00a29ff206c4d323e2f3ea51d2b2)\n(cherry picked from commit b8b3f044f85fa0af4a8556bc2ed65ec6437d6dbb)\n'}]",2,863621,0bb66c3f471f3ba6375546cffdb973ccae481a88,10,2,1,34120,,,0,"CI: Add nslookup_target to FIPS jobs

At some point, this became a required parameter.

Change-Id: I4d807f3b3649a45dbb2166bb8e911c45fb9cb701
Related-Change: Iebf474c9351e4246d7ab2072b48a50e93dbf0b94
(cherry picked from commit 3e6ce930b6ce00a29ff206c4d323e2f3ea51d2b2)
(cherry picked from commit b8b3f044f85fa0af4a8556bc2ed65ec6437d6dbb)
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/863621/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0bb66c3f471f3ba6375546cffdb973ccae481a88,, nslookup_target: 'opendev.org' nslookup_target: 'opendev.org' nslookup_target: 'opendev.org',,3,0
openstack%2Ftripleo-validations~861396,openstack/tripleo-validations,master,I68b83bc9c035a4f3cfc04afb098ceb04de602691,Adjusting node-disks validation for new authentication procedures,MERGED,2022-10-14 14:57:36.000000000,2022-12-16 21:39:04.000000000,2022-12-16 21:38:00.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-10-14 14:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f93013bdf223db881c0e6f16071f9e7f306cf5b5', 'message': 'Refactoring node-disks validation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68b83bc9c035a4f3cfc04afb098ceb04de602691\n'}, {'number': 2, 'created': '2022-10-17 13:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/458637e14c39038f6ef4136a42cd098288ce70f7', 'message': 'Adjusting node-disks validation for new authentication procedures\n\nValidation will now only verify primary disk of the node.\nDescription of the role and validation itself now includes\nfurther instructions and explanation.\n\nValidation failure message now recommends introspection as a next step.\n\nnode-disks.py module, associated tests and documentation were deleted\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68b83bc9c035a4f3cfc04afb098ceb04de602691\n'}, {'number': 3, 'created': '2022-10-17 13:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/802f84ce119d758f0e8cf83d492accb798908b91', 'message': 'Adjusting node-disks validation for new authentication procedures\n\nValidation will now only verify primary disk of the node.\nDescription of the role and validation itself now includes\nfurther instructions and explanation.\n\nValidation failure message now recommends introspection as a next step.\n\nnode-disks.py module, associated tests and documentation were deleted\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68b83bc9c035a4f3cfc04afb098ceb04de602691\n'}, {'number': 4, 'created': '2022-12-06 12:32:29.000000000', 'files': ['doc/source/modules/modules-node_disks.rst', 'playbooks/node-disks.yaml', 'tripleo_validations/tests/library/test_node_disks.py', 'library/node_disks.py', 'roles/node_disks/tasks/main.yml', 'roles/node_disks/vars/main.yml', 'roles/node_disks/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/14354b222a66c7d09ec32b4e4f66a9ef45a1e79a', 'message': 'Adjusting node-disks validation for new authentication procedures\n\nValidation will now only verify primary disk of the node.\nDescription of the role and validation itself now includes\nfurther instructions and explanation.\n\nValidation failure message now recommends introspection as a next step.\n\nnode-disks.py module, associated tests and documentation were deleted\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68b83bc9c035a4f3cfc04afb098ceb04de602691\n'}]",8,861396,14354b222a66c7d09ec32b4e4f66a9ef45a1e79a,25,4,4,32926,,,0,"Adjusting node-disks validation for new authentication procedures

Validation will now only verify primary disk of the node.
Description of the role and validation itself now includes
further instructions and explanation.

Validation failure message now recommends introspection as a next step.

node-disks.py module, associated tests and documentation were deleted

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68b83bc9c035a4f3cfc04afb098ceb04de602691
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/96/861396/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-node_disks.rst', 'playbooks/node-disks.yaml', 'library/node_disks.py', 'tripleo_validations/tests/library/test_node_disks.py', 'ansible-collections-requirements.yml', 'roles/node_disks/tasks/main.yml', 'roles/node_disks/defaults/main.yml']",7,f93013bdf223db881c0e6f16071f9e7f306cf5b5,openstack-collection/node-disks,,"--- ironic_conf_file: ""/var/lib/config-data/puppet-generated/ironic/etc/ironic/ironic.conf"" ",38,350
openstack%2Ftripleo-heat-templates~861574,openstack/tripleo-heat-templates,master,I386ce0d7459cc9750172849215440cd532fb2618,Set gcomm_cipher to an appropriate value if FIPS is enabled,MERGED,2022-10-17 06:09:20.000000000,2022-12-16 21:38:03.000000000,2022-12-16 21:38:03.000000000,"[{'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 11090}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-17 06:09:20.000000000', 'files': ['environments/fips.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/070bc335b66e2cd195fc3e011705e052be4f4667', 'message': ""Set gcomm_cipher to an appropriate value if FIPS is enabled\n\nThe default cipher set via puppet-tripleo is AES128-SHA256 for mysql\nand this is not allowed in FIPS.\nThis commit overrides this value to be 'ECDHE-RSA-AES256-GCM-SHA384'\nif FIPS is enabled.\n\nDepends-on: I7f47741d4b2a5a3473d24439689cc358bf7738f0\nChange-Id: I386ce0d7459cc9750172849215440cd532fb2618\n""}]",11,861574,070bc335b66e2cd195fc3e011705e052be4f4667,28,8,1,30126,,,0,"Set gcomm_cipher to an appropriate value if FIPS is enabled

The default cipher set via puppet-tripleo is AES128-SHA256 for mysql
and this is not allowed in FIPS.
This commit overrides this value to be 'ECDHE-RSA-AES256-GCM-SHA384'
if FIPS is enabled.

Depends-on: I7f47741d4b2a5a3473d24439689cc358bf7738f0
Change-Id: I386ce0d7459cc9750172849215440cd532fb2618
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/861574/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/fips.yaml'],1,070bc335b66e2cd195fc3e011705e052be4f4667,, # Override gcomm_cipher for FIPS MysqlGaleraSSLCipher: 'ECDHE-RSA-AES256-GCM-SHA384',,3,0
openstack%2Fkayobe~867923,openstack/kayobe,stable/zed,Ie1c9e1ada50774cbcaec528bd64d8df066c21d2e,Run handlers before configuring veth interfaces,MERGED,2022-12-16 18:15:20.000000000,2022-12-16 21:35:27.000000000,2022-12-16 20:52:17.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 18:15:20.000000000', 'files': ['ansible/roles/network-redhat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/faf67f0eddf251939c7d48871740f73e0574de55', 'message': 'Run handlers before configuring veth interfaces\n\nHandlers from MichaelRigart.interfaces are not run until the end of the\nplay, which results in the veth role trying to create veth interfaces\nagainst a non-existing bridge.\n\nChange-Id: Ie1c9e1ada50774cbcaec528bd64d8df066c21d2e\n(cherry picked from commit fbf000689559c434157d49b147da60725ba9562a)\n'}]",1,867923,faf67f0eddf251939c7d48871740f73e0574de55,8,3,1,23084,,,0,"Run handlers before configuring veth interfaces

Handlers from MichaelRigart.interfaces are not run until the end of the
play, which results in the veth role trying to create veth interfaces
against a non-existing bridge.

Change-Id: Ie1c9e1ada50774cbcaec528bd64d8df066c21d2e
(cherry picked from commit fbf000689559c434157d49b147da60725ba9562a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/867923/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/network-redhat/tasks/main.yml'],1,faf67f0eddf251939c7d48871740f73e0574de55,,# NOTE(priteau): We need to run handlers from MichaelRigart.interfaces before # we start configuring any veth interfaces. - meta: flush_handlers ,,4,0
openstack%2Ftripleo-ansible~865197,openstack/tripleo-ansible,master,I06bfb7347715b2ae5a1b37d633ec66f1b069225a,Introduce tripleo_ceph_client_files standalone Ansible role,MERGED,2022-11-21 21:23:23.000000000,2022-12-16 21:25:37.000000000,2022-12-16 21:23:54.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 32968}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-11-21 21:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51d32efaa85cfe579d7bb27fe416ab6be85806a4', 'message': 'Introduce tripleo_ceph_client_files standalone Ansible role\n\nThe `tripleo_ceph_client_files` Ansible role was designed to be used\nstandalone without tripleo-heat-templates or config-download. The role\ncopies files in a directory (`tripleo_ceph_client_files_source`) on the\nhost where Ansible is run to a directory\n(`tripleo_ceph_client_config_home`)\non the overcloud nodes.\n\nIt is required that the user of the `tripleo_ceph_client_files` role\ncreate and populate the `tripleo_ceph_client_files_source` directory\nwith actual Ceph configuration and cephx key files before running the\nrole. For example::\n\n  $ ls -l /home/stack/ceph_files/\n  total 16\n  -rw-r--r--. 1 stack stack 245 Nov 14 13:40\nceph.client.openstack.keyring\n  -rw-r--r--. 1 stack stack 173 Nov 14 13:40 ceph.conf\n\nIn the above example, the host where the ansible-playbook command\nwill be run contains a directory of configuration data (one cephx key\nand one configuratoin file) for one Ceph cluster. The\n`tripleo_ceph_client_files_source` parameter would then be set to\n`/home/stack/ceph_files/`. The optional parameter\n`tripleo_ceph_client_config_home` defaults to\n`/var/lib/tripleo-config/ceph` since OpenStack contianers will bind\nmount this directory to `/etc/ceph`.\n\nChange-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 2, 'created': '2022-11-23 20:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a59880ad23044ec89705648661389f3cc4599a7e', 'message': 'Introduce tripleo_ceph_client_files standalone Ansible role\n\nThe tripleo_ceph_client_files Ansible role was designed to be used\nstandalone without tripleo-heat-templates or config-download. The\nrole copies files from a source directory on the host where Ansible\nis run to a destination directory on the overcloud nodes. The file\npermissions on the destination are set appropriately if file is a\ncephx key or a configuration file.\n\nThe source directory needs to be prepopulated with Ceph configuration\nand cephx key files.\n\nChange-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 3, 'created': '2022-11-24 07:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/124929a25d79e09846146456e12ffd32a4c45e7c', 'message': 'Introduce tripleo_ceph_client_files standalone Ansible role\n\nThe tripleo_ceph_client_files Ansible role was designed to be used\nstandalone without tripleo-heat-templates or config-download. The\nrole copies files from a source directory on the host where Ansible\nis run to a destination directory on the overcloud nodes. The file\npermissions on the destination are set appropriately if file is a\ncephx key or a configuration file.\n\nThe source directory needs to be prepopulated with Ceph configuration\nand cephx key files.\n\nChange-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 4, 'created': '2022-11-30 22:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7681d59233678da3fc2366f9db090067f47d5562', 'message': 'Introduce tripleo_ceph_client_files standalone Ansible role\n\nThe tripleo_ceph_client_files Ansible role was designed to be used\nstandalone without tripleo-heat-templates or config-download. The\nrole copies files from a source directory on the host where Ansible\nis run to a destination directory on the overcloud nodes. The file\npermissions on the destination are set appropriately if file is a\ncephx key or a configuration file.\n\nThe source directory needs to be prepopulated with Ceph configuration\nand cephx key files.\n\nCloses-Bug: #1994148\nChange-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 5, 'created': '2022-12-07 21:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d31ffc82629299bf8d9bfa813aec1aac35a51a9', 'message': 'Introduce tripleo_ceph_client_files standalone Ansible role\n\nThe tripleo_ceph_client_files Ansible role was designed to be used\nstandalone without tripleo-heat-templates or config-download. The\nrole copies files from a source directory on the host where Ansible\nis run to a destination directory on the overcloud nodes. The file\npermissions on the destination are set appropriately if file is a\ncephx key or a configuration file.\n\nThe source directory needs to be prepopulated with Ceph configuration\nand cephx key files.\n\nCloses-Bug: #1994148\nChange-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}, {'number': 6, 'created': '2022-12-07 22:05:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client_files/meta/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ceph_client_files/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/handlers/main.yml', 'doc/source/roles/role-tripleo_ceph_client_files.rst', 'tripleo_ansible/roles/tripleo_ceph_client_files/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/508d37b0159f8ec31749b4e767af43242e45a442', 'message': 'Introduce tripleo_ceph_client_files standalone Ansible role\n\nThe tripleo_ceph_client_files Ansible role was designed to be used\nstandalone without tripleo-heat-templates or config-download. The\nrole copies files from a source directory on the host where Ansible\nis run to a destination directory on the overcloud nodes. The file\npermissions on the destination are set appropriately if file is a\ncephx key or a configuration file.\n\nThe source directory needs to be prepopulated with Ceph configuration\nand cephx key files.\n\nCloses-Bug: #1994148\nChange-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a\n'}]",16,865197,508d37b0159f8ec31749b4e767af43242e45a442,39,6,6,18002,,,0,"Introduce tripleo_ceph_client_files standalone Ansible role

The tripleo_ceph_client_files Ansible role was designed to be used
standalone without tripleo-heat-templates or config-download. The
role copies files from a source directory on the host where Ansible
is run to a destination directory on the overcloud nodes. The file
permissions on the destination are set appropriately if file is a
cephx key or a configuration file.

The source directory needs to be prepopulated with Ceph configuration
and cephx key files.

Closes-Bug: #1994148
Change-Id: I06bfb7347715b2ae5a1b37d633ec66f1b069225a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/865197/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_client_files/meta/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ceph_client_files/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/handlers/main.yml', 'doc/source/roles/role-tripleo_ceph_client_files.rst', 'tripleo_ansible/roles/tripleo_ceph_client_files/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_client_files/vars/main.yml']",10,51d32efaa85cfe579d7bb27fe416ab6be85806a4,tripleo_ceph_client_files,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # While options found within the vars/ path can be overridden using extra # vars, items within this path are considered part of the role and not # intended to be modified. # All variables within this role should have a prefix of ""tripleo_ceph_client_files"" ",,229,0
openstack%2Fcharm-cinder~867998,openstack/charm-cinder,stable/ussuri,I97595234b171c48655bf4cca152a966016548848,Add nova section,ABANDONED,2022-12-16 20:15:38.000000000,2022-12-16 20:16:06.000000000,,[],"[{'number': 1, 'created': '2022-12-16 20:15:38.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/9f93a91e4815d28dcaa0bcabf5b89418bb47eb2b', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/776\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)\n\nChange-Id: I97595234b171c48655bf4cca152a966016548848\n""}]",0,867998,9f93a91e4815d28dcaa0bcabf5b89418bb47eb2b,2,0,1,17097,,,0,"Add nova section

Cinder sometimes needs to communicate with nova,
for example to notify VMs when live-resizing a disk.
Under certain circumstances,
the autodetected authentication details don't work,
so we must add a dedicated section in the config
for the nova client with proper credentials.

This issue has been observed on victoria and newer,
hence the addition of cinder.conf for victoria.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/776

Closes-Bug: #1939389

Co-authored-by: Samuel Walladge <samuel.walladge@canonical.com>

Change-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1
(cherry-picked from commit 2b71f3b1d7bdd8a0902cd6439bc2f66e797293fc)

Change-Id: I97595234b171c48655bf4cca152a966016548848
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/98/867998/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth']",4,9f93a91e4815d28dcaa0bcabf5b89418bb47eb2b,,# Authentication type to load (string value) auth_type = password # Authentication URL (string value) auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }} # Username (string value) username = {{ admin_user }} # User's password (string value) password = {{ admin_password }} # Project name to scope to (string value) project_name = {{ admin_tenant_name }} {% if admin_domain_name -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} {% if ca_cert_path -%} # PEM encoded Certificate Authority to use when verifying # HTTPs connections. (string value) cafile = {{ ca_cert_path }} {% endif -%} region_name = {{ region }} ,,136,4
openstack%2Fcinder~858819,openstack/cinder,stable/yoga,Idb5c428adcc1112046cc81a441c572a2e6bfa80c,Tests: Fix test runner never finishing,MERGED,2022-09-21 20:58:15.000000000,2022-12-16 20:06:46.000000000,2022-12-16 20:04:35.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 20:58:15.000000000', 'files': ['cinder/tests/unit/known_issues.py', 'cinder/tests/unit/__init__.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba15a23b71dd7c6a964434f5180eb54af26aff50', 'message': ""Tests: Fix test runner never finishing\n\nThe tpool.killall method seems to block in some cases when running unit\ntests, as observed with the Guru Meditation Reports. This has been\nhappening primarily on Python 3.9 and 3.10.\n\nMoving the call from the test setUp to the cleanup after stopping\nexisting looping calls seems to resolve the issue.  At least we've been\nunable to reproduce the issue again even when running tests with\n'--random'.\n\nWe need a way to identify existing looping calls that must be stopped,\ntracking them with a decorator on the LoopingCallBase class __init__\nmethod or looking for its instances in the objects tracked by the\nGarbage Collector.\n\nUsing the GC mechanisms makes tests take 12 times longer to complete, so\nthis patch creates a new test utils class called InstanceTracker that\nallows tracking any class.\n\nWe haven't been able to reproduce the test runner freeze situation with\nthis patch, even when running tests with '--random', but just in case\nthis happens again a TPOOL_KILLALL_ISSUE flag has been created to allow\neasily disabling things if this were to happen again.\n\nBecause the tests use greenthreads, debugging blocked tests with GDB is\na nightmare, so the patch also adds the Guru Meditation Reports feature\nto the test runner, that way we can do:\n\n $ kill -USR2 <child_runner_pid>\n\nAnd see the greenthreads, where in this case we would see one of them\nstuck in the tpool.killall() call.\n\nChange-Id: Idb5c428adcc1112046cc81a441c572a2e6bfa80c\n(cherry picked from commit eb8409b3a8af41e2203e3b84bc6f02167ceef6a4)\n""}]",2,858819,ba15a23b71dd7c6a964434f5180eb54af26aff50,17,3,1,4523,,,0,"Tests: Fix test runner never finishing

The tpool.killall method seems to block in some cases when running unit
tests, as observed with the Guru Meditation Reports. This has been
happening primarily on Python 3.9 and 3.10.

Moving the call from the test setUp to the cleanup after stopping
existing looping calls seems to resolve the issue.  At least we've been
unable to reproduce the issue again even when running tests with
'--random'.

We need a way to identify existing looping calls that must be stopped,
tracking them with a decorator on the LoopingCallBase class __init__
method or looking for its instances in the objects tracked by the
Garbage Collector.

Using the GC mechanisms makes tests take 12 times longer to complete, so
this patch creates a new test utils class called InstanceTracker that
allows tracking any class.

We haven't been able to reproduce the test runner freeze situation with
this patch, even when running tests with '--random', but just in case
this happens again a TPOOL_KILLALL_ISSUE flag has been created to allow
easily disabling things if this were to happen again.

Because the tests use greenthreads, debugging blocked tests with GDB is
a nightmare, so the patch also adds the Guru Meditation Reports feature
to the test runner, that way we can do:

 $ kill -USR2 <child_runner_pid>

And see the greenthreads, where in this case we would see one of them
stuck in the tpool.killall() call.

Change-Id: Idb5c428adcc1112046cc81a441c572a2e6bfa80c
(cherry picked from commit eb8409b3a8af41e2203e3b84bc6f02167ceef6a4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/858819/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/known_issues.py', 'cinder/tests/unit/__init__.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/test.py']",5,ba15a23b71dd7c6a964434f5180eb54af26aff50,,from cinder.tests import unit as cinder_unitfrom cinder.tests.unit import known_issues as issues # Stop any looping call that has not yet been stopped cinder_unit.stop_looping_calls() if not issues.TPOOL_KILLALL_ISSUE: # Ensure we have the default tpool size value and we don't carry # threads from other test runs. tpool.killall() tpool._nthreads = 20 , # Ensure we have the default tpool size value and we don't carry # threads from other test runs. tpool.killall() tpool._nthreads = 20 ,106,5
openstack%2Fcinder~858344,openstack/cinder,stable/yoga,Ie2b7a163ee3a83121c04a21808ef437d740426d5,Fix Infinidat driver to return all iSCSI portals,MERGED,2022-09-19 15:41:39.000000000,2022-12-16 20:05:42.000000000,2022-12-16 20:04:31.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-19 15:41:39.000000000', 'files': ['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb510b64a5c77c60950ee13ce3a05c39ec667f01', 'message': 'Fix Infinidat driver to return all iSCSI portals\n\nInfinidat Cinder driver truncates the list of configured iSCSI\nportals and returns only the first IP for a given network space.\nAnd in case of network path failure we lose access to the data.\n\nTo fix this issue, we need to return all configured and enabled\niSCSI portals for a given configured network space.\n\nCloses-bug: #1981354\nChange-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5\nCo-authored-by: Alexander Deiter <adeiter@infinidat.com>\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)\n'}]",5,858344,bb510b64a5c77c60950ee13ce3a05c39ec667f01,36,3,1,35075,,,0,"Fix Infinidat driver to return all iSCSI portals

Infinidat Cinder driver truncates the list of configured iSCSI
portals and returns only the first IP for a given network space.
And in case of network path failure we lose access to the data.

To fix this issue, we need to return all configured and enabled
iSCSI portals for a given configured network space.

Closes-bug: #1981354
Change-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5
Co-authored-by: Alexander Deiter <adeiter@infinidat.com>
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/858344/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,bb510b64a5c77c60950ee13ce3a05c39ec667f01,bug/1981354-stable/yoga,"# Copyright 2022 Infinidat Ltd. 1.7 - fixed iSCSI to return all portals VERSION = '1.7' def _get_iscsi_portals(self, netspace): port = netspace.get_properties().iscsi_tcp_port portals = [""%s:%s"" % (interface.ip_address, port) for interface in netspace.get_ips() if interface.enabled] if portals: return portals netspace_portals = self._get_iscsi_portals(netspace) target_portals.extend(netspace_portals) target_iqns.extend([netspace.get_properties().iscsi_iqn] * len(netspace_portals)) target_luns.extend([lun] * len(netspace_portals))","# Copyright 2016 Infinidat Ltd. VERSION = '1.6' def _get_iscsi_portal(self, netspace): for netpsace_interface in netspace.get_ips(): if netpsace_interface.enabled: port = netspace.get_properties().iscsi_tcp_port return ""%s:%s"" % (netpsace_interface.ip_address, port) target_portals.append(self._get_iscsi_portal(netspace)) target_iqns.append(netspace.get_properties().iscsi_iqn) target_luns.append(lun)",197,52
openstack%2Fironic-python-agent~867963,openstack/ironic-python-agent,bugfix/8.1,Ia42bf96ebb5083f6ec874eb97c7478776cc18753,Fix CI for bugfix/8.1,MERGED,2022-12-16 10:12:57.000000000,2022-12-16 20:02:35.000000000,2022-12-16 20:00:56.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 10:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e7d542b86240ca234155802b53a554fbeccf620d', 'message': 'Fix CI for bugfix/8.1\n\nAll jobs should run on ubuntu focal\n\nChange-Id: Ia42bf96ebb5083f6ec874eb97c7478776cc18753\n'}, {'number': 2, 'created': '2022-12-16 15:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/052c2592e68cc7620c4525769873ccbedd1051c0', 'message': 'Fix CI for bugfix/8.1\n\nAll jobs should run on ubuntu focal\n\nChange-Id: Ia42bf96ebb5083f6ec874eb97c7478776cc18753\n'}, {'number': 3, 'created': '2022-12-16 15:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d3eb6eed19230d0cf76f2fe1dbc5a4fd648a30e4', 'message': 'Fix CI for bugfix/8.1\n\nAll jobs should run on ubuntu focal, except python3.6\nthat still needs bionic.\n\nChange-Id: Ia42bf96ebb5083f6ec874eb97c7478776cc18753\n'}, {'number': 4, 'created': '2022-12-16 15:28:53.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dc73be37cc06bc34ab39123fffea5a390de8654b', 'message': 'Fix CI for bugfix/8.1\n\nAll jobs should run on ubuntu focal, except python3.6\nthat still needs bionic.\n\nChange-Id: Ia42bf96ebb5083f6ec874eb97c7478776cc18753\n'}]",1,867963,dc73be37cc06bc34ab39123fffea5a390de8654b,12,2,4,23851,,,0,"Fix CI for bugfix/8.1

All jobs should run on ubuntu focal, except python3.6
that still needs bionic.

Change-Id: Ia42bf96ebb5083f6ec874eb97c7478776cc18753
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/63/867963/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,e7d542b86240ca234155802b53a554fbeccf620d,fix-ci-bf81, nodeset: ubuntu-focal nodeset: ubuntu-focal nodeset: ubuntu-focal nodeset: ubuntu-focal nodeset: ubuntu-focal nodeset: ubuntu-focal nodeset: ubuntu-focal,,7,0
openstack%2Fmetalsmith~861056,openstack/metalsmith,stable/wallaby,Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2,Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0,MERGED,2022-10-13 07:06:21.000000000,2022-12-16 19:44:27.000000000,2022-12-16 19:43:12.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-13 07:06:21.000000000', 'files': ['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/cffe7d5093151632a78fa22faf44fd363adec05e', 'message': 'Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0\n\nAnsible OpenStack collection 1.x.x is not compatible to openstacksdk\n>=0.99.0, only collection series 2.x.x will be. But the latter has\nnot been released yet.\n\nThis incompatibility only affects modules in Ansible OpenStack\nCollection but not the functions that metalsmith uses. Those\nfunctions ARE compatible with recent openstacksdk releases and\nwill most likely not be removed in collection release 2.0.0.\n\nThus, as a hacky workaround to allow using Ansible OpenStack\ncollection 1.x.x with openstacksdk >=0.99.0 this patch removes\nthe MAXIMUM_SDK_VERSION.\n\nChange-Id: Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2\n(cherry picked from commit ee008f7a79f079df98ec4a8556b3a067f4eb348a)\n'}]",1,861056,cffe7d5093151632a78fa22faf44fd363adec05e,11,3,1,23851,,,0,"Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0

Ansible OpenStack collection 1.x.x is not compatible to openstacksdk
>=0.99.0, only collection series 2.x.x will be. But the latter has
not been released yet.

This incompatibility only affects modules in Ansible OpenStack
Collection but not the functions that metalsmith uses. Those
functions ARE compatible with recent openstacksdk releases and
will most likely not be removed in collection release 2.0.0.

Thus, as a hacky workaround to allow using Ansible OpenStack
collection 1.x.x with openstacksdk >=0.99.0 this patch removes
the MAXIMUM_SDK_VERSION.

Change-Id: Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2
(cherry picked from commit ee008f7a79f079df98ec4a8556b3a067f4eb348a)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/56/861056/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'],1,cffe7d5093151632a78fa22faf44fd363adec05e,sdk-workaround-stable/wallaby," # Modules in Ansible OpenStack Collection prior to 2.0.0 are not compatible # with openstacksdk >=0.99.0, but the functions used here ARE compatible # and will most likely not be removed in collection release 2.0.0, so we # can safely remove the MAXIMUM_SDK_VERSION and thus use this module with # releases of openstacksdk. # TODO: Remove once ansible-collections-openstack 2.0.0 has been released from ansible.module_utils import openstack as aoc aoc.MAXIMUM_SDK_VERSION = None ",,9,0
openstack%2Ftripleo-common~865144,openstack/tripleo-common,stable/wallaby,Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,Align tss user config with qemu and nova use cases,MERGED,2022-11-21 15:20:58.000000000,2022-12-16 19:44:16.000000000,2022-12-16 19:42:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-21 15:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/20268a98fc2e86929047629acbdd9aecb59c82e2', 'message': 'Fix swtpm logs permissions\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  w/o root access.\n* Change tss user uid/gid in TCIB similarly to qemu, for\n  consistency reasons.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit d6420dc785b078a3f61b446668eae79b4ac163c5)\n'}, {'number': 2, 'created': '2022-11-23 17:04:43.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d7ea0f7b74c52e9fb47ff439a99a8462a02d0b6', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nThere is no upgrade impact as vTPM had never been technically released\nin the layered downstream product.\n\n Conflicts:\n\tcontainer-images/kolla/base/uid_gid_manage.sh\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 7981fdd68a9bfa52e82be42d8e1b1a24484bf928)\n'}]",8,865144,5d7ea0f7b74c52e9fb47ff439a99a8462a02d0b6,19,7,2,6926,,,0,"Align tss user config with qemu and nova use cases

In order to fix swtpm logs access permissions and to use the same
approach among Compute specific users (qemu, tss, libvirt, nova):

* Add nova to tss group for swtpm tool to function in virtqemud
  when running w/o root access.
* Change tss user uid/gid/home dir config in TCIB similarly to qemu,
  for consistency reasons.

There is no upgrade impact as vTPM had never been technically released
in the layered downstream product.

 Conflicts:
	container-images/kolla/base/uid_gid_manage.sh

Related: rhbz#1782128

Change-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 7981fdd68a9bfa52e82be42d8e1b1a24484bf928)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/865144/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/tss_user_id-604d300610a66488.yaml'],1,20268a98fc2e86929047629acbdd9aecb59c82e2,,"--- upgrade: - | The tss user on the host gets created using uid/gid 59. Similarly to qemu user uid/gid 107, tss user used with swtpm tooling changes its value back from the Kolla specific constant 42485. ",,7,0
openstack%2Fmetalsmith~861055,openstack/metalsmith,stable/xena,Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2,Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0,MERGED,2022-10-13 07:06:07.000000000,2022-12-16 19:43:13.000000000,2022-12-16 19:42:12.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-13 07:06:07.000000000', 'files': ['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/c889c779a3ef2b46850867b21c8a42eac13aaa17', 'message': 'Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0\n\nAnsible OpenStack collection 1.x.x is not compatible to openstacksdk\n>=0.99.0, only collection series 2.x.x will be. But the latter has\nnot been released yet.\n\nThis incompatibility only affects modules in Ansible OpenStack\nCollection but not the functions that metalsmith uses. Those\nfunctions ARE compatible with recent openstacksdk releases and\nwill most likely not be removed in collection release 2.0.0.\n\nThus, as a hacky workaround to allow using Ansible OpenStack\ncollection 1.x.x with openstacksdk >=0.99.0 this patch removes\nthe MAXIMUM_SDK_VERSION.\n\nChange-Id: Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2\n(cherry picked from commit ee008f7a79f079df98ec4a8556b3a067f4eb348a)\n'}]",0,861055,c889c779a3ef2b46850867b21c8a42eac13aaa17,9,3,1,23851,,,0,"Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0

Ansible OpenStack collection 1.x.x is not compatible to openstacksdk
>=0.99.0, only collection series 2.x.x will be. But the latter has
not been released yet.

This incompatibility only affects modules in Ansible OpenStack
Collection but not the functions that metalsmith uses. Those
functions ARE compatible with recent openstacksdk releases and
will most likely not be removed in collection release 2.0.0.

Thus, as a hacky workaround to allow using Ansible OpenStack
collection 1.x.x with openstacksdk >=0.99.0 this patch removes
the MAXIMUM_SDK_VERSION.

Change-Id: Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2
(cherry picked from commit ee008f7a79f079df98ec4a8556b3a067f4eb348a)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/55/861055/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'],1,c889c779a3ef2b46850867b21c8a42eac13aaa17,sdk-workaround-stable/xena," # Modules in Ansible OpenStack Collection prior to 2.0.0 are not compatible # with openstacksdk >=0.99.0, but the functions used here ARE compatible # and will most likely not be removed in collection release 2.0.0, so we # can safely remove the MAXIMUM_SDK_VERSION and thus use this module with # releases of openstacksdk. # TODO: Remove once ansible-collections-openstack 2.0.0 has been released from ansible.module_utils import openstack as aoc aoc.MAXIMUM_SDK_VERSION = None ",,9,0
openstack%2Fmetalsmith~861054,openstack/metalsmith,stable/yoga,Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2,Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0,MERGED,2022-10-13 07:05:56.000000000,2022-12-16 19:38:27.000000000,2022-12-16 19:37:26.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-13 07:05:56.000000000', 'files': ['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3071dd9de847c83dcf3d2bd5e769fe8feaaddd16', 'message': 'Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0\n\nAnsible OpenStack collection 1.x.x is not compatible to openstacksdk\n>=0.99.0, only collection series 2.x.x will be. But the latter has\nnot been released yet.\n\nThis incompatibility only affects modules in Ansible OpenStack\nCollection but not the functions that metalsmith uses. Those\nfunctions ARE compatible with recent openstacksdk releases and\nwill most likely not be removed in collection release 2.0.0.\n\nThus, as a hacky workaround to allow using Ansible OpenStack\ncollection 1.x.x with openstacksdk >=0.99.0 this patch removes\nthe MAXIMUM_SDK_VERSION.\n\nChange-Id: Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2\n(cherry picked from commit ee008f7a79f079df98ec4a8556b3a067f4eb348a)\n'}]",0,861054,3071dd9de847c83dcf3d2bd5e769fe8feaaddd16,9,3,1,23851,,,0,"Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0

Ansible OpenStack collection 1.x.x is not compatible to openstacksdk
>=0.99.0, only collection series 2.x.x will be. But the latter has
not been released yet.

This incompatibility only affects modules in Ansible OpenStack
Collection but not the functions that metalsmith uses. Those
functions ARE compatible with recent openstacksdk releases and
will most likely not be removed in collection release 2.0.0.

Thus, as a hacky workaround to allow using Ansible OpenStack
collection 1.x.x with openstacksdk >=0.99.0 this patch removes
the MAXIMUM_SDK_VERSION.

Change-Id: Icbcb0f92fc1e4315e81fe9ce0c2f9ce6b39867c2
(cherry picked from commit ee008f7a79f079df98ec4a8556b3a067f4eb348a)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/54/861054/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'],1,3071dd9de847c83dcf3d2bd5e769fe8feaaddd16,sdk-workaround-stable/yoga," # Modules in Ansible OpenStack Collection prior to 2.0.0 are not compatible # with openstacksdk >=0.99.0, but the functions used here ARE compatible # and will most likely not be removed in collection release 2.0.0, so we # can safely remove the MAXIMUM_SDK_VERSION and thus use this module with # releases of openstacksdk. # TODO: Remove once ansible-collections-openstack 2.0.0 has been released from ansible.module_utils import openstack as aoc aoc.MAXIMUM_SDK_VERSION = None ",,9,0
openstack%2Ftripleo-ci~867351,openstack/tripleo-ci,master,Ife23e183a279417e393ee9b054e28a63b3f1298e,Remove centos8 wallaby jobs from zuul layouts,MERGED,2022-12-13 10:39:50.000000000,2022-12-16 19:30:12.000000000,2022-12-16 19:30:12.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-13 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d35ccb0b03e0dc696f9644f27b5a0b19ff96303f', 'message': ""Remove centos8 wallaby jobs from zuul layouts\n\nThis prevents some of the remaining c8 check and gate jobs from\nrunning for stable/wallaby.\n\nWe are removing wallaby/c8 integration and component lines in [1]\nand keeping only mixed rhel and ffu jobs with container builds as\npart of the existing wallaby/centos9 line. Thus in this patch we\ndon't alter the wallaby/8 content provider and upgrade jobs as we\nwant these to continue runing.\n\n[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby\n\nChange-Id: Ife23e183a279417e393ee9b054e28a63b3f1298e\n""}, {'number': 2, 'created': '2022-12-13 12:13:30.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7faaf1edd88e8e5bc1898396321ff0d25242cba9', 'message': ""Remove centos8 wallaby jobs from zuul layouts\n\nThis prevents some of the remaining c8 check and gate jobs from\nrunning for stable/wallaby.\n\nWe are removing wallaby/c8 integration and component lines in [1]\nand keeping only mixed rhel and ffu jobs with container builds as\npart of the existing wallaby/centos9 line. Thus in this patch we\ndon't alter the wallaby/8 content provider and upgrade jobs as we\nwant these to continue runing. See [2] for other related patches.\n\n[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby\n[2] https://review.opendev.org/q/topic:oooci_teardown_8_wallaby\n\nChange-Id: Ife23e183a279417e393ee9b054e28a63b3f1298e\n""}]",2,867351,7faaf1edd88e8e5bc1898396321ff0d25242cba9,20,4,2,8449,,,0,"Remove centos8 wallaby jobs from zuul layouts

This prevents some of the remaining c8 check and gate jobs from
running for stable/wallaby.

We are removing wallaby/c8 integration and component lines in [1]
and keeping only mixed rhel and ffu jobs with container builds as
part of the existing wallaby/centos9 line. Thus in this patch we
don't alter the wallaby/8 content provider and upgrade jobs as we
want these to continue runing. See [2] for other related patches.

[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby
[2] https://review.opendev.org/q/topic:oooci_teardown_8_wallaby

Change-Id: Ife23e183a279417e393ee9b054e28a63b3f1298e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/867351/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/build-image.yaml']",2,d35ccb0b03e0dc696f9644f27b5a0b19ff96303f,oooci_teardown_8_wallaby, branches: stable/train branches: stable/train, branches: ^(stable/(train|wallaby)).*$ branches: ^(stable/(train|wallaby)).*$,3,3
openstack%2Ftripleo-ansible~867679,openstack/tripleo-ansible,master,Ie736d477228a7dbc78f79dbda4a681e168e66c04,Fixed multi-cell exported on Network,MERGED,2022-12-14 18:24:13.000000000,2022-12-16 19:04:06.000000000,2022-12-16 19:02:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-12-14 18:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac3d16fdb4e34c64ff9a5f86ca5de68a2d21b59e', 'message': 'WIP fixed multi-cell exported on Network\n\nChange-Id: Ie736d477228a7dbc78f79dbda4a681e168e66c04\n'}, {'number': 2, 'created': '2022-12-15 12:51:12.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/961d3292fb5d8f574ce89dcdc56638f982ae0471', 'message': 'Fixed multi-cell exported on Network\n\nThe ""openstack overcloud network extract"" is failing due to\nthe fact that the variable is not defined. This patch fixed that\nand only used the idx variable if has some value.\n\nCloses-Bug: #1999776\nChange-Id: Ie736d477228a7dbc78f79dbda4a681e168e66c04\n'}]",1,867679,961d3292fb5d8f574ce89dcdc56638f982ae0471,13,6,2,22954,,,0,"Fixed multi-cell exported on Network

The ""openstack overcloud network extract"" is failing due to
the fact that the variable is not defined. This patch fixed that
and only used the idx variable if has some value.

Closes-Bug: #1999776
Change-Id: Ie736d477228a7dbc78f79dbda4a681e168e66c04
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/867679/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py'],1,ac3d16fdb4e34c64ff9a5f86ca5de68a2d21b59e,extract_network_cell, idx = None if idx is not None: indexed_networks[idx] = net_entry, indexed_networks[idx] = net_entry,3,1
openstack%2Fironic~867298,openstack/ironic,stable/zed,If7c10d9bfd0bb410b3bc5180b737439c92e515da,Fix unit tests for Python 3.11,MERGED,2022-12-13 12:49:08.000000000,2022-12-16 19:01:18.000000000,2022-12-16 19:00:11.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 12:49:08.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/49dade88c08545a5bcf4941e482d1262e4b83546', 'message': 'Fix unit tests for Python 3.11\n\nMocks can no longer be provided as the specs for other Mocks.\nSee https://github.com/python/cpython/issues/87644 and\nhttps://docs.python.org/3.11/whatsnew/3.11.html for more info.\n\nChange-Id: If7c10d9bfd0bb410b3bc5180b737439c92e515da\n(cherry picked from commit 342f4b37d757ac247aece95f7a4c3410a026b625)\n'}]",0,867298,49dade88c08545a5bcf4941e482d1262e4b83546,10,3,1,23851,,,0,"Fix unit tests for Python 3.11

Mocks can no longer be provided as the specs for other Mocks.
See https://github.com/python/cpython/issues/87644 and
https://docs.python.org/3.11/whatsnew/3.11.html for more info.

Change-Id: If7c10d9bfd0bb410b3bc5180b737439c92e515da
(cherry picked from commit 342f4b37d757ac247aece95f7a4c3410a026b625)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/867298/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/irmc/test_inspect.py'],1,49dade88c08545a5bcf4941e482d1262e4b83546,fix-test-py311-stable/zed," new_port_mock1 = objects.Port new_port_mock2 = objects.Port mock.call.create(), node_id=node_id), mock.call.create() ], any_order=False) new_port_mock1 = objects.Port new_port_mock2 = objects.Port mock.call.create(), node_id=node_id), mock.call.create() ], any_order=False)", new_port_mock1 = mock.MagicMock(spec=objects.Port) new_port_mock2 = mock.MagicMock(spec=objects.Port) node_id=node_id) ]) new_port_mock1.create.assert_called_once_with() new_port_mock2.create.assert_called_once_with() new_port_mock1 = mock.MagicMock(spec=objects.Port) new_port_mock2 = mock.MagicMock(spec=objects.Port) node_id=node_id) ]) new_port_mock1.create.assert_called_once_with() new_port_mock2.create.assert_called_once_with(),13,12
openstack%2Fcinder~861001,openstack/cinder,master,I517010f9c6bc70622d6004527cf3cab976cfacbf,HPE 3PAR: test - please ignore,NEW,2022-10-13 10:28:30.000000000,2022-12-16 18:29:32.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 10:28:30.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a65b3b6567bd28324e05c01e511ed844225dc42', 'message': 'HPE 3PAR: test - please ignore\n\nPlease ignore this patch\n\nChange-Id: I517010f9c6bc70622d6004527cf3cab976cfacbf\n'}]",0,861001,1a65b3b6567bd28324e05c01e511ed844225dc42,25,2,1,29122,,,0,"HPE 3PAR: test - please ignore

Please ignore this patch

Change-Id: I517010f9c6bc70622d6004527cf3cab976cfacbf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/861001/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_base.py'],1,1a65b3b6567bd28324e05c01e511ed844225dc42,,# 13oct - test x ,,2,0
openstack%2Fproject-config~867264,openstack/project-config,master,I7bd2f0f6fcd7449e724815ed0c0fe743702ae8f3,Remove iweb nodepool configs,MERGED,2022-12-12 16:44:04.000000000,2022-12-16 17:44:35.000000000,2022-12-16 17:27:50.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 16:44:04.000000000', 'files': ['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b0629e2cb3e020931d374ac4cddea3911f28a35', 'message': ""Remove iweb nodepool configs\n\nThis removes iweb configs from the project-config repo. We'll still have\na few system-config items to clean up in a separate change.\n\nChange-Id: I7bd2f0f6fcd7449e724815ed0c0fe743702ae8f3\n""}]",1,867264,7b0629e2cb3e020931d374ac4cddea3911f28a35,11,6,1,4146,,,0,"Remove iweb nodepool configs

This removes iweb configs from the project-config repo. We'll still have
a few system-config items to clean up in a separate change.

Change-Id: I7bd2f0f6fcd7449e724815ed0c0fe743702ae8f3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/867264/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'nodepool/nl03.opendev.org.yaml']",3,7b0629e2cb3e020931d374ac4cddea3911f28a35,wind-down-iweb,, - name: iweb-mtl01 region-name: 'mtl01' cloud: iweb boot-timeout: 120 launch-timeout: 600 rate: 0.001 diskimages: [] pools: - name: main max-servers: 0 labels: [] ,0,19
openstack%2Fcinder~867294,openstack/cinder,stable/ussuri,Ib04e49dac9fdabd81809ca389553ce3638bb9bbf,[PURE] support IPv6 / add parameter pure_iscsi_cidr_list,MERGED,2022-12-13 07:18:38.000000000,2022-12-16 17:03:26.000000000,2022-12-16 17:02:13.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 07:18:38.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure-iscsi-cidrs-7195eda9f7214fce.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f283a9704f3b2bb56769ad2580cdf1426d22be2', 'message': '[PURE] support IPv6 / add parameter pure_iscsi_cidr_list\n\nPure storage: Add support for IPv6 in pure_iscsi_cidr parameter.\nPure storage: Add parameter pure_iscsi_cidr_list to support a list of networks.\n\nDepends-On: Ib001e2b4d1347754c2b46730bc10d86e8cdab7ad\nChange-Id: Ib04e49dac9fdabd81809ca389553ce3638bb9bbf\nCloses-Bug: 1910143\n(cherry picked from commit 7aa5e95d48c1bd0110001fb967c80e101f5b94dd)\n(cherry picked from commit 84dc4fb0599743ad19eac43ca2e10dedb5d5386b)\n(cherry picked from commit d061455d4f7974a6f4c86ba7e54b4415be4a3385)\n'}]",2,867294,7f283a9704f3b2bb56769ad2580cdf1426d22be2,16,3,1,34598,,,0,"[PURE] support IPv6 / add parameter pure_iscsi_cidr_list

Pure storage: Add support for IPv6 in pure_iscsi_cidr parameter.
Pure storage: Add parameter pure_iscsi_cidr_list to support a list of networks.

Depends-On: Ib001e2b4d1347754c2b46730bc10d86e8cdab7ad
Change-Id: Ib04e49dac9fdabd81809ca389553ce3638bb9bbf
Closes-Bug: 1910143
(cherry picked from commit 7aa5e95d48c1bd0110001fb967c80e101f5b94dd)
(cherry picked from commit 84dc4fb0599743ad19eac43ca2e10dedb5d5386b)
(cherry picked from commit d061455d4f7974a6f4c86ba7e54b4415be4a3385)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/867294/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure-iscsi-cidrs-7195eda9f7214fce.yaml']",3,7f283a9704f3b2bb56769ad2580cdf1426d22be2,pure_iscsi_cidrs-stable/wallaby-stable/victoria-stable/ussuri,--- fixes: - | Pure Storage FlashArray driver `bug 1910143 <https://bugs.launchpad.net/cinder/+bug/1910143>`_: Parameter ``pure_iscsi_cidr`` is now IPv4/v6 agnostic. features: - | Pure Storage FlashArray driver: added configuration option ``pure_iscsi_cidr_list`` for setting several network CIDRs for iSCSI target connection. Both IPv4 and IPv6 is supported. The default still allows all IPv4 targets. ,,153,18
openstack%2Fneutron~865823,openstack/neutron,master,Ife40e19537a101ddacdc2978e6b34f4571b8c66a,dhcp: fix issue when network is already removed,MERGED,2022-11-28 11:09:27.000000000,2022-12-16 17:03:23.000000000,2022-12-16 17:02:08.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-28 11:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/596dc4cb52516f3a6267b6d4f2bd8d29aa0b3b61', 'message': 'agent: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that can there is no reason to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 2, 'created': '2022-11-28 17:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/861bc813867645f757e9a2bb559096c18052b064', 'message': 'agent: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 3, 'created': '2022-11-29 16:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ef53f0e38674b59f6d660fa8fd2ec0822b9fd67', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 4, 'created': '2022-11-30 09:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2367885786efac4d5908d29d10709e1eee08bf7', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 5, 'created': '2022-12-01 08:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1a7bef545cfb245e288c14e82693f73e94e0d4b', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 6, 'created': '2022-12-02 13:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec7c266cd25e70f06044ad5747137c511782a9ce', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 7, 'created': '2022-12-05 08:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0433e52cc471b57098cb21e9b2df2d13f30c59d3', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 8, 'created': '2022-12-12 07:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36d726e21417549fd8d697f89f56478bc31d8944', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 9, 'created': '2022-12-13 07:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f1180b1329b567edef7a540eca56bd9830c0aaa', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}, {'number': 10, 'created': '2022-12-15 16:26:15.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/faa4803302539aa13d384e4ca3d72bff37a79f79', 'message': 'dhcp: fix issue when network is already removed\n\nWe may be in a situation where the network get removed prior the\nport. In that case there are no reasons to call the driver to clean\ndevices related to the network.\n\nCloses-bug: #1997964\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a\n'}]",37,865823,faa4803302539aa13d384e4ca3d72bff37a79f79,110,8,10,7730,,,0,"dhcp: fix issue when network is already removed

We may be in a situation where the network get removed prior the
port. In that case there are no reasons to call the driver to clean
devices related to the network.

Closes-bug: #1997964
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Ife40e19537a101ddacdc2978e6b34f4571b8c66a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/865823/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",2,596dc4cb52516f3a6267b6d4f2bd8d29aa0b3b61,bug1997964," def test_port_delete_network_already_deleted(self): port = dhcp.DictModel(copy.deepcopy(fake_port1)) device_id = utils.get_dhcp_agent_device_id( port.network_id, self.dhcp.conf.host) port['device_id'] = device_id self.cache.get_network_by_id.return_value = None self.cache.get_port_by_id.return_value = port self.dhcp.port_delete_end(None, {'port_id': port.id, 'network_id': fake_network.id, 'priority': FAKE_PRIORITY}) self.dhcp._process_resource_update() self.assertFalse(self.call_driver.called) ",,18,1
openstack%2Ftripleo-common~867354,openstack/tripleo-common,stable/wallaby,Idb194bc7fcff21f0acabc4f4b876e2441edbd33c,Remove centos8 wallaby jobs from zuul layouts,MERGED,2022-12-13 10:57:55.000000000,2022-12-16 16:58:55.000000000,2022-12-16 16:56:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-12-13 10:57:55.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81deea7c86effc47c2b6d86a09271fe3df981020', 'message': ""Remove centos8 wallaby jobs from zuul layouts\n\nThis removes the remaining c8 check and gate jobs from running for\nstable/wallaby. We are removing wallaby/c8 integration and component\nlines in [1]. We aren't keeping any ovb jobs thus don't need to keep\nthese build image jobs in check/gate layouts.\n\nSee [2] for other related patches.\n\n[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby\n[2] https://review.opendev.org/q/topic:oooci_teardown_8_wallaby\n\nChange-Id: Idb194bc7fcff21f0acabc4f4b876e2441edbd33c\n""}]",4,867354,81deea7c86effc47c2b6d86a09271fe3df981020,12,5,1,8449,,,0,"Remove centos8 wallaby jobs from zuul layouts

This removes the remaining c8 check and gate jobs from running for
stable/wallaby. We are removing wallaby/c8 integration and component
lines in [1]. We aren't keeping any ovb jobs thus don't need to keep
these build image jobs in check/gate layouts.

See [2] for other related patches.

[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby
[2] https://review.opendev.org/q/topic:oooci_teardown_8_wallaby

Change-Id: Idb194bc7fcff21f0acabc4f4b876e2441edbd33c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/867354/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,81deea7c86effc47c2b6d86a09271fe3df981020,oooci_teardown_8_wallaby, - tripleo-ci-centos-9-content-provider:, - tripleo-ci-centos-8-content-provider: - tripleo-buildimage-overcloud-full-centos-8: dependencies: *deps_unit_lint - tripleo-buildimage-ironic-python-agent-centos-8: dependencies: *deps_unit_lint - tripleo-buildimage-overcloud-hardened-full-centos-8: dependencies: *deps_unit_lint - tripleo-ci-centos-9-content-provider: dependencies: *deps_unit_lint,1,9
openstack%2Ftripleo-upgrade~867355,openstack/tripleo-upgrade,stable/wallaby,I361df71622fe2edee94d6f621c02030770aec212,Remove centos8 wallaby jobs from zuul layouts,MERGED,2022-12-13 11:07:36.000000000,2022-12-16 16:56:24.000000000,2022-12-16 16:56:24.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-12-13 11:07:36.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/157555938703ae6a895f7cb30b26acefb9d145f8', 'message': 'Remove centos8 wallaby jobs from zuul layouts\n\nThis removes the remaining c8 check and gate jobs from running for\nstable/wallaby. We are removing wallaby/c8 integration and component\nlines in [1]. For c8/wallaby we are keeping only the ffu job so\nthis patch removes the c8 minor update job and content provider\n\nSee [2] for related patches.\n\n[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby\n[2] https://review.opendev.org/q/topic:oooci_teardown_8_wallaby\n\nChange-Id: I361df71622fe2edee94d6f621c02030770aec212\n'}]",3,867355,157555938703ae6a895f7cb30b26acefb9d145f8,10,7,1,8449,,,0,"Remove centos8 wallaby jobs from zuul layouts

This removes the remaining c8 check and gate jobs from running for
stable/wallaby. We are removing wallaby/c8 integration and component
lines in [1]. For c8/wallaby we are keeping only the ffu job so
this patch removes the c8 minor update job and content provider

See [2] for related patches.

[1] https://review.rdoproject.org/r/q/topic:oooci_teardown_8_wallaby
[2] https://review.opendev.org/q/topic:oooci_teardown_8_wallaby

Change-Id: I361df71622fe2edee94d6f621c02030770aec212
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/867355/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,157555938703ae6a895f7cb30b26acefb9d145f8,oooci_teardown_8_wallaby, - tripleo-ci-centos-9-content-provider: &content_provider_deps - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates:, - tripleo-ci-centos-8-content-provider: &content_provider_deps - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-9-content-provider: *content_provider_deps - tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider: *content_provider_deps - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,2,14
openstack%2Fkayobe~867965,openstack/kayobe,master,Ie1c9e1ada50774cbcaec528bd64d8df066c21d2e,Run handlers before configuring veth interfaces,MERGED,2022-12-16 10:26:53.000000000,2022-12-16 16:26:08.000000000,2022-12-16 16:25:02.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2022-12-16 10:26:53.000000000', 'files': ['ansible/roles/network-redhat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fbf000689559c434157d49b147da60725ba9562a', 'message': 'Run handlers before configuring veth interfaces\n\nHandlers from MichaelRigart.interfaces are not run until the end of the\nplay, which results in the veth role trying to create veth interfaces\nagainst a non-existing bridge.\n\nChange-Id: Ie1c9e1ada50774cbcaec528bd64d8df066c21d2e\n'}]",2,867965,fbf000689559c434157d49b147da60725ba9562a,10,4,1,15197,,,0,"Run handlers before configuring veth interfaces

Handlers from MichaelRigart.interfaces are not run until the end of the
play, which results in the veth role trying to create veth interfaces
against a non-existing bridge.

Change-Id: Ie1c9e1ada50774cbcaec528bd64d8df066c21d2e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/867965/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/network-redhat/tasks/main.yml'],1,fbf000689559c434157d49b147da60725ba9562a,,# NOTE(priteau): We need to run handlers from MichaelRigart.interfaces before # we start configuring any veth interfaces. - meta: flush_handlers ,,4,0
openstack%2Ftripleo-ansible~866338,openstack/tripleo-ansible,master,I8cf3f1bf0f724a5eb365b844de47292cfc9ab54e,New tripleo_nova role,ABANDONED,2022-12-01 14:46:52.000000000,2022-12-16 16:17:25.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-12-01 14:46:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova/meta/main.yml', 'doc/source/roles/role-tripleo_nova.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova/tasks/metadata_httpd.yaml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova/tasks/api_httpd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d9f109decc72b4f6ffee63eb71fd73d00de1775', 'message': 'New tripleo_nova role\n\nAllow to configure both nova_api and nova_metadata vhosts using the new\ntripleo_httpd_vhost role.\n\nIt will use parameters provided through tripleo-heat-templates in order\nto configure both httpd service, and the actual vhost.\n\nMake wsgi processes/threads tunable.\nSo that we can configure these options, especially processes, according\nto the tht parameter. This also removes redundant override of user and\ngroup.\n\nChange-Id: I0df080c739d44bf00905e081ac193dcba7b6c6ed\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n\n123\n\nChange-Id: I8cf3f1bf0f724a5eb365b844de47292cfc9ab54e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,866338,6d9f109decc72b4f6ffee63eb71fd73d00de1775,19,4,1,6926,,,0,"New tripleo_nova role

Allow to configure both nova_api and nova_metadata vhosts using the new
tripleo_httpd_vhost role.

It will use parameters provided through tripleo-heat-templates in order
to configure both httpd service, and the actual vhost.

Make wsgi processes/threads tunable.
So that we can configure these options, especially processes, according
to the tht parameter. This also removes redundant override of user and
group.

Change-Id: I0df080c739d44bf00905e081ac193dcba7b6c6ed
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>

123

Change-Id: I8cf3f1bf0f724a5eb365b844de47292cfc9ab54e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/866338/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova/meta/main.yml', 'doc/source/roles/role-tripleo_nova.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova/tasks/metadata_httpd.yaml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova/tasks/api_httpd.yaml']",9,6d9f109decc72b4f6ffee63eb71fd73d00de1775,standalone/apache,"--- - name: Ensure required params are set fail: msg: ""{{ item.k }} must be set to an actual value"" when: item.v == None loop: - k: ""tripleo_nova_api_httpd_config_httpd_conf"" v: ""{{ tripleo_nova_api_httpd_config_httpd_conf }}"" - k: ""tripleo_nova_api_httpd_config_prefork_serverlimit"" v: ""{{ tripleo_nova_api_httpd_config_prefork_serverlimit }}"" - k: ""tripleo_nova_api_httpd_config_prefork_maxrequestworkers"" v: ""{{ tripleo_nova_api_httpd_config_prefork_maxrequestworkers }}"" - k: ""tripleo_nova_api_httpd_config_mods"" v: ""{{ tripleo_nova_api_httpd_config_mods }}"" - name: Create httpd config and vhost vars: tripleo_httpd_config_httpd_conf: ""{{ tripleo_nova_api_httpd_config_httpd_conf }}"" tripleo_httpd_config_prefork_serverlimit: ""{{ tripleo_nova_api_httpd_config_prefork_serverlimit }}"" tripleo_httpd_config_prefork_maxrequestworkers: ""{{ tripleo_nova_api_httpd_config_prefork_maxrequestworkers }}"" tripleo_httpd_config_mods: ""{{ tripleo_nova_api_httpd_config_mods }}"" tripleo_httpd_vhost_ssl_ca: ""{{ tripleo_nova_api_httpd_vhost_ssl_ca }}"" tripleo_httpd_vhost_workers: ""{{ tripleo_nova_api_httpd_vhost_workers | default(omit) }}"" tripleo_httpd_vhost_threads: ""{{ tripleo_nova_api_httpd_vhost_threads }}"" tripleo_httpd_vhost_wsgi_process_display_name: ""{{ tripleo_nova_api_httpd_vhost_wsgi_process_display_name }}"" # Fixed params tripleo_httpd_vhost_user: 'nova' tripleo_httpd_vhost_service_name: 'nova_api' tripleo_httpd_vhost_group: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_access_log_format: 'forwarded' tripleo_httpd_vhost_access_log_name: 'nova_wsgi' tripleo_httpd_vhost_document_root: '/var/www/cgi-bin/nova' tripleo_httpd_vhost_wsgi_process_group: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_wsgi_daemon_process: 'nova' tripleo_httpd_vhost_wsgi: true tripleo_httpd_vhost_wsgi_script_alias: '/': '/var/www/cgi-bin/nova/app' import_role: name: tripleo_httpd_vhost ",,244,0
openstack%2Fneutron-tempest-plugin~857031,openstack/neutron-tempest-plugin,master,Ie835afa301e7fd17fb751b932adac74141e0e9a4,Update nested-virt testing for the 2023.1 cycle,MERGED,2022-09-12 08:53:15.000000000,2022-12-16 15:59:14.000000000,2022-12-05 23:44:11.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-12 08:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c600ec1ac9dbb08e7d957f9f199b89bb676192f', 'message': 'DNM: Test on jammy node instead of focal\n\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 2, 'created': '2022-09-12 09:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/48d6ce2ce5e2713bb3f398cd6bbd5691ae211a5e', 'message': 'DNM: Test on jammy node instead of focal\n\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 3, 'created': '2022-09-15 08:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b7913fd13c21caf45d295d7b1f6af611323b6f8b', 'message': 'Switch nested-virt testing to ubuntu-jammy\n\nSince the new main platform for testing is now Ubuntu Jammy, switch the\nnested-virt jobs as well.\n\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 4, 'created': '2022-09-16 09:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3a86a0c777af574ed29221847e9f8381be0a85e2', 'message': 'Update nested-virt testing for the 2023.1 cycle\n\nSince the new main platform for testing is now Ubuntu Jammy, switch the\nnested-virt jobs as well. Keep the previous setup for stable/zed and\nolder branches.\n\nUpdate cirros to the current latest version.\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/858016\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 5, 'created': '2022-09-16 09:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1fa55a9dbea41bea0a47d12cd43dbbf6771fb031', 'message': 'Update nested-virt testing for the 2023.1 cycle\n\nSince the new main platform for testing is now Ubuntu Jammy, switch the\nnested-virt jobs as well. Keep the previous setup for stable/zed and\nolder branches.\n\nUpdate cirros to the current latest version.\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/858018\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 6, 'created': '2022-09-18 11:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b714e8680e6fd7e4f2665f1c6b7679e141c89952', 'message': 'Update nested-virt testing for the 2023.1 cycle\n\nSince the new main platform for testing is now Ubuntu Jammy, switch the\nnested-virt jobs as well. In order to be able to keep the previous setup\nfor stable/zed and older branches, we add explicit nodeset overrides for\nthe affected jobs.\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/858018\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 7, 'created': '2022-09-20 07:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/17bf951358613faf478269d35f9c6d8d93a35176', 'message': 'Update nested-virt testing for the 2023.1 cycle\n\nSince the new main platform for testing is now Ubuntu Jammy, switch the\nnested-virt jobs as well. In order to be able to keep the previous setup\nfor stable/zed and older branches, we add explicit nodeset overrides for\nthe affected jobs.\n\nCirros 0.5.1 seems to have issues booting on Jammy hosts, update to the\nlatest stable release 0.5.2.\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/858018\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}, {'number': 8, 'created': '2022-10-09 09:05:16.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml', 'zuul.d/yoga_jobs.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f0d7d3ee057a8a95c48cf8c343474fe96233bb5d', 'message': 'Update nested-virt testing for the 2023.1 cycle\n\nSince the new main platform for testing is now Ubuntu Jammy, switch the\nnested-virt jobs as well. In order to be able to keep the previous setup\nfor stable/zed and older branches, we add explicit nodeset overrides for\nthe affected jobs.\n\nCirros 0.5.1 seems to have issues booting on Jammy hosts, update to the\nlatest stable release 0.5.2.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/860795\nChange-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4\n'}]",10,857031,f0d7d3ee057a8a95c48cf8c343474fe96233bb5d,37,3,8,13252,,,0,"Update nested-virt testing for the 2023.1 cycle

Since the new main platform for testing is now Ubuntu Jammy, switch the
nested-virt jobs as well. In order to be able to keep the previous setup
for stable/zed and older branches, we add explicit nodeset overrides for
the affected jobs.

Cirros 0.5.1 seems to have issues booting on Jammy hosts, update to the
latest stable release 0.5.2.

Depends-on: https://review.opendev.org/c/openstack/devstack/+/860795
Change-Id: Ie835afa301e7fd17fb751b932adac74141e0e9a4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/31/857031/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base-nested-switch.yaml'],1,3c600ec1ac9dbb08e7d957f9f199b89bb676192f,update-jammy, nodeset: neutron-nested-virt-ubuntu-jammy, nodeset: neutron-nested-virt-ubuntu-focal,1,1
openstack%2Fironic-python-agent~867780,openstack/ironic-python-agent,master,Ic0e7daea7ec4ce0806cd126c27166f84690c5d9e,Fix create configuration unit tests,MERGED,2022-12-15 10:52:14.000000000,2022-12-16 15:36:10.000000000,2022-12-16 15:34:58.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 10:52:14.000000000', 'files': ['ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/604c7081dbb6b1542c30e93e25e3f231acd146e2', 'message': ""Fix create configuration unit tests\n\nThe unit tests for create_configuration give different result if\nran on a bios or uefi booted machine because they get the\npartition table type value based on the utils function\nget_node_boot_mode.\nLet's mock the boot_mode as we do in other tests to get an\nindependent result.\n\nChange-Id: Ic0e7daea7ec4ce0806cd126c27166f84690c5d9e\n""}]",0,867780,604c7081dbb6b1542c30e93e25e3f231acd146e2,11,4,1,23851,,,0,"Fix create configuration unit tests

The unit tests for create_configuration give different result if
ran on a bios or uefi booted machine because they get the
partition table type value based on the utils function
get_node_boot_mode.
Let's mock the boot_mode as we do in other tests to get an
independent result.

Change-Id: Ic0e7daea7ec4ce0806cd126c27166f84690c5d9e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/80/867780/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/tests/unit/test_hardware.py'],1,604c7081dbb6b1542c30e93e25e3f231acd146e2,fix-test-create-conf-tests," @mock.patch.object(utils, 'get_node_boot_mode', lambda node: 'bios') @mock.patch.object(utils, 'get_node_boot_mode', lambda node: 'bios')",,2,0
openstack%2Fnetworking-odl~863719,openstack/networking-odl,master,Ie3a48964351163faeca3066aaffd4285177cbebb,Imported Translations from Zanata,MERGED,2022-11-05 02:11:57.000000000,2022-12-16 15:23:51.000000000,2022-12-16 15:22:53.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-05 02:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/01a3d12a2af93b6287bdb84e848ee9d90ddaa67a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie3a48964351163faeca3066aaffd4285177cbebb\n'}, {'number': 2, 'created': '2022-12-16 03:52:44.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b92b9864386f165bed50bed8a83f0bfa31676b02', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie3a48964351163faeca3066aaffd4285177cbebb\n'}]",1,863719,b92b9864386f165bed50bed8a83f0bfa31676b02,12,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie3a48964351163faeca3066aaffd4285177cbebb
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/19/863719/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,01a3d12a2af93b6287bdb84e848ee9d90ddaa67a,zanata/translations,"""POT-Creation-Date: 2022-10-28 07:22+0000\n""""PO-Revision-Date: 2022-11-04 10:47+0000\n""msgid ""13.0.1"" msgstr ""13.0.1"" msgid ""13.0.1-2"" msgstr ""13.0.1-2"" msgid ""14.0.0"" msgstr ""14.0.0"" msgid ""14.0.1-3"" msgstr ""14.0.1-3"" msgid ""15.0.0"" msgstr ""15.0.0"" msgid ""16.0.0"" msgstr ""16.0.0"" msgid ""21.0.0"" msgstr ""21.0.0"" msgid ""4.0.0-32"" msgstr ""4.0.0-32"" msgid ""Add command line tool to analyze logs"" msgstr ""Add command line tool to analyse logs"" msgid ""Agent aliveness will be ignored during port binding."" msgstr ""Agent aliveness will be ignored during port binding."" ""As a result of this assessment we decided to remove the aliveness awareness "" ""from the code and try to bind the port disregarding that. The consequence of "" ""this is that a \""neutron agent-list\"" call might show the agent as dead or "" ""alive but that's not information we should depend on to understand if we are "" ""binding to that node."" msgstr """" ""As a result of this assessment, we decided to remove the aliveness awareness "" ""from the code and try to bind the port disregarding that. The consequence of "" ""this is that a \""neutron agent-list\"" call might show the agent as dead or "" ""alive but that's not information we should depend on to understand if we are "" ""binding to that node."" msgid """"msgid """" ""BGPVPN OpenDaylight v2 driver will be enhanced to support bgpvpn-vni "" ""extension. Bgpvpn VNI resource represents the VNI to use on VXLAN "" ""encapsulated packets transferred to or from ODL managed computes themselves "" ""or for traffic from ODL-managed computers towards the DC-Gateway. Acceptance "" ""and realisation of the vni attribute in a bgpvpn is available in "" ""OpenDaylight(ODL) controller from Neon release of ODL"" msgstr """" ""BGPVPN OpenDaylight v2 driver will be enhanced to support bgpvpn-vni "" ""extension. Bgpvpn VNI resource represents the VNI to use on VXLAN "" ""encapsulated packets transferred to or from ODL managed computes themselves "" ""or for traffic from ODL-managed computers towards the DC-Gateway. Acceptance "" ""and realisation of the vni attribute in a bgpvpn is available in "" ""OpenDaylight(ODL) controller from Neon release of ODL"" msgid ""Ceilometer becomes an optional dependency"" msgstr ""Ceilometer becomes an optional dependency"" msgid """" ""Ceilometer driver should not be part of networking-odl because it forces a "" ""hard dependency with ceilometer into the project which does not really make "" ""sense. As such, it was decided the driver will be marked as deprecated "" ""beginning with Stein cycle and removed in the beginning of release T"" msgstr """" ""Ceilometer driver should not be part of networking-odl because it forces a "" ""hard dependency with Ceilometer into the project which does not really make "" ""sense. As such, it was decided the driver will be marked as deprecated "" ""beginning with Stein cycle and removed in the beginning of release T"" msgid """" ""Ceilometer is marked as deprecated beginning with Stein cycle to be removed "" ""in release T"" msgstr """" ""Ceilometer is marked as deprecated beginning with Stein cycle to be removed "" ""in release T"" msgid ""Critical Issues"" msgstr ""Critical Issues"" msgid """" ""During scale tests we saw that neutron agent aliveness mechanism is not "" ""working properly and was marking agents as down and thus failing on port "" ""binding. We assessed that aliveness in our context is not actually "" ""interesting, as we only use the agentdb mechanism to store the information "" ""we need for port binding."" msgstr """" ""During scale tests we saw that Neutron agent aliveness mechanism is not "" ""working properly and was marking agents as down and thus failing on port "" ""binding. We assessed that aliveness in our context is not actually "" ""interesting, as we only use the agentdb mechanism to store the information "" ""we need for port binding."" msgid """" ""Fixes an issue with SSL websocket connections where a read timeout was "" ""causing the client to close the connection. Read timeout is normal when no "" ""port status update is being sent by the server (ODL)."" msgstr """" ""Fixes an issue with SSL WebSocket connections where a read timeout was "" ""causing the client to close the connection. Read timeout is normal when no "" ""port status update is being sent by the server (ODL)."" msgid ""Fixes using TLS secured websocket when HTTPS is used in ML2 ODL URL."" msgstr ""Fixes using TLS-secured WebSocket when HTTPS is used in ML2 ODL URL."" ""If a user wants to utilize the ceilometer driver when installing networking-"" ""odl, the user should install networking-odl with the following syntax ==> "" ""networking-odl[ceilometer] In case, that driver is not needed, then only "" ""networking-odl should be used This makes sense because ceilometer driver is "" ""only loaded when neutron cfg requires network.statistics.driver and not by "" ""default"" msgstr """" ""If a user wants to utilise the Ceilometer driver when installing networking-"" ""odl, the user should install networking-odl with the following syntax ==> "" ""networking-odl[ceilometer] In case, that driver is not needed, then only "" ""networking-odl should be used This makes sense because ceilometer driver is "" ""only loaded when neutron cfg requires network.statistics.driver and not by "" ""default"" msgid """"""If this option is configured, networking_odl will not query ODL for its "" ""feature support and will instead use the configured value. If odl_features "" ""and odl_features_json are both specified, odl_features_json will take "" ""precedence and odl_features will not be used at all."" msgstr """" ""If this option is configured, networking_odl will not query ODL for its "" ""feature support and will instead use the configured value. If odl_features "" ""and odl_features_json are both specified, odl_features_json will take "" ""precedence and odl_features will not be used at all."" msgid """"""If you've been using v1 drivers, update your configuration to use the v2 "" ""drivers. Otherwise, neutron won't boot properly if v1 drivers are still used."" msgstr """" ""If you've been using v1 drivers, update your configuration to use the v2 "" ""drivers. Otherwise, neutron won't boot properly if v1 drivers are still used."" msgid """"msgid """" ""Includes the following bug fixes Bug 1640076 - Using odl lbaas driver_v2 to "" ""create listener failed. Bug 1633030 - Using odl lbaas driver_v2 to create "" ""loadbalancer failed. Bug 1613583 - Odl lbaas driver_v2 Line 61 url_path "" ""error. Bug 1613583 - Using ODL lbaas driver_v2 to create member failed."" msgstr """" ""Includes the following bug fixes Bug 1640076 - Using odl lbaas driver_v2 to "" ""create listener failed. Bug 1633030 - Using odl lbaas driver_v2 to create "" ""loadbalancer failed. Bug 1613583 - Odl lbaas driver_v2 Line 61 url_path "" ""error. Bug 1613583 - Using ODL lbaas driver_v2 to create member failed."" msgid """" ""L3 flavor driver to implement L3 resource operation callbacks related to "" ""router and floating ip create delete and update."" msgstr """" ""L3 flavor driver to implement L3 resource operation callbacks related to "" ""router and floating ip create delete and update."" msgid ""Queens Series Release Notes"" msgstr ""Queens Series Release Notes"" msgid ""Rocky Series Release Notes"" msgstr ""Rocky Series Release Notes"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" ""The configuration upgrades are required to enable l3 flavors, "" ""service_providers should be added to neutron.conf based on flavor used."" msgstr """" ""The configuration upgrades are required to enable l3 flavours, "" ""service_providers should be added to neutron.conf based on flavour used."" msgid """"""The odl_features_json option accepts a JSON compatible with the JSON "" ""response from ODL's API for retrieving features (\""/restconf/operational/"" ""neutron:neutron/features\"")."" msgstr """" ""The odl_features_json option accepts a JSON compatible with the JSON "" ""response from ODL's API for retrieving features (\""/restconf/operational/"" ""neutron:neutron/features\"")."" msgid """" ""The v1 drivers are removed. If you're still using v1 drivers, migrate to use "" ""the v2 drivers."" msgstr """" ""The v1 drivers are removed. If you're still using v1 drivers, migrate to use "" ""the v2 drivers."" msgid """" ""The v1 drivers, which were deprecated in the Queens cycle, are removed. All "" ""existing usages should be updated to use the v2 drivers."" msgstr """" ""The v1 drivers, which were deprecated in the Queens cycle, are removed. All "" ""existing usages should be updated to use the v2 drivers."" msgid """"msgid """" ""This tool can be used to analyze logs and determine the journal's operation "" ""efficiency. The tool tracks a journal entry's recording and processing to "" ""determine how much time it took since a journal entry was recorded until it "" ""was processed and sent to ODL."" msgstr """" ""This tool can be used to analyze logs and determine the journal's operation "" ""efficiency. The tool tracks a journal entry's recording and processing to "" ""determine how much time it took since a journal entry was recorded until it "" ""was processed and sent to ODL."" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" msgid ""Ussuri Series Release Notes"" msgstr ""Ussuri Series Release Notes"" msgid ""Victoria Series Release Notes"" msgstr ""Victoria Series Release Notes"" msgid ""Wallaby Series Release Notes"" msgstr ""Wallaby Series Release Notes"" msgid ""Xena Series Release Notes"" msgstr ""Xena Series Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" msgid ""Zed Series Release Notes"" msgstr ""Zed Series Release Notes"" ","""POT-Creation-Date: 2022-09-23 09:40+0000\n""""PO-Revision-Date: 2022-09-15 08:58+0000\n""",231,2
openstack%2Fironic~867543,openstack/ironic,master,Ia4c333dfbed5bfe27c85dc6efb0644291f8cbade,Update tox.ini for tox 4,ABANDONED,2022-12-13 16:57:37.000000000,2022-12-16 15:22:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-13 16:57:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/53c773f5de50f1420458219fbbd93b55533a4a3a', 'message': 'Update tox.ini for tox 4\n\nUpdate tox.ini to be compatible with tox 4\nIt should also be retrocompatible with tox 3\n\nChange-Id: Ia4c333dfbed5bfe27c85dc6efb0644291f8cbade\n'}]",0,867543,53c773f5de50f1420458219fbbd93b55533a4a3a,5,1,1,23851,,,0,"Update tox.ini for tox 4

Update tox.ini to be compatible with tox 4
It should also be retrocompatible with tox 3

Change-Id: Ia4c333dfbed5bfe27c85dc6efb0644291f8cbade
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/867543/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,53c773f5de50f1420458219fbbd93b55533a4a3a,tox4,"passenv = http_proxy,HTTP_PROXY,https_proxy,HTTPS_PROXY,no_proxy,NO_PROXY",passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,1,1
openstack%2Fsushy~867209,openstack/sushy,stable/zed,I063f5c3a280262f1a1d70b44906a504e2b16134d,Handle proper code_status in unit test,MERGED,2022-12-12 11:26:58.000000000,2022-12-16 15:14:01.000000000,2022-12-16 14:05:39.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-12-12 11:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/ff695b998c9edf193b48b1418515d42c2ae7e1f9', 'message': 'Handle proper code_status in unit test\n\nPython 3.11 correctly resolve the code_status with its number.\n\nSee https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1025124 for\nreference.\n\nChange-Id: I063f5c3a280262f1a1d70b44906a504e2b16134d\n'}, {'number': 2, 'created': '2022-12-12 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/94f067d18d8f52a32058545db3756936a0f585fe', 'message': 'Handle proper code_status in unit test\n\nPython 3.11 correctly resolve the code_status with its number.\n\nSee https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1025124 for\nreference.\n\nChange-Id: I063f5c3a280262f1a1d70b44906a504e2b16134d\n(cherry picked from commit 24d88f4aec476cde10a18a2f24b50612c9e981ef)\n'}, {'number': 3, 'created': '2022-12-13 16:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/aac820bf583668b08b7afaf9aa9b95f486cd241d', 'message': 'Handle proper code_status in unit test\n\nPython 3.11 correctly resolve the code_status with its number.\n\nSee https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1025124 for\nreference.\n\nChange-Id: I063f5c3a280262f1a1d70b44906a504e2b16134d\n(cherry picked from commit 24d88f4aec476cde10a18a2f24b50612c9e981ef)\n'}, {'number': 4, 'created': '2022-12-13 17:04:03.000000000', 'files': ['sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5e2807a79a105f4dda68c549c7abf7b02d4cb855', 'message': 'Handle proper code_status in unit test\n\nPython 3.11 correctly resolve the code_status with its number.\n\nSee https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1025124 for\nreference.\n\nChange-Id: I063f5c3a280262f1a1d70b44906a504e2b16134d\n(cherry picked from commit 24d88f4aec476cde10a18a2f24b50612c9e981ef)\n'}]",0,867209,5e2807a79a105f4dda68c549c7abf7b02d4cb855,16,4,4,23851,,,0,"Handle proper code_status in unit test

Python 3.11 correctly resolve the code_status with its number.

See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1025124 for
reference.

Change-Id: I063f5c3a280262f1a1d70b44906a504e2b16134d
(cherry picked from commit 24d88f4aec476cde10a18a2f24b50612c9e981ef)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/09/867209/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/tests/unit/test_connector.py'],1,ff695b998c9edf193b48b1418515d42c2ae7e1f9,, self.request.return_value.status_code = 403 mock_response.status_code = 403 error_msg = (f'HTTP GET http://redfish/v1/SessionService ' f'returned code {exc.status_code}. unknown error ' f'Extended information: none') {'err': error_msg}, self.request.return_value.status_code = http_client.FORBIDDEN mock_response.status_code = http_client.FORBIDDEN {'err': 'HTTP GET http://redfish/v1/SessionService ' 'returned code HTTPStatus.FORBIDDEN. unknown error ' 'Extended information: none'},6,5
openstack%2Fbifrost~866596,openstack/bifrost,stable/wallaby,If33dd3af59c38d763d2c55e70d763c3e20efc868,Remove CentOS Stream 8 based ci jobs,MERGED,2022-12-05 15:48:13.000000000,2022-12-16 14:41:18.000000000,2022-12-16 14:39:40.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-05 15:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/686e71e9dd636900dbdd0626720e7e734e9e83d1', 'message': ""Remove CentOS Stream 8 based ci jobs\n\nThey're broken since a while and since wallaby is EM they won't\nget fixed.\n\nChange-Id: If33dd3af59c38d763d2c55e70d763c3e20efc868\n""}, {'number': 2, 'created': '2022-12-05 15:50:16.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9023b13e56e6de9aa89eec0cf13fd338c02f5ff2', 'message': ""Remove CentOS Stream 8 based ci jobs\n\nThey're broken since a while and since wallaby is EM they won't\nget fixed.\n\nChange-Id: If33dd3af59c38d763d2c55e70d763c3e20efc868\n""}]",1,866596,9023b13e56e6de9aa89eec0cf13fd338c02f5ff2,10,2,2,23851,,,0,"Remove CentOS Stream 8 based ci jobs

They're broken since a while and since wallaby is EM they won't
get fixed.

Change-Id: If33dd3af59c38d763d2c55e70d763c3e20efc868
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/96/866596/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,686e71e9dd636900dbdd0626720e7e734e9e83d1,remove-cs8-jobs,, - bifrost-integration-tinyipa-centos-8 - bifrost-integration-tinyipa-keystone-centos-8 - bifrost-integration-redfish-vmedia-uefi-centos-8 - bifrost-upgrade-keystone-centos8 - bifrost-integration-dhcp-centos-8: voting: false - bifrost-integration-dibipa-debian-centos-8: voting: false - bifrost-integration-tinyipa-centos-8 - bifrost-integration-tinyipa-keystone-centos-8 - bifrost-upgrade-keystone-centos8,0,11
openstack%2Fcinder~827554,openstack/cinder,master,I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de,[Ceph-iscsi]  Disable multiattach,NEW,2022-02-02 20:44:02.000000000,2022-12-16 14:36:12.000000000,,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 32074}]","[{'number': 1, 'created': '2022-02-02 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e545b67dc045d0866e992ca6cd14bdf3c7c2bcdb', 'message': '[Ceph-iscsi]  Disable multiattach\n\nThis patch disables multiattach for the ceph iscsi driver.\nIt has not been verified to work.\n\nChange-Id: I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de\n'}, {'number': 2, 'created': '2022-03-07 13:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2b395171ce1a6761ced55ba77fb01b5e3b690e4', 'message': '[Ceph-iscsi]  Disable multiattach\n\nThis patch disables multiattach for the ceph iscsi driver.\nIt has not been verified to work.\n\nChange-Id: I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de\n'}, {'number': 3, 'created': '2022-04-06 12:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6583992a8f9173bd443775ad8b94382aea809e75', 'message': '[Ceph-iscsi]  Disable multiattach\n\nThis patch disables multiattach for the ceph iscsi driver.\nIt has not been verified to work.\n\nChange-Id: I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de\n'}, {'number': 4, 'created': '2022-04-13 20:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/411b6078b10d469c799033015a83f4cf815aeb05', 'message': '[Ceph-iscsi]  Disable multiattach\n\nThis patch disables multiattach for the ceph iscsi driver.\nIt has not been verified to work.\n\nChange-Id: I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de\n'}, {'number': 5, 'created': '2022-12-01 14:19:38.000000000', 'files': ['cinder/volume/drivers/ceph/rbd_iscsi.py', 'doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/505a6e07cb9698c556e2d3c183e187489802c918', 'message': '[Ceph-iscsi]  Disable multiattach\n\nThis patch disables multiattach for the ceph iscsi driver.\nIt has not been verified to work.\n\nChange-Id: I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de\n'}]",7,827554,505a6e07cb9698c556e2d3c183e187489802c918,106,4,5,5997,,,0,"[Ceph-iscsi]  Disable multiattach

This patch disables multiattach for the ceph iscsi driver.
It has not been verified to work.

Change-Id: I7276dd5dfb24fb910c7e0f7546a95e91c82aa4de
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/827554/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ceph/rbd_iscsi.py'],1,e545b67dc045d0866e992ca6cd14bdf3c7c2bcdb,rbd_iscsi_multiattach_test," def _update_volume_stats(self): super(RBDISCSIDriver, self)._update_volume_stats() self._stats['multiattach'] = False ",,4,0
openstack%2Freleases~864531,openstack/releases,master,I57049b81353c8363be86ce3710d0c7a6c460ffb1,Release python-cinderclient for Antelope-1 milestone,MERGED,2022-11-15 13:01:28.000000000,2022-12-16 14:34:12.000000000,2022-12-16 14:34:12.000000000,"[{'_account_id': 308}, {'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-15 13:01:28.000000000', 'files': ['deliverables/antelope/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e83e05d8e1bbf3a03f6d4ddcb1e9aa646b9e7b1d', 'message': 'Release python-cinderclient for Antelope-1 milestone\n\nThis is a library release for python-cinderclient for the Antelope-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 9.1.0..9df6535\n9df6535 Handle downgraded client for snapshot-create\n6f67187 Add Python3 antelope unit tests\nc354adb Update bindep for ubuntu jammy\n51edff7 Update master for stable/zed\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I57049b81353c8363be86ce3710d0c7a6c460ffb1\n'}]",16,864531,e83e05d8e1bbf3a03f6d4ddcb1e9aa646b9e7b1d,23,7,1,28522,,,0,"Release python-cinderclient for Antelope-1 milestone

This is a library release for python-cinderclient for the Antelope-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 9.1.0..9df6535
9df6535 Handle downgraded client for snapshot-create
6f67187 Add Python3 antelope unit tests
c354adb Update bindep for ubuntu jammy
51edff7 Update master for stable/zed

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I57049b81353c8363be86ce3710d0c7a6c460ffb1
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/864531/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/python-cinderclient.yaml'],1,e83e05d8e1bbf3a03f6d4ddcb1e9aa646b9e7b1d,antelope-milestone-1,releases: - version: 9.2.0 projects: - repo: openstack/python-cinderclient hash: 9df653571d4da06c25222189be27e87a6da75628,,5,0
openstack%2Frelease-test~866483,openstack/release-test,stable/2023.1,I82d99e40f83e03f9932baed44510c11e55e3f212,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2022-12-02 14:52:10.000000000,2022-12-16 14:24:34.000000000,2022-12-16 14:24:34.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 14:52:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/release-test/commit/977439fe9f9a3aebebd426137d24eccd1be520a8', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I82d99e40f83e03f9932baed44510c11e55e3f212\n'}]",0,866483,977439fe9f9a3aebebd426137d24eccd1be520a8,6,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I82d99e40f83e03f9932baed44510c11e55e3f212
",git fetch https://review.opendev.org/openstack/release-test refs/changes/83/866483/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,977439fe9f9a3aebebd426137d24eccd1be520a8,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Frelease-test~866482,openstack/release-test,stable/2023.1,I1baa9e5a7bbb80375c24c6f1e57c886ab6fc64f3,Update .gitreview for stable/2023.1,MERGED,2022-12-02 14:52:07.000000000,2022-12-16 14:24:23.000000000,2022-12-16 14:24:23.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 14:52:07.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/release-test/commit/da29ec71c5433e306676115798ba904e1627c75e', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: I1baa9e5a7bbb80375c24c6f1e57c886ab6fc64f3\n'}]",0,866482,da29ec71c5433e306676115798ba904e1627c75e,6,2,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: I1baa9e5a7bbb80375c24c6f1e57c886ab6fc64f3
",git fetch https://review.opendev.org/openstack/release-test refs/changes/82/866482/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,da29ec71c5433e306676115798ba904e1627c75e,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Ftripleo-heat-templates~861573,openstack/tripleo-heat-templates,master,I7f47741d4b2a5a3473d24439689cc358bf7738f0,Allow overriding mysql_bundle::gcomm_cipher,MERGED,2022-10-17 05:58:23.000000000,2022-12-16 13:40:57.000000000,2022-12-16 13:39:58.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 11090}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-17 05:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e21568f28f8e058917214b4da02a872c3a34cc1b', 'message': ""Allow overriding mysql_bundle::gcomm_cipher\n\nThere are cases where it is necessary to change the default cipher\nused by galera (example: FIPS).\nThis commit adds a new parameter called MysqlGaleraSSLCipher to\neasily override the default value 'AES128-SHA256' if required.\n\nChange-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0\n""}, {'number': 2, 'created': '2022-10-18 14:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3af31b36adc6ded164d4e7fcc30a389d9a74657', 'message': ""Allow overriding mysql_bundle::gcomm_cipher\n\nThere are cases where it is necessary to change the default cipher\nused by galera (example: FIPS).\nThis commit adds a new parameter called MysqlGaleraSSLCipher to\neasily override the default value 'AES128-SHA256' if required.\n\nChange-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0\n""}, {'number': 3, 'created': '2022-11-30 06:29:30.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/mysql_bundle_gcomm_cipher-df7655775d20f4d1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c600ad224f80003bed683e850e9a76db5e539e7', 'message': ""Allow overriding mysql_bundle::gcomm_cipher\n\nThere are cases where it is necessary to change the default cipher\nused by galera (example: FIPS).\nThis commit adds a new parameter called MysqlGaleraSSLCipher to\neasily override the default value 'AES128-SHA256' if required.\n\nChange-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0\n""}]",7,861573,7c600ad224f80003bed683e850e9a76db5e539e7,30,9,3,30126,,,0,"Allow overriding mysql_bundle::gcomm_cipher

There are cases where it is necessary to change the default cipher
used by galera (example: FIPS).
This commit adds a new parameter called MysqlGaleraSSLCipher to
easily override the default value 'AES128-SHA256' if required.

Change-Id: I7f47741d4b2a5a3473d24439689cc358bf7738f0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/861573/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,e21568f28f8e058917214b4da02a872c3a34cc1b,, MysqlGaleraSSLCipher: type: string default: 'AES128-SHA256' description: Symmetric cipher to use. tripleo::profile::pacemaker::database::mysql_bundle::gcomm_cipher: {get_param: MysqlGaleraSSLCipher},,5,0
openstack%2Ftripleo-quickstart~866789,openstack/tripleo-quickstart,master,I04216a60ef455936ee86f36852c20000339d740d,Ignore pip constraint file for bindep installation,ABANDONED,2022-12-06 18:31:08.000000000,2022-12-16 13:32:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-06 18:31:08.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2c5c84b053d11bb03ee4ad8d350a7f899ea1823c', 'message': 'Ignore pip constraint file for bindep installation\n\nThe pip constraint file can be ignored when installing\nbindep module. This patch ensure bindep installation\neven though $PIP_CONSTRAINT does not contain a good\n$STABLE_RELEASE value [1].\n\n[1] https://github.com/openstack/tripleo-ci/blob/b63515f8d458cd4599a36d0f60a050c09b8fbfce/roles/run-test/templates/common_vars.bash.j2#L42\n\nChange-Id: I04216a60ef455936ee86f36852c20000339d740d\n'}]",0,866789,2c5c84b053d11bb03ee4ad8d350a7f899ea1823c,4,2,1,31068,,,0,"Ignore pip constraint file for bindep installation

The pip constraint file can be ignored when installing
bindep module. This patch ensure bindep installation
even though $PIP_CONSTRAINT does not contain a good
$STABLE_RELEASE value [1].

[1] https://github.com/openstack/tripleo-ci/blob/b63515f8d458cd4599a36d0f60a050c09b8fbfce/roles/run-test/templates/common_vars.bash.j2#L42

Change-Id: I04216a60ef455936ee86f36852c20000339d740d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/866789/1 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,2c5c84b053d11bb03ee4ad8d350a7f899ea1823c,, PIP_CONSTRAINT= $(python_cmd) -m pip install bindep --upgrade PIP_CONSTRAINT= $(python_cmd) -m pip install --user bindep --upgrade, $(python_cmd) -m pip install bindep --upgrade $(python_cmd) -m pip install --user bindep --upgrade,2,2
openstack%2Fpuppet-openstack-integration~829008,openstack/puppet-openstack-integration,stable/wallaby,I9366744d473c535eefa087194bb8e296e736cb36,Copy current p-o-i project in PUPPETFILE_DIR,ABANDONED,2022-02-14 09:58:39.000000000,2022-12-16 13:28:39.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 09:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/60fd477835d2010f5ee790333cab34345d7015be', 'message': ""DNM copying current p-o-i in PUPPETFILE_DIR\n\nWe copy it when we don't install puppet modules\nfrom source.\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n""}, {'number': 2, 'created': '2022-02-14 14:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c359d8595b5c545e9f20c3a7866ca93d89ad8e52', 'message': ""DNM copying current p-o-i in PUPPETFILE_DIR\n\nWe copy it when we don't install puppet modules\nfrom source.\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n""}, {'number': 3, 'created': '2022-02-14 16:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9d8c2752a5cd5acdcab7d106bea61a9bf38d5e0e', 'message': ""DNM copying current p-o-i in PUPPETFILE_DIR\n\nWe copy it when we don't install puppet modules\nfrom source.\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n""}, {'number': 4, 'created': '2022-02-14 16:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b1486f04dc35f7fb274ca8b696458cafaf6a49c5', 'message': ""DNM copying current p-o-i in PUPPETFILE_DIR\n\nWe copy it when we don't install puppet modules\nfrom source.\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n""}, {'number': 5, 'created': '2022-02-14 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ca3e8bbcb8ca8069f0287659e03a2b7182477724', 'message': ""DNM copying current p-o-i in PUPPETFILE_DIR\n\nWe copy it when we don't install puppet modules\nfrom source.\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n""}, {'number': 6, 'created': '2022-02-15 10:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ce43eec860bac0c36c0a8b5017b3b4ac6954f7d6', 'message': 'Copy current p-o-i project in RPM puppet module dir\n\nWhen we don\'t install puppet modules from source\nwe still need to copy the current p-o-i project\n(as we do in [1][2]) in the RPM puppet module dir\nwhich is ""/usr/share/openstack-puppet/modules"" [3].\n\nThis patch doesn\'t change current behavior, as we always\nset $MANAGE_PUPPET_MODULES as true [4], and we don\'t\noverride it in [5].\n\n[1] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L92\n[2] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L77\n[3] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/4d676307eb52fc33ea8562f57c4d6028ffe1cd02/defaults/main.yml#L54\n[4] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/run_tests.sh#L23\n[5] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/master/tasks/main.yml#L114#L123\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n(cherry picked from commit c94c6e91dd13aae8db72cef3e39cc085e619a234)\n'}, {'number': 7, 'created': '2022-02-15 14:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3a479c06aea5df5455ad9c3aa2dfc02947e7f575', 'message': 'Copy current p-o-i project in RPM puppet module dir\n\nWhen we don\'t install puppet modules from source\nwe still need to copy the current p-o-i project\n(as we do in [1][2]) in the RPM puppet module dir\nwhich is ""/etc/puppet/modules"" [3][4].\nNote that this puppet modules directory is the same\nfor every RDO puppet RPMs from Yoga down to Train.\n\nThis patch doesn\'t change current behavior, as we always\nset $MANAGE_PUPPET_MODULES as true [5], and we don\'t\noverride it in [6].\n\nNote that currently, when we enable puppet modules RPM,\nwe install puppet modules both with RPM and from sources.\nPuppet modules from RPM are first installed in ""/etc/puppet/modules"" [7],\nand then ./install_modules.sh remove them [8] and install them from\nsource [9].\n\n[1] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L92\n[2] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L77\n[3] https://github.com/rdo-common/puppet/blob/b1ae0bcfd2a36da74840ff531cb68924991f5a7c/0001-Fix-puppet-paths.patch#L24\n[4] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/4d676307eb52fc33ea8562f57c4d6028ffe1cd02/tasks/main.yml#L121\n[5] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/run_tests.sh#L23\n[6] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/master/tasks/main.yml#L114#L123\n[7] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/master/tasks/main.yml#L76#L95\n[8] https://github.com/openstack/puppet-openstack-integration/blob/96b226bf255f532887f185b7fa2e28af753c3365/install_modules.sh#L31\n[9] https://github.com/openstack/puppet-openstack-integration/blob/master/functions#L88#L90\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n'}, {'number': 8, 'created': '2022-02-15 14:59:27.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2661de58c81cee5b2e940f92ecbcc784066a2304', 'message': 'Copy current p-o-i project in PUPPETFILE_DIR\n\nWhen we don\'t install puppet modules from source\nwe still need to copy the current p-o-i project\n(as we do in [1][2]) in PUPPETFILE_DIR directory\nwhich is ""/etc/puppet/modules"". This dir is in the path\nfor both RPM installation and source installation [3].\n\nThis patch doesn\'t change current behavior, as we always\nset $MANAGE_PUPPET_MODULES as true [4], and we don\'t\noverride it in [5].\n\nNote that currently, when we enable puppet modules RPM, we install\npuppet modules with both RPM and from sources. Puppet modules from\nRPM goes in ""/usr/share/openstack-puppet/modules"", and modules from\nsource goes in /etc/puppet/modules [6]. But as the RPM module dir is\nfirst in modulepath [3] (""earlier directories having priority over\nlater ones"" [7]) we use RPM ones.\n\n[1] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L92\n[2] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L77\n[3] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/4d676307eb52fc33ea8562f57c4d6028ffe1cd02/defaults/main.yml#L54\n[4] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/run_tests.sh#L23\n[5] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/master/tasks/main.yml#L114#L123\n[6] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/4d676307eb52fc33ea8562f57c4d6028ffe1cd02/tasks/main.yml#L121\n[7] https://puppet.com/docs/puppet/5.5/dirs_modulepath.html\n\nChange-Id: I9366744d473c535eefa087194bb8e296e736cb36\n'}]",1,829008,2661de58c81cee5b2e940f92ecbcc784066a2304,17,2,8,31068,,,0,"Copy current p-o-i project in PUPPETFILE_DIR

When we don't install puppet modules from source
we still need to copy the current p-o-i project
(as we do in [1][2]) in PUPPETFILE_DIR directory
which is ""/etc/puppet/modules"". This dir is in the path
for both RPM installation and source installation [3].

This patch doesn't change current behavior, as we always
set $MANAGE_PUPPET_MODULES as true [4], and we don't
override it in [5].

Note that currently, when we enable puppet modules RPM, we install
puppet modules with both RPM and from sources. Puppet modules from
RPM goes in ""/usr/share/openstack-puppet/modules"", and modules from
source goes in /etc/puppet/modules [6]. But as the RPM module dir is
first in modulepath [3] (""earlier directories having priority over
later ones"" [7]) we use RPM ones.

[1] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L92
[2] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/functions#L77
[3] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/4d676307eb52fc33ea8562f57c4d6028ffe1cd02/defaults/main.yml#L54
[4] https://github.com/openstack/puppet-openstack-integration/blob/c8175c5b329d6cea0fb127bde2efe0a52805609a/run_tests.sh#L23
[5] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/master/tasks/main.yml#L114#L123
[6] https://github.com/rdo-infra/ansible-role-weirdo-puppet-openstack/blob/4d676307eb52fc33ea8562f57c4d6028ffe1cd02/tasks/main.yml#L121
[7] https://puppet.com/docs/puppet/5.5/dirs_modulepath.html

Change-Id: I9366744d473c535eefa087194bb8e296e736cb36
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/829008/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,60fd477835d2010f5ee790333cab34345d7015be,,else cp -a ${SCRIPT_DIR} ${PUPPET_BASE_PATH}/modules/openstack_integration,,2,0
openstack%2Fpuppet-neutron~867837,openstack/puppet-neutron,stable/xena,Id5bc63a16129f9a4a0945dc7b9898e5c60c352b2,Use openstack cli to manage neutron subnets,ABANDONED,2022-12-15 18:02:07.000000000,2022-12-16 13:28:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 18:02:07.000000000', 'files': ['spec/unit/provider/neutron_subnet/neutron_spec.rb', 'lib/puppet/provider/neutron.rb', 'spec/unit/provider/neutron_subnet/openstack_spec.rb', 'lib/puppet/provider/neutron_subnet/openstack.rb', 'lib/puppet/provider/neutron_subnet/neutron.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1a70f57e4e7d774e5ecdc6c5e45760fd51d60102', 'message': 'Use openstack cli to manage neutron subnets\n\nPartial-Bug: #1808317\nChange-Id: Id5bc63a16129f9a4a0945dc7b9898e5c60c352b2\n(cherry picked from commit d4830443fb9fcb5d0ef6ae008803df5102a64234)\n'}]",0,867837,1a70f57e4e7d774e5ecdc6c5e45760fd51d60102,4,1,1,31068,,,0,"Use openstack cli to manage neutron subnets

Partial-Bug: #1808317
Change-Id: Id5bc63a16129f9a4a0945dc7b9898e5c60c352b2
(cherry picked from commit d4830443fb9fcb5d0ef6ae008803df5102a64234)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/37/867837/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/neutron_subnet/neutron_spec.rb', 'lib/puppet/provider/neutron.rb', 'spec/unit/provider/neutron_subnet/openstack_spec.rb', 'lib/puppet/provider/neutron_subnet/openstack.rb', 'lib/puppet/provider/neutron_subnet/neutron.rb']",5,1a70f57e4e7d774e5ecdc6c5e45760fd51d60102,,,"require 'json' require File.join(File.dirname(__FILE__), '..','..','..', 'puppet/provider/neutron') Puppet::Type.type(:neutron_subnet).provide( :neutron, :parent => Puppet::Provider::Neutron ) do desc <<-EOT Neutron provider to manage neutron_subnet type. Assumes that the neutron service is configured on the same host. EOT mk_resource_methods def self.neutron_type 'subnet' end def self.do_not_manage @do_not_manage end def self.do_not_manage=(value) @do_not_manage = value end def self.instances self.do_not_manage = true list = list_neutron_resources(neutron_type).collect do |id| attrs = get_neutron_resource_attrs(neutron_type, id) new( :ensure => :present, :name => attrs['name'], :id => attrs['id'], :cidr => attrs['cidr'], :ip_version => attrs['ip_version'], :ipv6_ra_mode => attrs['ipv6_ra_mode'], :ipv6_address_mode => attrs['ipv6_address_mode'], :gateway_ip => parse_gateway_ip(attrs['gateway_ip']), :allocation_pools => parse_allocation_pool(attrs['allocation_pools']), :host_routes => parse_host_routes(attrs['host_routes']), :dns_nameservers => parse_dns_nameservers(attrs['dns_nameservers']), :enable_dhcp => attrs['enable_dhcp'], :network_id => attrs['network_id'], :tenant_id => attrs['tenant_id'] ) end self.do_not_manage = false list end def self.prefetch(resources) subnets = instances resources.keys.each do |name| if provider = subnets.find{ |subnet| subnet.name == name } resources[name].provider = provider end end end def self.parse_gateway_ip(value) return '' if value.nil? return value end def self.parse_allocation_pool(values) allocation_pools = [] return [] if values.empty? or values == '[]' for value in Array(values) allocation_pool = JSON.parse(value.gsub(/\\""/,'""').gsub('u\'', '""') .gsub('\'','""').gsub('[', '') .gsub(']', '')) start_ip = allocation_pool['start'] end_ip = allocation_pool['end'] allocation_pools << ""start=#{start_ip},end=#{end_ip}"" end return allocation_pools end def self.parse_host_routes(values) host_routes = [] return [] if values.empty? or values == '[]' # Strip brackets from output, needed after neutronclient >= 6.1.0 values = values.gsub('[', '').gsub(']', '') for value in Array(values) host_route = JSON.parse(value.gsub(/\\""/,'""').gsub('u\'', '""') .gsub('\'','""')) nexthop = host_route['nexthop'] destination = host_route['destination'] host_routes << ""destination=#{destination},nexthop=#{nexthop}"" end return host_routes end def self.parse_dns_nameservers(values) # With neutronclient >= 6.1.0 we need to parse the string a bit if values.is_a? String values = values.gsub('u\'', '').gsub('\'','').gsub('[', '') .gsub(']', '').gsub(',', '').split(' ') end # just enforce that this is actually an array return Array(values) end def exists? @property_hash[:ensure] == :present end def create if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end opts = [""--name=#{@resource[:name]}""] if @resource[:ip_version] opts << ""--ip-version=#{@resource[:ip_version]}"" end if @resource[:ipv6_ra_mode] opts << ""--ipv6-ra-mode=#{@resource[:ipv6_ra_mode]}"" end if @resource[:ipv6_address_mode] opts << ""--ipv6-address-mode=#{@resource[:ipv6_address_mode]}"" end if @resource[:gateway_ip] if @resource[:gateway_ip] == '' opts << '--no-gateway' else opts << ""--gateway-ip=#{@resource[:gateway_ip]}"" end end if @resource[:enable_dhcp] == 'False' opts << ""--disable-dhcp"" else opts << ""--enable-dhcp"" end if @resource[:allocation_pools] Array(@resource[:allocation_pools]).each do |allocation_pool| opts << ""--allocation-pool=#{allocation_pool}"" end end if @resource[:dns_nameservers] Array(@resource[:dns_nameservers]).each do |nameserver| opts << ""--dns-nameserver=#{nameserver}"" end end if @resource[:host_routes] Array(@resource[:host_routes]).each do |host_route| opts << ""--host-route=#{host_route}"" end end if @resource[:tenant_name] tenant_id = self.class.get_tenant_id(@resource.catalog, @resource[:tenant_name]) opts << ""--tenant_id=#{tenant_id}"" elsif @resource[:tenant_id] opts << ""--tenant_id=#{@resource[:tenant_id]}"" end if @resource[:network_name] opts << resource[:network_name] elsif @resource[:network_id] opts << resource[:network_id] end results = auth_neutron('subnet-create', '--format=shell', opts, resource[:cidr]) attrs = self.class.parse_creation_output(results) @property_hash = { :ensure => :present, :name => resource[:name], :id => attrs['id'], :cidr => attrs['cidr'], :ip_version => attrs['ip_version'], :ipv6_ra_mode => attrs['ipv6_ra_mode'], :ipv6_address_mode => attrs['ipv6_address_mode'], :gateway_ip => self.class.parse_gateway_ip(attrs['gateway_ip']), :allocation_pools => self.class.parse_allocation_pool(attrs['allocation_pools']), :host_routes => self.class.parse_host_routes(attrs['host_routes']), :dns_nameservers => self.class.parse_dns_nameservers(attrs['dns_nameservers']), :enable_dhcp => attrs['enable_dhcp'], :network_id => attrs['network_id'], :tenant_id => attrs['tenant_id'], } end def destroy if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end auth_neutron('subnet-delete', name) @property_hash[:ensure] = :absent end def gateway_ip=(value) if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end if value == '' auth_neutron('subnet-update', '--no-gateway', name) else auth_neutron('subnet-update', ""--gateway-ip=#{value}"", name) end end def enable_dhcp=(value) if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end if value == 'False' auth_neutron('subnet-update', ""--disable-dhcp"", name) else auth_neutron('subnet-update', ""--enable-dhcp"", name) end end def allocation_pools=(values) if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end unless values.empty? opts = [""#{name}"", ""--allocation-pool""] for value in values opts << value end auth_neutron('subnet-update', opts) end end def dns_nameservers=(values) if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end unless values.empty? opts = [""#{name}"", ""--dns-nameservers"", ""list=true""] for value in values opts << value end auth_neutron('subnet-update', opts) end end def host_routes=(values) if self.class.do_not_manage fail(""Not managing Neutron_subnet[#{@resource[:name]}] due to earlier Neutron API failures."") end unless values.empty? opts = [""#{name}"", ""--host-routes"", ""type=dict"", ""list=true""] for value in values opts << value end auth_neutron('subnet-update', opts) end end [ :cidr, :ip_version, :ipv6_ra_mode, :ipv6_address_mode, :network_id, :tenant_id, ].each do |attr| define_method(attr.to_s + ""="") do |value| fail(""Property #{attr.to_s} does not support being updated"") end end end ",608,515
openstack%2Fpuppet-openstack-integration~867959,openstack/puppet-openstack-integration,stable/xena,I06f5235e2527145feeb6833d21d9a39b4371f3a0,WIP test with puppet-neutron 867837 patch,ABANDONED,2022-12-16 09:31:42.000000000,2022-12-16 13:28:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-16 09:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a418266bb83c803bb5a70fb1043cc190823de990', 'message': 'WIP test with puppet-neutron 867837 patch\n\nChange-Id: I06f5235e2527145feeb6833d21d9a39b4371f3a0\n'}, {'number': 2, 'created': '2022-12-16 09:33:22.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a739d025746ffcd9907b74b4d43ca1a4fc402834', 'message': 'WIP test with puppet-neutron 867837 patch\n\nChange-Id: I06f5235e2527145feeb6833d21d9a39b4371f3a0\n'}]",0,867959,a739d025746ffcd9907b74b4d43ca1a4fc402834,4,1,2,31068,,,0,"WIP test with puppet-neutron 867837 patch

Change-Id: I06f5235e2527145feeb6833d21d9a39b4371f3a0
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/867959/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,a418266bb83c803bb5a70fb1043cc190823de990,," :git => 'https://review.opendev.org/openstack/puppet-neutron', :commit => '1a70f57e4e7d774e5ecdc6c5e45760fd51d60102'"," :git => 'https://opendev.org/openstack/puppet-neutron', :ref => 'stable/xena'",2,2
openstack%2Fcinderlib~867952,openstack/cinderlib,stable/zed,I768060b92ed9e145438e24456fd21cd1a1eda7fe,Update .gitreview for stable/zed,MERGED,2022-12-16 08:50:54.000000000,2022-12-16 13:26:15.000000000,2022-12-16 13:25:17.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 08:50:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/df4ca29933debba232ab70992362d7a31b3b35e9', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I768060b92ed9e145438e24456fd21cd1a1eda7fe\n'}]",0,867952,df4ca29933debba232ab70992362d7a31b3b35e9,7,2,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: I768060b92ed9e145438e24456fd21cd1a1eda7fe
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/52/867952/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,df4ca29933debba232ab70992362d7a31b3b35e9,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fsahara~858017,openstack/sahara,master,I5dda36e43caeeb2983cb6a9e0743591fc246d323,Fix compatibility with oslo.db 12.1.0,MERGED,2022-09-16 09:07:11.000000000,2022-12-16 12:57:13.000000000,2022-12-16 12:56:17.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-09-16 09:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/17ecf9e888fbd099a8fa53939b56c360af22a157', 'message': ""Fix compatibility with oslo.db 12.1.0\n\noslo.db 12.1.0 has changed the default value for the 'autocommit'\nparameter of 'LegacyEngineFacade' from 'True' to 'False'. This is a\nnecessary step to ensure compatibility with SQLAlchemy 2.0. However, we\nare currently relying on the autocommit behavior and need changes to\nexplicitly manage sessions. Until that happens, we need to override the\ndefault.\n\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I5dda36e43caeeb2983cb6a9e0743591fc246d323\n""}, {'number': 2, 'created': '2022-12-16 09:40:41.000000000', 'files': ['sahara/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/5e7258bcc8807493f08671be9b8f4f4c4232eb0a', 'message': ""Fix compatibility with oslo.db 12.1.0\n\noslo.db 12.1.0 has changed the default value for the 'autocommit'\nparameter of 'LegacyEngineFacade' from 'True' to 'False'. This is a\nnecessary step to ensure compatibility with SQLAlchemy 2.0. However, we\nare currently relying on the autocommit behavior and need changes to\nexplicitly manage sessions. Until that happens, we need to override the\ndefault.\n\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I5dda36e43caeeb2983cb6a9e0743591fc246d323\n""}]",3,858017,5e7258bcc8807493f08671be9b8f4f4c4232eb0a,14,3,2,16312,,,0,"Fix compatibility with oslo.db 12.1.0

oslo.db 12.1.0 has changed the default value for the 'autocommit'
parameter of 'LegacyEngineFacade' from 'True' to 'False'. This is a
necessary step to ensure compatibility with SQLAlchemy 2.0. However, we
are currently relying on the autocommit behavior and need changes to
explicitly manage sessions. Until that happens, we need to override the
default.

Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I5dda36e43caeeb2983cb6a9e0743591fc246d323
",git fetch https://review.opendev.org/openstack/sahara refs/changes/17/858017/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/db/sqlalchemy/api.py'],1,17ecf9e888fbd099a8fa53939b56c360af22a157,sqlalchemy-20," # FIXME(amoralej): Remove autocommit=True (and ideally use of # LegacyEngineFacade) asap since it's not compatible with # SQLAlchemy 2.0. sqlite_fk=True, autocommit=True)", sqlite_fk=True),5,1
openstack%2Fcinderlib~867953,openstack/cinderlib,master,I5de46c7549117c3912faadfc26848a353e946ef3,Update master for stable/zed,MERGED,2022-12-16 08:50:55.000000000,2022-12-16 12:16:45.000000000,2022-12-16 12:15:41.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 08:50:55.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/09dc1f7acf52f4fa5b53eae2d39c27dd9a719c36', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I5de46c7549117c3912faadfc26848a353e946ef3\n'}]",0,867953,09dc1f7acf52f4fa5b53eae2d39c27dd9a719c36,7,2,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I5de46c7549117c3912faadfc26848a353e946ef3
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/53/867953/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,09dc1f7acf52f4fa5b53eae2d39c27dd9a719c36,reno-zed, zed,,7,0
openstack%2Fopenstack-ansible-tests~867507,openstack/openstack-ansible-tests,stable/zed,I4e55617673e44e4e7e58f75b522c73c1f8a43fd0,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-12-13 13:24:00.000000000,2022-12-16 12:10:42.000000000,2022-12-16 12:09:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-12-13 13:24:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9a3eb6f87bcef74a03bdc6ca46fb95cc3220c004', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4e55617673e44e4e7e58f75b522c73c1f8a43fd0\n'}]",2,867507,9a3eb6f87bcef74a03bdc6ca46fb95cc3220c004,11,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4e55617673e44e4e7e58f75b522c73c1f8a43fd0
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/07/867507/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a3eb6f87bcef74a03bdc6ca46fb95cc3220c004,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkolla~867836,openstack/kolla,master,Icf7d1988aa7208cda1b6f70269b9b54cd201b730,CI: do not check for error in binary images,MERGED,2022-12-15 18:00:12.000000000,2022-12-16 11:58:19.000000000,2022-12-16 11:57:22.000000000,"[{'_account_id': 13252}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-15 18:00:12.000000000', 'files': ['tools/validate-all-dockerfiles.sh', 'tools/validate-binary-build.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0b9a9704d5d799f99a5cfa7923cb1209da16ac3', 'message': 'CI: do not check for error in binary images\n\nThere are no such anymore.\n\nChange-Id: Icf7d1988aa7208cda1b6f70269b9b54cd201b730\n'}]",1,867836,a0b9a9704d5d799f99a5cfa7923cb1209da16ac3,12,4,1,24072,,,0,"CI: do not check for error in binary images

There are no such anymore.

Change-Id: Icf7d1988aa7208cda1b6f70269b9b54cd201b730
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/867836/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/validate-all-dockerfiles.sh', 'tools/validate-binary-build.sh']",2,a0b9a9704d5d799f99a5cfa7923cb1209da16ac3,no-binary-in-zed,,"#!/bin/bash # Move to top level directory REAL_PATH=$(realpath $0) cd ""$(dirname ""$REAL_PATH"")/.."" RES=0 generate_templates () { echo Generating templates for $distro tools/build.py --template-only --type binary --base $distro --work-dir=$tmpdir } check_for_errors () { regex=$1 # Look for all rendered Dockerfile. # TODO(mwhahaha): Skip kolla-toolbox for now as it's dependent on specific # set of pip installed items. find $tmpdir/docker -not -path ""*kolla-toolbox*"" -name Dockerfile -print0 | xargs -0 egrep --color ""$regex"" # NOTE(mandre) grep returns status code of 1 if the expression isn't found # xargs returns with status 123 when the command invocation returns with an # exit status 1-125, this is what we should be looking for as our ""everything # is good"" code. if [ $? -ne 123 ]; then RES=1 fi } echo Looking for forbidden instructions in binary image templates for distro in debian ubuntu centos; do tmpdir=$(mktemp -d kolla-templates.XXXXXX --tmpdir) generate_templates check_for_errors ""gem .*install"" check_for_errors ""pip .*install"" check_for_errors ""npm .*install"" check_for_errors ""git .*clone"" check_for_errors ""wget"" check_for_errors ""curl"" rm -r $tmpdir done if [ $RES -eq 1 ]; then echo ""ERROR Found forbidden instructions in binary image templates"" fi # Let's not make it fail pep8 job for now #exit $RES ",0,50
openstack%2Ftripleo-ci~865502,openstack/tripleo-ci,master,I45980a36b691f62f4250b0759e7ba304b5e2a2ec,Use virtualenv_site_packages: true when using venv,MERGED,2022-11-24 06:34:14.000000000,2022-12-16 10:38:34.000000000,2022-11-25 11:25:10.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-24 06:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8230424dfcf25465723b2f593aeb56d39ded3097', 'message': 'Use virtualenv_site_packages: true when using venv\n\nThis would ensure site-packages are visible to venv\npython.\n\nChange-Id: I45980a36b691f62f4250b0759e7ba304b5e2a2ec\n'}, {'number': 2, 'created': '2022-11-24 09:47:17.000000000', 'files': ['roles/build-containers/tasks/venv_setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6dbbaf0d33776ad821cd7966b131b46a3e6b9a26', 'message': 'Use virtualenv_site_packages: true when using venv\n\nThis would ensure site-packages are visible to venv\npython.\n\nChange-Id: I45980a36b691f62f4250b0759e7ba304b5e2a2ec\n'}]",3,865502,6dbbaf0d33776ad821cd7966b131b46a3e6b9a26,13,4,2,8833,,,0,"Use virtualenv_site_packages: true when using venv

This would ensure site-packages are visible to venv
python.

Change-Id: I45980a36b691f62f4250b0759e7ba304b5e2a2ec
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/865502/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/venv_setup.yml'],1,8230424dfcf25465723b2f593aeb56d39ded3097,, virtualenv_site_packages: true virtualenv_site_packages: true virtualenv_site_packages: true,,3,0
openstack%2Fcharm-ops-sunbeam~867958,openstack/charm-ops-sunbeam,main,I5fc7bb5c5e1a41341856d6ee226c9bc5c008f0f9,Remove more use of stored state,MERGED,2022-12-16 09:31:28.000000000,2022-12-16 10:30:45.000000000,2022-12-16 10:30:45.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-16 09:31:28.000000000', 'files': ['ops_sunbeam/charm.py', 'ops_sunbeam/test_utils.py', 'ops_sunbeam/container_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/b4bb3c9f7443bcc1ab78f201a72306dc92a0fd77', 'message': 'Remove more use of stored state\n\nservice_ready\n\nRefactor Pebble container handlers to directly query the container\nwhen assessing whether the container service is ready or not.\n\nUpdated test harness code to use super calls for {start,stop}_service\nto ensure that service state modelling is correct; this also required\na tweak to start all to ensure that services that are already started\ndo not get started again (testing harness throws a state error).\n\nconfig_pushed\n\nNot actually used anywhere so dropped.\n\nChange-Id: I5fc7bb5c5e1a41341856d6ee226c9bc5c008f0f9\n'}]",1,867958,b4bb3c9f7443bcc1ab78f201a72306dc92a0fd77,7,2,1,935,,,0,"Remove more use of stored state

service_ready

Refactor Pebble container handlers to directly query the container
when assessing whether the container service is ready or not.

Updated test harness code to use super calls for {start,stop}_service
to ensure that service state modelling is correct; this also required
a tweak to start all to ensure that services that are already started
do not get started again (testing harness throws a state error).

config_pushed

Not actually used anywhere so dropped.

Change-Id: I5fc7bb5c5e1a41341856d6ee226c9bc5c008f0f9
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/58/867958/1 && git format-patch -1 --stdout FETCH_HEAD,"['ops_sunbeam/charm.py', 'ops_sunbeam/test_utils.py', 'ops_sunbeam/container_handlers.py']",3,b4bb3c9f7443bcc1ab78f201a72306dc92a0fd77,stored-state-redux," if not self.pebble_ready: return False container = self.charm.unit.get_container(self.container_name) services = container.get_services() return all([s.is_running() for s in services.values()]) if not service.is_running(): logger.debug( f""Starting {service_name} in {self.container_name}"" ) container.start(service_name)"," _state = ops.framework.StoredState() self._state.set_default(config_pushed=False) self._state.set_default(service_ready=False) self._state.config_pushed = True self._state.service_ready = True def config_pushed(self) -> bool: """"""Determine if configuration has been pushed to the container."""""" return self._state.config_pushed @property return self._state.service_ready logger.debug(f""Starting {service_name} in {self.container_name}"") container.start(service_name) self._state.service_ready = True self._state.service_ready = True",12,17
openstack%2Fpuppet-tripleo~864174,openstack/puppet-tripleo,stable/zed,I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec,Correct TLS cert permission,MERGED,2022-11-10 12:31:52.000000000,2022-12-16 10:21:04.000000000,2022-12-16 10:21:04.000000000,"[{'_account_id': 7294}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-10 12:31:52.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6710e46474f7daf3b26ae42eb71d98889d37a162', 'message': 'Correct TLS cert permission\n\nThis patch corrects file permission of cert directory and certificates\nfor QDR.\n\nChange-Id: I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec\n(cherry picked from commit 109a62a61e06b44e4764258082cb47c57409afeb)\n'}]",0,864174,6710e46474f7daf3b26ae42eb71d98889d37a162,8,5,1,5241,,,0,"Correct TLS cert permission

This patch corrects file permission of cert directory and certificates
for QDR.

Change-Id: I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec
(cherry picked from commit 109a62a61e06b44e4764258082cb47c57409afeb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/864174/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp']",2,6710e46474f7daf3b26ae42eb71d98889d37a162,tls-cert-perm-stable/zed," mode => '0755' mode => '0644',"," mode => '0700' mode => '0600',",5,5
openstack%2Fneutron~867940,openstack/neutron,master,If99732928967e0ab43f332bd32d796aa0beb9fbc,DNM Testing deploy_rootwrap,ABANDONED,2022-12-16 08:38:49.000000000,2022-12-16 10:06:48.000000000,,[],"[{'number': 1, 'created': '2022-12-16 08:38:49.000000000', 'files': ['tools/deploy_rootwrap.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/42aded738ee1ce8a389c69d06f623cef6421c8e5', 'message': 'DNM Testing deploy_rootwrap\n\nChange-Id: If99732928967e0ab43f332bd32d796aa0beb9fbc\n'}]",0,867940,42aded738ee1ce8a389c69d06f623cef6421c8e5,2,0,1,16688,,,0,"DNM Testing deploy_rootwrap

Change-Id: If99732928967e0ab43f332bd32d796aa0beb9fbc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/867940/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deploy_rootwrap.sh'],1,42aded738ee1ce8a389c69d06f623cef6421c8e5,deploy_rootwrap_debug,set -eux,set -eu,1,1
openstack%2Fnetworking-baremetal~867840,openstack/networking-baremetal,master,I76d08915cd3e8c3305491bc7c1e2c448783e53ae,Fixes for tox 4.0,MERGED,2022-12-15 18:08:30.000000000,2022-12-16 09:51:34.000000000,2022-12-16 09:50:29.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-12-15 18:08:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/a8c4dd417681d296db92e973f23bc4b1139b7de1', 'message': 'Fixes for tox 4.0\n\nFixing passenv to reflect new syntax\n\nChange-Id: I76d08915cd3e8c3305491bc7c1e2c448783e53ae\n'}]",0,867840,a8c4dd417681d296db92e973f23bc4b1139b7de1,8,3,1,10342,,,0,"Fixes for tox 4.0

Fixing passenv to reflect new syntax

Change-Id: I76d08915cd3e8c3305491bc7c1e2c448783e53ae
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/40/867840/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a8c4dd417681d296db92e973f23bc4b1139b7de1,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fopenstack-ansible~867943,openstack/openstack-ansible,stable/zed,I58b46aa3238948f0036cd02fe6e1c9519110a53d,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-12-16 08:45:44.000000000,2022-12-16 09:49:53.000000000,2022-12-16 09:47:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-16 08:45:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/abac5e82cfe516f0536e0b65898e3230be7dd831', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I58b46aa3238948f0036cd02fe6e1c9519110a53d\n'}]",0,867943,abac5e82cfe516f0536e0b65898e3230be7dd831,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I58b46aa3238948f0036cd02fe6e1c9519110a53d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/867943/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,abac5e82cfe516f0536e0b65898e3230be7dd831,create-zed, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible~867944,openstack/openstack-ansible,master,I683fb98c47a3894b2d66df44a7dd6681ae02c6b2,Update master for stable/zed,MERGED,2022-12-16 08:45:48.000000000,2022-12-16 09:48:56.000000000,2022-12-16 09:47:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-16 08:45:48.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7f8f6327d0e9467f434e979dabed635eea2ad40d', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I683fb98c47a3894b2d66df44a7dd6681ae02c6b2\n'}]",0,867944,7f8f6327d0e9467f434e979dabed635eea2ad40d,7,2,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I683fb98c47a3894b2d66df44a7dd6681ae02c6b2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/867944/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,7f8f6327d0e9467f434e979dabed635eea2ad40d,reno-zed, zed,,7,0
openstack%2Fopenstack-ansible~867942,openstack/openstack-ansible,stable/zed,I05325e7ffcfc968b42a7d72568a28dd4c3cd893f,Update .gitreview for stable/zed,MERGED,2022-12-16 08:45:39.000000000,2022-12-16 09:48:54.000000000,2022-12-16 09:47:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-12-16 08:45:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3fd4d137bdeed3ea70578c422b925ae4bf997bf', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I05325e7ffcfc968b42a7d72568a28dd4c3cd893f\n'}]",0,867942,e3fd4d137bdeed3ea70578c422b925ae4bf997bf,7,2,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: I05325e7ffcfc968b42a7d72568a28dd4c3cd893f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/867942/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e3fd4d137bdeed3ea70578c422b925ae4bf997bf,create-zed,defaultbranch=stable/zed,,1,1
openstack%2Fkayobe~867945,openstack/kayobe,stable/zed,Ib412cfb4a053bf65b1b703da7a8e4934fe2c2758,Update .gitreview for stable/zed,MERGED,2022-12-16 08:46:39.000000000,2022-12-16 09:47:16.000000000,2022-12-16 09:46:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/488af4a412110589fb7caeb35d1afcbbe7530306', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: Ib412cfb4a053bf65b1b703da7a8e4934fe2c2758\n'}]",1,867945,488af4a412110589fb7caeb35d1afcbbe7530306,10,3,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: Ib412cfb4a053bf65b1b703da7a8e4934fe2c2758
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/867945/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,488af4a412110589fb7caeb35d1afcbbe7530306,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fopenstack-helm-infra~867141,openstack/openstack-helm-infra,master,I03a13cfe3b9053b6abc5d961426e7a8e92743808,[ceph-client] Correct check for too many OSDs in the pool job,MERGED,2022-12-09 20:24:59.000000000,2022-12-16 09:43:36.000000000,2022-12-16 09:42:31.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 34520}, {'_account_id': 34821}]","[{'number': 1, 'created': '2022-12-09 20:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a7650f1f92008f526f6ac1c1e42ff71ec84407ef', 'message': '[ceph-client] Correct check for too many OSDs in the pool job\n\nThe target OSD count and the final target OSD count may differ in\ncases where a deployment may not include all of the hardware it is\nexpected to include eventually. This change corrects the check for\nmore OSDs running than expected to be based on the final OSD count\nrather than the intermediate one to avoid false failures when the\nintermediate target is exceeded and the final target is not.\n\nChange-Id: I03a13cfe3b9053b6abc5d961426e7a8e92743808\n'}, {'number': 2, 'created': '2022-12-15 16:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bee5c54d4bbf84991f6f93fe736350f56e36116', 'message': '[ceph-client] Correct check for too many OSDs in the pool job\n\nThe target OSD count and the final target OSD count may differ in\ncases where a deployment may not include all of the hardware it is\nexpected to include eventually. This change corrects the check for\nmore OSDs running than expected to be based on the final OSD count\nrather than the intermediate one to avoid false failures when the\nintermediate target is exceeded and the final target is not.\n\nChange-Id: I03a13cfe3b9053b6abc5d961426e7a8e92743808\n'}, {'number': 3, 'created': '2022-12-15 18:09:33.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'tools/deployment/osh-infra-logging/020-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0aad6d05f0b33f33de74a811253f8ebc9509ff6d', 'message': '[ceph-client] Correct check for too many OSDs in the pool job\n\nThe target OSD count and the final target OSD count may differ in\ncases where a deployment may not include all of the hardware it is\nexpected to include eventually. This change corrects the check for\nmore OSDs running than expected to be based on the final OSD count\nrather than the intermediate one to avoid false failures when the\nintermediate target is exceeded and the final target is not.\n\nChange-Id: I03a13cfe3b9053b6abc5d961426e7a8e92743808\n'}]",2,867141,0aad6d05f0b33f33de74a811253f8ebc9509ff6d,18,6,3,29974,,,0,"[ceph-client] Correct check for too many OSDs in the pool job

The target OSD count and the final target OSD count may differ in
cases where a deployment may not include all of the hardware it is
expected to include eventually. This change corrects the check for
more OSDs running than expected to be based on the final OSD count
rather than the intermediate one to avoid false failures when the
intermediate target is exceeded and the final target is not.

Change-Id: I03a13cfe3b9053b6abc5d961426e7a8e92743808
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/867141/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml']",3,a7650f1f92008f526f6ac1c1e42ff71ec84407ef,867141, - 0.1.39 Correct check for too many OSDs in the pool job,,4,3
openstack%2Fcinder~866523,openstack/cinder,master,I1514fbe1b550a7caac091e663001ba477121b8d0,dummy commit to test ci,ABANDONED,2022-12-08 10:47:29.000000000,2022-12-16 09:38:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-08 10:47:29.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/50393e3d36fa449c6d42ae1d57df5f3a9ed26943', 'message': 'dummy commit to test ci\n\nChange-Id: I1514fbe1b550a7caac091e663001ba477121b8d0\n'}]",26,866523,50393e3d36fa449c6d42ae1d57df5f3a9ed26943,64,1,1,32425,,,0,"dummy commit to test ci

Change-Id: I1514fbe1b550a7caac091e663001ba477121b8d0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/866523/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,50393e3d36fa449c6d42ae1d57df5f3a9ed26943,dummy_test, # this is just for dummy commit,,1,0
openstack%2Fkayobe~867917,openstack/kayobe,stable/zed,I1bd306698a0b2afd1b824eda3389fcc3f919a1fb,Update python testing as per zed cycle testing runtime,MERGED,2022-12-16 09:02:38.000000000,2022-12-16 09:35:54.000000000,2022-12-16 09:34:52.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 09:02:38.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a1669fc18ca2142759925acbaa9adfada19f0676', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I1bd306698a0b2afd1b824eda3389fcc3f919a1fb\n(cherry picked from commit c84a7f9a9c725dcedb33d8c50ce2477d25bf5735)\n'}]",0,867917,a1669fc18ca2142759925acbaa9adfada19f0676,9,4,1,22629,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I1bd306698a0b2afd1b824eda3389fcc3f919a1fb
(cherry picked from commit c84a7f9a9c725dcedb33d8c50ce2477d25bf5735)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/867917/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a1669fc18ca2142759925acbaa9adfada19f0676,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fpuppet-openstack-integration~867955,openstack/puppet-openstack-integration,master,I06f5235e2527145feeb6833d21d9a39b4371f3a0,WIP test with puppet-neutron 867837 patch,ABANDONED,2022-12-16 09:00:19.000000000,2022-12-16 09:32:06.000000000,,[],"[{'number': 1, 'created': '2022-12-16 09:00:19.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0969a93c2035ff3b94ebbdb7a405c11fa733854c', 'message': 'WIP test with puppet-neutron 867837 patch\n\nChange-Id: I06f5235e2527145feeb6833d21d9a39b4371f3a0\n'}]",0,867955,0969a93c2035ff3b94ebbdb7a405c11fa733854c,4,0,1,31068,,,0,"WIP test with puppet-neutron 867837 patch

Change-Id: I06f5235e2527145feeb6833d21d9a39b4371f3a0
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/55/867955/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,0969a93c2035ff3b94ebbdb7a405c11fa733854c,," :git => 'https://review.opendev.org/openstack/puppet-neutron', :commit => '1a70f57e4e7d774e5ecdc6c5e45760fd51d60102'"," :git => 'https://opendev.org/openstack/puppet-neutron', :ref => 'master'",2,2
openstack%2Freleases~867803,openstack/releases,master,I8cafc481a47b252e0b6b1edbb743d7d4f118f59b,Release OpenStack-Ansible Zed,MERGED,2022-12-15 13:18:10.000000000,2022-12-16 09:28:16.000000000,2022-12-16 09:28:16.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 13:18:10.000000000', 'files': ['deliverables/zed/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/acea5ecb1be1d02c56fff0eec24e4b61f9e92180', 'message': 'Release OpenStack-Ansible Zed\n\nChange-Id: I8cafc481a47b252e0b6b1edbb743d7d4f118f59b\n'}]",2,867803,acea5ecb1be1d02c56fff0eec24e4b61f9e92180,10,3,1,28619,,,0,"Release OpenStack-Ansible Zed

Change-Id: I8cafc481a47b252e0b6b1edbb743d7d4f118f59b
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/867803/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/openstack-ansible.yaml'],1,acea5ecb1be1d02c56fff0eec24e4b61f9e92180,zed-trailing-branch-cut, - diff-start: 25.0.0.0rc1 projects: - hash: d94817820f654d3d73b247888961c4b82ac4209b repo: openstack/openstack-ansible version: 26.0.0,,5,0
openstack%2Fkayobe~867947,openstack/kayobe,master,I8fda05aa952f3d8501b93f1afffed9e8ebc7ec49,Switch to 2023.1 Python3 unit tests and generic template name,MERGED,2022-12-16 08:46:42.000000000,2022-12-16 09:17:48.000000000,2022-12-16 09:15:53.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:42.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b9e8128221ecf38970fde692939e007868f743ff', 'message': 'Switch to 2023.1 Python3 unit tests and generic template name\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for antelope. Also,\nupdating the template name to generic one.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8fda05aa952f3d8501b93f1afffed9e8ebc7ec49\n'}]",0,867947,b9e8128221ecf38970fde692939e007868f743ff,8,3,1,22816,,,0,"Switch to 2023.1 Python3 unit tests and generic template name

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope. Also,
updating the template name to generic one.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8fda05aa952f3d8501b93f1afffed9e8ebc7ec49
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/867947/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b9e8128221ecf38970fde692939e007868f743ff,add-antelope-python-jobtemplates, - openstack-python3-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fkayobe-config-dev~867951,openstack/kayobe-config-dev,stable/zed,If7e1992f3d268c028caea6d7ab450298254256c6,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-12-16 08:46:53.000000000,2022-12-16 09:15:55.000000000,2022-12-16 09:15:55.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/94479b2ed88f7bd3a8cf379b79323e8b84c2dc36', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If7e1992f3d268c028caea6d7ab450298254256c6\n'}]",0,867951,94479b2ed88f7bd3a8cf379b79323e8b84c2dc36,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If7e1992f3d268c028caea6d7ab450298254256c6
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/51/867951/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,94479b2ed88f7bd3a8cf379b79323e8b84c2dc36,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config-dev~867950,openstack/kayobe-config-dev,stable/zed,If53c8ac29fe49d2adfed54816c78d37dd0cdae36,Update .gitreview for stable/zed,MERGED,2022-12-16 08:46:52.000000000,2022-12-16 09:15:54.000000000,2022-12-16 09:15:54.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/f31e60f21a9d8eabdf64fdda95d14fd6fb0419ed', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: If53c8ac29fe49d2adfed54816c78d37dd0cdae36\n'}]",0,867950,f31e60f21a9d8eabdf64fdda95d14fd6fb0419ed,7,3,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: If53c8ac29fe49d2adfed54816c78d37dd0cdae36
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/50/867950/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f31e60f21a9d8eabdf64fdda95d14fd6fb0419ed,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fkayobe~867946,openstack/kayobe,master,Ic251a20c6c4e202bc69449a98a3632a5a5d2811c,Update master for stable/zed,MERGED,2022-12-16 08:46:40.000000000,2022-12-16 09:13:47.000000000,2022-12-16 09:12:42.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:40.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/866e869b551c98b01d67aa497d2e942b5fc3f528', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: Ic251a20c6c4e202bc69449a98a3632a5a5d2811c\n'}]",0,867946,866e869b551c98b01d67aa497d2e942b5fc3f528,8,3,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: Ic251a20c6c4e202bc69449a98a3632a5a5d2811c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/867946/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,866e869b551c98b01d67aa497d2e942b5fc3f528,reno-zed, zed,,7,0
openstack%2Fdevstack~865015,openstack/devstack,master,I3c42bc521bf8debf40700b559505cc30e2a38e1b,Rename lib/neutron-legacy to lib/neutron,ABANDONED,2022-11-18 10:49:18.000000000,2022-12-16 09:02:36.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/794b0541f9b742bddbefd2528cc171678fe2dfca', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 2, 'created': '2022-11-18 10:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c931e4dadf40d03b31174f9b9f5c1ffdc9c1c82f', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 3, 'created': '2022-11-18 10:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5795d307469005b7e100107ada6775c744e575ea', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 4, 'created': '2022-11-24 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2be9502b725ff3785b969bc61cbf24722d8d77f0', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 5, 'created': '2022-11-24 14:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d141775e80e446299aab6e351e70f89812236b24', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 6, 'created': '2022-11-24 14:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/99a40d5470109779b5e408b5523131d1903b68da', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 7, 'created': '2022-11-25 08:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a93eb3bc361ebeda8deb83fd5433d817303d433', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 8, 'created': '2022-11-28 10:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/109b95742a7fbfff04acd21db7a4c90693addec3', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 9, 'created': '2022-11-29 13:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7e09aaf81bf1794d88c02347b76a689d735ab9f0', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 10, 'created': '2022-11-30 14:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ad7323b0685e95fc0ea22d306a154bbce4e34b2f', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 11, 'created': '2022-11-30 16:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/073d43092224635ed56d69bde79c56b51eb40af8', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 12, 'created': '2022-12-05 13:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fc75a79bb7cb119b8439419d7d2abb31be396194', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 13, 'created': '2022-12-06 11:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a2fcf4e4f522c69bee8005ad13bafcd5fb2e970a', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 14, 'created': '2022-12-07 11:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e5f6b4074702241be8ce81de5185d153d96c64e', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 15, 'created': '2022-12-07 14:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/814eeff6af23f295ac3d1735e6cf4a72177126e7', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 16, 'created': '2022-12-08 10:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/843f20b8a9c07d2e7954a785406dc58f649285fb', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}, {'number': 17, 'created': '2022-12-09 11:48:57.000000000', 'files': ['clean.sh', 'lib/neutron', 'unstack.sh', 'lib/neutron-legacy', 'lib/neutron_plugins/README.md', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/68dff222b8b1372601993d644e8de94eb7986f08', 'message': 'Rename lib/neutron-legacy to lib/neutron\n\nPreviously lib/neutron-legacy module was old module and the plan was to\nremove it and use new lib/neutron instead. But as new lib/neutron module\nwas never really finished and used, it was decided to remove it from\nDevstack.\nThis patch renames lib/neutron-legacy to be lib/neutron as it is defacto\nneutron module in Devstack.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/867065\n\nCloses-Bug: #1996748\n\nChange-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b\n'}]",10,865015,68dff222b8b1372601993d644e8de94eb7986f08,37,2,17,11975,,,0,"Rename lib/neutron-legacy to lib/neutron

Previously lib/neutron-legacy module was old module and the plan was to
remove it and use new lib/neutron instead. But as new lib/neutron module
was never really finished and used, it was decided to remove it from
Devstack.
This patch renames lib/neutron-legacy to be lib/neutron as it is defacto
neutron module in Devstack.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/867065

Closes-Bug: #1996748

Change-Id: I3c42bc521bf8debf40700b559505cc30e2a38e1b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/865015/1 && git format-patch -1 --stdout FETCH_HEAD,"['clean.sh', 'lib/neutron', 'unstack.sh', 'lib/neutron_plugins/README.md', 'stack.sh']",5,794b0541f9b742bddbefd2528cc171678fe2dfca,drop-lib-neutron,source $TOP_DIR/lib/neutron,source $TOP_DIR/lib/neutron-legacy,4,4
openstack%2Fkayobe~845882,openstack/kayobe,master,I1bd306698a0b2afd1b824eda3389fcc3f919a1fb,Update python testing as per zed cycle testing runtime,MERGED,2022-06-15 06:52:52.000000000,2022-12-16 09:01:27.000000000,2022-12-16 09:00:20.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-06-15 06:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9492a6cf9dff576f8754d9dbb6a703918cfac7f1', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I1bd306698a0b2afd1b824eda3389fcc3f919a1fb\n'}, {'number': 2, 'created': '2022-06-16 02:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/62c4baa2e42030d8a0ce43476412cd36964849d7', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I1bd306698a0b2afd1b824eda3389fcc3f919a1fb\n'}, {'number': 3, 'created': '2022-12-15 15:26:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c84a7f9a9c725dcedb33d8c50ce2477d25bf5735', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I1bd306698a0b2afd1b824eda3389fcc3f919a1fb\n'}]",6,845882,c84a7f9a9c725dcedb33d8c50ce2477d25bf5735,17,3,3,33436,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I1bd306698a0b2afd1b824eda3389fcc3f919a1fb
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/845882/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9492a6cf9dff576f8754d9dbb6a703918cfac7f1,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fkayobe-config~867949,openstack/kayobe-config,stable/zed,I9df2863655f31adbdbb3c7cbf54be4cb833fb11d,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-12-16 08:46:47.000000000,2022-12-16 09:00:23.000000000,2022-12-16 09:00:23.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/78c1f0819267aadc0843431e7ee1df65a6a2a655', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9df2863655f31adbdbb3c7cbf54be4cb833fb11d\n'}]",0,867949,78c1f0819267aadc0843431e7ee1df65a6a2a655,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9df2863655f31adbdbb3c7cbf54be4cb833fb11d
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/49/867949/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,78c1f0819267aadc0843431e7ee1df65a6a2a655,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config~867948,openstack/kayobe-config,stable/zed,I942e3787e8880c0c0ec4a8a0e18292283e6d4f77,Update .gitreview for stable/zed,MERGED,2022-12-16 08:46:46.000000000,2022-12-16 09:00:22.000000000,2022-12-16 09:00:22.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-12-16 08:46:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/d60c22d147b5eadb53e61a4497ed55591dadf09c', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I942e3787e8880c0c0ec4a8a0e18292283e6d4f77\n'}]",0,867948,d60c22d147b5eadb53e61a4497ed55591dadf09c,7,3,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: I942e3787e8880c0c0ec4a8a0e18292283e6d4f77
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/48/867948/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d60c22d147b5eadb53e61a4497ed55591dadf09c,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Freleases~864504,openstack/releases,master,Iab4f50bdaeb6123a2185a58efae1a4b903282000,[cinder] Release cinderlib for Zed and cut branch,MERGED,2022-11-15 09:37:38.000000000,2022-12-16 08:44:44.000000000,2022-12-16 08:44:44.000000000,"[{'_account_id': 308}, {'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-11-15 09:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/77c003f4cd73d9b87e0c8b748fcc6d7cc838cfce', 'message': '[cinder] Release cinderlib for Zed and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Zed. The deadline for these deliverables is December 14.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Iab4f50bdaeb6123a2185a58efae1a4b903282000\n'}, {'number': 2, 'created': '2022-12-15 17:56:36.000000000', 'files': ['deliverables/zed/cinderlib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a6c50fbab971f80bb8f91066699efb133247687', 'message': '[cinder] Release cinderlib for Zed and cut branch\n\nRelease cinderlib 5.0.0 as the Zed cycle-trailing release\nand cut the stable/zed branch.\n\nChange-Id: Iab4f50bdaeb6123a2185a58efae1a4b903282000\n'}]",9,864504,2a6c50fbab971f80bb8f91066699efb133247687,18,5,2,28522,,,0,"[cinder] Release cinderlib for Zed and cut branch

Release cinderlib 5.0.0 as the Zed cycle-trailing release
and cut the stable/zed branch.

Change-Id: Iab4f50bdaeb6123a2185a58efae1a4b903282000
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/864504/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/cinderlib.yaml'],1,77c003f4cd73d9b87e0c8b748fcc6d7cc838cfce,zed-trailing-branch-cut,releases: - version: 4.3.0 projects: - repo: openstack/cinderlib hash: 2715218e2b6f7d356e6cde5a33ccf8c85bea3f63,,5,0
openstack%2Freleases~864506,openstack/releases,master,I40831bdc154672d9aa3bac0cbd4414788755348e,[kolla] Release kayobe for Zed and cut branch,MERGED,2022-11-15 09:45:30.000000000,2022-12-16 08:43:43.000000000,2022-12-16 08:43:43.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-11-15 09:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/96f3959ce6b9b87abe217ea55f63476f5080be57', 'message': '[kolla Release kayobe for Zed and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Zed. The deadline for these deliverables is December 14.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: I40831bdc154672d9aa3bac0cbd4414788755348e\n'}, {'number': 2, 'created': '2022-11-15 09:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9350c299542c2c53209cd5638e26f6762f38bb35', 'message': '[kolla] Release kayobe for Zed and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Zed. The deadline for these deliverables is December 14.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: I40831bdc154672d9aa3bac0cbd4414788755348e\n'}, {'number': 3, 'created': '2022-12-15 14:05:00.000000000', 'files': ['deliverables/zed/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b6bf252b50b79c6e731f1d143a891a1f13f95ae7', 'message': '[kolla] Release kayobe for Zed and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Zed. The deadline for these deliverables is December 14.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: I40831bdc154672d9aa3bac0cbd4414788755348e\n'}]",2,864506,b6bf252b50b79c6e731f1d143a891a1f13f95ae7,13,6,3,28522,,,0,"[kolla] Release kayobe for Zed and cut branch

This release patch is to ensure, that trailing typed projects have been
branched for Zed. The deadline for these deliverables is December 14.

Please +1 if the team is ready for us to proceed with this or update/-1
if something should be changed.

Change-Id: I40831bdc154672d9aa3bac0cbd4414788755348e
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/864506/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/kayobe.yaml'],1,96f3959ce6b9b87abe217ea55f63476f5080be57,zed-trailing-branch-cut,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/kayobe hash: d4ce41baa22abf8ef9224acb0432a38fb0b286ea - repo: openstack/kayobe-config hash: b6e75b5cd6011886f87ba81c29996b1adb1f2fd9 - repo: openstack/kayobe-config-dev hash: 29cbdca60e3c12403324b8388b406b05bd348faf branches: - name: stable/zed location: 13.0.0.0rc1,,12,0
openstack%2Freleases~864509,openstack/releases,master,Ic494fe989794aa57af68ae952fa5fdf907e6ad76,[OpenStackAnsible] Release openstack-ansible for Zed and cut branch,MERGED,2022-11-15 09:53:05.000000000,2022-12-16 08:38:57.000000000,2022-12-16 08:38:57.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-15 09:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9194f1a39ca95c0238363db9f6b80d83477e6757', 'message': '[OpenStackAnsible] Release openstack-ansible for Zed and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Zed. The deadline for these deliverables is December 14.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Ic494fe989794aa57af68ae952fa5fdf907e6ad76\n'}, {'number': 2, 'created': '2022-12-15 13:15:34.000000000', 'files': ['deliverables/zed/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b6897edeaa8af0aebcc3b0886ab92ac105f388e', 'message': '[OpenStackAnsible] Release openstack-ansible for Zed and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Zed. The deadline for these deliverables is December 14.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Ic494fe989794aa57af68ae952fa5fdf907e6ad76\n'}]",3,864509,2b6897edeaa8af0aebcc3b0886ab92ac105f388e,13,4,2,28522,,,0,"[OpenStackAnsible] Release openstack-ansible for Zed and cut branch

This release patch is to ensure, that trailing typed projects have been
branched for Zed. The deadline for these deliverables is December 14.

Please +1 if the team is ready for us to proceed with this or update/-1
if something should be changed.

Change-Id: Ic494fe989794aa57af68ae952fa5fdf907e6ad76
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/864509/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/openstack-ansible.yaml'],1,9194f1a39ca95c0238363db9f6b80d83477e6757,zed-trailing-branch-cut,releases: - version: 26.0.0.0rc1 projects: - repo: openstack/openstack-ansible hash: 426fa4e5bbae0c75d887387a79b48dcc08cd4b59 branches: - name: stable/zed location: 26.0.0.0rc1,,8,0
openstack%2Fneutron~859078,openstack/neutron,master,I2175895477ff8c92b6ab3bdccaadc12bd47160d0,db: Remove checks for old single branch head files,ABANDONED,2022-09-23 11:18:44.000000000,2022-12-16 08:21:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-23 11:18:44.000000000', 'files': ['neutron/db/migration/cli.py', 'neutron/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c93b1fcd3e556c7aa611585f99702e0ba439c627', 'message': ""db: Remove checks for old single branch head files\n\nThese haven't been a thing since Mitaka (change\nIe4b727e55a0b1ecb12e915a0037094a928d8f975).\n\nChange-Id: I2175895477ff8c92b6ab3bdccaadc12bd47160d0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,859078,c93b1fcd3e556c7aa611585f99702e0ba439c627,6,1,1,15334,,,0,"db: Remove checks for old single branch head files

These haven't been a thing since Mitaka (change
Ie4b727e55a0b1ecb12e915a0037094a928d8f975).

Change-Id: I2175895477ff8c92b6ab3bdccaadc12bd47160d0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/859078/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/cli.py', 'neutron/tests/unit/db/test_migration.py']",2,c93b1fcd3e556c7aa611585f99702e0ba439c627,trivial, def test_update_head_files_success(self):," @mock.patch.object(fileutils, 'delete_if_exists') def test_update_head_files_success(self, *mocks): old_head_file = cli._get_head_file_path( self.configs[0]) old_heads_file = cli._get_heads_file_path( self.configs[0]) delete_if_exists = mocks[0] self.assertIn(mock.call(old_head_file), delete_if_exists.call_args_list) self.assertIn(mock.call(old_heads_file), delete_if_exists.call_args_list) ",1,38
openstack%2Fneutron-tempest-plugin~854910,openstack/neutron-tempest-plugin,master,Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7,DNM: Test custom cirros image,ABANDONED,2022-08-28 12:54:21.000000000,2022-12-16 08:21:02.000000000,,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-28 12:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2db8a47669e44eabed0af3b44c63072ac2b1ef0f', 'message': 'DNM: Test custom cirros image\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n'}, {'number': 2, 'created': '2022-09-11 14:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8817ee3f111a1ec4d5bef5fbaeb9a0e411de6d31', 'message': 'DNM: Test custom cirros image\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n'}, {'number': 3, 'created': '2022-09-12 07:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/350caeef62126fec427f5252325ba082979e36c7', 'message': 'DNM: Test custom cirros image\n\nChange bash to sh\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n'}, {'number': 4, 'created': '2022-09-14 11:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9400b61397de867aa7f8caa91bad5cb4a3ebb47c', 'message': 'DNM: Test custom cirros image\n\nChange bash to sh\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n'}, {'number': 5, 'created': '2022-09-14 19:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4c8fb016a66865bb12c1bcbcc0abed379dbc9df6', 'message': 'DNM: Test custom cirros image\n\nChange bash to sh\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n'}, {'number': 6, 'created': '2022-09-15 08:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8b3825abf7ce9d395d057837ed6278a6f7aee034', 'message': 'DNM: Test custom cirros image\n\nChange bash to sh\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n'}, {'number': 7, 'created': '2022-09-20 07:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2d4f16275da0a157cf2e2d07628af11e83b1980b', 'message': ""DNM: Test custom cirros image\n\nChanges needed in order to work on Cirros instead of Ubuntu:\n- Change bash to sh\n- Use root to read files created by root\n- Don't use subnet without DHCP\n- Drop host-passthrough from libvirt config\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n""}, {'number': 8, 'created': '2022-09-20 09:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/71f49d5a44a9747e3451f65dd4c5fd63e54a12d5', 'message': ""DNM: Test custom cirros image\n\nChanges needed in order to work on Cirros instead of Ubuntu:\n- Change bash to sh\n- Use root to read files created by root\n- Don't use subnet without DHCP\n- Drop host-passthrough from libvirt config\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n""}, {'number': 9, 'created': '2022-10-06 10:15:03.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/project.yaml', 'neutron_tempest_plugin/scenario/test_mac_learning.py', 'neutron_tempest_plugin/scenario/test_multicast.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/65cd5a9c063162f531d6a6b8fe42b0c45d7b7842', 'message': ""DNM: Test custom cirros image\n\nChanges needed in order to work on Cirros instead of Ubuntu:\n- Change bash to sh\n- Use root to read files created by root\n- Don't use subnet without DHCP\n- Drop host-passthrough from libvirt config\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7\n""}]",6,854910,65cd5a9c063162f531d6a6b8fe42b0c45d7b7842,29,3,9,13252,,,0,"DNM: Test custom cirros image

Changes needed in order to work on Cirros instead of Ubuntu:
- Change bash to sh
- Use root to read files created by root
- Don't use subnet without DHCP
- Drop host-passthrough from libvirt config

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/10/854910/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,2db8a47669e44eabed0af3b44c63072ac2b1ef0f,test-cirros, #- build-openstack-docs-pti #- neutron-tempest-plugin-jobs-wallaby #- neutron-tempest-plugin-jobs-xena #- neutron-tempest-plugin-jobs-yoga #- check-requirements #- release-notes-jobs-python3 #- neutron-tempest-plugin-sfc-wallaby #- neutron-tempest-plugin-sfc-xena #- neutron-tempest-plugin-sfc-yoga #- neutron-tempest-plugin-bgpvpn-bagpipe-wallaby #- neutron-tempest-plugin-bgpvpn-bagpipe-xena #- neutron-tempest-plugin-bgpvpn-bagpipe-yoga #- neutron-tempest-plugin-dynamic-routing-wallaby #- neutron-tempest-plugin-dynamic-routing-xena #- neutron-tempest-plugin-dynamic-routing-yoga #- neutron-tempest-plugin-vpnaas-wallaby #- neutron-tempest-plugin-vpnaas-xena #- neutron-tempest-plugin-vpnaas-yoga #- neutron-tempest-plugin-tap-as-a-service-xena #- neutron-tempest-plugin-tap-as-a-service-yoga, - build-openstack-docs-pti - neutron-tempest-plugin-jobs-wallaby - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - check-requirements - release-notes-jobs-python3 - neutron-tempest-plugin-sfc-wallaby - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-wallaby - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-dynamic-routing-wallaby - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-vpnaas-wallaby - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga,23,23
openstack%2Fneutron~805930,openstack/neutron,master,Id6b1654768b20080cc5894cc27eaccdf2fa25fa2,Use Openflow to implement DVR L3,ABANDONED,2021-08-25 02:55:22.000000000,2022-12-16 08:20:53.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30744}, {'_account_id': 31814}]","[{'number': 1, 'created': '2021-08-25 02:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd5d1ce324a4ef59ca05151266433a3003a3c83e', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}, {'number': 2, 'created': '2021-08-25 09:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c9010a1423e7832cb352e5693e8cf5cd9872803', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}, {'number': 3, 'created': '2021-09-06 01:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1ef869f58f723762798129fe72a3fe566016675', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}, {'number': 4, 'created': '2021-09-06 04:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/115dec5b3c8952fdd4b054c4e5f6beb3111b2608', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}, {'number': 5, 'created': '2021-09-06 08:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0aae68081a958cf4bfa8446b8e80b166ad5fd840', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}, {'number': 6, 'created': '2021-09-17 09:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d77e58c36eb1f812a8938e32655b06fc04552d76', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nSigned-off-by: Yulin Chen <chenyulin@inspur.com>\nCo-authored-by: Yulin Chen <chenyulin@inspur.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}, {'number': 7, 'created': '2021-09-29 08:31:59.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/main.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/conf/common.py', 'neutron/agent/common/ovs_lib_ext.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/conf/agent/l3/config.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/rpc.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/group_id_manager.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_oskenapp.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/agent/l3/namespaces.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d93d0d1ea089e93ecb90222c28057d81e1a01b63', 'message': 'Use Openflow to implement DVR L3\n\nThis commit is to implement the below spec:\n\nhttps://review.opendev.org/c/openstack/neutron-specs/+/796746\n\nIt implemented the below features:\n\n - Openflow-based ARP reply.\n - Openflow-based ICMPv4 reply for qrouter port.\n - Openflow-based routing between VMs.\n - ARP request for remote FIP or FIP gateway triggered by packet_in2.\n - Enhance ovs_neutron_agent to handle advanced packet_in2\n - Openflow-based FIP (without iptables/conntrack involved)\n - Openflow-based FIP QoS (used OVS meter action)\n - Openflow-based snat\n - Openflow-based ECMP routing\n - unit tests\n\nRelated-bug: #1931953\nSigned-off-by: Yi Yang <yangyi01@inspur.com>\nSigned-off-by: Yulin Chen <chenyulin@inspur.com>\nCo-authored-by: Yulin Chen <chenyulin@inspur.com>\nSigned-off-by: XiaoYu Zhu <z503755743@gmail.com>\nCo-authored-by: XiaoYu Zhu <z503755743@gmail.com>\nChange-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2\n'}]",36,805930,d93d0d1ea089e93ecb90222c28057d81e1a01b63,51,10,7,30454,,,0,"Use Openflow to implement DVR L3

This commit is to implement the below spec:

https://review.opendev.org/c/openstack/neutron-specs/+/796746

It implemented the below features:

 - Openflow-based ARP reply.
 - Openflow-based ICMPv4 reply for qrouter port.
 - Openflow-based routing between VMs.
 - ARP request for remote FIP or FIP gateway triggered by packet_in2.
 - Enhance ovs_neutron_agent to handle advanced packet_in2
 - Openflow-based FIP (without iptables/conntrack involved)
 - Openflow-based FIP QoS (used OVS meter action)
 - Openflow-based snat
 - Openflow-based ECMP routing
 - unit tests

Related-bug: #1931953
Signed-off-by: Yi Yang <yangyi01@inspur.com>
Signed-off-by: Yulin Chen <chenyulin@inspur.com>
Co-authored-by: Yulin Chen <chenyulin@inspur.com>
Signed-off-by: XiaoYu Zhu <z503755743@gmail.com>
Co-authored-by: XiaoYu Zhu <z503755743@gmail.com>
Change-Id: Id6b1654768b20080cc5894cc27eaccdf2fa25fa2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/805930/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/rpc.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_oskenapp.py', 'neutron/conf/agent/l3/config.py']",14,dd5d1ce324a4ef59ca05151266433a3003a3c83e,bug/1931953," '2.x')), cfg.BoolOpt('dvr_use_openflow', default=True, help=_('If ml2 uses OVS as driver, we can use openflow to do ' 'dvr, this should be set to True, otherwise, it must ' 'be set to False, ml2 config also has this config entry' ' to enable ARP Reply and ICMP reply for qrouter.')),", '2.x')),2632,14
openstack%2Fneutron~864303,openstack/neutron,master,I147dbdb80baa86cafa505c50a67d37be18db1bc9,List ports belongs to current project for non-admin users.,ABANDONED,2022-11-11 18:44:49.000000000,2022-12-16 08:20:28.000000000,,"[{'_account_id': 9845}, {'_account_id': 11583}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-11 18:44:49.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abf9b63deb1a125c48d604b6ab3d3616bc1abd75', 'message': 'List ports belongs to current project for non-admin users.\n\nWhen a network is shared between multiple projects, ""openstack port\nlist"" command shows ports from all projects which have access to that\nnetwork. This is a problem because each port actually has a\n\'project_id\' property, and the port cannot be used for any instance\noutside of that project. When a user attempts to start an instance\nwith a port from a different project, it fails with:\nnova.exception.PortNotUsable\n\nUser can use --project-id=""xxxx"" as option to ""openstack port list""\ncommand to get desired result. But this leads to updating each neutron\nclient and so this should be fixed in neutron at least for non-admin\nusers.\n\nCloses-bug: #1996421\nChange-Id: I147dbdb80baa86cafa505c50a67d37be18db1bc9\n'}]",5,864303,abf9b63deb1a125c48d604b6ab3d3616bc1abd75,8,6,1,35507,,,0,"List ports belongs to current project for non-admin users.

When a network is shared between multiple projects, ""openstack port
list"" command shows ports from all projects which have access to that
network. This is a problem because each port actually has a
'project_id' property, and the port cannot be used for any instance
outside of that project. When a user attempts to start an instance
with a port from a different project, it fails with:
nova.exception.PortNotUsable

User can use --project-id=""xxxx"" as option to ""openstack port list""
command to get desired result. But this leads to updating each neutron
client and so this should be fixed in neutron at least for non-admin
users.

Closes-bug: #1996421
Change-Id: I147dbdb80baa86cafa505c50a67d37be18db1bc9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/864303/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,abf9b63deb1a125c48d604b6ab3d3616bc1abd75,bug/1996421," if not context.is_admin: projects = filters.get('project_id', []) projects.append(context.project_id) filters.update({'project_id': projects})",,8,4
openstack%2Fneutron~863779,openstack/neutron,master,I6dc929239666338b7aa85de84271f6875d88904c,Handle operation not supported when deleting an ip address,ABANDONED,2022-11-06 22:11:30.000000000,2022-12-16 08:20:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-06 22:11:30.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a83f7867ecce15b4f7e18f1c7af5e86ba138beaa', 'message': 'Handle operation not supported when deleting an ip address\n\nThere are environments where deleting an IP address will raise a\noperation not supported exception, this change handles that exception to\navoid neutron-ovn-metadata-agent crashes.\n\nTraceback (most recent call last):\n  File ""/usr/lib/python3/dist-packages/ovsdbapp/event.py"", line 177, in notify_loop\n    match.run(event, row, updates)\n  File ""/usr/lib/python3/dist-packages/neutron/agent/ovn/metadata/agent.py"", line 90, in run\n    self.agent.update_datapath(str(row.datapath.uuid), net_name)\n  File ""/usr/lib/python3/dist-packages/neutron/agent/ovn/metadata/agent.py"", line 392, in update_datapath\n    self.provision_datapath(datapath, net_name)\n  File ""/usr/lib/python3/dist-packages/neutron/agent/ovn/metadata/agent.py"", line 487, in provision_datapath\n    ip2.addr.delete(ipaddr)\n  File ""/usr/lib/python3/dist-packages/neutron/agent/linux/ip_lib.py"", line 540, in delete\n    delete_ip_address(cidr, self.name, self._parent.namespace)\n  File ""/usr/lib/python3/dist-packages/neutron/agent/linux/ip_lib.py"", line 834, in delete_ip_address\n    privileged.delete_ip_address(\n  File ""/usr/lib/python3/dist-packages/oslo_privsep/priv_context.py"", line 271, in _wrap\n    return self.channel.remote_call(name, args, kwargs,\n  File ""/usr/lib/python3/dist-packages/oslo_privsep/daemon.py"", line 215, in remote_call\n    raise exc_type(*result[2])\nneutron.privileged.agent.linux.ip_lib.InterfaceOperationNotSupported: Operation not supported on interface tapfoobar, namespace ovnmeta-XXX.\n\nCloses-Bug: #1995735\nChange-Id: I6dc929239666338b7aa85de84271f6875d88904c\n'}]",4,863779,a83f7867ecce15b4f7e18f1c7af5e86ba138beaa,10,5,1,2424,,,0,"Handle operation not supported when deleting an ip address

There are environments where deleting an IP address will raise a
operation not supported exception, this change handles that exception to
avoid neutron-ovn-metadata-agent crashes.

Traceback (most recent call last):
  File ""/usr/lib/python3/dist-packages/ovsdbapp/event.py"", line 177, in notify_loop
    match.run(event, row, updates)
  File ""/usr/lib/python3/dist-packages/neutron/agent/ovn/metadata/agent.py"", line 90, in run
    self.agent.update_datapath(str(row.datapath.uuid), net_name)
  File ""/usr/lib/python3/dist-packages/neutron/agent/ovn/metadata/agent.py"", line 392, in update_datapath
    self.provision_datapath(datapath, net_name)
  File ""/usr/lib/python3/dist-packages/neutron/agent/ovn/metadata/agent.py"", line 487, in provision_datapath
    ip2.addr.delete(ipaddr)
  File ""/usr/lib/python3/dist-packages/neutron/agent/linux/ip_lib.py"", line 540, in delete
    delete_ip_address(cidr, self.name, self._parent.namespace)
  File ""/usr/lib/python3/dist-packages/neutron/agent/linux/ip_lib.py"", line 834, in delete_ip_address
    privileged.delete_ip_address(
  File ""/usr/lib/python3/dist-packages/oslo_privsep/priv_context.py"", line 271, in _wrap
    return self.channel.remote_call(name, args, kwargs,
  File ""/usr/lib/python3/dist-packages/oslo_privsep/daemon.py"", line 215, in remote_call
    raise exc_type(*result[2])
neutron.privileged.agent.linux.ip_lib.InterfaceOperationNotSupported: Operation not supported on interface tapfoobar, namespace ovnmeta-XXX.

Closes-Bug: #1995735
Change-Id: I6dc929239666338b7aa85de84271f6875d88904c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/863779/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,a83f7867ecce15b4f7e18f1c7af5e86ba138beaa,bug/1995735, except InterfaceOperationNotSupported as e: LOG.debug(e) return,,3,0
openstack%2Freleases~865740,openstack/releases,master,I50f0fa601e69be2a6455656ceeeba05dfb767081,[trove] Transition Queens to End of Life,MERGED,2022-11-25 20:36:29.000000000,2022-12-16 08:01:39.000000000,2022-12-02 10:59:35.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-25 20:36:29.000000000', 'files': ['deliverables/queens/trove-dashboard.yaml', 'deliverables/queens/trove.yaml', 'deliverables/queens/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d5423ebb6105f5b51b9d06bc0a9ac9875269acf6', 'message': ""[trove] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I50f0fa601e69be2a6455656ceeeba05dfb767081\n""}]",1,865740,d5423ebb6105f5b51b9d06bc0a9ac9875269acf6,10,4,1,17685,,,0,"[trove] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I50f0fa601e69be2a6455656ceeeba05dfb767081
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/865740/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/trove-dashboard.yaml', 'deliverables/queens/trove.yaml', 'deliverables/queens/python-troveclient.yaml']",3,d5423ebb6105f5b51b9d06bc0a9ac9875269acf6,queens-eol, - version: queens-eol projects: - repo: openstack/python-troveclient hash: 32d98fd086e0f8615f34f8f22587b36ae355e98e,,12,0
openstack%2Fskyline-apiserver~867768,openstack/skyline-apiserver,master,Id82f49009e2e6778568c629b9fe66e3e50cf73d7,feat: Add cafile conf,MERGED,2022-12-15 09:15:10.000000000,2022-12-16 06:34:39.000000000,2022-12-16 06:33:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-12-15 09:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/1016c9cd5bd9db97f38e8534786e4cea70979ff8', 'message': 'feat: Add cafile conf\n\nAdd cafile conf and support keystone ssl verify\n\nChange-Id: Id82f49009e2e6778568c629b9fe66e3e50cf73d7\n'}, {'number': 2, 'created': '2022-12-15 09:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/b03205ec54af8ef09cf5902990f8f72e4e4200b7', 'message': 'feat: Add cafile conf\n\nAdd cafile conf and support keystone ssl verify\n\nChange-Id: Id82f49009e2e6778568c629b9fe66e3e50cf73d7\n'}, {'number': 3, 'created': '2022-12-15 10:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/127e2f604f6cd93e9eef2c3545bd9682133fcf4d', 'message': 'feat: Add cafile conf\n\nAdd cafile conf and support keystone ssl verify\n\nChange-Id: Id82f49009e2e6778568c629b9fe66e3e50cf73d7\n'}, {'number': 4, 'created': '2022-12-15 10:21:02.000000000', 'files': ['skyline_apiserver/config/default.py', 'skyline_apiserver/client/openstack/system.py', 'releasenotes/notes/support-keystone-ssl-verify-e0dfc4c02ef25cb2.yaml', 'skyline_apiserver/client/utils.py', 'skyline_apiserver/api/v1/login.py', 'skyline_apiserver/cmd/generate_nginx.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ceabe71b7fd1a3bcc6e416c57187bae0baa8505e', 'message': 'feat: Add cafile conf\n\nAdd cafile conf and support keystone ssl verify\n\nChange-Id: Id82f49009e2e6778568c629b9fe66e3e50cf73d7\n'}]",0,867768,ceabe71b7fd1a3bcc6e416c57187bae0baa8505e,12,2,4,33196,,,0,"feat: Add cafile conf

Add cafile conf and support keystone ssl verify

Change-Id: Id82f49009e2e6778568c629b9fe66e3e50cf73d7
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/68/867768/1 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/config/default.py', 'skyline_apiserver/client/openstack/system.py', 'skyline_apiserver/client/utils.py', 'skyline_apiserver/api/v1/login.py', 'skyline_apiserver/cmd/generate_nginx.py']",5,1016c9cd5bd9db97f38e8534786e4cea70979ff8,," return Session(auth=auth, verify=CONF.default.cafile, timeout=30)"," return Session(auth=auth, verify=False, timeout=30)",15,7
openstack%2Ftacker~867760,openstack/tacker,master,Ifa08d6ced5b7ea65a3a92d92280f772290e2821f,Update python classifier for python 3.10,MERGED,2022-12-15 06:40:23.000000000,2022-12-16 06:02:20.000000000,2022-12-16 06:01:15.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-12-15 06:40:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker/commit/995f01ba1b8b10c9fe789032340d38bbb63cf890', 'message': 'Update python classifier for python 3.10\n\nIn 2023.1 cycle, we are testing the python 3.10\nas voting job so updating the python classifier.\n\nCurrently we have python 3.8 unit test job running on\nUbuntu Focal and python 3.10 job on Ubuntu Jammy.\n\nChange-Id: Ifa08d6ced5b7ea65a3a92d92280f772290e2821f\n'}]",1,867760,995f01ba1b8b10c9fe789032340d38bbb63cf890,8,4,1,32102,,,0,"Update python classifier for python 3.10

In 2023.1 cycle, we are testing the python 3.10
as voting job so updating the python classifier.

Currently we have python 3.8 unit test job running on
Ubuntu Focal and python 3.10 job on Ubuntu Jammy.

Change-Id: Ifa08d6ced5b7ea65a3a92d92280f772290e2821f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/60/867760/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,995f01ba1b8b10c9fe789032340d38bbb63cf890,migrate-to-jammy, Programming Language :: Python :: 3.10,,1,0
openstack%2Ftacker-horizon~867761,openstack/tacker-horizon,master,I101c88bd234eeff3642c18e4723ca6135bfe7b57,Update python classifier for python 3.10,MERGED,2022-12-15 06:47:57.000000000,2022-12-16 05:53:03.000000000,2022-12-16 05:52:08.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-12-15 06:47:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/5a15ddd0ad76bfa49ca47e10b6ee0182944d8be9', 'message': 'Update python classifier for python 3.10\n\nIn 2023.1 cycle, we are testing the python 3.10\nas voting job so updating the python classifier.\n\nCurrently we have python 3.8 unit test job running on\nUbuntu Focal and python 3.10 job on Ubuntu Jammy.\n\nChange-Id: I101c88bd234eeff3642c18e4723ca6135bfe7b57\n'}]",1,867761,5a15ddd0ad76bfa49ca47e10b6ee0182944d8be9,8,4,1,32102,,,0,"Update python classifier for python 3.10

In 2023.1 cycle, we are testing the python 3.10
as voting job so updating the python classifier.

Currently we have python 3.8 unit test job running on
Ubuntu Focal and python 3.10 job on Ubuntu Jammy.

Change-Id: I101c88bd234eeff3642c18e4723ca6135bfe7b57
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/61/867761/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5a15ddd0ad76bfa49ca47e10b6ee0182944d8be9,migrate-to-jammy, Programming Language :: Python :: 3.10,,1,0
openstack%2Fpython-tackerclient~867762,openstack/python-tackerclient,master,Ie5ef1e398f6709e2164db57c3f5bbfbc69053a02,Update python classifier for python 3.10,MERGED,2022-12-15 06:53:19.000000000,2022-12-16 05:49:34.000000000,2022-12-16 05:48:37.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-12-15 06:53:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/326d02671e9fac40f61c5145817fa8d58bacbcb0', 'message': 'Update python classifier for python 3.10\n\nIn 2023.1 cycle, we are testing the python 3.10\nas voting job so updating the python classifier.\n\nCurrently we have python 3.8 unit test job running on\nUbuntu Focal and python 3.10 job on Ubuntu Jammy.\n\nChange-Id: Ie5ef1e398f6709e2164db57c3f5bbfbc69053a02\n'}]",1,867762,326d02671e9fac40f61c5145817fa8d58bacbcb0,8,4,1,32102,,,0,"Update python classifier for python 3.10

In 2023.1 cycle, we are testing the python 3.10
as voting job so updating the python classifier.

Currently we have python 3.8 unit test job running on
Ubuntu Focal and python 3.10 job on Ubuntu Jammy.

Change-Id: Ie5ef1e398f6709e2164db57c3f5bbfbc69053a02
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/62/867762/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,326d02671e9fac40f61c5145817fa8d58bacbcb0,migrate-to-jammy, Programming Language :: Python :: 3.10,,1,0
openstack%2Fdiskimage-builder~850882,openstack/diskimage-builder,master,I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22,Fix issue in extract image,MERGED,2022-07-25 12:46:38.000000000,2022-12-16 03:44:19.000000000,2022-12-16 03:43:14.000000000,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-07-25 12:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/76511b8697497405b9c89e1bc45781493ad76641', 'message': 'Closes-Bug: 1974350\n\nChange-Id: I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22\n'}, {'number': 2, 'created': '2022-08-03 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5198bf399e65a37779853de86a9a0e6908dd3235', 'message': 'Closes-Bug: 1974350\n\nlsblk gives empty output for FSTYPE, LABEL, GUID..\nthe fix is to use blkid.\n\nChange-Id: I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22\n'}, {'number': 3, 'created': '2022-08-09 08:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/73b024373664ded673b1325fb3a0b1d88cb90b18', 'message': 'Fix issue in extract image\n\nlsblk gives empty output for FSTYPE, LABEL, GUID..\nthe fix is to use blkid.\n\nCloses-Bug: 1974350\nChange-Id: I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22\n'}, {'number': 4, 'created': '2022-10-12 09:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9079e7d78cf145767a5f36529b75f4a0ccdd46b8', 'message': ""Fix issue in extract image\n\nThe problem lays with the 'extract-image' script as\nit is using lsblk commands to extract image's partition\n(find out root/efi/boot, lines:100-102) but the output\nis empty inside a container.\n\nlsblk gives empty output for FSTYPE, LABEL, GUID..\nthe fix is to use blkid.\n\nCloses-Bug: 1974350\nChange-Id: I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22\n""}, {'number': 5, 'created': '2022-11-02 14:21:16.000000000', 'files': ['diskimage_builder/elements/sysprep/bin/extract-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f2e7cd13077c4c166da314e1fe800d30d0c05aa6', 'message': ""Fix issue in extract image\n\nThe problem lays with the 'extract-image' script as\nit is using lsblk commands to extract image's partition\n(find out root/efi/boot, lines:100-102) but the output\nis empty inside a container.\n\nlsblk gives empty output for FSTYPE, LABEL, GUID..\nthe fix is to use blkid.\n\nCloses-Bug: 1974350\nChange-Id: I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22\n""}]",21,850882,f2e7cd13077c4c166da314e1fe800d30d0c05aa6,68,9,5,31733,,,0,"Fix issue in extract image

The problem lays with the 'extract-image' script as
it is using lsblk commands to extract image's partition
(find out root/efi/boot, lines:100-102) but the output
is empty inside a container.

lsblk gives empty output for FSTYPE, LABEL, GUID..
the fix is to use blkid.

Closes-Bug: 1974350
Change-Id: I3b460c6dd9caa519c55327c5bd4b7e4585a8bd22
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/82/850882/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/sysprep/bin/extract-image'],1,76511b8697497405b9c89e1bc45781493ad76641,bug/1974350," fstype=$(sudo blkid -o value -s TYPE -p ""${LOOPDEV}"" 2>/dev/null) label=$(sudo blkid -o value -s LABEL -p ""${LOOPDEV}"" 2>/dev/null) part_type=$(sudo blkid -o value -s PART_ENTRY_TYPE -p ""${LOOPDEV}"" 2>/dev/null)", fstype=$(lsblk --all --nodeps --noheadings --output FSTYPE $LOOPDEV) label=$(lsblk --all --nodeps --noheadings --output LABEL $LOOPDEV) part_type=$(lsblk --all --nodeps --noheadings --output PARTTYPE $LOOPDEV),3,3
openstack%2Fcharm-neutron-api-plugin-ovn~867670,openstack/charm-neutron-api-plugin-ovn,master,Ic24dde74b8536da4cc18a9cedbeea00d832d25d2,Add support for tox 4.x,NEW,2022-12-14 14:55:25.000000000,2022-12-16 03:13:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 14:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/e9ee8fc0d8d61e2f732fe4e9ffc360a2f49ecd09', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Use -- to separate func-target commands from tox ones\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: I16742fb933dba2162a73d532e1a9613af69021aa\nChange-Id: Ic24dde74b8536da4cc18a9cedbeea00d832d25d2\n'}, {'number': 2, 'created': '2022-12-15 20:24:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/6f593e7c80f45b0ad5f560e1007222a7fbac1f3d', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Use -- to separate func-target commands from tox ones\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nChange-Id: Ic24dde74b8536da4cc18a9cedbeea00d832d25d2\n'}]",1,867670,6f593e7c80f45b0ad5f560e1007222a7fbac1f3d,9,2,2,24824,,,0,"Add support for tox 4.x

* Unpin everything in tox.ini
* Add pip.sh to allowlist_externals
* Use -- to separate func-target commands from tox ones
* Move tox passenv variables to separate lines. tox no longer
  supports space-separation for a single line with multiple
  variables. They need to either be space-separated or on
  separate lines.

Change-Id: Ic24dde74b8536da4cc18a9cedbeea00d832d25d2
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/70/867670/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e9ee8fc0d8d61e2f732fe4e9ffc360a2f49ecd09,unpin-tox,passenv = no_proxy http_proxy https_proxy {toxinidir}/pip.shpassenv = HOME TERM CS_* OS_* TEST_* tox -e func-target -- {posargs},"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0passenv = no_proxy http_proxy https_proxy JUJU_REPOSITORYpassenv = HOME TERM CS_* OS_* TEST_* tox -e func-target {posargs}",12,15
openstack%2Fskyline-console~867783,openstack/skyline-console,master,I586689d508cb838562ba4a0bef574a4e696e57c0,fix: fix the magnum service,MERGED,2022-12-15 11:00:47.000000000,2022-12-16 02:51:33.000000000,2022-12-16 02:50:07.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-12-15 11:00:47.000000000', 'files': ['src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNetwork/index.jsx', 'src/pages/container-infra/containers/Clusters/Detail/BaseDetail.jsx', 'src/locales/zh.json', 'src/resources/magnum/template.js', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/index.jsx', 'src/stores/magnum/clusters.js', 'src/stores/magnum/clusterTemplates.js', 'src/locales/en.json', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/resources/neutron/network.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a307f457e4d90f58789bf6d5ef1ba7b85ddd0284', 'message': 'fix: fix the magnum service\n\n1. check cluster quota immediately when create page mounted\n2. fix template coverage to instance information\n3. fix detail fetch to show image name,flavor name...\n\nCloses-Bug: #1999756\nChange-Id: I586689d508cb838562ba4a0bef574a4e696e57c0\n'}]",0,867783,a307f457e4d90f58789bf6d5ef1ba7b85ddd0284,7,2,1,33689,,,0,"fix: fix the magnum service

1. check cluster quota immediately when create page mounted
2. fix template coverage to instance information
3. fix detail fetch to show image name,flavor name...

Closes-Bug: #1999756
Change-Id: I586689d508cb838562ba4a0bef574a4e696e57c0
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/83/867783/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNetwork/index.jsx', 'src/pages/container-infra/containers/Clusters/Detail/BaseDetail.jsx', 'src/locales/zh.json', 'src/resources/magnum/template.js', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNetworks/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/index.jsx', 'src/stores/magnum/clusters.js', 'src/stores/magnum/clusterTemplates.js', 'src/locales/en.json', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/index.jsx', 'src/resources/neutron/network.jsx']",16,a307f457e4d90f58789bf6d5ef1ba7b85ddd0284,fix-magnum-bugs," export const subnetColumns = [ { title: t('Name'), dataIndex: 'name', }, { title: t('CIDR'), dataIndex: 'cidr', }, { title: t('Gateway IP'), dataIndex: 'gateway_ip', }, { title: t('IP Version'), dataIndex: 'ip_version', }, { title: t('Created At'), dataIndex: 'created_at', valueRender: 'toLocalTime', }, ];",,614,169
openstack%2Fcharm-neutron-api~867666,openstack/charm-neutron-api,master,I142b330602c6e65fad35399af382397a8479a4e0,Add support for tox 4.x,NEW,2022-12-14 14:42:04.000000000,2022-12-16 02:43:42.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 14:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/d24dabbe6411b8cd3b82c569fd8a49fdac4179d9', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Use -- to separate func-target commands from tox ones\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: I16742fb933dba2162a73d532e1a9613af69021aa\nChange-Id: I142b330602c6e65fad35399af382397a8479a4e0\n'}, {'number': 2, 'created': '2022-12-15 20:24:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/02e05e074ad9c00096a5d691ce9f316be1e0b1c0', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Use -- to separate func-target commands from tox ones\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nChange-Id: I142b330602c6e65fad35399af382397a8479a4e0\n'}]",0,867666,02e05e074ad9c00096a5d691ce9f316be1e0b1c0,6,2,2,24824,,,0,"Add support for tox 4.x

* Unpin everything in tox.ini
* Add pip.sh to allowlist_externals
* Use -- to separate func-target commands from tox ones
* Move tox passenv variables to separate lines. tox no longer
  supports space-separation for a single line with multiple
  variables. They need to either be space-separated or on
  separate lines.

Change-Id: I142b330602c6e65fad35399af382397a8479a4e0
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/66/867666/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d24dabbe6411b8cd3b82c569fd8a49fdac4179d9,unpin-tox, {toxinidir}/pip.sh passenv = HOME TERM CS_* OS_* TEST_*,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools < 50.0.0passenv = HOME TERM CS_* OS_* TEST_*",7,13
openstack%2Fdiskimage-builder~867579,openstack/diskimage-builder,master,I23f091654cb212e8bdd908664b262de9bfe98cef,tox jobs: pin to correct nodesets; use host networking for containerfile,MERGED,2022-12-13 23:58:05.000000000,2022-12-16 00:54:15.000000000,2022-12-16 00:52:25.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 23:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dae599506a986eb6e9888c69a2d1fd2a3e89796d', 'message': 'tox jobs: pin to correct nodesets\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}, {'number': 2, 'created': '2022-12-13 23:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a477348295ce34b566a72afe84ff7b6689285760', 'message': 'tox jobs: pin to correct nodesets\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}, {'number': 3, 'created': '2022-12-14 03:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/54157e2ee34d3d9c2a69ab08119e10c038fcdd56', 'message': 'tox jobs: pin to correct nodesets\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/867590\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}, {'number': 4, 'created': '2022-12-14 04:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2b6b0c7bf3d5907d7fcd667ac2140de2e9765970', 'message': 'tox jobs: pin to correct nodesets\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/867590\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}, {'number': 5, 'created': '2022-12-15 00:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/67cd2da6a40ea47e885b389e943a88ce149e0efe', 'message': 'tox jobs: pin to correct nodesets; use host networking for containerfile\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nWe need to squish another gate-breaking change in here to update the\ncontainerfile ""podman build"" calls to use ""--network host"".  We added\nthis with Ia885237406bf4c7b9d49b349f374558ae746401f and the only\nexternal user I can find is kayobe, which is setting this anyway.\n\nI honestly haven\'t 100% root-caused what changed to require this; the\nlast time our containerfile jobs ran and worked has unfortunately been\npurged so I can\'t compare versions to try and pinpoint something;\ni.e. this may be a podman bug or feature.  At first I thought it\nrelated to the networking plugin package from the Depends-On (which is\nstill useful for the right packages) but that didn\'t help get the\nbridge networking working.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/867590\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}, {'number': 6, 'created': '2022-12-15 00:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d53cece9f05e896f7d54e372b10e89121c9734c9', 'message': 'tox jobs: pin to correct nodesets; use host networking for containerfile\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nWe need to squish another gate-breaking change in here to update the\ncontainerfile ""podman build"" calls to use ""--network host"".  We added\nthis with Ia885237406bf4c7b9d49b349f374558ae746401f and the only\nexternal user I can find is kayobe, which is setting this anyway.\n\nI honestly haven\'t 100% root-caused what changed to require this; the\nlast time our containerfile jobs ran and worked has unfortunately been\npurged so I can\'t compare versions to try and pinpoint something;\ni.e. this may be a podman bug or feature.  At first I thought it\nrelated to the networking plugin package from the Depends-On (which is\nstill useful for the right packages) but that didn\'t help get the\nbridge networking working.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/867590\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}, {'number': 7, 'created': '2022-12-15 22:53:04.000000000', 'files': ['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'releasenotes/notes/containerfile-host-networking-0691f3be5c6b11b6.yaml', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/41aa936fa226ff6bca66715f6e0edea287fa9dc1', 'message': 'tox jobs: pin to correct nodesets; use host networking for containerfile\n\nThese must have broken when we switched the base nodes to Jammy.\nUpdate to use compatible versions of distros.\n\nWe need to squish another gate-breaking change in here to update the\ncontainerfile ""podman build"" calls to use ""--network host"".  We added\nthis with Ia885237406bf4c7b9d49b349f374558ae746401f and the only\nexternal user I can find is kayobe, which is setting this anyway.\n\nI honestly haven\'t 100% root-caused what changed to require this; the\nlast time our containerfile jobs ran and worked has unfortunately been\npurged so I can\'t compare versions to try and pinpoint something;\ni.e. this may be a podman bug or feature.  At first I thought it\nrelated to the networking plugin package from the Depends-On (which is\nstill useful for the right packages) but that didn\'t help get the\nbridge networking working.\n\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/867590\nChange-Id: I23f091654cb212e8bdd908664b262de9bfe98cef\n'}]",2,867579,41aa936fa226ff6bca66715f6e0edea287fa9dc1,37,4,7,7118,,,0,"tox jobs: pin to correct nodesets; use host networking for containerfile

These must have broken when we switched the base nodes to Jammy.
Update to use compatible versions of distros.

We need to squish another gate-breaking change in here to update the
containerfile ""podman build"" calls to use ""--network host"".  We added
this with Ia885237406bf4c7b9d49b349f374558ae746401f and the only
external user I can find is kayobe, which is setting this anyway.

I honestly haven't 100% root-caused what changed to require this; the
last time our containerfile jobs ran and worked has unfortunately been
purged so I can't compare versions to try and pinpoint something;
i.e. this may be a podman bug or feature.  At first I thought it
related to the networking plugin package from the Depends-On (which is
still useful for the right packages) but that didn't help get the
bridge networking working.

Depends-On: https://review.opendev.org/c/zuul/nodepool/+/867590
Change-Id: I23f091654cb212e8bdd908664b262de9bfe98cef
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/79/867579/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,dae599506a986eb6e9888c69a2d1fd2a3e89796d,tox-pin-nodes, - name: ubuntu-focal label: ubuntu-focal - tox-py39 nodeset: nodes: - name: ubuntu-focal label: ubuntu-focal - tox-py310, - tox-py39 - tox-py310: - name: ubuntu-jammy label: ubuntu-jammy,8,4
openstack%2Fnova~867338,openstack/nova,stable/xena,Ie09d9c2763125e7b3f313ef8b5b2619196572437,Ironic nodes with instance reserved in placement,ABANDONED,2022-12-15 23:14:12.000000000,2022-12-15 23:21:43.000000000,,[],"[{'number': 1, 'created': '2022-12-15 23:14:12.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d50fb9e691451333ab4b8ef85496cdb756a3a27', 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nGit conflict in nova/conf/workarounds.py due to xena not having\nseveral config options that are in the master branch.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n\nConflicts: nova/conf/workarounds.py\n    due to xena not having several config options that are in\n    the master branch.\nChange-Id: Ie09d9c2763125e7b3f313ef8b5b2619196572437\n""}]",0,867338,7d50fb9e691451333ab4b8ef85496cdb756a3a27,4,0,1,6618,,,0,"Ironic nodes with instance reserved in placement

Currently, when you delete an ironic instance, we trigger
and undeploy in ironic and we release our allocation in placement.
We do this well before the ironic node is actually available.

We have attempted to fix this my marking unavailable nodes
as reserved in placement. This works great until you try
and re-image lots of nodes.

It turns out, ironic nodes that are waiting for their automatic
clean to finish, are returned as a valid allocation candidates
for quite some time. Eventually we mark then as reserved.

This patch takes a strange approach, if we mark all nodes as
reserved as soon as the instance lands, we close the race.
That is, when the allocation is removed the node is still
unavailable until the next update of placement is done and
notices that the node has become available. That may or may
not have been after automatic cleaning. The trade off is
that when you don't have automatic cleaning, we wait a bit
longer to notice the node is available again.

Note, this is also useful when a broken Ironic node is
marked as in-maintainance while it is in-use by a nova
instance. In a similar way, we mark the Nova as reserved
immmeidately, rather than first waiting for the instance to be
deleted before reserving the resources in Placement.

Git conflict in nova/conf/workarounds.py due to xena not having
several config options that are in the master branch.

Closes-Bug: #1974070
Change-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe
(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)

Conflicts: nova/conf/workarounds.py
    due to xena not having several config options that are in
    the master branch.
Change-Id: Ie09d9c2763125e7b3f313ef8b5b2619196572437
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/867338/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py']",4,7d50fb9e691451333ab4b8ef85496cdb756a3a27,fix-ironic-scheduler-race-stable/xena," cfg.BoolOpt( 'skip_reserve_in_use_ironic_nodes', default=False, help="""""" This may be useful if you use the Ironic driver, but don't have automatic cleaning enabled in Ironic. Nova, by default, will mark Ironic nodes as reserved as soon as they are in use. When you free the Ironic node (by deleting the nova instance) it takes a while for Nova to un-reserve that Ironic node in placement. Usually this is a good idea, because it avoids placement providing an Ironic as a valid candidate when it is still being cleaned. Howerver, if you don't use automatic cleaning, it can cause an extra delay before and Ironic node is available for building a new Nova instance. """"""),",,89,11
openstack%2Fmanila~860788,openstack/manila,master,I29b51fcec28dd5110de6ad196ff8b67c875ce8fa,[Infinidat] fixed host assisted migration,MERGED,2022-10-11 12:15:01.000000000,2022-12-15 22:32:04.000000000,2022-12-15 22:30:56.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-10-11 12:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05228fea92ed6045172c31598285c4990f5feb60', 'message': '[Infinidat] fixed host assisted migration\n\nFixed an issue in Infinidat driver to support host assisted migration.\nThe `snapdir_accessible` filesystem property must be disabled to hide\n`.snapshot` directory within the root of the filesystem and make\nfilesystem snapshots inaccessible from the client side.\n\nCloses-Bug: #1992443\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: I29b51fcec28dd5110de6ad196ff8b67c875ce8fa\n'}, {'number': 2, 'created': '2022-10-20 14:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/73e82a59775237916ed719ee25b599089d23aad8', 'message': '[Infinidat] fixed host assisted migration\n\nFixed an issue in Infinidat driver to support host assisted migration.\nAnd added new configuration options:\n* `infinidat_snapdir_accessible` to configure access to the `.snapshot`\n  directory on the client side.\n* `infinidat_snapdir_visible` to configure visibility of the `.snapshot`\n  directory on the client side.\n\nCloses-Bug: #1992443\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: I29b51fcec28dd5110de6ad196ff8b67c875ce8fa\n'}, {'number': 3, 'created': '2022-12-02 11:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f0415a2df4f1c46d5f917cff025ea59284ca231d', 'message': '[Infinidat] fixed host assisted migration\n\nFixed an issue in Infinidat driver to support host assisted migration.\nAnd added new configuration options:\n* `infinidat_snapdir_accessible` to configure access to the `.snapshot`\n  directory on the client side.\n* `infinidat_snapdir_visible` to configure visibility of the `.snapshot`\n  directory on the client side.\n\nCloses-Bug: #1992443\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: I29b51fcec28dd5110de6ad196ff8b67c875ce8fa\n'}, {'number': 4, 'created': '2022-12-05 20:21:53.000000000', 'files': ['manila/tests/share/drivers/infinidat/test_infinidat.py', 'doc/source/configuration/tables/manila-infinidat.inc', 'releasenotes/notes/bug-1992443-infinidat-host-assisted-migration-4344c4d076b66796.yaml', 'doc/source/configuration/shared-file-systems/drivers/infinidat-share-driver.rst', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7ec7321053c73c18764782d4c40cf77a998f8d41', 'message': '[Infinidat] fixed host assisted migration\n\nFixed an issue in Infinidat driver to support host assisted migration.\nAnd added new configuration options:\n* `infinidat_snapdir_accessible` to configure access to the `.snapshot`\n  directory on the client side.\n* `infinidat_snapdir_visible` to configure visibility of the `.snapshot`\n  directory on the client side.\n\nCloses-Bug: #1992443\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: I29b51fcec28dd5110de6ad196ff8b67c875ce8fa\n'}]",15,860788,7ec7321053c73c18764782d4c40cf77a998f8d41,38,3,4,35075,,,0,"[Infinidat] fixed host assisted migration

Fixed an issue in Infinidat driver to support host assisted migration.
And added new configuration options:
* `infinidat_snapdir_accessible` to configure access to the `.snapshot`
  directory on the client side.
* `infinidat_snapdir_visible` to configure visibility of the `.snapshot`
  directory on the client side.

Closes-Bug: #1992443
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
Change-Id: I29b51fcec28dd5110de6ad196ff8b67c875ce8fa
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/860788/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1992443-infinidat-host-assisted-migration-4344c4d076b66796.yaml', 'manila/share/drivers/infinidat/infinibox.py']",3,05228fea92ed6045172c31598285c4990f5feb60,bug/1992443," VERSION = '1.2' # driver version pool=pool, name=share_name, size=size, snapdir_accessible=False, provtype=self._provtype) name=name, write_protected=False, snapdir_accessible=False) infinidat_snapshot = infinidat_filesystem.create_snapshot( name=name, snapdir_accessible=False)"," VERSION = '1.1' # driver version pool=pool, name=share_name, size=size, provtype=self._provtype) name=name, write_protected=False) infinidat_snapshot = infinidat_filesystem.create_snapshot(name=name)",68,42
openstack%2Fmanila~866458,openstack/manila,stable/xena,Ia6bbde9aa1702be83f737ab6876a522fa30381c7,[Infinidat] add support for TLS/SSL communication,MERGED,2022-12-02 15:43:39.000000000,2022-12-15 22:26:49.000000000,2022-12-15 22:25:32.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-02 15:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ebf69d4dcfc2cc311cb8832195742d3469660f37', 'message': ""[Infinidat] add support for TLS/SSL communication\n\nInfinidat driver doesn't support TLS/SSL communication\nand uses plain HTTP for storage management operations.\n\nThis patch adds support for SSL/TLS communication for\nstorage management operations. Use `infinidat_use_ssl`\nunder backend section to enable or disable TLS/SSL\ncommunication between the Manila share service and the\nstorage backend. And `infinidat_suppress_ssl_warnings`\nunder backend section to suppress requests library SSL\ncertificate warnings.\n\nCloses-Bug: #1986653\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7\n(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)\n(cherry picked from commit fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c)\n""}, {'number': 2, 'created': '2022-12-02 15:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8b8da651b2e5beff53118fa03077045319d1e57e', 'message': ""[Infinidat] add support for TLS/SSL communication\n\nInfinidat driver doesn't support TLS/SSL communication\nand uses plain HTTP for storage management operations.\n\nThis patch adds support for SSL/TLS communication for\nstorage management operations. Use `infinidat_use_ssl`\nunder backend section to enable or disable TLS/SSL\ncommunication between the Manila share service and the\nstorage backend. And `infinidat_suppress_ssl_warnings`\nunder backend section to suppress requests library SSL\ncertificate warnings.\n\nCloses-Bug: #1986653\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7\n(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)\n(cherry picked from commit fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c)\n""}, {'number': 3, 'created': '2022-12-02 18:24:33.000000000', 'files': ['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1986653-infinidat-add-ssl-options-ee91f152bbd28080.yaml', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/328af8b24f3d603526ecb829077c4d1c7df355ff', 'message': ""[Infinidat] add support for TLS/SSL communication\n\nInfinidat driver doesn't support TLS/SSL communication\nand uses plain HTTP for storage management operations.\n\nThis patch adds support for SSL/TLS communication for\nstorage management operations. Use `infinidat_use_ssl`\nunder backend section to enable or disable TLS/SSL\ncommunication between the Manila share service and the\nstorage backend. And `infinidat_suppress_ssl_warnings`\nunder backend section to suppress requests library SSL\ncertificate warnings.\n\nCloses-Bug: #1986653\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7\n(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)\n(cherry picked from commit fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c)\n""}]",5,866458,328af8b24f3d603526ecb829077c4d1c7df355ff,19,3,3,35075,,,0,"[Infinidat] add support for TLS/SSL communication

Infinidat driver doesn't support TLS/SSL communication
and uses plain HTTP for storage management operations.

This patch adds support for SSL/TLS communication for
storage management operations. Use `infinidat_use_ssl`
under backend section to enable or disable TLS/SSL
communication between the Manila share service and the
storage backend. And `infinidat_suppress_ssl_warnings`
under backend section to suppress requests library SSL
certificate warnings.

Closes-Bug: #1986653
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
Change-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7
(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)
(cherry picked from commit fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/866458/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1986653-infinidat-add-ssl-options-ee91f152bbd28080.yaml', 'manila/share/drivers/infinidat/infinibox.py']",3,ebf69d4dcfc2cc311cb8832195742d3469660f37,bug/1986653,"# Copyright 2022 Infinidat Ltd.<<<<<<< HEAD (75b4a3 Merge ""Fix DriverFilter/GoodnessWeigher string evaluations"" )======= import requests >>>>>>> CHANGE (fc566d [Infinidat] add support for TLS/SSL communication) try: import infinisdk except ImportError: 'Infinibox storage system.'), cfg.BoolOpt('infinidat_use_ssl', help='Use SSL to connect to the INFINIDAT Infinibox storage ' 'system.', default=False), cfg.BoolOpt('infinidat_suppress_ssl_warnings', help='Suppress requests library SSL certificate warnings.', default=False), ] def _setup_and_get_system_object(self, management_address, auth, use_ssl): system = infinisdk.InfiniBox(management_address, auth=auth, use_ssl=use_ssl) if capacity is None: msg = _(""Missing 'capacity' python module, ensure the library"" "" is installed and available."") raise exception.ManilaException(message=msg) if self.configuration.safe_get('infinidat_suppress_ssl_warnings'): LOG.warning('Suppressing requests library SSL Warnings') rpu = requests.packages.urllib3 # pylint: disable=no-member rpu.disable_warnings(rpu.exceptions.InsecureRequestWarning) rpu.disable_warnings(rpu.exceptions.InsecurePlatformWarning) use_ssl = self.configuration.safe_get('infinidat_use_ssl') self._system = self._setup_and_get_system_object(management_address, auth, use_ssl)","# Copyright 2017 Infinidat Ltd. import infinisdk 'Infinibox storage system.'), ] def _setup_and_get_system_object(self, management_address, auth): system = infinisdk.InfiniBox(management_address, auth=auth) self._system = ( self._setup_and_get_system_object(management_address, auth))",70,9
openstack%2Fmanila~866459,openstack/manila,stable/yoga,Icc567a50b8498c06c2cfc76f6ae82731df63cafd,[Infinidat] bump driver version and update docs,MERGED,2022-12-02 16:08:22.000000000,2022-12-15 22:26:45.000000000,2022-12-15 22:25:31.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-12-02 16:08:22.000000000', 'files': ['doc/source/configuration/tables/manila-infinidat.inc', 'doc/source/configuration/shared-file-systems/drivers/infinidat-share-driver.rst', 'manila/share/drivers/infinidat/infinibox.py', 'releasenotes/notes/bug-1989283-infinidat-version-bump-6f791d9d97ccf75b.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/13c71fb51ab0b693b8c41ea7fc2dce2f3a71a092', 'message': '[Infinidat] bump driver version and update docs\n\nIncremented driver version to 1.1 and updated documentation\nwith SSL options, added by commit 52dac7619.\n\nCloses-Bug: #1989283\nChange-Id: Icc567a50b8498c06c2cfc76f6ae82731df63cafd\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 25d3306f9f7c76ed70332280f28b4e2c3d4605e1)\n'}]",2,866459,13c71fb51ab0b693b8c41ea7fc2dce2f3a71a092,9,3,1,35075,,,0,"[Infinidat] bump driver version and update docs

Incremented driver version to 1.1 and updated documentation
with SSL options, added by commit 52dac7619.

Closes-Bug: #1989283
Change-Id: Icc567a50b8498c06c2cfc76f6ae82731df63cafd
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit 25d3306f9f7c76ed70332280f28b4e2c3d4605e1)
",git fetch https://review.opendev.org/openstack/manila refs/changes/59/866459/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/manila-infinidat.inc', 'doc/source/configuration/shared-file-systems/drivers/infinidat-share-driver.rst', 'manila/share/drivers/infinidat/infinibox.py', 'releasenotes/notes/bug-1989283-infinidat-version-bump-6f791d9d97ccf75b.yaml']",4,13c71fb51ab0b693b8c41ea7fc2dce2f3a71a092,bug/1989283-stable/yoga,"--- fixes: - | Infinidat Driver `bug #1989283 <https://bugs.launchpad.net/manila/+bug/1989283>`_: Incremented driver version to 1.1, where SSL support was added. For more details on enabling SSL, please check the `Infinidat driver documentation <https://docs.openstack.org/manila/latest/configuration/shared-file-systems/drivers/infinidat-share-driver.html>`_. ",,28,1
openstack%2Fmanila-tempest-plugin~863030,openstack/manila-tempest-plugin,master,I13137cfd2c8d9898866049625443961885b79d42,[RBAC] Add share user message tests,MERGED,2022-10-31 10:37:16.000000000,2022-12-15 21:52:12.000000000,2022-12-15 21:52:12.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-10-31 10:37:16.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_user_messages.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c98525940cf4a760855d2a4ebf5bacf5eefe87ff', 'message': '[RBAC] Add share user message tests\n\nThe tests validate policy of share user message actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I13137cfd2c8d9898866049625443961885b79d42\n'}]",5,863030,c98525940cf4a760855d2a4ebf5bacf5eefe87ff,12,4,1,19262,,,0,"[RBAC] Add share user message tests

The tests validate policy of share user message actions
for admin,member and reader users in a project scope.

Change-Id: I13137cfd2c8d9898866049625443961885b79d42
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/30/863030/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/rbac/test_user_messages.py'],1,c98525940cf4a760855d2a4ebf5bacf5eefe87ff,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from testtools import testcase as tc from manila_tempest_tests.common import waiters from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base CONF = config.CONF class ShareRbacUserMessageTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super(ShareRbacUserMessageTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() cls.share_admin_client = cls.os_project_admin.share_v2.SharesV2Client() cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) @classmethod def resource_setup(cls): # One of the options for generating a user message is to create a share # type with invalid extra_specs. Creating a manila share with this # share type will fail because no valid host is found. extra_specs = { 'key': 'value', 'driver_handles_share_servers': CONF.share.multitenancy_enabled, } share_type_name = data_utils.rand_name('share-type') cls.share_type = cls.share_admin_client.create_share_type( name=share_type_name, extra_specs=extra_specs)['share_type'] cls.addClassResourceCleanup( cls.share_admin_client.delete_share_type, cls.share_type['id']) def create_user_message(self, client, cleanup=True): # Trigger a 'no valid host' situation to generate a message. share = client.create_share( share_type_id=self.share_type['id'])['share'] self.addCleanup(client.delete_share, share['id']) waiters.wait_for_resource_status(client, share['id'], 'error') message = waiters.wait_for_message(client, share['id']) if cleanup: self.addCleanup(client.delete_message, message['id']) return message @abc.abstractmethod def test_list_messages(self): pass @abc.abstractmethod def test_show_message(self): pass @abc.abstractmethod def test_delete_message(self): pass class ProjectAdminTests(ShareRbacUserMessageTests, base.BaseSharesTest): credentials = ['project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(ProjectAdminTests, cls).setup_clients() project_member = cls.setup_user_client( cls.persona, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @decorators.idempotent_id('2067d8ba-953d-4035-b65d-6001b3d4ea8f') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_messages(self): message = self.create_user_message( self.share_member_client, self.share_type) message_alt = self.create_user_message( self.alt_project_share_v2_client, self.share_type) message_list = self.do_request( 'list_messages', expected_status=200)['messages'] message_id_list = [ s['id'] for s in message_list ] self.assertIn(message['id'], message_id_list) self.assertIn(message_alt['id'], message_id_list) @decorators.idempotent_id('ec46f10e-c768-4df5-b75a-0ce3e22d8038') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_show_message(self): message = self.create_user_message( self.share_member_client, self.share_type) self.do_request( 'get_message', message_id=message['id'], expected_status=200) message_alt = self.create_user_message( self.alt_project_share_v2_client, self.share_type) self.do_request( 'get_message', message_id=message_alt['id'], expected_status=200) @decorators.idempotent_id('b91c355b-a5f8-47aa-8ab4-00a350f8ac7f') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_delete_message(self): message = self.create_user_message( self.share_member_client, cleanup=False) self.do_request( 'delete_message', message_id=message['id'], expected_status=204) message_alt = self.create_user_message( self.alt_project_share_v2_client, cleanup=False) self.do_request( 'delete_message', message_id=message_alt['id'], expected_status=204) class ProjectMemberTests(ShareRbacUserMessageTests, base.BaseSharesTest): """"""Test suite for basic share use message operations by member user In order to test share user message operations we need to preform an action that generates a user message. One of the reasons for generating a user message is share creation that fails because no valid host is found. To achieve this goal we need to create a share type. Since only user with admin credentials can create a share type, we have to initialize these credentials within project member class. """""" credentials = ['project_member', 'project_admin', 'project_alt_member'] @decorators.idempotent_id('1fd0f86d-cb1e-4694-a54e-4b7774c7c652') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_messages(self): share_client = getattr(self, 'share_member_client', self.client) message = self.create_user_message(share_client, self.share_type) message_alt = self.create_user_message( self.alt_project_share_v2_client, self.share_type) message_list = self.do_request( 'list_messages', expected_status=200)['messages'] message_id_list = [ s['id'] for s in message_list ] self.assertIn(message['id'], message_id_list) self.assertNotIn(message_alt['id'], message_id_list) @decorators.idempotent_id('283d33be-727b-4180-a503-95d31cc99a79') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_show_message(self): share_client = getattr(self, 'share_member_client', self.client) message = self.create_user_message(share_client, self.share_type) self.do_request( 'get_message', message_id=message['id'], expected_status=200) message_alt = self.create_user_message( self.alt_project_share_v2_client, self.share_type) self.do_request( 'get_message', message_id=message_alt['id'], expected_status=lib_exc.NotFound) @decorators.idempotent_id('5821a3a9-6194-414a-9668-0d933a0d4fb0') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_delete_message(self): share_client = getattr(self, 'share_member_client', self.client) message = self.create_user_message( share_client, cleanup=False) self.do_request( 'delete_message', message_id=message['id'], expected_status=204) message_alt = self.create_user_message( self.alt_project_share_v2_client, cleanup=False) self.do_request( 'delete_message', message_id=message_alt['id'], expected_status=lib_exc.NotFound) self.addCleanup(self.share_admin_client.delete_message, message_alt['id']) class ProjectReaderTests(ProjectMemberTests): """"""Test suite for basic share use message operations by reader user In order to test certain share operations we must create a share resource for this. Since reader user is limited in resources creation, we are forced to use admin credentials, so we can test other share operations. In this class we use admin user to create a member user within reader project. That way we can perform a reader actions on this resource. """""" credentials = ['project_reader', 'project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(ProjectReaderTests, cls).setup_clients() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @decorators.idempotent_id('ab3b8812-47df-4472-a410-7f84d52999f3') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_list_messages(self): super(ProjectReaderTests, self).test_list_messages() @decorators.idempotent_id('f0603a61-b620-4f89-afc5-006d1195fa7f') @tc.attr(base.TAG_POSITIVE, base.TAG_API) def test_show_message(self): super(ProjectReaderTests, self).test_show_message() @decorators.idempotent_id('a03695c7-e05a-4c89-9a04-7d94a8dd2419') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) def test_delete_message(self): message = self.create_user_message( self.share_member_client, cleanup=False) self.do_request( 'delete_message', message_id=message['id'], expected_status=lib_exc.Forbidden) self.addCleanup(self.share_admin_client.delete_message, message['id']) message_alt = self.create_user_message( self.alt_project_share_v2_client, cleanup=False) self.do_request( 'delete_message', message_id=message_alt['id'], expected_status=lib_exc.Forbidden) self.addCleanup(self.share_admin_client.delete_message, message_alt['id']) ",,249,0
openstack%2Fproject-config~867263,openstack/project-config,master,Ia084f7f6b4a8988010b71e6242f580ec70f788c8,Set iweb to empty labels and diskimages,MERGED,2022-12-12 16:44:04.000000000,2022-12-15 21:37:12.000000000,2022-12-15 21:07:23.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 16:44:04.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf34c3ea5a3af861b916b0ec3ed8e28327995c44', 'message': 'Set iweb to empty labels and diskimages\n\nThis should allow nodepool to clean up what it can as part of the\nremoval of this provider.\n\nChange-Id: Ia084f7f6b4a8988010b71e6242f580ec70f788c8\n'}]",0,867263,bf34c3ea5a3af861b916b0ec3ed8e28327995c44,10,5,1,4146,,,0,"Set iweb to empty labels and diskimages

This should allow nodepool to clean up what it can as part of the
removal of this provider.

Change-Id: Ia084f7f6b4a8988010b71e6242f580ec70f788c8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/867263/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nl03.opendev.org.yaml']",2,bf34c3ea5a3af861b916b0ec3ed8e28327995c44,wind-down-iweb, diskimages: [] pools: - name: main max-servers: 0 labels: [] - name: vexxhost-ca-ymq-1 region-name: 'ca-ymq-1' cloud: vexxhost boot-timeout: 120 rate: 0.001, max-servers: 0 labels: - name: centos-7 min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: centos-8-stream min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-8-stream key-name: infra-root-keys-2020-05-13 - name: centos-9-stream min-ram: 8000 flavor-name: 'A1.8' diskimage: centos-9-stream key-name: infra-root-keys-2020-05-13 - name: debian-bullseye min-ram: 8000 flavor-name: 'A1.8' diskimage: debian-bullseye key-name: infra-root-keys-2020-05-13 - name: debian-buster min-ram: 8000 flavor-name: 'A1.8' diskimage: debian-buster key-name: infra-root-keys-2020-05-13 - name: fedora-35 min-ram: 8000 flavor-name: 'A1.8' diskimage: fedora-35 key-name: infra-root-keys-2020-05-13 - name: fedora-36 min-ram: 8000 flavor-name: 'A1.8' diskimage: fedora-36 key-name: infra-root-keys-2020-05-13 - name: gentoo-17-0-systemd min-ram: 8000 flavor-name: 'A1.8' diskimage: gentoo-17-0-systemd key-name: infra-root-keys-2020-05-13 - name: opensuse-15 min-ram: 8000 flavor-name: 'A1.8' diskimage: opensuse-15 key-name: infra-root-keys-2020-05-13 - name: rockylinux-8 min-ram: 8000 flavor-name: 'A1.8' diskimage: rockylinux-8 key-name: infra-root-keys-2020-05-13 - name: rockylinux-9 min-ram: 8000 flavor-name: 'A1.8' diskimage: rockylinux-9 key-name: infra-root-keys-2020-05-13 - name: ubuntu-bionic min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: ubuntu-focal min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13 - name: ubuntu-jammy min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-jammy key-name: infra-root-keys-2020-05-13 - name: ubuntu-xenial min-ram: 8000 flavor-name: 'A1.8' diskimage: ubuntu-xenial key-name: infra-root-keys-2020-05-13 - name: openEuler-22-03-LTS min-ram: 8000 flavor-name: 'A1.8' diskimage: openEuler-22-03-LTS key-name: infra-root-keys-2020-05-13 - name: vexxhost-ca-ymq-1 region-name: 'ca-ymq-1' cloud: vexxhost boot-timeout: 120 rate: 0.001 diskimages: *provider_diskimages pools: - name: main,12,92
openstack%2Fheat~586375,openstack/heat,master,I126874622b8928d859d6d7bd2e10c9c27a156ba5,AutoScale downscale/replace will now support custom sorting options.,NEW,2018-07-27 00:04:30.000000000,2022-12-15 20:39:11.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 22776}, {'_account_id': 28642}]","[{'number': 1, 'created': '2018-07-27 00:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bcb8285730b30a5d21f8d9e568bcd7fc033f12ea', 'message': 'AutoScale downscale will now delete newest items.\n\ngrouputils sorting no longer uses FAIL for its sort criteria\n\nChange-Id: I126874622b8928d859d6d7bd2e10c9c27a156ba5\nStory: 2003123\nTask: 23243\n'}, {'number': 2, 'created': '2018-08-08 21:41:56.000000000', 'files': ['heat/common/exception.py', 'heat/tests/test_grouputils.py', 'heat/common/grouputils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f5b0e6cd55a033219b2e7ea245696931ffcb8df8', 'message': 'AutoScale downscale/replace will now support custom sorting options.\n\ngrouputils get_member_definitions will now have the option of\nchoosing custom sorting, by passing the desired list of sorting\ncriteria. While creating template to downscale/replace, users can\nchoose what instances should be replace/removed first by passing\nsort_keys to get their desired list of old_resources to be passed\ninto template.member_definitons.\n\nCustom sorting will be optional/configurable, keeping the default\nbehaviour as it is.\n\nChange-Id: I126874622b8928d859d6d7bd2e10c9c27a156ba5\nStory: 2003123\nTask: 23243\n'}]",2,586375,f5b0e6cd55a033219b2e7ea245696931ffcb8df8,13,5,2,22776,,,0,"AutoScale downscale/replace will now support custom sorting options.

grouputils get_member_definitions will now have the option of
choosing custom sorting, by passing the desired list of sorting
criteria. While creating template to downscale/replace, users can
choose what instances should be replace/removed first by passing
sort_keys to get their desired list of old_resources to be passed
into template.member_definitons.

Custom sorting will be optional/configurable, keeping the default
behaviour as it is.

Change-Id: I126874622b8928d859d6d7bd2e10c9c27a156ba5
Story: 2003123
Task: 23243
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/586375/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/common/grouputils.py', 'heat/tests/autoscaling/test_scaling_template.py', 'heat/scaling/template.py']",5,bcb8285730b30a5d21f8d9e568bcd7fc033f12ea,stx-enhancements," get_new_id, customise=_identity, delete_oldest=True): if delete_oldest: old_resources = old_resources[-num_resources:] else: # remove the most recent items (ones at end of list) old_resources = old_resources[:num_resources]"," get_new_id, customise=_identity): old_resources = old_resources[-num_resources:]",19,13
openstack%2Fkeystonemiddleware~866805,openstack/keystonemiddleware,master,Ia416658b8a4bfb8f43f8df170053abb3ae958d44,Fix pep8 gate,MERGED,2022-12-06 21:06:52.000000000,2022-12-15 20:38:51.000000000,2022-12-15 20:37:35.000000000,"[{'_account_id': 597}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-06 21:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ebf1140c53d28bee725c42dd35dfab9b42560ef9', 'message': 'Fix pep8 gate\n\nThis updates the test-requirements to more recent flake8-docstrings\nand pep8 versions.  I also added some more ignores that would take\nsignificant work to update and fixed some minor linting issues.\n\nChange-Id: Ia416658b8a4bfb8f43f8df170053abb3ae958d44\n'}, {'number': 2, 'created': '2022-12-09 16:28:15.000000000', 'files': ['test-requirements.txt', 'keystonemiddleware/oauth2_token.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dc0b79649506a520463622c6ff0e0383a2dea6a0', 'message': 'Fix pep8 gate\n\nThis updates the test-requirements to more recent flake8-docstrings\nand pep8 versions.  I also added some more ignores that would take\nsignificant work to update and fixed some minor linting issues.\n\nChange-Id: Ia416658b8a4bfb8f43f8df170053abb3ae958d44\n'}]",3,866805,dc0b79649506a520463622c6ff0e0383a2dea6a0,14,5,2,7414,,,0,"Fix pep8 gate

This updates the test-requirements to more recent flake8-docstrings
and pep8 versions.  I also added some more ignores that would take
significant work to update and fixed some minor linting issues.

Change-Id: Ia416658b8a4bfb8f43f8df170053abb3ae958d44
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/05/866805/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'keystonemiddleware/oauth2_token.py', 'tox.ini']",3,ebf1140c53d28bee725c42dd35dfab9b42560ef9,flake8_fixes," flake8 --docstring-convention pep257# D107: Missing docstring in __init__ # D401: First line should be in imperative moodignore = D100,D101,D102,D103,D104,D107,D401,W503,W504"," flake8# D203: 1 blank line required before class docstring (deprecated in pep257)ignore = D100,D101,D102,D103,D104,D203,W503,W504",9,9
openstack%2Fglance~867880,openstack/glance,stable/zed,I22e177b4acdc29fe082955cc9950531397037580,DNM: testing tox4 and pinning on stable branch,ABANDONED,2022-12-15 19:17:34.000000000,2022-12-15 20:35:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 19:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a32e24dacbaeaeb042d3eae5b1aa40e91c27d123', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 2, 'created': '2022-12-15 19:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7ff9737c471578aef652511812b202334cbc098d', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 3, 'created': '2022-12-15 19:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/241626524aca85be77e847d87b4e25efaf8c26ae', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 4, 'created': '2022-12-15 19:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c29b660d3a03818d06adee6c62fd75c4ce801f5c', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}, {'number': 5, 'created': '2022-12-15 19:57:14.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/6c389f89a7b5dbf3b2ae66135e427abd38d0c17b', 'message': 'DNM: testing tox4 and pinning on stable branch\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849\nChange-Id: I22e177b4acdc29fe082955cc9950531397037580\n'}]",2,867880,6c389f89a7b5dbf3b2ae66135e427abd38d0c17b,11,1,5,8556,,,0,"DNM: testing tox4 and pinning on stable branch

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/867849
Change-Id: I22e177b4acdc29fe082955cc9950531397037580
",git fetch https://review.opendev.org/openstack/glance refs/changes/80/867880/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a32e24dacbaeaeb042d3eae5b1aa40e91c27d123,,whitelist_externals = bash,allowlist_externals = bash,33,1
openstack%2Fnova~842478,openstack/nova,master,Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,Ironic: retry when node not available,MERGED,2022-05-19 10:14:38.000000000,2022-12-15 20:17:26.000000000,2022-12-15 20:14:37.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10342}, {'_account_id': 11604}, {'_account_id': 11655}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 10:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14bf852e0ed7579f1d8c9b92cc340e9160164ab', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed in placement,\nthe ironic node might start cleaning. Eventually nova will notice and update the\ninventory to be reserved. During this window, a new instance may have already\npicked this ironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to make sure we instead trigger a re-schedule and try\nanother node, instead of just aborting the build.\n\nFixes-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}, {'number': 2, 'created': '2022-05-19 14:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1496957dabbe76966cc81e9976cb82cb15f4c60c', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to make sure we instead trigger a re-schedule and\ntry another node, instead of just aborting the build.\n\nCloses-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}, {'number': 3, 'created': '2022-05-20 08:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35a0eb0952946afcd58f2dc2da265b1a81cbe0f0', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to make sure we instead trigger a re-schedule and\ntry another node, instead of just aborting the build.\n\nCloses-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}, {'number': 4, 'created': '2022-08-18 15:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f10da29daf8a26ad0469625c31fa3789963a10f7', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to make sure we instead trigger a re-schedule and\ntry another node, instead of just aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}, {'number': 5, 'created': '2022-08-18 15:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59c8bd325c98e18d9afa45b443b51a7264b6ece1', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}, {'number': 6, 'created': '2022-10-14 14:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/002f2661cff8e3721d938320c83bc2ff2c49c9fb', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}, {'number': 7, 'created': '2022-12-15 16:33:43.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a476061c5e034016668cd9e5a20c4430ef6b68d', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n'}]",23,842478,8a476061c5e034016668cd9e5a20c4430ef6b68d,60,8,7,782,,,0,"Ironic: retry when node not available

After a baremetal instance is deleted, and its allocation is removed
in placement, the ironic node might start cleaning. Eventually nova
will notice and update the inventory to be reserved.
During this window, a new instance may have already picked this
ironic node.

When that race happens today the build fails with an error:
""Failed to reserve node ...""

This change tries to ensure the remaining alternative hosts are
attempted before aborting the build.
Clearly the race is still there, but this makes it less painful.

Related-Bug: #1974070
Change-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/842478/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py']",4,e14bf852e0ed7579f1d8c9b92cc340e9160164ab,bug1974070," exception.UnexpectedDeletingTaskStateError, exception.ComputeResourcesUnavailable):", exception.UnexpectedDeletingTaskStateError):,72,3
openstack%2Fpython-openstackclient~816296,openstack/python-openstackclient,master,I8e2a4651bff1f739fa98533cd47074b143b2e3d6,Switch server dump create to using sdk,MERGED,2021-11-02 04:56:44.000000000,2022-12-15 20:17:17.000000000,2022-12-15 20:14:43.000000000,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-02 04:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/72e0e990d2c54be7e3deb6af67b92c07c386694c', 'message': 'Switch server dump create to using sdk\n\nNo method about dump create found in sdk, so _action() is directly\ncalled.\n\nChange-Id: I8e2a4651bff1f739fa98533cd47074b143b2e3d6\n'}, {'number': 2, 'created': '2021-12-05 22:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2450bc7fa812339bcf37be8250e9c5a4b613e251', 'message': 'Switch server dump create to using sdk\n\nNo method about dump create found in sdk, so _action() is directly\ncalled.\n\nChange-Id: I8e2a4651bff1f739fa98533cd47074b143b2e3d6\n'}, {'number': 3, 'created': '2022-12-15 17:20:49.000000000', 'files': ['requirements.txt', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c47998c59add9a0b9a2b8ab180104347653fbfcf', 'message': 'Switch server dump create to using sdk\n\nChange-Id: I8e2a4651bff1f739fa98533cd47074b143b2e3d6\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,816296,c47998c59add9a0b9a2b8ab180104347653fbfcf,20,4,3,34041,,,0,"Switch server dump create to using sdk

Change-Id: I8e2a4651bff1f739fa98533cd47074b143b2e3d6
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/816296/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,72e0e990d2c54be7e3deb6af67b92c07c386694c,compute-sdk," compute_client = self.app.client_manager.sdk_connection.compute for name_or_id in parsed_args.server: server = compute_client.find_server(name_or_id) body = {'trigger_crash_dump': None} server._action(compute_client, body)"," compute_client = self.app.client_manager.compute for server in parsed_args.server: utils.find_resource( compute_client.servers, server, ).trigger_crash_dump()",31,9
openstack%2Fironic~867863,openstack/ironic,bugfix/21.0,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:35:06.000000000,2022-12-15 20:15:37.000000000,2022-12-15 20:11:44.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:35:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/74da8b0819085494ec5cf9b99f20cc2e321f664b', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867863,74da8b0819085494ec5cf9b99f20cc2e321f664b,9,3,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/867863/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,74da8b0819085494ec5cf9b99f20cc2e321f664b,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fironic-inspector~867825,openstack/ironic-inspector,bugfix/11.2,Ifcc995b9f7427b03d218d444db08ffc79c3818d1,Update .gitreview for bugfix/11.2,MERGED,2022-12-15 16:05:20.000000000,2022-12-15 20:13:39.000000000,2022-12-15 20:11:46.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 16:05:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d9166a3c20fa75cc03c58c153004f37296603ff0', 'message': 'Update .gitreview for bugfix/11.2\n\nChange-Id: Ifcc995b9f7427b03d218d444db08ffc79c3818d1\n'}]",0,867825,d9166a3c20fa75cc03c58c153004f37296603ff0,7,2,1,22816,,,0,"Update .gitreview for bugfix/11.2

Change-Id: Ifcc995b9f7427b03d218d444db08ffc79c3818d1
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/25/867825/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d9166a3c20fa75cc03c58c153004f37296603ff0,create-11.2,defaultbranch=bugfix/11.2,,1,0
openstack%2Fironic~867868,openstack/ironic,bugfix/18.1,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:37:37.000000000,2022-12-15 20:09:15.000000000,2022-12-15 20:08:03.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:37:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dfab332c17fe3a4399bd0ae254c6e31a0ff5147c', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867868,dfab332c17fe3a4399bd0ae254c6e31a0ff5147c,9,3,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/867868/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dfab332c17fe3a4399bd0ae254c6e31a0ff5147c,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fironic-python-agent~867888,openstack/ironic-python-agent,stable/wallaby,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 19:41:04.000000000,2022-12-15 20:07:44.000000000,2022-12-15 20:06:47.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 19:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/16b72655296050dfb8bbe7dabb14a55b1f1035eb', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 19:41:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4d9ae818a4c4a93289270dc6e6bf4793d8988669', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867888,4d9ae818a4c4a93289270dc6e6bf4793d8988669,10,2,2,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/867888/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,16b72655296050dfb8bbe7dabb14a55b1f1035eb,,<<<<<<< HEAD (c9d00d Warn when smartctl not found)======= minversion = 3.18.0 >>>>>>> CHANGE (ca85a7 Fixes for tox 4.0)passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,usedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = Falseusedevelop = Falseusedevelop = False,11,5
openstack%2Fironic~867866,openstack/ironic,bugfix/19.0,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:36:40.000000000,2022-12-15 20:06:47.000000000,2022-12-15 20:05:29.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:36:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26fa4bef4eb6509615962f0f9768f6a46d16a576', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867866,26fa4bef4eb6509615962f0f9768f6a46d16a576,9,3,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/867866/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26fa4bef4eb6509615962f0f9768f6a46d16a576,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fironic-python-agent~867886,openstack/ironic-python-agent,stable/xena,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 19:39:53.000000000,2022-12-15 19:59:52.000000000,2022-12-15 19:58:48.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 19:39:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/020c4749ff922d6665bec69e76bc1f13887ada14', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867886,020c4749ff922d6665bec69e76bc1f13887ada14,8,2,1,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/86/867886/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,020c4749ff922d6665bec69e76bc1f13887ada14,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,7
openstack%2Fironic-python-agent~867881,openstack/ironic-python-agent,stable/zed,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 19:38:07.000000000,2022-12-15 19:59:47.000000000,2022-12-15 19:58:44.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 19:38:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/72dd56920bb50160b388e417f80c774fa37f5a7a', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867881,72dd56920bb50160b388e417f80c774fa37f5a7a,9,2,1,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/81/867881/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,72dd56920bb50160b388e417f80c774fa37f5a7a,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,7
openstack%2Fironic-python-agent~867882,openstack/ironic-python-agent,bugfix/9.0,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 19:38:36.000000000,2022-12-15 19:59:39.000000000,2022-12-15 19:58:42.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 19:38:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/31dafbfdd597e33082abb1c77863b94dbac930ee', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867882,31dafbfdd597e33082abb1c77863b94dbac930ee,8,2,1,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/867882/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,31dafbfdd597e33082abb1c77863b94dbac930ee,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,7
openstack%2Fironic-python-agent~867884,openstack/ironic-python-agent,stable/yoga,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 19:39:13.000000000,2022-12-15 19:57:54.000000000,2022-12-15 19:56:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 19:39:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1d4ea491fe4ef5840fec6cad0907f9501136799f', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867884,1d4ea491fe4ef5840fec6cad0907f9501136799f,8,2,1,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/84/867884/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1d4ea491fe4ef5840fec6cad0907f9501136799f,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,skipsdist = Trueusedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,7
openstack%2Fironic-python-agent~867835,openstack/ironic-python-agent,master,I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b,Fixes for tox 4.0,MERGED,2022-12-15 17:55:59.000000000,2022-12-15 19:57:54.000000000,2022-12-15 19:56:38.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 17:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/71e175435c721d51c44f8ba97b3dd3e83b77a3a3', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}, {'number': 2, 'created': '2022-12-15 18:20:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3ded705e5601da8f8447281cd0a1bae5b3c5b592', 'message': 'Fixes for tox 4.0\n\n- passenv needed better structure\n- usedevelop no longer allowed alongside skipsdist\n\nChange-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b\n'}]",0,867835,3ded705e5601da8f8447281cd0a1bae5b3c5b592,13,2,2,10342,,,0,"Fixes for tox 4.0

- passenv needed better structure
- usedevelop no longer allowed alongside skipsdist

Change-Id: I22dae3b1e4cca2dc328c21e889acf7fe98a80e0b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/35/867835/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,71e175435c721d51c44f8ba97b3dd3e83b77a3a3,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYdeps =,usedevelop = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYusedevelop = False deps=usedevelop = Falseusedevelop = False,8,6
openstack%2Fcinderlib~841359,openstack/cinderlib,master,I6e969294749a39a6bcfdea15867efd85cc470356,Update python testing as per zed cycle teting runtime,ABANDONED,2022-05-11 00:52:21.000000000,2022-12-15 19:55:57.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 00:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/11443a1639d66cf58aaf09d905261da7c59b3c88', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Moving the py36 job to py38 based as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I6e969294749a39a6bcfdea15867efd85cc470356\n'}, {'number': 2, 'created': '2022-05-11 15:19:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-3-6-and-3-7-3b51da474ee993c9.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/dbbfd3bf162d4d4d1ee43f52fafff06375fc8589', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Moving the py36 job to py38 based as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I6e969294749a39a6bcfdea15867efd85cc470356\n'}]",3,841359,dbbfd3bf162d4d4d1ee43f52fafff06375fc8589,8,2,2,8556,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Moving the py36 job to py38 based as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I6e969294749a39a6bcfdea15867efd85cc470356
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/59/841359/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-3-6-and-3-7-3b51da474ee993c9.yaml']",4,11443a1639d66cf58aaf09d905261da7c59b3c88,drop-py3-6-7,--- upgrade: - | Python 3.6 & 3.7 support has been dropped. The minimum version of Python now supported is Python 3.8. ,,12,9
openstack%2Fneutron~867315,openstack/neutron,master,I143f2a19bf234f9906639999b6e5cb137ba5f6e6,Do not reload DHCP allocations if network not found,ABANDONED,2022-12-12 23:35:27.000000000,2022-12-15 19:53:11.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-12 23:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45fac8e8cdd060bd7b2196886a9044760554c5ed', 'message': ""Do not reload DHCP allocations if network not found\n\nIf we could not find the network by ID in the cache\njust return, else we'll throw an exception in\ncall_driver().\n\nTrivialfix\n\nChange-Id: I143f2a19bf234f9906639999b6e5cb137ba5f6e6\nCloses-bug: #1999388\n""}, {'number': 2, 'created': '2022-12-13 17:22:50.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ac7d7b93931bddf48fbb4ff59326e47d38c1a85', 'message': ""Do not reload DHCP allocations if network not found\n\nIf we could not find the network by ID in the cache\njust return, else we'll throw an exception in\ncall_driver().\n\nCloses-bug: #1999388\n\nChange-Id: I143f2a19bf234f9906639999b6e5cb137ba5f6e6\n""}]",3,867315,4ac7d7b93931bddf48fbb4ff59326e47d38c1a85,15,4,2,1131,,,0,"Do not reload DHCP allocations if network not found

If we could not find the network by ID in the cache
just return, else we'll throw an exception in
call_driver().

Closes-bug: #1999388

Change-Id: I143f2a19bf234f9906639999b6e5cb137ba5f6e6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/867315/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,45fac8e8cdd060bd7b2196886a9044760554c5ed,bug/1999388, if not network: return,,2,0
openstack%2Fironic~867869,openstack/ironic,stable/wallaby,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:38:04.000000000,2022-12-15 19:39:19.000000000,2022-12-15 19:28:54.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:38:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/48556653f64335d1c13a0fedfd8759bea206e6f6', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867869,48556653f64335d1c13a0fedfd8759bea206e6f6,9,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/867869/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,48556653f64335d1c13a0fedfd8759bea206e6f6,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fpython-openstackclient~820420,openstack/python-openstackclient,master,I0a93db258dcc235ff0b541bfc61149fa1e076a54,Switch remove fixed IP to SDK,NEW,2021-12-04 16:12:16.000000000,2022-12-15 19:37:55.000000000,,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-04 16:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/890ce0acf8692b4e8b2e24b3bce4b0d18e2e8f43', 'message': 'Switch remove fixed ip to sdk\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 2, 'created': '2021-12-04 16:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a3fed62ff10a345e08d05a801985eec2264807e6', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 3, 'created': '2021-12-04 16:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/af0177ee7e3ab3c7574178d30e9e952f653cf3fc', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 4, 'created': '2021-12-04 21:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/382dd4be20b73a452bd6194500abfe392af1c33b', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 5, 'created': '2021-12-04 21:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bf2f889e2bd42a75b8027398330b545c371e8c62', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 6, 'created': '2021-12-04 21:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2363f53b2904bb47477a1d3d91f6da872f406d51', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 7, 'created': '2021-12-05 15:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/357b77baea0ffd1da0c9d8e9da41e7c43dfe94cb', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 8, 'created': '2021-12-14 16:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8d0c03ead8d9933137c21a61cc35642b0a9771f1', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}, {'number': 9, 'created': '2022-12-15 18:31:24.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py', 'releasenotes/notes/migrate-remove-fixed-ip-to-sdk-3d141e2ea7070470.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5a8c263725ed9de3c66d847bf916b440f020ff18', 'message': 'Switch remove fixed IP to SDK\n\nSwitch the remove fixed IP command from novaclient to SDK.\n\nChange-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54\n'}]",10,820420,5a8c263725ed9de3c66d847bf916b440f020ff18,25,4,9,34060,,,0,"Switch remove fixed IP to SDK

Switch the remove fixed IP command from novaclient to SDK.

Change-Id: I0a93db258dcc235ff0b541bfc61149fa1e076a54
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/820420/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,890ce0acf8692b4e8b2e24b3bce4b0d18e2e8f43,compute-sdk," nova_compute_client = self.app.client_manager.compute nova_compute_client.servers, parsed_args.server) #server.remove_fixed_ip(parsed_args.ip_address) compute_client = self.app.client_manager.sdk_connection.compute server = compute_client.find_server( parsed_args.server, ignore_missing=False ) ips = compute_client.server_ips(server.id) for ip in ips: print(ip['addr']) "," compute_client = self.app.client_manager.compute compute_client.servers, parsed_args.server) server.remove_fixed_ip(parsed_args.ip_address)",14,3
openstack%2Fironic-inspector~867859,openstack/ironic-inspector,stable/wallaby,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:30:41.000000000,2022-12-15 19:36:38.000000000,2022-12-15 19:34:33.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:30:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8d8293dc2117e8a9c65df955ca413b2ce1140249', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867859,8d8293dc2117e8a9c65df955ca413b2ce1140249,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/59/867859/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8d8293dc2117e8a9c65df955ca413b2ce1140249,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867860,openstack/ironic-inspector,stable/victoria,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:31:00.000000000,2022-12-15 19:36:33.000000000,2022-12-15 19:34:31.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:31:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3e218a03c3d0b4f49a1a3e19344b1ca9c6e80d82', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867860,3e218a03c3d0b4f49a1a3e19344b1ca9c6e80d82,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/60/867860/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3e218a03c3d0b4f49a1a3e19344b1ca9c6e80d82,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867862,openstack/ironic-inspector,stable/train,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:31:45.000000000,2022-12-15 19:35:42.000000000,2022-12-15 19:34:34.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:31:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f3126a06a0beb52bcddaf37b9bae5b6be5fed915', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867862,f3126a06a0beb52bcddaf37b9bae5b6be5fed915,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/62/867862/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f3126a06a0beb52bcddaf37b9bae5b6be5fed915,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867861,openstack/ironic-inspector,stable/ussuri,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:31:18.000000000,2022-12-15 19:35:25.000000000,2022-12-15 19:34:28.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:31:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/eb0b1bbe00e0b43562a8dec2406665f288fc1cab', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867861,eb0b1bbe00e0b43562a8dec2406665f288fc1cab,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/61/867861/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb0b1bbe00e0b43562a8dec2406665f288fc1cab,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic~867871,openstack/ironic,stable/ussuri,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:39:35.000000000,2022-12-15 19:33:44.000000000,2022-12-15 19:32:18.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:39:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2571e3cf4ec804e31ff5afa11883034a700f8704', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867871,2571e3cf4ec804e31ff5afa11883034a700f8704,9,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/867871/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2571e3cf4ec804e31ff5afa11883034a700f8704,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fironic-inspector~867855,openstack/ironic-inspector,stable/yoga,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:26:47.000000000,2022-12-15 19:33:41.000000000,2022-12-15 19:32:24.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:26:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5da8e980d6bc6e501971d7f9c336ea743316b2b9', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867855,5da8e980d6bc6e501971d7f9c336ea743316b2b9,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/55/867855/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5da8e980d6bc6e501971d7f9c336ea743316b2b9,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867857,openstack/ironic-inspector,stable/xena,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:28:14.000000000,2022-12-15 19:33:39.000000000,2022-12-15 19:32:26.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:28:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8493544c15525df0da09f512cd48639bd976fc53', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867857,8493544c15525df0da09f512cd48639bd976fc53,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/57/867857/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8493544c15525df0da09f512cd48639bd976fc53,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867853,openstack/ironic-inspector,bugfix/11.0,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:26:05.000000000,2022-12-15 19:33:38.000000000,2022-12-15 19:32:23.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:26:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/eaca3dcedc9cf52484bd7ec6be311a9873ce078a', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867853,eaca3dcedc9cf52484bd7ec6be311a9873ce078a,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/53/867853/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eaca3dcedc9cf52484bd7ec6be311a9873ce078a,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867856,openstack/ironic-inspector,bugfix/10.9,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 18:27:27.000000000,2022-12-15 19:33:34.000000000,2022-12-15 19:32:21.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:27:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e2400c858c16c404f8be7a93e144cd87503f7464', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867856,e2400c858c16c404f8be7a93e144cd87503f7464,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/56/867856/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e2400c858c16c404f8be7a93e144cd87503f7464,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic-inspector~867833,openstack/ironic-inspector,stable/zed,I15f0b1f22321bb59310bab9138edc1597c00b99e,[stable-only] Fixes for tox 4.0 compatability,MERGED,2022-12-15 17:40:12.000000000,2022-12-15 19:33:27.000000000,2022-12-15 19:32:20.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 17:40:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6c3cbd1511b39e5a713477ff659c7d62b23250a7', 'message': ""[stable-only] Fixes for tox 4.0 compatability\n\nBefore this change, you couldn't run tests in tox against tox 4.0 or\nnewer.\n\nChange-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e\n""}]",0,867833,6c3cbd1511b39e5a713477ff659c7d62b23250a7,8,2,1,10342,,,0,"[stable-only] Fixes for tox 4.0 compatability

Before this change, you couldn't run tests in tox against tox 4.0 or
newer.

Change-Id: I15f0b1f22321bb59310bab9138edc1597c00b99e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/33/867833/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6c3cbd1511b39e5a713477ff659c7d62b23250a7,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,1
openstack%2Fironic~867867,openstack/ironic,stable/xena,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:36:57.000000000,2022-12-15 19:33:25.000000000,2022-12-15 19:22:47.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:36:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/793b981320d9d5bd034397bffcfb949b55506027', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867867,793b981320d9d5bd034397bffcfb949b55506027,9,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/867867/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,793b981320d9d5bd034397bffcfb949b55506027,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fironic~867872,openstack/ironic,stable/train,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:40:24.000000000,2022-12-15 19:30:06.000000000,2022-12-15 19:28:56.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:40:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d1fa79e18a3e9be1aa9e23c21e8874788a4013b', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867872,4d1fa79e18a3e9be1aa9e23c21e8874788a4013b,8,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/867872/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4d1fa79e18a3e9be1aa9e23c21e8874788a4013b,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fironic~867865,openstack/ironic,stable/yoga,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:36:20.000000000,2022-12-15 19:29:53.000000000,2022-12-15 19:28:43.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:36:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/177e93de942eaab6514d1bbb0d49c90fafcd27f2', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867865,177e93de942eaab6514d1bbb0d49c90fafcd27f2,9,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/867865/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,177e93de942eaab6514d1bbb0d49c90fafcd27f2,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fdevstack~866944,openstack/devstack,master,I77a699a9e191eb83628ad5d361282e66744b6e4a,Fix the db user for mariadb in ubuntu 22.04,MERGED,2022-12-07 23:05:36.000000000,2022-12-15 19:28:42.000000000,2022-12-15 19:27:45.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-12-07 23:05:36.000000000', 'files': ['lib/databases/mysql'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a40648b3884c374e314105c33c2a20c85ab2f7f', 'message': 'Fix the db user for mariadb in ubuntu 22.04\n\nIn Ubuntu 22.04, mariadb version 10.6 is installed. Per [0] and [1]\nauthentication management was changed in version 10.4. This change\nadapts the way the db user is created to the new rules in versions\n10.4 and later.\n\n[0] https://mariadb.com/kb/en/authentication-from-mariadb-104/\n[1] https://mariadb.org/authentication-in-mariadb-10-4/\n\nCloses-Bug: #1999090\nChange-Id: I77a699a9e191eb83628ad5d361282e66744b6e4a\n'}]",5,866944,0a40648b3884c374e314105c33c2a20c85ab2f7f,14,5,1,4694,,,0,"Fix the db user for mariadb in ubuntu 22.04

In Ubuntu 22.04, mariadb version 10.6 is installed. Per [0] and [1]
authentication management was changed in version 10.4. This change
adapts the way the db user is created to the new rules in versions
10.4 and later.

[0] https://mariadb.com/kb/en/authentication-from-mariadb-104/
[1] https://mariadb.org/authentication-in-mariadb-10-4/

Closes-Bug: #1999090
Change-Id: I77a699a9e191eb83628ad5d361282e66744b6e4a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/44/866944/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/databases/mysql'],1,0a40648b3884c374e314105c33c2a20c85ab2f7f,fix-mariadb-authentication-ubuntu2204," # because the package might have been installed already. We don't do this # for Ubuntu 22.04 (jammy) because the authorization model change in # version 10.4 of mariadb. See # https://mariadb.org/authentication-in-mariadb-10-4/ if ! (is_ubuntu && [[ ""$DISTRO"" == ""jammy"" ]] && [ ""$MYSQL_SERVICE_NAME"" == ""mariadb"" ]); then sudo mysqladmin -u root password $DATABASE_PASSWORD || true fi if [[ ""$DISTRO"" == ""jammy"" ]]; then # For Ubuntu 22.04 (jammy) we follow the model outlined in # https://mariadb.org/authentication-in-mariadb-10-4/ sudo mysql -e ""ALTER USER $DATABASE_USER@localhost IDENTIFIED VIA mysql_native_password USING PASSWORD('$DATABASE_PASSWORD');"" else sudo mysql $cmd_args -e ""UPDATE mysql.user SET plugin='' WHERE user='$DATABASE_USER' AND host='localhost';"" sudo mysql $cmd_args -e ""FLUSH PRIVILEGES;"" fi if ! (is_ubuntu && [[ ""$DISTRO"" == ""jammy"" ]] && [ ""$MYSQL_SERVICE_NAME"" == ""mariadb"" ]); then # Create DB user if it does not already exist sudo mysql $cmd_args -e ""CREATE USER IF NOT EXISTS '$DATABASE_USER'@'%' identified by '$DATABASE_PASSWORD';"" # Update the DB to give user '$DATABASE_USER'@'%' full control of the all databases: sudo mysql $cmd_args -e ""GRANT ALL PRIVILEGES ON *.* TO '$DATABASE_USER'@'%';"" fi"," # because the package might have been installed already. sudo mysqladmin -u root password $DATABASE_PASSWORD || true sudo mysql $cmd_args -e ""UPDATE mysql.user SET plugin='' WHERE user='$DATABASE_USER' AND host='localhost';"" sudo mysql $cmd_args -e ""FLUSH PRIVILEGES;"" # Create DB user if it does not already exist sudo mysql $cmd_args -e ""CREATE USER IF NOT EXISTS '$DATABASE_USER'@'%' identified by '$DATABASE_PASSWORD';"" # Update the DB to give user '$DATABASE_USER'@'%' full control of the all databases: sudo mysql $cmd_args -e ""GRANT ALL PRIVILEGES ON *.* TO '$DATABASE_USER'@'%';""",21,8
openstack%2Fnetworking-generic-switch~867873,openstack/networking-generic-switch,stable/zed,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,MERGED,2022-12-15 18:49:00.000000000,2022-12-15 19:28:07.000000000,2022-12-15 19:26:59.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:49:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/0f1c5ddecf83026386647cb3812b310bbe6a11c1', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867873,0f1c5ddecf83026386647cb3812b310bbe6a11c1,8,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/73/867873/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0f1c5ddecf83026386647cb3812b310bbe6a11c1,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Fnetworking-generic-switch~867841,openstack/networking-generic-switch,master,I39bc062812f3999c5b18cf447483f90efaac76fb,Fixes for tox 4.0,MERGED,2022-12-15 18:11:26.000000000,2022-12-15 19:27:13.000000000,2022-12-15 19:26:04.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:11:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/28bca5377d4fa14cb2be071852b76e457b435d7d', 'message': 'Fixes for tox 4.0\n\nUpdated passenv syntax to current\n\nChange-Id: I39bc062812f3999c5b18cf447483f90efaac76fb\n'}]",0,867841,28bca5377d4fa14cb2be071852b76e457b435d7d,8,2,1,10342,,,0,"Fixes for tox 4.0

Updated passenv syntax to current

Change-Id: I39bc062812f3999c5b18cf447483f90efaac76fb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/41/867841/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,28bca5377d4fa14cb2be071852b76e457b435d7d,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY ,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,8,1
openstack%2Ftempest~791319,openstack/tempest,master,I7537b3f508a5c0df2aabc906c95dc5e925dded0f,Add validation of rejection of open redirects in test_novnc,NEW,2021-05-13 21:05:04.000000000,2022-12-15 19:27:10.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-13 21:05:04.000000000', 'files': ['tempest/api/compute/servers/test_novnc.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a40bdad061ac2656753208d5efa7259a5ea6c493', 'message': 'Add validation of rejection of open redirects in test_novnc\n\nWe are fixing a security issue in the nova novnc proxy wherein URLs\nof a certain format causes the server to redirect the user to an\n[almost] arbitrary URL.\n\nThis adds one extra validation step to test_novnc to verify the fix\nis working.\n\nRelated-Bug: #1927677\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/791297\n\nChange-Id: I7537b3f508a5c0df2aabc906c95dc5e925dded0f\n'}]",3,791319,a40bdad061ac2656753208d5efa7259a5ea6c493,9,3,1,4690,,,0,"Add validation of rejection of open redirects in test_novnc

We are fixing a security issue in the nova novnc proxy wherein URLs
of a certain format causes the server to redirect the user to an
[almost] arbitrary URL.

This adds one extra validation step to test_novnc to verify the fix
is working.

Related-Bug: #1927677

Depends-On: https://review.opendev.org/c/openstack/nova/+/791297

Change-Id: I7537b3f508a5c0df2aabc906c95dc5e925dded0f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/791319/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_novnc.py'],1,a40bdad061ac2656753208d5efa7259a5ea6c493,bug/1927677," def _validate_reject_open_redirect(self, vnc_url): """"""Verify that we reject open redirects with 400 Bad Request. Open redirect request URLs take the form of, for example: http://vncproxy.my.domain.com:6080//example.com/%2F.. """""" # Modify the URL to contain a redirect to example.com parts = urlparse.urlparse(vnc_url) new_parts = urlparse.ParseResult( parts.scheme, parts.netloc, '//example.com/%2F..', '', '', '') url = urlparse.urlunparse(new_parts) resp = urllib3.PoolManager().request('GET', url) # Make sure that the GET request was rejected by the novncproxy self.assertEqual(resp.status, 400, 'Got an unexpected HTTP Response ' 'requesting an open redirect: ' + str(resp.status)) resp_data = resp.data.decode() self.assertIn('URI must not start with //', resp_data, 'Did not receive the expected HTTP Response message ' 'after requesting an open redirect') # Validate the rejection of open redirect requests self._validate_reject_open_redirect(body['url'])",,22,0
openstack%2Fironic~867870,openstack/ironic,stable/victoria,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:38:41.000000000,2022-12-15 19:24:32.000000000,2022-12-15 19:23:05.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98f50954447460ee6a4f8682f90b71403ba4f692', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}, {'number': 2, 'created': '2022-12-15 18:39:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/eee024da65d09005b7f9ffc7c9bee55627309ee6', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867870,eee024da65d09005b7f9ffc7c9bee55627309ee6,10,2,2,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/867870/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,98f50954447460ee6a4f8682f90b71403ba4f692,," PYTHONDONTWRITEBYTECODE=1<<<<<<< HEAD (59a11e Merge ""Suppress Bandit B509 in snmp.py"" into stable/victoria)======= stestr run --slowest {posargs} passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY >>>>>>> CHANGE (485566 Fixes for tox 4.0)", PYTHONDONTWRITEBYTECODE = 1,11,1
openstack%2Fironic~867864,openstack/ironic,bugfix/20.2,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 18:35:49.000000000,2022-12-15 19:24:04.000000000,2022-12-15 19:22:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:35:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff6ee158c5fdd1c41343d82e09a1a8fb41e79f93', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867864,ff6ee158c5fdd1c41343d82e09a1a8fb41e79f93,8,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/867864/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ff6ee158c5fdd1c41343d82e09a1a8fb41e79f93,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fpuppet-nova~866715,openstack/puppet-nova,master,Ifebba6f17727c6a70ed851b84433d3536d089510,api: Skip service resource declaration if manage_service=false,MERGED,2022-12-06 13:56:28.000000000,2022-12-15 19:23:19.000000000,2022-12-15 19:23:19.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-12-06 13:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e5f7b75514d269f4530f5ae859019e06551692e2', 'message': 'api: Skip service resource declaration if manage_service=True\n\nCloses-Bug: #1998931\nChange-Id: Ifebba6f17727c6a70ed851b84433d3536d089510\n'}, {'number': 2, 'created': '2022-12-06 13:57:42.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cd6df2a8af0e90406da37d3c8950436823886d3c', 'message': 'api: Skip service resource declaration if manage_service=false\n\nAll service resources should be skipped when manage_service is false.\nThis fixes the leaked resources to avoid error when resolving resource\ndependencies.\n\nCloses-Bug: #1998931\nChange-Id: Ifebba6f17727c6a70ed851b84433d3536d089510\n'}]",5,866715,cd6df2a8af0e90406da37d3c8950436823886d3c,26,5,2,9816,,,0,"api: Skip service resource declaration if manage_service=false

All service resources should be skipped when manage_service is false.
This fixes the leaked resources to avoid error when resolving resource
dependencies.

Closes-Bug: #1998931
Change-Id: Ifebba6f17727c6a70ed851b84433d3536d089510
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/15/866715/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,e5f7b75514d269f4530f5ae859019e06551692e2,bug/1998931, if $manage_service { Service <| title == 'httpd' |> { tag +> 'nova-service' } # make sure we start apache before nova-api to avoid binding issues Service['nova-api'] -> Service[$service_name] }, Service <| title == 'httpd' |> { tag +> 'nova-service' } # make sure we start apache before nova-api to avoid binding issues Service['nova-api'] -> Service[$service_name],6,3
openstack%2Fironic~867644,openstack/ironic,stable/zed,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 17:56:29.000000000,2022-12-15 19:20:52.000000000,2022-12-15 19:19:39.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 17:56:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ba3d29a09c05c048b344a415293ac35754fe319', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",0,867644,1ba3d29a09c05c048b344a415293ac35754fe319,9,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/867644/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1ba3d29a09c05c048b344a415293ac35754fe319,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fmetalsmith~867851,openstack/metalsmith,stable/train,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:24:26.000000000,2022-12-15 19:15:35.000000000,2022-12-15 19:14:38.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:24:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f16854ffa15c101e9fe0c4663cb7e71145296081', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867851,f16854ffa15c101e9fe0c4663cb7e71145296081,8,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/51/867851/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f16854ffa15c101e9fe0c4663cb7e71145296081,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867649,openstack/metalsmith,stable/victoria,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:23:41.000000000,2022-12-15 19:14:53.000000000,2022-12-15 19:13:53.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:23:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f42bd82d6211bd4fb6ef178744f65d8cbeaa70f9', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867649,f42bd82d6211bd4fb6ef178744f65d8cbeaa70f9,8,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/49/867649/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f42bd82d6211bd4fb6ef178744f65d8cbeaa70f9,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867648,openstack/metalsmith,stable/wallaby,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:22:31.000000000,2022-12-15 19:13:23.000000000,2022-12-15 19:12:22.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:22:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8954824d8b52cef7a5839f26c8294b209b86f033', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867648,8954824d8b52cef7a5839f26c8294b209b86f033,8,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/48/867648/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8954824d8b52cef7a5839f26c8294b209b86f033,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867850,openstack/metalsmith,stable/ussuri,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:24:03.000000000,2022-12-15 19:13:21.000000000,2022-12-15 19:12:20.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:24:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/44e348ff53b9d4ac88d59c245bb0bd053d67bfe0', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867850,44e348ff53b9d4ac88d59c245bb0bd053d67bfe0,8,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/50/867850/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44e348ff53b9d4ac88d59c245bb0bd053d67bfe0,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867647,openstack/metalsmith,stable/xena,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:22:07.000000000,2022-12-15 19:13:21.000000000,2022-12-15 19:12:19.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:22:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9a452c7358a750b6ec1249431f0ff20ba1037229', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867647,9a452c7358a750b6ec1249431f0ff20ba1037229,8,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/47/867647/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a452c7358a750b6ec1249431f0ff20ba1037229,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867646,openstack/metalsmith,stable/yoga,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:21:44.000000000,2022-12-15 19:13:16.000000000,2022-12-15 19:12:17.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:21:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3035757388c376763eec610b87ffffb701189fe5', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867646,3035757388c376763eec610b87ffffb701189fe5,8,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/46/867646/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3035757388c376763eec610b87ffffb701189fe5,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867834,openstack/metalsmith,master,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 17:43:16.000000000,2022-12-15 19:10:09.000000000,2022-12-15 19:09:08.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 17:43:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f1800efeb4f265a6989daf1fb3fda2c17dd51185', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867834,f1800efeb4f265a6989daf1fb3fda2c17dd51185,9,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/34/867834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f1800efeb4f265a6989daf1fb3fda2c17dd51185,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fmetalsmith~867645,openstack/metalsmith,stable/zed,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,MERGED,2022-12-15 18:21:18.000000000,2022-12-15 19:08:50.000000000,2022-12-15 19:07:31.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 18:21:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/0e839b040be57d417e421fd4e6c94425391c808e', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867645,0e839b040be57d417e421fd4e6c94425391c808e,9,2,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/45/867645/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0e839b040be57d417e421fd4e6c94425391c808e,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fopenstack-helm-images~866342,openstack/openstack-helm-images,master,I24801d7b1667935c3c30ab15ccc992e164f16cb0,Install pyOpenSSL via apt in ceph-config-helper and ceph-daemon,ABANDONED,2022-12-01 15:11:26.000000000,2022-12-15 18:59:33.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 15:11:26.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0dbd419ae626d9e5ef1aed0e7e45f3ddf95b8b05', 'message': 'Install pyOpenSSL via apt in ceph-config-helper and ceph-daemon\n\nThere are currently dependency issues related to pyOpenSSL in\nthese two image. This change installs the python3-openssl package\nto address those dependency issues.\n\nChange-Id: I24801d7b1667935c3c30ab15ccc992e164f16cb0\n'}]",0,866342,0dbd419ae626d9e5ef1aed0e7e45f3ddf95b8b05,5,2,1,29974,,,0,"Install pyOpenSSL via apt in ceph-config-helper and ceph-daemon

There are currently dependency issues related to pyOpenSSL in
these two image. This change installs the python3-openssl package
to address those dependency issues.

Change-Id: I24801d7b1667935c3c30ab15ccc992e164f16cb0
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/42/866342/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic']",2,0dbd419ae626d9e5ef1aed0e7e45f3ddf95b8b05,, python3-openssl \,,2,0
openstack%2Fmetalsmith~867852,openstack/metalsmith,stable/stein,I687568e85656d984ee69ac62e751c4fcbea7acaa,Fixes for tox 4.0,ABANDONED,2022-12-15 18:24:50.000000000,2022-12-15 18:53:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-15 18:24:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5c5a2c7a5842b67150074a7ee11c98edca6e62f6', 'message': 'Fixes for tox 4.0\n\nBefore this, the config would not parse with tox >=4.0\n\nChange-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa\n'}]",0,867852,5c5a2c7a5842b67150074a7ee11c98edca6e62f6,4,1,1,10342,,,0,"Fixes for tox 4.0

Before this, the config would not parse with tox >=4.0

Change-Id: I687568e85656d984ee69ac62e751c4fcbea7acaa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/52/867852/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5c5a2c7a5842b67150074a7ee11c98edca6e62f6,,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXYpassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY \ OS_USERNAME OS_PASSWORD OS_PROJECT_NAME OS_AUTH_URL \ OS_USER_DOMAIN_NAME OS_PROJECT_DOMAIN_NAME OS_CLOUD OS_CACERT,22,4
openstack%2Fglance~859359,openstack/glance,master,I8f5214b879818ec5f1a62d369274ad0d67396b9b,Quota configuration: improve example oslo_limit section,MERGED,2022-09-27 01:03:14.000000000,2022-12-15 18:50:43.000000000,2022-12-15 18:48:23.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-27 01:03:14.000000000', 'files': ['doc/source/install/configure-quotas.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/1409cc94b77be1d771801ad783c9690b3b2fca20', 'message': 'Quota configuration: improve example oslo_limit section\n\nThis patch:\n- uses ""glance"" instead of ""MY_SERVICE"";\n- uses the already existing public glance endpoint id rather than\n  ""ENDPOINT_ID"";\n- uses the already existing ""GLANCE_PASS"" rather than introducing\n  ""MY_PASSWORD"".\n\nCloses-Bug: #1990854\nChange-Id: I8f5214b879818ec5f1a62d369274ad0d67396b9b\n'}]",0,859359,1409cc94b77be1d771801ad783c9690b3b2fca20,7,2,1,8122,,,0,"Quota configuration: improve example oslo_limit section

This patch:
- uses ""glance"" instead of ""MY_SERVICE"";
- uses the already existing public glance endpoint id rather than
  ""ENDPOINT_ID"";
- uses the already existing ""GLANCE_PASS"" rather than introducing
  ""MY_PASSWORD"".

Closes-Bug: #1990854
Change-Id: I8f5214b879818ec5f1a62d369274ad0d67396b9b
",git fetch https://review.opendev.org/openstack/glance refs/changes/59/859359/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-quotas.rst'],1,1409cc94b77be1d771801ad783c9690b3b2fca20,bug/1990854, username = glance password = GLANCE_PASS endpoint_id = 340be3625e9b4239a6415d034e98aace Replace ``GLANCE_PASS`` with the password you chose for the ``glance`` user in the Identity service. Make sure that the glance account has reader access to $ openstack role add --user glance --user-domain Default --system all reader, username = MY_SERVICE password = MY_PASSWORD endpoint_id = ENDPOINT_ID Make sure that the MY_SERVICE account has reader access to $ openstack role add --user MY_SERVICE --user-domain Default --system all reader,8,5
openstack%2Fglance~579820,openstack/glance,master,I1d4b0dee3c70454c0d595cb4a69606990b96b35a,vmware does't support VirtualSriovEthernetCard,MERGED,2018-07-03 09:01:28.000000000,2022-12-15 18:49:48.000000000,2022-12-15 18:48:21.000000000,"[{'_account_id': 9171}, {'_account_id': 9172}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 13158}, {'_account_id': 16929}, {'_account_id': 22348}, {'_account_id': 26355}, {'_account_id': 32761}]","[{'number': 1, 'created': '2018-07-03 09:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8e5676365956e80988b5c1fa71f0013986310699', 'message': ""vmware does't support VirtualSriovEthernetCard\n\nCompute-driver: vmwareapi.VMwareVCDriver does not support\nVirtualSriovEthernetCard\n\nChange-Id: I1d4b0dee3c70454c0d595cb4a69606990b96b35a\nPartial-Bug: #1779781\n""}, {'number': 2, 'created': '2022-11-22 16:12:33.000000000', 'files': ['doc/source/admin/useful-image-properties.rst', 'api-ref/source/v2/samples/metadef-properties-list-response.json', 'etc/metadefs/compute-vmware.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/475193b11dcda3b8c82a6bdd3faa54607d2b3272', 'message': ""vmware does't support VirtualSriovEthernetCard\n\nCompute-driver: vmwareapi.VMwareVCDriver does not support\nVirtualSriovEthernetCard\n\nChange-Id: I1d4b0dee3c70454c0d595cb4a69606990b96b35a\nPartial-Bug: #1779781\n""}]",6,579820,475193b11dcda3b8c82a6bdd3faa54607d2b3272,19,9,2,26355,,,0,"vmware does't support VirtualSriovEthernetCard

Compute-driver: vmwareapi.VMwareVCDriver does not support
VirtualSriovEthernetCard

Change-Id: I1d4b0dee3c70454c0d595cb4a69606990b96b35a
Partial-Bug: #1779781
",git fetch https://review.opendev.org/openstack/glance refs/changes/20/579820/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/useful-image-properties.rst', 'api-ref/source/v2/samples/metadef-properties-list-response.json', 'etc/metadefs/compute-vmware.json']",3,8e5676365956e80988b5c1fa71f0013986310699,bug/1779781," ""description"": ""Specifies the model of virtual network interface device to use. The valid options depend on the hypervisor. VMware driver supported options: e1000, e1000e, VirtualE1000, VirtualE1000e, VirtualPCNet32, and VirtualVmxnet."","," ""description"": ""Specifies the model of virtual network interface device to use. The valid options depend on the hypervisor. VMware driver supported options: e1000, e1000e, VirtualE1000, VirtualE1000e, VirtualPCNet32, VirtualSriovEthernetCard, and VirtualVmxnet."", ""VirtualSriovEthernetCard"",",3,6
openstack%2Fpython-openstackclient~816922,openstack/python-openstackclient,master,I53fcb30b36b5aa9e79521f2ca8a98f33ab2fed7c,impl OSC's cmd hypervisor servers set,ABANDONED,2021-11-07 13:14:02.000000000,2022-12-15 18:38:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-07 13:14:02.000000000', 'files': ['openstackclient/compute/v2/hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'doc/source/cli/command-objects/hypervisor.rst', 'setup.cfg', 'doc/source/cli/data/nova.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1749b3b352ff1eec4e8dfe7cf37a9c50fab43e3b', 'message': ""impl OSC's cmd hypervisor servers set\n\nimplmenet new OSC's command\n'hypervisor servers set' to set\nsome properties to servers on hypervisor\n\nstory: 2009311\ntask: 43701\nChange-Id: I53fcb30b36b5aa9e79521f2ca8a98f33ab2fed7c\n""}]",1,816922,1749b3b352ff1eec4e8dfe7cf37a9c50fab43e3b,4,1,1,33956,,,0,"impl OSC's cmd hypervisor servers set

implmenet new OSC's command
'hypervisor servers set' to set
some properties to servers on hypervisor

story: 2009311
task: 43701
Change-Id: I53fcb30b36b5aa9e79521f2ca8a98f33ab2fed7c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/22/816922/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'doc/source/cli/command-objects/hypervisor.rst', 'setup.cfg', 'doc/source/cli/data/nova.csv']",5,1749b3b352ff1eec4e8dfe7cf37a9c50fab43e3b,,"host-meta,hypervisor servers set --property,Set or Delete metadata on all instances of a host.","host-meta,,Set or Delete metadata on all instances of a host.",225,1
openstack%2Fpython-openstackclient~440550,openstack/python-openstackclient,master,Icda272b065a4171586c1d9dd76291a624e92b893,"Remove deprecated ""ip floating (pool)/ip fixed *"" commands",ABANDONED,2017-03-02 13:24:23.000000000,2022-12-15 18:33:48.000000000,,"[{'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8871}, {'_account_id': 18332}, {'_account_id': 21514}, {'_account_id': 22218}]","[{'number': 1, 'created': '2017-03-02 13:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/126bf3d3d86fde66c3ebb3d68a25fca0f79082bc', 'message': 'Remove deprecated ""ip floating *"" commands\n\n""ip floating *"" commands have been deprecated\nfor two cycles, should can be removed in this\ncycle now\n\nChange-Id: Icda272b065a4171586c1d9dd76291a624e92b893\n'}, {'number': 2, 'created': '2017-03-02 15:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/80313f34d496acc87107ac99b9ee71b80780dec3', 'message': 'Remove deprecated ""ip floating *"" commands\n\n""ip floating *"" commands have been deprecated\nfor two cycles, should can be removed in this\ncycle now\n\nChange-Id: Icda272b065a4171586c1d9dd76291a624e92b893\n'}, {'number': 3, 'created': '2017-03-02 19:26:46.000000000', 'files': ['openstackclient/network/v2/floating_ip_pool.py', 'openstackclient/network/v2/floating_ip.py', 'openstackclient/compute/v2/fixedip.py', 'openstackclient/compute/v2/floatingip.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bf53bc8e2ba76b3090f88b10cc83d055657b4b8f', 'message': 'Remove deprecated ""ip floating (pool)/ip fixed *"" commands\n\n""ip floating *"", ""ip floating pool *"" and ""fixed ip *""\ncommands have been deprecated for two cycles,\nshould can be removed in this cycle now\n\nChange-Id: Icda272b065a4171586c1d9dd76291a624e92b893\n'}]",0,440550,bf53bc8e2ba76b3090f88b10cc83d055657b4b8f,15,6,3,21514,,,0,"Remove deprecated ""ip floating (pool)/ip fixed *"" commands

""ip floating *"", ""ip floating pool *"" and ""fixed ip *""
commands have been deprecated for two cycles,
should can be removed in this cycle now

Change-Id: Icda272b065a4171586c1d9dd76291a624e92b893
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/50/440550/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/floating_ip.py', 'openstackclient/compute/v2/floatingip.py', 'setup.cfg']",3,126bf3d3d86fde66c3ebb3d68a25fca0f79082bc,remove-deprecated-commands,, ip_floating_add = openstackclient.compute.v2.floatingip:AddFloatingIP ip_floating_remove = openstackclient.compute.v2.floatingip:RemoveFloatingIP ip_floating_create = openstackclient.network.v2.floating_ip:CreateIPFloating ip_floating_delete = openstackclient.network.v2.floating_ip:DeleteIPFloating ip_floating_list = openstackclient.network.v2.floating_ip:ListIPFloating ip_floating_show = openstackclient.network.v2.floating_ip:ShowIPFloating ,0,201
openstack%2Fcharm-masakari-monitors~867844,openstack/charm-masakari-monitors,master,Iee56d4db2ff26f18f71f0bcc1f6dddaf042434df,Pin tox to < 4.0.0,ABANDONED,2022-12-15 18:22:13.000000000,2022-12-15 18:23:40.000000000,,[],"[{'number': 1, 'created': '2022-12-15 18:22:13.000000000', 'files': ['src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/f8d5fc490ce7cd1ad7c73de4e3a09a4286715e9b', 'message': 'Pin tox to < 4.0.0\n\nTox 4.0.0 was released last week and it has several breaking\nchanges. We are planning to move forward only on the master\ncharm branches. We pin to < 4.0.0 here.\n\nChange-Id: Iee56d4db2ff26f18f71f0bcc1f6dddaf042434df\n'}]",0,867844,f8d5fc490ce7cd1ad7c73de4e3a09a4286715e9b,2,0,1,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was released last week and it has several breaking
changes. We are planning to move forward only on the master
charm branches. We pin to < 4.0.0 here.

Change-Id: Iee56d4db2ff26f18f71f0bcc1f6dddaf042434df
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/44/867844/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",3,f8d5fc490ce7cd1ad7c73de4e3a09a4286715e9b,pin-tox,requires = tox < 4.0.0,,4,1
openstack%2Fglance~866446,openstack/glance,master,I36b5ffa31c7ec429d06c64a44d567bbae8edbc99,docs: Add note about introduction of per-tenant quotas,MERGED,2022-12-02 11:41:03.000000000,2022-12-15 18:06:25.000000000,2022-12-15 18:05:13.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-02 11:41:03.000000000', 'files': ['doc/source/admin/quotas.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/ef835a3cf2122f5e5cd5a56593647add4f29936f', 'message': 'docs: Add note about introduction of per-tenant quotas\n\nThis is only a thing since Xena. Make that obvious to the reader.\n\nChange-Id: I36b5ffa31c7ec429d06c64a44d567bbae8edbc99\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,866446,ef835a3cf2122f5e5cd5a56593647add4f29936f,8,3,1,15334,,,0,"docs: Add note about introduction of per-tenant quotas

This is only a thing since Xena. Make that obvious to the reader.

Change-Id: I36b5ffa31c7ec429d06c64a44d567bbae8edbc99
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/866446/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/quotas.rst'],1,ef835a3cf2122f5e5cd5a56593647add4f29936f,trivial,".. versionadded:: 23.0.0 (Xena) This functionality was first introduced in the 23.0.0 (Xena) release. Prior to this, only global resource limits were supported. ",,5,0
openstack%2Fpython-openstackclient~862985,openstack/python-openstackclient,master,I40dc95ee47e7c33ebf596f8ad437228b4bb0ab33,Use the SDK in server migration list,MERGED,2022-10-30 22:28:47.000000000,2022-12-15 18:06:12.000000000,2022-12-15 18:05:11.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-30 22:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c9582fbf520d1eb2575b883d12455540c66eb1ae', 'message': 'Use the SDK in server migration list\n\nUpdate server migration list to use the OpenStack SDK instead of\ndirectly using the nova interface.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/862664\nChange-Id: I40dc95ee47e7c33ebf596f8ad437228b4bb0ab33\n'}, {'number': 2, 'created': '2022-11-20 16:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/89a6666d76f0cb66e780947a75ea7d4c661c346b', 'message': 'Use the SDK in server migration list\n\nUpdate server migration list to use the OpenStack SDK instead of\ndirectly using the nova interface.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/862664\nChange-Id: I40dc95ee47e7c33ebf596f8ad437228b4bb0ab33\n'}, {'number': 3, 'created': '2022-11-30 12:18:44.000000000', 'files': ['requirements.txt', 'openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/compute/v2/server_migration.py', 'openstackclient/tests/functional/compute/v2/test_server.py', 'releasenotes/notes/switch-server-migration-to-sdk-4e4530f787f90fd2.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/86c54701348d519139c52722197d262c35f7ea8e', 'message': 'Use the SDK in server migration list\n\nUpdate server migration list to use the OpenStack SDK instead of\ndirectly using the nova interface.\n\nChange-Id: I40dc95ee47e7c33ebf596f8ad437228b4bb0ab33\n'}]",3,862985,86c54701348d519139c52722197d262c35f7ea8e,17,2,3,35355,,,0,"Use the SDK in server migration list

Update server migration list to use the OpenStack SDK instead of
directly using the nova interface.

Change-Id: I40dc95ee47e7c33ebf596f8ad437228b4bb0ab33
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/85/862985/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server_migration.py', 'openstackclient/compute/v2/server_migration.py']",2,c9582fbf520d1eb2575b883d12455540c66eb1ae,nova-gaps,"from openstack import utils as sdk_utils 'dest_host', 'status', 'server_id', 'old_flavor_id', 'new_flavor_id', 'created_at', 'updated_at', if sdk_utils.supports_microversion(compute_client, ""2.59""): if sdk_utils.supports_microversion(compute_client, ""2.23""): if sdk_utils.supports_microversion(compute_client, ""2.80""): compute_client = self.app.client_manager.sdk_connection.compute search_opts = {} if parsed_args.host is not None: search_opts['host'] = parsed_args.host if parsed_args.status is not None: search_opts['status'] = parsed_args.status server = compute_client.find_server(parsed_args.server) if server is None: msg = _('Unable to find server: %s') % parsed_args.server raise exceptions.CommandError(msg) search_opts['instance_uuid'] = server.id if not sdk_utils.supports_microversion(compute_client, ""2.59""): if not sdk_utils.supports_microversion(compute_client, ""2.59""): search_opts['paginated'] = False if not sdk_utils.supports_microversion(compute_client, ""2.59""): if not sdk_utils.supports_microversion(compute_client, ""2.66""): if not sdk_utils.supports_microversion(compute_client, ""2.80""): if not sdk_utils.supports_microversion(compute_client, ""2.80""): migrations = list(compute_client.migrations(**search_opts))"," 'dest_host', 'status', 'instance_uuid', 'old_instance_type_id', 'new_instance_type_id', 'created_at', 'updated_at', if compute_client.api_version >= api_versions.APIVersion(""2.59""): if compute_client.api_version >= api_versions.APIVersion(""2.23""): if compute_client.api_version >= api_versions.APIVersion(""2.80""): compute_client = self.app.client_manager.compute search_opts = { 'host': parsed_args.host, 'status': parsed_args.status, } search_opts['instance_uuid'] = utils.find_resource( compute_client.servers, parsed_args.server, ).id if compute_client.api_version < api_versions.APIVersion('2.59'): if compute_client.api_version < api_versions.APIVersion('2.59'): if compute_client.api_version < api_versions.APIVersion('2.59'): if compute_client.api_version < api_versions.APIVersion('2.66'): if compute_client.api_version < api_versions.APIVersion('2.80'): if compute_client.api_version < api_versions.APIVersion('2.80'): migrations = compute_client.migrations.list(**search_opts)",85,83
openstack%2Fironic~867830,openstack/ironic,master,I84202ac10e9195647162f0b5737ebb610ef1ef93,Fixes for tox 4.0,MERGED,2022-12-15 17:31:48.000000000,2022-12-15 18:03:30.000000000,2022-12-15 18:02:19.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-15 17:31:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef772c2c1e84769a982c54ec8832e2a06b8f1911', 'message': 'Fixes for tox 4.0\n\nFormatting changes in config file required for tox 4.0.\n\nChange-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93\n'}]",1,867830,ef772c2c1e84769a982c54ec8832e2a06b8f1911,8,2,1,10342,,,0,"Fixes for tox 4.0

Formatting changes in config file required for tox 4.0.

Change-Id: I84202ac10e9195647162f0b5737ebb610ef1ef93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/867830/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef772c2c1e84769a982c54ec8832e2a06b8f1911,, PYTHONDONTWRITEBYTECODE=1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY, PYTHONDONTWRITEBYTECODE = 1passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY,7,2
openstack%2Fpython-openstackclient~864121,openstack/python-openstackclient,master,I01ffbd82662abbc1c2f56eb8f1e700f392bc063c,Add baremetal agent type list filtering,MERGED,2022-11-09 14:35:45.000000000,2022-12-15 17:48:16.000000000,2022-12-15 17:45:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2022-11-09 14:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2b53dc505137d2b9a80e681cb0bf42c5c885b273', 'message': ""Add baremetal agent type list filtering\n\nThis change adds and ability to filter out the baremetal nodes in\n'network agent list' command.\n\nRelated-Story: 2008590\nRelated-Bug: #1658964\nChange-Id: I01ffbd82662abbc1c2f56eb8f1e700f392bc063c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2022-11-09 14:38:52.000000000', 'files': ['openstackclient/network/v2/network_agent.py', 'releasenotes/notes/add-baremetal-agent-type-7c46365e8d457ac8.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b7d01833d02260006e6d4c6e0a065748ecc8b913', 'message': ""Add baremetal agent type list filtering\n\nThis change adds and ability to filter out the baremetal nodes in\n'network agent list' command.\n\nRelated-Story: 2008590\nRelated-Task: 41746\nRelated-Bug: #1658964\nChange-Id: I01ffbd82662abbc1c2f56eb8f1e700f392bc063c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",2,864121,b7d01833d02260006e6d4c6e0a065748ecc8b913,10,3,2,14200,,,0,"Add baremetal agent type list filtering

This change adds and ability to filter out the baremetal nodes in
'network agent list' command.

Related-Story: 2008590
Related-Task: 41746
Related-Bug: #1658964
Change-Id: I01ffbd82662abbc1c2f56eb8f1e700f392bc063c
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/21/864121/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/network_agent.py', 'releasenotes/notes/add-baremetal-agent-type-7c46365e8d457ac8.yaml']",2,2b53dc505137d2b9a80e681cb0bf42c5c885b273,add-baremetal-agent-type,--- features: - | Add ``baremetal`` agent type to ``--agent-type`` option for ``network agent list`` command. ,,9,3
openstack%2Fcinderlib~867652,openstack/cinderlib,master,I9ddf1195d180520267ab7140d24996508f029f56,Add Zed release note,MERGED,2022-12-14 13:08:49.000000000,2022-12-15 17:48:05.000000000,2022-12-15 17:45:15.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-14 13:08:49.000000000', 'files': ['releasenotes/notes/zed-release-7b57944880235392.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/3356e71cb9d13da1d59b6bcd5d63668965623301', 'message': 'Add Zed release note\n\nChange-Id: I9ddf1195d180520267ab7140d24996508f029f56\n'}]",3,867652,3356e71cb9d13da1d59b6bcd5d63668965623301,9,4,1,5314,,,0,"Add Zed release note

Change-Id: I9ddf1195d180520267ab7140d24996508f029f56
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/52/867652/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/zed-release-7b57944880235392.yaml'],1,3356e71cb9d13da1d59b6bcd5d63668965623301,zed-relnote,--- prelude: > Welcome to the Zed release of cinderlib. upgrade: - | This release drops support for Python 3.6. ,,7,0
openstack%2Fpython-openstackclient~862513,openstack/python-openstackclient,master,I9c0bd09c50dac568ca1980a6b53a6c544b85c2aa,Fix server list error with --long and -c options,MERGED,2022-10-24 17:23:40.000000000,2022-12-15 17:47:26.000000000,2022-12-15 17:45:17.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-24 17:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/42a3e7c14cb1783d01e60264ac872bdf1df7d1f9', 'message': 'Fix server list error with --long and -c options\n\nUsing options --long and -c and specifying same columns added\nby --long option, it passes duplicated column names to prettytable and\nreport the following error:\n\nField names must be unique!\n\nThis patch removes duplicated columns.\n\nChange-Id: I9c0bd09c50dac568ca1980a6b53a6c544b85c2aa\n'}, {'number': 2, 'created': '2022-11-23 19:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d84d185b71a29421d2d0a6a820e5284b4f522fbb', 'message': 'Fix server list error with --long and -c options\n\nUsing options --long and -c and specifying same columns added\nby --long option, it passes duplicated column names to prettytable and\nreport the following error:\n\nField names must be unique!\n\nThis patch removes duplicated columns.\n\nChange-Id: I9c0bd09c50dac568ca1980a6b53a6c544b85c2aa\n'}, {'number': 3, 'created': '2022-11-29 20:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/15d6d2acfbfa074f9824174bd4a9346ba4a11c4d', 'message': 'Fix server list error with --long and -c options\n\nUsing options --long and -c and specifying same columns added\nby --long option, it passes duplicated column names to prettytable and\nreport the following error:\n\nField names must be unique!\n\nThis patch removes duplicated columns.\n\nChange-Id: I9c0bd09c50dac568ca1980a6b53a6c544b85c2aa\n'}, {'number': 4, 'created': '2022-12-15 13:39:55.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/794334ec2405bcfe086b3a56c796a9b6c2f7c685', 'message': 'Fix server list error with --long and -c options\n\nUsing options --long and -c and specifying same columns added\nby --long option, it passes duplicated column names to prettytable and\nreport the following error:\n\nField names must be unique!\n\nThis patch removes duplicated columns.\n\nChange-Id: I9c0bd09c50dac568ca1980a6b53a6c544b85c2aa\n'}]",18,862513,794334ec2405bcfe086b3a56c796a9b6c2f7c685,31,4,4,31335,,,0,"Fix server list error with --long and -c options

Using options --long and -c and specifying same columns added
by --long option, it passes duplicated column names to prettytable and
report the following error:

Field names must be unique!

This patch removes duplicated columns.

Change-Id: I9c0bd09c50dac568ca1980a6b53a6c544b85c2aa
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/13/862513/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,42a3e7c14cb1783d01e60264ac872bdf1df7d1f9,bug_server_list,import collections # convert back to tuple and remove duplicates column_headers = tuple(collections.OrderedDict.fromkeys( column_headers)) columns = tuple(collections.OrderedDict.fromkeys(columns)), # convert back to tuple column_headers = tuple(column_headers) columns = tuple(columns),6,3
openstack%2Fcinderlib~867132,openstack/cinderlib,master,I4981ad558195895341c91fa37803713c8c0ab684,Fix cinderlib tests,MERGED,2022-12-09 18:04:16.000000000,2022-12-15 17:47:12.000000000,2022-12-15 17:45:05.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-12-09 18:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/47b40e50d2386b7f601c9b83a37b2dc32db3b326', 'message': 'WIP: Fix cinderlib tests\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\n'}, {'number': 2, 'created': '2022-12-12 22:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a9c8f42ceeaf6d40a958529ee483a6a1a8590096', 'message': 'WIP: Fix cinderlib tests\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\n'}, {'number': 3, 'created': '2022-12-13 23:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/97c4ce4e359eb528484b643269769e03a297c9d5', 'message': 'WIP: Fix cinderlib tests\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\nCloses-bug: #1996738\n'}, {'number': 4, 'created': '2022-12-13 23:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/d28b7b37c623eaa12b15ae6718d4d69adcecccd2', 'message': 'Fix cinderlib tests\n\nThe persistence tests were broken when run with zed cinder.\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\nCloses-bug: #1996738\n'}, {'number': 5, 'created': '2022-12-14 01:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/0e91f3fdf2de4a90cd64f86430087922ca4d3b97', 'message': 'Fix cinderlib tests\n\nThe persistence tests were broken when run with zed cinder.\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\nCloses-bug: #1996738\n'}, {'number': 6, 'created': '2022-12-14 01:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1e7fa13ea781a8be99a3ccfde998d5f7a33068ac', 'message': 'Fix cinderlib tests\n\nThe persistence tests were broken when run with zed cinder.\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\nCloses-bug: #1996738\n'}, {'number': 7, 'created': '2022-12-14 04:25:30.000000000', 'files': ['cinderlib/persistence/dbms.py', 'cinderlib/tests/unit/persistence/test_dbms.py', 'cinderlib/tests/unit/persistence/helper.py', 'cinderlib/tests/unit/persistence/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/728b933bf2b0f74953ac7f2be0214d2a13bb7acd', 'message': 'Fix cinderlib tests\n\nThe persistence tests were broken when run with zed cinder.\n\nCo-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I4981ad558195895341c91fa37803713c8c0ab684\nCloses-bug: #1996738\n'}]",7,867132,728b933bf2b0f74953ac7f2be0214d2a13bb7acd,22,4,7,27615,,,0,"Fix cinderlib tests

The persistence tests were broken when run with zed cinder.

Co-authored-by: Rajat Dhasmana <rajatdhasmana@gmail.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I4981ad558195895341c91fa37803713c8c0ab684
Closes-bug: #1996738
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/32/867132/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/persistence/dbms.py', 'cinderlib/tests/unit/persistence/test_dbms.py', 'cinderlib/tests/unit/persistence/helper.py']",3,47b40e50d2386b7f601c9b83a37b2dc32db3b326,importlib-res," # db_instance is a property of DBMS plugin if hasattr(self.persistence, 'db_instance'): with api.main_context_manager.writer.using(self.context): self.persistence.set_volume(vol) else: self.persistence.set_volume(vol) # db_instance is a property of DBMS plugin if hasattr(self.persistence, 'db_instance'): with api.main_context_manager.writer.using(self.context): self.persistence.set_key_value(kv) else: self.persistence.set_key_value(kv)", self.persistence.set_volume(vol) self.persistence.set_key_value(kv),131,22
openstack%2Fpython-openstackclient~863525,openstack/python-openstackclient,master,I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e,Add image metadef namespace command,MERGED,2022-11-03 14:10:59.000000000,2022-12-15 17:45:31.000000000,2022-12-15 17:45:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-03 14:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0466a0c935174fb71224badc3fa9f744ea5a1b4c', 'message': 'title: Add image metadef namespace command\n\nadd image metadef namespace create, delete, set, show command\n\nChange-Id: I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e\n'}, {'number': 2, 'created': '2022-11-15 08:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/224bad9c7fb0c8ac47e056d77691e46715003fa7', 'message': 'title: Add image metadef namespace command\n\nadd image metadef namespace create, delete, set, show command\n\nChange-Id: I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e\n'}, {'number': 3, 'created': '2022-11-23 06:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/933416ba25539ed3734f4703d3aeff87e61b93d1', 'message': 'title: Add image metadef namespace command\n\nadd image metadef namespace create, delete, set, show command\n\nChange-Id: I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e\n'}, {'number': 4, 'created': '2022-11-23 06:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9f695c9a4f901de9022e31aff94f0f1652247565', 'message': 'Add image metadef namespace command\n\nadd image metadef namespace create, delete, set, show command\n\nChange-Id: I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e\n'}, {'number': 5, 'created': '2022-12-07 12:37:19.000000000', 'files': ['openstackclient/tests/unit/image/v2/test_metadef_namespaces.py', 'openstackclient/tests/unit/image/v2/fakes.py', 'releasenotes/notes/image-metadef-namespace-b940206bece64f97.yaml', 'openstackclient/image/v2/metadef_namespaces.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/38f972fa637871de8ab2ad4a70780faef6833198', 'message': 'Add image metadef namespace command\n\nadd image metadef namespace create, delete, set, show command\n\nChange-Id: I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e\n'}]",18,863525,38f972fa637871de8ab2ad4a70780faef6833198,17,3,5,35069,,,0,"Add image metadef namespace command

add image metadef namespace create, delete, set, show command

Change-Id: I35b1cb8ff2b1735ae3a1b405d8f2071fe449ea6e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/25/863525/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/test_metadef_namespaces.py', 'openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/image/v2/metadef_namespaces.py', 'setup.cfg']",4,0466a0c935174fb71224badc3fa9f744ea5a1b4c,, image_metadef_namespace_create = openstackclient.image.v2.metadef_namespaces:CreateMetadefNameSpace image_metadef_namespace_delete = openstackclient.image.v2.metadef_namespaces:DeleteMetadefNameSpace image_metadef_namespace_set = openstackclient.image.v2.metadef_namespaces:SetMetadefNameSpace image_metadef_namespace_show = openstackclient.image.v2.metadef_namespaces:ShowMetadefNameSpace,,408,3
