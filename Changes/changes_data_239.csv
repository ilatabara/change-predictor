id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla~stable%2Ftrain~I3d9547237ffa3ee02c306376f0e553fce5472e57,openstack/kolla,stable/train,I3d9547237ffa3ee02c306376f0e553fce5472e57,Replace cradox with rados,MERGED,2020-09-07 08:24:40.000000000,2020-09-08 09:38:53.000000000,2020-09-08 09:37:17.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-07 08:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/06acc7a033c65fef38a821d177664acc36587387', 'message': 'Replace cradox with rados\n\nGnocchi supports both, but cradox is not actively maintained.\n\nChange-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57\n(cherry picked from commit 934d0b21f8f709f44f795b6629ddf8cfd65f7be8)\n(cherry picked from commit 9bbc7531e249032ad6f5647863db21d88322f7f2)\n'}, {'number': 2, 'created': '2020-09-07 09:18:19.000000000', 'files': ['docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5826e44d7b0f00eeda9dc3ccb68f2558a61a49f6', 'message': 'Replace cradox with rados\n\nGnocchi supports both, but cradox is not actively maintained.\n\nChange-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57\n(cherry picked from commit 934d0b21f8f709f44f795b6629ddf8cfd65f7be8)\n(cherry picked from commit 9bbc7531e249032ad6f5647863db21d88322f7f2)\n'}]",0,750136,5826e44d7b0f00eeda9dc3ccb68f2558a61a49f6,12,4,2,4264,,,0,"Replace cradox with rados

Gnocchi supports both, but cradox is not actively maintained.

Change-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57
(cherry picked from commit 934d0b21f8f709f44f795b6629ddf8cfd65f7be8)
(cherry picked from commit 9bbc7531e249032ad6f5647863db21d88322f7f2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/750136/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/gnocchi/gnocchi-base/Dockerfile.j2'],1,06acc7a033c65fef38a821d177664acc36587387,," 'python3-rados',"," 'python3-cradox',",1,1
openstack%2Fkolla~stable%2Fussuri~I3d9547237ffa3ee02c306376f0e553fce5472e57,openstack/kolla,stable/ussuri,I3d9547237ffa3ee02c306376f0e553fce5472e57,Replace cradox with rados,MERGED,2020-09-07 08:24:05.000000000,2020-09-08 09:38:47.000000000,2020-09-08 09:37:15.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-09-07 08:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bbc7531e249032ad6f5647863db21d88322f7f2', 'message': 'Replace cradox with rados\n\nGnocchi supports both, but cradox is not actively maintained.\n\nChange-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57\n(cherry picked from commit 934d0b21f8f709f44f795b6629ddf8cfd65f7be8)\n'}, {'number': 2, 'created': '2020-09-07 09:20:19.000000000', 'files': ['docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef6cfb419a1842c8324b3e21aaa18cdbc2dd2a31', 'message': 'Replace cradox with rados\n\nGnocchi supports both, but cradox is not actively maintained.\n\nChange-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57\n(cherry picked from commit 934d0b21f8f709f44f795b6629ddf8cfd65f7be8)\n'}]",0,750135,ef6cfb419a1842c8324b3e21aaa18cdbc2dd2a31,15,5,2,4264,,,0,"Replace cradox with rados

Gnocchi supports both, but cradox is not actively maintained.

Change-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57
(cherry picked from commit 934d0b21f8f709f44f795b6629ddf8cfd65f7be8)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/750135/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/gnocchi/gnocchi-base/Dockerfile.j2'],1,9bbc7531e249032ad6f5647863db21d88322f7f2,," 'python3-rados',"," 'python3-cradox',",1,1
openstack%2Fsushy~master~Ifcadb664016ea47619ae19c1d1fd0b25efd40827,openstack/sushy,master,Ifcadb664016ea47619ae19c1d1fd0b25efd40827,Add Python3 wallaby unit tests,MERGED,2020-09-07 12:26:44.000000000,2020-09-08 09:38:43.000000000,2020-09-08 09:34:17.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 12:26:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5c1fdc162279afdf8d5786846124ac1bf3f844fb', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ifcadb664016ea47619ae19c1d1fd0b25efd40827\n'}]",0,750160,5c1fdc162279afdf8d5786846124ac1bf3f844fb,12,4,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ifcadb664016ea47619ae19c1d1fd0b25efd40827
",git fetch https://review.opendev.org/openstack/sushy refs/changes/60/750160/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5c1fdc162279afdf8d5786846124ac1bf3f844fb,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I0f06d93183b566e9a3dc500dcbd00db39f8f090d,openstack/python-tripleoclient,stable/train,I0f06d93183b566e9a3dc500dcbd00db39f8f090d,Fix extra_env_files option and type in format string,MERGED,2020-09-07 19:36:22.000000000,2020-09-08 09:27:03.000000000,2020-09-08 09:21:21.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-09-07 19:36:22.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd22a7fb1db57aa8fd4ebdbe827ca3a924683062', 'message': 'Fix extra_env_files option and type in format string\n\nextra_env_files option was broken since we refactor and\nuse the new VF.\nAlso a type in the format string is now fixed\n\nChange-Id: I0f06d93183b566e9a3dc500dcbd00db39f8f090d\n(cherry picked from commit 7b75187afbbd19d51628e31e022a0fd6cedace49)\n'}]",0,750209,bd22a7fb1db57aa8fd4ebdbe827ca3a924683062,7,5,1,16515,,,0,"Fix extra_env_files option and type in format string

extra_env_files option was broken since we refactor and
use the new VF.
Also a type in the format string is now fixed

Change-Id: I0f06d93183b566e9a3dc500dcbd00db39f8f090d
(cherry picked from commit 7b75187afbbd19d51628e31e022a0fd6cedace49)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/750209/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,bd22a7fb1db57aa8fd4ebdbe827ca3a924683062,validator/env/files-stable/ussuri-stable/train,"import yaml print(""The file {} has been created successfully"".format( parsed_args.download)) extra_vars = parsed_args.extra_vars if parsed_args.extra_vars_file: with open(parsed_args.extra_vars_file, 'r') as env_file: if '.json' in parsed_args.extra_vars_file: extra_vars.update(json.load(env_file)) else: extra_vars.update(yaml.load(env_file)) extra_vars=extra_vars,"," print(""The file {} has been created successfully"").format( parsed_args.download) extra_vars=parsed_args.extra_vars,",11,3
openstack%2Fsolum-dashboard~master~I3db9f534ac2a389c500ede9dad49d6d798ba22e0,openstack/solum-dashboard,master,I3db9f534ac2a389c500ede9dad49d6d798ba22e0,Imported Translations from Zanata,MERGED,2020-09-08 08:41:47.000000000,2020-09-08 09:21:32.000000000,2020-09-08 09:21:32.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-08 08:41:47.000000000', 'files': ['solumdashboard/locale/de/LC_MESSAGES/django.po', 'solumdashboard/locale/en_GB/LC_MESSAGES/django.po', 'solumdashboard/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/9f7ad91e05da4ae6285db05df8e5353e92e5e1ae', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3db9f534ac2a389c500ede9dad49d6d798ba22e0\n'}]",0,750293,9f7ad91e05da4ae6285db05df8e5353e92e5e1ae,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3db9f534ac2a389c500ede9dad49d6d798ba22e0
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/93/750293/1 && git format-patch -1 --stdout FETCH_HEAD,"['solumdashboard/locale/de/LC_MESSAGES/django.po', 'solumdashboard/locale/en_GB/LC_MESSAGES/django.po', 'solumdashboard/locale/id/LC_MESSAGES/django.po']",3,9f7ad91e05da4ae6285db05df8e5353e92e5e1ae,zanata/translations,"""POT-Creation-Date: 2020-09-08 06:04+0000\n""""PO-Revision-Date: 2018-05-13 03:53+0000\n""msgid ""Unable to create languagepack."" msgstr ""Tidak dapat membuat languagepack."" msgid ""Unable to retrieve application details."" msgstr ""Tidak dapat mengambil detail aplikasi."" msgid ""Unable to retrieve apps."" msgstr ""Tidak dapat mengambil aplikasi."" msgid ""Unable to retrieve languagepack details."" msgstr ""Tidak dapat mengambil detail languagepack."" msgid ""Unable to retrieve languagepacks."" msgstr ""Tidak dapat mengambil languagepack.""","# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-09-09 09:03+0000\n""""PO-Revision-Date: 2019-09-09 03:53+0000\n""#, python-format msgid ""Unable to create application: %s"" msgstr ""Tidak dapat membuat aplikasi: %s"" #, python-format msgid ""Unable to create languagepack: %s"" msgstr ""Tidak dapat membuat paket bahasa (languagepack): %s"" #, python-format msgid ""Unable to retrieve application details: %s"" msgstr ""Tidak dapat mengambil detail aplikasi: %s"" #, python-format msgid ""Unable to retrieve apps: %s"" msgstr ""Tidak dapat mengambil aplikasi: %s"" #, python-format msgid ""Unable to retrieve assemblies: %s"" msgstr ""Tidak dapat mengambil assemblies: %s"" #, python-format msgid ""Unable to retrieve languagepack details: %s"" msgstr ""Tidak dapat mengambil detail languagepack: %s"" #, python-format msgid ""Unable to retrieve languagepacks: %s"" msgstr ""Tidak dapat mengambil languagepacks: %s""",37,79
openstack%2Ftripleo-ci~master~I25e55c3320bc72f731512f7e6444ef61acce2a70,openstack/tripleo-ci,master,I25e55c3320bc72f731512f7e6444ef61acce2a70,Fix centos-8 standalone-upgrade-ussuri for docker-ha train,MERGED,2020-07-22 13:08:57.000000000,2020-09-08 09:21:23.000000000,2020-09-08 09:21:22.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-07-22 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7715f81b333eae00083169d1f654eb2e0b6b114a', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bug below. Tracked by tripleo-ci at [1].\n\nRelated-Bug: 1887159\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 2, 'created': '2020-07-27 15:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ec6e4cabaef47b4d84516a3f4c751fb83732735', 'message': 'WIP Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bug below. Tracked by tripleo-ci at [1].\n\nRelated-Bug: 1887159\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 3, 'created': '2020-07-27 15:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2590584b20e47ac4a42962348863169e20eea76a', 'message': 'WIP Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bug below. Tracked by tripleo-ci at [1].\n\nRelated-Bug: 1887159\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 4, 'created': '2020-07-28 11:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f0d294e94fba7c38e1801c27546e99264845d71', 'message': 'WIP Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bug below. Tracked by tripleo-ci at [1].\n\nRelated-Bug: 1887159\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 5, 'created': '2020-07-29 10:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f42ce119d5572f11355ceb03502e21bf6cdf474', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 6, 'created': '2020-08-03 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c0f35e8b899ab9ee6578e673cf5ad66ec714f546', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 7, 'created': '2020-08-03 19:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1393868c227784af883aabde615055acaa480888', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nDepends-On:  https://review.opendev.org/#/c/744529/\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 8, 'created': '2020-08-05 10:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4336cebdb01ee3b5ae46213d6205508177eb2ec3', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nDepends-On:  https://review.opendev.org/744676\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 9, 'created': '2020-08-11 15:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/92310f1428c77461be949374adc353e504f130cd', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nDepends-On:  https://review.opendev.org/744676\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 10, 'created': '2020-08-19 16:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50a3c8b0552cc1f13ca04447aed368c2eac3baed', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nDepends-On:  https://review.opendev.org/744676\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 11, 'created': '2020-09-01 09:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61a466e4bb620cdce4441229ce3fa3a3589aae83', 'message': 'Make centos-8 standalone-upgrade-ussuri voting and gating\n\nThis makes the Centos8 standalone upgrade ussuri job vote and\nthe job is added to the gate: layout. This is blocked on the\nrelated-bugs below. Tracked by tripleo-ci at [1] & test jobs\nrunning at [2].\n\nDepends-On:  https://review.opendev.org/744676\nRelated-Bug: 1887159\nRelated-Bug: 1889395\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n[2] https://review.opendev.org/#/c/739457/\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 12, 'created': '2020-09-02 11:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9d3cd68147832239c3a76131f108c6f092b988e7', 'message': 'Fix centos-8 standalone-upgrade-ussuri for docker-ha train\n\nEnsure we are deploying train with ha enabled per related\nbug otherwise upgrading to ussuri fails. The depends-on\nupdates for os-tempest and reduces tests.\n\nRelated-Bug: 1887159\nDepends-On: https://review.opendev.org/749486\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}, {'number': 13, 'created': '2020-09-04 08:42:08.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/42bbdf1bd8d1dfc4e60327cb84fa0d52ecf4bd68', 'message': 'Fix centos-8 standalone-upgrade-ussuri for docker-ha train\n\nEnsure we are deploying train with ha enabled per related\nbug otherwise upgrading to ussuri fails. The depends-on\nupdates for os-tempest and reduces tests.\n\nRelated-Bug: 1887159\nDepends-On: https://review.opendev.org/749486\nChange-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70\n'}]",6,742418,42bbdf1bd8d1dfc4e60327cb84fa0d52ecf4bd68,66,11,13,8449,,,0,"Fix centos-8 standalone-upgrade-ussuri for docker-ha train

Ensure we are deploying train with ha enabled per related
bug otherwise upgrading to ussuri fails. The depends-on
updates for os-tempest and reduces tests.

Related-Bug: 1887159
Depends-On: https://review.opendev.org/749486
Change-Id: I25e55c3320bc72f731512f7e6444ef61acce2a70
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/742418/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,7715f81b333eae00083169d1f654eb2e0b6b114a,centos8_upgrades_jobs, voting: true - tripleo-ci-centos-8-standalone-upgrade-ussuri, voting: false,2,1
openstack%2Fswift~master~Ie3b62b89f891f4403533f6e05057d9119d7d4522,openstack/swift,master,Ie3b62b89f891f4403533f6e05057d9119d7d4522,Check timestamps received and sent during container replication,NEW,2020-07-06 10:06:12.000000000,2020-09-08 09:07:01.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2020-07-06 10:06:12.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'test/unit/common/test_db.py', 'swift/container/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d8d430b587de9a1a071e36277bc1cb21af32851', 'message': ""Check timestamps received and sent during container replication\n\nOn the receiver, check that timestamps are valid, else abort\nreplication.\nOn the sender, check that timestamps are valid before making the http\nrequest, and quarantine the DB is they're not.\n\nChange-Id: Ie3b62b89f891f4403533f6e05057d9119d7d4522\n""}]",5,739450,3d8d430b587de9a1a071e36277bc1cb21af32851,5,3,1,25251,,,0,"Check timestamps received and sent during container replication

On the receiver, check that timestamps are valid, else abort
replication.
On the sender, check that timestamps are valid before making the http
request, and quarantine the DB is they're not.

Change-Id: Ie3b62b89f891f4403533f6e05057d9119d7d4522
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/739450/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'test/unit/common/test_db.py', 'swift/container/replicator.py']",5,3d8d430b587de9a1a071e36277bc1cb21af32851,dev/alecuyer/container-repli-checks, try: broker.merge_timestamps(*(remote_info[key] for key in sync_timestamps)) except ValueError: return False, broker.merge_timestamps(*(remote_info[key] for key in sync_timestamps)),78,5
openstack%2Fkolla-ansible~master~I3e82c8ec112e53f907e89fea0c8c849072dcf957,openstack/kolla-ansible,master,I3e82c8ec112e53f907e89fea0c8c849072dcf957,Add support for encrypting Ironic API,MERGED,2020-08-17 21:28:47.000000000,2020-09-08 08:55:51.000000000,2020-09-08 08:50:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30810}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-17 21:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66c01424f3f9031290f49d8ef666f72fb697b542', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 2, 'created': '2020-08-18 00:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01f873f63e40a65aabdaaffbe9f8e2764c2f2ee7', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 3, 'created': '2020-08-24 07:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b2421e5ea6c98b9aae04c60b9b8c20025d67ebe', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 4, 'created': '2020-08-24 07:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8c5384725785646299a35b2db4f7c4960ba68f4', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 5, 'created': '2020-08-24 07:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db5e8f9cad85a470554a93b15c40e2a3fabdbd68', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 6, 'created': '2020-08-24 07:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40dc197aa8adec4d5de331c19bc3fbd0094b42ea', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 7, 'created': '2020-08-24 08:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8ba8cfa1c31f0115e182e7f6a2f4db7dffabea2', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 8, 'created': '2020-08-29 15:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39c0f06e847f7fd4477ff1403e4cf689483ca0df', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}, {'number': 9, 'created': '2020-08-29 15:25:49.000000000', 'files': ['ansible/roles/ironic/templates/ironic-api-wsgi.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector-wsgi.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/templates/ironic-api.json.j2', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2', 'ansible/roles/ironic/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/316b0496b3dd7a9b33692b171391d9d17d535116', 'message': 'Add support for encrypting Ironic API\n\nThis patch introduces an optional backend encryption for the Ironic API\nand Ironic Inspector service. When used in conjunction with enabling\nTLS for service API endpoints, network communcation will be encrypted\nend to end, from client through HAProxy to the Ironic service.\n\nChange-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957\nPartially-Implements: blueprint add-ssl-internal-network\nDepends-On: https://review.opendev.org/#/c/742776/\n'}]",1,746606,316b0496b3dd7a9b33692b171391d9d17d535116,41,5,9,30810,,,0,"Add support for encrypting Ironic API

This patch introduces an optional backend encryption for the Ironic API
and Ironic Inspector service. When used in conjunction with enabling
TLS for service API endpoints, network communcation will be encrypted
end to end, from client through HAProxy to the Ironic service.

Change-Id: I3e82c8ec112e53f907e89fea0c8c849072dcf957
Partially-Implements: blueprint add-ssl-internal-network
Depends-On: https://review.opendev.org/#/c/742776/
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/746606/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-api-wsgi.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector-wsgi.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/templates/ironic-api.json.j2', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2']",7,66c01424f3f9031290f49d8ef666f72fb697b542,,"{% set apache_binary = 'apache2' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd' %} {% set apache_conf_dir = 'apache2/conf-enabled' if kolla_base_distro in ['ubuntu', 'debian'] else 'httpd/conf.d' %} { ""command"": ""/usr/sbin/{{ apache_binary }} -DFOREGROUND"", }, { ""source"": ""{{ container_config_directory }}/ironic-inspector-wsgi.conf"", ""dest"": ""/etc/{{ apache_conf_dir }}/ironic-inspector-wsgi.conf"", ""owner"": ""ironic"", ""perm"": ""0600"" }{% endif %}{% if ironic_enable_tls_backend | bool %}, { ""source"": ""{{ container_config_directory }}/ironic-cert.pem"", ""dest"": ""/etc/ironic/certs/ironic-cert.pem"", ""owner"": ""ironic"", ""perm"": ""0600"" }, { ""source"": ""{{ container_config_directory }}/ironic-key.pem"", ""dest"": ""/etc/ironic/certs/ironic-key.pem"", ""owner"": ""ironic"", ""perm"": ""0600""","{ ""command"": ""ironic-inspector --config-file /etc/ironic-inspector/inspector.conf"",",188,10
openstack%2Fbifrost~stable%2Fussuri~Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104,openstack/bifrost,stable/ussuri,Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104,Fix install on systems without systemd,MERGED,2020-09-07 12:29:59.000000000,2020-09-08 08:42:20.000000000,2020-09-08 08:41:05.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-07 12:29:59.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/829e6707ebeebf69af3a7559ba07c59851360b7d', 'message': 'Fix install on systems without systemd\n\nThis broke Kolla already.\nOne cannot assume systemd is being used during installation.\n\nPackage installations normally reload systemd themselves\nif they need to.\n\nBackport to Ussuri.\n\nChange-Id: Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104\nStory: 2008112\nTask: 40828\n(cherry picked from commit 5e7f72a49a300b06fbadc14846f8f44905d39253)\n'}]",0,750162,829e6707ebeebf69af3a7559ba07c59851360b7d,9,4,1,10239,,,0,"Fix install on systems without systemd

This broke Kolla already.
One cannot assume systemd is being used during installation.

Package installations normally reload systemd themselves
if they need to.

Backport to Ussuri.

Change-Id: Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104
Story: 2008112
Task: 40828
(cherry picked from commit 5e7f72a49a300b06fbadc14846f8f44905d39253)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/62/750162/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,829e6707ebeebf69af3a7559ba07c59851360b7d,fix-install-without-systemd-stable/ussuri,,"- name: ""Ask systemd to reload configuration"" systemd: daemon_reload: yes ",0,4
openstack%2Fpython-ironicclient~master~I5a8c04475660c3b9fec4ee377bffca0a3de3a985,openstack/python-ironicclient,master,I5a8c04475660c3b9fec4ee377bffca0a3de3a985,Add functional-tests-node-list,ABANDONED,2015-12-21 18:59:47.000000000,2020-09-08 08:41:04.000000000,,"[{'_account_id': 12356}, {'_account_id': 17270}]","[{'number': 1, 'created': '2015-12-21 18:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1ce1f467e77b6fe3070f8a018d8c91e3456eb422', 'message': 'Add functional-tests-node-list\n\nChange-Id: I5a8c04475660c3b9fec4ee377bffca0a3de3a985\n'}, {'number': 2, 'created': '2015-12-23 17:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9fdaaa01440335fe7afb6f1d4a99282258312147', 'message': 'Add functional-tests-node-list\n\nTests for the Ironic CLI command node-list.\nCommand list the nodes which are registered with the Ironic service.\n\nChange-Id: I5a8c04475660c3b9fec4ee377bffca0a3de3a985\nCloses-Bug: #1528914\n'}, {'number': 3, 'created': '2015-12-24 14:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1ddd955a70debbf66c86f194ae04a6def0daf625', 'message': 'Add functional-tests-node-list\n\nTests for the Ironic CLI command node-list.\nCommand list the nodes which are registered with the Ironic service.\n\nChange-Id: I5a8c04475660c3b9fec4ee377bffca0a3de3a985\nCloses-Bug: #1528914\n'}, {'number': 4, 'created': '2016-01-26 18:20:09.000000000', 'files': ['ironicclient/tests/functional/test_node_list.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3f84d994016db6a75ab235a8de1460bdfd6eff4d', 'message': 'Add functional-tests-node-list\n\nTests for the Ironic CLI command node-list.\nCommand list the nodes which are registered with the Ironic service.\n\nChange-Id: I5a8c04475660c3b9fec4ee377bffca0a3de3a985\nCloses-Bug: #1528914\n'}]",20,260165,3f84d994016db6a75ab235a8de1460bdfd6eff4d,15,2,4,17270,,,0,"Add functional-tests-node-list

Tests for the Ironic CLI command node-list.
Command list the nodes which are registered with the Ironic service.

Change-Id: I5a8c04475660c3b9fec4ee377bffca0a3de3a985
Closes-Bug: #1528914
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/65/260165/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_node_list.py'],1,1ce1f467e77b6fe3070f8a018d8c91e3456eb422,(detached,"# Copyright (c) 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from ironicclient.tests.functional import base import ironicclient.tests.functional.utils as utils class NodeListTestIronicClient(base.FunctionalTestBase): """"""Tests for testing actions with node-list command. Tests for the Ironic CLI command node-list. Command list the nodes which are registered with the Ironic service. """""" def setUp(self): super(NodeListTestIronicClient, self).setUp() self.nodes = [] for i in range(5): node_name = utils.generate_name(prefix=i) node = self.create_node(params='--name {0}'.format(node_name)) self.nodes.append(node) def test_node_list_limit_equals_nodes_quantity(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with limit 5 3) check that node-list command with limit 5 returns exacly 5 nodes """""" node_list = self.list_nodes('--limit 5') self.assertEqual(node_list.sort(), self.nodes.sort()) def test_node_list_limit_less_nodes_quantity(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with limit 3 3) check that node-list command with limit 3 returns exacly 3 nodes """""" node_list = self.list_nodes('--limit 3') self.assertEqual(len(node_list), 3) def test_node_list_limit_more_nodes_quantity(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with limit 12 3) check that node-list command with limit 12 returns all existed nodes """""" node_list = self.list_nodes('--limit 12') self.assertEqual(node_list.sort(), self.nodes.sort()) def test_node_list_marker(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with marker on node 3 3) check that node-list command with marker on node 3 returns only 2 nodes """""" nodes_uuids = [node['uuid'] for node in self.nodes] node_list = self.list_nodes('--marker {0}'.format(nodes_uuids[2])) node_list_uuids = [node['UUID'] for node in node_list] self.assertEqual(node_list_uuids, nodes_uuids[3:]) def test_node_list_sort_key_uuid(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with 'uuid' as sort_key 3) check that nodes has been sorted by 'uuid' """""" # nodes_uuids = [node['uuid'] for node in self.nodes] # node_list = self.list_nodes('--marker {0}'.format(nodes_uuids[2])) # node_list_uuids = [node['UUID'] for node in node_list] # self.assertEqual(node_list_uuids, nodes_uuids[3:]) pass def test_node_list_sort_key_name(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with 'name' as sort_key 3) check that nodes has been sorted by 'name' """""" pass def test_node_list_sort_dir_desc(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with sort-dir desc parameter 3) check that nodes has been sorted by desc """""" pass def test_node_list_sort_dir_asc(self): """"""Test steps: 1) create 5 nodes 2) execute node-list command with sort-dir asc parameter 3) check that nodes has been sorted by asc """""" pass ",,116,0
openstack%2Fpython-ironicclient~master~Idb15069c759c4b5da85455c145b6c8e3cc527196,openstack/python-ironicclient,master,Idb15069c759c4b5da85455c145b6c8e3cc527196,Use ConfigParser instead of SafeConfigParser,ABANDONED,2016-09-20 19:26:23.000000000,2020-09-08 08:40:47.000000000,,[{'_account_id': 14173}],"[{'number': 1, 'created': '2016-09-20 19:26:23.000000000', 'files': ['ironicclient/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0102e546dfa0fd00c0284f611079c86862692085', 'message': 'Use ConfigParser instead of SafeConfigParser\n\nIn Python 3.2 SafeConfigParser class name has been renamed as ConfigParser.\nso ConfigParser will be used in future versions instead of SafeConfigParser\nThis bug will be resolved in python-ironicclient\n\nChange-Id: Idb15069c759c4b5da85455c145b6c8e3cc527196\nPartial-Bug: #1618666\n'}]",0,373511,0102e546dfa0fd00c0284f611079c86862692085,7,1,1,14173,,,0,"Use ConfigParser instead of SafeConfigParser

In Python 3.2 SafeConfigParser class name has been renamed as ConfigParser.
so ConfigParser will be used in future versions instead of SafeConfigParser
This bug will be resolved in python-ironicclient

Change-Id: Idb15069c759c4b5da85455c145b6c8e3cc527196
Partial-Bug: #1618666
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/11/373511/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/base.py'],1,0102e546dfa0fd00c0284f611079c86862692085,bug/1618666,import ironicclient.tests.functional.utils as utils from six.moves import configparser config = configparser.ConfigParser() except configparser.NoOptionError: except configparser.NoOptionError:,import six.moves.configparser as config_parserimport ironicclient.tests.functional.utils as utils config = config_parser.SafeConfigParser() except config_parser.NoOptionError: except config_parser.NoOptionError:,6,5
openstack%2Fpython-ironicclient~master~Ic73be943c48107a3bb817f5db98065e425d9c67d,openstack/python-ironicclient,master,Ic73be943c48107a3bb817f5db98065e425d9c67d,Add tests for testing node-delete command,ABANDONED,2015-11-30 16:26:58.000000000,2020-09-08 08:40:06.000000000,,"[{'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 8106}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 13362}, {'_account_id': 13636}, {'_account_id': 13719}, {'_account_id': 14525}, {'_account_id': 14614}, {'_account_id': 14810}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 20675}, {'_account_id': 22724}]","[{'number': 1, 'created': '2015-11-30 16:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/188de69ff75f4ad2d218ca0d2e271c8a79e9dee5', 'message': 'Tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 2, 'created': '2015-11-30 16:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1421cce5c5f69754b0c83c94acfaa04b716823ce', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 3, 'created': '2015-12-04 15:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/98246986cd31fcee207c82d0d969711dca791ad4', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 4, 'created': '2015-12-04 15:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/46d7bad54a62ab6579406320017ef29e3fd487b4', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that check multiply nodes can be\ndeleted by Name or UUID of the node using:\nironic node-delete <node> [<node> ...]\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 5, 'created': '2015-12-04 15:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/43e6a2c994684a9a00e35e6f7f8ec150bc1aec9b', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 6, 'created': '2015-12-08 17:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9fdc1c3318596e2e8c1c204c2aea2f22175b6a10', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 7, 'created': '2015-12-18 09:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9e5d90213e2532342b98938e2056b156d9a21832', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 8, 'created': '2015-12-31 14:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a5917e78c5f4ec427f17176b4bd284b28bf9be6f', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 9, 'created': '2016-01-05 15:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6293f083e7f1323ec7b9c5231bc86ab98549d9cb', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 10, 'created': '2016-01-06 17:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6a8b2646e1be09d4e5a6d7abb4ce571dc4996898', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 11, 'created': '2016-02-19 13:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9a557faed74e2ae0467f896d37eebbe8257f8ae0', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 12, 'created': '2016-02-19 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/fd269774ebb688a6f0d83e275770ab0330cff7f6', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 13, 'created': '2016-02-23 14:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/689c0caa8f01a734eda0576825cbf886bd0e809e', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 14, 'created': '2016-02-23 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5343d2aaacc95860ea8f35b8b3bec52be46b64ff', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 15, 'created': '2016-02-23 17:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/069c5a4e683787cc73bd60ed8281bf11d732216e', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 16, 'created': '2016-03-01 12:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c3fc5db91e2ada37487c5cc23fd283bbeb7876dd', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 17, 'created': '2016-03-03 17:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/26f3d97fd8cfc4b09a2f94d0859489233880e296', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 18, 'created': '2016-03-23 17:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c06d2b8e0e63e3146e388f2e61999e9b2e6e30a1', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 19, 'created': '2016-03-31 13:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a8a9f8e7d9ce930e1d6c44a4cde2cab0975ab23e', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 20, 'created': '2016-03-31 15:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/57a4d1bd49a8061b54e055fa7850956c585e1152', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 21, 'created': '2016-04-01 10:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/204d1e26c98f11c51ced37e7de5703a55617d63d', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 22, 'created': '2016-05-19 14:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/53993e59edbe293ac358d2918cfa1db8fc6b9ada', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 23, 'created': '2016-05-25 14:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ff1f4e56925f05bafbe0bbe5d8989e362b5fd006', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 24, 'created': '2016-05-25 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ca6076750dda637b0cdd73ea1660bfffbfecd83d', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 25, 'created': '2016-05-26 16:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d1a7a41d919cb23fe9b4d4aa229f2bf2c8f2c859', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 26, 'created': '2016-05-26 16:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0e188029e17c442451fa1b7ead67089329337f4f', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 27, 'created': '2016-05-26 16:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/12ab81cd6a04d4bc5c9f0b62cdb28fe0dbec5ba9', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID or name.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nCloses-Bug: #1564484\n'}, {'number': 28, 'created': '2016-05-30 08:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bf6683e2790f2db607fb4eb5723ce0aa7110da05', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\nImplements: blueprint ironic-client-advanced-functional-tests\n'}, {'number': 29, 'created': '2016-06-06 14:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/af946b187f46d747ae2bed60bca8e13a5e4ff606', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 30, 'created': '2016-07-20 15:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0c1518953cbf53458e5ed40dc1517bdad3f9cd2f', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 31, 'created': '2016-07-20 16:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c2a29c4e1e387872aa647642bed6aeb47c375920', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 32, 'created': '2016-07-26 13:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f429bb16978e654ebe26a4d1537a27f05d5ba2d1', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 33, 'created': '2016-07-26 13:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/447cfc349acec2b2433c3f074ef694ad824ce276', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 34, 'created': '2016-07-26 13:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1ad8c92cee67be416c7e656b79fd58daa6e02fea', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 35, 'created': '2016-07-26 14:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bd09157070442f330ff2326ee80b71ee111bfb3c', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 36, 'created': '2016-07-26 14:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c9e89f4a01a0a7de685ada1e12f5fd20b099c185', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 37, 'created': '2016-08-08 14:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e862e29ad98969c7c2ad3d4338d798688722b4e9', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 38, 'created': '2016-08-09 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ed4d9e01c602e2a1484d09ae9f2a3e83b7a7573b', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 39, 'created': '2016-08-11 12:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/daedf7923f0dff1eac3cb740580e277f2519d8ba', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 40, 'created': '2016-08-11 15:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/346347bf6887b87e2eb4920914739578440b056f', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nImplements: blueprint ironic-client-advanced-functional-tests\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 41, 'created': '2016-08-11 15:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5df6d207caae615160a6e5b75740cd5695cdba75', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 42, 'created': '2016-08-12 11:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f0057241b22002d055bb6c94a88c14d0b8ea41b1', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 43, 'created': '2016-08-22 16:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4d0ca7cdd8029e65a1ac6fe422a575b692b840f6', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 44, 'created': '2016-08-26 14:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f664e2a906427cfd7c676c2e4521f993b48543e6', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 45, 'created': '2016-08-29 15:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/467d0de676dd7f5557fac8dfe3a9e6b37be59d1e', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 46, 'created': '2016-09-23 13:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/64fb4d09465354ad964f77e16a0bab7f9640e414', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}, {'number': 47, 'created': '2016-09-26 16:06:43.000000000', 'files': ['ironicclient/tests/functional/base.py', 'ironicclient/tests/functional/test_node_delete.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/30512108e365a999e81cf6625a9a33eaa42395f0', 'message': 'Add tests for testing node-delete command\n\nTests for the Ironic CLI node-delete command that checks that node can be\ndeleted by Name by UUID and can be deleted several nodes using:\n        ironic node-delete <node> [<node> ...]\n\nNegative tests for the Ironic CLI node-delete command that checks that\nnode can not be deleted by non-exist UUID.\nChecks that node-delete command without parameters triggers to an error.\n\nChange-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d\n'}]",164,251458,30512108e365a999e81cf6625a9a33eaa42395f0,202,16,47,17270,,,0,"Add tests for testing node-delete command

Tests for the Ironic CLI node-delete command that checks that node can be
deleted by Name by UUID and can be deleted several nodes using:
        ironic node-delete <node> [<node> ...]

Negative tests for the Ironic CLI node-delete command that checks that
node can not be deleted by non-exist UUID.
Checks that node-delete command without parameters triggers to an error.

Change-Id: Ic73be943c48107a3bb817f5db98065e425d9c67d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/58/251458/26 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/functional/utils.py', 'ironicclient/tests/functional/base.py', 'ironicclient/tests/functional/test_node_delete.py']",3,188de69ff75f4ad2d218ca0d2e271c8a79e9dee5,functional CLI tests,"# Copyright (c) 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from ironicclient.tests.functional import base import ironicclient.tests.functional.utils as utils class NodeDeleteTestIronicClient(base.FunctionalTestBase): """"""Tests for testing node-delete command. Tests for the Ironic CLI node-delete command that checks that node can be deleted by Name by UUID and can be deleted several nodes using: ironic node-delete <node> [<node> ...] """""" def setUp(self): super(NodeDeleteTestIronicClient, self).setUp() self.list_of_created_nodes = [] for _ in range(5): self.list_of_created_nodes.append( self.create_node(params='-n {0}' .format(utils.generate_name()))) def test_delete_nodes_by_UUID(self): """"""Test steps: 1) create 5 nodes 2) check that nodes has been successfully created 3) delete 5 nodes by node uuid 4) check that nodes has been successfully deleted """""" self.assertCreatedNodesInListNodes(self.list_of_created_nodes) created_nodes_uuids = utils.get_nodes_values( 'uuid', self.list_of_created_nodes) self.assertCreatedNodesInListNodes(self.list_of_created_nodes) self.delete_node(*created_nodes_uuids) self.assertCreatedNodesNotInListNodes(self.list_of_created_nodes) def test_delete_nodes_by_name(self): """"""Test steps: 1) create 5 nodes 2) check that nodes has been successfully created 3) delete 5 nodes by node name 4) check that nodes has been successfully deleted """""" self.assertCreatedNodesInListNodes(self.list_of_created_nodes) created_nodes_names = utils.get_nodes_values( 'name', self.list_of_created_nodes) self.assertCreatedNodesInListNodes(self.list_of_created_nodes) self.delete_node(*created_nodes_names) self.assertCreatedNodesNotInListNodes(self.list_of_created_nodes) ",,117,16
openstack%2Fpython-ironicclient~master~Ie4e2cbf69c986183d098657a3c8d764ed7bf2406,openstack/python-ironicclient,master,Ie4e2cbf69c986183d098657a3c8d764ed7bf2406,Adding the man page for Ironic,ABANDONED,2017-03-24 07:41:14.000000000,2020-09-08 08:39:27.000000000,,"[{'_account_id': 6637}, {'_account_id': 12356}]","[{'number': 1, 'created': '2017-03-24 07:41:14.000000000', 'files': ['doc/source/man/ironic.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/66ea958504697640b751bb28f9418a66e1b96059', 'message': 'Adding the man page for Ironic\n\nNow if the user types man ironic, he will get the manual help page\nfor ironic.\n\nChange-Id: Ie4e2cbf69c986183d098657a3c8d764ed7bf2406\nCloses-Bug: #1518951\n'}]",0,449456,66ea958504697640b751bb28f9418a66e1b96059,6,2,1,20401,,,0,"Adding the man page for Ironic

Now if the user types man ironic, he will get the manual help page
for ironic.

Change-Id: Ie4e2cbf69c986183d098657a3c8d764ed7bf2406
Closes-Bug: #1518951
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/56/449456/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/man/ironic.rst', 'doc/source/conf.py']",2,66ea958504697640b751bb28f9418a66e1b96059,bug/1518951," # -- Options for manual page output ------------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('man/ironic', 'ironic', u'Command line access to the ironic project.', [u'Ironic Developers'], 1), ] # If true, show URL addresses after external links. # man_show_urls = False",,115,0
openstack%2Fpython-ironicclient~master~I37ddf24563524e84d93adfe38e0d8b3957aba76a,openstack/python-ironicclient,master,I37ddf24563524e84d93adfe38e0d8b3957aba76a,Tests for testing port-create command,ABANDONED,2016-03-11 16:33:28.000000000,2020-09-08 08:39:00.000000000,,"[{'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 10342}, {'_account_id': 12356}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 20522}, {'_account_id': 22724}, {'_account_id': 22749}]","[{'number': 1, 'created': '2016-03-11 16:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/2b94d7167eb901561ca1fa8c64b3fee7220e3209', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 2, 'created': '2016-03-15 14:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c9e01c47578bad76faac9e3285abde0f27938856', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 3, 'created': '2016-04-25 16:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ff8bc867de2eb3185cdec2c8c665603142f5f14f', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 4, 'created': '2016-04-26 16:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/93ff375deebcdd461a8cb3170813e6c425bf8653', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\nDepends-On: Ide0e2478784e823443264fb36d29365741078625\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\n'}, {'number': 5, 'created': '2016-04-26 16:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/fa3adb6950bbe1b9cd71c9a370ecc4d51e5be947', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\nDepends-On: Ide0e2478784e823443264fb36d29365741078625\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\n'}, {'number': 6, 'created': '2016-05-26 14:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9bfcdf88d63f1f60998f99b3edb213b4fc7a1ecf', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\n'}, {'number': 7, 'created': '2016-05-27 15:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/db634b7e9728193597e5b8d9bff8f042d891b77b', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nPartial-Bug: #1527515\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 8, 'created': '2016-06-06 15:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/09ad66be29ca9f5d5b376f84f9234308bddd5711', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nPartial-Bug: #1527515\nDepends-On: I1a1447d81c28af21b054e9cd4c35f94b39ac0244\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 9, 'created': '2016-06-06 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b3bf5203861d3a42c5a3a840e0194121a4cfaecb', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nPartial-Bug: #1527515\nDepends-On: I1a1447d81c28af21b054e9cd4c35f94b39ac0244\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 10, 'created': '2016-06-07 11:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c917109e207096fda72a7d620c8a8f4f6c6e370b', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nPartial-Bug: #1527515\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 11, 'created': '2016-06-07 11:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/102b327fc11aa08383d63a234ecd2c5a74972a90', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which checks actions with port-create command\n\nPartial-Bug: #1527515\nDepends-On: I8f4f96e57804b36ccc757bc71476d066288a9a42\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 12, 'created': '2016-07-13 14:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b668e586da38d865b1bf0f1e31bb1a6e0d6b1867', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which check actions with port-create command\n\nPartial-Bug: #1527515\nCo-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 13, 'created': '2016-08-09 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/00d0ec10756962a6bed8822c8dd90171fe1ba4df', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which check actions with port-create command\n\nPartial-Bug: #1527515\nCo-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 14, 'created': '2016-08-18 07:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/7d943c97e14f9033d7ca89af37f9a7442bcc9f16', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which check actions with port-create command\n\nPartial-Bug: #1527515\nCo-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 15, 'created': '2016-08-19 12:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f306ac5ac0b1491f8934bebfc431c00b7513a767', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which check actions with port-create command\n\nPartial-Bug: #1527515\nCo-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 16, 'created': '2016-09-07 10:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d7c6c113f998eac86dd3d903e560f7032bc7db8f', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which check actions with port-create command\n\nPartial-Bug: #1527515\nCo-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}, {'number': 17, 'created': '2016-10-05 08:33:33.000000000', 'files': ['test-requirements.txt', 'ironicclient/tests/functional/test_port_create.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d1afd66334481dbcb0b036b0640be6af5e20cf0c', 'message': 'Tests for testing port-create command\n\nTests for the Ironic CLI commands which check actions with port-create command\n\nPartial-Bug: #1527515\nCo-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>\nChange-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a\n'}]",6,291802,d1afd66334481dbcb0b036b0640be6af5e20cf0c,59,10,17,17270,,,0,"Tests for testing port-create command

Tests for the Ironic CLI commands which check actions with port-create command

Partial-Bug: #1527515
Co-Authored-By: Kyrylo Romanenko <kromanenko@mirantis.com>
Change-Id: I37ddf24563524e84d93adfe38e0d8b3957aba76a
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/02/291802/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_port_create.py'],1,2b94d7167eb901561ca1fa8c64b3fee7220e3209,bug/1527515,"# Copyright (c) 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from ironicclient.tests.functional import base import ironicclient.tests.functional.utils as utils class PortCreateTestsIronicClient(base.FunctionalTestBase): """"""Tests for testing port-create command. Tests for the Ironic CLI commands which checks actions with port-create command. """""" def setUp(self): super(PortCreateTestsIronicClient, self).setUp() self.node = self.create_node() def test_port_create_address_arg(self): """"""Test steps: 1) create node setUp() 2) create port using --address argument 2) check that port has been successfully created """""" pass def test_port_create_node_arg(self): """"""Test steps: 1) create node setUp() 2) create port using --node argument 2) check that port has been successfully created """""" pass def test_port_create_with_metadata_short_arg(self): """"""Test steps: 1) create node setUp() 2) create port using -e argument 2) check that port has been successfully created """""" pass def test_port_create_with_metadata_full_arg(self): """"""Test steps: 1) create node setUp() 2) create port using --extra argument 2) check that port has been successfully created """""" pass def test_port_create_with_metadata_short_arg_multiple(self): """"""Test steps: 1) create node setUp() 2) create port using -e argument multilple times 2) check that port has been successfully created """""" pass def test_port_create_with_metadata_full_arg_multiple(self): """"""Test steps: 1) create node setUp() 2) create port using --extra argument multiple 2) check that port has been successfully created """""" pass def test_port_create_with_cpecific_uuid_short_arg(self): """"""Test steps: 1) create node setUp() 2) create port using -u argument 2) check that port has been successfully created """""" pass def test_port_create_with_cpecific_uuid_full_arg(self): """"""Test steps: 1) create node setUp() 2) create port using --uuid argument 2) check that port has been successfully created """""" pass ",,100,0
openstack%2Fpython-ironicclient~master~I182303194519042b2b87fe7f4cae021c1dd91e6e,openstack/python-ironicclient,master,I182303194519042b2b87fe7f4cae021c1dd91e6e,Negative tests for testing actions with node,ABANDONED,2016-08-27 10:56:01.000000000,2020-09-08 08:38:47.000000000,,"[{'_account_id': 12356}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 20675}]","[{'number': 1, 'created': '2016-08-27 10:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/822b529e10c1f62ec3b6c2134187da87600ff4b9', 'message': 'Negative tests for testing actions with node\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 2, 'created': '2016-08-28 09:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e828ab53a952a404c59d5d60e09c1381c0dbfa98', 'message': 'Negative tests for testing actions with node\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 3, 'created': '2016-08-31 07:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ee888b4c54800fc28c602046da057b759558be49', 'message': 'Negative tests for testing actions with node:\n   test_node_show_states\n   test_node_show\n   test_node_validate\n   test_node_set_boot_device\n   test_node_set_power_state\n   test_node_set_provision_state\n   test_node_set_console_mode\n   test_node_set_maintenance\n   test_node_update\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 4, 'created': '2016-08-31 15:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a79b26bbe13f34522df56db12973f80a4d88d8c2', 'message': ' Negative tests for testing actions with node:\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 5, 'created': '2016-08-31 15:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/efe549b28475553d8afb545c2898d0336fc2b1d1', 'message': ' Negative tests for testing actions with node:\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 6, 'created': '2016-09-01 15:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8a13ee4dc8e6558eae9871c45c25d126cad058e5', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 7, 'created': '2016-09-01 21:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f1668a7a524d0032e0784e22db3febd303ab8d03', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 8, 'created': '2017-02-09 13:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/35e8367ab30b374e806cdb6dd04daeb7758f2614', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 9, 'created': '2017-02-09 13:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/692963f9a56734bb268323a3848c3f4fbd6bb3d4', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 10, 'created': '2017-03-30 14:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ebfe1b8876ca3f5a8066120c976a26dd1f2ca0dc', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 11, 'created': '2017-03-30 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ef599976ed6c62357d4bf3261b930ff088d01f42', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 12, 'created': '2017-03-30 15:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/53bb6fc9eb936c312c39d9282a16d7e34d9d5c3b', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 13, 'created': '2017-04-03 09:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e7c1e669c31ef601b5a26333561e3b950bf44f5d', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}, {'number': 14, 'created': '2017-04-03 12:19:33.000000000', 'files': ['ironicclient/tests/functional/test_node_negative.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1d78084e534b1d91b97e40bdcf9561cc026e7a0d', 'message': ' Negative tests for testing actions with node\n\n The negative tests in this change pass an incorrect node\n identifier to the following commands:\n\n * ironic node-show-states\n * ironic node-show\n * ironic node-validate\n * ironic node-set-boot-device\n * ironic node-set-power-state\n * ironic node-set-provision-state\n * ironic node-set-console-mode\n * ironic node-set-maintenance\n * ironic node-update\n\nDepends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79\n\nChange-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e\n'}]",12,361583,1d78084e534b1d91b97e40bdcf9561cc026e7a0d,65,5,14,20675,,,0," Negative tests for testing actions with node

 The negative tests in this change pass an incorrect node
 identifier to the following commands:

 * ironic node-show-states
 * ironic node-show
 * ironic node-validate
 * ironic node-set-boot-device
 * ironic node-set-power-state
 * ironic node-set-provision-state
 * ironic node-set-console-mode
 * ironic node-set-maintenance
 * ironic node-update

Depends-On: I023870ed97d3e97df8ae67e7cec97d6fbf355e79

Change-Id: I182303194519042b2b87fe7f4cae021c1dd91e6e
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/83/361583/10 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_node_negative.py'],1,822b529e10c1f62ec3b6c2134187da87600ff4b9,negative_tests,"# Copyright (c) 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt import six from tempest.lib import exceptions from ironicclient.tests.functional import base @ddt.ddt class NodeNegativeTests(base.FunctionalTestBase): """"""Negative tests for testing actions with Node. Negative test for the Ironic CLI commands which checks actions with node command like use commands without arguments or with incorrect arguments and check that correct error message raised. """""" data = (('', (r'too few arguments')), ('1234-1234-1234', (r'could not be found')), ('1234 1234', (r'unrecognized arguments'))) @ddt.data(*data) @ddt.unpack def test_node_show_states(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-show-states', params=value) @ddt.data(*data) @ddt.unpack def test_node_show(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-show', params=value) @ddt.data(*data) @ddt.unpack def test_node_validate(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-validate', params=value) data = (('', (r'too few arguments')), ('1234-1234-1234', (r'could not be found')), ('1234 1234', (r'invalid choice'))) @ddt.data(*data) @ddt.unpack def test_node_set_boot_device(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-set-boot-device', params='{0} pxe'.format(value)) @ddt.data(*data) @ddt.unpack def test_node_set_power_state(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-set-power-state', params='{0} on'.format(value)) @ddt.data(*data) @ddt.unpack def test_node_set_provision_state(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-set-provision-state', params='{0} manage'.format(value)) data = (('', (r'too few arguments')), ('1234-1234-1234', (r'could not be found'))) @ddt.data(*data) @ddt.unpack def test_node_set_console_mode(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-set-console-mode', params='{0} true'.format(value)) @ddt.data(*data) @ddt.unpack def test_node_set_maintenance(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-set-maintenance', params='{0} true'.format(value)) data = (('', (r'invalid choice')), ('1234-1234-1234', (r'could not be found'))) @ddt.data(*data) @ddt.unpack def test_node_update(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.ironic, 'node-update', params='{0} replace name=i1234'.format(value)) ",,102,0
openstack%2Fpython-ironicclient~master~Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc,openstack/python-ironicclient,master,Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc,Negative tests for testing actions with node-port-list.,ABANDONED,2016-08-25 15:29:09.000000000,2020-09-08 08:38:33.000000000,,"[{'_account_id': 12356}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 20522}, {'_account_id': 20675}, {'_account_id': 22724}]","[{'number': 1, 'created': '2016-08-25 15:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8c6f0364b0eec64801c36c96348bfe57846c489e', 'message': 'Negative tests for testing actions with node-port-list.\n\nNegative test for the Ironic CLI commands which checks  actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc\n'}, {'number': 2, 'created': '2016-08-31 11:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/56d81d836dad67d1b8624726a51f85d764657cf4', 'message': 'Negative tests for testing actions with node-port-list.\n\nNegative test for the Ironic CLI commands which checks  actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses Bug: #1616972\nChange-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc\n'}, {'number': 3, 'created': '2016-09-07 10:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d9d7759676ee4f3b7ba8afb0b504eca881046d08', 'message': 'Negative tests for testing actions with node-port-list.\n\nNegative test for the Ironic CLI commands which checks  actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses Bug: #1616972\nChange-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc\n'}, {'number': 4, 'created': '2016-09-23 13:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3a815862b798a50f8b16683502150c8809c58d48', 'message': 'Negative tests for testing actions with node-port-list.\n\nNegative test for the Ironic CLI commands which checks  actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses Bug: #1616972\nChange-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc\n'}, {'number': 5, 'created': '2016-10-05 10:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/054e58868e269f4f013b4444750430e49cd533fa', 'message': 'Negative tests for testing actions with node-port-list.\n\nNegative test for the Ironic CLI commands which checks  actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses Bug: #1616972\nChange-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc\n'}, {'number': 6, 'created': '2017-01-23 14:59:40.000000000', 'files': ['ironicclient/tests/functional/test_node_negative.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f7d8f8eadc55ea3e9b304936ba4bd78650167dec', 'message': 'Negative tests for testing actions with node-port-list.\n\nNegative test for the Ironic CLI commands which checks  actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses Bug: #1616972\nChange-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc\n'}]",12,360636,f7d8f8eadc55ea3e9b304936ba4bd78650167dec,35,7,6,17270,,,0,"Negative tests for testing actions with node-port-list.

Negative test for the Ironic CLI commands which checks  actions with
node command like use commands without arguments or with
incorrect arguments and check that correct error message raised.

Closes Bug: #1616972
Change-Id: Ie8f252aa6b9719566cc8d08b9a3bbe22e6667dfc
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/36/360636/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/functional/test_node_negative.py', 'test-requirements.txt']",2,8c6f0364b0eec64801c36c96348bfe57846c489e,bug/1616972,ddt>=1.0.1 # MIT,,96,0
openstack%2Fpython-ironicclient~master~Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122,openstack/python-ironicclient,master,Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122,Negative tests for testing actions with chassis-update,ABANDONED,2016-07-20 10:33:08.000000000,2020-09-08 08:38:17.000000000,,"[{'_account_id': 12356}, {'_account_id': 13719}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 22724}, {'_account_id': 22749}]","[{'number': 1, 'created': '2016-07-20 10:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3138d4e0ecd85a5b07d3448dbb22f5f986021844', 'message': 'Negative tests for testing actions with chassis-update.\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}, {'number': 2, 'created': '2016-07-20 11:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/002377f8102d2b7df47319ef19e7a1b4f157c9f6', 'message': 'Negative tests for testing actions with chassis-update\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}, {'number': 3, 'created': '2016-08-08 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/15a1b00d5883537730bfae9e240fbf376c4b7048', 'message': 'Negative tests for testing actions with chassis-update\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1610988\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}, {'number': 4, 'created': '2016-08-18 06:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b9cfe12f9faff682ff1b6a409864602eab883189', 'message': 'Negative tests for testing actions with chassis-update\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1610988\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}, {'number': 5, 'created': '2016-08-19 12:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1af145c5461c500a2ed0134c15a1c6bd7e431055', 'message': 'Negative tests for testing actions with chassis-update\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1610988\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}, {'number': 6, 'created': '2016-09-07 10:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a560c953622c0d8d70d340ac11cc97ac345eb080', 'message': 'Negative tests for testing actions with chassis-update\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1610988\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}, {'number': 7, 'created': '2016-10-05 09:56:30.000000000', 'files': ['test-requirements.txt', 'ironicclient/tests/functional/test_chassis_negative.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f4aafbccb992350adb324151c3b8745ab0913b31', 'message': 'Negative tests for testing actions with chassis-update\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-update command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1610988\nChange-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122\n'}]",4,344715,f4aafbccb992350adb324151c3b8745ab0913b31,32,6,7,17270,,,0,"Negative tests for testing actions with chassis-update

Negative test for the Ironic CLI commands which checks actions with
chassis-update command like use commands without arguments or with
incorrect arguments and check that correct error message raised.

Closes-Bug: #1610988
Change-Id: Ib66a1fd58d7db361548dd2a4ccd152b9f7a07122
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/15/344715/4 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_chassis_negative.py'],1,3138d4e0ecd85a5b07d3448dbb22f5f986021844,bug/1610988," @ddt.data(('', (r'too few arguments')), ('1234-1234-1234', (r'Invalid input for field/attribute')), ('my_chassis', (r'Invalid input for field/attribute')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_chassys_show(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.show_chassis, value) @ddt.ddt class ChassisUpdateNegativeTestIronicClient(base.FunctionalTestBase): """"""Negative tests for testing actions with chassis-update. Negative test for the Ironic CLI commands which checks actions with chassis-update command like use commands without arguments or with incorrect arguments and check that correct error message raised. """""" def setUp(self): super(ChassisUpdateNegativeTestIronicClient, self).setUp() self.chassis = self.create_chassis() @ddt.data(('', '', (r'too few arguments')), ('add', '', (r'too few arguments')), ('add', '1234-1234-1234', (r'Attributes must be a list of PATH=VALUE')), ('add', 'my_chassis', (r'Attributes must be a list of PATH=VALUE')), ('add', '1234 1234', (r'Attributes must be a list of PATH=VALUE')), ('replace', '', (r'too few arguments')), ('replace', '1234-1234-1234', (r'Attributes must be a list of PATH=VALUE')), ('replace', 'my_chassis', (r'Attributes must be a list of PATH=VALUE')), ('replace', '1234 1234', (r'Attributes must be a list of PATH=VALUE')), ('remove', '', (r'too few arguments')), ('remove', '1234-1234-1234', (r""can't remove non-existent object"")), ('remove', 'my_chassis', (r""can't remove non-existent object"")), ('remove', '1234 1234', (r""can't remove non-existent object""))) @ddt.unpack def test_chassys_update(self, operation, params, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.update_chassis, chassis_id=self.chassis['uuid'], operation=operation, params=params)",,52,0
openstack%2Fpython-ironicclient~master~If37d973771342d7befdd90eda193b76f1f94b811,openstack/python-ironicclient,master,If37d973771342d7befdd90eda193b76f1f94b811,Negative tests for testing actions with Chassis.,ABANDONED,2016-07-18 16:56:56.000000000,2020-09-08 08:37:56.000000000,,"[{'_account_id': 5805}, {'_account_id': 12356}, {'_account_id': 13719}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 20522}, {'_account_id': 20675}, {'_account_id': 22724}, {'_account_id': 23330}]","[{'number': 1, 'created': '2016-07-18 16:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/76620234c1abdb2ba36bf6790ef454262126e037', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 2, 'created': '2016-07-20 11:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6773aa4a0881389b00fcb8e271b8eb7af34b429f', 'message': 'Negative tests for testing actions with Chassis\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 3, 'created': '2016-08-18 06:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e7c06d4ef02831095573733b146d197240952509', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 4, 'created': '2016-08-18 08:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bdd046740372841c78eca886b31544f4cb8103a4', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 5, 'created': '2016-08-19 12:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3f11a9e281b60817f7f1da1a31f97da7f210f51f', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 6, 'created': '2016-08-22 13:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1df04bc996b6e6a79a3cd885cca9c7607ffc33eb', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 7, 'created': '2016-08-30 13:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/507e8d4c18da5518633b4b339c9caacbda47fbe5', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 8, 'created': '2016-09-07 10:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/84b1d30dca48eeaca5951a0cbe526c9299d8b9bd', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 9, 'created': '2016-09-08 10:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8eaffb5169d0322f15b4b0a0f0501d4d9f94f43b', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 10, 'created': '2016-09-08 15:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8bf4b895e4888d23bafcf5dd9ae764720b08de4a', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 11, 'created': '2016-09-13 17:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bb346a5fd2d4040ccd35def603ff677c1e18797d', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative tests for the Ironic CLI commands which check actions with\nchassis command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 12, 'created': '2016-09-23 13:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/af9ce3044b38b2c670274690f0a75c5970d18a37', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative tests for the Ironic CLI commands which check actions with\nchassis command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 13, 'created': '2016-10-05 08:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1c186b9adbe8a04aa161e797f297cfbe6f074b76', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative tests for the Ironic CLI commands which check actions with\nchassis command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 14, 'created': '2016-10-05 09:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8af7d802d0bcda78821207476bb9fd43ec340e44', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 15, 'created': '2016-10-05 11:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0cd361dceed86b24130a3f56f89ba93724fa6bc7', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 16, 'created': '2017-05-11 11:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8d6e98f3efb3f97084171fd43de956f72dab66f1', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}, {'number': 17, 'created': '2017-05-11 13:52:01.000000000', 'files': ['test-requirements.txt', 'ironicclient/tests/functional/utils.py', 'ironicclient/tests/functional/test_chassis_negative.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0e2a841b12be8cff3952fd776fffaf2c6b349b85', 'message': 'Negative tests for testing actions with Chassis.\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: If37d973771342d7befdd90eda193b76f1f94b811\n'}]",27,343796,0e2a841b12be8cff3952fd776fffaf2c6b349b85,63,10,17,17270,,,0,"Negative tests for testing actions with Chassis.

Negative test for the Ironic CLI commands which checks actions with
node command like use commands without arguments or with
incorrect arguments and check that correct error message raised.

Change-Id: If37d973771342d7befdd90eda193b76f1f94b811
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/96/343796/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/functional/utils.py', 'ironicclient/tests/functional/test_chassis_negative.py']",2,76620234c1abdb2ba36bf6790ef454262126e037,bug/1610988,"# Copyright (c) 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt import six from tempest.lib import exceptions from ironicclient.tests.functional import base from ironicclient.tests.functional import utils @ddt.ddt class ChassisNegativeTestIronicClient(base.FunctionalTestBase): """"""Negative tests for testing actions with Chassis. Negative test for the Ironic CLI commands which checks actions with node command like use commands without arguments or with incorrect arguments and check that correct error message raised. """""" long_string = utils.generate_string(257) data = (('-d', '', (r'expected one argument')), ('--description', '', (r'expected one argument')), ('-d', long_string, (r""Data too long for column 'description'"")), ('-description', long_string, (r'unrecognized arguments')), ('-e', '', (r'expected one argument')), ('--extra', '', (r'expected one argument')), ('-u', '', (r'expected one argument')), ('--uuid', '', (r'expected one argument')), ('-u', '000-000', (r'Expected a uuid but received')), ('--uuid', '000-000', (r'Expected a uuid but received')), ('-u', long_string, (r'Expected a uuid but received')), ('-uuid', long_string, (r'unrecognized arguments'))) @ddt.data(*data) @ddt.unpack def test_chassys_create(self, argument, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.create_chassis, params='{0} {1}'.format(argument, value)) @ddt.data(('', (r'too few arguments')), ('1234-1234-1234', (r'Invalid input for field/attribute')), ('my_chassis', (r'Invalid input for field/attribute')), ('1234 1234', (r'Invalid input for field/attribute'))) @ddt.unpack def test_chassys_delete(self, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.delete_chassis, value) ",,72,0
openstack%2Fpython-ironicclient~master~I61e752c91e9a4a2817c12c55c272bd02e67a0c90,openstack/python-ironicclient,master,I61e752c91e9a4a2817c12c55c272bd02e67a0c90,Add test for driver raid property list,NEW,2017-07-05 09:53:44.000000000,2020-09-08 08:37:28.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-05 09:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c44e6d4313749414c21c5178c92e9acdd6225c6f', 'message': '[WiP] Add test for driver raid property list\n\nChange-Id: I61e752c91e9a4a2817c12c55c272bd02e67a0c90\n'}, {'number': 2, 'created': '2017-07-05 10:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/40cfa5d7cb54a96db0eded955c7e61d01f809871', 'message': '[WiP] Add test for driver raid property list\n\nChange-Id: I61e752c91e9a4a2817c12c55c272bd02e67a0c90\n'}, {'number': 3, 'created': '2017-07-05 11:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e0bb7db75303280893fb1cd996705e2ccd893624', 'message': 'Add test for driver raid property list\n\nChange-Id: I61e752c91e9a4a2817c12c55c272bd02e67a0c90\n'}, {'number': 4, 'created': '2017-07-05 11:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/63c8d89104eee5c4d14170459b97094d35d4b897', 'message': 'Add test for driver raid property list\n\nRelated-Bug: #1619052\nChange-Id: I61e752c91e9a4a2817c12c55c272bd02e67a0c90\n'}, {'number': 5, 'created': '2017-08-30 09:41:38.000000000', 'files': ['ironicclient/tests/functional/osc/v1/test_baremetal_driver_basic.py', 'ironicclient/tests/functional/osc/v1/base.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/11f94581c99086594a5c9c5af7fb5be590d8add5', 'message': 'Add test for driver raid property list\n\nRelated-Bug: #1619052\nChange-Id: I61e752c91e9a4a2817c12c55c272bd02e67a0c90\n'}]",0,480489,11f94581c99086594a5c9c5af7fb5be590d8add5,11,7,5,14614,,,0,"Add test for driver raid property list

Related-Bug: #1619052
Change-Id: I61e752c91e9a4a2817c12c55c272bd02e67a0c90
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/89/480489/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/functional/osc/v1/test_baremetal_driver_basic.py', 'ironicclient/tests/functional/osc/v1/base.py']",2,c44e6d4313749414c21c5178c92e9acdd6225c6f,," def driver_raid_property_list(self, fields=None, params=''): """"""List a driver's RAID logical disk properties. :param List fields: List of fields to show :param List params: Additional kwargs :return: list of JSON driver RAID properties objects """""" opts = self.get_opts(fields=fields) output = self.openstack('baremetal driver raid property list {} {}' .format(opts, params)) return json.loads(output)",,28,0
openstack%2Fpython-ironicclient~master~I1a73d990785020adc6e15f5d7627e913c47988e9,openstack/python-ironicclient,master,I1a73d990785020adc6e15f5d7627e913c47988e9,Openstack baremetal node maintenance,ABANDONED,2017-07-04 13:20:22.000000000,2020-09-08 08:36:12.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}]","[{'number': 1, 'created': '2017-07-04 13:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4d794d828af4e8abd797690729318015cb8c4d0a', 'message': 'Openstack baremetal node maintenance\n\nCombining `openstack baremetal node maintenance set` and\n`openstack baremetal node maintenance unset` into one new command\ni.e the above `openstack baremetal node maintenance` command.\n\nChange-Id: I1a73d990785020adc6e15f5d7627e913c47988e9\nCloses-Bug: #1619087\n'}, {'number': 2, 'created': '2017-07-05 08:52:20.000000000', 'files': ['releasenotes/notes/baremetal_node_maintenance-04e5ca2a3f5d3bf2.yaml', 'setup.cfg', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/9a24394a6d643b5819009647d29f760b856ff977', 'message': 'Openstack baremetal node maintenance\n\nCombining `openstack baremetal node maintenance set` and\n`openstack baremetal node maintenance unset` into one new command\ni.e the above `openstack baremetal node maintenance` command.\n\nChange-Id: I1a73d990785020adc6e15f5d7627e913c47988e9\nCloses-Bug: #1619087\n'}]",1,480188,9a24394a6d643b5819009647d29f760b856ff977,9,4,2,20401,,,0,"Openstack baremetal node maintenance

Combining `openstack baremetal node maintenance set` and
`openstack baremetal node maintenance unset` into one new command
i.e the above `openstack baremetal node maintenance` command.

Change-Id: I1a73d990785020adc6e15f5d7627e913c47988e9
Closes-Bug: #1619087
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/88/480188/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/baremetal_node_maintenance-04e5ca2a3f5d3bf2.yaml', 'setup.cfg', 'ironicclient/osc/v1/baremetal_node.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py']",4,4d794d828af4e8abd797690729318015cb8c4d0a,bug/1619087,"class TestBaremetalMaintenance(TestBaremetal): def setUp(self): super(TestBaremetalMaintenance, self).setUp() # Get the command object to test self.cmd = baremetal_node.MaintenanceBaremetalNode(self.app, None) def test_baremetal_maintenance_on(self): arglist = ['node_uuid', '--reason', 'maintenance reason'] verifylist = [ ('node', 'node_uuid'), ('reason', 'maintenance reason'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_maintenance.assert_called_once_with( 'node_uuid', True, maint_reason='maintenance reason' ) def test_baremetal_maintenance_on_no_reason(self): arglist = ['node_uuid'] verifylist = [ ('node', 'node_uuid'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_maintenance.assert_called_once_with( 'node_uuid', True, maint_reason=None ) def test_baremetal_maintenance_off(self): arglist = ['node_uuid'] verifylist = [('node', 'node_uuid')] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.baremetal_mock.node.set_maintenance.assert_called_once_with( 'node_uuid', False) ",,121,2
openstack%2Fpython-ironicclient~master~Ia13e61dea374be5dee747a417bb5a2331f76d9e0,openstack/python-ironicclient,master,Ia13e61dea374be5dee747a417bb5a2331f76d9e0,Add tests for OSC baremetal chassis create command,NEW,2016-10-05 15:13:08.000000000,2020-09-08 08:35:19.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13719}, {'_account_id': 14614}, {'_account_id': 19686}, {'_account_id': 20522}]","[{'number': 1, 'created': '2016-10-05 15:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/fd3013bca37afc713591754f9b0b1fc5af058e4b', 'message': 'Add tests for OSC baremetal chassis create command\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 2, 'created': '2016-10-05 15:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/dcac97d4c5e66d07a5f4ad1a99ead956b837393d', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 3, 'created': '2016-10-12 15:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f17c9fc397f666a166ce83af5f07e99a0a179db3', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 4, 'created': '2016-11-17 18:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1561cdc81defa9c780ebbf7e7762c1dd52092bbd', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 5, 'created': '2016-11-22 17:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/73d8522a575785aa15d21c4d15fb29c1d4414192', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 6, 'created': '2016-11-22 17:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3f0616d3cee72b64050c4eb1b42c8614abc72c0a', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 7, 'created': '2017-02-17 15:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/19ec558c12ccba91a722a1bce62c92d4cf334974', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 8, 'created': '2017-05-22 13:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6a65cbca7f1bea44b99f372f52e41e8b9e305fa0', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 9, 'created': '2017-06-08 08:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/853fedb4a709a5c8b76c9f639d0174af43b8aaed', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nPartial-Bug: #1566329\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}, {'number': 10, 'created': '2017-06-16 09:56:31.000000000', 'files': ['ironicclient/tests/functional/osc/v1/test_baremetal_chassis_create.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/34e657c3041f825eac1c730f867ec022b15f2df9', 'message': 'Add tests for OSC baremetal chassis create command\n\nAdd tests for options:\n    --description\n    --extra\n    --uuid\n\nPartial-Bug: #1566329\nChange-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0\n'}]",4,382496,34e657c3041f825eac1c730f867ec022b15f2df9,33,6,10,14614,,,0,"Add tests for OSC baremetal chassis create command

Add tests for options:
    --description
    --extra
    --uuid

Partial-Bug: #1566329
Change-Id: Ia13e61dea374be5dee747a417bb5a2331f76d9e0
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/96/382496/10 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/osc/v1/test_baremetal_chassis_create.py'],1,fd3013bca37afc713591754f9b0b1fc5af058e4b,bug/1566329,"# Copyright (c) 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ast from tempest.lib.common.utils import data_utils from ironicclient.tests.functional.osc.v1 import base class BaremetalChassisCreate(base.TestCase): """"""Functional tests for baremetal chassis create command with options."""""" def setUp(self): super(BaremetalChassisCreate, self).setUp() @staticmethod def generate_params(argument, params): params_str = '' for key, value in params.iteritems(): params_str += ' {0} {1}={2}'.format(argument, key, value) return params_str def assertEqualDict(self, params, object_params): object_params = ast.literal_eval(str(object_params)) self.assertEqual(params, object_params) def test_description(self): """"""Create chassis with description. Test steps: 1) Create chassis using --description argument. 2) Check that chassis was successfully created with description. """""" description = 'Small Funny Test Chassis' arg = '--description' chassis = self.chassis_create( params=""{0} '{1}'"".format(arg, description)) self.assertEqual(description, chassis['description']) def test_extras(self): """"""Create chassis with extra data. Test steps: 1) Create chassis using --extra argument. 2) Check that chassis was successfully created with extras. """""" extras = [{'metadata': 'yes'}, {'Size': '2U', 'Power(W)': '2000', 'HDDs': '16', 'backplane': '2.5-inch'}] arg = '--extra' for extra in extras: params = self.generate_params(arg, extra) chassis = self.chassis_create(params='{0}'.format(params)) self.assertEqualDict(extra, chassis['extra']) def test_specific_uuid(self): """"""Create chassis with specific UUID. Test steps: 1) Create chassis using --uuid argument. 2) Check that chassis was successfully created with specific UUID. """""" arg = '--uuid' chassis_uuid = data_utils.rand_uuid() chassis = self.chassis_create(params=""{0} {1}"" .format(arg, chassis_uuid)) self.assertEqual(chassis_uuid, chassis['uuid']) ",,79,0
openstack%2Fpython-ironicclient~master~I0e93517c2e796d12f39a4de5faad83f4befe6502,openstack/python-ironicclient,master,I0e93517c2e796d12f39a4de5faad83f4befe6502,Negative tests for testing actions with node-list command,ABANDONED,2016-08-25 13:35:30.000000000,2020-09-08 08:34:45.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 13719}, {'_account_id': 14614}, {'_account_id': 14760}, {'_account_id': 15784}, {'_account_id': 17270}, {'_account_id': 20675}, {'_account_id': 22724}]","[{'number': 1, 'created': '2016-08-25 13:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b97deaa02cf2b5ab83a4a0eb15ca8bf3dd75a0e0', 'message': 'Negative tests for testing actions with node-list command\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\nCloses-Bug: #1616919\n'}, {'number': 2, 'created': '2016-08-25 15:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/68cb0288be7ec84a747a46fc111f56d686c196d1', 'message': 'Negative tests for testing actions with node-list command\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\nCloses-Bug: #1616919\n'}, {'number': 3, 'created': '2016-08-30 13:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d8bdd1322e47db5ac1a9e05892562d4d9384d103', 'message': 'Negative tests for testing actions with node-list command\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\nCloses-Bug: #1616919\n'}, {'number': 4, 'created': '2016-09-01 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/2a5ceb99d9fec47c257f9ffeb6711a3f943c3519', 'message': 'Negative tests for testing actions with node-list command\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\nCloses-Bug: #1616919\n'}, {'number': 5, 'created': '2016-09-07 10:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/777f72ed83d861e27366b18424ee67c07f93ad6c', 'message': 'Negative tests for testing actions with node-list command\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\nCloses-Bug: #1616919\n'}, {'number': 6, 'created': '2016-10-05 09:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/067616945fbb8faf39e66d359b6b9fa0737b2e00', 'message': 'Negative tests for testing actions with node-list command\n\nNegative test for the Ironic CLI commands which checks actions with\nnode command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1616919\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\n'}, {'number': 7, 'created': '2017-05-10 14:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c0d9b3a9bb5c062161f44c8b154e768f769909df', 'message': 'Negative tests for testing actions with node-list command\n\nNegative tests for the Ironic CLI commands which check actions with\nnode commands like using commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1616919\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\n'}, {'number': 8, 'created': '2017-05-10 14:40:56.000000000', 'files': ['ironicclient/tests/functional/test_node_negative.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/10fc0647b37aefac202365398cefe25cae189914', 'message': 'Negative tests for testing actions with node-list command\n\nNegative tests for the Ironic CLI commands which check actions with\nnode commands like using commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nCloses-Bug: #1616919\nChange-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502\n'}]",7,360549,10fc0647b37aefac202365398cefe25cae189914,34,10,8,17270,,,0,"Negative tests for testing actions with node-list command

Negative tests for the Ironic CLI commands which check actions with
node commands like using commands without arguments or with
incorrect arguments and check that correct error message raised.

Closes-Bug: #1616919
Change-Id: I0e93517c2e796d12f39a4de5faad83f4befe6502
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/49/360549/8 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_node_negative.py'],1,b97deaa02cf2b5ab83a4a0eb15ca8bf3dd75a0e0,bug/1616919,"# Copyright (c) 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt import six from tempest.lib import exceptions from ironicclient.tests.functional import base @ddt.ddt class NodeListNegativeTests(base.FunctionalTestBase): """"""Negative tests for testing actions with Node. Negative test for the Ironic CLI commands which checks actions with node command like use commands without arguments or with incorrect arguments and check that correct error message raised. """""" @ddt.data( ('', (r'expected one argument')), ('-1', (r'Unrecognized value')), ('1234 1234', (r'unrecognized arguments')), ('00000000-0000-0000-0000-000000000000', (r'Unrecognized value'))) @ddt.unpack def test_node_list_associated(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--associated {0}'.format(value)) @ddt.data( ('', (r'expected one argument')), ('-1', (r'Unrecognized value')), ('1234 1234', (r'unrecognized arguments')), ('00000000-0000-0000-0000-000000000000', (r'Unrecognized value'))) @ddt.unpack def test_node_list_maintenance(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--maintenance {0}'.format(value)) @ddt.data( ('', (r'expected one argument')), ('1234 1234', (r'invalid choice')), ('00000000-0000-0000-0000-000000000000', (r'invalid choice'))) @ddt.unpack def test_node_list_sort_dir(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--sort-dir {0}'.format(value)) @ddt.data( ('', (r'expected one argument')), ('1234-1234-1234', (r'invalid int value')), ('-1', (r'Expected non-negative')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_node_list_limit(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--limit {0}'.format(value)) @ddt.data(('', (r'expected one argument'))) @ddt.unpack def test_node_list_driver(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--driver {0}'.format(value)) @ddt.data( ('', (r'expected one argument')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_node_list_resource_class(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--resource-class {0}'.format(value)) @ddt.data( ('', (r'expected at least one argument')), ('1234-1234-1234', (r'Invalid field')), ('00000000-0000-0000-0000-000000000000', (r'Invalid field')), ('1234 1234', (r'Invalid field'))) @ddt.unpack def test_node_list_fields(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--fields {0}'.format(value)) @ddt.data( ('1234-1234-1234', (r'unrecognized arguments')), ('00000000-0000-0000-0000-000000000000', (r'unrecognized arguments')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_node_list_detail(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--detail {0}'.format(value)) @ddt.data( ('', (r'expected one argument')), ('1234-1234-1234', (r'unable to convert to uuid')), ('00000000-0000-0000-0000-000000000000', (r'could not be found')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_node_list_marker(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--marker {0}'.format(value)) @ddt.data( ('1234-1234-1234', (r'invalid field for sorting')), ('', (r'expected one argument')), ('00000000-0000-0000-0000-000000000000', (r'invalid field for sorting')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_node_list_sort_key(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--sort-key {0}'.format(value)) @ddt.data( ('', (r'expected one argument')), ('1234-1234-1234', (r'is not valid')), ('00000000-0000-0000-0000-000000000000', (r'is not valid')), ('1234 1234', (r'unrecognized arguments'))) @ddt.unpack def test_node_list_provision_state(self, value, ex_text): six.assertRaisesRegex( self, exceptions.CommandFailed, ex_text, self.ironic, 'node-list', params='--provision-state {0}'.format(value)) ",,144,0
openstack%2Fironic~master~If0d124352dec7072d7f806d60628eefe3619a8b0,openstack/ironic,master,If0d124352dec7072d7f806d60628eefe3619a8b0,Deprecate irmc hardware type,MERGED,2020-01-20 17:55:22.000000000,2020-09-08 08:33:36.000000000,2020-01-23 17:09:36.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 17:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae206c88198be5c466c2a94c9fda8bc71af182c8', 'message': ""Deprecate irmc hardware type\n\nThird party CI for the Fujitsu irmc hardware type has been down for\na substantial amount of time and we've been unable to contact anyone\nat Fujitsu.\n\nAs such, we are deprecating the driver in order to eventually remove\nit from the code base.\n\nChange-Id: If0d124352dec7072d7f806d60628eefe3619a8b0\nStory: 2007186\nTask: 38312\n""}, {'number': 2, 'created': '2020-01-22 17:24:18.000000000', 'files': ['ironic/drivers/modules/irmc/power.py', 'ironic/drivers/modules/irmc/boot.py', 'releasenotes/notes/deprecate-irmc-031f55c3bb1fb863.yaml', 'ironic/drivers/modules/irmc/raid.py', 'ironic/drivers/modules/irmc/inspect.py', 'ironic/drivers/irmc.py', 'ironic/drivers/modules/irmc/bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/92fee405380972fef71979d27c5225b2794e3549', 'message': ""Deprecate irmc hardware type\n\nThird party CI for the Fujitsu irmc hardware type has been down for\na substantial amount of time and we've been unable to contact anyone\nat Fujitsu.\n\nAs such, we are deprecating the driver in order to eventually remove\nit from the code base.\n\nChange-Id: If0d124352dec7072d7f806d60628eefe3619a8b0\nStory: 2007186\nTask: 38312\n""}]",4,703472,92fee405380972fef71979d27c5225b2794e3549,29,8,2,11655,,,0,"Deprecate irmc hardware type

Third party CI for the Fujitsu irmc hardware type has been down for
a substantial amount of time and we've been unable to contact anyone
at Fujitsu.

As such, we are deprecating the driver in order to eventually remove
it from the code base.

Change-Id: If0d124352dec7072d7f806d60628eefe3619a8b0
Story: 2007186
Task: 38312
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/703472/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/power.py', 'ironic/drivers/modules/irmc/boot.py', 'releasenotes/notes/deprecate-irmc-031f55c3bb1fb863.yaml', 'ironic/drivers/modules/irmc/inspect.py', 'ironic/drivers/modules/irmc/raid.py', 'ironic/drivers/irmc.py', 'ironic/drivers/modules/irmc/bios.py']",7,ae206c88198be5c466c2a94c9fda8bc71af182c8,703472, supported = False ,,28,0
openstack%2Fpython-ironicclient~master~Ic45edc4945567ff6f8eda3bd3c36533eec48dcf2,openstack/python-ironicclient,master,Ic45edc4945567ff6f8eda3bd3c36533eec48dcf2,Negative tests for testing actions with chassis-node-list.,ABANDONED,2016-07-19 14:28:03.000000000,2020-09-08 08:33:22.000000000,,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 13719}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 20675}, {'_account_id': 22724}, {'_account_id': 22749}]","[{'number': 1, 'created': '2016-07-19 14:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ee092cd827eab5d7683c55670a12ef11dfb54e69', 'message': 'Negative tests for testing actions with chassis-node-list.\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-node-list command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: Ic45edc4945567ff6f8eda3bd3c36533eec48dcf2\n'}, {'number': 2, 'created': '2016-07-20 11:13:25.000000000', 'files': ['ironicclient/tests/functional/test_chassis_negative.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5e3ddb94567c8fd6c3566a42a7a56c30137cdb0d', 'message': 'Negative tests for testing actions with chassis-node-list.\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-node-list command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: Ic45edc4945567ff6f8eda3bd3c36533eec48dcf2\n'}]",4,344272,5e3ddb94567c8fd6c3566a42a7a56c30137cdb0d,13,8,2,17270,,,0,"Negative tests for testing actions with chassis-node-list.

Negative test for the Ironic CLI commands which checks actions with
chassis-node-list command like use commands without arguments or with
incorrect arguments and check that correct error message raised.

Change-Id: Ic45edc4945567ff6f8eda3bd3c36533eec48dcf2
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/72/344272/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_chassis_negative.py'],1,ee092cd827eab5d7683c55670a12ef11dfb54e69,functional CLI tests," @ddt.ddt class ChassisNodeListNegativeTestIronicClient(base.FunctionalTestBase): """"""Negative tests for testing actions with chassis-node-list. Negative test for the Ironic CLI commands which checks actions with chassis-node-list command like use commands without arguments or with incorrect arguments and check that correct error message raised. """""" def setUp(self): super(ChassisNodeListNegativeTestIronicClient, self).setUp() self.chassis = self.create_chassis() @ddt.data(('--detail', 'node', (r'unrecognized arguments')), ('--limit', '', (r'expected one argument')), ('--marker', '', (r'expected one argument')), ('--marker', '-1', (r'unrecognized arguments')), ('--marker', '000000-0000-0000', (r'unrecognized arguments')), ('--marker', '000000-000 000000-000', (r'unrecognized arguments')), ('--fields', '', (r'expected at least one argument')), ('--fields', '-1', (r'unrecognized arguments')), ('--fields', 'non_exists_field', (r'unrecognized arguments')), ('--fields', 'non_exists_field some_field', (r'unrecognized arguments')), ('--sort-key', '', (r'expected one argument')), ('--sort-key', '-1', (r'unrecognized arguments')), ('--sort-key', 'non_exist', (r'unrecognized arguments')), ('--sort-key', '5 5', (r'unrecognized arguments')), ('--sort-key', '00000000-0000-0000-0000-000000000000', (r'unrecognized arguments')), ('--sort-dir', '', (r'expected one argument')), ('--sort-dir', '-1', (r'invalid choice')), ('--sort-dir', 'True', (r'invalid choice')), ('--sort-dir', '0 10', (r'invalid choice')), ('--fields', '', (r'expected at least one argument')), ('--fields', '-1', (r'unrecognized arguments')), ('--fields', 'non_exists_field', (r'unrecognized arguments')), ('--fields', 'non_exists_field some_field', (r'unrecognized arguments')), ('--maintenance', '00000000-0000-0000-0000-000000000000', (r'unrecognized arguments')), ('--associated', '00000000-0000-0000-0000-000000000000', (r'unrecognized arguments')), ('--provision-state', '00000000-0000-0000-0000-000000000000', (r'unrecognized arguments'))) @ddt.unpack def test_chassis_node_list(self, argument, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.list_node_chassis, chassis_uuid=self.chassis, params='{0} {1}'.format(argument, value)) def test_chassis_node_list_without_node(self): six.assertRaisesRegex(self, exceptions.CommandFailed, 'too few arguments', self.list_node_chassis, chassis_uuid='', params='')",,65,0
openstack%2Fpython-ironicclient~master~I8ce83f629b2e91ca08ecc682035e0adb4adae1bb,openstack/python-ironicclient,master,I8ce83f629b2e91ca08ecc682035e0adb4adae1bb,Negative tests for testing actions with chassis-list command.,ABANDONED,2016-07-19 11:22:12.000000000,2020-09-08 08:33:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 22724}, {'_account_id': 22749}]","[{'number': 1, 'created': '2016-07-19 11:22:12.000000000', 'files': ['ironicclient/tests/functional/test_chassis_negative.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4ccb04f1b06a8100f9535ff78b8fef51077cec33', 'message': 'Negative tests for testing actions with chassis-list command.\n\nNegative test for the Ironic CLI commands which checks actions with\nchassis-list command like use commands without arguments or with\nincorrect arguments and check that correct error message raised.\n\nChange-Id: I8ce83f629b2e91ca08ecc682035e0adb4adae1bb\n'}]",2,344174,4ccb04f1b06a8100f9535ff78b8fef51077cec33,9,6,1,17270,,,0,"Negative tests for testing actions with chassis-list command.

Negative test for the Ironic CLI commands which checks actions with
chassis-list command like use commands without arguments or with
incorrect arguments and check that correct error message raised.

Change-Id: I8ce83f629b2e91ca08ecc682035e0adb4adae1bb
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/74/344174/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/tests/functional/test_chassis_negative.py'],1,4ccb04f1b06a8100f9535ff78b8fef51077cec33,functional CLI tests," @ddt.ddt class ChassisListNegativeTestIronicClient(base.FunctionalTestBase): """"""Negative tests for testing actions with chassis-list command. Negative test for the Ironic CLI commands which checks actions with chassis-list command like use commands without arguments or with incorrect arguments and check that correct error message raised. """""" @ddt.data( ('--detail', '-1', (r'unrecognized arguments')), ('--detail', '000000-0000-0000', (r'unrecognized arguments')), ('--detail', '000000-000 000000-000', (r'unrecognized arguments')), ('--limit', '', (r'expected one argument')), ('--limit', '-1', (r'Expected non-negative')), ('--limit', 'no_limits', (r'invalid int value')), ('--limit', '5 5', (r'unrecognized arguments')), ('--limit', '00000000-0000-0000-0000-000000000000', (r'invalid int value')), ('--marker', '', (r'expected one argument')), ('--marker', '-1', (r'unable to convert to uuid')), ('--marker', '000000-0000-0000', (r'unable to convert to uuid')), ('--marker', '000000-000 000000-000', (r'unrecognized arguments')), ('--sort-key', '', (r'expected one argument')), ('--sort-key', '-1', (r'invalid field for sorting')), ('--sort-key', 'non_exist', (r'invalid field for sorting')), ('--sort-key', '5 5', (r'unrecognized arguments')), ('--sort-key', '00000000-0000-0000-0000-000000000000', (r'invalid field for sorting')), ('--sort-dir', '', (r'expected one argument')), ('--sort-dir', '-1', (r'invalid choice')), ('--sort-dir', 'True', (r'invalid choice')), ('--sort-dir', '0 10', (r'invalid choice')), ('--fields', '', (r'expected at least one argument')), ('--fields', '-1', (r'Invalid field')), ('--fields', 'non_exists_field', (r'Invalid field')), ('--fields', 'non_exists_field some_field', (r'Invalid field'))) @ddt.unpack def test_chassis_list(self, argument, value, ex_text): six.assertRaisesRegex(self, exceptions.CommandFailed, ex_text, self.list_chassis, params='{0} {1}'.format(argument, value))",,49,0
openstack%2Fpython-ironicclient~master~I02ef6b7048c7d2554909aab4b8c1b27dba70f24d,openstack/python-ironicclient,master,I02ef6b7048c7d2554909aab4b8c1b27dba70f24d,pypy is not checked at gate,ABANDONED,2018-03-21 16:17:54.000000000,2020-09-08 08:32:19.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14760}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:17:54.000000000', 'files': ['doc/source/contributor/testing.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d9d549d8bd544634d833ead225c8ef05fa17c0e7', 'message': 'pypy is not checked at gate\n\nChange-Id: I02ef6b7048c7d2554909aab4b8c1b27dba70f24d\n'}]",1,554980,d9d549d8bd544634d833ead225c8ef05fa17c0e7,6,4,1,16367,,,0,"pypy is not checked at gate

Change-Id: I02ef6b7048c7d2554909aab4b8c1b27dba70f24d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/80/554980/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'tox.ini']",2,d9d549d8bd544634d833ead225c8ef05fa17c0e7,,"envlist = py36,py35,py27,pep8","envlist = py36,py35,py27,pep8,pypy",2,2
openstack%2Fnova~master~I5136b1cab8d704f55d01e5490c42ead6e3e14d98,openstack/nova,master,I5136b1cab8d704f55d01e5490c42ead6e3e14d98,functional: Don't inherit from 'ProviderUsageBaseTestCase',MERGED,2020-08-26 16:26:03.000000000,2020-09-08 08:26:53.000000000,2020-09-08 08:24:35.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-26 16:26:03.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1879878.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e91b07dc522db6b6e4df8972437f78ef2697790b', 'message': ""functional: Don't inherit from 'ProviderUsageBaseTestCase'\n\nIt's not necessary for this test case since we don't query placement\nstuff.\n\nChange-Id: I5136b1cab8d704f55d01e5490c42ead6e3e14d98\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,748271,e91b07dc522db6b6e4df8972437f78ef2697790b,14,10,1,15334,,,0,"functional: Don't inherit from 'ProviderUsageBaseTestCase'

It's not necessary for this test case since we don't query placement
stuff.

Change-Id: I5136b1cab8d704f55d01e5490c42ead6e3e14d98
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/748271/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1879878.py'],1,e91b07dc522db6b6e4df8972437f78ef2697790b,bug/1879878,class TestColdMigrationUsage(integrated_helpers._IntegratedTestBase): microversion = 'latest' self.flags(compute_driver=self.compute_driver) self.ctxt = nova_context.get_admin_context() def _setup_compute_service(self):,class TestColdMigrationUsage(integrated_helpers.ProviderUsageBaseTestCase): self.ctxt = nova_context.get_admin_context() ,7,3
openstack%2Ffreezer-api~stable%2Fussuri~Iacc4c218c29d44dabbf2bc933291790e7c9b7480,openstack/freezer-api,stable/ussuri,Iacc4c218c29d44dabbf2bc933291790e7c9b7480,zuul: use the freezer-tempest-plugins jobs and cleanup,NEW,2020-08-20 13:15:04.000000000,2020-09-08 08:25:47.000000000,,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 13:15:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/eb8894b7ac06310eec001008cd7e1056b7f6207d', 'message': 'zuul: use the freezer-tempest-plugins jobs and cleanup\n\n- use the jobs already defined inside freezer-tempest-plugins\n  instead of redefining them locally, as they are the same;\n- remove the other legacy jobs, as they are not used and\n  the jobs from freezer-tempest-plugins could be directly used\n  or adapted if needed.\n\nChange-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480\n(cherry picked from commit db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4)\n'}]",0,747158,eb8894b7ac06310eec001008cd7e1056b7f6207d,3,2,1,10459,,,0,"zuul: use the freezer-tempest-plugins jobs and cleanup

- use the jobs already defined inside freezer-tempest-plugins
  instead of redefining them locally, as they are the same;
- remove the other legacy jobs, as they are not used and
  the jobs from freezer-tempest-plugins could be directly used
  or adapted if needed.

Change-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480
(cherry picked from commit db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4)
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/58/747158/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb8894b7ac06310eec001008cd7e1056b7f6207d,, - freezer-tempest-basic - freezer-tempest-basic-sql - freezer-tempest-basic - freezer-tempest-basic-sql, - freezer-api-tempest - freezer-api-tempest-sqlalchemy - freezer-api-tempest - freezer-api-tempest-sqlalchemy - job: name: freezer-api-ubuntu parent: legacy-dsvm-base run: playbooks/legacy/freezer-api-ubuntu/run.yaml post-run: playbooks/legacy/freezer-api-ubuntu/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/freezer - openstack/freezer-api - openstack/freezer-web-ui - openstack/python-freezerclient - openstack/freezer-tempest-plugin - job: name: freezer-api-centos-7-old parent: legacy-dsvm-base run: playbooks/legacy/freezer-api-centos-7/run.yaml post-run: playbooks/legacy/freezer-api-centos-7/post.yaml timeout: 7800 nodeset: legacy-centos-7 required-projects: - openstack/devstack-gate - openstack/freezer - openstack/freezer-api - openstack/freezer-web-ui - openstack/python-freezerclient - openstack/freezer-tempest-plugin - job: name: freezer-api-opensuse-15 parent: legacy-dsvm-base run: playbooks/legacy/freezer-api-opensuse-15/run.yaml post-run: playbooks/legacy/freezer-api-opensuse-15/post.yaml timeout: 7800 nodeset: legacy-opensuse-15 required-projects: - openstack/devstack-gate - openstack/freezer - openstack/freezer-api - openstack/freezer-web-ui - openstack/python-freezerclient - openstack/freezer-tempest-plugin - job: name: freezer-api-tempest parent: devstack-tempest timeout: 7200 required-projects: - openstack/devstack-gate - openstack/python-openstackclient - openstack/python-freezerclient - openstack/freezer - openstack/freezer-api - openstack/freezer-tempest-plugin - openstack/tempest vars: devstack_plugins: freezer-api: https://opendev.org/openstack/freezer-api devstack_services: tls-proxy: false freezer-api: true tempest: true s-account: false s-container: false s-object: false s-proxy: false devstack_localrc: TEMPEST_PLUGINS: '/opt/stack/freezer-tempest-plugin' tempest_test_regex: '^(freezer_tempest_plugin.tests.freezer_api)' tox_envlist: all tox_environment: PYTHONUNBUFFERED: 'true' zuul_copy_output: /etc/hosts: logs - job: name: freezer-api-tempest-sqlalchemy parent: devstack-tempest timeout: 7200 required-projects: - openstack/devstack-gate - openstack/python-openstackclient - openstack/python-freezerclient - openstack/freezer - openstack/freezer-api - openstack/freezer-tempest-plugin - openstack/tempest vars: devstack_plugins: freezer-api: https://opendev.org/openstack/freezer-api devstack_services: tls-proxy: false freezer-api: true tempest: true s-account: false s-container: false s-object: false s-proxy: false devstack_localrc: FREEZER_BACKEND: 'sqlalchemy' TEMPEST_PLUGINS: '/opt/stack/freezer-tempest-plugin' tempest_test_regex: '^(freezer_tempest_plugin.tests.freezer_api)' tox_envlist: all tox_environment: PYTHONUNBUFFERED: 'true' zuul_copy_output: /etc/hosts: logs,4,115
openstack%2Fironic-inspector~master~I9c9be0d8512401c40dda102a33d48aa9773593c5,openstack/ironic-inspector,master,I9c9be0d8512401c40dda102a33d48aa9773593c5,[POC] Split service on API and Engine,ABANDONED,2016-12-29 08:51:25.000000000,2020-09-08 08:19:53.000000000,,"[{'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2016-12-29 08:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/108fe274b9860066c91a82b428ed1c0991fb078e', 'message': '[POC] Split service on API and Engine\n\nChange-Id: I9c9be0d8512401c40dda102a33d48aa9773593c5\n'}, {'number': 2, 'created': '2017-04-12 15:06:58.000000000', 'files': ['ironic_inspector/introspect.py', 'ironic_inspector/worker/manager.py', 'ironic_inspector/worker/__init__.py', 'ironic_inspector/worker/rpc_api.py', 'ironic_inspector/common/rpc.py', 'ironic_inspector/api/__init__.py', 'ironic_inspector/common/service.py', 'ironic_inspector/node_cache.py', 'ironic_inspector/cmd/__init__.py', 'ironic_inspector/conf.py', 'setup.cfg', 'ironic_inspector/api/app.py', 'ironic_inspector/common/messaging.py', 'ironic_inspector/cmd/api.py', 'ironic_inspector/cmd/worker.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a463fbd39132bb0e3cf5e0b259e25a5dcd60e310', 'message': '[POC] Split service on API and Engine\n\nChange-Id: I9c9be0d8512401c40dda102a33d48aa9773593c5\n'}]",6,415645,a463fbd39132bb0e3cf5e0b259e25a5dcd60e310,11,3,2,13636,,,0,"[POC] Split service on API and Engine

Change-Id: I9c9be0d8512401c40dda102a33d48aa9773593c5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/45/415645/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/cmd/engine.py', 'ironic_inspector/engine/__init__.py', 'ironic_inspector/api/__init__.py', 'ironic_inspector/engine/manager.py', 'ironic_inspector/api/engine_api.py', 'ironic_inspector/common/service.py', 'ironic_inspector/cmd/__init__.py', 'ironic_inspector/conf.py', 'setup.cfg', 'ironic_inspector/api/app.py', 'ironic_inspector/common/messaging.py', 'ironic_inspector/cmd/api.py']",12,108fe274b9860066c91a82b428ed1c0991fb078e,split-inspector-oslo-msg,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""The Ironic Inspector Service API."""""" import sys from oslo_config import cfg from ironic_inspector.api import app from ironic_inspector.common import service CONF = cfg.CONF def main(): # Parse config file and command line options, then start logging service.prepare_service(sys.argv[1:]) # Build and start the WSGI app launcher = service.process_launcher() server = service.WSGIService('ironic_inspector_api', app.init()) launcher.launch_service(server, workers=server.workers) launcher.wait() if __name__ == '__main__': sys.exit(main()) ",,880,2
openstack%2Fironic-inspector~master~I3b73f91e2485cd3f2fa445359441c9f10d2293be,openstack/ironic-inspector,master,I3b73f91e2485cd3f2fa445359441c9f10d2293be,Use new RPC model,ABANDONED,2017-05-05 08:15:35.000000000,2020-09-08 08:19:45.000000000,,"[{'_account_id': 13636}, {'_account_id': 18653}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-05-05 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7c2f52287c0ce43406b44ed16cb12ecd133c73cc', 'message': 'Use new RPC model\n\nChange-Id: I3b73f91e2485cd3f2fa445359441c9f10d2293be\n'}, {'number': 2, 'created': '2017-05-11 11:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f12f4377cad2cac96f398b7fb1a7c4032651e250', 'message': 'Use new RPC model\n\nChange-Id: I3b73f91e2485cd3f2fa445359441c9f10d2293be\n'}, {'number': 3, 'created': '2017-06-23 08:51:52.000000000', 'files': ['ironic_inspector/test/unit/test_api_tools.py', 'ironic_inspector/api/controller.py', 'ironic_inspector/worker/rpc_api.py', 'ironic_inspector/test/unit/api/process.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/api/__init__.py', 'ironic_inspector/test/unit/test_plugins_base.py', 'ironic_inspector/common/service_utils.py', 'ironic_inspector/test/unit/api/introspect.py', 'ironic_inspector/main.py', 'ironic_inspector/worker/base_manager.py', 'ironic_inspector/cmd/__init__.py', 'ironic_inspector/api/app.py', 'ironic_inspector/cmd/all.py', 'ironic_inspector/common/rpc.py', 'ironic_inspector/test/unit/api/root.py', 'ironic_inspector/test/unit/api/base.py', 'ironic_inspector/test/unit/api/rules.py', 'ironic_inspector/api/tools.py', 'ironic_inspector/worker_service.py', 'ironic_inspector/wsgi_service.py', 'ironic_inspector/test/unit/api/__init__.py', 'ironic_inspector/conf.py', 'setup.cfg', 'ironic_inspector/cmd/api.py', 'ironic_inspector/cmd/worker.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d99b298438290f2bd039a5811a5cd915d3650801', 'message': 'Use new RPC model\n\nInspector endpoint `ironic-inspector` runs both API and worker\nthreads with in-memory rpc driver.\n\nNew endpoint for running separate API and Worker services was\nadded, ironic-inspector-api and ironic-inspector-worker accordingly.\nChange-Id: I3b73f91e2485cd3f2fa445359441c9f10d2293be\n'}]",0,462862,d99b298438290f2bd039a5811a5cd915d3650801,11,3,3,13636,,,0,"Use new RPC model

Inspector endpoint `ironic-inspector` runs both API and worker
threads with in-memory rpc driver.

New endpoint for running separate API and Worker services was
added, ironic-inspector-api and ironic-inspector-worker accordingly.
Change-Id: I3b73f91e2485cd3f2fa445359441c9f10d2293be
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/62/462862/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_api_tools.py', 'ironic_inspector/worker/rpc_api.py', 'ironic_inspector/test/unit/api/process.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/api/process.py', 'ironic_inspector/api/__init__.py', 'ironic_inspector/test/unit/test_plugins_base.py', 'ironic_inspector/test/unit/api/introspect.py', 'ironic_inspector/main.py', 'ironic_inspector/api/app.py', 'ironic_inspector/api/introspect.py', 'ironic_inspector/cmd/all.py', 'ironic_inspector/api/rules.py', 'ironic_inspector/common/rpc.py', 'ironic_inspector/test/unit/api/root.py', 'ironic_inspector/test/unit/api/base.py', 'ironic_inspector/test/unit/api/rules.py', 'ironic_inspector/api/tools.py', 'ironic_inspector/common/service.py', 'ironic_inspector/api_tools.py', 'ironic_inspector/test/unit/api/__init__.py', 'setup.cfg', 'ironic_inspector/test/unit/test_main.py', 'ironic_inspector/api/root.py', 'ironic_inspector/cmd/api.py', 'ironic_inspector/cmd/worker.py']",26,7c2f52287c0ce43406b44ed16cb12ecd133c73cc,bug/1525218,from oslo_config import cfg CONF = cfg.CONF engine = service.WorkerService(CONF.host), engine = service.WorkerService(),1390,1108
openstack%2Fironic-inspector~master~I08e5799abe50cbb4a8d36de16d2831b59f636ca3,openstack/ironic-inspector,master,I08e5799abe50cbb4a8d36de16d2831b59f636ca3,Improves documentation for discovery,ABANDONED,2017-06-26 19:20:38.000000000,2020-09-08 08:19:35.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}, {'_account_id': 19593}, {'_account_id': 19686}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-06-26 19:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1a08c4e82ff283ba47ee2ce18657a6367b703162', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}, {'number': 2, 'created': '2017-07-07 01:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/460831aa4e0658ff2de5f2d67f8814f4553149d9', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}, {'number': 3, 'created': '2017-07-19 01:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/19c89f5c9cc543fad7c19c04f7e2df9a5ad4c5e5', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}, {'number': 4, 'created': '2017-07-27 02:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/61191709e59450c5314fda3e4e194e646486a55b', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}, {'number': 5, 'created': '2017-08-30 23:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b53db07624b4b361f2c9d405721874623e64a59b', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}, {'number': 6, 'created': '2017-09-01 00:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8370ba92338bad3078d1bc3051f635e6c7fe3808', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}, {'number': 7, 'created': '2017-09-05 16:56:03.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d60583a548cdbc36109dd73cff005207ee5bbf83', 'message': 'Improves documentation for discovery\n\nAdds information for performing discovery on baremetal nodes and virtual\nbaremetal nodes. This patch also adds a separate section for using\nIronic-inspector CLI.\n\nChange-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3\n'}]",57,477640,d60583a548cdbc36109dd73cff005207ee5bbf83,43,7,7,19593,,,0,"Improves documentation for discovery

Adds information for performing discovery on baremetal nodes and virtual
baremetal nodes. This patch also adds a separate section for using
Ironic-inspector CLI.

Change-Id: I08e5799abe50cbb4a8d36de16d2831b59f636ca3
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/40/477640/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,1a08c4e82ff283ba47ee2ce18657a6367b703162,discovery_doc,"Using from Ironic-Inspector API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Ironic-inspector has it's own client library that expose commands for introspection, discovery, and introspection rules. Please refer `Ironic Inspector Client`_ for details. .. note:: This CLI call do not rely on Ironic and don't affect the current state of the ironic node. .. _Ironic Inspector Client: https://docs.openstack.org/developer/python-ironic-inspector-client/cli.html Ironic first. In case of baremetal nodes it might be done using ipmitool :: ipmitool -I lanplus -H $IPMI_HOST -U admin -P $IPMI_PASSWORD -L ADMINISTRATOR chassis power on And for virtual baremetal nodes it can be done using libvirt/virsh :: virt-install --pxe",Refer to the `client documentation`_ for information on how to use CLI and Python library. .. _client documentation: http://docs.openstack.org/developer/python-ironic-inspector-clientIronic first.,19,5
openstack%2Fironic-inspector~master~I3d877d1469fef77fb70a78637bfcab3398b0a241,openstack/ironic-inspector,master,I3d877d1469fef77fb70a78637bfcab3398b0a241,Introduce oslo.messaging RPC,ABANDONED,2017-05-05 08:15:35.000000000,2020-09-08 08:19:12.000000000,,"[{'_account_id': 8871}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-05-05 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4ce640c9a1c7a8acc676c9653dda2be02011ef62', 'message': 'Introduce oslo.messaging RPC\n\nAdds base server/client functionality. New inspector-worker service\nmanager provides RPC endpoints:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nThese method could be invoked via new RPC API.\n\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n'}, {'number': 2, 'created': '2017-05-11 11:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6c9b2ef19125165746174061e2620301e8669f2b', 'message': 'Introduce oslo.messaging RPC\n\nAdds base server/client functionality. New inspector-worker service\nmanager provides RPC endpoints:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nThese method could be invoked via new RPC API.\n\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n'}, {'number': 3, 'created': '2017-05-31 14:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4f4a090571ae093f93e33d3caea09342cc8b743b', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor next API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints could be invoked via new RPC API.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context will\nreplace it.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 4, 'created': '2017-06-02 12:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5eec50e601a61c8cbfb145db51cf18c534f11457', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor next API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints could be invoked via new RPC API.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to gonfig generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 5, 'created': '2017-06-02 13:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/71874e71b4c842643f01eda90527449f084b70be', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor next API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints could be invoked via new RPC API.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to gonfig generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 6, 'created': '2017-06-12 15:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/14699e78e30a035f977282f562b34a99457dce61', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 7, 'created': '2017-06-13 09:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a8bd81a541c26e315f418052de12085491d7ae1a', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 8, 'created': '2017-06-16 12:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1e05789abf2cd009f45df514af674552a310927f', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 9, 'created': '2017-06-21 11:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/aea77cba69cfb1d94a36c4b3439f0a89a3a09eb9', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 10, 'created': '2017-06-26 10:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/584a1a8e04539764c97d2fe4ecab54f245e607a0', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 11, 'created': '2017-08-02 08:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0908c575096ebd32944010c275a2eec0cf656d29', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 12, 'created': '2017-08-03 10:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/eaddd8b7a7e0c51c05f87bb2ed8bcd5d9c3d743f', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with version 1.0.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. As next step oslo.context could\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}, {'number': 13, 'created': '2017-09-13 15:38:22.000000000', 'files': ['ironic_inspector/worker/manager.py', 'ironic_inspector/worker/__init__.py', 'ironic_inspector/worker/rpc_api.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/common/service_utils.py', 'ironic_inspector/node_cache.py', 'ironic_inspector/test/base.py', 'requirements.txt', 'ironic_inspector/test/unit/worker/__init__.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/main.py', 'ironic_inspector/test/unit/worker/test_manager.py', 'releasenotes/notes/add_oslo_messaging_dependency-316f839c5745e2e5.yaml', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/test/unit/test_plugins_discovery.py', 'ironic_inspector/worker/utils.py', 'ironic_inspector/common/rpc.py', 'ironic_inspector/test/unit/worker/test_rpc_api.py', 'ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/test/unit/test_common_rpc.py', 'ironic_inspector/wsgi_service.py', 'ironic_inspector/common/ironic.py', 'ironic_inspector/utils.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7103ad966035776f041ccd4d55909dd0875f12dc', 'message': ""Introduce oslo.messaging RPC\n\nAdds *inspector worker* manager, which provides RPC endpoints\nfor the following API methods:\n\n * POST /introspection/<node_id>\n * POST /continue\n * POST /introspection/<node_id>/abort\n * POST /introspection/<node_id>/data/unprocessed\n\nAll introspection and processing code moved to new manager.\nRPC endpoints can be invoked via new RPC API. RPC API and server\nare initialized with 1.0 version.\n\nAlso adds new context arg for mentioned methods, for now it's\nsimple dict containig token. In the future, oslo.context may\nreplace it.\n\noslo.messaging wasn't added to config generator for now.\n\nRelated-Bug: #1525218\nChange-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241\n""}]",117,462861,7103ad966035776f041ccd4d55909dd0875f12dc,64,4,13,13636,,,0,"Introduce oslo.messaging RPC

Adds *inspector worker* manager, which provides RPC endpoints
for the following API methods:

 * POST /introspection/<node_id>
 * POST /continue
 * POST /introspection/<node_id>/abort
 * POST /introspection/<node_id>/data/unprocessed

All introspection and processing code moved to new manager.
RPC endpoints can be invoked via new RPC API. RPC API and server
are initialized with 1.0 version.

Also adds new context arg for mentioned methods, for now it's
simple dict containig token. In the future, oslo.context may
replace it.

oslo.messaging wasn't added to config generator for now.

Related-Bug: #1525218
Change-Id: I3d877d1469fef77fb70a78637bfcab3398b0a241
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/61/462861/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/test/unit/test_service.py', 'ironic_inspector/worker/manager.py', 'ironic_inspector/worker/__init__.py', 'ironic_inspector/worker/rpc_api.py', 'ironic_inspector/common/rpc.py', 'ironic_inspector/common/service.py', 'ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/test/unit/test_plugins_standard.py', 'requirements.txt', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/main.py', 'config-generator.conf', 'ironic_inspector/common/ironic.py', 'ironic_inspector/test/unit/test_main.py', 'example.conf']",19,4ce640c9a1c7a8acc676c9653dda2be02011ef62,bug/1525218,"# From oslo.messaging # # Size of RPC connection pool. (integer value) #rpc_conn_pool_size = 30 # The pool size limit for connections expiration policy (integer # value) #conn_pool_min_size = 2 # The time-to-live in sec of idle connections in the pool (integer # value) #conn_pool_ttl = 1200 # ZeroMQ bind address. Should be a wildcard (*), an ethernet # interface, or IP. The ""host"" option should point or resolve to this # address. (string value) #rpc_zmq_bind_address = * # MatchMaker driver. (string value) # Allowed values: redis, sentinel, dummy #rpc_zmq_matchmaker = redis # Number of ZeroMQ contexts, defaults to 1. (integer value) #rpc_zmq_contexts = 1 # Maximum number of ingress messages to locally buffer per topic. # Default is unlimited. (integer value) #rpc_zmq_topic_backlog = <None> # Directory for holding IPC sockets. (string value) #rpc_zmq_ipc_dir = /var/run/openstack # Name of this node. Must be a valid hostname, FQDN, or IP address. # Must match ""host"" option, if running Nova. (string value) #rpc_zmq_host = localhost # Number of seconds to wait before all pending messages will be sent # after closing a socket. The default value of -1 specifies an # infinite linger period. The value of 0 specifies no linger period. # Pending messages shall be discarded immediately when the socket is # closed. Positive values specify an upper bound for the linger # period. (integer value) # Deprecated group/name - [DEFAULT]/rpc_cast_timeout #zmq_linger = -1 # The default number of seconds that poll should wait. Poll raises # timeout exception when timeout expired. (integer value) #rpc_poll_timeout = 1 # Expiration timeout in seconds of a name service record about # existing target ( < 0 means no timeout). (integer value) #zmq_target_expire = 300 # Update period in seconds of a name service record about existing # target. (integer value) #zmq_target_update = 180 # Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. # (boolean value) #use_pub_sub = false # Use ROUTER remote proxy. (boolean value) #use_router_proxy = false # This option makes direct connections dynamic or static. It makes # sense only with use_router_proxy=False which means to use direct # connections for direct message types (ignored otherwise). (boolean # value) #use_dynamic_connections = false # How many additional connections to a host will be made for failover # reasons. This option is actual only in dynamic connections mode. # (integer value) #zmq_failover_connections = 2 # Minimal port number for random ports range. (port value) # Minimum value: 0 # Maximum value: 65535 #rpc_zmq_min_port = 49153 # Maximal port number for random ports range. (integer value) # Minimum value: 1 # Maximum value: 65536 #rpc_zmq_max_port = 65536 # Number of retries to find free port number before fail with # ZMQBindError. (integer value) #rpc_zmq_bind_port_retries = 100 # Default serialization mechanism for serializing/deserializing # outgoing/incoming messages (string value) # Allowed values: json, msgpack #rpc_zmq_serialization = json # This option configures round-robin mode in zmq socket. True means # not keeping a queue when server side disconnects. False means to # keep queue and messages even if server is disconnected, when the # server appears we send all accumulated messages to it. (boolean # value) #zmq_immediate = true # Enable/disable TCP keepalive (KA) mechanism. The default value of -1 # (or any other negative value) means to skip any overrides and leave # it to OS default; 0 and 1 (or any other positive value) mean to # disable and enable the option respectively. (integer value) #zmq_tcp_keepalive = -1 # The duration between two keepalive transmissions in idle condition. # The unit is platform dependent, for example, seconds in Linux, # milliseconds in Windows etc. The default value of -1 (or any other # negative value and 0) means to skip any overrides and leave it to OS # default. (integer value) #zmq_tcp_keepalive_idle = -1 # The number of retransmissions to be carried out before declaring # that remote end is not available. The default value of -1 (or any # other negative value and 0) means to skip any overrides and leave it # to OS default. (integer value) #zmq_tcp_keepalive_cnt = -1 # The duration between two successive keepalive retransmissions, if # acknowledgement to the previous keepalive transmission is not # received. The unit is platform dependent, for example, seconds in # Linux, milliseconds in Windows etc. The default value of -1 (or any # other negative value and 0) means to skip any overrides and leave it # to OS default. (integer value) #zmq_tcp_keepalive_intvl = -1 # Maximum number of (green) threads to work concurrently. (integer # value) #rpc_thread_pool_size = 100 # Expiration timeout in seconds of a sent/received message after which # it is not tracked anymore by a client/server. (integer value) #rpc_message_ttl = 300 # Wait for message acknowledgements from receivers. This mechanism # works only via proxy without PUB/SUB. (boolean value) #rpc_use_acks = false # Number of seconds to wait for an ack from a cast/call. After each # retry attempt this timeout is multiplied by some specified # multiplier. (integer value) #rpc_ack_timeout_base = 15 # Number to multiply base ack timeout by after each retry attempt. # (integer value) #rpc_ack_timeout_multiplier = 2 # Default number of message sending attempts in case of any problems # occurred: positive value N means at most N retries, 0 means no # retries, None or -1 (or any other negative values) mean to retry # forever. This option is used only if acknowledgments are enabled. # (integer value) #rpc_retry_attempts = 3 # List of publisher hosts SubConsumer can subscribe on. This option # has higher priority then the default publishers list taken from the # matchmaker. (list value) #subscribe_on = # Size of executor thread pool when executor is threading or eventlet. # (integer value) # Deprecated group/name - [DEFAULT]/rpc_thread_pool_size #executor_thread_pool_size = 64 # Seconds to wait for a response from a call. (integer value) #rpc_response_timeout = 60 # A URL representing the messaging driver to use and its full # configuration. (string value) #transport_url = <None> # DEPRECATED: The messaging driver to use, defaults to rabbit. Other # drivers include amqp and zmq. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rpc_backend = rabbit # The default exchange under which topics are scoped. May be # overridden by an exchange name specified in the transport_url # option. (string value) #control_exchange = openstack #[matchmaker_redis] # # From oslo.messaging # # DEPRECATED: Host to locate redis. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #host = 127.0.0.1 # DEPRECATED: Use this port to connect to redis host. (port value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #port = 6379 # DEPRECATED: Password for Redis server (optional). (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #password = # DEPRECATED: List of Redis Sentinel hosts (fault tolerance mode), # e.g., [host:port, host1:port ... ] (list value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #sentinel_hosts = # Redis replica set name. (string value) #sentinel_group_name = oslo-messaging-zeromq # Time in ms to wait between connection attempts. (integer value) #wait_timeout = 2000 # Time in ms to wait before the transaction is killed. (integer value) #check_timeout = 20000 # Timeout in ms on blocking socket operations. (integer value) #socket_timeout = 10000 [oslo_messaging_amqp] # # From oslo.messaging # # Name for the AMQP container. must be globally unique. Defaults to a # generated UUID (string value) #container_name = <None> # Timeout for inactive connections (in seconds) (integer value) #idle_timeout = 0 # Debug: dump AMQP frames to stdout (boolean value) #trace = false # Attempt to connect via SSL. If no other ssl-related parameters are # given, it will use the system's CA-bundle to verify the server's # certificate. (boolean value) #ssl = false # CA certificate PEM file used to verify the server's certificate # (string value) #ssl_ca_file = # Self-identifying certificate PEM file for client authentication # (string value) #ssl_cert_file = # Private key PEM file used to sign ssl_cert_file certificate # (optional) (string value) #ssl_key_file = # Password for decrypting ssl_key_file (if encrypted) (string value) #ssl_key_password = <None> # DEPRECATED: Accept clients using either SSL or plain TCP (boolean # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Not applicable - not a SSL server #allow_insecure_clients = false # Space separated list of acceptable SASL mechanisms (string value) #sasl_mechanisms = # Path to directory that contains the SASL configuration (string # value) #sasl_config_dir = # Name of configuration file (without .conf suffix) (string value) #sasl_config_name = # SASL realm to use if no realm present in username (string value) #sasl_default_realm = # DEPRECATED: User name for message broker authentication (string # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Should use configuration option transport_url to provide the # username. #username = # DEPRECATED: Password for message broker authentication (string # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Should use configuration option transport_url to provide the # password. #password = # Seconds to pause before attempting to re-connect. (integer value) # Minimum value: 1 #connection_retry_interval = 1 # Increase the connection_retry_interval by this many seconds after # each unsuccessful failover attempt. (integer value) # Minimum value: 0 #connection_retry_backoff = 2 # Maximum limit for connection_retry_interval + # connection_retry_backoff (integer value) # Minimum value: 1 #connection_retry_interval_max = 30 # Time to pause between re-connecting an AMQP 1.0 link that failed due # to a recoverable error. (integer value) # Minimum value: 1 #link_retry_delay = 10 # The maximum number of attempts to re-send a reply message which # failed due to a recoverable error. (integer value) # Minimum value: -1 #default_reply_retry = 0 # The deadline for an rpc reply message delivery. (integer value) # Minimum value: 5 #default_reply_timeout = 30 # The deadline for an rpc cast or call message delivery. Only used # when caller does not provide a timeout expiry. (integer value) # Minimum value: 5 #default_send_timeout = 30 # The deadline for a sent notification message delivery. Only used # when caller does not provide a timeout expiry. (integer value) # Minimum value: 5 #default_notify_timeout = 30 # The duration to schedule a purge of idle sender links. Detach link # after expiry. (integer value) # Minimum value: 1 #default_sender_link_timeout = 600 # Indicates the addressing mode used by the driver. # Permitted values: # 'legacy' - use legacy non-routable addressing # 'routable' - use routable addresses # 'dynamic' - use legacy addresses if the message bus does not # support routing otherwise use routable addressing (string value) #addressing_mode = dynamic # address prefix used when sending to a specific server (string value) #server_request_prefix = exclusive # address prefix used when broadcasting to all servers (string value) #broadcast_prefix = broadcast # address prefix when sending to any server in group (string value) #group_request_prefix = unicast # Address prefix for all generated RPC addresses (string value) #rpc_address_prefix = openstack.org/om/rpc # Address prefix for all generated Notification addresses (string # value) #notify_address_prefix = openstack.org/om/notify # Appended to the address prefix when sending a fanout message. Used # by the message bus to identify fanout messages. (string value) #multicast_address = multicast # Appended to the address prefix when sending to a particular # RPC/Notification server. Used by the message bus to identify # messages sent to a single destination. (string value) #unicast_address = unicast # Appended to the address prefix when sending to a group of consumers. # Used by the message bus to identify messages that should be # delivered in a round-robin fashion across consumers. (string value) #anycast_address = anycast # Exchange name used in notification addresses. # Exchange name resolution precedence: # Target.exchange if set # else default_notification_exchange if set # else control_exchange if set # else 'notify' (string value) #default_notification_exchange = <None> # Exchange name used in RPC addresses. # Exchange name resolution precedence: # Target.exchange if set # else default_rpc_exchange if set # else control_exchange if set # else 'rpc' (string value) #default_rpc_exchange = <None> # Window size for incoming RPC Reply messages. (integer value) # Minimum value: 1 #reply_link_credit = 200 # Window size for incoming RPC Request messages (integer value) # Minimum value: 1 #rpc_server_credit = 100 # Window size for incoming Notification messages (integer value) # Minimum value: 1 #notify_server_credit = 100 # Send messages of this type pre-settled. # Pre-settled messages will not receive acknowledgement # from the peer. Note well: pre-settled messages may be # silently discarded if the delivery fails. # Permitted values: # 'rpc-call' - send RPC Calls pre-settled # 'rpc-reply'- send RPC Replies pre-settled # 'rpc-cast' - Send RPC Casts pre-settled # 'notify' - Send Notifications pre-settled # (multi valued) #pre_settled = rpc-cast #pre_settled = rpc-reply [oslo_messaging_kafka] # # From oslo.messaging # # DEPRECATED: Default Kafka broker Host (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #kafka_default_host = localhost # DEPRECATED: Default Kafka broker Port (port value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #kafka_default_port = 9092 # Max fetch bytes of Kafka consumer (integer value) #kafka_max_fetch_bytes = 1048576 # Default timeout(s) for Kafka consumers (floating point value) #kafka_consumer_timeout = 1.0 # Pool Size for Kafka Consumers (integer value) #pool_size = 10 # The pool size limit for connections expiration policy (integer # value) #conn_pool_min_size = 2 # The time-to-live in sec of idle connections in the pool (integer # value) #conn_pool_ttl = 1200 # Group id for Kafka consumer. Consumers in one group will coordinate # message consumption (string value) #consumer_group = oslo_messaging_consumer # Upper bound on the delay for KafkaProducer batching in seconds # (floating point value) #producer_batch_timeout = 0.0 # Size of batch for the producer async send (integer value) #producer_batch_size = 16384 [oslo_messaging_notifications] # # From oslo.messaging # # The Drivers(s) to handle sending notifications. Possible values are # messaging, messagingv2, routing, log, test, noop (multi valued) # Deprecated group/name - [DEFAULT]/notification_driver #driver = # A URL representing the messaging driver to use for notifications. If # not set, we fall back to the same configuration used for RPC. # (string value) # Deprecated group/name - [DEFAULT]/notification_transport_url #transport_url = <None> # AMQP topic used for OpenStack notifications. (list value) # Deprecated group/name - [rpc_notifier2]/topics # Deprecated group/name - [DEFAULT]/notification_topics #topics = notifications [oslo_messaging_rabbit] # # From oslo.messaging # # Use durable queues in AMQP. (boolean value) # Deprecated group/name - [DEFAULT]/amqp_durable_queues # Deprecated group/name - [DEFAULT]/rabbit_durable_queues #amqp_durable_queues = false # Auto-delete queues in AMQP. (boolean value) #amqp_auto_delete = false # Enable SSL (boolean value) #ssl = <None> # SSL version to use (valid only if SSL enabled). Valid values are # TLSv1 and SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be # available on some distributions. (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_version #ssl_version = # SSL key file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_keyfile #ssl_key_file = # SSL cert file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_certfile #ssl_cert_file = # SSL certification authority file (valid only if SSL enabled). # (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_ca_certs #ssl_ca_file = # How long to wait before reconnecting in response to an AMQP consumer # cancel notification. (floating point value) #kombu_reconnect_delay = 1.0 # EXPERIMENTAL: Possible values are: gzip, bz2. If not set compression # will not be used. This option may not be available in future # versions. (string value) #kombu_compression = <None> # How long to wait a missing client before abandoning to send it its # replies. This value should not be longer than rpc_response_timeout. # (integer value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_reconnect_timeout #kombu_missing_consumer_retry_timeout = 60 # Determines how the next RabbitMQ node is chosen in case the one we # are currently connected to becomes unavailable. Takes effect only if # more than one RabbitMQ node is provided in config. (string value) # Allowed values: round-robin, shuffle #kombu_failover_strategy = round-robin # DEPRECATED: The RabbitMQ broker address where a single node is used. # (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_host = localhost # DEPRECATED: The RabbitMQ broker port where a single node is used. # (port value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_port = 5672 # DEPRECATED: RabbitMQ HA cluster host:port pairs. (list value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_hosts = $rabbit_host:$rabbit_port # DEPRECATED: The RabbitMQ userid. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_userid = guest # DEPRECATED: The RabbitMQ password. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_password = guest # The RabbitMQ login method. (string value) # Allowed values: PLAIN, AMQPLAIN, RABBIT-CR-DEMO #rabbit_login_method = AMQPLAIN # DEPRECATED: The RabbitMQ virtual host. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_virtual_host = / # How frequently to retry connecting with RabbitMQ. (integer value) #rabbit_retry_interval = 1 # How long to backoff for between retries when connecting to RabbitMQ. # (integer value) #rabbit_retry_backoff = 2 # Maximum interval of RabbitMQ connection retries. Default is 30 # seconds. (integer value) #rabbit_interval_max = 30 # DEPRECATED: Maximum number of RabbitMQ connection retries. Default # is 0 (infinite retry count). (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #rabbit_max_retries = 0 # Try to use HA queues in RabbitMQ (x-ha-policy: all). If you change # this option, you must wipe the RabbitMQ database. In RabbitMQ 3.0, # queue mirroring is no longer controlled by the x-ha-policy argument # when declaring a queue. If you just want to make sure that all # queues (except those with auto-generated names) are mirrored across # all nodes, run: ""rabbitmqctl set_policy HA '^(?!amq\.).*' '{""ha- # mode"": ""all""}' "" (boolean value) #rabbit_ha_queues = false # Positive integer representing duration in seconds for queue TTL # (x-expires). Queues which are unused for the duration of the TTL are # automatically deleted. The parameter affects only reply and fanout # queues. (integer value) # Minimum value: 1 #rabbit_transient_queues_ttl = 1800 # Specifies the number of messages to prefetch. Setting to zero allows # unlimited messages. (integer value) #rabbit_qos_prefetch_count = 0 # Number of seconds after which the Rabbit broker is considered down # if heartbeat's keep-alive fails (0 disable the heartbeat). # EXPERIMENTAL (integer value) #heartbeat_timeout_threshold = 60 # How often times during the heartbeat_timeout_threshold we check the # heartbeat. (integer value) #heartbeat_rate = 2 # Deprecated, use rpc_backend=kombu+memory or rpc_backend=fake # (boolean value) #fake_rabbit = false # Maximum number of channels to allow (integer value) #channel_max = <None> # The maximum byte size for an AMQP frame (integer value) #frame_max = <None> # How often to send heartbeats for consumer's connections (integer # value) #heartbeat_interval = 3 # Arguments passed to ssl.wrap_socket (dict value) #ssl_options = <None> # Set socket timeout in seconds for connection's socket (floating # point value) #socket_timeout = 0.25 # Set TCP_USER_TIMEOUT in seconds for connection's socket (floating # point value) #tcp_user_timeout = 0.25 # Set delay for reconnection to some host which has connection error # (floating point value) #host_connection_reconnect_delay = 0.25 # Connection factory implementation (string value) # Allowed values: new, single, read_write #connection_factory = single # Maximum number of connections to keep queued. (integer value) #pool_max_size = 30 # Maximum number of connections to create above `pool_max_size`. # (integer value) #pool_max_overflow = 0 # Default number of seconds to wait for a connections to available # (integer value) #pool_timeout = 30 # Lifetime of a connection (since creation) in seconds or None for no # recycling. Expired connections are closed on acquire. (integer # value) #pool_recycle = 600 # Threshold at which inactive (since release) connections are # considered stale in seconds or None for no staleness. Stale # connections are closed on acquire. (integer value) #pool_stale = 60 # Default serialization mechanism for serializing/deserializing # outgoing/incoming messages (string value) # Allowed values: json, msgpack #default_serializer_type = json # Persist notification messages. (boolean value) #notification_persistence = false # Exchange name for sending notifications (string value) #default_notification_exchange = ${control_exchange}_notification # Max number of not acknowledged message which RabbitMQ can send to # notification listener. (integer value) #notification_listener_prefetch_count = 100 # Reconnecting retry count in case of connectivity problem during # sending notification, -1 means infinite retry. (integer value) #default_notification_retry_attempts = -1 # Reconnecting retry delay in case of connectivity problem during # sending notification message (floating point value) #notification_retry_delay = 0.25 # Time to live for rpc queues without consumers in seconds. (integer # value) #rpc_queue_expiration = 60 # Exchange name for sending RPC messages (string value) #default_rpc_exchange = ${control_exchange}_rpc # Exchange name for receiving RPC replies (string value) #rpc_reply_exchange = ${control_exchange}_rpc_reply # Max number of not acknowledged message which RabbitMQ can send to # rpc listener. (integer value) #rpc_listener_prefetch_count = 100 # Max number of not acknowledged message which RabbitMQ can send to # rpc reply listener. (integer value) #rpc_reply_listener_prefetch_count = 100 # Reconnecting retry count in case of connectivity problem during # sending reply. -1 means infinite retry during rpc_timeout (integer # value) #rpc_reply_retry_attempts = -1 # Reconnecting retry delay in case of connectivity problem during # sending reply. (floating point value) #rpc_reply_retry_delay = 0.25 # Reconnecting retry count in case of connectivity problem during # sending RPC message, -1 means infinite retry. If actual retry # attempts in not 0 the rpc request could be processed more than one # time (integer value) #default_rpc_retry_attempts = -1 # Reconnecting retry delay in case of connectivity problem during # sending RPC message (floating point value) #rpc_retry_delay = 0.25 [oslo_messaging_zmq] # # From oslo.messaging # # ZeroMQ bind address. Should be a wildcard (*), an ethernet # interface, or IP. The ""host"" option should point or resolve to this # address. (string value) #rpc_zmq_bind_address = * # MatchMaker driver. (string value) # Allowed values: redis, sentinel, dummy #rpc_zmq_matchmaker = redis # Number of ZeroMQ contexts, defaults to 1. (integer value) #rpc_zmq_contexts = 1 # Maximum number of ingress messages to locally buffer per topic. # Default is unlimited. (integer value) #rpc_zmq_topic_backlog = <None> # Directory for holding IPC sockets. (string value) #rpc_zmq_ipc_dir = /var/run/openstack # Name of this node. Must be a valid hostname, FQDN, or IP address. # Must match ""host"" option, if running Nova. (string value) #rpc_zmq_host = localhost # Number of seconds to wait before all pending messages will be sent # after closing a socket. The default value of -1 specifies an # infinite linger period. The value of 0 specifies no linger period. # Pending messages shall be discarded immediately when the socket is # closed. Positive values specify an upper bound for the linger # period. (integer value) # Deprecated group/name - [DEFAULT]/rpc_cast_timeout #zmq_linger = -1 # The default number of seconds that poll should wait. Poll raises # timeout exception when timeout expired. (integer value) #rpc_poll_timeout = 1 # Expiration timeout in seconds of a name service record about # existing target ( < 0 means no timeout). (integer value) #zmq_target_expire = 300 # Update period in seconds of a name service record about existing # target. (integer value) #zmq_target_update = 180 # Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. # (boolean value) #use_pub_sub = false # Use ROUTER remote proxy. (boolean value) #use_router_proxy = false # This option makes direct connections dynamic or static. It makes # sense only with use_router_proxy=False which means to use direct # connections for direct message types (ignored otherwise). (boolean # value) #use_dynamic_connections = false # How many additional connections to a host will be made for failover # reasons. This option is actual only in dynamic connections mode. # (integer value) #zmq_failover_connections = 2 # Minimal port number for random ports range. (port value) # Minimum value: 0 # Maximum value: 65535 #rpc_zmq_min_port = 49153 # Maximal port number for random ports range. (integer value) # Minimum value: 1 # Maximum value: 65536 #rpc_zmq_max_port = 65536 # Number of retries to find free port number before fail with # ZMQBindError. (integer value) #rpc_zmq_bind_port_retries = 100 # Default serialization mechanism for serializing/deserializing # outgoing/incoming messages (string value) # Allowed values: json, msgpack #rpc_zmq_serialization = json # This option configures round-robin mode in zmq socket. True means # not keeping a queue when server side disconnects. False means to # keep queue and messages even if server is disconnected, when the # server appears we send all accumulated messages to it. (boolean # value) #zmq_immediate = true # Enable/disable TCP keepalive (KA) mechanism. The default value of -1 # (or any other negative value) means to skip any overrides and leave # it to OS default; 0 and 1 (or any other positive value) mean to # disable and enable the option respectively. (integer value) #zmq_tcp_keepalive = -1 # The duration between two keepalive transmissions in idle condition. # The unit is platform dependent, for example, seconds in Linux, # milliseconds in Windows etc. The default value of -1 (or any other # negative value and 0) means to skip any overrides and leave it to OS # default. (integer value) #zmq_tcp_keepalive_idle = -1 # The number of retransmissions to be carried out before declaring # that remote end is not available. The default value of -1 (or any # other negative value and 0) means to skip any overrides and leave it # to OS default. (integer value) #zmq_tcp_keepalive_cnt = -1 # The duration between two successive keepalive retransmissions, if # acknowledgement to the previous keepalive transmission is not # received. The unit is platform dependent, for example, seconds in # Linux, milliseconds in Windows etc. The default value of -1 (or any # other negative value and 0) means to skip any overrides and leave it # to OS default. (integer value) #zmq_tcp_keepalive_intvl = -1 # Maximum number of (green) threads to work concurrently. (integer # value) #rpc_thread_pool_size = 100 # Expiration timeout in seconds of a sent/received message after which # it is not tracked anymore by a client/server. (integer value) #rpc_message_ttl = 300 # Wait for message acknowledgements from receivers. This mechanism # works only via proxy without PUB/SUB. (boolean value) #rpc_use_acks = false # Number of seconds to wait for an ack from a cast/call. After each # retry attempt this timeout is multiplied by some specified # multiplier. (integer value) #rpc_ack_timeout_base = 15 # Number to multiply base ack timeout by after each retry attempt. # (integer value) #rpc_ack_timeout_multiplier = 2 # Default number of message sending attempts in case of any problems # occurred: positive value N means at most N retries, 0 means no # retries, None or -1 (or any other negative values) mean to retry # forever. This option is used only if acknowledgments are enabled. # (integer value) #rpc_retry_attempts = 3 # List of publisher hosts SubConsumer can subscribe on. This option # has higher priority then the default publishers list taken from the # matchmaker. (list value) #subscribe_on = ",,1212,110
openstack%2Fironic-inspector~master~Id278837dae655a5d3f9269207e91d55939e8f73c,openstack/ironic-inspector,master,Id278837dae655a5d3f9269207e91d55939e8f73c,Docs: fix typo in HTTP API,ABANDONED,2017-08-21 08:02:25.000000000,2020-09-08 08:18:31.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-08-21 08:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/01c57ae7ec3df7d6bf9f79f01e9d89e2ba230937', 'message': 'Docs: fix typo in HTTP API\n\nFix typo and add side effect for missing `boot_interface` key.\n\nChange-Id: Id278837dae655a5d3f9269207e91d55939e8f73c\n'}, {'number': 2, 'created': '2017-08-22 11:39:41.000000000', 'files': ['doc/source/user/http-api.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fe60605c5a2c7f898ff006ec7c0b8cdb0c076996', 'message': 'Docs: fix typo in HTTP API\n\nFix typo and add side effect for missing `boot_interface` key.\n\nChange-Id: Id278837dae655a5d3f9269207e91d55939e8f73c\n'}]",3,495751,fe60605c5a2c7f898ff006ec7c0b8cdb0c076996,8,4,2,13636,,,0,"Docs: fix typo in HTTP API

Fix typo and add side effect for missing `boot_interface` key.

Change-Id: Id278837dae655a5d3f9269207e91d55939e8f73c
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/51/495751/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/http-api.rst'],1,01c57ae7ec3df7d6bf9f79f01e9d89e2ba230937,docs-fix-callback-typo," but some features will not work as expected, if it is not provided, e.g. creating only PXE ports in **Ironic** (``add_ports=pxe`` option)."," but some features will now work as expected, if it is not provided.",2,1
openstack%2Fironic-inspector~master~I38d4e4d4620145267dba222b9f2994e483c0b713,openstack/ironic-inspector,master,I38d4e4d4620145267dba222b9f2994e483c0b713,[TEST] PGSQL: create Enum before using,ABANDONED,2017-06-09 14:54:51.000000000,2020-09-08 08:18:17.000000000,,[],"[{'number': 1, 'created': '2017-06-09 14:54:51.000000000', 'files': ['ironic_inspector/migrations/versions/d2e48801c8ef_introducing_node_state_attribute.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0879abbad177410a9aea9e3c3d22aa8da3a439ba', 'message': '[TEST] PGSQL: create Enum before using\n\nChange-Id: I38d4e4d4620145267dba222b9f2994e483c0b713\nCloses-Bug: 1696950\n'}]",0,472716,0879abbad177410a9aea9e3c3d22aa8da3a439ba,2,0,1,18653,,,0,"[TEST] PGSQL: create Enum before using

Change-Id: I38d4e4d4620145267dba222b9f2994e483c0b713
Closes-Bug: 1696950
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/16/472716/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/migrations/versions/d2e48801c8ef_introducing_node_state_attribute.py'],1,0879abbad177410a9aea9e3c3d22aa8da3a439ba,bug/1696950," state_enum = sa.Enum(*istate.States.all(), name='node_state') state_enum.create(op.get_bind()) op.add_column('nodes', sa.Column('state', state_enum,"," op.add_column('nodes', sa.Column('state', sa.Enum(*istate.States.all(), name='node_state'),",4,2
openstack%2Fironic-inspector~master~I92eb037d5c4d0107e061799f1e892e3e7c6e15b9,openstack/ironic-inspector,master,I92eb037d5c4d0107e061799f1e892e3e7c6e15b9,[WIP]Create a node for testing,ABANDONED,2016-07-01 10:31:42.000000000,2020-09-08 08:17:30.000000000,,"[{'_account_id': 7882}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-07-01 10:31:42.000000000', 'files': ['ironic_inspector/test/inspector_tempest_plugin/tests/test_basic.py', 'ironic_inspector/test/inspector_tempest_plugin/tests/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1813da1c251e7c805e113746cdb226c816a677d1', 'message': '[WIP]Create a node for testing\n\nCurrently, tempest tests uses existing nodes for testing.\nIt changes existing nodes and sometimes breaks them.\nThis patch set creates a node newly for testing in stead of using existing\nnodes in tempest tests.\nThis is the way which ironic does.\nSee: https://github.com/openstack/ironic/blob/master/ironic_tempest_plugin/tests/api/admin/test_nodes.py#L28-L29\n\nChange-Id: I92eb037d5c4d0107e061799f1e892e3e7c6e15b9\n'}]",0,336474,1813da1c251e7c805e113746cdb226c816a677d1,6,2,1,7882,,,0,"[WIP]Create a node for testing

Currently, tempest tests uses existing nodes for testing.
It changes existing nodes and sometimes breaks them.
This patch set creates a node newly for testing in stead of using existing
nodes in tempest tests.
This is the way which ironic does.
See: https://github.com/openstack/ironic/blob/master/ironic_tempest_plugin/tests/api/admin/test_nodes.py#L28-L29

Change-Id: I92eb037d5c4d0107e061799f1e892e3e7c6e15b9
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/74/336474/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/inspector_tempest_plugin/tests/test_basic.py', 'ironic_inspector/test/inspector_tempest_plugin/tests/manager.py']",2,1813da1c251e7c805e113746cdb226c816a677d1,create-dummy-node," print(""===========cls.baremetal_client============"") print(cls.baremetal_client) def wait_for_introspection_finished(self, node_id): #not_introspected = {node_id for node_id in node_ids} not_introspected = True #for node_id in node_ids: # status = self.introspection_status(node_id) status = self.introspection_status(node_id) #if status['finished']: if status['finished']: if status['error']: message = ('Node %(node_id)s introspection failed ' 'with %(error)s.' % {'node_id': node_id, 'error': status['error']}) raise exceptions.IntrospectionFailed(message) not_introspected = False #if status['error']: # message = ('Node %(node_id)s introspection failed ' # 'with %(error)s.' % # {'node_id': node_id, # 'error': status['error']}) #raise exceptions.IntrospectionFailed(message) #not_introspected = not_introspected - {node_id} if (int(time.time()) - start >= CONF.baremetal_introspection.introspection_timeout): message = ('Introspection timed out for nodes: %s' % not_introspected) raise exceptions.IntrospectionTimeout(message)"," def wait_for_introspection_finished(self, node_ids): not_introspected = {node_id for node_id in node_ids} for node_id in node_ids: status = self.introspection_status(node_id) if status['finished']: if status['error']: message = ('Node %(node_id)s introspection failed ' 'with %(error)s.' % {'node_id': node_id, 'error': status['error']}) raise exceptions.IntrospectionFailed(message) not_introspected = not_introspected - {node_id} if (int(time.time()) - start >= CONF.baremetal_introspection.introspection_timeout): message = ('Introspection timed out for nodes: %s' % not_introspected) raise exceptions.IntrospectionTimeout(message)",84,39
openstack%2Fironic-inspector~master~I5443a44a588f29d37d64b345c14376d0ac347d60,openstack/ironic-inspector,master,I5443a44a588f29d37d64b345c14376d0ac347d60,Introducing RPC,ABANDONED,2017-08-24 22:43:01.000000000,2020-09-08 08:17:13.000000000,,"[{'_account_id': 18653}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-08-24 22:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/89e80782ebfa30bee3fe531ebd9176295a6672f2', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\n'}, {'number': 2, 'created': '2017-08-28 18:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/283c07e74c9ef8f5b2c609128ca79f7abb8f2e1f', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nFIXME(milan):\n- jsonpickle used for simplicity\n- the fake implementation of rpc-backend seems to hang forever\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\n'}, {'number': 3, 'created': '2017-08-31 16:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4193db71b2d731fa73ae0491c8e575dd37c80291', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nFIXME(milan):\n- jsonpickle used for simplicity\n- using a floating version number that is explicitly cast to string\n- unittests\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\nDepends-On: I8dff66f4cafeb1f4c57dbfbfaba5d49e50f55fee\n'}, {'number': 4, 'created': '2017-09-11 18:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8ecd62db07803953e844ec45283a9ca163a819dc', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nFIXME(milan):\n- decorate the process background calls\n- using a floating version number that is explicitly cast to string\n- unittests\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\nDepends-On: I8dff66f4cafeb1f4c57dbfbfaba5d49e50f55fee\n'}, {'number': 5, 'created': '2017-09-14 12:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/09b884c0392e3ea0efb617405485b09dcb922fa9', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nFIXME(milan):\n- decorate the process background calls\n- using a floating version number that is explicitly cast to string\n- unittests\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\nDepends-On: I8dff66f4cafeb1f4c57dbfbfaba5d49e50f55fee\n'}, {'number': 6, 'created': '2017-09-14 13:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8c9e55b1004c915c5a0ba3e73f0afec824485547', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nFIXME(milan):\n- decorate the process background calls\n- using a floating version number that is explicitly cast to string\n- unittests\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\nDepends-On: I8dff66f4cafeb1f4c57dbfbfaba5d49e50f55fee\n'}, {'number': 7, 'created': '2018-04-13 08:17:16.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/introspect.py', 'requirements.txt', 'ironic_inspector/process.py', 'ironic_inspector/wsgi_service.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/46c2be51655285a08238f3f86c67b850b62e5cb6', 'message': 'Introducing RPC\n\nIntroducing a basic oslo_messaging RPC implementation to be able to ""cast""\nasync calls to a stand-alone worker process in the future.\n\nPickling support is added to the ``node_info`` object to be able to\nserialize it for the RPC cast.\n\nFIXME(milan):\n- decorate the process background calls\n- using a floating version number that is explicitly cast to string\n- unittests\n\nChange-Id: I5443a44a588f29d37d64b345c14376d0ac347d60\nDepends-On: I8dff66f4cafeb1f4c57dbfbfaba5d49e50f55fee\n'}]",22,497689,46c2be51655285a08238f3f86c67b850b62e5cb6,27,4,7,18653,,,0,"Introducing RPC

Introducing a basic oslo_messaging RPC implementation to be able to ""cast""
async calls to a stand-alone worker process in the future.

Pickling support is added to the ``node_info`` object to be able to
serialize it for the RPC cast.

FIXME(milan):
- decorate the process background calls
- using a floating version number that is explicitly cast to string
- unittests

Change-Id: I5443a44a588f29d37d64b345c14376d0ac347d60
Depends-On: I8dff66f4cafeb1f4c57dbfbfaba5d49e50f55fee
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/89/497689/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/introspect.py', 'requirements.txt', 'ironic_inspector/wsgi_service.py', 'ironic_inspector/test/functional.py', 'ironic_inspector/rpc.py']",6,89e80782ebfa30bee3fe531ebd9176295a6672f2,story/2001842,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import six from oslo_config import cfg from oslo_log import log import oslo_messaging as messaging CONF = cfg.CONF LOG = log.getLogger(__name__) _ENDPOINTS = [] _SERVER = None EXCHANGE = 'ironic-inspector' TOPIC = 'worker' LATEST_VERSION = 1.0 SERVER_NAME = 'ironic-inspector-worker' def _args_to_kwargs(args, kwargs): # cause messaging.cast doesn't propagate custom args kwargs.update(__args=args) def _args_from_kwargs(kwargs): return kwargs.pop('__args', []) def worker_cast(version): """"""A transparent remote cast decorator. Works as an compile-time RPC Endpoint factory. """""" # TODO(milan): propagate context to the decorated functions def outer(fn): class EndPoint(object): """"""A Dummy endpoint."""""" target = messaging.Target(exchange=EXCHANGE, topic=TOPIC, version=version) @messaging.expose @six.wraps(fn) def method(self, context, **kwargs): """"""Endpoint exposed method."""""" args = _args_from_kwargs(kwargs) return fn(*args, **kwargs) # alias the method to the function name setattr(EndPoint, fn.__name__, EndPoint.method) # ""publish"" the endpoint for processing in the RPC server instance _ENDPOINTS.append(EndPoint()) @six.wraps(fn) def inner(*args, **kwargs): """"""A dynamic RPC client-side method cast."""""" # NOTE(milan) the version in the client may differ from the server # side version as it may be running a newer inspector. The client # might not be able to call the newest methods but that's OK target = messaging.Target(topic=TOPIC, version=version) transport = messaging.get_transport(CONF) client = messaging.RPCClient(transport, target) dummy_context = {} # NOTE(milan) args/kwargs have to be serializable LOG.debug('Casting a call to %s...', fn.__name__) _args_to_kwargs(args, kwargs) client.cast(dummy_context, fn.__name__, **kwargs) # NOTE(milan) a cast doesn't return any value return inner return outer def get_server(): """"""Get the singleton RPC server."""""" global _SERVER if _SERVER is None: transport = messaging.get_rpc_transport(CONF) target = messaging.Target(topic=TOPIC, exchange=EXCHANGE, server=SERVER_NAME) _SERVER = messaging.get_rpc_server(transport, target, _ENDPOINTS, executor='eventlet') return _SERVER ",,123,5
openstack%2Fironic-inspector~master~Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5,openstack/ironic-inspector,master,Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5,Functional tests: clean up test config file,ABANDONED,2017-06-23 10:02:44.000000000,2020-09-08 08:16:33.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-06-23 10:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f55575caa2fbacd2f89ab0b5dbd8592cf5c5f803', 'message': 'Functional tests: clean up test config file\n\nClean up test configuration file on tear down. Also create/delete\nfile on class scope.\n\nChange-Id: Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5\n'}, {'number': 2, 'created': '2017-06-23 10:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ba129dc9fedc2e25106eefc0c6a28562f50f9164', 'message': 'Functional tests: clean up test config file\n\nClean up test configuration file on tear down. Also create/delete\nfile on class scope.\n\nChange-Id: Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5\n'}, {'number': 3, 'created': '2017-07-27 12:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d7978125c40ea8cc904d4320d8af4b91d8d107e5', 'message': 'Functional tests: clean up test config file\n\nClean up test configuration file on tear down. Also create/delete\nfile on class scope.\n\nChange-Id: Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5\n'}, {'number': 4, 'created': '2017-07-31 13:22:11.000000000', 'files': ['ironic_inspector/test/functional.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5ac48218f573028221e0fade2bebcaed91a1517f', 'message': ""Functional tests: clean up test config file\n\nClean up test configuration file after tests pass. Also don't\nexit immediately, and wait for all processes are finished and\ntest config is cleaned.\n\nChange-Id: Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5\n""}]",10,476877,5ac48218f573028221e0fade2bebcaed91a1517f,20,4,4,13636,,,0,"Functional tests: clean up test config file

Clean up test configuration file after tests pass. Also don't
exit immediately, and wait for all processes are finished and
test config is cleaned.

Change-Id: Ia385aa6b16b0bb70fe9b3250f53c8675a7ee06a5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/77/476877/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/functional.py'],1,f55575caa2fbacd2f89ab0b5dbd8592cf5c5f803,cleanup_test_conf,"import shutilTEST_CONF_DIR = None global TEST_CONF_DIR if not TEST_CONF_DIR: TEST_CONF_DIR = tempfile.mkdtemp() test_conf_file = os.path.join(TEST_CONF_DIR, 'test.conf') db_file = os.path.join(TEST_CONF_DIR, 'test.db') with open(test_conf_file, 'wb') as fp: return os.path.join(TEST_CONF_DIR, 'test.conf') @classmethod def setUpClass(cls): super(Base, cls).setUpClass() cls.conf_file = get_test_conf_file() self.cfg.set_config_files([self.conf_file]) rules.delete_all() super(Base, self).tearDown() @classmethod def tearDownClass(self): super(Base, self).tearDownClass() shutil.rmtree(TEST_CONF_DIR)","TEST_CONF_FILE = None global TEST_CONF_FILE if not TEST_CONF_FILE: d = tempfile.mkdtemp() TEST_CONF_FILE = os.path.join(d, 'test.conf') db_file = os.path.join(d, 'test.db') with open(TEST_CONF_FILE, 'wb') as fp: return TEST_CONF_FILE rules.delete_all() conf_file = get_test_conf_file() self.cfg.set_config_files([conf_file]) super(Base, self).tearDown()",22,12
openstack%2Fironic-inspector~master~Ia161391ce138cffbeb07a432e501847902de3652,openstack/ironic-inspector,master,Ia161391ce138cffbeb07a432e501847902de3652,Populate the switch_info field in local_link_connection,ABANDONED,2018-03-07 07:23:47.000000000,2020-09-08 08:15:49.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-03-07 07:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f8424eb30363047db5701ed9a981cec343bcbdfe', 'message': 'Populate the switch_info field in local_link_connection\n\nNow the generic lldp hook only set on port_id and switch_id in\nlocal_link_connection. But lldp basic hook has handled most of the\ntlvs. Populate the switch_info field in local_link_connection\nis Effortlessly with lldp_basic plugin.\n\nChange-Id: Ia161391ce138cffbeb07a432e501847902de3652\n'}, {'number': 2, 'created': '2018-03-08 02:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9ea92dfa85440c8ae23bd911a0c11f55be72e8e9', 'message': 'Populate the switch_info field in local_link_connection\n\nNow the generic lldp hook only set on port_id and switch_id in\nlocal_link_connection. But lldp basic hook has handled most of the\ntlvs. Populate the switch_info field in local_link_connection\nis Effortlessly with lldp_basic plugin.\n\nChange-Id: Ia161391ce138cffbeb07a432e501847902de3652\n'}, {'number': 3, 'created': '2018-03-09 03:14:27.000000000', 'files': ['releasenotes/notes/add-switch-info-local_link_connection-ca5b106232685cfc.yaml', 'ironic_inspector/test/unit/test_plugins_local_link_connection.py', 'ironic_inspector/plugins/local_link_connection.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0f378c20d54d817df28d5480689a142305ceec95', 'message': 'Populate the switch_info field in local_link_connection\n\nNow the generic lldp hook only set on port_id and switch_id in\nlocal_link_connection. But lldp basic hook has handled most of the\ntlvs. Populate the switch_info field in local_link_connection\nis Effortlessly with lldp_basic plugin.\n\nChange-Id: Ia161391ce138cffbeb07a432e501847902de3652\n'}]",2,550372,0f378c20d54d817df28d5480689a142305ceec95,10,3,3,17559,,,0,"Populate the switch_info field in local_link_connection

Now the generic lldp hook only set on port_id and switch_id in
local_link_connection. But lldp basic hook has handled most of the
tlvs. Populate the switch_info field in local_link_connection
is Effortlessly with lldp_basic plugin.

Change-Id: Ia161391ce138cffbeb07a432e501847902de3652
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/72/550372/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/plugins/local_link_connection.py'],1,f8424eb30363047db5701ed9a981cec343bcbdfe,feature/add_switch_info_name,"SWITCH_INFO_ITEM_NAME= ""switch_info"" lldp_parsers.LLDP_PORT_ID_NM: PORT_ID_ITEM_NAME, lldp_parsers.LLDP_SYS_NAME_NM: SWITCH_INFO_ITEM_NAME}", lldp_parsers.LLDP_PORT_ID_NM: PORT_ID_ITEM_NAME},3,1
openstack%2Fironic-inspector~stable%2Fqueens~I7de2be5950a23def3ec6490f2e6dfa3d5c42798a,openstack/ironic-inspector,stable/queens,I7de2be5950a23def3ec6490f2e6dfa3d5c42798a,Support ip6tables for iptables pxe filter,ABANDONED,2019-05-14 04:09:31.000000000,2020-09-08 08:15:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-05-14 04:09:31.000000000', 'files': ['ironic_inspector/test/unit/test_iptables.py', 'rootwrap.d/ironic-inspector.filters', 'ironic_inspector/pxe_filter/iptables.py', 'ironic_inspector/conf/iptables.py', 'releasenotes/notes/support-ip6tables-ce30f614de502adb.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5f8b79a3cb665c2b0dd3b4fc6984655f465e0f4f', 'message': 'Support ip6tables for iptables pxe filter\n\nAdds a configuration option [iptables]ip_version to specify the\ndesired ip version for the iptables pxe filter, which can be set to\n4 or 6. When set to 6, the iptables pxe filter will use ip6tables\ncommand to manage rules for the port 547 which is the port of DHCPv6\nserver side.\n\nThe string type is used to make room for the future, when there is need\nto automatically determine ip version from the binding interface.\n\nChange-Id: I7de2be5950a23def3ec6490f2e6dfa3d5c42798a\nStory: 1756012\nTask: 11411\n(cherry picked from commit f37eb0fc587a24b3a29a695c2d2b708d2f7c32f2)\n'}]",0,658957,5f8b79a3cb665c2b0dd3b4fc6984655f465e0f4f,3,2,1,2874,,,0,"Support ip6tables for iptables pxe filter

Adds a configuration option [iptables]ip_version to specify the
desired ip version for the iptables pxe filter, which can be set to
4 or 6. When set to 6, the iptables pxe filter will use ip6tables
command to manage rules for the port 547 which is the port of DHCPv6
server side.

The string type is used to make room for the future, when there is need
to automatically determine ip version from the binding interface.

Change-Id: I7de2be5950a23def3ec6490f2e6dfa3d5c42798a
Story: 1756012
Task: 11411
(cherry picked from commit f37eb0fc587a24b3a29a695c2d2b708d2f7c32f2)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/57/658957/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_iptables.py', 'rootwrap.d/ironic-inspector.filters', 'ironic_inspector/pxe_filter/iptables.py', 'ironic_inspector/conf/iptables.py', 'releasenotes/notes/support-ip6tables-ce30f614de502adb.yaml']",5,5f8b79a3cb665c2b0dd3b4fc6984655f465e0f4f,1756012-stable/queens,"--- features: - | Adds a configuration option ``[iptables]ip_version`` to specify the desired ip version for the iptables pxe filter, possible values are ``4`` and ``6``, the default value is ``4``. When set to ``6``, the iptables pxe filter will use ``ip6tables`` command to manage rules for the DHCPv6 port ``547``. ",,85,17
openstack%2Fstevedore~master~Ia92d5b8f6194d9f7ba2f3221fe378dafe23be567,openstack/stevedore,master,Ia92d5b8f6194d9f7ba2f3221fe378dafe23be567,fix supported python versions in documentation,MERGED,2020-09-08 07:22:45.000000000,2020-09-08 07:53:01.000000000,2020-09-08 07:51:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-08 07:22:45.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/274eaa6c5487124fae3a19fa8aa80ea7d889105b', 'message': 'fix supported python versions in documentation\n\nChange-Id: Ia92d5b8f6194d9f7ba2f3221fe378dafe23be567\n'}]",0,750282,274eaa6c5487124fae3a19fa8aa80ea7d889105b,7,2,1,25871,,,0,"fix supported python versions in documentation

Change-Id: Ia92d5b8f6194d9f7ba2f3221fe378dafe23be567
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/82/750282/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,274eaa6c5487124fae3a19fa8aa80ea7d889105b,fix-python-version-doc,stevedore is tested under Python 3.6 and 3.7.,stevedore is tested under Python 2.7 and 3.4.,1,1
openstack%2Fnova~master~Ie5b72a3a8593df7a1bf372ec1c4fe6e544026482,openstack/nova,master,Ie5b72a3a8593df7a1bf372ec1c4fe6e544026482,Support routed net during cold migration,ABANDONED,2020-03-03 17:36:59.000000000,2020-09-08 07:52:23.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-03 17:36:59.000000000', 'files': ['nova/conductor/tasks/migrate.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ec359cf06348ff5a59664510f154deaf14a7baf', 'message': 'Support routed net during cold migration\n\nWhen a server with ports in routed networks is moved to another host\nthe destination host should be selected in a way that each port is still\nconnected to the same segment of the network.\n\nTODO:\n* finish the func test\n* update request spec before calling the scheduler during migration\n* add unit test coverage\n\nChange-Id: Ie5b72a3a8593df7a1bf372ec1c4fe6e544026482\n'}]",0,711071,4ec359cf06348ff5a59664510f154deaf14a7baf,9,6,1,9708,,,0,"Support routed net during cold migration

When a server with ports in routed networks is moved to another host
the destination host should be selected in a way that each port is still
connected to the same segment of the network.

TODO:
* finish the func test
* update request spec before calling the scheduler during migration
* add unit test coverage

Change-Id: Ie5b72a3a8593df7a1bf372ec1c4fe6e544026482
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/711071/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/migrate.py', 'nova/tests/functional/test_servers.py']",2,4ec359cf06348ff5a59664510f154deaf14a7baf,routed-networks-scheduling," # HostNameWeigherFixture prefers host1 but the requested network has # only segments on host2 and host3 port = self.neutron.port_with_deferred_ip_allocation server = self._create_server( name='server-with-routed-net', networks=[{'port': port['id']}]) self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) self.api.post_server_action(server['id'], {'migrate': None}) # HostNameWeigherFixture prefers host1 but the port is in a network # that has only segments on host2 and host3 # FIXME(gibi): This is broken now as the RequestSpec is not updated # before the scheduler call during the migration and therefore the # network segment availability is not considered during such scheduling # Expected behavior: # * host1 is not selected as it has no segment at all for the # requested network # * host2 is not selected as it is the source host # * host3 is not selected even if it has segment on the requested # network but it is a different segment than the where the port is # already connected to server = self._wait_for_server_parameter(server, {'OS-EXT-SRV-ATTR:host': 'host1', 'OS-EXT-STS:task_state': None, 'status': 'VERIFY_RESIZE'}) # TODO(gibi): Create a more complex network setup like: # * net1 has segment on host1(segment1) and host3(segment2) # * net2 has segment on host2(segment3) and host3(segment4) # * boot with two deferred ports, one from each net and expect # that host3 is selected by the scheduler # * start host4, host5 and host6 (make weigher prefer host4 over # host5 over host6) # * host4 has segment2(net1) and segment3(net2) # * host5 has segment1(net1) and segment4(net2) # * host6 has segment2(net1) and segment4(net2) # * the migrate the server and assert that host6 is selected as host1 # has no segment for net2, host2 has no segment for net1, host3 is the # source host, host4 has a wrong segment from net2, host5 has wrong # segment from net1.", # HostNameWeigherFixture prefers host1 but the port is in a network # that has only segments on host2 and host3 pass,47,3
openstack%2Fpython-manilaclient~master~I1fa207675d0dee698d52ea244ae358f4d9d6cf6a,openstack/python-manilaclient,master,I1fa207675d0dee698d52ea244ae358f4d9d6cf6a,Remove Babel requirement,ABANDONED,2020-09-08 07:22:54.000000000,2020-09-08 07:41:32.000000000,,[],"[{'number': 1, 'created': '2020-09-08 07:22:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9dd1f90801064a12ec19c6eb014a58c287e39a9c', 'message': 'Remove Babel requirement\n\nBabel is no longer a requirement for OpenStack projects.\nwe need remove it and save some disk space.\n\nChange-Id: I1fa207675d0dee698d52ea244ae358f4d9d6cf6a\n'}]",0,750283,9dd1f90801064a12ec19c6eb014a58c287e39a9c,2,0,1,32291,,,0,"Remove Babel requirement

Babel is no longer a requirement for OpenStack projects.
we need remove it and save some disk space.

Change-Id: I1fa207675d0dee698d52ea244ae358f4d9d6cf6a
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/83/750283/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9dd1f90801064a12ec19c6eb014a58c287e39a9c,,,"Babel!=2.4.0,>=2.3.4 # BSD",0,1
openstack%2Fmurano-dashboard~master~I4e0f50b95b7c94cf641fc778268b6c4c1267175c,openstack/murano-dashboard,master,I4e0f50b95b7c94cf641fc778268b6c4c1267175c,Cleanup for Refactor-error-messages,MERGED,2020-08-27 17:15:45.000000000,2020-09-08 05:59:55.000000000,2020-09-08 05:59:55.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/29a3d4a0a2e271006805b60f631331d3eea5ebeb', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nDepends-On: https://review.opendev.org/#/c/708069/\nChange-Id: I4e0f50b95b7c94cf641fc778268b6c4c1267175c\n'}, {'number': 2, 'created': '2020-08-28 15:18:29.000000000', 'files': ['muranodashboard/packages/forms.py', 'muranodashboard/environments/tables.py', 'muranodashboard/tests/unit/packages/test_forms.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/1c1dac9aa6f0e8fcf5e35a3d15d47ed483744fad', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nDepends-On: https://review.opendev.org/#/c/708069/\nChange-Id: I4e0f50b95b7c94cf641fc778268b6c4c1267175c\n'}]",3,748491,1c1dac9aa6f0e8fcf5e35a3d15d47ed483744fad,9,2,2,29313,,,0,"Cleanup for Refactor-error-messages

This patch is a clean-up patch for refactor-error-messages bp
which remove the exception message from base message otherwise
the same exception message display twice like
this https://ibb.co/XyFWMdz .

Depends-On: https://review.opendev.org/#/c/708069/
Change-Id: I4e0f50b95b7c94cf641fc778268b6c4c1267175c
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/91/748491/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/packages/forms.py', 'muranodashboard/environments/tables.py']",2,29a3d4a0a2e271006805b60f631331d3eea5ebeb,bp/refactor-error-messages," except Exception: msg = _('Unable to create environment ""%s"".') % environment msg = _('Unable to delete environment ""%s"".') % environment_id except Exception: msg = _('Unable to abandon the environment ""%s"".') % environment_id"," except Exception as e: msg = (_('Unable to create environment {0}' ' due to: {1}').format(environment, e)) msg = (_('Unable to delete environment {0}' ' due to: {1}').format(environment_id, e)) except Exception as e: msg = (_('Unable to abandon an environment {0}' ' due to: {1}').format(environment_id, e))",7,22
openstack%2Fsolum-dashboard~master~Idda9c9d6acfe545b3a663543ab5d7056d70bf3d9,openstack/solum-dashboard,master,Idda9c9d6acfe545b3a663543ab5d7056d70bf3d9,Cleanup for Refactor-error-messages,MERGED,2020-08-28 19:00:57.000000000,2020-09-08 05:58:25.000000000,2020-09-08 05:58:25.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-28 19:00:57.000000000', 'files': ['solumdashboard/languagepacks/views.py', 'solumdashboard/assemblies/views.py', 'solumdashboard/applications/views.py', 'solumdashboard/languagepacks/forms.py', 'solumdashboard/applications/forms.py'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/51c38aee7a19bc05e426744e69361fbb431cb887', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nDepends-On: https://review.opendev.org/#/c/708069/\nChange-Id: Idda9c9d6acfe545b3a663543ab5d7056d70bf3d9\n'}]",0,748742,51c38aee7a19bc05e426744e69361fbb431cb887,7,2,1,29313,,,0,"Cleanup for Refactor-error-messages

This patch is a clean-up patch for refactor-error-messages bp
which remove the exception message from base message otherwise
the same exception message display twice like
this https://ibb.co/XyFWMdz .

Depends-On: https://review.opendev.org/#/c/708069/
Change-Id: Idda9c9d6acfe545b3a663543ab5d7056d70bf3d9
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/42/748742/1 && git format-patch -1 --stdout FETCH_HEAD,"['solumdashboard/languagepacks/views.py', 'solumdashboard/assemblies/views.py', 'solumdashboard/applications/views.py', 'solumdashboard/languagepacks/forms.py', 'solumdashboard/applications/forms.py']",5,51c38aee7a19bc05e426744e69361fbb431cb887,bp/refactor-error-messages, except Exception: msg = _('Unable to create application.'), except Exception as e: msg = _('Unable to create application: %s') % e,14,14
openstack%2Fzun-tempest-plugin~master~I3d85fe16f9d992efb2365ec6c78f08323d5950d1,openstack/zun-tempest-plugin,master,I3d85fe16f9d992efb2365ec6c78f08323d5950d1,Use entrypoint in test_commit_container,MERGED,2020-09-08 01:28:36.000000000,2020-09-08 05:54:26.000000000,2020-09-08 05:53:13.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-08 01:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/ce7198dfbb2d0051e4e7b9aa009e9a2b8ada83fc', 'message': 'Use entrypoint in test_commit_container\n\nMove ""/bin/sh -c"" from command to entrypoint which aligns with\nthe common practice.\n\nChange-Id: I3d85fe16f9d992efb2365ec6c78f08323d5950d1\n'}, {'number': 2, 'created': '2020-09-08 03:00:43.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/6db3f1eb2fa89791dafa1c587ee8bdaa51f0386e', 'message': 'Use entrypoint in test_commit_container\n\nMove ""/bin/sh -c"" from command to entrypoint which aligns with\nthe common practice.\nSince entrypoint is supported since api version 1.40, we keep\nthe old test for testing api version earlier than 1.39.\n\nChange-Id: I3d85fe16f9d992efb2365ec6c78f08323d5950d1\n'}]",0,750266,6db3f1eb2fa89791dafa1c587ee8bdaa51f0386e,9,2,2,11536,,,0,"Use entrypoint in test_commit_container

Move ""/bin/sh -c"" from command to entrypoint which aligns with
the common practice.
Since entrypoint is supported since api version 1.40, we keep
the old test for testing api version earlier than 1.39.

Change-Id: I3d85fe16f9d992efb2365ec6c78f08323d5950d1
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/66/750266/2 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_containers.py'],1,ce7198dfbb2d0051e4e7b9aa009e9a2b8ada83fc,," entrypoint = [""/bin/sh"", ""-c""] command = [""echo hello > testfile;sleep 1000000""] _, model = self._run_container(command=command, entrypoint=entrypoint) entrypoint = [""/bin/sh"", ""-c""] command = [""cat testfile;sleep 1000000""] image=""myrepo"", image_driver=""glance"", command=command, entrypoint=entrypoint)"," command = [""/bin/sh"", ""-c"", ""echo hello > testfile;sleep 1000000""] _, model = self._run_container(command=command) command = [""/bin/sh"", ""-c"", ""cat testfile;sleep 1000000""] image=""myrepo"", image_driver=""glance"", command=command)",7,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I86102fe7075fd6918644e3e981a28e0b31ae9694,openstack/tripleo-ansible,stable/train,I86102fe7075fd6918644e3e981a28e0b31ae9694,Add role for Container file(s) generation,MERGED,2020-07-15 14:13:30.000000000,2020-09-08 05:46:27.000000000,2020-07-16 19:13:53.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 14:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a691a4b9f57250c7d9e0eb5b721590c433be2064', 'message': 'Add role for Container file(s) generation\n\nThis change creates a role that implements the Dockerfile specification via\nsimple template, which will allow us to generate our container files based on\nour current needs. When container files are generated, both a Dockerfile\nand Buildah script will be created in the selected base path. This will maintain\nflexability in our build choices.\n\nChange-Id: I86102fe7075fd6918644e3e981a28e0b31ae9694\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1450561cbadd164378da3f18d7ee5afb866054bc)\n'}, {'number': 2, 'created': '2020-07-15 14:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72081625e7456093c96c0555a2d1481f1a4ac4ea', 'message': 'Add role for Container file(s) generation\n\nThis change creates a role that implements the Dockerfile specification via\nsimple template, which will allow us to generate our container files based on\nour current needs. When container files are generated, both a Dockerfile\nand Buildah script will be created in the selected base path. This will maintain\nflexability in our build choices.\n\nChange-Id: I86102fe7075fd6918644e3e981a28e0b31ae9694\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1450561cbadd164378da3f18d7ee5afb866054bc)\n'}, {'number': 3, 'created': '2020-07-15 21:33:17.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-image-build/templates/buildahfile.sh.j2', 'doc/source/roles/role-tripleo-container-image-build.rst', 'tripleo_ansible/playbooks/cli-generate-containerfile.yaml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/playbook.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-image-build/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-container-image-build/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/templates/Containerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b20e680c1c23db524c7d270f8c01ed38516896b', 'message': 'Add role for Container file(s) generation\n\nThis change creates a role that implements the Dockerfile specification via\nsimple template, which will allow us to generate our container files based on\nour current needs. When container files are generated, both a Dockerfile\nand Buildah script will be created in the selected base path. This will maintain\nflexability in our build choices.\n\nChange-Id: I86102fe7075fd6918644e3e981a28e0b31ae9694\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1450561cbadd164378da3f18d7ee5afb866054bc)\n'}]",4,741215,0b20e680c1c23db524c7d270f8c01ed38516896b,14,3,3,3153,,,0,"Add role for Container file(s) generation

This change creates a role that implements the Dockerfile specification via
simple template, which will allow us to generate our container files based on
our current needs. When container files are generated, both a Dockerfile
and Buildah script will be created in the selected base path. This will maintain
flexability in our build choices.

Change-Id: I86102fe7075fd6918644e3e981a28e0b31ae9694
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 1450561cbadd164378da3f18d7ee5afb866054bc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/741215/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-image-build/templates/buildahfile.sh.j2', 'doc/source/roles/role-tripleo-container-image-build.rst', 'tripleo_ansible/playbooks/cli-generate-containerfile.yaml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-image-build/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-container-image-build/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/templates/Containerfile.j2']",12,a691a4b9f57250c7d9e0eb5b721590c433be2064,tcib/train,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% for key, value in tcib_args.items() %} ARG = {{ key }}={{ value | to_json }} {% endfor %} FROM {{ tcib_from }} {% for key, value in tcib_labels.items() %} LABEL {{ key }}={{ value | to_json }} {% endfor %} {% for key, value in tcib_envs.items() %} ENV {{ key }}={{ value | to_json }} {% endfor %} {% for item in tcib_onbuilds %} ONBUILD {{ item }} {% endfor %} {% if tcib_volumes | length > 0 %} VOLUME {{ tcib_volumes }} {% endif %} {% if tcib_workdir | length > 0 %} WORKDIR {{ tcib_workdir | to_json }} {% endif %} {% for item in tcib_adds %} ADD {{ item }} {% endfor %} {% for item in tcib_exposes %} EXPOSE {{ item }} {% endfor %} {% for item in tcib_copies %} COPY {{ item }} {% endfor %} {% if tcib_shell | length > 0 %} SHELL {{ tcib_shell.split() | to_json }} {% endif %} {% for item in tcib_runs %} {% if item is iterable and item is not string %} RUN {{ item | to_json }} {% else %} RUN {{ item }} {% endif %} {% endfor %} {% for item in tcib_actions %} {% for key, value in item.items() %} {% if value is iterable and value is not string %} {{ key.upper() }} {{ value | to_json }} {% else %} {{ key.upper() }} {{ value }} {% endif %} {% endfor %} {% endfor %} {% if tcib_healthcheck | length > 0 %} HEALTHCHECK {{ tcib_healthcheck }} {% endif %} {% if tcib_stopsignal | length > 0 %} STOPSIGNAL {{ tcib_stopsignal }} {% endif %} {% if tcib_entrypoint | length > 0 %} ENTRYPOINT {{ tcib_entrypoint.split() | to_json }} {% endif %} {% if tcib_cmd | length > 0 %} CMD {{ tcib_cmd.split() | to_json }} {% endif %} {% if tcib_user | length > 0 %} USER {{ tcib_user }} {% endif %} ",,545,0
openstack%2Fironic~master~I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff,openstack/ironic,master,I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff,Adds few of the security dashboard parameters to capabilities,MERGED,2020-08-16 19:36:16.000000000,2020-09-08 04:18:50.000000000,2020-09-07 18:45:21.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-08-16 19:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/81b5ca41d81698b2471f8d917945e9141539473e', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nDepends-On: Ic89c56e178b478a0c653b76a588c10aef037f318\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 2, 'created': '2020-08-18 06:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77630e2b7bd815b8a6a02b90d1a8d5deb439404f', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nDepends-On: Ic89c56e178b478a0c653b76a588c10aef037f318\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 3, 'created': '2020-08-28 11:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13340db4ea4a3a821b769d85e3ba52c2d5da46a1', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nDepends-On: Ic89c56e178b478a0c653b76a588c10aef037f318\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 4, 'created': '2020-08-31 04:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1111b4a13f6e577c2809d7de104c2d187c71ee2', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nDepends-On: Ic89c56e178b478a0c653b76a588c10aef037f318\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 5, 'created': '2020-08-31 17:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2810f24f4fc661268d5b67cf2b37e611d60ff63', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nDepends-On: Ic89c56e178b478a0c653b76a588c10aef037f318\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 6, 'created': '2020-09-01 04:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/209725b590097447576c49762568c2eb07415a09', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nDepends-On: Ic89c56e178b478a0c653b76a588c10aef037f318\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 7, 'created': '2020-09-01 12:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb6b7b925684d0fe4ca32c8536c2b11d6512d5a1', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 8, 'created': '2020-09-02 11:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a06f37a635d21273321f888d15356ca37aec6adb', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 9, 'created': '2020-09-02 11:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab23f05b06e9a0c90240e152399fa73ad36e4f1b', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 10, 'created': '2020-09-02 11:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ef7d0448f02113cacf39a77bb544c9fb8bd0527', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 11, 'created': '2020-09-03 10:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b513361f610d06c5f7cdd4e74e513a292b80853', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 12, 'created': '2020-09-03 10:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4513017e4e6a5b5036ebb6b4543407795fad0d51', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}, {'number': 13, 'created': '2020-09-07 07:56:22.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'releasenotes/notes/add_security_capabilities_to_ilo-1ff11b01e5930cc7.yaml', 'ironic/drivers/modules/ilo/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ee91fc3a63212123b8c6010eab97bd0fa4797b8', 'message': 'Adds few of the security dashboard parameters to capabilities\n\nThis patch adds few of the security dashboard parameters\nto iLO capabilities. It adds :\n - overall_security_status\n - last_firmware_scan_result\n - security_override_switch\n\nStory: 2008024\nTask: 40678\n\nChange-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff\n'}]",25,746416,6ee91fc3a63212123b8c6010eab97bd0fa4797b8,83,10,13,11297,,,0,"Adds few of the security dashboard parameters to capabilities

This patch adds few of the security dashboard parameters
to iLO capabilities. It adds :
 - overall_security_status
 - last_firmware_scan_result
 - security_override_switch

Story: 2008024
Task: 40678

Change-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/746416/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/modules/ilo/inspect.py']",2,81b5ca41d81698b2471f8d917945e9141539473e,cap," 'nvdimm_n', 'logical_nvdimm_n', 'persistent_memory', 'overall_security_status', 'security_override_switch', 'last_firmware_scan_result'}"," 'nvdimm_n', 'logical_nvdimm_n', 'persistent_memory'}",13,1
openstack%2Ftempest~master~I608c123e69b2e1b34fa0783d03ee5603d901351d,openstack/tempest,master,I608c123e69b2e1b34fa0783d03ee5603d901351d,Skip test_qos_min_bw_allocation_basic when not supported,MERGED,2020-09-01 09:09:32.000000000,2020-09-08 03:25:48.000000000,2020-09-08 03:24:31.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-09-01 09:09:32.000000000', 'files': ['tempest/scenario/test_minbw_allocation_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0976ae4ee20c3faf7b2add3893ec3f8cbfa55db1', 'message': 'Skip test_qos_min_bw_allocation_basic when not supported\n\nThe test_qos_min_bw_allocation_basic relies on a feature [0] which is\nnot supported by all Neutron backends. This test for example will fail\nfor OVN until [0] is implemented for it.\n\nThis patch makes the test skippable instead of failing when the backend\ndoes not support it.\n\n[0]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/minimum-bandwidth-allocation-placement-api.html\n\nChange-Id: I608c123e69b2e1b34fa0783d03ee5603d901351d\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,749206,0976ae4ee20c3faf7b2add3893ec3f8cbfa55db1,18,9,1,6773,,,0,"Skip test_qos_min_bw_allocation_basic when not supported

The test_qos_min_bw_allocation_basic relies on a feature [0] which is
not supported by all Neutron backends. This test for example will fail
for OVN until [0] is implemented for it.

This patch makes the test skippable instead of failing when the backend
does not support it.

[0]
https://specs.openstack.org/openstack/neutron-specs/specs/rocky/minimum-bandwidth-allocation-placement-api.html

Change-Id: I608c123e69b2e1b34fa0783d03ee5603d901351d
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/06/749206/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_minbw_allocation_placement.py'],1,0976ae4ee20c3faf7b2add3893ec3f8cbfa55db1,ovn-devstack," # Skip if the backend does not support QoS minimum bandwidth # allocation in Placement API raise self.skipException( 'No allocation candidates are available for %s:%s' % (self.INGRESS_RESOURCE_CLASS, self.SMALLEST_POSSIBLE_BW))"," self.fail('No allocation candidates are available for %s:%s' % (self.INGRESS_RESOURCE_CLASS, self.SMALLEST_POSSIBLE_BW))",5,2
openstack%2Fnova~master~Iac68b027ddb1cfa0fca34290615309f64a95c6b1,openstack/nova,master,Iac68b027ddb1cfa0fca34290615309f64a95c6b1,add using_multiple_port_bindings property to LiveMigrateData,NEW,2020-09-07 21:42:01.000000000,2020-09-08 02:19:47.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-07 21:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4acf2d546f30a5711846ad29e55cfbb6530a637', 'message': 'add using_multiple_port_bindings property to livemigrate_data\n\nDuring fixing of bug #188395 it became apparent that the\nsematic meaning of migrate_data.vifs being populated\nto signal the use of multiple port bindings is not common\nknowladge.\n\nThis change adds a new property to livemigrate_data\n""using_multiple_port_bindings"" which replaces the previous\nconvention and better documents the implicit semantics\nas a concreate function.\n\nChange-Id: Iac68b027ddb1cfa0fca34290615309f64a95c6b1\nRelated-Bug: #1888395\n'}, {'number': 2, 'created': '2020-09-07 21:44:50.000000000', 'files': ['nova/objects/migrate_data.py', 'nova/virt/libvirt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e670a839f220e816e1062ceec71e634b864d585', 'message': 'add using_multiple_port_bindings property to LiveMigrateData\n\nDuring fixing of bug #188395 it became apparent that the\nsemantic meaning of migrate_data.vifs being populated\nto signal the use of multiple port bindings is not common\nknowledge.\n\nThis change adds a new property to LiveMigrateData\n""using_multiple_port_bindings"" which replaces the previous\nconvention and better documents the implicit semantics\nas a concrete function.\n\nChange-Id: Iac68b027ddb1cfa0fca34290615309f64a95c6b1\nRelated-Bug: #1888395\n'}]",0,750217,4e670a839f220e816e1062ceec71e634b864d585,7,5,2,11604,,,0,"add using_multiple_port_bindings property to LiveMigrateData

During fixing of bug #188395 it became apparent that the
semantic meaning of migrate_data.vifs being populated
to signal the use of multiple port bindings is not common
knowledge.

This change adds a new property to LiveMigrateData
""using_multiple_port_bindings"" which replaces the previous
convention and better documents the implicit semantics
as a concrete function.

Change-Id: Iac68b027ddb1cfa0fca34290615309f64a95c6b1
Related-Bug: #1888395
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/750217/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/virt/libvirt/driver.py', 'nova/compute/manager.py']",3,a4acf2d546f30a5711846ad29e55cfbb6530a637,bug/1888395, migrate_data.using_multiple_port_bindings if migrate_data.using_multiple_port_bindings:, using_multiple_port_bindings = ( 'vifs' in migrate_data and migrate_data.vifs) using_multiple_port_bindings if migrate_data and 'vifs' in migrate_data:,8,6
openstack%2Fsushy~stable%2Fvictoria~I95557aa9bc80bb5e367bc7178495b80f6296f53a,openstack/sushy,stable/victoria,I95557aa9bc80bb5e367bc7178495b80f6296f53a,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-07 12:26:41.000000000,2020-09-08 01:28:03.000000000,2020-09-07 15:11:41.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 12:26:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3849988679dc21bd69134d2d2facfb4adaabbe34', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I95557aa9bc80bb5e367bc7178495b80f6296f53a\n'}]",0,750158,3849988679dc21bd69134d2d2facfb4adaabbe34,9,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I95557aa9bc80bb5e367bc7178495b80f6296f53a
",git fetch https://review.opendev.org/openstack/sushy refs/changes/58/750158/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3849988679dc21bd69134d2d2facfb4adaabbe34,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fsushy~master~I03c7fa276e5eb621aa6f2113c9f74af10e9753a5,openstack/sushy,master,I03c7fa276e5eb621aa6f2113c9f74af10e9753a5,Update master for stable/victoria,MERGED,2020-09-07 12:26:42.000000000,2020-09-08 00:59:09.000000000,2020-09-07 15:11:39.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 12:26:42.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/dce8f135ecfdcb40476d2d67b8346e63a880ef7f', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: I03c7fa276e5eb621aa6f2113c9f74af10e9753a5\nSem-Ver: feature\n'}]",0,750159,dce8f135ecfdcb40476d2d67b8346e63a880ef7f,8,3,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: I03c7fa276e5eb621aa6f2113c9f74af10e9753a5
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/sushy refs/changes/59/750159/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,dce8f135ecfdcb40476d2d67b8346e63a880ef7f,reno-victoria, victoria,,7,0
openstack%2Fsushy~stable%2Fvictoria~Ic4edfa1b93012d59e972ba31f296bc21c38b0e1e,openstack/sushy,stable/victoria,Ic4edfa1b93012d59e972ba31f296bc21c38b0e1e,Update .gitreview for stable/victoria,MERGED,2020-09-07 12:26:40.000000000,2020-09-08 00:58:37.000000000,2020-09-07 15:11:40.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 12:26:40.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy/commit/0f5a3233c2addbed971fbc9f0b8ce986ec6fee41', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: Ic4edfa1b93012d59e972ba31f296bc21c38b0e1e\n'}]",0,750157,0f5a3233c2addbed971fbc9f0b8ce986ec6fee41,9,4,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: Ic4edfa1b93012d59e972ba31f296bc21c38b0e1e
",git fetch https://review.opendev.org/openstack/sushy refs/changes/57/750157/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0f5a3233c2addbed971fbc9f0b8ce986ec6fee41,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fnova~stable%2Fussuri~I30539bb47c98a588b95c066a394949d60af9c520,openstack/nova,stable/ussuri,I30539bb47c98a588b95c066a394949d60af9c520,Add note and daxio version to the vPMEM document,MERGED,2020-09-03 09:05:41.000000000,2020-09-08 00:00:18.000000000,2020-09-07 19:00:45.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23598}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-03 09:05:41.000000000', 'files': ['doc/source/admin/virtual-persistent-memory.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/eae463ca1541dacdc7507899d25e7d3505194363', 'message': 'Add note and daxio version to the vPMEM document\n\nMake the spec of virtual persistent memory consistent with\nthe contents of the admin manual, update the dependency of virtual\npersistent memory about daxio, and add NOTE for the tested kernel\nversion.\n\nCloses-Bug: #1894022\n\nChange-Id: I30539bb47c98a588b95c066a394949d60af9c520\n(cherry picked from commit a8b0c6b456a9afdbdfab69daf8c0d3685f8e3084)\n'}]",0,749681,eae463ca1541dacdc7507899d25e7d3505194363,12,8,1,26458,,,0,"Add note and daxio version to the vPMEM document

Make the spec of virtual persistent memory consistent with
the contents of the admin manual, update the dependency of virtual
persistent memory about daxio, and add NOTE for the tested kernel
version.

Closes-Bug: #1894022

Change-Id: I30539bb47c98a588b95c066a394949d60af9c520
(cherry picked from commit a8b0c6b456a9afdbdfab69daf8c0d3685f8e3084)
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/749681/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/virtual-persistent-memory.rst'],1,eae463ca1541dacdc7507899d25e7d3505194363,bug/1894022,".. note:: NVDIMM support is present in the Linux Kernel v4.0 or newer. It is recommended to use Kernel version 4.2 or later since `NVDIMM support <https://docs.pmem.io/persistent-memory/getting-started-guide/creating-development-environments/linux-environments>`_ is enabled by default. We met some bugs in older versions, and we have done all verification works with OpenStack on 4.18 version, so 4.18 version and newer will probably guarantee its functionality. * daxio version >= 1.6 ",,11,0
openstack%2Fmanila-ui~master~I2eae0b6dd71fb2d491b64c8b452eef1f36d6fa0d,openstack/manila-ui,master,I2eae0b6dd71fb2d491b64c8b452eef1f36d6fa0d,DNM Testing gates,ABANDONED,2020-09-07 22:32:30.000000000,2020-09-07 23:18:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-07 22:32:30.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/53873923c5f244b30269b5129a5acd8fbc3f3e09', 'message': 'DNM Testing gates\n\nChange-Id: I2eae0b6dd71fb2d491b64c8b452eef1f36d6fa0d\n'}]",0,750221,53873923c5f244b30269b5129a5acd8fbc3f3e09,3,1,1,6413,,,0,"DNM Testing gates

Change-Id: I2eae0b6dd71fb2d491b64c8b452eef1f36d6fa0d
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/21/750221/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,53873923c5f244b30269b5129a5acd8fbc3f3e09,,,,0,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I5d046b814a211aec9051f5278f98a3e81580057c,openstack/tripleo-heat-templates,stable/ussuri,I5d046b814a211aec9051f5278f98a3e81580057c,Add parameter and CI config to enable Ceph OTW encryption,MERGED,2020-09-04 13:15:28.000000000,2020-09-07 22:45:45.000000000,2020-09-07 22:45:45.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-09-04 13:15:28.000000000', 'files': ['environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4ce027075fb5e496d8012d8f0b469209753fd8b', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n(cherry picked from commit 89e35393db5c12c626d8880c822017c708e73152)\n'}]",0,749948,c4ce027075fb5e496d8012d8f0b469209753fd8b,12,4,1,6796,,,0,"Add parameter and CI config to enable Ceph OTW encryption

Starting with Ceph Nautilus it is possible to enable on-wire
encryption between daemons and clients.

This change adds a setting to optionally configure Ceph with OTW
encryption and a setting in scenario001-standalone to test it.

Change-Id: I5d046b814a211aec9051f5278f98a3e81580057c
(cherry picked from commit 89e35393db5c12c626d8880c822017c708e73152)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/749948/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",3,c4ce027075fb5e496d8012d8f0b469209753fd8b,, CephMsgrSecureMode: true,,35,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idfa892bab0cb59de5a418f0dc23a6e7d60100a49,openstack/tripleo-heat-templates,stable/train,Idfa892bab0cb59de5a418f0dc23a6e7d60100a49,Add the NovaImageCacheTTL to the nova compute service,MERGED,2020-09-04 07:57:54.000000000,2020-09-07 21:58:59.000000000,2020-09-07 21:57:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-04 07:57:54.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_image_cache_ttl-824f241363b9dd4e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0498a62eab0eac51e673263db439a5685257249a', 'message': 'Add the NovaImageCacheTTL to the nova compute service\n\nThis exposes the remove_unused_original_minimum_age_seconds from nova.conf\nwhich controls the time (in seconds) that nova compute should continue\ncaching an image once it is no longer used by and instances on the host.\n\nChange-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49\n(cherry picked from commit 0e03ba791f7dcab08eb2b0deeb78d29609e81d2b)\n(cherry picked from commit b42881eae43c576c2bd4e3937f0216d7dba7076c)\n'}]",0,749896,0498a62eab0eac51e673263db439a5685257249a,22,5,1,23811,,,0,"Add the NovaImageCacheTTL to the nova compute service

This exposes the remove_unused_original_minimum_age_seconds from nova.conf
which controls the time (in seconds) that nova compute should continue
caching an image once it is no longer used by and instances on the host.

Change-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49
(cherry picked from commit 0e03ba791f7dcab08eb2b0deeb78d29609e81d2b)
(cherry picked from commit b42881eae43c576c2bd4e3937f0216d7dba7076c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/749896/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_image_cache_ttl-824f241363b9dd4e.yaml']",2,0498a62eab0eac51e673263db439a5685257249a,nova_cache,--- features: - | Add the NovaImageCacheTTL to the nova compute service. This exposes the remove_unused_original_minimum_age_seconds from nova.conf which controls the time (in seconds) that nova compute should continue caching an image once it is no longer used by and instances on the host. Defaults to 86400 (24hrs) ,,18,0
openstack%2Fnova~master~I3cfa78d385b9ae0639f12686ce9d4370a0a294c9,openstack/nova,master,I3cfa78d385b9ae0639f12686ce9d4370a0a294c9,use os-brick connector fixture form ServersTestBase,NEW,2020-09-07 21:16:24.000000000,2020-09-07 21:18:23.000000000,,"[{'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-07 21:16:24.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28a48a9420b986dcf5840dd545808ef07565b0cc', 'message': 'use os-brick connector fixture form ServersTestBase\n\nThis change resolves a TODO by removing mocking of the os-brick\nconnector from test_bug_1888395.py now that it is mocked in\nServersTestBase\n\nChange-Id: I3cfa78d385b9ae0639f12686ce9d4370a0a294c9\nRelated-Bug: #1888395\nDepends-on: I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8\n'}]",0,750215,28a48a9420b986dcf5840dd545808ef07565b0cc,4,3,1,11604,,,0,"use os-brick connector fixture form ServersTestBase

This change resolves a TODO by removing mocking of the os-brick
connector from test_bug_1888395.py now that it is mocked in
ServersTestBase

Change-Id: I3cfa78d385b9ae0639f12686ce9d4370a0a294c9
Related-Bug: #1888395
Depends-on: I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/750215/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1888395.py'],1,28a48a9420b986dcf5840dd545808ef07565b0cc,bug/1888395,,"from nova.tests.unit.virt.libvirt import fake_os_brick_connector # TODO(sean-k-mooney): remove after # I275509eb0e0eb9eaf26fe607b7d9a67e1edc71f8 # has merged. self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.connector', fake_os_brick_connector))",0,7
openstack%2Ftripleo-ansible~stable%2Fussuri~I0e5f4692efe387d97f940b5323e593a94b6f833a,openstack/tripleo-ansible,stable/ussuri,I0e5f4692efe387d97f940b5323e593a94b6f833a,Fix role-addition CI,MERGED,2020-09-01 15:47:38.000000000,2020-09-07 21:16:53.000000000,2020-09-07 21:14:00.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 15:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbb15ffa52381d3ad896ba89c47399b3aab4fc8a', 'message': 'Fix role-addition CI\n\nBy artificially setting the upper constraint file we ignore\nglobal-requirements which then creates errors like the following:\n\nrole-addition run-test: commands[2] | pip check\nsetting PATH=/home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin:/home/zuul/.local/bin:/home/zuul/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin\n[43268] /home/zuul/src/opendev.org/openstack/tripleo-ansible$ /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check\nopenstacksdk 0.48.0 has requirement decorator>=4.4.1, but you have decorator 4.2.1.\nERROR: InvocationError for command /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check (exited with code 1)\n\nA job test that was failing previously with the above error, now passed\ncorrectly:\n- Before: https://zuul.opendev.org/t/openstack/build/8ad3a5951133418e8be132db218a4480\n- After: https://zuul.opendev.org/t/openstack/build/01d33b85362d430cb30b619803814677\n\nCloses-Bug: #1893734\n\nChange-Id: I0e5f4692efe387d97f940b5323e593a94b6f833a\n(cherry picked from commit 8e2a54d5d5a8170591647473f3e79573928ff3ef)\n'}, {'number': 2, 'created': '2020-09-07 16:20:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ee1766f2da6492c81ef72a98a617af45bdd4fd8', 'message': 'Fix role-addition CI\n\nBy artificially setting the upper constraint file we ignore\nglobal-requirements which then creates errors like the following:\n\nrole-addition run-test: commands[2] | pip check\nsetting PATH=/home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin:/home/zuul/.local/bin:/home/zuul/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin\n[43268] /home/zuul/src/opendev.org/openstack/tripleo-ansible$ /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check\nopenstacksdk 0.48.0 has requirement decorator>=4.4.1, but you have decorator 4.2.1.\nERROR: InvocationError for command /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check (exited with code 1)\n\nA job test that was failing previously with the above error, now passed\ncorrectly:\n- Before: https://zuul.opendev.org/t/openstack/build/8ad3a5951133418e8be132db218a4480\n- After: https://zuul.opendev.org/t/openstack/build/01d33b85362d430cb30b619803814677\n\nCloses-Bug: #1893734\n\nChange-Id: I0e5f4692efe387d97f940b5323e593a94b6f833a\n(cherry picked from commit 8e2a54d5d5a8170591647473f3e79573928ff3ef)\n'}]",0,749349,5ee1766f2da6492c81ef72a98a617af45bdd4fd8,15,4,2,14985,,,0,"Fix role-addition CI

By artificially setting the upper constraint file we ignore
global-requirements which then creates errors like the following:

role-addition run-test: commands[2] | pip check
setting PATH=/home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin:/home/zuul/.local/bin:/home/zuul/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
[43268] /home/zuul/src/opendev.org/openstack/tripleo-ansible$ /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check
openstacksdk 0.48.0 has requirement decorator>=4.4.1, but you have decorator 4.2.1.
ERROR: InvocationError for command /home/zuul/src/opendev.org/openstack/tripleo-ansible/.tox/role-addition/bin/pip check (exited with code 1)

A job test that was failing previously with the above error, now passed
correctly:
- Before: https://zuul.opendev.org/t/openstack/build/8ad3a5951133418e8be132db218a4480
- After: https://zuul.opendev.org/t/openstack/build/01d33b85362d430cb30b619803814677

Closes-Bug: #1893734

Change-Id: I0e5f4692efe387d97f940b5323e593a94b6f833a
(cherry picked from commit 8e2a54d5d5a8170591647473f3e79573928ff3ef)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/749349/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fbb15ffa52381d3ad896ba89c47399b3aab4fc8a,pcs_host3-stable/ussuri,,setenv = UPPER_CONSTRAINTS_FILE=file:///dev/null,0,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696,openstack/tripleo-ansible,stable/ussuri,Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696,Add tripleo_ha_wrapper role,MERGED,2020-09-07 15:39:15.000000000,2020-09-07 21:15:55.000000000,2020-09-07 21:13:58.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-07 15:39:15.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/defaults/main.yml', 'doc/source/roles/role-tripleo_ha_wrappers.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8daba50a383d303f8b991ca1b3c79c46cf73a85b', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n(cherry picked from commit d5782863b8b1da748da3e6914ff4281e6103f29b)\n'}]",0,750194,8daba50a383d303f8b991ca1b3c79c46cf73a85b,9,4,1,20172,,,0,"Add tripleo_ha_wrapper role

This role is meant to help moving the HA pcs tasks to pure deployment
steps run on the host and not in containers any more. We tested this
ansible review with the THT patches at
https://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3

Here is the testing protocol that was used in order to verify we did
not break anything:
1) Deployed overcloud + tempest
2) Ran a successful redeploy
2.1) Verified that a redeploy restarted containers globally when the
     configuration for the service changed
2.2) Verified that a redeploy did not restart containers which config
     did not change
2.3) Verified that the ordering of restarting bundles allows for
     brownfield deployments (i.e. first the bundle is restarted due
     to new bind-mounts and then the bundle is restarted with new
     configuration)
2.4) Verified that converge step after minor update is successful
3) Ran an initial successful minor update
3.1) Verified that the new image is indeed being run by pacemaker
     (i.e. :pcmklatest tag is applied to the new containers)
3.2) Verified that after converge no container is restarted
4) Re-run a subsequent successful noop minor update
4.1) Verify that containers are not restarted a second time after
     the cluster is stopped and started

Depends-On: I367cf4b65300be8dca0190b9adeab549018d4a56

Change-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Related-Bug: #1863442
(cherry picked from commit d5782863b8b1da748da3e6914ff4281e6103f29b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/750194/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/defaults/main.yml', 'doc/source/roles/role-tripleo_ha_wrappers.rst']",10,8daba50a383d303f8b991ca1b3c79c46cf73a85b,pcs_host3-stable/ussuri,========================= Role - tripleo-ha-wrapper ========================= .. ansibleautoplugin:: :role: tripleo_ansible/roles/tripleo_ha_wrapper ,,323,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Iea02a40639529ff9d80d3368f07ce81e6b1e911f,openstack/tripleo-ansible,stable/train,Iea02a40639529ff9d80d3368f07ce81e6b1e911f,Add tripleo_diff_exec module,MERGED,2020-09-07 05:51:36.000000000,2020-09-07 21:15:55.000000000,2020-09-07 21:13:57.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-07 05:51:36.000000000', 'files': ['doc/source/modules/modules-tripleo_diff_exec.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f177d235a9467b24e5472aed6d6b4c3fdc0a2f59', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n(cherry picked from commit 5702b7ba3dd4b9be7ba05332ff6ff4ba9b43d06e)\n'}]",0,750123,f177d235a9467b24e5472aed6d6b4c3fdc0a2f59,19,5,1,20172,,,0,"Add tripleo_diff_exec module

This module takes a file input and checks to see if it has changed since
the last time checked and runs a command if it has changed. The module
will take a copy of the file being checked to be used for subsequent
executions if the file has changed.

Change-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f
(cherry picked from commit 5702b7ba3dd4b9be7ba05332ff6ff4ba9b43d06e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/750123/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-tripleo_diff_exec.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py']",3,f177d235a9467b24e5472aed6d6b4c3fdc0a2f59,pcs_host3-stable/ussuri-stable/train,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tripleo_ansible.ansible_plugins.modules import tripleo_diff_exec from tripleo_ansible.tests import base as tests_base import mock class TestTripleoDiffExec(tests_base.TestCase): @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_first_run(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'environment': {'foo': 'bar'}, 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 0 mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=True) mock_run.assert_called_once_with( 'foo', shell=True, env={'foo': 'bar'}, stderr=-1, stdout=-1, universal_newlines=True) mock_copy2.assert_called_with('/tmp/foo', '/tmp/foo-previous') @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_no_change(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = True mock_cmp.return_value = True mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit tripleo_diff_exec.run(mock_module) self.assertEqual(mock_run.call_count, 0) self.assertEqual(mock_copy2.call_count, 0) mock_exit.assert_called_once_with(changed=False) @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_file_changed(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = True mock_cmp.return_value = False mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 0 mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_run.assert_called_once_with( 'foo', shell=True, env={}, stderr=-1, stdout=-1, universal_newlines=True) mock_copy2.assert_called_with('/tmp/foo', '/tmp/foo-previous') mock_exit.assert_called_once_with(changed=True) @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_missing_state(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = False mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=False, error='Missing state file', failed=True, msg=('State file does not exist: ' '/tmp/foo')) @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_exec_exception(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_run.side_effect = Exception('meh') tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=False, error=mock.ANY, failed=True, msg='Unhandled exception: meh') @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_exec_failed(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 1 mock_return.stdout = 'out' mock_return.stderr = 'err' mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with( changed=False, error='Failed running command', failed=True, msg=('Error running foo. rc: 1, stdout: out, stderr: err')) ",,327,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I232aa4d8af134ce3403b12a15e06e378ad418d58,openstack/tripleo-ansible,stable/ussuri,I232aa4d8af134ce3403b12a15e06e378ad418d58,Fix role name typo in octavia playbook,MERGED,2020-09-07 16:19:50.000000000,2020-09-07 21:13:59.000000000,2020-09-07 21:13:59.000000000,"[{'_account_id': 6681}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-07 16:19:50.000000000', 'files': ['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia-controller-check'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b38513bb8cbc927cd4d9cee56cb460eb1cb5326', 'message': 'Fix role name typo in octavia playbook\n\noctavia-controller-check should be octavia_controller_check. Also\nremoves symlink that should no longer be required.\n\nChange-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58\nCloses-Bug: #1892512\n(cherry picked from commit 9d2f99f87c36e4043d1854258bb7b67367f4ede3)\n'}]",0,750202,8b38513bb8cbc927cd4d9cee56cb460eb1cb5326,8,5,1,20172,,,0,"Fix role name typo in octavia playbook

octavia-controller-check should be octavia_controller_check. Also
removes symlink that should no longer be required.

Change-Id: I232aa4d8af134ce3403b12a15e06e378ad418d58
Closes-Bug: #1892512
(cherry picked from commit 9d2f99f87c36e4043d1854258bb7b67367f4ede3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/750202/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia-controller-check']",2,8b38513bb8cbc927cd4d9cee56cb460eb1cb5326,,,octavia_controller_check,1,2
openstack%2Ftripleo-quickstart~master~I00a0b7f135cb3865b7f50a8985e20d93a569fe14,openstack/tripleo-quickstart,master,I00a0b7f135cb3865b7f50a8985e20d93a569fe14,Update standalone-upgrade featureset 056 for os-tempest,MERGED,2020-09-02 11:33:14.000000000,2020-09-07 21:05:41.000000000,2020-09-07 21:04:19.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-09-02 11:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b3381b82479079b8b9d4a828fc70ed22b06a4ac3', 'message': 'Update standalone-upgrade featureset 056 for os-tempest\n\nAs can be seen at [1] the standalone-upgrade-ussuri job is timing\nout running validate-tempest. This also reduces the number of tests\nduplicating what we have for the standalone fs052.\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt\n\nChange-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14\n'}, {'number': 2, 'created': '2020-09-02 13:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f88c4c867213b028bb54a9f2f035da65ccfc2a69', 'message': 'Update standalone-upgrade featureset 056 for os-tempest\n\nAs can be seen at [1] the standalone-upgrade-ussuri job is timing\nout running validate-tempest. This also reduces the number of tests\nduplicating what we have for the standalone fs052.\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt\n\nChange-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14\n'}, {'number': 3, 'created': '2020-09-02 14:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/edaf99383bd483785b68516242272983b589a816', 'message': 'Update standalone-upgrade featureset 056 for os-tempest\n\nAs can be seen at [1] the standalone-upgrade-ussuri job is timing\nout running validate-tempest. This also reduces the number of tests\nduplicating what we have for the standalone fs052.\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt\n\nChange-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14\n'}, {'number': 4, 'created': '2020-09-03 15:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a89cd0fa3e27437e0cb41c34b835a4c44069bf06', 'message': 'Update standalone-upgrade featureset 056 for os-tempest\n\nAs can be seen at [1] the standalone-upgrade-ussuri job is timing\nout running validate-tempest. This also reduces the number of tests\nduplicating what we have for the standalone fs052.\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt\n\nChange-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14\n'}, {'number': 5, 'created': '2020-09-04 06:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/db22ee87198bc2d4ebb56dfcae1a4c092d4c6623', 'message': 'Update standalone-upgrade featureset 056 for os-tempest\n\nAs can be seen at [1] the standalone-upgrade-ussuri job is timing\nout running validate-tempest. This also reduces the number of tests\nduplicating what we have for the standalone fs052.\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt\n\nChange-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14\n'}, {'number': 6, 'created': '2020-09-04 13:26:46.000000000', 'files': ['config/general_config/featureset056.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f93b1c33717dc63ed53e05a2b2e7780b9f627b13', 'message': 'Update standalone-upgrade featureset 056 for os-tempest\n\nAs can be seen at [1] the standalone-upgrade-ussuri job is timing\nout running validate-tempest. This also reduces the number of tests\nduplicating what we have for the standalone fs052.\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt\n\nChange-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14\n'}]",3,749486,f93b1c33717dc63ed53e05a2b2e7780b9f627b13,55,11,6,8449,,,0,"Update standalone-upgrade featureset 056 for os-tempest

As can be seen at [1] the standalone-upgrade-ussuri job is timing
out running validate-tempest. This also reduces the number of tests
duplicating what we have for the standalone fs052.

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fb2/739457/20/check/tripleo-ci-centos-8-standalone-upgrade-ussuri/fb26940/job-output.txt

Change-Id: I00a0b7f135cb3865b7f50a8985e20d93a569fe14
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/86/749486/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset056.yml'],1,b3381b82479079b8b9d4a828fc70ed22b06a4ac3,I00a0b7f135cb3865b7f50a8985e20d93a569fe14," run_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} false {%- else -%} true {%- endif -%} use_os_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} true {%- else -%} false {%- endif -%} tempest_whitelist: - 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario' - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern' tempest_test_whitelist: {{ tempest_whitelist }} tempest_run_concurrency: 2 ",run_tempest: truetempest_whitelist: - 'tempest.api.identity' - 'tempest.api.image.v2.test_images.BasicOperationsImagesTest' - 'tempest.api.image.v2.test_images_tags_negative.ImagesTagsNegativeTest' - 'tempest.api.image.v2.test_images_member_negative.ImagesMemberNegativeTest' - 'tempest.api.compute.admin.test_flavors' - 'tempest.api.compute.flavors' - 'tempest.api.compute.keypairs' - 'tempest.api.compute.admin.test_quotas' - 'tempest.api.compute.admin.test_aggregates_negative' - 'tempest.api.compute.security_groups' - 'tempest.api.network.test_networks' - 'tempest.api.network.test_networks_negative' - 'tempest.api.network.test_security_groups_negative' - 'tempest.api.network.test_ports' - 'tempest.api.network.test_routers_negative',23,16
openstack%2Ftrove~master~I116655be2bbe9d31185608a947ee9f6ad1bc219c,openstack/trove,master,I116655be2bbe9d31185608a947ee9f6ad1bc219c,[API doc] Add replica_of param for getting instance,MERGED,2020-09-07 10:34:21.000000000,2020-09-07 21:02:17.000000000,2020-09-07 21:00:12.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 10:34:21.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/instances.inc'], 'web_link': 'https://opendev.org/openstack/trove/commit/78d1a3760cb68a197f70368d414fd0974c2b9336', 'message': '[API doc] Add replica_of param for getting instance\n\nChange-Id: I116655be2bbe9d31185608a947ee9f6ad1bc219c\n'}]",0,750147,78d1a3760cb68a197f70368d414fd0974c2b9336,7,2,1,6732,,,0,"[API doc] Add replica_of param for getting instance

Change-Id: I116655be2bbe9d31185608a947ee9f6ad1bc219c
",git fetch https://review.opendev.org/openstack/trove refs/changes/47/750147/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/instances.inc']",2,78d1a3760cb68a197f70368d414fd0974c2b9336,api-replica-of, - replica_of: replica_of_optional,,7,0
openstack%2Ftrove~master~Icf08b7dc82ce501d82b45cf5412256a43716b6ae,openstack/trove,master,Icf08b7dc82ce501d82b45cf5412256a43716b6ae,Postgresql: Backup and restore,MERGED,2020-09-07 08:41:12.000000000,2020-09-07 21:01:17.000000000,2020-09-07 21:00:10.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 08:41:12.000000000', 'files': ['trove/guestagent/common/operating_system.py', 'backup/drivers/innobackupex.py', 'backup/drivers/mariabackup.py', 'backup/drivers/postgres.py', 'backup/main.py', 'backup/requirements.txt', 'backup/utils/__init__.py', 'backup/utils/postgresql.py', 'trove/guestagent/datastore/service.py', 'backup/install.sh', 'trove/guestagent/datastore/postgres/query.py', 'backup/storage/swift.py', 'trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/templates/postgresql/config.template', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile', 'backup/drivers/base.py', 'trove/common/cfg.py', 'backup/drivers/mysql_base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/4fb41b5198c865b46a02dd72501d12e60ec10dd6', 'message': 'Postgresql: Backup and restore\n\nChange-Id: Icf08b7dc82ce501d82b45cf5412256a43716b6ae\n'}]",0,750138,4fb41b5198c865b46a02dd72501d12e60ec10dd6,7,2,1,6732,,,0,"Postgresql: Backup and restore

Change-Id: Icf08b7dc82ce501d82b45cf5412256a43716b6ae
",git fetch https://review.opendev.org/openstack/trove refs/changes/38/750138/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/common/operating_system.py', 'backup/drivers/innobackupex.py', 'backup/drivers/mariabackup.py', 'backup/drivers/postgres.py', 'backup/main.py', 'backup/requirements.txt', 'backup/utils/__init__.py', 'backup/utils/postgresql.py', 'trove/guestagent/datastore/service.py', 'backup/install.sh', 'trove/guestagent/datastore/postgres/query.py', 'backup/storage/swift.py', 'trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/templates/postgresql/config.template', 'trove/guestagent/datastore/manager.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile', 'backup/drivers/base.py', 'trove/common/cfg.py', 'backup/drivers/mysql_base.py']",22,4fb41b5198c865b46a02dd72501d12e60ec10dd6,postgresql," self.datadir = kwargs.pop('db_datadir', '/var/lib/mysql/data') LOG.info(""Restoring parent: %(parent_location)s, "" ""checksum: %(parent_checksum)s."", metadata) LOG.info(""Restoring back to full backup."")"," LOG.info(""Restoring parent: %(parent_location)s"" "" checksum: %(parent_checksum)s."", metadata)",673,191
openstack%2Fnova~stable%2Ftrain~I7f93cfd18f948134c9cb429dea55740d2cf97994,openstack/nova,stable/train,I7f93cfd18f948134c9cb429dea55740d2cf97994,Add checks for volume status when rebuilding,MERGED,2020-08-28 01:23:04.000000000,2020-09-07 20:38:56.000000000,2020-09-07 20:35:57.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30638}]","[{'number': 1, 'created': '2020-08-28 01:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc6fa44d2a67076e5811c0eee14b207c6084092', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)\n(cherry picked from commit bcbeae2c605f4ab4ad805dddccac802928a180b6)\n""}, {'number': 2, 'created': '2020-08-28 03:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b67a60091923a61008f9b89b6d8faa79723505', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)\n(cherry picked from commit bcbeae2c605f4ab4ad805dddccac802928a180b6)\n""}, {'number': 3, 'created': '2020-08-28 03:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9c5fe9de81131854150d2795d092e7ca333fa61', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)\n(cherry picked from commit bcbeae2c605f4ab4ad805dddccac802928a180b6)\n""}, {'number': 4, 'created': '2020-08-28 03:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27275aba1621ec37b54e03f3809998d14aad08e1', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)\n(cherry picked from commit bcbeae2c605f4ab4ad805dddccac802928a180b6)\n""}, {'number': 5, 'created': '2020-08-29 10:56:27.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/683005df39cbb825ff0702cd91773ad16d7b3998', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nConflicts:\n    nova/api/openstack/compute/servers.py\n    nova/compute/api.py\n    nova/tests/unit/api/openstack/compute/test_server_actions.py\nModified:\n    nova/tests/unit/compute/test_compute_api.py\n\nNOTE(elod.illes):\n* conflicts in servers.py and test_server_actions.py are due to bug\n  fixing patch I25eff0271c856a8d3e83867b448e1dec6f6732ab is not\n  backported to stable/train\n* api.py conflict is due to Ic2ad1468d31b7707b7f8f2b845a9cf47d9d076d5\n  is part of a feature introduced in Ussuri\n* modification of test_compute_api.py is also required due to patch\n  I25eff0271c856a8d3e83867b448e1dec6f6732ab is not backported and\n  another patch, Ide8eb9e09d22f20165474d499ef0524aefc67854, that\n  cannot be backported to stable/train\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)\n(cherry picked from commit bcbeae2c605f4ab4ad805dddccac802928a180b6)\n""}]",0,748558,683005df39cbb825ff0702cd91773ad16d7b3998,24,8,5,31960,,,0,"Add checks for volume status when rebuilding

When rebuilding, we should only allow detaching
the volume with 'in-use' status, volume in status
such as 'retyping' should not allowed.

Conflicts:
    nova/api/openstack/compute/servers.py
    nova/compute/api.py
    nova/tests/unit/api/openstack/compute/test_server_actions.py
Modified:
    nova/tests/unit/compute/test_compute_api.py

NOTE(elod.illes):
* conflicts in servers.py and test_server_actions.py are due to bug
  fixing patch I25eff0271c856a8d3e83867b448e1dec6f6732ab is not
  backported to stable/train
* api.py conflict is due to Ic2ad1468d31b7707b7f8f2b845a9cf47d9d076d5
  is part of a feature introduced in Ussuri
* modification of test_compute_api.py is also required due to patch
  I25eff0271c856a8d3e83867b448e1dec6f6732ab is not backported and
  another patch, Ide8eb9e09d22f20165474d499ef0524aefc67854, that
  cannot be backported to stable/train

Change-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994
Closes-Bug: #1489304
(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)
(cherry picked from commit bcbeae2c605f4ab4ad805dddccac802928a180b6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/748558/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,3dc6fa44d2a67076e5811c0eee14b207c6084092,bug/1489304," exception.InvalidVolume,",,98,4
openstack%2Fnova~stable%2Fussuri~I574ed88729d2f0760ea4065cc0e542eea8d20cc2,openstack/nova,stable/ussuri,I574ed88729d2f0760ea4065cc0e542eea8d20cc2,Set different VirtualDevice.key,MERGED,2020-09-02 02:10:11.000000000,2020-09-07 20:38:29.000000000,2020-09-07 20:35:45.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-02 02:10:11.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ea5bcca9d7bebf835b173c5e75dc89e666bcb99', 'message': 'Set different VirtualDevice.key\n\nIn vSphere 7.0, the VirtualDevice.key cannot be the same any more.\nSo set different values to VirtualDevice.key\n\nChange-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2\nCloses-Bug: #1892961\n(cherry picked from commit a5d153a4c64f6947531823c0df91be5cbc491977)\n'}]",0,749418,0ea5bcca9d7bebf835b173c5e75dc89e666bcb99,11,5,1,31706,,,0,"Set different VirtualDevice.key

In vSphere 7.0, the VirtualDevice.key cannot be the same any more.
So set different values to VirtualDevice.key

Change-Id: I574ed88729d2f0760ea4065cc0e542eea8d20cc2
Closes-Bug: #1892961
(cherry picked from commit a5d153a4c64f6947531823c0df91be5cbc491977)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/749418/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py']",2,0ea5bcca9d7bebf835b173c5e75dc89e666bcb99,bug/1892961," for i, vif_info in enumerate(vif_infos): extra_specs.vif_limits, i)def _create_vif_spec(client_factory, vif_info, vif_limits=None, offset=0): net_device.key = -47 - offset"," for vif_info in vif_infos: extra_specs.vif_limits)def _create_vif_spec(client_factory, vif_info, vif_limits=None): net_device.key = -47",94,4
openstack%2Fnova~stable%2Ftrain~I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b,openstack/nova,stable/train,I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b,Removed the host FQDN from the exception message,MERGED,2020-09-03 00:28:22.000000000,2020-09-07 20:37:31.000000000,2020-09-07 20:35:33.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30905}]","[{'number': 1, 'created': '2020-09-03 00:28:22.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/volume/mount.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5abbd17b5552209e53ad61713c4787f47f463c6', 'message': ""Removed the host FQDN from the exception message\n\nDeletion of an instance after disabling the hypervisor by a non-admin\n user leaks the host fqdn in fault msg of instance.Removing the\n'host' field from the error message of HypervisorUnavaiable\ncause it's leaking host fqdn to non-admin users. The admin user will\nsee the Hypervisor unavailable exception msg but will be able to figure\non which compute host the guest is on and that the connection is broken.\n\nChange-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b\nCloses-Bug: #1851587\n(cherry picked from commit a89ffab83261060bbb9dedb2b8de6297b2d07efd)\n(cherry picked from commit ff82601204e9d724b3032dc94c49fa5c8de2699b)\n""}]",0,749609,c5abbd17b5552209e53ad61713c4787f47f463c6,18,8,1,4690,,,0,"Removed the host FQDN from the exception message

Deletion of an instance after disabling the hypervisor by a non-admin
 user leaks the host fqdn in fault msg of instance.Removing the
'host' field from the error message of HypervisorUnavaiable
cause it's leaking host fqdn to non-admin users. The admin user will
see the Hypervisor unavailable exception msg but will be able to figure
on which compute host the guest is on and that the connection is broken.

Change-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b
Closes-Bug: #1851587
(cherry picked from commit a89ffab83261060bbb9dedb2b8de6297b2d07efd)
(cherry picked from commit ff82601204e9d724b3032dc94c49fa5c8de2699b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/749609/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/volume/mount.py']",3,c5abbd17b5552209e53ad61713c4787f47f463c6,bug/1851587, raise exception.HypervisorUnavailable(), raise exception.HypervisorUnavailable(host=CONF.host),3,3
openstack%2Fnova~stable%2Fussuri~I1aa96bdc2fdb2ca856b73b91e3120c75ec104537,openstack/nova,stable/ussuri,I1aa96bdc2fdb2ca856b73b91e3120c75ec104537,resolve ResourceProviderSyncFailed issue,MERGED,2020-09-03 08:13:02.000000000,2020-09-07 20:37:20.000000000,2020-09-07 20:35:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31706}]","[{'number': 1, 'created': '2020-09-03 08:13:02.000000000', 'files': ['nova/virt/vmwareapi/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f5f184ea1b14180d5e45b929eaa93992c1bd845c', 'message': 'resolve ResourceProviderSyncFailed issue\n\nThis is caused by the ""/"" operation difference between python 2.x and python 3.x\n\nIn python 2.x ""/"" int / int returns int while\nin python 3.x int / int return the real result.\n\nCloses-Bug: #1893864\n\nChange-Id: I1aa96bdc2fdb2ca856b73b91e3120c75ec104537\n(cherry picked from commit 73aad31a3496519311295d041235380cdaa719e3)\n'}]",0,749668,f5f184ea1b14180d5e45b929eaa93992c1bd845c,17,8,1,9708,,,0,"resolve ResourceProviderSyncFailed issue

This is caused by the ""/"" operation difference between python 2.x and python 3.x

In python 2.x ""/"" int / int returns int while
in python 3.x int / int return the real result.

Closes-Bug: #1893864

Change-Id: I1aa96bdc2fdb2ca856b73b91e3120c75ec104537
(cherry picked from commit 73aad31a3496519311295d041235380cdaa719e3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/749668/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/host.py'],1,f5f184ea1b14180d5e45b929eaa93992c1bd845c,upstream-ResourceProviderSyncFailed," data[""disk_total""] = capacity // units.Gi data[""disk_available""] = freespace // units.Gi"," data[""disk_total""] = capacity / units.Gi data[""disk_available""] = freespace / units.Gi",2,2
openstack%2Fnova~stable%2Ftrain~I87cd4d14192b1a40cbdca6e3af0f818f2cab613e,openstack/nova,stable/train,I87cd4d14192b1a40cbdca6e3af0f818f2cab613e,tests: Add reproducer for bug #1889633,MERGED,2020-08-26 15:04:46.000000000,2020-09-07 20:35:51.000000000,2020-09-07 20:35:51.000000000,"[{'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-26 15:04:46.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b60be4a9416cb5b15b7accb99c6e5ecdac40c3c9', 'message': 'tests: Add reproducer for bug #1889633\n\nWith the introduction of the cpu-resources work [1], (libvirt) hosts can\nnow report \'PCPU\' inventory separate from \'VCPU\' inventory, which is\nconsumed by instances with pinned CPUs (\'hw:cpu_policy=dedicated\'). As\npart of that effort, we had to drop support for the ability to boot\ninstances with \'hw:cpu_thread_policy=isolate\' (i.e. I don\'t want\nhyperthreads) on hosts with hyperthreading. This had been previously\nimplemented by marking thread siblings of the host cores used by such an\ninstance as reserved and unusable by other instances, but such a design\nwasn\'t possible in world where we had to track resource consumption in\nplacement before landing in the host. Instead, the \'isolate\' policy now\nsimply means ""give me a host without hyperthreads"". This is enforced by\nhosts with hyperthreads reporting the \'HW_CPU_HYPERTHREADING\' trait, and\ninstances with the \'isolate\' policy requesting\n\'HW_CPU_HYPERTHREADING=forbidden\'.\n\nOr at least, that\'s how it should work. We also have a fallback query\nfor placement to find hosts with \'VCPU\' inventory and that doesn\'t care\nabout the \'HW_CPU_HYPERTHREADING\' trait. This was envisioned to ensure\nhosts with old style configuration (\'[DEFAULT] vcpu_pin_set\') could\ncontinue to be scheduled to. We figured that this second fallback query\ncould accidentally pick up hosts with new-style configuration, but we\nare also tracking the available and used cores from those listed in the\n\'[compute] cpu_dedicated_set\' as part of the host \'NUMATopology\' objects\n(specifically, via the \'pcpuset\' and \'cpu_pinning\' fields of the\n\'NUMACell\' child objects). These are validated by both the\n\'NUMATopologyFilter\' and the virt driver itself, which means hosts with\nnew style configuration that got caught up in this second query would be\nrejected by this filter or by a late failure on the host. (Hint: there\'s\nmuch more detail on this in the spec).\n\nUnfortunately we didn\'t think about hyperthreading. If a host gets\npicked up in the second request, it might well have enough PCPU\ninventory but simply be rejected in the first query since it had\nhyperthreads. In this case, because it has enough free cores available\nfor pinning, neither the filter nor the virt driver will reject the\nrequest, resulting in a situation whereby the instance ends up falling\nback to the old code paths and consuming $flavor.vcpu host cores, plus\nthe thread siblings for each of these cores. Despite this, it will be\nmarked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.\n\nThis patch proves this to be the case, allowing us to resolve the issue\nlater.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html\n\nChange-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1889633\n(cherry picked from commit 737e0c0111acd364d1481bdabd9d23bc8d5d6a2e)\n(cherry picked from commit 49a793c8ee7a9be26e4e3d6ddd097a6ee6fea29d)\n'}]",2,748254,b60be4a9416cb5b15b7accb99c6e5ecdac40c3c9,12,6,1,15334,,,0,"tests: Add reproducer for bug #1889633

With the introduction of the cpu-resources work [1], (libvirt) hosts can
now report 'PCPU' inventory separate from 'VCPU' inventory, which is
consumed by instances with pinned CPUs ('hw:cpu_policy=dedicated'). As
part of that effort, we had to drop support for the ability to boot
instances with 'hw:cpu_thread_policy=isolate' (i.e. I don't want
hyperthreads) on hosts with hyperthreading. This had been previously
implemented by marking thread siblings of the host cores used by such an
instance as reserved and unusable by other instances, but such a design
wasn't possible in world where we had to track resource consumption in
placement before landing in the host. Instead, the 'isolate' policy now
simply means ""give me a host without hyperthreads"". This is enforced by
hosts with hyperthreads reporting the 'HW_CPU_HYPERTHREADING' trait, and
instances with the 'isolate' policy requesting
'HW_CPU_HYPERTHREADING=forbidden'.

Or at least, that's how it should work. We also have a fallback query
for placement to find hosts with 'VCPU' inventory and that doesn't care
about the 'HW_CPU_HYPERTHREADING' trait. This was envisioned to ensure
hosts with old style configuration ('[DEFAULT] vcpu_pin_set') could
continue to be scheduled to. We figured that this second fallback query
could accidentally pick up hosts with new-style configuration, but we
are also tracking the available and used cores from those listed in the
'[compute] cpu_dedicated_set' as part of the host 'NUMATopology' objects
(specifically, via the 'pcpuset' and 'cpu_pinning' fields of the
'NUMACell' child objects). These are validated by both the
'NUMATopologyFilter' and the virt driver itself, which means hosts with
new style configuration that got caught up in this second query would be
rejected by this filter or by a late failure on the host. (Hint: there's
much more detail on this in the spec).

Unfortunately we didn't think about hyperthreading. If a host gets
picked up in the second request, it might well have enough PCPU
inventory but simply be rejected in the first query since it had
hyperthreads. In this case, because it has enough free cores available
for pinning, neither the filter nor the virt driver will reject the
request, resulting in a situation whereby the instance ends up falling
back to the old code paths and consuming $flavor.vcpu host cores, plus
the thread siblings for each of these cores. Despite this, it will be
marked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.

This patch proves this to be the case, allowing us to resolve the issue
later.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html

Change-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1889633
(cherry picked from commit 737e0c0111acd364d1481bdabd9d23bc8d5d6a2e)
(cherry picked from commit 49a793c8ee7a9be26e4e3d6ddd097a6ee6fea29d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/748254/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,b60be4a9416cb5b15b7accb99c6e5ecdac40c3c9,bug/1889633," def test_create_server_with_isolate_thread_policy_old_configuration(self): """"""Create a server with the legacy 'hw:cpu_thread_policy=isolate' extra spec and configuration. This should pass and result in an instance consuming $flavor.vcpu host cores plus the thread sibling(s) of each of these cores. We also be consuming VCPUs since we're on legacy configuration here, though that would in theory be fixed during a later reshape. """""" self.flags( cpu_dedicated_set=None, cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set='0-3') # host has hyperthreads, which means we're going to end up consuming # $flavor.vcpu hosts cores plus the thread sibling(s) for each core host_info = fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(1024 * 1024 * 16), # GB ) fake_connection = self._get_connection(host_info=host_info) self.mock_conn.return_value = fake_connection extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'isolate', } flavor_id = self._create_flavor(vcpu=2, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 2} self._run_build_test(flavor_id, expected_usage=expected_usage) # verify that we have consumed two cores plus the thread sibling of # each core, totalling four cores since the HostInfo indicates each # core should have two threads ctxt = nova_context.get_admin_context() host_numa = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename(ctxt, 'compute1').numa_topology ) self.assertEqual({0, 1, 2, 3}, host_numa.cells[0].pinned_cpus) def test_create_server_with_isolate_thread_policy_fails(self): """"""Create a server with the legacy 'hw:cpu_thread_policy=isolate' extra spec. This should fail on a host with hyperthreading. """""" self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # host has hyperthreads, which means it should be rejected host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(1024 * 1024 * 16), # GB ) fake_connection = self._get_connection(host_info=host_info) self.mock_conn.return_value = fake_connection extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'isolate', } flavor_id = self._create_flavor(vcpu=2, extra_spec=extra_spec) # FIXME(stephenfin): This should go to error status since there should # not be a host available expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 0, 'VCPU': 2, } self._run_build_test(flavor_id, expected_usage=expected_usage) ",,71,0
openstack%2Ftripleo-heat-templates~master~I12b722c985104c52f51efafdd3d2b47fef79e87b,openstack/tripleo-heat-templates,master,I12b722c985104c52f51efafdd3d2b47fef79e87b,"undercloud: switch to the ""direct"" deploy interface by default",ABANDONED,2020-09-07 15:20:28.000000000,2020-09-07 20:28:11.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-07 15:20:28.000000000', 'files': ['environments/undercloud.yaml', 'releasenotes/notes/direct-deploy-by-default-c91f3730cef4e88b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c9fadbad11d360d3a3c1d10985311ee2963d3c0', 'message': 'undercloud: switch to the ""direct"" deploy interface by default\n\nInstead of serving images via slow and somewhat unreliable iSCSI protocol,\nthis deploy method makes IPA download them from the undercloud Swift.\n\nDepends-On: https://review.opendev.org/749466\nChange-Id: I12b722c985104c52f51efafdd3d2b47fef79e87b\nImplements: blueprint ironic-direct-deploy\n'}]",0,750191,3c9fadbad11d360d3a3c1d10985311ee2963d3c0,5,3,1,24245,,,0,"undercloud: switch to the ""direct"" deploy interface by default

Instead of serving images via slow and somewhat unreliable iSCSI protocol,
this deploy method makes IPA download them from the undercloud Swift.

Depends-On: https://review.opendev.org/749466
Change-Id: I12b722c985104c52f51efafdd3d2b47fef79e87b
Implements: blueprint ironic-direct-deploy
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/750191/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'releasenotes/notes/direct-deploy-by-default-c91f3730cef4e88b.yaml']",2,3c9fadbad11d360d3a3c1d10985311ee2963d3c0,bug/1893912,"--- upgrade: - | Ironic in the containerized undercloud now uses the ``direct`` deploy interface by default for better performance and scalability. See `the direct deploy documentation <https://docs.openstack.org/ironic/latest/admin/interfaces/deploy.html#direct-deploy>`_ for details. If undesired, this change can be reverted per node by setting the node's ``deploy_interface`` field to ``iscsi`` or globally by changing the new ``IronicDefaultDeployInterface`` to ``iscsi``. ",,14,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5d046b814a211aec9051f5278f98a3e81580057c,openstack/tripleo-heat-templates,stable/train,I5d046b814a211aec9051f5278f98a3e81580057c,Add parameter and CI config to enable Ceph OTW encryption,MERGED,2020-09-04 13:17:35.000000000,2020-09-07 20:17:24.000000000,2020-09-07 20:17:24.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-09-04 13:17:35.000000000', 'files': ['environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af905a541d84104a3a770ff12e6395e4fc191447', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n(cherry picked from commit 89e35393db5c12c626d8880c822017c708e73152)\n'}]",0,749950,af905a541d84104a3a770ff12e6395e4fc191447,11,4,1,6796,,,0,"Add parameter and CI config to enable Ceph OTW encryption

Starting with Ceph Nautilus it is possible to enable on-wire
encryption between daemons and clients.

This change adds a setting to optionally configure Ceph with OTW
encryption and a setting in scenario001-standalone to test it.

Change-Id: I5d046b814a211aec9051f5278f98a3e81580057c
(cherry picked from commit 89e35393db5c12c626d8880c822017c708e73152)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/749950/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",3,af905a541d84104a3a770ff12e6395e4fc191447,, CephMsgrSecureMode: true,,35,1
openstack%2Fopenstack-helm~master~I39a853b3ffda003b59dd7d4b0700f40b3b048ab3,openstack/openstack-helm,master,I39a853b3ffda003b59dd7d4b0700f40b3b048ab3,Imported Translations from Zanata,MERGED,2020-09-07 08:10:27.000000000,2020-09-07 20:01:02.000000000,2020-09-07 19:59:49.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 08:10:27.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38501f839c46e0ab709e4172bb6daf42f9565bad', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I39a853b3ffda003b59dd7d4b0700f40b3b048ab3\n'}]",0,750133,38501f839c46e0ab709e4172bb6daf42f9565bad,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I39a853b3ffda003b59dd7d4b0700f40b3b048ab3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/750133/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/id/LC_MESSAGES/doc-install.po'],1,38501f839c46e0ab709e4172bb6daf42f9565bad,zanata/translations,"""Project-Id-Version: openstack-helm 0.1.1.dev3198\n""""POT-Creation-Date: 2020-09-04 18:56+0000\n""""PO-Revision-Date: 2020-09-06 04:43+0000\n""""We are going to install Ceph OSDs backed by loopback devices as this will "" ""help us not to attach extra disks, in case if you have enough disks on the "" ""node then feel free to skip creating loopback devices by exporting "" ""CREATE_LOOPBACK_DEVICES_FOR_CEPH to false and export the block devices "" ""names as environment variables(CEPH_OSD_DATA_DEVICE and "" ""CEPH_OSD_DB_WAL_DEVICE)."" msgstr """" ""Kami akan menginstal OSD Ceph yang didukung oleh perangkat loopback karena "" ""ini akan membantu kami untuk tidak memasang disk tambahan, jika Anda "" ""memiliki cukup disk pada node, silakan lewati pembuatan perangkat loopback "" ""dengan mengekspor CREATE_LOOPBACK_DEVICES_FOR_CEPH ke false dan mengekspor "" ""perangkat blok nama sebagai variabel lingkungan (CEPH_OSD_DATA_DEVICE dan "" ""CEPH_OSD_DB_WAL_DEVICE)."" msgid """"""if you are rerunning the below script then make sure to skip the loopback "" ""device creation by exporting CREATE_LOOPBACK_DEVICES_FOR_CEPH to false."" msgstr """" ""jika Anda menjalankan ulang skrip di bawah ini, pastikan untuk melewati "" ""pembuatan perangkat loopback dengan mengekspor "" ""CREATE_LOOPBACK_DEVICES_FOR_CEPH ke false."" msgid """"","""Project-Id-Version: openstack-helm 0.1.1.dev3186\n""""POT-Creation-Date: 2020-08-14 04:24+0000\n""""PO-Revision-Date: 2020-08-02 06:04+0000\n""",26,3
openstack%2Fneutron~master~I8045d1670045a68c955b0bf95077137ea07fd72e,openstack/neutron,master,I8045d1670045a68c955b0bf95077137ea07fd72e,Use metadata constants from n-lib,MERGED,2020-08-11 15:57:38.000000000,2020-09-07 17:46:51.000000000,2020-09-07 17:45:01.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-11 15:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/675936de70776ad77eca9e6240981fc814bc898c', 'message': 'Use metadata constants from n-lib\n\nChange-Id: I8045d1670045a68c955b0bf95077137ea07fd72e\nPartial-Bug: #1460177\n'}, {'number': 2, 'created': '2020-08-17 09:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f1bd1e76ccf03f0e30166dc3ae79e243feb62bf', 'message': 'Use metadata constants from n-lib\n\nChange-Id: I8045d1670045a68c955b0bf95077137ea07fd72e\nPartial-Bug: #1460177\n'}, {'number': 3, 'created': '2020-08-31 11:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d985548e8efcf56de22b5f3b9285e83c70b2aa1b', 'message': 'Use metadata constants from n-lib\n\nChange-Id: I8045d1670045a68c955b0bf95077137ea07fd72e\nPartial-Bug: #1460177\n'}, {'number': 4, 'created': '2020-09-04 15:08:30.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/l3/router_info.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/agent/l3/test_metadata_proxy.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f30727c0a8ef792b0c9e6a4739c9e0af61d9bd8', 'message': 'Use metadata constants from n-lib\n\nChange-Id: I8045d1670045a68c955b0bf95077137ea07fd72e\nPartial-Bug: #1460177\n'}]",7,745705,3f30727c0a8ef792b0c9e6a4739c9e0af61d9bd8,48,9,4,15554,,,0,"Use metadata constants from n-lib

Change-Id: I8045d1670045a68c955b0bf95077137ea07fd72e
Partial-Bug: #1460177
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/745705/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/l3/router_info.py', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/agent/l3/test_metadata_proxy.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",11,675936de70776ad77eca9e6240981fc814bc898c,metadata-ipv6," bind_address=n_const.METADATA_V4_IP, network_id='1')","from neutron.common.ovn import constants as ovn_const bind_address=ovn_const.METADATA_DEFAULT_IP, network_id='1')",26,38
openstack%2Fpython-cloudkittyclient~master~I8fed95ecb736e0b6d7c4b63a55553de1539139be,openstack/python-cloudkittyclient,master,I8fed95ecb736e0b6d7c4b63a55553de1539139be,Update hacking for Python3,MERGED,2020-03-28 14:37:05.000000000,2020-09-07 17:21:11.000000000,2020-09-07 17:19:50.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-28 14:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/de2b4f53dac2c887cdf8d2b17cdc1b387fa70471', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 2.0 which\nsupports Python 3.\n\nFix problems found.\n\nChange-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be\n'}, {'number': 2, 'created': '2020-03-30 10:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/cc407f0a8b5be781507b0826eeb5be432dc1cd0b', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nChange-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be\n'}, {'number': 3, 'created': '2020-03-31 10:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/530163a286643603c0a28fbb2b1f756d9ab2ce7a', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nChange-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be\n'}, {'number': 4, 'created': '2020-03-31 11:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/6c157826de08e5201e56220c1e25909f20b2cf79', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nChange-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be\n'}, {'number': 5, 'created': '2020-09-07 14:29:23.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/def535752fd83f20b0dd88723b5c388dc57ed7b7', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nChange-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be\n'}]",1,715623,def535752fd83f20b0dd88723b5c388dc57ed7b7,17,5,5,6547,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Change-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/23/715623/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,de2b4f53dac2c887cdf8d2b17cdc1b387fa70471,update-hacking,"ignore = E123,E125,W503,W504","ignore = E123,E125",2,2
openstack%2Fproject-config~master~Ic637236b7f1882c51fe2ace6ebfa2155481b5971,openstack/project-config,master,Ic637236b7f1882c51fe2ace6ebfa2155481b5971,Add config for nb03.opendev.org,MERGED,2020-09-03 23:32:10.000000000,2020-09-07 16:36:21.000000000,2020-09-07 16:01:55.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 23:32:10.000000000', 'files': ['nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/731cf9a652055743af0eb11908a935dcd672b584', 'message': 'Add config for nb03.opendev.org\n\nThis will be a new arm64 nodepool-builder running the nodepool arm64\ndocker image.\n\nChange-Id: Ic637236b7f1882c51fe2ace6ebfa2155481b5971\n'}]",0,749852,731cf9a652055743af0eb11908a935dcd672b584,9,3,1,4146,,,0,"Add config for nb03.opendev.org

This will be a new arm64 nodepool-builder running the nodepool arm64
docker image.

Change-Id: Ic637236b7f1882c51fe2ace6ebfa2155481b5971
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/749852/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.opendev.org.yaml'],1,731cf9a652055743af0eb11908a935dcd672b584,nb03.opendev.org-config,"elements-dir: /etc/nodepool/elements images-dir: /opt/nodepool_dib zookeeper-servers: - host: zk01.openstack.org port: 2181 - host: zk02.openstack.org port: 2181 - host: zk03.openstack.org port: 2181 providers: - name: linaro-us region-name: 'RegionOne' cloud: linaro-us rate: 0.25 diskimages: - name: ubuntu-xenial-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: ubuntu-bionic-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: ubuntu-focal-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: debian-buster-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: debian-stretch-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: centos-8-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi diskimages: - name: base abstract: True elements: - block-device-efi - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs - journal-to-console env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org - name: base-debuntu abstract: True parent: base env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - name: ubuntu-xenial-arm64 parent: base-debuntu elements: - ubuntu-minimal release: xenial env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: ubuntu-bionic-arm64 parent: base-debuntu elements: - ubuntu-minimal release: bionic env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: ubuntu-focal-arm64 parent: base-debuntu elements: - ubuntu-minimal release: focal env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: debian-buster-arm64 parent: base-debuntu elements: - debian-minimal release: buster env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/debian' - name: debian-stretch-arm64 parent: base-debuntu elements: - debian-minimal release: stretch env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/debian' - name: centos-8-arm64 parent: base python-path: /usr/bin/python3 elements: - centos-minimal - epel release: 8 env-vars: DIB_EPEL_DISABLED: '1' ",,152,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I0443da140020540917396cdfe00da8ac29d20297,openstack/python-tripleoclient,stable/train,I0443da140020540917396cdfe00da8ac29d20297,Implement validations-libs framework for ALL validator commands,MERGED,2020-08-26 13:16:13.000000000,2020-09-07 16:30:58.000000000,2020-09-07 16:29:22.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-26 13:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dafc0b2e2c386e51ccd2cabade184f21c1dd5a32', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 2, 'created': '2020-08-26 20:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/976097e500add673143ff38e36dc10ef2d95517f', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 3, 'created': '2020-08-27 08:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc43fe481329477f0e451d342c2447a3e9029ba2', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 4, 'created': '2020-08-27 13:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f6df65ad01f550f957d64ebe6a5936f04a74183', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 5, 'created': '2020-09-04 11:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f5b206a76bcfd539b634452ed1b8a9fa8b9a358', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 6, 'created': '2020-09-04 12:12:06.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f3853c941bc53081217c54c1ebd3d7b50f58e0f6', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}]",19,748224,f3853c941bc53081217c54c1ebd3d7b50f58e0f6,23,6,6,16515,,,0,"Implement validations-libs framework for ALL validator commands

Implement All command with validations libs framework

Depends-On: https://review.opendev.org/747669
Change-Id: I0443da140020540917396cdfe00da8ac29d20297
(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/748224/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'lower-constraints.txt']",5,dafc0b2e2c386e51ccd2cabade184f21c1dd5a32,748224,validations-libs==1.0.0,,131,567
openstack%2Fironic-python-agent~master~I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce,openstack/ironic-python-agent,master,I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce,[PoC] Do not use eventlet and oslo.service for serving API,ABANDONED,2020-08-31 10:27:07.000000000,2020-09-07 16:21:49.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-31 10:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/884724bc8bd7a31ffe1ae18976a37a851b8a08f2', 'message': '[PoC] Do not use eventlet for serving API\n\nChange-Id: I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce\n'}, {'number': 2, 'created': '2020-08-31 10:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cb2f80ffb3a72f6246debc3f5a3a5d12b9d572cb', 'message': '[PoC] Do not use eventlet for serving API\n\nChange-Id: I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce\n'}, {'number': 3, 'created': '2020-08-31 12:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/252f445941e6d385c44c6b24a5f47ac63119b407', 'message': '[PoC] Do not use eventlet and oslo.service for serving API\n\nAlso replaces loopingcall with tenacity to complete avoid eventlet.\n\nChange-Id: I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce\n'}, {'number': 4, 'created': '2020-09-01 09:59:54.000000000', 'files': ['requirements.txt', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/api/app.py', 'ironic_python_agent/__init__.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/afe7f4f37883984075bba260ec9604d75383877b', 'message': '[PoC] Do not use eventlet and oslo.service for serving API\n\nDepends-On: https://review.opendev.org/749053\nChange-Id: I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce\n'}]",0,749020,afe7f4f37883984075bba260ec9604d75383877b,12,3,4,10239,,,0,"[PoC] Do not use eventlet and oslo.service for serving API

Depends-On: https://review.opendev.org/749053
Change-Id: I61cd0e7f40efd52b94669a03fb79dfa65ec3b6ce
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/20/749020/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_python_agent/agent.py', 'ironic_python_agent/__init__.py', 'ironic_python_agent/api/app.py']",4,884724bc8bd7a31ffe1ae18976a37a851b8a08f2,no-eventlet,"import threadingfrom werkzeug import serving if self.service is not None: raise RuntimeError(""The service is already running"") # TODO(dtantsur): wire in SSL options. self.service = serving.make_server( host=self.agent.listen_address.hostname, port=self.agent.listen_address.port, app=self) self._thread = threading.Thread(target=self.service.serve_forever) self._thread.start() LOG.info('Started API service on port %s', self.agent.listen_address.port) LOG.debug(""Stopping the API service"") self.service.shutdown() LOG.debug(""Waiting for the API service to stop"") self._thread.join() self.service.server_close()","from oslo_service import wsgifrom ironic_python_agent import netutils PORT = 9999 self.service = wsgi.Server(self._conf, 'ironic-python-agent', app=self, host=netutils.get_wildcard_address(), port=self.PORT) self.service.start() LOG.info('Started API service on port %s', self.PORT) LOG.debug(""Stopping the API service."") self.service.stop()",26,20
openstack%2Fproject-config~master~I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa,openstack/project-config,master,I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa,Add zuul/zuul-client to gerritbot,MERGED,2020-09-03 15:48:07.000000000,2020-09-07 16:14:07.000000000,2020-09-07 15:31:53.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7186}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 15:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb4b72635028bd4c8097a457b8b5719dd047617a', 'message': 'Add zuul/zuul-client to gerritbot\n\nThe repo zuul-client was recently created but not added to gerritbot,\nadd it now.\n\nChange-Id: I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa\n'}, {'number': 2, 'created': '2020-09-07 14:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/11261eb50a3d50c77ec9af6bc0c016f0210c62ae', 'message': 'Add zuul/zuul-client to gerritbot\n\nThe repo zuul-client was recently created but not added to gerritbot,\nadd it now.\n\nTo avoid this in the future, use a regex to include all repos in the\nzuul namespace.\n\nChange-Id: I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa\n'}, {'number': 3, 'created': '2020-09-07 14:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0239a3d0bb293d616dacb376c300497002814874', 'message': 'Add zuul/zuul-client to gerritbot\n\nThe repo zuul-client was recently created but not added to gerritbot,\nadd it now.\n\nTo avoid this in the future, use a regex to include all repos in the\nzuul namespace.\n\nChange-Id: I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa\n'}, {'number': 4, 'created': '2020-09-07 15:13:52.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c04eaa37789082af02c2d3bebeed5fd1d4634174', 'message': 'Add zuul/zuul-client to gerritbot\n\nThe repo zuul-client was recently created but not added to gerritbot,\nadd it now.\n\nTo avoid this in the future, use a regex to include all repos in the\nzuul namespace.\n\nChange-Id: I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa\n'}]",1,749770,c04eaa37789082af02c2d3bebeed5fd1d4634174,19,5,4,6547,,,0,"Add zuul/zuul-client to gerritbot

The repo zuul-client was recently created but not added to gerritbot,
add it now.

To avoid this in the future, use a regex to include all repos in the
zuul namespace.

Change-Id: I20ee1a2d55fe9c83ea4f5e948b810ad4c06862aa
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/749770/4 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,fb4b72635028bd4c8097a457b8b5719dd047617a,zuul-cli-bot, - zuul/zuul-client,,1,0
openstack%2Fkolla~master~I15474459e6321aa3570ce279c7d1aa1ed29f19c0,openstack/kolla,master,I15474459e6321aa3570ce279c7d1aa1ed29f19c0,Remove the unused six library,MERGED,2020-09-07 01:35:13.000000000,2020-09-07 16:12:37.000000000,2020-09-07 16:11:14.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-07 01:35:13.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae0c841d4b3fa7ceb81ce3e0ef9eedbfe4ad9710', 'message': 'Remove the unused six library\n\nthe six unused anywhere, clean it up from lower-constraints.txt\n\nChange-Id: I15474459e6321aa3570ce279c7d1aa1ed29f19c0\n'}]",0,750115,ae0c841d4b3fa7ceb81ce3e0ef9eedbfe4ad9710,9,3,1,32067,,,0,"Remove the unused six library

the six unused anywhere, clean it up from lower-constraints.txt

Change-Id: I15474459e6321aa3570ce279c7d1aa1ed29f19c0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/750115/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ae0c841d4b3fa7ceb81ce3e0ef9eedbfe4ad9710,,,six==1.10.0,0,1
openstack%2Fhorizon~master~Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d,openstack/horizon,master,Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d,Add heat-dashboard cross-project tests,MERGED,2020-09-02 18:19:14.000000000,2020-09-07 16:12:34.000000000,2020-09-07 16:07:41.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-02 18:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a7ac429dcc07f505b497c50cc5bd56b0173b5e4a', 'message': ""Add heat-dashboard cross-project tests\n\nheat-dashboard is not active development now but it's still used\nin a lot of deployments so it's good to check that at leas\nunit-tests works with the latest horizon.\n\nChange-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d\n""}, {'number': 2, 'created': '2020-09-02 18:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/400b0f25d231a5d2a468db7b3fe2c412889c0034', 'message': ""Add heat-dashboard cross-project tests\n\nheat-dashboard is not active development now but it's still used\nin a lot of deployments so it's good to check that at leas\nunit-tests works with the latest horizon.\n\nChange-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d\n""}, {'number': 3, 'created': '2020-09-02 21:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/85d84b22210787107214dc1abdc989feaac55c11', 'message': ""Add heat-dashboard cross-project tests\n\nheat-dashboard is not active development now but it's still used\nin a lot of deployments so it's good to check that at least\nunit-tests works with the latest horizon.\n\npython cross jobs now inherit openstack-tox-pyNN instead of\nopenstack-tox as openstack-tox-pyNN job has its own configuration\nincluding node configuration and so on. It ensures the python\ncross jobs are run in the same environment as they are run\nin corresponding projects.\n\nChange-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d\n""}, {'number': 4, 'created': '2020-09-03 15:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7bc118c891affdc751c0598888e27c537ae41e5a', 'message': ""Add heat-dashboard cross-project tests\n\nheat-dashboard is not active development now but it's still used\nin a lot of deployments so it's good to check that at least\nunit-tests works with the latest horizon.\n\npython cross jobs now inherit openstack-tox-pyNN instead of\nopenstack-tox as openstack-tox-pyNN job has its own configuration\nincluding node configuration and so on. It ensures the python\ncross jobs are run in the same environment as they are run\nin corresponding projects.\n\nChange-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d\n""}, {'number': 5, 'created': '2020-09-04 01:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/444255405e078cccd2a9b61f89aacf22d5ed039d', 'message': ""Add heat-dashboard cross-project tests\n\nheat-dashboard is not active development now but it's still used\nin a lot of deployments so it's good to check that at least\nunit-tests works with the latest horizon.\n\npython cross jobs now inherit openstack-tox-pyNN instead of\nopenstack-tox as openstack-tox-pyNN job has its own configuration\nincluding node configuration and so on. It ensures the python\ncross jobs are run in the same environment as they are run\nin corresponding projects.\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d\n""}, {'number': 6, 'created': '2020-09-04 16:25:14.000000000', 'files': ['.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/41c449916ddf9b12976776340147bf6d1fb17a8c', 'message': ""Add heat-dashboard cross-project tests\n\nheat-dashboard is not active development now but it's still used\nin a lot of deployments so it's good to check that at least\nunit-tests works with the latest horizon.\n\npython cross jobs now inherit openstack-tox-pyNN instead of\nopenstack-tox as openstack-tox-pyNN job has its own configuration\nincluding node configuration and so on. It ensures the python\ncross jobs are run in the same environment as they are run\nin corresponding projects.\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d\n""}]",0,749570,41c449916ddf9b12976776340147bf6d1fb17a8c,31,5,6,1736,,,0,"Add heat-dashboard cross-project tests

heat-dashboard is not active development now but it's still used
in a lot of deployments so it's good to check that at least
unit-tests works with the latest horizon.

python cross jobs now inherit openstack-tox-pyNN instead of
openstack-tox as openstack-tox-pyNN job has its own configuration
including node configuration and so on. It ensures the python
cross jobs are run in the same environment as they are run
in corresponding projects.

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: Ibbb36743552295a13f6d9ff51f3ac2244d2e7f6d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/70/749570/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cross-jobs.yaml'],1,a7ac429dcc07f505b497c50cc5bd56b0173b5e4a,heat-tests," - job: name: horizon-cross-heat-dashboard-python parent: openstack-tox vars: tox_envlist: py38 zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/heat-dashboard'].src_dir }}"" required-projects: - openstack/heat-dashboard ",,10,0
openstack%2Fpython-openstackclient~master~I48cacab275856af2911829f9b7176bb87fd039b3,openstack/python-openstackclient,master,I48cacab275856af2911829f9b7176bb87fd039b3,"Add NUMA affinity policy parameter to ""port""",MERGED,2020-07-10 16:01:01.000000000,2020-09-07 16:12:33.000000000,2020-09-07 16:11:00.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 11904}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-07-10 16:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dd36bed75c26b9def5d33accc4ead5f7aacc20df', 'message': 'Add NUMA affinity policy parameter to ""port""\n\nAdded port NUMA affinity policy parameter to ""port create"",\n""port set"" and ""port unset"" commands.\n\nChange-Id: I48cacab275856af2911829f9b7176bb87fd039b3\nRelated-Bug: #1886798\n'}, {'number': 2, 'created': '2020-07-31 15:19:13.000000000', 'files': ['releasenotes/notes/add-port-numa-affinity-policy-4706b0f9485a5d4d.yaml', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/454b2195649aec1a9eb1fdaa60b64663cb1f7298', 'message': 'Add NUMA affinity policy parameter to ""port""\n\nAdded port NUMA affinity policy parameter to ""port create"",\n""port set"" and ""port unset"" commands.\n\nChange-Id: I48cacab275856af2911829f9b7176bb87fd039b3\nRelated-Bug: #1886798\n'}]",0,740501,454b2195649aec1a9eb1fdaa60b64663cb1f7298,22,6,2,16688,,,0,"Add NUMA affinity policy parameter to ""port""

Added port NUMA affinity policy parameter to ""port create"",
""port set"" and ""port unset"" commands.

Change-Id: I48cacab275856af2911829f9b7176bb87fd039b3
Related-Bug: #1886798
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/01/740501/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-port-numa-affinity-policy-4706b0f9485a5d4d.yaml', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/port.py']",4,dd36bed75c26b9def5d33accc4ead5f7aacc20df,bug/1886798,"class NumaAffinityPolicy(cliff_columns.FormattableColumn): def human_readable(self): return (None if not self._value else self._value.replace('COMPUTE_NUMA_POLICY_', '').lower()) 'numa_affinity_policy': NumaAffinityPolicy, if ('numa_policy_required' in parsed_args and parsed_args.numa_policy_required): attrs['numa_affinity_policy'] = 'COMPUTE_NUMA_POLICY_REQUIRED' elif ('numa_policy_preferred' in parsed_args and parsed_args.numa_policy_preferred): attrs['numa_affinity_policy'] = 'COMPUTE_NUMA_POLICY_PREFERRED' elif ('numa_policy_legacy' in parsed_args and parsed_args.numa_policy_legacy): attrs['numa_affinity_policy'] = 'COMPUTE_NUMA_POLICY_LEGACY' numa_affinity_policy_group = parser.add_mutually_exclusive_group() numa_affinity_policy_group.add_argument( '--numa-policy-required', action='store_true', help=_(""NUMA affinity policy required to schedule this port"") ) numa_affinity_policy_group.add_argument( '--numa-policy-preferred', action='store_true', help=_(""NUMA affinity policy preferred to schedule this port"") ) numa_affinity_policy_group.add_argument( '--numa-policy-legacy', action='store_true', help=_(""NUMA affinity policy using legacy mode to schedule this port"") ) parser.add_argument( '--numa-policy', action='store_true', help=_(""Clear existing NUMA affinity policy"") ) if parsed_args.numa_policy: attrs['numa_affinity_policy'] = None",,144,0
openstack%2Fopenstack-ansible-ceph_client~stable%2Fstein~I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,openstack/openstack-ansible-ceph_client,stable/stein,I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,Remove trailing '/' from ceph_apt_repo_url,MERGED,2020-09-07 12:56:38.000000000,2020-09-07 16:03:01.000000000,2020-09-07 16:01:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-07 12:56:38.000000000', 'files': ['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/c1edab7aabd1fea17bce04c54b94d3dbf3872163', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible.  This patch\nremoves the entry with the trailing '/' (for convenience) and matches\nthe default url to what ceph-ansible does.\n\nSlightly altered from cherry-pick to avoid breaking overrides of\nceph_apt_repos\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n(cherry picked from commit 3cf97d2780c469b2e410fbff76007b2115e2a4c0)\n""}]",0,750167,c1edab7aabd1fea17bce04c54b94d3dbf3872163,8,3,1,25600,,,0,"Remove trailing '/' from ceph_apt_repo_url

This little trailing '/' results in a duplicate entry for ceph packages
if the repository has already been set up by ceph-ansible.  This patch
removes the entry with the trailing '/' (for convenience) and matches
the default url to what ceph-ansible does.

Slightly altered from cherry-pick to avoid breaking overrides of
ceph_apt_repos

Change-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b
(cherry picked from commit 3cf97d2780c469b2e410fbff76007b2115e2a4c0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/67/750167/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml']",2,c1edab7aabd1fea17bce04c54b94d3dbf3872163,,"ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}"" ceph: repo: ""deb {{ ceph_apt_repo_url }} {{ ansible_lsb.codename }} main"" state: ""present""","ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}/"" ceph: repo: ""deb {{ ceph_apt_repo_url }} {{ ansible_lsb.codename }} main"" state: ""present""",10,4
openstack%2Ftacker~master~I92820a46692fd715a1d4dba428805ef8185e6f2c,openstack/tacker,master,I92820a46692fd715a1d4dba428805ef8185e6f2c,[WIP] Additional Functional Tests for Tacker Victoria,ABANDONED,2020-09-07 15:57:13.000000000,2020-09-07 15:58:06.000000000,,[],"[{'number': 1, 'created': '2020-09-07 15:57:13.000000000', 'files': ['tacker/tests/functional/vnflcm/base.py', 'tacker/tests/functional/common/fake_server.py', 'tacker/tests/functional/vnflcm/fake_vnflcm.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data_nfvo_separat.py', 'worker_instance.hot.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/eff88c853f1ae1e245c4931aeba78ef6db8253db', 'message': '[WIP] Additional Functional Tests for Tacker Victoria\n\nAdded Functional tests\n\nChange-Id: I92820a46692fd715a1d4dba428805ef8185e6f2c\n'}]",0,750198,eff88c853f1ae1e245c4931aeba78ef6db8253db,2,0,1,32219,,,0,"[WIP] Additional Functional Tests for Tacker Victoria

Added Functional tests

Change-Id: I92820a46692fd715a1d4dba428805ef8185e6f2c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/98/750198/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/vnflcm/base.py', 'tacker/tests/functional/common/fake_server.py', 'tacker/tests/functional/vnflcm/fake_vnflcm.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data_nfvo_separat.py', 'worker_instance.hot.yaml']",6,eff88c853f1ae1e245c4931aeba78ef6db8253db,,heat_template_version: 2013-05-23 description: Scaling template parameters: vdu1_flavor_id: type: string resources: VDU1: type: OS::Nova::Server properties: flavor: { get_param: vdu1_flavor_id } name: VDU1 image: #ADD_YOUR_IMAGE_HERE networks: - port: { get_resource: CP1 } CP1: type: OS::Neutron::Port properties: network: #ADD_YOUR_NETWORK_HERE ,,2326,303
openstack%2Fcharm-deployment-guide~master~Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee,openstack/charm-deployment-guide,master,Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee,Update Erasure Coding appendix,MERGED,2020-09-02 10:38:48.000000000,2020-09-07 15:57:01.000000000,2020-09-07 15:54:28.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-09-02 10:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b752e926aa850aeaadcde3c50b728e372b8bc71a', 'message': 'Update Erasure Coding appendix\n\nAs of 20.10 the OpenStack charms fully support use of Erasure\nCoded pools with applications that can support this feature.\n\nUpdate the Erasure Coding appending to detail usage and configuration.\n\nChange-Id: Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee\n'}, {'number': 2, 'created': '2020-09-02 10:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e733ad898d33fccb790dfd6c536b5277d1a824d5', 'message': 'Update Erasure Coding appendix\n\nAs of 20.10 the OpenStack charms fully support use of Erasure\nCoded pools with applications that can support this feature.\n\nUpdate the Erasure Coding appendix to detail usage and configuration.\n\nDrop the post-deployment reconfiguration steps previously documented.\n\nChange-Id: Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee\n'}, {'number': 3, 'created': '2020-09-07 09:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9f01010d6abddcb5bf280d75fd9583fae9f11ec8', 'message': 'Update Erasure Coding appendix\n\nAs of 20.10 the OpenStack charms fully support use of Erasure\nCoded pools with applications that can support this feature.\n\nUpdate the Erasure Coding appendix to detail usage and configuration.\n\nDrop the post-deployment reconfiguration steps previously documented.\n\nChange-Id: Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee\n'}, {'number': 4, 'created': '2020-09-07 14:54:16.000000000', 'files': ['deploy-guide/source/1', 'deploy-guide/source/app-erasure-coding.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ea5f2051e2316d331595476960bf95d3184a1555', 'message': 'Update Erasure Coding appendix\n\nAs of 20.10 the OpenStack charms fully support use of Erasure\nCoded pools with applications that can support this feature.\n\nUpdate the Erasure Coding appendix to detail usage and configuration.\n\nDrop the post-deployment reconfiguration steps previously documented.\n\nChange-Id: Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee\n'}]",19,749481,ea5f2051e2316d331595476960bf95d3184a1555,16,3,4,935,,,0,"Update Erasure Coding appendix

As of 20.10 the OpenStack charms fully support use of Erasure
Coded pools with applications that can support this feature.

Update the Erasure Coding appendix to detail usage and configuration.

Drop the post-deployment reconfiguration steps previously documented.

Change-Id: Ibd5417333944f5afa276c3060fa2d1edb3b1e9ee
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/81/749481/4 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-erasure-coding.rst'],1,b752e926aa850aeaadcde3c50b728e372b8bc71a,ec-support,"Appendix M: Ceph Erasure Coding ===============================Ceph pools supporting applications within an OpenStack deployment are by default configured as replicated pools which means that every object stored is copied to multiple hosts or zones to allow the pool to survive the loss of an OSD. Ceph also supports Erasure Coded pools which can be used to save raw space within the Ceph cluster. The following charms can be configured to use Erasure Coded pools: * glance * cinder-ceph * nova-compute * ceph-fs * ceph-radosgw .. warning:: Enabling use Erasure Coded pools will effect the IO performance of the pool and will incur additional CPU and memory overheads on the Ceph OSD servers due to calculation of coding chunks during read and write operations and during recovery of data chunks from failed OSD's. Mirroring of RBD's stored in Erasure Coded pools is not currently supported by the rbd-mirror charm due to limitations in the functionality of the rbd-mirror application. Configuring charms for Erasure Coding +++++++++++++++++++++++++++++++++++++ All charms that support use with Erasure Coded pools support a consistent set of configuration options to enable and tune the Erasure Coding profile used to configure the Erasure Coded pools created for each application. Erasure Coding is enabled by setting the 'pool-type' option to 'erasure-coded'. By default the JErasure plugin is used with K=1 and M=2. This does not actually save any raw storage compared to a replicated pool with 3 replicas (and is to allow use on a three node Ceph cluster) so most deployments using Erasure Coded pools will need to tune the K and M values based on either the number of hosts deployed or the number of zones in the deployment (if the 'customize-failure-domain' option is enabled on the ceph-osd and ceph-mon charms). The K value defines the number of data chunks that will be used for each object and the M value defines the number of coding chunks generated for each object. The M value also defines the number of hosts or zones that may be lost before the pool goes into a degraded state. K + M must always be less than or equal to the number of hosts or zones in the deployment (depending on the configuration of 'customize-failure-domain'). In the example below, the Erasure Coded pool used by the glance application will sustain the loss of two hosts or zones while only consuming 2TB instead of 3TB of storage to store 1TB of data when compared to a replicated pool. This configuration requires a minimum of 4 hosts (or zones). .. code-block:: yaml glance: options: pool-type: erasure-coded ec-profile-k: 2 ec-profile-m: 2 The full list of Erasure Coding configuration options is detailed below. Full descriptions of each plugin and its configuration options can also be found in the `Ceph Erasure Code`_ documention for the Ceph project. .. list-table:: Erasure Coding charm options :widths: 20 15 5 15 45 :header-rows: 1 * - Option - Charm - Type - Default Value - Description * - pool-type - all - string - replicated - Ceph pool type to use for storage - valid values are 'replicated' and 'erasure-coded'. * - ec-rbd-metadata-pool - glance, cinder-ceph, nova-compute - string - - Name of the metadata pool to be created (for RBD use-cases). If not defined a metadata pool name will be generated based on the name of the data pool used by the application. The metadata pool is always replicated (not erasure coded). * - metadata-pool - ceph-fs - string - - Name of the metadata pool to be created for the CephFS filesystem. If not defined a metadata pool name will be generated based on the name of the data pool used by the application. The metadata pool is always replicated (not erasure coded). * - ec-profile-name - all - string - - Name for the EC profile to be created for the EC pools. If not defined a profile name will be generated based on the name of the pool used by the application. * - ec-profile-k - all - int - 1 - Number of data chunks that will be used for EC data pool. K+M factors should never be greater than the number of available AZs for balancing. * - ec-profile-m - all - int - 2 - Number of coding chunks that will be used for EC data pool. K+M factors should never be greater than number of available AZs for balancing. * - ec-profile-locality - all - int - - (lrc plugin - l) Group the coding and data chunks into sets of size l. For instance, for k=4 and m=2, when l=3 two groups of three are created. Each set can be recovered without reading chunks from another set. Note that using the lrc plugin does incur more raw storage usage than isa or jerasure in order to reduce the cost of recovery operations. * - ec-profile-crush-locality - all - string - - (lrc plugin) The type of the crush bucket in which each set of chunks defined by l will be stored. For instance, if it is set to rack, each group of l chunks will be placed in a different rack. It is used to create a CRUSH rule step such as 'step choose rack'. If it is not set, no such grouping is done. * - ec-profile-durability-estimator - all - int - - (shec plugin - c) The number of parity chunks each of which includes each data chunk in its calculation range. The number is used as a durability estimator. For instance, if c=2, 2 OSDs can be down without losing data. * - ec-profile-helper-chunks - all - int - - (clay plugin - d) Number of OSDs requested to send data during recovery of a single chunk. d needs to be chosen such that k+1 <= d <= k+m-1. The larger the d, the better the savings. * - ec-profile-scalar-mds - all - string - - (clay plugin) Specifies the plugin that is used as a building block in the layered construction. It can be one of: jerasure, isa or shec. * - ec-profile-plugin - all - string - jerasure - EC plugin to use for this applications pool. These plugins are available: jerasure, lrc, isa, shec, clay. * - ec-profile-technique - all - string - reed_sol_van - EC profile technique used for this applications pool - will be validated based on the plugin configured via ec-profile-plugin. Supported techniques are 'reed_sol_van', 'reed_sol_r6_op', 'cauchy_orig', 'cauchy_good', 'liber8tion' for jerasure, 'reed_sol_van', 'cauchy' for isa and 'single', 'multiple' for shec. * - ec-profile-device-class - all - string - - Device class from CRUSH map to use for placement groups for erasure profile - valid values: ssd, hdd or nvme (or leave unset to not use a device class). Newer versions of Ceph perform automatic classing of OSD devices. Each OSDbe used when enabling Erasure Coded pools. Device classes can be inspected using:The device class for an Erasure Coded pool can be configured in the consuming charm using the 'ec-device-class' configuration option. If this option is not provided devices of any class will be used. .. LINKS .. _Ceph Erasure Code: https://docs.ceph.com/docs/master/rados/operations/erasure-code/","Appendix M: Ceph Erasure Coding and Device Classing ===================================================This appendix is intended as a post deployment guide to re-configuring RADOS gateway pools to use erasure coding rather than replication. It also covers use of a specific device class (NVMe, SSD or HDD) when creating the erasure coding profile as well as other configuration options that need to be considered during deployment. Any existing data is maintained by following this process, however reconfiguration should take place immediately post deployment to avoid prolonged ‘copy-pool’ operations. RADOS Gateway bucket weighting ++++++++++++++++++++++++++++++ The weighting of the various pools in a deployment drives the number of placement groups (PG’s) created to support each pool. In the ceph-radosgw charm this is configured for the data bucket using: .. code:: juju config ceph-radosgw rgw-buckets-pool-weight=20 Note the default of 20% - if the deployment is a pure ceph-radosgw deployment this value should be increased to the expected % use of storage. The device class also needs to be taken into account (but for erasure coding this needs to be specified post deployment via action execution).Newer versions of Ceph do automatic classing of OSD devices. Each OSDbe used when creating erasure profiles or new CRUSH rules (see following sections). The classes can be inspected using: Configuring erasure coding ++++++++++++++++++++++++++ The RADOS gateway makes use of a number of pools, but the only pool that should be converted to use erasure coding (EC) is the data pool: .. code:: default.rgw.buckets.data All other pools should be replicated as they are by default. To create a new EC profile and pool: .. code:: juju run-action --wait ceph-mon/0 create-erasure-profile \ name=nvme-ec device-class=nvme juju run-action --wait ceph-mon/0 create-pool \ name=default.rgw.buckets.data.new \ pool-type=erasure \ erasure-profile-name=nvme-ec \ percent-data=90 The percent-data option should be set based on the type of deployment but if the RADOS gateway is the only target for the NVMe storage class, then 90% is appropriate (other RADOS gateway pools are tiny and use between 0.10% and 3% of storage) .. note:: The create-erasure-profile action has a number of other options including adjustment of the K/M values which affect the computational overhead and underlying storage consumed per MB stored. Sane defaults are provided but they require a minimum of five hosts with block devices of the right class. To avoid any creation/mutation of stored data during migration, shutdown all RADOS gateway instances: .. code:: juju run --application ceph-radosgw \ ""sudo systemctl stop ceph-radosgw.target"" The existing buckets.data pool can then be copied and switched: .. code:: juju run-action --wait ceph-mon/0 rename-pool \ name=default.rgw.buckets.data \ new-name=default.rgw.buckets.data.old juju run-action --wait ceph-mon/0 rename-pool \ name=default.rgw.buckets.data.new \ new-name=default.rgw.buckets.data At this point the RADOS gateway instances can be restarted: .. code:: juju run --application ceph-radosgw \ ""sudo systemctl start ceph-radosgw.target"" Once successful operation of the deployment has been confirmed, the old pool can be deleted: .. code:: juju run-action --wait ceph-mon/0 delete-pool \ name=default.rgw.buckets.data.old Moving other RADOS gateway pools to NVMe storage ++++++++++++++++++++++++++++++++++++++++++++++++ The buckets.data pool is the largest pool and the one that can make use of EC; other pools could also be migrated to the same storage class for consistent performance: .. code:: juju run-action --wait ceph-mon/0 create-crush-rule \ name=replicated_nvme device-class=nvme The CRUSH rule for the other RADOS gateway pools can then be updated: .. code:: pools="".rgw.root default.rgw.control default.rgw.data.root default.rgw.gc default.rgw.log default.rgw.intent-log default.rgw.meta default.rgw.usage default.rgw.users.keys default.rgw.users.uid default.rgw.buckets.extra default.rgw.buckets.index default.rgw.users.email default.rgw.users.swift"" for pool in $pools; do juju run-action --wait ceph-mon/0 pool-set \ name=$pool key=crush_rule value=replicated_nvme done",151,133
openstack%2Ftacker-specs~master~I851df2373bd4df01aa45c40506db47fa572723c7,openstack/tacker-specs,master,I851df2373bd4df01aa45c40506db47fa572723c7,Support error handling based on ETSI NFV-SOL specification,MERGED,2020-05-29 10:10:09.000000000,2020-09-07 15:53:19.000000000,2020-09-07 15:50:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27180}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-05-29 10:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/22377ee2f8ac6a4730d7a524c4f40e22a82998f3', 'message': 'Support error handling based on ETSI NFV-SOL specification\n\nIntroduces a new interface to execute rollback operation for VNF\nlifecycle management operations.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I851df2373bd4df01aa45c40506db47fa572723c7\n'}, {'number': 2, 'created': '2020-05-29 10:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/376c439cc292a3bdb1a650a93e9cead96cf116b9', 'message': 'Support error handling based on ETSI NFV-SOL specification\n\nIntroduces a new interface to execute rollback operation for VNF\nlifecycle management operations.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I851df2373bd4df01aa45c40506db47fa572723c7\n'}, {'number': 3, 'created': '2020-07-28 11:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6ea851984648a2f3edc82b4bc7f671a2d7870d2a', 'message': 'Support error handling based on ETSI NFV-SOL specification\n\nIntroduces a new interface to execute rollback operation for VNF\nlifecycle management operations.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I851df2373bd4df01aa45c40506db47fa572723c7\n'}, {'number': 4, 'created': '2020-08-25 06:10:05.000000000', 'files': ['specs/victoria/support-etsi-nfv-based-errorhandling.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/87ca8d00ab8ea4b279c334d061a545b3f61f351a', 'message': 'Support error handling based on ETSI NFV-SOL specification\n\nIntroduces a new interface to execute rollback operation for VNF\nlifecycle management operations.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I851df2373bd4df01aa45c40506db47fa572723c7\n'}]",16,731715,87ca8d00ab8ea4b279c334d061a545b3f61f351a,23,6,4,27180,,,0,"Support error handling based on ETSI NFV-SOL specification

Introduces a new interface to execute rollback operation for VNF
lifecycle management operations.

Blueprint: support-etsi-nfv-specs
Change-Id: I851df2373bd4df01aa45c40506db47fa572723c7
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/15/731715/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-etsi-nfv-based-errorhandling.rst'],1,22377ee2f8ac6a4730d7a524c4f40e22a82998f3,bp/support-etsi-nfv-specs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Support ETSI NFV-SOL based error-handling ========================================= https://blueprints.launchpad.net/tacker/+spec/support-etsi-nfv-specs ETSI specifications within the NFV Architecture Framework [#etsi_nfv]_ describe the main aspects of NFV development and usage based on of the industry needs, feedback from SDN/NFV vendors and telecom operators. These specifications include the REST API and data model architecture which is used by NFV users and developers in related products. Problem description =================== In the current Tacker implementation based on ETSI NFV-SOL, Tacker executes its own error-handling operation which reacts to errors the VNFM encounters. However, those operations are not aligned with the current ETSI NFV data-model. As a result, there might be lack of compatibility with `3rd party VNFs` [#etsi_plugtest2]_, as they are developed according to ETSI NFV specifications. Support of key ETSI NFV specifications will significantly reduce efforts for Tacker integration into Telecom production networks and also will simplify further development and support of future standards. Proposed change =============== Introduces a new interface to VNFM for reverting VNF lifecycle management operations for VNF instances. The operation provided through this interface is: * Rollback 1) Flow of Rollback of LCM resource ----------------------------------- Precondition: The operation state should be set in ""FAILED_TEMP"" state. Moreover, ongoing lifecycle management operation should be either VNF instantiation or Scaleing-out. The procedure consists of the following steps as illustrated in above sequence: 1-1) Sending of Notification ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * VNFM holds the Callback URL sent by consumer via ""Subscription API"" in advance. * Depending on the progress status of the lifecycle management operations, send API notification (Notify) to notify the status change and update the internal operation_status. * The node that received the notification returns 204 NO CONTENT indicating success and grasps the sequence status of VNFM. The states that VNFM notifies with VNF Rollback are as follows: - ROLLINGBACK - ROLLEDBACK Postcondition: When the rollback operation is completed successfully, the operation state will be changed in ""ROLLEDBACK"" state. 1-2) Rollback LCM operation ~~~~~~~~~~~~~~~~~~~~~~~~~~~ When a Rollback request is received, VNFM operates to stop the lifecycle operation normally while it is terminated. When the rollback operation is executed during VNF instantiation, VNFM removes all VMs and resources. .. seqdiag:: seqdiag { node_width = 105; edge_length = 130; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""delete stack""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } When the rollback operation is executed for Scale-out, VNFM deletes all VMs and resources specified in the middle of Scale-out operation. .. seqdiag:: seqdiag { node_width = 72; edge_length = 100; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""MgmtDriver"" [label = ""execute MgmtDriver""]; ""MgmtDriver"" -> vnf [label = ""VNF Configuration""]; ""MgmtDriver"" <-- vnf [label = """"]; ""tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""resourse signal""]; ""openstackDriver"" -> ""heat"" [label = ""update stack""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } User needs to separately implement Rollback sub-operation by VNF Configuration. In case of Scale-out, VNFM starts VNF Configuration for rollbacking. Instantiation does not launch VNF Configutration Postcondition : When Rollback is successfully completed, the instantiation state has transited to NOT_INSTANTIATED state only for ""Instantiate VNF"". Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- The following RESTful API will be added. This RESTful API will be based on ETSI NFV SOL002 and SOL003 [#NFV-SOL003]_. * | **Name**: Rollback VNF oepration | **Description**: Request to rollback VNF lifecycle operations | **Method type**: POST | **URL for the resource**: /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback | **Request**: Resource URI variables for this resource +---------------+---------------------------------------------------------------------------+ | Name | Description | +===============+===========================================================================+ | vnfLcmOpOccId | Identifier of the related VNF lifecycle management operation occurrence. | +---------------+---------------------------------------------------------------------------+ | **Response**: .. list-table:: :widths: 10 10 16 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - n/a - n/a - | Success 202 | Error 404 409 - The request has been accepted for processing, but processing has not been completed. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Add new OSC commands in python-tackerclient to invoke rollback operation of VNF instances API. Performance Impact ------------------ None Other deployer impact --------------------- The previously created VNFs will not be allowed to be managed using the newly introduced APIs. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Keiko Kuriu <keiko.kuriu.wa@hco.ntt.co.jp> Work Items ---------- * Add new REST API endpoints to Tacker-server for LCM notifications interface of VNF instances. * Make changes in python-tackerclient to add new OSC commands for calling rollback operation of VNF instances RESTful APIs. * Add features which Tacker consumes Rest API for Notifications * Add new unit and functional tests. * Change API Tacker documentation. Dependencies ============ To execute rollback operations, consumer should invoke subscription operaiton [#subscription_spec]_ in advance in order to get ""vnfLcmOpOccId"" related to the target LCM operation. Testing ======== Unit and functional test cases will be added for VNF lifecycle management of VNF instances. Documentation Impact ==================== Complete user guide will be added to explain how to invoke VNF lifecycle management of VNF instances with examples. References ========== .. [#etsi_nfv] https://www.etsi.org/technologies-clusters/technologies/NFV .. [#NFV-SOL002] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#etsi_plugtest2] https://portal.etsi.org/Portals/0/TBpages/CTI/Docs/2nd_ETSI_NFV_Plugtests_Report_v1.0.0.pdf .. [#subscription_spec] T.B.A ",,282,0
openstack%2Ftacker-specs~master~I7a51362598e24854b10a03a8afa0dcdd6012b9f1,openstack/tacker-specs,master,I7a51362598e24854b10a03a8afa0dcdd6012b9f1,Correct some typos in the template,MERGED,2020-07-23 09:39:46.000000000,2020-09-07 15:52:18.000000000,2020-09-07 15:50:58.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 30696}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-23 09:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d405cc1cf9e0212be3c4f2b88a544b3dc3842580', 'message': ""Correct a typo in the document\n\nThis patch changes 'prefered' to 'preferred'\nin the document\n\nChange-Id: I7a51362598e24854b10a03a8afa0dcdd6012b9f1\n""}, {'number': 2, 'created': '2020-08-16 12:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/126db848aa0321fb21df0533bc34b3175efff8cb', 'message': ""Correct some typos in the template\n\nThis patch changes 'prefered' to 'preferred'\nand 'defintion' to 'definition' in the template\n\nChange-Id: I7a51362598e24854b10a03a8afa0dcdd6012b9f1\n""}, {'number': 3, 'created': '2020-08-16 12:11:42.000000000', 'files': ['specs/template.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4b034ad03b200caebdb20f5540baf8d047fb79fe', 'message': ""Correct some typos in the template\n\nThis patch changes 'prefered' to 'preferred'\nand 'defintion' to 'definition' in the template\n\nChange-Id: I7a51362598e24854b10a03a8afa0dcdd6012b9f1\n""}]",5,742630,4b034ad03b200caebdb20f5540baf8d047fb79fe,18,7,3,30696,,,0,"Correct some typos in the template

This patch changes 'prefered' to 'preferred'
and 'defintion' to 'definition' in the template

Change-Id: I7a51362598e24854b10a03a8afa0dcdd6012b9f1
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/30/742630/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/template.rst'],1,d405cc1cf9e0212be3c4f2b88a544b3dc3842580,typo," and checking it in is also accepted. However, text representations are preferred."," and checking it in is also accepted. However, text representations are prefered.",1,1
openstack%2Ftacker-specs~master~I808174d37142d6cee09df75250314e5e3e5624a9,openstack/tacker-specs,master,I808174d37142d6cee09df75250314e5e3e5624a9,Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO,MERGED,2020-06-01 10:11:24.000000000,2020-09-07 15:49:14.000000000,2020-09-07 15:47:47.000000000,"[{'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31813}, {'_account_id': 31902}, {'_account_id': 32102}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-06-01 10:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7e8daf6c0d79bd97ec0679660098f473d85547bb', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\n'}, {'number': 2, 'created': '2020-06-09 04:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/290a5b0824d67b20f114a06033b9561b4cd72bfc', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nThis specification describes changes needed to be implemented\nto support the functionality for Tacker to connect to\n3rd-party NFVO as VNFM.\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\nBlueprint: support-vnfm-operations\n'}, {'number': 3, 'created': '2020-07-10 00:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/57ee04eff1c413c120c73aa020f135b80bfef2c8', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nThis specification describes changes needed to be implemented\nto support the functionality for Tacker to connect to\n3rd-party NFVO as VNFM.\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\nBlueprint: support-vnfm-operations\n'}, {'number': 4, 'created': '2020-07-17 07:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/74f7507a316840992db1eee044655903ede305dc', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nThis specification describes changes needed to be implemented\nto support the functionality for Tacker to connect to\n3rd-party NFVO as VNFM.\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\nBlueprint: support-vnfm-operations\n'}, {'number': 5, 'created': '2020-07-17 09:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/02a083250b8b1aa339bfe4688f5c1d92b7d77953', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nThis specification describes changes needed to be implemented\nto support the functionality for Tacker to connect to\n3rd-party NFVO as VNFM.\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\nBlueprint: support-vnfm-operations\n'}, {'number': 6, 'created': '2020-08-06 12:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1e81e8b99b593083aae5660a29e5d69246bdd91e', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nThis specification describes changes needed to be implemented\nto support the functionality for Tacker to connect to\n3rd-party NFVO as VNFM.\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\nBlueprint: support-vnfm-operations\n'}, {'number': 7, 'created': '2020-09-03 08:44:55.000000000', 'files': ['specs/victoria/support-sol003-vnfm-operations.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/008d90beed49146910d2f2b525c23f01c520b0a9', 'message': 'Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO\n\nThis specification describes changes needed to be implemented\nto support the functionality for Tacker to connect to\n3rd-party NFVO as VNFM.\n\nChange-Id: I808174d37142d6cee09df75250314e5e3e5624a9\nBlueprint: support-vnfm-operations\n'}]",35,732146,008d90beed49146910d2f2b525c23f01c520b0a9,44,9,7,31902,,,0,"Support ETSI NFV SOL003 to interoperate with 3rd-party NFVO

This specification describes changes needed to be implemented
to support the functionality for Tacker to connect to
3rd-party NFVO as VNFM.

Change-Id: I808174d37142d6cee09df75250314e5e3e5624a9
Blueprint: support-vnfm-operations
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/46/732146/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-sol003-vnfm-operations.rst'],1,7e8daf6c0d79bd97ec0679660098f473d85547bb,bp/support-vnfm-operations,"information from NFVO, so the operations to get them will be implemented.- Grant information- Grant information4) API enhancement of CreateVNF","information from NFVO, so the operations to get them will be implemented. - Grant information - Grant information 4) API enhancement of CreateVNF ",9,9
openstack%2Fpython-ironicclient~master~Id6e22f7404db0fe36b3e3b3b5acec391b5aa65cf,openstack/python-ironicclient,master,Id6e22f7404db0fe36b3e3b3b5acec391b5aa65cf,Remove Babel requirement,MERGED,2020-08-23 15:13:58.000000000,2020-09-07 15:43:50.000000000,2020-09-07 15:41:45.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-23 15:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/35aca16e8726f9b93654c1c7de257fab59846822', 'message': 'Remove Babel requirement\n\nBabel is not needed as requirement, remove it.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: Id6e22f7404db0fe36b3e3b3b5acec391b5aa65cf\n'}, {'number': 2, 'created': '2020-08-24 14:37:54.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d21e0fa60b61024a84a608d72b8ecac0459c8c81', 'message': 'Remove Babel requirement\n\nBabel is not needed as requirement, remove it.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: Id6e22f7404db0fe36b3e3b3b5acec391b5aa65cf\n'}]",1,747581,d21e0fa60b61024a84a608d72b8ecac0459c8c81,13,5,2,26285,,,0,"Remove Babel requirement

Babel is not needed as requirement, remove it.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: Id6e22f7404db0fe36b3e3b3b5acec391b5aa65cf
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/81/747581/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,35aca16e8726f9b93654c1c7de257fab59846822,,,Babel==2.3.4,0,2
openstack%2Fironic~bugfix%2F15.2~Ibd7e17fb00747485c8072289fff9b28d4da17c39,openstack/ironic,bugfix/15.2,Ibd7e17fb00747485c8072289fff9b28d4da17c39,Handle an older agent with agent_token,MERGED,2020-09-02 18:00:29.000000000,2020-09-07 15:43:41.000000000,2020-09-07 15:41:35.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 18:00:29.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/handle-older-agent-command-5930124fd03bb327.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/00b272cccae71c852829137b4cf999ee6a4906ec', 'message': 'Handle an older agent with agent_token\n\nWell, as the author of the agent token work, I could have\nsworn we covered this case, but it seems not and agent commands\ncould fail.\n\nWhat was occuring, when the token is optional, we were not backing\ndown on the agent client and failing even though we could detect\nthe failure and handle it accordingly.\n\nChange-Id: Ibd7e17fb00747485c8072289fff9b28d4da17c39\nStory: 2008002\nTask: 40649\n(cherry picked from commit 30d9cb47e62b62d570e1792515e16abf1ac3cd56)\n'}]",0,749563,00b272cccae71c852829137b4cf999ee6a4906ec,9,3,1,11655,,,0,"Handle an older agent with agent_token

Well, as the author of the agent token work, I could have
sworn we covered this case, but it seems not and agent commands
could fail.

What was occuring, when the token is optional, we were not backing
down on the agent client and failing even though we could detect
the failure and handle it accordingly.

Change-Id: Ibd7e17fb00747485c8072289fff9b28d4da17c39
Story: 2008002
Task: 40649
(cherry picked from commit 30d9cb47e62b62d570e1792515e16abf1ac3cd56)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/749563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/handle-older-agent-command-5930124fd03bb327.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,00b272cccae71c852829137b4cf999ee6a4906ec,," def __init__(self, status, name='fake', error=None, status_code=http_client.OK):class MockFault(MockResponse): def __init__(self, faultstring, status_code=http_client.BAD_REQUEST): super().__init__({'faultstring': faultstring}, status_code=status_code) def save(self): pass def test__command_succeed_after_agent_token(self, mock_sleep): self.config(require_agent_token=False) mock_sleep.return_value = None error = 'Unknown Argument: ""agent_token""' response_data = {'status': 'ok'} method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} i_info = self.node.driver_internal_info i_info['agent_secret_token'] = 'meowmeowmeow' self.client.session.post.side_effect = [ MockFault(error), MockResponse(response_data), ] response = self.client._command(self.node, method, params) self.assertEqual(2, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60, verify=True) self.assertNotIn('agent_secret_token', self.node.driver_internal_info) @mock.patch.object(retrying.time, 'sleep', autospec=True) def test__command_fail_agent_token_required(self, mock_sleep): self.config(require_agent_token=True) mock_sleep.return_value = None error = 'Unknown Argument: ""agent_token""' method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} i_info = self.node.driver_internal_info i_info['agent_secret_token'] = 'meowmeowmeow' self.client.session.post.side_effect = [ MockFault(error) ] self.assertRaises(exception.AgentAPIError, self.client._command, self.node, method, params) self.assertEqual(1, self.client.session.post.call_count) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false', 'agent_token': 'meowmeowmeow'}, timeout=60, verify=True) self.assertEqual( 'meowmeowmeow', self.node.driver_internal_info.get('agent_secret_token')) @mock.patch.object(retrying.time, 'sleep', autospec=True)"," def __init__(self, status, name='fake', error=None):",94,3
openstack%2Fironic~stable%2Fqueens~Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb,openstack/ironic,stable/queens,Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb,Fix for failure in cleaning,MERGED,2020-08-20 20:33:54.000000000,2020-09-07 15:43:17.000000000,2020-09-07 15:41:40.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 20:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d28dbfcfbee0d30fa24138d862989da7309ee973', 'message': 'Fix for failure in cleaning\n\nThe cleaning operation may fail, if an in-band clean step were to\nexecute after the completion of out-of-band clean step that\nperforms reboot of the node. The failure is caused because of race\ncondition where in cleaning is resumed before the Ironic Python\nAgent(IPA) is ready to execute clean steps.\n\nStory: #2002731\nTask: #22580\nChange-Id: Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb\n(cherry picked from commit 7c5a04c1149f14900f504f32e000a7b4e69e661f)\n'}, {'number': 2, 'created': '2020-08-21 13:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6326c817e5040add1b7991bd9c8a6ac24df91f47', 'message': 'Fix for failure in cleaning\n\nThe cleaning operation may fail, if an in-band clean step were to\nexecute after the completion of out-of-band clean step that\nperforms reboot of the node. The failure is caused because of race\ncondition where in cleaning is resumed before the Ironic Python\nAgent(IPA) is ready to execute clean steps.\n\nStory: #2002731\nTask: #22580\nChange-Id: Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb\n(cherry picked from commit 7c5a04c1149f14900f504f32e000a7b4e69e661f)\n'}, {'number': 3, 'created': '2020-08-21 17:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed4b2a0c9ae6ca5eb801ce80ea54489b567e8119', 'message': 'Fix for failure in cleaning\n\nThe cleaning operation may fail, if an in-band clean step were to\nexecute after the completion of out-of-band clean step that\nperforms reboot of the node. The failure is caused because of race\ncondition where in cleaning is resumed before the Ironic Python\nAgent(IPA) is ready to execute clean steps.\n\nStory: #2002731\nTask: #22580\nChange-Id: Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb\n(cherry picked from commit 7c5a04c1149f14900f504f32e000a7b4e69e661f)\n'}, {'number': 4, 'created': '2020-08-21 19:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae900fa9210a9b531ec2686ed881e1074608244c', 'message': 'Fix for failure in cleaning\n\nThe cleaning operation may fail, if an in-band clean step were to\nexecute after the completion of out-of-band clean step that\nperforms reboot of the node. The failure is caused because of race\ncondition where in cleaning is resumed before the Ironic Python\nAgent(IPA) is ready to execute clean steps.\n\nStory: #2002731\nTask: #22580\nChange-Id: Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb\n(cherry picked from commit 7c5a04c1149f14900f504f32e000a7b4e69e661f)\n'}, {'number': 5, 'created': '2020-08-25 18:37:33.000000000', 'files': ['ironic/common/exception.py', 'releasenotes/notes/resume-cleaning-post-oob-reboot-b76c23f98219a8d2.yaml', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/800a5c4d147aaa41834f159c210417e7ed5a7eb2', 'message': 'Fix for failure in cleaning\n\nThe cleaning operation may fail, if an in-band clean step were to\nexecute after the completion of out-of-band clean step that\nperforms reboot of the node. The failure is caused because of race\ncondition where in cleaning is resumed before the Ironic Python\nAgent(IPA) is ready to execute clean steps.\n\nStory: #2002731\nTask: #22580\nChange-Id: Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb\n(cherry picked from commit 7c5a04c1149f14900f504f32e000a7b4e69e661f)\n'}]",3,747288,800a5c4d147aaa41834f159c210417e7ed5a7eb2,23,6,5,11655,,,0,"Fix for failure in cleaning

The cleaning operation may fail, if an in-band clean step were to
execute after the completion of out-of-band clean step that
performs reboot of the node. The failure is caused because of race
condition where in cleaning is resumed before the Ironic Python
Agent(IPA) is ready to execute clean steps.

Story: #2002731
Task: #22580
Change-Id: Idaacb9fbb1ea3ac82cdb6769df05d8206660c8cb
(cherry picked from commit 7c5a04c1149f14900f504f32e000a7b4e69e661f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/747288/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/resume-cleaning-post-oob-reboot-b76c23f98219a8d2.yaml', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",8,d28dbfcfbee0d30fa24138d862989da7309ee973,," def test__command_fail_connect(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) method = 'foo.bar' params = {} self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to invoke ' 'agent command %(method)s for node %(node)s. ' 'Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) ",,167,2
openstack%2Ftripleo-ansible~master~Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696,openstack/tripleo-ansible,master,Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696,Add tripleo_ha_wrapper role,MERGED,2020-05-01 10:44:44.000000000,2020-09-07 15:39:15.000000000,2020-09-01 17:00:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-01 10:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abcc312a9c7294498ddf839b6a2c67d8907071d4', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 2, 'created': '2020-05-01 10:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b247808fc604649cd0907badb5af54fe837713e', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 3, 'created': '2020-05-01 14:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c0ab2bf7fadb16ee5d4e1686c72e747be25ffba', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 4, 'created': '2020-05-01 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5cd8fbb8aa152b453612d3ed7234151f19d97df', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 5, 'created': '2020-05-01 16:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc1202369c25bf9820bda73b58c54a6143298f34', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 6, 'created': '2020-05-05 06:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1ec07cc35cf780efd41eccfcec646a17f33c076', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 7, 'created': '2020-05-05 10:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcbb7a064558ed26cb912dc4031133da09261bbd', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 8, 'created': '2020-05-08 06:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e36209f74a666f4314b95700900cc2b1e8d532bd', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 9, 'created': '2020-05-09 14:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25f5c6209d8341e1afd19bba86ae0460d74bd45f', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 10, 'created': '2020-05-13 07:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f5d9bb07d95cbe9cf68d7116c4dbeb33db988a7', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 11, 'created': '2020-05-15 07:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e0c3347ce6ae2e0072059637eb7f2099df859d7', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 12, 'created': '2020-05-18 08:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6552c0af5cab2050656d6384ca9486cb70d9f26', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 13, 'created': '2020-05-19 11:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b0cc43db5ceeadbac058fae5fd40ecff4595d5e', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 14, 'created': '2020-05-26 20:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/adc689c9fff2c161d9bb0e5f6f8612df47690d01', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 15, 'created': '2020-06-15 08:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf096b7ecc608617abab26f35f8787fb266f6b5d', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 16, 'created': '2020-06-15 11:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa741fe95081f235e63e3954926d05f99a22f307', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 17, 'created': '2020-06-16 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c38749e829502dde72146ac21fdf120b756c3ae', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 18, 'created': '2020-06-22 06:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/812fef97e1f9c31069f8805e24e36bf45ffd332c', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 19, 'created': '2020-06-23 07:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90f8ebabdb70b17e003619eacba98ad594d9d58b', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 20, 'created': '2020-06-29 06:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/40d2eaf0e08dfcd49e17d3945a9e2d2cd2f44d29', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 21, 'created': '2020-07-02 06:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07ab73057069f6012ce9f78974de6434458131d7', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 22, 'created': '2020-07-04 07:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e14cfa2f861e2633b57a1e6dd15d65f4ab7c9c25', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 23, 'created': '2020-07-13 09:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c9279b7a9a511e0e5ec543032155c1fef397015', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 24, 'created': '2020-07-19 08:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/540db19d8ecfb657129a988cc65b99219d837548', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 25, 'created': '2020-08-11 13:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8938fad2aae8a7eb308b951d9d0de6a81942099', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 26, 'created': '2020-08-19 16:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7443586326936a0d60fee0f97b424e9c0636700', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 27, 'created': '2020-08-19 16:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de8e057324c9fd74be7b4eecbf57a8c6eb77d99b', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 28, 'created': '2020-08-21 08:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2da4fe3b1ae326dc88ac5ac370b6fa4e4af5151d', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 29, 'created': '2020-08-21 10:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6022dc77e7f7bee395b527d532683dfe0d31dc1b', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 30, 'created': '2020-08-25 10:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ada3383d447a8c72b2816d45dd8d90498642300', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 31, 'created': '2020-08-25 10:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/261321151714edea23e3d891c23d63b65f758839', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 32, 'created': '2020-08-25 11:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6180cad63298039c0814d993db743da97a7d92bf', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 33, 'created': '2020-08-25 12:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07e57df2ae6e30df772d58683d725245f4b9d7f0', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 34, 'created': '2020-08-25 12:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1962e226823c32f241bca4cb31b1bc6798eb0370', 'message': 'WIP Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 35, 'created': '2020-08-25 16:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c076215f5d27aae06fc7105ad1299d9ce7d1e46', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 36, 'created': '2020-08-26 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd4ecc0b2bcfb39496ba682caaac5c15a39b7938', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 37, 'created': '2020-08-27 10:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f98a15a53ae009cf080d5d24d63b2520b5e9810', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 38, 'created': '2020-08-27 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b794bd3989aad7d2ad95134febcf9df3e2391281', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 39, 'created': '2020-08-27 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77b309ea4dc8bfeb3b11bdae0b774d4d022d6512', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 40, 'created': '2020-08-27 16:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2897201a904eb2cbc05f2142deb69bc296b751b8', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 41, 'created': '2020-08-27 16:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebe9aacd62ba82cafe4a2dbd8b89d81108d1a049', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 42, 'created': '2020-08-28 08:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eae8e8acbe494bcc4ad7cb0b9b4663a21b4b264f', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 43, 'created': '2020-08-28 09:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c80dc3b285869a7dc17a8e21ea374fd6301e978', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 44, 'created': '2020-08-28 14:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c577507ae8715be83e013983129fbc02b2337677', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 45, 'created': '2020-08-28 17:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b76b4a83a440b0b8cddfba7332e3788716abad11', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 46, 'created': '2020-09-01 06:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7195b251616ff5ded0578b4891f664290ecc3cad', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}, {'number': 47, 'created': '2020-09-01 10:25:28.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/defaults/main.yml', 'doc/source/roles/role-tripleo_ha_wrappers.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5782863b8b1da748da3e6914ff4281e6103f29b', 'message': 'Add tripleo_ha_wrapper role\n\nThis role is meant to help moving the HA pcs tasks to pure deployment\nsteps run on the host and not in containers any more. We tested this\nansible review with the THT patches at\nhttps://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3\n\nHere is the testing protocol that was used in order to verify we did\nnot break anything:\n1) Deployed overcloud + tempest\n2) Ran a successful redeploy\n2.1) Verified that a redeploy restarted containers globally when the\n     configuration for the service changed\n2.2) Verified that a redeploy did not restart containers which config\n     did not change\n2.3) Verified that the ordering of restarting bundles allows for\n     brownfield deployments (i.e. first the bundle is restarted due\n     to new bind-mounts and then the bundle is restarted with new\n     configuration)\n2.4) Verified that converge step after minor update is successful\n3) Ran an initial successful minor update\n3.1) Verified that the new image is indeed being run by pacemaker\n     (i.e. :pcmklatest tag is applied to the new containers)\n3.2) Verified that after converge no container is restarted\n4) Re-run a subsequent successful noop minor update\n4.1) Verify that containers are not restarted a second time after\n     the cluster is stopped and started\n\nDepends-On: I367cf4b65300be8dca0190b9adeab549018d4a56\n\nChange-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nRelated-Bug: #1863442\n'}]",42,724817,d5782863b8b1da748da3e6914ff4281e6103f29b,179,8,47,20172,,,0,"Add tripleo_ha_wrapper role

This role is meant to help moving the HA pcs tasks to pure deployment
steps run on the host and not in containers any more. We tested this
ansible review with the THT patches at
https://review.opendev.org/#/q/status:open+project:openstack/tripleo-heat-templates+branch:master+topic:pcs_host3

Here is the testing protocol that was used in order to verify we did
not break anything:
1) Deployed overcloud + tempest
2) Ran a successful redeploy
2.1) Verified that a redeploy restarted containers globally when the
     configuration for the service changed
2.2) Verified that a redeploy did not restart containers which config
     did not change
2.3) Verified that the ordering of restarting bundles allows for
     brownfield deployments (i.e. first the bundle is restarted due
     to new bind-mounts and then the bundle is restarted with new
     configuration)
2.4) Verified that converge step after minor update is successful
3) Ran an initial successful minor update
3.1) Verified that the new image is indeed being run by pacemaker
     (i.e. :pcmklatest tag is applied to the new containers)
3.2) Verified that after converge no container is restarted
4) Re-run a subsequent successful noop minor update
4.1) Verify that containers are not restarted a second time after
     the cluster is stopped and started

Depends-On: I367cf4b65300be8dca0190b9adeab549018d4a56

Change-Id: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Related-Bug: #1863442
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/724817/37 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/meta/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/defaults/main.yml']",3,abcc312a9c7294498ddf839b6a2c67d8907071d4,pcs_host3,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should place placed in this file. # All variables within this role should have a prefix of ""tripleo_ha_wrappers"" tripleo_ha_wrappers_config_basedir: ""/var/lib/config-data/puppet-generated"" tripleo_ha_wrappers_config_suffix: "".previous_run"" tripleo_ha_wrappers_puppet_modulepath: ""/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules"" tripleo_ha_wrappers_pcmk_restart_script: ""/var/lib/container-config-scripts/pacemaker_restart_bundle.sh"" ",,131,0
openstack%2Fkolla-ansible~stable%2Fussuri~I15d6891582c92c7fc813f280a2b47ebaaca77eba,openstack/kolla-ansible,stable/ussuri,I15d6891582c92c7fc813f280a2b47ebaaca77eba,Update trove config file,MERGED,2020-08-21 01:40:43.000000000,2020-09-07 15:22:55.000000000,2020-09-07 15:21:07.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-21 01:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e002764fde02fb137232398e1dbe23a2be401b6d', 'message': 'Update trove config file\n\nOption ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.\nUse option ""auth_url/region_name"" from group service_credentials\n\nChange-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba\n(cherry picked from commit 712b27daea958094d3aae6b1df26c391fe8e4200)\n'}, {'number': 2, 'created': '2020-09-03 16:16:05.000000000', 'files': ['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/744ff2277839169c3cef5b09ad2dd987a71b304b', 'message': 'Update trove config file\n\nOption ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.\nUse option ""auth_url/region_name"" from group service_credentials\n\nChange-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba\n(cherry picked from commit 712b27daea958094d3aae6b1df26c391fe8e4200)\n'}]",0,747318,744ff2277839169c3cef5b09ad2dd987a71b304b,14,5,2,32029,,,0,"Update trove config file

Option ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.
Use option ""auth_url/region_name"" from group service_credentials

Change-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba
(cherry picked from commit 712b27daea958094d3aae6b1df26c391fe8e4200)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/747318/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2']",3,e002764fde02fb137232398e1dbe23a2be401b6d,update-config-stable/ussuri,[service_credentials] auth_url = {{ keystone_internal_url }}/v3 region_name = {{ openstack_region_name }} project_name = service password = {{ trove_keystone_password }} project_domain_name = {{ default_project_domain_name }} user_domain_name = {{ default_user_domain_name }} username = {{ trove_keystone_user }} ,trove_auth_url = {{ keystone_internal_url }}/v3 os_region_name = {{ openstack_region_name }} ,26,10
openstack%2Fbifrost~master~I4eca6c25d44d3dfebb7ee99bcf206c2a9f8e923b,openstack/bifrost,master,I4eca6c25d44d3dfebb7ee99bcf206c2a9f8e923b,"Follow up on ""Fix error 601""",MERGED,2020-09-02 13:15:41.000000000,2020-09-07 15:22:18.000000000,2020-09-07 15:20:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-02 13:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1df725fd7dbc341c0fd55e65e110b7b8b39641b4', 'message': 'Follow up on ""Fix error 601""\n\nFixing some nits from the precedent patch.\n\nChange-Id: I4eca6c25d44d3dfebb7ee99bcf206c2a9f8e923b\n'}, {'number': 2, 'created': '2020-09-02 13:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f9000cc53452457212ea42c946636b65583efbee', 'message': 'Follow up on ""Fix error 601""\n\nFixing some nits from the precedent patch.\n\nChange-Id: I4eca6c25d44d3dfebb7ee99bcf206c2a9f8e923b\n'}, {'number': 3, 'created': '2020-09-03 11:54:36.000000000', 'files': ['playbooks/example-deploy-all-available-nodes.yaml', 'playbooks/roles/bifrost-create-bootable-image/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/redeploy-dynamic.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e4ad94c1eadcb2d054d52174d0b4c30a5c63c78b', 'message': 'Follow up on ""Fix error 601""\n\nFixing some nits from the precedent patch.\n\nChange-Id: I4eca6c25d44d3dfebb7ee99bcf206c2a9f8e923b\n'}]",2,749499,e4ad94c1eadcb2d054d52174d0b4c30a5c63c78b,13,4,3,23851,,,0,"Follow up on ""Fix error 601""

Fixing some nits from the precedent patch.

Change-Id: I4eca6c25d44d3dfebb7ee99bcf206c2a9f8e923b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/99/749499/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/example-deploy-all-available-nodes.yaml', 'playbooks/roles/bifrost-create-bootable-image/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/redeploy-dynamic.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml']",6,1df725fd7dbc341c0fd55e65e110b7b8b39641b4,no-literal-true-false, when: not test_ssh_public_key_path.stat.exists, when: not test_ssh_public_key_path.stat.exists | bool,28,22
openstack%2Fcharm-placement~master~Iea3536fc83e5ab5865ecf10ca04c7914a8bac2be,openstack/charm-placement,master,Iea3536fc83e5ab5865ecf10ca04c7914a8bac2be,Add focal-victoria to the test gate,MERGED,2020-08-28 12:28:34.000000000,2020-09-07 15:19:06.000000000,2020-09-07 14:12:51.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-28 12:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/0975796c3186a52c3c5c12804620cc38a40625b4', 'message': 'Add focal-victoria to the test gate\n\nChange-Id: Iea3536fc83e5ab5865ecf10ca04c7914a8bac2be\n'}, {'number': 2, 'created': '2020-09-01 16:39:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/96ef8424c608347e353cc517adbf7b81a137b286', 'message': 'Add focal-victoria to the test gate\n\nAlso sync latest release-tools templates\n\nChange-Id: Iea3536fc83e5ab5865ecf10ca04c7914a8bac2be\n'}]",0,748656,96ef8424c608347e353cc517adbf7b81a137b286,29,4,2,31289,,,0,"Add focal-victoria to the test gate

Also sync latest release-tools templates

Change-Id: Iea3536fc83e5ab5865ecf10ca04c7914a8bac2be
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/56/748656/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,0975796c3186a52c3c5c12804620cc38a40625b4,victoria-charm-gate, - focal-victoria, - focal-victoria,1,1
openstack%2Fbifrost~master~Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5,openstack/bifrost,master,Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5,Use packaged iPXE ROMs for openSUSE,MERGED,2020-08-25 10:27:48.000000000,2020-09-07 15:16:09.000000000,2020-09-07 15:13:53.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 10:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/60d95e7b48cbb03c1fe693b5c9ddbe73a422ab31', 'message': 'Use packaged iPXE ROMs for openSUSE\n\nChange-Id: Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5\n'}, {'number': 2, 'created': '2020-08-25 10:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1537d2899cc1c84720003858b4751f84660f26cb', 'message': 'Use packaged iPXE ROMs for openSUSE\n\nAlso remove work arounds for openSUSE in ancient ansible versions.\n\nChange-Id: Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5\n'}, {'number': 3, 'created': '2020-08-25 10:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8ecd43c19be10f67b42d7aba0880061400591890', 'message': 'Use packaged iPXE ROMs for openSUSE\n\nAlso remove work arounds for openSUSE in ancient ansible versions.\n\nChange-Id: Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5\n'}, {'number': 4, 'created': '2020-09-02 08:42:52.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'releasenotes/notes/suse-ipxe-ce4f1bf07db78860.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ea4ee59550923c0730c499ec05f02fbff6204808', 'message': 'Use packaged iPXE ROMs for openSUSE\n\nAlso remove work arounds for openSUSE in ancient ansible versions.\n\nChange-Id: Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5\n'}]",0,747894,ea4ee59550923c0730c499ec05f02fbff6204808,15,3,4,10239,,,0,"Use packaged iPXE ROMs for openSUSE

Also remove work arounds for openSUSE in ancient ansible versions.

Change-Id: Iab8dbf538b2e1bfc79d1021c6a7f729832abb3a5
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/94/747894/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'releasenotes/notes/suse-ipxe-ce4f1bf07db78860.yaml']",2,60d95e7b48cbb03c1fe693b5c9ddbe73a422ab31,suse-ipxe,"--- upgrade: - | Packaged iPXE ROMs are now used by default on openSUSE, set ``download_ipxe=true`` to override. ",,8,7
openstack%2Fironic~master~Id7a3f402285c654bc4665dcd45bd0730128bf9b0,openstack/ironic,master,Id7a3f402285c654bc4665dcd45bd0730128bf9b0,Remove token-less agent support,MERGED,2020-09-01 23:11:05.000000000,2020-09-07 15:13:55.000000000,2020-09-07 15:07:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 23:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2da0230fe942f082510eab0da64693ba2748b20', 'message': 'WIP: Remove token-less agent support\n\nChange-Id: Id7a3f402285c654bc4665dcd45bd0730128bf9b0\n'}, {'number': 2, 'created': '2020-09-02 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b4583cf5515489abc549cb714d2a1271c619627', 'message': 'Remove token-less agent support\n\nRemoves the deprecated support for token-less agents which\nbetter secures the ironic-python-agent<->ironic interactions\nto help ensure heartbeat operations are coming from the same\nnode which originally checked-in with the Ironic and that\ncommands coming to an agent are originating from the same\nironic deployment which the agent checked-in with to begin\nwith.\n\nStory: 2007025\nTask: 40814\nChange-Id: Id7a3f402285c654bc4665dcd45bd0730128bf9b0\n'}, {'number': 3, 'created': '2020-09-04 17:09:41.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/api/controllers/v1/ramdisk.py', 'doc/source/admin/agent-token.rst', 'ironic/cmd/conductor.py', 'zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_client.py', 'releasenotes/notes/no-tokenless-agents-c6c16d79ccc0da7a.yaml', 'ironic/conf/default.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b272b0c46f5a10c50fc7325cc653fd577908ca0', 'message': 'Remove token-less agent support\n\nRemoves the deprecated support for token-less agents which\nbetter secures the ironic-python-agent<->ironic interactions\nto help ensure heartbeat operations are coming from the same\nnode which originally checked-in with the Ironic and that\ncommands coming to an agent are originating from the same\nironic deployment which the agent checked-in with to begin\nwith.\n\nStory: 2007025\nTask: 40814\nChange-Id: Id7a3f402285c654bc4665dcd45bd0730128bf9b0\n'}]",6,749407,5b272b0c46f5a10c50fc7325cc653fd577908ca0,22,7,3,11655,,,0,"Remove token-less agent support

Removes the deprecated support for token-less agents which
better secures the ironic-python-agent<->ironic interactions
to help ensure heartbeat operations are coming from the same
node which originally checked-in with the Ironic and that
commands coming to an agent are originating from the same
ironic deployment which the agent checked-in with to begin
with.

Story: 2007025
Task: 40814
Change-Id: Id7a3f402285c654bc4665dcd45bd0730128bf9b0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/749407/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/conf/default.py', 'ironic/cmd/conductor.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",8,a2da0230fe942f082510eab0da64693ba2748b20,," def test__command_fail_agent_token_required(self, mock_sleep):"," def test__command_succeed_after_agent_token(self, mock_sleep): self.config(require_agent_token=False) mock_sleep.return_value = None error = 'Unknown Argument: ""agent_token""' response_data = {'status': 'ok'} method = 'standby.run_image' image_info = {'image_id': 'test_image'} params = {'image_info': image_info} i_info = self.node.driver_internal_info i_info['agent_secret_token'] = 'meowmeowmeow' self.client.session.post.side_effect = [ MockFault(error), MockResponse(response_data), ] response = self.client._command(self.node, method, params) self.assertEqual(2, self.client.session.post.call_count) self.assertEqual(response, response_data) self.client.session.post.assert_called_with( self.client._get_command_url(self.node), data=self.client._get_command_body(method, params), params={'wait': 'false'}, timeout=60, verify=True) self.assertNotIn('agent_secret_token', self.node.driver_internal_info) @mock.patch.object(retrying.time, 'sleep', autospec=True) def test__command_fail_agent_token_required(self, mock_sleep): self.config(require_agent_token=True)",46,150
openstack%2Fironic-inspector~master~Id702cb04cb2445d544965821680cd0cc5cfd37e5,openstack/ironic-inspector,master,Id702cb04cb2445d544965821680cd0cc5cfd37e5,Identify accelerator devices during introspection,MERGED,2020-08-07 06:21:42.000000000,2020-09-07 15:13:37.000000000,2020-09-07 15:07:22.000000000,"[{'_account_id': 136}, {'_account_id': 6618}, {'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23847}, {'_account_id': 24828}, {'_account_id': 24872}, {'_account_id': 32201}, {'_account_id': 32205}]","[{'number': 1, 'created': '2020-08-07 06:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bdc2326ae8510a334fcf63b0539158774fc5b23a', 'message': 'Identify accelerator devices during introspection\n\nIdentify acclerator devices by processing pci devices and update to\nironic node when found. Currently only Tesla T4 from NVIDIA is\nsupported.\n\nChange-Id: Id702cb04cb2445d544965821680cd0cc5cfd37e5\nStory: 2007971\nTask: 40473\n'}, {'number': 2, 'created': '2020-08-07 08:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3130039a252c325dcb0217993dc473a08529776e', 'message': 'Identify accelerator devices during introspection\n\nIdentify acclerator devices by processing pci devices and update to\nironic node when found. Currently only Tesla T4 from NVIDIA is\nsupported.\n\nChange-Id: Id702cb04cb2445d544965821680cd0cc5cfd37e5\nStory: 2007971\nTask: 40473\n'}, {'number': 3, 'created': '2020-08-19 08:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/70742c855bf230910b75588d1636cb57035d15bd', 'message': 'Identify accelerator devices during introspection\n\nIdentify acclerator devices by processing pci devices and update to\nironic node when found. Currently only Tesla T4 from NVIDIA is\nsupported.\n\nChange-Id: Id702cb04cb2445d544965821680cd0cc5cfd37e5\nStory: 2007971\nTask: 40473\n'}, {'number': 4, 'created': '2020-08-20 06:09:15.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_accel_device.py', 'ironic_inspector/conf/accelerators.py', 'requirements.txt', 'doc/source/user/usage.rst', 'ironic_inspector/known_accelerators.yaml', 'ironic_inspector/plugins/accel_device.py', 'releasenotes/notes/accelerators-2aa4f0cedf359810.yaml', 'setup.cfg', 'ironic_inspector/conf/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/de2a27ad8b41c45af1f8d57dad45fea9ce0f33a3', 'message': 'Identify accelerator devices during introspection\n\nIdentify acclerator devices by processing pci devices and update to\nironic node when found. Currently only Tesla T4 from NVIDIA is\nsupported.\n\nChange-Id: Id702cb04cb2445d544965821680cd0cc5cfd37e5\nStory: 2007971\nTask: 40473\n'}]",66,745289,de2a27ad8b41c45af1f8d57dad45fea9ce0f33a3,38,15,4,24828,,,0,"Identify accelerator devices during introspection

Identify acclerator devices by processing pci devices and update to
ironic node when found. Currently only Tesla T4 from NVIDIA is
supported.

Change-Id: Id702cb04cb2445d544965821680cd0cc5cfd37e5
Story: 2007971
Task: 40473
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/89/745289/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'ironic_inspector/plugins/accl_device.py', 'ironic_inspector/test/unit/test_plugins_accl_device.py', 'releasenotes/notes/accl-device-2aa4f0cedf359810.yaml']",4,bdc2326ae8510a334fcf63b0539158774fc5b23a,accel-device,--- features: - | Adds a ``accl_device`` plugin to identify acclerator devices and update to bare metal node for future scheduling. The accelerator devices will be saved to node properties under the key ``accl``. ,,125,0
openstack%2Foctavia~master~Ic112c5e71ee9b6433b307fdf27059f217ba4136e,openstack/octavia,master,Ic112c5e71ee9b6433b307fdf27059f217ba4136e,Add proxy v2 protocol support,MERGED,2020-08-24 21:50:20.000000000,2020-09-07 15:04:27.000000000,2020-09-07 15:00:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-24 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/18fccfb0e4ab4343e91aeeb1e5e168092535a0e5', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}, {'number': 2, 'created': '2020-08-24 21:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2a385bd51709db9740d9b2a751d96bca051e61d3', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nDepends-On: https://review.opendev.org/747296\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}, {'number': 3, 'created': '2020-08-28 16:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8cb9eac894863f1b677ba809482b4a952551ec0', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nDepends-On: https://review.opendev.org/747296\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}, {'number': 4, 'created': '2020-09-01 23:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/477093ce92727bcce35653805ac3e1646dbd3dbc', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nDepends-On: https://review.opendev.org/747296\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}, {'number': 5, 'created': '2020-09-02 18:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/824204721d71bca0e131c359d94e7b7edbef5b7b', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nDepends-On: https://review.opendev.org/747296\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}, {'number': 6, 'created': '2020-09-04 18:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/55eb4e00b6f143473f3c9973abd939d022755676', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nDepends-On: https://review.opendev.org/747296\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}, {'number': 7, 'created': '2020-09-04 18:15:22.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/api/v2/types/pool.py', 'api-ref/source/v2/pool.inc', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/db/migration/alembic_migrations/versions/e6ee84f0abf3_add_proxy_v2_pool_protocol.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'doc/source/user/feature-classification/feature-matrix-pool.ini', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/common/constants.py', 'releasenotes/notes/Add-proxy-protocol-v2-90e4f5bf76138c69.yaml', 'octavia/api/root_controller.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/common/constants.py', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7fe78c59437e7aea502d640651db0a5633c8d1cb', 'message': 'Add proxy v2 protocol support\n\nThis patch adds support for the proxy protocol v2 on pools.\n\nDepends-On: https://review.opendev.org/747296\nChange-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e\nStory: 2005611\nTask: 30858\n'}]",2,747801,7fe78c59437e7aea502d640651db0a5633c8d1cb,25,6,7,11628,,,0,"Add proxy v2 protocol support

This patch adds support for the proxy protocol v2 on pools.

Depends-On: https://review.opendev.org/747296
Change-Id: Ic112c5e71ee9b6433b307fdf27059f217ba4136e
Story: 2005611
Task: 30858
",git fetch https://review.opendev.org/openstack/octavia refs/changes/01/747801/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'octavia/api/v2/types/pool.py', 'api-ref/source/v2/pool.inc', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/db/migration/alembic_migrations/versions/e6ee84f0abf3_add_proxy_v2_pool_protocol.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/common/constants.py', 'releasenotes/notes/Add-proxy-protocol-v2-90e4f5bf76138c69.yaml', 'octavia/api/root_controller.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/common/constants.py', 'octavia/tests/functional/api/v2/test_listener.py']",16,18fccfb0e4ab4343e91aeeb1e5e168092535a0e5,proxyv2," if pool_proto == constants.PROTOCOL_TERMINATED_HTTPS: pool = self.create_pool( self.lb_id, pool_proto, constants.LB_ALGORITHM_ROUND_ROBIN, status=400) self.assertIn(""Invalid input"", pool['faultstring']) else: pool = self.create_pool( self.lb_id, pool_proto, constants.LB_ALGORITHM_ROUND_ROBIN).get('pool') self.set_object_status(self.lb_repo, self.lb_id) expect_error_msg = ( ""Validation failure: The pool protocol '%s' is "" ""invalid while the listener protocol is '%s'."") % ( pool_proto, listener_proto) listener = {'protocol': listener_proto, 'protocol_port': port, 'loadbalancer_id': self.lb_id, 'default_pool_id': pool.get('id')} body = self._build_body(listener) res = self.post(self.LISTENERS_PATH, body, status=400, expect_errors=True) self.assertEqual(expect_error_msg, res.json['faultstring']) self.assert_correct_status(lb_id=self.lb_id) if pool_proto == constants.PROTOCOL_TERMINATED_HTTPS: pool = self.create_pool( self.lb_id, pool_proto, constants.LB_ALGORITHM_ROUND_ROBIN, status=400) self.assertIn(""Invalid input"", pool['faultstring']) else: pool = self.create_pool( self.lb_id, pool_proto, constants.LB_ALGORITHM_ROUND_ROBIN).get('pool') self.set_object_status(self.lb_repo, self.lb_id) new_listener = {'default_pool_id': pool.get('id')} res = self.put( self.LISTENER_PATH.format( listener_id=listener.get('id')), self._build_body(new_listener), status=400) self.assertEqual(expect_error_msg, res.json['faultstring']) self.assert_correct_status(lb_id=self.lb_id)"," pool = self.create_pool( self.lb_id, pool_proto, constants.LB_ALGORITHM_ROUND_ROBIN).get('pool') self.set_object_status(self.lb_repo, self.lb_id) expect_error_msg = (""Validation failure: The pool protocol "" ""'%s' is invalid while the listener "" ""protocol is '%s'."") % (pool_proto, listener_proto) listener = {'protocol': listener_proto, 'protocol_port': port, 'loadbalancer_id': self.lb_id, 'default_pool_id': pool.get('id')} body = self._build_body(listener) res = self.post(self.LISTENERS_PATH, body, status=400, expect_errors=True) self.assertEqual(expect_error_msg, res.json['faultstring']) self.assert_correct_status(lb_id=self.lb_id) pool = self.create_pool( self.lb_id, pool_proto, constants.LB_ALGORITHM_ROUND_ROBIN).get('pool') self.set_object_status(self.lb_repo, self.lb_id) new_listener = {'default_pool_id': pool.get('id')} res = self.put( self.LISTENER_PATH.format(listener_id=listener.get('id')), self._build_body(new_listener), status=400) self.assertEqual(expect_error_msg, res.json['faultstring']) self.assert_correct_status(lb_id=self.lb_id)",223,90
openstack%2Foctavia~master~Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62,openstack/octavia,master,Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62,Add HTTP/2 over TLS support to amphora provider,MERGED,2020-08-05 13:39:38.000000000,2020-09-07 15:02:54.000000000,2020-09-07 15:00:07.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-05 13:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6c1abc7869d24c5e1dd3c5d08fe3118ad7c5e6c', 'message': 'Add HTTP/2 over TLS support to amphora provider\n\nHTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating\nsystem versions in test as of today (Ubuntu Bionic and CentOS 8) do not\nprovide HAProxy 2.x in their official repositories. For this reason, the\ndefault listener ALPN protocol list remains unchanged, defaulting to\nALPN protocol IDs ""http/1.1"" and ""http/1.0"".\n\nChange-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62\n'}, {'number': 2, 'created': '2020-08-10 09:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6757827264681fa4012779b1fff026b4504678ce', 'message': 'Add HTTP/2 over TLS support to amphora provider\n\nHTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating\nsystem versions in test as of today (Ubuntu Bionic and CentOS 8) do not\nprovide HAProxy 2.x in their official repositories. For this reason, the\ndefault listener ALPN protocol list remains unchanged, defaulting to\nALPN protocol IDs ""http/1.1"" and ""http/1.0"".\n\nChange-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62\n'}, {'number': 3, 'created': '2020-08-18 19:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d8d17b0bf503d81cd901f940a0db2e0f93ddc45b', 'message': 'Add HTTP/2 over TLS support to amphora provider\n\nHTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating\nsystem versions in test as of today (Ubuntu Bionic and CentOS 8) do not\nprovide HAProxy 2.x in their official repositories. For this reason, the\ndefault listener ALPN protocol list remains unchanged, defaulting to\nALPN protocol IDs ""http/1.1"" and ""http/1.0"".\n\nChange-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62\n'}, {'number': 4, 'created': '2020-08-25 14:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/de9997c6b5db46008c2c6c97e11d701b63dea9f3', 'message': 'Add HTTP/2 over TLS support to amphora provider\n\nHTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating\nsystem versions in test as of today (Ubuntu Bionic and CentOS 8) do not\nprovide HAProxy 2.x in their official repositories. For this reason, the\ndefault listener ALPN protocol list remains unchanged, defaulting to\nALPN protocol IDs ""http/1.1"" and ""http/1.0"".\n\nChange-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62\n'}, {'number': 5, 'created': '2020-08-27 11:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b080faf59011d285fbf28443a9595fdda19ab00a', 'message': 'Add HTTP/2 over TLS support to amphora provider\n\nHTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating\nsystem versions in test as of today (Ubuntu Bionic and CentOS 8) do not\nprovide HAProxy 2.x in their official repositories. For this reason, the\ndefault listener ALPN protocol list remains unchanged, defaulting to\nALPN protocol IDs ""http/1.1"" and ""http/1.0"".\n\nChange-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62\n'}, {'number': 6, 'created': '2020-09-03 10:43:42.000000000', 'files': ['octavia/common/constants.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'releasenotes/notes/add-amphora-alpn-h2-support-dfa9a86b2c06f354.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de2fe22f9d94d64a91fdecfcfbe4bb147c686fef', 'message': 'Add HTTP/2 over TLS support to amphora provider\n\nHTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating\nsystem versions in test as of today (Ubuntu Bionic and CentOS 8) do not\nprovide HAProxy 2.x in their official repositories. For this reason, the\ndefault listener ALPN protocol list remains unchanged, defaulting to\nALPN protocol IDs ""http/1.1"" and ""http/1.0"".\n\nChange-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62\n'}]",2,744905,de2fe22f9d94d64a91fdecfcfbe4bb147c686fef,24,5,6,6469,,,0,"Add HTTP/2 over TLS support to amphora provider

HTTP/2 requires HAProxy 2.0 or newer in amphora images. The operating
system versions in test as of today (Ubuntu Bionic and CentOS 8) do not
provide HAProxy 2.x in their official repositories. For this reason, the
default listener ALPN protocol list remains unchanged, defaulting to
ALPN protocol IDs ""http/1.1"" and ""http/1.0"".

Change-Id: Id29d0d2cd5ab1ae3c7d26194a235af25c2271d62
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/744905/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'releasenotes/notes/add-amphora-alpn-h2-support-dfa9a86b2c06f354.yaml']",4,d6c1abc7869d24c5e1dd3c5d08fe3118ad7c5e6c,http2,--- features: - | Added HTTP/2 over TLS support via ALPN protocol negotiation to the amphora provider driver. Feature available in amphora images with HAProxy 2.0 or newer. ,,12,8
openstack%2Ftripleo-heat-templates~master~I6aefdda3fb4c2eb84345d45e6c3220a6d537222f,openstack/tripleo-heat-templates,master,I6aefdda3fb4c2eb84345d45e6c3220a6d537222f,Add Horizon logs for rsyslog,ABANDONED,2020-04-02 19:45:45.000000000,2020-09-07 15:01:51.000000000,,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 8648}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-04-02 19:45:45.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81f599a7b0fe2770c34ed259760f418288be5f7d', 'message': 'Add Horizon logs for rsyslog\n\nHorizon logs got lost somewhere in the translation, so we need to get them back.\n\nChange-Id: I6aefdda3fb4c2eb84345d45e6c3220a6d537222f\n'}]",4,717111,81f599a7b0fe2770c34ed259760f418288be5f7d,16,9,1,5241,,,0,"Add Horizon logs for rsyslog

Horizon logs got lost somewhere in the translation, so we need to get them back.

Change-Id: I6aefdda3fb4c2eb84345d45e6c3220a6d537222f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/717111/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,81f599a7b0fe2770c34ed259760f418288be5f7d,horizon-logs, HorizonLoggingSource: type: json default: - tag: openstack.horizon file: /var/log/containers/horizon/horizon.log - tag: openstack.horizon.httpd file: /var/log/containers/httpd/horizon/error_log - tag: openstack.horizon.httpd file: /var/log/containers/httpd/horizon/horizon_access - tag: openstack.horizon.httpd file: /var/log/containers/httpd/horizon/horizon_error service_config_settings: rsyslog: tripleo_logging_sources_horizon: {get_param: HorizonLoggingSource},,14,0
openstack%2Ftempest~master~I22c79f176730e053f86f82839ca45278b8530127,openstack/tempest,master,I22c79f176730e053f86f82839ca45278b8530127,DNM/WIP Stop skipping tests due to bug #1882521,ABANDONED,2020-09-07 13:41:34.000000000,2020-09-07 15:00:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-07 13:41:34.000000000', 'files': ['tools/tempest-integrated-gate-compute-blacklist.txt', 'tools/tempest-integrated-gate-networking-blacklist.txt', 'tools/tempest-integrated-gate-placement-blacklist.txt', 'tools/tempest-integrated-gate-storage-blacklist.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b429d13dc39e346525b0f33a80a598db36a23e8e', 'message': 'DNM/WIP Stop skipping tests due to bug #1882521\n\nChange-Id: I22c79f176730e053f86f82839ca45278b8530127\n'}]",0,750172,b429d13dc39e346525b0f33a80a598db36a23e8e,3,1,1,10135,,,0,"DNM/WIP Stop skipping tests due to bug #1882521

Change-Id: I22c79f176730e053f86f82839ca45278b8530127
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/750172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tempest-integrated-gate-compute-blacklist.txt', 'tools/tempest-integrated-gate-networking-blacklist.txt', 'tools/tempest-integrated-gate-placement-blacklist.txt', 'tools/tempest-integrated-gate-storage-blacklist.txt']",4,b429d13dc39e346525b0f33a80a598db36a23e8e,,, # TODO(gmann): Remove these test skip once nova bug #1882521 is solved tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON tempest.api.compute.servers.test_server_rescue.ServerStableDeviceRescueTest.test_stable_device_rescue_disk_virtio_with_volume_attached,0,20
openstack%2Fcharm-nova-cloud-controller~master~I2faa5ab8cd505a9d61a9fa26e1b08d16b0c795fb,openstack/charm-nova-cloud-controller,master,I2faa5ab8cd505a9d61a9fa26e1b08d16b0c795fb,Make disabling build_failure_weight_multiplier optional.,MERGED,2020-08-26 21:01:35.000000000,2020-09-07 14:59:58.000000000,2020-09-07 14:59:58.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 27944}]","[{'number': 1, 'created': '2020-08-26 21:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/823bc1761ee2ea522c7b8deae6e6f29aa81cfd18', 'message': 'Make build_failure_weight_multiplier configurable\n\nThis commit introduces a new charm option allowing operators to override\nthe hardcoded 0.0 that disabled hypervisor demotion on build failures\nfrom pike onward.\n\nIn certain environments it may be preferable to retain the upstream\nbehavior of letting the scheduler work around malfunctional computes and\nfavor instance building reliability at the cost of a potentially uneven\nload distribution.\n\nChange-Id: I2faa5ab8cd505a9d61a9fa26e1b08d16b0c795fb\nCloses-Bug: 1892934\n'}, {'number': 2, 'created': '2020-08-27 23:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/db974ddeb07c64bca2102849b03b595e89c88db8', 'message': 'Make disabling build_failure_weight_multiplier optional.\n\nThis commit introduces a new charm option allowing operators to override\nthe hardcoded 0.0 that disabled hypervisor demotion on build failures\nfrom pike onward.\n\nIn certain environments it may be preferable to retain the upstream\nbehavior of letting the scheduler work around malfunctional computes and\nfavor instance building reliability at the cost of a potentially uneven\nload distribution.\n\nChange-Id: I2faa5ab8cd505a9d61a9fa26e1b08d16b0c795fb\nCloses-Bug: 1892934\n'}, {'number': 3, 'created': '2020-08-28 13:53:57.000000000', 'files': ['templates/train/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1bf5a928325990ecb217b31137c3715bec91c6ff', 'message': 'Make disabling build_failure_weight_multiplier optional.\n\nThis commit introduces a new charm option allowing operators to override\nthe hardcoded 0.0 that disabled hypervisor demotion on build failures\nfrom pike onward.\n\nIn certain environments it may be preferable to retain the upstream\nbehavior of letting the scheduler work around malfunctional computes and\nfavor instance building reliability at the cost of a potentially uneven\nload distribution.\n\nChange-Id: I2faa5ab8cd505a9d61a9fa26e1b08d16b0c795fb\nCloses-Bug: 1892934\n'}]",0,748310,1bf5a928325990ecb217b31137c3715bec91c6ff,24,6,3,27944,,,0,"Make disabling build_failure_weight_multiplier optional.

This commit introduces a new charm option allowing operators to override
the hardcoded 0.0 that disabled hypervisor demotion on build failures
from pike onward.

In certain environments it may be preferable to retain the upstream
behavior of letting the scheduler work around malfunctional computes and
favor instance building reliability at the cost of a potentially uneven
load distribution.

Change-Id: I2faa5ab8cd505a9d61a9fa26e1b08d16b0c795fb
Closes-Bug: 1892934
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/10/748310/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py', 'templates/rocky/nova.conf']",6,823bc1761ee2ea522c7b8deae6e6f29aa81cfd18,bug/1892934,{% if build_failure_weight_multiplier is defined %} build_failure_weight_multiplier = {{ build_failure_weight_multiplier }} {% endif %},"# Disable BuildFailureWeigher as any failed build will result # in a very low weighting for the hypervisor, resulting in # instances all being scheduled to hypervisors with no build # failures. # https://bugs.launchpad.net/charm-nova-cloud-controller/+bug/1818239 build_failure_weight_multiplier = 0.0",30,18
openstack%2Fcharm-ceph-proxy~master~I74c737480c6ad56d5691689caeb84bca7154be38,openstack/charm-ceph-proxy,master,I74c737480c6ad56d5691689caeb84bca7154be38,Remove duplicated action files,MERGED,2020-09-07 07:12:52.000000000,2020-09-07 14:59:25.000000000,2020-09-07 14:59:25.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-09-07 07:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/5958cba3dcc1b3e43d2d669209054a2e961b2456', 'message': 'Remove duplicated action files\n\nCloses-Bug #1894600\n\nChange-Id: I74c737480c6ad56d5691689caeb84bca7154be38\n'}, {'number': 2, 'created': '2020-09-07 07:18:16.000000000', 'files': ['actions/create-cache-tier', 'actions/create-cache-tier.py', 'actions/remove-cache-tier.py', 'actions/remove-cache-tier'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/5e59db8fee27eea89733ad87ffc1557859ced874', 'message': 'Remove duplicated action files\n\nCloses-Bug #1894600\n\nChange-Id: I74c737480c6ad56d5691689caeb84bca7154be38\n'}]",0,750127,5e59db8fee27eea89733ad87ffc1557859ced874,14,4,2,20634,,,0,"Remove duplicated action files

Closes-Bug #1894600

Change-Id: I74c737480c6ad56d5691689caeb84bca7154be38
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/27/750127/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/create-cache-tier.py', 'actions/remove-cache-tier.py']",2,5958cba3dcc1b3e43d2d669209054a2e961b2456,bug/1894600,,"#!/usr/bin/env python3 import os from subprocess import CalledProcessError import sys _path = os.path.dirname(os.path.realpath(__file__)) _hooks = os.path.abspath(os.path.join(_path, '../hooks')) _root = os.path.abspath(os.path.join(_path, '..')) def _add_path(path): if path not in sys.path: sys.path.insert(1, path) _add_path(_hooks) _add_path(_root) from charmhelpers.contrib.storage.linux.ceph import Pool, pool_exists from charmhelpers.core.hookenv import action_get, config, log, action_fail __author__ = 'chris' def delete_cache_tier(): backer_pool = action_get(""backer-pool"") cache_pool = action_get(""cache-pool"") user = config('admin-user') # Pre flight checks if not pool_exists(user, backer_pool): log(""Backer pool {} must exist before calling this"".format( backer_pool)) action_fail(""remove-cache-tier failed. Backer pool {} must exist "" ""before calling this"".format(backer_pool)) if not pool_exists(user, cache_pool): log(""Cache pool {} must exist before calling this"".format( cache_pool)) action_fail(""remove-cache-tier failed. Cache pool {} must exist "" ""before calling this"".format(cache_pool)) pool = Pool(service=user, name=backer_pool) try: pool.remove_cache_tier(cache_pool=cache_pool) except CalledProcessError as err: log(""Removing the cache tier failed with message: {}"".format( str(err))) action_fail(""remove-cache-tier failed. Removing the cache tier failed "" ""with message: {}"".format(str(err))) if __name__ == '__main__': delete_cache_tier() ",0,106
openstack%2Fcloudkitty~master~I27d8a1a20497b15f0d33d340d9a2787e63c88fec,openstack/cloudkitty,master,I27d8a1a20497b15f0d33d340d9a2787e63c88fec,Add Python3 victoria unit tests,MERGED,2020-04-24 18:18:43.000000000,2020-09-07 14:51:47.000000000,2020-09-07 14:45:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-04-24 18:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/73c3cc78e0591c28a19ca1d67e99fbd631012752', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I27d8a1a20497b15f0d33d340d9a2787e63c88fec\n'}, {'number': 2, 'created': '2020-06-24 14:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f56da18cda90c1c2e6937bd0213dbe557ee7a073', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I27d8a1a20497b15f0d33d340d9a2787e63c88fec\n'}, {'number': 3, 'created': '2020-09-07 12:33:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/107e2d664c3c678af6943756c4cbbf80e2afc7e5', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I27d8a1a20497b15f0d33d340d9a2787e63c88fec\n'}]",0,722987,107e2d664c3c678af6943756c4cbbf80e2afc7e5,12,3,3,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I27d8a1a20497b15f0d33d340d9a2787e63c88fec
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/87/722987/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,73c3cc78e0591c28a19ca1d67e99fbd631012752,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fironic~master~I1812f0d147fa632b4e3d03578afc4f74c9f3596a,openstack/ironic,master,I1812f0d147fa632b4e3d03578afc4f74c9f3596a,[victoria] Remove ibmc,ABANDONED,2020-01-20 17:37:14.000000000,2020-09-07 14:47:18.000000000,,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 17:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b1728b7ab3327122f8626abeb235f0fc638306c', 'message': '[victoria] Remove ibmc\n\nThe iBMC driver was deprecated and it is now time for it\nto be removed.\n\nChange-Id: I1812f0d147fa632b4e3d03578afc4f74c9f3596a\nStory: 2007185\nTask: 38311\n'}, {'number': 2, 'created': '2020-01-20 22:40:49.000000000', 'files': ['ironic/tests/unit/drivers/modules/ibmc/base.py', 'ironic/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/test_vendor.py', 'ironic/common/exception.py', 'doc/source/images/ironic_standalone_with_ibmc_driver.svg', 'ironic/tests/unit/drivers/modules/intel_ipmi/base.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/conf/ibmc.py', 'driver-requirements.txt', 'ironic/drivers/modules/ibmc/management.py', 'ironic/tests/unit/drivers/test_ibmc.py', 'doc/source/admin/drivers.rst', 'ironic/conf/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/ibmc/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_management.py', 'ironic/drivers/ibmc.py', 'ironic/drivers/modules/ibmc/vendor.py', 'ironic/drivers/modules/ibmc/mappings.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_power.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/drivers/modules/ibmc/power.py', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e4ef20026f307d45b9d8becefc276b07543f3e2', 'message': '[victoria] Remove ibmc\n\nThe iBMC driver was deprecated and it is now time for it\nto be removed.\n\nChange-Id: I1812f0d147fa632b4e3d03578afc4f74c9f3596a\nStory: 2007185\nTask: 38311\n'}]",0,703466,0e4ef20026f307d45b9d8becefc276b07543f3e2,11,7,2,11655,,,0,"[victoria] Remove ibmc

The iBMC driver was deprecated and it is now time for it
to be removed.

Change-Id: I1812f0d147fa632b4e3d03578afc4f74c9f3596a
Story: 2007185
Task: 38311
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/703466/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ibmc/base.py', 'ironic/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/test_vendor.py', 'ironic/common/exception.py', 'doc/source/images/ironic_standalone_with_ibmc_driver.svg', 'ironic/tests/unit/drivers/modules/intel_ipmi/base.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/conf/ibmc.py', 'driver-requirements.txt', 'ironic/drivers/modules/ibmc/management.py', 'ironic/tests/unit/drivers/test_ibmc.py', 'ironic/conf/__init__.py', 'ironic/tests/unit/drivers/modules/ibmc/__init__.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/ibmc/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_management.py', 'ironic/drivers/ibmc.py', 'ironic/drivers/modules/ibmc/vendor.py', 'ironic/drivers/modules/ibmc/mappings.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/ibmc/test_power.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/drivers/modules/ibmc/power.py', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py']",24,6b1728b7ab3327122f8626abeb235f0fc638306c,703466,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Test class for iBMC Driver common utils."""""" import copy import os import mock from oslo_utils import importutils from ironic.common import exception from ironic.conductor import task_manager from ironic.drivers.modules.ibmc import utils from ironic.tests.unit.drivers.modules.ibmc import base constants = importutils.try_import('ibmc_client.constants') ibmc_client = importutils.try_import('ibmc_client') ibmc_error = importutils.try_import('ibmc_client.exceptions') class IBMCUtilsTestCase(base.IBMCTestCase): def setUp(self): super(IBMCUtilsTestCase, self).setUp() # Redfish specific configurations self.config(connection_attempts=2, group='ibmc') self.parsed_driver_info = { 'address': 'https://example.com', 'username': 'username', 'password': 'password', 'verify_ca': True, } def test_parse_driver_info(self): response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_default_scheme(self): self.node.driver_info['ibmc_address'] = 'example.com' response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_default_scheme_with_port(self): self.node.driver_info['ibmc_address'] = 'example.com:42' self.parsed_driver_info['address'] = 'https://example.com:42' response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_missing_info(self): for prop in utils.REQUIRED_PROPERTIES: self.node.driver_info = self.driver_info.copy() self.node.driver_info.pop(prop) self.assertRaises(exception.MissingParameterValue, utils.parse_driver_info, self.node) def test_parse_driver_info_invalid_address(self): for value in ['/banana!', '#location', '?search=hello']: self.node.driver_info['ibmc_address'] = value self.assertRaisesRegex(exception.InvalidParameterValue, 'Invalid iBMC address', utils.parse_driver_info, self.node) @mock.patch.object(os.path, 'exists', autospec=True) def test_parse_driver_info_path_verify_ca(self, mock_isdir): mock_isdir.return_value = True fake_path = '/path/to/a/valid/CA' self.node.driver_info['ibmc_verify_ca'] = fake_path self.parsed_driver_info['verify_ca'] = fake_path response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) mock_isdir.assert_called_once_with(fake_path) @mock.patch.object(os.path, 'exists', autospec=True) def test_parse_driver_info_valid_capath(self, mock_isfile): mock_isfile.return_value = True fake_path = '/path/to/a/valid/CA.pem' self.node.driver_info['ibmc_verify_ca'] = fake_path self.parsed_driver_info['verify_ca'] = fake_path response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) mock_isfile.assert_called_once_with(fake_path) def test_parse_driver_info_invalid_value_verify_ca(self): # Integers are not supported self.node.driver_info['ibmc_verify_ca'] = 123456 self.assertRaisesRegex(exception.InvalidParameterValue, 'Invalid value type', utils.parse_driver_info, self.node) def test_parse_driver_info_valid_string_value_verify_ca(self): for value in ('0', 'f', 'false', 'off', 'n', 'no'): self.node.driver_info['ibmc_verify_ca'] = value response = utils.parse_driver_info(self.node) parsed_driver_info = copy.deepcopy(self.parsed_driver_info) parsed_driver_info['verify_ca'] = False self.assertEqual(parsed_driver_info, response) for value in ('1', 't', 'true', 'on', 'y', 'yes'): self.node.driver_info['ibmc_verify_ca'] = value response = utils.parse_driver_info(self.node) self.assertEqual(self.parsed_driver_info, response) def test_parse_driver_info_invalid_string_value_verify_ca(self): for value in ('xyz', '*', '!123', '123'): self.node.driver_info['ibmc_verify_ca'] = value self.assertRaisesRegex(exception.InvalidParameterValue, 'The value should be a Boolean', utils.parse_driver_info, self.node) def test_revert_dictionary(self): data = { ""key1"": ""value1"", ""key2"": ""value2"" } revert = utils.revert_dictionary(data) self.assertEqual({ ""value1"": ""key1"", ""value2"": ""key2"" }, revert) @mock.patch.object(ibmc_client, 'connect', autospec=True) def test_handle_ibmc_exception_retry(self, connect_ibmc): @utils.handle_ibmc_exception('get IBMC system') def get_ibmc_system(_task): driver_info = utils.parse_driver_info(_task.node) with ibmc_client.connect(**driver_info) as _conn: return _conn.system.get() conn = self.mock_ibmc_conn(connect_ibmc) # Mocks conn.system.get.side_effect = [ ibmc_error.ConnectionError(url=self.ibmc['address'], error='Failed to connect to host'), mock.PropertyMock( boot_source_override=mock.PropertyMock( target=constants.BOOT_SOURCE_TARGET_PXE, enabled=constants.BOOT_SOURCE_ENABLED_CONTINUOUS ) ) ] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: system = get_ibmc_system(task) # Asserts self.assertEqual(constants.BOOT_SOURCE_TARGET_PXE, system.boot_source_override.target) self.assertEqual(constants.BOOT_SOURCE_ENABLED_CONTINUOUS, system.boot_source_override.enabled) # 1 failed, 1 succeed connect_ibmc.assert_called_with(**self.ibmc) self.assertEqual(2, connect_ibmc.call_count) # 1 failed, 1 succeed self.assertEqual(2, conn.system.get.call_count) ",1,3184
openstack%2Fproject-config~master~I28f9bd152f1bace0069e8b7274aa5c1c12064059,openstack/project-config,master,I28f9bd152f1bace0069e8b7274aa5c1c12064059,Add IRC notifications for zuul/zuul-client,ABANDONED,2020-09-07 14:09:48.000000000,2020-09-07 14:47:06.000000000,,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 14:09:48.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b05133fed2e752aa9fb21fd3c9f00fc2504eba1', 'message': 'Add IRC notifications for zuul/zuul-client\n\nChange-Id: I28f9bd152f1bace0069e8b7274aa5c1c12064059\n'}]",0,750177,4b05133fed2e752aa9fb21fd3c9f00fc2504eba1,5,3,1,7186,,,0,"Add IRC notifications for zuul/zuul-client

Change-Id: I28f9bd152f1bace0069e8b7274aa5c1c12064059
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/750177/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,4b05133fed2e752aa9fb21fd3c9f00fc2504eba1,zuul-client-irc-notifications, - zuul/zuul-client,,1,0
openstack%2Fopenstack-ansible-os_glance~stable%2Ftrain~I48edcc48549e811aa96091f8ce838659d250ae04,openstack/openstack-ansible-os_glance,stable/train,I48edcc48549e811aa96091f8ce838659d250ae04,Fix native service path,MERGED,2020-09-07 08:57:55.000000000,2020-09-07 14:45:27.000000000,2020-09-07 14:42:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-07 08:57:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/82ea99cc9efdcca8d1fd5ea13c1730d9179a015d', 'message': 'Fix native service path\n\nWhen glance_use_uwsgi is set to false, glance is launched with native\nservice instead of the uwsgi. For that scenario, execstarts key is used\nwhich had wrongly defaulted config-file location.\nEventually, providing this option is not required and we may rely on defaults\n\nChange-Id: I48edcc48549e811aa96091f8ce838659d250ae04\n(cherry picked from commit 512f5736ebdf917f4756c998acf028ac0b80ee8b)\n'}]",0,750140,82ea99cc9efdcca8d1fd5ea13c1730d9179a015d,9,4,1,28619,,,0,"Fix native service path

When glance_use_uwsgi is set to false, glance is launched with native
service instead of the uwsgi. For that scenario, execstarts key is used
which had wrongly defaulted config-file location.
Eventually, providing this option is not required and we may rely on defaults

Change-Id: I48edcc48549e811aa96091f8ce838659d250ae04
(cherry picked from commit 512f5736ebdf917f4756c998acf028ac0b80ee8b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/40/750140/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,82ea99cc9efdcca8d1fd5ea13c1730d9179a015d,," execstarts: ""{{ glance_bin }}/glance-api"""," execstarts: ""{{ glance_bin }}/glance-api --config-file /etc/glance/glance.conf""",1,1
openstack%2Fcharm-glance~master~Id899936da7721fcc359e63db455a5349603fe559,openstack/charm-glance,master,Id899936da7721fcc359e63db455a5349603fe559,"Unpin flake8, fix lint",MERGED,2020-08-28 14:26:36.000000000,2020-09-07 14:39:39.000000000,2020-09-07 14:39:39.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-08-28 14:26:36.000000000', 'files': ['hooks/glance_utils.py', 'test-requirements.txt', 'actions/openstack_upgrade.py', 'actions/security_checklist.py', 'unit_tests/test_actions_openstack_upgrade.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/65d66ecb580a54103448b4251d094dbb9149b06a', 'message': 'Unpin flake8, fix lint\n\nChange-Id: Id899936da7721fcc359e63db455a5349603fe559\n'}]",0,748675,65d66ecb580a54103448b4251d094dbb9149b06a,8,4,1,13686,,,0,"Unpin flake8, fix lint

Change-Id: Id899936da7721fcc359e63db455a5349603fe559
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/75/748675/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'actions/openstack_upgrade.py', 'test-requirements.txt', 'actions/security_checklist.py', 'unit_tests/test_actions_openstack_upgrade.py', 'tox.ini']",6,65d66ecb580a54103448b4251d094dbb9149b06a,ceph-bluestore-compression,"ignore = E402,E226,W504","ignore = E402,E226",14,11
openstack%2Fkolla-ansible~master~I9927a83748a4b13c57bcadd081c60ea9609ced55,openstack/kolla-ansible,master,I9927a83748a4b13c57bcadd081c60ea9609ced55,Remove six from lower-constraints.txt,MERGED,2020-09-03 08:23:21.000000000,2020-09-07 14:36:55.000000000,2020-09-07 14:34:08.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-03 08:23:21.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1372bce7da3562f1a1f3082bc1cfd7f30cff6fd0', 'message': 'Remove six from lower-constraints.txt\n\nThe Python 2.7 Support has been dropped since Ussuri.\n\nChange-Id: I9927a83748a4b13c57bcadd081c60ea9609ced55\n'}]",0,749671,1372bce7da3562f1a1f3082bc1cfd7f30cff6fd0,11,6,1,32029,,,0,"Remove six from lower-constraints.txt

The Python 2.7 Support has been dropped since Ussuri.

Change-Id: I9927a83748a4b13c57bcadd081c60ea9609ced55
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/749671/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,1372bce7da3562f1a1f3082bc1cfd7f30cff6fd0,six_remove,,six==1.10.0,0,1
openstack%2Fcloudkitty~master~Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7,openstack/cloudkitty,master,Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7,Add py38 package metadata,MERGED,2020-04-27 08:57:10.000000000,2020-09-07 14:33:41.000000000,2020-09-07 14:31:49.000000000,"[{'_account_id': 6476}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 28356}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-04-27 08:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bc19fd839037289e0db3393b7ec6cb9736e070a4', 'message': 'Add py38 package metadata\n\nChange-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7\n'}, {'number': 2, 'created': '2020-05-02 12:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/412e64d36b9517d9921eb1d877937db6517fb25a', 'message': 'Add py38 package metadata\n\nChange-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7\n'}, {'number': 3, 'created': '2020-06-24 14:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a16d640f4932dbb76dbe403462dc2edaefc467ed', 'message': 'Add py38 package metadata\n\nChange-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7\n'}, {'number': 4, 'created': '2020-07-30 08:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6c2866e9c7245253702540a3d1671b9b4217b334', 'message': 'Add py38 package metadata\n\nChange-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7\n'}, {'number': 5, 'created': '2020-08-13 12:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0262b1bda845636ea4cca126f709806de3147097', 'message': 'Add py38 package metadata\n\nChange-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7\n'}, {'number': 6, 'created': '2020-09-07 12:27:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b776aaf98e517aca898e0458ac5803149971e75d', 'message': 'Add py38 package metadata\n\nChange-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7\n'}]",0,723344,b776aaf98e517aca898e0458ac5803149971e75d,29,6,6,23312,,,0,"Add py38 package metadata

Change-Id: Ibf2290599ac9a0839b01e5df9a2b9a892ec0afe7
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/44/723344/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bc19fd839037289e0db3393b7ec6cb9736e070a4,add-py38-meta, Programming Language :: Python :: 3.8,,1,0
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ifa99988612eaaeb9d60a0d99db172f97e27cfc93,openstack/charm-neutron-api-plugin-ovn,master,Ifa99988612eaaeb9d60a0d99db172f97e27cfc93,Add OVS to OVN migration actions,MERGED,2020-07-14 14:25:01.000000000,2020-09-07 14:32:43.000000000,2020-09-07 14:32:43.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-14 14:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/4bcc1288db26275c5d7cdf79ec77350ba85bd2d6', 'message': '[WIP] add migrate action\n\nTODO:\n\n- The `neutron-ovn-db-sync` utility does not set an exit code in\n  event of failure, so we should parse the output and try to\n  detect this.\n\n- Add post-migration script to update encapsulation type and MTU\n  on already existing overlay networks.\n\n- Unit tests for action.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 2, 'created': '2020-07-15 13:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/b0e94ea048bc190451118b9c2a3862066a0ea1a2', 'message': 'Add `migrate-ovn-db` action\n\nAlso switch smoke to focal-ussuri\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 3, 'created': '2020-07-15 13:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/6951d81f5a65853646e17ac8196b430ffccac18f', 'message': '[WIP] Add `migrate-ovn-db` action\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 4, 'created': '2020-07-15 13:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0f8664e7c8a0a74fa4e6e2e73b8feaedb5c575fa', 'message': '[WIP] Add `migrate-ovn-db` action\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 5, 'created': '2020-07-15 14:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/c25384f52d46df2f40220664b48f1dcbf72891c4', 'message': '[WIP] Add `migrate-ovn-db` action\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 6, 'created': '2020-07-16 12:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/1aedb8b197b25614bd1ca8075197bf91cf102288', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 7, 'created': '2020-07-21 14:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/da62cf8396f1d52be0eceb8be78977494d4da00a', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 8, 'created': '2020-07-22 07:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/88ca34a32e40c31ce65015bd04fe61c6e68fe121', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 9, 'created': '2020-07-23 11:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/42c78f47c4d25c1d31099bed440c0c64e41caba2', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 10, 'created': '2020-07-23 11:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/c89a7283ba1d3c8118af4a3442ad7aa07f19a65c', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 11, 'created': '2020-07-23 17:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/4e0a5f9e3cca4ada9da8f1f93f07939d03d7396b', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 12, 'created': '2020-07-24 05:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/548fb2db3977b1e8be7562abdd6ba2586fdf0683', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 13, 'created': '2020-07-24 05:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/95566aded0bedc98fcb360f2c92df076fca54e12', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 14, 'created': '2020-07-28 06:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/5ae2cf8d2e50786f23c460ba6f275bda579ae077', 'message': '[WIP] Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nTODO:\n\n- Remove PPA once patches have been backported to Ussuri UCA.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 15, 'created': '2020-09-02 09:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/69dbe564478eb8e74bd4c7043d040bb50bc0e810', 'message': 'Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 16, 'created': '2020-09-03 08:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/a4099cf9b42816d64c00f58c2da0108ca1492fbb', 'message': 'Add OVS to OVN migration actions\n\nAlso switch smoke to focal-ussuri.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 17, 'created': '2020-09-03 08:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/afe0ed338fdb6e06d745a62e0db51f6e75b78cc1', 'message': 'Add OVS to OVN migration actions\n\nSwitch smoke to focal-ussuri.\n\nUnpin flake8.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}, {'number': 18, 'created': '2020-09-07 12:53:48.000000000', 'files': ['test-requirements.txt', 'src/actions.yaml', 'unit_tests/test_actions.py', 'src/wheelhouse.txt', 'unit_tests/__init__.py', 'src/files/scripts/neutron_offline_network_type_update.py', 'src/actions/actions.py', 'src/actions/migrate-mtu', 'src/tests/tests.yaml', 'src/actions/migrate-ovn-db', 'src/actions/offline-neutron-morph-db'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/65f39119485e36aa28e4a4946e341e67add4a17d', 'message': 'Add OVS to OVN migration actions\n\nSwitch smoke to focal-ussuri.\n\nUnpin flake8.\n\nChange-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93\n'}]",11,740973,65f39119485e36aa28e4a4946e341e67add4a17d,78,6,18,13686,,,0,"Add OVS to OVN migration actions

Switch smoke to focal-ussuri.

Unpin flake8.

Change-Id: Ifa99988612eaaeb9d60a0d99db172f97e27cfc93
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/73/740973/18 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/actions.py', 'src/tests/tests.yaml', 'src/actions/migrate-ovn-db']",4,4bcc1288db26275c5d7cdf79ec77350ba85bd2d6,ovn-charm,actions.py,,103,1
openstack%2Fmanila~master~I7a334fb895669cc807a288e6aefe62154a89a7e4,openstack/manila,master,I7a334fb895669cc807a288e6aefe62154a89a7e4,"[Glusterfs] Fix delete share, mount point not disconnected",MERGED,2020-07-02 09:12:55.000000000,2020-09-07 14:28:51.000000000,2020-09-04 00:28:31.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30722}, {'_account_id': 31506}, {'_account_id': 31960}]","[{'number': 1, 'created': '2020-07-02 09:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/21d1a3270e88c766b591d53822543ca477a700e6', 'message': ""Fix after the glusterfs driver deletes the share, the client mount\npoint is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nhttps://bugs.launchpad.net/manila/+bug/1886010\n\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 2, 'created': '2020-07-02 09:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/587ac3c8ca4dc9dc9887ea4c32f8784f60837cbd', 'message': ""Fix after the glusterfs driver deletes the share, the client mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 3, 'created': '2020-07-02 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d644e9b649218c027be8d3f69f0e0600c3f6413f', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 4, 'created': '2020-07-10 03:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9dce2f1e76797bcac967af401b793c3a269586f8', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 5, 'created': '2020-07-10 05:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c434a31419e9a86fc6583a2f1f45d0228aef0cbc', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 6, 'created': '2020-07-10 05:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d9b7d4687dc267a2d98ff62e9851265402e6bb1b', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 7, 'created': '2020-07-10 05:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8b3664613f3fcd6003530ae384007004b8057591', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 8, 'created': '2020-07-10 05:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/80f454fbb1f3301c6541c14021dd629e77e200f5', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 9, 'created': '2020-07-10 06:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c5657b569ac84b3033c001106ee1f27460046121', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 10, 'created': '2020-07-10 06:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4cee260dadf541204a0b1dbfb1b7ab178817c792', 'message': ""[Glusterfs]Fix deletes the share, mount point is not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}, {'number': 11, 'created': '2020-09-02 00:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3da0edf35531fbcfa9244df698f850fbfeda7d67', 'message': ""[Glusterfs] Fix delete share, mount point not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 12, 'created': '2020-09-02 00:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e5ffdbfd9f48b49acfac69e7e871650a037ce746', 'message': ""[Glusterfs] Fix delete share, mount point not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 13, 'created': '2020-09-02 00:42:01.000000000', 'files': ['releasenotes/notes/bug-1886010-Glusterfs-fix-del-share-89dabc8751ed4fec.yaml', 'manila/tests/share/drivers/glusterfs/test_layout_volume.py', 'manila/share/drivers/glusterfs/layout_volume.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9d44ba0b6a2d20be6158ff667ff3b81de31f5cad', 'message': ""[Glusterfs] Fix delete share, mount point not disconnected\n\nWhen we delete the shared instance, in addition to erasing the data\nin the share, we should disconnect the client's mount point to\nprevent the data from being written in.\n\nCloses-Bug: #1886010\nChange-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4\n""}]",3,738997,9d44ba0b6a2d20be6158ff667ff3b81de31f5cad,55,18,13,31506,,,0,"[Glusterfs] Fix delete share, mount point not disconnected

When we delete the shared instance, in addition to erasing the data
in the share, we should disconnect the client's mount point to
prevent the data from being written in.

Closes-Bug: #1886010
Change-Id: I7a334fb895669cc807a288e6aefe62154a89a7e4
",git fetch https://review.opendev.org/openstack/manila refs/changes/97/738997/6 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/glusterfs/layout_volume.py'],1,21d1a3270e88c766b591d53822543ca477a700e6,bug/1886010," gmgr.set_vol_option('nfs.disable', 'on')",,1,0
openstack%2Fmanila-tempest-plugin~master~If1d581730c42b060e74600ef2a05298921b1a3c6,openstack/manila-tempest-plugin,master,If1d581730c42b060e74600ef2a05298921b1a3c6,SSH over IPv4 when using a storage network,MERGED,2020-08-21 06:47:54.000000000,2020-09-07 14:26:07.000000000,2020-09-07 14:26:07.000000000,"[{'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-08-21 06:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d11339d90ae711a3b1f896c13cac23fc285efd79', 'message': ""SSH over IPv4 when using a storage network\n\nA storage network can be configured to connect\nVMs in scenario tests to their shares. When\nusing a storage network, we don't need to force\nthe private network that we use to SSH to the\nVM to be on a particular IP version.\n\nWe need the private network subnet to be of\na particular IP version only when there is\nno storage network, and we're connecting to\nshares over the same network as SSH.\n\nChange-Id: If1d581730c42b060e74600ef2a05298921b1a3c6\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2020-08-31 17:51:21.000000000', 'files': ['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/scenario/manager_share.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2b308742004a6b345cebc77bb8319955310cfb35', 'message': ""SSH over IPv4 when using a storage network\n\nA storage network can be configured to connect\nVMs in scenario tests to their shares. When\nusing a storage network, we don't need to force\nthe private network that we use to SSH to the\nVM to be on a particular IP version.\n\nWe need the private network subnet to be of\na particular IP version only when there is\nno storage network, and we're connecting to\nshares over the same network as SSH.\n\nChange-Id: If1d581730c42b060e74600ef2a05298921b1a3c6\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,747339,2b308742004a6b345cebc77bb8319955310cfb35,21,8,2,16643,,,0,"SSH over IPv4 when using a storage network

A storage network can be configured to connect
VMs in scenario tests to their shares. When
using a storage network, we don't need to force
the private network that we use to SSH to the
VM to be on a particular IP version.

We need the private network subnet to be of
a particular IP version only when there is
no storage network, and we're connecting to
shares over the same network as SSH.

Change-Id: If1d581730c42b060e74600ef2a05298921b1a3c6
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/39/747339/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/manager_share.py'],1,d11339d90ae711a3b1f896c13cac23fc285efd79,fix-ssh-with-storage-network," # Tests need to be able to ssh into the VM - so we need # a security group, and a tenant private network self.security_group = self._create_security_group() self.network = self._create_network(namestart=""manila-share"") # When not using a ""storage network"" to connect shares to VMs, # we need the subnet to match the IP version we're testing subnet_ip_params = {} if self.storage_network else { 'ip_version': self.ip_version, 'use_default_subnetpool': self.ipv6_enabled } self.subnet = self._create_subnet( network=self.network, namestart=""manila-share-sub"", **subnet_ip_params) router = self._get_router() self._create_router_interface(subnet_id=self.subnet['id'], router_id=router['id']) "," self.security_group = self._create_security_group() self.network = self._create_network(namestart=""manila-share"") self.subnet = self._create_subnet( network=self.network, namestart=""manila-share-sub"", ip_version=self.ip_version, use_default_subnetpool=self.ipv6_enabled) router = self._get_router() self._create_router_interface(subnet_id=self.subnet['id'], router_id=router['id']) ",18,11
openstack%2Fcharm-percona-cluster~master~I628be1c24081d7e0e150e5064c5fa4ab694632e9,openstack/charm-percona-cluster,master,I628be1c24081d7e0e150e5064c5fa4ab694632e9,Fix series-upgrade issue where seeded file goes missing,MERGED,2020-09-04 11:03:13.000000000,2020-09-07 14:23:13.000000000,2020-09-07 14:23:13.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 11:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/0e362a2543d455fb83e347527c9de95e2b4bb0b8', 'message': ""Fix series-upgrade issue where seeded file goes missing\n\nDuring resume on a non-leader unit, the 'seeded' file can go missing\nwhen the package syncs over to the /var/lib/mysql or\n/var/lib/percona-xtradb-cluster directories (vivid+).  It's not really\nclear why it doesn't do this every time (i.e. not every non-leader unit\nfails), but this fix ensures that if the unit *is* seeded prior to the\nseries-upgrade, then it stays seeded after the series upgrade.\n\nThe related zaza-openstack-tests change [1] is about fixing the\nseries-upgrade test.\n\n[1]: https://github.com/openstack-charmers/zaza-openstack-tests/pull/406\n\nChange-Id: I628be1c24081d7e0e150e5064c5fa4ab694632e9\nCloses-bug: #1868326\n""}, {'number': 2, 'created': '2020-09-04 11:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/f182ef1c90eaf8ca54183e27b788a8d55f97575f', 'message': ""Fix series-upgrade issue where seeded file goes missing\n\nDuring resume on a non-leader unit, the 'seeded' file can go missing\nwhen the package syncs over to the /var/lib/mysql or\n/var/lib/percona-xtradb-cluster directories (vivid+).  It's not really\nclear why it doesn't do this every time (i.e. not every non-leader unit\nfails), but this fix ensures that if the unit *is* seeded prior to the\nseries-upgrade, then it stays seeded after the series upgrade.\n\nThe related zaza-openstack-tests change [1] is about fixing the\nseries-upgrade test.\n\n[1]: https://github.com/openstack-charmers/zaza-openstack-tests/pull/406\n\nChange-Id: I628be1c24081d7e0e150e5064c5fa4ab694632e9\nCloses-bug: #1868326\n""}, {'number': 3, 'created': '2020-09-04 17:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/b0fb1ed9a44147e818cbb1f3612e15d4559b94cc', 'message': ""Fix series-upgrade issue where seeded file goes missing\n\nDuring resume on a non-leader unit, the 'seeded' file can go missing\nwhen the package syncs over to the /var/lib/mysql or\n/var/lib/percona-xtradb-cluster directories (vivid+).  It's not really\nclear why it doesn't do this every time (i.e. not every non-leader unit\nfails), but this fix ensures that if the unit *is* seeded prior to the\nseries-upgrade, then it stays seeded after the series upgrade.\n\nThe related zaza-openstack-tests change [1] is about fixing the\nseries-upgrade test.\n\n[1]: https://github.com/openstack-charmers/zaza-openstack-tests/pull/406\n\nChange-Id: I628be1c24081d7e0e150e5064c5fa4ab694632e9\nCloses-bug: #1868326\n""}, {'number': 4, 'created': '2020-09-04 17:23:14.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/overlays/xenial-queens-ha-series-upgrade.yaml.j2', 'hooks/percona_utils.py', 'tests/bundles/xenial-queens-ha-series-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/1b813d1fd928aadb4195c8630f9f575f6b8eafeb', 'message': ""Fix series-upgrade issue where seeded file goes missing\n\nDuring resume on a non-leader unit, the 'seeded' file can go missing\nwhen the package syncs over to the /var/lib/mysql or\n/var/lib/percona-xtradb-cluster directories (vivid+).  It's not really\nclear why it doesn't do this every time (i.e. not every non-leader unit\nfails), but this fix ensures that if the unit *is* seeded prior to the\nseries-upgrade, then it stays seeded after the series upgrade.\n\nThe related zaza-openstack-tests change [1] is about fixing the\nseries-upgrade test.\n\nNote there is no trusty-mitaka test here as the charm doesn't support\ntrusty.  The last version of percona-cluster in the charm store that\nsupports trusty is rev. 276\n\n[1]: https://github.com/openstack-charmers/zaza-openstack-tests/pull/406\n\nChange-Id: I628be1c24081d7e0e150e5064c5fa4ab694632e9\nCloses-bug: #1868326\n""}]",0,749922,1b813d1fd928aadb4195c8630f9f575f6b8eafeb,18,4,4,20870,,,0,"Fix series-upgrade issue where seeded file goes missing

During resume on a non-leader unit, the 'seeded' file can go missing
when the package syncs over to the /var/lib/mysql or
/var/lib/percona-xtradb-cluster directories (vivid+).  It's not really
clear why it doesn't do this every time (i.e. not every non-leader unit
fails), but this fix ensures that if the unit *is* seeded prior to the
series-upgrade, then it stays seeded after the series upgrade.

The related zaza-openstack-tests change [1] is about fixing the
series-upgrade test.

Note there is no trusty-mitaka test here as the charm doesn't support
trusty.  The last version of percona-cluster in the charm store that
supports trusty is rev. 276

[1]: https://github.com/openstack-charmers/zaza-openstack-tests/pull/406

Change-Id: I628be1c24081d7e0e150e5064c5fa4ab694632e9
Closes-bug: #1868326
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/22/749922/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/trusty-mitaka-ha-series-upgrade.yaml.j2', 'tests/tests.yaml', 'tests/bundles/overlays/xenial-queens-ha-series-upgrade.yaml.j2', 'tests/bundles/trusty-mitaka-ha-series-upgrade.yaml', 'hooks/percona_utils.py', 'tests/bundles/xenial-queens-ha-series-upgrade.yaml']",6,0e362a2543d455fb83e347527c9de95e2b4bb0b8,bug/1868326,series: xenial relations: - - keystone:shared-db - percona-cluster:shared-db applications: percona-cluster: series: xenial charm: ../../../percona-cluster num_units: 1 keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:xenial-queens token-expiration: 60 ,,57,3
openstack%2Fopenstack-ansible~master~I2b6434ad56630400881628c8cbc2d50570714c0a,openstack/openstack-ansible,master,I2b6434ad56630400881628c8cbc2d50570714c0a,Imported Translations from Zanata,MERGED,2020-09-07 08:30:09.000000000,2020-09-07 14:18:05.000000000,2020-09-07 14:16:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-09-07 08:30:09.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/74ab2420d817e91cc004e15bcfc54a1512a60acf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2b6434ad56630400881628c8cbc2d50570714c0a\n'}]",0,750137,74ab2420d817e91cc004e15bcfc54a1512a60acf,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2b6434ad56630400881628c8cbc2d50570714c0a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/750137/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po']",9,74ab2420d817e91cc004e15bcfc54a1512a60acf,zanata/translations,"""Project-Id-Version: openstack-ansible 21.1.0.dev106\n""""POT-Creation-Date: 2020-09-06 20:35+0000\n""","""Project-Id-Version: openstack-ansible\n""""POT-Creation-Date: 2019-12-18 08:46+0000\n""msgid ""OpenStack-Ansible Ussuri is currently in development."" msgstr ""Ussuri OpenStack-Ansible est actuellement en développement."" msgid ""Ussuri: Under development"" msgstr ""Ussuri: En développement"" ",72,620
openstack%2Fcloudkitty~master~I8fed95ecb736e0b6d7c4b63a55553de1539139be,openstack/cloudkitty,master,I8fed95ecb736e0b6d7c4b63a55553de1539139be,Update hacking for Python3,ABANDONED,2020-09-07 14:16:36.000000000,2020-09-07 14:18:02.000000000,,[{'_account_id': 6547}],"[{'number': 1, 'created': '2020-09-07 14:16:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/03b93c4669be9b8bbb14ef1dd9e99cfc6447a3a1', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nChange-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be\n'}]",0,750178,03b93c4669be9b8bbb14ef1dd9e99cfc6447a3a1,2,1,1,28356,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Change-Id: I8fed95ecb736e0b6d7c4b63a55553de1539139be
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/78/750178/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03b93c4669be9b8bbb14ef1dd9e99cfc6447a3a1,update-hacking,"minversion = 3.1.1skipsdist = Trueinstall_command = pip install -U {opts} {packages} setenv = VIRTUAL_ENV={envdir}commands = stestr run {posargs} PYTHON=coverage run --source cloudkittyclient --parallel-mode[testenv:debug] commands = oslo_debug_helper -t cloudkittyclient/tests {posargs} [testenv:functional-v1] passenv = OS_CLOUD OS_PROJECT_DOMAIN_ID OS_USER_DOMAIN_ID OS_PROJECT_DOMAIN_NAME OS_USER_DOMAIN_NAME OS_PROJECT_NAME OS_IDENTITY_API_VERSION OS_PASSWORD OS_AUTH_TYPE OS_AUTH_URL OS_USERNAME OS_ENDPOINT setenv = OS_RATING_API_VERSION=1 commands = stestr run --concurrency=1 --test-path ./cloudkittyclient/tests/functional/v1 [testenv:functional-v2] passenv = OS_CLOUD OS_PROJECT_DOMAIN_ID OS_USER_DOMAIN_ID OS_PROJECT_DOMAIN_NAME OS_USER_DOMAIN_NAME OS_PROJECT_NAME OS_IDENTITY_API_VERSION OS_PASSWORD OS_AUTH_TYPE OS_AUTH_URL OS_USERNAME OS_ENDPOINT setenv = OS_RATING_API_VERSION=2 commands = stestr run --concurrency=1 --test-path ./cloudkittyclient/tests/functional/v2 [testenv:pep8] commands = flake8[testenv:docs] deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build --keep-going -b html doc/source doc/build/html [testenv:pdf-docs] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build --keep-going -b latex doc/source doc/build/pdf make -C doc/build/pdf [flake8] # E123, E125 skipped as they are invalid PEP-8. show-source = True ignore = E123,E125,W503,W504 builtins = _ exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,releasenotesimport_exceptions = cloudkittyclient.i18ndeps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html","minversion = 3.1.0 skipsdist = Truewhitelist_externals = rm setenv = VIRTUAL_ENV={envdir} PYTHONWARNINGS=default::DeprecationWarninginstall_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} commands = /usr/bin/find . -type f -name ""*.py[co]"" -delete rm -f .testrepository/times.dbm stestr run {posargs} [testenv:debug] commands = oslo_debug_helper {posargs} [testenv:pep8] commands = flake8 {posargs} cloudkitty doc8 {posargs} [testenv:bandit] deps = -r{toxinidir}/test-requirements.txt commands = bandit -r cloudkitty -n5 -x cloudkitty/tests/* -ll PYTHON=coverage run --source cloudkitty --parallel-mode[testenv:genconfig] commands = oslo-config-generator --config-file etc/oslo-config-generator/cloudkitty.conf [testenv:genpolicy] commands = oslopolicy-sample-generator --config-file=etc/oslo-policy-generator/cloudkitty.conf [testenv:docs] commands = sphinx-build -W --keep-going -b html doc/source doc/build/html # TODO(smcginnis) Temporarily disabling this as it fails. Error is that # something is too large, likely from pulling in one of the conf sample files # [testenv:pdf-docs] # envdir = {toxworkdir}/docs # whitelist_externals = # make # commands = # sphinx-build -W --keep-going -b latex doc/source doc/build/pdf # make -C doc/build/pdf[flake8] filename = *.py,app.wsgi exclude = .git,.venv,.tox,dist,doc,*egg,build,.ropeproject,releasenotes [doc8] ignore-path = .venv,.git,.tox,.tmp,*cloudkitty/locale*,*lib/python*,cloudkitty.egg*,doc/build,releasenotes/*import_exceptions = cloudkitty.i18n [flake8:local-plugins] extension = C310 = checks:CheckLoggingFormatArgs C311 = checks:validate_assertIsNone C312 = checks:validate_assertTrue C313 = checks:no_translate_logs C314 = checks:CheckForStrUnicodeExc C315 = checks:CheckForTransAdd C317 = checks:check_oslo_namespace_imports C318 = checks:dict_constructor_with_list_copy C319 = checks:no_xrange C320 = checks:no_log_warn_check C321 = checks:check_explicit_underscore_import paths = ./cloudkitty/hackingcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html",44,62
openstack%2Fopenstack-ansible~stable%2Fstein~I6e7ae630d3252500e232032c6dbc6554d2a24f0e,openstack/openstack-ansible,stable/stein,I6e7ae630d3252500e232032c6dbc6554d2a24f0e,Bump SHAs for stable/stein,MERGED,2020-09-06 16:04:31.000000000,2020-09-07 14:17:54.000000000,2020-09-07 14:16:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-09-06 16:04:31.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cba17460eba8555a028d514074828ef17a30532e', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I6e7ae630d3252500e232032c6dbc6554d2a24f0e\n'}]",0,750107,cba17460eba8555a028d514074828ef17a30532e,10,3,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: I6e7ae630d3252500e232032c6dbc6554d2a24f0e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/750107/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml']",3,cba17460eba8555a028d514074828ef17a30532e,bump_osa,spicehtml5_git_install_branch: 02084ebd19b36ca05c31cf3b454103a3cda62215 # HEAD as of 06.09.2020,spicehtml5_git_install_branch: 02084ebd19b36ca05c31cf3b454103a3cda62215 # HEAD as of 23.08.2020,48,48
openstack%2Fopenstack-ansible~stable%2Ftrain~I36fc3f9eef7c32671d4a64a240a8a333a7b8a6e8,openstack/openstack-ansible,stable/train,I36fc3f9eef7c32671d4a64a240a8a333a7b8a6e8,Bump SHAs for stable/train,MERGED,2020-09-06 16:04:09.000000000,2020-09-07 14:17:43.000000000,2020-09-07 14:16:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-06 16:04:09.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f742fc88d0df32dc5fa0e5eb21ac8ba7d211038c', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I36fc3f9eef7c32671d4a64a240a8a333a7b8a6e8\n'}]",0,750106,f742fc88d0df32dc5fa0e5eb21ac8ba7d211038c,9,4,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: I36fc3f9eef7c32671d4a64a240a8a333a7b8a6e8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/750106/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,f742fc88d0df32dc5fa0e5eb21ac8ba7d211038c,bump_osa, version: 6e23334a99d219f97890c514da282c41ed41ba4a version: 6fca7782578fa79bfddeeb6ea6c3e1478cd06c77, version: 09a53b700af51c03ac07f699da6506d39529b21f version: 762b85fbbfb47b1f182697a93a9ea3f2e11211d0,48,48
openstack%2Fpatrole~master~I6963fdff199fca342620ab15948ce2c1d29c2c7a,openstack/patrole,master,I6963fdff199fca342620ab15948ce2c1d29c2c7a,fix patrole-multinode-member non-voting gate by skip_because a bug,MERGED,2020-08-22 14:43:30.000000000,2020-09-07 14:16:56.000000000,2020-09-07 14:15:15.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 16274}, {'_account_id': 17887}, {'_account_id': 17896}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23185}, {'_account_id': 23186}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-08-22 14:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ad4857a1208c9c847946908fea053a1a9cc9ba5a', 'message': 'fix patrole-multinode-member non-voting gate by skip_because a bug\n\nthe bug is due to a nova api that is allowed with a system scoped\ntoken and patrole does not support them at this time.\n\nhttps://storyboard.openstack.org/#!/story/2008051\n\nChange-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a\n'}, {'number': 2, 'created': '2020-08-24 18:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/4d2ca699c6ee47c481a64ad81990bb80a43e98ca', 'message': 'fix patrole-multinode-member non-voting gate by skip_because a bug\n\nthe bug is due to a nova api that is allowed with a system scoped\ntoken and patrole does not support them at this time.\n\nhttps://storyboard.openstack.org/#!/story/2008051\n\nChange-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a\n'}, {'number': 3, 'created': '2020-08-26 12:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/3428e96a71caeab947ce22396c506669657b2ce4', 'message': 'fix patrole-multinode-member non-voting gate by skip_because a bug\n\nthe bug is due to a nova api that is allowed with a system scoped\ntoken and patrole does not support them at this time.\n\nhttps://storyboard.openstack.org/#!/story/2008051\nCloses-Bug:2008051\n\nChange-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a\n'}, {'number': 4, 'created': '2020-09-01 13:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/4d26304ed66d54b2db2e0d3bfe5c8d5fc8fa58d0', 'message': 'fix patrole-multinode-member non-voting gate by skip_because a bug\n\nthe bug is due to a nova api that is allowed with a system scoped\ntoken and patrole does not support them at this time.\n\nhttps://storyboard.openstack.org/#!/story/2008051\nCloses-Bug:2008051\n\nChange-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a\n'}, {'number': 5, 'created': '2020-09-02 03:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d0ba3e96b6189e6dfab7a919b85470cf8fc641fc', 'message': 'fix patrole-multinode-member non-voting gate by skip_because a bug\n\nthe bug is due to a nova api that is allowed with a system scoped\ntoken and patrole does not support them at this time.\n\nhttps://storyboard.openstack.org/#!/story/2008051\nCloses-Bug:2008051\n\nChange-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a\n'}, {'number': 6, 'created': '2020-09-02 10:58:29.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/8746b77bfed8aa79ded324cc74ddb96e9cda97f7', 'message': 'fix patrole-multinode-member non-voting gate by skip_because a bug\n\nthe bug is due to a nova api that is allowed with a system scoped\ntoken and patrole does not support them at this time.\n\nhttps://storyboard.openstack.org/#!/story/2008051\nCloses-Bug:2008051\n\nChange-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a\n'}]",3,747528,8746b77bfed8aa79ded324cc74ddb96e9cda97f7,44,16,6,17887,,,0,"fix patrole-multinode-member non-voting gate by skip_because a bug

the bug is due to a nova api that is allowed with a system scoped
token and patrole does not support them at this time.

https://storyboard.openstack.org/#!/story/2008051
Closes-Bug:2008051

Change-Id: I6963fdff199fca342620ab15948ce2c1d29c2c7a
",git fetch https://review.opendev.org/openstack/patrole refs/changes/28/747528/6 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_server_volume_attachments_rbac.py'],1,ad4857a1208c9c847946908fea053a1a9cc9ba5a,bug/2008051," @decorators.skip_because(bug='2008051', bug_type='storyboard')",,1,0
openstack%2Fpython-freezerclient~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/python-freezerclient,master,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-26 23:09:30.000000000,2020-09-07 14:11:34.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 23:09:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/79976f85b28944929c0681d8d70693a2c310b78c', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\nStory: #2007865\nTask: #40184\n'}]",0,743086,79976f85b28944929c0681d8d70693a2c310b78c,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs

Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
Story: #2007865
Task: #40184
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/86/743086/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,79976f85b28944929c0681d8d70693a2c310b78c,migrate-to-focal,#test focal,,1,0
openstack%2Fosc-lib~master~I87ca452b30fef638c78c68835a072a0a820419f6,openstack/osc-lib,master,I87ca452b30fef638c78c68835a072a0a820419f6,Update the constraints url,MERGED,2019-09-23 08:15:12.000000000,2020-09-07 14:10:47.000000000,2020-09-07 14:08:12.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-23 08:15:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/9c760d0d212428941649b7b1ad4cfdd0d7ee3e33', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I87ca452b30fef638c78c68835a072a0a820419f6\n'}]",0,683865,9c760d0d212428941649b7b1ad4cfdd0d7ee3e33,10,2,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I87ca452b30fef638c78c68835a072a0a820419f6
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/65/683865/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c760d0d212428941649b7b1ad4cfdd0d7ee3e33,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt},2,2
openstack%2Fironic-python-agent~master~I68c561771fae0860a914d47ab99cd053a964805d,openstack/ironic-python-agent,master,I68c561771fae0860a914d47ab99cd053a964805d,DNM try without agent_verify_ca,ABANDONED,2020-09-07 12:36:09.000000000,2020-09-07 14:05:45.000000000,,[],"[{'number': 1, 'created': '2020-09-07 12:36:09.000000000', 'files': ['ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9a7f9981716517fbfeed3a0f7270b52c1f17e3b8', 'message': 'DNM try without agent_verify_ca\n\nChange-Id: I68c561771fae0860a914d47ab99cd053a964805d\n'}]",0,750165,9a7f9981716517fbfeed3a0f7270b52c1f17e3b8,2,0,1,10239,,,0,"DNM try without agent_verify_ca

Change-Id: I68c561771fae0860a914d47ab99cd053a964805d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/65/750165/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/ironic_api_client.py'],1,9a7f9981716517fbfeed3a0f7270b52c1f17e3b8,story/2007214,"AGENT_VERIFY_CA_IRONIC_VERSION = (1, 98)","AGENT_VERIFY_CA_IRONIC_VERSION = (1, 68)",1,1
openstack%2Fhorizon~master~I9a3704dd3e0bcc61f3168d45912bf8078bc9dc87,openstack/horizon,master,I9a3704dd3e0bcc61f3168d45912bf8078bc9dc87,Imported Translations from Zanata,MERGED,2020-09-07 07:25:04.000000000,2020-09-07 13:45:40.000000000,2020-09-07 13:41:26.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 07:25:04.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fda9c47d2abc62ddc7de1fa911d341a904be8305', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9a3704dd3e0bcc61f3168d45912bf8078bc9dc87\n'}]",0,750128,fda9c47d2abc62ddc7de1fa911d341a904be8305,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9a3704dd3e0bcc61f3168d45912bf8078bc9dc87
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/750128/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po']",3,fda9c47d2abc62ddc7de1fa911d341a904be8305,zanata/translations,"""Project-Id-Version: horizon 18.4.2.dev43\n""""POT-Creation-Date: 2020-09-03 16:57+0000\n""""PO-Revision-Date: 2020-09-06 04:08+0000\n""""Active and consistent review of review activity, bug triage and other "" ""activity will be performed periodically and fed back to the core reviewer "" ""team so everyone knows how things are progressing."" msgstr """" ""Tinjauan aktif dan konsisten atas aktivitas tinjauan, triase bug, dan "" ""aktivitas lain akan dilakukan secara berkala dan diumpankan kembali ke tim "" ""peninjau inti sehingga semua orang tahu bagaimana perkembangannya."" msgid """" ""Actively reviewing patch submissions, considering whether the patch: - is "" ""functional - fits use cases and vision of the project - is complete in terms "" ""of testing, documentation, and release notes - takes into consideration "" ""upgrade concerns from previous versions"" msgstr """" ""Secara aktif reviewing pengiriman patch, mempertimbangkan apakah patch: - "" ""berfungsi - sesuai dengan kasus penggunaan dan visi proyek - lengkap dalam "" ""hal pengujian, dokumentasi, dan catatan rilis - mempertimbangkan masalah "" ""peningkatan dari versi sebelumnya"" msgid """"msgid """" ""All changes proposed to horizon require two +2 votes from the horizon core "" ""reviewers before one of the core reviewers can approve a change by giving "" ""\""Workflow +1\"" vote."" msgstr """" ""Semua perubahan yang diusulkan ke horizon memerlukan dua +2 votes dari "" ""peninjau inti horizon sebelum salah satu peninjau inti dapat menyetujui "" ""perubahan dengan memberikan suara \""Workflow +1\"" vote."" msgid """" ""All common PTL duties are enumerated in the `PTL guide <https://docs."" ""openstack.org/project-team-guide/ptl.html>`_."" msgstr """" ""Semua tugas PTL umum disebutkan di `PTL guide <https://docs.openstack.org/"" ""project-team-guide/ptl.html>`_."" msgid """" ""Collect and compress static assets with ``python manage.py collectstatic -"" ""c`` and ``python manage.py compress``."" msgstr """" ""Kumpulkan dan kompres aset statis dengan ``python manage.py collectstatic -"" ""c`` dan ``python manage.py compress``."" msgid """" ""GUI supports for most OpenStack projects are achieved via horizon plugins. "" ""The horizon core reviewer team has responsibility to help horizon plugin "" ""teams from the perspective of horizon related changes as the framework, for "" ""example, Django version bump, testing improvements, plugin interface changes "" ""in horizon and so on. A member of the team is expected to send and review "" ""patches related to such changes."" msgstr """" ""Dukungan GUI untuk sebagian besar proyek OpenStack dicapai melalui plugin "" ""horizon. Tim peninjau inti horizon memiliki tanggung jawab untuk membantu "" ""tim plugin horizon dari perspektif perubahan terkait horizon sebagai "" ""framework, misalnya, Django version bump, perbaikan pengujian, perubahan "" ""plugin interface di horizon dan sebagainya. Seorang anggota tim diharapkan "" ""mengirim dan meninjau patches terkait dengan perubahan tersebut."" msgid ""Getting Your Patch Merged"" msgstr ""Getting Your Patch Merged (Mendapatkan Patch Anda Digabung)"" msgid ""Helping horizon plugin maintenances"" msgstr ""Membantu pemeliharaan plugin horizon"" msgid ""Horizon Plugin Maintenance"" msgstr ""Horizon Plugin Maintenance (Pemeliharaan Plugin Horizon)"" ""indicating the type of exception that was encountered will be returned. If "" ""details is None (default), take it from exception sys.exc_info. If details "" ""is other string, then use that string explicitly or if details is empty then "" ""suppress it.""""Jika pengecualian tidak dimunculkan kembali, kelas pengecualian pembungkus "" ""(wrapper exception class) yang sesuai yang menunjukkan jenis pengecualian "" ""yang ditemukan akan dikembalikan. Jika detailnya None (default), ambil dari "" ""pengecualian sys.exc_info. Jika detailnya adalah string lain, gunakan string "" ""itu secara eksplisit atau jika detailnya kosong, sembunyikan.""""If you would like to add a new feature to horizon, file a blueprint to "" ""https://blueprints.launchpad.net/horizon. You can find a template for a "" ""blueprint at https://blueprints.launchpad.net/horizon/+spec/template. The "" ""template is not a strict requirement but it would be nice to cover a "" ""motivation and an approach of your blueprint. From the nature of GUI, a "" ""discussion on UI design during a patch review could be more productive, so "" ""there is no need to explain the detail of UI design in your blueprint "" ""proposal."" msgstr """" ""Jika Anda ingin menambahkan fitur baru ke horizon, ajukan cetak biru ke "" ""https://blueprints.launchpad.net/horizon. Anda dapat menemukan template "" ""untuk cetak biru di https://blueprints.launchpad.net/horizon/+spec/template. "" ""Templat bukanlah persyaratan yang ketat tetapi akan bagus untuk mencakup "" ""motivasi dan pendekatan cetak biru Anda. Dari sifat GUI, pembahasan desain "" ""UI pada saat review patch bisa lebih produktif, sehingga tidak perlu "" ""menjelaskan detail desain UI dalam proposal cetak biru Anda."" msgid """" ""If you're looking for some smaller, please look through the list of bugs and "" ""find what you think you can work on. If you are not sure the status of a bug "" ""feel free to ask to the horizon team. We can help you. Note that we recently "" ""do not maintain 'low-hanging-fruit' tag and some of them with this tag are "" ""not simple enough."" msgstr """" ""Jika Anda mencari beberapa yang lebih kecil, silakan lihat daftar bug dan "" ""temukan apa yang menurut Anda dapat Anda kerjakan. Jika Anda tidak yakin "" ""status bug jangan ragu untuk bertanya kepada tim horizon. Kami bisa "" ""membantumu. Perhatikan bahwa kami baru-baru ini tidak mempertahankan 'low-"" ""hanging-fruit' tag dan beberapa di antaranya dengan tanda ini tidak cukup "" ""sederhana."" msgid """"""In general, all changes should be proposed along with at least unit test "" ""coverage (python or JavaScript). Integration test support would be "" ""appreciated."" msgstr """" ""Secara umum, semua perubahan harus diusulkan bersama dengan setidaknya "" ""cakupan pengujian unit (python atau JavaScript). Dukungan uji integrasi akan "" ""sangat dihargai."" msgid """"msgid """" ""Monitor and participate in ``[horizon]`` discussions on the mailing list"" msgstr ""Pantau dan berpartisipasilah dalam diskusi ``[horizon] `di milis"" ""More detailed guidelines for reviewers of patches are available at `OpenDev "" ""Developer's Guide <https://docs.opendev.org/opendev/infra-manual/latest/"" ""developers.html#code-review>`__."" msgstr """" ""Panduan lebih rinci untuk pengulas patches tersedia di `OpenDev Developer's "" ""Guide <https://docs.opendev.org/opendev/infra-manual/latest/developers."" ""html#code-review>`__."" msgid """"""Note that involvements in more works in horizon plugins are up to "" ""individuals but it would be nice to be involved if you have time :)"" msgstr """" ""Perhatikan bahwa keterlibatan dalam lebih banyak pekerjaan di plugin horizon "" ""terserah individu tetapi alangkah baiknya jika Anda terlibat jika Anda punya "" ""waktu :)"" msgid """"msgid """" ""Participate in related design sessions at Project Team Gatherings (PTGs)"" msgstr """" ""Berpartisipasi dalam sesi desain terkait di Project Team Gatherings (PTGs)"" msgid """" ""Please file a bug first even if you already have a fix for it. If you can "" ""reproduce the bug reliably and identify its cause then it's usually safe to "" ""start working on it. However, getting independent confirmation (and "" ""verifying that it's not a duplicate) is always a good idea if you can be "" ""patient."" msgstr """" ""Harap laporkan bug terlebih dahulu meskipun Anda sudah memperbaikinya. Jika "" ""Anda dapat mereproduksi bug dengan andal dan mengidentifikasi penyebabnya, "" ""biasanya aman untuk mulai mengerjakannya. Namun, mendapatkan konfirmasi "" ""independen (dan memverifikasi bahwa itu bukan duplikat) selalu merupakan ide "" ""bagus jika Anda bisa bersabar."" msgid """" ""Please note in-person attendance at PTGs, mid-cycles, and other code sprints "" ""is not a requirement to be a core reviewer. Participation can also include "" ""contributing to the design documents discussed at the design sessions."" msgstr """" ""Harap dicatat bahwa kehadiran secara langsung (in-person) di PTG, "" ""pertengahan siklus, dan kode sprint lainnya bukanlah persyaratan untuk "" ""menjadi peninjau inti. Partisipasi juga dapat mencakup berkontribusi pada "" ""dokumen desain yang dibahas pada sesi desain."" msgid ""Project Policies"" msgstr ""Project Policies (Kebijakan Proyek)"" msgid ""Project Team Lead Duties"" msgstr ""Project Team Lead Duties (Tugas Pimpinan Tim Proyek)"" msgid ""Reporting a Bug"" msgstr ""Reporting a Bug (Melaporkan Bug)"" msgid ""Supported Software"" msgstr ""Supported Software (Software yang Didukung)"" msgid ""Task Tracking"" msgstr ""Task Tracking (Pelacakan Tugas)"" ""The horizon PTL is expected to coordinate and encourage the core reviewer "" ""team and contributors for the success. The expectations for the core "" ""reviewer team is documented at :doc:`policies/core-reviewers` and the PTL "" ""would play an important role in this."" msgstr """" ""PTL Horizon diharapkan dapat mengkoordinasikan dan mendorong tim reviewer "" ""inti dan kontributor untuk kesuksesan. Harapan untuk tim reviewer inti "" ""didokumentasikan di :doc:`policies/core-reviewers` dan PTL akan memainkan "" ""peran penting dalam hal ini."" msgid """" ""The horizon core reviewer team is responsible for many aspects of the "" ""horizon project. These include, but are not limited to:"" msgstr """" ""Tim reviewer inti horizon bertanggung jawab atas banyak aspek proyek "" ""horizon. Ini termasuk, tetapi tidak terbatas pada:"" msgid """"""There are a number of unsupported OpenStack features in horizon. "" ""Implementing such would be appreciated even if it is small."" msgstr """" ""Ada beberapa fitur OpenStack yang tidak didukung di horizon. Menerapkannya "" ""akan dihargai meskipun kecil."" msgid """"""To support storing profiler data on server-side, MongoDB cluster needs to be "" ""installed on your Devstack host (default configuration), see `Installing "" ""MongoDB <https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/"" ""#install-mongodb-community-edition>`__. Then, change the ``bindIp`` key in "" ""``/etc/mongod.conf`` to ``0.0.0.0`` and invoke ``sudo service mongod "" ""restart``."" msgstr """" ""Untuk mendukung penyimpanan data profiler di sisi server, cluster MongoDB "" ""perlu diinstal pada host Devstack Anda (konfigurasi default), lihat "" ""`Installing MongoDB <https://docs.mongodb.com/manual/tutorial/install-"" ""mongodb-on-ubuntu/#install-mongodb-community-edition>`__. Kemudian, ubah "" ""kunci ``bindIp`` di ``/etc/mongod.conf`` menjadi ``0.0.0.0`` dan aktifkan "" ""``sudo service mongod restart``."" msgid """"""We don't have a specific deadline during a development cycle. You can "" ""propose a feature any time. Only thing you keep in your mind is that we do "" ""not merge features during the feature freeze period after the milestone 3 in "" ""each cycle."" msgstr """" ""Kami tidak memiliki tenggat waktu khusus selama siklus pengembangan. Anda "" ""dapat mengusulkan fitur kapan saja. Satu-satunya hal yang perlu diingat "" ""adalah kami tidak menggabungkan fitur selama periode pembekuan fitur setelah "" ""pencapaian 3 di setiap siklus."" msgid """"""We track our tasks in `Launchpad <https://bugs.launchpad.net/horizon>`__."" msgstr """" ""Kami melacak tugas kami di `Launchpad <https://bugs.launchpad.net/"" ""horizon>`__."" msgid """"""You found an issue and want to make sure we are aware of it? You can do so "" ""on `Launchpad <https://bugs.launchpad.net/horizon>`__."" msgstr """" ""Anda menemukan masalah dan ingin memastikan kami mengetahuinya? Anda bisa "" ""melakukannya `Launchpad <https://bugs.launchpad.net/horizon>`__."" msgid """"","""Project-Id-Version: horizon 18.4.2.dev24\n""""POT-Creation-Date: 2020-08-28 11:09+0000\n""""PO-Revision-Date: 2020-08-28 07:18+0000\n""""indicating the type of exception that was encountered will be returned.""""Jika pengecualian tidak dibangkitkan kembali, kelas pengecualian pembungkus "" ""yang tepat menunjukkan jenis pengecualian yang ditemukan akan dikembalikan.""",272,17
openstack%2Ftooz~master~I242655a557e72b8325825c8f2a8363b479a662a6,openstack/tooz,master,I242655a557e72b8325825c8f2a8363b479a662a6,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-01 23:07:43.000000000,2020-09-07 13:29:17.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 23:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/2641fd1cc956d4b271163055537ffb4718dbaece', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I242655a557e72b8325825c8f2a8363b479a662a6\n'}, {'number': 2, 'created': '2020-08-02 19:54:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/a31dcf552d9e8b0c99b61140da67769ad5d336df', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I242655a557e72b8325825c8f2a8363b479a662a6\n'}]",0,744337,a31dcf552d9e8b0c99b61140da67769ad5d336df,9,2,2,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40207

Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I242655a557e72b8325825c8f2a8363b479a662a6
",git fetch https://review.opendev.org/openstack/tooz refs/changes/37/744337/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2641fd1cc956d4b271163055537ffb4718dbaece,migrate-to-focal,#test focal,,1,0
openstack%2Ftooz~master~I0505b4ee3b3d277337f9b64a304b7d2420907824,openstack/tooz,master,I0505b4ee3b3d277337f9b64a304b7d2420907824,DNM: testing gate,ABANDONED,2020-09-06 22:29:34.000000000,2020-09-07 13:27:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-06 22:29:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/7f44d5b4bafe266544b647264049d19d9f21aecd', 'message': 'DNM: testing gate\n\nChange-Id: I0505b4ee3b3d277337f9b64a304b7d2420907824\n'}]",0,750112,7f44d5b4bafe266544b647264049d19d9f21aecd,3,1,1,8556,,,0,"DNM: testing gate

Change-Id: I0505b4ee3b3d277337f9b64a304b7d2420907824
",git fetch https://review.opendev.org/openstack/tooz refs/changes/12/750112/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7f44d5b4bafe266544b647264049d19d9f21aecd,,#test gate,,1,0
openstack%2Fcloudkitty~master~I117177a43293efb389dd8c0cd5a5c0ee16a7eca9,openstack/cloudkitty,master,I117177a43293efb389dd8c0cd5a5c0ee16a7eca9,Adjust hacking tests to fix py38 support,MERGED,2020-06-24 20:02:35.000000000,2020-09-07 13:20:53.000000000,2020-09-07 13:18:49.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-24 20:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/4287d008aec506f4ace70384a3eae6306c5d9bd2', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-06-24 20:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1e2d52e5d1f74bfcc1925190e1279b19c471fa0f', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 3, 'created': '2020-06-24 21:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3bef08270cf7fc32914368f024422f51acaab1ef', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 4, 'created': '2020-06-24 22:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/62f617a28365dbf9a26041a392c2b549e58a352b', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 5, 'created': '2020-08-13 12:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/428e2c62e510df9681370a079526746f4065240e', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 6, 'created': '2020-08-19 01:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3807f5435fe2ff8770fd553e8c38866420730c0e', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 7, 'created': '2020-08-20 20:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f0637dada1d9871ddd9c6f389d50be0671952ad9', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 8, 'created': '2020-08-24 19:42:23.000000000', 'files': ['cloudkitty/tests/test_hacking.py', 'cloudkitty/tests/__init__.py', 'cloudkitty/tests/api/v2/dataframes/test_dataframes.py', 'cloudkitty/tests/api/v2/summary/test_summary.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/35afc4b24bc4dfc0ed9bf5865116e0f5c42605fa', 'message': ""Adjust hacking tests to fix py38 support\n\nStarting in py38, some of the column calculations have changed. We had\nsome hacking unit tests that would assert on tuples containing those\ncolumn numbers, so things would pass fine when running on py36 or py37,\nbut would fail when run on py38.\n\nSince we don't really care about the column number, only whether the\nhacking check fails or doesn't, we can just match on mock.ANY for that\nvalue.\n\nChange-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",3,737866,35afc4b24bc4dfc0ed9bf5865116e0f5c42605fa,31,7,8,11904,,,0,"Adjust hacking tests to fix py38 support

Starting in py38, some of the column calculations have changed. We had
some hacking unit tests that would assert on tuples containing those
column numbers, so things would pass fine when running on py36 or py37,
but would fail when run on py38.

Since we don't really care about the column number, only whether the
hacking check fails or doesn't, we can just match on mock.ANY for that
value.

Change-Id: I117177a43293efb389dd8c0cd5a5c0ee16a7eca9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/66/737866/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/tests/test_hacking.py'],1,4287d008aec506f4ace70384a3eae6306c5d9bd2,py38," expected_errors=[(4, mock.ANY, 'C310')]) errors = [(5, mock.ANY, 'C314')] errors = [(5, mock.ANY, 'C314')] errors = [(8, mock.ANY, 'C314'), (8, mock.ANY, 'C314')] errors = [(8, mock.ANY, 'C314'), (8, mock.ANY, 'C314'), (9, mock.ANY, 'C314')] # We don't assert on specific column numbers since there is a small # change in calculation between <py38 and >=py38 errors = [(9, mock.ANY, 'C315'), (10, mock.ANY, 'C315')]"," expected_errors=[(4, 21, 'C310')]) errors = [(5, 16, 'C314')] errors = [(5, 20, 'C314')] errors = [(8, 20, 'C314'), (8, 29, 'C314')] errors = [(8, 20, 'C314'), (8, 33, 'C314'), (9, 16, 'C314')] # Python 3.4.0 introduced a change to the column calculation during AST # parsing. This was reversed in Python 3.4.3, hence the version-based # expected value calculation. See #1499743 for more background. if sys.version_info < (3, 4, 0) or sys.version_info >= (3, 4, 3): errors = [(9, 10, 'C315'), (10, 24, 'C315')] else: errors = [(9, 11, 'C315'), (10, 25, 'C315')]",10,12
openstack%2Fcloudkitty~master~I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53,openstack/cloudkitty,master,I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53,Update hacking for Python3,MERGED,2020-03-31 14:49:11.000000000,2020-09-07 13:07:44.000000000,2020-09-07 13:06:03.000000000,"[{'_account_id': 6547}, {'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-03-31 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0feed5e357979474d8b7a87a37879b57cbaef98f', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}, {'number': 2, 'created': '2020-03-31 16:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cc869c050f3ff7501860d51f2afcadff18ff0bb5', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}, {'number': 3, 'created': '2020-06-24 21:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0d45b48a3e232c60bc16ea5ef7f66c86431b1928', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}, {'number': 4, 'created': '2020-06-24 22:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d65cd3dcd427e0b8d79bbebf41180b0aa124ec77', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}, {'number': 5, 'created': '2020-08-12 21:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b9362af82a6c942028cd7ddeba1cc89e7002a04d', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}, {'number': 6, 'created': '2020-08-13 12:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7d90725996545b656cc15c7640a1bb325e1f9193', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}, {'number': 7, 'created': '2020-08-19 01:28:46.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/17fd1b237aa3_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/c88a06b1cfce_clean_hashmap_fields_constraints.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/c703a1bad612_improve_qty_digit.py', 'cloudkitty/tests/test_hacking.py', 'test-requirements.txt', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/3dd7e13527f3_initial_migration.py', 'cloudkitty/hacking/checks.py', 'cloudkitty/orchestrator.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/307430ab38bc_improve_qty_precision.py', 'cloudkitty/tests/storage/v2/es_utils.py', 'cloudkitty/tests/gabbi/rating/hash/fixtures.py', 'contrib/ci/csv_writer.py', 'cloudkitty/db/sqlalchemy/alembic/versions/464e951dc3b8_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4fa888fd7eda_added_threshold_support.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/alembic/versions/75c205f6f1a2_move_from_sha1_to_sha512.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/alembic/versions/4f9efa4601c0_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/792b438b663_added_tenant_informations.py', 'cloudkitty/db/sqlalchemy/alembic/versions/2ac2217dcbd9_added_support_for_meta_collector.py', 'cloudkitty/db/sqlalchemy/alembic/versions/385e33fef139_added_priority_to_modules_state.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/10d2738b67df_rename_mapping_table_to_hashmap_mappings.py', 'cloudkitty/tests/gabbi/rating/pyscripts/fixtures.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b014dbe64c81c00ce443c78cade4fc6d93ffa0ce', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nChange-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53\n'}]",8,716319,b014dbe64c81c00ce443c78cade4fc6d93ffa0ce,29,14,7,6547,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Update local hacking checks for new flake8.

Change-Id: I41a5518f1210c9a1b6d5217bbbcd99bbaa3c9b53
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/19/716319/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/17fd1b237aa3_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/c88a06b1cfce_clean_hashmap_fields_constraints.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/c703a1bad612_improve_qty_digit.py', 'test-requirements.txt', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/3dd7e13527f3_initial_migration.py', 'cloudkitty/hacking/checks.py', 'cloudkitty/orchestrator.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/307430ab38bc_improve_qty_precision.py', 'cloudkitty/tests/storage/v2/es_utils.py', 'cloudkitty/tests/gabbi/rating/hash/fixtures.py', 'contrib/ci/csv_writer.py', 'cloudkitty/db/sqlalchemy/alembic/versions/464e951dc3b8_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4fa888fd7eda_added_threshold_support.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/alembic/versions/75c205f6f1a2_move_from_sha1_to_sha512.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/alembic/versions/4f9efa4601c0_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/versions/792b438b663_added_tenant_informations.py', 'cloudkitty/db/sqlalchemy/alembic/versions/2ac2217dcbd9_added_support_for_meta_collector.py', 'cloudkitty/db/sqlalchemy/alembic/versions/385e33fef139_added_priority_to_modules_state.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/10d2738b67df_rename_mapping_table_to_hashmap_mappings.py', 'cloudkitty/tests/gabbi/rating/pyscripts/fixtures.py', 'tox.ini']",25,0feed5e357979474d8b7a87a37879b57cbaef98f,py38, [flake8:local-plugins] extension = C310 = checks:CheckLoggingFormatArgs C311 = checks:validate_assertIsNone C312 = checks:validate_assertTrue C313 = checks:no_translate_logs C314 = checks:CheckForStrUnicodeExc C315 = checks:CheckForTransAdd C317 = checks:check_oslo_namespace_imports C318 = checks:dict_constructor_with_list_copy C319 = checks:no_xrange C320 = checks:no_log_warn_check C321 = checks:check_explicit_underscore_import paths = ./cloudkitty/hacking,local-check-factory = cloudkitty.hacking.checks.factory,85,67
openstack%2Fopenstack-ansible-os_swift~master~Ib8a8875c1a355b1f67cdc2bc4f1d028fa7ae3496,openstack/openstack-ansible-os_swift,master,Ib8a8875c1a355b1f67cdc2bc4f1d028fa7ae3496,Delegate gnocchi retrievement task to setup host,MERGED,2020-08-26 12:50:37.000000000,2020-09-07 13:07:00.000000000,2020-09-07 11:13:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-26 12:50:37.000000000', 'files': ['tasks/swift_proxy_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/5c1209e0ec8b20869bdf6eb4d0a4ebba02264fda', 'message': ""Delegate gnocchi retrievement task to setup host\n\nSince we don't have required libraries on the swift hosts,\nwe should delegate openstack collection tasks to the setup host.\n\nChange-Id: Ib8a8875c1a355b1f67cdc2bc4f1d028fa7ae3496\n""}]",0,748217,5c1209e0ec8b20869bdf6eb4d0a4ebba02264fda,18,4,1,28619,,,0,"Delegate gnocchi retrievement task to setup host

Since we don't have required libraries on the swift hosts,
we should delegate openstack collection tasks to the setup host.

Change-Id: Ib8a8875c1a355b1f67cdc2bc4f1d028fa7ae3496
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/17/748217/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/swift_proxy_hosts.yml'],1,5c1209e0ec8b20869bdf6eb4d0a4ebba02264fda,,"- name: Define Gnocchi project id delegate_to: ""{{ swift_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ swift_service_setup_host_python_interpreter }}"" block: - name: Get Gnocchi project id openstack.cloud.os_project_info: name: ""{{ gnocchi_service_project_name }}"" interface: ""{{ keystone_service_adminurl }}"" verify: ""{{ keystone_service_adminuri_insecure }}"" register: get_gnocchi_project until: get_gnocchi_project is success retries: 5 delay: 10 no_log: True - name: Store Gnocchi project id set_fact: swift_gnocchi_service_project_id: ""{{ get_gnocchi_project.openstack_projects[0].id }}""","- name: Get Gnocchi project id openstack.cloud.os_project_info: name: ""{{ gnocchi_service_project_name }}"" interface: ""{{ keystone_service_adminurl }}"" verify: ""{{ keystone_service_adminuri_insecure }}"" register: get_gnocchi_project until: get_gnocchi_project is success retries: 5 delay: 10 when: - swift_gnocchi_enabled | bool no_log: True - name: Store Gnocchi project id set_fact: swift_gnocchi_service_project_id: ""{{ get_gnocchi_project.openstack_projects[0].id }}"" - get_gnocchi_project is success",18,16
openstack%2Freleases~master~I8cd760ac32877748eb2e933a80cd0491ffb19334,openstack/releases,master,I8cd760ac32877748eb2e933a80cd0491ffb19334,nova: Release Stein 19.3.1,MERGED,2020-09-05 10:20:42.000000000,2020-09-07 13:00:50.000000000,2020-09-07 13:00:50.000000000,"[{'_account_id': 308}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-05 10:20:42.000000000', 'files': ['deliverables/stein/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0a067698da81772787f8405ff299a5114aed16e5', 'message': ""nova: Release Stein 19.3.1\n\n$ git log --oneline --no-merges 19.3.0..HEAD\n6007c41aa8 compute: Don't delete the original attachment during pre LM rollback\n06d9d0d705 Add regression tests for bug #1889108\n07a04ee171 compute: refactor volume bdm rollback error handling\n334a479ae2 libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n76428c1a6a libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n8b865378b8 compute: Use source_bdms to reset attachment_ids during LM rollback\n1e1bbdc4cd Robustify attachment tracking in CinderFixtureNewAttachFlow\nf81d1a5ce4 Improve CinderFixtureNewAttachFlow\nb9ea91d177 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n33c8e5473d Should not skip volume_size check for bdm.image_id == image_ref case\n0bc5a4ecb5 objects: Update keypairs when saving an instance\n\nChange-Id: I8cd760ac32877748eb2e933a80cd0491ffb19334\n""}]",0,750068,0a067698da81772787f8405ff299a5114aed16e5,12,7,1,17685,,,0,"nova: Release Stein 19.3.1

$ git log --oneline --no-merges 19.3.0..HEAD
6007c41aa8 compute: Don't delete the original attachment during pre LM rollback
06d9d0d705 Add regression tests for bug #1889108
07a04ee171 compute: refactor volume bdm rollback error handling
334a479ae2 libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0
76428c1a6a libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices
8b865378b8 compute: Use source_bdms to reset attachment_ids during LM rollback
1e1bbdc4cd Robustify attachment tracking in CinderFixtureNewAttachFlow
f81d1a5ce4 Improve CinderFixtureNewAttachFlow
b9ea91d177 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration
33c8e5473d Should not skip volume_size check for bdm.image_id == image_ref case
0bc5a4ecb5 objects: Update keypairs when saving an instance

Change-Id: I8cd760ac32877748eb2e933a80cd0491ffb19334
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/750068/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/nova.yaml'],1,0a067698da81772787f8405ff299a5114aed16e5,nova-stein-19.3.1, - version: 19.3.1 projects: - repo: openstack/nova hash: a50fb46df8b328e7585b6eb5c1589e9ea1e41e80,,4,0
openstack%2Fopenstack-ansible-ceph_client~stable%2Ftrain~I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,openstack/openstack-ansible-ceph_client,stable/train,I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,Remove trailing '/' from ceph_apt_repo_url,MERGED,2020-09-05 07:04:10.000000000,2020-09-07 12:56:38.000000000,2020-09-07 11:51:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-09-05 07:04:10.000000000', 'files': ['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/3cf97d2780c469b2e410fbff76007b2115e2a4c0', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible.  This patch\nremoves the entry with the trailing '/' (for convenience) and matches\nthe default url to what ceph-ansible does.\n\nSlightly altered from cherry-pick to avoid breaking overrides of\nceph_apt_repos\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n(cherry picked from commit 0255bef843999ea4d1a26745d53c56793a195d75)\n""}]",0,750063,3cf97d2780c469b2e410fbff76007b2115e2a4c0,9,3,1,25600,,,0,"Remove trailing '/' from ceph_apt_repo_url

This little trailing '/' results in a duplicate entry for ceph packages
if the repository has already been set up by ceph-ansible.  This patch
removes the entry with the trailing '/' (for convenience) and matches
the default url to what ceph-ansible does.

Slightly altered from cherry-pick to avoid breaking overrides of
ceph_apt_repos

Change-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b
(cherry picked from commit 0255bef843999ea4d1a26745d53c56793a195d75)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/63/750063/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml']",2,3cf97d2780c469b2e410fbff76007b2115e2a4c0,,"ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}"" ceph: repo: ""deb {{ ceph_apt_repo_url }} {{ ansible_lsb.codename }} main"" state: ""present""","ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}/"" ceph: repo: ""deb {{ ceph_apt_repo_url }} {{ ansible_lsb.codename }} main"" state: ""present""",10,4
openstack%2Fcloudkitty~master~If70432804c6af6d9fabfe4394671549e3d7a242f,openstack/cloudkitty,master,If70432804c6af6d9fabfe4394671549e3d7a242f,Add i18n support for error message,MERGED,2017-02-23 10:56:08.000000000,2020-09-07 12:53:04.000000000,2020-09-07 12:51:25.000000000,"[{'_account_id': 3}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24786}, {'_account_id': 28356}]","[{'number': 1, 'created': '2017-02-23 10:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d9924447c3c22127191f2d1e496003a8eab6e16d', 'message': 'Add i18n support for error message\n\nAdd i18n support for error message of rating and specification\nmessage format\n\nChange-Id: If70432804c6af6d9fabfe4394671549e3d7a242f\n'}, {'number': 2, 'created': '2017-02-23 11:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f5b5d1a7dfcbc72614b92f2abe49da684d971c00', 'message': 'Add i18n support for error message\n\nAdd i18n support for error message of rating and specification\nmessage format\n\nChange-Id: If70432804c6af6d9fabfe4394671549e3d7a242f\n'}, {'number': 3, 'created': '2018-02-13 10:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7a30e724c3f372aaaede9454fef0fc446347cb60', 'message': 'Add i18n support for error message\n\nAdd i18n support for error message of rating and specification\nmessage format\n\nChange-Id: If70432804c6af6d9fabfe4394671549e3d7a242f\n'}, {'number': 4, 'created': '2018-09-21 15:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2737062fee807f4646092b67f5d1c02175763794', 'message': 'Add i18n support for error message\n\nAdd i18n support for error message of rating and specification\nmessage format\n\nChange-Id: If70432804c6af6d9fabfe4394671549e3d7a242f\n'}, {'number': 5, 'created': '2019-05-07 08:01:04.000000000', 'files': ['cloudkitty/rating/hash/db/api.py', 'cloudkitty/rating/pyscripts/db/api.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d3d248184bb7754d8e4bfe89d177f74ca64e3d8d', 'message': 'Add i18n support for error message\n\nAdd i18n support for error message of rating and specification\nmessage format\n\nChange-Id: If70432804c6af6d9fabfe4394671549e3d7a242f\n'}]",0,437331,d3d248184bb7754d8e4bfe89d177f74ca64e3d8d,26,5,5,24786,,,0,"Add i18n support for error message

Add i18n support for error message of rating and specification
message format

Change-Id: If70432804c6af6d9fabfe4394671549e3d7a242f
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/31/437331/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/api.py', 'cloudkitty/rating/pyscripts/db/api.py']",2,d9924447c3c22127191f2d1e496003a8eab6e16d,i18nsup,"from cloudkitty.i18n import _ _(""No such script: %(name)s (UUID: %(uuid)s)"") % {'name': name, 'uuid': uuid}) _(""Script %(name)s already exists (UUID: %(uuid)s)"") % {'name': name, 'uuid': uuid})"," ""No such script: %s (UUID: %s)"" % (name, uuid)) ""Script %s already exists (UUID: %s)"" % (name, uuid))",32,18
openstack%2Fsecurity-doc~master~I9e8dda223d2980ad2dd38d1b9d872e3a5c60fbdc,openstack/security-doc,master,I9e8dda223d2980ad2dd38d1b9d872e3a5c60fbdc,Imported Translations from Zanata,MERGED,2020-09-07 09:27:55.000000000,2020-09-07 12:51:23.000000000,2020-09-07 12:49:39.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 09:27:55.000000000', 'files': ['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1c1fffdd9c8f1095be0859e4adaec43ef8d61daf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9e8dda223d2980ad2dd38d1b9d872e3a5c60fbdc\n'}]",0,750142,1c1fffdd9c8f1095be0859e4adaec43ef8d61daf,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9e8dda223d2980ad2dd38d1b9d872e3a5c60fbdc
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/42/750142/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po']",3,1c1fffdd9c8f1095be0859e4adaec43ef8d61daf,zanata/translations,"""Project-Id-Version: Security Guide\n""""POT-Creation-Date: 2020-08-10 09:16+0000\n""","""Project-Id-Version: openstacksecurityguide\n""""POT-Creation-Date: 2019-11-07 10:27+0000\n""""KVM: Kernal-based Virtual Machine. Kernal Samepage Merging. 2010. `http://"" ""www.linux-kvm.org/page/KSM <http://www.linux-kvm.org/page/KSM>`_"" msgstr """" ""KVM: Kernbasierte virtuelle Maschine. Kernal Samepage Merging. 2010. `http://"" ""www.linux-kvm.org/page/KSM <http://www.linux-kvm.org/page/KSM>`_"" msgid """"",10,23
openstack%2Fbifrost~master~Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104,openstack/bifrost,master,Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104,Fix install on systems without systemd,MERGED,2020-09-07 10:11:57.000000000,2020-09-07 12:29:59.000000000,2020-09-07 12:16:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-07 10:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/764a43b63d9de07a221433515be1f6d9f532db62', 'message': 'Fix install on systems without systemd\n\nThis broke Kolla already.\nOne cannot assume systemd is being used during installation.\n\nPackage installations normally reload systemd themselves\nif they need to.\n\nBackport to Ussuri.\n\nChange-Id: Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104\n'}, {'number': 2, 'created': '2020-09-07 11:02:15.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5e7f72a49a300b06fbadc14846f8f44905d39253', 'message': 'Fix install on systems without systemd\n\nThis broke Kolla already.\nOne cannot assume systemd is being used during installation.\n\nPackage installations normally reload systemd themselves\nif they need to.\n\nBackport to Ussuri.\n\nChange-Id: Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104\nStory: 2008112\nTask: 40828\n'}]",0,750146,5e7f72a49a300b06fbadc14846f8f44905d39253,15,8,2,30491,,,0,"Fix install on systems without systemd

This broke Kolla already.
One cannot assume systemd is being used during installation.

Package installations normally reload systemd themselves
if they need to.

Backport to Ussuri.

Change-Id: Iafc3e14eaf3e8341eb7d2af30c460bbee1c9c104
Story: 2008112
Task: 40828
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/46/750146/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,764a43b63d9de07a221433515be1f6d9f532db62,fix-install-without-systemd,,"- name: ""Ask systemd to reload configuration"" systemd: daemon_reload: yes ",0,4
openstack%2Freleases~master~I81144f983b64fd0ad2ac215b08fc9ce38a023559,openstack/releases,master,I81144f983b64fd0ad2ac215b08fc9ce38a023559,Release final sushy for Victoria,MERGED,2020-09-03 16:54:51.000000000,2020-09-07 12:19:56.000000000,2020-09-07 12:19:56.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-03 16:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9a7e4b8fd0b77027a61300fea5f7b2f3f2a2294c', 'message': 'Release final sushy for Victoria\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: I81144f983b64fd0ad2ac215b08fc9ce38a023559\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-09-05 05:42:41.000000000', 'files': ['deliverables/victoria/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/50d4a538508e2c9e36b7f441345f6fa7bd6f87a0', 'message': 'Release final sushy for Victoria\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: I81144f983b64fd0ad2ac215b08fc9ce38a023559\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749794,50d4a538508e2c9e36b7f441345f6fa7bd6f87a0,13,7,2,11904,,,0,"Release final sushy for Victoria

This proposed a release for sushy to get any final merged changes
out prior to the lib freeze for Victoria going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, Sept 7.

Change-Id: I81144f983b64fd0ad2ac215b08fc9ce38a023559
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/749794/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/sushy.yaml'],1,9a7e4b8fd0b77027a61300fea5f7b2f3f2a2294c,victoria-lib-freeze, - version: 3.3.2 projects: - repo: openstack/sushy hash: e730987a186be68de9555dfef66661f68b10c57a branches: - name: stable/victoria location: 3.3.2,,7,0
openstack%2Fcloudkitty-specs~master~Ie0575b318b044b750e86e1622cc3c470031f2cc6,openstack/cloudkitty-specs,master,Ie0575b318b044b750e86e1622cc3c470031f2cc6,Switch to newer openstackdocstheme version,MERGED,2020-05-30 14:35:44.000000000,2020-09-07 12:15:28.000000000,2020-09-07 12:14:11.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-30 14:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/2bffb63fe904ba231324ceb5ab773e7307690267', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nSet openstackdocs_pdf_link to link to PDF file. Note that\nthe link to the published document only works on docs.openstack.org\nwhere the PDF file is placed in the top-level html directory. The\nsite-preview places the PDF in a pdf directory.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: Ie0575b318b044b750e86e1622cc3c470031f2cc6\n""}, {'number': 2, 'created': '2020-08-24 09:17:24.000000000', 'files': ['requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/12d827062b0c716fca199585d0e35eb57f496324', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nSet openstackdocs_pdf_link to link to PDF file. Note that\nthe link to the published document only works on docs.openstack.org\nwhere the PDF file is placed in the top-level html directory. The\nsite-preview places the PDF in a pdf directory.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: Ie0575b318b044b750e86e1622cc3c470031f2cc6\n""}]",0,731955,12d827062b0c716fca199585d0e35eb57f496324,12,4,2,6547,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Set openstackdocs_pdf_link to link to PDF file. Note that
the link to the published document only works on docs.openstack.org
where the PDF file is placed in the top-level html directory. The
site-preview places the PDF in a pdf directory.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: Ie0575b318b044b750e86e1622cc3c470031f2cc6
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/55/731955/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py']",2,2bffb63fe904ba231324ceb5ab773e7307690267,reno-openstackdocstheme,feed_base_url = 'https://specs.openstack.org/openstack/cloudkitty-specs'pygments_style = 'native' # -- Options for openstackdocstheme ------------------------------------------- openstackdocs_repo_name = 'openstack/cloudkitty-specs' openstackdocs_auto_name = False openstackdocs_use_storyboard = True openstackdocs_pdf_link = True,"feed_base_url = 'http://specs.openstack.org/openstack/cloudkitty-specs'pygments_style = 'sphinx'html_theme_path = [openstackdocstheme.get_html_theme_path()]# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. git_cmd = ""git log --pretty=format:'%ad, commit %h' --date=local -n1"" html_last_updated_fmt = os.popen(git_cmd).read() ",10,10
openstack%2Ftacker~master~Ia5f95c27af8edaeb58484ec809571d29db365e4f,openstack/tacker,master,Ia5f95c27af8edaeb58484ec809571d29db365e4f,Support for Scale Specific Action Driver,ABANDONED,2020-09-07 11:52:03.000000000,2020-09-07 11:57:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-07 11:52:03.000000000', 'files': ['tacker/tests/unit/vnfm/action_drivers/test_scale_standard.py', 'tacker/vnfm/action_drivers/exceptions.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/mgmt_drivers/noop.py', 'tacker/tests/unit/vnfm/action_drivers/__init__.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/vnfm/mgmt_drivers/executor.py', 'tacker/vnfm/mgmt_drivers/exceptions.py', 'tacker/vnfm/action_drivers/abstract_driver.py', 'tacker/tests/unit/vnfm/action_drivers/test_executor.py', 'tacker/tests/unit/vnfm/mgmt_drivers/test_executor.py', 'tacker/tests/unit/vnfm/action_drivers/fakes.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/vnfm/action_drivers/executor.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/322124902c2b5af59a6b2f6963f92626cce60b42', 'message': 'Support for Scale Specific Action Driver\n\nSupported:\n* Created new ActionDriver framework\n* Add standard action for Scaling\n* Call ActionDriver executor from vnflcm_driver\n* Read implementation from VNFD\n\nChange-Id: Ia5f95c27af8edaeb58484ec809571d29db365e4f\n'}]",0,750152,322124902c2b5af59a6b2f6963f92626cce60b42,5,1,1,32219,,,0,"Support for Scale Specific Action Driver

Supported:
* Created new ActionDriver framework
* Add standard action for Scaling
* Call ActionDriver executor from vnflcm_driver
* Read implementation from VNFD

Change-Id: Ia5f95c27af8edaeb58484ec809571d29db365e4f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/52/750152/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/action_drivers/test_scale_standard.py', 'tacker/vnfm/action_drivers/exceptions.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/mgmt_drivers/noop.py', 'tacker/tests/unit/vnfm/action_drivers/__init__.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/vnfm/mgmt_drivers/executor.py', 'tacker/vnfm/mgmt_drivers/exceptions.py', 'tacker/vnfm/action_drivers/abstract_driver.py', 'tacker/tests/unit/vnfm/action_drivers/test_executor.py', 'tacker/tests/unit/vnfm/mgmt_drivers/test_executor.py', 'tacker/tests/unit/vnfm/action_drivers/fakes.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/vnfm/action_drivers/executor.py']",16,322124902c2b5af59a6b2f6963f92626cce60b42,bp/support-etsi-nfv-specs,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import importlib import os from oslo_log import log as logging from tacker.common import exceptions from tacker.vnfm.action_drivers import exceptions as action_driver_exceptions LOG = logging.getLogger(__name__) DEFAULT_MODULE_PATH = './tacker/vnfm/action_drivers/' class ActionDriverExecutor(object): """"""Class that defines object that executes action in an action driver."""""" def __init__(self, vnfd_dict, interface, default_implementation, vnf_package_path, method=None, default_path=None, default_file=None): self.vnfd_dict = vnfd_dict self.interface = interface self.default_implementation = default_implementation self.vnf_package_path = vnf_package_path self.method = method if not self.method: self.method = interface self.default_path = default_path if not default_path: self.default_path = DEFAULT_MODULE_PATH self.default_file = default_file if not default_file: self.default_file = default_implementation + '.py' LOG.debug('ActionDriverExecutor initialized with the ff. parameters:\ vnfd_dict {}, interface {}, default_implementation {}, \ vnf_package_path {}\ method {}, default_path {}, default_file {}'.format(self.vnfd_dict, self.interface, self.default_implementation, self.vnf_package_path, self.method, self.default_path, self.default_file)) def _get_implementation(self, vnfd_dict, interface, default_implementation): implementation_value = None if vnfd_dict.get('topology_template'): topology_template = vnfd_dict.get('topology_template') if topology_template.get('node_templates'): for a_val in topology_template.get('node_templates').values(): if 'interfaces' in a_val.keys(): interfaces = a_val.get('interfaces', {}) if interfaces.get('Vnflcm'): vnflcm = interfaces.get('Vnflcm', {}) if vnflcm.get(interface): interface_ = vnflcm.get(interface, {}) if interface_.get('implementation'): implementation_value = \ interface_.get('implementation') if not implementation_value: implementation_value = default_implementation return implementation_value def _get_action_driver_module(self, vnfd_dict, interface, vnf_package_path, default_implementation, default_path, default_file): """"""Fetch action_driver module based on implementation. If implementation empty, use default_implementation """""" module = None implementation_file = None if not isinstance(vnfd_dict, dict): raise exceptions.InvalidContentType(msg=""VNFD not valid"") implementation_value = self._get_implementation(vnfd_dict, interface, default_implementation) # get file _path from artifacts for corresponding implementation if vnfd_dict.get('topology_template'): topology_template = vnfd_dict.get('topology_template') if topology_template.get('node_templates'): # node_templates = topology_template.get('node_templates') for a_val in topology_template.get('node_templates').values(): if 'interfaces' in a_val.keys(): artifacts = a_val.get('artifacts', {}) if artifacts.get(implementation_value): implementation_ = \ artifacts.get(implementation_value, {}) if implementation_.get('file'): implementation_file = \ implementation_.get('file') if not implementation_file: # use default path implementation_file = os.path.join(default_path, default_file) LOG.info('Implementation file not defined. Will use {}'.format( implementation_file)) file_module = os.path.splitext( implementation_file.lstrip('./'))[0].replace('/', '.') module = importlib.import_module(file_module) else: # use directly if absolute path, # else use vnf_package_path as base path if not os.path.isabs(implementation_file): implementation_file = os.path.join( vnf_package_path, implementation_file) LOG.info('Implementation file {} selected'.format( implementation_file)) spec = importlib.util.spec_from_file_location( ""module.name"", implementation_file) module = importlib.util.module_from_spec(spec) spec.loader.exec_module(module) return module def execute_action(self, context, **kwargs): """"""Execute action. Parameters: context kwargs """""" if not self.vnfd_dict or not self.interface\ or not self.default_implementation\ or not self.default_path or not self.vnf_package_path: raise action_driver_exceptions.ActionDriverExecutorException( 'Action driver executor not instantiated') module = self._get_action_driver_module(self.vnfd_dict, self.interface, self.vnf_package_path, self.default_implementation, self.default_path, self.default_file) if not module: raise action_driver_exceptions.ActionDriverExecutorException( 'Not able to fetch action driver module') class_name = module.get_class() LOG.info('Action Driver {} selected'.format(class_name)) action_driver_class = getattr(module, class_name) LOG.info('Executing {} in {}'.format(self.method, class_name)) return action_driver_class().action_call( context, self.method, **kwargs) ",,1440,188
openstack%2Fcharm-trilio-data-mover~master~I7a45b1ffe7d71bd44201a72510d6b56a1e1a4824,openstack/charm-trilio-data-mover,master,I7a45b1ffe7d71bd44201a72510d6b56a1e1a4824,Fix ceph-relation-changed error,MERGED,2020-08-29 12:14:54.000000000,2020-09-07 11:50:09.000000000,2020-09-07 11:50:08.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-29 12:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/a71693efe026ab02a248095dfa33eb0632503098', 'message': ""Fix ceph-relation-changed error\n\nTypeError: 'str' object is not callable\nAfter recent interface change\n\nChange-Id: I7a45b1ffe7d71bd44201a72510d6b56a1e1a4824\nCloses-Bug: #1893445\n""}, {'number': 2, 'created': '2020-08-29 14:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/0f3aae70a8ce8bc214546469cb1fd2c8f78e3622', 'message': ""Fix ceph-relation-changed error\n\nTypeError: 'str' object is not callable\nAfter recent interface change\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/400\nChange-Id: I7a45b1ffe7d71bd44201a72510d6b56a1e1a4824\nCloses-Bug: #1893445\n""}, {'number': 3, 'created': '2020-09-07 08:36:24.000000000', 'files': ['src/reactive/data_mover_handlers.py', 'src/lib/charm/openstack/trilio_dm.py'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/50c11d0e995bec63bd9bf52d47750edd84b0f98a', 'message': ""Fix ceph-relation-changed error\n\nTypeError: 'str' object is not callable\nAfter recent interface change\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/400\nChange-Id: I7a45b1ffe7d71bd44201a72510d6b56a1e1a4824\nCloses-Bug: #1893445\n""}]",0,748807,50c11d0e995bec63bd9bf52d47750edd84b0f98a,23,5,3,31289,,,0,"Fix ceph-relation-changed error

TypeError: 'str' object is not callable
After recent interface change

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/400
Change-Id: I7a45b1ffe7d71bd44201a72510d6b56a1e1a4824
Closes-Bug: #1893445
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/07/748807/3 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/data_mover_handlers.py'],1,a71693efe026ab02a248095dfa33eb0632503098,bug/1893445, charm_instance.configure_ceph_keyring(ceph.key), charm_instance.configure_ceph_keyring(ceph.key()),1,1
openstack%2Fhorizon~stable%2Fstein~Ie550beddf54e5bc43c34046bb18970638d10f303,openstack/horizon,stable/stein,Ie550beddf54e5bc43c34046bb18970638d10f303,Update geckodriver version to v0.27.0.,MERGED,2020-09-01 13:14:40.000000000,2020-09-07 11:47:43.000000000,2020-09-07 11:45:35.000000000,"[{'_account_id': 841}, {'_account_id': 4264}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 13:14:40.000000000', 'files': ['roles/setup-selenium-tests/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/56feea53c0291e0a1bc8ea9f8ffb48a976172ee6', 'message': 'Update geckodriver version to v0.27.0.\n\nThis patch updates geckodriver version to v0.27.0\nfrom v0.23.0 to fix horizon-integration job.\nFo more info. please refer [1].\n\n[1] https://github.com/mozilla/geckodriver/issues/1771\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n(cherry picked from commit 16c74ad62fd94906d9f4453493227accd134717f)\n'}]",0,749281,56feea53c0291e0a1bc8ea9f8ffb48a976172ee6,12,4,1,29313,,,0,"Update geckodriver version to v0.27.0.

This patch updates geckodriver version to v0.27.0
from v0.23.0 to fix horizon-integration job.
Fo more info. please refer [1].

[1] https://github.com/mozilla/geckodriver/issues/1771

Change-Id: Ie550beddf54e5bc43c34046bb18970638d10f303
(cherry picked from commit 16c74ad62fd94906d9f4453493227accd134717f)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/749281/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup-selenium-tests/defaults/main.yaml'],1,56feea53c0291e0a1bc8ea9f8ffb48a976172ee6,,"geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.27.0/geckodriver-v0.27.0-linux64.tar.gz""","geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.23.0/geckodriver-v0.23.0-linux64.tar.gz""",1,1
openstack%2Fhorizon~stable%2Ftrain~Ie550beddf54e5bc43c34046bb18970638d10f303,openstack/horizon,stable/train,Ie550beddf54e5bc43c34046bb18970638d10f303,Update geckodriver version to v0.27.0.,MERGED,2020-09-01 11:55:33.000000000,2020-09-07 11:17:48.000000000,2020-09-07 11:16:15.000000000,"[{'_account_id': 1736}, {'_account_id': 4264}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 11:55:33.000000000', 'files': ['roles/setup-selenium-tests/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8b51300504de7b42cc7fb044511174ccf946b7d6', 'message': 'Update geckodriver version to v0.27.0.\n\nThis patch updates geckodriver version to v0.27.0\nfrom v0.23.0 to fix horizon-integration job.\nFo more info. please refer [1].\n\n[1] https://github.com/mozilla/geckodriver/issues/1771\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n(cherry picked from commit 16c74ad62fd94906d9f4453493227accd134717f)\n'}]",0,749252,8b51300504de7b42cc7fb044511174ccf946b7d6,12,5,1,29313,,,0,"Update geckodriver version to v0.27.0.

This patch updates geckodriver version to v0.27.0
from v0.23.0 to fix horizon-integration job.
Fo more info. please refer [1].

[1] https://github.com/mozilla/geckodriver/issues/1771

Change-Id: Ie550beddf54e5bc43c34046bb18970638d10f303
(cherry picked from commit 16c74ad62fd94906d9f4453493227accd134717f)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/52/749252/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup-selenium-tests/defaults/main.yaml'],1,8b51300504de7b42cc7fb044511174ccf946b7d6,,"geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.27.0/geckodriver-v0.27.0-linux64.tar.gz""","geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.23.0/geckodriver-v0.23.0-linux64.tar.gz""",1,1
openstack%2Fmasakari-dashboard~master~I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7,openstack/masakari-dashboard,master,I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7,Cleanup for Refactor-error-messages,MERGED,2020-08-26 11:46:34.000000000,2020-09-07 11:09:38.000000000,2020-09-07 11:09:38.000000000,"[{'_account_id': 841}, {'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 22437}, {'_account_id': 24501}, {'_account_id': 29313}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-08-26 11:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/3adaa1d4600f9753fb9edcf8face8a0fab9d3019', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nChange-Id: I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7\n'}, {'number': 2, 'created': '2020-08-26 12:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/7381790d3fc55fd38f112997d955f046cb99db05', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nChange-Id: I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7\n'}, {'number': 3, 'created': '2020-09-03 12:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/d2eb9eedcac2b050a085ad799e0bd00aadbe231d', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nChange-Id: I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7\nDepends-On: https://review.opendev.org/708069\n'}, {'number': 4, 'created': '2020-09-03 12:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/7b72f68956b4bcb33c1ee785e41f8c0616564c7f', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nChange-Id: I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7\nDepends-On: https://review.opendev.org/708069\n'}, {'number': 5, 'created': '2020-09-04 07:24:59.000000000', 'files': ['masakaridashboard/notifications/tabs.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/65b6d5a7af083402713ebc4a90dae4e27ed6b01d', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nChange-Id: I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7\nDepends-On: https://review.opendev.org/708069\n'}]",3,748165,65b6d5a7af083402713ebc4a90dae4e27ed6b01d,23,8,5,29313,,,0,"Cleanup for Refactor-error-messages

This patch is a clean-up patch for refactor-error-messages bp
which remove the exception message from base message otherwise
the same exception message display twice like
this https://ibb.co/XyFWMdz .

Change-Id: I7f569c39d9b39c81c5e7db61d499ce4192ad0bb7
Depends-On: https://review.opendev.org/708069
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/65/748165/1 && git format-patch -1 --stdout FETCH_HEAD,['masakaridashboard/notifications/tabs.py'],1,3adaa1d4600f9753fb9edcf8face8a0fab9d3019,bp/refactor-error-messages," except Exception: error_message = _(""Failed to get progress details for "" ""notification '%s'."")\ % notification.notification_uuid"," except Exception as e: error_message = _(""Failed to get progress details"" "" for notification '%(notification)', Reason: "" ""%(reason)"") % ( {'notification': notification.notification_uuid, 'reason': e}) ",4,6
openstack%2Fpython-tripleoclient~master~Ifa4a94a6958bc8f5d16d4016ba8d4a6e3ca6f647,openstack/python-tripleoclient,master,Ifa4a94a6958bc8f5d16d4016ba8d4a6e3ca6f647,Disable nova by default on undercloud,MERGED,2020-09-03 09:01:09.000000000,2020-09-07 11:07:52.000000000,2020-09-07 11:06:38.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-03 09:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70ca945b63d83177db34790d1e1c74932f900872', 'message': 'Disable nova by default on undercloud\n\nDepends-On: https://review.opendev.org/749678\nPartial-Bug: #1891242\nChange-Id: Ifa4a94a6958bc8f5d16d4016ba8d4a6e3ca6f647\n'}, {'number': 2, 'created': '2020-09-03 10:24:19.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30bc8b15b0bd57b24d31e029a1aa424be2debc34', 'message': 'Disable nova by default on undercloud\n\nDepends-On: https://review.opendev.org/749678\nPartial-Bug: #1891242\nChange-Id: Ifa4a94a6958bc8f5d16d4016ba8d4a6e3ca6f647\n'}]",0,749679,30bc8b15b0bd57b24d31e029a1aa424be2debc34,24,7,2,8833,,,0,"Disable nova by default on undercloud

Depends-On: https://review.opendev.org/749678
Partial-Bug: #1891242
Change-Id: Ifa4a94a6958bc8f5d16d4016ba8d4a6e3ca6f647
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/749679/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py']",2,70ca945b63d83177db34790d1e1c74932f900872,bug/1891242," if CONF.get('enable_nova'): tht_templates, 'environments/undercloud-enable-nova.yaml')"," if not CONF.get('enable_nova', True): tht_templates, 'environments/undercloud-disable-nova.yaml')",3,3
openstack%2Fneutron~master~I2a7d03addc54a05aa310c7b72e6f91a98bf79b65,openstack/neutron,master,I2a7d03addc54a05aa310c7b72e6f91a98bf79b65,Force ncat install for functional/fullstack jobs,MERGED,2020-06-08 21:28:10.000000000,2020-09-07 11:02:50.000000000,2020-09-07 11:01:26.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 21:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7943ce7eb8ce18a4869ac50693779c0b49ace4d4', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 2, 'created': '2020-06-16 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fede250b15f408612dec44692cd89ab71708877d', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 3, 'created': '2020-06-16 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6553d0a38bd43087f179732fab77eed582e1e624', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 4, 'created': '2020-06-22 12:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9db78ad8a41d7f7f19e101a90414dbc28a06cc65', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 5, 'created': '2020-06-23 09:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3073fb8907a02d90964d5022519bf70b4610aff4', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 6, 'created': '2020-07-08 08:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acf089d4240a56fbaf4bd963f8f5dca07ea36d77', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 7, 'created': '2020-07-15 12:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c7c30378168b71d633381882391190522919ac2', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 8, 'created': '2020-07-22 12:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26eebfb23410cf8f036d15656969ef0edb7a511b', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 9, 'created': '2020-07-29 15:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7e6fac2cd08ef95a89c7723f5d53a113c9b38c4', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 10, 'created': '2020-07-31 13:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32feed7096a214198db507f9b8c7b67a9753162a', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 11, 'created': '2020-08-03 15:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccbdea33c1af76f461e8c6e2aeedfd0820c16f83', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 12, 'created': '2020-08-03 20:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32fe9cf8eafac3e033a052dba2fdbeedb2de1813', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 13, 'created': '2020-08-04 10:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ae14221cab5dde74331b553063cba90a80a4bce', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 14, 'created': '2020-08-04 10:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c51a8c52b948364af33f220db29d1e18df182d6', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/704831\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 15, 'created': '2020-08-12 10:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07f9024a5a56d1c40fbb6cc1d00711b39b5a0d34', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 16, 'created': '2020-08-19 08:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fdd8a953bbc5e320e027f612fbf5033ecdd9410', 'message': 'Switch neutron functional/fullstack jobs to Ubuntu Focal\n\nSince the community will be migrating to Ubuntu Focal as a community\ngoal this cycle, get started by checking how well it works with the\nNeutron fullstack and functional jobs.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 17, 'created': '2020-08-19 08:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/837fe4df97e4a4c6894f68fd910aefa72bda9b6e', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 18, 'created': '2020-08-21 14:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff4b7f6a63f4dd364f4bce5d6e5d86217f3adb57', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 19, 'created': '2020-08-25 10:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1b4ce03dfc7512712e8bea83caf9af7641c16c4', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 20, 'created': '2020-08-26 12:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86c237d7f3a7f51970eb1f686f6ec940d1501725', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 21, 'created': '2020-08-26 14:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/524f590c123f0690b32262bcce285de051df7e4a', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nDepends-On: https://review.opendev.org/731207/\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 22, 'created': '2020-08-28 13:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a20163839fa49d7b8b2539c245c1e9b4238481de', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 23, 'created': '2020-08-28 13:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f091a837b51eb0cf84e4ae086744a81c46fadaf', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}, {'number': 24, 'created': '2020-08-28 16:00:51.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b64a9c177f30281dbe363c68d80fb4bfade9ff9e', 'message': 'Force ncat install for functional/fullstack jobs\n\nThis is not available by default in Ubuntu Focal which we are migrating\nto in this cycle as a community goal.\n\nChange-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65\n'}]",4,734304,b64a9c177f30281dbe363c68d80fb4bfade9ff9e,123,13,24,13995,,,0,"Force ncat install for functional/fullstack jobs

This is not available by default in Ubuntu Focal which we are migrating
to in this cycle as a community goal.

Change-Id: I2a7d03addc54a05aa310c7b72e6f91a98bf79b65
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/734304/15 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,7943ce7eb8ce18a4869ac50693779c0b49ace4d4,migrate-to-focal, nodeset: ubuntu-focal,,1,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Iea02a40639529ff9d80d3368f07ce81e6b1e911f,openstack/tripleo-ansible,stable/ussuri,Iea02a40639529ff9d80d3368f07ce81e6b1e911f,Add tripleo_diff_exec module,MERGED,2020-09-07 05:51:26.000000000,2020-09-07 10:55:49.000000000,2020-09-07 10:54:29.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-07 05:51:26.000000000', 'files': ['doc/source/modules/modules-tripleo_diff_exec.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6f892e47376fbdd026454454ef5929becccfe9b', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n(cherry picked from commit 5702b7ba3dd4b9be7ba05332ff6ff4ba9b43d06e)\n'}]",0,750122,a6f892e47376fbdd026454454ef5929becccfe9b,11,6,1,20172,,,0,"Add tripleo_diff_exec module

This module takes a file input and checks to see if it has changed since
the last time checked and runs a command if it has changed. The module
will take a copy of the file being checked to be used for subsequent
executions if the file has changed.

Change-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f
(cherry picked from commit 5702b7ba3dd4b9be7ba05332ff6ff4ba9b43d06e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/750122/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-tripleo_diff_exec.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py']",3,a6f892e47376fbdd026454454ef5929becccfe9b,pcs_host3-stable/ussuri,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tripleo_ansible.ansible_plugins.modules import tripleo_diff_exec from tripleo_ansible.tests import base as tests_base import mock class TestTripleoDiffExec(tests_base.TestCase): @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_first_run(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'environment': {'foo': 'bar'}, 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 0 mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=True) mock_run.assert_called_once_with( 'foo', shell=True, env={'foo': 'bar'}, stderr=-1, stdout=-1, universal_newlines=True) mock_copy2.assert_called_with('/tmp/foo', '/tmp/foo-previous') @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_no_change(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = True mock_cmp.return_value = True mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit tripleo_diff_exec.run(mock_module) self.assertEqual(mock_run.call_count, 0) self.assertEqual(mock_copy2.call_count, 0) mock_exit.assert_called_once_with(changed=False) @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_file_changed(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = True mock_cmp.return_value = False mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 0 mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_run.assert_called_once_with( 'foo', shell=True, env={}, stderr=-1, stdout=-1, universal_newlines=True) mock_copy2.assert_called_with('/tmp/foo', '/tmp/foo-previous') mock_exit.assert_called_once_with(changed=True) @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_missing_state(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = False mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=False, error='Missing state file', failed=True, msg=('State file does not exist: ' '/tmp/foo')) @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_exec_exception(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_run.side_effect = Exception('meh') tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=False, error=mock.ANY, failed=True, msg='Unhandled exception: meh') @mock.patch.dict('os.environ', dict(), clear=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_exec_failed(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 1 mock_return.stdout = 'out' mock_return.stderr = 'err' mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with( changed=False, error='Failed running command', failed=True, msg=('Error running foo. rc: 1, stdout: out, stderr: err')) ",,327,0
openstack%2Fpython-magnumclient~master~Ib98d55b46ec6190252d404a0baa7d353d4628400,openstack/python-magnumclient,master,Ib98d55b46ec6190252d404a0baa7d353d4628400,Migrate testing to Ubuntu Focal,MERGED,2020-09-06 11:50:28.000000000,2020-09-07 10:21:30.000000000,2020-09-07 10:20:09.000000000,"[{'_account_id': 6484}, {'_account_id': 8556}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-06 11:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/96da20ca22cf5b8adbde94adcea083c4682e0789', 'message': 'Migrate testing to Ubuntu Focal\n\nAs per victoria cycle testing runtime and community goal,\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump lower constraints to make testing work for Focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Ib98d55b46ec6190252d404a0baa7d353d4628400\nStory: #2007865\nTask: #402190\n'}, {'number': 2, 'created': '2020-09-06 12:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/596c5040621022f3467ab2cd1e01b23e64228d96', 'message': 'Migrate testing to Ubuntu Focal\n\nAs per victoria cycle testing runtime and community goal,\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump lower constraints to make testing work for Focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Ib98d55b46ec6190252d404a0baa7d353d4628400\nStory: #2007865\nTask: #402190\n'}, {'number': 3, 'created': '2020-09-06 12:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/ee05fb909df33fc584a499730b90961d642be9ac', 'message': 'Migrate testing to Ubuntu Focal\n\nAs per victoria cycle testing runtime and community goal,\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump lower constraints to make testing work for Focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Ib98d55b46ec6190252d404a0baa7d353d4628400\nStory: #2007865\nTask: #402190\n'}, {'number': 4, 'created': '2020-09-06 14:13:03.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/1b707a7e408370ce328190a0996bf381761e89d2', 'message': 'Migrate testing to Ubuntu Focal\n\nAs per victoria cycle testing runtime and community goal,\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump lower constraints to make testing work for Focal.\n\nChange-Id: Ib98d55b46ec6190252d404a0baa7d353d4628400\nStory: #2007865\nTask: #402190\n'}]",0,750095,1b707a7e408370ce328190a0996bf381761e89d2,18,5,4,30618,,,0,"Migrate testing to Ubuntu Focal

As per victoria cycle testing runtime and community goal,
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Bump lower constraints to make testing work for Focal.

Change-Id: Ib98d55b46ec6190252d404a0baa7d353d4628400
Story: #2007865
Task: #402190
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/95/750095/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,96da20ca22cf5b8adbde94adcea083c4682e0789,migrate-to-focal,cffi==1.14greenlet==0.4.15,cffi==1.7.0greenlet==0.4.10,2,2
openstack%2Fhorizon~stable%2Fussuri~Ie550beddf54e5bc43c34046bb18970638d10f303,openstack/horizon,stable/ussuri,Ie550beddf54e5bc43c34046bb18970638d10f303,Update geckodriver version to v0.27.0.,MERGED,2020-09-01 11:54:16.000000000,2020-09-07 10:13:05.000000000,2020-09-07 10:11:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 4264}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-01 11:54:16.000000000', 'files': ['roles/setup-selenium-tests/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8669095d0313c004c8d9d4945d28b3adb65b3e08', 'message': 'Update geckodriver version to v0.27.0.\n\nThis patch updates geckodriver version to v0.27.0\nfrom v0.23.0 to fix horizon-integration job.\nFo more info. please refer [1].\n\n[1] https://github.com/mozilla/geckodriver/issues/1771\n\nChange-Id: Ie550beddf54e5bc43c34046bb18970638d10f303\n(cherry picked from commit 16c74ad62fd94906d9f4453493227accd134717f)\n'}]",0,749249,8669095d0313c004c8d9d4945d28b3adb65b3e08,12,8,1,29313,,,0,"Update geckodriver version to v0.27.0.

This patch updates geckodriver version to v0.27.0
from v0.23.0 to fix horizon-integration job.
Fo more info. please refer [1].

[1] https://github.com/mozilla/geckodriver/issues/1771

Change-Id: Ie550beddf54e5bc43c34046bb18970638d10f303
(cherry picked from commit 16c74ad62fd94906d9f4453493227accd134717f)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/49/749249/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/setup-selenium-tests/defaults/main.yaml'],1,8669095d0313c004c8d9d4945d28b3adb65b3e08,,"geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.27.0/geckodriver-v0.27.0-linux64.tar.gz""","geckodriver_url: ""https://github.com/mozilla/geckodriver/releases/download/v0.23.0/geckodriver-v0.23.0-linux64.tar.gz""",1,1
openstack%2Fvitrage~master~I52df6f16e73cb87f5af9c15af25de3afa2b5dafd,openstack/vitrage,master,I52df6f16e73cb87f5af9c15af25de3afa2b5dafd,add info to kapacitor datasource state,MERGED,2020-09-07 00:56:43.000000000,2020-09-07 10:12:29.000000000,2020-09-07 10:11:20.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-07 00:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5e89794497ea051b2c45f6c34f79d7641e022ca4', 'message': 'add into to kapacitor datasource state\n\nConsidering the low level of info, so it is placed in the OK state for now.\n\nChange-Id: I52df6f16e73cb87f5af9c15af25de3afa2b5dafd\n'}, {'number': 2, 'created': '2020-09-07 00:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ccc15b6b8228e250d172e6d3b13520a66266c531', 'message': 'add into to kapacitor datasource state\n\nConsidering the low level of info, it is placed in the OK state for now.\n\nChange-Id: I52df6f16e73cb87f5af9c15af25de3afa2b5dafd\n'}, {'number': 3, 'created': '2020-09-07 01:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/63da56a8fc4ab3dbe2188c61ced032fc9ca36fc8', 'message': 'add into to kapacitor datasource state\n\nAlthough info is a very low level, it should still\ncorrespond to the warning state.\n\nChange-Id: I52df6f16e73cb87f5af9c15af25de3afa2b5dafd\n'}, {'number': 4, 'created': '2020-09-07 01:47:30.000000000', 'files': ['etc/vitrage/datasources_values/kapacitor.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c0511ee83453987ebf925ca8029301502a52065a', 'message': 'add info to kapacitor datasource state\n\nAlthough info is a very low level, it should still\ncorrespond to the warning state.\n\nChange-Id: I52df6f16e73cb87f5af9c15af25de3afa2b5dafd\n'}]",0,750114,c0511ee83453987ebf925ca8029301502a52065a,10,2,4,30408,,,0,"add info to kapacitor datasource state

Although info is a very low level, it should still
correspond to the warning state.

Change-Id: I52df6f16e73cb87f5af9c15af25de3afa2b5dafd
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/14/750114/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/vitrage/datasources_values/kapacitor.yaml'],1,5e89794497ea051b2c45f6c34f79d7641e022ca4,kapacitor, - name: INFO operational_value: OK,,2,1
openstack%2Fkolla~master~I591d95731ea5d4e5ae736a756ae895c8e643a309,openstack/kolla,master,I591d95731ea5d4e5ae736a756ae895c8e643a309,WIP: Fix bifrost build,ABANDONED,2020-09-07 09:23:58.000000000,2020-09-07 10:11:18.000000000,,[],"[{'number': 1, 'created': '2020-09-07 09:23:58.000000000', 'files': ['kolla/image/build.py', 'docker/bifrost/bifrost-base/build_arg.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dcb211e125d6bad7505bbf7cd28a6a04a4c9349d', 'message': 'WIP: Fix bifrost build\n\nChange-Id: I591d95731ea5d4e5ae736a756ae895c8e643a309\n'}]",0,750141,dcb211e125d6bad7505bbf7cd28a6a04a4c9349d,2,0,1,22629,,,0,"WIP: Fix bifrost build

Change-Id: I591d95731ea5d4e5ae736a756ae895c8e643a309
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/750141/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/bifrost/bifrost-base/build_arg.yml']",2,dcb211e125d6bad7505bbf7cd28a6a04a4c9349d,fix_bifrost,skip_validations: true,,1,4
openstack%2Fbifrost~master~I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1,openstack/bifrost,master,I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1,Create our own firewalld zone and use it on real bare metal,MERGED,2020-09-01 13:33:11.000000000,2020-09-07 10:06:44.000000000,2020-09-03 14:50:54.000000000,"[{'_account_id': 4428}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-01 13:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/90a465746d54750011891a3e01c74c57d6d822b8', 'message': ""Create our own firewalld zone and use it on real bare metal\n\nModifying the public zone is questionable, let's use our own zone.\nAlso let's make sure network_interface actually belongs to it.\n\nChange-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1\n""}, {'number': 2, 'created': '2020-09-02 08:39:51.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/setup_firewalld.yml', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/firewalld-zone-d8c72fb5924a4916.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/710e0db06885b13b398d6fe209893cc732a43d41', 'message': ""Create our own firewalld zone and use it on real bare metal\n\nModifying the public zone is questionable, let's use our own zone.\nAlso let's make sure network_interface actually belongs to it.\n\nChange-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1\n""}]",7,749285,710e0db06885b13b398d6fe209893cc732a43d41,17,6,2,10239,,,0,"Create our own firewalld zone and use it on real bare metal

Modifying the public zone is questionable, let's use our own zone.
Also let's make sure network_interface actually belongs to it.

Change-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/85/749285/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/firewalld-zone-d8c72fb5924a4916.yaml']",4,90a465746d54750011891a3e01c74c57d6d822b8,firewalld,"--- fixes: - | Instead of modifying the ``public`` firewalld zone, creates a new zone ``bifrost`` and puts the ``network_interface`` in it. Set ``firewalld_internal_zone=public`` to revert to the previous behavior. upgrade: - | Bifrost no longer adds ironic and ironic-inspector endpoints to the public firewalld zone, the operator has to do it explicitly if external access is expected. ",,60,23
openstack%2Fbifrost~stable%2Fussuri~I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1,openstack/bifrost,stable/ussuri,I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1,Create our own firewalld zone and use it on real bare metal,MERGED,2020-09-03 15:08:17.000000000,2020-09-07 10:05:13.000000000,2020-09-04 09:02:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-03 15:08:17.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/setup_firewalld.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/firewalld-zone-d8c72fb5924a4916.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/924534a8606c45c708aaa8d92ef386f6760c5c66', 'message': ""Create our own firewalld zone and use it on real bare metal\n\nModifying the public zone is questionable, let's use our own zone.\nAlso let's make sure network_interface actually belongs to it.\n\nConflicts:\n\tdoc/source/install/index.rst\n\tplaybooks/roles/bifrost-ironic-install/defaults/main.yml\n\tplaybooks/roles/bifrost-ironic-install/tasks/bootstrap.yml\n\nChange-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1\n(cherry picked from commit 710e0db06885b13b398d6fe209893cc732a43d41)\n""}]",1,749760,924534a8606c45c708aaa8d92ef386f6760c5c66,8,2,1,10239,,,0,"Create our own firewalld zone and use it on real bare metal

Modifying the public zone is questionable, let's use our own zone.
Also let's make sure network_interface actually belongs to it.

Conflicts:
	doc/source/install/index.rst
	playbooks/roles/bifrost-ironic-install/defaults/main.yml
	playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml

Change-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1
(cherry picked from commit 710e0db06885b13b398d6fe209893cc732a43d41)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/60/749760/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/setup_firewalld.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/firewalld-zone-d8c72fb5924a4916.yaml']",6,924534a8606c45c708aaa8d92ef386f6760c5c66,,"--- fixes: - | Instead of modifying the ``public`` firewalld zone, creates a new zone ``bifrost`` and puts the ``network_interface`` in it. Set ``firewalld_internal_zone=public`` to revert to the previous behavior. upgrade: - | Bifrost no longer adds ironic and ironic-inspector endpoints to the public firewalld zone, the operator has to do it explicitly if external access is expected. ",,72,20
openstack%2Fopenstack-ansible~master~Ice1b023ed181b820c2cced730c0056c2a7afa00e,openstack/openstack-ansible,master,Ice1b023ed181b820c2cced730c0056c2a7afa00e,Bump SHAs for master,MERGED,2020-09-06 16:03:55.000000000,2020-09-07 09:38:19.000000000,2020-09-07 09:36:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-09-06 16:03:55.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/28e71610c8c411c67c65835a33fb61b79e0d9012', 'message': 'Bump SHAs for master\n\nChange-Id: Ice1b023ed181b820c2cced730c0056c2a7afa00e\n'}]",0,750105,28e71610c8c411c67c65835a33fb61b79e0d9012,8,3,1,28619,,,0,"Bump SHAs for master

Change-Id: Ice1b023ed181b820c2cced730c0056c2a7afa00e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/750105/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,28e71610c8c411c67c65835a33fb61b79e0d9012,bump_osa,tempest_git_install_branch: accd1e0d0c1b7448ff10b2d1df1a83677fe4de59 # HEAD as of 06.09.2020,tempest_git_install_branch: 4792d42d41116978e77c67c2346ba211b1eca729 # HEAD as of 23.08.2020,51,51
openstack%2Fkolla~master~I3d9547237ffa3ee02c306376f0e553fce5472e57,openstack/kolla,master,I3d9547237ffa3ee02c306376f0e553fce5472e57,Replace cradox with rados,MERGED,2020-09-03 06:56:35.000000000,2020-09-07 09:20:29.000000000,2020-09-07 08:57:10.000000000,"[{'_account_id': 4264}, {'_account_id': 6924}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-03 06:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6195b3d9ed53b748cad5a138947a3b3a0475b6c5', 'message': 'Replace cradox with rados\n\nGnocchi supports both, but cradox is not actively maintained.\n\nChange-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57\n'}, {'number': 2, 'created': '2020-09-06 09:04:14.000000000', 'files': ['docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/934d0b21f8f709f44f795b6629ddf8cfd65f7be8', 'message': 'Replace cradox with rados\n\nGnocchi supports both, but cradox is not actively maintained.\n\nChange-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57\n'}]",0,749655,934d0b21f8f709f44f795b6629ddf8cfd65f7be8,29,6,2,4264,,,0,"Replace cradox with rados

Gnocchi supports both, but cradox is not actively maintained.

Change-Id: I3d9547237ffa3ee02c306376f0e553fce5472e57
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/749655/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/gnocchi/gnocchi-base/Dockerfile.j2'],1,6195b3d9ed53b748cad5a138947a3b3a0475b6c5,cradox," 'python3-rados',"," 'python3-cradox',",1,1
openstack%2Ftempest~master~I1469ad5a34bac75203b2eb063326eded096706a5,openstack/tempest,master,I1469ad5a34bac75203b2eb063326eded096706a5,Adding description for testcases - compute part6,MERGED,2020-08-10 08:39:30.000000000,2020-09-07 09:17:57.000000000,2020-09-07 09:16:32.000000000,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-10 08:39:30.000000000', 'files': ['tempest/api/compute/admin/test_flavors_access_negative.py', 'tempest/api/compute/admin/test_servers.py', 'tempest/api/compute/images/test_image_metadata_negative.py', 'tempest/api/compute/admin/test_server_diagnostics_negative.py', 'tempest/api/compute/test_quotas.py', 'tempest/api/compute/admin/test_agents.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/compute/admin/test_servers_negative.py', 'tempest/api/compute/admin/test_live_migration_negative.py', 'tempest/api/compute/admin/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e726a6691d80cc59f50d01564245e66c42882e9', 'message': 'Adding description for testcases - compute part6\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I1469ad5a34bac75203b2eb063326eded096706a5\npartially-implements: blueprint testcase-description\n'}]",0,745499,4e726a6691d80cc59f50d01564245e66c42882e9,13,5,1,20190,,,0,"Adding description for testcases - compute part6

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I1469ad5a34bac75203b2eb063326eded096706a5
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/745499/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_flavors_access_negative.py', 'tempest/api/compute/admin/test_servers.py', 'tempest/api/compute/images/test_image_metadata_negative.py', 'tempest/api/compute/admin/test_server_diagnostics_negative.py', 'tempest/api/compute/test_quotas.py', 'tempest/api/compute/admin/test_agents.py', 'tempest/api/compute/images/test_image_metadata.py', 'tempest/api/compute/admin/test_servers_negative.py', 'tempest/api/compute/admin/test_live_migration_negative.py', 'tempest/api/compute/admin/test_quotas.py']",10,4e726a6691d80cc59f50d01564245e66c42882e9,bp/testcase-description," """"""Test compute quotas by admin user"""""" """"""Test admin can get the default compute quota set for a project"""""" """"""Test admin can update all the compute quota limits for a project"""""" """"""Test that GET shows the updated quota set of project"""""" """"""Test admin can delete the compute quota set for a project"""""" """"""Test compute quotas with microversion greater than 2.35 """""" min_microversion = '2.36' """"""Test compute quotas API with microversion greater than 2.35 Checking compute quota update, get, get details APIs response schema. """""" """"""Test compute quotas with microversion greater than 2.56 """""" min_microversion = '2.57' """"""Test compute quotas API with microversion greater than 2.56 Checking compute quota update, get, get details APIs response schema. """""" """"""Test updating default compute quota class set"""""""," # Admin can get the default resource quota set for a tenant # Admin can update all the resource quota limits for a tenant # Admin can delete the resource quota set for a project min_microversion = '2.36' # Checking Quota update, get, get details APIs response schema min_microversion = '2.57' # Checking Quota update, get, get details APIs response schema",118,47
openstack%2Fcharm-trilio-wlm~master~I98cf28305acdccc4cd177e71d5304c3df85d573c,openstack/charm-trilio-wlm,master,I98cf28305acdccc4cd177e71d5304c3df85d573c,DNM testing only,ABANDONED,2020-09-03 10:06:22.000000000,2020-09-07 09:11:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 10:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/14442708d3d4e2f30290b1ae3a54170a8e82daa8', 'message': 'DNM testing only\n\nChange-Id: I98cf28305acdccc4cd177e71d5304c3df85d573c\n'}, {'number': 2, 'created': '2020-09-03 11:32:16.000000000', 'files': ['rebuild', 'src/tests/bundles/bionic-train-ssl.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/73f83c9fe7a5db7fcaed1db600912d309a2effe9', 'message': 'DNM testing only\n\nChange-Id: I98cf28305acdccc4cd177e71d5304c3df85d573c\n'}]",0,749699,73f83c9fe7a5db7fcaed1db600912d309a2effe9,7,2,2,935,,,0,"DNM testing only

Change-Id: I98cf28305acdccc4cd177e71d5304c3df85d573c
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/99/749699/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,14442708d3d4e2f30290b1ae3a54170a8e82daa8,dnm,test,,1,0
openstack%2Fopenstack-ansible-os_glance~master~I48edcc48549e811aa96091f8ce838659d250ae04,openstack/openstack-ansible-os_glance,master,I48edcc48549e811aa96091f8ce838659d250ae04,Fix native service path,MERGED,2020-09-04 09:12:23.000000000,2020-09-07 08:57:47.000000000,2020-09-07 08:51:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-09-04 09:12:23.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/512f5736ebdf917f4756c998acf028ac0b80ee8b', 'message': 'Fix native service path\n\nWhen glance_use_uwsgi is set to false, glance is launched with native\nservice instead of the uwsgi. For that scenario, execstarts key is used\nwhich had wrongly defaulted config-file location.\nEventually, providing this option is not required and we may rely on defaults\n\nChange-Id: I48edcc48549e811aa96091f8ce838659d250ae04\n'}]",0,749907,512f5736ebdf917f4756c998acf028ac0b80ee8b,11,3,1,28619,,,0,"Fix native service path

When glance_use_uwsgi is set to false, glance is launched with native
service instead of the uwsgi. For that scenario, execstarts key is used
which had wrongly defaulted config-file location.
Eventually, providing this option is not required and we may rely on defaults

Change-Id: I48edcc48549e811aa96091f8ce838659d250ae04
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/07/749907/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,512f5736ebdf917f4756c998acf028ac0b80ee8b,," execstarts: ""{{ glance_bin }}/glance-api"""," execstarts: ""{{ glance_bin }}/glance-api --config-file /etc/glance/glance.conf""",1,1
openstack%2Fkuryr-kubernetes~master~I5b3b4b36ae0c2fca7c16153f75c62607efbc3ce4,openstack/kuryr-kubernetes,master,I5b3b4b36ae0c2fca7c16153f75c62607efbc3ce4,Catch exceptions for deleted pod.,MERGED,2020-09-04 10:45:10.000000000,2020-09-07 08:35:05.000000000,2020-09-07 08:33:33.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-09-04 10:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/180ebef73314f0cc0d1be7f1e501aa4117569f50', 'message': 'Catch exceptions for deleted pod.\n\nIt might happen, that during adding and instantly removing pod, vif\nhandler will not be able to set the finalizer for such object, resulting\nin error. In this patch we prevent for such case.\n\nCloses-Bug: 1894212\nChange-Id: I5b3b4b36ae0c2fca7c16153f75c62607efbc3ce4\n'}, {'number': 2, 'created': '2020-09-04 12:02:37.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f2e3ffb585a8c98f6994373dc66cac1c549ae659', 'message': 'Catch exceptions for deleted pod.\n\nIt might happen, that during adding and instantly removing pod, vif\nhandler will not be able to set the finalizer for such object, resulting\nin error. In this patch we prevent for such case.\n\nCloses-Bug: 1894212\nChange-Id: I5b3b4b36ae0c2fca7c16153f75c62607efbc3ce4\n'}]",5,749921,f2e3ffb585a8c98f6994373dc66cac1c549ae659,13,6,2,13692,,,0,"Catch exceptions for deleted pod.

It might happen, that during adding and instantly removing pod, vif
handler will not be able to set the finalizer for such object, resulting
in error. In this patch we prevent for such case.

Closes-Bug: 1894212
Change-Id: I5b3b4b36ae0c2fca7c16153f75c62607efbc3ce4
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/21/749921/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py']",2,180ebef73314f0cc0d1be7f1e501aa4117569f50,fix-forbidden-adding-finalizer," try: k8s.add_finalizer(pod, constants.POD_FINALIZER) except k_exc.K8sClientException as ex: # NOTE(gryf) It might happen, that pod will be deleted even before # we got here. LOG.error('Failed to add finalizer to pod object: %s', ex) return"," k8s.add_finalizer(pod, constants.POD_FINALIZER)",21,1
openstack%2Fpuppet-tripleo~master~I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29,openstack/puppet-tripleo,master,I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29,DNM: Add unit tests for the parent patch,ABANDONED,2020-09-05 13:30:38.000000000,2020-09-07 08:06:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-09-05 13:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/84a16d0b1e04721b98457d40d0e4c9c62314ac68', 'message': 'DNM: Add unit tests for the parent patch\n\nChange-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29\n'}, {'number': 2, 'created': '2020-09-05 13:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8095774b2ca2f51439c0dbe22ad6d2b17d8007c5', 'message': 'DNM: Add unit tests for the parent patch\n\nChange-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29\n'}, {'number': 3, 'created': '2020-09-05 14:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e09d3331b710f12ae0901a43f7925211d0d5e125', 'message': 'DNM: Add unit tests for the parent patch\n\nChange-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29\n'}, {'number': 4, 'created': '2020-09-05 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9a28900027ee7eb20229c1bdcdd5f02fbd5526f4', 'message': 'DNM: Add unit tests for the parent patch\n\nChange-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29\n'}, {'number': 5, 'created': '2020-09-05 15:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/47639b52d5d0b7fc6bf3311400c85a1478452283', 'message': 'DNM: Add unit tests for the parent patch\n\nChange-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29\n'}, {'number': 6, 'created': '2020-09-06 01:52:49.000000000', 'files': ['spec/classes/tripleo_profile_base_memcached_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe1fe73c4786a2edbbf59bc30e3183dd49465adb', 'message': 'DNM: Add unit tests for the parent patch\n\nChange-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29\n'}]",0,750073,fe1fe73c4786a2edbbf59bc30e3183dd49465adb,14,3,6,9816,,,0,"DNM: Add unit tests for the parent patch

Change-Id: I78b3b6c98a1a8408b9987f1b6ab416cddf03cb29
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/750073/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_memcached_spec.rb'],1,84a16d0b1e04721b98457d40d0e4c9c62314ac68,memcached-cert," :use_tls => false :tls_cert_chain => nil :tls_key => nil ) } end context 'with step 1 and tls enabled' do let(:params) { { :step => 1, :enable_internal_memcached_tls => true, :certificate_spces => { :service_certificate => '/etc/pki/cert.crt', :service_key => '/etc/pki/key.pem'} } } it { is_expected.to contain_class('tripleo::profile::base::memcached') is_expected.to contain_class('memcached') :use_tls => true :tls_cert_chain => '/path/to/cert' :tls_key => '/path/to/key' )",,23,0
openstack%2Fkolla~stable%2Focata~I8e02c1c5d850242d49c994a1b73b1b4757d352ff,openstack/kolla,stable/ocata,I8e02c1c5d850242d49c994a1b73b1b4757d352ff,[CI] Stop Ocata periodic jobs,MERGED,2020-09-07 07:27:52.000000000,2020-09-07 07:35:08.000000000,2020-09-07 07:35:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-07 07:27:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/624472a91855df95c7a94a470bf412c11b50edc7', 'message': '[CI] Stop Ocata periodic jobs\n\nJust remove project config.\nKolla Ocata is now long EOL.\n\nChange-Id: I8e02c1c5d850242d49c994a1b73b1b4757d352ff\n'}]",0,750129,624472a91855df95c7a94a470bf412c11b50edc7,7,3,1,30491,,,0,"[CI] Stop Ocata periodic jobs

Just remove project config.
Kolla Ocata is now long EOL.

Change-Id: I8e02c1c5d850242d49c994a1b73b1b4757d352ff
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/750129/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,624472a91855df95c7a94a470bf412c11b50edc7,ci-stop-ocata, - noop-jobs, - openstack-python-jobs - openstack-python35-jobs - check-requirements - publish-openstack-sphinx-docs - release-notes-jobs - periodic-stable-jobs name: openstack/kolla check: jobs: - kolla-build-centos-binary - kolla-build-centos-source - kolla-build-ubuntu-binary - kolla-build-ubuntu-source - kolla-build-oraclelinux-binary - kolla-build-oraclelinux-source - kolla-ansible-centos-source: required-projects: - openstack/kolla-ansible - openstack/requirements - kolla-ansible-centos-binary: required-projects: - openstack/kolla-ansible - openstack/requirements - kolla-ansible-ubuntu-source: required-projects: - openstack/kolla-ansible - openstack/requirements - kolla-ansible-ubuntu-binary: required-projects: - openstack/kolla-ansible - openstack/requirements - kolla-ansible-oraclelinux-source: required-projects: - openstack/kolla-ansible - openstack/requirements - kolla-ansible-oraclelinux-binary: required-projects: - openstack/kolla-ansible - openstack/requirements gate: jobs: - kolla-build-centos-source - kolla-build-ubuntu-source - kolla-build-oraclelinux-source,1,44
openstack%2Fcharm-ceph-proxy~master~I357b26fb585d68d2fbe9bbf21bbf9bfc52ac5050,openstack/charm-ceph-proxy,master,I357b26fb585d68d2fbe9bbf21bbf9bfc52ac5050,Ensure that the actions use the configured admin user,MERGED,2020-09-04 14:58:27.000000000,2020-09-07 07:06:04.000000000,2020-09-07 07:06:04.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 14:58:27.000000000', 'files': ['actions/create-cache-tier', 'actions/list-erasure-profiles', 'actions/delete-erasure-profile', 'actions/list-pools', 'actions/pool-get', 'actions/set-pool-max-bytes', 'actions/remove-pool-snapshot', 'actions/snapshot-pool', 'actions/rename-pool', 'actions/pool-statistics', 'actions/get-erasure-profile', 'actions/create-cache-tier.py', 'actions/create-pool', 'actions/pool-set', 'actions/create-erasure-profile', 'actions/remove-cache-tier.py', 'actions/remove-cache-tier'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/7359b981d6cc1d44a1b9b28ce9e61dc250a3705e', 'message': 'Ensure that the actions use the configured admin user\n\nChange-Id: I357b26fb585d68d2fbe9bbf21bbf9bfc52ac5050\nCloses-Bug: #1893790\n'}]",0,749982,7359b981d6cc1d44a1b9b28ce9e61dc250a3705e,7,3,1,20634,,,0,"Ensure that the actions use the configured admin user

Change-Id: I357b26fb585d68d2fbe9bbf21bbf9bfc52ac5050
Closes-Bug: #1893790
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/82/749982/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/create-cache-tier', 'actions/list-erasure-profiles', 'actions/delete-erasure-profile', 'actions/list-pools', 'actions/pool-get', 'actions/set-pool-max-bytes', 'actions/remove-pool-snapshot', 'actions/snapshot-pool', 'actions/rename-pool', 'actions/pool-statistics', 'actions/get-erasure-profile', 'actions/create-cache-tier.py', 'actions/create-pool', 'actions/pool-set', 'actions/create-erasure-profile', 'actions/remove-cache-tier.py', 'actions/remove-cache-tier']",17,7359b981d6cc1d44a1b9b28ce9e61dc250a3705e,bug/1893790,"from charmhelpers.core.hookenv import action_get, config, log, action_fail user = config('admin-user') if not pool_exists(user, backer_pool): if not pool_exists(user, cache_pool): pool = Pool(service=user, name=backer_pool)","from charmhelpers.core.hookenv import action_get, log, action_fail if not pool_exists('admin', backer_pool): if not pool_exists('admin', cache_pool): pool = Pool(service='admin', name=backer_pool)",52,49
openstack%2Fmagnum~master~I362cea7bf57825035d13d234d0181a2b1fca5743,openstack/magnum,master,I362cea7bf57825035d13d234d0181a2b1fca5743,Stop using delete_on_termination for BFV instances,MERGED,2020-08-27 00:53:08.000000000,2020-09-07 06:40:49.000000000,2020-09-07 06:36:01.000000000,"[{'_account_id': 1004}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-27 00:53:08.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f', 'message': ""Stop using delete_on_termination for BFV instances\n\nWhen using delete_on_termination and the booting of the instance fails\non the first attempt, the second attempt will fail with Heat.  The\nreason is that with delete_on_termination set to True, Nova will delete\nthe volume when Heat deletes the ERROR'd instance and it will then\nresult in the follow-up boot to fail with an error along the line of\nunable to find volume, which masks the real failure from the user (which\ncould potentialy be aquota issue).\n\nWith this patch, we no longer set this and instead use the default of\nfalse.  This will not mean we will leak volumes because when we delete\nthe stack, Heat will do all the right things and delete them in order,\nmaking sure the volume disappears eventually.\n\nChange-Id: I362cea7bf57825035d13d234d0181a2b1fca5743\n""}]",0,748332,2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f,10,5,1,1004,,,0,"Stop using delete_on_termination for BFV instances

When using delete_on_termination and the booting of the instance fails
on the first attempt, the second attempt will fail with Heat.  The
reason is that with delete_on_termination set to True, Nova will delete
the volume when Heat deletes the ERROR'd instance and it will then
result in the follow-up boot to fail with an error along the line of
unable to find volume, which masks the real failure from the user (which
could potentialy be aquota issue).

With this patch, we no longer set this and instead use the default of
false.  This will not mean we will leak volumes because when we delete
the stack, Heat will do all the right things and delete them in order,
making sure the volume disappears eventually.

Change-Id: I362cea7bf57825035d13d234d0181a2b1fca5743
",git fetch https://review.opendev.org/openstack/magnum refs/changes/32/748332/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",4,2c63aca8c6afbcc2e32a09cc7f3ad2f18265698f,fix-delete-on-terminate,, delete_on_termination: true,0,4
openstack%2Fmagnum~master~I455ed0106dd257acbde58af408de0bf6e6abe7d3,openstack/magnum,master,I455ed0106dd257acbde58af408de0bf6e6abe7d3,Fix syntax error in default rolesync configmap,MERGED,2020-08-31 05:09:24.000000000,2020-09-07 06:38:21.000000000,2020-09-07 06:36:00.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30447}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-31 05:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f24b6a8dc64bc20993c7da6145b370cc8b08fa98', 'message': 'Fix syntax error in default rolesync configmap\n\nChange-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3\n'}, {'number': 2, 'created': '2020-08-31 09:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d903aa30a8b3a0d241644bd0e57bff3649ebaad', 'message': 'Fix syntax error in default rolesync configmap\n\nChange-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3\n'}, {'number': 3, 'created': '2020-08-31 09:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/83ea0e4c03953da730710d8a3538d7c8d40482a0', 'message': 'Fix syntax error in default rolesync configmap\n\nChange-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3\n'}, {'number': 4, 'created': '2020-08-31 10:22:36.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f3e88ddba706c406579b91c837c7eb7ceb5dc841', 'message': 'Fix syntax error in default rolesync configmap\n\nChange-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3\n'}]",0,748951,f3e88ddba706c406579b91c837c7eb7ceb5dc841,22,6,4,30447,,,0,"Fix syntax error in default rolesync configmap

Change-Id: I455ed0106dd257acbde58af408de0bf6e6abe7d3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/748951/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'doc/source/user/k8s-keystone-authN-authZ.rst']",2,f24b6a8dc64bc20993c7da6145b370cc8b08fa98,fix/default-role-sync-configmap, name: keystone-sync-policy namespace: kube-system data: syncConfig: |, name: keystone-sync-policy namespace: kube-system data: syncConfig: |,5,5
openstack%2Ftripleo-ansible~master~Iea02a40639529ff9d80d3368f07ce81e6b1e911f,openstack/tripleo-ansible,master,Iea02a40639529ff9d80d3368f07ce81e6b1e911f,Add tripleo_diff_exec module,MERGED,2020-08-26 20:44:29.000000000,2020-09-07 05:51:26.000000000,2020-08-28 12:48:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 20:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9fe32f33ac14802e9268d4a92ccd42f5e250df5e', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 2, 'created': '2020-08-26 21:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09d6e9529625cbe35e7c289a12b9d00ec018d663', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 3, 'created': '2020-08-26 21:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ce99e29fe7edd3364c83eb1c7b343c9262f8317', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 4, 'created': '2020-08-27 09:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2e5c11f6e294e7828a6abb559d4a68872b1314e', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 5, 'created': '2020-08-27 10:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff14e2a9d93c5e4fc26631f37aaf59b39786e8fc', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 6, 'created': '2020-08-27 10:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18c72c5bc437b7df31cc9a176426775d3ec44058', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 7, 'created': '2020-08-27 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/576a19f37dca6fd599090cf44b3ad87b0d1c84e9', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 8, 'created': '2020-08-27 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/619d58153d8e5f1b229106da52087b1f4293a789', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 9, 'created': '2020-08-27 16:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37d5fe7c3be2abb2d39a4f45a12faa0b434336dd', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}, {'number': 10, 'created': '2020-08-27 16:07:54.000000000', 'files': ['doc/source/modules/modules-tripleo_diff_exec.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5702b7ba3dd4b9be7ba05332ff6ff4ba9b43d06e', 'message': 'Add tripleo_diff_exec module\n\nThis module takes a file input and checks to see if it has changed since\nthe last time checked and runs a command if it has changed. The module\nwill take a copy of the file being checked to be used for subsequent\nexecutions if the file has changed.\n\nChange-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f\n'}]",11,748308,5702b7ba3dd4b9be7ba05332ff6ff4ba9b43d06e,48,7,10,14985,,,0,"Add tripleo_diff_exec module

This module takes a file input and checks to see if it has changed since
the last time checked and runs a command if it has changed. The module
will take a copy of the file being checked to be used for subsequent
executions if the file has changed.

Change-Id: Iea02a40639529ff9d80d3368f07ce81e6b1e911f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/748308/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_diff_exec.py', 'tripleo_ansible/tests/modules/test_tripleo_diff_exec.py']",2,9fe32f33ac14802e9268d4a92ccd42f5e250df5e,pcs_host3,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tripleo_ansible.ansible_plugins.modules import tripleo_diff_exec from tripleo_ansible.tests import base as tests_base import mock class TestTripleoDiffExec(tests_base.TestCase): @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_first_run(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 0 mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_run.assert_called_once_with( 'foo', shell=True, stderr=-1, stdout=-1) mock_copy2.assert_called_with('/tmp/foo', '/tmp/foo-previous') mock_exit.assert_called_once_with(changed=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_no_change(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = True mock_cmp.return_value = True mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit tripleo_diff_exec.run(mock_module) self.assertEqual(mock_run.call_count, 0) self.assertEqual(mock_copy2.call_count, 0) mock_exit.assert_called_once_with(changed=False) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_file_changed(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = True mock_cmp.return_value = False mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_return = mock.MagicMock() mock_return.returncode = 0 mock_run.return_value = mock_return tripleo_diff_exec.run(mock_module) mock_run.assert_called_once_with( 'foo', shell=True, stderr=-1, stdout=-1) mock_copy2.assert_called_with('/tmp/foo', '/tmp/foo-previous') mock_exit.assert_called_once_with(changed=True) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_missing_state(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.return_value = False mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=False, error='Missing state file', failed=True, msg=('State file does not exist: ' '/tmp/foo')) @mock.patch('shutil.copy2') @mock.patch('subprocess.run') @mock.patch('filecmp.cmp') @mock.patch('os.path.exists') def test_exec_failed(self, mock_exists, mock_cmp, mock_run, mock_copy2): mock_module = mock.MagicMock() mock_module.params = { 'command': 'foo', 'return_codes': [0], 'state_file': '/tmp/foo', 'state_file_suffix': '-previous' } mock_exists.side_effect = [True, False] mock_exit = mock.MagicMock() mock_module.exit_json = mock_exit mock_run.side_effect = Exception('meh') tripleo_diff_exec.run(mock_module) mock_exit.assert_called_once_with(changed=False, error='meh', failed=True, msg='Unhandled exception: meh') ",,264,0
openstack%2Ftempest~master~I2aa497941d92f74430342705bdca0d752935f127,openstack/tempest,master,I2aa497941d92f74430342705bdca0d752935f127,Fix import line location when there is no tempest import,ABANDONED,2020-01-07 10:56:58.000000000,2020-09-07 05:48:25.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 16643}, {'_account_id': 17887}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 30674}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-01-07 10:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14c78eb7f0fe19bc97cea523390e2fabfc861a11', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 2, 'created': '2020-01-13 12:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/946da55e504c574a2d5a81f1fa926423becd0d3c', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 3, 'created': '2020-01-13 12:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/54997d286af002743c3ce3b5c1fcb6f755fbf69c', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 4, 'created': '2020-01-14 08:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff305803c2130dae87415c2d5a9caff290b32218', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 5, 'created': '2020-01-14 09:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50afefa14dbec5150609d3c396baecd9f24bd914', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 6, 'created': '2020-01-16 09:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/022f2ddfd0a2a6745f48a8dc588738f18aa2c0e2', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 7, 'created': '2020-07-13 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59ab008d5001447d7d09df80099edcd2b78bc6e6', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 8, 'created': '2020-07-21 12:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d557e17c300e00d3ae40cbfa253cff6d58b58bc', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 9, 'created': '2020-07-23 11:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ced0575d231fd4ae2c07331dcbaa5880cee857b', 'message': 'Fix import line location\n\nWhen using fix option in order to add UUIDs to those\ntests that have no UUIDs, the decorators import line\n(""from tempest.lib import decorators"") is added at the\nend of the file.\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}, {'number': 10, 'created': '2020-08-02 11:11:16.000000000', 'files': ['tempest/lib/cmd/check_uuid.py', 'tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ad080bc78d703a6babedc31665f4d8aad0a6478e', 'message': 'Fix import line location when there is no tempest import\n\nIn some cases when there is no tempest import in the module,\nthe decorators import line (""from tempest.lib import decorators"")\nis added at the end of the file.\n\nThis behavior happens when excuting check_uuid script\nagainst some tempest plugin project (e.g. manila-tempest-plugin).\n\nChange-Id: I2aa497941d92f74430342705bdca0d752935f127\n'}]",31,701352,ad080bc78d703a6babedc31665f4d8aad0a6478e,78,13,10,19262,,,0,"Fix import line location when there is no tempest import

In some cases when there is no tempest import in the module,
the decorators import line (""from tempest.lib import decorators"")
is added at the end of the file.

This behavior happens when excuting check_uuid script
against some tempest plugin project (e.g. manila-tempest-plugin).

Change-Id: I2aa497941d92f74430342705bdca0d752935f127
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/701352/10 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/cmd/check_uuid.py'],1,14c78eb7f0fe19bc97cea523390e2fabfc861a11,import_uuids, 'tempest' in self._import_name(node)], 'tempest.' in self._import_name(node)],1,1
openstack%2Freleases~master~Id45fec0969de11fe6eea4f033484d7b9f4fb074d,openstack/releases,master,Id45fec0969de11fe6eea4f033484d7b9f4fb074d,Release final mistral-lib for Victoria,MERGED,2020-09-03 16:49:56.000000000,2020-09-07 04:50:33.000000000,2020-09-04 13:03:04.000000000,"[{'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 16:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cc02d0db5f3fb5e99a9c501430945981f919fc35', 'message': 'Release final mistral-lib for Victoria\n\nThis proposed a release for mistral-lib to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Id45fec0969de11fe6eea4f033484d7b9f4fb074d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-09-04 07:42:22.000000000', 'files': ['deliverables/victoria/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9d437a4ca23a4c437e555f6852d418240e32148f', 'message': 'Release final mistral-lib for Victoria\n\nThis proposed a release for mistral-lib to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Id45fec0969de11fe6eea4f033484d7b9f4fb074d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749787,9d437a4ca23a4c437e555f6852d418240e32148f,15,5,2,11904,,,0,"Release final mistral-lib for Victoria

This proposed a release for mistral-lib to get any final merged changes
out prior to the lib freeze for Victoria going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, Sept 7.

Change-Id: Id45fec0969de11fe6eea4f033484d7b9f4fb074d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/749787/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/mistral-lib.yaml'],1,cc02d0db5f3fb5e99a9c501430945981f919fc35,victoria-lib-freeze, - version: 2.3.0 projects: - repo: openstack/mistral-lib hash: f818f1f02cf51a3e5371c2b4240ab6ab38fa4883 branches: - name: stable/victoria location: 2.3.0,,7,0
openstack%2Fpython-mistralclient~master~I643f1f2d97b10cd8b878ea632ef57fcafeb229bf,openstack/python-mistralclient,master,I643f1f2d97b10cd8b878ea632ef57fcafeb229bf,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:22:56.000000000,2020-09-07 04:22:32.000000000,2020-09-07 04:21:28.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 00:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/b2cf0f9f8b450bf9306a6ddfff4cf50bc68b4ed3', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40196\n\nChange-Id: I643f1f2d97b10cd8b878ea632ef57fcafeb229bf\n'}, {'number': 2, 'created': '2020-08-04 22:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/e3177f2f56246890c0b54c10e4465421a5a8acab', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40196\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I643f1f2d97b10cd8b878ea632ef57fcafeb229bf\n'}, {'number': 3, 'created': '2020-08-04 23:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/dc0ada4b9260f6dc04c4c6d79a2b900ff5d72e39', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40196\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I643f1f2d97b10cd8b878ea632ef57fcafeb229bf\n'}, {'number': 4, 'created': '2020-09-05 16:50:31.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/471e37df0218844d7693f31848037e768460f244', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40196\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I643f1f2d97b10cd8b878ea632ef57fcafeb229bf\n'}]",0,744347,471e37df0218844d7693f31848037e768460f244,17,4,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40196

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I643f1f2d97b10cd8b878ea632ef57fcafeb229bf
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/47/744347/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b2cf0f9f8b450bf9306a6ddfff4cf50bc68b4ed3,migrate-to-focal,#test focal,,1,0
openstack%2Fmistral-lib~master~Ib6598c988a9ed3a8a3fe66a422eb5e6645de6459,openstack/mistral-lib,master,Ib6598c988a9ed3a8a3fe66a422eb5e6645de6459,Add Python3 wallaby unit tests,MERGED,2020-09-04 13:07:12.000000000,2020-09-07 03:51:38.000000000,2020-09-07 03:49:35.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:07:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/95724c5ad0d249e8774d12c306c89dba000e2d33', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ib6598c988a9ed3a8a3fe66a422eb5e6645de6459\n'}]",0,749944,95724c5ad0d249e8774d12c306c89dba000e2d33,8,3,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ib6598c988a9ed3a8a3fe66a422eb5e6645de6459
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/44/749944/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95724c5ad0d249e8774d12c306c89dba000e2d33,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fmistral-lib~stable%2Fvictoria~I00bde06954934522aa31e8418f469e0957ec8a91,openstack/mistral-lib,stable/victoria,I00bde06954934522aa31e8418f469e0957ec8a91,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-04 13:07:07.000000000,2020-09-07 03:51:29.000000000,2020-09-07 03:49:35.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:07:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/1110feefe6c47efbe74f1d5fbd0ec27e8bdbc646', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I00bde06954934522aa31e8418f469e0957ec8a91\n'}]",0,749942,1110feefe6c47efbe74f1d5fbd0ec27e8bdbc646,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I00bde06954934522aa31e8418f469e0957ec8a91
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/42/749942/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1110feefe6c47efbe74f1d5fbd0ec27e8bdbc646,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmistral-lib~master~I6c9797354d70bac6328cd728be2fd0f6896f3a9c,openstack/mistral-lib,master,I6c9797354d70bac6328cd728be2fd0f6896f3a9c,Update master for stable/victoria,MERGED,2020-09-04 13:07:10.000000000,2020-09-07 03:50:41.000000000,2020-09-07 03:49:33.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:07:10.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/8fc076181a45fb40d8bd9aedc10767c173f0f4ad', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: I6c9797354d70bac6328cd728be2fd0f6896f3a9c\nSem-Ver: feature\n'}]",0,749943,8fc076181a45fb40d8bd9aedc10767c173f0f4ad,8,3,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: I6c9797354d70bac6328cd728be2fd0f6896f3a9c
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/43/749943/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,8fc076181a45fb40d8bd9aedc10767c173f0f4ad,reno-victoria, victoria,,7,0
openstack%2Fmistral-lib~stable%2Fvictoria~I5318036aeb7ba7878671e001a670552a0a3f37f9,openstack/mistral-lib,stable/victoria,I5318036aeb7ba7878671e001a670552a0a3f37f9,Update .gitreview for stable/victoria,MERGED,2020-09-04 13:07:04.000000000,2020-09-07 03:50:35.000000000,2020-09-07 03:49:34.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:07:04.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/3bd598a306cb58c9174c0c22ca684d1b97a423d8', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I5318036aeb7ba7878671e001a670552a0a3f37f9\n'}]",0,749941,3bd598a306cb58c9174c0c22ca684d1b97a423d8,8,3,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I5318036aeb7ba7878671e001a670552a0a3f37f9
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/41/749941/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3bd598a306cb58c9174c0c22ca684d1b97a423d8,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fnetworking-midonet~master~Ib4a91256b1230cf4ff07272c2e0c220edb427a89,openstack/networking-midonet,master,Ib4a91256b1230cf4ff07272c2e0c220edb427a89,[WIP] Remove tap-as-a-service and l2gateway integrations,ABANDONED,2020-09-03 06:43:30.000000000,2020-09-07 03:40:40.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 06:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/927bfef7a91250d2d5ab7d05a3a69359b5bea027', 'message': '[WIP] Remove tap-as-a-service and l2gateway integrations\n\nChange-Id: Ib4a91256b1230cf4ff07272c2e0c220edb427a89\n'}, {'number': 2, 'created': '2020-09-03 07:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0a68f2e17e83f45a83bab466a8f743e5c1ccd1e3', 'message': '[WIP] Remove tap-as-a-service and l2gateway integrations\n\nChange-Id: Ib4a91256b1230cf4ff07272c2e0c220edb427a89\n'}, {'number': 3, 'created': '2020-09-03 08:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8d115f1ee3369eecc2a8e881822ccb80634fdfd1', 'message': '[WIP] Remove tap-as-a-service and l2gateway integrations\n\nChange-Id: Ib4a91256b1230cf4ff07272c2e0c220edb427a89\n'}, {'number': 4, 'created': '2020-09-03 08:49:11.000000000', 'files': ['midonet/neutron/db/l2gateway_midonet.py', 'midonet/neutron/services/taas/service_drivers/__init__.py', 'devstack/settings', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_l2_gateway.py', 'midonet/neutron/services/l2gateway/common/l2gw_midonet_validators.py', 'devstack/ci/hooks/tempest_plugins_advsvc', 'midonet/neutron/db/gateway_device.py', 'midonet/neutron/services/l2gateway/__init__.py', 'midonet/neutron/tests/unit/test_extension_l2gateway.py', 'midonet/neutron/services/l2gateway/common/__init__.py', 'midonet/neutronclient/l2gateway_extension/__init__.py', 'midonet/neutron/services/taas/service_drivers/taas_midonet.py', 'midonet/neutron/db/migration/alembic_migration/versions/422da2897701_add_network_binding_table.py', 'midonet/neutron/client/api.py', 'midonet/neutron/services/taas/__init__.py', 'midonet/neutronclient/l2gateway_extension/_l2_gateway.py', '.zuul.yaml', 'midonet/neutron/services/l2gateway/exceptions.py', 'midonet/neutron/tests/unit/db/test_migrations.py', 'devstack/ci/gate_hook.sh', 'midonet/neutron/services/l2gateway/service_drivers/__init__.py', 'devstack/README.rst', 'midonet/neutron/services/l2gateway/service_drivers/l2gw_midonet.py', 'devstack/ml2/local.conf.sample', 'midonet/neutron/tests/unit/test_midonet_plugin.py', 'midonet/neutron/services/l2gateway/plugin.py', 'midonet/neutron/client/base.py', 'midonet/neutron/tests/unit/test_extension_taas.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/28b6531725fe781a405bf823c8d9ea5e4bd6a14a', 'message': '[WIP] Remove tap-as-a-service and l2gateway integrations\n\nChange-Id: Ib4a91256b1230cf4ff07272c2e0c220edb427a89\n'}]",0,749653,28b6531725fe781a405bf823c8d9ea5e4bd6a14a,9,2,4,3031,,,0,"[WIP] Remove tap-as-a-service and l2gateway integrations

Change-Id: Ib4a91256b1230cf4ff07272c2e0c220edb427a89
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/53/749653/1 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/db/l2gateway_midonet.py', 'midonet/neutron/services/taas/service_drivers/__init__.py', 'devstack/settings', 'midonet/neutron/tests/unit/neutronclient_ext/test_cli20_l2_gateway.py', 'midonet/neutron/services/l2gateway/common/l2gw_midonet_validators.py', 'devstack/ci/hooks/tempest_plugins_advsvc', 'midonet/neutron/db/gateway_device.py', 'midonet/neutron/services/l2gateway/__init__.py', 'midonet/neutron/tests/unit/test_extension_l2gateway.py', 'midonet/neutron/services/l2gateway/common/__init__.py', 'midonet/neutronclient/l2gateway_extension/__init__.py', 'midonet/neutron/services/taas/service_drivers/taas_midonet.py', 'midonet/neutron/client/api.py', 'midonet/neutron/services/taas/__init__.py', 'midonet/neutronclient/l2gateway_extension/_l2_gateway.py', '.zuul.yaml', 'midonet/neutron/services/l2gateway/exceptions.py', 'midonet/neutron/tests/unit/db/test_migrations.py', 'devstack/ci/gate_hook.sh', 'midonet/neutron/services/l2gateway/service_drivers/__init__.py', 'devstack/README.rst', 'midonet/neutron/services/l2gateway/service_drivers/l2gw_midonet.py', 'devstack/ml2/local.conf.sample', 'midonet/neutron/services/l2gateway/plugin.py', 'midonet/neutron/client/base.py', 'midonet/neutron/tests/unit/test_extension_taas.py', 'doc/requirements.txt', 'tox.ini']",28,927bfef7a91250d2d5ab7d05a3a69359b5bea027,,"application-package-names = neutron,neutronclient,neutron_vpnaas,neutron_dynamic_routing","application-package-names = neutron,neutronclient,networking_l2gw,neutron_vpnaas,neutron_taas,neutron_dynamic_routing pip install -q -e ""git+https://opendev.org/openstack/networking-l2gw#egg=networking_l2gw"" pip install -q -e ""git+https://opendev.org/openstack/tap-as-a-service#egg=tap_as_a_service""",3,1732
openstack%2Fneutron~master~Ib77cdf6f7cb2e975581aeb2106690d35e798dc7c,openstack/neutron,master,Ib77cdf6f7cb2e975581aeb2106690d35e798dc7c,"Revert ""Squash alchemy Liberty branch""",MERGED,2020-09-04 06:00:00.000000000,2020-09-07 03:18:18.000000000,2020-09-07 03:16:46.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 3031}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-04 06:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c3b34fa2af7bda0634728530f568feebd791cb3', 'message': 'Revert ""Squash alchemy Liberty branch""\n\nThis reverts commit f0be5f1a83c21a7ef6ff902fa88550cb286d15d9.\n\nWe broke with this reverted patch db migration for stadium projects like neutron-vpnaas, networking-bgpvpn and networking-bagpipe and all others which have neutron related db migration scripts from Liberty and older releases.\n\nChange-Id: Ib77cdf6f7cb2e975581aeb2106690d35e798dc7c\n'}, {'number': 2, 'created': '2020-09-04 07:40:47.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/liberty/expand/26c371498592_subnetpool_hash.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/48153cb5f051_qos_db_changes.py', 'neutron/db/migration/alembic_migrations/ml2_init_ops.py', 'neutron/db/migration/alembic_migrations/nsxv_initial_opts.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2a16083502f3_metaplugin_removal.py', 'neutron/tests/unit/db/test_migration.py', 'neutron/db/migration/alembic_migrations/lb_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/5498d17be016_drop_legacy_ovs_and_lb.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/9859ac9c136_quota_reservations.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2e5352a0ad4d_add_missing_foreign_keys.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4af11ca47297_drop_cisco_monolithic_tables.py', 'neutron/db/migration/alembic_migrations/other_extensions_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/30018084ec99_initial.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/31337ec0ffee_flavors.py', 'neutron/db/migration/alembic_migrations/cisco_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4ffceebfada_rbac_network.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/11926bcfe72d_add_geneve_ml2_type_driver.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1b4c6e320f79_address_scope_support_in_subnetpool.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/59cb5b6cf4d_availability_zone.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/52c5312f6baf_address_scopes.py', 'neutron/db/migration/alembic_migrations/core_init_ops.py', 'neutron/db/migration/alembic_migrations/other_plugins_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/45f955889773_quota_usage.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/8675309a5c4f_rbac_network.py', 'neutron/db/migration/__init__.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/34af2b5c5a59_add_dns_name_to_port.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/354db87e3225_nsxv_vdr_metadata.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/contract/1b294093239c_remove_embrane_plugin.py', 'neutron/db/migration/alembic_migrations/versions/kilo_initial.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1c844d1677f7_dns_nameservers_order.py', 'neutron/db/migration/alembic_migrations/ovs_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/599c6a226151_neutrodb_ipam.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/30747a5aacd249d8e67e8fd6ca0168d2e94bc773', 'message': 'Revert ""Squash alchemy Liberty branch""\n\nThis reverts commit f0be5f1a83c21a7ef6ff902fa88550cb286d15d9.\n\nWe broke with this reverted patch db migration for stadium\nprojects like neutron-vpnaas, networking-bgpvpn,\nnetworking-bagpipe and all others which have neutron\nrelated db migration scripts from Liberty and older releases.\n\nChange-Id: Ib77cdf6f7cb2e975581aeb2106690d35e798dc7c\n'}]",1,749866,30747a5aacd249d8e67e8fd6ca0168d2e94bc773,31,15,2,11975,,,0,"Revert ""Squash alchemy Liberty branch""

This reverts commit f0be5f1a83c21a7ef6ff902fa88550cb286d15d9.

We broke with this reverted patch db migration for stadium
projects like neutron-vpnaas, networking-bgpvpn,
networking-bagpipe and all others which have neutron
related db migration scripts from Liberty and older releases.

Change-Id: Ib77cdf6f7cb2e975581aeb2106690d35e798dc7c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/749866/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/liberty/expand/26c371498592_subnetpool_hash.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/48153cb5f051_qos_db_changes.py', 'neutron/db/migration/alembic_migrations/ml2_init_ops.py', 'neutron/db/migration/alembic_migrations/nsxv_initial_opts.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2a16083502f3_metaplugin_removal.py', 'neutron/tests/unit/db/test_migration.py', 'neutron/db/migration/alembic_migrations/lb_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/5498d17be016_drop_legacy_ovs_and_lb.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/9859ac9c136_quota_reservations.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2e5352a0ad4d_add_missing_foreign_keys.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4af11ca47297_drop_cisco_monolithic_tables.py', 'neutron/db/migration/alembic_migrations/other_extensions_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/30018084ec99_initial.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/31337ec0ffee_flavors.py', 'neutron/db/migration/alembic_migrations/cisco_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4ffceebfada_rbac_network.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/11926bcfe72d_add_geneve_ml2_type_driver.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1b4c6e320f79_address_scope_support_in_subnetpool.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/59cb5b6cf4d_availability_zone.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/52c5312f6baf_address_scopes.py', 'neutron/db/migration/alembic_migrations/core_init_ops.py', 'neutron/db/migration/alembic_migrations/other_plugins_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/45f955889773_quota_usage.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/8675309a5c4f_rbac_network.py', 'neutron/db/migration/__init__.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/34af2b5c5a59_add_dns_name_to_port.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/354db87e3225_nsxv_vdr_metadata.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/contract/1b294093239c_remove_embrane_plugin.py', 'neutron/db/migration/alembic_migrations/versions/kilo_initial.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1c844d1677f7_dns_nameservers_order.py', 'neutron/db/migration/alembic_migrations/ovs_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/599c6a226151_neutrodb_ipam.py']",33,0c3b34fa2af7bda0634728530f568feebd791cb3,squash_liberty_db_migration,"# Copyright 2015 OpenStack Foundation#""""""neutrodb_ipam Revision ID: 599c6a226151 Revises: 354db87e3225 Create Date: 2015-03-08 18:12:08.962378 """""" # revision identifiers, used by Alembic. revision = '599c6a226151' down_revision = '354db87e3225' ","# Copyright (c) 2020 Red Hat, Inc. # All Rights Reserved.",1040,148
openstack%2Ftripleo-heat-templates~master~I88aaa58f49eb8a2dc38232132d0397a83c76104e,openstack/tripleo-heat-templates,master,I88aaa58f49eb8a2dc38232132d0397a83c76104e,Add environment to enable nova on undercloud,MERGED,2020-09-03 08:59:54.000000000,2020-09-07 01:16:00.000000000,2020-09-07 01:16:00.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-03 08:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de051c2ae31224ffc11f2cae6bf856197fa584d3', 'message': 'Add environment to enable nova on undercloud\n\nThis sets the nova/glance services to OS::Heat::None in\ndefault undercloud environment and adds environment file to\nenable nova (if needed).\n\nOnce tripleoclient has been changed to flip the nova_enable\nflag, we can drop undercloud-disable-nova.yaml\n\nPartial-Bug : #1891242\nDepends-On: https://review.opendev.org/#/c/749659/\nChange-Id: I88aaa58f49eb8a2dc38232132d0397a83c76104e\n'}, {'number': 2, 'created': '2020-09-04 02:04:32.000000000', 'files': ['environments/undercloud.yaml', 'environments/undercloud-enable-nova.yaml', 'environments/services/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/168961d66d0cbf089224848c66bc453677fe1748', 'message': 'Add environment to enable nova on undercloud\n\nThis sets the nova/glance services to OS::Heat::None in\ndefault undercloud environment and adds environment file to\nenable nova (if needed).\n\nOnce tripleoclient has been changed to flip the nova_enable\nflag, we can drop undercloud-disable-nova.yaml\n\nPartial-Bug : #1891242\nDepends-On: https://review.opendev.org/#/c/749659/\nChange-Id: I88aaa58f49eb8a2dc38232132d0397a83c76104e\n'}]",4,749678,168961d66d0cbf089224848c66bc453677fe1748,49,8,2,8833,,,0,"Add environment to enable nova on undercloud

This sets the nova/glance services to OS::Heat::None in
default undercloud environment and adds environment file to
enable nova (if needed).

Once tripleoclient has been changed to flip the nova_enable
flag, we can drop undercloud-disable-nova.yaml

Partial-Bug : #1891242
Depends-On: https://review.opendev.org/#/c/749659/
Change-Id: I88aaa58f49eb8a2dc38232132d0397a83c76104e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/749678/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'environments/undercloud-enable-nova.yaml']",2,de051c2ae31224ffc11f2cae6bf856197fa584d3,bug/1891242,"# This heat environment can be used to enable the nova/glance services used on # the undercloud. parameter_defaults: NovaSchedulerAvailableFilters: 'tripleo_common.filters.list.tripleo_filters' NovaSchedulerDefaultFilters: ['TripleOCapabilitiesFilter', 'ComputeCapabilitiesFilter', 'AvailabilityZoneFilter', 'ComputeFilter', 'ImagePropertiesFilter', 'ServerGroupAntiAffinityFilter', 'ServerGroupAffinityFilter'] NovaSchedulerMaxAttempts: 30 # Disable compute auto disabling: # As part of Pike, nova introduced a change to have the nova-compute # process automatically disable the nova-compute instance in the case of # consecutive build failures. This can lead to odd errors when deploying # the ironic nodes on the undercloud as you end up with a ComputeFilter # error. This parameter disables this functionality for the undercloud since # we do not want the nova-compute instance running on the undercloud for # Ironic to be disabled in the case of multiple deployment failures. NovaAutoDisabling: '0' NovaCorsAllowedOrigin: '*' NovaSyncPowerStateInterval: -1 # Overwrite compute_server_user policy to allow any user with role admin # to post to novajoin (required for mistral workflow) NovajoinPolicies: compute_service_user: key: 'compute_service_user' value: 'role:admin' resource_registry: OS::TripleO::Services::NovaApi: ../deployment/nova/nova-api-container-puppet.yaml OS::TripleO::Services::NovaConductor: ../deployment/nova/nova-conductor-container-puppet.yaml OS::TripleO::Services::NovaIronic: ../deployment/nova/nova-ironic-container-puppet.yaml OS::TripleO::Services::NovaScheduler: ../deployment/nova/nova-scheduler-container-puppet.yaml OS::TripleO::Services::GlanceApi: ../deployment/glance/glance-api-container-puppet.yaml ",,35,20
openstack%2Fstorlets~master~I1f3d207a75767811e8c22a114b7f4c6edfccb1dd,openstack/storlets,master,I1f3d207a75767811e8c22a114b7f4c6edfccb1dd,Remove unnecessory -it from docker run command,MERGED,2019-11-15 04:15:36.000000000,2020-09-07 01:03:26.000000000,2020-09-07 01:02:13.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 04:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/01d03b021a9e3775aa7e60cbb01a241526ffa272', 'message': 'Remove unnecessory -it from docker run command\n\nChange-Id: I1f3d207a75767811e8c22a114b7f4c6edfccb1dd\n'}, {'number': 2, 'created': '2019-12-10 00:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4c3d302b7000629a61356809aa8e74701e86dd34', 'message': 'Remove unnecessory -it from docker run command\n\nChange-Id: I1f3d207a75767811e8c22a114b7f4c6edfccb1dd\n'}, {'number': 3, 'created': '2019-12-18 13:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c559baab7c3a9f3a9c67d8a591ffe04ac12ee283', 'message': 'Remove unnecessory -it from docker run command\n\nChange-Id: I1f3d207a75767811e8c22a114b7f4c6edfccb1dd\n'}, {'number': 4, 'created': '2019-12-18 13:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f8c1a3fe7dc9b46e9d290690f1db46653c7e5b94', 'message': ""Remove unnecessory -it from docker run command\n\nWe expect that storlets docker containers run in background,\nso We don't need -i and -t to start them.\nThis patch removes these unnecessory options, and also fixes\nsome outdated comments in restart_docker_container script.\n\nChange-Id: I1f3d207a75767811e8c22a114b7f4c6edfccb1dd\n""}, {'number': 5, 'created': '2020-09-06 15:27:07.000000000', 'files': ['scripts/restart_docker_container.c'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e31497dd19bf9869796ff0ee4179da207009b7e1', 'message': ""Remove unnecessory -it from docker run command\n\nWe expect that storlets docker containers run in background,\nso We don't need -i and -t to start them.\nThis patch removes these unnecessory options, and also fixes\nsome outdated comments in restart_docker_container script.\n\nChange-Id: I1f3d207a75767811e8c22a114b7f4c6edfccb1dd\n""}]",0,694444,e31497dd19bf9869796ff0ee4179da207009b7e1,14,2,5,9816,,,0,"Remove unnecessory -it from docker run command

We expect that storlets docker containers run in background,
so We don't need -i and -t to start them.
This patch removes these unnecessory options, and also fixes
some outdated comments in restart_docker_container script.

Change-Id: I1f3d207a75767811e8c22a114b7f4c6edfccb1dd
",git fetch https://review.opendev.org/openstack/storlets refs/changes/44/694444/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/restart_docker_container.c'],1,01d03b021a9e3775aa7e60cbb01a241526ffa272,docker-option," * docker run --net=none --name <container name> -d -v /dev/log:/dev/log \ * -v <mount dir 1> -v <mount dir 2> -v <mount dir 3> -v <mount dir 4> \ * <image name> * * <image name> - the name of the image from which to start the container * <mount dir 1> - The directory where the named pipes are placed. * Typically mounted to /mnt/channels in the container * <mount dir 2> - The directory where the storlets are placed. * Typically mounted to /home/swift in the container * <mount dir 3> - The directory where storlets library are placed. * Typically mounted to /usr/local/lib/storlets * <mount dir 4> - The directory where storlets executables are placed. * Typically mounted to /usr/local/libexec/storlets ""/usr/bin/docker run --net=none --name %s -d -v /dev/log:/dev/log -v %s -v %s -v %s -v %s %s"","," * docker run --name <container name> -d -v /dev/log:/dev/log -v <mount dir 1> -v <mount dir 2> -i -t <image> --net='none' * <image name> - the name of the image from which to start the container * <mount dir 1> - The directory where the named pipes are placed. Typically mounted to /mnt/channels in the container * <mount dir 2> - The directory where the storlets are placed. Typically mounted to /home/swift in the container ""/usr/bin/docker run --net=none --name %s -d -v /dev/log:/dev/log -v %s -v %s -v %s -v %s -i -t %s"",",14,5
openstack%2Fpuppet-openstack-integration~master~If68c8e393203a91b11284617abfaeb61a73290ec,openstack/puppet-openstack-integration,master,If68c8e393203a91b11284617abfaeb61a73290ec,Updated from Puppet OpenStack modules constraints,MERGED,2020-09-06 06:06:11.000000000,2020-09-07 00:04:02.000000000,2020-09-07 00:04:02.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-06 06:06:11.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7db392d3190b19f6d5198e5339868454f1177646', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If68c8e393203a91b11284617abfaeb61a73290ec\n'}]",0,750083,7db392d3190b19f6d5198e5339868454f1177646,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: If68c8e393203a91b11284617abfaeb61a73290ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/83/750083/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,7db392d3190b19f6d5198e5339868454f1177646,openstack/puppet/constraints, :ref => 'v3.7.0', :ref => 'v3.6.0',1,1
openstack%2Fneutron~stable%2Fstein~I645610febde446b78ed6edd868e699673648a4de,openstack/neutron,stable/stein,I645610febde446b78ed6edd868e699673648a4de,Use dict .get() to avoid a KeyError in the segment plugin,MERGED,2020-09-04 13:09:13.000000000,2020-09-06 22:53:50.000000000,2020-09-06 22:52:26.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-04 13:09:13.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/97f6e2569ee128f8831eba0b9272f30be39133f2', 'message': 'Use dict .get() to avoid a KeyError in the segment plugin\n\nOn subnet delete, the supplied subnet in the post hook\ncould contain a subnet without certain items, leading to\na KeyError in the segment plugin.  Fix a number of these\noccurences so this cannot happen.\n\nAlso fixed similar code in the segment tests.\n\nChange-Id: I645610febde446b78ed6edd868e699673648a4de\nCloses-bug: #1868724\n(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)\n(cherry picked from commit b019821abd9304f4eeaea4ed3ea37de8e903eb9e)\n'}]",0,749945,97f6e2569ee128f8831eba0b9272f30be39133f2,25,5,1,11975,,,0,"Use dict .get() to avoid a KeyError in the segment plugin

On subnet delete, the supplied subnet in the post hook
could contain a subnet without certain items, leading to
a KeyError in the segment plugin.  Fix a number of these
occurences so this cannot happen.

Also fixed similar code in the segment tests.

Change-Id: I645610febde446b78ed6edd868e699673648a4de
Closes-bug: #1868724
(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)
(cherry picked from commit b019821abd9304f4eeaea4ed3ea37de8e903eb9e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/749945/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py']",2,97f6e2569ee128f8831eba0b9272f30be39133f2,bug/1868724-stable/train-stable/stein, if subnet.get('gateway_ip'): if subnet.get('enable_dhcp'):, if subnet['gateway_ip']: if subnet['enable_dhcp']:,15,12
openstack%2Fopenstack-ansible~master~Id086fbfefa941aa87db5f2b105e559265208b225,openstack/openstack-ansible,master,Id086fbfefa941aa87db5f2b105e559265208b225,Fix hacking min version to 3.0.1,MERGED,2020-05-18 01:03:03.000000000,2020-09-06 20:31:01.000000000,2020-09-06 20:29:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26458}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-05-18 01:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a587c2328d5d2a162656e7c484f52e83ca010b42', 'message': 'Bump hacking min version to 3.0.1\n\nhacking 3.0.1 fix the pinning of flake8 to avoid bringing in a new\nversion with new checks.\n\nbumping the min version for hacking so that any older hacking versions\nwhich auto adopt the new checks are not used.\n\nChange-Id: Id086fbfefa941aa87db5f2b105e559265208b225\n'}, {'number': 2, 'created': '2020-05-18 01:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a79670eb933f8446f1756889b55ba1b39c2f8bd2', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Id086fbfefa941aa87db5f2b105e559265208b225\n'}, {'number': 3, 'created': '2020-07-01 00:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0ba7254ec68463cba64d293d376ce54bf6a118da', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Id086fbfefa941aa87db5f2b105e559265208b225\n'}, {'number': 4, 'created': '2020-07-02 01:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4af7a412f5893dd5e274f891406002ce0150ecea', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Id086fbfefa941aa87db5f2b105e559265208b225\n'}, {'number': 5, 'created': '2020-09-02 10:04:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a14c2d9b1a08b76eb26fbfd72a7904f03dc6b673', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Id086fbfefa941aa87db5f2b105e559265208b225\n'}]",0,728730,a14c2d9b1a08b76eb26fbfd72a7904f03dc6b673,30,4,5,26458,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Id086fbfefa941aa87db5f2b105e559265208b225
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/728730/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a587c2328d5d2a162656e7c484f52e83ca010b42,hacking-fix,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fmetalsmith~master~I88bcb6f96d84aef5eb94bcb664ed61134e8e4f20,openstack/metalsmith,master,I88bcb6f96d84aef5eb94bcb664ed61134e8e4f20,DNM debug image variables,ABANDONED,2020-07-02 02:17:53.000000000,2020-09-06 20:27:10.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 02:17:53.000000000', 'files': ['metalsmith_ansible/roles/metalsmith_deployment/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/9361b24c1a7898867f91eb86147de4d216710b5e', 'message': 'DNM debug image variables\n\nChange-Id: I88bcb6f96d84aef5eb94bcb664ed61134e8e4f20\n'}]",0,738949,9361b24c1a7898867f91eb86147de4d216710b5e,5,2,1,4571,,,0,"DNM debug image variables

Change-Id: I88bcb6f96d84aef5eb94bcb664ed61134e8e4f20
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/49/738949/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/roles/metalsmith_deployment/tasks/main.yml'],1,9361b24c1a7898867f91eb86147de4d216710b5e,metalsmith_instances,"- name: Show metalsmith_instances data debug: msg: ""{{ metalsmith_instances | to_yaml }}"" - name: Show image defaults data debug: msg: | image: ""{{ metalsmith_image }}"" image_checksum: ""{{ metalsmith_image_checksum }}"" image_kernel: ""{{ metalsmith_image_kernel }}"" image_ramdisk: ""{{ metalsmith_image_ramdisk }}"" ",,12,0
openstack%2Fironic-python-agent~master~Id5efe89a12a00c27e6299380a51cdb840285d691,openstack/ironic-python-agent,master,Id5efe89a12a00c27e6299380a51cdb840285d691,Fix and run the correct functional tests job,MERGED,2020-09-04 15:10:54.000000000,2020-09-06 17:08:35.000000000,2020-09-06 17:05:47.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-04 15:10:54.000000000', 'files': ['ironic_python_agent/tests/functional/test_commands.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9b75453339155fdcfd1196d5c39c87cca67ed473', 'message': ""Fix and run the correct functional tests job\n\nApparently, functional-py36 just runs unit tests.\n\nFix the test that has regressed in the meantime and make it voting\nso that we don't regress again.\n\nChange-Id: Id5efe89a12a00c27e6299380a51cdb840285d691\n""}]",0,749983,9b75453339155fdcfd1196d5c39c87cca67ed473,9,4,1,10239,,,0,"Fix and run the correct functional tests job

Apparently, functional-py36 just runs unit tests.

Fix the test that has regressed in the meantime and make it voting
so that we don't regress again.

Change-Id: Id5efe89a12a00c27e6299380a51cdb840285d691
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/83/749983/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/functional/test_commands.py', 'zuul.d/project.yaml']",2,9b75453339155fdcfd1196d5c39c87cca67ed473,functional, - openstack-tox-functional - openstack-tox-functional, - openstack-tox-functional-py36: voting: false,3,3
openstack%2Fvitrage-tempest-plugin~master~Ibc82fbe95f6eca6f660596cf9da8c5c2e03c6fe2,openstack/vitrage-tempest-plugin,master,Ibc82fbe95f6eca6f660596cf9da8c5c2e03c6fe2,[goal] migrate the stable jobs to Bionic and master one to Focal,MERGED,2020-09-06 14:03:43.000000000,2020-09-06 16:37:19.000000000,2020-09-06 16:33:37.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-06 14:03:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/c410a047fb7fff97e9fc2955e622b6c6cc92d324', 'message': '[goal] migrate the stable jobs to Bionic and master one to Focal\n\nWHile moving the jobs to zuulv3 native, Focal migration work\ngot reverted- https://review.opendev.org/#/c/747109/\n\nThis commit makes stable jobs to keep running in Bionic and\nmaster IPv6 on Focal.\n\nChange-Id: Ibc82fbe95f6eca6f660596cf9da8c5c2e03c6fe2\n'}]",0,750098,c410a047fb7fff97e9fc2955e622b6c6cc92d324,7,2,1,8556,,,0,"[goal] migrate the stable jobs to Bionic and master one to Focal

WHile moving the jobs to zuulv3 native, Focal migration work
got reverted- https://review.opendev.org/#/c/747109/

This commit makes stable jobs to keep running in Bionic and
master IPv6 on Focal.

Change-Id: Ibc82fbe95f6eca6f660596cf9da8c5c2e03c6fe2
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/98/750098/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c410a047fb7fff97e9fc2955e622b6c6cc92d324,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic, nodeset: openstack-single-node-bionic,6,1
openstack%2Fkarbor~master~Ife614fc7517c16bee56b2c4c9d86abbac8ed215a,openstack/karbor,master,Ife614fc7517c16bee56b2c4c9d86abbac8ed215a,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-26 23:54:37.000000000,2020-09-06 16:10:17.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 23:54:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor/commit/bbe109efca0a5a15d3796c3d649c1e93aa645cf3', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ife614fc7517c16bee56b2c4c9d86abbac8ed215a\nStory: #2007865\nTask: #40189\n'}]",0,743112,bbe109efca0a5a15d3796c3d649c1e93aa645cf3,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ife614fc7517c16bee56b2c4c9d86abbac8ed215a
Story: #2007865
Task: #40189
",git fetch https://review.opendev.org/openstack/karbor refs/changes/12/743112/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bbe109efca0a5a15d3796c3d649c1e93aa645cf3,migrate-to-focal,#test focal,,1,0
openstack%2Fmurano~master~I3e587ccfee5d46116aa527bc9d259224307246f2,openstack/murano,master,I3e587ccfee5d46116aa527bc9d259224307246f2,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-02 00:32:25.000000000,2020-09-06 15:35:37.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 00:32:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/7e92ee64c95441b9153985b6fdf0e08900a5a3e9', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40198\n\nChange-Id: I3e587ccfee5d46116aa527bc9d259224307246f2\n'}]",0,744350,7e92ee64c95441b9153985b6fdf0e08900a5a3e9,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs
Depends-On: https://review.opendev.org/#/c/734700/
Story: #2007865
Task: #40198

Change-Id: I3e587ccfee5d46116aa527bc9d259224307246f2
",git fetch https://review.opendev.org/openstack/murano refs/changes/50/744350/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e92ee64c95441b9153985b6fdf0e08900a5a3e9,migrate-to-focal,#test focal,,1,0
openstack%2Fosprofiler~master~I06ee2203387b1d5e26f42e0929d5f868dc473cfc,openstack/osprofiler,master,I06ee2203387b1d5e26f42e0929d5f868dc473cfc,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-01 23:04:42.000000000,2020-09-06 14:14:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-01 23:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/362cf292d6a16524398678f8ab97bf1246c6f0da', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I06ee2203387b1d5e26f42e0929d5f868dc473cfc\n'}, {'number': 2, 'created': '2020-08-02 19:56:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/6132dff8b95e67ae921510d2372e0f2b558e0037', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I06ee2203387b1d5e26f42e0929d5f868dc473cfc\n'}]",0,744331,6132dff8b95e67ae921510d2372e0f2b558e0037,5,1,2,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40207

Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I06ee2203387b1d5e26f42e0929d5f868dc473cfc
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/31/744331/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,362cf292d6a16524398678f8ab97bf1246c6f0da,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-magnumclient~master~I61166d01d1553161b789a3167cf52d137e693fde,openstack/python-magnumclient,master,I61166d01d1553161b789a3167cf52d137e693fde,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-27 00:29:13.000000000,2020-09-06 14:13:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 30618}]","[{'number': 1, 'created': '2020-07-27 00:29:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e303e136385fc8399a4c0ea5209d8e0528fd78e0', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nTask: #40190\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I61166d01d1553161b789a3167cf52d137e693fde\n'}]",0,743129,e303e136385fc8399a4c0ea5209d8e0528fd78e0,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs
Story: #2007865
Task: #40190
Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I61166d01d1553161b789a3167cf52d137e693fde
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/29/743129/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e303e136385fc8399a4c0ea5209d8e0528fd78e0,migrate-to-focal,#test foacl,,1,0
openstack%2Fvitrage-tempest-plugin~master~I938cb7d5f820a761fc65ac82d137f83a2188faed,openstack/vitrage-tempest-plugin,master,I938cb7d5f820a761fc65ac82d137f83a2188faed,Native Zuul v3,MERGED,2020-08-20 06:09:05.000000000,2020-09-06 13:58:20.000000000,2020-08-21 17:29:46.000000000,"[{'_account_id': 10459}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/3ebe5705e1152fcfd171e179af88fe5bc8ae34fe', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 2, 'created': '2020-08-20 06:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/be72578d7829962590833a2213497a854565208d', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 3, 'created': '2020-08-20 06:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/7e5188bae17887fa0e102aba2dc75f01b9f07833', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 4, 'created': '2020-08-20 08:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/c13cf9167368c1d03655e59b36618767b5e96050', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 5, 'created': '2020-08-20 09:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/efefdf98898ca1a29154d61976fdbce6361cd249', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 6, 'created': '2020-08-20 09:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/53f4dba8aae12ae898cff4ba5e2732940a7ec1dc', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 7, 'created': '2020-08-20 10:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/9343cef76e41b4e279c41a0447b93d3bb7b5247e', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 8, 'created': '2020-08-20 10:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/a40c312d542302f5d656202a557fab8847a26099', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 9, 'created': '2020-08-20 12:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/c355b7823744a924e78c2de7a6384b765b2800a1', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 10, 'created': '2020-08-20 13:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/3742a90d5e40f20db36b50de5062e50bf2a95294', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}, {'number': 11, 'created': '2020-08-20 14:09:38.000000000', 'files': ['devstack/pre_test_hook.sh', 'playbooks/pre.yaml', '.zuul.yaml', 'devstack/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/d79c37207658aaf3e9ee4a2d8994a507aba8d931', 'message': 'Native Zuul v3\n\nChange-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed\n'}]",2,747109,d79c37207658aaf3e9ee4a2d8994a507aba8d931,31,3,11,19184,,,0,"Native Zuul v3

Change-Id: I938cb7d5f820a761fc65ac82d137f83a2188faed
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/09/747109/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,3ebe5705e1152fcfd171e179af88fe5bc8ae34fe,native-zuulv3-migration,,,0,0
openstack%2Ftempest~master~Iffbaa7489d219ae4138874fe6c5702e858417573,openstack/tempest,master,Iffbaa7489d219ae4138874fe6c5702e858417573,Adding description for testcases - compute part9,MERGED,2020-08-12 09:13:15.000000000,2020-09-06 13:24:00.000000000,2020-09-06 13:22:50.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-12 09:13:15.000000000', 'files': ['tempest/api/compute/floating_ips/test_floating_ips_actions.py', 'tempest/api/compute/admin/test_simple_tenant_usage.py', 'tempest/api/compute/admin/test_fixed_ips.py', 'tempest/api/compute/admin/test_flavors_access.py', 'tempest/api/compute/admin/test_availability_zone.py', 'tempest/api/compute/admin/test_fixed_ips_negative.py', 'tempest/api/compute/admin/test_availability_zone_negative.py', 'tempest/api/compute/admin/test_aggregates.py', 'tempest/api/compute/admin/test_simple_tenant_usage_negative.py', 'tempest/api/compute/admin/test_flavors_microversions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e354fa7675a614e63f8430b86ab1539d33e1154b', 'message': 'Adding description for testcases - compute part9\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Iffbaa7489d219ae4138874fe6c5702e858417573\npartially-implements: blueprint testcase-description\n'}]",0,745812,e354fa7675a614e63f8430b86ab1539d33e1154b,16,4,1,20190,,,0,"Adding description for testcases - compute part9

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: Iffbaa7489d219ae4138874fe6c5702e858417573
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/745812/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/floating_ips/test_floating_ips_actions.py', 'tempest/api/compute/admin/test_simple_tenant_usage.py', 'tempest/api/compute/admin/test_fixed_ips.py', 'tempest/api/compute/admin/test_flavors_access.py', 'tempest/api/compute/admin/test_availability_zone.py', 'tempest/api/compute/admin/test_fixed_ips_negative.py', 'tempest/api/compute/admin/test_availability_zone_negative.py', 'tempest/api/compute/admin/test_aggregates.py', 'tempest/api/compute/admin/test_simple_tenant_usage_negative.py', 'tempest/api/compute/admin/test_flavors_microversions.py']",10,e354fa7675a614e63f8430b86ab1539d33e1154b,bp/testcase-description," """"""Test flavors API with compute microversion greater than 2.54"""""" """"""Test create/show/update/list flavor Check the response schema of flavors API with microversion greater than 2.54. """""" """"""Test flavors API with compute microversion greater than 2.60""""""",,79,30
openstack%2Fopenstack-ansible~master~I32929ded80ac5104996a9496acaabbcc7e370cf6,openstack/openstack-ansible,master,I32929ded80ac5104996a9496acaabbcc7e370cf6,changing dash to underscore for test inventory,NEW,2020-09-01 19:23:54.000000000,2020-09-06 13:01:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-09-01 19:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4641dcc8dfab9310431e81fee7fb4f15bcdc963', 'message': 'Adding os_senlin role support to osa.\n\nChange-Id: I32929ded80ac5104996a9496acaabbcc7e370cf6\n'}, {'number': 2, 'created': '2020-09-02 15:19:32.000000000', 'files': ['inventory/env.d/senlin.yml', 'inventory/group_vars/senlin_all.yml', 'playbooks/os-senlin-install.yml', 'etc/openstack_deploy/user_secrets.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fd30c749b752b70eb1789fd0ce2088e8695cbd04', 'message': 'changing dash to underscore for test inventory\n\nChange-Id: I32929ded80ac5104996a9496acaabbcc7e370cf6\n'}]",3,749379,fd30c749b752b70eb1789fd0ce2088e8695cbd04,7,3,2,28752,,,0,"changing dash to underscore for test inventory

Change-Id: I32929ded80ac5104996a9496acaabbcc7e370cf6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/749379/2 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/env.d/senlin.yml', 'inventory/group_vars/senlin_all.yml', 'playbooks/os-senlin-install.yml', 'etc/openstack_deploy/user_secrets.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'tests/test_inventory.py']",7,b4641dcc8dfab9310431e81fee7fb4f15bcdc963,osa-senlin," 'senlin_all', 'senlin_api', 'senlin_engine', 'senlin_conductor', 'senlin-health-manager', 'senlin_api_container',",,143,0
openstack%2Fneutron~master~I3abf86d90ed5cb1c4434746860b53c676eecbfd3,openstack/neutron,master,I3abf86d90ed5cb1c4434746860b53c676eecbfd3,Bump some lower constraints for Focal migration,MERGED,2020-08-26 12:13:00.000000000,2020-09-06 12:57:16.000000000,2020-09-06 12:55:31.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-26 12:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b66d304456b21ea5373de2e1870001621819b29', 'message': 'Bump MarkupSafe lower constraints\n\nAs seen in focal testing failure [1], lower constraints fail on\nMarkupSafe setuptools deployment. Request newer version that supports\nnewer python and pass lower-constraints job\n\n[1] https://review.opendev.org/#/c/734304/\n\nChange-Id: I3abf86d90ed5cb1c4434746860b53c676eecbfd3\n'}, {'number': 2, 'created': '2020-08-26 13:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8b87b100dc4636713a50b7ecb6c71b4cc4cf363', 'message': 'Bump some lower constraints for Focal migration\n\nAs seen in focal testing failure [1], lower constraints fail on\nsome packages (fixing one, another may appear). This bumps a series of\npackages after local testing to pass on Focal.\n\n[1] https://review.opendev.org/#/c/734304/\n\nChange-Id: I3abf86d90ed5cb1c4434746860b53c676eecbfd3\n'}, {'number': 3, 'created': '2020-08-26 13:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d1ef72bee23200e0a96c095d7dafc394f761e77', 'message': 'Bump some lower constraints for Focal migration\n\nAs seen in focal testing failure [1], lower constraints fail on\nsome packages (fixing one, another may appear). This bumps a series of\npackages after local testing to pass on Focal.\n\n[1] https://review.opendev.org/#/c/734304/\n\nChange-Id: I3abf86d90ed5cb1c4434746860b53c676eecbfd3\n'}, {'number': 4, 'created': '2020-08-27 07:28:12.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/671c3978a1e9e96a9e204ba68809f064f67e7327', 'message': 'Bump some lower constraints for Focal migration\n\nAs seen in focal testing failure [1], lower constraints fail on\nsome packages (fixing one, another may appear). This bumps a series of\npackages after local testing to pass on Focal.\n\nAlso sync requirements on these new versions\n\n[1] https://review.opendev.org/#/c/734304/\n\nChange-Id: I3abf86d90ed5cb1c4434746860b53c676eecbfd3\n'}]",3,748168,671c3978a1e9e96a9e204ba68809f064f67e7327,41,8,4,21798,,,0,"Bump some lower constraints for Focal migration

As seen in focal testing failure [1], lower constraints fail on
some packages (fixing one, another may appear). This bumps a series of
packages after local testing to pass on Focal.

Also sync requirements on these new versions

[1] https://review.opendev.org/#/c/734304/

Change-Id: I3abf86d90ed5cb1c4434746860b53c676eecbfd3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/748168/3 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3b66d304456b21ea5373de2e1870001621819b29,migrate-to-focal,MarkupSafe==1.1.1,MarkupSafe==1.0,1,1
openstack%2Fopenstack-ansible~master~I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016,openstack/openstack-ansible,master,I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016,Decrease amount of jobs and update distros,MERGED,2020-08-19 10:35:15.000000000,2020-09-06 12:49:52.000000000,2020-09-06 12:46:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-19 10:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8621520fcea0708a0294c682f7346fbc02add6bb', 'message': ""Decrease amount of jobs and update distros\n\nThis patch aims to decrease load on CI with decreasing amount of jobs to\nbe run with every change.\n\nAlso we're updating distros for which we're launching test. Ie upgrade\njobs will be launched only for modern focal and centos 8\n\nChange-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016\n""}, {'number': 2, 'created': '2020-08-19 12:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c80c4adc7ae77ed3e4f78a5ed132140126d36f0', 'message': ""Decrease amount of jobs and update distros\n\nThis patch aims to decrease load on CI with decreasing amount of jobs to\nbe run with every change.\n\nAlso we're updating distros for which we're launching test. Ie upgrade\njobs will be launched only for modern focal and centos 8\n\nChange-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016\n""}, {'number': 3, 'created': '2020-08-19 18:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b542e22706f6b297822bc40eeae6ecad91d7b8f1', 'message': ""Decrease amount of jobs and update distros\n\nThis patch aims to decrease load on CI with decreasing amount of jobs to\nbe run with every change.\n\nAlso we're updating distros for which we're launching test. Ie upgrade\njobs will be launched only for modern focal and centos 8\n\nChange-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016\n""}, {'number': 4, 'created': '2020-09-01 16:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a6d685fcfdf07d1f7a7d59fd5803b19115c9526', 'message': ""Decrease amount of jobs and update distros\n\nThis patch aims to decrease load on CI with decreasing amount of jobs to\nbe run with every change.\n\nAlso we're updating distros for which we're launching test. Ie upgrade\njobs will be launched only for modern focal and centos 8\n\nChange-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016\n""}, {'number': 5, 'created': '2020-09-01 16:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0697132455150955713877db7204620429c4bb58', 'message': ""Decrease amount of jobs and update distros\n\nThis patch aims to decrease load on CI with decreasing amount of jobs to\nbe run with every change.\n\nAlso we're updating distros for which we're launching test. Ie upgrade\njobs will be launched only for modern focal and centos 8\n\nChange-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016\n""}, {'number': 6, 'created': '2020-09-02 06:44:49.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8c15db4313df0210e19e25c582e9a7b6bfff04ef', 'message': ""Decrease amount of jobs and update distros\n\nThis patch aims to decrease load on CI with decreasing amount of jobs to\nbe run with every change.\n\nAlso we're updating distros for which we're launching test. Ie upgrade\njobs will be launched only for modern focal and centos 8\n\nChange-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016\n""}]",25,746881,8c15db4313df0210e19e25c582e9a7b6bfff04ef,60,6,6,28619,,,0,"Decrease amount of jobs and update distros

This patch aims to decrease load on CI with decreasing amount of jobs to
be run with every change.

Also we're updating distros for which we're launching test. Ie upgrade
jobs will be launched only for modern focal and centos 8

Change-Id: I953d8fc0b5c3e8d40e22c452a7f2e4fdfb0e1016
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/81/746881/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,8621520fcea0708a0294c682f7346fbc02add6bb,746881,- job: name: openstack-ansible-upgrade-aio_metal-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal timeout: 10800 - job: name: openstack-ansible-upgrade-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-deploy-aio_distro_lxc-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-aio_metal-debian-buster nodeset: debian-buster name: openstack-ansible-deploy-aio_distro_metal-debian-buster nodeset: debian-buster,# debian - job: name: openstack-ansible-deploy-aio_metal-debian-buster parent: openstack-ansible-deploy-aio nodeset: debian-buster # opensuse - job: name: openstack-ansible-deploy-aio_lxc-opensuse-15 nodeset: opensuse-15 name: openstack-ansible-deploy-aio_distro_lxc-opensuse-15 nodeset: opensuse-15 name: openstack-ansible-deploy-aio_ceph-opensuse-15 nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_distro_ceph-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_telemetry_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_distro_metal-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15 - job: name: openstack-ansible-deploy-aio_nspawn-opensuse-15 parent: openstack-ansible-deploy-aio nodeset: opensuse-15,30,77
openstack%2Fkolla~stable%2Frocky~I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,openstack/kolla,stable/rocky,I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,Add glusterfs-fuse package to manila-share container,ABANDONED,2020-08-24 12:13:36.000000000,2020-09-06 12:47:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 12:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4af78543f077738e933c6344cf218fd5aad89d66', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)\n'}, {'number': 2, 'created': '2020-09-05 06:59:20.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d659fb3394c69e1546c5300bf29456478ff804fa', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)\n'}]",0,747698,d659fb3394c69e1546c5300bf29456478ff804fa,8,2,2,31506,,,0,"Add glusterfs-fuse package to manila-share container

Change-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388
(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/747698/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,4af78543f077738e933c6344cf218fd5aad89d66,add_glusterfs_driver-stable/rocky," 'glusterfs-fuse', 'sqlite', 'glusterfs-fuse', 'sqlite',", 'sqlite' 'sqlite',4,2
openstack%2Ftempest~master~I7d082da0ad581b5bdd5cdce0a91c629e198f820b,openstack/tempest,master,I7d082da0ad581b5bdd5cdce0a91c629e198f820b,Adding description for testcases - volume part5,MERGED,2020-08-14 09:03:57.000000000,2020-09-06 12:33:05.000000000,2020-09-06 12:31:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-14 09:03:57.000000000', 'files': ['tempest/api/volume/admin/test_volume_services_negative.py', 'tempest/api/volume/test_volume_absolute_limits.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/test_volumes_snapshots_list.py', 'tempest/api/volume/test_volumes_snapshots.py', 'tempest/api/volume/admin/test_volume_retype.py', 'tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py', 'tempest/api/volume/test_volumes_snapshots_negative.py', 'tempest/api/volume/test_versions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/067bcd07089c809ff87783dffb0354d1dff8cf16', 'message': 'Adding description for testcases - volume part5\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I7d082da0ad581b5bdd5cdce0a91c629e198f820b\npartially-implements: blueprint testcase-description\n'}]",0,746313,067bcd07089c809ff87783dffb0354d1dff8cf16,9,4,1,20190,,,0,"Adding description for testcases - volume part5

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I7d082da0ad581b5bdd5cdce0a91c629e198f820b
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/746313/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_services_negative.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/api/volume/test_volume_absolute_limits.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/test_volumes_snapshots_list.py', 'tempest/api/volume/test_volumes_snapshots.py', 'tempest/api/volume/admin/test_volume_retype.py', 'tempest/api/volume/admin/test_volume_snapshot_quotas_negative.py', 'tempest/api/volume/test_volumes_snapshots_negative.py', 'tempest/api/volume/test_versions.py']",10,067bcd07089c809ff87783dffb0354d1dff8cf16,bp/testcase-description," """"""Test volume versions"""""" """"""Test listing volume versions"""""" """"""Test getting volume version details"""""""," """"""Test cinder versions"""""" """"""Test listing cinder versions"""""" ""Test getting cinder version details""",130,21
openstack%2Fironic~master~I5d4213b0ba4f7884fb542e7d6680f95fc94e112e,openstack/ironic,master,I5d4213b0ba4f7884fb542e7d6680f95fc94e112e,ISO ramdisk virtual media test enablement,MERGED,2020-06-17 21:22:04.000000000,2020-09-06 12:11:07.000000000,2020-09-06 12:07:02.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-17 21:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ebdbe4b24b5b905fc3cff37664cdfd38744a616', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 2, 'created': '2020-06-19 21:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/86fe88e1a3eda513f5742bb60affa4c7fcae775c', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 3, 'created': '2020-06-24 20:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/402bf363040ea78c509650ab27e915d1599bdfc5', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 4, 'created': '2020-06-25 18:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/848625ef21d1d1a5491d3ef54eb3f2f73326615c', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 5, 'created': '2020-06-25 22:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a9ed35274a03e8ca0e787285c66df370216a02d', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 6, 'created': '2020-06-29 18:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a69d2077166f2603d72ecfe5c68ff58361010f9', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 7, 'created': '2020-07-01 14:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad8a18ba22f117a2b4b2a50bfaa11e5b7eb98bff', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 8, 'created': '2020-07-01 20:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/984f7df82cb8d90452cdb9bb58c2dffea58743cf', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 9, 'created': '2020-07-01 22:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea6043249da6f9d81693729cebfe5f5218166af6', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 10, 'created': '2020-07-02 23:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bac1b4c17c66289d9eb83ef1f629ba46ed808aad', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 11, 'created': '2020-07-08 14:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6765c0173bde084352679297c30ad07014ef8b36', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nNB: The first depends-on is only for temporary testing of another\nwhich changes the substrate ramdisk interface. Since this change pulls\nin tempest testing for iso ramdisk and uses it, might as well\nuse it to test if the change works or not as the other two patches\nbelow are known to be in a good state.\n\nDepends-On: https://review.opendev.org/#/c/737724/\nDepends-On: https://review.opendev.org/#/c/736378\nDepends-On: https://review.opendev.org/#/c/729464/\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 12, 'created': '2020-07-24 13:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b28f2d83b15d38abdb502e9759a9abe510efdad', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nNB: The first depends-on is only for temporary testing of another\nwhich changes the substrate ramdisk interface. Since this change pulls\nin tempest testing for iso ramdisk and uses it, might as well\nuse it to test if the change works or not as the other two patches\nbelow are known to be in a good state.\n\nDepends-On: https://review.opendev.org/#/c/736378\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}, {'number': 13, 'created': '2020-08-17 17:15:00.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e7f1cb57024b2ef44c778dd1dcf183294503901', 'message': 'ISO ramdisk virtual media test enablement\n\nSets the settings to enable the ramdisk iso booting tests\nincluding a bootable ISO image that should boot the machine.\n\nNB: The first depends-on is only for temporary testing of another\nwhich changes the substrate ramdisk interface. Since this change pulls\nin tempest testing for iso ramdisk and uses it, might as well\nuse it to test if the change works or not as the other two patches\nbelow are known to be in a good state.\n\nChange-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e\n'}]",4,736383,9e7f1cb57024b2ef44c778dd1dcf183294503901,98,9,13,11655,,,0,"ISO ramdisk virtual media test enablement

Sets the settings to enable the ramdisk iso booting tests
including a bootable ISO image that should boot the machine.

NB: The first depends-on is only for temporary testing of another
which changes the substrate ramdisk interface. Since this change pulls
in tempest testing for iso ramdisk and uses it, might as well
use it to test if the change works or not as the other two patches
below are known to be in a good state.

Change-Id: I5d4213b0ba4f7884fb542e7d6680f95fc94e112e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/736383/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic']",2,1ebdbe4b24b5b905fc3cff37664cdfd38744a616,736383,"IRONIC_ENABLED_DEPLOY_INTERFACES=${IRONIC_ENABLED_DEPLOY_INTERFACES:-""fake,iscsi,direct,ramdisk""} if [[ ""$IRONIC_RAMDISK_IMAGE"" != """" ]]; then iniset $TEMPEST_CONFIG baremetal ramdisk_iso_image_ref ""$IRONIC_RAMDISK_IMAGE"" fi","IRONIC_ENABLED_DEPLOY_INTERFACES=${IRONIC_ENABLED_DEPLOY_INTERFACES:-""fake,iscsi,direct""}",9,1
openstack%2Fironic~master~I2f46a67580e8a607a91a3f6660feb85ed1827dc8,openstack/ironic,master,I2f46a67580e8a607a91a3f6660feb85ed1827dc8,OOB one button secure erase for iLO5 based HPE Proliant servers.,MERGED,2020-07-30 05:12:36.000000000,2020-09-06 11:23:44.000000000,2020-09-06 11:21:34.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22271}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-30 05:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77071dfda207b42ee03056392aa05a7d0f108a81', 'message': '[WIP] OOB one button secure erase for iLO5 based HPE Proliant servers.\n\nThis commit add functionality to perform out-of-band one button\nsecure erase for iLO5 based HPE Proliant servers. Using this a\nuser can securely erase the whole system. It includes deleting\nany deployment settings profiles, all licenses, AHS and warranty\ndata stored there, reseting BIOS and erasing supported non-volatile\nstorage data.\n\nChange-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8\nStory: #2007964\nTask: #40458\n'}, {'number': 2, 'created': '2020-08-06 05:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69db3d3ba2703f1b3860cbd042afa9176496cb86', 'message': '[WIP] OOB one button secure erase for iLO5 based HPE Proliant servers.\n\nThis commit add functionality to perform out-of-band one button\nsecure erase for iLO5 based HPE Proliant servers. Using this a\nuser can securely erase the whole system. It includes deleting\nany deployment settings profiles, all licenses, AHS and warranty\ndata stored there, reseting BIOS and erasing supported non-volatile\nstorage data.\n\nChange-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8\nStory: #2007964\nTask: #40458\n'}, {'number': 3, 'created': '2020-09-02 05:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/140fa5f4279e696c9e08c0beeb51c33b342c188c', 'message': '[WIP] OOB one button secure erase for iLO5 based HPE Proliant servers.\n\nThis commit add functionality to perform out-of-band one button\nsecure erase for iLO5 based HPE Proliant servers. Using this a\nuser can securely erase the whole system. It includes deleting\nany deployment settings profiles, all licenses, AHS and warranty\ndata stored there, reseting BIOS and erasing supported non-volatile\nstorage data.\n\nChange-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8\nStory: #2007964\nTask: #40458\n'}, {'number': 4, 'created': '2020-09-02 07:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3202451aaac6b60f96efc0dfb980e312bf161e4', 'message': 'OOB one button secure erase for iLO5 based HPE Proliant servers.\n\nThis commit adds functionality to perform out-of-band one button\nsecure erase for iLO5 based HPE Proliant servers. Using this a\nuser can securely erase the whole system. It includes deleting\nany deployment settings profiles, all licenses, AHS and warranty\ndata stored there, reseting BIOS and erasing supported non-volatile\nstorage data.\n\nChange-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8\nStory: #2007964\nTask: #40458\n'}, {'number': 5, 'created': '2020-09-02 07:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2306dc85d20f88b70257317ec4437f0e638862d1', 'message': 'OOB one button secure erase for iLO5 based HPE Proliant servers.\n\nThis commit adds functionality to perform out-of-band one button\nsecure erase for iLO5 based HPE Proliant servers. Using this a\nuser can securely erase the whole system. It includes deleting\nany deployment settings profiles, all licenses, AHS and warranty\ndata stored there, reseting BIOS and erasing supported non-volatile\nstorage data.\n\nChange-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8\nStory: #2007964\nTask: #40458\n'}, {'number': 6, 'created': '2020-09-04 05:32:41.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/modules/ilo/management.py', 'releasenotes/notes/ilo5-oob-one-button-secure-erase-f55628f8aa767c20.yaml', 'driver-requirements.txt', 'ironic/tests/unit/drivers/modules/ilo/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9fb4074bfef7b6e4ead7d3cedf7120668966eaa1', 'message': 'OOB one button secure erase for iLO5 based HPE Proliant servers.\n\nThis commit adds functionality to perform out-of-band one button\nsecure erase for iLO5 based HPE Proliant servers. Using this a\nuser can securely erase the whole system. It includes deleting\nany deployment settings profiles, all licenses, Active Health\nSystem (AHS) and warranty data stored there, reseting BIOS and\nerasing supported non-volatile storage data.\n\nChange-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8\nStory: #2007964\nTask: #40458\n'}]",22,743868,9fb4074bfef7b6e4ead7d3cedf7120668966eaa1,43,7,6,22271,,,0,"OOB one button secure erase for iLO5 based HPE Proliant servers.

This commit adds functionality to perform out-of-band one button
secure erase for iLO5 based HPE Proliant servers. Using this a
user can securely erase the whole system. It includes deleting
any deployment settings profiles, all licenses, Active Health
System (AHS) and warranty data stored there, reseting BIOS and
erasing supported non-volatile storage data.

Change-Id: I2f46a67580e8a607a91a3f6660feb85ed1827dc8
Story: #2007964
Task: #40458
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/743868/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/management.py', 'releasenotes/notes/ilo5-oob-one-button-secure-erase-f55628f8aa767c20.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_management.py']",3,77071dfda207b42ee03056392aa05a7d0f108a81,," @mock.patch.object(ilo_management.LOG, 'info') @mock.patch.object(ilo_common, 'get_ilo_object', autospec=True) def test_one_button_secure_erase(self, ilo_mock, log_mock): ilo_mock_object = ilo_mock.return_value self.node.clean_step = {'step': 'one_button_secure_erase', 'interface': 'management'} self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.driver.management.one_button_secure_erase(task) self.assertTrue(log_mock.called) self.assertTrue( ilo_mock_object.do_one_button_secure_erase.called) @mock.patch.object(ilo_common, 'get_ilo_object', autospec=True) @mock.patch.object(ilo_management.Ilo5Management, '_set_clean_failed') def test_one_button_secure_erase_ilo_error( self, set_clean_failed_mock, ilo_mock): ilo_mock_object = ilo_mock.return_value self.node.clean_step = {'step': 'one_button_secure_erase', 'interface': 'management'} self.node.save() exc = ilo_error.IloError('error') ilo_mock_object.do_one_button_secure_erase.side_effect = exc with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.driver.management.one_button_secure_erase(task) set_clean_failed_mock.assert_called_once_with( task, exc) self.assertTrue( ilo_mock_object.do_one_button_secure_erase.called)",,65,3
openstack%2Ftempest~master~I5564ff0b71f56445977a79c2c813b2e3e31000c9,openstack/tempest,master,I5564ff0b71f56445977a79c2c813b2e3e31000c9,Adding description for testcases - compute part12,MERGED,2020-08-13 08:55:12.000000000,2020-09-06 11:12:15.000000000,2020-09-06 11:11:03.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-13 08:55:12.000000000', 'files': ['tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/api/compute/servers/test_instance_actions_negative.py', 'tempest/api/compute/floating_ips/test_list_floating_ips_negative.py', 'tempest/api/compute/servers/test_server_rescue.py', 'tempest/api/compute/servers/test_instance_actions.py', 'tempest/api/compute/floating_ips/test_floating_ips_actions_negative.py', 'tempest/api/compute/volumes/test_attach_volume_negative.py', 'tempest/api/compute/floating_ips/test_list_floating_ips.py', 'tempest/api/compute/servers/test_device_tagging.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/735e169ff5286b2f01eff2d8906df9c85be3cb9a', 'message': 'Adding description for testcases - compute part12\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I5564ff0b71f56445977a79c2c813b2e3e31000c9\npartially-implements: blueprint testcase-description\n'}]",0,746028,735e169ff5286b2f01eff2d8906df9c85be3cb9a,8,3,1,20190,,,0,"Adding description for testcases - compute part12

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I5564ff0b71f56445977a79c2c813b2e3e31000c9
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/746028/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/api/compute/servers/test_instance_actions_negative.py', 'tempest/api/compute/floating_ips/test_list_floating_ips_negative.py', 'tempest/api/compute/servers/test_server_rescue.py', 'tempest/api/compute/servers/test_instance_actions.py', 'tempest/api/compute/floating_ips/test_floating_ips_actions_negative.py', 'tempest/api/compute/volumes/test_attach_volume_negative.py', 'tempest/api/compute/floating_ips/test_list_floating_ips.py', 'tempest/api/compute/servers/test_device_tagging.py']",9,735e169ff5286b2f01eff2d8906df9c85be3cb9a,bp/testcase-description," """"""Test tagged boot device with compute microversion equals 2.32"""""" """"""Test tagged boot devices 1. Create volumes 2. Create networks 3. Create subnets 4. Create ports 5. Create server, specifying tags for items in networks and block_device_mapping_v2, 6. Verify tagged devices are in server via metadata service """""" """"""Test tagged boot devices with compute microversion greater than 2.41"""""" """"""Test tagged attachments with compute microversion greater than 2.48"""""" """"""Test tagged attachment 1. Create network 2. Create subnet 3. Create volume 4. Create server 5. Attach tagged networks and volume 6. Verify tagged devices are in server via metadata service 7. Detach tagged networks and volume """"""",,110,29
openstack%2Fvitrage~master~Icab4bca5ad0303bf56c2e754b640bb7d6dbca6ee,openstack/vitrage,master,Icab4bca5ad0303bf56c2e754b640bb7d6dbca6ee,Update api: Event POST,MERGED,2020-09-03 04:22:45.000000000,2020-09-06 10:53:05.000000000,2020-09-06 10:50:16.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 04:22:45.000000000', 'files': ['doc/source/contributor/vitrage-api.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/99682219f31ba67ae7404c4d9de56289fdf08ef7', 'message': 'Update api: Event POST\n\nFix request parameters in http request.\n\nChange-Id: Icab4bca5ad0303bf56c2e754b640bb7d6dbca6ee\n'}]",0,749633,99682219f31ba67ae7404c4d9de56289fdf08ef7,7,2,1,30408,,,0,"Update api: Event POST

Fix request parameters in http request.

Change-Id: Icab4bca5ad0303bf56c2e754b640bb7d6dbca6ee
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/33/749633/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vitrage-api.rst'],1,99682219f31ba67ae7404c4d9de56289fdf08ef7,api," 'time': '2016-04-12T08:00:00', 'type': 'compute.host.down', 'details': { 'hostname': 'compute-1', 'source': 'sample_monitor', 'cause': 'link-down', 'severity': 'critical', 'status': 'down', 'monitor_id': 'monitor-1', 'monitor_event_id': '123',"," 'event': { 'time': '2016-04-12T08:00:00', 'type': 'compute.host.down', 'details': { 'hostname': 'compute-1', 'source': 'sample_monitor', 'cause': 'link-down', 'severity': 'critical', 'status': 'down', 'monitor_id': 'monitor-1', 'monitor_event_id': '123', }",10,12
openstack%2Fkolla~master~I1eefcfceded985b5f61ee8d796f9d8994c9ee97c,openstack/kolla,master,I1eefcfceded985b5f61ee8d796f9d8994c9ee97c,Emergency fixes to pass CI,MERGED,2020-09-05 15:58:56.000000000,2020-09-06 09:00:49.000000000,2020-09-06 08:59:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-05 15:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e4a7d9f3bf6c3c203be05de7a69fec5693a0588d', 'message': 'Emergency fixes to pass CI\n\n1) makes bifrost unbuildable as it evolves rapidly at the moment\n2) makes neutron bootstrap/upgrade only the core service [1]\n\n1) will be reverted\n2) will be made more flexible\n\n[1] https://bugs.launchpad.net/bgpvpn/+bug/1894056\n\nChange-Id: I1eefcfceded985b5f61ee8d796f9d8994c9ee97c\n'}, {'number': 2, 'created': '2020-09-05 17:42:24.000000000', 'files': ['kolla/image/build.py', 'docker/neutron/neutron-server/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2725ed9d842622078e31165d91718e58d07620e0', 'message': 'Emergency fixes to pass CI\n\n1) makes bifrost unbuildable as it evolves rapidly at the moment\n2) makes neutron bootstrap/upgrade only the core service [1]\n\n1) will be reverted\n2) will be made more flexible\n\n[1] https://bugs.launchpad.net/bgpvpn/+bug/1894056\n\nChange-Id: I1eefcfceded985b5f61ee8d796f9d8994c9ee97c\n'}]",1,750075,2725ed9d842622078e31165d91718e58d07620e0,15,5,2,30491,,,0,"Emergency fixes to pass CI

1) makes bifrost unbuildable as it evolves rapidly at the moment
2) makes neutron bootstrap/upgrade only the core service [1]

1) will be reverted
2) will be made more flexible

[1] https://bugs.launchpad.net/bgpvpn/+bug/1894056

Change-Id: I1eefcfceded985b5f61ee8d796f9d8994c9ee97c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/750075/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/neutron/neutron-server/extend_start.sh']",2,e4a7d9f3bf6c3c203be05de7a69fec5693a0588d,emergency-ci-fix," # if [[ ""${!NEUTRON_BOOTSTRAP_SERVICES[@]}"" ]]; then # for service in ${NEUTRON_BOOTSTRAP_SERVICES}; do # neutron-db-manage --subproject $service upgrade head # done # fi # FIXME(yoctozepto): dirty hack to pass CI (uncomment the above when done) neutron-db-manage --subproject neutron upgrade head # if [[ ""${!NEUTRON_ROLLING_UPGRADE_SERVICES[@]}"" ]]; then # for service in ${NEUTRON_ROLLING_UPGRADE_SERVICES}; do # neutron-db-manage --subproject $service upgrade $DB_ACTION # done # fi # FIXME(yoctozepto): dirty hack to pass CI (uncomment the above when done) neutron-db-manage --subproject neutron upgrade $DB_ACTION"," OPTS=""--config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini"" neutron-db-manage ${OPTS} --subproject neutron upgrade head neutron-db-manage ${OPTS} --subproject neutron-dynamic-routing upgrade head neutron-db-manage ${OPTS} --subproject neutron-vpnaas upgrade head exit 0 fi # Bootstrap and exit if KOLLA_BOOTSTRAP and NEUTRON_SFC_ENABLED variables are set. # This catches all cases of the KOLLA_BOOTSTRAP and NEUTRON_SFC_ENABLED variable # being set, including empty. if [[ ""${!NEUTRON_SFC_BOOTSTRAP[@]}"" ]]; then neutron-db-manage --subproject networking-sfc --config-file /etc/neutron/neutron.conf upgrade head if [[ ""${!NEUTRON_ROLLING_UPGRADE_SERVICES[@]}"" ]]; then for service in ${NEUTRON_ROLLING_UPGRADE_SERVICES}; do neutron-db-manage --subproject $service upgrade $DB_ACTION done fi",19,17
openstack%2Fkolla-ansible~stable%2Frocky~I09694b38420ea67896bb8cf4ffd7ce6f131af10e,openstack/kolla-ansible,stable/rocky,I09694b38420ea67896bb8cf4ffd7ce6f131af10e,Add default value for kolla_internal_address variable,ABANDONED,2020-09-04 08:30:05.000000000,2020-09-06 08:06:47.000000000,,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 08:30:05.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/251b46f96d86dfeba61e132804f0d3ee58fe2831', 'message': 'Add default value for kolla_internal_address variable\n\nThe ""kolla_internal_address"" variable is not documented or defined\nanywhere. When ""kolla_internal_vip_address"" is undefined, the error\nmessage is about ""kolla_internal_address"", which will confuse operators.\n\nThis change adds a default value for ""kolla_internal_vip_address"" when\n""kolla_internal_address"" is undefined.\n\nChange-Id: I09694b38420ea67896bb8cf4ffd7ce6f131af10e\nCloses-Bug: #1864206\n(cherry picked from commit b4603d927152f95848e56f6cf3ed4acd88baa377)\n'}]",0,749902,251b46f96d86dfeba61e132804f0d3ee58fe2831,5,3,1,22629,,,0,"Add default value for kolla_internal_address variable

The ""kolla_internal_address"" variable is not documented or defined
anywhere. When ""kolla_internal_vip_address"" is undefined, the error
message is about ""kolla_internal_address"", which will confuse operators.

This change adds a default value for ""kolla_internal_vip_address"" when
""kolla_internal_address"" is undefined.

Change-Id: I09694b38420ea67896bb8cf4ffd7ce6f131af10e
Closes-Bug: #1864206
(cherry picked from commit b4603d927152f95848e56f6cf3ed4acd88baa377)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/749902/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,251b46f96d86dfeba61e132804f0d3ee58fe2831,bug/1864206-stable/ussuri-stable/train-stable/stein-stable/rocky,"kolla_internal_vip_address: ""{{ kolla_internal_address | default('') }}""","kolla_internal_vip_address: ""{{ kolla_internal_address }}""",1,1
openstack%2Frequirements~master~I4b33930856be9b05be47fc8599dad30eb8bbb9d6,openstack/requirements,master,I4b33930856be9b05be47fc8599dad30eb8bbb9d6,Updated from generate-constraints,ABANDONED,2020-09-02 06:29:24.000000000,2020-09-06 06:19:10.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-02 06:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a315914974c41be4fac8b0b444dec479ae70f19', 'message': 'Updated from generate-constraints\n\nChange-Id: I4b33930856be9b05be47fc8599dad30eb8bbb9d6\n'}, {'number': 2, 'created': '2020-09-02 07:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1f69b625b6fd5c84aa0ecfb8c107f7efa6e483f2', 'message': 'Updated from generate-constraints\n\nChange-Id: I4b33930856be9b05be47fc8599dad30eb8bbb9d6\n'}, {'number': 3, 'created': '2020-09-02 12:50:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5dbcf09ddabc40407191a3aa9defdb445db5c760', 'message': 'Updated from generate-constraints\n\nChange-Id: I4b33930856be9b05be47fc8599dad30eb8bbb9d6\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,749442,5dbcf09ddabc40407191a3aa9defdb445db5c760,22,3,3,11131,,,0,"Updated from generate-constraints

Change-Id: I4b33930856be9b05be47fc8599dad30eb8bbb9d6
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/749442/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3a315914974c41be4fac8b0b444dec479ae70f19,openstack/requirements/constraints/noclob,eventlet===0.27.0oslo.messaging===12.4.0mock===4.0.2libvirt-python===6.7.0docutils===0.16boto3===1.14.53botocore===1.17.53Django===2.2.16pkg-resources===0.0.0,eventlet===0.26.1oslo.messaging===12.3.0mock===3.0.5libvirt-python===6.6.0docutils===0.15.2boto3===1.14.52botocore===1.17.52Django===2.2.15,9,8
openstack%2Fpython-octaviaclient~master~I415d2438ddfe994631ef02637c216f4579dd81a1,openstack/python-octaviaclient,master,I415d2438ddfe994631ef02637c216f4579dd81a1,Add amphora delete command,MERGED,2020-04-08 05:57:41.000000000,2020-09-06 03:35:43.000000000,2020-09-06 03:34:35.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-08 05:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4bfff67da1091f6e6863188b907bffffcf5ebd83', 'message': 'Add amphora delete command\n\nThis patch adds the ""openstack loadbalancer amphora delete"" command.\n\nDepends-On: https://review.opendev.org/718293\nChange-Id: I415d2438ddfe994631ef02637c216f4579dd81a1\n'}, {'number': 2, 'created': '2020-05-19 19:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/87b911c231e5cc3d0c31d82a6af5ef1c79740e44', 'message': 'Add amphora delete command\n\nThis patch adds the ""openstack loadbalancer amphora delete"" command.\n\nDepends-On: https://review.opendev.org/718293\nChange-Id: I415d2438ddfe994631ef02637c216f4579dd81a1\n'}, {'number': 3, 'created': '2020-09-04 18:30:35.000000000', 'files': ['releasenotes/notes/add-amphora-delete-0fe5f2097da92b5c.yaml', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'setup.cfg', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4ca156a5fc076656422f78171eb0dca7f40f4dfd', 'message': 'Add amphora delete command\n\nThis patch adds the ""openstack loadbalancer amphora delete"" command.\n\nDepends-On: https://review.opendev.org/718293\nChange-Id: I415d2438ddfe994631ef02637c216f4579dd81a1\n'}]",5,718311,4ca156a5fc076656422f78171eb0dca7f40f4dfd,18,4,3,11628,,,0,"Add amphora delete command

This patch adds the ""openstack loadbalancer amphora delete"" command.

Depends-On: https://review.opendev.org/718293
Change-Id: I415d2438ddfe994631ef02637c216f4579dd81a1
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/11/718311/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-amphora-delete-0fe5f2097da92b5c.yaml', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'setup.cfg', 'octaviaclient/tests/unit/api/test_octavia.py']",8,4bfff67da1091f6e6863188b907bffffcf5ebd83,," def test_delete_amphora(self): self.requests_mock.register_uri( 'DELETE', FAKE_OCTAVIA_URL + 'amphorae/' + FAKE_AMP, status_code=200 ) ret = self.api.amphora_delete(FAKE_AMP) self.assertEqual(200, ret.status_code) ",,99,2
openstack%2Ftripleo-heat-templates~master~I918b6c16db6ed70d9ad612aecd7af7d725520f7b,openstack/tripleo-heat-templates,master,I918b6c16db6ed70d9ad612aecd7af7d725520f7b,pcs commands on host: ovn dbs,MERGED,2020-02-15 21:33:45.000000000,2020-09-06 01:23:20.000000000,2020-09-06 01:23:19.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-15 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa9b9af88cb738c16284db8bc0b887fc759eac7d', 'message': 'WIP pcs commands on host:  ovn dbs, missing the old cruft removal stuff\n\nTODO still need to add the cruft removal bits\nAlso likely requires the resource agent to be present\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n'}, {'number': 2, 'created': '2020-02-18 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8aff207f4aafbd6f7075a308e431b1e50b5f39fa', 'message': 'WIP pcs commands on host: ovn dbs, missing the old cruft removal stuff\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n'}, {'number': 3, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f52581484867ee4a930975307291476f6a4269e', 'message': 'WIP pcs commands on host: ovn dbs, missing the old cruft removal stuff\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n'}, {'number': 4, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9e82b1cbb13aab6bfc40126fb3408c15511d236', 'message': ""WIP pcs commands on host: ovn dbs, missing the old cruft removal stuff\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to tell pcs to ignore things.\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 5, 'created': '2020-05-01 11:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d0df7c451ff67bdafc75374acb8a26da1abff9b', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 6, 'created': '2020-05-05 06:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f7fa1c31b6dedfdb1c386ee508586ce045fa844', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 7, 'created': '2020-05-05 10:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f4a349e8c1b8b8e324be2d2ac159b28b59b901c', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 8, 'created': '2020-05-05 13:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5991d77b9c5201ee66e1e6c85839e5308f4c498f', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 9, 'created': '2020-05-08 06:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4525986f34a053c2e8289ee06bdeba800c72a4c7', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 10, 'created': '2020-05-10 16:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be0db753f83bba13b7d203d127403a001c669c56', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 11, 'created': '2020-05-15 08:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d96b75776d1717d8f6eef89d7313696d89d1819b', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 12, 'created': '2020-05-18 09:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9155932476f764496cf6b0c9265a9ca3040690e', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 13, 'created': '2020-05-18 09:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7147c3d11cb02192bcb795d9d42b3e0b99672204', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 14, 'created': '2020-05-19 11:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd71253b0c7cb8d4fb52bb15202664061079cbf1', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 15, 'created': '2020-05-19 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8751eabb5e588ea4dffbaa90713a6686133debb', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 16, 'created': '2020-05-19 20:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8fadb3dcd8f29cdceae2eca4841c44e4b865ad2', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 17, 'created': '2020-05-20 10:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97af243182b1c3e7c47478868ab453ecbc4e2bd1', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 18, 'created': '2020-05-20 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a61af1eb4e42194248d1b3ce842f9dc15cc716e', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 19, 'created': '2020-05-21 04:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0de36fe007845fe17e4e3aee6bd951c2adff90', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 20, 'created': '2020-05-25 07:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0535bbc1ed71f20a3c5d3336a653812b9085d0d2', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 21, 'created': '2020-05-26 20:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a204efeac64f8b494ba51405c2df2728fbdc030a', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 22, 'created': '2020-06-15 08:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ad035821ffadd25df6438f41066dd1bee1b308a', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 23, 'created': '2020-06-16 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fff7f0826d5860f6b80f6dd8be21d15998e29ac', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 24, 'created': '2020-06-22 06:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15ad747d0fd2c38a13feec5c42228a08105ee8fa', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 25, 'created': '2020-06-29 06:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/570a801c59672261674427b743b24b5bed0c718b', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 26, 'created': '2020-07-02 06:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b61a7eca3ff7f7e75a34628127f390be78cf9a35', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 27, 'created': '2020-07-04 07:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14b8156dfa7d42401c595202cb30275340e6989b', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 28, 'created': '2020-07-06 15:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0721ef28ef97292e5e1a85320d1532ecfc61d732', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 29, 'created': '2020-07-13 09:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7b65e193faf0d6f1a790539bdd895dbfb564ce8', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 30, 'created': '2020-07-19 08:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41512c748f3d7e75895444e0f2215b63e92292ee', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 31, 'created': '2020-08-11 13:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3d3c659ea3a97cf05b5efbadb2587259148080d', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 32, 'created': '2020-08-19 13:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b868120b918d5bd916fa3a9e393b4321e5f2e00', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 33, 'created': '2020-08-25 10:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2c26bd53ac967e4ecb318cae115136e0d6c58c4', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 34, 'created': '2020-08-25 17:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb5f0bd49aba9ac3763382a2bfb59ea2e5e3059c', 'message': ""WIP pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 35, 'created': '2020-08-25 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/928af222d986afb9079a82d7e747477cdcf6a44f', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 36, 'created': '2020-08-26 06:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8780c930237a270d66f3b534c4286ea761473a7', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 37, 'created': '2020-08-28 18:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e3afe61589e8cfe606645df8378028293dac21d', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 38, 'created': '2020-09-01 17:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9646b82d7d7da6ee4e898e5538ce453c52bb8225', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}, {'number': 39, 'created': '2020-09-03 13:01:25.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e76e1fb72ce1af012abf412c179d286fd127bd9', 'message': ""pcs commands on host: ovn dbs\n\nWe add the following depends on because at this stage ovn will be\ncreated on the host and the resource-agent won't be present so\nwe have to be able to tell pcs to ignore the non existance of the\novn-dbs ocfg resource on the host.\n\nDepends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b\nRelated-Bug: #1863442\n""}]",0,707957,4e76e1fb72ce1af012abf412c179d286fd127bd9,175,5,39,20172,,,0,"pcs commands on host: ovn dbs

We add the following depends on because at this stage ovn will be
created on the host and the resource-agent won't be present so
we have to be able to tell pcs to ignore the non existance of the
ovn-dbs ocfg resource on the host.

Depends-On: If9048196b5c03e3cfaba72f043b7f7275568bdc4
Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I918b6c16db6ed70d9ad612aecd7af7d725520f7b
Related-Bug: #1863442
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/707957/33 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,aa9b9af88cb738c16284db8bc0b887fc759eac7d,pcs_host3," - name: OVN DBS init bundle when: step|int == 2 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::ovn_dbs_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: OVN DBS restart bundle when: step|int == 2 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh ovn_dbs ovndb_servers ovn-dbs-bundle Slave Master"," docker_config: step_3: ovn_dbs_init_bundle: start_order: 0 detach: false net: host ipc: host user: root config_volume: 'ovn_dbs_init_bundle' command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '3' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation,ovn_dbs_remove_old_cruft' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::ovn_dbs_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: *ovn_dbs_config_image volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null - if: - internal_tls_enabled - - /etc/pki/tls/certs/ovn_dbs.crt:/etc/pki/tls/certs/ovn_dbs.crt:ro - /etc/pki/tls/private/ovn_dbs.key:/etc/pki/tls/private/ovn_dbs.key:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} ovn_dbs_restart_bundle: start_order: 1 config_volume: ovn_dbs detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh ovn_dbs ovndb_servers ovn-dbs-bundle Slave Master image: {get_param: ContainerOvnDbsConfigImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - if: - internal_tls_enabled - - /etc/pki/tls/certs/ovn_dbs.crt:/etc/pki/tls/certs/ovn_dbs.crt:ro - /etc/pki/tls/private/ovn_dbs.key:/etc/pki/tls/private/ovn_dbs.key:ro - null",27,58
openstack%2Ftempest~master~I26f0b5dc72c3b1943e913e63b36e2beb4af1cede,openstack/tempest,master,I26f0b5dc72c3b1943e913e63b36e2beb4af1cede,Adding description for testcases - compute part7,MERGED,2020-08-12 05:55:32.000000000,2020-09-05 22:49:36.000000000,2020-09-05 22:46:25.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-12 05:55:32.000000000', 'files': ['tempest/api/compute/security_groups/test_security_group_rules_negative.py', 'tempest/api/compute/test_extensions.py', 'tempest/api/compute/keypairs/test_keypairs.py', 'tempest/api/compute/test_networks.py', 'tempest/api/compute/security_groups/test_security_groups_negative.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/api/compute/test_tenant_networks.py', 'tempest/api/compute/keypairs/test_keypairs_negative.py', 'tempest/api/compute/security_groups/test_security_group_rules.py', 'tempest/api/compute/certificates/test_certificates.py', 'tempest/api/compute/keypairs/test_keypairs_v22.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/36ef089e18784cd0df227b568ffa19671114da0f', 'message': 'Adding description for testcases - compute part7\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I26f0b5dc72c3b1943e913e63b36e2beb4af1cede\npartially-implements: blueprint testcase-description\n'}]",0,745785,36ef089e18784cd0df227b568ffa19671114da0f,14,5,1,20190,,,0,"Adding description for testcases - compute part7

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I26f0b5dc72c3b1943e913e63b36e2beb4af1cede
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/745785/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/security_groups/test_security_group_rules_negative.py', 'tempest/api/compute/test_extensions.py', 'tempest/api/compute/keypairs/test_keypairs.py', 'tempest/api/compute/test_networks.py', 'tempest/api/compute/security_groups/test_security_groups_negative.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/api/compute/test_tenant_networks.py', 'tempest/api/compute/keypairs/test_keypairs_negative.py', 'tempest/api/compute/security_groups/test_security_group_rules.py', 'tempest/api/compute/certificates/test_certificates.py', 'tempest/api/compute/keypairs/test_keypairs_v22.py']",11,36ef089e18784cd0df227b568ffa19671114da0f,bp/testcase-description," """"""Test keypairs API with compute microversion greater than 2.1"""""" """"""Test create/list/show keypair"""""" """"""Test create/list/show keypair with keypair type""""""",,131,70
openstack%2Foslo.cache~master~I27f5eb855585aace3417f1729b927d6c4a823f8f,openstack/oslo.cache,master,I27f5eb855585aace3417f1729b927d6c4a823f8f,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-01 22:25:15.000000000,2020-09-05 21:50:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-01 22:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/39e204a95684847ddc9ec095b8708143dcb1b414', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nChange-Id: I27f5eb855585aace3417f1729b927d6c4a823f8f\n'}, {'number': 2, 'created': '2020-08-02 19:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c8458f01251c2a7aa35a0648c33732b565dea677', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I27f5eb855585aace3417f1729b927d6c4a823f8f\n'}, {'number': 3, 'created': '2020-09-05 20:27:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/422603a05a945dae1791ccc6bf105bb6b4a0c85c', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40207\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I27f5eb855585aace3417f1729b927d6c4a823f8f\n'}]",0,744308,422603a05a945dae1791ccc6bf105bb6b4a0c85c,7,1,3,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40207

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I27f5eb855585aace3417f1729b927d6c4a823f8f
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/08/744308/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,39e204a95684847ddc9ec095b8708143dcb1b414,migrate-to-focal,#test focal,,1,0
openstack%2Fstackviz~master~I334c6b76d99c10ca67c42c54141d32d409ae4947,openstack/stackviz,master,I334c6b76d99c10ca67c42c54141d32d409ae4947,Stop to use the __future__ module.,MERGED,2020-06-02 18:58:32.000000000,2020-09-05 21:48:23.000000000,2020-09-05 21:47:17.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:58:32.000000000', 'files': ['stackviz/export.py'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/1d7332f3ef28aa9f8904d3c2db31104376567c25', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I334c6b76d99c10ca67c42c54141d32d409ae4947\n""}]",0,732952,1d7332f3ef28aa9f8904d3c2db31104376567c25,21,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I334c6b76d99c10ca67c42c54141d32d409ae4947
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/52/732952/1 && git format-patch -1 --stdout FETCH_HEAD,['stackviz/export.py'],1,1d7332f3ef28aa9f8904d3c2db31104376567c25,drop_future_imports,,from __future__ import print_function ,0,2
openstack%2Fpython-heatclient~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/python-heatclient,master,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-26 23:40:32.000000000,2020-09-05 21:17:54.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 23:40:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b466fc4c83d1bb053129dec435144f5e8aa4b81e', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\nStory: #2007865\nTask: #40186\n'}]",0,743102,b466fc4c83d1bb053129dec435144f5e8aa4b81e,9,3,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs

Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
Story: #2007865
Task: #40186
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/02/743102/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b466fc4c83d1bb053129dec435144f5e8aa4b81e,migrate-to-focal,#test focal,,1,0
openstack%2Ftempest~master~I60d39b91ae064300347a789aa1b72a3115afae76,openstack/tempest,master,I60d39b91ae064300347a789aa1b72a3115afae76,Adding description for testcases - swift part3,MERGED,2020-08-18 09:06:41.000000000,2020-09-05 21:07:01.000000000,2020-09-05 21:05:50.000000000,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-18 09:06:41.000000000', 'files': ['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_container_staticweb.py', 'tempest/api/object_storage/test_container_services_negative.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_object_temp_url.py', 'tempest/api/object_storage/test_container_acl_negative.py', 'tempest/api/object_storage/test_object_formpost.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85535164b78d34e128fae935cc753f3c4805b0a6', 'message': 'Adding description for testcases - swift part3\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I60d39b91ae064300347a789aa1b72a3115afae76\npartially-implements: blueprint testcase-description\n'}]",0,746666,85535164b78d34e128fae935cc753f3c4805b0a6,11,5,1,20190,,,0,"Adding description for testcases - swift part3

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I60d39b91ae064300347a789aa1b72a3115afae76
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/746666/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_container_staticweb.py', 'tempest/api/object_storage/test_container_services_negative.py', 'tempest/api/object_storage/test_object_formpost_negative.py', 'tempest/api/object_storage/test_object_temp_url.py', 'tempest/api/object_storage/test_container_acl_negative.py', 'tempest/api/object_storage/test_object_formpost.py']",7,85535164b78d34e128fae935cc753f3c4805b0a6,bp/testcase-description," """"""Test object post with form"""""" """"""Test posting object using form""""""",,39,23
openstack%2Fnova~master~I46846627311beb21946fd4d24048e0e3ea7ac942,openstack/nova,master,I46846627311beb21946fd4d24048e0e3ea7ac942,Add type hints to 'nova.virt.libvirt.utils',MERGED,2020-07-24 11:52:54.000000000,2020-09-05 20:42:07.000000000,2020-09-05 07:19:51.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb4052bbd997363b3d0808fb040609f7fce69f3d', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87d63cd8c11a6c197a755e9581a251b6ea10d8c0', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bc4b5268256f1f4dd4a9e947bb6ac6890e7e2a3', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba9f3fd6a16ce62c0f6d8b1c070b5f659d7f5250', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65537440e6cd8a163bbc43836d37bcb334d63ae5', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7c5ebcbdb679d8e4db43d05237e03e269bf9375', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35946e22b93d3e1656b9e5a200a480f07e82b34f', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-08-25 17:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afd8b536a22fa17d951a215c757cb0d889f3e321', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-08-26 08:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f89db92c79f86afb5710ec729b852dd906335a0a', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2020-08-26 14:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ad14274897f3e402c4def9bca6c532f7ee4e3bd', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2020-09-01 15:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5c09b36b3a0cd7f9ab46667064422b816ad00d6', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2020-09-04 13:43:49.000000000', 'files': ['nova/virt/libvirt/driver.py', 'mypy-files.txt', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f1f71620ad7abb3593ea484c60eee2effbc63f5', 'message': ""Add type hints to 'nova.virt.libvirt.utils'\n\nThe ROI for these util modules is pretty high, given how they are used.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I46846627311beb21946fd4d24048e0e3ea7ac942\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,742865,6f1f71620ad7abb3593ea484c60eee2effbc63f5,162,16,12,15334,,,0,"Add type hints to 'nova.virt.libvirt.utils'

The ROI for these util modules is pretty high, given how they are used.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I46846627311beb21946fd4d24048e0e3ea7ac942
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/742865/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'mypy-files.txt', 'nova/virt/libvirt/utils.py']",3,cb4052bbd997363b3d0808fb040609f7fce69f3d,bp/add-emulated-virtual-tpm,"import typing as tyfrom nova import context as nova_contextif ty.TYPE_CHECKING: from nova.virt.libvirt import guest as libvirt_guest def create_image( disk_format: str, path: str, size: ty.Union[str, int], ) -> None:def create_cow_image( backing_file: ty.Optional[str], path: str, size: ty.Optional[int] = None, ) -> None:def create_ploop_image( disk_format: str, path: str, size: ty.Union[int, str], fs_type: str, ) -> None:def pick_disk_driver_name( hypervisor_version: int, is_block_dev: bool = False, ) -> ty.Optional[str]:def get_disk_size(path: str, format: ty.Optional[str] = None) -> int:def get_disk_backing_file( path: str, basename: bool = True, format: ty.Optional[str] = None, ) -> ty.Optional[str]:def copy_image( src: str, dest: str, host: ty.Optional[str] = None, receive: bool = False, on_execute: ty.Callable = None, on_completion: ty.Callable = None, compression: bool = True, ) -> None:# TODO(stephenfin): This is dumb; remove it. def write_to_file(path: str, contents: str) -> None:def chown_for_id_maps( path: str, id_maps: ty.List[vconfig.LibvirtConfigGuestIDMap], ) -> None:def extract_snapshot( disk_path: str, source_fmt: str, out_path: str, dest_fmt: str, ) -> None:# TODO(stephenfin): This is dumb; remove it. def load_file(path: str) -> str:# TODO(stephenfin): Remove this; we have suitably powerful mocking abilities # nowadaysdef find_disk(guest: 'libvirt_guest.Guest') -> ty.Tuple[str, ty.Optional[str]]:def get_disk_type_from_path(path: str) -> ty.Optional[str]:def get_fs_info(path: str) -> ty.Dict[str, int]: return {'total': total, 'free': free, 'used': used} def fetch_image( context: nova_context.RequestContext, target: str, image_id: str, trusted_certs: ty.Optional['objects.TrustedCerts'] = None, ) -> None:def fetch_raw_image( context: nova_context.RequestContext, target: str, image_id: str, trusted_certs: ty.Optional['objects.TrustedCerts'] = None, ) -> None:def get_instance_path( instance: 'objects.Instance', relative: bool = False, ) -> str:def get_instance_path_at_destination( instance: 'objects.Instance', migrate_data: ty.Optional['objects.LibvirtLiveMigrateData'] = None, ) -> str:def get_arch(image_meta: 'objects.ImageMeta') -> str:def is_mounted(mount_path: str, source: ty.Optional[str] = None) -> bool:def is_valid_hostname(hostname: str) -> bool: return bool(re.match(r""^[\w\-\.:]+$"", hostname)) def version_to_string(version: ty.Tuple[int, int, int]) -> str:def cpu_features_to_traits(features: ty.Set[str]) -> ty.Dict[str, bool]:def get_cpu_model_from_arch(arch: str) -> str:def get_machine_type(image_meta: 'objects.ImageMeta') -> ty.Optional[str]:def get_default_machine_type(arch: str) -> ty.Optional[str]:def mdev_name2uuid(mdev_name: str) -> str:def mdev_uuid2name(mdev_uuid: str) -> str:def get_flags_by_flavor_specs(flavor: 'objects.Flavor') -> ty.Set[str]:","def create_image(disk_format, path, size):def create_cow_image(backing_file, path, size=None):def create_ploop_image(disk_format, path, size, fs_type):def pick_disk_driver_name(hypervisor_version, is_block_dev=False):def get_disk_size(path, format=None):def get_disk_backing_file(path, basename=True, format=None):def copy_image(src, dest, host=None, receive=False, on_execute=None, on_completion=None, compression=True):def write_to_file(path, contents):def chown_for_id_maps(path, id_maps):def extract_snapshot(disk_path, source_fmt, out_path, dest_fmt):def load_file(path):def find_disk(guest):def get_disk_type_from_path(path):def get_fs_info(path): return {'total': total, 'free': free, 'used': used} def fetch_image(context, target, image_id, trusted_certs=None):def fetch_raw_image(context, target, image_id, trusted_certs=None):def get_instance_path(instance, relative=False):def get_instance_path_at_destination(instance, migrate_data=None):def get_arch(image_meta):def is_mounted(mount_path, source=None):def is_valid_hostname(hostname): return re.match(r""^[\w\-\.:]+$"", hostname) def version_to_string(version):def cpu_features_to_traits(features):def get_cpu_model_from_arch(arch):def get_machine_type(image_meta):def get_default_machine_type(arch):def mdev_name2uuid(mdev_name):def mdev_uuid2name(mdev_uuid):def get_flags_by_flavor_specs(flavor):",88,39
openstack%2Fstackviz~master~I8008ab34a4093cd2b99d646adbc3230ae57aa2d4,openstack/stackviz,master,I8008ab34a4093cd2b99d646adbc3230ae57aa2d4,Fix hacking min version to 3.0.1,MERGED,2020-05-13 02:52:24.000000000,2020-09-05 20:27:24.000000000,2020-09-05 20:26:05.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-13 02:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/18dd428efea6ca073869d5a2932b21a104152189', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I8008ab34a4093cd2b99d646adbc3230ae57aa2d4\n'}, {'number': 2, 'created': '2020-09-04 10:36:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/d81705e07da70f76fc4358e7aadad4afe23bc4d3', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I8008ab34a4093cd2b99d646adbc3230ae57aa2d4\n'}]",0,727617,d81705e07da70f76fc4358e7aadad4afe23bc4d3,20,4,2,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I8008ab34a4093cd2b99d646adbc3230ae57aa2d4
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/17/727617/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,18dd428efea6ca073869d5a2932b21a104152189,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Ftempest~master~I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c,openstack/tempest,master,I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c,Need to have stable implementation of nova_volume_detach() and add missing docstrings,MERGED,2020-08-31 10:42:36.000000000,2020-09-05 18:22:18.000000000,2020-09-05 18:21:07.000000000,"[{'_account_id': 5803}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24645}, {'_account_id': 30742}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-31 10:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cff49353891e295531792f7870130f42a9ca7929', 'message': ""Need to have stable implementation of nova_volume_detach()\nand add missing docstrings\n\nEarlier implementation of this api just detached the\nvolume and wait for the volume to be in 'available'\nstate.\nBut the scenario manager don't really verify the state\nof the volume. Tempest plugins do verify the state.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c\n""}, {'number': 2, 'created': '2020-09-03 07:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/154bc09bf45069cfc080da1342ff3b691cd9243e', 'message': ""Need to have stable implementation of nova_volume_detach()\nand add missing docstrings\n\nEarlier implementation of this api just detached the\nvolume and wait for the volume to be in 'available'\nstate.\nBut the scenario manager don't really verify the state\nof the volume. Tempest plugins do verify the state.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c\n""}, {'number': 3, 'created': '2020-09-03 11:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1e59b6ce12cfc583aed915d1e097c5d42d989bd9', 'message': ""Need to have stable implementation of nova_volume_detach()\nand add missing docstrings\n\nEarlier implementation of this api just detached the\nvolume and wait for the volume to be in 'available'\nstate.\nBut the scenario manager don't really verify the state\nof the volume. Tempest plugins do verify the state.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c\n""}, {'number': 4, 'created': '2020-09-04 16:25:57.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae6311373f93d366b0d91ae9fff233a7949c2318', 'message': ""Need to have stable implementation of nova_volume_detach()\nand add missing docstrings\n\nEarlier implementation of this api just detached the\nvolume and wait for the volume to be in 'available'\nstate.\nBut the scenario manager don't really verify the state\nof the volume. Tempest plugins do verify the state.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c\n""}]",3,749025,ae6311373f93d366b0d91ae9fff233a7949c2318,33,14,4,30742,,,0,"Need to have stable implementation of nova_volume_detach()
and add missing docstrings

Earlier implementation of this api just detached the
volume and wait for the volume to be in 'available'
state.
But the scenario manager don't really verify the state
of the volume. Tempest plugins do verify the state.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I023177c09cf035bbb29941cc5d4bb4cc6c60ed1c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/749025/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,cff49353891e295531792f7870130f42a9ca7929,bp/tempest-scenario-manager-stable," """"""Compute volume attach This utility attaches volume from compute and waits for the 'in-use' state. """""" """"""Compute volume detach This utility detaches volume from compute and waits for the 'available' state. """""" volume = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual('available', volume['status'])",,12,1
openstack%2Ftempest~master~I7a2c7de22005db93d3fe598a6bad14333f2836a1,openstack/tempest,master,I7a2c7de22005db93d3fe598a6bad14333f2836a1,Removal of unused parameters,ABANDONED,2020-09-04 11:44:53.000000000,2020-09-05 17:27:53.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-09-04 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8eaa7aaf86d0f3d620ad43a99b99c606fb954c2', 'message': ""Removal of unused parameters\n\ncreate_timestamp() and get_timestamp() both use server parameter\nwhich isn't used by plugins.\nHence, if the plugins arent going to consume its best we just remove\nthe extra parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I7a2c7de22005db93d3fe598a6bad14333f2836a1\n""}, {'number': 2, 'created': '2020-09-04 14:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ec119041a8b9f2209a1d6849f9a2327e9d1ffa11', 'message': ""Removal of unused parameters\n\ncreate_timestamp() and get_timestamp() both use server parameter\nwhich isn't used by plugins.\nHence, if the plugins arent going to consume its best we just remove\nthe extra parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I7a2c7de22005db93d3fe598a6bad14333f2836a1\n""}, {'number': 3, 'created': '2020-09-04 15:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/621f556a80af4791e3050aa15e4c6a3d9dd4126d', 'message': ""Removal of unused parameters\n\ncreate_timestamp() and get_timestamp() both use server parameter\nwhich isn't used by plugins.\nHence, if the plugins arent going to consume its best we just remove\nthe extra parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I7a2c7de22005db93d3fe598a6bad14333f2836a1\n""}, {'number': 4, 'created': '2020-09-05 15:35:18.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_shelve_instance.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/745dfce3ad89108f81cbf88138b74fdfe6ea25b4', 'message': ""Removal of unused parameters\n\ncreate_timestamp() and get_timestamp() both use server parameter\nwhich isn't used by plugins.\nHence, if the plugins arent going to consume its best we just remove\nthe extra parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7a2c7de22005db93d3fe598a6bad14333f2836a1\n""}]",1,749926,745dfce3ad89108f81cbf88138b74fdfe6ea25b4,12,14,4,30742,,,0,"Removal of unused parameters

create_timestamp() and get_timestamp() both use server parameter
which isn't used by plugins.
Hence, if the plugins arent going to consume its best we just remove
the extra parameter.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I7a2c7de22005db93d3fe598a6bad14333f2836a1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/749926/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,a8eaa7aaf86d0f3d620ad43a99b99c606fb954c2,bp/tempest-scenario-manager-stable, private_key=None): private_key=private_key) private_key=None): private_key=private_key)," private_key=None, server=None): private_key=private_key, server=server) private_key=None, server=None): private_key=private_key, server=server)",4,6
openstack%2Ftrove-tempest-plugin~master~Ia20c5545e9a1cf1b013b26e42c2a0a5aa7be2bdb,openstack/trove-tempest-plugin,master,Ia20c5545e9a1cf1b013b26e42c2a0a5aa7be2bdb,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:09.000000000,2020-09-05 16:49:16.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 03:33:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/e2c932772d036996f6921128a075c3617bb76228', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40225\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ia20c5545e9a1cf1b013b26e42c2a0a5aa7be2bdb\n'}]",0,744622,e2c932772d036996f6921128a075c3617bb76228,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40225

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ia20c5545e9a1cf1b013b26e42c2a0a5aa7be2bdb
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/22/744622/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e2c932772d036996f6921128a075c3617bb76228,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-aodhclient~master~Ied4b408779196c44e09021965890b0d6493cb318,openstack/python-aodhclient,master,Ied4b408779196c44e09021965890b0d6493cb318,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:32:52.000000000,2020-09-05 16:44:09.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 03:32:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/1a65eacf1ec3a5f3b80e14692dec8715be4cd7ff', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40223\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ied4b408779196c44e09021965890b0d6493cb318\n'}]",0,744618,1a65eacf1ec3a5f3b80e14692dec8715be4cd7ff,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40223

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ied4b408779196c44e09021965890b0d6493cb318
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/18/744618/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a65eacf1ec3a5f3b80e14692dec8715be4cd7ff,migrate-to-focal,#test focal,,1,0
openstack%2Fsenlin-tempest-plugin~master~Ieee41dda1229207b8414cb65a9ee62f775aafbd4,openstack/senlin-tempest-plugin,master,Ieee41dda1229207b8414cb65a9ee62f775aafbd4,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:31:33.000000000,2020-09-05 16:43:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 03:31:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/ee9e5bb70c3ee6a35cf045cf50ee9bddd0f5c17c', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40219\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ieee41dda1229207b8414cb65a9ee62f775aafbd4\n'}]",0,744601,ee9e5bb70c3ee6a35cf045cf50ee9bddd0f5c17c,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40219

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ieee41dda1229207b8414cb65a9ee62f775aafbd4
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/01/744601/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee9e5bb70c3ee6a35cf045cf50ee9bddd0f5c17c,migrate-to-focal,#test focal,,1,0
openstack%2Foslo.policy~master~Ia7199879d2eabb7432449a8a8d625cb0b869d691,openstack/oslo.policy,master,Ia7199879d2eabb7432449a8a8d625cb0b869d691,add policy_url option to direct all policy checks to an outside service,ABANDONED,2019-05-12 17:02:40.000000000,2020-09-05 15:54:45.000000000,,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 9372}, {'_account_id': 10873}, {'_account_id': 12924}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-12 17:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/3b819407acec34ce0d350faaa3a1fa01a003221e', 'message': 'add policy_url option to direct all policy checks to an outside service\n\nAdd a configuration option to short-circuit all of the other policy\nrules and send all checks to a single outside service using an\nHttpCheck or HttpsCheck rule.\n\nChange-Id: Ia7199879d2eabb7432449a8a8d625cb0b869d691\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2019-05-12 19:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/6cffeab319d9e241906a5915e9fbcc314f374786', 'message': 'add policy_url option to direct all policy checks to an outside service\n\nAdd a configuration option to short-circuit all of the other policy\nrules and send all checks to a single outside service using an\nHttpCheck or HttpsCheck rule.\n\nChange-Id: Ia7199879d2eabb7432449a8a8d625cb0b869d691\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2019-05-13 14:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/257e153bfcaa5045150777141e30d375cd436f3d', 'message': 'add policy_url option to direct all policy checks to an outside service\n\nAdd a configuration option to short-circuit all of the other policy\nrules and send all checks to a single outside service using an\nHttpCheck or HttpsCheck rule.\n\nChange-Id: Ia7199879d2eabb7432449a8a8d625cb0b869d691\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2019-05-13 22:31:11.000000000', 'files': ['oslo_policy/opts.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_enforcer_url_override.py', 'releasenotes/notes/url-override-option-1dc3690e85159ea0.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/890e2e06c02974838bd5e8f355b97d22e1c4cac4', 'message': 'add policy_url option to direct all policy checks to an outside service\n\nAdd a configuration option to short-circuit all of the other policy\nrules and send all checks to a single outside service using an\nHttpCheck or HttpsCheck rule.\n\nChange-Id: Ia7199879d2eabb7432449a8a8d625cb0b869d691\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,658675,890e2e06c02974838bd5e8f355b97d22e1c4cac4,16,7,4,2472,,,0,"add policy_url option to direct all policy checks to an outside service

Add a configuration option to short-circuit all of the other policy
rules and send all checks to a single outside service using an
HttpCheck or HttpsCheck rule.

Change-Id: Ia7199879d2eabb7432449a8a8d625cb0b869d691
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/75/658675/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/opts.py', 'oslo_policy/policy.py', 'oslo_policy/tests/test_enforcer_url_override.py', 'releasenotes/notes/url-override-option-1dc3690e85159ea0.yaml']",4,3b819407acec34ce0d350faaa3a1fa01a003221e,url-check-default,"--- features: - | Adds a new configuration option ``oslo_policy.policy_url`` that, when set, overrides all policy files and internal rule definitions and sends all policy checks to the external service using the same semantics as the single-rule ""http"" or ""https"" checks. ",,108,4
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib56f59b7d2a981196eab334108d42ca4390c0566,openstack/tripleo-heat-templates,stable/queens,Ib56f59b7d2a981196eab334108d42ca4390c0566,Fix Swift ring file synchronization issue,MERGED,2020-09-04 07:34:17.000000000,2020-09-05 14:38:46.000000000,2020-09-05 14:37:39.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:34:17.000000000', 'files': ['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'docker/services/swift-ringbuilder.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02e6124c28620240ec3c9af4834fe398572e334f', 'message': 'Fix Swift ring file synchronization issue\n\nSwift ring files are synchronized by up- and downloading them to the\nundercloud, making sure every node on the overcloud has the same copy to\nstart with.\n\nOne (optional) step in the process is to ensure rings are in sync before\nuploading them eventually. swift-recon is used to query all Swift object\nstorage nodes, get the md5sum of the ring files and compare them with\nthe local ring file md5sum.\n\nHowever, in containerized deployments this will fail, because Swift\ncontainers are not immediately restarted after rebalancing. The object\nserver will return the md5sum of the previous ring version, which does\nnot match with the rebalanced local file. TripleO is intended to skip\nthis check by setting skip_consistency_check to false.\n\nHowever, the parameter was never set to false, and this patch fixes it.\n\nRunning an overcloud update immediately after an initial deployment was\nnot affected by this. Same for multiple overcloud updates - subsequent\nupdates did fix this issue automatically. In the first case the rings\nwere not rebalanced due to min_part_hours not passed, in the latter case\nthey were synchronized on the subsequent update.\n\nCloses-Bug: 1892674\nChange-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566\n(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)\n'}]",0,749887,02e6124c28620240ec3c9af4834fe398572e334f,18,4,1,6968,,,0,"Fix Swift ring file synchronization issue

Swift ring files are synchronized by up- and downloading them to the
undercloud, making sure every node on the overcloud has the same copy to
start with.

One (optional) step in the process is to ensure rings are in sync before
uploading them eventually. swift-recon is used to query all Swift object
storage nodes, get the md5sum of the ring files and compare them with
the local ring file md5sum.

However, in containerized deployments this will fail, because Swift
containers are not immediately restarted after rebalancing. The object
server will return the md5sum of the previous ring version, which does
not match with the rebalanced local file. TripleO is intended to skip
this check by setting skip_consistency_check to false.

However, the parameter was never set to false, and this patch fixes it.

Running an overcloud update immediately after an initial deployment was
not affected by this. Same for multiple overcloud updates - subsequent
updates did fix this issue automatically. In the first case the rings
were not rebalanced due to min_part_hours not passed, in the latter case
they were synchronized on the subsequent update.

Closes-Bug: 1892674
Change-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566
(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/749887/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'docker/services/swift-ringbuilder.yaml']",2,02e6124c28620240ec3c9af4834fe398572e334f,, - tripleo::profile::base::swift::ringbuilder::skip_consistency_check: true, - tripleo::profile::base::swift::ringbuilder:skip_consistency_check: true,7,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib56f59b7d2a981196eab334108d42ca4390c0566,openstack/tripleo-heat-templates,stable/train,Ib56f59b7d2a981196eab334108d42ca4390c0566,Fix Swift ring file synchronization issue,MERGED,2020-09-04 07:27:26.000000000,2020-09-05 14:38:42.000000000,2020-09-05 14:37:36.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:27:26.000000000', 'files': ['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b98944e369a7a0a0f2a2f8d1fe124f67a38a003', 'message': 'Fix Swift ring file synchronization issue\n\nSwift ring files are synchronized by up- and downloading them to the\nundercloud, making sure every node on the overcloud has the same copy to\nstart with.\n\nOne (optional) step in the process is to ensure rings are in sync before\nuploading them eventually. swift-recon is used to query all Swift object\nstorage nodes, get the md5sum of the ring files and compare them with\nthe local ring file md5sum.\n\nHowever, in containerized deployments this will fail, because Swift\ncontainers are not immediately restarted after rebalancing. The object\nserver will return the md5sum of the previous ring version, which does\nnot match with the rebalanced local file. TripleO is intended to skip\nthis check by setting skip_consistency_check to false.\n\nHowever, the parameter was never set to false, and this patch fixes it.\n\nRunning an overcloud update immediately after an initial deployment was\nnot affected by this. Same for multiple overcloud updates - subsequent\nupdates did fix this issue automatically. In the first case the rings\nwere not rebalanced due to min_part_hours not passed, in the latter case\nthey were synchronized on the subsequent update.\n\nCloses-Bug: 1892674\nChange-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566\n(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)\n'}]",0,749883,6b98944e369a7a0a0f2a2f8d1fe124f67a38a003,18,4,1,6968,,,0,"Fix Swift ring file synchronization issue

Swift ring files are synchronized by up- and downloading them to the
undercloud, making sure every node on the overcloud has the same copy to
start with.

One (optional) step in the process is to ensure rings are in sync before
uploading them eventually. swift-recon is used to query all Swift object
storage nodes, get the md5sum of the ring files and compare them with
the local ring file md5sum.

However, in containerized deployments this will fail, because Swift
containers are not immediately restarted after rebalancing. The object
server will return the md5sum of the previous ring version, which does
not match with the rebalanced local file. TripleO is intended to skip
this check by setting skip_consistency_check to false.

However, the parameter was never set to false, and this patch fixes it.

Running an overcloud update immediately after an initial deployment was
not affected by this. Same for multiple overcloud updates - subsequent
updates did fix this issue automatically. In the first case the rings
were not rebalanced due to min_part_hours not passed, in the latter case
they were synchronized on the subsequent update.

Closes-Bug: 1892674
Change-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566
(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/749883/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml']",2,6b98944e369a7a0a0f2a2f8d1fe124f67a38a003,, tripleo::profile::base::swift::ringbuilder::skip_consistency_check: true, tripleo::profile::base::swift::ringbuilder:skip_consistency_check: true,7,1
openstack%2Fneutron~stable%2Fstein~I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,openstack/neutron,stable/stein,I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,Add 'keepalived_use_no_track' config option,MERGED,2020-08-25 07:58:35.000000000,2020-09-05 12:58:42.000000000,2020-09-05 12:57:20.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 07:58:35.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abd4e849257b401a5e7c2d61b753cc6ab52bdc6d', 'message': 'Add \'keepalived_use_no_track\' config option\n\nPatch [1] added option ""no_track"" to the keepalived\'s config file which\nis generated by L3 agent in HA mode.\nThis was added to handle properly keepalived 2.x and interfaces which\nare in DOWN state in the backup nodes.\nBut this ""no_track"" option is not compatible with keepalived 1.x series\nwhich is available e.g. on Ubuntu 18.04.\n\nAs there is no easy way to check automatically if keepalived supports or\nnot this config flag, this patch introduces new config option\n""keepalived_use_no_track"".\nIf this config option will be set to False, neutron L3 agent will not\nadd ""no_track"" to the keepalived\'s config.\n\nAs master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x\nis already available, this new config option default value is set to\nTrue.\n\n[1] https://review.opendev.org/#/c/721799/\n\nConflicts:\n    neutron/conf/agent/l3/config.py\n\nChange-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b\nCloses-Bug: #1890400\n(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)\n'}]",0,747857,abd4e849257b401a5e7c2d61b753cc6ab52bdc6d,35,6,1,11975,,,0,"Add 'keepalived_use_no_track' config option

Patch [1] added option ""no_track"" to the keepalived's config file which
is generated by L3 agent in HA mode.
This was added to handle properly keepalived 2.x and interfaces which
are in DOWN state in the backup nodes.
But this ""no_track"" option is not compatible with keepalived 1.x series
which is available e.g. on Ubuntu 18.04.

As there is no easy way to check automatically if keepalived supports or
not this config flag, this patch introduces new config option
""keepalived_use_no_track"".
If this config option will be set to False, neutron L3 agent will not
add ""no_track"" to the keepalived's config.

As master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x
is already available, this new config option default value is set to
True.

[1] https://review.opendev.org/#/c/721799/

Conflicts:
    neutron/conf/agent/l3/config.py

Change-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b
Closes-Bug: #1890400
(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/747857/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py']",7,abd4e849257b401a5e7c2d61b753cc6ab52bdc6d,bug/1890400-stable/stein," cfg.BoolOpt('keepalived_use_no_track', default=True, help=_('If keepalived without support for ""no_track"" option ' 'is used, this should be set to False. ' 'Support for this option was introduced in keepalived ' '2.x'))",,132,17
openstack%2Ftempest~master~Id8f747c0eb018847bd9dc5bc3801ee973704da4b,openstack/tempest,master,Id8f747c0eb018847bd9dc5bc3801ee973704da4b,Adding description for testcases - swift part2,MERGED,2020-08-18 08:27:42.000000000,2020-09-05 12:58:32.000000000,2020-09-05 12:57:17.000000000,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-18 08:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6afa80303359214389e8db27aea716a8fbf9bb68', 'message': 'Adding description for testcases - swift part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Id8f747c0eb018847bd9dc5bc3801ee973704da4b\npartially-implements: blueprint testcase-description\n'}, {'number': 2, 'created': '2020-08-20 05:44:55.000000000', 'files': ['tempest/api/object_storage/test_account_quotas.py', 'tempest/api/object_storage/test_account_services_negative.py', 'tempest/api/object_storage/test_account_bulk.py', 'tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_object_version.py', 'tempest/api/object_storage/test_container_services.py', 'tempest/api/object_storage/test_healthcheck.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0539a64d1b13adc10d9912676dcb21648add9f4e', 'message': 'Adding description for testcases - swift part2\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: Id8f747c0eb018847bd9dc5bc3801ee973704da4b\npartially-implements: blueprint testcase-description\n'}]",2,746658,0539a64d1b13adc10d9912676dcb21648add9f4e,21,5,2,20190,,,0,"Adding description for testcases - swift part2

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: Id8f747c0eb018847bd9dc5bc3801ee973704da4b
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/746658/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_account_quotas.py', 'tempest/api/object_storage/test_account_bulk.py', 'tempest/api/object_storage/test_account_services_negative.py', 'tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_object_version.py', 'tempest/api/object_storage/test_container_services.py', 'tempest/api/object_storage/test_healthcheck.py']",7,6afa80303359214389e8db27aea716a8fbf9bb68,bp/testcase-description," """"""Test healthcheck"""""" """"""Test getting healthcheck""""""",,53,28
openstack%2Fopenstacksdk~stable%2Fussuri~I326d168d22476b86ae986b471b7c424e153f7076,openstack/openstacksdk,stable/ussuri,I326d168d22476b86ae986b471b7c424e153f7076,Fix a bogus error in config loader when using several args with dashes,MERGED,2020-09-04 13:58:09.000000000,2020-09-05 12:58:22.000000000,2020-09-05 12:57:15.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-09-04 13:58:09.000000000', 'files': ['openstack/config/loader.py', 'openstack/tests/unit/config/test_loader.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d3020d9442b09e5d989194baa542acbda01627bb', 'message': 'Fix a bogus error in config loader when using several args with dashes\n\nIronic routinely uses arguments like:\n\n --driver-info key1=value1 --driver-info key2=value2\n\nThis is currently broken because of the duplication detection logic.\nFix it to only trigger when there are several *different* froms of\nthe same argument.\n\nConflicts:\n\topenstack/tests/unit/config/test_loader.py\n\nChange-Id: I326d168d22476b86ae986b471b7c424e153f7076\n(cherry picked from commit 4b7a10839171a625f9ebd87abdef04e611d7ddd6)\n'}]",0,749964,d3020d9442b09e5d989194baa542acbda01627bb,12,3,1,10239,,,0,"Fix a bogus error in config loader when using several args with dashes

Ironic routinely uses arguments like:

 --driver-info key1=value1 --driver-info key2=value2

This is currently broken because of the duplication detection logic.
Fix it to only trigger when there are several *different* froms of
the same argument.

Conflicts:
	openstack/tests/unit/config/test_loader.py

Change-Id: I326d168d22476b86ae986b471b7c424e153f7076
(cherry picked from commit 4b7a10839171a625f9ebd87abdef04e611d7ddd6)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/749964/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/loader.py', 'openstack/tests/unit/config/test_loader.py']",2,d3020d9442b09e5d989194baa542acbda01627bb,,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import tempfile import textwrap from openstack.config import loader from openstack import exceptions from openstack.tests.unit.config import base FILES = { 'yaml': textwrap.dedent(''' foo: bar baz: - 1 - 2 - 3 '''), 'json': textwrap.dedent(''' { ""foo"": ""bar"", ""baz"": [ 1, 2, 3 ] } '''), 'txt': textwrap.dedent(''' foo bar baz test one two '''), } class TestLoader(base.TestCase): def test_base_load_yaml_json_file(self): with tempfile.TemporaryDirectory() as tmpdir: tested_files = [] for key, value in FILES.items(): fn = os.path.join(tmpdir, 'file.{ext}'.format(ext=key)) with open(fn, 'w+') as fp: fp.write(value) tested_files.append(fn) path, result = loader.OpenStackConfig()._load_yaml_json_file( tested_files) # NOTE(hberaud): Prefer to test path rather than file because # our FILES var is a dict so results are appened # without keeping the initial order (python 3.5) self.assertEqual(tmpdir, os.path.dirname(path)) def test__load_yaml_json_file_without_json(self): with tempfile.TemporaryDirectory() as tmpdir: tested_files = [] for key, value in FILES.items(): if key == 'json': continue fn = os.path.join(tmpdir, 'file.{ext}'.format(ext=key)) with open(fn, 'w+') as fp: fp.write(value) tested_files.append(fn) path, result = loader.OpenStackConfig()._load_yaml_json_file( tested_files) # NOTE(hberaud): Prefer to test path rather than file because # our FILES var is a dict so results are appened # without keeping the initial order (python 3.5) self.assertEqual(tmpdir, os.path.dirname(path)) def test__load_yaml_json_file_without_json_yaml(self): with tempfile.TemporaryDirectory() as tmpdir: tested_files = [] fn = os.path.join(tmpdir, 'file.txt') with open(fn, 'w+') as fp: fp.write(FILES['txt']) tested_files.append(fn) path, result = loader.OpenStackConfig()._load_yaml_json_file( tested_files) self.assertEqual(fn, path) def test__load_yaml_json_file_without_perm(self): with tempfile.TemporaryDirectory() as tmpdir: tested_files = [] fn = os.path.join(tmpdir, 'file.txt') with open(fn, 'w+') as fp: fp.write(FILES['txt']) os.chmod(fn, 222) tested_files.append(fn) path, result = loader.OpenStackConfig()._load_yaml_json_file( tested_files) self.assertEqual(None, path) def test__load_yaml_json_file_nonexisting(self): tested_files = [] fn = os.path.join('/fake', 'file.txt') tested_files.append(fn) path, result = loader.OpenStackConfig()._load_yaml_json_file( tested_files) self.assertEqual(None, path) class TestFixArgv(base.TestCase): def test_no_changes(self): argv = ['-a', '-b', '--long-arg', '--multi-value', 'key1=value1', '--multi-value', 'key2=value2'] expected = argv[:] loader._fix_argv(argv) self.assertEqual(expected, argv) def test_replace(self): argv = ['-a', '-b', '--long-arg', '--multi_value', 'key1=value1', '--multi_value', 'key2=value2'] expected = ['-a', '-b', '--long-arg', '--multi-value', 'key1=value1', '--multi-value', 'key2=value2'] loader._fix_argv(argv) self.assertEqual(expected, argv) def test_mix(self): argv = ['-a', '-b', '--long-arg', '--multi_value', 'key1=value1', '--multi-value', 'key2=value2'] self.assertRaises(exceptions.ConfigException, loader._fix_argv, argv) ",,143,2
openstack%2Fneutron~stable%2Fqueens~I645610febde446b78ed6edd868e699673648a4de,openstack/neutron,stable/queens,I645610febde446b78ed6edd868e699673648a4de,Use dict .get() to avoid a KeyError in the segment plugin,MERGED,2020-09-04 13:15:29.000000000,2020-09-05 12:57:12.000000000,2020-09-05 12:57:12.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-04 13:15:29.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/45f56356065a962c242e187c5ee6cacfa0bd89f8', 'message': 'Use dict .get() to avoid a KeyError in the segment plugin\n\nOn subnet delete, the supplied subnet in the post hook\ncould contain a subnet without certain items, leading to\na KeyError in the segment plugin.  Fix a number of these\noccurences so this cannot happen.\n\nAlso fixed similar code in the segment tests.\n\nConflicts:\n    neutron/services/segments/plugin.py\n\nChange-Id: I645610febde446b78ed6edd868e699673648a4de\nCloses-bug: #1868724\n(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)\n(cherry picked from commit b019821abd9304f4eeaea4ed3ea37de8e903eb9e)\n'}]",0,749949,45f56356065a962c242e187c5ee6cacfa0bd89f8,10,5,1,11975,,,0,"Use dict .get() to avoid a KeyError in the segment plugin

On subnet delete, the supplied subnet in the post hook
could contain a subnet without certain items, leading to
a KeyError in the segment plugin.  Fix a number of these
occurences so this cannot happen.

Also fixed similar code in the segment tests.

Conflicts:
    neutron/services/segments/plugin.py

Change-Id: I645610febde446b78ed6edd868e699673648a4de
Closes-bug: #1868724
(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)
(cherry picked from commit b019821abd9304f4eeaea4ed3ea37de8e903eb9e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/749949/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py']",2,45f56356065a962c242e187c5ee6cacfa0bd89f8,bug/1868724, if subnet.get('gateway_ip'): if subnet.get('enable_dhcp'):, if subnet['gateway_ip']: if subnet['enable_dhcp']:,4,4
openstack%2Fneutron~stable%2Frocky~I645610febde446b78ed6edd868e699673648a4de,openstack/neutron,stable/rocky,I645610febde446b78ed6edd868e699673648a4de,Use dict .get() to avoid a KeyError in the segment plugin,MERGED,2020-09-04 13:09:49.000000000,2020-09-05 12:57:10.000000000,2020-09-05 12:57:09.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-04 13:09:49.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce8d891c79ed18aa0f7cd353e4121b22a6395a76', 'message': 'Use dict .get() to avoid a KeyError in the segment plugin\n\nOn subnet delete, the supplied subnet in the post hook\ncould contain a subnet without certain items, leading to\na KeyError in the segment plugin.  Fix a number of these\noccurences so this cannot happen.\n\nAlso fixed similar code in the segment tests.\n\nChange-Id: I645610febde446b78ed6edd868e699673648a4de\nCloses-bug: #1868724\n(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)\n(cherry picked from commit b019821abd9304f4eeaea4ed3ea37de8e903eb9e)\n'}]",0,749946,ce8d891c79ed18aa0f7cd353e4121b22a6395a76,13,5,1,11975,,,0,"Use dict .get() to avoid a KeyError in the segment plugin

On subnet delete, the supplied subnet in the post hook
could contain a subnet without certain items, leading to
a KeyError in the segment plugin.  Fix a number of these
occurences so this cannot happen.

Also fixed similar code in the segment tests.

Change-Id: I645610febde446b78ed6edd868e699673648a4de
Closes-bug: #1868724
(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)
(cherry picked from commit b019821abd9304f4eeaea4ed3ea37de8e903eb9e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/749946/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py']",2,ce8d891c79ed18aa0f7cd353e4121b22a6395a76,bug/1868724-stable/train-stable/stein-stable/rocky, if subnet.get('gateway_ip'): if subnet.get('enable_dhcp'):, if subnet['gateway_ip']: if subnet['enable_dhcp']:,15,12
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,openstack/tripleo-heat-templates,stable/train,Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,Use appropriate allocation pools for StorageNFS,MERGED,2020-09-01 21:40:52.000000000,2020-09-05 11:53:15.000000000,2020-09-05 06:29:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 21:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8a77b0861be357be3b65125fde6c944c4d5b019', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)\n(cherry picked from commit 6efb29dcc7294a289a78cf380b14eaf146a1a49e)\n""}, {'number': 2, 'created': '2020-09-04 12:41:40.000000000', 'files': ['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/688b59301dd880bc15da7539dd9c5b7946903346', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)\n(cherry picked from commit 6efb29dcc7294a289a78cf380b14eaf146a1a49e)\n""}]",0,749399,688b59301dd880bc15da7539dd9c5b7946903346,26,7,2,9003,,,0,"Use appropriate allocation pools for StorageNFS

The StorageNFS network was defined in network_data_ganesha.yaml
using allocation ranges that mirrored those of the other isolated
networks.  But TripleO and the undercloud only need to use a small
number of addresses for overcloud deployment -- in the default
three-controller case, one for the regular StorageNFS interface on
each ControllerNfs role node, and one for the VIP on which the NFS
service is offered.  The bulk of the addresses in the StorageNFS CIDR
should be left out of the allocation range defined in network_data
so that they can be used by the allocation pool for the overcloud
Netron StorageNFS provider network's subnet without danger of
overlap.

This change uses a CIDR with a shorter prefix so that there will
be sufficient IPs left over after the undercloud's TripleO allocation
pool to deploy almost 4000 clients on the Neutron StorageNFS provider
network's subnet.

This commit also includes some minor changes to synchronize
network_data_ganesha.yaml with network_data.yaml since the former
was derived from the latter and should differ from it only by
inclustion of the StorageNFS network.

Closes-bug: #1889682

Change-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28
(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)
(cherry picked from commit 6efb29dcc7294a289a78cf380b14eaf146a1a49e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/749399/2 && git format-patch -1 --stdout FETCH_HEAD,"['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml']",2,a8a77b0861be357be3b65125fde6c944c4d5b019,bug/1889682,"--- upgrade: - | The CIDR for the StorageNFS network in the sample network_data_ganesha.yaml file has been modified to provide more usable IPs for the corresponding Neutron overcloud StorageNFS provider network. Since the CIDR of an existing network cannot be modified, deployments with existing StorageNFS networks should be sure to customize the StorageNFS network definition to use the same CIDR as that in their existing deployment in order to avoid a heat resource failure when updating or upgrading the overcloud. fixes: - | Fixed issue in the sample network_data_ganesha.yaml file where the IPv4 allocation range for the StorageNFS network occupies almost the whole of its CIDR. If network_data_ganesha.yaml is used without modification in a customer deployment then there are too few IPs left over in its CIDR for use by the corresponding overcloud Neutron StorageNFS provider network for its overcloud DHCP service. (See `bug: #1889682 <https://bugs.launchpad.net/tripleo/+bug/1889682>`_)",,66,4
openstack%2Fcyborg~master~I4df6a7e91c0a2a06fbf260c6c6790d6160345acd,openstack/cyborg,master,I4df6a7e91c0a2a06fbf260c6c6790d6160345acd,Add releasenote for add project_id for arq patch api,MERGED,2020-09-04 10:28:44.000000000,2020-09-05 10:10:47.000000000,2020-09-05 10:09:34.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-09-04 10:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a9b71a6febfc225715defb817cd62ba9a5438b5b', 'message': 'Add releasenote for add project_id for arq patch api\n\nChange-Id: I4df6a7e91c0a2a06fbf260c6c6790d6160345acd\n'}, {'number': 2, 'created': '2020-09-04 10:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ba51ba3c33931aa80da4b72afa5c5b367c645f5e', 'message': 'Add releasenote for add project_id for arq patch api\n\nChange-Id: I4df6a7e91c0a2a06fbf260c6c6790d6160345acd\n'}, {'number': 3, 'created': '2020-09-05 08:13:03.000000000', 'files': ['releasenotes/notes/add-project_id-to-arq-patch-api-8270cbb26c68af46.yaml', 'cyborg/api/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/fd18064c113b40688116a0e2044eaac1920a7873', 'message': 'Add releasenote for add project_id for arq patch api\n\nThis is follow up https://review.opendev.org/#/c/738427/6/cyborg/api/rest_api_version_history.rst@18,\nand add releasenote for adding `project_id` field to accelerator request\nPATCH api.\n\nChange-Id: I4df6a7e91c0a2a06fbf260c6c6790d6160345acd\n'}]",4,749919,fd18064c113b40688116a0e2044eaac1920a7873,14,6,3,31412,,,0,"Add releasenote for add project_id for arq patch api

This is follow up https://review.opendev.org/#/c/738427/6/cyborg/api/rest_api_version_history.rst@18,
and add releasenote for adding `project_id` field to accelerator request
PATCH api.

Change-Id: I4df6a7e91c0a2a06fbf260c6c6790d6160345acd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/19/749919/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-project_id-to-arq-patch-api-8270cbb26c68af46.yaml', 'cyborg/api/rest_api_version_history.rst']",2,a9b71a6febfc225715defb817cd62ba9a5438b5b,arq-instance-project-id,A user can specify a header in the API request:: OpenStack-API-Version: accelerator <microversion> where ``<microversion>`` is any valid api microversion for this API. If no version is specified then the API will behave as if a version request of v2.0 was requested. Add ``project_id`` for arq patch API. ``project_id`` is used to control the operation of arq with different roles. ,Add ``project_id`` for arq. A user can specify a header in the API request:: OpenStack-API-Version: accelerator <microversion> where ``<microversion>`` is any valid api microversion for this API. If no version is specified then the API will behave as if a version request of v2.0 was requested.,16,9
openstack%2Fopenstack-ansible-ceph_client~master~I7e1748e1dc3dfd4cde0ca6904030f2efc17dfed0,openstack/openstack-ansible-ceph_client,master,I7e1748e1dc3dfd4cde0ca6904030f2efc17dfed0,Remove cleanup logic for trailing '/',MERGED,2020-08-27 11:08:28.000000000,2020-09-05 09:50:52.000000000,2020-09-05 09:49:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-27 11:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/b36801fa5ea574aa101ce8f8e311174a186b1e0a', 'message': ""Remove cleanup logic for trailing '/'\n\nDepends-On: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\nChange-Id: I7e1748e1dc3dfd4cde0ca6904030f2efc17dfed0\n""}, {'number': 2, 'created': '2020-09-04 13:51:13.000000000', 'files': ['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/4aa644c110206e242eec0df99bd9354d0264359c', 'message': ""Remove cleanup logic for trailing '/'\n\nCleans up logic from\nhttps://review.opendev.org/#/c/736977/4\n\nChange-Id: I7e1748e1dc3dfd4cde0ca6904030f2efc17dfed0\n""}]",0,748412,4aa644c110206e242eec0df99bd9354d0264359c,19,4,2,25600,,,0,"Remove cleanup logic for trailing '/'

Cleans up logic from
https://review.opendev.org/#/c/736977/4

Change-Id: I7e1748e1dc3dfd4cde0ca6904030f2efc17dfed0
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/12/748412/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml']",2,b36801fa5ea574aa101ce8f8e311174a186b1e0a,,," remove_trailing_slash: repo: ""deb {{ ceph_apt_repo_url }}/ {{ ansible_distribution_release }} main"" state: ""absent""",3,9
openstack%2Fcyborg~master~I6e99bb460dd8b562281f131d3814752cda7089bd,openstack/cyborg,master,I6e99bb460dd8b562281f131d3814752cda7089bd,Define PolicyNotAuthorized exception and set 401 as unauthorized error_code,ABANDONED,2020-09-03 12:13:51.000000000,2020-09-05 09:09:31.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-09-03 12:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a6f6059b8b1b17bba55b2864f40cf11d52304fdd', 'message': 'Define PolicyNotAuthorized exception and set 401 as unauthorized error_code\n\nThis patch defines PolicyNotAuthorized exception and\nset 401 unauthorized as the unified error_code for policy failures.\n\nChange-Id: I6e99bb460dd8b562281f131d3814752cda7089bd\nStory: 2007024\nTask: 40816\n'}, {'number': 2, 'created': '2020-09-03 12:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/767f2afdb4161d228247f19e591dfe948377368c', 'message': 'Define PolicyNotAuthorized exception and set 401 as unauthorized error_code\n\nThis patch defines PolicyNotAuthorized exception and\nset 401 unauthorized as the unified error_code for policy failures.\n\nChange-Id: I6e99bb460dd8b562281f131d3814752cda7089bd\nStory: 2007024\nTask: 40816\n'}, {'number': 3, 'created': '2020-09-04 01:28:28.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/common/exception.py', 'cyborg/common/policy.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/73871ba6693a7cc24a6303f3a49d35ab3281f05f', 'message': 'Define PolicyNotAuthorized exception and set 401 as unauthorized error_code\n\nThis patch defines PolicyNotAuthorized exception and\nset 401 unauthorized as the unified error_code for policy failures.\n\nChange-Id: I6e99bb460dd8b562281f131d3814752cda7089bd\nStory: 2007024\nTask: 40816\n'}]",2,749715,73871ba6693a7cc24a6303f3a49d35ab3281f05f,8,4,3,24872,,,0,"Define PolicyNotAuthorized exception and set 401 as unauthorized error_code

This patch defines PolicyNotAuthorized exception and
set 401 unauthorized as the unified error_code for policy failures.

Change-Id: I6e99bb460dd8b562281f131d3814752cda7089bd
Story: 2007024
Task: 40816
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/15/749715/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/common/exception.py', 'cyborg/common/policy.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py']",4,a6f6059b8b1b17bba55b2864f40cf11d52304fdd,," self.assertIn(""Bad response: 401 Unauthorized"", exc.args[0])"," # Cyborg does not raise different exception when policy check failed # now, improve this case with assertRaises later. self.assertIn(""Bad response: 403 Forbidden"", exc.args[0])",8,13
openstack%2Ftripleo-heat-templates~master~I69c32d33a516c629303e87c8e9a0e4b8fe58c669,openstack/tripleo-heat-templates,master,I69c32d33a516c629303e87c8e9a0e4b8fe58c669,Create external bridge on Compute nodes by default for OVN with DVR,MERGED,2020-08-04 21:15:22.000000000,2020-09-05 06:32:05.000000000,2020-09-05 06:29:12.000000000,"[{'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 6926}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-04 21:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c03f1608a1e1fc1d406f3ef0cf43aae71913b4a', 'message': ""Create external bridge on Compute nodes by default for OVN with DVR\n\nOVN is used by default, which includes DVR and requires a Neutron\nexternal network bridge on the Compute nodes. This change adds the\ntag 'external_bridge' to the Controller roles and modifies the\novercloud-resource-registry-puppet.j2.yaml file to set the default\nNIC configuration to net-config-bridge.yaml when this tag is set.\nThis will cause both Controller and Compute nodes to have an\nexternal bridge by default if no specific NIC configuration files\nare specified for both roles since the 'external_bridge' tag is set\nin roles_data.yaml.\n\nThis change also stops using net-config-bridge.yaml when the role\nincludes the 'controller' tag, since the 'external_bridge' tag is\nused instead.\n\nChange-Id: I69c32d33a516c629303e87c8e9a0e4b8fe58c669\n""}, {'number': 2, 'created': '2020-08-04 21:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/061b50992bd22be26b6b37e8c4272bc8439d136c', 'message': ""Create external bridge on Compute nodes by default for OVN with DVR\n\nOVN is used by default, which includes DVR and requires a Neutron\nexternal network bridge on the Compute nodes. This change adds the\ntag 'external_bridge' to the Controller roles and modifies the\novercloud-resource-registry-puppet.j2.yaml file to set the default\nNIC configuration to net-config-bridge.yaml when this tag is set.\nThis will cause both Controller and Compute nodes to have an\nexternal bridge by default if no specific NIC configuration files\nare specified for both roles since the 'external_bridge' tag is set\nin roles_data.yaml.\n\nThis change also stops using net-config-bridge.yaml when the role\nincludes the 'controller' tag, since the 'external_bridge' tag is\nused instead.\n\nCloses-bug: 1890337\nChange-Id: I69c32d33a516c629303e87c8e9a0e4b8fe58c669\n""}, {'number': 3, 'created': '2020-08-04 21:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a58052a23c58c58b38a802c09ba8be680f370915', 'message': ""Create external bridge on Compute nodes by default for OVN with DVR\n\nOVN is used by default, which includes DVR and requires a Neutron\nexternal network bridge on the Compute nodes. This change adds the\ntag 'external_bridge' to the Controller roles and modifies the\novercloud-resource-registry-puppet.j2.yaml file to set the default\nNIC configuration to net-config-bridge.yaml when this tag is set.\nThis will cause both Controller and Compute nodes to have an\nexternal bridge by default if no specific NIC configuration files\nare specified for both roles since the 'external_bridge' tag is set\nin roles_data.yaml.\n\nThis change also stops using net-config-bridge.yaml when the role\nincludes the 'controller' tag, since the 'external_bridge' tag is\nused instead.\n\nCloses-bug: 1890337\nChange-Id: I69c32d33a516c629303e87c8e9a0e4b8fe58c669\n""}, {'number': 4, 'created': '2020-08-18 03:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b18550d16bc14be572a0d3f7490635a1fdb53d0b', 'message': ""Create external bridge on Compute nodes by default for OVN with DVR\n\nOVN is used by default, which includes DVR and requires a Neutron\nexternal network bridge on the Compute nodes. This change adds the\ntag 'external_bridge' to the Controller roles and modifies the\novercloud-resource-registry-puppet.j2.yaml file to set the default\nNIC configuration to net-config-bridge.yaml when this tag is set.\nThis will cause both Controller and Compute nodes to have an\nexternal bridge by default if no specific NIC configuration files\nare specified for both roles since the 'external_bridge' tag is set\nin roles_data.yaml.\n\nThis change also stops using net-config-bridge.yaml when the role\nincludes the 'controller' tag, since the 'external_bridge' tag is\nused instead. A release note explains the change.\n\nCloses-bug: 1890337\nChange-Id: I69c32d33a516c629303e87c8e9a0e4b8fe58c669\n""}, {'number': 5, 'created': '2020-08-20 00:07:31.000000000', 'files': ['network/config/multiple-nics-vlans/role.role.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/external-bridge-by-default-on-compute-f3ff6bf46ab80640.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'network/config/multiple-nics/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc5b6133f1f192c7fe5330bc1fa13f8259eb9050', 'message': ""Create external bridge on Compute nodes by default for OVN with DVR\n\nOVN is used by default, which includes DVR and requires a Neutron\nexternal network bridge on the Compute nodes. This change adds the\ntag 'external_bridge' to the Controller roles and modifies the\novercloud-resource-registry-puppet.j2.yaml file to set the default\nNIC configuration to net-config-bridge.yaml when this tag is set.\nThis will cause both Controller and Compute nodes to have an\nexternal bridge by default if no specific NIC configuration files\nare specified for both roles since the 'external_bridge' tag is set\nin roles_data.yaml.\n\nThis change also stops using net-config-bridge.yaml when the role\nincludes the 'controller' tag, since the 'external_bridge' tag is\nused instead. A release note explains the change.\n\nCloses-bug: 1890337\nChange-Id: I69c32d33a516c629303e87c8e9a0e4b8fe58c669\n""}]",3,744791,bc5b6133f1f192c7fe5330bc1fa13f8259eb9050,44,9,5,12398,,,0,"Create external bridge on Compute nodes by default for OVN with DVR

OVN is used by default, which includes DVR and requires a Neutron
external network bridge on the Compute nodes. This change adds the
tag 'external_bridge' to the Controller roles and modifies the
overcloud-resource-registry-puppet.j2.yaml file to set the default
NIC configuration to net-config-bridge.yaml when this tag is set.
This will cause both Controller and Compute nodes to have an
external bridge by default if no specific NIC configuration files
are specified for both roles since the 'external_bridge' tag is set
in roles_data.yaml.

This change also stops using net-config-bridge.yaml when the role
includes the 'controller' tag, since the 'external_bridge' tag is
used instead. A release note explains the change.

Closes-bug: 1890337
Change-Id: I69c32d33a516c629303e87c8e9a0e4b8fe58c669
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/744791/5 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'roles_data.yaml']",3,4c03f1608a1e1fc1d406f3ef0cf43aae71913b4a,bug/1890337, # Create external Neutron bridge for SNAT (and floating IPs when using # ML2/OVS without DVR) - external_bridge ,,12,4
openstack%2Frequirements~master~I02e6802e7f078f3a97fa6f747bf1dcf83734bd3b,openstack/requirements,master,I02e6802e7f078f3a97fa6f747bf1dcf83734bd3b,update constraint for ovsdbapp to new release 1.5.0,MERGED,2020-09-04 13:24:20.000000000,2020-09-05 05:49:03.000000000,2020-09-05 05:47:03.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 13:24:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/693167c43fe4bc425ad4aff0d7019cb8771c3c42', 'message': 'update constraint for ovsdbapp to new release 1.5.0\n\nChange-Id: I02e6802e7f078f3a97fa6f747bf1dcf83734bd3b\nmeta:version: 1.5.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749957,693167c43fe4bc425ad4aff0d7019cb8771c3c42,13,5,1,11131,,,0,"update constraint for ovsdbapp to new release 1.5.0

Change-Id: I02e6802e7f078f3a97fa6f747bf1dcf83734bd3b
meta:version: 1.5.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Akihiro Motoki <amotoki@gmail.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/749957/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,693167c43fe4bc425ad4aff0d7019cb8771c3c42,new-release,ovsdbapp===1.5.0,ovsdbapp===1.4.0,1,1
openstack%2Ftripleo-common~stable%2Ftrain~Ib60faa9d9791d7478b4b0253150a2bc0a503248e,openstack/tripleo-common,stable/train,Ib60faa9d9791d7478b4b0253150a2bc0a503248e,update tripleo-train tripleo_containers to default names,MERGED,2020-09-04 18:49:07.000000000,2020-09-05 05:47:26.000000000,2020-09-05 05:45:51.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 18:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/015ecbc3a60f2e24acc08849e5693a4940823ae6', 'message': 'clean up container defs for tripleo train\n\nChange-Id: Ib60faa9d9791d7478b4b0253150a2bc0a503248e\n'}, {'number': 2, 'created': '2020-09-04 19:24:37.000000000', 'files': ['container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9dffbd20fde40659a292cc6855b236fa705525d', 'message': 'update tripleo-train tripleo_containers to default names\n\nreturn to docker\nnamespace = tripleotraincentos8\nchange prefix s/openstack-/centos-binary-\n\nChange-Id: Ib60faa9d9791d7478b4b0253150a2bc0a503248e\n'}]",1,750015,c9dffbd20fde40659a292cc6855b236fa705525d,12,4,2,9592,,,0,"update tripleo-train tripleo_containers to default names

return to docker
namespace = tripleotraincentos8
change prefix s/openstack-/centos-binary-

Change-Id: Ib60faa9d9791d7478b4b0253150a2bc0a503248e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/15/750015/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml.j2', 'container-images/tripleo_containers.yaml']",2,015ecbc3a60f2e24acc08849e5693a4940823ae6,, imagename: docker.io/tripleotraincentos8/centos-binary-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-os:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-aodh-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-aodh-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-aodh-evaluator:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-aodh-listener:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-aodh-notifier:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-barbican-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-barbican-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-barbican-keystone-listener:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-barbican-worker:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ceilometer-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ceilometer-ipmi:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ceilometer-central:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ceilometer-compute:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ceilometer-notification:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-cinder-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-cinder-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-cinder-backup:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-cinder-scheduler:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-cinder-volume:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-collectd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-cron:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-backend-bind9:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-central:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-mdns:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-producer:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-sink:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-designate-worker:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ec2-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-etcd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-glance-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-gnocchi-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-gnocchi-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-gnocchi-metricd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-gnocchi-statsd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-haproxy:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-heat-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-heat-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-heat-api-cfn:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-heat-engine:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-heat-all:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-horizon:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ironic-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ironic-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ironic-conductor:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ironic-inspector:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ironic-neutron-agent:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ironic-pxe:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-iscsid:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-keepalived:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-keystone:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-manila-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-manila-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-manila-scheduler:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-manila-share:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-mariadb:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-memcached:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-mistral-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-mistral-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-mistral-engine:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-mistral-event-engine:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-mistral-executor:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-multipathd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-agent-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-dhcp-agent:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-l3-agent:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-metadata-agent-ovn:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-metadata-agent:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-openvswitch-agent:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-server:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-server-ovn:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-neutron-sriov-agent:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-libvirt:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-compute:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-compute-ironic:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-conductor:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-novncproxy:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-nova-scheduler:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-novajoin-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-novajoin-notifier:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-novajoin-server:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-octavia-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-octavia-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-octavia-health-manager:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-octavia-housekeeping:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-octavia-worker:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ovn-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ovn-controller:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ovn-northd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ovn-nb-db-server:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-ovn-sb-db-server:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-panko-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-placement-api:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-qdrouterd:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-rabbitmq:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-redis:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-rsyslog:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-swift-base:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-swift-account:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-swift-container:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-swift-object:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-swift-proxy-server:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-tempest:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-tripleoclient:current-tripleo imagename: docker.io/tripleotraincentos8/centos-binary-zaqar-wsgi:current-tripleo, imagename: quay.io/tripleotrain/openstack-base:current-tripleo imagename: quay.io/tripleotrain/openstack-os:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-base:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-api:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-evaluator:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-listener:current-tripleo imagename: quay.io/tripleotrain/openstack-aodh-notifier:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-base:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-api:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-keystone-listener:current-tripleo imagename: quay.io/tripleotrain/openstack-barbican-worker:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-base:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-ipmi:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-central:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-compute:current-tripleo imagename: quay.io/tripleotrain/openstack-ceilometer-notification:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-base:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-api:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-backup:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-scheduler:current-tripleo imagename: quay.io/tripleotrain/openstack-cinder-volume:current-tripleo imagename: quay.io/tripleotrain/openstack-collectd:current-tripleo imagename: quay.io/tripleotrain/openstack-cron:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-base:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-backend-bind9:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-api:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-central:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-mdns:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-producer:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-sink:current-tripleo imagename: quay.io/tripleotrain/openstack-designate-worker:current-tripleo imagename: quay.io/tripleotrain/openstack-ec2-api:current-tripleo imagename: quay.io/tripleotrain/openstack-etcd:current-tripleo imagename: quay.io/tripleotrain/openstack-glance-api:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-base:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-api:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-metricd:current-tripleo imagename: quay.io/tripleotrain/openstack-gnocchi-statsd:current-tripleo imagename: quay.io/tripleotrain/openstack-haproxy:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-base:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-api:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-api-cfn:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-engine:current-tripleo imagename: quay.io/tripleotrain/openstack-heat-all:current-tripleo imagename: quay.io/tripleotrain/openstack-horizon:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-base:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-api:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-conductor:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-inspector:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-neutron-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-ironic-pxe:current-tripleo imagename: quay.io/tripleotrain/openstack-iscsid:current-tripleo imagename: quay.io/tripleotrain/openstack-keepalived:current-tripleo imagename: quay.io/tripleotrain/openstack-keystone:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-base:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-api:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-scheduler:current-tripleo imagename: quay.io/tripleotrain/openstack-manila-share:current-tripleo imagename: quay.io/tripleotrain/openstack-mariadb:current-tripleo imagename: quay.io/tripleotrain/openstack-memcached:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-base:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-api:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-engine:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-event-engine:current-tripleo imagename: quay.io/tripleotrain/openstack-mistral-executor:current-tripleo imagename: quay.io/tripleotrain/openstack-multipathd:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-base:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-agent-base:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-dhcp-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-l3-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-metadata-agent-ovn:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-metadata-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-openvswitch-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-server:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-server-ovn:current-tripleo imagename: quay.io/tripleotrain/openstack-neutron-sriov-agent:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-base:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-libvirt:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-api:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-compute:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-compute-ironic:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-conductor:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-novncproxy:current-tripleo imagename: quay.io/tripleotrain/openstack-nova-scheduler:current-tripleo imagename: quay.io/tripleotrain/openstack-novajoin-base:current-tripleo imagename: quay.io/tripleotrain/openstack-novajoin-notifier:current-tripleo imagename: quay.io/tripleotrain/openstack-novajoin-server:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-base:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-api:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-health-manager:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-housekeeping:current-tripleo imagename: quay.io/tripleotrain/openstack-octavia-worker:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-base:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-controller:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-northd:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-nb-db-server:current-tripleo imagename: quay.io/tripleotrain/openstack-ovn-sb-db-server:current-tripleo imagename: quay.io/tripleotrain/openstack-panko-api:current-tripleo imagename: quay.io/tripleotrain/openstack-placement-api:current-tripleo imagename: quay.io/tripleotrain/openstack-qdrouterd:current-tripleo imagename: quay.io/tripleotrain/openstack-rabbitmq:current-tripleo imagename: quay.io/tripleotrain/openstack-redis:current-tripleo imagename: quay.io/tripleotrain/openstack-rsyslog:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-base:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-account:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-container:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-object:current-tripleo imagename: quay.io/tripleotrain/openstack-swift-proxy-server:current-tripleo imagename: quay.io/tripleotrain/openstack-tempest:current-tripleo imagename: quay.io/tripleotrain/openstack-tripleoclient:current-tripleo imagename: quay.io/tripleotrain/openstack-zaqar-wsgi:current-tripleo,111,119
openstack%2Frequirements~stable%2Fstein~I6d796e07e78225c4b641ae3a108a74063134e74e,openstack/requirements,stable/stein,I6d796e07e78225c4b641ae3a108a74063134e74e,update constraint for os-brick to new release 2.8.7,MERGED,2020-09-04 20:44:20.000000000,2020-09-05 04:54:30.000000000,2020-09-05 04:54:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 20:44:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a1d12a52ae060b471fa5bbfff48f972d0e1b1be2', 'message': 'update constraint for os-brick to new release 2.8.7\n\nChange-Id: I6d796e07e78225c4b641ae3a108a74063134e74e\nmeta:version: 2.8.7\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Change-Id: I78d077ff10db9632ec2f5f22ae2ef1c7a6e01ac7\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,750045,a1d12a52ae060b471fa5bbfff48f972d0e1b1be2,9,3,1,11131,,,0,"update constraint for os-brick to new release 2.8.7

Change-Id: I6d796e07e78225c4b641ae3a108a74063134e74e
meta:version: 2.8.7
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Change-Id: I78d077ff10db9632ec2f5f22ae2ef1c7a6e01ac7
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/750045/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a1d12a52ae060b471fa5bbfff48f972d0e1b1be2,new-release,os-brick===2.8.7,os-brick===2.8.6,1,1
openstack%2Fneutron~stable%2Ftrain~I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,openstack/neutron,stable/train,I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,Add 'keepalived_use_no_track' config option,MERGED,2020-08-25 07:57:25.000000000,2020-09-05 03:37:10.000000000,2020-09-05 03:35:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 07:57:25.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2b9fd66b9e673a4cbc43258ab0ac306db2f38d1', 'message': 'Add \'keepalived_use_no_track\' config option\n\nPatch [1] added option ""no_track"" to the keepalived\'s config file which\nis generated by L3 agent in HA mode.\nThis was added to handle properly keepalived 2.x and interfaces which\nare in DOWN state in the backup nodes.\nBut this ""no_track"" option is not compatible with keepalived 1.x series\nwhich is available e.g. on Ubuntu 18.04.\n\nAs there is no easy way to check automatically if keepalived supports or\nnot this config flag, this patch introduces new config option\n""keepalived_use_no_track"".\nIf this config option will be set to False, neutron L3 agent will not\nadd ""no_track"" to the keepalived\'s config.\n\nAs master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x\nis already available, this new config option default value is set to\nTrue.\n\n[1] https://review.opendev.org/#/c/721799/\n\nConflicts:\n    neutron/conf/agent/l3/config.py\n\nChange-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b\nCloses-Bug: #1890400\n(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)\n'}]",0,747856,b2b9fd66b9e673a4cbc43258ab0ac306db2f38d1,38,7,1,11975,,,0,"Add 'keepalived_use_no_track' config option

Patch [1] added option ""no_track"" to the keepalived's config file which
is generated by L3 agent in HA mode.
This was added to handle properly keepalived 2.x and interfaces which
are in DOWN state in the backup nodes.
But this ""no_track"" option is not compatible with keepalived 1.x series
which is available e.g. on Ubuntu 18.04.

As there is no easy way to check automatically if keepalived supports or
not this config flag, this patch introduces new config option
""keepalived_use_no_track"".
If this config option will be set to False, neutron L3 agent will not
add ""no_track"" to the keepalived's config.

As master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x
is already available, this new config option default value is set to
True.

[1] https://review.opendev.org/#/c/721799/

Conflicts:
    neutron/conf/agent/l3/config.py

Change-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b
Closes-Bug: #1890400
(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/747856/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py']",7,b2b9fd66b9e673a4cbc43258ab0ac306db2f38d1,bug/1890400," cfg.BoolOpt('keepalived_use_no_track', default=True, help=_('If keepalived without support for ""no_track"" option ' 'is used, this should be set to False. ' 'Support for this option was introduced in keepalived ' '2.x'))",,132,17
openstack%2Frequirements~master~Id77bf730b42b4e69a41818c025e0dcbe9cec64da,openstack/requirements,master,Id77bf730b42b4e69a41818c025e0dcbe9cec64da,Remove cross-swift-py27 job from gate queue,MERGED,2020-09-04 17:22:24.000000000,2020-09-05 02:42:26.000000000,2020-09-05 02:40:36.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 17:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab73e3a99cc4a2f3f10d7b42be3e4643025814cc', 'message': 'Remove cross-swift-py27 job from gate queue\n\nWe removed all py27 jobs, but apparently missed removing\ncross-swift-py27 from the gate queue. It has already been removed from\nthe check queue, and definitely should not be tested anymore in\nvictoria.\n\nChange-Id: Id77bf730b42b4e69a41818c025e0dcbe9cec64da\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-09-04 17:25:22.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea5543e772af176cd55a04b39200ac9bd071f896', 'message': 'Remove cross-swift-py27 job from gate queue\n\nWe removed all py27 jobs, but apparently missed removing\ncross-swift-py27 from the gate queue. It has already been removed from\nthe check queue, and definitely should not be tested anymore in\nvictoria.\n\nJob was removed from check queue along with other cross-*-py27 jobs in\nI2d58d1b524764ea1d46d6ab3a382783f6a002b34.\n\nChange-Id: Id77bf730b42b4e69a41818c025e0dcbe9cec64da\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,750000,ea5543e772af176cd55a04b39200ac9bd071f896,17,4,2,11904,,,0,"Remove cross-swift-py27 job from gate queue

We removed all py27 jobs, but apparently missed removing
cross-swift-py27 from the gate queue. It has already been removed from
the check queue, and definitely should not be tested anymore in
victoria.

Job was removed from check queue along with other cross-*-py27 jobs in
I2d58d1b524764ea1d46d6ab3a382783f6a002b34.

Change-Id: Id77bf730b42b4e69a41818c025e0dcbe9cec64da
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/750000/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,ab73e3a99cc4a2f3f10d7b42be3e4643025814cc,,, - cross-swift-py27,0,1
openstack%2Fneutron~master~I0671ed8d73ca8c0e3ba4aded81f395e20957d598,openstack/neutron,master,I0671ed8d73ca8c0e3ba4aded81f395e20957d598,[ovn]: port forwarding -- functional tests for maintenance task,MERGED,2020-07-17 22:05:03.000000000,2020-09-05 02:41:34.000000000,2020-09-05 02:39:59.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 22:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4c3d8ed8e0013b5cc349f7d9fdbcd9273ecccf4', 'message': '[ovn]: port forwarding -- functional test for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 2, 'created': '2020-07-19 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84b45731942b7ec8d57299c035dc4858e250debe', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 3, 'created': '2020-07-20 17:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47d4aa8e82aefa9f2a37ce2c7991d2309971c759', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 4, 'created': '2020-07-21 12:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98e6f90871068d080cb50342b969284fe9bf8a57', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 5, 'created': '2020-07-23 00:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95b6cea367273d1a68602c514e68b56447e4bb26', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 6, 'created': '2020-07-26 13:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc02e730a5fcbeb1dd8f01ee8689fe516f0f23aa', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 7, 'created': '2020-07-26 16:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/add368a5a7deb0c7c91d842c8ab4f8f1783827e4', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 8, 'created': '2020-07-28 02:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/681880364a7d75b7bfbfa296193f27f2e3246b8a', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 9, 'created': '2020-07-28 02:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5e08934c26bdcbf800c70300bd6125e06229a3a', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 10, 'created': '2020-07-28 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4874bc88adb16cd6500abc7bca28b16e351a0093', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 11, 'created': '2020-07-29 14:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/734cc8eea7989f4f0173424a02657e74375ac6a6', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 12, 'created': '2020-07-30 21:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbcc1f6658705c1fe6bb2e628a7a7a6f932e550f', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 13, 'created': '2020-08-01 19:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a85f1941857114b39b16ba810b7df34e74306d0', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 14, 'created': '2020-08-05 09:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0b485c27c2be6aa35ed5a9639b0a8da98d44cfa', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 15, 'created': '2020-08-06 20:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bd37ed8a99d2c9876a66759b2a03731cb7c5040', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 16, 'created': '2020-08-07 20:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea965a6225b019aaabb2562121d2996faccf1d41', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 17, 'created': '2020-08-08 20:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/589382ed9ddc5451933bd443ad417c31299cc6a2', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 18, 'created': '2020-08-09 11:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8a365a591b7123428d7aa80c3436a4ef8dff691', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 19, 'created': '2020-08-10 13:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fd44d5fd305b5c20fdbd4e05ee5f0be25f04a66', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 20, 'created': '2020-08-10 13:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65d553569766b486f1d0b4c39d4fedea7087c96d', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 21, 'created': '2020-08-11 19:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a70ca95d59952cf75c431c0c2d866f3e706a0ce', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 22, 'created': '2020-08-19 01:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da43697fe5a27fdc8da7443305c55cda6af375fb', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 23, 'created': '2020-08-19 01:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a183400eaef93f04767fd398f56522435523e198', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 24, 'created': '2020-08-21 18:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5ec8bc7b9dc682a28eff8fa1a24efc3f3411638', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 25, 'created': '2020-08-31 15:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83bd6780dfba4b940797f76835895a79e22088b9', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 26, 'created': '2020-08-31 15:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/465b7fe8bb9c0733d82eed3f9cd2ba786741c054', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 27, 'created': '2020-09-02 13:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24d68ce2918a6281f8ce10cb34c56b6d3abb36b7', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 28, 'created': '2020-09-02 17:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d70c4050e570e73ffbc4c204837e6e2ba27292cf', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 29, 'created': '2020-09-03 15:37:35.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0deec6621e6485e0a7c219953850fd14b83a7c41', 'message': '[ovn]: port forwarding -- functional tests for maintenance task\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset adds functional tests in maintenance task to ensure\nthat floating ips as well as port forwarding are properly handled.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}]",27,741731,0deec6621e6485e0a7c219953850fd14b83a7c41,241,14,29,11952,,,0,"[ovn]: port forwarding -- functional tests for maintenance task

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset adds functional tests in maintenance task to ensure
that floating ips as well as port forwarding are properly handled.

Depends-On: https://review.opendev.org/#/c/741303/
Change-Id: I0671ed8d73ca8c0e3ba4aded81f395e20957d598
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/741731/23 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py'],1,c4c3d8ed8e0013b5cc349f7d9fdbcd9273ecccf4,ovn/port_forwarding,"from neutron_lib.exceptions import l3 as lib_l3_exc if ip_version == 4: cidr = '10.0.0.0/24' else: cidr = 'eef0::/64' kwargs = {'name': name, 'ip_version': ip_version, 'cidr': cidr, 'enable_dhcp': True} return self._create_subnet_kwargs(net_id, **kwargs) def _create_subnet_kwargs(self, net_id, **kwargs): data = {'subnet': {'network_id': net_id, 'ip_version': 4, 'tenant_id': self._tenant_id}} for arg in ('name', 'cidr', 'ip_version', 'tenant_id', 'subnetpool_id', 'gateway_ip', 'prefixlen', 'enable_dhcp', 'allocation_pools', 'segment_id', 'dns_nameservers', 'host_routes', 'shared', 'ipv6_ra_mode', 'ipv6_address_mode', 'service_types'): # Arg must be present and not null (but can be false) if kwargs.get(arg) is not None: data['subnet'][arg] = kwargs[arg] def _find_nat_rule(self, router_id, external_ip, logical_ip=None, type='dnat_and_snat'): rules = self.nb_api.get_lrouter_nat_rules(utils.ovn_name(router_id)) for rule in rules: if all((rule.get('type') == type, rule.get('external_ip') == external_ip, not logical_ip or rule.get('logical_ip') == logical_ip)): return rule def test_fip(self): ext_net = self._create_network('ext_networktest', external=True) ext_subnet = self._create_subnet_kwargs( ext_net['id'], **{'name': 'ext_subnettest', 'cidr': '100.0.0.0/24', 'gateway_ip': '100.0.0.254', 'allocation_pools': [ {'start': '100.0.0.2', 'end': '100.0.0.253'}], 'enable_dhcp': False}) net1 = self._create_network('network1test', external=False) subnet1 = self._create_subnet('subnet1test', net1['id']) external_gateway_info = { 'enable_snat': True, 'network_id': ext_net['id'], 'external_fixed_ips': [ {'ip_address': '100.0.0.2', 'subnet_id': ext_subnet['id']}]} router = self._create_router( 'routertest', external_gateway_info=external_gateway_info) self._add_router_interface(router['id'], subnet1['id']) p1 = self._create_port('testp1', net1['id']) logical_ip = p1['fixed_ips'][0]['ip_address'] fip_info = {'floatingip': { 'description': 'test_fip', 'tenant_id': self._tenant_id, 'floating_network_id': ext_net['id'], 'port_id': p1['id'], 'fixed_ip_address': logical_ip}} with mock.patch.object(self._l3_ovn_client, 'create_floatingip'): fip = self.l3_plugin.create_floatingip(self.context, fip_info) floating_ip_address = fip['floating_ip_address'] self.assertEqual(fip['router_id'], router['id']) self.assertEqual(fip['port_details']['name'], 'testp1') self.assertIsNotNone(self.nb_api.get_lswitch_port(fip['port_id'])) # Assert the dnat_and_snat rule doesn't exist in OVN self.assertIsNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert the rule for the fip is now present self.assertIsNotNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # > Update p2 = self._create_port('testp2', net1['id']) logical_ip = p2['fixed_ips'][0]['ip_address'] fip_info = {'floatingip': { 'port_id': p2['id'], 'fixed_ip_address': logical_ip}} with mock.patch.object(self._l3_ovn_client, 'update_floatingip'): self.l3_plugin.update_floatingip(self.context, fip['id'], fip_info) # Assert the dnat_and_snat rule in OVN is still using p1's address stale_nat_rule = self._find_nat_rule(router['id'], floating_ip_address) self.assertEqual(stale_nat_rule['logical_ip'], p1['fixed_ips'][0]['ip_address']) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert the rule for the fip is now updated self.assertIsNotNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # > Delete with mock.patch.object(self._l3_ovn_client, 'delete_floatingip'): self.l3_plugin.delete_floatingip(self.context, fip['id']) self.assertRaises( lib_l3_exc.FloatingIPNotFound, self.l3_plugin.get_floatingip, self.context, fip['id']) # Assert the dnat_and_snat rule in OVN is still present self.assertIsNotNone( self._find_nat_rule(router['id'], floating_ip_address, logical_ip)) # Call the maintenance thread to fix the problem self.maint.check_for_inconsistencies() # Assert the rule for the fip is now gone self.assertIsNone( self._find_nat_rule(router['id'], floating_ip_address)) # Assert the router snat rule is still there self.assertIsNotNone(self._find_nat_rule( router['id'], '100.0.0.2', logical_ip=subnet1['cidr'], type='snat')) "," data = {'subnet': {'name': name, 'tenant_id': self._tenant_id, 'network_id': net_id, 'ip_version': ip_version, 'enable_dhcp': True}} if ip_version == 4: data['subnet']['cidr'] = '10.0.0.0/24' else: data['subnet']['cidr'] = 'eef0::/64' ",125,7
openstack%2Fcyborg~master~Ie331a3b34e7397531ec9737595b8996e38044801,openstack/cyborg,master,Ie331a3b34e7397531ec9737595b8996e38044801,Add instance project_id for arq patch,MERGED,2020-06-29 11:54:11.000000000,2020-09-05 02:39:39.000000000,2020-09-04 09:28:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23157}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-06-29 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/11ccf1fc1977ad256233071cb9a83975bd6b3aca', 'message': 'Add instance project_id for arq\n\nChange-Id: Ie331a3b34e7397531ec9737595b8996e38044801\n'}, {'number': 2, 'created': '2020-06-30 02:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/58a44895d261e33715a0d37cf1a2b0b45bb03fb7', 'message': 'Add instance project_id for arq\n\nIn order to show the project_id of arq.\nModify unittest.\n\nChange-Id: Ie331a3b34e7397531ec9737595b8996e38044801\n'}, {'number': 3, 'created': '2020-08-19 12:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/11078f1fcc5fc59689ba59977cdd0f60b2af5502', 'message': 'Add instance project_id for arq patch\n\nIn order to control the operation of arq with different roles.\nUse microversion for project_id.\nAdd and modify unittest.\n\nChange-Id: Ie331a3b34e7397531ec9737595b8996e38044801\n'}, {'number': 4, 'created': '2020-08-27 09:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b964644dc2bb4578edd630d8e6dca778ac76c940', 'message': 'Add instance project_id for arq patch\n\nIn order to control the operation of arq with different roles.\nUse microversion 2.1 for adding project_id for arq patching.\nAdd and modify unittest.\n\nChange-Id: Ie331a3b34e7397531ec9737595b8996e38044801\n'}, {'number': 5, 'created': '2020-08-27 09:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3a825cde9874293bfcfabeba1b88dd295ab01e41', 'message': 'Add instance project_id for arq patch\n\nIn order to control the operation of arq with different roles.\nUse microversion 2.1 for adding project_id for arq patching.\nAdd and modify unittest.\n\nChange-Id: Ie331a3b34e7397531ec9737595b8996e38044801\n'}, {'number': 6, 'created': '2020-09-03 06:54:52.000000000', 'files': ['cyborg/api/controllers/v2/arqs.py', 'cyborg/objects/extarq/ext_arq_job.py', 'cyborg/api/controllers/v2/versions.py', 'cyborg/api/controllers/v2/utils.py', 'cyborg/api/rest_api_version_history.rst', 'cyborg/objects/arq.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/fake_extarq.py', 'cyborg/objects/ext_arq.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/de0823d19897d880f6ea5f43b179b779c9cb42b4', 'message': 'Add instance project_id for arq patch\n\nIn order to control the operation of arq with different roles.\nUse microversion 2.1 for adding project_id for arq patching.\nAdd and modify unittest.\n\nChange-Id: Ie331a3b34e7397531ec9737595b8996e38044801\n'}]",12,738427,de0823d19897d880f6ea5f43b179b779c9cb42b4,35,6,6,31412,,,0,"Add instance project_id for arq patch

In order to control the operation of arq with different roles.
Use microversion 2.1 for adding project_id for arq patching.
Add and modify unittest.

Change-Id: Ie331a3b34e7397531ec9737595b8996e38044801
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/27/738427/6 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/api/controllers/v2/arqs.py', 'cyborg/objects/extarq/ext_arq_job.py', 'cyborg/objects/arq.py']",3,11ccf1fc1977ad256233071cb9a83975bd6b3aca,arq-instance-project-id," 'project_id': object_fields.StringField(nullable=True),",,8,2
openstack%2Fpython-freezerclient~master~I7a01b34fa14404715ef55eceb51a4935be2a4e9f,openstack/python-freezerclient,master,I7a01b34fa14404715ef55eceb51a4935be2a4e9f,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:31:21.000000000,2020-09-05 02:20:42.000000000,2020-09-05 02:19:16.000000000,"[{'_account_id': 8556}, {'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-13 00:31:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/da8b317274ca8e589ac9bbcbeb3aa6ea7a779a33', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I7a01b34fa14404715ef55eceb51a4935be2a4e9f\n'}]",0,727532,da8b317274ca8e589ac9bbcbeb3aa6ea7a779a33,14,3,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I7a01b34fa14404715ef55eceb51a4935be2a4e9f
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/32/727532/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,da8b317274ca8e589ac9bbcbeb3aa6ea7a779a33,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fneutron~stable%2Fussuri~Idd42491dcaa10ec36c963b477438eaa2336ef3a0,openstack/neutron,stable/ussuri,Idd42491dcaa10ec36c963b477438eaa2336ef3a0,Remove some unnecessary usages of verify(),MERGED,2020-08-20 21:16:42.000000000,2020-09-05 02:04:36.000000000,2020-09-05 02:02:44.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-20 21:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f282de0a7b8c1191e52d292108b5856edb7b854c', 'message': ""Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append('newport')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)\n""}, {'number': 2, 'created': '2020-08-20 21:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1affd1905f19ef11e047738dda30d0673a6f90e0', 'message': 'Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append(\'newport\')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nThis cherry pick required a small change to addess the following\npep8 error:\n./neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py:717:48:\nH703  Multiple positional placeholders\n              ""Can\'t update external IDs"") % (self.table, self.record)\n                                         ^\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)\n'}, {'number': 3, 'created': '2020-08-20 21:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcd1b0c1f616a5db61377b7c957a3cb06db47c4a', 'message': 'Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append(\'newport\')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nThis cherry pick required a small change to address the following\npep8 error:\n./neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py:717:48:\nH703  Multiple positional placeholders\n              ""Can\'t update external IDs"") % (self.table, self.record)\n                                         ^\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)\n'}, {'number': 4, 'created': '2020-08-20 23:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/122d6935fba5f3ae3662af222b2ac8fd691d4b34', 'message': 'Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append(\'newport\')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nThis cherry pick required a small change to address the following\npep8 error:\n./neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py:717:48:\nH703  Multiple positional placeholders\n              ""Can\'t update external IDs"") % (self.table, self.record)\n                                         ^\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)\n'}, {'number': 5, 'created': '2020-08-21 14:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d56d1624ff8a213d9c8c021ca0a68187628a3a2', 'message': 'Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append(\'newport\')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nThis cherry pick required a small change to address the following\npep8 error:\n./neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py:717:48:\nH703  Multiple positional placeholders\n              ""Can\'t update external IDs"") % (self.table, self.record)\n                                         ^\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)\n'}, {'number': 6, 'created': '2020-09-03 21:58:48.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd8fbdc04ec2a0a4ee0570fba9f1cd452669d044', 'message': 'Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append(\'newport\')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nThis cherry pick required a small change to address the following\npep8 error:\n./neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py:717:48:\nH703  Multiple positional placeholders\n              ""Can\'t update external IDs"") % (self.table, self.record)\n                                         ^\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)\n'}]",0,747293,cd8fbdc04ec2a0a4ee0570fba9f1cd452669d044,40,9,6,11952,,,0,"Remove some unnecessary usages of verify()

The general usage of verify() is if you are doing something like:

 ports = row.ports
 ports.append('newport')
 row.ports = ports

where you read a value from the db, modify it, then overwrite it.
The setkey/addvalue/delvalue mutate functions make it largely
unnecessary to use verify(), so this patch removes those.

This cherry pick required a small change to address the following
pep8 error:
./neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py:717:48:
H703  Multiple positional placeholders
              ""Can't update external IDs"") % (self.table, self.record)
                                         ^

Change-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0
(cherry picked from commit b11dd3836eba35d65561f582660fa081abd49c19)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/747293/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",3,f282de0a7b8c1191e52d292108b5856edb7b854c,remove_unnecessary_verify,"class UpdateObjectExtIdsCommand(command.BaseCommand): table = None field = 'name' def __init__(self, api, record, external_ids, if_exists): super(UpdateObjectExtIdsCommand, self).__init__(api) self.record = record # api.lookup() would be better as it doesn't rely on hardcoded col obj = idlutils.row_by_value(self.api.idl, self.table, self.field, self.record) msg = _(""%s %s does not exist. "" ""Can't update external IDs"") % (self.table, self.record) for ext_id_key, ext_id_value in self.external_ids.items(): obj.setkey('external_ids', ext_id_key, ext_id_value) class UpdateChassisExtIdsCommand(UpdateObjectExtIdsCommand): table = 'Chassis' class UpdatePortBindingExtIdsCommand(UpdateObjectExtIdsCommand): table = 'Port_Binding' field = 'logical_port' lrouter.addvalue('nat', row.uuid) for nat in lrouter.nat: if (self.type == nat.type and self.external_ip == nat.external_ip and self.logical_ip == nat.logical_ip): lrouter.delvalue('nat', nat) for nat_rule in lrouter.nat: for route in lrouter.static_routes: lrouter.delvalue('static_routes', route) for nat in lrouter.nat: lrouter.delvalue('nat', nat) lrouter.delvalue('ports', lrouter_port)","class UpdateChassisExtIdsCommand(command.BaseCommand): def __init__(self, api, name, external_ids, if_exists): super(UpdateChassisExtIdsCommand, self).__init__(api) self.name = name chassis = idlutils.row_by_value(self.api.idl, 'Chassis', 'name', self.name) msg = _(""Chassis %s does not exist. "" ""Can't update external IDs"") % self.name chassis.verify('external_ids') chassis_external_ids = getattr(chassis, 'external_ids', {}) for ext_id_key, ext_id_value in self.external_ids.items(): chassis_external_ids[ext_id_key] = ext_id_value chassis.external_ids = chassis_external_ids class UpdatePortBindingExtIdsCommand(command.BaseCommand): def __init__(self, api, name, external_ids, if_exists): super(UpdatePortBindingExtIdsCommand, self).__init__(api) self.name = name self.external_ids = external_ids self.if_exists = if_exists def run_idl(self, txn): try: port = idlutils.row_by_value(self.api.idl, 'Port_Binding', 'logical_port', self.name) except idlutils.RowNotFound: if self.if_exists: return msg = _(""Port %s does not exist. "" ""Can't update external IDs"") % self.name raise RuntimeError(msg) port.verify('external_ids') port_external_ids = getattr(port, 'external_ids', {}) for ext_id_key, ext_id_value in self.external_ids.items(): port_external_ids[ext_id_key] = ext_id_value port.external_ids = port_external_ids # TODO(chandrav): convert this to ovs transaction mutate lrouter.verify('nat') nat = getattr(lrouter, 'nat', []) nat.append(row.uuid) setattr(lrouter, 'nat', nat) lrouter.verify('nat') # TODO(chandrav): convert this to ovs transaction mutate nats = getattr(lrouter, 'nat', []) for nat in nats: type = getattr(nat, 'type', '') external_ip = getattr(nat, 'external_ip', '') logical_ip = getattr(nat, 'logical_ip', '') if (self.type == type and self.external_ip == external_ip and self.logical_ip == logical_ip): nats.remove(nat) setattr(lrouter, 'nat', nats) lrouter.verify('nat') nat_rules = getattr(lrouter, 'nat', []) for nat_rule in nat_rules: lrouter.verify('static_routes') static_routes = getattr(lrouter, 'static_routes', []) for route in static_routes: _delvalue_from_list(lrouter, 'static_routes', route) lrouter.verify('nat') nats = getattr(lrouter, 'nat', []) for nat in nats: _delvalue_from_list(lrouter, 'nat', nat) _delvalue_from_list(lrouter, 'ports', lrouter_port)",61,69
openstack%2Fnova-specs~master~I39b0db92b1ab2423d6f28c7935997d6738e885ab,openstack/nova-specs,master,I39b0db92b1ab2423d6f28c7935997d6738e885ab,Unified virtual persistent memory restrictions,MERGED,2020-09-02 09:35:58.000000000,2020-09-05 01:56:15.000000000,2020-09-05 01:55:00.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-02 09:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5e38d49a1967c85a24a633d56e2792a7e21a5f72', 'message': 'Unified virtual persistent memory restrictions\n\nIn the admin operation guide[1] the dependency of\n""Kernel version"", ""QEMU version"", and ""ndctl version"" [2]\nare not consistent with this spec, we need to keep this\nconsistent.\n\n[1]https://docs.openstack.org/nova/ussuri/admin/virtual-persistent-memory.html#dependencies\n\nThe ndctl version should be v62:\n[2]https://github.com/pmem/ndctl/releases/tag/v62\n\nChange-Id: I39b0db92b1ab2423d6f28c7935997d6738e885ab\n'}, {'number': 2, 'created': '2020-09-03 02:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fc66bc320aa3f7a26af5c4ce8c5d7f7468903360', 'message': 'Unified virtual persistent memory restrictions\n\nIn the admin operation guide[1] the dependency of\n""Kernel version"", ""QEMU version"", and ""ndctl version"" [2]\nare not consistent with this spec, we need to keep this\nconsistent.\n\n[1]https://docs.openstack.org/nova/ussuri/admin/virtual-persistent-memory.html#dependencies\n\nThe ndctl version should be v62:\n[2]https://github.com/pmem/ndctl/releases/tag/v62\n\nChange-Id: I39b0db92b1ab2423d6f28c7935997d6738e885ab\n'}, {'number': 3, 'created': '2020-09-03 02:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/670987376fb2ce8cb03d5fa1b6d29dfe233ba65c', 'message': 'Unified virtual persistent memory restrictions\n\nIn the admin operation guide[1] the dependency of\n""Kernel version"", ""QEMU version"", and ""ndctl version"" [2]\nare not consistent with this spec, we need to keep this\nconsistent.\n\n[1]https://docs.openstack.org/nova/ussuri/admin/virtual-persistent-memory.html#dependencies\n\nThe ndctl version should be v62:\n[2]https://github.com/pmem/ndctl/releases/tag/v62\n\nRelated-Bug: #1894022\n\nChange-Id: I39b0db92b1ab2423d6f28c7935997d6738e885ab\n'}, {'number': 4, 'created': '2020-09-03 02:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8059c1d9df0071da4f63eb2e918f3b4e33611ddd', 'message': 'Unified virtual persistent memory restrictions\n\nIn the admin operation guide[1] the dependency of\n""Kernel version"", ""QEMU version"", and ""ndctl version"" [2]\nare not consistent with this spec, we need to keep this\nconsistent.\n\n[1]https://docs.openstack.org/nova/ussuri/admin/virtual-persistent-memory.html#dependencies\n\nThe ndctl version should be v62:\n[2]https://github.com/pmem/ndctl/releases/tag/v62\n\nRelated-Bug: #1894022\n\nChange-Id: I39b0db92b1ab2423d6f28c7935997d6738e885ab\n'}, {'number': 5, 'created': '2020-09-03 03:42:34.000000000', 'files': ['specs/train/implemented/virtual-persistent-memory.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/22031d42ce872c5b724040d1bf287f335d955198', 'message': 'Unified virtual persistent memory restrictions\n\nIn the admin operation guide[1] the dependency of\n""Kernel version"", ""QEMU version"", and ""ndctl version"" [2]\nare not consistent with this spec, we need to keep this\nconsistent.\n\n[1]https://docs.openstack.org/nova/ussuri/admin/virtual-persistent-memory.html#dependencies\n\nThe ndctl version should be v62:\n[2]https://github.com/pmem/ndctl/releases/tag/v62\n\nRelated-Bug: #1894022\n\nChange-Id: I39b0db92b1ab2423d6f28c7935997d6738e885ab\n'}]",3,749472,22031d42ce872c5b724040d1bf287f335d955198,19,7,5,26458,,,0,"Unified virtual persistent memory restrictions

In the admin operation guide[1] the dependency of
""Kernel version"", ""QEMU version"", and ""ndctl version"" [2]
are not consistent with this spec, we need to keep this
consistent.

[1]https://docs.openstack.org/nova/ussuri/admin/virtual-persistent-memory.html#dependencies

The ndctl version should be v62:
[2]https://github.com/pmem/ndctl/releases/tag/v62

Related-Bug: #1894022

Change-Id: I39b0db92b1ab2423d6f28c7935997d6738e885ab
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/72/749472/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/implemented/virtual-persistent-memory.rst'],1,5e38d49a1967c85a24a633d56e2792a7e21a5f72,bug/1894022,* Kernel version >= 4.18 * QEMU version >= 3.1.0* ndctl version >= 62,* Kernel version >= 4.2 * QEMU version >= 2.9.0* ndctl version >= 4.7,3,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib56f59b7d2a981196eab334108d42ca4390c0566,openstack/tripleo-heat-templates,stable/ussuri,Ib56f59b7d2a981196eab334108d42ca4390c0566,Fix Swift ring file synchronization issue,MERGED,2020-09-04 07:27:43.000000000,2020-09-05 01:40:55.000000000,2020-09-05 01:39:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:27:43.000000000', 'files': ['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d3a89dbf8b86a44934b16abc2692f07b1c641fd', 'message': 'Fix Swift ring file synchronization issue\n\nSwift ring files are synchronized by up- and downloading them to the\nundercloud, making sure every node on the overcloud has the same copy to\nstart with.\n\nOne (optional) step in the process is to ensure rings are in sync before\nuploading them eventually. swift-recon is used to query all Swift object\nstorage nodes, get the md5sum of the ring files and compare them with\nthe local ring file md5sum.\n\nHowever, in containerized deployments this will fail, because Swift\ncontainers are not immediately restarted after rebalancing. The object\nserver will return the md5sum of the previous ring version, which does\nnot match with the rebalanced local file. TripleO is intended to skip\nthis check by setting skip_consistency_check to false.\n\nHowever, the parameter was never set to false, and this patch fixes it.\n\nRunning an overcloud update immediately after an initial deployment was\nnot affected by this. Same for multiple overcloud updates - subsequent\nupdates did fix this issue automatically. In the first case the rings\nwere not rebalanced due to min_part_hours not passed, in the latter case\nthey were synchronized on the subsequent update.\n\nCloses-Bug: 1892674\nChange-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566\n(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)\n'}]",0,749884,8d3a89dbf8b86a44934b16abc2692f07b1c641fd,14,4,1,6968,,,0,"Fix Swift ring file synchronization issue

Swift ring files are synchronized by up- and downloading them to the
undercloud, making sure every node on the overcloud has the same copy to
start with.

One (optional) step in the process is to ensure rings are in sync before
uploading them eventually. swift-recon is used to query all Swift object
storage nodes, get the md5sum of the ring files and compare them with
the local ring file md5sum.

However, in containerized deployments this will fail, because Swift
containers are not immediately restarted after rebalancing. The object
server will return the md5sum of the previous ring version, which does
not match with the rebalanced local file. TripleO is intended to skip
this check by setting skip_consistency_check to false.

However, the parameter was never set to false, and this patch fixes it.

Running an overcloud update immediately after an initial deployment was
not affected by this. Same for multiple overcloud updates - subsequent
updates did fix this issue automatically. In the first case the rings
were not rebalanced due to min_part_hours not passed, in the latter case
they were synchronized on the subsequent update.

Closes-Bug: 1892674
Change-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566
(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/749884/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml']",2,8d3a89dbf8b86a44934b16abc2692f07b1c641fd,, tripleo::profile::base::swift::ringbuilder::skip_consistency_check: true, tripleo::profile::base::swift::ringbuilder:skip_consistency_check: true,7,1
openstack%2Fmurano-dashboard~master~Ic72729514d4759466e8afeac6d03cb1ed7a1765d,openstack/murano-dashboard,master,Ic72729514d4759466e8afeac6d03cb1ed7a1765d,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-20 14:20:39.000000000,2020-09-05 01:34:47.000000000,2020-09-05 01:34:46.000000000,"[{'_account_id': 1736}, {'_account_id': 10459}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-20 14:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/a771cb67b47b8f9aa5cb799217e074e591fee941', 'message': '[DNM] test murano-dashboard with horizon jobs on focal\n\nChange-Id: Ic72729514d4759466e8afeac6d03cb1ed7a1765d\n'}, {'number': 2, 'created': '2020-08-20 14:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/a787466a941ee4729fb51aee08dff0edf70fc64b', 'message': '[DNM] test murano-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nChange-Id: Ic72729514d4759466e8afeac6d03cb1ed7a1765d\n'}, {'number': 3, 'created': '2020-08-26 17:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/73d9f607e3054977a1632d77b40a015f0bc77345', 'message': '[DNM] test murano-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nChange-Id: Ic72729514d4759466e8afeac6d03cb1ed7a1765d\n'}, {'number': 4, 'created': '2020-09-02 05:37:49.000000000', 'files': ['karma.conf.js', 'tools/post_install.sh'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/5915355c5b55101ca578c5b0d8cf7828a15460a5', 'message': '[goal] Migrate testing to ubuntu focal\n\nIf we move horizon jobs to focal then murano-dashboard nodejs jobs\nfail. This patch the updates python version to py38 in karma.conf.js\nand tools/post_install.sh files as py36 is not avaialbale on focal\nwhich fixes failed nodejs job.\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nChange-Id: Ic72729514d4759466e8afeac6d03cb1ed7a1765d\n'}]",0,747175,5915355c5b55101ca578c5b0d8cf7828a15460a5,17,6,4,29313,,,0,"[goal] Migrate testing to ubuntu focal

If we move horizon jobs to focal then murano-dashboard nodejs jobs
fail. This patch the updates python version to py38 in karma.conf.js
and tools/post_install.sh files as py36 is not avaialbale on focal
which fixes failed nodejs job.

Depends-On: https://review.opendev.org/#/c/744647/

Change-Id: Ic72729514d4759466e8afeac6d03cb1ed7a1765d
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/75/747175/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a771cb67b47b8f9aa5cb799217e074e591fee941,migrate-to-focal,#test murano-dashboard with horizon jobs on focal,,1,0
openstack%2Fswift~stable%2Frocky~I00c6693c42c1a0220b64d8016d380d5985339658,openstack/swift,stable/rocky,I00c6693c42c1a0220b64d8016d380d5985339658,py3: Work with proper native string paths in crypto meta,MERGED,2020-09-02 15:24:33.000000000,2020-09-05 00:49:09.000000000,2020-09-05 00:49:09.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 15:24:33.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ca66e2e96f2272870a03cebfb8c24b9b6bbacf16', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nAdd the ability to read and write a new, unambiguous version of metadata\nthat always has the path as a native string. To support rolling\nupgrades, a new config option is added: meta_version_to_write. This\ndefaults to 2 to support rolling upgrades without configuration changes,\nbut the default may change to 3 in a future release.\n\nUpgradeImpact\n=============\nWhen upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set\n\n    meta_version_to_write = 1\n\nin your keymaster\'s configuration. Regardless of prior Swift version, set\n\n    meta_version_to_write = 3\n\nafter upgrading all proxy servers.\n\nWhen switching from Python 2 to Python 3, first upgrade Swift while on\nPython 2, then upgrade to Python 3.\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n'}]",0,749536,ca66e2e96f2272870a03cebfb8c24b9b6bbacf16,6,2,1,15343,,,0,"py3: Work with proper native string paths in crypto meta

Previously, we would work with these paths as WSGI strings -- this would
work fine when all data were read and written on the same major version
of Python, but fail pretty badly during and after upgrading Python.

In particular, if a py3 proxy-server tried to read existing data that
was written down by a py2 proxy-server, it would hit an error and
respond 500. Worse, if an un-upgraded py2 proxy tried to read data that
was freshly-written by a py3 proxy, it would serve corrupt data back to
the client (including a corrupt/invalid ETag and Content-Type).

Now, ensure that both py2 and py3 write down paths as native strings.
Make an effort to still work with WSGI-string metadata, though it can be
ambiguous as to whether a string is a WSGI string or not. The heuristic
used is if

 * the path from metadata does not match the (native-string) request
   path and
 * the path from metadata (when interpreted as a WSGI string) can be
   ""un-wsgi-fied"" without any encode/decode errors and
 * the native-string path from metadata *does* match the native-string
   request path

then trust the path from the request. By contrast, we usually prefer the
path from metadata in case there was a pipeline misconfiguration (see
related bug).

Add the ability to read and write a new, unambiguous version of metadata
that always has the path as a native string. To support rolling
upgrades, a new config option is added: meta_version_to_write. This
defaults to 2 to support rolling upgrades without configuration changes,
but the default may change to 3 in a future release.

UpgradeImpact
=============
When upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set

    meta_version_to_write = 1

in your keymaster's configuration. Regardless of prior Swift version, set

    meta_version_to_write = 3

after upgrading all proxy servers.

When switching from Python 2 to Python 3, first upgrade Swift while on
Python 2, then upgrade to Python 3.

Change-Id: I00c6693c42c1a0220b64d8016d380d5985339658
Closes-Bug: #1888037
Related-Bug: #1813725
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/749536/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py']",4,ca66e2e96f2272870a03cebfb8c24b9b6bbacf16,,"import six self.verify_v3_keys_for_path( self.verify_v3_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v3_keys_for_path( def test_unicode_object_path(self): # NB: path is WSGI self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) # Double-whammy: *also* hit the os.path.join issue self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) def verify_v3_keys_for_path(self, wsgi_path, expected_keys, key_id=None): self.app.meta_version_to_write = '3' method, '/v1' + wsgi_path, resp_class, resp_headers, b'') '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) path = swob.wsgi_to_str(wsgi_path) self.assertEqual('3', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys def verify_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) def verify_v1_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None self.app.meta_version_to_write = '1' for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if '//' in path: path = path[path.index('//') + 1:] if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) self.assertEqual('1', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys for version in ('1', '2', '3'): for version in ('1', '2', '3'): def test_v2_keys(self): secrets = {None: os.urandom(32), '22': os.urandom(33)} conf = {} for secret_id, secret in secrets.items(): opt = ('encryption_root_secret%s' % (('_%s' % secret_id) if secret_id else '')) conf[opt] = base64.b64encode(secret) conf['active_root_secret_id'] = '22' self.app = keymaster.KeyMaster(self.swift, conf) orig_create_key = self.app.create_key calls = [] def mock_create_key(path, secret_id=None): calls.append((path, secret_id)) return orig_create_key(path, secret_id) container = u'\N{SNOWMAN}' obj = u'\N{SNOWFLAKE}' if six.PY2: container = container.encode('utf-8') obj = obj.encode('utf-8') good_con_path = '/a/%s' % container good_path = '/a/%s/%s' % (container, obj) if six.PY2: mangled_con_path = ('/a/%s' % container).decode( 'latin-1').encode('utf-8') mangled_path = ('/a/%s/%s' % ( container, obj)).decode('latin-1').encode('utf-8') else: mangled_con_path = ('/a/%s' % container).encode( 'utf-8').decode('latin-1') mangled_path = ('/a/%s/%s' % ( container, obj)).encode('utf-8').decode('latin-1') context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2', '3'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': good_path}) key_id_path = (good_path if version == '3' or six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': mangled_path}) key_id_path = (good_path if six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] # If v3, we know to trust the meta -- presumably, data was PUT with # the mojibake path then COPYed to the right path (but with bad # pipeline placement for copy) with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': '3', 'path': mangled_path}) expected_keys = { 'container': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83/\xc3\xa2\xc2\x9d\xc2\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': mangled_path, 'v': '3'}, 'all_ids': [ {'path': mangled_path, 'v': '3'}, {'path': mangled_path, 'secret_id': '22', 'v': '3'}]} self.assertEqual(expected_keys, keys) self.assertEqual([(mangled_con_path, None), (mangled_path, None)], calls) del calls[:] "," self.verify_keys_for_path( self.verify_keys_for_path( def verify_keys_for_path(self, path, expected_keys, key_id=None): method, '/v1' + path, resp_class, resp_headers, '') '/v1' + path, environ={'REQUEST_METHOD': method}) for version in ('1', '2'): for version in ('1', '2'):",297,13
openstack%2Fswift~stable%2Fstein~I00c6693c42c1a0220b64d8016d380d5985339658,openstack/swift,stable/stein,I00c6693c42c1a0220b64d8016d380d5985339658,py3: Work with proper native string paths in crypto meta,MERGED,2020-09-02 15:10:45.000000000,2020-09-05 00:10:27.000000000,2020-09-05 00:09:11.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 15:10:45.000000000', 'files': ['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/db485392fc238b32e29c8aca12d2e70dd9561004', 'message': 'py3: Work with proper native string paths in crypto meta\n\nPreviously, we would work with these paths as WSGI strings -- this would\nwork fine when all data were read and written on the same major version\nof Python, but fail pretty badly during and after upgrading Python.\n\nIn particular, if a py3 proxy-server tried to read existing data that\nwas written down by a py2 proxy-server, it would hit an error and\nrespond 500. Worse, if an un-upgraded py2 proxy tried to read data that\nwas freshly-written by a py3 proxy, it would serve corrupt data back to\nthe client (including a corrupt/invalid ETag and Content-Type).\n\nNow, ensure that both py2 and py3 write down paths as native strings.\nMake an effort to still work with WSGI-string metadata, though it can be\nambiguous as to whether a string is a WSGI string or not. The heuristic\nused is if\n\n * the path from metadata does not match the (native-string) request\n   path and\n * the path from metadata (when interpreted as a WSGI string) can be\n   ""un-wsgi-fied"" without any encode/decode errors and\n * the native-string path from metadata *does* match the native-string\n   request path\n\nthen trust the path from the request. By contrast, we usually prefer the\npath from metadata in case there was a pipeline misconfiguration (see\nrelated bug).\n\nAdd the ability to read and write a new, unambiguous version of metadata\nthat always has the path as a native string. To support rolling\nupgrades, a new config option is added: meta_version_to_write. This\ndefaults to 2 to support rolling upgrades without configuration changes,\nbut the default may change to 3 in a future release.\n\nUpgradeImpact\n=============\nWhen upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set\n\n    meta_version_to_write = 1\n\nin your keymaster\'s configuration. Regardless of prior Swift version, set\n\n    meta_version_to_write = 3\n\nafter upgrading all proxy servers.\n\nWhen switching from Python 2 to Python 3, first upgrade Swift while on\nPython 2, then upgrade to Python 3.\n\nChange-Id: I00c6693c42c1a0220b64d8016d380d5985339658\nCloses-Bug: #1888037\nRelated-Bug: #1813725\n(cherry picked from commit 7d429318ddb854a23cdecfe35721b1ecbe8bcccc)\n'}]",0,749532,db485392fc238b32e29c8aca12d2e70dd9561004,9,2,1,15343,,,0,"py3: Work with proper native string paths in crypto meta

Previously, we would work with these paths as WSGI strings -- this would
work fine when all data were read and written on the same major version
of Python, but fail pretty badly during and after upgrading Python.

In particular, if a py3 proxy-server tried to read existing data that
was written down by a py2 proxy-server, it would hit an error and
respond 500. Worse, if an un-upgraded py2 proxy tried to read data that
was freshly-written by a py3 proxy, it would serve corrupt data back to
the client (including a corrupt/invalid ETag and Content-Type).

Now, ensure that both py2 and py3 write down paths as native strings.
Make an effort to still work with WSGI-string metadata, though it can be
ambiguous as to whether a string is a WSGI string or not. The heuristic
used is if

 * the path from metadata does not match the (native-string) request
   path and
 * the path from metadata (when interpreted as a WSGI string) can be
   ""un-wsgi-fied"" without any encode/decode errors and
 * the native-string path from metadata *does* match the native-string
   request path

then trust the path from the request. By contrast, we usually prefer the
path from metadata in case there was a pipeline misconfiguration (see
related bug).

Add the ability to read and write a new, unambiguous version of metadata
that always has the path as a native string. To support rolling
upgrades, a new config option is added: meta_version_to_write. This
defaults to 2 to support rolling upgrades without configuration changes,
but the default may change to 3 in a future release.

UpgradeImpact
=============
When upgrading from Swift 2.20.0 or Swift 2.19.1 or earlier, set

    meta_version_to_write = 1

in your keymaster's configuration. Regardless of prior Swift version, set

    meta_version_to_write = 3

after upgrading all proxy servers.

When switching from Python 2 to Python 3, first upgrade Swift while on
Python 2, then upgrade to Python 3.

Change-Id: I00c6693c42c1a0220b64d8016d380d5985339658
Closes-Bug: #1888037
Related-Bug: #1813725
(cherry picked from commit 7d429318ddb854a23cdecfe35721b1ecbe8bcccc)
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/749532/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keymaster.conf-sample', 'swift/common/middleware/crypto/keymaster.py', 'etc/proxy-server.conf-sample', 'test/unit/common/middleware/crypto/test_keymaster.py']",4,db485392fc238b32e29c8aca12d2e70dd9561004,bug/1888037-stable/stein,"import six self.verify_v3_keys_for_path( self.verify_v3_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/a/c//o', expected_keys=('object', 'container')) self.verify_v3_keys_for_path( def test_unicode_object_path(self): # NB: path is WSGI self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4/\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) # Double-whammy: *also* hit the os.path.join issue self.verify_v3_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) self.verify_v1_keys_for_path( '/\xe2\x98\x83/\xf0\x9f\x8c\xb4//\xf0\x9f\x8c\x8a', expected_keys=('object', 'container')) def verify_v3_keys_for_path(self, wsgi_path, expected_keys, key_id=None): self.app.meta_version_to_write = '3' method, '/v1' + wsgi_path, resp_class, resp_headers, b'') '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) path = swob.wsgi_to_str(wsgi_path) self.assertEqual('3', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys def verify_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) def verify_v1_keys_for_path(self, wsgi_path, expected_keys, key_id=None): put_keys = None self.app.meta_version_to_write = '1' for method, resp_class, status in ( ('PUT', swob.HTTPCreated, '201'), ('POST', swob.HTTPAccepted, '202'), ('GET', swob.HTTPOk, '200'), ('HEAD', swob.HTTPNoContent, '204')): resp_headers = {} self.swift.register( method, '/v1' + wsgi_path, resp_class, resp_headers, b'') req = Request.blank( '/v1' + wsgi_path, environ={'REQUEST_METHOD': method}) start_response, calls = capture_start_response() self.app(req.environ, start_response) self.assertEqual(1, len(calls)) self.assertTrue(calls[0][0].startswith(status)) self.assertNotIn('swift.crypto.override', req.environ) self.assertIn(CRYPTO_KEY_CALLBACK, req.environ, '%s not set in env' % CRYPTO_KEY_CALLBACK) keys = req.environ.get(CRYPTO_KEY_CALLBACK)(key_id=key_id) self.assertIn('id', keys) id = keys.pop('id') path = swob.wsgi_to_str(wsgi_path) if '//' in path: path = path[path.index('//') + 1:] if six.PY2: self.assertEqual(path, id['path']) else: self.assertEqual(swob.str_to_wsgi(path), id['path']) self.assertEqual('1', id['v']) keys.pop('all_ids') self.assertListEqual(sorted(expected_keys), sorted(keys.keys()), '%s %s got keys %r, but expected %r' % (method, path, keys.keys(), expected_keys)) if put_keys is not None: # check all key sets were consistent for this path self.assertDictEqual(put_keys, keys) else: put_keys = keys self.app.meta_version_to_write = '2' # Clean up after ourselves return put_keys for version in ('1', '2', '3'): for version in ('1', '2', '3'): def test_v2_keys(self): secrets = {None: os.urandom(32), '22': os.urandom(33)} conf = {} for secret_id, secret in secrets.items(): opt = ('encryption_root_secret%s' % (('_%s' % secret_id) if secret_id else '')) conf[opt] = base64.b64encode(secret) conf['active_root_secret_id'] = '22' self.app = keymaster.KeyMaster(self.swift, conf) orig_create_key = self.app.create_key calls = [] def mock_create_key(path, secret_id=None): calls.append((path, secret_id)) return orig_create_key(path, secret_id) container = u'\N{SNOWMAN}' obj = u'\N{SNOWFLAKE}' if six.PY2: container = container.encode('utf-8') obj = obj.encode('utf-8') good_con_path = '/a/%s' % container good_path = '/a/%s/%s' % (container, obj) if six.PY2: mangled_con_path = ('/a/%s' % container).decode( 'latin-1').encode('utf-8') mangled_path = ('/a/%s/%s' % ( container, obj)).decode('latin-1').encode('utf-8') else: mangled_con_path = ('/a/%s' % container).encode( 'utf-8').decode('latin-1') mangled_path = ('/a/%s/%s' % ( container, obj)).encode('utf-8').decode('latin-1') context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2', '3'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': good_path}) key_id_path = (good_path if version == '3' or six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] context = keymaster.KeyMasterContext(self.app, 'a', container, obj) for version in ('1', '2'): with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': version, 'path': mangled_path}) key_id_path = (good_path if six.PY2 else mangled_path) expected_keys = { 'container': hmac.new(secrets[None], b'/a/\xe2\x98\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xe2\x98\x83/\xe2\x9d\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': key_id_path, 'v': version}, 'all_ids': [ {'path': key_id_path, 'v': version}, {'path': key_id_path, 'secret_id': '22', 'v': version}]} self.assertEqual(expected_keys, keys) self.assertEqual([(good_con_path, None), (good_path, None)], calls) del calls[:] # If v3, we know to trust the meta -- presumably, data was PUT with # the mojibake path then COPYed to the right path (but with bad # pipeline placement for copy) with mock.patch.object(self.app, 'create_key', mock_create_key): keys = context.fetch_crypto_keys(key_id={ 'v': '3', 'path': mangled_path}) expected_keys = { 'container': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83', digestmod=hashlib.sha256).digest(), 'object': hmac.new( secrets[None], b'/a/\xc3\xa2\xc2\x98\xc2\x83/\xc3\xa2\xc2\x9d\xc2\x84', digestmod=hashlib.sha256).digest(), 'id': {'path': mangled_path, 'v': '3'}, 'all_ids': [ {'path': mangled_path, 'v': '3'}, {'path': mangled_path, 'secret_id': '22', 'v': '3'}]} self.assertEqual(expected_keys, keys) self.assertEqual([(mangled_con_path, None), (mangled_path, None)], calls) del calls[:] "," self.verify_keys_for_path( self.verify_keys_for_path( def verify_keys_for_path(self, path, expected_keys, key_id=None): method, '/v1' + path, resp_class, resp_headers, b'') '/v1' + path, environ={'REQUEST_METHOD': method}) for version in ('1', '2'): for version in ('1', '2'):",310,17
openstack%2Fnova~stable%2Fstein~I9edb36c4df1cc0d8b529e669f06540de71766085,openstack/nova,stable/stein,I9edb36c4df1cc0d8b529e669f06540de71766085,compute: Don't delete the original attachment during pre LM rollback,MERGED,2020-08-27 18:39:05.000000000,2020-09-04 23:36:21.000000000,2020-09-04 23:33:26.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-27 18:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee5a553803d324bf0c2f867decf9447ea9f3f68c', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)\n(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)\n(cherry picked from commit fa707a508220c76dba87a62dd0fc0eac302d859e)\n""}, {'number': 2, 'created': '2020-08-27 19:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b4deffc017ac7c9fa2d0e084ab50c7b4086c9f5', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)\n(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)\n(cherry picked from commit c6c3483a41c2a53bcfafdfe3475283b0379f7f1d)\n""}, {'number': 3, 'created': '2020-09-03 17:56:49.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6007c41aa830e1d1e227a8c66285b2eb32fe9a7c', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)\n(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)\n(cherry picked from commit c6c3483a41c2a53bcfafdfe3475283b0379f7f1d)\n""}]",0,748514,6007c41aa830e1d1e227a8c66285b2eb32fe9a7c,28,8,3,10135,,,0,"compute: Don't delete the original attachment during pre LM rollback

I0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live
migration with cinderv3 volume attachments during Queens. This initial
support handled failures in pre_live_migration directly by removing any
attachments created on the destination and reverting to the original
attachment ids before re-raising the caught exception to the source
compute. It also added rollback code within the main
_rollback_live_migration method but missed that this would also be
called during a pre_live_migration rollback.

As a result after a failure in pre_live_migration
_rollback_live_migration will attempt to delete the source host volume
attachments referenced by the bdm before updating the bdms with the now
non-existent attachment ids, leaving the volumes in an `available` state
in Cinder as they have no attachment records associated with them
anymore.

This change aims to resolve this within _rollback_volume_bdms by
ensuring that the current and original attachment_ids are not equal
before requesting that the current attachment referenced by the bdm is
deleted. When called after a failure in pre_live_migration this should
result in no attempt being made to remove the original source host
attachments from Cinder.

Note that the following changes muddy the waters slightly here but
introduced no actual changes to the logic within
_rollback_live_migration:

* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error
  handling in Rocky but isn't the source of the issue here.

* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked
  _rollback_live_migration to use the provided source_bdms.

* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored
  _rollback_live_migration, moving the logic into a self contained
  _rollback_volume_bdms method.

Closes-Bug: #1889108
Change-Id: I9edb36c4df1cc0d8b529e669f06540de71766085
(cherry picked from commit 2102f1834a6ac9fd870bfb457b28a2172f33e281)
(cherry picked from commit 034b2fa8fea0e34fed95a2ba728e4387ce4e78de)
(cherry picked from commit c6c3483a41c2a53bcfafdfe3475283b0379f7f1d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/748514/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py']",3,ee5a553803d324bf0c2f867decf9447ea9f3f68c,bug/1889108," are not removed during the rollback from pre_live_migration failures on the destination. # Assert that the src attachment is still present self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))"," are incorrectly removed during the rollback from pre_live_migration failures on the destination. # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments))",24,8
openstack%2Fnova~stable%2Fstein~I6bc73e8c8f98d9955f33f309beb8a7c56981b553,openstack/nova,stable/stein,I6bc73e8c8f98d9955f33f309beb8a7c56981b553,compute: refactor volume bdm rollback error handling,MERGED,2020-08-27 18:39:05.000000000,2020-09-04 23:35:12.000000000,2020-09-04 23:33:14.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-27 18:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/269cc58837ac2e82c6b54ecb89e8f31e989e463e', 'message': 'compute: refactor volume bdm rollback error handling\n\nPreviously any exception while rolling back the connection_info and\nattachment_id of volume bdms would result in the overall attempt to\nrollback a LM failing. This change refactors this specific bdm rollback\nlogic into two self contained methods that ignore by default errors\nwhere possible to allow the LM rollback attempt to continue.\n\nChange-Id: I6bc73e8c8f98d9955f33f309beb8a7c56981b553\n(cherry picked from commit 9524a5a1b5745f6064f88cbfbf5bbfae3a973bef)\n(cherry picked from commit 4569cb9071cdb3a12a65f8e59c51d8053a268463)\n'}, {'number': 2, 'created': '2020-09-03 17:56:49.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/07a04ee1715173d2f291bd56f40db690194f409b', 'message': 'compute: refactor volume bdm rollback error handling\n\nPreviously any exception while rolling back the connection_info and\nattachment_id of volume bdms would result in the overall attempt to\nrollback a LM failing. This change refactors this specific bdm rollback\nlogic into two self contained methods that ignore by default errors\nwhere possible to allow the LM rollback attempt to continue.\n\nChange-Id: I6bc73e8c8f98d9955f33f309beb8a7c56981b553\n(cherry picked from commit 9524a5a1b5745f6064f88cbfbf5bbfae3a973bef)\n(cherry picked from commit 377dc5bda9369e50c0c4a893564fc218b4b31fb1)\n'}]",0,748512,07a04ee1715173d2f291bd56f40db690194f409b,20,8,2,10135,,,0,"compute: refactor volume bdm rollback error handling

Previously any exception while rolling back the connection_info and
attachment_id of volume bdms would result in the overall attempt to
rollback a LM failing. This change refactors this specific bdm rollback
logic into two self contained methods that ignore by default errors
where possible to allow the LM rollback attempt to continue.

Change-Id: I6bc73e8c8f98d9955f33f309beb8a7c56981b553
(cherry picked from commit 9524a5a1b5745f6064f88cbfbf5bbfae3a973bef)
(cherry picked from commit 377dc5bda9369e50c0c4a893564fc218b4b31fb1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/748512/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,269cc58837ac2e82c6b54ecb89e8f31e989e463e,bug/1889108," def _remove_remote_volume_connections(self, context, dest, bdms, instance): """"""Rollback remote volume connections on the dest"""""" for bdm in bdms: try: # remove the connection on the destination host # NOTE(lyarwood): This actually calls the cinderv2 # os-terminate_connection API if required. self.compute_rpcapi.remove_volume_connection( context, instance, bdm.volume_id, dest) except Exception: LOG.warning(""Ignoring exception while attempting "" ""to rollback volume connections for "" ""volume %s on host %s."", bdm.volume_id, dest, instance=instance) def _rollback_volume_bdms(self, context, bdms, original_bdms, instance): """"""Rollback the connection_info and attachment_id for each bdm"""""" original_bdms_by_volid = {bdm.volume_id: bdm for bdm in original_bdms if bdm.is_volume} for bdm in bdms: try: original_bdm = original_bdms_by_volid[bdm.volume_id] if bdm.attachment_id and original_bdm.attachment_id: # NOTE(lyarwood): 3.44 cinder api flow. Delete the # attachment used by the bdm and reset it to that of # the original bdm. self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = original_bdm.attachment_id # NOTE(lyarwood): Reset the connection_info to the original bdm.connection_info = original_bdm.connection_info bdm.save() except cinder_exception.ClientException: LOG.warning(""Ignoring cinderclient exception when "" ""attempting to delete attachment %s for volume"" ""%s while rolling back volume bdms."", bdm.attachment_id, bdm.volume_id, instance=instance) except Exception: with excutils.save_and_reraise_exception(): LOG.exception(""Exception while attempting to rollback "" ""BDM for volume %s."", bdm.volume_id, instance=instance) # NOTE(lyarwood): Fetch the current list of BDMs, disconnect any # connected volumes from the dest and delete any volume attachments # used by the destination host before rolling back to the original # still valid source host volume attachments. # TODO(lyarwood): Turn the following into a lookup method within # BlockDeviceMappingList. vol_bdms = [bdm for bdm in bdms if bdm.is_volume] self._remove_remote_volume_connections(context, dest, vol_bdms, instance) self._rollback_volume_bdms(context, vol_bdms, source_bdms, instance)"," source_bdms_by_volid = {bdm.volume_id: bdm for bdm in source_bdms if bdm.is_volume} # NOTE(lyarwood): Fetch the current list of BDMs and delete any volume # attachments used by the destination host before rolling back to the # original and still valid source host volume attachments. for bdm in bdms: if bdm.is_volume: # remove the connection on the destination host # NOTE(lyarwood): This actually calls the cinderv2 # os-terminate_connection API if required. self.compute_rpcapi.remove_volume_connection( context, instance, bdm.volume_id, dest) source_bdm = source_bdms_by_volid[bdm.volume_id] if bdm.attachment_id and source_bdm.attachment_id: # NOTE(lyarwood): 3.44 cinder api flow. Delete the # attachment used by the destination and reset the bdm # attachment_id to the old attachment of the source host. self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = source_bdm.attachment_id # NOTE(lyarwood): Rollback the connection_info stored within # the BDM to that used by the source and not the destination. bdm.connection_info = source_bdm.connection_info bdm.save()",178,27
openstack%2Fnova~stable%2Fstein~Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,openstack/nova,stable/stein,Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,Add regression tests for bug #1889108,MERGED,2020-08-27 18:39:05.000000000,2020-09-04 23:33:21.000000000,2020-09-04 23:33:21.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-27 18:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd0db0174616edcfc7f44c7a1e76c82297e1a856', 'message': 'WIP Add regression tests for bug #1889108\n\nWIP as pep8 no longer works on F32 for stable/stein /o\\\n\nNOTE(lyarwood): The only required changes in stable/stein is the switch\nthe original CinderFixtureNewAttachFlow fixture.\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)\n(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)\n(cherry picked from commit f65ec0e5076b93863cdc83a30f64a09d343deab8)\n'}, {'number': 2, 'created': '2020-08-27 19:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b46f7fa6a4c807416e7525cd5196899b3aa07b27', 'message': 'Add regression tests for bug #1889108\n\nNOTE(lyarwood): The only required changes in stable/stein is the switch\nthe original CinderFixtureNewAttachFlow fixture.\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)\n(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)\n(cherry picked from commit 6a9bb79fc088f4f888373a6ab2c8a70f143aa20d)\n'}, {'number': 3, 'created': '2020-09-03 17:56:49.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06d9d0d70542f2f9846ca8f40aef531cec0329a2', 'message': 'Add regression tests for bug #1889108\n\nNOTE(lyarwood): The only required changes in stable/stein is the switch\nthe original CinderFixtureNewAttachFlow fixture.\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)\n(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)\n(cherry picked from commit 6a9bb79fc088f4f888373a6ab2c8a70f143aa20d)\n'}]",2,748513,06d9d0d70542f2f9846ca8f40aef531cec0329a2,19,6,3,10135,,,0,"Add regression tests for bug #1889108

NOTE(lyarwood): The only required changes in stable/stein is the switch
the original CinderFixtureNewAttachFlow fixture.

Related-Bug: #1889108
Change-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562
(cherry picked from commit 4c970f499c31370495d84c91a10319d308d13fb9)
(cherry picked from commit 6db72002a65f30ac44b8df0a642b400ea272247e)
(cherry picked from commit 6a9bb79fc088f4f888373a6ab2c8a70f143aa20d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/748513/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1889108.py'],1,fd0db0174616edcfc7f44c7a1e76c82297e1a856,bug/1889108,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import test from nova.tests.unit import fake_notifier from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers class TestVolAttachmentsDuringPreLiveMigration( integrated_helpers._IntegratedTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug 1889108. This regression test asserts that the original source volume attachments are incorrectly removed during the rollback from pre_live_migration failures on the destination. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True USE_NEUTRON = True def setUp(self): super(TestVolAttachmentsDuringPreLiveMigration, self).setUp() self.cinder = self.useFixture( nova_fixtures.CinderFixtureNewAttachFlow(self)) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) def _setup_compute_service(self): self.start_service('compute', host='src', cell=None) self.start_service('compute', host='dest', cell=None) @mock.patch('nova.virt.fake.FakeDriver.pre_live_migration', side_effect=test.TestingException) def test_vol_attachments_during_driver_pre_live_mig_failure( self, mock_plm): """"""Assert that the src attachment is incorrectly removed * Mock pre_live_migration to always fail within the virt driver * Launch a boot from volume instance * Assert that the volume is attached correctly to the instance. * Live migrate the instance to another host invoking the mocked pre_live_migration * Assert that the instance is still on the source host * Assert that both the original source host volume attachment and new destination volume attachment have been removed """""" volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = { 'name': 'test_bfv_pre_live_migration_failure', 'flavorRef': 1, 'imageRef': '', 'networks': 'none', 'block_device_mapping_v2': [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id}], } server = self.api.post_server({'server': server}) self._wait_for_state_change(self.api, server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of pre_live_migration raising # test.TestingException self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_state_change(self.api, server, 'ACTIVE') self._wait_for_migration_status(server, ['error']) # Assert that we called the fake pre_live_migration method mock_plm.assert_called_once() # Assert that the instance is listed on the source server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments)) ",,114,0
openstack%2Fsushy~master~I485d56a9804af723ddb55f8bc26f28a5ebefccc7,openstack/sushy,master,I485d56a9804af723ddb55f8bc26f28a5ebefccc7,Allow monitoring progress of a firmware update,MERGED,2020-08-12 19:12:34.000000000,2020-09-04 23:30:09.000000000,2020-09-04 23:28:32.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 28128}, {'_account_id': 28533}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-08-12 19:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/bdee090f028e5d88d04b00d515de1579b2e41ba1', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a Task object so that the update job can be monitored for\ncompleteness. A new Task object is added according to the Redfish Spec,\nand StatusCodeField and HeaderField classes are added to provide the\nability to populate fields from the HTTP status code and headers\nrespectively.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 2, 'created': '2020-08-13 22:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1426b1c1d5c80c37b62a52faa4ab2867d55fac40', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a Task object so that the update job can be monitored for\ncompleteness. A new Task object is added according to the Redfish Spec,\nand StatusCodeField and HeaderField classes are added to provide the\nability to populate fields from the HTTP status code and headers\nrespectively.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 3, 'created': '2020-08-14 21:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/883a7196eda54391f66064b9976a267d6463d0d5', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a Task object so that the update job can be monitored for\ncompleteness. A new Task object is added according to the Redfish Spec,\nand StatusCodeField and HeaderField classes are added to provide the\nability to populate fields from the HTTP status code and headers\nrespectively.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 4, 'created': '2020-08-30 13:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6b9b00b66ffd5ba27f9e3e4f6a2551460780c5c1', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a TaskMonitor object so that the update job can be monitored for\ncompleteness. New TaskMonitor and Task objects are added according to\nthe Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 5, 'created': '2020-08-30 16:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/57deb16e7d3c0ee611d4d267662217e41cb55954', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a TaskMonitor object so that the update job can be monitored for\ncompleteness. New TaskMonitor and Task objects are added according to\nthe Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 6, 'created': '2020-08-30 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/90743c641fc28103ef69f9724a4529bbef627ac2', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a TaskMonitor object so that the update job can be monitored for\ncompleteness. New TaskMonitor and Task objects are added according to\nthe Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 7, 'created': '2020-08-30 16:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/561c4e622433557df2416c8ae112d267aedabc43', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a TaskMonitor object so that the update job can be monitored for\ncompleteness. New TaskMonitor and Task objects are added according to\nthe Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 8, 'created': '2020-08-30 19:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/55f889114c5a368f693a1de7fe105b2e59959c50', 'message': 'WIP: Fix firmware update to return a Task\n\nThis patch fixes the UpdateService.simple_update method so that it\nreturns a TaskMonitor object so that the update job can be monitored for\ncompleteness. New TaskMonitor and Task objects are added according to\nthe Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 9, 'created': '2020-09-01 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/826230841ac7d90f8d6258c8e61e28c4f62d30ea', 'message': 'WIP: Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 10, 'created': '2020-09-01 22:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/986ee372a3ddb6f44e1d8069533b110871a42558', 'message': 'WIP: Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 11, 'created': '2020-09-02 01:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/09676b8a526e81d7b73a1dad7b47d83411751f23', 'message': 'WIP: Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 12, 'created': '2020-09-02 18:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/cd09a0c18cf71120e5231a010fa0f8e80349c9b3', 'message': 'WIP: Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 13, 'created': '2020-09-03 02:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/2216785c2a2e3f541b538f384ada339ec045ba07', 'message': 'WIP: Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 14, 'created': '2020-09-03 18:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/22f51f8d97dd7dea1b25a0de11c647dff0ba7131', 'message': 'WIP: Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nCo-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 15, 'created': '2020-09-04 04:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/15c26b23a398d741946b9b1c5de44a0a042f87b4', 'message': 'Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nCo-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 16, 'created': '2020-09-04 15:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/8273c0e4c5b4690dbc1dfa630c67092dc6bd3431', 'message': 'Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nCo-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 17, 'created': '2020-09-04 15:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/efd85b553bf41700091556f199665e06d4dfede0', 'message': 'Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nCo-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 18, 'created': '2020-09-04 19:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0ed296162b05de17f4698fbd5d53c0c192228d89', 'message': 'Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nCo-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}, {'number': 19, 'created': '2020-09-04 20:04:07.000000000', 'files': ['sushy/utils.py', 'sushy/tests/unit/json_samples/task.json', 'sushy/tests/unit/resources/registry/test_message_registry_file.py', 'sushy/resources/constants.py', 'sushy/resources/taskservice/mappings.py', 'sushy/main.py', 'sushy/exceptions.py', 'sushy/tests/unit/resources/updateservice/test_updateservice.py', 'sushy/resources/base.py', 'sushy/tests/unit/resources/registry/test_message_registry.py', 'sushy/tests/unit/resources/taskservice/test_taskmonitor.py', 'sushy/tests/unit/test_utils.py', 'releasenotes/notes/monitor_firmware_update-664b0c6c1a0307cf.yaml', 'sushy/resources/taskservice/task.py', 'sushy/tests/unit/resources/taskservice/__init__.py', 'sushy/resources/taskservice/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py', 'sushy/resources/settings.py', 'sushy/tests/unit/resources/taskservice/test_task.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/3f052a34982628d5dd2ffe5c4da742e5aa65dc75', 'message': 'Allow monitoring progress of a firmware update\n\nThis patch updates the UpdateService.simple_update method so that it\nreturns a TaskMonitor object.  This allows the firmware update to be\nmonitored for completion. New TaskMonitor and Task objects are added\naccording to the Redfish Spec.\n\nCo-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>\n\nChange-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7\n'}]",19,745950,3f052a34982628d5dd2ffe5c4da742e5aa65dc75,64,13,19,10250,,,0,"Allow monitoring progress of a firmware update

This patch updates the UpdateService.simple_update method so that it
returns a TaskMonitor object.  This allows the firmware update to be
monitored for completion. New TaskMonitor and Task objects are added
according to the Redfish Spec.

Co-Authored-By: Aija Jaunteva <aija.jaunteva@dell.com>

Change-Id: I485d56a9804af723ddb55f8bc26f28a5ebefccc7
",git fetch https://review.opendev.org/openstack/sushy refs/changes/50/745950/13 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/utils.py', 'sushy/resources/constants.py', 'sushy/resources/taskservice/mappings.py', 'sushy/main.py', 'sushy/resources/taskservice/task.py', 'sushy/exceptions.py', 'sushy/resources/base.py', 'sushy/resources/updateservice/updateservice.py', 'sushy/resources/settings.py']",9,bdee090f028e5d88d04b00d515de1579b2e41ba1,fix_firmware_update," messages = base.MessageListField(""Messages"")","from sushy.resources import mappings as res_mapsclass MessageListField(base.ListField): """"""List of messages with details of settings update status"""""" message_id = base.Field('MessageId', required=True) """"""The key for this message which can be used to look up the message in a message registry """""" message = base.Field('Message') """"""Human readable message, if provided"""""" severity = base.MappedField('Severity', res_maps.SEVERITY_VALUE_MAP) """"""Severity of the error"""""" resolution = base.Field('Resolution') """"""Used to provide suggestions on how to resolve the situation that caused the error """""" _related_properties = base.Field('RelatedProperties') """"""List of properties described by the message"""""" message_args = base.Field('MessageArgs') """"""List of message substitution arguments for the message referenced by `message_id` from the message registry """""" messages = MessageListField(""Messages"")",401,82
openstack%2Fnova~stable%2Fstein~Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0,openstack/nova,stable/stein,Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0,compute: Use source_bdms to reset attachment_ids during LM rollback,MERGED,2020-08-27 18:39:05.000000000,2020-09-04 23:17:46.000000000,2020-09-04 23:16:03.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-27 18:39:05.000000000', 'files': ['nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b865378b8d238abaac620d31b98f0ff2c355941', 'message': 'compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n(cherry picked from commit 0eea5041c4047bf3ab8bf71973926d80592e5e5c)\n'}]",0,748511,8b865378b8d238abaac620d31b98f0ff2c355941,16,8,1,10135,,,0,"compute: Use source_bdms to reset attachment_ids during LM rollback

As we now provide the original source bdms during rollback we can also
use them to reset any volume attachment ids to the ids used by the
source compute host.

Change-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0
(cherry picked from commit 0eea5041c4047bf3ab8bf71973926d80592e5e5c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/748511/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,8b865378b8d238abaac620d31b98f0ff2c355941,bug/1889108," # host since change Ibe9215c0. We can't remove it until we source_bdm = source_bdms_by_volid[bdm.volume_id] if bdm.attachment_id and source_bdm.attachment_id: # NOTE(lyarwood): 3.44 cinder api flow. Delete the # attachment used by the destination and reset the bdm # attachment_id to the old attachment of the source host. self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = source_bdm.attachment_id"," # host since change I0390c9ff. We can't remove it until we if bdm.attachment_id: # 3.44 cinder api flow. Set the bdm's # attachment_id to the old attachment of the source # host. If old_attachments is not there, then # there was an error before the new attachment was made. # TODO(lyarwood): migrate_data.old_vol_attachment_ids can # be removed now as we can lookup the original # attachment_ids from the source_bdms list here. old_attachments = migrate_data.old_vol_attachment_ids \ if 'old_vol_attachment_ids' in migrate_data else None if old_attachments and bdm.volume_id in old_attachments: self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = old_attachments[bdm.volume_id] source_bdm = source_bdms_by_volid[bdm.volume_id]",34,24
openstack%2Fsushy~master~I96be596e1a4935f13d63019fa5f8b0ea38c3cfe7,openstack/sushy,master,I96be596e1a4935f13d63019fa5f8b0ea38c3cfe7,Add BIOS update apply time and maintenance window,MERGED,2020-09-04 19:22:50.000000000,2020-09-04 23:16:25.000000000,2020-09-04 21:34:34.000000000,"[{'_account_id': 7891}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27909}, {'_account_id': 28533}, {'_account_id': 31616}, {'_account_id': 31636}]","[{'number': 1, 'created': '2020-09-04 19:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6cc43db7cb30a844f4d9388096c3cb039edb9e2f', 'message': 'Add BIOS update apply time and maintenance window\n\nAdd option to speficy BIOS attribute apply time and\nmaintenance window.\n\nExpose maintenance_window to see if any default\nmaintenance window set.\n\nCo-Authored-By: Eric Barrera <Eric_Barrera@Dell.com>\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nCo-Authored-By: Mike Raineri <mraineri@gmail.com>\nStory: 2008100\nTask: 40804\nChange-Id: I96be596e1a4935f13d63019fa5f8b0ea38c3cfe7\n'}, {'number': 2, 'created': '2020-09-04 19:39:30.000000000', 'files': ['sushy/resources/mappings.py', 'sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'releasenotes/notes/add-apply-time-support-to-bios-315ebad429dcab3d.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/constants.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/2d2015a885877a051047475235e76739f70fd811', 'message': 'Add BIOS update apply time and maintenance window\n\nAdd option to speficy BIOS attribute apply time and\nmaintenance window.\n\nExpose maintenance_window to see if any default\nmaintenance window set.\n\nCo-Authored-By: Eric Barrera <Eric_Barrera@Dell.com>\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nCo-Authored-By: Mike Raineri <mraineri@gmail.com>\nStory: 2008100\nTask: 40804\nChange-Id: I96be596e1a4935f13d63019fa5f8b0ea38c3cfe7\n'}]",0,750020,2d2015a885877a051047475235e76739f70fd811,10,11,2,23847,,,0,"Add BIOS update apply time and maintenance window

Add option to speficy BIOS attribute apply time and
maintenance window.

Expose maintenance_window to see if any default
maintenance window set.

Co-Authored-By: Eric Barrera <Eric_Barrera@Dell.com>
Co-Authored-By: Richard G. Pioso <richard.pioso@dell.com>
Co-Authored-By: Mike Raineri <mraineri@gmail.com>
Story: 2008100
Task: 40804
Change-Id: I96be596e1a4935f13d63019fa5f8b0ea38c3cfe7
",git fetch https://review.opendev.org/openstack/sushy refs/changes/20/750020/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/mappings.py', 'sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'releasenotes/notes/add-apply-time-support-to-bios-315ebad429dcab3d.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/constants.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py']",9,6cc43db7cb30a844f4d9388096c3cb039edb9e2f,bios-apply-time," _supported_apply_times = base.MappedListField( 'SupportedApplyTimes', res_maps.APPLY_TIME_VALUE_MAP) """"""List of supported apply times"""""" ",,206,6
openstack%2Fsushy~master~I8d93659e5f9e3db68b8e2523de98de1022200031,openstack/sushy,master,I8d93659e5f9e3db68b8e2523de98de1022200031,"Revert ""Add BIOS update apply time and maintenance window""",MERGED,2020-09-04 18:57:45.000000000,2020-09-04 22:53:46.000000000,2020-09-04 21:34:33.000000000,"[{'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 28128}, {'_account_id': 28533}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-09-04 18:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0f0f7d0eb282612d3df432fcc1df3721aa5c3ac2', 'message': 'Revert ""Add BIOS update apply time and maintenance window""\n\nThis reverts commit 46b5d38d8417d64e45ed0b949647da10e64f695f.\n\nChange-Id: I8d93659e5f9e3db68b8e2523de98de1022200031\n'}, {'number': 2, 'created': '2020-09-04 19:35:16.000000000', 'files': ['sushy/resources/mappings.py', 'sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'releasenotes/notes/add-apply-time-support-to-bios-315ebad429dcab3d.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/constants.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/37990a9bcf9cae5574d600afd40e8ba43a58bde4', 'message': 'Revert ""Add BIOS update apply time and maintenance window""\n\nThis reverts commit 46b5d38d8417d64e45ed0b949647da10e64f695f.\n\nMike Raineri\'s contribution as a co-author was accidentally overlooked.\n\nChange-Id: I8d93659e5f9e3db68b8e2523de98de1022200031\n'}]",0,750017,37990a9bcf9cae5574d600afd40e8ba43a58bde4,15,11,2,23847,,,0,"Revert ""Add BIOS update apply time and maintenance window""

This reverts commit 46b5d38d8417d64e45ed0b949647da10e64f695f.

Mike Raineri's contribution as a co-author was accidentally overlooked.

Change-Id: I8d93659e5f9e3db68b8e2523de98de1022200031
",git fetch https://review.opendev.org/openstack/sushy refs/changes/17/750017/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/mappings.py', 'sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'releasenotes/notes/add-apply-time-support-to-bios-315ebad429dcab3d.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/constants.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py']",9,0f0f7d0eb282612d3df432fcc1df3721aa5c3ac2,bios-apply-time,," _supported_apply_times = base.MappedListField( 'SupportedApplyTimes', res_maps.APPLY_TIME_VALUE_MAP) """"""List of supported apply times"""""" ",6,206
openstack%2Fnova~stable%2Fstein~I369f82245465e96fc15d4fc71a79a8a71f6f2c6d,openstack/nova,stable/stein,I369f82245465e96fc15d4fc71a79a8a71f6f2c6d,Robustify attachment tracking in CinderFixtureNewAttachFlow,MERGED,2020-08-27 18:39:05.000000000,2020-09-04 22:07:48.000000000,2020-09-04 22:04:11.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 18:39:05.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e1bbdc4cdd0104c214134ef964e8621eab3de9c', 'message': 'Robustify attachment tracking in CinderFixtureNewAttachFlow\n\nCinder allows more than one attachment record on a non-multiattach\nvolume as long as only one attachment is ""connected"" (has a host\nconnector).\n\nWhen you create an empty (no connector) attachment for an in-use\nvolume, the volume status changes to ""attaching"". If you try to\nupdate the empty attachment before deleting the previous attachment,\nCinder will return a 400 like:\n\n  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status\n  must be available or downloading to reserve, but the current status\n  is attaching.\n\nThis change refactors the attachment tracking in the\nCinderFixtureNewAttachFlow fixture to be able to track the connector\nper attachment and if code tries to update an attachment on an\nalready connected volume it will fail.\n\nChange-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d\n(cherry picked from commit 1d3ca5a3a07fdfff0d61ac11c390dfd4acab23d7)\n'}]",0,748510,1e1bbdc4cdd0104c214134ef964e8621eab3de9c,9,5,1,10135,,,0,"Robustify attachment tracking in CinderFixtureNewAttachFlow

Cinder allows more than one attachment record on a non-multiattach
volume as long as only one attachment is ""connected"" (has a host
connector).

When you create an empty (no connector) attachment for an in-use
volume, the volume status changes to ""attaching"". If you try to
update the empty attachment before deleting the previous attachment,
Cinder will return a 400 like:

  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status
  must be available or downloading to reserve, but the current status
  is attaching.

This change refactors the attachment tracking in the
CinderFixtureNewAttachFlow fixture to be able to track the connector
per attachment and if code tries to update an attachment on an
already connected volume it will fail.

Change-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d
(cherry picked from commit 1d3ca5a3a07fdfff0d61ac11c390dfd4acab23d7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/748510/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,1e1bbdc4cdd0104c214134ef964e8621eab3de9c,bug/1889108," # A dict, keyed by volume id, to a dict, keyed by attachment id, # with keys: # - id: the attachment id # - instance_uuid: uuid of the instance attached to the volume # - connector: host connector dict; None if not connected # before deleting another attachment. However, a non-multiattach volume # can only have at most one attachment with a host connector at a time. self.volume_to_attachment = collections.defaultdict(dict) for attachment in attachments.values(): if attachment['instance_uuid'] == instance_uuid: attachment = list(attachments.values())[0] 'attachment_id': attachment['id'] attachment = list(attachments.values())[0] attachment['instance_uuid']: { 'attachment_id': attachment['id'], A tuple of the volume ID, an attachment dict for the given attachment ID, and a dict (keyed by attachment id) of attachment dicts for the volume. for attachment in attachments.values(): if attachment_id == attachment['id']: self.volume_to_attachment[volume_id][attachment_id] = { 'id': attachment_id, 'instance_uuid': instance_uuid, 'connector': connector} del attachments[attachment_id] volume_id, attachment, attachments = ( _find_attachment(attachment_id)) # Cinder will only allow one ""connected"" attachment per # non-multiattach volume at a time. if volume_id != self.MULTIATTACH_VOL: for _attachment in attachments.values(): if _attachment['connector'] is not None: raise exception.InvalidInput( 'Volume %s is already connected with attachment ' '%s on host %s' % (volume_id, _attachment['id'], _attachment['connector'].get('host'))) attachment['connector'] = connector"," # A map of volumes to a list of (attachment_id, instance_uuid). # before deleting another attachment. self.volume_to_attachment = collections.defaultdict(list) for _, _instance_uuid in attachments: if _instance_uuid == instance_uuid: attachment_id, instance_uuid = attachments[0] 'attachment_id': attachment_id attachment_id, instance_uuid = attachments[0] instance_uuid: { 'attachment_id': attachment_id, A tuple of the volume ID, an attachment-instance mapping tuple for the given attachment ID, and a list of attachment-instance mapping tuples for the volume. for attachment in attachments: _attachment_id, instance_uuid = attachment if attachment_id == _attachment_id: self.volume_to_attachment[volume_id].append( (attachment_id, instance_uuid)) attachments.remove(attachment) _find_attachment(attachment_id)",37,20
openstack%2Fnova~stable%2Fstein~If6a36d23768877bfa820ed44b610bfb113df5464,openstack/nova,stable/stein,If6a36d23768877bfa820ed44b610bfb113df5464,Improve CinderFixtureNewAttachFlow,MERGED,2020-08-27 18:39:05.000000000,2020-09-04 22:06:29.000000000,2020-09-04 22:04:05.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-27 18:39:05.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f81d1a5ce400e756836497d26ea5bd5f7c7c14a9', 'message': 'Improve CinderFixtureNewAttachFlow\n\nThis does three things:\n\n1. Implements the attachment_complete method in order to\n   fail if code is trying to complete an attachment that\n   does not exist.\n\n2. Adds logging in the various attachment CRUD methods to\n   aid in debugging test failures.\n\n3. Mirrors the method signature for is_microversion_supported\n   to make sure code is at least calling it properly.\n\nChange-Id: If6a36d23768877bfa820ed44b610bfb113df5464\n(cherry picked from commit 576a4e5260c4bc813474dead4eec19bd2a1cc680)\n'}]",0,748509,f81d1a5ce400e756836497d26ea5bd5f7c7c14a9,12,6,1,10135,,,0,"Improve CinderFixtureNewAttachFlow

This does three things:

1. Implements the attachment_complete method in order to
   fail if code is trying to complete an attachment that
   does not exist.

2. Adds logging in the various attachment CRUD methods to
   aid in debugging test failures.

3. Mirrors the method signature for is_microversion_supported
   to make sure code is at least calling it properly.

Change-Id: If6a36d23768877bfa820ed44b610bfb113df5464
(cherry picked from commit 576a4e5260c4bc813474dead4eec19bd2a1cc680)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/748509/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,f81d1a5ce400e756836497d26ea5bd5f7c7c14a9,bug/1889108,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.info('Created attachment %s for volume %s. Total ' 'attachments for volume: %d', attachment_id, volume_id, len(self.volume_to_attachment[volume_id])) volume_id, attachment, attachments = ( _find_attachment(attachment_id)) LOG.info('Deleted attachment %s for volume %s. Total attachments ' 'for volume: %d', attachment_id, volume_id, len(attachments)) LOG.info('Updating volume attachment: %s', attachment_id) def fake_attachment_complete(_self, _context, attachment_id): # Ensure the attachment exists _find_attachment(attachment_id) LOG.info('Completing volume attachment: %s', attachment_id) fake_attachment_complete) lambda ctxt, microversion: None)"," _, attachment, attachments = _find_attachment(attachment_id) lambda *args, **kwargs: None) lambda *args, **kwargs: None)",19,3
openstack%2Frequirements~stable%2Ftrain~I5586495104c3de42067ab8f6f353314b54a1d135,openstack/requirements,stable/train,I5586495104c3de42067ab8f6f353314b54a1d135,update constraint for os-brick to new release 2.10.5,MERGED,2020-09-04 08:59:54.000000000,2020-09-04 22:04:02.000000000,2020-09-04 22:04:02.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 08:59:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ffbc751e486c92782f2a06b0684a77c1a8aca15', 'message': 'update constraint for os-brick to new release 2.10.5\n\nChange-Id: I5586495104c3de42067ab8f6f353314b54a1d135\nmeta:version: 2.10.5\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Change-Id: I336163e4e7fae05ef62ec7cfec59ee127340c93c\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Luigi Toscano <ltoscano@redhat.com>\nmeta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,749905,0ffbc751e486c92782f2a06b0684a77c1a8aca15,12,4,1,11131,,,0,"update constraint for os-brick to new release 2.10.5

Change-Id: I5586495104c3de42067ab8f6f353314b54a1d135
meta:version: 2.10.5
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Change-Id: I336163e4e7fae05ef62ec7cfec59ee127340c93c
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Luigi Toscano <ltoscano@redhat.com>
meta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/749905/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ffbc751e486c92782f2a06b0684a77c1a8aca15,new-release,os-brick===2.10.5,os-brick===2.10.4,1,1
openstack%2Fproject-config~master~Ia692c82579b5be4c775b8b61092a63b6b55faceb,openstack/project-config,master,Ia692c82579b5be4c775b8b61092a63b6b55faceb,"Revert ""Temporarily disable rax-dfw for mirror reboot""",MERGED,2020-09-04 16:24:36.000000000,2020-09-04 21:58:31.000000000,2020-09-04 21:39:53.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 16:24:36.000000000', 'files': ['nodepool/nl01.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb5c75ddf3a33e1a8ca7d7fd61a635e730fb4393', 'message': 'Revert ""Temporarily disable rax-dfw for mirror reboot""\n\nThis reverts commit 3c2a4a34a9ebfc9c6f0dd61648c412dab9165f55.\n\nTo be merged once this region\'s mirror reboot has completed.\n\nChange-Id: Ia692c82579b5be4c775b8b61092a63b6b55faceb\n'}]",0,749994,bb5c75ddf3a33e1a8ca7d7fd61a635e730fb4393,9,3,1,5263,,,0,"Revert ""Temporarily disable rax-dfw for mirror reboot""

This reverts commit 3c2a4a34a9ebfc9c6f0dd61648c412dab9165f55.

To be merged once this region's mirror reboot has completed.

Change-Id: Ia692c82579b5be4c775b8b61092a63b6b55faceb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/749994/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl01.openstack.org.yaml'],1,bb5c75ddf3a33e1a8ca7d7fd61a635e730fb4393,mirror-reboot, max-servers: 140, max-servers: 0,1,1
openstack%2Fneutron~stable%2Fqueens~Ia31b9e1d9f31265da84b865a776da99358ca9b75,openstack/neutron,stable/queens,Ia31b9e1d9f31265da84b865a776da99358ca9b75,Pass context in disassociate_floatingip notification,MERGED,2020-09-02 06:00:48.000000000,2020-09-04 21:36:51.000000000,2020-09-04 11:52:42.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-02 06:00:48.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44e73de2806f1144c49a4b61bafc21bd98aae064', 'message': 'Pass context in disassociate_floatingip notification\n\nWith L3 flavors, disassociate_ports to fip is handled by\nfloatingip_precommit_update and it does not have separate\ncallback like L3 service plugin for disassociating ports from\nfips, precommit_update needs context information to process\nan update on a floating ip.\n\nChange-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75\n(cherry picked from commit d9aecfaa9dd27d17bc81254df2594d3d2392f9cd)\n'}]",0,749436,44e73de2806f1144c49a4b61bafc21bd98aae064,17,7,1,9531,,,0,"Pass context in disassociate_floatingip notification

With L3 flavors, disassociate_ports to fip is handled by
floatingip_precommit_update and it does not have separate
callback like L3 service plugin for disassociating ports from
fips, precommit_update needs context information to process
an update on a floating ip.

Change-Id: Ia31b9e1d9f31265da84b865a776da99358ca9b75
(cherry picked from commit d9aecfaa9dd27d17bc81254df2594d3d2392f9cd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/749436/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,44e73de2806f1144c49a4b61bafc21bd98aae064,567086-stable/queens," self, context=context,"," self,",1,1
openstack%2Fgovernance~master~If10ecaf0222a026d79dbee2aacecd86cb98ac681,openstack/governance,master,If10ecaf0222a026d79dbee2aacecd86cb98ac681,Drop all exceptions for legacy validation,MERGED,2020-08-07 19:48:03.000000000,2020-09-04 21:28:09.000000000,2020-09-04 21:21:38.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 19:48:03.000000000', 'files': ['tools/validate-legacy.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/5084a1e130d490facdfe803b05ef3820340f9a91', 'message': ""Drop all exceptions for legacy validation\n\nThis patch needs to merge once we've cleaned up all of the exceptions\nfor the legacy file validation which will ensure that all repositories\nare cleanly retired.\n\nChange-Id: If10ecaf0222a026d79dbee2aacecd86cb98ac681\n""}]",0,745403,5084a1e130d490facdfe803b05ef3820340f9a91,15,4,1,1004,,,0,"Drop all exceptions for legacy validation

This patch needs to merge once we've cleaned up all of the exceptions
for the legacy file validation which will ensure that all repositories
are cleanly retired.

Change-Id: If10ecaf0222a026d79dbee2aacecd86cb98ac681
",git fetch https://review.opendev.org/openstack/governance refs/changes/03/745403/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate-legacy.py'],1,5084a1e130d490facdfe803b05ef3820340f9a91,code-change,IGNORED_REPOS = [],"IGNORED_REPOS = [ 'openstack/python-dracclient', 'openstack/networking-l2gw', 'openstack/networking-l2gw-tempest-plugin' ]",1,5
openstack%2Ftripleo-operator-ansible~master~Ibdad65601311c7aa98c2789ac2277ea3296f27ff,openstack/tripleo-operator-ansible,master,Ibdad65601311c7aa98c2789ac2277ea3296f27ff,Bump metadata for a release,MERGED,2020-09-04 20:45:00.000000000,2020-09-04 21:21:39.000000000,2020-09-04 21:21:39.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 20:45:00.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0ae043f40683b27ddc90ac48dcc735dc2900865b', 'message': 'Bump metadata for a release\n\nBump metadata to 0.4.0 for a new release.\n\nChange-Id: Ibdad65601311c7aa98c2789ac2277ea3296f27ff\n'}]",0,750046,0ae043f40683b27ddc90ac48dcc735dc2900865b,6,2,1,14985,,,0,"Bump metadata for a release

Bump metadata to 0.4.0 for a new release.

Change-Id: Ibdad65601311c7aa98c2789ac2277ea3296f27ff
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/46/750046/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,0ae043f40683b27ddc90ac48dcc735dc2900865b,fix-tripleo-repos,version: 0.4.0,version: 0.3.0,1,1
openstack%2Fneutron~master~Ia237e1b18e02c9da3ae9ee94e4244828e5c207b2,openstack/neutron,master,Ia237e1b18e02c9da3ae9ee94e4244828e5c207b2,Show cmd detail when execute linux command failed,MERGED,2020-08-31 14:59:21.000000000,2020-09-04 21:16:45.000000000,2020-09-04 13:59:15.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}, {'_account_id': 32364}]","[{'number': 1, 'created': '2020-08-31 14:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/437c31b7d92651ca6da3cc494e4a100c8c5ce804', 'message': 'Show cmd detail when execute linux command failed\n\nFor neutron-l3-agent, after the execution of the linux command fails, display which command failed to execute\n\nChange-Id: Ia237e1b18e02c9da3ae9ee94e4244828e5c207b2\nCloses-Bug: #1893627\n'}, {'number': 2, 'created': '2020-09-03 02:39:15.000000000', 'files': ['neutron/agent/linux/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f494fa3ae5f456a66bd4ec2a9d9f67c60df2d86', 'message': 'Show cmd detail when execute linux command failed\n\nFor neutron-l3-agent, after the execution of the linux command fails,\ndisplay which command failed to execute\n\nChange-Id: Ia237e1b18e02c9da3ae9ee94e4244828e5c207b2\nCloses-Bug: #1893627\n'}]",2,749076,7f494fa3ae5f456a66bd4ec2a9d9f67c60df2d86,49,12,2,32364,,,0,"Show cmd detail when execute linux command failed

For neutron-l3-agent, after the execution of the linux command fails,
display which command failed to execute

Change-Id: Ia237e1b18e02c9da3ae9ee94e4244828e5c207b2
Closes-Bug: #1893627
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/749076/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/utils.py'],1,437c31b7d92651ca6da3cc494e4a100c8c5ce804,bug/1893627," ""Cmd: %(cmd)s; "" 'cmd': cmd,",,2,0
openstack%2Ftripleo-operator-ansible~master~I736bb62d2118734e567ee00e7ec9554828e56852,openstack/tripleo-operator-ansible,master,I736bb62d2118734e567ee00e7ec9554828e56852,Disable gpg verify for tripleo-repos rpm install,MERGED,2020-09-04 20:43:26.000000000,2020-09-04 20:57:03.000000000,2020-09-04 20:57:03.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 20:43:26.000000000', 'files': ['roles/tripleo_repos/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a41a72483ae93f9c01ad69ec4f557ea6e1741b1d', 'message': 'Disable gpg verify for tripleo-repos rpm install\n\nAnsible addressed gpg verification for CVE-2020-14365 and we need to\ndisable the gpg check for the installation of an rpm package from a url.\n\nChange-Id: I736bb62d2118734e567ee00e7ec9554828e56852\n'}]",0,750044,a41a72483ae93f9c01ad69ec4f557ea6e1741b1d,6,2,1,14985,,,0,"Disable gpg verify for tripleo-repos rpm install

Ansible addressed gpg verification for CVE-2020-14365 and we need to
disable the gpg check for the installation of an rpm package from a url.

Change-Id: I736bb62d2118734e567ee00e7ec9554828e56852
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/44/750044/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_repos/tasks/install.yml'],1,a41a72483ae93f9c01ad69ec4f557ea6e1741b1d,fix-tripleo-repos, # We do not sign the rpm and we are fetching straight from a URL disable_gpg_check: true,,2,0
openstack%2Fnova~stable%2Fstein~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,stable/stein,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-21 08:51:13.000000000,2020-09-04 20:32:00.000000000,2020-09-04 20:30:24.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-21 08:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c47567975fc968083c17219eef4c83369c7bd3b', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nNOTE(lyarwood): Conflict as I2830ccfc81cfa9654cfeac7ad5effc294f523552\nand Idd49b0c70caedfcd42420ffa2ac926a6087d406e are not present in\nstable/stein.\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n'}, {'number': 2, 'created': '2020-08-28 11:45:55.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/334a479ae2f4ce3d48dcc4c1b9e14d0cb9822272', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nNOTE(lyarwood): Conflict as I2830ccfc81cfa9654cfeac7ad5effc294f523552\nand Idd49b0c70caedfcd42420ffa2ac926a6087d406e are not present in\nstable/stein.\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n'}]",1,747360,334a479ae2f4ce3d48dcc4c1b9e14d0cb9822272,43,8,2,10135,,,0,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

NOTE(lyarwood): Conflict as I2830ccfc81cfa9654cfeac7ad5effc294f523552
and Idd49b0c70caedfcd42420ffa2ac926a6087d406e are not present in
stable/stein.

Conflicts:
    nova/virt/libvirt/driver.py

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)
(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)
(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/747360/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,1c47567975fc968083c17219eef4c83369c7bd3b,bug/1887946," @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') @mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume', new=mock.Mock()) def test_detach_volume_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 mountpoint = ""/dev/foo"" expected_disk_dev = ""foo"" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_detach_interface_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr, 'vif_driver') as mock_vif_driver: mock_vif_driver.get_config.return_value = mock.sentinel.cfg mock_vif_driver.get_vif_devname.return_value = mock.sentinel.dev drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=True) ",,141,21
openstack%2Frequirements~master~I165782d1301afdf2d1edf2391f651519db689d9b,openstack/requirements,master,I165782d1301afdf2d1edf2391f651519db689d9b,update constraint for mistral-lib to new release 2.3.0,MERGED,2020-09-04 13:20:10.000000000,2020-09-04 20:31:54.000000000,2020-09-04 20:30:30.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 13:20:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c2d833f1e54f17c12d3f82d4401809d495d195f2', 'message': 'update constraint for mistral-lib to new release 2.3.0\n\nChange-Id: I165782d1301afdf2d1edf2391f651519db689d9b\nmeta:version: 2.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Renat Akhmerov <renat.akhmerov@gmail.com>\nmeta:release:Change-Id: Id45fec0969de11fe6eea4f033484d7b9f4fb074d\nmeta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749952,c2d833f1e54f17c12d3f82d4401809d495d195f2,14,4,1,11131,,,0,"update constraint for mistral-lib to new release 2.3.0

Change-Id: I165782d1301afdf2d1edf2391f651519db689d9b
meta:version: 2.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Renat Akhmerov <renat.akhmerov@gmail.com>
meta:release:Change-Id: Id45fec0969de11fe6eea4f033484d7b9f4fb074d
meta:release:Code-Review+1: Renat Akhmerov <renat.akhmerov@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/749952/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c2d833f1e54f17c12d3f82d4401809d495d195f2,new-release,mistral-lib===2.3.0,mistral-lib===2.2.0,1,1
openstack%2Freleases~master~I78d077ff10db9632ec2f5f22ae2ef1c7a6e01ac7,openstack/releases,master,I78d077ff10db9632ec2f5f22ae2ef1c7a6e01ac7,Release os-brick 2.8.7,MERGED,2020-09-04 18:09:50.000000000,2020-09-04 20:24:26.000000000,2020-09-04 20:24:26.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 18:09:50.000000000', 'files': ['deliverables/stein/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1ed0728eb3082cad4cd4d77aa26a48314576e963', 'message': 'Release os-brick 2.8.7\n\nRelease from stable/stein\n\nChange-Id: I78d077ff10db9632ec2f5f22ae2ef1c7a6e01ac7\n'}]",0,750007,1ed0728eb3082cad4cd4d77aa26a48314576e963,8,3,1,5314,,,0,"Release os-brick 2.8.7

Release from stable/stein

Change-Id: I78d077ff10db9632ec2f5f22ae2ef1c7a6e01ac7
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/750007/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/os-brick.yaml'],1,1ed0728eb3082cad4cd4d77aa26a48314576e963,release-os-brick-2.8.7, - projects: - hash: 173601116eb5e00274b10898b56b37dc42d685ac repo: openstack/os-brick version: 2.8.7,,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ib56f59b7d2a981196eab334108d42ca4390c0566,openstack/tripleo-heat-templates,stable/rocky,Ib56f59b7d2a981196eab334108d42ca4390c0566,Fix Swift ring file synchronization issue,MERGED,2020-09-04 07:33:19.000000000,2020-09-04 20:11:16.000000000,2020-09-04 20:10:02.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:33:19.000000000', 'files': ['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'docker/services/swift-ringbuilder.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c75880afcad5349d87a0feaff751429f60e2f7d4', 'message': 'Fix Swift ring file synchronization issue\n\nSwift ring files are synchronized by up- and downloading them to the\nundercloud, making sure every node on the overcloud has the same copy to\nstart with.\n\nOne (optional) step in the process is to ensure rings are in sync before\nuploading them eventually. swift-recon is used to query all Swift object\nstorage nodes, get the md5sum of the ring files and compare them with\nthe local ring file md5sum.\n\nHowever, in containerized deployments this will fail, because Swift\ncontainers are not immediately restarted after rebalancing. The object\nserver will return the md5sum of the previous ring version, which does\nnot match with the rebalanced local file. TripleO is intended to skip\nthis check by setting skip_consistency_check to false.\n\nHowever, the parameter was never set to false, and this patch fixes it.\n\nRunning an overcloud update immediately after an initial deployment was\nnot affected by this. Same for multiple overcloud updates - subsequent\nupdates did fix this issue automatically. In the first case the rings\nwere not rebalanced due to min_part_hours not passed, in the latter case\nthey were synchronized on the subsequent update.\n\nCloses-Bug: 1892674\nChange-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566\n(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)\n'}]",0,749886,c75880afcad5349d87a0feaff751429f60e2f7d4,12,4,1,6968,,,0,"Fix Swift ring file synchronization issue

Swift ring files are synchronized by up- and downloading them to the
undercloud, making sure every node on the overcloud has the same copy to
start with.

One (optional) step in the process is to ensure rings are in sync before
uploading them eventually. swift-recon is used to query all Swift object
storage nodes, get the md5sum of the ring files and compare them with
the local ring file md5sum.

However, in containerized deployments this will fail, because Swift
containers are not immediately restarted after rebalancing. The object
server will return the md5sum of the previous ring version, which does
not match with the rebalanced local file. TripleO is intended to skip
this check by setting skip_consistency_check to false.

However, the parameter was never set to false, and this patch fixes it.

Running an overcloud update immediately after an initial deployment was
not affected by this. Same for multiple overcloud updates - subsequent
updates did fix this issue automatically. In the first case the rings
were not rebalanced due to min_part_hours not passed, in the latter case
they were synchronized on the subsequent update.

Closes-Bug: 1892674
Change-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566
(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/749886/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'docker/services/swift-ringbuilder.yaml']",2,c75880afcad5349d87a0feaff751429f60e2f7d4,, - tripleo::profile::base::swift::ringbuilder::skip_consistency_check: true, - tripleo::profile::base::swift::ringbuilder:skip_consistency_check: true,7,1
openstack%2Fsahara-image-elements~stable%2Fqueens~I7accc23d6e91ff4a525c31616033f76c07dec21e,openstack/sahara-image-elements,stable/queens,I7accc23d6e91ff4a525c31616033f76c07dec21e,Fix URL of Maven Central Repository,MERGED,2020-09-04 18:52:41.000000000,2020-09-04 19:51:55.000000000,2020-09-04 19:51:55.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-09-04 18:52:41.000000000', 'files': ['elements/hadoop-cdh/post-install.d/50-cdh-fixes'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/ca9e066137d87ee504bd4d7d8be6f2a1585b52c8', 'message': 'Fix URL of Maven Central Repository\n\nConflicts:\n\telements/s3_hadoop/post-install.d/89-manipulate-s3\nThis branch only contains part of the fix (an https URL\ninstead of http), while the full broken URL was not used.\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)\n(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)\n(cherry picked from commit b60f08f7599a2e01c84ca3e3958021804a50ea7c)\n(cherry picked from commit 04810f9523f6201cb7f806ebecb2ba8e22c4467a)\n(cherry picked from commit 9cacac6d505bfcf2c8c02e5dcb64991b6c1cd469)\n'}]",0,750016,ca9e066137d87ee504bd4d7d8be6f2a1585b52c8,7,3,1,10459,,,0,"Fix URL of Maven Central Repository

Conflicts:
	elements/s3_hadoop/post-install.d/89-manipulate-s3
This branch only contains part of the fix (an https URL
instead of http), while the full broken URL was not used.

Change-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e
Story: 2007996
Task: 40639
(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)
(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)
(cherry picked from commit b60f08f7599a2e01c84ca3e3958021804a50ea7c)
(cherry picked from commit 04810f9523f6201cb7f806ebecb2ba8e22c4467a)
(cherry picked from commit 9cacac6d505bfcf2c8c02e5dcb64991b6c1cd469)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/16/750016/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/hadoop-cdh/post-install.d/50-cdh-fixes'],1,ca9e066137d87ee504bd4d7d8be6f2a1585b52c8,, wget https://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;, wget http://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;,1,1
openstack%2Fopenstacksdk~master~I0a38dceb1739ba0601d751d5a9837524353475b5,openstack/openstacksdk,master,I0a38dceb1739ba0601d751d5a9837524353475b5,Repair 2 deprecation warnings,MERGED,2020-09-04 14:40:02.000000000,2020-09-04 19:47:02.000000000,2020-09-04 19:43:09.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 14:40:02.000000000', 'files': ['openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/10017ff68fb5f6111f1016c375ec17099f4b6957', 'message': ""Repair 2 deprecation warnings\n\nUsing SDK uncovered 2 code deprecation warnings:\n\nopenstack/resource.py:210: DeprecationWarning: Using or importing the\n  ABCs from 'collections' instead of from 'collections.abc' is deprecated\n  since Python 3.3, and in 3.9 it will stop working class\n  _ComponentManager(collections.MutableMapping):\n\nopenstack/resource.py:351: DeprecationWarning: inspect.getargspec() is\n  deprecated since Python 3.0, use inspect.signature() or\n    inspect.getfullargspec() len(inspect.getargspec(type_).args) > 1) #\n\nFollow recommendations and replace those usages\n\nChange-Id: I0a38dceb1739ba0601d751d5a9837524353475b5\n""}]",0,749973,10017ff68fb5f6111f1016c375ec17099f4b6957,8,3,1,27900,,,0,"Repair 2 deprecation warnings

Using SDK uncovered 2 code deprecation warnings:

openstack/resource.py:210: DeprecationWarning: Using or importing the
  ABCs from 'collections' instead of from 'collections.abc' is deprecated
  since Python 3.3, and in 3.9 it will stop working class
  _ComponentManager(collections.MutableMapping):

openstack/resource.py:351: DeprecationWarning: inspect.getargspec() is
  deprecated since Python 3.0, use inspect.signature() or
    inspect.getfullargspec() len(inspect.getargspec(type_).args) > 1) #

Follow recommendations and replace those usages

Change-Id: I0a38dceb1739ba0601d751d5a9837524353475b5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/73/749973/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/resource.py'],1,10017ff68fb5f6111f1016c375ec17099f4b6957,,class _ComponentManager(collections.abc.MutableMapping): len(inspect.getfullargspec(type_).args) > 1),class _ComponentManager(collections.MutableMapping): len(inspect.getargspec(type_).args) > 1),2,2
openstack%2Fnova~stable%2Fstein~I7eb86edc130d186a66c04b229d46347ec5c0b625,openstack/nova,stable/stein,I7eb86edc130d186a66c04b229d46347ec5c0b625,libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices,MERGED,2020-07-22 13:07:43.000000000,2020-09-04 19:41:27.000000000,2020-09-04 19:40:01.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-22 13:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e879b544a43f456d9d43242c402245f003e0698', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)\n(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)\n(cherry picked from commit 79c512c8538c8afaf270dc508dcb24f76e8ce8ad)\n'}, {'number': 2, 'created': '2020-08-28 11:45:55.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/76428c1a6a7796391957a3e83207f85cfe924505', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)\n(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)\n(cherry picked from commit 863d6ef7601302901fa3368ea8457b3564eeb501)\n'}]",1,742416,76428c1a6a7796391957a3e83207f85cfe924505,55,9,2,10135,,,0,"libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices

Introduced in libvirt v4.1.0 [1] this error code replaces the previously
raised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and
VIR_ERR_INVALID_ARG codes [2][3].

VIR_ERR_OPERATION_FAILED was introduced and tested as an
active/live/hot unplug config device detach error code in
I131aaf28d2f5d5d964d4045e3d7d62207079cfb0.

VIR_ERR_INTERNAL_ERROR was introduced and tested as an
active/live/hot unplug config device detach error code in
I3055cd7641de92ab188de73733ca9288a9ca730a.

VIR_ERR_INVALID_ARG was introduced and tested as an
inactive/persistent/cold unplug config device detach error code in
I09230fc47b0950aa5a3db839a070613c9c817576.

This change introduces support for the new VIR_ERR_DEVICE_MISSING error
code while also retaining coverage for these codes until
MIN_LIBVIRT_VERSION is bumped past v4.1.0.

The majority of this change is test code motion with the existing tests
being modified to run against either the active or inactive versions of
the above  error codes for the time being.

test_detach_device_with_retry_operation_internal and
test_detach_device_with_retry_invalid_argument_no_live have been removed
as they duplicate the logic within the now refactored
_test_detach_device_with_retry_second_detach_failure.

[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7
[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de

Closes-Bug: #1887946
Change-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625
(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)
(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)
(cherry picked from commit 863d6ef7601302901fa3368ea8457b3564eeb501)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/742416/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']",3,7e879b544a43f456d9d43242c402245f003e0698,bug/1887946," # TODO(lyarwood): Remove libvirt.VIR_ERR_OPERATION_FAILED # and libvirt.VIR_ERR_INTERNAL_ERROR once # MIN_LIBVIRT_VERSION is >= 4.1.0 libvirt.VIR_ERR_INTERNAL_ERROR, libvirt.VIR_ERR_DEVICE_MISSING): # TODO(lyarwood): Remove the following error message # check once we only care about VIR_ERR_DEVICE_MISSING # TODO(lyarwood): Remove libvirt.VIR_ERR_INVALID_ARG once # MIN_LIBVIRT_VERSION is >= 4.1.0", libvirt.VIR_ERR_INTERNAL_ERROR):,66,53
openstack%2Ftempest~master~Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532,openstack/tempest,master,Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532,Add response schema validation for volume groups,MERGED,2018-09-29 07:53:29.000000000,2020-09-04 19:33:40.000000000,2020-09-04 19:30:58.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-09-29 07:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48c431d846658a85eca5b7fd68db2c657e19d49c', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" should have response body, and group_type\nin ""Show group details"" or ""List groups with details"" or\n""Create group"" should be an uuid string instead of object in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 2, 'created': '2018-09-29 08:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4092d5e37cfc5fe12061c98ecf7c420602807a20', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" and ""create_group_from_source"" should\nhave response body, and group_type in ""Show group details"" or\n""List groups with details"" or ""Create group"" should be an uuid\nstring instead of object, and ""group_snapshot_id"" and ""source_group_id""\nare optional in the response of ""Show group details"" in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 3, 'created': '2018-09-29 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dae3f4c6543525c22e27901f3246cfbcf14a14af', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" and ""create_group_from_source"" should\nhave response body, and group_type in ""Show group details"" or\n""List groups with details"" or ""Create group"" should be an uuid\nstring instead of object, and ""group_snapshot_id"" and ""source_group_id""\nare optional in the response of ""Show group details"" in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 4, 'created': '2018-09-29 09:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d00a86e0f8989925c229a7464be93b89a83f987', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" and ""create_group_from_source"" should\nhave response body, and group_type in ""Show group details"" or\n""List groups with details"" or ""Create group"" should be an uuid\nstring instead of object, and ""group_snapshot_id"" and ""source_group_id""\nare optional in the response of ""Show group details"" in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 5, 'created': '2018-10-08 02:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c8284beac74d9dbdadcc5de871c49480230485b', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" and ""create_group_from_source"" should\nhave response body, and group_type in ""Show group details"" or\n""List groups with details"" or ""Create group"" should be an uuid\nstring instead of object, and ""group_snapshot_id"" and ""source_group_id""\nare optional in the response of ""Show group details"" in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 6, 'created': '2018-10-08 03:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/061d0e93d4cc1f8b7df6f1202d0451c53600a561', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" and ""create_group_from_source"" should\nhave response body, and group_type in ""Show group details"" or\n""List groups with details"" or ""Create group"" should be an uuid\nstring instead of object, and ""group_snapshot_id"" and ""source_group_id""\nare optional in the response of ""Show group details"" in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 7, 'created': '2018-10-08 07:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/febb050239a1c20365012df64d50297a01fb1372', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\nBesides, ""Create group"" and ""create_group_from_source"" should\nhave response body, and group_type in ""Show group details"" or\n""List groups with details"" or ""Create group"" should be an uuid\nstring instead of object, and ""group_snapshot_id"" and ""source_group_id""\nare optional in the response of ""Show group details"" in api ref,\nIea0c8f0f6fec1b8460c4ea53ed6468adbc31abf2 will fix them.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 8, 'created': '2018-11-05 06:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/442200aeb3e370f4a450e4f03714015174c0e6c6', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 9, 'created': '2019-08-15 01:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48ba94151c400f91b420533c970982ace679ad35', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 10, 'created': '2019-08-15 07:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/18498fb2356e3b9a0908d50fa04dec2e978ac3f3', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 11, 'created': '2020-01-21 08:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c8968f8eb8011fd264b9d7c31e03cae35e2ed2fc', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 12, 'created': '2020-01-21 09:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/085bcc70d4901dd5a6a585c1385a9779b7eb994e', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 13, 'created': '2020-05-27 03:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0b3df4bc4910fa1f60ec6c4a653fc43930e0e26', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 14, 'created': '2020-05-27 06:24:21.000000000', 'files': ['tempest/lib/services/volume/v3/groups_client.py', 'tempest/lib/api_schema/response/volume/groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/da8d25849138f4b18c67a30d69bad2650f6b5399', 'message': 'Add response schema validation for volume groups\n\nThis is to add response schema validation for volume groups.\n\nChange-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532\npartially-implements: blueprint volume-response-schema-validation\n'}]",31,606328,da8d25849138f4b18c67a30d69bad2650f6b5399,66,9,14,20190,,,0,"Add response schema validation for volume groups

This is to add response schema validation for volume groups.

Change-Id: Ibc4c59f63e56ec6ea6f9a850d2340d8c91775532
partially-implements: blueprint volume-response-schema-validation
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/606328/10 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/groups_client.py', 'tempest/lib/api_schema/response/volume/groups.py']",2,48c431d846658a85eca5b7fd68db2c657e19d49c,bp/volume-response-schema-validation,"# Copyright 2015 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. create_group = { 'status_code': [202], 'response_body': { 'type': 'object', 'properties': { 'group': { 'type': 'object', 'properties': { 'id': {'type': 'string', 'format': 'uuid'}, 'name': {'type': 'string'}, }, 'additionalProperties': False, 'required': ['id', 'name'] } }, 'additionalProperties': False, 'required': ['group'] } } delete_group = {'status_code': [202]} show_group = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'group': { 'type': 'object', 'properties': { 'status': {'type': 'string'}, 'description': {'type': ['string', 'null']}, 'availability_zone': {'type': 'string'}, 'created_at': {'type': 'string'}, 'group_type': {'type': 'string', 'format': 'uuid'}, 'volume_types': { 'type': 'array', 'items': {'type': 'string', 'format': 'uuid'} }, 'id': {'type': 'string', 'format': 'uuid'}, 'name': {'type': 'string'}, 'volumes': { 'type': 'array', 'items': {'type': 'string', 'format': 'uuid'} }, 'replication_status': {'type': 'string'} }, 'additionalProperties': False, 'required': ['status', 'description', 'created_at', 'group_type', 'volume_types', 'id', 'name'] } }, 'additionalProperties': False, 'required': ['group'] } } list_groups_no_detail = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'groups': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'id': {'type': 'string', 'format': 'uuid'}, 'name': {'type': 'string'} }, 'additionalProperties': False, 'required': ['id', 'name'], } } }, 'additionalProperties': False, 'required': ['groups'], } } list_groups_with_detail = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'groups': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'status': {'type': 'string'}, 'description': {'type': ['string', 'null']}, 'availability_zone': {'type': 'string'}, 'created_at': {'type': 'string'}, 'group_type': {'type': 'string', 'format': 'uuid'}, 'volume_types': { 'type': 'array', 'items': {'type': 'string', 'format': 'uuid'} }, 'id': {'type': 'string', 'format': 'uuid'}, 'name': {'type': 'string'}, 'volumes': { 'type': 'array', 'items': {'type': 'string', 'format': 'uuid'} }, }, 'additionalProperties': False, 'required': ['status', 'description', 'created_at', 'group_type', 'volume_types', 'id', 'name'] } } }, 'additionalProperties': False, 'required': ['groups'], } } create_group_from_source = {'status_code': [202]} update_group = {'status_code': [202]} reset_group_status = {'status_code': [202]} ",,145,7
openstack%2Frequirements~master~Idbafe029db9f0233641652618b7805e14e9f7316,openstack/requirements,master,Idbafe029db9f0233641652618b7805e14e9f7316,update constraint for oslo.messaging to new release 12.4.0,MERGED,2020-09-01 15:22:18.000000000,2020-09-04 19:33:31.000000000,2020-09-04 19:31:03.000000000,"[{'_account_id': 8770}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 15:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae1cbff86800e1e70a2ae5be75c3f2e784750805', 'message': 'update constraint for oslo.messaging to new release 12.4.0\n\nChange-Id: Idbafe029db9f0233641652618b7805e14e9f7316\nmeta:version: 12.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-09-03 22:07:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/27af84f9edc22f1ba099d8822ac21e7f0c2ce0e9', 'message': 'update constraint for oslo.messaging to new release 12.4.0\n\nDepends-on: https://review.opendev.org/749838\nDepends-on: https://review.opendev.org/749839\n\nChange-Id: Idbafe029db9f0233641652618b7805e14e9f7316\nmeta:version: 12.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf\nmeta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749333,27af84f9edc22f1ba099d8822ac21e7f0c2ce0e9,29,5,2,11131,,,0,"update constraint for oslo.messaging to new release 12.4.0

Depends-on: https://review.opendev.org/749838
Depends-on: https://review.opendev.org/749839

Change-Id: Idbafe029db9f0233641652618b7805e14e9f7316
meta:version: 12.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I634e7d331d55fbbd83b1bb7e5059d4be6ec86aaf
meta:release:Code-Review+1: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/749333/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ae1cbff86800e1e70a2ae5be75c3f2e784750805,new-release,oslo.messaging===12.4.0,oslo.messaging===12.3.0,1,1
openstack%2Fswift~master~Ib81f77cc343c3435d7e6258d4631563fa022d449,openstack/swift,master,Ib81f77cc343c3435d7e6258d4631563fa022d449,Make all concurrent_get options per-policy,MERGED,2020-06-19 22:13:30.000000000,2020-09-04 19:32:31.000000000,2020-09-04 19:31:11.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 22:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c7425654b4549a3b240a0265f48caeff9934c70', 'message': 'Make concurrency timeout per policy and replica\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 2, 'created': '2020-06-22 14:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89858216c9108b9a2c829b21e3b9c1a34ff337ed', 'message': 'Make concurrency timeout per policy and replica\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 3, 'created': '2020-06-22 22:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5c1c4266c03fcc27740239213548a47d2c4a590', 'message': 'Make concurrency timeout per policy and replica\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 4, 'created': '2020-07-27 17:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/67695100b413a03eb14e2936d50e4f5f8c40a476', 'message': 'Add concurrent_ec_extra_requests\n\n... and make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 5, 'created': '2020-08-04 18:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fc16787204de53a235cc9f2224612ab5c765c3d0', 'message': 'Make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 6, 'created': '2020-08-04 21:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9360b9bad23945ff6f1c5dac503bc5a77c110c8d', 'message': 'Make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 7, 'created': '2020-08-18 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/734d0d4d9afc5353b49694abd48c606c884fdebe', 'message': 'Make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 8, 'created': '2020-08-18 13:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d4d1a46895284d6c641b1b058f31a30fc43b32d', 'message': 'Make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 9, 'created': '2020-08-24 21:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0283a124ecc4fcb96ba5bd54c0bb5ef100d27904', 'message': 'Make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}, {'number': 10, 'created': '2020-09-02 17:13:29.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'etc/proxy-server.conf-sample', 'swift/proxy/controllers/account.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f043aedec113816ca36c915ba0fcbe1fdc1a765e', 'message': 'Make all concurrent_get options per-policy\n\nChange-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449\n'}]",19,737096,f043aedec113816ca36c915ba0fcbe1fdc1a765e,45,4,10,1179,,,0,"Make all concurrent_get options per-policy

Change-Id: Ib81f77cc343c3435d7e6258d4631563fa022d449
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/737096/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/account.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/container.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",7,2c7425654b4549a3b240a0265f48caeff9934c70,waterfall-ec," backend_headers, concurrency=1, policy=None, client_chunk_size=None, newest=None, header_provider=None): self.policy = policy for i, node in enumerate(nodes): _timeout = self.app.get_policy_options( self.policy).concurrency_timeout(i) \ concurrency=1, policy=None, client_chunk_size=None): :param policy: the policy instance, or None if Account or Container concurrency, policy=policy,"," backend_headers, concurrency=1, client_chunk_size=None, newest=None, header_provider=None): for node in nodes: _timeout = self.app.concurrency_timeout \ concurrency=1, client_chunk_size=None): concurrency,",168,78
openstack%2Frequirements~master~I50f452fa59ed5970889ee9ca66ba0230ad0dd7d5,openstack/requirements,master,I50f452fa59ed5970889ee9ca66ba0230ad0dd7d5,update constraint for neutron-lib to new release 2.6.0,MERGED,2020-09-04 13:24:27.000000000,2020-09-04 19:32:24.000000000,2020-09-04 19:31:00.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 13:24:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/53b3212cac0e7622135ecf8c3ed5eb9591f8122b', 'message': 'update constraint for neutron-lib to new release 2.6.0\n\nChange-Id: I50f452fa59ed5970889ee9ca66ba0230ad0dd7d5\nmeta:version: 2.6.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749958,53b3212cac0e7622135ecf8c3ed5eb9591f8122b,10,4,1,11131,,,0,"update constraint for neutron-lib to new release 2.6.0

Change-Id: I50f452fa59ed5970889ee9ca66ba0230ad0dd7d5
meta:version: 2.6.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Akihiro Motoki <amotoki@gmail.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/749958/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,53b3212cac0e7622135ecf8c3ed5eb9591f8122b,new-release,neutron-lib===2.6.0,neutron-lib===2.5.0,1,1
openstack%2Fneutron~stable%2Frocky~I01ced41201b61c624e675375b7bcd9589b2553e0,openstack/neutron,stable/rocky,I01ced41201b61c624e675375b7bcd9589b2553e0,Pass context in l3 flavor notifications,MERGED,2020-09-02 05:47:50.000000000,2020-09-04 19:31:09.000000000,2020-09-04 19:31:09.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-02 05:47:50.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/23fafedcafc70b9178ce96cf7f813aa2ee85c34a', 'message': 'Pass context in l3 flavor notifications\n\nThere are some notifications pass context in l3 flavor\nnotifications, and add context for consistency.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n(cherry picked from commit ae81d403f7b8508fe581647b5853c702dd2331a2)\n'}]",0,749433,23fafedcafc70b9178ce96cf7f813aa2ee85c34a,26,5,1,9531,,,0,"Pass context in l3 flavor notifications

There are some notifications pass context in l3 flavor
notifications, and add context for consistency.

Change-Id: I01ced41201b61c624e675375b7bcd9589b2553e0
Closes-bug: #1785539
(cherry picked from commit ae81d403f7b8508fe581647b5853c702dd2331a2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/749433/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",3,23fafedcafc70b9178ce96cf7f813aa2ee85c34a,bug/1785539-stable/rocky," self, context=context, **fips[0]) context=context, self, context=context, **floatingip_dict)"," self, **fips[0]) self, **floatingip_dict)",66,2
openstack%2Frequirements~master~I1718fb5671ee2bfc5fe1b319d1d54c735a551442,openstack/requirements,master,I1718fb5671ee2bfc5fe1b319d1d54c735a551442,update constraint for os-ken to new release 1.2.0,MERGED,2020-09-04 13:27:42.000000000,2020-09-04 19:31:02.000000000,2020-09-04 19:31:02.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 13:27:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b34a1b148d991e5e7593749cafda94765dde03af', 'message': 'update constraint for os-ken to new release 1.2.0\n\nChange-Id: I1718fb5671ee2bfc5fe1b319d1d54c735a551442\nmeta:version: 1.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749959,b34a1b148d991e5e7593749cafda94765dde03af,8,3,1,11131,,,0,"update constraint for os-ken to new release 1.2.0

Change-Id: I1718fb5671ee2bfc5fe1b319d1d54c735a551442
meta:version: 1.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Akihiro Motoki <amotoki@gmail.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/749959/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b34a1b148d991e5e7593749cafda94765dde03af,new-release,os-ken===1.2.0,os-ken===1.1.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib56f59b7d2a981196eab334108d42ca4390c0566,openstack/tripleo-heat-templates,stable/stein,Ib56f59b7d2a981196eab334108d42ca4390c0566,Fix Swift ring file synchronization issue,MERGED,2020-09-04 07:27:59.000000000,2020-09-04 19:13:15.000000000,2020-09-04 19:10:05.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:27:59.000000000', 'files': ['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/962426ec33345b76e6e94a2d999f51e8221f6c99', 'message': 'Fix Swift ring file synchronization issue\n\nSwift ring files are synchronized by up- and downloading them to the\nundercloud, making sure every node on the overcloud has the same copy to\nstart with.\n\nOne (optional) step in the process is to ensure rings are in sync before\nuploading them eventually. swift-recon is used to query all Swift object\nstorage nodes, get the md5sum of the ring files and compare them with\nthe local ring file md5sum.\n\nHowever, in containerized deployments this will fail, because Swift\ncontainers are not immediately restarted after rebalancing. The object\nserver will return the md5sum of the previous ring version, which does\nnot match with the rebalanced local file. TripleO is intended to skip\nthis check by setting skip_consistency_check to false.\n\nHowever, the parameter was never set to false, and this patch fixes it.\n\nRunning an overcloud update immediately after an initial deployment was\nnot affected by this. Same for multiple overcloud updates - subsequent\nupdates did fix this issue automatically. In the first case the rings\nwere not rebalanced due to min_part_hours not passed, in the latter case\nthey were synchronized on the subsequent update.\n\nCloses-Bug: 1892674\nChange-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566\n(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)\n'}]",0,749885,962426ec33345b76e6e94a2d999f51e8221f6c99,12,4,1,6968,,,0,"Fix Swift ring file synchronization issue

Swift ring files are synchronized by up- and downloading them to the
undercloud, making sure every node on the overcloud has the same copy to
start with.

One (optional) step in the process is to ensure rings are in sync before
uploading them eventually. swift-recon is used to query all Swift object
storage nodes, get the md5sum of the ring files and compare them with
the local ring file md5sum.

However, in containerized deployments this will fail, because Swift
containers are not immediately restarted after rebalancing. The object
server will return the md5sum of the previous ring version, which does
not match with the rebalanced local file. TripleO is intended to skip
this check by setting skip_consistency_check to false.

However, the parameter was never set to false, and this patch fixes it.

Running an overcloud update immediately after an initial deployment was
not affected by this. Same for multiple overcloud updates - subsequent
updates did fix this issue automatically. In the first case the rings
were not rebalanced due to min_part_hours not passed, in the latter case
they were synchronized on the subsequent update.

Closes-Bug: 1892674
Change-Id: Ib56f59b7d2a981196eab334108d42ca4390c0566
(cherry picked from commit 13cc41a23f376c61af8fe78df32abf3781e107b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/749885/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-fix-ring-sync-7bf3ddbb1ea1e342.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml']",2,962426ec33345b76e6e94a2d999f51e8221f6c99,, tripleo::profile::base::swift::ringbuilder::skip_consistency_check: true, tripleo::profile::base::swift::ringbuilder:skip_consistency_check: true,7,1
openstack%2Fwhitebox-tempest-plugin~master~I41a43830ffe0a34777548d6d222a9a00c50ad288,openstack/whitebox-tempest-plugin,master,I41a43830ffe0a34777548d6d222a9a00c50ad288,Introduce stopped() context manager,MERGED,2020-09-03 17:05:11.000000000,2020-09-04 19:11:45.000000000,2020-09-04 19:11:45.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 17:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4791d9122a9b85274e2fc6f65faf5c491a3c3137', 'message': 'Introduce stopped() context manager\n\nThis new context manager makes sure to start the service back up, even\nin cases where the test code within the context has failed or\nexploded.\n\nChange-Id: I41a43830ffe0a34777548d6d222a9a00c50ad288\n'}, {'number': 2, 'created': '2020-09-03 23:10:54.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_volume_negative.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/64c0ee91510c835f8bcb9b7e8d47ec1c4c06aed2', 'message': 'Introduce stopped() context manager\n\nThis new context manager makes sure to start the service back up, even\nin cases where the test code within the context has failed or\nexploded.\n\nChange-Id: I41a43830ffe0a34777548d6d222a9a00c50ad288\n'}]",2,749797,64c0ee91510c835f8bcb9b7e8d47ec1c4c06aed2,9,3,2,8864,,,0,"Introduce stopped() context manager

This new context manager makes sure to start the service back up, even
in cases where the test code within the context has failed or
exploded.

Change-Id: I41a43830ffe0a34777548d6d222a9a00c50ad288
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/97/749797/2 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_volume_negative.py']",2,4791d9122a9b85274e2fc6f65faf5c491a3c3137,," with clients.ServiceManager(host, 'libvirt').stopped(): # While this call to n-api will return successfully the underlying call # to the virt driver will fail as the libvirt service is stopped. self.servers_client.detach_volume(server['id'], attachment['volumeId']) waiters.wait_for_volume_resource_status( self.volumes_client, attachment['volumeId'], 'in-use') disks_after_failed_detach = linux_client.list_disks() self.assertEqual( len(disks_after_failed_detach), len(disks_after_attach))"," # stop the libvirt service clients.ServiceManager(host, 'libvirt').stop() # While this call to n-api will return successfully the underlying call # to the virt driver will fail as the libvirt service is stopped. self.servers_client.detach_volume(server['id'], attachment['volumeId']) waiters.wait_for_volume_resource_status( self.volumes_client, attachment['volumeId'], 'in-use') disks_after_failed_detach = linux_client.list_disks() self.assertEqual( len(disks_after_failed_detach), len(disks_after_attach)) # restart libvirt after failed detach clients.ServiceManager(host, 'libvirt').restart()",21,14
openstack%2Ftripleo-validations~stable%2Fussuri~I03575a5717456ad647cb10825b8d5646a55a6378,openstack/tripleo-validations,stable/ussuri,I03575a5717456ad647cb10825b8d5646a55a6378,Add validation to check status of ipa server,MERGED,2020-09-02 18:39:42.000000000,2020-09-04 19:10:03.000000000,2020-09-04 19:10:03.000000000,"[{'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 18:39:42.000000000', 'files': ['roles/tls_everywhere/molecule/default/converge.yml', 'zuul.d/molecule.yaml', 'roles/tls_everywhere/molecule/default/prepare.yml', 'roles/tls_everywhere/vars/main.yml', 'roles/tls_everywhere/defaults/main.yml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ffe221f4de2bdd4ef791ebc3fe1a2162174d69d6', 'message': 'Add validation to check status of ipa server\n\nThe latest changes to tls-e require certain permissions and ACIs\nto be added to the IPA server in order to successfully add DNS entries\nand to issue certs with IP SANs (for cinder A/A).\n\nThese changes cannot be automated as they require IPA admin or DS\ncredentials.  This adds a validation to make sure the required\npermissions and ACLs are present before starting an install.\n\nChange-Id: I03575a5717456ad647cb10825b8d5646a55a6378\n(cherry picked from commit 9a20e173447043f70f7eb09afb207d084bc93558)\n'}]",0,749573,ffe221f4de2bdd4ef791ebc3fe1a2162174d69d6,9,4,1,9914,,,0,"Add validation to check status of ipa server

The latest changes to tls-e require certain permissions and ACIs
to be added to the IPA server in order to successfully add DNS entries
and to issue certs with IP SANs (for cinder A/A).

These changes cannot be automated as they require IPA admin or DS
credentials.  This adds a validation to make sure the required
permissions and ACLs are present before starting an install.

Change-Id: I03575a5717456ad647cb10825b8d5646a55a6378
(cherry picked from commit 9a20e173447043f70f7eb09afb207d084bc93558)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/749573/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls_everywhere/molecule/default/converge.yml', 'zuul.d/molecule.yaml', 'roles/tls_everywhere/molecule/default/prepare.yml', 'roles/tls_everywhere/vars/main.yml', 'roles/tls_everywhere/defaults/main.yml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml']",6,ffe221f4de2bdd4ef791ebc3fe1a2162174d69d6,add_aci_validation_usuri,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Changes have been - and possibly will be introduced in future - that # require changes in IPA permissions or ACLs. We do not have the permissions # to automatically make these changes, but we can include checks here to make # sure that they have occurred before attempting an overcloud or undercloud # update in a TLS-E environment. This playbook is supposed to fail with # an appropriate error message in case a requirement is not met. # # This playbook contains the following parameters # - tls_everywhere_check_dns_aci - which determines if we want to check # for the DNS ACI. This defaults to true. # - tls_everywhere_undercloud_fqdn - which defaults to ansible_fqdn - name: check if undercloud is an ipa client stat: path: /etc/ipa/default.conf register: ipa_default_conf - name: perform ipa_server tests when: ipa_default_conf.stat.exists vars: check_dns_aci: ""{{ tls_everywhere_check_dns_aci | default(True)}}"" undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_fqdn) }}"" ipa_server_aci_check_failures: [] fail_1: >- The IPA server does not have the required ACI to allow host entities to view dns records. Please add the ACI. fail_2: >- The nova/{{undercloud_fqdn}} user does not have the ""System: Modify Realm Domains"" privilege. Please add this privilege for this user on the IPA server. block: - name: Get the ipa server hostname validations_read_ini: path: ""/etc/ipa/default.conf"" section: global key: server register: ipa_server_fqdn - name: set dns zone and shortname set_fact: dns_zone: ""{{ ipa_server_fqdn.value.split('.', 1)[1] }}"" short_hostname: ""{{ ipa_server_fqdn.value.split('.')[0] }}"" - name: kinit as the host entity command: ""{{ kinit_bin }} host/{{ undercloud_fqdn }} -k -t /etc/krb5.keytab"" register: kinit become: true changed_when: kinit.rc == 0 - name: check if ipa server has correct DNS ACI on host entries when: check_dns_aci block: - name: try to view the dns record for the ipa server become: true command: ""{{ ipa_bin }} dnsrecord-show {{dns_zone}} {{short_hostname}}"" register: dnsrecord_show ignore_errors: true - name: add failure message when zone is not found set_fact: ipa_server_aci_check_failures: ""{{ ipa_server_aci_check_failures + [fail_1] }}"" when: ""'DNS zone not found' in dnsrecord_show.stderr"" - name: check if nova service has the added permissions become: true command: ""{{ ipa_bin}} service-show nova/{{ undercloud_fqdn }} --all --raw"" register: service_show - name: parse service data and fail if permission not present set_fact: ipa_server_aci_check_failures: ""{{ ipa_server_aci_check_failures + [fail_2] }}"" when: - ""'memberof: cn=System: Modify Realm Domains' not in service_show.stdout"" - name: fail if failures detected fail: msg: ""{{ ipa_server_aci_check_failures }}"" when: 'ipa_server_aci_check_failures|length > 0' always: - name: clean up the keytab command: ""{{ kdestroy_bin }} -A"" register: kdestroy become: true - name: set output for molecule testing set_fact: ipa_server_aci_check_kdestroy_output: ""{{ kdestroy.stdout }}"" tls_everywhere_aci_check_kinit_output: ""{{ kinit.stdout }}"" tls_everywhere_aci_check_dns_record_show_output: ""{{ dnsrecord_show.stdout }}"" tls_everywhere_aci_check_service_show_output: ""{{ service_show.stdout }}"" when: not ansible_check_mode ",,165,7
openstack%2Fpuppet-tripleo~stable%2Ftrain~I35c86b684a6015186760dc77b734f4b52a4e59af,openstack/puppet-tripleo,stable/train,I35c86b684a6015186760dc77b734f4b52a4e59af,Change branch name for selinux_core puppet module,MERGED,2020-09-04 11:53:25.000000000,2020-09-04 19:10:02.000000000,2020-09-04 19:10:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 11:53:25.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/819c2592bf9baa4659510c21f2fd40aad403973d', 'message': 'Change branch name for selinux_core puppet module\n\nmaster branch has been renamed to main upstream [1].\n\n[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main\n\nChange-Id: I35c86b684a6015186760dc77b734f4b52a4e59af\n'}]",0,749928,819c2592bf9baa4659510c21f2fd40aad403973d,6,3,1,16312,,,0,"Change branch name for selinux_core puppet module

master branch has been renamed to main upstream [1].

[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main

Change-Id: I35c86b684a6015186760dc77b734f4b52a4e59af
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/749928/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,819c2592bf9baa4659510c21f2fd40aad403973d,fix-selinux_core-stable/train, :ref => 'main', :ref => 'master',1,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I35c86b684a6015186760dc77b734f4b52a4e59af,openstack/puppet-tripleo,stable/ussuri,I35c86b684a6015186760dc77b734f4b52a4e59af,Change branch name for selinux_core puppet module,MERGED,2020-09-04 11:08:55.000000000,2020-09-04 19:10:01.000000000,2020-09-04 19:10:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 11:08:55.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a365e541a4e1640b9b51a8c65c0b3fc3f5deced4', 'message': 'Change branch name for selinux_core puppet module\n\nmaster branch has been renamed to main upstream [1].\n\n[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main\n\nChange-Id: I35c86b684a6015186760dc77b734f4b52a4e59af\n'}]",0,749924,a365e541a4e1640b9b51a8c65c0b3fc3f5deced4,6,3,1,16312,,,0,"Change branch name for selinux_core puppet module

master branch has been renamed to main upstream [1].

[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main

Change-Id: I35c86b684a6015186760dc77b734f4b52a4e59af
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/749924/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,a365e541a4e1640b9b51a8c65c0b3fc3f5deced4,fix-selinux_core-stable/ussuri, :ref => 'main', :ref => 'master',1,1
openstack%2Ftripleo-quickstart-extras~master~I4e6c7d9d267e302e83af2989acda796c30fdc074,openstack/tripleo-quickstart-extras,master,I4e6c7d9d267e302e83af2989acda796c30fdc074,Use nova-less deploy by default,MERGED,2020-09-03 07:45:48.000000000,2020-09-04 19:10:00.000000000,2020-09-04 19:10:00.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-03 07:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b31770ed426d19077b9685970ecfdb480b7b4add', 'message': 'WIP Use nova-less deploy by default\n\nThis flips the flags to disable nova in undercloud and use\nbaremetal_provision by default.\n\nChange-Id: I4e6c7d9d267e302e83af2989acda796c30fdc074\n'}, {'number': 2, 'created': '2020-09-03 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/79f90346c4d826510dbfe519208c4f916a2a99c8', 'message': 'WIP Use nova-less deploy by default\n\nThis flips the flags to disable nova in undercloud and use\nbaremetal_provision by default.\n\nDepends-On: https://review.opendev.org/749692\nChange-Id: I4e6c7d9d267e302e83af2989acda796c30fdc074\n'}, {'number': 3, 'created': '2020-09-03 12:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d772e48662112169152f2a5dad7ac3212d4f8b4e', 'message': 'WIP Use nova-less deploy by default\n\nThis flips the flags to disable nova in undercloud and use\nbaremetal_provision by default.\n\nDepends-On: https://review.opendev.org/749692\nChange-Id: I4e6c7d9d267e302e83af2989acda796c30fdc074\n'}, {'number': 4, 'created': '2020-09-03 18:00:01.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud_baremetal_deploy.yaml.j2', 'roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/afc96d39a731aa745e5e7edd2620aa8c0387c0c4', 'message': ""Use nova-less deploy by default\n\nThis flips the flags to disable nova in undercloud for master.\nWe use deployed server, so don't need to set 'baremetal_provision'\nflag.\n\nRDO jobs have already been converted.\n\nChange-Id: I4e6c7d9d267e302e83af2989acda796c30fdc074\n""}]",0,749659,afc96d39a731aa745e5e7edd2620aa8c0387c0c4,23,7,4,8833,,,0,"Use nova-less deploy by default

This flips the flags to disable nova in undercloud for master.
We use deployed server, so don't need to set 'baremetal_provision'
flag.

RDO jobs have already been converted.

Change-Id: I4e6c7d9d267e302e83af2989acda796c30fdc074
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/749659/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,b31770ed426d19077b9685970ecfdb480b7b4add,bug/1891242,baremetal_provision: trueundercloud_enable_nova: false,baremetal_provision: falseundercloud_enable_nova: true,2,2
openstack%2Freleases~master~I9ac52ff524440670366ebeceb11dc04a446e876c,openstack/releases,master,I9ac52ff524440670366ebeceb11dc04a446e876c,add `reno semver-next` to the list-changes output,MERGED,2020-09-03 12:35:47.000000000,2020-09-04 18:59:12.000000000,2020-09-04 18:59:12.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 12:35:47.000000000', 'files': ['openstack_releases/cmds/list_changes.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/6fe3672660d78291aa7c11b18d119b2a750bd0da', 'message': 'add `reno semver-next` to the list-changes output\n\nUse `reno semver-next` to check the proposed version against the types\nof changes described in the release notes.\n\nChange-Id: I9ac52ff524440670366ebeceb11dc04a446e876c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,749722,6fe3672660d78291aa7c11b18d119b2a750bd0da,11,4,1,2472,,,0,"add `reno semver-next` to the list-changes output

Use `reno semver-next` to check the proposed version against the types
of changes described in the release notes.

Change-Id: I9ac52ff524440670366ebeceb11dc04a446e876c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/749722/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/list_changes.py', 'requirements.txt']",2,6fe3672660d78291aa7c11b18d119b2a750bd0da,reno-semver-next,reno>=3.2.0,reno>=2.0.0,12,1
openstack%2Fsushy~master~Iebf78dd71efd9dec65ce7ff0503a0d481532277c,openstack/sushy,master,Iebf78dd71efd9dec65ce7ff0503a0d481532277c,Add BIOS update apply time and maintenance window,MERGED,2020-09-01 10:43:18.000000000,2020-09-04 18:57:45.000000000,2020-09-04 15:17:58.000000000,"[{'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-09-01 10:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1bcc6d2ab8b803740d2bb38d1e060b5c5b7919bb', 'message': 'Add BIOS update apply time and maintenance window\n\nAdd option to speficy BIOS attribute apply time and\nmaintenance window.\n\nExpose maintenance_window to see if any default\nmaintenance window set.\n\nStory: 2008100\nTask: 40804\n\nChange-Id: Iebf78dd71efd9dec65ce7ff0503a0d481532277c\nCo-Authored-By: Eric Barrera Eric_Barrera@Dell.com\nCo-Authored-By: Richard Pioso richard.pioso@dell.com\n'}, {'number': 2, 'created': '2020-09-04 08:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0c86b6b4d85e5a21bf4ca7bc185c5440bac4cf56', 'message': 'Add BIOS update apply time and maintenance window\n\nAdd option to speficy BIOS attribute apply time and\nmaintenance window.\n\nExpose maintenance_window to see if any default\nmaintenance window set.\n\nStory: 2008100\nTask: 40804\n\nChange-Id: Iebf78dd71efd9dec65ce7ff0503a0d481532277c\nCo-Authored-By: Eric Barrera Eric_Barrera@Dell.com\nCo-Authored-By: Richard Pioso richard.pioso@dell.com\n'}, {'number': 3, 'created': '2020-09-04 08:59:01.000000000', 'files': ['sushy/resources/mappings.py', 'sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'releasenotes/notes/add-apply-time-support-to-bios-315ebad429dcab3d.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/constants.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/46b5d38d8417d64e45ed0b949647da10e64f695f', 'message': 'Add BIOS update apply time and maintenance window\n\nAdd option to speficy BIOS attribute apply time and\nmaintenance window.\n\nExpose maintenance_window to see if any default\nmaintenance window set.\n\nStory: 2008100\nTask: 40804\n\nChange-Id: Iebf78dd71efd9dec65ce7ff0503a0d481532277c\nCo-Authored-By: Eric Barrera Eric_Barrera@Dell.com\nCo-Authored-By: Richard Pioso richard.pioso@dell.com\n'}]",7,749236,46b5d38d8417d64e45ed0b949647da10e64f695f,23,9,3,27909,,,0,"Add BIOS update apply time and maintenance window

Add option to speficy BIOS attribute apply time and
maintenance window.

Expose maintenance_window to see if any default
maintenance window set.

Story: 2008100
Task: 40804

Change-Id: Iebf78dd71efd9dec65ce7ff0503a0d481532277c
Co-Authored-By: Eric Barrera Eric_Barrera@Dell.com
Co-Authored-By: Richard Pioso richard.pioso@dell.com
",git fetch https://review.opendev.org/openstack/sushy refs/changes/36/749236/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/mappings.py', 'sushy/tests/unit/json_samples/settings.json', 'sushy/tests/unit/resources/test_settings.py', 'releasenotes/notes/add-apply-time-support-to-bios-315ebad429dcab3d.yaml', 'sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/constants.py', 'sushy/tests/unit/json_samples/bios.json', 'sushy/resources/system/bios.py', 'sushy/resources/settings.py']",9,1bcc6d2ab8b803740d2bb38d1e060b5c5b7919bb,bios-apply-time," _supported_apply_times = base.MappedListField( 'SupportedApplyTimes', res_maps.APPLY_TIME_VALUE_MAP) """"""List of supported apply times"""""" ",,174,6
openstack%2Fsahara-image-elements~stable%2Fqueens~If5ea0ffdfc51860842c19f0a6f238127d42eb292,openstack/sahara-image-elements,stable/queens,If5ea0ffdfc51860842c19f0a6f238127d42eb292,Fix the buildimages jobs: call the ensure-tox role,MERGED,2020-09-04 07:44:42.000000000,2020-09-04 18:54:59.000000000,2020-09-04 18:54:59.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-09-04 07:44:42.000000000', 'files': ['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/11e4ab25836ff81ad03480cee67eab04437d1639', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nConflicts:\n\troles/build-sahara-images-dib/defaults/main.yaml\n\troles/build-sahara-images-dib/tasks/main.yaml\n\ttools/gate/build-images\nThe backport required some fixes due to the more simplified\nstructure of the build images role and script in the older\nreleases.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)\n(cherry picked from commit 0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2)\n(cherry picked from commit cdf83a23a03a82c3aa2f81a887f8570b924d9bd1)\n(cherry picked from commit 96abd08c28a665b27d8e2625438dfd824f559602)\n'}]",0,749891,11e4ab25836ff81ad03480cee67eab04437d1639,7,3,1,10459,,,0,"Fix the buildimages jobs: call the ensure-tox role

... and use its output.

tox is not available by default on the images anymore.

Conflicts:
	roles/build-sahara-images-dib/defaults/main.yaml
	roles/build-sahara-images-dib/tasks/main.yaml
	tools/gate/build-images
The backport required some fixes due to the more simplified
structure of the build images role and script in the older
releases.

Change-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292
(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)
(cherry picked from commit 0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2)
(cherry picked from commit cdf83a23a03a82c3aa2f81a887f8570b924d9bd1)
(cherry picked from commit 96abd08c28a665b27d8e2625438dfd824f559602)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/91/749891/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml']",4,11e4ab25836ff81ad03480cee67eab04437d1639,,tox_executable: 'tox',,8,4
openstack%2Fopenstack-helm~master~I3fbc414821f16aeaad4ea01039eb832496480348,openstack/openstack-helm,master,I3fbc414821f16aeaad4ea01039eb832496480348,Glance: Remove nginx side car from registery,MERGED,2020-09-04 15:12:35.000000000,2020-09-04 18:52:31.000000000,2020-09-04 18:50:49.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 15:12:35.000000000', 'files': ['glance/templates/deployment-registry.yaml', 'glance/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b52b915d74a5b80f77913563de937c248cc02cc', 'message': 'Glance: Remove nginx side car from registery\n\nGlance-registry does not need nginx sidecar\n\nChange-Id: I3fbc414821f16aeaad4ea01039eb832496480348\n'}]",0,749985,7b52b915d74a5b80f77913563de937c248cc02cc,8,3,1,24780,,,0,"Glance: Remove nginx side car from registery

Glance-registry does not need nginx sidecar

Change-Id: I3fbc414821f16aeaad4ea01039eb832496480348
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/749985/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-registry.yaml', 'glance/values_overrides/tls.yaml']",2,7b52b915d74a5b80f77913563de937c248cc02cc,,, DEFAULT: bind_host: 127.0.0.1,0,57
openstack%2Ftripleo-common~stable%2Ftrain~I91567185464997eb77217b14e7efb97cbecf6e77,openstack/tripleo-common,stable/train,I91567185464997eb77217b14e7efb97cbecf6e77,Add interface-names to Rhel8 images,MERGED,2020-09-04 06:48:18.000000000,2020-09-04 18:32:01.000000000,2020-09-04 18:30:36.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-04 06:48:18.000000000', 'files': ['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6121387e65fdcbe98a84cc211dbdbd8bd5261249', 'message': 'Add interface-names to Rhel8 images\n\nWith EL8, net.ifnames is set to 0 in the grub config. This is a change\nin the default image which can have user impacts, Details in bug[1].\n\nWe already added ""interface-names"" to centos8 images[2]. With this\nchange we are adding ""interface-names"" to remove net.ifnames=0 from\nrhel8 image as well.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1841441\n[2] https://review.opendev.org/#/c/712571/\n\nChange-Id: I91567185464997eb77217b14e7efb97cbecf6e77\n(cherry picked from commit ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5)\n'}]",0,749873,6121387e65fdcbe98a84cc211dbdbd8bd5261249,11,8,1,29775,,,0,"Add interface-names to Rhel8 images

With EL8, net.ifnames is set to 0 in the grub config. This is a change
in the default image which can have user impacts, Details in bug[1].

We already added ""interface-names"" to centos8 images[2]. With this
change we are adding ""interface-names"" to remove net.ifnames=0 from
rhel8 image as well.

[1] https://bugs.launchpad.net/tripleo/+bug/1841441
[2] https://review.opendev.org/#/c/712571/

Change-Id: I91567185464997eb77217b14e7efb97cbecf6e77
(cherry picked from commit ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/749873/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml']",3,6121387e65fdcbe98a84cc211dbdbd8bd5261249,rhel-disable-net.ifnames-stable/train, elements: - interface-names,,6,0
openstack%2Ftripleo-common~stable%2Fussuri~I91567185464997eb77217b14e7efb97cbecf6e77,openstack/tripleo-common,stable/ussuri,I91567185464997eb77217b14e7efb97cbecf6e77,Add interface-names to Rhel8 images,MERGED,2020-09-04 06:47:42.000000000,2020-09-04 18:31:52.000000000,2020-09-04 18:30:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-04 06:47:42.000000000', 'files': ['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb219766c42244dc21c46a75f421595c511c8d80', 'message': 'Add interface-names to Rhel8 images\n\nWith EL8, net.ifnames is set to 0 in the grub config. This is a change\nin the default image which can have user impacts, Details in bug[1].\n\nWe already added ""interface-names"" to centos8 images[2]. With this\nchange we are adding ""interface-names"" to remove net.ifnames=0 from\nrhel8 image as well.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1841441\n[2] https://review.opendev.org/#/c/712571/\n\nChange-Id: I91567185464997eb77217b14e7efb97cbecf6e77\n(cherry picked from commit ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5)\n'}]",0,749872,cb219766c42244dc21c46a75f421595c511c8d80,11,8,1,29775,,,0,"Add interface-names to Rhel8 images

With EL8, net.ifnames is set to 0 in the grub config. This is a change
in the default image which can have user impacts, Details in bug[1].

We already added ""interface-names"" to centos8 images[2]. With this
change we are adding ""interface-names"" to remove net.ifnames=0 from
rhel8 image as well.

[1] https://bugs.launchpad.net/tripleo/+bug/1841441
[2] https://review.opendev.org/#/c/712571/

Change-Id: I91567185464997eb77217b14e7efb97cbecf6e77
(cherry picked from commit ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/749872/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml']",3,cb219766c42244dc21c46a75f421595c511c8d80,rhel-disable-net.ifnames-stable/ussuri, elements: - interface-names,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Idfa892bab0cb59de5a418f0dc23a6e7d60100a49,openstack/tripleo-heat-templates,stable/ussuri,Idfa892bab0cb59de5a418f0dc23a6e7d60100a49,Add the NovaImageCacheTTL to the nova compute service,MERGED,2020-09-04 07:56:35.000000000,2020-09-04 18:31:48.000000000,2020-09-04 18:30:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:56:35.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_image_cache_ttl-824f241363b9dd4e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b42881eae43c576c2bd4e3937f0216d7dba7076c', 'message': 'Add the NovaImageCacheTTL to the nova compute service\n\nThis exposes the remove_unused_original_minimum_age_seconds from nova.conf\nwhich controls the time (in seconds) that nova compute should continue\ncaching an image once it is no longer used by and instances on the host.\n\nChange-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49\n(cherry picked from commit 0e03ba791f7dcab08eb2b0deeb78d29609e81d2b)\n'}]",0,749894,b42881eae43c576c2bd4e3937f0216d7dba7076c,8,4,1,23811,,,0,"Add the NovaImageCacheTTL to the nova compute service

This exposes the remove_unused_original_minimum_age_seconds from nova.conf
which controls the time (in seconds) that nova compute should continue
caching an image once it is no longer used by and instances on the host.

Change-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49
(cherry picked from commit 0e03ba791f7dcab08eb2b0deeb78d29609e81d2b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/749894/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_image_cache_ttl-824f241363b9dd4e.yaml']",2,b42881eae43c576c2bd4e3937f0216d7dba7076c,nova_cache,--- features: - | Add the NovaImageCacheTTL to the nova compute service. This exposes the remove_unused_original_minimum_age_seconds from nova.conf which controls the time (in seconds) that nova compute should continue caching an image once it is no longer used by and instances on the host. Defaults to 86400 (24hrs) ,,18,0
openstack%2Fpuppet-tripleo~master~I35c86b684a6015186760dc77b734f4b52a4e59af,openstack/puppet-tripleo,master,I35c86b684a6015186760dc77b734f4b52a4e59af,Change branch name for selinux_core puppet module,MERGED,2020-09-04 11:07:01.000000000,2020-09-04 18:30:38.000000000,2020-09-04 18:30:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 11:07:01.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/809e7b5a337e6361272d60cdfbfdfce820950e44', 'message': 'Change branch name for selinux_core puppet module\n\nmaster branch has been renamed to main upstream [1].\n\n[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main\n\nChange-Id: I35c86b684a6015186760dc77b734f4b52a4e59af\n'}]",1,749923,809e7b5a337e6361272d60cdfbfdfce820950e44,9,4,1,16312,,,0,"Change branch name for selinux_core puppet module

master branch has been renamed to main upstream [1].

[1] https://github.com/puppetlabs/puppetlabs-selinux_core/commits/main

Change-Id: I35c86b684a6015186760dc77b734f4b52a4e59af
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/749923/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,809e7b5a337e6361272d60cdfbfdfce820950e44,fix-selinux_core, :ref => 'main', :ref => 'master',1,1
openstack%2Fkolla~master~I4b3b73e7e1b19ce9c6458c0a8488e0af8ff51d80,openstack/kolla,master,I4b3b73e7e1b19ce9c6458c0a8488e0af8ff51d80,[CI] Drop the TripleO job,MERGED,2020-09-04 17:44:50.000000000,2020-09-04 18:27:33.000000000,2020-09-04 18:24:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-09-04 17:44:50.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f32eddd6b88d2251182857ac6d7112e145088662', 'message': ""[CI] Drop the TripleO job\n\nPer [1] TripleO relies on Kolla no longer.\nThat explains why the TripleO job is RED this late in the cycle.\nThis patch removes it from Kolla's pipeline to save resources.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-September/017008.html\n\nChange-Id: I4b3b73e7e1b19ce9c6458c0a8488e0af8ff51d80\n""}]",0,750004,f32eddd6b88d2251182857ac6d7112e145088662,10,8,1,30491,,,0,"[CI] Drop the TripleO job

Per [1] TripleO relies on Kolla no longer.
That explains why the TripleO job is RED this late in the cycle.
This patch removes it from Kolla's pipeline to save resources.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-September/017008.html

Change-Id: I4b3b73e7e1b19ce9c6458c0a8488e0af8ff51d80
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/750004/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,f32eddd6b88d2251182857ac6d7112e145088662,ci-drop-tripleo-job,, - tripleo-build-containers-centos-8: voting: false files: - ^docker/.*$ - ^kolla/.*$ - ^requirements.txt$ - ^setup.cfg$ - ^setup.py$,0,8
openstack%2Fneutron~master~I2887eb022b268763193f93a68a32a4a0deaad42b,openstack/neutron,master,I2887eb022b268763193f93a68a32a4a0deaad42b,[ovn]: port forwarding -- move documentation to better place,MERGED,2020-09-03 23:08:39.000000000,2020-09-04 18:26:23.000000000,2020-09-04 18:23:39.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-09-03 23:08:39.000000000', 'files': ['doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/ovn/index.rst', 'doc/source/contributor/internals/ovn/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c6ea20ba5a693765308e3fdbeedd132f5ccf58e', 'message': '[ovn]: port forwarding -- move documentation to better place\n\nMove port_forwarding.rst to doc/source/contributor/internals/ovn\nAlso, keep lines from the document no longer than 80 chars.\n\nChange-Id: I2887eb022b268763193f93a68a32a4a0deaad42b\n'}]",0,749846,0c6ea20ba5a693765308e3fdbeedd132f5ccf58e,11,9,1,11952,,,0,"[ovn]: port forwarding -- move documentation to better place

Move port_forwarding.rst to doc/source/contributor/internals/ovn
Also, keep lines from the document no longer than 80 chars.

Change-Id: I2887eb022b268763193f93a68a32a4a0deaad42b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/749846/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/ovn/index.rst', 'doc/source/contributor/internals/ovn/index.rst']",3,0c6ea20ba5a693765308e3fdbeedd132f5ccf58e,ovn/port_forwarding, port_forwarding,,13,12
openstack%2Ftempest~master~I42bdbf251b2618d8c2de7bd0fd404467576be6fb,openstack/tempest,master,I42bdbf251b2618d8c2de7bd0fd404467576be6fb,Adding description for testcases - volume part4,MERGED,2020-08-14 07:03:51.000000000,2020-09-04 18:26:18.000000000,2020-09-04 18:23:35.000000000,"[{'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-14 07:03:51.000000000', 'files': ['tempest/api/volume/test_image_metadata.py', 'tempest/api/volume/test_snapshot_metadata.py', 'tempest/api/volume/admin/test_volumes_list.py', 'tempest/api/volume/test_extensions.py', 'tempest/api/volume/admin/test_volume_types_extra_specs.py', 'tempest/api/volume/admin/test_volume_services.py', 'tempest/api/volume/admin/test_volume_type_access.py', 'tempest/api/volume/test_volumes_negative.py', 'tempest/api/volume/test_volumes_actions.py', 'tempest/api/volume/test_availability_zone.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a56823734b26b95869c3e556ac718c1d9f0385a1', 'message': 'Adding description for testcases - volume part4\n\nWhen Tempest is used in customer site, often we are required to\nprovide a testcase list including testcase names and descriptions.\nNow no this kind of doc is available, so we can add descriptions\nwith the format of doc string for every testcase, so later we\ncan generata such a testcase description list.\n\nThere are hundreds of testcases missing descriptions, so we can\nadd them gradually, and limit the modified files in one patch\nfor the convenience of reviewing.\n\nChange-Id: I42bdbf251b2618d8c2de7bd0fd404467576be6fb\npartially-implements: blueprint testcase-description\n'}]",0,746280,a56823734b26b95869c3e556ac718c1d9f0385a1,9,4,1,20190,,,0,"Adding description for testcases - volume part4

When Tempest is used in customer site, often we are required to
provide a testcase list including testcase names and descriptions.
Now no this kind of doc is available, so we can add descriptions
with the format of doc string for every testcase, so later we
can generata such a testcase description list.

There are hundreds of testcases missing descriptions, so we can
add them gradually, and limit the modified files in one patch
for the convenience of reviewing.

Change-Id: I42bdbf251b2618d8c2de7bd0fd404467576be6fb
partially-implements: blueprint testcase-description
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/746280/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_image_metadata.py', 'tempest/api/volume/test_snapshot_metadata.py', 'tempest/api/volume/admin/test_volumes_list.py', 'tempest/api/volume/test_extensions.py', 'tempest/api/volume/admin/test_volume_types_extra_specs.py', 'tempest/api/volume/admin/test_volume_services.py', 'tempest/api/volume/admin/test_volume_type_access.py', 'tempest/api/volume/test_volumes_negative.py', 'tempest/api/volume/test_volumes_actions.py', 'tempest/api/volume/test_availability_zone.py']",10,a56823734b26b95869c3e556ac718c1d9f0385a1,bp/testcase-description," """"""Test listing volume available zones""""""", # List of availability zone,74,28
openstack%2Foslo.policy~master~I75889a1b05344a47135419d0553525f54c1a51b8,openstack/oslo.policy,master,I75889a1b05344a47135419d0553525f54c1a51b8,sample-generator: Improve YAML output,MERGED,2020-09-03 23:20:49.000000000,2020-09-04 18:20:23.000000000,2020-09-04 18:18:50.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 23:20:49.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d7b2995d587ef568d57e66ff62d764058c1254f0', 'message': 'sample-generator: Improve YAML output\n\nThis commit makes the following minor improvements\nin YAML output of oslopolicy-sample-generator.\n\n* Add a blank line between policies.\n  Previously when a deprecated rule exists there was no blank line\n  between the deprecated rule and the next rule.\n  It was not easy to identify the beginning of the next rule.\n* Drop unnecessary blank line comment.\n  If a policy is defined by RuleDefault instead of DocumentedRuleDefault\n  there is no description and unnecessary blank line comment was added\n  in an output YAML file.\n* Honor newlines in deprecated_text.\n  Previously newlines in deprecated_text were dropped by\n  _format_help_text(). Main deprecation message and reason are\n  processed separately and newlines are not dropped now.\n\nChange-Id: I75889a1b05344a47135419d0553525f54c1a51b8\n'}]",0,749848,d7b2995d587ef568d57e66ff62d764058c1254f0,8,3,1,841,,,0,"sample-generator: Improve YAML output

This commit makes the following minor improvements
in YAML output of oslopolicy-sample-generator.

* Add a blank line between policies.
  Previously when a deprecated rule exists there was no blank line
  between the deprecated rule and the next rule.
  It was not easy to identify the beginning of the next rule.
* Drop unnecessary blank line comment.
  If a policy is defined by RuleDefault instead of DocumentedRuleDefault
  there is no description and unnecessary blank line comment was added
  in an output YAML file.
* Honor newlines in deprecated_text.
  Previously newlines in deprecated_text were dropped by
  _format_help_text(). Main deprecation message and reason are
  processed separately and newlines are not dropped now.

Change-Id: I75889a1b05344a47135419d0553525f54c1a51b8
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/48/749848/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py']",2,d7b2995d587ef568d57e66ff62d764058c1254f0,improve-sample-generator," text = ('%(op)s%(scope)s%(comment)s%(text)s\n' % {'op': op, if default.description: text = _format_help_text(default.description) + '\n' + text '""%(old_name)s"":""%(old_check_str)s"" has been deprecated ' 'since %(since)s in favor of ""%(name)s"":""%(check_str)s"".' } text = ('%(text)s# DEPRECATED\n%(deprecated_text)s\n%(reason)s\n' % {'text': text, 'reason': _format_help_text(default.deprecated_reason), 'deprecated_text': _format_help_text(deprecated_text)}) text += ('""%(old_name)s"": ""rule:%(name)s""\n' % {'old_name': default.deprecated_rule.name, 'name': default.name}) text += '\n'"," text = ('%(help)s\n%(op)s%(scope)s%(comment)s%(text)s\n' % {'help': _format_help_text(default.description), 'op': op, 'DEPRECATED\n""%(old_name)s"":""%(old_check_str)s"" has been ' 'deprecated since %(since)s in favor of ' '""%(name)s"":""%(check_str)s"".\n%(reason)s' 'reason': default.deprecated_reason} text = ( '%(text)s%(deprecated_text)s\n""%(old_name)s"": ""rule:%(name)s""' '\n' ) % {'text': text, 'deprecated_text': _format_help_text(deprecated_text), 'old_name': default.deprecated_rule.name, 'name': default.name} else: text = ( '%(text)s%(deprecated_text)s\n' ) % {'text': text, 'deprecated_text': _format_help_text(deprecated_text)}",25,29
openstack%2Fopenstack-ansible-ceph_client~stable%2Fussuri~I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,openstack/openstack-ansible-ceph_client,stable/ussuri,I445a3fcc5cec1234c2282eacf1e0704c5a0df11b,Remove trailing '/' from ceph_apt_repo_url,MERGED,2020-09-01 13:22:42.000000000,2020-09-04 18:08:17.000000000,2020-09-04 18:06:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-09-01 13:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/defcee603be25e590733d9390e57d0288540819c', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible.  This patch\nremoves the entry with the trailing '/' (for convenience) and matches\nwhat ceph-ansible does.\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n(cherry picked from commit 0255bef843999ea4d1a26745d53c56793a195d75)\n""}, {'number': 2, 'created': '2020-09-04 10:57:04.000000000', 'files': ['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/74a2912acf314e956b28b213697f3e60c38cf788', 'message': ""Remove trailing '/' from ceph_apt_repo_url\n\nThis little trailing '/' results in a duplicate entry for ceph packages\nif the repository has already been set up by ceph-ansible.  This patch\nremoves the entry with the trailing '/' (for convenience) and matches\nthe default url to what ceph-ansible does.\n\nSlightly altered from cherry-pick to avoid breaking overrides of\nceph_apt_repos\n\nChange-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b\n(cherry picked from commit 0255bef843999ea4d1a26745d53c56793a195d75)\n""}]",3,749282,74a2912acf314e956b28b213697f3e60c38cf788,16,4,2,25600,,,0,"Remove trailing '/' from ceph_apt_repo_url

This little trailing '/' results in a duplicate entry for ceph packages
if the repository has already been set up by ceph-ansible.  This patch
removes the entry with the trailing '/' (for convenience) and matches
the default url to what ceph-ansible does.

Slightly altered from cherry-pick to avoid breaking overrides of
ceph_apt_repos

Change-Id: I445a3fcc5cec1234c2282eacf1e0704c5a0df11b
(cherry picked from commit 0255bef843999ea4d1a26745d53c56793a195d75)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/82/749282/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_preinstall_apt.yml', 'vars/debian.yml']",2,defcee603be25e590733d9390e57d0288540819c,,"ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}"" ceph: repo: ""deb {{ ceph_apt_repo_url }} {{ ansible_distribution_release }} main"" state: ""present"" remove_trailing_slash: repo: ""deb {{ ceph_apt_repo_url }}/ {{ ansible_distribution_release }} main"" state: ""absent""","ceph_apt_repo_url: ""http://{{ ceph_apt_repo_url_region }}.ceph.com/debian-{{ ceph_stable_release }}/"" ceph: repo: ""deb {{ ceph_apt_repo_url }} {{ ansible_distribution_release }} main"" state: ""present""",13,7
openstack%2Fkolla-ansible~master~Ibd7297096c166b50603bffb0466cc5a3637a9aac,openstack/kolla-ansible,master,Ibd7297096c166b50603bffb0466cc5a3637a9aac,[DNM] test bifrost,ABANDONED,2020-09-04 09:25:49.000000000,2020-09-04 17:56:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-04 09:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2dabfe9a4630cc80c530f10ea34ad56059502195', 'message': '[DNM] test bifrost\n\nChange-Id: Ibd7297096c166b50603bffb0466cc5a3637a9aac\n'}, {'number': 2, 'created': '2020-09-04 09:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80f3421ff9e802644c1033f3772be25b84e594ca', 'message': '[DNM] test bifrost\n\nChange-Id: Ibd7297096c166b50603bffb0466cc5a3637a9aac\n'}, {'number': 3, 'created': '2020-09-04 10:20:37.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba78bd0f3216699df3f7729b8f68cded3a676096', 'message': '[DNM] test bifrost\n\nChange-Id: Ibd7297096c166b50603bffb0466cc5a3637a9aac\n'}]",0,749911,ba78bd0f3216699df3f7729b8f68cded3a676096,11,2,3,30491,,,0,"[DNM] test bifrost

Change-Id: Ibd7297096c166b50603bffb0466cc5a3637a9aac
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/749911/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,2dabfe9a4630cc80c530f10ea34ad56059502195,kolla_internal_vip_address, testme: yesplease,,1,0
openstack%2Ftripleo-heat-templates~master~I9baaa77b5b846c96cf075244a8ccb6889469b08e,openstack/tripleo-heat-templates,master,I9baaa77b5b846c96cf075244a8ccb6889469b08e,Make sure IPA has the right ACI,MERGED,2020-09-03 18:35:47.000000000,2020-09-04 17:52:52.000000000,2020-09-04 17:52:52.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 18:35:47.000000000', 'files': ['deployment/etcd/etcd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc959f17c8a783ea44ad77b9eca7964712ea4ca9', 'message': 'Make sure IPA has the right ACI\n\nWe need a special ACI in FreeIPA to allow etcd to obtain a\ncertificate with an IP SAN.  This ACI needs to be added ahead of\ntime.  We add a call for a validation here to make sure that the\nrelevant ACI has been added.\n\nOn failure, the installation will fail with instructions to add\nthe ACI.\n\nThe validation that is invoked here has already mereged in:\nhttps://review.opendev.org/#/c/741313/\n\nChange-Id: I9baaa77b5b846c96cf075244a8ccb6889469b08e\n'}]",0,749814,dc959f17c8a783ea44ad77b9eca7964712ea4ca9,10,4,1,9914,,,0,"Make sure IPA has the right ACI

We need a special ACI in FreeIPA to allow etcd to obtain a
certificate with an IP SAN.  This ACI needs to be added ahead of
time.  We add a call for a validation here to make sure that the
relevant ACI has been added.

On failure, the installation will fail with instructions to add
the ACI.

The validation that is invoked here has already mereged in:
https://review.opendev.org/#/c/741313/

Change-Id: I9baaa77b5b846c96cf075244a8ccb6889469b08e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/749814/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/etcd/etcd-container-puppet.yaml'],1,dc959f17c8a783ea44ad77b9eca7964712ea4ca9,add_aci_validation_master, list_concat: - - name: create /var/lib/etcd file: path: /var/lib/etcd state: directory setype: container_file_t - if: - internal_tls_enabled - - name: check if ipa server has required permissions import_role: name: tls_everywhere tasks_from: ipa-server-check tags: - opendev-validation - opendev-validation-tls-everywhere - null, - name: create /var/lib/etcd file: path: /var/lib/etcd state: directory setype: container_file_t,19,5
openstack%2Ftripleo-heat-templates~master~Ic95d84e611164dc5e28bc182b92991a317bae567,openstack/tripleo-heat-templates,master,Ic95d84e611164dc5e28bc182b92991a317bae567,Remove CI env for net-config-multinode-os-net-config.yaml,MERGED,2020-09-02 19:32:49.000000000,2020-09-04 17:52:49.000000000,2020-09-04 17:52:49.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 19:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7201f2b68915460c7eae95fa96d069752c570a3', 'message': ""Remove CI env for net-config-multinode-os-net-config.yaml\n\nThis should not be needed, other jobs use the net-config-multinode.yaml\nfile, let's get rid of net-config-multinode-os-net-config.yaml for\nconsistency and also in order to ger rid of the network_config_hook()\nfunction that should not be needed anymore.\n\nChange-Id: Ic95d84e611164dc5e28bc182b92991a317bae567\n""}, {'number': 2, 'created': '2020-09-02 19:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a22741b13915860bf216f63234997ad1282a8185', 'message': ""Remove CI env for net-config-multinode-os-net-config.yaml\n\nThis should not be needed, other jobs use the net-config-multinode.yaml\nfile, let's get rid of net-config-multinode-os-net-config.yaml for\nconsistency and also in order to ger rid of the network_config_hook()\nfunction that should not be needed anymore.\n\nChange-Id: Ic95d84e611164dc5e28bc182b92991a317bae567\n""}, {'number': 3, 'created': '2020-09-03 13:54:47.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88ca5928edf160f3ce7aaf313ed7ff6eb8bef92f', 'message': ""Remove CI env for net-config-multinode-os-net-config.yaml\n\nThis should not be needed, other jobs use the net-config-multinode.yaml\nfile, let's get rid of net-config-multinode-os-net-config.yaml for\nconsistency and also in order to ger rid of the network_config_hook()\nfunction that should not be needed anymore.\n\nChange-Id: Ic95d84e611164dc5e28bc182b92991a317bae567\n""}]",0,749582,88ca5928edf160f3ce7aaf313ed7ff6eb8bef92f,13,4,3,3153,,,0,"Remove CI env for net-config-multinode-os-net-config.yaml

This should not be needed, other jobs use the net-config-multinode.yaml
file, let's get rid of net-config-multinode-os-net-config.yaml for
consistency and also in order to ger rid of the network_config_hook()
function that should not be needed anymore.

Change-Id: Ic95d84e611164dc5e28bc182b92991a317bae567
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/749582/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/multinode-containers.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/common/net-config-multinode-os-net-config.yaml']",3,e7201f2b68915460c7eae95fa96d069752c570a3,net-config,,"heat_template_version: rocky description: > Software Config to drive os-net-config for a simple bridge configured with a static IP address for the ctlplane network. parameters: ControlPlaneIp: default: '' description: IP address/subnet on the ctlplane network type: string ControlPlaneSubnetCidr: default: '' description: > The subnet CIDR of the control plane network. (The parameter is automatically resolved from the ctlplane subnet's cidr attribute.) type: string ControlPlaneDefaultRoute: default: '' description: The default route of the control plane network. (The parameter is automatically resolved from the ctlplane subnet's gateway_ip attribute.) type: string ControlPlaneStaticRoutes: default: [] description: > Routes for the ctlplane network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ControlPlaneMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the network. (The parameter is automatically resolved from the ctlplane network's mtu attribute.) type: number ExternalIpSubnet: default: '' description: IP address/subnet on the external network type: string ExternalInterfaceRoutes: default: [] description: > Routes for the external network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ExternalMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the External network. type: number ExternalInterfaceDefaultRoute: default: '' description: default route for the external network type: string InternalApiIpSubnet: default: '' description: IP address/subnet on the internal_api network type: string InternalApiInterfaceRoutes: default: [] description: > Routes for the internal_api network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json InternalApiMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the InternalApi network. type: number StorageIpSubnet: default: '' description: IP address/subnet on the storage network type: string StorageInterfaceRoutes: default: [] description: > Routes for the storage network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json StorageMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the Storage network. type: number StorageMgmtIpSubnet: default: '' description: IP address/subnet on the storage_mgmt network type: string StorageMgmtInterfaceRoutes: default: [] description: > Routes for the storage_mgmt network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json StorageMgmtMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the StorageMgmt network. type: number StorageNFSIpSubnet: default: '' description: IP address/subnet on the storage_nfs network type: string StorageNFSRoutes: default: [] description: > Routes for the storage_nfs network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json TenantIpSubnet: default: '' description: IP address/subnet on the tenant network type: string TenantInterfaceRoutes: default: [] description: > Routes for the tenant network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json TenantMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the Tenant network. type: number ManagementIpSubnet: default: '' description: IP address/subnet on the management network type: string ManagementInterfaceRoutes: default: [] description: > Routes for the management network traffic. JSON route e.g. [{'destination':'10.0.0.0/16', 'nexthop':'10.0.0.1'}] Unless the default is changed, the parameter is automatically resolved from the subnet host_routes attribute. type: json ManagementMtu: default: 1500 description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the Management network. type: number OvSBridgeMtu: default: 1300 description: The mtu of the OvS bridge type: number DnsServers: # Override this via parameter_defaults default: [] description: > DNS servers to use for the Overcloud (2 max for some implementations). If not set the nameservers configured in the ctlplane subnet's dns_nameservers attribute will be used. type: comma_delimited_list # NOTE(hjensas): We need these because the default network_data.yaml define # vlan for all networks. ExternalNetworkVlanID: default: 10 description: Vlan ID for the external network traffic. type: number InternalApiNetworkVlanID: default: 20 description: Vlan ID for the internal_api network traffic. type: number StorageNetworkVlanID: default: 30 description: Vlan ID for the storage network traffic. type: number StorageMgmtNetworkVlanID: default: 40 description: Vlan ID for the storage_mgmt network traffic. type: number TenantNetworkVlanID: default: 50 description: Vlan ID for the tenant network traffic. type: number resources: OsNetConfigImpl: type: OS::Heat::SoftwareConfig properties: group: script config: list_join: - '' - - | #!/bin/bash function network_config_hook { primary_private_ip=$(cat /etc/nodepool/primary_node_private) sed -i ""s/primary_private_ip/$primary_private_ip/"" /etc/os-net-config/config.json subnode_private_ip=$(cat /etc/nodepool/node_private) sed -i ""s/subnode_private_ip/$subnode_private_ip/"" /etc/os-net-config/config.json # We start with an arbitrarily high vni key so that we don't # overlap with Neutron created values. These will also match the # values that we've been using previously from the devstack-gate # code. vni=1000002 subnode_index=$(grep -n $(cat /etc/nodepool/node_private) /etc/nodepool/sub_nodes_private | cut -d: -f1) let vni+=$subnode_index sed -i ""s/vni/$vni/"" /etc/os-net-config/config.json export interface_name=""br-ex_$primary_private_ip"" # Until we are fully migrated to os-net-config we need # to clean up the old bridge first created by # devstack-gate. However, if $interface_name is already # present in `ovs-vsctl show`, assume our br-ex is # already configured. (Mainly for upgrade job, to avoid # deleting br-ex during upgrade.) if ! ovs-vsctl show | grep $interface_name &> /dev/null; then ovs-vsctl del-br br-ex fi } - str_replace: template: get_file: ../../network/scripts/run-os-net-config.sh params: $network_config: network_config: - type: ovs_bridge name: bridge_name mtu: get_param: OvSBridgeMtu use_dhcp: false addresses: - ip_netmask: list_join: - ""/"" - - get_param: ControlPlaneIp - get_param: ControlPlaneSubnetCidr members: - type: ovs_tunnel name: interface_name tunnel_type: vxlan ovs_options: - list_join: - ""="" - - key - vni - list_join: - ""="" - - remote_ip - primary_private_ip - list_join: - ""="" - - local_ip - subnode_private_ip outputs: OS::stack_id: description: The OsNetConfigImpl resource. value: {get_resource: OsNetConfigImpl} ",4,275
openstack%2Fproject-config~master~Ib99bf4207c8c313b33bf161adbeea07f6f7d6cb1,openstack/project-config,master,Ib99bf4207c8c313b33bf161adbeea07f6f7d6cb1,Make the Backport-Candidate field in Octavia reviews persist,ABANDONED,2020-09-04 15:19:12.000000000,2020-09-04 17:42:27.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-04 15:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8698c7cb2ae458b17c054a0afefe47a72156e64', 'message': 'Make the Backport-Candidate field in Octavia reviews persist\n\nThe status of backport candidate does not change across patchsets,\nso make it persistent for Octavia projects.\n\nChange-Id: Ib99bf4207c8c313b33bf161adbeea07f6f7d6cb1\n'}, {'number': 2, 'created': '2020-09-04 16:34:50.000000000', 'files': ['gerrit/acls/openstack/octavia-dashboard.config', 'gerrit/acls/openstack/octavia.config', 'gerrit/acls/openstack/octavia-lib.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/529251f4c4de1ad9cbd5269ea442b25fc009f709', 'message': 'Make the Backport-Candidate field in Octavia reviews persist\n\nThe status of backport candidate does not change across patchsets,\nso make it persistent for Octavia projects.\n\nChange-Id: Ib99bf4207c8c313b33bf161adbeea07f6f7d6cb1\n'}]",0,749986,529251f4c4de1ad9cbd5269ea442b25fc009f709,9,5,2,13995,,,0,"Make the Backport-Candidate field in Octavia reviews persist

The status of backport candidate does not change across patchsets,
so make it persistent for Octavia projects.

Change-Id: Ib99bf4207c8c313b33bf161adbeea07f6f7d6cb1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/749986/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/octavia-dashboard.config', 'gerrit/acls/openstack/octavia.config', 'gerrit/acls/openstack/octavia-lib.config']",3,c8698c7cb2ae458b17c054a0afefe47a72156e64,persist-octavia-backport-candidate,copyAnyScore = true,copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true,3,6
openstack%2Fopenstack-helm~master~I2180cdf934ce21bc5ae7148f2830d1a8683e82db,openstack/openstack-helm,master,I2180cdf934ce21bc5ae7148f2830d1a8683e82db,Implement missing security context template for deployment server,MERGED,2020-08-31 16:26:15.000000000,2020-09-04 17:41:04.000000000,2020-09-04 17:37:20.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-31 16:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f78e79937de5356b0ca2c6af8e6b697e31cad15', 'message': 'Implement missing security context template for test pod and deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 2, 'created': '2020-08-31 16:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eac6b80c63547dfede5f59726a8989cba115f06b', 'message': 'Implement missing security context template for test pod and deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 3, 'created': '2020-08-31 16:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/569600a063eacac9ca0efdc89ac4caaaf7cb0dee', 'message': 'Implement missing security context template for test pod and deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 4, 'created': '2020-08-31 17:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9cd9257fab070631b9c3492be0da20a45d75f576', 'message': 'Implement missing security context template for test pod and deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 5, 'created': '2020-08-31 18:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c54fc7d25fe8da8d3f682740e16c47fe685ca79', 'message': 'Implement missing security context template for test pod and deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 6, 'created': '2020-08-31 18:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae21efce31009917d9d0166d0dd77296ef3cd3ff', 'message': 'Implement missing security context template for deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 7, 'created': '2020-08-31 19:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/310ca9627b5b7091210cabf06089438d677c940e', 'message': 'Implement missing security context template for deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 8, 'created': '2020-09-01 22:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/596b0c61a0e18140dd6f4368218e1acf1bf25068', 'message': 'Implement missing security context template for deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}, {'number': 9, 'created': '2020-09-03 14:22:24.000000000', 'files': ['neutron/values.yaml', 'neutron/templates/deployment-ironic-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c57391366a73529bcac0635511489b91ebe71b4a', 'message': 'Implement missing security context template for deployment server\n\nThis change adds security context template at pod/container level\n\nChange-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db\n'}]",0,749084,c57391366a73529bcac0635511489b91ebe71b4a,23,11,9,29144,,,0,"Implement missing security context template for deployment server

This change adds security context template at pod/container level

Change-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/84/749084/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/pod-rally-test.yaml', 'neutron/values.yaml']",2,2f78e79937de5356b0ca2c6af8e6b697e31cad15,, neutron_rpc_server: allowPrivilegeEscalation: false readOnlyRootFilesystem: true,,6,0
openstack%2Fproject-config~master~I96f69bfa7e3bb2928f24755fd1ff2cb1b347548c,openstack/project-config,master,I96f69bfa7e3bb2928f24755fd1ff2cb1b347548c,Temporarily disable rax-dfw for mirror reboot,MERGED,2020-09-04 16:24:36.000000000,2020-09-04 17:27:55.000000000,2020-09-04 17:12:41.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 16:24:36.000000000', 'files': ['nodepool/nl01.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3c2a4a34a9ebfc9c6f0dd61648c412dab9165f55', 'message': 'Temporarily disable rax-dfw for mirror reboot\n\nWhile attempting to replace the Cinder volume attached to the\nrax-dfw mirror server, the xenwatch reported a page allocation\nfailure. In order to ensure the new block device is correctly seen\nby the guest OS we should reboot it. Temporarily wind down testing\nthere so as not to disrupt any running jobs when we do so. This can\nbe reverted after we complete the reboot.\n\nChange-Id: I96f69bfa7e3bb2928f24755fd1ff2cb1b347548c\n'}]",0,749993,3c2a4a34a9ebfc9c6f0dd61648c412dab9165f55,8,3,1,5263,,,0,"Temporarily disable rax-dfw for mirror reboot

While attempting to replace the Cinder volume attached to the
rax-dfw mirror server, the xenwatch reported a page allocation
failure. In order to ensure the new block device is correctly seen
by the guest OS we should reboot it. Temporarily wind down testing
there so as not to disrupt any running jobs when we do so. This can
be reverted after we complete the reboot.

Change-Id: I96f69bfa7e3bb2928f24755fd1ff2cb1b347548c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/749993/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl01.openstack.org.yaml'],1,3c2a4a34a9ebfc9c6f0dd61648c412dab9165f55,mirror-reboot, max-servers: 0, max-servers: 140,1,1
openstack%2Fcinder~master~I61effa4a7141617ad6971597e9d1d167a4758a5c,openstack/cinder,master,I61effa4a7141617ad6971597e9d1d167a4758a5c,"Remove ""cinder-manage shell"" commands",MERGED,2020-07-27 15:47:38.000000000,2020-09-04 17:21:09.000000000,2020-09-04 17:18:49.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-27 15:47:38.000000000', 'files': ['doc/source/cli/cinder-manage.rst', 'releasenotes/notes/remove-cinder-manage-shell-6d6f42e5a4ee8c5c.yaml', 'cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e89dfb0eab9f19a9d305fd35e8e1d1a3d193ced3', 'message': 'Remove ""cinder-manage shell"" commands\n\n- cinder-manage shell\n- cinder-manage shell bpython\n- cinder-manage shell ipython\n- cinder-manage shell python\n- cinder-manage shell run\n- cinder-manage shell script\n\nThese aren\'t maintained and don\'t serve any particular\npurpose in a Cinder deployment.  Remove them.\n\nChange-Id: I61effa4a7141617ad6971597e9d1d167a4758a5c\n'}]",0,743262,e89dfb0eab9f19a9d305fd35e8e1d1a3d193ced3,39,30,1,4523,,,0,"Remove ""cinder-manage shell"" commands

- cinder-manage shell
- cinder-manage shell bpython
- cinder-manage shell ipython
- cinder-manage shell python
- cinder-manage shell run
- cinder-manage shell script

These aren't maintained and don't serve any particular
purpose in a Cinder deployment.  Remove them.

Change-Id: I61effa4a7141617ad6971597e9d1d167a4758a5c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/743262/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/cinder-manage.rst', 'releasenotes/notes/remove-cinder-manage-shell-6d6f42e5a4ee8c5c.yaml', 'cinder/cmd/manage.py']",3,e89dfb0eab9f19a9d305fd35e8e1d1a3d193ced3,,,"class ShellCommands(object): def bpython(self): """"""Runs a bpython shell. Falls back to Ipython/python shell if unavailable """""" self.run('bpython') def ipython(self): """"""Runs an Ipython shell. Falls back to Python shell if unavailable """""" self.run('ipython') def python(self): """"""Runs a python shell. Falls back to Python shell if unavailable """""" self.run('python') @args('--shell', metavar='<bpython|ipython|python>', help='Python shell') def run(self, shell=None): """"""Runs a Python interactive interpreter."""""" if not shell: shell = 'bpython' if shell == 'bpython': try: import bpython bpython.embed() except ImportError: shell = 'ipython' if shell == 'ipython': try: from IPython import embed embed() except ImportError: try: # Ipython < 0.11 # Explicitly pass an empty list as arguments, because # otherwise IPython would use sys.argv from this script. import IPython shell = IPython.Shell.IPShell(argv=[]) shell.mainloop() except ImportError: # no IPython module shell = 'python' if shell == 'python': import code try: # Try activating rlcompleter, because it's handy. import readline except ImportError: pass else: # We don't have to wrap the following import in a 'try', # because we already know 'readline' was imported successfully. import rlcompleter # noqa readline.parse_and_bind(""tab:complete"") code.interact() @args('--path', required=True, help='Script path') def script(self, path): """"""Runs the script from the specified path with flags set properly."""""" exec(compile(open(path).read(), path, 'exec'), locals(), globals()) 'shell': ShellCommands,",5,97
openstack%2Fneutron~stable%2Fstein~Id988cab87d32d5721cd91152df194fbb6fa703c5,openstack/neutron,stable/stein,Id988cab87d32d5721cd91152df194fbb6fa703c5,String to byte conversion should provide the encoding type,MERGED,2020-09-01 18:01:32.000000000,2020-09-04 17:00:45.000000000,2020-09-04 16:56:56.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-01 18:01:32.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b1fd4fc2653a851f147c435e65c6f3a29781100', 'message': 'String to byte conversion should provide the encoding type\n\nNote:\nIn Train we still need to support Python 2.7 so this commit\nadds import of six and six is used to make correct convertion\nto bytes in both Python 2.7 and Python 3.\n\nChange-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5\nCloses-Bug: #1887385\n(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)\n(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)\n(cherry picked from commit 0090884e15068a69f229044e37847ae13432c970)\n'}]",0,749374,0b1fd4fc2653a851f147c435e65c6f3a29781100,25,8,1,5792,,,0,"String to byte conversion should provide the encoding type

Note:
In Train we still need to support Python 2.7 so this commit
adds import of six and six is used to make correct convertion
to bytes in both Python 2.7 and Python 3.

Change-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5
Closes-Bug: #1887385
(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)
(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)
(cherry picked from commit 0090884e15068a69f229044e37847ae13432c970)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/749374/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,0b1fd4fc2653a851f147c435e65c6f3a29781100,,"import six os.write(self.pipeout, six.b(str(self.port)))"," os.write(self.pipeout, bytes(self.port))",2,1
openstack%2Frequirements~master~I63a2312b23d5907d6a4a31cad31b1e9b16d8d813,openstack/requirements,master,I63a2312b23d5907d6a4a31cad31b1e9b16d8d813,update constraint for metalsmith to new release 1.2.0,MERGED,2020-09-04 13:21:54.000000000,2020-09-04 16:59:45.000000000,2020-09-04 16:56:59.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 13:21:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0e9146553ac890a53af55b6f56191483e22086f9', 'message': 'update constraint for metalsmith to new release 1.2.0\n\nChange-Id: I63a2312b23d5907d6a4a31cad31b1e9b16d8d813\nmeta:version: 1.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Iefb6a401b9df100d301a0fb7bb94641b8b07fe19\nmeta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749953,0e9146553ac890a53af55b6f56191483e22086f9,10,4,1,11131,,,0,"update constraint for metalsmith to new release 1.2.0

Change-Id: I63a2312b23d5907d6a4a31cad31b1e9b16d8d813
meta:version: 1.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Iefb6a401b9df100d301a0fb7bb94641b8b07fe19
meta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/749953/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0e9146553ac890a53af55b6f56191483e22086f9,new-release,metalsmith===1.2.0,metalsmith===1.1.0,1,1
openstack%2Fmetalsmith~master~I1db3bc878724df2a30f0a01ca361faf03b331ef7,openstack/metalsmith,master,I1db3bc878724df2a30f0a01ca361faf03b331ef7,Add Python3 wallaby unit tests,MERGED,2020-09-04 13:04:59.000000000,2020-09-04 16:51:08.000000000,2020-09-04 16:47:23.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:04:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/0bd4b6a6574a51d055a2e2b455e30f29b29aca58', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I1db3bc878724df2a30f0a01ca361faf03b331ef7\n'}]",0,749939,0bd4b6a6574a51d055a2e2b455e30f29b29aca58,8,3,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I1db3bc878724df2a30f0a01ca361faf03b331ef7
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/39/749939/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0bd4b6a6574a51d055a2e2b455e30f29b29aca58,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fproject-config~master~If73b64e64bf23840c2b00a61a55879fea24a291f,openstack/project-config,master,If73b64e64bf23840c2b00a61a55879fea24a291f,Allow copyAnyScore in gerrit ACLs,ABANDONED,2020-09-04 16:31:17.000000000,2020-09-04 16:45:26.000000000,,"[{'_account_id': 4146}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 16:31:17.000000000', 'files': ['tools/normalize_acl.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/06ef650337bb800d3dcd777728e6caab927e8061', 'message': ""Allow copyAnyScore in gerrit ACLs\n\nAccording to [1] copyAnyScore is a permissible ACL label option.\nPermit it's usage in Gerrit ACLs.\n\n[1] https://gerrit-review.googlesource.com/Documentation/config-labels.html#label_copyAnyScore\n\nChange-Id: If73b64e64bf23840c2b00a61a55879fea24a291f\nNeeded-By: https://review.opendev.org/749986\n""}]",0,749995,06ef650337bb800d3dcd777728e6caab927e8061,6,3,1,13995,,,0,"Allow copyAnyScore in gerrit ACLs

According to [1] copyAnyScore is a permissible ACL label option.
Permit it's usage in Gerrit ACLs.

[1] https://gerrit-review.googlesource.com/Documentation/config-labels.html#label_copyAnyScore

Change-Id: If73b64e64bf23840c2b00a61a55879fea24a291f
Needed-By: https://review.opendev.org/749986
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/749995/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/normalize_acl.py'],1,06ef650337bb800d3dcd777728e6caab927e8061,permit-copyAnyScore," 'copyAnyScore',",,1,0
openstack%2Fcinder~master~I32c98906847e3d10a846cf736ca848ea1608492e,openstack/cinder,master,I32c98906847e3d10a846cf736ca848ea1608492e,Support modern compression algorithms in cinder backup,MERGED,2020-05-11 09:26:37.000000000,2020-09-04 16:34:28.000000000,2020-09-04 16:13:42.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-05-11 09:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/daccb702555798782eba969e7b13fe6037eadf7f', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I32c98906847e3d10a846cf736ca848ea1608492e\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 2, 'created': '2020-05-12 02:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fae05fadc5ddb91b9c45902f368a87fb05317f7c', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I32c98906847e3d10a846cf736ca848ea1608492e\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 3, 'created': '2020-07-10 02:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e9d3eb1a623cb549c4cc638d9eee81a669befed', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I32c98906847e3d10a846cf736ca848ea1608492e\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 4, 'created': '2020-07-14 23:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c5c8a8564dd6a4ddb243b2f66f758675e0073a1', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I32c98906847e3d10a846cf736ca848ea1608492e\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 5, 'created': '2020-07-15 04:27:58.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'requirements.txt', 'doc/source/admin/blockstorage-volume-backups.rst', 'lower-constraints.txt', 'cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aeb94ecec9b3542fa81f3a632eeccec1fceff983', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I32c98906847e3d10a846cf736ca848ea1608492e\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}]",21,726765,aeb94ecec9b3542fa81f3a632eeccec1fceff983,143,35,5,25397,,,0,"Support modern compression algorithms in cinder backup

Change-Id: I32c98906847e3d10a846cf736ca848ea1608492e
Implements: blueprint support-modern-compression-algorithms-in-cinder-backup
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/726765/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'requirements.txt', 'doc/source/admin/blockstorage-volume-backups.rst', 'cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",7,daccb702555798782eba969e7b13fe6037eadf7f,bp/support-modern-compression-algorithms-in-cinder-backup," 'bz2', 'bzip2', 'lz4', 'zstd'], elif algorithm.lower() == 'lz4': import lz4.frame as compressor result = compressor elif algorithm.lower() == 'zstd': import zstd as compressor result = compressor"," 'bz2', 'bzip2'],",153,5
openstack%2Freleases~master~I1a8c17c1b30231f5ae774e09d27959ee067668b0,openstack/releases,master,I1a8c17c1b30231f5ae774e09d27959ee067668b0,Victoria Cycle Highlight for Nova,MERGED,2020-09-03 09:54:25.000000000,2020-09-04 16:22:57.000000000,2020-09-03 12:53:00.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 09:54:25.000000000', 'files': ['deliverables/victoria/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9293c457853acdb58f513dddebc5408e45623c58', 'message': 'Victoria Cycle Highlight for Nova\n\nChange-Id: I1a8c17c1b30231f5ae774e09d27959ee067668b0\n'}]",4,749693,9293c457853acdb58f513dddebc5408e45623c58,12,3,1,9708,,,0,"Victoria Cycle Highlight for Nova

Change-Id: I1a8c17c1b30231f5ae774e09d27959ee067668b0
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/749693/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/nova.yaml'],1,9293c457853acdb58f513dddebc5408e45623c58,v-highlights,cycle-highlights: - | `Nova supports mixing pinned and floating CPUs within the same nova server. <https://docs.openstack.org/nova/latest/user/flavors.html>`_ - | `Nova supports customizing the placement resource inventory of the compute node via a provider configuration file. <https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html>`_ - | `Nova supports fast cloning of Glance images from the Ceph RBD cluster even if Glance multistore configuration is used. <https://specs.openstack.org/openstack/nova-specs/specs/victoria/approved/rbd-glance-multistore.html>`_ - | `Nova supports creating servers with virtual TPM devices. <https://docs.openstack.org/nova/latest/admin/emulated-tpm.rst>`_,,15,0
openstack%2Fnova~master~I7e67680090da003e01e106be47b7a807164fecb3,openstack/nova,master,I7e67680090da003e01e106be47b7a807164fecb3,doc: Add IPv6 metadata address,MERGED,2020-08-03 14:35:08.000000000,2020-09-04 16:16:57.000000000,2020-09-04 16:13:49.000000000,"[{'_account_id': 1131}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15554}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-03 14:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bce41c60e5272941f0f32d2bfca684d3c612985', 'message': 'doc: Add IPv6 metadata address\n\nThe metadata service is going to be accessible over IPv6 too when\nthe following Neutron feature merges (still in Victoria, I hope):\n\nhttps://bugs.launchpad.net/neutron/+bug/1460177\n\nHowever all end-user facing metadata documentation is in Nova,\nso unless we want to refactor/move this, let me propose this doc\nchange here.\n\nChange-Id: I7e67680090da003e01e106be47b7a807164fecb3\nPartial-Bug: #1460177\n'}, {'number': 2, 'created': '2020-08-04 07:10:48.000000000', 'files': ['doc/source/user/metadata.rst', 'doc/source/admin/metadata-service.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7d3a65ff42370897f4ca8957ee3842dbb7cb7f7', 'message': 'doc: Add IPv6 metadata address\n\nThe metadata service is going to be accessible over IPv6 too when\nthe following Neutron feature merges (still in Victoria, I hope):\n\nhttps://bugs.launchpad.net/neutron/+bug/1460177\n\nHowever all end-user facing metadata documentation is in Nova,\nso unless we want to refactor/move this, let me propose this doc\nchange here.\n\nChange-Id: I7e67680090da003e01e106be47b7a807164fecb3\nPartial-Bug: #1460177\n'}]",8,744492,e7d3a65ff42370897f4ca8957ee3842dbb7cb7f7,28,12,2,15554,,,0,"doc: Add IPv6 metadata address

The metadata service is going to be accessible over IPv6 too when
the following Neutron feature merges (still in Victoria, I hope):

https://bugs.launchpad.net/neutron/+bug/1460177

However all end-user facing metadata documentation is in Nova,
so unless we want to refactor/move this, let me propose this doc
change here.

Change-Id: I7e67680090da003e01e106be47b7a807164fecb3
Partial-Bug: #1460177
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/744492/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/metadata.rst', 'doc/source/admin/metadata-service.rst']",2,7bce41c60e5272941f0f32d2bfca684d3c612985,metadata-ipv6,"Guests access the service at ``169.254.169.254`` or at ``fe80::a9fe:a9fe``. .. versionchanged:: 22.0.0 Starting with the Victoria release the metadata service is accessible over IPv6 too at the link-local address ``fe80::a9fe:a9fe``. The networking service,","Guests access the service at ``169.254.169.254``. The networking service,",25,3
openstack%2Ftripleo-quickstart-extras~master~I2f482e489d7859e5b3c1a55a61c563dcab993684,openstack/tripleo-quickstart-extras,master,I2f482e489d7859e5b3c1a55a61c563dcab993684,Add rocky on the list of versions to generate clouds.yaml,MERGED,2020-08-17 09:56:12.000000000,2020-09-04 16:05:14.000000000,2020-09-04 16:05:14.000000000,"[{'_account_id': 3153}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-17 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f24ac6f30f70764a0a831eeece41030c35c4e190', 'message': ""Add rocky on the list of versions to generate clouds.yaml\n\nRocky also doesn't generate the clouds.yaml file and it's required to\nreplace validate-tempest with os_tempest\n\nChange-Id: I2f482e489d7859e5b3c1a55a61c563dcab993684\n""}, {'number': 2, 'created': '2020-08-27 09:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2bdf3475c1b001dc307f3f389c9dd80f57f3dbeb', 'message': ""Add rocky on the list of versions to generate clouds.yaml\n\nRocky also doesn't generate the clouds.yaml file and it's required to\nreplace validate-tempest with os_tempest\n\nChange-Id: I2f482e489d7859e5b3c1a55a61c563dcab993684\n""}, {'number': 3, 'created': '2020-09-02 17:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/231629514a2380881326b6cdaa633f9edfa0106f', 'message': ""Add rocky on the list of versions to generate clouds.yaml\n\nRocky also doesn't generate the clouds.yaml file and it's required to\nreplace validate-tempest with os_tempest\n\nChange-Id: I2f482e489d7859e5b3c1a55a61c563dcab993684\n""}, {'number': 4, 'created': '2020-09-04 08:29:28.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d94e93b7a981582de3caa722571fca262c0408b3', 'message': ""Add rocky on the list of versions to generate clouds.yaml\n\nRocky also doesn't generate the clouds.yaml file and it's required to\nreplace validate-tempest with os_tempest\n\nChange-Id: I2f482e489d7859e5b3c1a55a61c563dcab993684\n""}]",0,746470,d94e93b7a981582de3caa722571fca262c0408b3,26,6,4,8367,,,0,"Add rocky on the list of versions to generate clouds.yaml

Rocky also doesn't generate the clouds.yaml file and it's required to
replace validate-tempest with os_tempest

Change-Id: I2f482e489d7859e5b3c1a55a61c563dcab993684
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/70/746470/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,f24ac6f30f70764a0a831eeece41030c35c4e190,os_tempest-rocky," - release in ['queens', 'rocky', 'stein']"," - release in ['queens', 'stein']",1,1
openstack%2Frequirements~stable%2Fussuri~I5004e0741b96c071f2d0ee50d7b5271e0873df5a,openstack/requirements,stable/ussuri,I5004e0741b96c071f2d0ee50d7b5271e0873df5a,update constraint for os-brick to new release 3.0.3,MERGED,2020-09-04 08:54:27.000000000,2020-09-04 16:03:14.000000000,2020-09-04 16:03:14.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-04 08:54:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f65c8a8a923e7c90b005d05cad167b06d3d31d61', 'message': 'update constraint for os-brick to new release 3.0.3\n\nChange-Id: I5004e0741b96c071f2d0ee50d7b5271e0873df5a\nmeta:version: 3.0.3\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Change-Id: I33687909c2afa5d8f0b5949e63b1bc16b6ed4c13\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,749904,f65c8a8a923e7c90b005d05cad167b06d3d31d61,8,4,1,11131,,,0,"update constraint for os-brick to new release 3.0.3

Change-Id: I5004e0741b96c071f2d0ee50d7b5271e0873df5a
meta:version: 3.0.3
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Change-Id: I33687909c2afa5d8f0b5949e63b1bc16b6ed4c13
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/749904/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f65c8a8a923e7c90b005d05cad167b06d3d31d61,new-release,os-brick===3.0.3,os-brick===3.0.2,1,1
openstack%2Fplacement~stable%2Ftrain~I129fe0098944f14fc0d9ef6228eb26cc38050237,openstack/placement,stable/train,I129fe0098944f14fc0d9ef6228eb26cc38050237,Add DEBUG logs to help troubleshoot no allocation candidates,MERGED,2020-08-25 21:51:24.000000000,2020-09-04 16:00:56.000000000,2020-09-04 15:56:42.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 21:51:24.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/b020f716b0502106daf8cb4c7afbd7b3f47d3678', 'message': ""Add DEBUG logs to help troubleshoot no allocation candidates\n\nWe currently have DEBUG logs that are emitted when at least one\nallocation candidate is successfully found (added in changes\nIf9ddb8a6d2f03392f3cc11136c4a0b026212b95b and\nI952d5229d6c40588cde6197683117a7e19127939) but we don't get much\nlogging in cases when no allocation candidates are found.\n\nThis adds DEBUG log messages for cases where we raise\nResourceProviderNotFound to aid in debugging scenarios where placement\nis unexpectedly returning no allocation candidates for a request.\n\nChange-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237\n(cherry picked from commit fa9ae57984ba1f839331174d9b3ef9658af5b775)\n(cherry picked from commit 33591b83cbb7daf1a53c481e1d4c2797376dc888)\n""}]",0,748036,b020f716b0502106daf8cb4c7afbd7b3f47d3678,8,2,1,4690,,,0,"Add DEBUG logs to help troubleshoot no allocation candidates

We currently have DEBUG logs that are emitted when at least one
allocation candidate is successfully found (added in changes
If9ddb8a6d2f03392f3cc11136c4a0b026212b95b and
I952d5229d6c40588cde6197683117a7e19127939) but we don't get much
logging in cases when no allocation candidates are found.

This adds DEBUG log messages for cases where we raise
ResourceProviderNotFound to aid in debugging scenarios where placement
is unexpectedly returning no allocation candidates for a request.

Change-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237
(cherry picked from commit fa9ae57984ba1f839331174d9b3ef9658af5b775)
(cherry picked from commit 33591b83cbb7daf1a53c481e1d4c2797376dc888)
",git fetch https://review.opendev.org/openstack/placement refs/changes/36/748036/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,b020f716b0502106daf8cb4c7afbd7b3f47d3678,744569," LOG.debug('found no providers matching aggregates %s', self.member_of) rc_name = context.rc_cache.string_from_id(rc_id) LOG.debug('getting providers with %d %s', amount, rc_name) LOG.debug('found no providers with %d %s', amount, rc_name) required_ids = set(trait_obj.ids_from_names( forbidden_ids = set(trait_obj.ids_from_names( self._ctx, required_ids, forbidden_ids) LOG.debug('found no providers satisfying required traits: %s and ' 'forbidden traits: %s', required, forbidden)"," required = set(trait_obj.ids_from_names( forbidden = set(trait_obj.ids_from_names( self._ctx, required, forbidden)",10,3
openstack%2Fmasakari-dashboard~master~I9eca8be60be937538dcd3f4d063de3d96b8f8ae4,openstack/masakari-dashboard,master,I9eca8be60be937538dcd3f4d063de3d96b8f8ae4,Hide dashboard for non-admins,ABANDONED,2020-09-04 14:46:46.000000000,2020-09-04 15:57:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-04 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/59a478d5b841c4ad97cfec0ec5670cc3e0b27461', 'message': 'Hide dashboard for non-admins\n\nThe current dashboard configuration allows non-admin users to see the\nMasakari dashboard, although when they navigate to a panel the policy\nprevents it from loading. Comparing with the admin panel configuration\nin Horizon, the Masakari dashboard looks a bit different. This change\nsynchronises the dashboard with the horizon admin dashboard, which\nprevents non-admin users from seeing it.\n\nChange-Id: I9eca8be60be937538dcd3f4d063de3d96b8f8ae4\n'}, {'number': 2, 'created': '2020-09-04 15:11:59.000000000', 'files': ['masakaridashboard/test/helpers.py', 'masakaridashboard/dashboard.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/f0d3131725363112c5ebb0cfa48450c6ede9ec1c', 'message': 'Hide dashboard for non-admins\n\nThe current dashboard configuration allows non-admin users to see the\nMasakari dashboard, although when they navigate to a panel the policy\nprevents it from loading. Comparing with the admin panel configuration\nin Horizon, the Masakari dashboard looks a bit different. This change\nsynchronises the dashboard with the horizon admin dashboard, which\nprevents non-admin users from seeing it.\n\nChange-Id: I9eca8be60be937538dcd3f4d063de3d96b8f8ae4\n'}]",0,749976,f0d3131725363112c5ebb0cfa48450c6ede9ec1c,5,1,2,14826,,,0,"Hide dashboard for non-admins

The current dashboard configuration allows non-admin users to see the
Masakari dashboard, although when they navigate to a panel the policy
prevents it from loading. Comparing with the admin panel configuration
in Horizon, the Masakari dashboard looks a bit different. This change
synchronises the dashboard with the horizon admin dashboard, which
prevents non-admin users from seeing it.

Change-Id: I9eca8be60be937538dcd3f4d063de3d96b8f8ae4
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/76/749976/2 && git format-patch -1 --stdout FETCH_HEAD,['masakaridashboard/dashboard.py'],1,59a478d5b841c4ad97cfec0ec5670cc3e0b27461,,"from openstack_auth import utilsfrom horizon.utils import settings as utils_settings if utils_settings.import_setting(""POLICY_CHECK_FUNCTION""): policy_rules = (('instance-ha', 'context_is_admin'),) else: permissions = (tuple(utils.get_admin_permissions()),)"," policy_rules = (('instance-ha', 'context_is_admin'),)",6,1
openstack%2Fplacement~stable%2Fussuri~I129fe0098944f14fc0d9ef6228eb26cc38050237,openstack/placement,stable/ussuri,I129fe0098944f14fc0d9ef6228eb26cc38050237,Add DEBUG logs to help troubleshoot no allocation candidates,MERGED,2020-08-19 21:26:09.000000000,2020-09-04 15:55:17.000000000,2020-09-04 15:53:26.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 21:26:09.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/33591b83cbb7daf1a53c481e1d4c2797376dc888', 'message': ""Add DEBUG logs to help troubleshoot no allocation candidates\n\nWe currently have DEBUG logs that are emitted when at least one\nallocation candidate is successfully found (added in changes\nIf9ddb8a6d2f03392f3cc11136c4a0b026212b95b and\nI952d5229d6c40588cde6197683117a7e19127939) but we don't get much\nlogging in cases when no allocation candidates are found.\n\nThis adds DEBUG log messages for cases where we raise\nResourceProviderNotFound to aid in debugging scenarios where placement\nis unexpectedly returning no allocation candidates for a request.\n\nChange-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237\n(cherry picked from commit fa9ae57984ba1f839331174d9b3ef9658af5b775)\n""}]",0,747044,33591b83cbb7daf1a53c481e1d4c2797376dc888,8,2,1,4690,,,0,"Add DEBUG logs to help troubleshoot no allocation candidates

We currently have DEBUG logs that are emitted when at least one
allocation candidate is successfully found (added in changes
If9ddb8a6d2f03392f3cc11136c4a0b026212b95b and
I952d5229d6c40588cde6197683117a7e19127939) but we don't get much
logging in cases when no allocation candidates are found.

This adds DEBUG log messages for cases where we raise
ResourceProviderNotFound to aid in debugging scenarios where placement
is unexpectedly returning no allocation candidates for a request.

Change-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237
(cherry picked from commit fa9ae57984ba1f839331174d9b3ef9658af5b775)
",git fetch https://review.opendev.org/openstack/placement refs/changes/44/747044/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,33591b83cbb7daf1a53c481e1d4c2797376dc888,744569," LOG.debug('found no providers matching aggregates %s', self.member_of) rc_name = context.rc_cache.string_from_id(rc_id) LOG.debug('getting providers with %d %s', amount, rc_name) LOG.debug('found no providers with %d %s', amount, rc_name) required_ids = set(trait_obj.ids_from_names( forbidden_ids = set(trait_obj.ids_from_names( self._ctx, required_ids, forbidden_ids) LOG.debug('found no providers satisfying required traits: %s and ' 'forbidden traits: %s', required, forbidden)"," required = set(trait_obj.ids_from_names( forbidden = set(trait_obj.ids_from_names( self._ctx, required, forbidden)",10,3
openstack%2Fironic~master~Idb8d2ed94eca89bdf8204f5c9c66c4d5c0fa403b,openstack/ironic,master,Idb8d2ed94eca89bdf8204f5c9c66c4d5c0fa403b,Update deploy steps documentation,MERGED,2020-09-03 13:21:37.000000000,2020-09-04 15:48:34.000000000,2020-09-04 15:40:02.000000000,"[{'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 13:21:37.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'doc/source/contributor/deploy-steps.rst', 'doc/source/admin/deploy-steps.rst', 'doc/source/admin/node-deployment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/44cf63c23773615eb8f045b5f8e939238c010a6e', 'message': 'Update deploy steps documentation\n\nMostly links to the recently added IPA docs on in-band steps.\n\nChange-Id: Idb8d2ed94eca89bdf8204f5c9c66c4d5c0fa403b\nStory: #2006963\nTask: #37790\n'}]",0,749729,44cf63c23773615eb8f045b5f8e939238c010a6e,9,4,1,10239,,,0,"Update deploy steps documentation

Mostly links to the recently added IPA docs on in-band steps.

Change-Id: Idb8d2ed94eca89bdf8204f5c9c66c4d5c0fa403b
Story: #2006963
Task: #37790
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/749729/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'doc/source/contributor/deploy-steps.rst', 'doc/source/admin/deploy-steps.rst', 'doc/source/admin/node-deployment.rst']",4,44cf63c23773615eb8f045b5f8e939238c010a6e,story/2006963,"In-band steps ------------- More deploy steps can be provided by the ramdisk, see :ironic-python-agent-doc:`IPA hardware managers documentation <admin/hardware_managers.html>` for a listing. ",.. _node-deployment-deploy-steps: ,15,4
openstack%2Fironic-lib~stable%2Fvictoria~Id4769f5ae2029097ec9398cb18035cfefe88df54,openstack/ironic-lib,stable/victoria,Id4769f5ae2029097ec9398cb18035cfefe88df54,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-03 16:22:43.000000000,2020-09-04 15:48:22.000000000,2020-09-04 15:40:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:22:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e1b5e12cb1636178835d0d9137045e9afcf5ff1a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id4769f5ae2029097ec9398cb18035cfefe88df54\n'}]",0,749780,e1b5e12cb1636178835d0d9137045e9afcf5ff1a,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id4769f5ae2029097ec9398cb18035cfefe88df54
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/80/749780/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1b5e12cb1636178835d0d9137045e9afcf5ff1a,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fceilometer~master~Ib1c93bc61e6ad86a1ee2b6a5e583c23aefa094c5,openstack/ceilometer,master,Ib1c93bc61e6ad86a1ee2b6a5e583c23aefa094c5,maybe use word is better,MERGED,2020-08-26 01:40:07.000000000,2020-09-04 15:47:02.000000000,2020-09-04 15:44:24.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-26 01:40:07.000000000', 'files': ['ceilometer/polling/dynamic_pollster.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b2c2ab757bf029139b9c0024b8510e8fdc57122f', 'message': 'maybe use word is better\n\nChange-Id: Ib1c93bc61e6ad86a1ee2b6a5e583c23aefa094c5\n'}]",0,748064,b2c2ab757bf029139b9c0024b8510e8fdc57122f,14,3,1,32211,,,0,"maybe use word is better

Change-Id: Ib1c93bc61e6ad86a1ee2b6a5e583c23aefa094c5
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/64/748064/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/polling/dynamic_pollster.py'],1,b2c2ab757bf029139b9c0024b8510e8fdc57122f,," ""please recheck them. Used configurations are [%s]."" %"," ""please recheck them. Used configurations = [%s]."" %",1,1
openstack%2Fironic-lib~stable%2Fvictoria~I6b0d5e8589f954a1c9521ca55f14d76cfe997622,openstack/ironic-lib,stable/victoria,I6b0d5e8589f954a1c9521ca55f14d76cfe997622,Update .gitreview for stable/victoria,MERGED,2020-09-03 16:22:41.000000000,2020-09-04 15:45:09.000000000,2020-09-04 15:40:10.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:22:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/45a9a6a5cacb19b381cdc726e299736ba3bbda8c', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I6b0d5e8589f954a1c9521ca55f14d76cfe997622\n'}]",0,749779,45a9a6a5cacb19b381cdc726e299736ba3bbda8c,8,3,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I6b0d5e8589f954a1c9521ca55f14d76cfe997622
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/79/749779/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,45a9a6a5cacb19b381cdc726e299736ba3bbda8c,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fironic~master~Ib9fa060432b2a7a68101218136c49272c8271e24,openstack/ironic,master,Ib9fa060432b2a7a68101218136c49272c8271e24,Add missing log for clean failed,MERGED,2020-09-04 03:43:34.000000000,2020-09-04 15:44:52.000000000,2020-09-04 15:39:59.000000000,"[{'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 03:43:34.000000000', 'files': ['ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/95f569adec11c5e3dbe00bb7a754e56539ba0098', 'message': 'Add missing log for clean failed\n\nThe clean error only logged when tear down cleaning is also failed,\notherwise it just goes to last_error and easily gets overwritten.\n\nChange-Id: Ib9fa060432b2a7a68101218136c49272c8271e24\n'}]",0,749861,95f569adec11c5e3dbe00bb7a754e56539ba0098,10,5,1,24828,,,0,"Add missing log for clean failed

The clean error only logged when tear down cleaning is also failed,
otherwise it just goes to last_error and easily gets overwritten.

Change-Id: Ib9fa060432b2a7a68101218136c49272c8271e24
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/749861/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,95f569adec11c5e3dbe00bb7a754e56539ba0098,clean-log, else: LOG.error(msg),,2,0
openstack%2Fironic-lib~master~I4b15e97a751deb0d70187ee4e5469c4b42881710,openstack/ironic-lib,master,I4b15e97a751deb0d70187ee4e5469c4b42881710,Add Python3 wallaby unit tests,MERGED,2020-09-03 16:22:46.000000000,2020-09-04 15:44:20.000000000,2020-09-04 15:40:09.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:22:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/715e5c29c5b013281bfb24d6980d7f44253410a6', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I4b15e97a751deb0d70187ee4e5469c4b42881710\n'}]",0,749781,715e5c29c5b013281bfb24d6980d7f44253410a6,7,2,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I4b15e97a751deb0d70187ee4e5469c4b42881710
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/81/749781/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,715e5c29c5b013281bfb24d6980d7f44253410a6,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Ftempest~master~I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1,openstack/tempest,master,I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1,Need to have stable tempest scenario manager,MERGED,2020-04-30 10:35:18.000000000,2020-09-04 15:22:14.000000000,2020-09-04 15:19:43.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-04-30 10:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47c6fc0042f0d44fddf8eb3bf53bf0202d6e4916', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n4. Add docstring about method usage and parameter.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 2, 'created': '2020-05-05 13:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/164fdae22733da106a9aa421e72be7c02cdefbd5', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n4. Add docstring about method usage and parameter.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 3, 'created': '2020-05-11 07:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f2a98740751e6afca0f782f17e6af33331a470dc', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n4. Add docstring about method usage and parameter.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 4, 'created': '2020-05-18 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c6b819f392a87ef4b06d6663cbb05dc7d78f123', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n4. Add docstring about method usage and parameter.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 5, 'created': '2020-07-15 11:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/054e1925c2ee2373522fe4ffdc456d41dbbaed2a', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 6, 'created': '2020-07-15 13:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4184be3c180f33de79b4469579a8ec90ed479e22', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 7, 'created': '2020-07-27 11:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d389a325a749480b07a1f10549069cb710e395e', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 8, 'created': '2020-07-30 13:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2aa18d974ac30cd736284a54bd21be28925be335', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 9, 'created': '2020-08-07 10:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20c6d924386f98baa5c2ccd7b25bbef3f6177a94', 'message': '[WIP] Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 10, 'created': '2020-08-13 13:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/61cfe4e4d29575366869160c91469ac80a48078a', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 11, 'created': '2020-08-14 08:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8da2d8fb6299558e5d10c958aebf8b1cfc2e41a1', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 12, 'created': '2020-08-17 07:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be4b958c07362a3f45a051617cf8d1e665f5062c', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 13, 'created': '2020-08-17 13:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0cdbf55a150304f0fe6868db0898e3bc62adf38f', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nDepends-On: I33e6abd416bbe5964a279f7969615ffd2974b4dd\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 14, 'created': '2020-08-18 06:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9102351016b50a15d5a1f55b44f0df1fb26e947', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 15, 'created': '2020-08-24 14:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b77434c980cb547f56dd559b6df4d15079a826f', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 16, 'created': '2020-08-25 11:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8d7ca7e95dda83263e446eb56bc8fa694923174', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 17, 'created': '2020-08-26 13:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef0d95aa43cbd11abbaecc2ab193c306ea3bb6e5', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 18, 'created': '2020-08-27 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/447260c115a97084a7722abc9b54d150ed4a7404', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 19, 'created': '2020-08-28 07:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6cbccb9e664de7ef0bb702794ef48773d75980f7', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}, {'number': 20, 'created': '2020-09-03 10:35:51.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_network_v6.py', 'tempest/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c84f3ee2eec4216cfa659d5ac21225f08eaef09', 'message': 'Need to have stable tempest scenario manager\n\nThis patch addresses following facts:\n1. common manager methods among plugins should be\n   defined in Tempest.\n2. methods should be consistent with names and\n   parameters.\n3. Add docstring about method usage and parameter.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1\n'}]",99,724631,0c84f3ee2eec4216cfa659d5ac21225f08eaef09,86,13,20,30742,,,0,"Need to have stable tempest scenario manager

This patch addresses following facts:
1. common manager methods among plugins should be
   defined in Tempest.
2. methods should be consistent with names and
   parameters.
3. Add docstring about method usage and parameter.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I191c8861c9ec29b78c9c8ad12ff2ddf3ffbf4db1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/724631/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/manager.py']",2,47c6fc0042f0d44fddf8eb3bf53bf0202d6e4916,bp/tempest-scenario-manager-stable,,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest import clients as tempest_clients from tempest import config from tempest.lib.services import clients CONF = config.CONF LOG = logging.getLogger(__name__) class Manager(clients.ServiceClients): """"""Service client manager class for backward compatibility The former manager.Manager is not a stable interface in Tempest, nonetheless it is consumed by a number of plugins already. This class exists to provide some grace time for the move to tempest.lib. """""" def __init__(self, credentials, scope='project'): msg = (""tempest.manager.Manager is not a stable interface and as such "" ""it should not imported directly. It will be removed as "" ""soon as the client manager becomes available in tempest.lib."") LOG.warning(msg) dscv = CONF.identity.disable_ssl_certificate_validation _, uri = tempest_clients.get_auth_provider_class(credentials) super(Manager, self).__init__( credentials=credentials, scope=scope, identity_uri=uri, disable_ssl_certificate_validation=dscv, ca_certs=CONF.identity.ca_certificates_file, trace_requests=CONF.debug.trace_requests) def get_auth_provider(credentials, pre_auth=False, scope='project'): """"""Shim to get_auth_provider in clients.py get_auth_provider used to be hosted in this module, but it has been moved to clients.py now as a more permanent location. This module will be removed eventually, and this shim is only maintained for the benefit of plugins already consuming this interface. """""" msg = (""tempest.manager.get_auth_provider is not a stable interface and "" ""as such it should not imported directly. It will be removed as "" ""the client manager becomes available in tempest.lib."") LOG.warning(msg) return tempest_clients.get_auth_provider(credentials=credentials, pre_auth=pre_auth, scope=scope) ",10,63
openstack%2Fos-brick~stable%2Fstein~I6f01a178616b74ed9a86876ca46e7e46eb360518,openstack/os-brick,stable/stein,I6f01a178616b74ed9a86876ca46e7e46eb360518,ScaleIO: Connection info backward compatibility,MERGED,2020-09-03 21:37:58.000000000,2020-09-04 15:13:26.000000000,2020-09-04 15:11:47.000000000,"[{'_account_id': 1736}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-09-03 21:37:58.000000000', 'files': ['releasenotes/notes/bug-1823200-scaleio-upgrade-3e83b5c9dd148714.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/173601116eb5e00274b10898b56b37dc42d685ac', 'message': 'ScaleIO: Connection info backward compatibility\n\nWhen we fixed bug 1823200 in Change-ID\nIab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector\nincompatible with the old connection properties dictionary as it only\nsupported the new \'config_group\' and \'failed_over\' parameters to get the\npassword.\n\nThis is a problem in any system that is upgraded and has attachments to\nthe array, because the connection properties of those volumes will not\ncontain the new fields and detaching them will result in error\n""KeyError: \'config_group\'"".\n\nThis patch adds compatibility code to support the old connection\nproperties format so we can detach those volumes.\n\nThis patch includes the release note from Change\nIb98043358d51426ca650104ad59a7e09911ee8e9\n\nRelated-Bug: #1823200\nChange-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518\n(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)\n(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)\nConflicts:\n\tos_brick/initiator/connectors/scaleio.py\n(cherry picked from commit db95b001e2fe53a71ec0b881407ecdf7c3db32fc)\n'}]",0,749833,173601116eb5e00274b10898b56b37dc42d685ac,14,9,1,5314,,,0,"ScaleIO: Connection info backward compatibility

When we fixed bug 1823200 in Change-ID
Iab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector
incompatible with the old connection properties dictionary as it only
supported the new 'config_group' and 'failed_over' parameters to get the
password.

This is a problem in any system that is upgraded and has attachments to
the array, because the connection properties of those volumes will not
contain the new fields and detaching them will result in error
""KeyError: 'config_group'"".

This patch adds compatibility code to support the old connection
properties format so we can detach those volumes.

This patch includes the release note from Change
Ib98043358d51426ca650104ad59a7e09911ee8e9

Related-Bug: #1823200
Change-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518
(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)
(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)
Conflicts:
	os_brick/initiator/connectors/scaleio.py
(cherry picked from commit db95b001e2fe53a71ec0b881407ecdf7c3db32fc)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/33/749833/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1823200-scaleio-upgrade-3e83b5c9dd148714.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py']",3,173601116eb5e00274b10898b56b37dc42d685ac,fix-bug-1823200-again," def test_connect_volume_old_connection_properties(self): """"""Successful connect to volume"""""" connection_properties = { 'hostIP': test_connector.MY_IP, 'serverIP': test_connector.MY_IP, 'scaleIO_volname': self.vol['name'], 'scaleIO_volume_id': self.vol['provider_id'], 'serverPort': 443, 'serverUsername': 'test', 'serverPassword': 'fake', 'serverToken': 'fake_token', 'iopsLimit': None, 'bandwidthLimit': None } self.connector.connect_volume(connection_properties) self.get_guid_mock.assert_called_once_with( self.connector.GET_GUID_OP_CODE) self.get_password_mock.assert_not_called() ",,43,6
openstack%2Fcharm-neutron-gateway~master~I49603c22d8085aabd6085058e4d4eb9c74e84a20,openstack/charm-neutron-gateway,master,I49603c22d8085aabd6085058e4d4eb9c74e84a20,Add keepalived-healthcheck-interval config option,MERGED,2020-08-08 14:40:08.000000000,2020-09-04 15:07:56.000000000,2020-09-04 15:07:56.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-08 14:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/8bb81f733bc4dc432df3019f77c02da536778995', 'message': 'Add keepalived-healthcheck config option\n\nThis is to allow disabling keepalived healthcheck\nwhich defaults to True.\n\nChange-Id: I49603c22d8085aabd6085058e4d4eb9c74e84a20\nCloses-Bug: #1890900\n'}, {'number': 2, 'created': '2020-08-10 01:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/c28dd6ab2c22317910d6b2570783fe25effc6d12', 'message': 'Add keepalived-healthcheck config option\n\nThis is to allow disabling keepalived healthcheck\nwhich defaults to True.\n\nChange-Id: I49603c22d8085aabd6085058e4d4eb9c74e84a20\nCloses-Bug: #1890900\n'}, {'number': 3, 'created': '2020-08-10 08:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/d6ff99db1f7d02c3b791560bf43880cbc44a9155', 'message': 'Add keepalived-healthcheck-interval config option\n\nDefaults to 30s (i.e. enabled) but also allows disabling\nhealthchecks by setting to 0.\n\nChange-Id: I49603c22d8085aabd6085058e4d4eb9c74e84a20\nCloses-Bug: #1890900\n'}, {'number': 4, 'created': '2020-08-20 12:24:06.000000000', 'files': ['hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'templates/queens/l3_agent.ini', 'config.yaml', 'templates/newton/l3_agent.ini', 'templates/rocky/l3_agent.ini', 'templates/stein/l3_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/8d71c414811a78714e79bb0743975458aa5cd2a2', 'message': 'Add keepalived-healthcheck-interval config option\n\nDefaults to 30s (i.e. enabled) but also allows disabling\nhealthchecks by setting to 0.\n\nChange-Id: I49603c22d8085aabd6085058e4d4eb9c74e84a20\nCloses-Bug: #1890900\n'}]",0,745441,8d71c414811a78714e79bb0743975458aa5cd2a2,30,5,4,6737,,,0,"Add keepalived-healthcheck-interval config option

Defaults to 30s (i.e. enabled) but also allows disabling
healthchecks by setting to 0.

Change-Id: I49603c22d8085aabd6085058e4d4eb9c74e84a20
Closes-Bug: #1890900
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/41/745441/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_contexts.py', 'templates/queens/l3_agent.ini', 'config.yaml', 'templates/newton/l3_agent.ini', 'templates/rocky/l3_agent.ini', 'templates/stein/l3_agent.ini']",6,8bb81f733bc4dc432df3019f77c02da536778995,bug/1890900,{% if use_l3ha and keepalived_healthcheck -%},{% if use_l3ha -%},13,4
openstack%2Fcharm-neutron-openvswitch~master~I5bb7d362f0d957237e24f79f1f82583661bed470,openstack/charm-neutron-openvswitch,master,I5bb7d362f0d957237e24f79f1f82583661bed470,Add keepalived-healthcheck-interval config option,MERGED,2020-08-08 14:40:07.000000000,2020-09-04 15:05:23.000000000,2020-09-04 15:05:23.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-08 14:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/c55c5bb3b432f5a973b996f8cdaad7b46467df89', 'message': 'Add keepalived-healthcheck config option\n\nThis is to allow disabling keepalived healthcheck\nwhich defaults to True.\n\nChange-Id: I5bb7d362f0d957237e24f79f1f82583661bed470\nCloses-Bug: #1890900\n'}, {'number': 2, 'created': '2020-08-10 01:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/64c0602514cbf051845f7b09f0548037635f8934', 'message': 'Add keepalived-healthcheck config option\n\nThis is to allow disabling keepalived healthcheck\nwhich defaults to True.\n\nChange-Id: I5bb7d362f0d957237e24f79f1f82583661bed470\nCloses-Bug: #1890900\n'}, {'number': 3, 'created': '2020-08-10 08:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/e1fa78e1dcd981f12a55d27547be9e0d7b08a9d1', 'message': 'Add keepalived-healthcheck-interval config option\n\nDefaults to 30s (i.e. enabled) but also allows disabling\nhealthchecks by setting to 0.\n\nChange-Id: I5bb7d362f0d957237e24f79f1f82583661bed470\nCloses-Bug: #1890900\n'}, {'number': 4, 'created': '2020-08-20 12:21:51.000000000', 'files': ['templates/mitaka/l3_agent.ini', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py', 'config.yaml', 'templates/rocky/l3_agent.ini', 'templates/stein/l3_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/5d83c2c702d9bd720286f8da4329aa36417228a8', 'message': 'Add keepalived-healthcheck-interval config option\n\nDefaults to 30s (i.e. enabled) but also allows disabling\nhealthchecks by setting to 0.\n\nChange-Id: I5bb7d362f0d957237e24f79f1f82583661bed470\nCloses-Bug: #1890900\n'}]",0,745440,5d83c2c702d9bd720286f8da4329aa36417228a8,30,5,4,6737,,,0,"Add keepalived-healthcheck-interval config option

Defaults to 30s (i.e. enabled) but also allows disabling
healthchecks by setting to 0.

Change-Id: I5bb7d362f0d957237e24f79f1f82583661bed470
Closes-Bug: #1890900
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/40/745440/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mitaka/l3_agent.ini', 'hooks/neutron_ovs_context.py', 'config.yaml', 'templates/rocky/l3_agent.ini', 'templates/stein/l3_agent.ini']",5,c55c5bb3b432f5a973b996f8cdaad7b46467df89,bug/1890900,{% if use_l3ha and agent_mode == 'dvr_snat' and keepalived_healthcheck -%} ha_vrrp_health_check_interval = 30 {% endif %} ,,16,2
openstack%2Fnova~master~Ifa360b3ab2873fd94afdce1faddf61ff9d06163f,openstack/nova,master,Ifa360b3ab2873fd94afdce1faddf61ff9d06163f,"Revert ""Handle Neutron errors in _post_live_migration()""",MERGED,2020-08-21 16:52:48.000000000,2020-09-04 15:00:34.000000000,2020-09-04 14:57:28.000000000,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-21 16:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57aab9af43c377f1bbf699b4dcba360a9a3217ed', 'message': 'Revert ""Handle Neutron errors in _post_live_migration()""\n\nThis reverts commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618.\n\nThere\'s a lot of context here, so strap in for a long read.\n\nThere are two unrelated bugs, but they intersect in their fixes.\n\nFirst, a bit of history. In Rocky, as part of the\nbp/neutron-new-port-binding-api blueprint, we started using Neutron\'s\nextended port binding API during live migration [1]. In short, that\nAPI allows a port to be bound to two hosts (source and destination),\nwith the binding being active on only one. Not all versions and\nconfigurations of Neutron support the extended port binding API, so\nNova needed a sentinel to determine whether the extened port binding\nAPI was in use during a live migration. The migrate_data.vifs OVO\nfield was that sentinel [2]. Its presence indicated that Neutron\'s\nextended port binding API was being used.\n\nWhen SRIOV live migration was added in Train [3], it started\nunconditionally setting migrate_data.vifs [4]. In cases where Neutron\ndid not support the extended port binding API, this resulted in\nincorrect information in migrate_data.vifs. The source vif information\nwas correct, but, without the ability in Neutron to have port binding\non both the source and the destination, the destination vif\ninformation was missing. This causes libvirt\'s\n_pre_live_migration_plug_vifs() method (introduced in the same\nbp/neutron-new-port-binding-api series as [1]) to explode\nwhen it attempts to get the destination vifs [5]. This is bug 1888395,\nand is being fixed in [6] by no longer unconditionally setting\nmigrate_data.vifs, and only setting it if Neutron supports the\nextended port binding API.\n\nHow is any of this relevant to the fix for bug 1879787, which is\nwhat\'s being reverted here? First, come context refresher.\n\nIn bug 1879787, the call to network_api.get_instance_nw_info() in\n_post_live_migration() on the source compute manager eventually calls\nout to the Neutron REST API. If this fails, the exception is\nunhandled, and the migrating instance - which is fully running on the\ndestination at this point - will never be updated in the database.\nThis update normally happens later in\npost_live_migration_at_destination().\n\nThe network_info variable obtained from get_instance_nw_info() is used\nfor 2 things: notifications - which aren\'t critical - and unplugging\nthe instance\'s vifs on the source - which is very important!\n\nThe latter is done in a call to\ndriver.post_live_migration_at_source(), which is passed unplug_nw_info\nto tell it which vifs to unplug. unplug_nw_info contains either\nnetwork_info, or is constructed from migrate_data.vifs if\nmigrate_data.vifs exists. Based on [4], migrate_data.vifs was assumed\nto always exist. When [6] merged, this will no longer be the case.\nThus, a different fix for bug 1879787 is needed, and the previously\nmerged one needs to be reverted.\n\n[1] https://review.opendev.org/#/c/522537/\n[2] https://review.opendev.org/#/c/522537/35/nova/conductor/tasks/live_migrate.py@255\n\n[3] https://review.opendev.org/#/c/620115/\n[4] https://review.opendev.org/#/c/620115/35/nova/compute/manager.py@6227\n\n[5] https://review.opendev.org/#/c/566933/7/nova/virt/libvirt/driver.py@7577\n\n[6] https://review.opendev.org/#/c/742180/\n\nmigrate_data.vifs contains source and dest vif information. Until [1]\nmerged in Train, it was only set if Neutron supported the\nbinding-extended API [2], as that\'s the only case where we need source\nand dest vif information to udpate XML during live migration [3]\n\n[1] https://review.opendev.org/#/c/620115/35/nova/compute/manager.py@6227\n[2] https://github.com/openstack/nova/blob/stable/stein/nova/conductor/tasks/live_migrate.py#L277-L284\n[3] https://github.com/openstack/nova/blob/stable/stein/nova/virt/libvirt/driver.py#L7748-L7775\n\nChange-Id: Ifa360b3ab2873fd94afdce1faddf61ff9d06163f\n'}, {'number': 2, 'created': '2020-08-21 16:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/809fe7f4f58c4af6cad1eb6b2b0626a117139a53', 'message': 'Revert ""Handle Neutron errors in _post_live_migration()""\n\nThis reverts commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618.\n\nThere\'s a lot of context here, so strap in for a long read.\n\nThere are two unrelated bugs, but they intersect in their fixes.\n\nFirst, a bit of history. In Rocky, as part of the\nbp/neutron-new-port-binding-api blueprint, we started using Neutron\'s\nextended port binding API during live migration [1]. In short, that\nAPI allows a port to be bound to two hosts (source and destination),\nwith the binding being active on only one. Not all versions and\nconfigurations of Neutron support the extended port binding API, so\nNova needed a sentinel to determine whether the extened port binding\nAPI was in use during a live migration. The migrate_data.vifs OVO\nfield was that sentinel [2]. Its presence indicated that Neutron\'s\nextended port binding API was being used.\n\nWhen SRIOV live migration was added in Train [3], it started\nunconditionally setting migrate_data.vifs [4]. In cases where Neutron\ndid not support the extended port binding API, this resulted in\nincorrect information in migrate_data.vifs. The source vif information\nwas correct, but, without the ability in Neutron to have port binding\non both the source and the destination, the destination vif\ninformation was missing. This causes libvirt\'s\n_pre_live_migration_plug_vifs() method (introduced in the same\nbp/neutron-new-port-binding-api series as [1]) to explode\nwhen it attempts to get the destination vifs [5]. This is bug 1888395,\nand is being fixed in [6] by no longer unconditionally setting\nmigrate_data.vifs, and only setting it if Neutron supports the\nextended port binding API.\n\nHow is any of this relevant to the fix for bug 1879787, which is\nwhat\'s being reverted here? First, come context refresher.\n\nIn bug 1879787, the call to network_api.get_instance_nw_info() in\n_post_live_migration() on the source compute manager eventually calls\nout to the Neutron REST API. If this fails, the exception is\nunhandled, and the migrating instance - which is fully running on the\ndestination at this point - will never be updated in the database.\nThis update normally happens later in\npost_live_migration_at_destination().\n\nThe network_info variable obtained from get_instance_nw_info() is used\nfor 2 things: notifications - which aren\'t critical - and unplugging\nthe instance\'s vifs on the source - which is very important!\n\nThe latter is done in a call to\ndriver.post_live_migration_at_source(), which is passed unplug_nw_info\nto tell it which vifs to unplug. unplug_nw_info contains either\nnetwork_info, or is constructed from migrate_data.vifs if\nmigrate_data.vifs exists. Based on [4], migrate_data.vifs was assumed\nto always exist. When [6] merges, this will no longer be the case.\nThus, a different fix for bug 1879787 is needed, and the previously\nmerged one needs to be reverted.\n\n[1] https://review.opendev.org/#/c/522537/\n[2] https://review.opendev.org/#/c/522537/35/nova/conductor/tasks/live_migrate.py@255\n\n[3] https://review.opendev.org/#/c/620115/\n[4] https://review.opendev.org/#/c/620115/35/nova/compute/manager.py@6227\n\n[5] https://review.opendev.org/#/c/566933/7/nova/virt/libvirt/driver.py@7577\n\n[6] https://review.opendev.org/#/c/742180/\n\nChange-Id: Ifa360b3ab2873fd94afdce1faddf61ff9d06163f\n'}, {'number': 3, 'created': '2020-09-01 21:09:28.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/64b4271279035289c5baa94b50d37c0a7bfd3984', 'message': 'Revert ""Handle Neutron errors in _post_live_migration()""\n\nThis reverts commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618.\n\nThere\'s a lot of context here, so strap in for a long read.\n\nThere are two unrelated bugs, but they intersect in their fixes.\n\nFirst, a bit of history. In Rocky, as part of the\nbp/neutron-new-port-binding-api blueprint, we started using Neutron\'s\nextended port binding API during live migration [1]. In short, that\nAPI allows a port to be bound to two hosts (source and destination),\nwith the binding being active on only one. Not all versions and\nconfigurations of Neutron support the extended port binding API, so\nNova needed a sentinel to determine whether the extended port binding\nAPI was in use during a live migration. The `migrate_data.vifs` OVO\nfield was that sentinel [2]. Its presence indicated that Neutron\'s\nextended port binding API was being used.\n\nWhen SRIOV live migration was added in Train [3], it started\nunconditionally setting `migrate_data.vifs` [4]. In cases where\nNeutron did not support the extended port binding API, this resulted\nin incorrect information in `migrate_data.vifs`. The source vif\ninformation was correct, but, without the ability in Neutron to have\nport binding on both the source and the destination, the destination\nvif information was missing. This causes libvirt\'s\n_pre_live_migration_plug_vifs() method (introduced in the same\nbp/neutron-new-port-binding-api series as [1]) to explode when it\nattempts to get the destination vifs [5]. This is bug 1888395, and is\nbeing fixed in [6] by no longer unconditionally setting\n`migrate_data.vifs`, and only setting it if Neutron supports the\nextended port binding API.\n\nHow is any of this relevant to the fix for bug 1879787, which is\nwhat\'s being reverted here? First, some context refresher.\n\nIn bug 1879787, the call to network_api.get_instance_nw_info() in\n_post_live_migration() on the source compute manager eventually calls\nout to the Neutron REST API. If this fails, the exception is\nunhandled, and the migrating instance - which is fully running on the\ndestination at this point - will never be updated in the database.\nThis update normally happens later in\npost_live_migration_at_destination().\n\nThe network_info variable obtained from get_instance_nw_info() is used\nfor two things: notifications - which aren\'t critical - and unplugging\nthe instance\'s vifs on the source - which is very important!\n\nThe latter is done in a call to\ndriver.post_live_migration_at_source(), which is passed unplug_nw_info\nto tell it which vifs to unplug. unplug_nw_info contains either\nnetwork_info, or is constructed from `migrate_data.vifs` if\n`migrate_data.vifs` exists. Based on [4], `migrate_data.vifs` was\nassumed to always exist. When [6] merges, this will no longer be the\ncase.  Thus, a different fix for bug 1879787 is needed, and the\npreviously merged one needs to be reverted.\n\n[1] https://review.opendev.org/#/c/522537/\n[2] https://review.opendev.org/#/c/522537/35/nova/conductor/tasks/live_migrate.py@255\n\n[3] https://review.opendev.org/#/c/620115/\n[4] https://review.opendev.org/#/c/620115/35/nova/compute/manager.py@6227\n\n[5] https://review.opendev.org/#/c/566933/7/nova/virt/libvirt/driver.py@7577\n\n[6] https://review.opendev.org/#/c/742180/\n\nChange-Id: Ifa360b3ab2873fd94afdce1faddf61ff9d06163f\n'}]",9,747443,64b4271279035289c5baa94b50d37c0a7bfd3984,75,13,3,8864,,,0,"Revert ""Handle Neutron errors in _post_live_migration()""

This reverts commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618.

There's a lot of context here, so strap in for a long read.

There are two unrelated bugs, but they intersect in their fixes.

First, a bit of history. In Rocky, as part of the
bp/neutron-new-port-binding-api blueprint, we started using Neutron's
extended port binding API during live migration [1]. In short, that
API allows a port to be bound to two hosts (source and destination),
with the binding being active on only one. Not all versions and
configurations of Neutron support the extended port binding API, so
Nova needed a sentinel to determine whether the extended port binding
API was in use during a live migration. The `migrate_data.vifs` OVO
field was that sentinel [2]. Its presence indicated that Neutron's
extended port binding API was being used.

When SRIOV live migration was added in Train [3], it started
unconditionally setting `migrate_data.vifs` [4]. In cases where
Neutron did not support the extended port binding API, this resulted
in incorrect information in `migrate_data.vifs`. The source vif
information was correct, but, without the ability in Neutron to have
port binding on both the source and the destination, the destination
vif information was missing. This causes libvirt's
_pre_live_migration_plug_vifs() method (introduced in the same
bp/neutron-new-port-binding-api series as [1]) to explode when it
attempts to get the destination vifs [5]. This is bug 1888395, and is
being fixed in [6] by no longer unconditionally setting
`migrate_data.vifs`, and only setting it if Neutron supports the
extended port binding API.

How is any of this relevant to the fix for bug 1879787, which is
what's being reverted here? First, some context refresher.

In bug 1879787, the call to network_api.get_instance_nw_info() in
_post_live_migration() on the source compute manager eventually calls
out to the Neutron REST API. If this fails, the exception is
unhandled, and the migrating instance - which is fully running on the
destination at this point - will never be updated in the database.
This update normally happens later in
post_live_migration_at_destination().

The network_info variable obtained from get_instance_nw_info() is used
for two things: notifications - which aren't critical - and unplugging
the instance's vifs on the source - which is very important!

The latter is done in a call to
driver.post_live_migration_at_source(), which is passed unplug_nw_info
to tell it which vifs to unplug. unplug_nw_info contains either
network_info, or is constructed from `migrate_data.vifs` if
`migrate_data.vifs` exists. Based on [4], `migrate_data.vifs` was
assumed to always exist. When [6] merges, this will no longer be the
case.  Thus, a different fix for bug 1879787 is needed, and the
previously merged one needs to be reverted.

[1] https://review.opendev.org/#/c/522537/
[2] https://review.opendev.org/#/c/522537/35/nova/conductor/tasks/live_migrate.py@255

[3] https://review.opendev.org/#/c/620115/
[4] https://review.opendev.org/#/c/620115/35/nova/compute/manager.py@6227

[5] https://review.opendev.org/#/c/566933/7/nova/virt/libvirt/driver.py@7577

[6] https://review.opendev.org/#/c/742180/

Change-Id: Ifa360b3ab2873fd94afdce1faddf61ff9d06163f
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/747443/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py']",2,57aab9af43c377f1bbf699b4dcba360a9a3217ed,bug/1879787," network_info = self.network_api.get_instance_nw_info(ctxt, instance)"," network_info = None try: network_info = self.network_api.get_instance_nw_info( ctxt, instance) except Exception as e: LOG.info('Unable to obtain network info: %s. Network info in ' 'live.migration._post.start notification will be ' 'omitted.', e, instance=instance)",7,10
openstack%2Fcharm-glance~master~I6b953ceff5f681ecd0aa75faded3e3d1c8c6647b,openstack/charm-glance,master,I6b953ceff5f681ecd0aa75faded3e3d1c8c6647b,Add test using erasure coded pools,MERGED,2020-09-01 07:20:26.000000000,2020-09-04 14:35:37.000000000,2020-09-04 14:35:37.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 07:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1da33f8523d8e9631c464bd9ed8fdfbd189677c3', 'message': 'Add test using erasure coded pools\n\nChange-Id: I6b953ceff5f681ecd0aa75faded3e3d1c8c6647b\n'}, {'number': 2, 'created': '2020-09-01 14:14:27.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt', 'tests/bundles/focal-ussuri-ec.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/99baa4ad006b75cf00464255eb4044a9f641aa0e', 'message': 'Add test using erasure coded pools\n\nChange-Id: I6b953ceff5f681ecd0aa75faded3e3d1c8c6647b\n'}]",0,749192,99baa4ad006b75cf00464255eb4044a9f641aa0e,18,4,2,12549,,,0,"Add test using erasure coded pools

Change-Id: I6b953ceff5f681ecd0aa75faded3e3d1c8c6647b
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/92/749192/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-ussuri-ec.yaml']",2,1da33f8523d8e9631c464bd9ed8fdfbd189677c3,add-ec-test,variables: openstack-origin: &openstack-origin distro series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '3' - '4' - '5' - '6' - '7' - '8' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '9' - '10' - '11' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '12' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '13' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 ec-profile-plugin: jerasure to: - '14' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' ,,127,1
openstack%2Ftripleo-ansible~stable%2Fussuri~If836759020bcaeb0d3af47f2af7f98ff2150b606,openstack/tripleo-ansible,stable/ussuri,If836759020bcaeb0d3af47f2af7f98ff2150b606,Stop relying on future mtime in tripleo_nova_image_cache,MERGED,2020-09-02 18:11:35.000000000,2020-09-04 14:31:49.000000000,2020-09-04 14:31:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-02 18:11:35.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_image_cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4757aa350017b1714d24517eeb2e92320ead5ae4', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n(cherry picked from commit 359ef43f944618ddcd2ae07c7d321a4d53cb9015)\n""}]",0,749567,4757aa350017b1714d24517eeb2e92320ead5ae4,12,6,1,23811,,,0,"Stop relying on future mtime in tripleo_nova_image_cache

The tripleo_nova_image_cache role was relying on a future mtime to convince
nova image cleanup logic to skip a specific image that we want to pre-cache.
This works well on nodes that are not currently hosting an instance of the
image, however if there is an instance using it then nova will reset the mtime
every 40 minutes (by default).

As a result it's not possible to provide fine grained control of the caching.
We can just ensure the image exists on the host with an mtime of now.
It should remain cache for at least remove_unused_original_minimum_age_seconds
from nova.conf (default 86400).

Change-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606
(cherry picked from commit 359ef43f944618ddcd2ae07c7d321a4d53cb9015)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/749567/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_image_cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py']",5,4757aa350017b1714d24517eeb2e92320ead5ae4,nova_cache,"- name: Cache image if not exists_in_cache: if not exists_in_glance: module.fail_json( msg=""Image not found in glance: %s"" % image_id) md5 = hashlib.md5() if prefetched_path: result['actions'].append({ 'name': 'Verify pre-fetched image checksum' }) with open(prefetched_path, 'rb') as prefetched_image_file: while True: chunk = prefetched_image_file.read(chunk_size) if not chunk: break md5.update(chunk) prefetched_checksum = md5.hexdigest() if prefetched_checksum == image.checksum: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(prefetched_path, 42436, 42436) os.rename(prefetched_path, cache_file) result['changed'] = True else: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) if not scp_continue: module.fail_json( msg=""Pre-fetched image checksum failed"") # Ignore it and download direct from glance. # As we did not create it we should not remove it. prefetched_path = '' if not prefetched_path: with tempfile.NamedTemporaryFile( 'wb', dir=cache_dir, delete=False) as temp_cache_file: try: md5 = hashlib.md5() image_stream = cloud.image.download_image( image, stream=True ) try: for chunk in image_stream.iter_content( chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() download_checksum = md5.hexdigest() if download_checksum != image.checksum: 'result': False, module.fail_json( msg=""Image data does not match checksum"") result['actions'].append({ 'name': 'Verify downloaded image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': download_checksum }) # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['changed'] = True finally: try: os.unlink(temp_cache_file.name) except Exception: pass # Always set the mtime to now but don't report this as a change # as this is constantly refreshed by nova (every 40mins by default) # while an instance on the host is using the image now = time.time() os.utime(cache_file, (now, now)) result['mtime'] = now"," ttl: description: - Ensure the image remains cached for at least ttl days default: 7 state: description: - Whether the image be present in cache or expired (nova should delete it later if it is no longer used) choices: [present, expired] default: present- name: Cache image for at least 2 weeks ttl: 14 - name: Allow nova to cleanup this image from cache tripleo_nova_image_cache: id: ec151bd1-aab4-413c-b577-ced089e7d3f8 state: expired ttl: 14def ttl_to_ts(ttl_days): """"""Return a timestamp at midnight UTC ttl_days in the future"""""" epoch = datetime.datetime.utcfromtimestamp(0) midnight_today = datetime.datetime.utcnow().replace( hour=0, minute=0, second=0, microsecond=0) expiry = midnight_today + datetime.timedelta(days=ttl_days+1) return (expiry - epoch).total_seconds() ttl=dict(default=7, type='int', min=1), state=dict(default='present', choices=['expired', 'present']), ttl_days = module.params['ttl'] if module.params['state'] == 'present': if not exists_in_cache: if not exists_in_glance: module.fail_json( msg=""Image not found in glance: %s"" % image_id) md5 = hashlib.md5() if prefetched_path: result['actions'].append({ 'name': 'Verify pre-fetched image checksum' with open(prefetched_path, 'rb') as prefetched_image_file: while True: chunk = prefetched_image_file.read(chunk_size) if not chunk: break md5.update(chunk) prefetched_checksum = md5.hexdigest() if prefetched_checksum == image.checksum: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(prefetched_path, 42436, 42436) os.rename(prefetched_path, cache_file) else: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) if not scp_continue: module.fail_json( msg=""Pre-fetched image checksum failed"") # Ignore it and download direct from glance. # As we did not create it we should not remove it. prefetched_path = '' if not prefetched_path: with tempfile.NamedTemporaryFile( 'wb', dir=cache_dir, delete=False) as temp_cache_file: try: md5 = hashlib.md5() image_stream = cloud.image.download_image( image, stream=True ) try: for chunk in image_stream.iter_content( chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() download_checksum = md5.hexdigest() if download_checksum != image.checksum: result['actions'].append({ 'name': 'Verify downloaded image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': download_checksum }) module.fail_json( msg=""Image data does not match checksum"") 'result': True, # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['changed'] = True finally: try: os.unlink(temp_cache_file.name) except Exception: pass # Set the mtime in the future to prevent nova cleanup cache_file_stat = os.stat(cache_file) expiry_ts = ttl_to_ts(ttl_days) now = time.time() if cache_file_stat.st_mtime != expiry_ts: os.utime(cache_file, (now, expiry_ts)) result['actions'].append({ 'name': 'Update mtime', 'from': cache_file_stat.st_mtime, 'to': expiry_ts }) result['changed'] = True else: # expired if not exists_in_cache: result['changed'] = False else: # Set the mtime to epoch to enable nova cleanup now = time.time() ts = 0 cache_file_stat = os.stat(cache_file) if cache_file_stat.st_mtime > ts: os.utime(cache_file, (now, ts)) result['actions'].append({ 'name': 'Update mtime', 'from': cache_file_stat.st_mtime, 'to': ts }) result['changed'] = True cache_file_stat = os.stat(cache_file) result['mtime'] = cache_file_stat.st_mtime result['expires'] = time.strftime( ""%a, %d %b %Y %H:%M:%S %z"", time.localtime(cache_file_stat.st_mtime) )",86,182
openstack%2Foctavia~stable%2Fstein~I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,openstack/octavia,stable/stein,I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,Fix API sort key for complex columns,MERGED,2020-09-01 23:27:21.000000000,2020-09-04 14:30:58.000000000,2020-09-04 14:27:12.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 23:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1651c29291bab4bc7272ac8ff5dc448c94bc15b3', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)\n'}, {'number': 2, 'created': '2020-09-02 18:40:18.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/common/types.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d85b18cb5c0d0873b919ce8d76cdd3540ba7724c', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)\n'}]",0,749411,d85b18cb5c0d0873b919ce8d76cdd3540ba7724c,10,3,2,11628,,,0,"Fix API sort key for complex columns

The Octavia API sort function was not working correctly for some
columns that have different names in the API vs the data model.
This patch also handles the case where a column may be a compound
object in the data model, such as vip_address->vip.ip_address.

Change-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668
Story: 2007991
Task: 40626
(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/749411/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/api/common/types.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",6,1651c29291bab4bc7272ac8ff5dc448c94bc15b3,," def test_get_all_sorted_by_vip_ip_address(self): self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='198.51.100.2') self.create_load_balancer(uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, vip_address='198.51.100.1') self.create_load_balancer(uuidutils.generate_uuid(), name='lb3', project_id=self.project_id, vip_address='198.51.100.3') response = self.get(self.LBS_PATH, params={'sort': 'vip_address:desc'}) lbs_desc = response.json.get(self.root_tag_list) response = self.get(self.LBS_PATH, params={'sort': 'vip_address:asc'}) lbs_asc = response.json.get(self.root_tag_list) self.assertEqual(3, len(lbs_desc)) self.assertEqual(3, len(lbs_asc)) lb_id_names_desc = [(lb.get('id'), lb.get('name')) for lb in lbs_desc] lb_id_names_asc = [(lb.get('id'), lb.get('name')) for lb in lbs_asc] self.assertEqual(lb_id_names_asc, list(reversed(lb_id_names_desc))) self.assertEqual('198.51.100.1', lbs_asc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_asc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_asc[2][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_desc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_desc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.1', lbs_desc[2][constants.VIP_ADDRESS]) ",,121,2
openstack%2Foctavia~stable%2Ftrain~I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,openstack/octavia,stable/train,I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,Fix API sort key for complex columns,MERGED,2020-09-01 23:27:10.000000000,2020-09-04 14:30:14.000000000,2020-09-04 14:27:07.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 23:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9d638deb625ac9fee92ca1a7e83f5b696b60fb8', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)\n'}, {'number': 2, 'created': '2020-09-02 18:38:35.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/common/types.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c32d2e6024d9cfa3e6ab8bff43f2a261aaee82d', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)\n'}]",0,749410,8c32d2e6024d9cfa3e6ab8bff43f2a261aaee82d,11,3,2,11628,,,0,"Fix API sort key for complex columns

The Octavia API sort function was not working correctly for some
columns that have different names in the API vs the data model.
This patch also handles the case where a column may be a compound
object in the data model, such as vip_address->vip.ip_address.

Change-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668
Story: 2007991
Task: 40626
(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/749410/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/api/common/types.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",6,a9d638deb625ac9fee92ca1a7e83f5b696b60fb8,," def test_get_all_sorted_by_vip_ip_address(self): self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='198.51.100.2') self.create_load_balancer(uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, vip_address='198.51.100.1') self.create_load_balancer(uuidutils.generate_uuid(), name='lb3', project_id=self.project_id, vip_address='198.51.100.3') response = self.get(self.LBS_PATH, params={'sort': 'vip_address:desc'}) lbs_desc = response.json.get(self.root_tag_list) response = self.get(self.LBS_PATH, params={'sort': 'vip_address:asc'}) lbs_asc = response.json.get(self.root_tag_list) self.assertEqual(3, len(lbs_desc)) self.assertEqual(3, len(lbs_asc)) lb_id_names_desc = [(lb.get('id'), lb.get('name')) for lb in lbs_desc] lb_id_names_asc = [(lb.get('id'), lb.get('name')) for lb in lbs_asc] self.assertEqual(lb_id_names_asc, list(reversed(lb_id_names_desc))) self.assertEqual('198.51.100.1', lbs_asc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_asc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_asc[2][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_desc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_desc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.1', lbs_desc[2][constants.VIP_ADDRESS]) ",,121,2
openstack%2Fswift~master~Ia0a9398107a400815be2e0097b1b8e76336a0253,openstack/swift,master,Ia0a9398107a400815be2e0097b1b8e76336a0253,Extend concurrent_gets to EC GET requests,MERGED,2020-03-04 21:38:52.000000000,2020-09-04 14:26:23.000000000,2020-09-04 14:22:19.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 21:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dbd4b72feb80c7fe5d654c26606500d42db5312e', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 2, 'created': '2020-03-06 22:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a0bf3df30b8b7223d8d03f7ddeea01eb21d71cc9', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 3, 'created': '2020-05-15 15:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b682eef13454842bf5e0fc4460c72e7d0ec11fa', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 4, 'created': '2020-06-02 12:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e86890ff96280b6eacd30300a1272bc59d76f489', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 5, 'created': '2020-06-05 18:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/675a9c374faed63ba707b9d1d28c94ba12dbc873', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 6, 'created': '2020-06-11 21:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f36c0c8f2013572384d42806b465278abe511cce', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 7, 'created': '2020-06-12 16:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8ae4d0895e5cdaf1f210a104248bbdf706a0e171', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 8, 'created': '2020-06-16 23:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bde7df7f7e9208d22b1c4481cb80e98d7410373e', 'message': 'wip: asyc concurrent ecfragfetcher\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 9, 'created': '2020-06-18 21:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77c2ef27e7337f3e23040e10f624953ddee03a3d', 'message': 'Add concurrent primary feeder to EC GET requests\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 10, 'created': '2020-06-19 22:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92d4aecf85176fb04d1c196af93e0aa410275085', 'message': 'Add concurrent primary feeder to EC GET requests\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 11, 'created': '2020-06-22 14:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f839162f30bd8f405e63fd807ac45493252fd484', 'message': 'Add concurrent_gets to EC GET requests\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 12, 'created': '2020-06-22 22:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c02a67114595b49fa335fedb17c0aa518753f2f', 'message': 'Add concurrent_gets to EC GET requests\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 13, 'created': '2020-07-22 17:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be0cb4177e359150c95aef3744e1d0d6a508ea7e', 'message': 'Add concurrent_gets to EC GET requests\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 14, 'created': '2020-07-27 17:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a1fa68daa6968fbec0578847f8daf429abea6d4', 'message': 'Add concurrent_gets to EC GET requests\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 15, 'created': '2020-08-04 18:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4df8a20167ebc06476644525a5e945be0b8da24', 'message': 'Extend concurrent_gets to EC GET requests\n\nAfter the initial requests are started, if the proxy still does not have\nenough backend responses to return a client response additional requests\nwill be spawned to remaining primaries at the frequency configured by\nthe concurrency_timeout.\n\nA new tunable concurrent_ec_extra_requests allows operators to control\nhow many requests to backend fragments are started immediately with a\nclient request to an object stored in an EC storage policy.  By default\nthe minimum ndata backend requests are started immediately, but\noperators may increase concurrent_ec_extra_requests up to nparity which\nis similar in effect to a concurrency_timeout of 0.\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 16, 'created': '2020-08-04 21:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dbf1afcfccd2cf0a83db2520691febf5728a3998', 'message': 'Extend concurrent_gets to EC GET requests\n\nAfter the initial requests are started, if the proxy still does not have\nenough backend responses to return a client response additional requests\nwill be spawned to remaining primaries at the frequency configured by\nthe concurrency_timeout.\n\nA new tunable concurrent_ec_extra_requests allows operators to control\nhow many requests to backend fragments are started immediately with a\nclient request to an object stored in an EC storage policy.  By default\nthe minimum ndata backend requests are started immediately, but\noperators may increase concurrent_ec_extra_requests up to nparity which\nis similar in effect to a concurrency_timeout of 0.\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 17, 'created': '2020-08-18 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/890c21c353f9ad8f3efff5d4f9ac0d8b290314d6', 'message': 'Extend concurrent_gets to EC GET requests\n\nAfter the initial requests are started, if the proxy still does not have\nenough backend responses to return a client response additional requests\nwill be spawned to remaining primaries at the frequency configured by\nthe concurrency_timeout.\n\nA new tunable concurrent_ec_extra_requests allows operators to control\nhow many requests to backend fragments are started immediately with a\nclient request to an object stored in an EC storage policy.  By default\nthe minimum ndata backend requests are started immediately, but\noperators may increase concurrent_ec_extra_requests up to nparity which\nis similar in effect to a concurrency_timeout of 0.\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 18, 'created': '2020-08-18 13:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8839e7b3ead0a49189aa4e0ba40e05ffd459cf5e', 'message': 'Extend concurrent_gets to EC GET requests\n\nAfter the initial requests are started, if the proxy still does not have\nenough backend responses to return a client response additional requests\nwill be spawned to remaining primaries at the frequency configured by\nthe concurrency_timeout.\n\nA new tunable concurrent_ec_extra_requests allows operators to control\nhow many requests to backend fragments are started immediately with a\nclient request to an object stored in an EC storage policy.  By default\nthe minimum ndata backend requests are started immediately, but\noperators may increase concurrent_ec_extra_requests up to nparity which\nis similar in effect to a concurrency_timeout of 0.\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 19, 'created': '2020-08-21 18:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1394bbd3134c22207437e73d9c727c7320dde645', 'message': 'Extend concurrent_gets to EC GET requests\n\nAfter the initial requests are started, if the proxy still does not have\nenough backend responses to return a client response additional requests\nwill be spawned to remaining primaries at the frequency configured by\nthe concurrency_timeout.\n\nA new tunable concurrent_ec_extra_requests allows operators to control\nhow many requests to backend fragments are started immediately with a\nclient request to an object stored in an EC storage policy.  By default\nthe minimum ndata backend requests are started immediately, but\noperators may increase concurrent_ec_extra_requests up to nparity which\nis similar in effect to a concurrency_timeout of 0.\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}, {'number': 20, 'created': '2020-08-24 18:31:33.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'etc/proxy-server.conf-sample', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8f60e0a2607514f05fb873e4a313ab4a93df7601', 'message': 'Extend concurrent_gets to EC GET requests\n\nAfter the initial requests are started, if the proxy still does not have\nenough backend responses to return a client response additional requests\nwill be spawned to remaining primaries at the frequency configured by\nthe concurrency_timeout.\n\nA new tunable concurrent_ec_extra_requests allows operators to control\nhow many requests to backend fragments are started immediately with a\nclient request to an object stored in an EC storage policy.  By default\nthe minimum ndata backend requests are started immediately, but\noperators may increase concurrent_ec_extra_requests up to nparity which\nis similar in effect to a concurrency_timeout of 0.\n\nChange-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\n'}]",173,711342,8f60e0a2607514f05fb873e4a313ab4a93df7601,72,4,20,1179,,,0,"Extend concurrent_gets to EC GET requests

After the initial requests are started, if the proxy still does not have
enough backend responses to return a client response additional requests
will be spawned to remaining primaries at the frequency configured by
the concurrency_timeout.

A new tunable concurrent_ec_extra_requests allows operators to control
how many requests to backend fragments are started immediately with a
client request to an object stored in an EC storage policy.  By default
the minimum ndata backend requests are started immediately, but
operators may increase concurrent_ec_extra_requests up to nparity which
is similar in effect to a concurrency_timeout of 0.

Change-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/711342/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py']",3,dbd4b72feb80c7fe5d654c26606500d42db5312e,404-error,class GetOrHeadHandler(object):,"class ResumingGetter(object): def response_parts_iter(self, req): source, node = self._get_source_and_node() it = None if source: it = self._get_response_parts_iter(req, node, source) return it class GetOrHeadHandler(ResumingGetter):",708,48
openstack%2Fneutron~master~Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2,openstack/neutron,master,Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2,metadata-ipv6: Accept link local address in X-Forwarded-For,MERGED,2020-04-09 15:22:44.000000000,2020-09-04 14:24:42.000000000,2020-09-04 14:22:14.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-09 15:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71269d7136f0ca85c48b56cfe8e4c552f2da7f72', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 2, 'created': '2020-04-16 15:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef99d4393df3e63a777aa50386d9d9035e5a5703', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 3, 'created': '2020-04-20 15:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04a1de12623e948d26bbcfc6f22c96d6cd85915f', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 4, 'created': '2020-04-21 12:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9507261d5cb067218d062a6fba53df7fea30b909', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 5, 'created': '2020-04-30 13:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/471695b638e09b026bb6b729dba050be322392cd', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 6, 'created': '2020-05-01 13:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c8d8200f49ac8486e1e72027d5997bd32e0ba9b', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 7, 'created': '2020-05-01 14:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45003d8d5c90ee0f090fbba4bd9b8a4e76f8fcd5', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 8, 'created': '2020-06-17 15:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96e3cf7eb3e8db2461c9e2d855fa88f90d6687aa', 'message': 'WIP metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 9, 'created': '2020-06-22 15:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d39ed43b0f0fde582404c38522d76c74f39f194a', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 10, 'created': '2020-07-09 11:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7ced4905a8e78c582216d7416aafbeb9be36771', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 11, 'created': '2020-07-14 13:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d365374b37dff6f9d913c4f7b3a10cb923e73ec4', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 12, 'created': '2020-07-16 15:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62ed7882a3d1bab93e6eed955450bad463b028eb', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 13, 'created': '2020-07-17 13:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a615fc8f1c50d7c0779da43bbafed71eac3e795', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 14, 'created': '2020-07-22 15:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d8b2e9221b5f9fbf2e71e43bd7ae3fd047d2388', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 15, 'created': '2020-07-29 14:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b379aea09056e36d15585c4080f1e6974e3dbd4f', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO tests\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 16, 'created': '2020-07-30 15:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e2eeaa6b17f9e12bf0288f91a59ce078d4db0c1', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us a X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO docs\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 17, 'created': '2020-08-04 13:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9b5950fc0e3de5877bcc217935895ad0965ce78', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us an X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nTODO release note\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 18, 'created': '2020-08-06 13:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b18ea29f727e3e73bbd39edeed2813baffc8bb2', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us an X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 19, 'created': '2020-08-11 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b29b2da3e8396684a14df2e22d00e06a9f2ca3be', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us an X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 20, 'created': '2020-08-17 09:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2054f920e8cd5c7b2c5c652bc0a76f318c364855', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us an X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}, {'number': 21, 'created': '2020-08-31 11:05:15.000000000', 'files': ['requirements.txt', 'releasenotes/notes/metadata-ipv6-b3607f6932da7226.yaml', 'neutron/agent/metadata/agent.py', 'lower-constraints.txt', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a818c41c25c33a3491254c74f33b7d273fb16f1b', 'message': 'metadata-ipv6: Accept link local address in X-Forwarded-For\n\nIn the spec we said:\n""""""\nWhen the metadata proxy processes a request, it gathers the L2 addresses\nof a VM, and the source interface, and passes it to the metadata service.\n\nThe Metadata service, instead of using the VM IP, uses the ""VM MAC"" and\n""Gateway MAC"" to identify the instance.\n""""""\n\nBut since we switched from the home-grown metadata-ns-proxy to haproxy\nwe no longer control some of the headers included, like X-Forwarded-For.\nhaproxy allows us to turn X-Forwarded-For on or off, but it cannot\ngive us an X-Forwarded-For-MAC header.\n\nInstead it seems we have to rely on the source address being the IPv6\nlink local address generated from the NIC\'s MAC address as specified\nin RFC 4291:\nhttps://tools.ietf.org/html/rfc4291#section-2.5.6\nhttps://tools.ietf.org/html/rfc4291#appendix-A\n\nNote that means you cannot use IPv6 Privacy Extensions:\nhttps://tools.ietf.org/html/rfc4941\n\nChange-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2\nCloses-Bug: #1460177\n'}]",22,718729,a818c41c25c33a3491254c74f33b7d273fb16f1b,119,11,21,15554,,,0,"metadata-ipv6: Accept link local address in X-Forwarded-For

In the spec we said:
""""""
When the metadata proxy processes a request, it gathers the L2 addresses
of a VM, and the source interface, and passes it to the metadata service.

The Metadata service, instead of using the VM IP, uses the ""VM MAC"" and
""Gateway MAC"" to identify the instance.
""""""

But since we switched from the home-grown metadata-ns-proxy to haproxy
we no longer control some of the headers included, like X-Forwarded-For.
haproxy allows us to turn X-Forwarded-For on or off, but it cannot
give us an X-Forwarded-For-MAC header.

Instead it seems we have to rely on the source address being the IPv6
link local address generated from the NIC's MAC address as specified
in RFC 4291:
https://tools.ietf.org/html/rfc4291#section-2.5.6
https://tools.ietf.org/html/rfc4291#appendix-A

Note that means you cannot use IPv6 Privacy Extensions:
https://tools.ietf.org/html/rfc4941

Change-Id: Ife592fcfc69e26f61ec1f45c06821cb025cc7cf2
Closes-Bug: #1460177
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/718729/12 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/metadata/agent.py'],1,71269d7136f0ca85c48b56cfe8e4c552f2da7f72,metadata-ipv6,"import netaddr # FIXME(bence romsics): move this from here def is_ipv6_link_local(address): return (address.version == 6 and address in netaddr.IPNetwork('fe80::/10')) # FIXME(bence romsics): move this from here def mac_from_ipv6_link_local(ipv6_ll): # https://tools.ietf.org/html/rfc4291#section-2.5.6 # https://tools.ietf.org/html/rfc4291#appendix-A return netaddr.EUI(int( (((ipv6_ll & 0xff_ff_ff_00_00_00_00_00) >> 16) + (ipv6_ll & 0xff_ff_ff)) ^ 0x02_00_00_00_00_00), dialect=netaddr.mac_unix_expanded) remote_ip = netaddr.IPAddress(remote_address) if is_ipv6_link_local(remote_ip): remote_mac = mac_from_ipv6_link_local(remote_ip) LOG.debug('XXX %s', str(remote_mac)) # FIXME(bence romsics): extend _get_ports() so it can query # ports based on remote_mac ",,23,0
openstack%2Foctavia~master~I43803d0b750e8ca4722ababe296f2725148da405,openstack/octavia,master,I43803d0b750e8ca4722ababe296f2725148da405,Update amphora v2 for the failover refactor,MERGED,2020-06-27 00:10:59.000000000,2020-09-04 14:18:01.000000000,2020-09-04 14:15:37.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-27 00:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f6df2ac024337f8ea96634f5a7cdce6ff8c68441', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 2, 'created': '2020-06-30 22:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2571b47f7f20076289ddd24847df9f873ac1df15', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 3, 'created': '2020-07-06 21:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d63a9c6313308845c78e235ecadd87b474709f8c', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 4, 'created': '2020-07-07 22:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e8f05272df9a0b07c97d92391c35ffcf4658c799', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 5, 'created': '2020-07-13 21:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27d46b0b83e0d39c16e51641e0a9a3cfe77619ce', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 6, 'created': '2020-07-16 01:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eb21a199ec39c61bf631ebf58e7ed29b5d033d3b', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 7, 'created': '2020-07-21 00:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5326538d39862efd775f48cddda6e2adb6e6d7e1', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 8, 'created': '2020-07-22 19:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/84101b130d63e13bcbe8d91e3406e184d576be13', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 9, 'created': '2020-07-24 22:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e35dc81cf4182b4b139c58cd157ebaf694282874', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 10, 'created': '2020-08-24 16:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f74975cf65b34bc35117095c380d1213df6a6e96', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 11, 'created': '2020-08-31 07:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6d4d1c92b759c8af3e9f140b13466433fbc60840', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 12, 'created': '2020-09-01 11:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/50de0719864b1956a3a2d56195c9dcf533f5c375', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 13, 'created': '2020-09-01 13:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/81351cbc4925ec38dd5a048e7ca6de662ade7b70', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}, {'number': 14, 'created': '2020-09-03 08:01:02.000000000', 'files': ['octavia/controller/worker/v2/flows/flow_utils.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', '.gitignore', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_retry_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'tools/flow-list-v2.txt', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_listener_flows.py', 'doc/source/conf.py', 'doc/source/contributor/devref/flows.rst', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'tools/create_flow_docs.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/tests/unit/controller/worker/v2/flows/test_pool_flows.py', 'octavia/controller/worker/v2/tasks/retry_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/controller/worker/v2/flows/listener_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5fe092a3e0444a45ad11a6db8323fe4edade170', 'message': 'Update amphora v2 for the failover refactor\n\nThis patch will update the amphora v2 code for the failover refactor[1].\n\n[1] https://review.opendev.org/705317\n\nChange-Id: I43803d0b750e8ca4722ababe296f2725148da405\n'}]",9,738292,d5fe092a3e0444a45ad11a6db8323fe4edade170,53,4,14,11628,,,0,"Update amphora v2 for the failover refactor

This patch will update the amphora v2 code for the failover refactor[1].

[1] https://review.opendev.org/705317

Change-Id: I43803d0b750e8ca4722ababe296f2725148da405
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/738292/14 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py']",8,f6df2ac024337f8ea96634f5a7cdce6ff8c68441,failover-refactor-v2,," def test_amphora_vrrp_stop(self, mock_lb_get, mock_driver, mock_generate_uuid, mock_log, mock_get_session, mock_listener_repo_get, mock_listener_repo_update, mock_amphora_repo_get, mock_amphora_repo_update): amphora_vrrp_stop_obj = ( amphora_driver_tasks.AmphoraVRRPStop()) mock_lb_get.return_value = _db_load_balancer_mock amphora_vrrp_stop_obj.execute(_LB_mock) mock_driver.stop_vrrp_service.assert_called_once_with( _db_load_balancer_mock) @mock.patch('octavia.db.repositories.LoadBalancerRepository.get')",194,151
openstack%2Fcharm-deployment-guide~master~I196de6bedd6fc77f452d2217b375544cd98f8693,openstack/charm-deployment-guide,master,I196de6bedd6fc77f452d2217b375544cd98f8693,Add cinder-ceph relation for nova-compute,MERGED,2020-09-04 13:45:43.000000000,2020-09-04 14:14:37.000000000,2020-09-04 14:12:32.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:45:43.000000000', 'files': ['deploy-guide/source/install-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b89ecbc52a1f01fbfa4a4c28ea178b6faed519a8', 'message': 'Add cinder-ceph relation for nova-compute\n\nChange-Id: I196de6bedd6fc77f452d2217b375544cd98f8693\n'}]",0,749962,b89ecbc52a1f01fbfa4a4c28ea178b6faed519a8,7,2,1,30561,,,0,"Add cinder-ceph relation for nova-compute

Change-Id: I196de6bedd6fc77f452d2217b375544cd98f8693
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/62/749962/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/install-openstack.rst'],1,b89ecbc52a1f01fbfa4a4c28ea178b6faed519a8,add-cinder-ceph-relation,"A relation is needed to Cinder, Ceph, and Nova: juju add-relation cinder-ceph:ceph-access nova-compute:ceph-access",A relation is needed for both Cinder and Ceph:,2,1
openstack%2Fmetalsmith~stable%2Fvictoria~I8ebc0b91a28d0697601afe9beca2917cd59bdd90,openstack/metalsmith,stable/victoria,I8ebc0b91a28d0697601afe9beca2917cd59bdd90,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-04 13:04:54.000000000,2020-09-04 14:08:52.000000000,2020-09-04 14:04:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:04:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/1eed07594be2319b63bc30c6b63a7fe213e8c8fb', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8ebc0b91a28d0697601afe9beca2917cd59bdd90\n'}]",0,749937,1eed07594be2319b63bc30c6b63a7fe213e8c8fb,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8ebc0b91a28d0697601afe9beca2917cd59bdd90
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/37/749937/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1eed07594be2319b63bc30c6b63a7fe213e8c8fb,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fmetalsmith~stable%2Fvictoria~I178a14d5bd578839ded6cc07ab36d316e8a4d2ba,openstack/metalsmith,stable/victoria,I178a14d5bd578839ded6cc07ab36d316e8a4d2ba,Update .gitreview for stable/victoria,MERGED,2020-09-04 13:04:51.000000000,2020-09-04 14:06:18.000000000,2020-09-04 14:04:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:04:51.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/41d634061a42ceea87766bd41aadc9e69c98b31b', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I178a14d5bd578839ded6cc07ab36d316e8a4d2ba\n'}]",0,749936,41d634061a42ceea87766bd41aadc9e69c98b31b,7,2,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I178a14d5bd578839ded6cc07ab36d316e8a4d2ba
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/36/749936/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,41d634061a42ceea87766bd41aadc9e69c98b31b,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fmetalsmith~master~Ib892cf8c75ab7be45fcb1b1d3467405b9dcbb513,openstack/metalsmith,master,Ib892cf8c75ab7be45fcb1b1d3467405b9dcbb513,Update master for stable/victoria,MERGED,2020-09-04 13:04:56.000000000,2020-09-04 14:06:06.000000000,2020-09-04 14:04:10.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 13:04:56.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/78cf5b5ad6ae79de6403d2584ad5952994a1737f', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: Ib892cf8c75ab7be45fcb1b1d3467405b9dcbb513\nSem-Ver: feature\n'}]",0,749938,78cf5b5ad6ae79de6403d2584ad5952994a1737f,7,2,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: Ib892cf8c75ab7be45fcb1b1d3467405b9dcbb513
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/38/749938/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,78cf5b5ad6ae79de6403d2584ad5952994a1737f,reno-victoria, victoria,,7,0
openstack%2Fironic-ui~master~I01c88902bcb480bf3a11f377b2520596467294ed,openstack/ironic-ui,master,I01c88902bcb480bf3a11f377b2520596467294ed,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 13:42:08.000000000,2020-09-04 13:55:50.000000000,2020-09-04 13:53:35.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 13:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/59cd3c2c4186da707a5e97606094b383fd9293de', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 2, 'created': '2020-08-05 16:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/d27f61f036af960b586e9c64022fe595bb10c27c', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 3, 'created': '2020-08-05 17:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/c5bc4af179c01be69661417683b8888d85b2f2cd', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 4, 'created': '2020-08-17 11:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/d03d82096ffe463b8acc0d3b262335d5a31c1a4a', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 5, 'created': '2020-08-17 12:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/757d258481d330bc2f25da21299b6848c8546e38', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 6, 'created': '2020-08-17 12:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/70b0551e929aebaa9cb565e16bc2587df74c2694', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 7, 'created': '2020-08-17 14:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/341c73ac0ec56d5ca79796e0224587d6051852b3', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 8, 'created': '2020-08-18 12:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/835d8202c9a55c12c86849f8f675ba90d255c1e0', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch also adds npm tox env. in tox.ini file which fixes the\nfailed nodejs job during focal migration.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 9, 'created': '2020-08-19 03:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/b08dabc2ce3744e1abe25f7e34126e8c7b98820d', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 10, 'created': '2020-08-25 17:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/d266c9b851186623aca88c6e4976d4c91f4591a6', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 11, 'created': '2020-08-26 17:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/94ba5d0fbc98ea4d69817440f57bb90c002d7304', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch update python version to py38 in package.json,\nkarma.conf.js as py36 is not avaialbale on focal. It also adds\nlibfontconfig1 in bindep.txt as it requires for node-js job[2].\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n[2] https://zuul.opendev.org/t/openstack/build/508c5f71f0f241acad3d7cb4f27d6f10/log/job-output.txt#4231\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 12, 'created': '2020-08-26 18:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/70dd6194c5436a197f7eacff16845421cdb915a4', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch updates python version to py38 in package.json and\nkarma.conf.js as py36 is not avaialbale on focal. It also adds\nlibfontconfig1 in bindep.txt as phantomjs requires libfontconfg[2]\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\nhttps://www.npmjs.com/package/phantomjs-prebuilt#linux-note\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 13, 'created': '2020-09-01 13:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/d3ce488a24d6560830f439117f6c82ddf1e710d4', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch updates python version to py38 in package.json and\nkarma.conf.js as py36 is not avaialbale on focal. It also adds\nlibfontconfig1 in bindep.txt as phantomjs requires libfontconfg[2]\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\nhttps://www.npmjs.com/package/phantomjs-prebuilt#linux-note\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 14, 'created': '2020-09-01 13:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/73c19d0b50e251db5aa52116e4088028514f9ef8', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch updates python version to py38 in package.json and\nkarma.conf.js as py36 is not avaialbale on focal. It also adds\nlibfontconfig1 in bindep.txt as phantomjs requires libfontconfg[2]\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n[2] https://www.npmjs.com/package/phantomjs-prebuilt#linux-note\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 15, 'created': '2020-09-01 15:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/7b28d3cb921c7aa68f643fab4ca779f0c05fcca5', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch updates python version to py38 in package.json and\nkarma.conf.js as py36 is not avaialbale on focal. It also adds\nlibfontconfig1 in bindep.txt as phantomjs requires libfontconfg[2]\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/744647/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n[2] https://www.npmjs.com/package/phantomjs-prebuilt#linux-note\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}, {'number': 16, 'created': '2020-09-02 10:18:30.000000000', 'files': ['bindep.txt', 'package.json', 'lower-constraints.txt', 'ironic_ui/karma.conf.js'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/927b4c291e4dbd40eaa45a87318d8165e01de0ee', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\nCloses-Bug: #1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nThis patch updates python version to py38 in package.json and\nkarma.conf.js as py36 is not avaialbale on focal. It also adds\nlibfontconfig1 in bindep.txt as phantomjs requires libfontconfg[2]\n\nStory: #2007865\nTask: #40188\n\nDepends-On: https://review.opendev.org/#/c/749476/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n[2] https://www.npmjs.com/package/phantomjs-prebuilt#linux-note\n\nChange-Id: I01c88902bcb480bf3a11f377b2520596467294ed\n'}]",14,744708,927b4c291e4dbd40eaa45a87318d8165e01de0ee,53,5,16,29313,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
Closes-Bug: #1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

This patch updates python version to py38 in package.json and
karma.conf.js as py36 is not avaialbale on focal. It also adds
libfontconfig1 in bindep.txt as phantomjs requires libfontconfg[2]

Story: #2007865
Task: #40188

Depends-On: https://review.opendev.org/#/c/749476/

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal
[2] https://www.npmjs.com/package/phantomjs-prebuilt#linux-note

Change-Id: I01c88902bcb480bf3a11f377b2520596467294ed
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/08/744708/16 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,59cd3c2c4186da707a5e97606094b383fd9293de,migrate-to-focal,#test focal,,1,0
openstack%2Ftripleo-quickstart-extras~master~Ibfa3a171204e562c4dfd7f3b6b618f3320f3bdf5,openstack/tripleo-quickstart-extras,master,Ibfa3a171204e562c4dfd7f3b6b618f3320f3bdf5,temporary: Make a raw copy of overcloud-full.qcow2,ABANDONED,2020-09-04 12:15:25.000000000,2020-09-04 13:49:01.000000000,,[{'_account_id': 18846}],"[{'number': 1, 'created': '2020-09-04 12:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cdbe9bb7c8b5353b50c01ca4feecda71f746c396', 'message': 'temporary: Make a raw copy of overcloud-full.qcow2\n\nChange-Id: Ibfa3a171204e562c4dfd7f3b6b618f3320f3bdf5\nRelated-Bug: 1893912\n'}, {'number': 2, 'created': '2020-09-04 13:38:17.000000000', 'files': ['roles/overcloud-prep-images/templates/download-overcloud-image.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7003df16cf2a6453f62ee782cbc0a4a18bb3420d', 'message': 'temporary: Make a raw copy of overcloud-full.qcow2\n\nChange-Id: Ibfa3a171204e562c4dfd7f3b6b618f3320f3bdf5\nRelated-Bug: 1893912\n'}]",0,749931,7003df16cf2a6453f62ee782cbc0a4a18bb3420d,5,1,2,24245,,,0,"temporary: Make a raw copy of overcloud-full.qcow2

Change-Id: Ibfa3a171204e562c4dfd7f3b6b618f3320f3bdf5
Related-Bug: 1893912
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/31/749931/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/download-overcloud-image.sh.j2'],1,cdbe9bb7c8b5353b50c01ca4feecda71f746c396,bug/1893912,"if [ -f overcloud-full.raw ]; then sudo rm -rf overcloud-full* fi # NOTE(hjensas): Temporay, make a raw copy of the image until patches for # https://launchpad.net/bugs/1893912 has landed and we build raw by default. if [ -f overcloud-full.qcow2 ]; then qemu-img convert -O raw overcloud-full.qcow2 overcloud-full.raw fi ",,11,0
openstack%2Foctavia~stable%2Fussuri~I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,openstack/octavia,stable/ussuri,I0c124e80fec2ac9ad813e78df6ad25da6b8e9668,Fix API sort key for complex columns,MERGED,2020-09-01 23:25:39.000000000,2020-09-04 13:46:28.000000000,2020-09-04 13:44:34.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-01 23:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c7cbbbb2a385319dd4be902dbf42d4c3e5a572fd', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)\n'}, {'number': 2, 'created': '2020-09-01 23:26:27.000000000', 'files': ['octavia/api/common/pagination.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/common/types.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/39eb3286024d1118fd67e80df67bdd3abed7d5b9', 'message': 'Fix API sort key for complex columns\n\nThe Octavia API sort function was not working correctly for some\ncolumns that have different names in the API vs the data model.\nThis patch also handles the case where a column may be a compound\nobject in the data model, such as vip_address->vip.ip_address.\n\nChange-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668\nStory: 2007991\nTask: 40626\n(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)\n'}]",0,749409,39eb3286024d1118fd67e80df67bdd3abed7d5b9,10,3,2,11628,,,0,"Fix API sort key for complex columns

The Octavia API sort function was not working correctly for some
columns that have different names in the API vs the data model.
This patch also handles the case where a column may be a compound
object in the data model, such as vip_address->vip.ip_address.

Change-Id: I0c124e80fec2ac9ad813e78df6ad25da6b8e9668
Story: 2007991
Task: 40626
(cherry picked from commit b6f6c14292329b1a977fd7c0831f917cd69cbaaf)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/749409/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/common/pagination.py', 'octavia/api/common/types.py', 'octavia/tests/functional/api/v2/test_health_monitor.py', 'releasenotes/notes/fix-api-sort-key-337f342d5cdce432.yaml', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",6,c7cbbbb2a385319dd4be902dbf42d4c3e5a572fd,," def test_get_all_sorted_by_vip_ip_address(self): self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=self.project_id, vip_address='198.51.100.2') self.create_load_balancer(uuidutils.generate_uuid(), name='lb2', project_id=self.project_id, vip_address='198.51.100.1') self.create_load_balancer(uuidutils.generate_uuid(), name='lb3', project_id=self.project_id, vip_address='198.51.100.3') response = self.get(self.LBS_PATH, params={'sort': 'vip_address:desc'}) lbs_desc = response.json.get(self.root_tag_list) response = self.get(self.LBS_PATH, params={'sort': 'vip_address:asc'}) lbs_asc = response.json.get(self.root_tag_list) self.assertEqual(3, len(lbs_desc)) self.assertEqual(3, len(lbs_asc)) lb_id_names_desc = [(lb.get('id'), lb.get('name')) for lb in lbs_desc] lb_id_names_asc = [(lb.get('id'), lb.get('name')) for lb in lbs_asc] self.assertEqual(lb_id_names_asc, list(reversed(lb_id_names_desc))) self.assertEqual('198.51.100.1', lbs_asc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_asc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_asc[2][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.3', lbs_desc[0][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.2', lbs_desc[1][constants.VIP_ADDRESS]) self.assertEqual('198.51.100.1', lbs_desc[2][constants.VIP_ADDRESS]) ",,124,4
openstack%2Ftripleo-docs~master~I3efc06ec9ec0966f7bd7dd2e2a6e4cf882451bab,openstack/tripleo-docs,master,I3efc06ec9ec0966f7bd7dd2e2a6e4cf882451bab,Switch to RAW images instead of QCOW2 images,ABANDONED,2020-09-04 10:22:39.000000000,2020-09-04 13:45:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-04 10:22:39.000000000', 'files': ['deploy-guide/source/deployment/3rd_party.rst', 'deploy-guide/source/deployment/install_overcloud.rst', 'deploy-guide/source/features/ops_tools.rst', 'deploy-guide/source/provisioning/whole_disk_images.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/31e31cd40e2d080b4f1bed5b174fd19f209ba60b', 'message': 'Switch to RAW images instead of QCOW2 images\n\nWhen using the ironic ""direct"" deploy interface RAW images\nare streamed to the target node. In comparison QCOW2 images\nis transferred to the baremtal node and the image is then\nconverted in to RAW in RAM. This put\'s a high RAM requirement\non the baremetal nodes.\n\nThis doc update does a replaces references to the overcloud-full.qcow2\nwith overcloud-full.raw.\n\nChange-Id: I3efc06ec9ec0966f7bd7dd2e2a6e4cf882451bab\nRelated-Bug: #1893912\nDepends-On: https://review.opendev.org/749466\nDepends-On: https://review.opendev.org/749465\n'}]",0,749918,31e31cd40e2d080b4f1bed5b174fd19f209ba60b,3,1,1,24245,,,0,"Switch to RAW images instead of QCOW2 images

When using the ironic ""direct"" deploy interface RAW images
are streamed to the target node. In comparison QCOW2 images
is transferred to the baremtal node and the image is then
converted in to RAW in RAM. This put's a high RAM requirement
on the baremetal nodes.

This doc update does a replaces references to the overcloud-full.qcow2
with overcloud-full.raw.

Change-Id: I3efc06ec9ec0966f7bd7dd2e2a6e4cf882451bab
Related-Bug: #1893912
Depends-On: https://review.opendev.org/749466
Depends-On: https://review.opendev.org/749465
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/18/749918/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/3rd_party.rst', 'deploy-guide/source/deployment/install_overcloud.rst', 'deploy-guide/source/features/ops_tools.rst', 'deploy-guide/source/provisioning/whole_disk_images.rst']",4,31e31cd40e2d080b4f1bed5b174fd19f209ba60b,bug/1893912,"In this case only ``overcloud-full.raw`` file is required, ``overcloud-full.initrd`` and","In this case only ``overcloud-full.qcow2`` file is required, ``overcloud-full.initrd`` and",5,5
openstack%2Ftripleo-ansible~master~I4a0da6759ba27886a7e641c484784bceb824b700,openstack/tripleo-ansible,master,I4a0da6759ba27886a7e641c484784bceb824b700,Switch to RAW images instead of QCOW2 images,ABANDONED,2020-09-04 10:22:15.000000000,2020-09-04 13:45:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 10:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2f70680d8936d050b6fc869432d6350b3af2357', 'message': 'Switch to RAW images instead of QCOW2 images\n\nWhen using the ironic ""direct"" deploy interface RAW images\nare streamed to the target node. In comparison QCOW2 images\nis transferred to the baremtal node and the image is then\nconverted in to RAW in RAM. This put\'s a high RAM requirement\non the baremetal nodes.\n\nThis change updates the cli playbooks to use the overcloud-full.raw\nfilename.\n\nDepends-On: https://review.opendev.org/749466\nDepends-On: https://review.opendev.org/749465\nChange-Id: I4a0da6759ba27886a7e641c484784bceb824b700\nRelated-Bug: #1893912\n'}, {'number': 2, 'created': '2020-09-04 12:16:46.000000000', 'files': ['tripleo_ansible/tests/modules/test_metalsmith_instances.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9832eabd9ba8525162d7dd0abb32b237f7c715a7', 'message': 'Switch to RAW images instead of QCOW2 images\n\nWhen using the ironic ""direct"" deploy interface RAW images\nare streamed to the target node. In comparison QCOW2 images\nis transferred to the baremtal node and the image is then\nconverted in to RAW in RAM. This put\'s a high RAM requirement\non the baremetal nodes.\n\nThis change updates the cli playbooks to use the overcloud-full.raw\nfilename.\n\nDepends-On: https://review.opendev.org/749466\nDepends-On: https://review.opendev.org/749465\nDepends-On: https://review.opendev.org/749931\nRelated-Bug: #1893912\nChange-Id: I4a0da6759ba27886a7e641c484784bceb824b700\n'}]",0,749917,9832eabd9ba8525162d7dd0abb32b237f7c715a7,6,2,2,24245,,,0,"Switch to RAW images instead of QCOW2 images

When using the ironic ""direct"" deploy interface RAW images
are streamed to the target node. In comparison QCOW2 images
is transferred to the baremtal node and the image is then
converted in to RAW in RAM. This put's a high RAM requirement
on the baremetal nodes.

This change updates the cli playbooks to use the overcloud-full.raw
filename.

Depends-On: https://review.opendev.org/749466
Depends-On: https://review.opendev.org/749465
Depends-On: https://review.opendev.org/749931
Related-Bug: #1893912
Change-Id: I4a0da6759ba27886a7e641c484784bceb824b700
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/749917/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_metalsmith_instances.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml']",2,b2f70680d8936d050b6fc869432d6350b3af2357,bug/1893912, - name: stat overcloud-full.raw stat: path: /var/lib/ironic/images/overcloud-full.raw href: file:///var/lib/ironic/images/overcloud-full.raw href: file:///var/lib/ironic/images/overcloud-full.raw, - name: stat overcloud-full.qcow2 stat: path: /var/lib/ironic/images/overcloud-full.qcow2 href: file:///var/lib/ironic/images/overcloud-full.qcow2 href: file:///var/lib/ironic/images/overcloud-full.qcow2,6,6
openstack%2Ftripleo-heat-templates~master~I9cd63ee34dfd964f18a33043980703660b0a55d7,openstack/tripleo-heat-templates,master,I9cd63ee34dfd964f18a33043980703660b0a55d7,Add post_upgrade_task and remove puppet-ceph pkg,MERGED,2020-04-10 16:37:54.000000000,2020-09-04 13:44:09.000000000,2020-09-04 06:51:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 11166}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-04-10 16:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a06a846c16b969d7d782d522f1ca09094fa9f86', 'message': 'Add post_upgrade_task and remove puppet-ceph pkg\n\nThis change adds a post_upgrade used to remove the\npuppet-ceph package which is no longer required.\nNo ceph components depend on it, so it should be\nremoved from the system.\n\nChange-Id: I9cd63ee34dfd964f18a33043980703660b0a55d7\n'}, {'number': 2, 'created': '2020-08-24 10:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1adeb63cf363dd468efb93bc75bf7060e8c23e56', 'message': 'Add post_upgrade_task and remove puppet-ceph pkg\n\nThis change adds a post_upgrade used to remove the\npuppet-ceph package which is no longer required.\nNo ceph components depend on it, so it should be\nremoved from the system.\n\nChange-Id: I9cd63ee34dfd964f18a33043980703660b0a55d7\n'}, {'number': 3, 'created': '2020-08-25 14:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cd382a348568f4e06eb476e183b1927eb8dc714', 'message': 'Add post_upgrade_task and remove puppet-ceph pkg\n\nThis change adds a post_upgrade used to remove the\npuppet-ceph package which is no longer required.\nNo ceph components depend on it, so it should be\nremoved from the system.\n\nChange-Id: I9cd63ee34dfd964f18a33043980703660b0a55d7\n'}, {'number': 4, 'created': '2020-09-03 00:31:48.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62a22a831e934f159d68a8709564a5ef07b61740', 'message': 'Add post_upgrade_task and remove puppet-ceph pkg\n\nThis change adds a post_upgrade used to remove the\npuppet-ceph package which is no longer required.\nNo ceph components depend on it, so it should be\nremoved from the system.\n\nChange-Id: I9cd63ee34dfd964f18a33043980703660b0a55d7\n'}]",3,719050,62a22a831e934f159d68a8709564a5ef07b61740,36,10,4,25402,,,0,"Add post_upgrade_task and remove puppet-ceph pkg

This change adds a post_upgrade used to remove the
puppet-ceph package which is no longer required.
No ceph components depend on it, so it should be
removed from the system.

Change-Id: I9cd63ee34dfd964f18a33043980703660b0a55d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/719050/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,9a06a846c16b969d7d782d522f1ca09094fa9f86,puppet_ceph_cleanup, post_upgrade_tasks: - name: Clean puppet-ceph package when: - (step | int) == 3 package: name: puppet-ceph state: absent,,7,0
openstack%2Ftripleo-common~master~I084d24a77d6d84149ede779beb6768be96b7ff24,openstack/tripleo-common,master,I084d24a77d6d84149ede779beb6768be96b7ff24,Build RAW images instead of QCOW2 images,ABANDONED,2020-09-02 08:48:09.000000000,2020-09-04 13:43:35.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-02 08:48:09.000000000', 'files': ['image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos8.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-rhel8.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-odl-rhel7.yaml', 'image-yaml/overcloud-images-ceph-centos8.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-images-fedora.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad74b6326abe44d09cf6fa6e217d063289b343c4', 'message': 'Build RAW images instead of QCOW2 images\n\nWhen using the ironic ""direct"" deploy interface RAW images\nare streamed to the target node. In comparison QCOW2 images\nis transferred to the baremtal node and the image is then\nconverted in to RAW in RAM. This put\'s a high RAM requirement\non the baremetal nodes.\n\nRelated-Bug: #1893912\nChange-Id: I084d24a77d6d84149ede779beb6768be96b7ff24\n'}]",0,749465,ad74b6326abe44d09cf6fa6e217d063289b343c4,7,4,1,24245,,,0,"Build RAW images instead of QCOW2 images

When using the ironic ""direct"" deploy interface RAW images
are streamed to the target node. In comparison QCOW2 images
is transferred to the baremtal node and the image is then
converted in to RAW in RAM. This put's a high RAM requirement
on the baremetal nodes.

Related-Bug: #1893912
Change-Id: I084d24a77d6d84149ede779beb6768be96b7ff24
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/65/749465/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos8.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-rhel8.yaml', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-realtime-compute.yaml', 'image-yaml/overcloud-odl-rhel7.yaml', 'image-yaml/overcloud-images-ceph-centos8.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-images-fedora.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-images.yaml']",27,ad74b6326abe44d09cf6fa6e217d063289b343c4,bug/1893912, type: raw, type: qcow2,27,27
openstack%2Ftripleo-ansible~stable%2Fussuri~I57dc24b8450f900ac1fb4e4c2f420f104618c609,openstack/tripleo-ansible,stable/ussuri,I57dc24b8450f900ac1fb4e4c2f420f104618c609,Workaround tripleo_nova_cache issue in ansible 2.9.11,MERGED,2020-09-02 18:11:35.000000000,2020-09-04 13:42:45.000000000,2020-09-04 13:42:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-02 18:11:35.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65ce4779887be675aa12d5f551a1371f57d45fa0', 'message': 'Workaround tripleo_nova_cache issue in ansible 2.9.11\n\nhttps://github.com/ansible/ansible/commit/99a37234b7393fd1d70e03c4687dad809c12a670\nchanges the core action plugin to assume task_vars has ansible_facts and\nansible_delegated_vars keys when interpreter discovery is triggered.\n\nThe tripleo_nova_cache action plugin passes custom task_vars dicts via\nself._exec_module that do not contain these keys.\n\nThis looks like a regression in ansible.\nWorkaround it for now while I take the issue upstream.\n\nChange-Id: I57dc24b8450f900ac1fb4e4c2f420f104618c609\n(cherry picked from commit f38b4c97b9feeecaaf9071549a8d74023005563b)\n'}]",0,749566,65ce4779887be675aa12d5f551a1371f57d45fa0,12,6,1,23811,,,0,"Workaround tripleo_nova_cache issue in ansible 2.9.11

https://github.com/ansible/ansible/commit/99a37234b7393fd1d70e03c4687dad809c12a670
changes the core action plugin to assume task_vars has ansible_facts and
ansible_delegated_vars keys when interpreter discovery is triggered.

The tripleo_nova_cache action plugin passes custom task_vars dicts via
self._exec_module that do not contain these keys.

This looks like a regression in ansible.
Workaround it for now while I take the issue upstream.

Change-Id: I57dc24b8450f900ac1fb4e4c2f420f104618c609
(cherry picked from commit f38b4c97b9feeecaaf9071549a8d74023005563b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/749566/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py'],1,65ce4779887be675aa12d5f551a1371f57d45fa0,nova_cache," command_task_vars = { 'become': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) } command_task_vars = { 'become': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) } command_task_vars = { 'become': True, 'ignore_errors': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) }"," command_task_vars = {'become': True} command_task_vars = {'become': True} command_task_vars = {'become': True, 'ignore_errors': True}",16,3
openstack%2Foctavia~master~I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6,openstack/octavia,master,I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6,Add amphora delete API,MERGED,2020-04-08 01:32:31.000000000,2020-09-04 13:31:10.000000000,2020-09-04 13:28:38.000000000,"[{'_account_id': 1131}, {'_account_id': 3031}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-04-08 01:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8ad280271d7b10b66567fc619d5f87aa1a588a8c', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 2, 'created': '2020-04-08 04:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5b7949f2eb569c17223993c7a5ca3df66859afa8', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 3, 'created': '2020-04-08 04:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f774401df86d709a469b3a01c22333e64abd33d3', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 4, 'created': '2020-05-19 19:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24888da23752f2a5d5c9ac7f4bda968e88a88520', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 5, 'created': '2020-08-18 20:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e4d7eef5a6be017ffbaf06421c7c557f45dcd5c9', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nA followup patch will be required for the amphorav2 path as the\namphorav2 failover patch, which is required for the amphora delete\nflow, has not yet merged.\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 6, 'created': '2020-08-18 20:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee84f30ee02037577ea5c6a8379d5c87fb0b22d7', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nA followup patch will be required for the amphorav2 path as the\namphorav2 failover patch, which is required for the amphora delete\nflow, has not yet merged.\n\nStory: 2008014\nTask: 40666\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 7, 'created': '2020-08-24 16:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff9700150bdd5ee9d8659ea42b9dc8104163590b', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nA followup patch will be required for the amphorav2 path as the\namphorav2 failover patch, which is required for the amphora delete\nflow, has not yet merged.\n\nStory: 2008014\nTask: 40666\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 8, 'created': '2020-08-24 16:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fec7606de4a0ac33548a11def369ed7c8688a17a', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nA followup patch will be required for the amphorav2 path as the\namphorav2 failover patch, which is required for the amphora delete\nflow, has not yet merged.\n\nStory: 2008014\nTask: 40666\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 9, 'created': '2020-09-03 18:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4d45e82ee9da8b2392eaef9c4c2f615f1dda8f29', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nA followup patch will be required for the amphorav2 path as the\namphorav2 failover patch, which is required for the amphora delete\nflow, has not yet merged.\n\nStory: 2008014\nTask: 40666\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}, {'number': 10, 'created': '2020-09-03 20:34:14.000000000', 'files': ['api-ref/source/v2/examples/amphora-delete-curl', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'releasenotes/notes/add-amphora-delete-69badba140f7b228.yaml', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/db/repositories.py', 'api-ref/source/v2/amphora.inc', 'octavia/api/root_controller.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/policies/amphora.py', 'octavia/controller/queue/v1/endpoints.py', 'octavia/tests/unit/controller/queue/v1/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/59dcdd9a86d33541599802843fc3632199ee89dd', 'message': 'Add amphora delete API\n\nThis patch adds an amphora delete API. It can be used to delete\nextra ""spare"" amphora after the feature has been disabled.\n\nA followup patch will be required for the amphorav2 path as the\namphorav2 failover patch, which is required for the amphora delete\nflow, has not yet merged.\n\nStory: 2008014\nTask: 40666\n\nChange-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6\n'}]",6,718293,59dcdd9a86d33541599802843fc3632199ee89dd,43,9,10,11628,,,0,"Add amphora delete API

This patch adds an amphora delete API. It can be used to delete
extra ""spare"" amphora after the feature has been disabled.

A followup patch will be required for the amphorav2 path as the
amphorav2 failover patch, which is required for the amphora delete
flow, has not yet merged.

Story: 2008014
Task: 40666

Change-Id: I32b6561c78c153a4b7e73b1a4b83e045fbe97fb6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/718293/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/examples/amphora-delete-curl', 'octavia/db/repositories.py', 'api-ref/source/v2/amphora.inc', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/root_controller.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/policies/amphora.py']",8,8ad280271d7b10b66567fc619d5f87aa1a588a8c,amphora-delete," action=constants.RBAC_DELETE), constants.RULE_API_ADMIN, ""Delete an Amphora"", [{'method': 'DELETE', 'path': '/v2/octavia/amphorae/{amphora_id}'}] ), policy.DocumentedRuleDefault( '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA,",,201,3
openstack%2Fneutron~master~Ie5cbc0dcc76672b26cd2605f08cfd17a30b4c905,openstack/neutron,master,Ie5cbc0dcc76672b26cd2605f08cfd17a30b4c905,"""ping""/""ping6"" command support in rootwrap filters",MERGED,2020-02-12 19:02:58.000000000,2020-09-04 13:23:26.000000000,2020-02-20 02:31:16.000000000,"[{'_account_id': 841}, {'_account_id': 9732}, {'_account_id': 10459}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-12 19:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b04aac6db6d6f19e483a7ae9403847871acdcce', 'message': '""ping"" command support in rootwrap filters\n\nTo have correct support in rootwrap, ""ping""/""ping6"" command should\nalways be called using the same parameters and in the same order.\n\nThis patch proposes:\n- ping[6] -W <timeout> <address>\n- ping[6] -W <timeout> -c <count> <address>\n- ping[6] -W <timeout> -c <count> -i <interval> <address>\n\nThose commands could be called from inside a namespace. The needed\nfilter is also added in this patch.\n\nChange-Id: Ie5cbc0dcc76672b26cd2605f08cfd17a30b4c905\nCloses-Bug: 1863006\n'}, {'number': 2, 'created': '2020-02-13 09:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d42d4b3a8220864131de562aa7a0811cf443c19', 'message': '""ping""/""ping6"" command support in rootwrap filters\n\nTo have correct support in rootwrap, ""ping""/""ping6"" command should\nhave the correct filters in rootwrap.\n\nBecause ""ping"" command is harmless, ""CommandFilter"" is used to allow\nany binary call, regardless of the parameters used and the order.\n\nNevertheless, this patch also proposes to use ""ping""/""ping6"" with\nthe same parameters and a specific order, to help in the debug\nprocess:\n- ping[6] -W <timeout> <address>\n- ping[6] -W <timeout> -c <count> <address>\n- ping[6] -W <timeout> -c <count> -i <interval> <address>\n\nThose commands could be called from inside a namespace. The needed\nfilter is also added in this patch.\n\nChange-Id: Ie5cbc0dcc76672b26cd2605f08cfd17a30b4c905\nCloses-Bug: #1863006\n'}, {'number': 3, 'created': '2020-02-13 11:58:01.000000000', 'files': ['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/tests/common/net_helpers.py', 'etc/neutron/rootwrap.d/debug.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc3b9df4268ac339d0b7316595a4148ba4c69836', 'message': '""ping""/""ping6"" command support in rootwrap filters\n\nTo have correct support in rootwrap, ""ping""/""ping6"" command should\nhave the correct filters in rootwrap.\n\nBecause ""ping"" command is harmless, ""CommandFilter"" is used to allow\nany binary call, regardless of the parameters used and the order.\n\nNevertheless, this patch also proposes to use ""ping""/""ping6"" with\nthe same parameters and a specific order, to help in the debug\nprocess:\n- ping[6] -W <timeout> <address>\n- ping[6] -W <timeout> -c <count> <address>\n- ping[6] -W <timeout> -c <count> -i <interval> <address>\n\nThose commands could be called from inside a namespace. The needed\nfilter is also added in this patch.\n\nChange-Id: Ie5cbc0dcc76672b26cd2605f08cfd17a30b4c905\nCloses-Bug: #1863006\n'}]",2,707452,cc3b9df4268ac339d0b7316595a4148ba4c69836,68,10,3,16688,,,0,"""ping""/""ping6"" command support in rootwrap filters

To have correct support in rootwrap, ""ping""/""ping6"" command should
have the correct filters in rootwrap.

Because ""ping"" command is harmless, ""CommandFilter"" is used to allow
any binary call, regardless of the parameters used and the order.

Nevertheless, this patch also proposes to use ""ping""/""ping6"" with
the same parameters and a specific order, to help in the debug
process:
- ping[6] -W <timeout> <address>
- ping[6] -W <timeout> -c <count> <address>
- ping[6] -W <timeout> -c <count> -i <interval> <address>

Those commands could be called from inside a namespace. The needed
filter is also added in this patch.

Change-Id: Ie5cbc0dcc76672b26cd2605f08cfd17a30b4c905
Closes-Bug: #1863006
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/707452/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/tests/common/net_helpers.py', 'etc/neutron/rootwrap.d/debug.filters']",3,7b04aac6db6d6f19e483a7ae9403847871acdcce,bug/1863006,"ping_w: RegExpFilter, ping, root, ping, -W, \d+, [0-9\.]+ ping_wc: RegExpFilter, ping, root, ping, -W, \d+, -c, \d+, [0-9\.]+ ping_wci: RegExpFilter, ping, root, ping, -W, \d+, -c, \d+, -i, \d+, [0-9\.]+ ping_w_exec: IpNetnsExecFilter, ping_w, root ping_wc_exec: IpNetnsExecFilter, ping_wc, root ping_wci_exec: IpNetnsExecFilter, ping_wci, root ping6_w: RegExpFilter, ping6, root, ping6, -W, \d+, [0-9A-Fa-f:]+ ping6_wc: RegExpFilter, ping6, root, ping6, -W, \d+, -c, \d+, [0-9A-Fa-f:]+ ping6_wci: RegExpFilter, ping6, root, ping6, -W, \d+, -c, \d+, -i, \d+, [0-9A-Fa-f:]+ ping6_w_exec: IpNetnsExecFilter, ping6_w, root ping6_wc_exec: IpNetnsExecFilter, ping6_wc, root ping6_wci_exec: IpNetnsExecFilter, ping6_wci, root","ping: RegExpFilter, ping, root, ping, -w, \d+, -c, \d+, [0-9\.]+ ping_alt: RegExpFilter, ping, root, ping, -c, \d+, -w, \d+, [0-9\.]+ ping6: RegExpFilter, ping6, root, ping6, -w, \d+, -c, \d+, [0-9A-Fa-f:]+ ping6_alt: RegExpFilter, ping6, root, ping6, -c, \d+, -w, \d+, [0-9A-Fa-f:]+",17,8
openstack%2Ftripleo-heat-templates~master~I5d046b814a211aec9051f5278f98a3e81580057c,openstack/tripleo-heat-templates,master,I5d046b814a211aec9051f5278f98a3e81580057c,Add parameter and CI config to enable Ceph OTW encryption,MERGED,2020-09-01 16:58:43.000000000,2020-09-04 13:15:28.000000000,2020-09-04 11:38:29.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-09-01 16:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a80fe8370575fdbbf105b1fdb649251be38517c', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n'}, {'number': 2, 'created': '2020-09-01 17:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbf538f01d0e990b10781bd1884edff21c587aca', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n'}, {'number': 3, 'created': '2020-09-02 09:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/909da5ace5e7ca1ed5c9438f349181db8f022e88', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n'}, {'number': 4, 'created': '2020-09-02 12:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4a5faaf94768f1e98ec5b1d34419464a098d49f', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n'}, {'number': 5, 'created': '2020-09-02 12:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bab8903e03280c5dddb60da8b2b09207228384f5', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n'}, {'number': 6, 'created': '2020-09-04 06:27:53.000000000', 'files': ['environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89e35393db5c12c626d8880c822017c708e73152', 'message': 'Add parameter and CI config to enable Ceph OTW encryption\n\nStarting with Ceph Nautilus it is possible to enable on-wire\nencryption between daemons and clients.\n\nThis change adds a setting to optionally configure Ceph with OTW\nencryption and a setting in scenario001-standalone to test it.\n\nChange-Id: I5d046b814a211aec9051f5278f98a3e81580057c\n'}]",0,749362,89e35393db5c12c626d8880c822017c708e73152,24,5,6,6796,,,0,"Add parameter and CI config to enable Ceph OTW encryption

Starting with Ceph Nautilus it is possible to enable on-wire
encryption between daemons and clients.

This change adds a setting to optionally configure Ceph with OTW
encryption and a setting in scenario001-standalone to test it.

Change-Id: I5d046b814a211aec9051f5278f98a3e81580057c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/749362/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",3,8a80fe8370575fdbbf105b1fdb649251be38517c,, CephMsgrSecureMode: true,,31,1
openstack%2Fneutron~stable%2Ftrain~I645610febde446b78ed6edd868e699673648a4de,openstack/neutron,stable/train,I645610febde446b78ed6edd868e699673648a4de,Use dict .get() to avoid a KeyError in the segment plugin,MERGED,2020-05-04 13:59:34.000000000,2020-09-04 13:09:13.000000000,2020-05-05 15:43:09.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-04 13:59:34.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b019821abd9304f4eeaea4ed3ea37de8e903eb9e', 'message': 'Use dict .get() to avoid a KeyError in the segment plugin\n\nOn subnet delete, the supplied subnet in the post hook\ncould contain a subnet without certain items, leading to\na KeyError in the segment plugin.  Fix a number of these\noccurences so this cannot happen.\n\nAlso fixed similar code in the segment tests.\n\nChange-Id: I645610febde446b78ed6edd868e699673648a4de\nCloses-bug: #1868724\n(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)\n'}]",0,725278,b019821abd9304f4eeaea4ed3ea37de8e903eb9e,13,5,1,16688,,,0,"Use dict .get() to avoid a KeyError in the segment plugin

On subnet delete, the supplied subnet in the post hook
could contain a subnet without certain items, leading to
a KeyError in the segment plugin.  Fix a number of these
occurences so this cannot happen.

Also fixed similar code in the segment tests.

Change-Id: I645610febde446b78ed6edd868e699673648a4de
Closes-bug: #1868724
(cherry picked from commit 07b015d7897d6cea48eec1fdd02c9e19d4990973)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/725278/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/tests/unit/extensions/test_segment.py']",2,b019821abd9304f4eeaea4ed3ea37de8e903eb9e,bug/1868724-stable/train, if subnet.get('gateway_ip'): if subnet.get('enable_dhcp'):, if subnet['gateway_ip']: if subnet['enable_dhcp']:,15,12
openstack%2Fmanila-ui~master~If8c90c66adbd6ff34ad6aedd373455a34ec73930,openstack/manila-ui,master,If8c90c66adbd6ff34ad6aedd373455a34ec73930,tox: specify ignore_basepython_conflict,MERGED,2020-09-04 00:32:29.000000000,2020-09-04 13:08:03.000000000,2020-09-04 13:04:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-04 00:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/034cb1b9b3fa4e173ec3f343c1758ff4911ebd6b', 'message': 'DNM: check tox python interpreter versions\n\nChange-Id: If8c90c66adbd6ff34ad6aedd373455a34ec73930\n'}, {'number': 2, 'created': '2020-09-04 00:52:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/bbfc3f0a4ff01fa5bbe92a0231dd87b8ae102e9a', 'message': 'tox: specify ignore_basepython_conflict\n\nWe specify ""basepython = python3"" in [testenv] in tox.ini.\nWithout ignore_basepython_conflict = true, an interpreter named \'python3\'\nis looked for even for tox envs like py36, py37, py38.\nAs a result, for example, py38 job will be run against python 3.6\non ubuntu-bionic where python3 is an alias for python3.6.\nThis issue can be addressed by ""ignore_basepython_conflict = true"".\n\nChange-Id: If8c90c66adbd6ff34ad6aedd373455a34ec73930\n'}]",0,749854,bbfc3f0a4ff01fa5bbe92a0231dd87b8ae102e9a,13,5,2,841,,,0,"tox: specify ignore_basepython_conflict

We specify ""basepython = python3"" in [testenv] in tox.ini.
Without ignore_basepython_conflict = true, an interpreter named 'python3'
is looked for even for tox envs like py36, py37, py38.
As a result, for example, py38 job will be run against python 3.6
on ubuntu-bionic where python3 is an alias for python3.6.
This issue can be addressed by ""ignore_basepython_conflict = true"".

Change-Id: If8c90c66adbd6ff34ad6aedd373455a34ec73930
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/54/749854/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,034cb1b9b3fa4e173ec3f343c1758ff4911ebd6b,749854,,,1,0
openstack%2Freleases~master~Ifa930c53f404ad233e578a4c37f9e55717a0535e,openstack/releases,master,Ifa930c53f404ad233e578a4c37f9e55717a0535e,Release neutron non-client libraries for Victoria,MERGED,2020-09-03 16:20:13.000000000,2020-09-04 13:03:02.000000000,2020-09-04 13:03:02.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 16:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ae94de46237ee2286ce3854dfc9f7c593be6fa13', 'message': 'Release neutron non-client libraries for Victoria\n\nChange-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e\n'}, {'number': 2, 'created': '2020-09-04 05:50:58.000000000', 'files': ['deliverables/victoria/os-ken.yaml', 'deliverables/victoria/neutron-lib.yaml', 'deliverables/victoria/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a5c39884c14025c553cc19132766a546ab317969', 'message': 'Release neutron non-client libraries for Victoria\n\nChange-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e\n'}]",2,749778,a5c39884c14025c553cc19132766a546ab317969,13,5,2,841,,,0,"Release neutron non-client libraries for Victoria

Change-Id: Ifa930c53f404ad233e578a4c37f9e55717a0535e
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/749778/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/os-ken.yaml', 'deliverables/victoria/neutron-lib.yaml', 'deliverables/victoria/ovsdbapp.yaml']",3,ae94de46237ee2286ce3854dfc9f7c593be6fa13,neutron-libs-victoria, - version: 1.5.0 projects: - repo: openstack/ovsdbapp hash: 051940c8dc126d7143e98402f1fa3e7c6c69388c,,12,0
openstack%2Freleases~master~Iefb6a401b9df100d301a0fb7bb94641b8b07fe19,openstack/releases,master,Iefb6a401b9df100d301a0fb7bb94641b8b07fe19,Release final metalsmith for Victoria,MERGED,2020-09-03 16:49:05.000000000,2020-09-04 12:59:46.000000000,2020-09-04 12:59:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 16:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/90160a84c5ddfb99e8af30a2821a08161c40488c', 'message': 'Release final metalsmith for Victoria\n\nThis proposed a release for metalsmith to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Iefb6a401b9df100d301a0fb7bb94641b8b07fe19\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-09-04 09:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/10c93d3ffd936b7122e9cb7510483bf8fab5608c', 'message': 'Release final metalsmith for Victoria\n\nThis proposed a release for metalsmith to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Iefb6a401b9df100d301a0fb7bb94641b8b07fe19\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-09-04 10:31:05.000000000', 'files': ['deliverables/victoria/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3869ef2c8fb0bf17e24d80a5ed73076219b2e4df', 'message': 'Release final metalsmith for Victoria\n\nThis proposed a release for metalsmith to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Iefb6a401b9df100d301a0fb7bb94641b8b07fe19\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,749786,3869ef2c8fb0bf17e24d80a5ed73076219b2e4df,23,7,3,11904,,,0,"Release final metalsmith for Victoria

This proposed a release for metalsmith to get any final merged changes
out prior to the lib freeze for Victoria going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, Sept 7.

Change-Id: Iefb6a401b9df100d301a0fb7bb94641b8b07fe19
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/749786/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/metalsmith.yaml'],1,90160a84c5ddfb99e8af30a2821a08161c40488c,victoria-lib-freeze, - version: 1.1.1 projects: - repo: openstack/metalsmith hash: 3621535d6733a8493a39eb1a98994694ed8f16c9 branches: - name: stable/victoria location: 1.1.1,,7,0
openstack%2Ftripleo-common~master~I57599ab3cd8773ae3312930145b9e84244940f41,openstack/tripleo-common,master,I57599ab3cd8773ae3312930145b9e84244940f41,Support basic auth for image registry,MERGED,2020-09-01 20:19:11.000000000,2020-09-04 12:59:02.000000000,2020-09-04 00:38:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 20:19:11.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c73e4f3eb310a90cc37ba8d0aba9c27ca50989b', 'message': 'Support basic auth for image registry\n\nIf you stand up a docker-distribution registry, basic auth can be\nconfigured with tls to lock down the registry. Currently the only auth\nmethod that is supported is the bearer tokens used by the public\nregistries.  This change checks the www-authentication header to see if\nwe should try basic auth or the bearer token auth.\n\nChange-Id: I57599ab3cd8773ae3312930145b9e84244940f41\nCloses-Bug: #1893826\n'}]",0,749392,0c73e4f3eb310a90cc37ba8d0aba9c27ca50989b,11,4,1,14985,,,0,"Support basic auth for image registry

If you stand up a docker-distribution registry, basic auth can be
configured with tls to lock down the registry. Currently the only auth
method that is supported is the bearer tokens used by the public
registries.  This change checks the www-authentication header to see if
we should try basic auth or the bearer token auth.

Change-Id: I57599ab3cd8773ae3312930145b9e84244940f41
Closes-Bug: #1893826
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/749392/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,0c73e4f3eb310a90cc37ba8d0aba9c27ca50989b,bug/1893826," auth = None if www_auth.startswith('Bearer '): LOG.debug('Using bearer token auth') realm = re.search('realm=""(.*?)""', www_auth).group(1) if 'service=' in www_auth: token_param['service'] = re.search( 'service=""(.*?)""', www_auth).group(1) token_param['scope'] = 'repository:%s:pull' % image[1:] if username: auth = requests_auth.HTTPBasicAuth(username, password) LOG.debug('Token parameters: params {}'.format(token_param)) rauth = session.get(realm, params=token_param, auth=auth, timeout=30) rauth.raise_for_status() auth_header = 'Bearer %s' % rauth.json()['token'] elif www_auth.startswith('Basic '): LOG.debug('Using basic auth') if not username or not password: raise Exception('Authentication credentials required for ' 'basic auth: %s' % url) rauth = session.get(url, params=token_param, auth=auth, timeout=30) rauth.raise_for_status() auth_header = ( 'Basic %s' % base64.b64encode( bytes(username + ':' + password, 'utf-8')).decode('ascii') ) else: raise ImageUploaderException( 'Unknown www-authenticate value: %s' % www_auth) session.headers['Authorization'] = auth_header "," if not www_auth.startswith('Bearer '): raise ImageUploaderException( 'Unknown www-authenticate value: %s' % www_auth) realm = re.search('realm=""(.*?)""', www_auth).group(1) if 'service=' in www_auth: token_param['service'] = re.search( 'service=""(.*?)""', www_auth).group(1) token_param['scope'] = 'repository:%s:pull' % image[1:] auth = None if username: LOG.debug('Token parameters: params {}'.format(token_param)) rauth = session.get(realm, params=token_param, auth=auth, timeout=30) rauth.raise_for_status() session.headers['Authorization'] = 'Bearer %s' % rauth.json()['token']",56,14
openstack%2Fnova~stable%2Fussuri~Iea5969d0bd16dc9a6f1ba950224b0115e466ce66,openstack/nova,stable/ussuri,Iea5969d0bd16dc9a6f1ba950224b0115e466ce66,Add a lock to prevent race during detach/attach of interface,MERGED,2020-08-31 11:32:44.000000000,2020-09-04 12:54:49.000000000,2020-09-04 12:52:50.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-31 11:32:44.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1892870-eb894956bf04713d.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1825fa997d93fce2bb397409bc954c810a8243a7', 'message': ""Add a lock to prevent race during detach/attach of interface\n\nOnly allow one detach/attach at a time with the same pattern instance-port_id\nin order to avoid race condition when multiple detach/attach are run\nconcurrently.\n\nWhen multiple detach run concurrently on a specific instance-port_id,\nmanager consider many of them as valid because info_cache still contains\nthe port and info_cache is refreshed only once the first request complete.\n\nSo during this gap of time, while the first request accomplishes the task,\nall subsequent requests are destined to fail and log a warning [1] in\ndifferent location of code, depending on the outcome of the first request.\nThe Issue is that all those caught requests finally run a\ndeallocate_port_for_instance which will unbind the port.\n\nThis may cause a race condition, because a successful attach can pass between\nthose unbind, and be silently unbound, resulting in an infrastructure/DB\ninconsistency.\n\n[1] 'Detaching interface %(mac)s failed because the device is no longer found\n     on the guest.'\n\nCloses-Bug: #1892870\nChange-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66\n(cherry picked from commit 39831c55999abe97e3bd26a1c0db2e4ceb467041)\n""}]",0,749033,1825fa997d93fce2bb397409bc954c810a8243a7,18,9,1,15334,,,0,"Add a lock to prevent race during detach/attach of interface

Only allow one detach/attach at a time with the same pattern instance-port_id
in order to avoid race condition when multiple detach/attach are run
concurrently.

When multiple detach run concurrently on a specific instance-port_id,
manager consider many of them as valid because info_cache still contains
the port and info_cache is refreshed only once the first request complete.

So during this gap of time, while the first request accomplishes the task,
all subsequent requests are destined to fail and log a warning [1] in
different location of code, depending on the outcome of the first request.
The Issue is that all those caught requests finally run a
deallocate_port_for_instance which will unbind the port.

This may cause a race condition, because a successful attach can pass between
those unbind, and be silently unbound, resulting in an infrastructure/DB
inconsistency.

[1] 'Detaching interface %(mac)s failed because the device is no longer found
     on the guest.'

Closes-Bug: #1892870
Change-Id: Iea5969d0bd16dc9a6f1ba950224b0115e466ce66
(cherry picked from commit 39831c55999abe97e3bd26a1c0db2e4ceb467041)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/749033/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1892870-eb894956bf04713d.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",4,1825fa997d93fce2bb397409bc954c810a8243a7,bug/1892870," lockname = 'interface-%s-%s' % (instance.uuid, port_id) @utils.synchronized(lockname) def do_attach_interface(context, instance, network_id, port_id, requested_ip, tag): return self._attach_interface(context, instance, network_id, port_id, requested_ip, tag) return do_attach_interface(context, instance, network_id, port_id, requested_ip, tag) def _attach_interface(self, context, instance, network_id, port_id, requested_ip, tag): lockname = 'interface-%s-%s' % (instance.uuid, port_id) @utils.synchronized(lockname) def do_detach_interface(context, instance, port_id): self._detach_interface(context, instance, port_id) do_detach_interface(context, instance, port_id) def _detach_interface(self, context, instance, port_id): # NOTE(aarents): we need to refresh info cache from DB here, # as previous detach/attach lock holder just updated it. compute_utils.refresh_info_cache_for_instance(context, instance)",,56,7
openstack%2Fpython-tripleoclient~stable%2Ftrain~If00080aab367bc7db958b54924db3a3ba9482e47,openstack/python-tripleoclient,stable/train,If00080aab367bc7db958b54924db3a3ba9482e47,DNM Test CI,ABANDONED,2020-09-04 12:34:16.000000000,2020-09-04 12:54:30.000000000,,[],"[{'number': 1, 'created': '2020-09-04 12:34:16.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ab5efbf3772d3d18b8e2f626deb94f66532b0ec', 'message': 'DNM Test CI\n\nChange-Id: If00080aab367bc7db958b54924db3a3ba9482e47\n'}]",0,749932,4ab5efbf3772d3d18b8e2f626deb94f66532b0ec,2,0,1,16515,,,0,"DNM Test CI

Change-Id: If00080aab367bc7db958b54924db3a3ba9482e47
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/32/749932/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,4ab5efbf3772d3d18b8e2f626deb94f66532b0ec,noop, return NoneNone., return None.,1,1
openstack%2Fkuryr-kubernetes~master~I082ab9d5881eab5a4686f4f3ec43b1cd0d8e8ad8,openstack/kuryr-kubernetes,master,I082ab9d5881eab5a4686f4f3ec43b1cd0d8e8ad8,NP: Protect from disappearing resources,MERGED,2020-09-04 09:02:32.000000000,2020-09-04 12:52:44.000000000,2020-09-04 12:50:47.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-09-04 09:02:32.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/561f384789d4268ae7b359da960b3cc3fab2daac', 'message': ""NP: Protect from disappearing resources\n\nIt may happen that between we list some resources and start iterating\nthrough them, some get deleted. This commit makes sure we're ignoring\nerrors coming from such situations in NP code.\n\nCloses-Bug: 1894194\n\nChange-Id: I082ab9d5881eab5a4686f4f3ec43b1cd0d8e8ad8\n""}]",0,749906,561f384789d4268ae7b359da960b3cc3fab2daac,10,4,1,11600,,,0,"NP: Protect from disappearing resources

It may happen that between we list some resources and start iterating
through them, some get deleted. This commit makes sure we're ignoring
errors coming from such situations in NP code.

Closes-Bug: 1894194

Change-Id: I082ab9d5881eab5a4686f4f3ec43b1cd0d8e8ad8
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/06/749906/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py']",3,561f384789d4268ae7b359da960b3cc3fab2daac,np-delete-bug," try: _bump_networkpolicy(crd) except exceptions.K8sResourceNotFound: # The NP got deleted, ignore it. continue try: _bump_networkpolicy(crd) except exceptions.K8sResourceNotFound: # The NP got deleted, ignore it. continue try: _bump_networkpolicy(crd) except exceptions.K8sResourceNotFound: # The NP got deleted, ignore it. continue try: _bump_networkpolicy(crd) except exceptions.K8sResourceNotFound: # The NP got deleted, ignore it. continue"," LOG.exception(""NetworkPolicy not found"") _bump_networkpolicy(crd) _bump_networkpolicy(crd) _bump_networkpolicy(crd) _bump_networkpolicy(crd)",28,10
openstack%2Fneutron~master~I28f2914b1b67659af2db7240eae730ac43daccd2,openstack/neutron,master,I28f2914b1b67659af2db7240eae730ac43daccd2,metadata-ipv6: Router namespace,MERGED,2020-03-27 16:57:22.000000000,2020-09-04 12:47:09.000000000,2020-09-04 12:44:04.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-27 16:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2265cb4111041c4b01508fe6010c532dbcda730e', 'message': 'WIP metadata on ipv6 in router namespace\n\nThis is not working at all yet.\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\n'}, {'number': 2, 'created': '2020-04-02 15:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a54346e70bbbe4fe94a46b9804e29f0ce714024d', 'message': 'WIP metadata on ipv6 in router namespace\n\nThis is almost working, but we still need to push the proper\nipv6 metadata host route into the guest.\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\n'}, {'number': 3, 'created': '2020-04-03 14:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14ee76285a57fd6d0186e3202ab6ef9eeb319661', 'message': ""WIP metadata on ipv6 in router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes into the guest.\n\nWe still need to fine tune the header mangling and/or the\nmetadata-agent so it can the handle the IDs we're sending to it.\nUntil then we're getting 404 Not Found for each metadata request.\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\n""}, {'number': 4, 'created': '2020-04-09 15:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17beaabfcbb5d4b4868f210b24985bd4ac02fd5f', 'message': ""WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes into the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nWe still need to fine tune the header mangling and/or the\nmetadata-agent so it can the handle the IDs we're sending to it.\nUntil then we're getting 404 Not Found for each metadata request.\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n""}, {'number': 5, 'created': '2020-04-16 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d31e68e9f103c236026bfc32b9b134e21aa76b9e', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 6, 'created': '2020-04-20 15:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94a7b4518efc1e5984ea207f62b6c0bc2c78971e', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 7, 'created': '2020-04-21 12:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83f3978570e3434d9c72ab4a1a8f1aaa108cf02d', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 8, 'created': '2020-04-30 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/575348340baa2fd768f1c3860bd1c9be0d1605c5', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 9, 'created': '2020-05-01 13:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8e065822581f93769457c8d33068e27ad78797a', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 10, 'created': '2020-05-01 14:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/360dfd3dcd944ff362ecf71cef7a7caec8c9ccc2', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 11, 'created': '2020-06-17 15:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffca5f99346da37081c393514b0fd329c643e41c', 'message': 'WIP metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 12, 'created': '2020-06-22 15:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/201dad2560d7c6c4256a441240f9ba6ac89d3f84', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 13, 'created': '2020-07-09 11:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fc63ca0d90e2567fe48d764a94c48978167a033', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 14, 'created': '2020-07-14 13:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba0ab37acac273a3930c91029cf3bf7ea87bb7f3', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 15, 'created': '2020-07-16 15:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/738c61ab50684390814e55f344e3f4c99e1a63de', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 16, 'created': '2020-07-17 13:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff6af1b9b139c01c9106b7f82031b92b6eac4302', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 17, 'created': '2020-07-22 15:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f6c7ee576de07effdcd5a25e4b87174c0965527', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nTODO in end-user docs list the subnet option values (--address-mode,\n--address-ra-mode) that are expected to work\n\nTODO tests\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 18, 'created': '2020-07-29 14:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5f8db4b0e05e1797c3e33de6dab55a411834718', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nAll the following subnet modes are supposed to work:\n\n--ipv6-ra-mode slaac --ipv6-address-mode slaac\n--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless\n--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 19, 'created': '2020-08-04 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11f86726ab6338404a2f4bd4a9ce04333bf992b6', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nThe following v6 subnet modes are supposed to work:\n\n--ipv6-ra-mode slaac --ipv6-address-mode slaac\n--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless\n--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 20, 'created': '2020-08-06 13:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6635a45a7f5a829de51af7a408330d39349bed63', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nThe following v6 subnet modes are supposed to work:\n\n--ipv6-ra-mode slaac --ipv6-address-mode slaac\n--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless\n--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 21, 'created': '2020-08-11 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29da66d35a41c73b086b70b122e7b1ec73d1fd84', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nThe following v6 subnet modes are supposed to work:\n\n--ipv6-ra-mode slaac --ipv6-address-mode slaac\n--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless\n--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 22, 'created': '2020-08-17 09:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b4e05a548eb6d2d44960f698bf5a3f6b8cebc1a', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nThe following v6 subnet modes are supposed to work:\n\n--ipv6-ra-mode slaac --ipv6-address-mode slaac\n--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless\n--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}, {'number': 23, 'created': '2020-08-31 11:04:44.000000000', 'files': ['neutron/agent/linux/ra.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/metadata/agent.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1f4ee3ade0e694b6b9c1de5389924467b7fd943', 'message': 'metadata-ipv6: Router namespace\n\nWe push a v6 host route to make the guest send its metadata requests\nin the direction of our router. We redirect it to haproxy which\nmangles the headers and sends the request along to metadata-agent.\n\nApparently the supported list of dhcp options for dhcpv6 is quite\nshort in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything\nlike classless-static-route for dhcpv4. So we must rely solely on\nradvd to push host routes to the guest.\n\nMetadata access over IPv6 is supposed to work both on dual-stack and\nv6-only networks.\n\nThe following v6 subnet modes are supposed to work:\n\n--ipv6-ra-mode slaac --ipv6-address-mode slaac\n--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless\n--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful\n\nChange-Id: I28f2914b1b67659af2db7240eae730ac43daccd2\nPartial-Bug: #1460177\n'}]",31,715483,a1f4ee3ade0e694b6b9c1de5389924467b7fd943,154,13,23,15554,,,0,"metadata-ipv6: Router namespace

We push a v6 host route to make the guest send its metadata requests
in the direction of our router. We redirect it to haproxy which
mangles the headers and sends the request along to metadata-agent.

Apparently the supported list of dhcp options for dhcpv6 is quite
short in dnsmasq (cf. dnsmasq --help dhcp6) - not including anything
like classless-static-route for dhcpv4. So we must rely solely on
radvd to push host routes to the guest.

Metadata access over IPv6 is supposed to work both on dual-stack and
v6-only networks.

The following v6 subnet modes are supposed to work:

--ipv6-ra-mode slaac --ipv6-address-mode slaac
--ipv6-ra-mode dhcpv6-stateless --ipv6-address-mode dhcpv6-stateless
--ipv6-ra-mode dhcpv6-stateful --ipv6-address-mode dhcpv6-stateful

Change-Id: I28f2914b1b67659af2db7240eae730ac43daccd2
Partial-Bug: #1460177
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/715483/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/metadata/driver.py', 'neutron/agent/l3/router_info.py']",2,2265cb4111041c4b01508fe6010c532dbcda730e,metadata-ipv6,"from oslo_utils import netutils if netutils.is_ipv6_enabled(): mark_metadata_v6_for_internal_interfaces = ( '-d fe80::a9fe:a9fe/128 ' '-i %(interface_name)s ' '-p tcp -m tcp --dport 80 ' '-j MARK --set-xmark %(value)s/%(mask)s' % {'interface_name': INTERNAL_DEV_PREFIX + '+', 'value': self.agent_conf.metadata_access_mark, 'mask': lib_constants.ROUTER_MARK_MASK}) self.iptables_manager.ipv6['mangle'].add_rule( 'PREROUTING', mark_metadata_v6_for_internal_interfaces) ",,20,1
openstack%2Fopenstacksdk~master~I326d168d22476b86ae986b471b7c424e153f7076,openstack/openstacksdk,master,I326d168d22476b86ae986b471b7c424e153f7076,Fix a bogus error in config loader when using several args with dashes,MERGED,2020-09-04 08:41:50.000000000,2020-09-04 12:46:29.000000000,2020-09-04 12:44:07.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-09-04 08:41:50.000000000', 'files': ['openstack/config/loader.py', 'openstack/tests/unit/config/test_loader.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4b7a10839171a625f9ebd87abdef04e611d7ddd6', 'message': 'Fix a bogus error in config loader when using several args with dashes\n\nIronic routinely uses arguments like:\n\n --driver-info key1=value1 --driver-info key2=value2\n\nThis is currently broken because of the duplication detection logic.\nFix it to only trigger when there are several *different* froms of\nthe same argument.\n\nChange-Id: I326d168d22476b86ae986b471b7c424e153f7076\n'}]",0,749903,4b7a10839171a625f9ebd87abdef04e611d7ddd6,8,3,1,10239,,,0,"Fix a bogus error in config loader when using several args with dashes

Ironic routinely uses arguments like:

 --driver-info key1=value1 --driver-info key2=value2

This is currently broken because of the duplication detection logic.
Fix it to only trigger when there are several *different* froms of
the same argument.

Change-Id: I326d168d22476b86ae986b471b7c424e153f7076
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/749903/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/loader.py', 'openstack/tests/unit/config/test_loader.py']",2,4b7a10839171a625f9ebd87abdef04e611d7ddd6,fix-argv,"from openstack import exceptions class TestFixArgv(base.TestCase): def test_no_changes(self): argv = ['-a', '-b', '--long-arg', '--multi-value', 'key1=value1', '--multi-value', 'key2=value2'] expected = argv[:] loader._fix_argv(argv) self.assertEqual(expected, argv) def test_replace(self): argv = ['-a', '-b', '--long-arg', '--multi_value', 'key1=value1', '--multi_value', 'key2=value2'] expected = ['-a', '-b', '--long-arg', '--multi-value', 'key1=value1', '--multi-value', 'key2=value2'] loader._fix_argv(argv) self.assertEqual(expected, argv) def test_mix(self): argv = ['-a', '-b', '--long-arg', '--multi_value', 'key1=value1', '--multi-value', 'key2=value2'] self.assertRaises(exceptions.ConfigException, loader._fix_argv, argv)",,26,2
openstack%2Ftripleo-heat-templates~master~I947e6394b1e24200c51336c8acc7d49a7b8fbb0b,openstack/tripleo-heat-templates,master,I947e6394b1e24200c51336c8acc7d49a7b8fbb0b,reno only - ironic role specific parameters,MERGED,2020-09-02 09:56:39.000000000,2020-09-04 12:05:08.000000000,2020-09-04 12:03:22.000000000,"[{'_account_id': 6681}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-02 09:56:39.000000000', 'files': ['releasenotes/notes/ironic-role-specifc-conductor-group-and-networks-9c5c409253ebe3c8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd6aae1ecaaa864812f1bd70ae4b1bc6baa8cfa5', 'message': 'reno only - ironic role specific parameters\n\nThis releasenote covers the following changes:\n* https://review.opendev.org/731110\n* https://review.opendev.org/731099\n\nRelated Bug: #1880754\nCloses Bug: #1880836\n\nChange-Id: I947e6394b1e24200c51336c8acc7d49a7b8fbb0b\n'}]",0,749474,cd6aae1ecaaa864812f1bd70ae4b1bc6baa8cfa5,13,4,1,24245,,,0,"reno only - ironic role specific parameters

This releasenote covers the following changes:
* https://review.opendev.org/731110
* https://review.opendev.org/731099

Related Bug: #1880754
Closes Bug: #1880836

Change-Id: I947e6394b1e24200c51336c8acc7d49a7b8fbb0b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/749474/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ironic-role-specifc-conductor-group-and-networks-9c5c409253ebe3c8.yaml'],1,cd6aae1ecaaa864812f1bd70ae4b1bc6baa8cfa5,ironic-role-specific,"--- features: - | The following parameters are now role specific: * IronicConductorGroup * IronicCleaningNetwork * IronicProvisioningNetwork * IronicRescuingNetwork This allow operators to deploy the Baremetal service in a configuration with multiple conductor groups utilizing different networks for provisioning, cleaning and rescuing per conductor group or conductor. ",,14,0
openstack%2Fansible-role-collect-logs~master~Ice6dcc441d5bd877ee0c623f184c1645d4759440,openstack/ansible-role-collect-logs,master,Ice6dcc441d5bd877ee0c623f184c1645d4759440,add build-err.log to logstash,MERGED,2020-09-01 16:46:47.000000000,2020-09-04 12:03:21.000000000,2020-09-04 12:03:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 16:46:47.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8c93d27a23aa211e6a86526415b4baa4de2a1a50', 'message': 'add build-err.log to logstash\n\nChange-Id: Ice6dcc441d5bd877ee0c623f184c1645d4759440\n'}]",1,749361,8c93d27a23aa211e6a86526415b4baa4de2a1a50,19,5,1,9592,,,0,"add build-err.log to logstash

Change-Id: Ice6dcc441d5bd877ee0c623f184c1645d4759440
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/61/749361/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,8c93d27a23aa211e6a86526415b4baa4de2a1a50,, - /home/*/build-err.log,,1,0
openstack%2Fneutron~master~I7c10c8fc2c11329c58fc43b9d611b0aeea2b2ed5,openstack/neutron,master,I7c10c8fc2c11329c58fc43b9d611b0aeea2b2ed5,[OVN] Do not fail to when deleting PG if it's already gone,MERGED,2020-09-01 13:27:46.000000000,2020-09-04 11:43:14.000000000,2020-09-04 11:41:25.000000000,"[{'_account_id': 5756}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-01 13:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b91c9729a1be21afb166ddfa533f8af7314f727', 'message': ""[OVN] Do not fail to when deleting PG if it's already gone\n\nTrivial-ish patch that sets if_exists=True to the pg_del() command when\ndeleting the port group.\n\nChange-Id: I7c10c8fc2c11329c58fc43b9d611b0aeea2b2ed5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2020-09-02 18:51:34.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4216e43f96c323dc1890632ce62dfef7c1c5ee39', 'message': ""[OVN] Do not fail to when deleting PG if it's already gone\n\nTrivial-ish patch that sets if_exists=True to the pg_del() command when\ndeleting the port group.\n\nChange-Id: I7c10c8fc2c11329c58fc43b9d611b0aeea2b2ed5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,749283,4216e43f96c323dc1890632ce62dfef7c1c5ee39,27,9,2,6773,,,0,"[OVN] Do not fail to when deleting PG if it's already gone

Trivial-ish patch that sets if_exists=True to the pg_del() command when
deleting the port group.

Change-Id: I7c10c8fc2c11329c58fc43b9d611b0aeea2b2ed5
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/749283/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,1b91c9729a1be21afb166ddfa533f8af7314f727,ovn-pg_del-if_exists," txn.add(self._nb_idl.pg_del(name=name, if_exists=True))", txn.add(self._nb_idl.pg_del(name=name)),1,1
openstack%2Fneutron~stable%2Fqueens~I01ced41201b61c624e675375b7bcd9589b2553e0,openstack/neutron,stable/queens,I01ced41201b61c624e675375b7bcd9589b2553e0,Pass context in l3 flavor notifications,MERGED,2020-09-02 05:48:04.000000000,2020-09-04 11:41:34.000000000,2020-09-04 11:41:34.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-02 05:48:04.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a47b7c065fa551701181071c672218af31b72a22', 'message': 'Pass context in l3 flavor notifications\n\nThere are some notifications pass context in l3 flavor\nnotifications, and add context for consistency.\n\nChange-Id: I01ced41201b61c624e675375b7bcd9589b2553e0\nCloses-bug: #1785539\n(cherry picked from commit ae81d403f7b8508fe581647b5853c702dd2331a2)\n'}]",0,749434,a47b7c065fa551701181071c672218af31b72a22,21,5,1,9531,,,0,"Pass context in l3 flavor notifications

There are some notifications pass context in l3 flavor
notifications, and add context for consistency.

Change-Id: I01ced41201b61c624e675375b7bcd9589b2553e0
Closes-bug: #1785539
(cherry picked from commit ae81d403f7b8508fe581647b5853c702dd2331a2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/749434/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",3,a47b7c065fa551701181071c672218af31b72a22,bug/1785539-stable/rocky-stable/queens," self, context=context, **fips[0]) context=context, self, context=context, **floatingip_dict)"," self, **fips[0]) self, **floatingip_dict)",66,2
openstack%2Fneutron~stable%2Frocky~Icc995f7b2b465921e41342711d17539f16ead0ce,openstack/neutron,stable/rocky,Icc995f7b2b465921e41342711d17539f16ead0ce,Handle properly existing LLA address during l3 agent restart,MERGED,2020-08-25 09:13:47.000000000,2020-09-04 11:41:31.000000000,2020-09-04 11:41:31.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 09:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bf6161e07cfce4ed5358e277d0d521819352016', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nConflicts:\n    neutron/agent/linux/pd.py\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}, {'number': 2, 'created': '2020-08-27 20:48:23.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/714fb4e3d2b33c144b25aa351f585b44cf70d20b', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nConflicts:\n    neutron/agent/linux/pd.py\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}]",1,747875,714fb4e3d2b33c144b25aa351f585b44cf70d20b,54,6,2,11975,,,0,"Handle properly existing LLA address during l3 agent restart

In case when L3 agent is hosting routers which have got subnets
with Prefix Delegation enabled, agent couldn't properly handle
IpAddressAlreadyExists exception raised when pd module tries to
configure link local IPv6 addresses.

Now this is fixed and L3 agent can restart without problems in such
case.

Conflicts:
    neutron/agent/linux/pd.py

Change-Id: Icc995f7b2b465921e41342711d17539f16ead0ce
Closes-Bug: #1892362
(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/747875/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py']",2,4bf6161e07cfce4ed5358e277d0d521819352016,bug/1892362-stable/rocky,"from neutron.agent.linux import ip_lib try: self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA # uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask) except ip_lib.IpAddressAlreadyExists: pass"," self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask)",62,10
openstack%2Fironic~master~I8c09a060b31bf4710b11565a9e798a67fa0f7cb3,openstack/ironic,master,I8c09a060b31bf4710b11565a9e798a67fa0f7cb3,Trivial: fix minor typo on RFC number,MERGED,2020-09-03 14:50:58.000000000,2020-09-04 11:20:41.000000000,2020-09-04 11:18:15.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-09-03 14:50:58.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/485126e8afd4d98bc37775a308a06b8e5871f33c', 'message': ""Trivial: fix minor typo on RFC number\n\nTurns out we had the wrong RFC number noted for dhcpv6 options.\n\nI'm guessing I accidently hit 8 instead of 9 when typing it out\noriginally.\n\nChange-Id: I8c09a060b31bf4710b11565a9e798a67fa0f7cb3\n""}]",0,749754,485126e8afd4d98bc37775a308a06b8e5871f33c,12,6,1,11655,,,0,"Trivial: fix minor typo on RFC number

Turns out we had the wrong RFC number noted for dhcpv6 options.

I'm guessing I accidently hit 8 instead of 9 when typing it out
originally.

Change-Id: I8c09a060b31bf4710b11565a9e798a67fa0f7cb3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/749754/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,485126e8afd4d98bc37775a308a06b8e5871f33c,,DHCPV6_BOOTFILE_NAME = '59' # rfc5970# DHCPV6_BOOTFILE_PARAMS = '60' # rfc5970,DHCPV6_BOOTFILE_NAME = '59' # rfc5870# DHCPV6_BOOTFILE_PARAMS = '60' # rfc5870,2,2
openstack%2Fkolla~stable%2Ftrain~I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771,openstack/kolla,stable/train,I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771,Use upstream Erlang on CentOS 8,MERGED,2020-06-23 09:36:58.000000000,2020-09-04 11:08:43.000000000,2020-09-04 11:06:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-23 09:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d8b0b5a2e9a21b386fe9698edb4f436ae393425', 'message': 'Use upstream Erlang on CentOS 8\n\nTrain only.\n\nIn CentOS 8 Train we had a mix of rmq upstream and rdo packages,\nerlang was from RDO and rmq (3.7) from rmq.\nAs this is not really tested by any other party, I propose to\nunify the sources of both.\n\nChange-Id: I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771\nCloses-bug: #1884034\n'}, {'number': 2, 'created': '2020-06-24 08:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0d9bf85aea28f9c0a87409d051f4dd95fa7dc451', 'message': 'Use upstream Erlang on CentOS 8\n\nTrain only.\n\nIn CentOS 8 Train we had a mix of rmq upstream and rdo packages,\nerlang was from RDO and rmq (3.7) from rmq.\nAs this is not really tested by any other party, I propose to\nunify the sources of both.\n\nChange-Id: I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771\nCloses-bug: #1884034\n'}, {'number': 3, 'created': '2020-06-24 08:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3cb44bd14e84d96f696094a0a688508a712d6714', 'message': 'Use upstream Erlang on CentOS 8\n\nTrain only.\n\nIn CentOS 8 Train we had a mix of rmq upstream and rdo packages,\nerlang was from RDO and rmq (3.7) from rmq.\nAs this is not really tested by any other party, I propose to\nunify the sources of both.\n\nChange-Id: I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771\nCloses-bug: #1884034\n'}, {'number': 4, 'created': '2020-09-03 18:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b689b60746605d3cefb655afc5f7b8976441fce8', 'message': 'Use upstream Erlang on CentOS 8\n\nTrain only.\n\nIn CentOS 8 Train we had a mix of rmq upstream and rdo packages,\nerlang was from RDO and rmq (3.7) from rmq.\nAs this is not really tested by any other party, I propose to\nunify the sources of both.\n\nChange-Id: I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771\nCloses-bug: #1884034\n'}, {'number': 5, 'created': '2020-09-04 07:13:58.000000000', 'files': ['releasenotes/notes/bug-1884034-328afb8831779e02.yaml', 'docker/bifrost/bifrost-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-erlang.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fec2c701dc36ea8d246b69290f5546bf37d414b3', 'message': 'Use upstream Erlang on CentOS 8\n\nTrain only.\n\nIn CentOS 8 Train we had a mix of rmq upstream and rdo packages,\nerlang was from RDO and rmq (3.7) from rmq.\nAs this is not really tested by any other party, I propose to\nunify the sources of both.\n\nChange-Id: I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771\nCloses-bug: #1884034\n'}]",6,737478,fec2c701dc36ea8d246b69290f5546bf37d414b3,35,4,5,30491,,,0,"Use upstream Erlang on CentOS 8

Train only.

In CentOS 8 Train we had a mix of rmq upstream and rdo packages,
erlang was from RDO and rmq (3.7) from rmq.
As this is not really tested by any other party, I propose to
unify the sources of both.

Change-Id: I52094ce9e3d98cbdedfdc23c8a43dd3093ce1771
Closes-bug: #1884034
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/737478/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1884034-328afb8831779e02.yaml', 'docker/bifrost/bifrost-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-erlang-aarch64.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo']",5,6d8b0b5a2e9a21b386fe9698edb4f436ae393425,bug/1884034,[rabbitmq_rabbitmq-erlang] name=rabbitmq_rabbitmq-erlang baseurl=https://dl.bintray.com/rabbitmq-erlang/rpm/erlang/22/el/$releasever/ gpgcheck=1 enabled=1 gpgkey=https://www.rabbitmq.com/rabbitmq-release-signing-key.asc ,,36,8
openstack%2Fkolla~stable%2Frocky~I128fb04a5ddeb77428697d33e2015158bc74738f,openstack/kolla,stable/rocky,I128fb04a5ddeb77428697d33e2015158bc74738f,Add /var/lib/kolla/venv/bin to Zun exec_dirs,MERGED,2020-06-21 23:31:10.000000000,2020-09-04 11:06:38.000000000,2020-09-04 11:06:38.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-06-21 23:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07235fb131adbfaa0d3a67d07ec1bc6e7a9501f5', 'message': 'Add /var/lib/kolla/venv/bin to Zun exec_dirs\n\nThis is necessary for rootwrap/privsep to work properly\n\nChange-Id: I128fb04a5ddeb77428697d33e2015158bc74738f\n(cherry picked from commit 570a6120be48dde70a793be52574a0ae1e0fce6f)\n'}, {'number': 2, 'created': '2020-06-21 23:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f6d6e8c64c3aa1e4c49a9e6d1004a48968f8da8b', 'message': 'Add /var/lib/kolla/venv/bin to Zun exec_dirs\n\nThis is necessary for rootwrap/privsep to work properly\n\nCloses-Bug: #1883604\nChange-Id: I128fb04a5ddeb77428697d33e2015158bc74738f\n(cherry picked from commit 570a6120be48dde70a793be52574a0ae1e0fce6f)\n'}, {'number': 3, 'created': '2020-08-03 16:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af40df9e6011d65a153f6d31f99bdd90cc726fd6', 'message': 'Add /var/lib/kolla/venv/bin to Zun exec_dirs\n\nThis is necessary for rootwrap/privsep to work properly\n\nCloses-Bug: #1883604\nChange-Id: I128fb04a5ddeb77428697d33e2015158bc74738f\n(cherry picked from commit 570a6120be48dde70a793be52574a0ae1e0fce6f)\n'}, {'number': 4, 'created': '2020-09-04 07:37:26.000000000', 'files': ['docker/zun/zun-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dd0069addbfba430d1a8cf15e91005d0f0279c11', 'message': 'Add /var/lib/kolla/venv/bin to Zun exec_dirs\n\nThis is necessary for rootwrap/privsep to work properly\n\nCloses-Bug: #1883604\nChange-Id: I128fb04a5ddeb77428697d33e2015158bc74738f\n(cherry picked from commit 570a6120be48dde70a793be52574a0ae1e0fce6f)\n'}]",0,737198,dd0069addbfba430d1a8cf15e91005d0f0279c11,31,6,4,11536,,,0,"Add /var/lib/kolla/venv/bin to Zun exec_dirs

This is necessary for rootwrap/privsep to work properly

Closes-Bug: #1883604
Change-Id: I128fb04a5ddeb77428697d33e2015158bc74738f
(cherry picked from commit 570a6120be48dde70a793be52574a0ae1e0fce6f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/737198/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/zun/zun-base/Dockerfile.j2'],1,07235fb131adbfaa0d3a67d07ec1bc6e7a9501f5,," && chown -R zun: /etc/zun /var/www/cgi-bin/zun \ && sed -i 's|^exec_dirs.*|exec_dirs=/var/lib/kolla/venv/bin,/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin|g' /etc/zun/rootwrap.conf", && chown -R zun: /etc/zun /var/www/cgi-bin/zun,2,1
openstack%2Fkolla~stable%2Frocky~I79ee884ad35bf5166c9ea303d73416271ff5f637,openstack/kolla,stable/rocky,I79ee884ad35bf5166c9ea303d73416271ff5f637,Fix ironic build issues - LANG related,MERGED,2020-09-04 07:22:20.000000000,2020-09-04 11:06:37.000000000,2020-09-04 11:06:36.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-04 07:22:20.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/965a288da2e3c0f170167279990ddeeb5f1de054', 'message': ""Fix ironic build issues - LANG related\n\nironic drivers-requirements installation fails with:\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 2:\nordinal not in range(128)\n\nSquashed ,,cherry-pick'' from stable/train - adding LANG block and locale-gen\nfor Ubuntu family in base Dockerfile:\n\nhttps://review.opendev.org/#/c/684808/\nhttps://review.opendev.org/#/c/691835/\nhttps://review.opendev.org/#/c/694099/\n\nTemporarily blocks bifrost building as well - to revert!\n\nChange-Id: I79ee884ad35bf5166c9ea303d73416271ff5f637\n(cherry picked from commit 3c435cb0781b343ad7f7223609cf2eefb2f8738a)\n""}]",0,749881,965a288da2e3c0f170167279990ddeeb5f1de054,7,4,1,30491,,,0,"Fix ironic build issues - LANG related

ironic drivers-requirements installation fails with:
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 2:
ordinal not in range(128)

Squashed ,,cherry-pick'' from stable/train - adding LANG block and locale-gen
for Ubuntu family in base Dockerfile:

https://review.opendev.org/#/c/684808/
https://review.opendev.org/#/c/691835/
https://review.opendev.org/#/c/694099/

Temporarily blocks bifrost building as well - to revert!

Change-Id: I79ee884ad35bf5166c9ea303d73416271ff5f637
(cherry picked from commit 3c435cb0781b343ad7f7223609cf2eefb2f8738a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/749881/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2']",2,965a288da2e3c0f170167279990ddeeb5f1de054,fix-ironics,"{% block base_lang %} # NOTE(yoctozepto): use a UTF-8 (Unicode) locale like standard image installs do # fixes issues arising from ascii fallback usage ENV LANG en_US.UTF-8 {% endblock %} && apt-get -y install locales \ && sed -e ""s/# $LANG UTF-8/$LANG UTF-8/g"" /etc/locale.gen -i \ && locale-gen ""$LANG"" \",,15,0
openstack%2Fbifrost~stable%2Fussuri~Ibb5c5490bffac019d808e233df81ef98e7cd3b2f,openstack/bifrost,stable/ussuri,Ibb5c5490bffac019d808e233df81ef98e7cd3b2f,DNM test ussuri CI,ABANDONED,2020-09-04 09:39:24.000000000,2020-09-04 10:56:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-04 09:39:24.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/65a455c76541646c24d766a5f6ef33f6424d01ff', 'message': 'DNM test ussuri CI\n\nChange-Id: Ibb5c5490bffac019d808e233df81ef98e7cd3b2f\nDepends-On: https://review.opendev.org/749913\n'}]",0,749914,65a455c76541646c24d766a5f6ef33f6424d01ff,3,1,1,10239,,,0,"DNM test ussuri CI

Change-Id: Ibb5c5490bffac019d808e233df81ef98e7cd3b2f
Depends-On: https://review.opendev.org/749913
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/14/749914/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/defaults/main.yml'],1,65a455c76541646c24d766a5f6ef33f6424d01ff,test,,,1,0
openstack%2Fkolla~stable%2Ftrain~I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,openstack/kolla,stable/train,I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388,Add glusterfs-fuse package to manila-share container,MERGED,2020-08-24 12:13:00.000000000,2020-09-04 10:42:21.000000000,2020-09-04 10:40:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 31506}]","[{'number': 1, 'created': '2020-08-24 12:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/29b9b87fa5feab53329334c570694cbb521b7815', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)\n'}, {'number': 2, 'created': '2020-09-03 18:13:14.000000000', 'files': ['docker/manila/manila-share/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d3bf5731f3678f7a6d76cfa11c755599fcc9527', 'message': 'Add glusterfs-fuse package to manila-share container\n\nChange-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388\n(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)\n'}]",0,747696,9d3bf5731f3678f7a6d76cfa11c755599fcc9527,12,4,2,31506,,,0,"Add glusterfs-fuse package to manila-share container

Change-Id: I2b4cfdb25f3ff82d8d6fdebba8b75a818c10a388
(cherry picked from commit 9ca43b9ed7814045a0219e17524f4e2aed2f1771)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/747696/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/manila/manila-share/Dockerfile.j2'],1,29b9b87fa5feab53329334c570694cbb521b7815,add_glusterfs_driver-stable/train," 'glusterfs-fuse', 'sqlite', 'glusterfs-fuse', 'sqlite',", 'sqlite' 'sqlite',4,2
openstack%2Ftripleo-validations~master~I80880417abc8955a53fdfcab93f27b4bef2ddb11,openstack/tripleo-validations,master,I80880417abc8955a53fdfcab93f27b4bef2ddb11,Use importlib to take place of imp module,MERGED,2020-08-30 14:31:21.000000000,2020-09-04 10:42:15.000000000,2020-09-04 10:40:34.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-30 14:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5bc7ea86227a674325188361801e9c249ed566c4', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html\n\nChange-Id: I80880417abc8955a53fdfcab93f27b4bef2ddb11\n'}, {'number': 2, 'created': '2020-08-31 01:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5fd6d28a09584638f5923c5277714bef4574dcf6', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html\n\nChange-Id: I80880417abc8955a53fdfcab93f27b4bef2ddb11\n'}, {'number': 3, 'created': '2020-09-04 02:22:07.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5678d7dd988056d4974ddfe342b7037c2b723c71', 'message': 'Use importlib to take place of imp module\n\nThe imp module is deprecated[1] since version 3.4, use importlib to\ninstead\n\n[1]: https://docs.python.org/3/library/imp.html\n\nChange-Id: I80880417abc8955a53fdfcab93f27b4bef2ddb11\n'}]",1,748860,5678d7dd988056d4974ddfe342b7037c2b723c71,15,3,3,30356,,,0,"Use importlib to take place of imp module

The imp module is deprecated[1] since version 3.4, use importlib to
instead

[1]: https://docs.python.org/3/library/imp.html

Change-Id: I80880417abc8955a53fdfcab93f27b4bef2ddb11
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/748860/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/ansible-autodoc.py'],1,5bc7ea86227a674325188361801e9c249ed566c4,,"import importlib.util module_spec = importlib.util.spec_from_file_location( '__ansible_module__', filename ) module = importlib.util.module_from_spec(module_spec) module_spec.loader.exec_module(module) return module ","import imp return imp.load_source('__ansible_module__', filename)",8,2
openstack%2Fcyborg~master~Ic97671d11e9bcb3648d5385df2c1075b1d833435,openstack/cyborg,master,Ic97671d11e9bcb3648d5385df2c1075b1d833435,keep GPU driver's deployable_name unique,MERGED,2020-08-27 07:09:50.000000000,2020-09-04 10:42:02.000000000,2020-09-04 10:39:42.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-27 07:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/40e95d4aaf68383f6034790e100ed2fa5b443a7a', 'message': ""keep GPU driver's deployable_name unique\n\nThe deployable_name should be unique because deployable_name will be\nreported to placement as the resource_provider_name, which is required\nby placement to be unique. The current naming method for deployable_name\nin cyborg cannot ensure the uniqueness, so we should enhance this.\n\nThis patch enhances the GPU driver naming method. Others will come\nin series.\n\nChange-Id: Ic97671d11e9bcb3648d5385df2c1075b1d833435\nStory: 2008074\nTask: 40762\n""}, {'number': 2, 'created': '2020-08-28 09:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6cea82845fefa96b21150810a99f3e55be47c155', 'message': ""keep GPU driver's deployable_name unique\n\nThe deployable_name should be unique because deployable_name will be\nreported to placement as the resource_provider_name, which is required\nby placement to be unique. The current naming method for deployable_name\nin cyborg cannot ensure the uniqueness, so we should enhance this.\n\nThis patch enhances the GPU driver naming method. Others will come\nin series.\n\nChange-Id: Ic97671d11e9bcb3648d5385df2c1075b1d833435\nStory: 2008074\nTask: 40762\n""}, {'number': 3, 'created': '2020-08-28 10:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1d65ef895ab54294564ba2b87f9c450870e2510d', 'message': ""keep GPU driver's deployable_name unique\n\nThe deployable_name should be unique because deployable_name will be\nreported to placement as the resource_provider_name, which is required\nby placement to be unique. The current naming method for deployable_name\nin cyborg cannot ensure the uniqueness, so we should enhance this.\n\nThis patch enhances the GPU driver naming method. Others will come\nin series.\n\nChange-Id: Ic97671d11e9bcb3648d5385df2c1075b1d833435\nStory: 2008074\nTask: 40762\n""}, {'number': 4, 'created': '2020-09-03 06:58:48.000000000', 'files': ['cyborg/accelerator/drivers/gpu/utils.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/eeae74151954c3967181f8702df6e8b94f4d0a75', 'message': ""keep GPU driver's deployable_name unique\n\nThe deployable_name should be unique because deployable_name will be\nreported to placement as the resource_provider_name, which is required\nby placement to be unique. The current naming method for deployable_name\nin cyborg cannot ensure the uniqueness, so we should enhance this.\n\nThis patch enhances the GPU driver naming method. Others will come\nin series.\n\nChange-Id: Ic97671d11e9bcb3648d5385df2c1075b1d833435\nStory: 2008074\nTask: 40762\n""}]",35,748366,eeae74151954c3967181f8702df6e8b94f4d0a75,34,8,4,24872,,,0,"keep GPU driver's deployable_name unique

The deployable_name should be unique because deployable_name will be
reported to placement as the resource_provider_name, which is required
by placement to be unique. The current naming method for deployable_name
in cyborg cannot ensure the uniqueness, so we should enhance this.

This patch enhances the GPU driver naming method. Others will come
in series.

Change-Id: Ic97671d11e9bcb3648d5385df2c1075b1d833435
Story: 2008074
Task: 40762
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/66/748366/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/gpu/utils.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py']",2,40e95d4aaf68383f6034790e100ed2fa5b443a7a,keep-deployable_name-unique," @mock.patch('socket.gethostname') def test_discover_gpus(self, mock_devices_for_vendor, mock_hostname): mock_hostname.return_value = 'host-192-168-32-195' 'name': 'host-192-168-32-195_0000_00_06_0',"," def test_discover_gpus(self, mock_devices_for_vendor): 'name': 'NVIDIA Corporation GP100GL ' '[Tesla P100 PCIe 12GB]_0000:00:06.0',",14,4
openstack%2Ftripleo-quickstart~master~I6816db7382e7db6d0ae644c9487b2c5ee595a441,openstack/tripleo-quickstart,master,I6816db7382e7db6d0ae644c9487b2c5ee595a441,Leave container_registry_file to identify containers file in pre-rocky jobs.,MERGED,2020-08-28 13:38:28.000000000,2020-09-04 10:41:53.000000000,2020-09-04 10:40:33.000000000,"[{'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 18846}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-28 13:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/54cbfa60a2e2810a542640843aa732383b5ae204', 'message': 'Leave container_registry_file to identify containers file in pre-rocky jobs.\n\nFrom rocky onwards, the file used to identify the containers parameters\npassed to be containers-prepare-parameter.yaml. This file had a different\nformat than in previous releases. At that point, a new variable was\nintrouduced in tripleo-upgrade to identify this containers parameter file:\nuc_containers_prepare_file. To allow a transition from pre-rocky jobs to\npost-rocky, the container_registry_file parameter was left to know the\nname of the old containers prepare file. This file was removed from the\nappended overcloud_deploy.sh files to avoid issues during the upgrade/\nupdate prepare step [0].\n\nUpdates/Upgrades jobs were still using the container_registry_file as\nthe parameter used to set up the containers, pointing at the post-rocky\nfile containers-prepare-parameter.yaml. The code in [0] then removed it\nfrom the appended -e environmetn files, running the overcloud update\nprepare without the right containers-prepare-parameter.yaml.\n\n[0] - https://review.opendev.org/#/c/717698\nChange-Id: I6816db7382e7db6d0ae644c9487b2c5ee595a441\nCloses-Bug: #1887176\n'}, {'number': 2, 'created': '2020-09-03 15:13:00.000000000', 'files': ['config/general_config/featureset040.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset036.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/28c92c2e6dc35c2b09b66cd61bef8f46d096e2b5', 'message': 'Leave container_registry_file to identify containers file in pre-rocky jobs.\n\nFrom rocky onwards, the file used to identify the containers parameters\npassed to be containers-prepare-parameter.yaml. This file had a different\nformat than in previous releases. At that point, a new variable was\nintrouduced in tripleo-upgrade to identify this containers parameter file:\nuc_containers_prepare_file. To allow a transition from pre-rocky jobs to\npost-rocky, the container_registry_file parameter was left to know the\nname of the old containers prepare file. This file was removed from the\nappended overcloud_deploy.sh files to avoid issues during the upgrade/\nupdate prepare step [0].\n\nUpdates/Upgrades jobs were still using the container_registry_file as\nthe parameter used to set up the containers, pointing at the post-rocky\nfile containers-prepare-parameter.yaml. The code in [0] then removed it\nfrom the appended -e environmetn files, running the overcloud update\nprepare without the right containers-prepare-parameter.yaml.\n\n[0] - https://review.opendev.org/#/c/717698\nChange-Id: I6816db7382e7db6d0ae644c9487b2c5ee595a441\nCloses-Bug: #1887176\n'}]",3,748664,28c92c2e6dc35c2b09b66cd61bef8f46d096e2b5,39,14,2,26343,,,0,"Leave container_registry_file to identify containers file in pre-rocky jobs.

From rocky onwards, the file used to identify the containers parameters
passed to be containers-prepare-parameter.yaml. This file had a different
format than in previous releases. At that point, a new variable was
introuduced in tripleo-upgrade to identify this containers parameter file:
uc_containers_prepare_file. To allow a transition from pre-rocky jobs to
post-rocky, the container_registry_file parameter was left to know the
name of the old containers prepare file. This file was removed from the
appended overcloud_deploy.sh files to avoid issues during the upgrade/
update prepare step [0].

Updates/Upgrades jobs were still using the container_registry_file as
the parameter used to set up the containers, pointing at the post-rocky
file containers-prepare-parameter.yaml. The code in [0] then removed it
from the appended -e environmetn files, running the overcloud update
prepare without the right containers-prepare-parameter.yaml.

[0] - https://review.opendev.org/#/c/717698
Change-Id: I6816db7382e7db6d0ae644c9487b2c5ee595a441
Closes-Bug: #1887176
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/64/748664/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset040.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset036.yml']",4,54cbfa60a2e2810a542640843aa732383b5ae204,,"# container_registry_file is used pre-rocky, after rocky # is uc_containers_prepare_file the one used to identify # the containers file (defaults to: containers-prepare-parameter.yaml) container_registry_file: containers-default-parameters.yaml","# Need to update once stein is released container_registry_file: >- {% if release not in ['ocata','pike','queens','rocky'] -%} containers-prepare-parameter.yaml {%- else -%} containers-default-parameters.yaml {%- endif -%}",16,28
openstack%2Ftripleo-quickstart-extras~master~I781d9e833e5b6d39755b4c4ba376c6aed401343a,openstack/tripleo-quickstart-extras,master,I781d9e833e5b6d39755b4c4ba376c6aed401343a,build-test-packages: retry package installation,MERGED,2020-02-06 10:37:59.000000000,2020-09-04 10:40:32.000000000,2020-09-04 10:40:32.000000000,"[{'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-06 10:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/edb353a339810084d61c71832285bc72996981a4', 'message': 'build-test-packages: retry package installation\n\nyum/package operations can occasionally be affected by network glitches,\nresulting in false negatives and need for rechecks.\n\nThis tries to minimize impact of these by using the same\nuntil/retries/delay approach as is already used for git task.\n\nChange-Id: I781d9e833e5b6d39755b4c4ba376c6aed401343a\n'}, {'number': 2, 'created': '2020-09-03 14:24:17.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2bf5c2e60ad6bc300937fdc331b548ba81cff1fc', 'message': 'build-test-packages: retry package installation\n\nyum/package operations can occasionally be affected by network glitches,\nresulting in false negatives and need for rechecks.\n\nThis tries to minimize impact of these by using the same\nuntil/retries/delay approach as is already used for git task.\n\nChange-Id: I781d9e833e5b6d39755b4c4ba376c6aed401343a\n'}]",0,706226,2bf5c2e60ad6bc300937fdc331b548ba81cff1fc,16,6,2,6683,,,0,"build-test-packages: retry package installation

yum/package operations can occasionally be affected by network glitches,
resulting in false negatives and need for rechecks.

This tries to minimize impact of these by using the same
until/retries/delay approach as is already used for git task.

Change-Id: I781d9e833e5b6d39755b4c4ba376c6aed401343a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/706226/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,edb353a339810084d61c71832285bc72996981a4,retry-dlrn-pkgs, register: package_ensure_dlrndeps until: package_ensure_dlrndeps is success retries: 3 delay: 5 register: package_virtualenv until: package_virtualenv is success retries: 3 delay: 5,,8,0
openstack%2Foctavia~master~Id4141e820a8b34e379a8f60b53fc183680c55c79,openstack/octavia,master,Id4141e820a8b34e379a8f60b53fc183680c55c79,Add amphora image tag capability to Octavia flavors,MERGED,2020-06-23 12:57:47.000000000,2020-09-04 10:36:12.000000000,2020-09-04 10:34:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-23 12:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/63b18ed9a628924b76217f0b2ff5373ddb6f71b0', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 2, 'created': '2020-06-25 18:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6f8db0f856d3888bc4be3bf7cf1453317f062fc1', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nDepends-On: https://review.opendev.org/#/c/738075/\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 3, 'created': '2020-06-25 19:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1dbe70765f2a4d6dc051afe7729cdb4135e7eb0e', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nDepends-On: https://review.opendev.org/#/c/738075/\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 4, 'created': '2020-06-25 19:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/04d2d0ce6bf6d467b3260787495925dc3f0a3390', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nDepends-On: https://review.opendev.org/#/c/738075/\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 5, 'created': '2020-06-26 09:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cdacd5b21b6d167e33c1cf45aaf8a90fc21c2f05', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nDepends-On: https://review.opendev.org/#/c/738075/\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 6, 'created': '2020-07-20 14:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7d4b2c74e9de6cc084d9724a79158545645b598b', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 7, 'created': '2020-07-23 12:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a1fe057f51ba6fe3bdc07ffd16ab0d1cae103c94', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 8, 'created': '2020-09-03 17:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/97e3dfc7f447ed610e90e421c2c063697bd7fb3b', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}, {'number': 9, 'created': '2020-09-03 20:10:25.000000000', 'files': ['octavia/common/constants.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/add-amphora-image-tag-capability-ba2ea034bc01ab48.yaml', 'octavia/api/drivers/amphora_driver/flavor_schema.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ea0bbd2775778c027fa95ee2a26e46d4a565eb43', 'message': ""Add amphora image tag capability to Octavia flavors\n\nThis patch adds 'amp_image_tag' to the supported capabilities of the\namphora provider driver. One use case where operators could find this\nrelevant is on multi CPU architecture clouds.\n\nTask: 40156\nStory: 2007854\n\nChange-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79\n""}]",2,737528,ea0bbd2775778c027fa95ee2a26e46d4a565eb43,30,7,9,6469,,,0,"Add amphora image tag capability to Octavia flavors

This patch adds 'amp_image_tag' to the supported capabilities of the
amphora provider driver. One use case where operators could find this
relevant is on multi CPU architecture clouds.

Task: 40156
Story: 2007854

Change-Id: Id4141e820a8b34e379a8f60b53fc183680c55c79
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/737528/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'releasenotes/notes/add-amphora-image-tag-capability-ba2ea034bc01ab48.yaml', 'octavia/api/drivers/amphora_driver/flavor_schema.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py']",6,63b18ed9a628924b76217f0b2ff5373ddb6f71b0,flavor-amp-image-tag," amp_image_tag = flavor.get( constants.AMP_IMAGE_TAG, CONF.controller_worker.amp_image_tag) amp_image_tag = CONF.controller_worker.amp_image_tag image_tag=amp_image_tag,"," image_tag=CONF.controller_worker.amp_image_tag,",22,2
openstack%2Fcyborg~master~If8afa4718c0c90ac938ec691eff699aaf0e5125e,openstack/cyborg,master,If8afa4718c0c90ac938ec691eff699aaf0e5125e,keep FPGA driver's deployable_name unique,MERGED,2020-08-27 10:37:45.000000000,2020-09-04 10:31:57.000000000,2020-09-04 10:30:13.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-27 10:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9250b5526b4feb84fd55a626e27ddb6a4970cc12', 'message': ""keep FPGA driver's deployable_name unique\n\nChange-Id: If8afa4718c0c90ac938ec691eff699aaf0e5125e\nStory: 2008074\nTask: 40763\n""}, {'number': 2, 'created': '2020-08-28 06:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cdaa5c0f317d6c6d296c0cedf0ad26962621488a', 'message': ""keep FPGA driver's deployable_name unique\n\nChange-Id: If8afa4718c0c90ac938ec691eff699aaf0e5125e\nStory: 2008074\nTask: 40763\n""}, {'number': 3, 'created': '2020-09-04 07:00:57.000000000', 'files': ['cyborg/accelerator/drivers/fpga/intel/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0154175097b25352ed7ff5055d9725e0f2cf3f67', 'message': ""keep FPGA driver's deployable_name unique\n\nThe deployable_name should be unique because deployable_name will be\nreported to placement as the resource_provider_name, which is required\nby placement to be unique. The current naming method for deployable_name\nin cyborg cannot ensure the uniqueness, so we should enhance this.\n\nThis patch enhances the FPGA driver naming method.\n\nChange-Id: If8afa4718c0c90ac938ec691eff699aaf0e5125e\nStory: 2008074\nTask: 40763\n""}]",1,748408,0154175097b25352ed7ff5055d9725e0f2cf3f67,17,6,3,25738,,,0,"keep FPGA driver's deployable_name unique

The deployable_name should be unique because deployable_name will be
reported to placement as the resource_provider_name, which is required
by placement to be unique. The current naming method for deployable_name
in cyborg cannot ensure the uniqueness, so we should enhance this.

This patch enhances the FPGA driver naming method.

Change-Id: If8afa4718c0c90ac938ec691eff699aaf0e5125e
Story: 2008074
Task: 40763
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/08/748408/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/fpga/intel/sysinfo.py'],1,9250b5526b4feb84fd55a626e27ddb6a4970cc12,fpga,"import socket ""name"": ""_"".join((socket.gethostname(), bdf))} driver_dep.name = re.sub(r""(?![a-zA-Z0-9_\-])."", ""_"", fpga[""name""]) driver_dep.name = re.sub(r""(?![a-zA-Z0-9_\-])."", ""_"", vf[""name""])"," ""name"": ""_"".join((INTEL_FPGA_DEV_PREFIX, bdf))} driver_dep.name = fpga[""name""] driver_dep.name = vf[""name""]",4,3
openstack%2Fkolla~stable%2Ftrain~I2ecd3b029b956e000feaaa9e10a169521ba53d66,openstack/kolla,stable/train,I2ecd3b029b956e000feaaa9e10a169521ba53d66,Upgrade Fluentd Monasca plugin,MERGED,2020-07-30 07:46:42.000000000,2020-09-04 10:30:48.000000000,2020-09-04 10:29:07.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-30 07:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e59b5e1aa94a989c6db0c95d0aa6345746258d9', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 2, 'created': '2020-09-02 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/abd2712c6d426285bd3e24aff6a297ff221aa975', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 3, 'created': '2020-09-02 19:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5ff8d8a25cf04010eb226ac94f891aea68693c92', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 4, 'created': '2020-09-02 19:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4cb4827e5e5a20b185343095dae6f12e38d11189', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 5, 'created': '2020-09-02 19:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2bd584439f6f5c0cfc83f810b15cba951118a58e', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 6, 'created': '2020-09-03 07:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65f66461b8e05734a8892d42e896d8d58997752e', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 7, 'created': '2020-09-03 18:12:47.000000000', 'files': ['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bfc8ce085b338df91eabd55b833490e3ec2a02e2', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}]",0,743922,bfc8ce085b338df91eabd55b833490e3ec2a02e2,32,4,7,17669,,,0,"Upgrade Fluentd Monasca plugin

Switch to YAJI JSON parser as suggested in [1].

[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it

Closes-Bug: #1889065
Change-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66
(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/743922/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2']",2,8e59b5e1aa94a989c6db0c95d0aa6345746258d9,bug/1889065,ARG monasca_output_plugin_tag=0.1.2,ARG monasca_output_plugin_tag=0.1.1,6,1
openstack%2Fkolla-ansible~master~I2e56e3ff23036f6cd7109235cca70ca045a8015a,openstack/kolla-ansible,master,I2e56e3ff23036f6cd7109235cca70ca045a8015a,Revert the default for kolla_internal_vip_address,ABANDONED,2020-09-04 09:23:19.000000000,2020-09-04 10:20:13.000000000,,[{'_account_id': 30491}],"[{'number': 1, 'created': '2020-09-04 09:23:19.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4667047f9da6517cb83d14936b6f880549d6e611', 'message': ""Revert the default for kolla_internal_vip_address\n\nTo detect our reliance on kolla_internal_vip_address early, let's\nnot switch the default.\nWe will simply undefine kolla_internal_vip_address in Wallaby to\nkeep current behaviour.\n\nChange-Id: I2e56e3ff23036f6cd7109235cca70ca045a8015a\nRelated-Bug: #1894199\n""}]",0,749910,4667047f9da6517cb83d14936b6f880549d6e611,5,1,1,30491,,,0,"Revert the default for kolla_internal_vip_address

To detect our reliance on kolla_internal_vip_address early, let's
not switch the default.
We will simply undefine kolla_internal_vip_address in Wallaby to
keep current behaviour.

Change-Id: I2e56e3ff23036f6cd7109235cca70ca045a8015a
Related-Bug: #1894199
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/749910/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,4667047f9da6517cb83d14936b6f880549d6e611,kolla_internal_vip_address,"kolla_internal_vip_address: ""{{ kolla_internal_address }}""","kolla_internal_vip_address: ""{{ kolla_internal_address | default('') }}""",1,1
openstack%2Fironic-python-agent~master~I64df82227f7349c9bf93be9d3df480519d166f26,openstack/ironic-python-agent,master,I64df82227f7349c9bf93be9d3df480519d166f26,Remove six/babel/oslo.i18n from lower-constraints.txt,ABANDONED,2020-09-04 07:06:49.000000000,2020-09-04 10:15:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 07:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0f18bba8ddeb16f2dd1f878b8e740d0dc20ad794', 'message': 'Remove six\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3\n\nChange-Id: I64df82227f7349c9bf93be9d3df480519d166f26\n'}, {'number': 2, 'created': '2020-09-04 07:25:43.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cf021e65b3c3f4c83006ad42a5800fd863f53ba0', 'message': 'Remove six/babel/oslo.i18n from lower-constraints.txt\n\nThese packages are not used.\n\nChange-Id: I64df82227f7349c9bf93be9d3df480519d166f26\n'}]",0,749877,cf021e65b3c3f4c83006ad42a5800fd863f53ba0,5,2,2,32029,,,0,"Remove six/babel/oslo.i18n from lower-constraints.txt

These packages are not used.

Change-Id: I64df82227f7349c9bf93be9d3df480519d166f26
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/77/749877/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,0f18bba8ddeb16f2dd1f878b8e740d0dc20ad794,remove_packages,,six==1.14.0,0,1
openstack%2Fcharm-ceph-iscsi~master~I7f72419bb1d0bfde51716368da3b8ed0de470827,openstack/charm-ceph-iscsi,master,I7f72419bb1d0bfde51716368da3b8ed0de470827,Let the logging module to build the messages,MERGED,2020-09-03 06:26:31.000000000,2020-09-04 10:10:36.000000000,2020-09-04 10:10:36.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-09-03 06:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/71ce4e59f0e272a09f6fd1aa5389e25af4fc2159', 'message': 'Let the logging module to build the messages\n\nAs per *1 let the logging module to build the messages for\nperformance and robustness.\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11\n\nChange-Id: I7f72419bb1d0bfde51716368da3b8ed0de470827\n'}, {'number': 2, 'created': '2020-09-04 09:03:04.000000000', 'files': ['src/charm.py', 'src/interface_ceph_iscsi_peer.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/e22f27c43a793294355cba71d77065f84a6106e1', 'message': 'Let the logging module to build the messages\n\nAs per *1 let the logging module to build the messages for\nperformance and robustness.\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11\n\nChange-Id: I7f72419bb1d0bfde51716368da3b8ed0de470827\n'}]",0,749646,e22f27c43a793294355cba71d77065f84a6106e1,11,4,2,12549,,,0,"Let the logging module to build the messages

As per *1 let the logging module to build the messages for
performance and robustness.

*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11

Change-Id: I7f72419bb1d0bfde51716368da3b8ed0de470827
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/46/749646/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'src/interface_ceph_iscsi_peer.py']",2,71ce4e59f0e272a09f6fd1aa5389e25af4fc2159,fix-logging," logging.info(""Setting allowed ips to: %s"", ip_str)"," logging.info(""Setting allowed ips: {}"".format(append))",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8,openstack/tripleo-heat-templates,stable/train,Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8,Remove Etcd from DCN roles that don't need it,MERGED,2020-09-03 03:07:24.000000000,2020-09-04 10:04:14.000000000,2020-09-04 10:04:14.000000000,"[{'_account_id': 3153}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 03:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f701ce3e1a94b51ed89ca3eb4bcae0df0f4d5a3b', 'message': ""Remove Etcd from DCN roles that don't need it\n\nRemove the Etcd service from DCN roles that do not need it. Etcd is\nonly required by the cinder-volume service in order to run in active/\nactive mode. Roles that do not host the cinder-volume service do not\nneed Etcd.\n\nChange-Id: Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8\n(cherry picked from commit 500ba04798674ba487b370eb3a2c223cbaef9cd4)\n(cherry picked from commit ee90c5d60f285017603daa407d4201c8a47fa61c)\n""}, {'number': 2, 'created': '2020-09-04 02:07:56.000000000', 'files': ['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/DistributedComputeHCIScaleOut.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f4cd41c73038c60a7cab6657099a9feb4c5dec0', 'message': ""Remove Etcd from DCN roles that don't need it\n\nRemove the Etcd service from DCN roles that do not need it. Etcd is\nonly required by the cinder-volume service in order to run in active/\nactive mode. Roles that do not host the cinder-volume service do not\nneed Etcd.\n\nChange-Id: Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8\n(cherry picked from commit 500ba04798674ba487b370eb3a2c223cbaef9cd4)\n(cherry picked from commit ee90c5d60f285017603daa407d4201c8a47fa61c)\n""}]",0,749626,8f4cd41c73038c60a7cab6657099a9feb4c5dec0,13,4,2,21129,,,0,"Remove Etcd from DCN roles that don't need it

Remove the Etcd service from DCN roles that do not need it. Etcd is
only required by the cinder-volume service in order to run in active/
active mode. Roles that do not host the cinder-volume service do not
need Etcd.

Change-Id: Ia24eed019ba973aad0e8f5b7fc0d53c1ee4149e8
(cherry picked from commit 500ba04798674ba487b370eb3a2c223cbaef9cd4)
(cherry picked from commit ee90c5d60f285017603daa407d4201c8a47fa61c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/749626/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/DistributedComputeHCIScaleOut.yaml']",4,f701ce3e1a94b51ed89ca3eb4bcae0df0f4d5a3b,dcn-role-cleanup, Distributed Compute Node role with CephOSD and HAproxy for Glance.," Distributed Compute Node role with Ceph, Cinder volume and HAProxy for Glance. - OS::TripleO::Services::Etcd",3,6
openstack%2Fpuppet-openstack-integration~master~I80d83183a0b1921db02d5397889bf192f16f03a6,openstack/puppet-openstack-integration,master,I80d83183a0b1921db02d5397889bf192f16f03a6,Updated from Puppet OpenStack modules constraints,MERGED,2020-09-04 06:10:08.000000000,2020-09-04 09:51:39.000000000,2020-09-04 09:51:39.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 06:10:08.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3135e313c409b5ac8898d1c3e5e2b6aec92e42bb', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I80d83183a0b1921db02d5397889bf192f16f03a6\n'}]",0,749869,3135e313c409b5ac8898d1c3e5e2b6aec92e42bb,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I80d83183a0b1921db02d5397889bf192f16f03a6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/69/749869/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,3135e313c409b5ac8898d1c3e5e2b6aec92e42bb,openstack/puppet/constraints, :ref => 'v3.6.0', :ref => 'v3.5.0',1,1
openstack%2Fstackviz~master~I116ea1609f88496c599a8285d33350104067c517,openstack/stackviz,master,I116ea1609f88496c599a8285d33350104067c517,migrate to victoria testing runtime,MERGED,2020-07-09 20:38:31.000000000,2020-09-04 09:42:07.000000000,2020-09-04 09:38:28.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28182}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-09 20:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/4861140a216218d6aca5ce756d493b1b6c7a5623', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n'}, {'number': 2, 'created': '2020-08-25 14:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/1983d9de98d721e8e8ef8d001d22481bb98ee073', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n'}, {'number': 3, 'created': '2020-08-25 16:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/430e545e7f84d0d9d646524a1e7515c7391452b4', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nCo-Author: manchandavishal <manchandavishal143@gmail.com>\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n'}, {'number': 4, 'created': '2020-08-25 16:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/027eb12884d4768a24d45440b3586df1ba4c4757', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nCo-Author: manchandavishal <manchandavishal143@gmail.com>\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n'}, {'number': 5, 'created': '2020-08-25 18:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/54e74d52dbeec04eaa2e712201ca70b2ad30b9e7', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nCo-Author: manchandavishal <manchandavishal143@gmail.com>\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n'}, {'number': 6, 'created': '2020-08-26 06:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/stackviz/commit/7ada7102e81119cbaeb0fefd58d029f09a96997f', 'message': 'migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nThis patch also update python version to py38 in package.json[2]\nas py36 is not available on focal.\n\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n[2] https://opendev.org/openstack/stackviz/src/branch/master/package.json#L73\n\nCo-Author: manchandavishal <manchandavishal143@gmail.com>\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n'}, {'number': 7, 'created': '2020-08-26 10:42:40.000000000', 'files': ['playbooks/nodejs/pre.yaml', '.zuul.yaml', 'package.json'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/ff8a129225bfea0d9f6afbd13a37255cbc6bbee0', 'message': ""migrate to victoria testing runtime\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04)\nand Node.js 10.\n\nTox is not anymore pre-installed on the OpenDev CI images.\nThe file package.json needs tox, install it to fix the nodejs-job.\n\nInstall it via a pre-run playbook so that this is run in addition to all\nof the playbooks of the parent.\n\nThis patch also update python version to py38 in package.json[2]\nas py36 is not available on focal.\n\nNote: Before this patch We used nodejs8-jobs from openstack-zuul-jobs\nwhich consumes npm jobs from zuul-jobs. We would like to install tox\nin the 'pre-run' phase in each npm job, so this patch also defines\nnpm job defination here.\n\nStory: #2007865\nTask: #40212\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n[2] https://opendev.org/openstack/stackviz/src/branch/master/package.json#L73\n\nCo-Author: manchandavishal <manchandavishal143@gmail.com>\n\nChange-Id: I116ea1609f88496c599a8285d33350104067c517\n""}]",0,740369,ff8a129225bfea0d9f6afbd13a37255cbc6bbee0,44,6,7,8556,,,0,"migrate to victoria testing runtime

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04)
and Node.js 10.

Tox is not anymore pre-installed on the OpenDev CI images.
The file package.json needs tox, install it to fix the nodejs-job.

Install it via a pre-run playbook so that this is run in addition to all
of the playbooks of the parent.

This patch also update python version to py38 in package.json[2]
as py36 is not available on focal.

Note: Before this patch We used nodejs8-jobs from openstack-zuul-jobs
which consumes npm jobs from zuul-jobs. We would like to install tox
in the 'pre-run' phase in each npm job, so this patch also defines
npm job defination here.

Story: #2007865
Task: #40212

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html
[2] https://opendev.org/openstack/stackviz/src/branch/master/package.json#L73

Co-Author: manchandavishal <manchandavishal143@gmail.com>

Change-Id: I116ea1609f88496c599a8285d33350104067c517
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/69/740369/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4861140a216218d6aca5ce756d493b1b6c7a5623,migrate-to-focal, - nodejs10-jobs, - nodejs8-jobs,1,1
openstack%2Fcharm-ceph-iscsi~master~I371ba620794d9dc637832a4e02bf12237a63fca7,openstack/charm-ceph-iscsi,master,I371ba620794d9dc637832a4e02bf12237a63fca7,Avoid mutating self.allowed_ips in adapter,MERGED,2020-09-02 08:58:02.000000000,2020-09-04 09:31:20.000000000,2020-09-04 09:31:20.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-09-02 08:58:02.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/95d0e424ba02b794721081e24d613cbb40630731', 'message': 'Avoid mutating self.allowed_ips in adapter\n\nAvoid mutating self.allowed_ips` in\n`GatewayClientPeerAdapter.trusted_ips`\n\nChange-Id: I371ba620794d9dc637832a4e02bf12237a63fca7\n'}]",0,749467,95d0e424ba02b794721081e24d613cbb40630731,7,3,1,12549,,,0,"Avoid mutating self.allowed_ips in adapter

Avoid mutating self.allowed_ips` in
`GatewayClientPeerAdapter.trusted_ips`

Change-Id: I371ba620794d9dc637832a4e02bf12237a63fca7
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/67/749467/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,95d0e424ba02b794721081e24d613cbb40630731,avoid-mutating-allowed-ips,import copy ips = copy.deepcopy(self.allowed_ips), ips = self.allowed_ips,2,1
openstack%2Fcharm-hacluster~master~Ic45dbdd9d8581f25549580c7e98a8d6e0bf8c3e7,openstack/charm-hacluster,master,Ic45dbdd9d8581f25549580c7e98a8d6e0bf8c3e7,Create null stonith resource for lxd containers.,MERGED,2020-07-29 12:20:24.000000000,2020-09-04 09:25:17.000000000,2020-09-04 09:25:17.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-29 12:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/baa670ff49c39240e75e9904c8a1fa7151f4507e', 'message': 'Create null stonith resource for lxd containers.\n\nIf stonith is enabled then when a compute node is detected as failed\nit is powered down. This can include a lxd container which is also\npart of the cluster. In this case because stonith is enabled at a\nglobal level, pacemaker will try and power off the lxd container\ntoo. But the container does not have a stonith device and this causes\nthe container to be marked as unclean (but not down). This running\nunclean state prevents resources being moved and causes any\npacemaker-remotes that are associated with the lost container from\nlosing their connection which prevents masakari hostmonitor from\nascertaining the cluster health.\n\nThe way to work around this is to create a dummy stonith device for\nthe lxd containers. This allows the cluster to properly mark the lost\ncontainer as down and resources are relocated.\n\nChange-Id: Ic45dbdd9d8581f25549580c7e98a8d6e0bf8c3e7\nPartial-Bug: #1889094\n'}, {'number': 2, 'created': '2020-09-03 10:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/1aafe3109aba49745e566287f5a447371066f6cc', 'message': 'Create null stonith resource for lxd containers.\n\nIf stonith is enabled then when a compute node is detected as failed\nit is powered down. This can include a lxd container which is also\npart of the cluster. In this case because stonith is enabled at a\nglobal level, pacemaker will try and power off the lxd container\ntoo. But the container does not have a stonith device and this causes\nthe container to be marked as unclean (but not down). This running\nunclean state prevents resources being moved and causes any\npacemaker-remotes that are associated with the lost container from\nlosing their connection which prevents masakari hostmonitor from\nascertaining the cluster health.\n\nThe way to work around this is to create a dummy stonith device for\nthe lxd containers. This allows the cluster to properly mark the lost\ncontainer as down and resources are relocated.\n\nChange-Id: Ic45dbdd9d8581f25549580c7e98a8d6e0bf8c3e7\nPartial-Bug: #1889094\n'}, {'number': 3, 'created': '2020-09-03 10:58:53.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b40a6754b0256058213afcde80174ca7e730a403', 'message': 'Create null stonith resource for lxd containers.\n\nIf stonith is enabled then when a compute node is detected as failed\nit is powered down. This can include a lxd container which is also\npart of the cluster. In this case because stonith is enabled at a\nglobal level, pacemaker will try and power off the lxd container\ntoo. But the container does not have a stonith device and this causes\nthe container to be marked as unclean (but not down). This running\nunclean state prevents resources being moved and causes any\npacemaker-remotes that are associated with the lost container from\nlosing their connection which prevents masakari hostmonitor from\nascertaining the cluster health.\n\nThe way to work around this is to create a dummy stonith device for\nthe lxd containers. This allows the cluster to properly mark the lost\ncontainer as down and resources are relocated.\n\nChange-Id: Ic45dbdd9d8581f25549580c7e98a8d6e0bf8c3e7\nPartial-Bug: #1889094\n'}]",4,743742,b40a6754b0256058213afcde80174ca7e730a403,17,4,3,12549,,,0,"Create null stonith resource for lxd containers.

If stonith is enabled then when a compute node is detected as failed
it is powered down. This can include a lxd container which is also
part of the cluster. In this case because stonith is enabled at a
global level, pacemaker will try and power off the lxd container
too. But the container does not have a stonith device and this causes
the container to be marked as unclean (but not down). This running
unclean state prevents resources being moved and causes any
pacemaker-remotes that are associated with the lost container from
losing their connection which prevents masakari hostmonitor from
ascertaining the cluster health.

The way to work around this is to create a dummy stonith device for
the lxd containers. This allows the cluster to properly mark the lost
container as down and resources are relocated.

Change-Id: Ic45dbdd9d8581f25549580c7e98a8d6e0bf8c3e7
Partial-Bug: #1889094
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/42/743742/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/utils.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py']",4,baa670ff49c39240e75e9904c8a1fa7151f4507e,bug/1889094," @mock.patch.object(hooks, 'configure_peer_stonith_resource') get_member_ready_nodes, configure_peer_stonith_resource): @mock.patch.object(hooks, 'configure_peer_stonith_resource') configure_resources_on_remotes, get_member_ready_nodes, configure_peer_stonith_resource): @mock.patch.object(hooks, 'get_hostname') mock_get_relation_ip, mock_get_hostname): mock_get_hostname.return_value = 'juju-c2419e-0-lxd-1' relation_settings={ 'private-address': '10.10.10.2', 'hostname': 'juju-c2419e-0-lxd-1'})"," get_member_ready_nodes): configure_resources_on_remotes, get_member_ready_nodes): mock_get_relation_ip): relation_settings={'private-address': '10.10.10.2'} )",113,38
openstack%2Ftripleo-ansible~stable%2Ftrain~Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2,openstack/tripleo-ansible,stable/train,Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2,Tighten up how we add and remove kernel modules,ABANDONED,2020-08-24 07:31:10.000000000,2020-09-04 09:18:52.000000000,,"[{'_account_id': 7353}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 07:31:10.000000000', 'files': ['tripleo_ansible/roles/tripleo-module-load/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/handlers/main.yml', 'tripleo_ansible/roles/tripleo-module-load/tasks/main.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/legacy_vars/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9333abe2dae02af392a954e6c02b89851fff2b23', 'message': 'Tighten up how we add and remove kernel modules\n\nThis change adjusts our two roles that configure kernel modules.\nThese two roles serve slightly different purposes so they both\nmust exist at this time. The change being made will ensure that\nthe system module-load service is in reloaded anytime modules\nchange, and that the `/etc/modules-load.d` directory exists\nbefore assuming we can write new configuration files there.\n\n> Molecule configuration for the tripleo-module-load role has\n  been updated to ensure the role is functionally testing the\n  code paths with real system values.\n\nCloses-Bug: #1847282\nChange-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 0bcb4b906e7204f94193b65e5f55550a7a21475f)\n'}]",0,747632,9333abe2dae02af392a954e6c02b89851fff2b23,5,4,1,12393,,,0,"Tighten up how we add and remove kernel modules

This change adjusts our two roles that configure kernel modules.
These two roles serve slightly different purposes so they both
must exist at this time. The change being made will ensure that
the system module-load service is in reloaded anytime modules
change, and that the `/etc/modules-load.d` directory exists
before assuming we can write new configuration files there.

> Molecule configuration for the tripleo-module-load role has
  been updated to ensure the role is functionally testing the
  code paths with real system values.

Closes-Bug: #1847282
Change-Id: Id20d7415e8430c66f3afc8f86e0e813a54ee3ca2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 0bcb4b906e7204f94193b65e5f55550a7a21475f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/747632/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-module-load/handlers/main.yml', 'tripleo_ansible/roles/tripleo-module-load/tasks/main.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/remove_module/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/legacy_vars/molecule.yml']",8,9333abe2dae02af392a954e6c02b89851fff2b23,bug/1847282-stable/train," name: delegated options: managed: false login_cmd_template: >- ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=no {instance} ansible_connection_options: ansible_connection: ssh - name: instance config_options: defaults: fact_caching: jsonfile fact_caching_connection: /tmp/molecule/facts inventory: hosts: all: hosts: instance: ansible_host: localhost ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH}:${HOME}/zuul-jobs/roles"" name: legacy_vars test_sequence:"," name: docker - name: centos7 hostname: centos7 image: centos:7 dockerfile: Dockerfile pkg_extras: python-setuptools easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" command: /sbin/init tmpfs: - /run - /tmp capabilities: - ALL volumes: - /dev:/dev - /lib/modules:/lib/modules - name: fedora28 hostname: fedora28 image: fedora:28 dockerfile: Dockerfile pkg_extras: python*-setuptools environment: http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" command: /sbin/init privileged: true tmpfs: - /run - /tmp capabilities: - ALL volumes: - /dev:/dev - /lib/modules:/lib/modules test_sequence: - destroy - create - destroy",154,179
openstack%2Fcharm-ops-interface-tls-certificates~master~I32780ec32d042d807b9f91eea048a42ad5e08cf0,openstack/charm-ops-interface-tls-certificates,master,I32780ec32d042d807b9f91eea048a42ad5e08cf0,Let the logging module to build the messages,MERGED,2020-09-03 06:26:44.000000000,2020-09-04 09:14:22.000000000,2020-09-04 09:14:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-09-03 06:26:44.000000000', 'files': ['interface_tls_certificates/ca_client.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-tls-certificates/commit/627745511b430639e08404360c2de2d17c1850a0', 'message': 'Let the logging module to build the messages\n\nAs per *1 let the logging module to build the messages for\nperformance and robustness.\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11\n\nChange-Id: I32780ec32d042d807b9f91eea048a42ad5e08cf0\n'}]",0,749647,627745511b430639e08404360c2de2d17c1850a0,6,2,1,12549,,,0,"Let the logging module to build the messages

As per *1 let the logging module to build the messages for
performance and robustness.

*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11

Change-Id: I32780ec32d042d807b9f91eea048a42ad5e08cf0
",git fetch https://review.opendev.org/openstack/charm-ops-interface-tls-certificates refs/changes/47/749647/1 && git format-patch -1 --stdout FETCH_HEAD,['interface_tls_certificates/ca_client.py'],1,627745511b430639e08404360c2de2d17c1850a0,fix-logging," logger.info( 'Requesting a CA certificate. Common name: %s, SANS: %s', common_name, sans)"," logger.info('Requesting a CA certificate. Common name: {}, SANS: {}' ''.format(common_name, sans))",4,2
openstack%2Fbifrost~bugfix%2F8.3~I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1,openstack/bifrost,bugfix/8.3,I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1,Create our own firewalld zone and use it on real bare metal,MERGED,2020-09-03 15:05:20.000000000,2020-09-04 09:09:48.000000000,2020-09-04 09:08:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-03 15:05:20.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/setup_firewalld.yml', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/firewalld-zone-d8c72fb5924a4916.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ac6ec9f99a7e6c5328b93c8a0697d929d5512ae1', 'message': ""Create our own firewalld zone and use it on real bare metal\n\nModifying the public zone is questionable, let's use our own zone.\nAlso let's make sure network_interface actually belongs to it.\n\nConflicts:\n\tplaybooks/roles/bifrost-ironic-install/tasks/bootstrap.yml\n\nChange-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1\n(cherry picked from commit 710e0db06885b13b398d6fe209893cc732a43d41)\n""}]",0,749759,ac6ec9f99a7e6c5328b93c8a0697d929d5512ae1,7,2,1,10239,,,0,"Create our own firewalld zone and use it on real bare metal

Modifying the public zone is questionable, let's use our own zone.
Also let's make sure network_interface actually belongs to it.

Conflicts:
	playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml

Change-Id: I63f5fa4845aa8f1c90a0c73dd78deb45aaaa4fd1
(cherry picked from commit 710e0db06885b13b398d6fe209893cc732a43d41)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/59/749759/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/setup_firewalld.yml', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/firewalld-zone-d8c72fb5924a4916.yaml']",7,ac6ec9f99a7e6c5328b93c8a0697d929d5512ae1,,"--- fixes: - | Instead of modifying the ``public`` firewalld zone, creates a new zone ``bifrost`` and puts the ``network_interface`` in it. Set ``firewalld_internal_zone=public`` to revert to the previous behavior. upgrade: - | Bifrost no longer adds ironic and ironic-inspector endpoints to the public firewalld zone, the operator has to do it explicitly if external access is expected. ",,79,20
openstack%2Fcharm-ops-interface-ceph-client~master~I9f554ea9d33f4d4925f57dfa2552430c4d4d4e44,openstack/charm-ops-interface-ceph-client,master,I9f554ea9d33f4d4925f57dfa2552430c4d4d4e44,Let the logging module to build the messages,MERGED,2020-09-03 06:26:57.000000000,2020-09-04 09:05:07.000000000,2020-09-04 09:05:07.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-09-03 06:26:57.000000000', 'files': ['interface_ceph_client/ceph_client.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-interface-ceph-client/commit/293d2053c3dd80fb17a75b10c4430bbe9eb723f5', 'message': 'Let the logging module to build the messages\n\nAs per *1 let the logging module to build the messages for\n performance and robustness.\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11\n\nChange-Id: I9f554ea9d33f4d4925f57dfa2552430c4d4d4e44\n'}]",0,749648,293d2053c3dd80fb17a75b10c4430bbe9eb723f5,6,2,1,12549,,,0,"Let the logging module to build the messages

As per *1 let the logging module to build the messages for
 performance and robustness.

*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/11

Change-Id: I9f554ea9d33f4d4925f57dfa2552430c4d4d4e44
",git fetch https://review.opendev.org/openstack/charm-ops-interface-ceph-client refs/changes/48/749648/1 && git format-patch -1 --stdout FETCH_HEAD,['interface_ceph_client/ceph_client.py'],1,293d2053c3dd80fb17a75b10c4430bbe9eb723f5,fix-logging," logging.info( ""Unable to decode broker_req: %s. Error %s"", self._stored.broker_req, err) logging.info(""create_replicated_pool: %s"", relations) logging.debug( 'Sending request %s', request.request_id)"," logging.info(""Unable to decode broker_req: {}. Error {}"" """".format(self._stored.broker_req, err)) logging.info(""create_replicated_pool: {}"".format(relations)) logging.debug('Sending request {}'.format(request.request_id))",8,4
openstack%2Fironic~master~Ic48bf53097635498a8461be049ee5d2a50c6fe2a,openstack/ironic,master,Ic48bf53097635498a8461be049ee5d2a50c6fe2a,Enhance certificate verification for ilo harware type,MERGED,2020-07-28 09:19:24.000000000,2020-09-04 08:54:24.000000000,2020-09-04 08:51:52.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 19604}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 32349}]","[{'number': 1, 'created': '2020-07-28 09:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69cf6aa85d1457d2ae1a3ba529b916a9b5dbbc12', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 2, 'created': '2020-07-28 11:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bac17b71e3061551695ca4b32850d4429677d87e', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 3, 'created': '2020-07-28 14:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c27357af9d0626fb855d0222a25b87853a3f4ea4', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 4, 'created': '2020-08-03 11:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/debb910966ed4a7a1770dba98964659383713e27', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 5, 'created': '2020-08-10 14:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a946168ee830f077333980b4f11cb2a404648c6', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 6, 'created': '2020-08-24 15:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/78f5629ca65a4f44d80b174ca252613262c8706f', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 7, 'created': '2020-08-31 09:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cafd5d59271d9eb84829f9e5f4b60e30a92af3df', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 8, 'created': '2020-08-31 12:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd428b8ef5776d4e1138a8faa23ed662275a7461', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 9, 'created': '2020-09-02 07:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/90be2abcd875a7b0bdd29ffd33d23fbec6bfd2c8', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 10, 'created': '2020-09-02 13:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3162e1303e70c3105b0b6da4ae717f5f02b839f9', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}, {'number': 11, 'created': '2020-09-03 06:52:30.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/ilo/common.py', 'ironic/conf/ilo.py', 'releasenotes/notes/ilo-certificate-verification-enhancement-8eefd541cfc2a9da.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/778d715b5f288245e8f59e5b626a0cd800286e43', 'message': 'Enhance certificate verification for ilo harware type\n\nThis patch enhance certificate verification for hardware\ntype ilo and ilo5 by adding attribute ilo_verify_ca which can take\ndirectory and bolean values apart from file.\n\nChange-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a\n'}]",69,743490,778d715b5f288245e8f59e5b626a0cd800286e43,92,9,11,19604,,,0,"Enhance certificate verification for ilo harware type

This patch enhance certificate verification for hardware
type ilo and ilo5 by adding attribute ilo_verify_ca which can take
directory and bolean values apart from file.

Change-Id: Ic48bf53097635498a8461be049ee5d2a50c6fe2a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/743490/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/common.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py']",3,69cf6aa85d1457d2ae1a3ba529b916a9b5dbbc12,ilo_ca," self.assertEqual('/home/user/cafile.pem', info['verify_ca']) @mock.patch.object(os.path, 'isdir', autospec=True) def test_parse_driver_info_path_verify_ca_dir(self, mock_isdir): mock_isdir.return_value = True fake_path = '/path/to/a/valid/CA' self.node.driver_info['ilo_verify_ca'] = fake_path info = ilo_common.parse_driver_info(self.node) self.assertEqual(INFO_DICT['ilo_address'], info['ilo_address']) self.assertEqual(INFO_DICT['ilo_username'], info['ilo_username']) self.assertEqual(INFO_DICT['ilo_password'], info['ilo_password']) self.assertEqual(60, info['client_timeout']) self.assertEqual(443, info['client_port']) self.assertEqual(fake_path, info['verify_ca']) mock_isdir.assert_called_once_with(fake_path) @mock.patch.object(os.path, 'isfile', autospec=True) def test_parse_driver_info_path_verify_ca_file(self, mock_isfile): mock_isfile.return_value = True fake_path = '/path/to/a/valid/CA.pem' self.node.driver_info['ilo_verify_ca'] = fake_path info = ilo_common.parse_driver_info(self.node) self.assertEqual(INFO_DICT['ilo_address'], info['ilo_address']) self.assertEqual(INFO_DICT['ilo_username'], info['ilo_username']) self.assertEqual(INFO_DICT['ilo_password'], info['ilo_password']) self.assertEqual(60, info['client_timeout']) self.assertEqual(443, info['client_port']) self.assertEqual(fake_path, info['verify_ca']) mock_isfile.assert_called_once_with(fake_path) def test_parse_driver_info_invalid_value_verify_ca(self): # Integers are not supported self.node.driver_info['ilo_verify_ca'] = 123456 self.assertRaisesRegex(exception.InvalidParameterValue, 'Invalid value type', ilo_common.parse_driver_info, self.node) self.assertEqual('/home/user/cafile.pem', info['verify_ca']) def test_parse_driver_info_invalid_value_verify_ca(self): # Integers are not supported self.node.driver_info['ilo_verify_ca'] = 123456 self.assertRaisesRegex(exception.InvalidParameterValue, 'Invalid value type', ilo_common.parse_driver_info, self.node) self.info['verify_ca'] = ca_file cacert=self.info['verify_ca'], 'verify_ca': 'ca_file', cacert=self.info['verify_ca'],"," self.assertEqual('/home/user/cafile.pem', info['ca_file']) self.assertEqual('/home/user/cafile.pem', info['ca_file']) self.info['ca_file'] = ca_file cacert=self.info['ca_file'], 'ca_file': 'ca_file', cacert=self.info['ca_file'],",110,17
openstack%2Fcharm-ceph-iscsi~master~Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02,openstack/charm-ceph-iscsi,master,Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02,Use '_stored' not 'state',MERGED,2020-09-02 08:10:27.000000000,2020-09-04 08:53:58.000000000,2020-09-04 08:53:58.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-09-02 08:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/476d1ace7da10178b8dd94d60e1c3d2d310f0895', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nChange-Id: Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02\n""}, {'number': 2, 'created': '2020-09-02 08:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/6d0a79102b29fa33c30e6308722f68682f8e7cbc', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nChange-Id: Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02\n""}, {'number': 3, 'created': '2020-09-03 05:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/49e17a1a11168d21ec001191e2d20af7780eac41', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nDepends-On: I52513ce2c25b03f2015835b96cccb3766806bceb\nChange-Id: Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02\n""}, {'number': 4, 'created': '2020-09-03 10:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/559f82c75c45df88931a308703500aabd0517382', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nDepends-On: I52513ce2c25b03f2015835b96cccb3766806bceb\nChange-Id: Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02\n""}, {'number': 5, 'created': '2020-09-04 07:13:55.000000000', 'files': ['requirements.txt', 'src/charm.py', 'src/interface_ceph_iscsi_peer.py', 'unit_tests/test_ceph_iscsi_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/c78eaac0cf80c194d3470c3dfaf420070cd4c186', 'message': ""Use '_stored' not 'state'\n\nAs per issue 7 *1, switch to variable name '_stored'\n\n*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7\n\nDepends-On: I52513ce2c25b03f2015835b96cccb3766806bceb\nChange-Id: Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02\n""}]",0,749455,c78eaac0cf80c194d3470c3dfaf420070cd4c186,19,4,5,12549,,,0,"Use '_stored' not 'state'

As per issue 7 *1, switch to variable name '_stored'

*1 https://github.com/openstack-charmers/charm-ceph-iscsi/issues/7

Depends-On: I52513ce2c25b03f2015835b96cccb3766806bceb
Change-Id: Ic37c4ea10ba45d2c2f4c7f37e552d37188e7cc02
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/55/749455/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'src/interface_ceph_iscsi_peer.py', 'unit_tests/test_ceph_iscsi_charm.py']",3,476d1ace7da10178b8dd94d60e1c3d2d310f0895,store-not-state, self.assertFalse(self.harness.charm._stored.target_created) self.assertFalse(self.harness.charm._stored.enable_tls) self.assertTrue(self.harness.charm._stored.is_started) self.assertTrue(self.harness.charm._stored.enable_tls), self.assertFalse(self.harness.charm.state.target_created) self.assertFalse(self.harness.charm.state.enable_tls) self.assertTrue(self.harness.charm.state.is_started) self.assertTrue(self.harness.charm.state.enable_tls),13,13
openstack%2Fcharm-ceph-iscsi~master~I27869f160d637507115fbf3c193c2f10e55743f7,openstack/charm-ceph-iscsi,master,I27869f160d637507115fbf3c193c2f10e55743f7,Fix docstring typo,MERGED,2020-09-03 08:06:49.000000000,2020-09-04 08:43:28.000000000,2020-09-04 08:43:28.000000000,"[{'_account_id': 10068}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 32363}]","[{'number': 1, 'created': '2020-09-03 08:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/792083758656187a2f5dba1a6021ab1de9909cbd', 'message': 'Fix docstring typo\n\nFix docstring typo that does not affect functionality.\n\nChange-Id: I27869f160d637507115fbf3c193c2f10e55743f7\n'}, {'number': 2, 'created': '2020-09-03 08:52:04.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/e3b2ca02de0563d160ba6d7c268c1e4138e380a3', 'message': 'Fix docstring typo\n\nChange-Id: I27869f160d637507115fbf3c193c2f10e55743f7\n'}]",3,749666,e3b2ca02de0563d160ba6d7c268c1e4138e380a3,15,6,2,32363,,,0,"Fix docstring typo

Change-Id: I27869f160d637507115fbf3c193c2f10e55743f7
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/66/749666/2 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,792083758656187a2f5dba1a6021ab1de9909cbd,fix-typo," """"""Authentication type. :returns: Authentication type """"""Create an iSCSI target."""""""," """"""Authention type. :returns: Authention type """"""Create an iSCSI taget.""""""",4,3
openstack%2Fheat~master~I6dafdc34d5ef4d714bc8a04b19a6c05ceb4929b2,openstack/heat,master,I6dafdc34d5ef4d714bc8a04b19a6c05ceb4929b2,DO NOT MERGE,ABANDONED,2020-05-29 08:20:32.000000000,2020-09-04 08:39:34.000000000,,"[{'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 08:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f377d5538a7968d7180b534418f4a39d313fb787', 'message': 'DO NOT MERGE\n\nNULL test\n\nChange-Id: I6dafdc34d5ef4d714bc8a04b19a6c05ceb4929b2\n'}, {'number': 2, 'created': '2020-09-03 13:49:56.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/7841c749af40f77347c9607f13609612d76bc411', 'message': 'DO NOT MERGE\n\nNULL test\n\nChange-Id: I6dafdc34d5ef4d714bc8a04b19a6c05ceb4929b2\n'}]",0,731687,7841c749af40f77347c9607f13609612d76bc411,7,2,2,15895,,,0,"DO NOT MERGE

NULL test

Change-Id: I6dafdc34d5ef4d714bc8a04b19a6c05ceb4929b2
",git fetch https://review.opendev.org/openstack/heat refs/changes/87/731687/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f377d5538a7968d7180b534418f4a39d313fb787,WIP_nulltest,,,1,0
openstack%2Frequirements~master~I19bcabb7377153b96901dc3d263fa249a4e4d5ef,openstack/requirements,master,I19bcabb7377153b96901dc3d263fa249a4e4d5ef,update constraint for os-brick to new release 4.0.0,MERGED,2020-09-02 17:09:23.000000000,2020-09-04 08:37:07.000000000,2020-09-04 08:34:29.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-02 17:09:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b1660eb85aab926d95b5bbd99b39cb9f3f565f98', 'message': 'update constraint for os-brick to new release 4.0.0\n\nChange-Id: I19bcabb7377153b96901dc3d263fa249a4e4d5ef\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Change-Id: I064463ca4f53d34f06104193ec5116e51d61b2a4\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749559,b1660eb85aab926d95b5bbd99b39cb9f3f565f98,16,4,1,11131,,,0,"update constraint for os-brick to new release 4.0.0

Change-Id: I19bcabb7377153b96901dc3d263fa249a4e4d5ef
meta:version: 4.0.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Change-Id: I064463ca4f53d34f06104193ec5116e51d61b2a4
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/749559/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b1660eb85aab926d95b5bbd99b39cb9f3f565f98,new-release,os-brick===4.0.0,os-brick===3.2.1,1,1
openstack%2Freleases~master~I336163e4e7fae05ef62ec7cfec59ee127340c93c,openstack/releases,master,I336163e4e7fae05ef62ec7cfec59ee127340c93c,Release os-brick 2.10.5,MERGED,2020-09-03 21:15:12.000000000,2020-09-04 08:33:00.000000000,2020-09-04 08:33:00.000000000,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 21:15:12.000000000', 'files': ['deliverables/train/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/346dccc0bc2b17cdce84244c72d03b55b4a432ad', 'message': 'Release os-brick 2.10.5\n\nRelease from stable/train\n\nChange-Id: I336163e4e7fae05ef62ec7cfec59ee127340c93c\n'}]",0,749831,346dccc0bc2b17cdce84244c72d03b55b4a432ad,10,5,1,5314,,,0,"Release os-brick 2.10.5

Release from stable/train

Change-Id: I336163e4e7fae05ef62ec7cfec59ee127340c93c
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/749831/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/os-brick.yaml'],1,346dccc0bc2b17cdce84244c72d03b55b4a432ad,release-os-brick-2.10.5, - version: 2.10.5 projects: - hash: 634fb4a9aa9cb71106e69cd78ec18a0b849d077a repo: openstack/os-brick,,4,0
openstack%2Freleases~master~I33687909c2afa5d8f0b5949e63b1bc16b6ed4c13,openstack/releases,master,I33687909c2afa5d8f0b5949e63b1bc16b6ed4c13,Release os-brick 3.0.3,MERGED,2020-09-03 21:12:50.000000000,2020-09-04 08:32:59.000000000,2020-09-04 08:32:59.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 21:12:50.000000000', 'files': ['deliverables/ussuri/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b2450055fea55362d7a84408a3666a60aa865fb', 'message': 'Release os-brick 3.0.3\n\nRelease from stable/ussuri\n\nChange-Id: I33687909c2afa5d8f0b5949e63b1bc16b6ed4c13\n'}]",0,749830,3b2450055fea55362d7a84408a3666a60aa865fb,9,4,1,5314,,,0,"Release os-brick 3.0.3

Release from stable/ussuri

Change-Id: I33687909c2afa5d8f0b5949e63b1bc16b6ed4c13
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/749830/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/os-brick.yaml'],1,3b2450055fea55362d7a84408a3666a60aa865fb,release-os-brick-3.0.3, - version: 3.0.3 projects: - repo: openstack/os-brick hash: d3ee7a076be6d3397946f17f15bee4bda2968459,,4,0
openstack%2Fkolla-ansible~master~I09694b38420ea67896bb8cf4ffd7ce6f131af10e,openstack/kolla-ansible,master,I09694b38420ea67896bb8cf4ffd7ce6f131af10e,Deprecate kolla_internal_address variable,MERGED,2020-04-16 04:06:48.000000000,2020-09-04 08:28:37.000000000,2020-08-17 15:17:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-04-16 04:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5dc442c12707baa2e872706d5926a63e7474d33', 'message': 'Remove kolla_internal_address variable\n\nThe ""kolla_internal_address"" variable is not documented or defined\nanywhere. We use kolla_internal_vip_address instead.\nWhen ""kolla_internal_vip_address"" is undefined, error message is\nabout ""kolla_internal_address"". It will confused operators.\n\nChange-Id: I09694b38420ea67896bb8cf4ffd7ce6f131af10e\nCloses-Bug: #1864206\n'}, {'number': 2, 'created': '2020-08-17 08:04:45.000000000', 'files': ['releasenotes/notes/remove-kolla_internal_address-variable-d3674b6001498c52.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4603d927152f95848e56f6cf3ed4acd88baa377', 'message': 'Deprecate kolla_internal_address variable\n\nThe ""kolla_internal_address"" variable is not documented or defined\nanywhere.  When ""kolla_internal_vip_address"" is undefined, the error\nmessage is about ""kolla_internal_address"", which will confuse operators.\n\nThis change deprecates ""kolla_internal_address"", and adds a default\nvalue for ""kolla_internal_vip_address"" when ""kolla_internal_address"" is\nundefined.\n\nChange-Id: I09694b38420ea67896bb8cf4ffd7ce6f131af10e\nCloses-Bug: #1864206\n'}]",0,720338,b4603d927152f95848e56f6cf3ed4acd88baa377,19,7,2,19779,,,0,"Deprecate kolla_internal_address variable

The ""kolla_internal_address"" variable is not documented or defined
anywhere.  When ""kolla_internal_vip_address"" is undefined, the error
message is about ""kolla_internal_address"", which will confuse operators.

This change deprecates ""kolla_internal_address"", and adds a default
value for ""kolla_internal_vip_address"" when ""kolla_internal_address"" is
undefined.

Change-Id: I09694b38420ea67896bb8cf4ffd7ce6f131af10e
Closes-Bug: #1864206
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/720338/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-kolla_internal_address-variable-d3674b6001498c52.yaml', 'ansible/group_vars/all.yml']",2,b5dc442c12707baa2e872706d5926a63e7474d33,bug/1864206,,"kolla_internal_vip_address: ""{{ kolla_internal_address }}""",6,1
openstack%2Fkolla-ansible~stable%2Fussuri~Ia1fd8f9a9336c26520041fa2138c763a8c382bca,openstack/kolla-ansible,stable/ussuri,Ia1fd8f9a9336c26520041fa2138c763a8c382bca,Fix external mariadb documentation for database_user,MERGED,2020-09-04 07:41:25.000000000,2020-09-04 08:14:47.000000000,2020-09-04 08:13:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-04 07:41:25.000000000', 'files': ['doc/source/reference/databases/external-mariadb-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfbc8e8671a368c7d222a41b6cc2e149a49facc2', 'message': 'Fix external mariadb documentation for database_user\n\nThe variable was documented as database_username, but should be database_user.\n\nChange-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca\n(cherry picked from commit de2c124a4f8328d41d5758ba9f34be812fb0b54e)\n'}]",0,749888,bfbc8e8671a368c7d222a41b6cc2e149a49facc2,8,3,1,14826,,,0,"Fix external mariadb documentation for database_user

The variable was documented as database_username, but should be database_user.

Change-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca
(cherry picked from commit de2c124a4f8328d41d5758ba9f34be812fb0b54e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/749888/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/databases/external-mariadb-guide.rst'],1,bfbc8e8671a368c7d222a41b6cc2e149a49facc2,,"If the MariaDB ``username`` is not ``root``, set ``database_user`` in database_user: ""privillegeduser""","If the MariaDB ``username`` is not ``root``, set ``database_username`` in database_username: ""privillegeduser""",2,2
openstack%2Fkolla-ansible~stable%2Ftrain~Ia1fd8f9a9336c26520041fa2138c763a8c382bca,openstack/kolla-ansible,stable/train,Ia1fd8f9a9336c26520041fa2138c763a8c382bca,Fix external mariadb documentation for database_user,MERGED,2020-09-04 07:41:33.000000000,2020-09-04 08:08:21.000000000,2020-09-04 08:05:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-04 07:41:33.000000000', 'files': ['doc/source/reference/databases/external-mariadb-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/024ce8be9e3182628deccb8f7e73be3e13d15cf4', 'message': 'Fix external mariadb documentation for database_user\n\nThe variable was documented as database_username, but should be database_user.\n\nChange-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca\n(cherry picked from commit de2c124a4f8328d41d5758ba9f34be812fb0b54e)\n'}]",0,749889,024ce8be9e3182628deccb8f7e73be3e13d15cf4,8,3,1,14826,,,0,"Fix external mariadb documentation for database_user

The variable was documented as database_username, but should be database_user.

Change-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca
(cherry picked from commit de2c124a4f8328d41d5758ba9f34be812fb0b54e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/749889/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/databases/external-mariadb-guide.rst'],1,024ce8be9e3182628deccb8f7e73be3e13d15cf4,,"If the MariaDB ``username`` is not ``root``, set ``database_user`` in database_user: ""privillegeduser""","If the MariaDB ``username`` is not ``root``, set ``database_username`` in database_username: ""privillegeduser""",2,2
openstack%2Fkolla-ansible~stable%2Fstein~Ia1fd8f9a9336c26520041fa2138c763a8c382bca,openstack/kolla-ansible,stable/stein,Ia1fd8f9a9336c26520041fa2138c763a8c382bca,Fix external mariadb documentation for database_user,MERGED,2020-09-04 07:41:41.000000000,2020-09-04 08:05:19.000000000,2020-09-04 08:03:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-04 07:41:41.000000000', 'files': ['doc/source/reference/databases/external-mariadb-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/322f70d5bbd3484d012560fff126e6157bd456e6', 'message': 'Fix external mariadb documentation for database_user\n\nThe variable was documented as database_username, but should be database_user.\n\nChange-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca\n(cherry picked from commit de2c124a4f8328d41d5758ba9f34be812fb0b54e)\n'}]",0,749890,322f70d5bbd3484d012560fff126e6157bd456e6,8,3,1,14826,,,0,"Fix external mariadb documentation for database_user

The variable was documented as database_username, but should be database_user.

Change-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca
(cherry picked from commit de2c124a4f8328d41d5758ba9f34be812fb0b54e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/749890/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/databases/external-mariadb-guide.rst'],1,322f70d5bbd3484d012560fff126e6157bd456e6,,"If the MariaDB ``username`` is not ``root``, set ``database_user`` in database_user: ""privillegeduser""","If the MariaDB ``username`` is not ``root``, set ``database_username`` in database_username: ""privillegeduser""",2,2
openstack%2Fpython-tripleoclient~master~I0f06d93183b566e9a3dc500dcbd00db39f8f090d,openstack/python-tripleoclient,master,I0f06d93183b566e9a3dc500dcbd00db39f8f090d,Fix extra_env_files option and type in format string,MERGED,2020-06-30 14:25:10.000000000,2020-09-04 08:03:58.000000000,2020-07-20 13:35:17.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-30 14:25:10.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7b75187afbbd19d51628e31e022a0fd6cedace49', 'message': 'Fix extra_env_files option and type in format string\n\nextra_env_files option was broken since we refactor and\nuse the new VF.\nAlso a type in the format string is now fixed\n\nChange-Id: I0f06d93183b566e9a3dc500dcbd00db39f8f090d\n'}]",0,738634,7b75187afbbd19d51628e31e022a0fd6cedace49,11,6,1,16515,,,0,"Fix extra_env_files option and type in format string

extra_env_files option was broken since we refactor and
use the new VF.
Also a type in the format string is now fixed

Change-Id: I0f06d93183b566e9a3dc500dcbd00db39f8f090d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/738634/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,7b75187afbbd19d51628e31e022a0fd6cedace49,validator/env/files,"import yaml print(""The file {} has been created successfully"".format( parsed_args.download)) extra_vars = parsed_args.extra_vars if parsed_args.extra_vars_file: with open(parsed_args.extra_vars_file, 'r') as env_file: if '.json' in parsed_args.extra_vars_file: extra_vars.update(json.load(env_file)) else: extra_vars.update(yaml.load(env_file)) extra_vars=extra_vars,"," print(""The file {} has been created successfully"").format( parsed_args.download) extra_vars=parsed_args.extra_vars,",11,3
openstack%2Ftripleo-heat-templates~master~I5ce8367363d535b71b01395b0bef4cf17c8935b5,openstack/tripleo-heat-templates,master,I5ce8367363d535b71b01395b0bef4cf17c8935b5,pcs commands on host: redis bundle,MERGED,2020-02-15 21:33:45.000000000,2020-09-04 08:02:42.000000000,2020-09-04 08:02:42.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-15 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/988e32a4b44004f1cb44d3ca6c39f6658f0ca272', 'message': 'WIP pcs commands on host: redis\n\nNot much todo left, besides testing TLS everywhere\n\nRelated-Bug: #1863442\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 2, 'created': '2020-02-18 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6991a25e5c6ccc601971a941de7080ec8ca3f5ec', 'message': 'WIP pcs commands on host: redis\n\nNot much todo left, besides testing TLS everywhere\n\nRelated-Bug: #1863442\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 3, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80a5acbfa3d6f91076c2ef516a3c8d0ad072b14a', 'message': 'WIP pcs commands on host: redis\n\nNot much todo left, besides testing TLS everywhere\n\nRelated-Bug: #1863442\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 4, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcac30a1df2b6ee5672800f80c480c989938b286', 'message': 'WIP pcs commands on host: redis\n\nNot much todo left, besides testing TLS everywhere\n\nRelated-Bug: #1863442\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 5, 'created': '2020-05-01 11:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fec21137c89f0b3f52f49302b4ef659e9906e940', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 6, 'created': '2020-05-05 06:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49816cea017d671c2cae9c847877d702b31765a8', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 7, 'created': '2020-05-05 10:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64fae1fd0929143b624823f1445a5551bd6dfd27', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 8, 'created': '2020-05-05 17:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/819dab281488d209114e6e637d8dd7b24b6436f9', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 9, 'created': '2020-05-08 06:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/308f27e579f51dc92584a2bd8135b2d0ad60d168', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 10, 'created': '2020-05-10 06:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6284f22f915b73c740ac2d27e46216a47ca5458c', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 11, 'created': '2020-05-10 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/146a0861d255d3ab9a217ff75f32b2de3b98e0f6', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 12, 'created': '2020-05-10 16:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb9105d6e6c5f92bb39e032c23750747aa4767a3', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 13, 'created': '2020-05-15 08:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ed472c52feb9b26c5fe8feccc6f29c3c23fd3b7', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 14, 'created': '2020-05-18 09:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5625651c08fdd8ff1146ce9b404fdef6a952a768', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 15, 'created': '2020-05-18 09:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/547bf07ffc7d36f52c3cbe5550a2569ff85b1222', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 16, 'created': '2020-05-19 11:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5d845578ad0b6ad9456ecfa21d85677bf8268d6', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 17, 'created': '2020-05-19 18:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6bba50c76c1b2db8118a68d06803699e3e09bb14', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 18, 'created': '2020-05-19 20:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c307a56ed57f42519ada4aa66ebd973580ab03ec', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 19, 'created': '2020-05-20 10:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f46a9b204aac8aa85eade2df8761d4a322b660c4', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 20, 'created': '2020-05-20 13:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37c62fa09ec4c381d5984a5120e1811c742d45c4', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 21, 'created': '2020-05-20 13:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5694bffaf0b00f8c71219e5a2544770dc4ee2879', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 22, 'created': '2020-05-21 04:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2cc490c5dcf0b89467b1f8a69a3ec0d2da0650a', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 23, 'created': '2020-05-25 07:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c93b5f7ff894c69b08a3450d31b5c7c1b2ae15ad', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 24, 'created': '2020-05-26 20:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87f44e8e3cbe64f1c3fd9bb6660338d90e6660b0', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 25, 'created': '2020-06-15 08:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f38f27eeceb4e9941064d3af51b587fc27125043', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 26, 'created': '2020-06-16 13:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ad37a6d51872ac6802b90ebadf2422155005294', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 27, 'created': '2020-06-22 06:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02354cfd1f6cba550b7c24619da4c5ad6f143231', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 28, 'created': '2020-06-29 06:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0cbe3f607560a8b02fdb919f2bf0a47e27e903c', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 29, 'created': '2020-07-02 06:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/551c7b0a473b1716f6fb82324c75279bf667ea8a', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 30, 'created': '2020-07-04 07:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cfc6fe0d33debe3d7c90f2ff313c3921401592a', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 31, 'created': '2020-07-13 09:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60ad4b948995ad7e586bfb8418f4bb149a756fb3', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 32, 'created': '2020-07-19 08:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f48b760a0ef3407180ce32952385b81ea7a3e993', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 33, 'created': '2020-08-11 13:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0ab5c22e700f0ad3aa52bb713e11d2a7890bcaf', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 34, 'created': '2020-08-19 12:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2b705150eb0a64e1098dfd2e2f88bdeaf69cba1', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 35, 'created': '2020-08-25 10:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12f1f538a7e603a177b518fc9be4c2e1d06ffa0c', 'message': 'WIP pcs commands on host: redis bundle\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 36, 'created': '2020-08-25 17:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39d283e03e612893f119f745cf9e3161a16d097c', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 37, 'created': '2020-08-25 17:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9286ef7f56e82aab55e9a5ac414130c5c87cd4b', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 38, 'created': '2020-08-25 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/caa7c5744ba094a53a73265be06d753219f48e1b', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 39, 'created': '2020-08-26 06:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83e005d024b90e3914b2ce6de1ce548769c5d6e3', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 40, 'created': '2020-08-28 18:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89eecfa1d5ae84ac57e048af85978e05c5402126', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 41, 'created': '2020-09-01 17:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f264f64353a8bd8931e42780b8a76c3b7f9c87b', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}, {'number': 42, 'created': '2020-09-03 13:01:30.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83d1cb585268177ef6f685e689d5aa34b24c8056', 'message': 'pcs commands on host: redis bundle\n\nThis implements the creation of the redis bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe full rationale is contained in the LP bug.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5\n'}]",0,707954,83d1cb585268177ef6f685e689d5aa34b24c8056,167,5,42,20172,,,0,"pcs commands on host: redis bundle

This implements the creation of the redis bundle on the host.
The testing protocol used is documented in the depends-on.

The full rationale is contained in the LP bug.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I5ce8367363d535b71b01395b0bef4cf17c8935b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/707954/42 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,988e32a4b44004f1cb44d3ca6c39f6658f0ca272,pcs_host3," - name: Redis init bundle when: step|int == 2 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::database::redis_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: Redis restart bundle when: step|int == 2 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh redis redis-bundle Slave Master"," - redis_init_bundle: start_order: 1 detach: false net: host ipc: host user: root config_volume: 'redis_init_bundle' command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::redis_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: *redis_config_image volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} - redis_restart_bundle: start_order: 2 config_volume: redis detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh redis redis redis-bundle Slave Master image: {get_param: ContainerRedisConfigImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro",27,44
openstack%2Freleases~master~I248e40ff2e9b386fbb8b2742d615b344056ec77a,openstack/releases,master,I248e40ff2e9b386fbb8b2742d615b344056ec77a,Release mistral-lib 2.3.0,ABANDONED,2020-09-04 04:53:26.000000000,2020-09-04 07:44:29.000000000,,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 04:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9f6e04ba8dae481933f4cc9b80e3558f7b9ffa6c', 'message': 'Release mistral-lib 2.3.0\n\nChange-Id: I248e40ff2e9b386fbb8b2742d615b344056ec77a\n'}, {'number': 2, 'created': '2020-09-04 06:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/588479659a989425ff25047e28f930896e7cb594', 'message': 'Release mistral-lib 2.3.0\n\nChange-Id: I248e40ff2e9b386fbb8b2742d615b344056ec77a\n'}, {'number': 3, 'created': '2020-09-04 07:06:48.000000000', 'files': ['deliverables/victoria/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c9798529c239e607559596e972bb1f7161d39161', 'message': 'Release mistral-lib 2.3.0\n\nChange-Id: I248e40ff2e9b386fbb8b2742d615b344056ec77a\n'}]",0,749862,c9798529c239e607559596e972bb1f7161d39161,11,2,3,8731,,,0,"Release mistral-lib 2.3.0

Change-Id: I248e40ff2e9b386fbb8b2742d615b344056ec77a
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/749862/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/mistral-lib.yaml'],1,9f6e04ba8dae481933f4cc9b80e3558f7b9ffa6c,, - projects: - hash: f818f1f02cf51a3e5371c2b4240ab6ab38fa4883 repo: openstack/mistral-lib version: 2.3.0,,4,0
openstack%2Fkolla-ansible~master~Ia1fd8f9a9336c26520041fa2138c763a8c382bca,openstack/kolla-ansible,master,Ia1fd8f9a9336c26520041fa2138c763a8c382bca,Fix external mariadb documentation for database_user,MERGED,2020-09-02 08:31:00.000000000,2020-09-04 07:41:41.000000000,2020-09-02 19:33:59.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-02 08:31:00.000000000', 'files': ['doc/source/reference/databases/external-mariadb-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de2c124a4f8328d41d5758ba9f34be812fb0b54e', 'message': 'Fix external mariadb documentation for database_user\n\nThe variable was documented as database_username, but should be database_user.\n\nChange-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca\n'}]",0,749464,de2c124a4f8328d41d5758ba9f34be812fb0b54e,10,2,1,14826,,,0,"Fix external mariadb documentation for database_user

The variable was documented as database_username, but should be database_user.

Change-Id: Ia1fd8f9a9336c26520041fa2138c763a8c382bca
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/749464/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/databases/external-mariadb-guide.rst'],1,de2c124a4f8328d41d5758ba9f34be812fb0b54e,,"If the MariaDB ``username`` is not ``root``, set ``database_user`` in database_user: ""privillegeduser""","If the MariaDB ``username`` is not ``root``, set ``database_username`` in database_username: ""privillegeduser""",2,2
openstack%2Fkolla-ansible~stable%2Fstein~I38c01b664029335972e889dea5c451ad854d3e3a,openstack/kolla-ansible,stable/stein,I38c01b664029335972e889dea5c451ad854d3e3a,Disable the volumev3 service exporter if Cinder is not enabled,ABANDONED,2019-07-30 12:06:50.000000000,2020-09-04 07:41:15.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-30 12:06:50.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66f0a26d1cbc20559cab850ab7adfbccd9500f72', 'message': 'Disable the volumev3 service exporter if Cinder is not enabled\n\nChange-Id: I38c01b664029335972e889dea5c451ad854d3e3a\nCloses-Bug: #1838391\n'}]",0,673487,66f0a26d1cbc20559cab850ab7adfbccd9500f72,18,4,1,15197,,,0,"Disable the volumev3 service exporter if Cinder is not enabled

Change-Id: I38c01b664029335972e889dea5c451ad854d3e3a
Closes-Bug: #1838391
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/673487/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2'],1,66f0a26d1cbc20559cab850ab7adfbccd9500f72,bug/1838391-stable/stein," ""command"": ""/opt/openstack-exporter/openstack-exporter --os-client-config=/etc/openstack/clouds.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_openstack_exporter_port }} {{ (not enable_cinder | bool) | ternary('--disable-service.volumev3', '') }} default"","," ""command"": ""/opt/openstack-exporter/openstack-exporter --os-client-config=/etc/openstack/clouds.yml --web.listen-address={{ api_interface_address }}:{{ prometheus_openstack_exporter_port }} default"",",1,1
openstack%2Fneutron~master~I4555c068ec6229b1d7ac1168d5687549370893b4,openstack/neutron,master,I4555c068ec6229b1d7ac1168d5687549370893b4,Support Address Group CRUD as extensions,MERGED,2020-06-26 20:20:55.000000000,2020-09-04 07:38:58.000000000,2020-09-04 07:35:07.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28159}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-26 20:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/041e186cbc3f80a64c1487cb5e1414ca1e770de5', 'message': 'Add support for address groups\n\nAdd the address group and address association tables.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 2, 'created': '2020-07-02 19:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed3ce7141c65f26b8fa378feb872b6369d945fb6', 'message': '<WIP> Add support for address groups\n\nAdd the address_group and address_association db models and objects.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 3, 'created': '2020-07-31 22:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e653d21609e43767f4a6bd78ec8eba4360bfc78', 'message': '<WIP> Support Address Group CRUD as extensions\n\nAdd support for basic address group CRUD. Subsequent patches will be added to\nuse address groups in security group rules.\n\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/744257\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 4, 'created': '2020-07-31 22:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5ac27cece867ecba4809abbb027a4910fac6b5c', 'message': 'Support Address Group CRUD as extensions\n\nAdd support for basic address group CRUD. Subsequent patches will be added to\nuse address groups in security group rules.\n\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/744257\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 5, 'created': '2020-08-05 16:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d1841bcd0d962a1c08765f06684887190e4c72b', 'message': 'Support Address Group CRUD as extensions\n\nAdd support for basic address group CRUD. Subsequent patches will be added to\nuse address groups in security group rules.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 6, 'created': '2020-08-10 16:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16968f97708dbee7b06ec1cda07e370476e62164', 'message': 'Support Address Group CRUD as extensions\n\nAdd support for basic address group CRUD. Subsequent patches will be added to\nuse address groups in security group rules.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 7, 'created': '2020-08-11 21:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/044eb007f3520eeef351c9ca585e0e3d396d4032', 'message': 'Support Address Group CRUD as extensions\n\nAdd support for basic address group CRUD. Subsequent patches will be added to\nuse address groups in security group rules.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}, {'number': 8, 'created': '2020-08-12 18:59:53.000000000', 'files': ['neutron/extensions/address_group.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/objects/test_address_group.py', 'lower-constraints.txt', 'neutron/agent/securitygroups_rpc.py', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/1ea5dab0897a_add_address_group.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/db/address_group_db.py', 'neutron/db/models/address_group.py', 'requirements.txt', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/address_group.py', 'neutron/tests/unit/extensions/test_address_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd20cab3713712126470145b22345a7217576faa', 'message': 'Support Address Group CRUD as extensions\n\nAdd support for basic address group CRUD. Subsequent patches will be added to\nuse address groups in security group rules.\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: I4555c068ec6229b1d7ac1168d5687549370893b4\n'}]",31,738274,dd20cab3713712126470145b22345a7217576faa,63,10,8,28159,,,0,"Support Address Group CRUD as extensions

Add support for basic address group CRUD. Subsequent patches will be added to
use address groups in security group rules.

Implements: blueprint address-groups-in-sg-rules
Change-Id: I4555c068ec6229b1d7ac1168d5687549370893b4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/738274/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/models/address_group.py', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/e257d8e25e38_add_address_group.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD']",3,041e186cbc3f80a64c1487cb5e1414ca1e770de5,bp/address-groups-in-sg-rules,e257d8e25e38,dfe425060830,90,1
openstack%2Fnova~master~I970c953f9c21df99fac5f572f9e9dca5c615f06c,openstack/nova,master,I970c953f9c21df99fac5f572f9e9dca5c615f06c,Handle oslo.messaging ping endpoint,MERGED,2020-09-03 22:06:08.000000000,2020-09-04 07:38:33.000000000,2020-09-04 07:35:12.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-03 22:06:08.000000000', 'files': ['nova/tests/unit/test_test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/49817d31b15d3439727218ec2012a483e113d9b9', 'message': ""Handle oslo.messaging ping endpoint\n\nWe have a test that attempts to emulate a messaging endpoint and fails\nif anything other than the endpoint's target property is inspected. With\nthe addition of the ping endpoint in\nI51cf67e060f240e6eb82260e70a057fe599f9063, this now blows up with the\nlatest oslo.messagin release.\n\nTo handle this situation, our fake class just needs to also check for\nthe oslo_rpc_server_ping attribute.\n\nChange-Id: I970c953f9c21df99fac5f572f9e9dca5c615f06c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,749838,49817d31b15d3439727218ec2012a483e113d9b9,12,7,1,11904,,,0,"Handle oslo.messaging ping endpoint

We have a test that attempts to emulate a messaging endpoint and fails
if anything other than the endpoint's target property is inspected. With
the addition of the ping endpoint in
I51cf67e060f240e6eb82260e70a057fe599f9063, this now blows up with the
latest oslo.messagin release.

To handle this situation, our fake class just needs to also check for
the oslo_rpc_server_ping attribute.

Change-Id: I970c953f9c21df99fac5f572f9e9dca5c615f06c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/749838/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_test.py'],1,49817d31b15d3439727218ec2012a483e113d9b9,oslo.messaging, if name == 'target' or name == 'oslo_rpc_server_ping':, if name == 'target':,1,1
openstack%2Frequirements~master~Id6c0b808efee02571e235651d18aa3322761bce0,openstack/requirements,master,Id6c0b808efee02571e235651d18aa3322761bce0,update constraint for os_vif to new release 2.2.0,MERGED,2020-09-03 17:27:46.000000000,2020-09-04 07:37:55.000000000,2020-09-04 07:35:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 17:27:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e194030f1512deef8667612ed3edea1fd282fb9d', 'message': 'update constraint for os_vif to new release 2.2.0\n\nChange-Id: Id6c0b808efee02571e235651d18aa3322761bce0\nmeta:version: 2.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Change-Id: I1eeaa2e28d2b74c596f715c84f89bc91050509e8\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749804,e194030f1512deef8667612ed3edea1fd282fb9d,11,2,1,11131,,,0,"update constraint for os_vif to new release 2.2.0

Change-Id: Id6c0b808efee02571e235651d18aa3322761bce0
meta:version: 2.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Stephen Finucane <sfinucan@redhat.com>
meta:release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta:release:Change-Id: I1eeaa2e28d2b74c596f715c84f89bc91050509e8
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/749804/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e194030f1512deef8667612ed3edea1fd282fb9d,new-release,os-vif===2.2.0,os-vif===2.1.0,1,1
openstack%2Fkolla~stable%2Frocky~I80249e53f9cd09a2abd1178a8f50f750b957b210,openstack/kolla,stable/rocky,I80249e53f9cd09a2abd1178a8f50f750b957b210,[DO NOT MERGE] Test CI,ABANDONED,2020-08-22 02:26:08.000000000,2020-09-04 07:37:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-22 02:26:08.000000000', 'files': ['docker/zun/zun-base/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bae6d08164cc577b57b08ccfdeb1bd6be63efaf1', 'message': '[DO NOT MERGE] Test CI\n\nChange-Id: I80249e53f9cd09a2abd1178a8f50f750b957b210\n'}]",0,747507,bae6d08164cc577b57b08ccfdeb1bd6be63efaf1,4,2,1,11536,,,0,"[DO NOT MERGE] Test CI

Change-Id: I80249e53f9cd09a2abd1178a8f50f750b957b210
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/747507/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/zun/zun-base/extend_start.sh'],1,bae6d08164cc577b57b08ccfdeb1bd6be63efaf1,,#test,,1,0
openstack%2Fkuryr-kubernetes~master~Ic38015cba27d8418175027ec4e433df32eae4706,openstack/kuryr-kubernetes,master,Ic38015cba27d8418175027ec4e433df32eae4706,Delete ports without device_owner on ns deletion,MERGED,2020-09-03 15:34:56.000000000,2020-09-04 07:31:52.000000000,2020-09-04 07:29:43.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-09-03 15:34:56.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_subnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/41c00f6584fe32ecbd97857930f865ddf201486b', 'message': 'Delete ports without device_owner on ns deletion\n\nNeutron clears device_owner when port is detached. This means that with\npools we need to consider ports without device_owner set when doing\ncleanup on namespace deletion.\n\nChange-Id: Ic38015cba27d8418175027ec4e433df32eae4706\n'}]",0,749769,41c00f6584fe32ecbd97857930f865ddf201486b,9,4,1,11600,,,0,"Delete ports without device_owner on ns deletion

Neutron clears device_owner when port is detached. This means that with
pools we need to consider ports without device_owner set when doing
cleanup on namespace deletion.

Change-Id: Ic38015cba27d8418175027ec4e433df32eae4706
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/69/749769/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/namespace_subnet.py'],1,41c00f6584fe32ecbd97857930f865ddf201486b,fix-clean-ports," # NOTE(dulek): '' is there because Neutron seems to unset # device_owner on detach. if leftover_port.device_owner not in ['', 'trunk:subport',"," if leftover_port.device_owner not in ['trunk:subport',",3,1
openstack%2Fpuppet-tripleo~master~I8f92469aa8dd0b8c21821b3ec62b2d43361ee428,openstack/puppet-tripleo,master,I8f92469aa8dd0b8c21821b3ec62b2d43361ee428,Replace union to create tcp-check list for redis,MERGED,2020-09-02 14:36:35.000000000,2020-09-04 07:22:40.000000000,2020-09-03 21:06:45.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 14:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1a280a72f8dfb6bd139a6a2dd90aa6a504ffa1f', 'message': ""Replace union to create tcp-check list for redis\n\nWhen using union, repeated arrays members are removed, so in this case\nwe are missing a 'expect string +ok' after the QUIT. To avoid that i'm\nusinhg + operator to join arrays.\n\nChange-Id: I8f92469aa8dd0b8c21821b3ec62b2d43361ee428\n""}, {'number': 2, 'created': '2020-09-03 08:04:21.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3130cc880a1f714ee8b38855f471b85a18834c1d', 'message': ""Replace union to create tcp-check list for redis\n\nWhen using union, repeated arrays members are removed, so in this case\nwe are missing a 'expect string +ok' after the QUIT. To avoid that i'm\nusinhg + operator to join arrays.\n\nChange-Id: I8f92469aa8dd0b8c21821b3ec62b2d43361ee428\n""}]",0,749525,3130cc880a1f714ee8b38855f471b85a18834c1d,13,5,2,16312,,,0,"Replace union to create tcp-check list for redis

When using union, repeated arrays members are removed, so in this case
we are missing a 'expect string +ok' after the QUIT. To avoid that i'm
usinhg + operator to join arrays.

Change-Id: I8f92469aa8dd0b8c21821b3ec62b2d43361ee428
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/25/749525/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,f1a280a72f8dfb6bd139a6a2dd90aa6a504ffa1f,fix-haproxy-2.2," $redis_tcp_check_connect_options = union($redis_tcp_check_ssl_options, $redis_tcp_check_password_options) $redis_tcp_check_common_options = ['send PING\r\n', 'expect string +PONG', 'send info\ replication\r\n', 'expect string role:master', 'send QUIT\r\n', 'expect string +OK'] $redis_tcp_check_options = $redis_tcp_check_connect_options + $redis_tcp_check_common_options 'tcp-check' => $redis_tcp_check_options,"," $redis_tcp_check_options = union($redis_tcp_check_ssl_options, $redis_tcp_check_password_options) 'tcp-check' => union($redis_tcp_check_options, ['send PING\r\n', 'expect string +PONG', 'send info\ replication\r\n', 'expect string role:master', 'send QUIT\r\n', 'expect string +OK']),",9,7
openstack%2Ftrove~master~I8a9fd906d6b70dfad1c38e751cadc004a5aeb13f,openstack/trove,master,I8a9fd906d6b70dfad1c38e751cadc004a5aeb13f,Use sudo when deleting image cache dir,MERGED,2020-09-04 01:59:05.000000000,2020-09-04 07:17:02.000000000,2020-09-04 07:14:16.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 01:59:05.000000000', 'files': ['integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/ec8a10e36b7a9cf725e69d75da85ba85f7818817', 'message': 'Use sudo when deleting image cache dir\n\nChange-Id: I8a9fd906d6b70dfad1c38e751cadc004a5aeb13f\n'}]",0,749860,ec8a10e36b7a9cf725e69d75da85ba85f7818817,7,2,1,6732,,,0,"Use sudo when deleting image cache dir

Change-Id: I8a9fd906d6b70dfad1c38e751cadc004a5aeb13f
",git fetch https://review.opendev.org/openstack/trove refs/changes/60/749860/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/functions_qemu'],1,ec8a10e36b7a9cf725e69d75da85ba85f7818817,fix-image, sudo rm -rf ${GUEST_CACHEDIR}, rm -rf ${GUEST_CACHEDIR},1,1
openstack%2Ftripleo-common~stable%2Ftrain~Ib2c5c655d6851754e93da1e5739674cd28064ea2,openstack/tripleo-common,stable/train,Ib2c5c655d6851754e93da1e5739674cd28064ea2,[train-only] add ec2-api image into TCIB,MERGED,2020-09-03 16:31:26.000000000,2020-09-04 07:15:37.000000000,2020-09-04 07:12:46.000000000,"[{'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-09-03 16:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2c2010403035bbc400ee74f33b494dc95bf19c7', 'message': ""[train-only] add ec2-api image into TCIB\n\nAdding an image layout so we continue to ship ec2api container image in\nTCIB, like we did for Kolla before.\n\nNote about the image: it doesn't have healthcheck (never did).\n\nChange-Id: Ib2c5c655d6851754e93da1e5739674cd28064ea2\nCloses-Bug: #1894126\n""}, {'number': 2, 'created': '2020-09-03 22:21:23.000000000', 'files': ['container-images/kolla/ec2-api/extend_start.sh', 'container-images/tcib/base/os/ec2-api/ec2-api.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1aa08100cf918a4ef3414de70d344e5bdd7a89b', 'message': ""[train-only] add ec2-api image into TCIB\n\nAdding an image layout so we continue to ship ec2api container image in\nTCIB, like we did for Kolla before.\n\nNote about the image: it doesn't have healthcheck (never did).\n\nChange-Id: Ib2c5c655d6851754e93da1e5739674cd28064ea2\nCloses-Bug: #1894126\n""}]",0,749783,d1aa08100cf918a4ef3414de70d344e5bdd7a89b,17,7,2,3153,,,0,"[train-only] add ec2-api image into TCIB

Adding an image layout so we continue to ship ec2api container image in
TCIB, like we did for Kolla before.

Note about the image: it doesn't have healthcheck (never did).

Change-Id: Ib2c5c655d6851754e93da1e5739674cd28064ea2
Closes-Bug: #1894126
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/749783/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/ec2-api/extend_start.sh', 'container-images/tcib/base/os/ec2-api/ec2-api.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tripleo_containers.yaml']",4,d2c2010403035bbc400ee74f33b494dc95bf19c7,ec2api/train, imagename: quay.io/tripleotrain/openstack-ec2-api:current-tripleo - image_source: tripleo,,19,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I0443da140020540917396cdfe00da8ac29d20297,openstack/python-tripleoclient,stable/ussuri,I0443da140020540917396cdfe00da8ac29d20297,Implement validations-libs framework for ALL validator commands,MERGED,2020-06-10 12:29:45.000000000,2020-09-04 07:15:09.000000000,2020-09-04 07:12:45.000000000,"[{'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-10 12:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8f4d43bba98fffad38806e641059a5568345ceb', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 2, 'created': '2020-08-21 12:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/751d62846f9422840a9ae19b6d000be99f3d2b22', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}, {'number': 3, 'created': '2020-08-24 09:46:08.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9619652234a48670502c0921bf94d6f825e21c5d', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nDepends-On: https://review.opendev.org/747669\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)\n'}]",0,734809,9619652234a48670502c0921bf94d6f825e21c5d,24,6,3,16515,,,0,"Implement validations-libs framework for ALL validator commands

Implement All command with validations libs framework

Depends-On: https://review.opendev.org/747669
Change-Id: I0443da140020540917396cdfe00da8ac29d20297
(cherry picked from commit 6dee93a9e7833cea4582385c09ada5655a2b167a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/734809/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'lower-constraints.txt']",6,b8f4d43bba98fffad38806e641059a5568345ceb,validations/libs/cli-stable/ussuri,validations-libs==1.0.0,,131,626
openstack%2Fneutron~master~I0820f92afbc876ce6df7304739e7982a768a13a9,openstack/neutron,master,I0820f92afbc876ce6df7304739e7982a768a13a9,add support record domain from neutron network as dhcp domain options,ABANDONED,2020-09-01 15:31:18.000000000,2020-09-04 07:14:34.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32372}]","[{'number': 1, 'created': '2020-09-01 15:31:18.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea4f86286dd72b8528b5590ebff6389deabd8b0a', 'message': 'add support record domain from neutron network as dhcp domain options\n\nChange-Id: I0820f92afbc876ce6df7304739e7982a768a13a9\n'}]",8,749344,ea4f86286dd72b8528b5590ebff6389deabd8b0a,16,11,1,32372,,,0,"add support record domain from neutron network as dhcp domain options

Change-Id: I0820f92afbc876ce6df7304739e7982a768a13a9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/749344/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,ea4f86286dd72b8528b5590ebff6389deabd8b0a,dhcp-domain," if self.network.dns_domain: cmd.append('--domain=%s' % self.network.dns_domain) if self.network.dns_domain == None or self.network.dns_domain == """" : if self.conf.dns_domain: cmd.append('--domain=%s' % self.conf.dns_domain)", if self.conf.dns_domain: cmd.append('--domain=%s' % self.conf.dns_domain),6,2
openstack%2Fironic-python-agent~master~I649f0e6df1913072f8dafc6efec665704ddc88db,openstack/ironic-python-agent,master,I649f0e6df1913072f8dafc6efec665704ddc88db,Remove Babel lower-requirement,ABANDONED,2020-09-03 06:09:19.000000000,2020-09-04 07:06:59.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 06:09:19.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3806d2493ff7f05bc0b97c1094789d56f00899d2', 'message': 'Remove Babel lower-requirement\n\nChange-Id: I649f0e6df1913072f8dafc6efec665704ddc88db\n'}]",0,749642,3806d2493ff7f05bc0b97c1094789d56f00899d2,5,3,1,32029,,,0,"Remove Babel lower-requirement

Change-Id: I649f0e6df1913072f8dafc6efec665704ddc88db
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/42/749642/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3806d2493ff7f05bc0b97c1094789d56f00899d2,babel,,Babel==2.5.3,0,1
openstack%2Fmistral-lib~master~I312f1f4b26de31b7a0b6040e371e2e02760728d9,openstack/mistral-lib,master,I312f1f4b26de31b7a0b6040e371e2e02760728d9,Add more specific description to param_spec,MERGED,2020-09-04 05:38:20.000000000,2020-09-04 07:00:32.000000000,2020-09-04 06:57:41.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-04 05:38:20.000000000', 'files': ['mistral_lib/actions/base.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/245c1272f2219991194cfead55d03277e68cccd7', 'message': 'Add more specific description to param_spec\n\nChange-Id: I312f1f4b26de31b7a0b6040e371e2e02760728d9\n'}]",0,749864,245c1272f2219991194cfead55d03277e68cccd7,7,2,1,21970,,,0,"Add more specific description to param_spec

Change-Id: I312f1f4b26de31b7a0b6040e371e2e02760728d9
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/64/749864/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_lib/actions/base.py'],1,245c1272f2219991194cfead55d03277e68cccd7,," and ""val"" its default value. The values are only indications for the user and not used in the action instantiation process. The string is split along the commas and then the parts along the equal signs. Escaping is not possible."," and ""val"" its default value. All names and values in the string must be JSON-compatible.",4,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~I093faee1d136d1fa697d45647c8311fe82379c5c,openstack/python-tripleoclient,stable/train,I093faee1d136d1fa697d45647c8311fe82379c5c,[train-only] Add ipa config check to _cleanup_ipa,MERGED,2020-08-17 20:56:37.000000000,2020-09-04 06:54:27.000000000,2020-09-04 06:51:21.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 9954}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 20:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/645950f37e532a1e88c76f6ea5fd5c47d38939db', 'message': 'Add ipa config check to _cleanup_ipa\n\nThis adds a check to determine if this system is a properly configured\nipa client, if not the _cleanup_ipa code will be bypassed.  This should\neliminate the need to pass -s on non TLS-e environments.\n\nChange-Id: I093faee1d136d1fa697d45647c8311fe82379c5c\nBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1865900\n'}, {'number': 2, 'created': '2020-09-01 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f0eb7b562973238b0d44912a9f41e166e6740653', 'message': ""[train-only] Add ipa config check to _cleanup_ipa\n\nThis adds a check to determine if this system is a properly configured\nipa client, if not the _cleanup_ipa code will be bypassed. This should\neliminate the need to pass -s on non TLS-e environments.\n\nThis commit also defensively bypasses IPA cleanup if tripleoclient can't\ngenerate a reasonable inventory file. It's better to bail early and\ninform the user that they need to manually clean-up IPA instead of\nmunging the data in IPA based on assumptions. This is especially true if\nIPA is a shared resource and not specific to the OpenStack deployment.\n\nChange-Id: I093faee1d136d1fa697d45647c8311fe82379c5c\nBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1865900\n""}, {'number': 3, 'created': '2020-09-02 20:04:33.000000000', 'files': ['tripleoclient/tests/v1/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v1/overcloud_delete.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e3097e41957ae0c438b150e10ce24b0c25ab04c', 'message': ""[train-only] Add ipa config check to _cleanup_ipa\n\nThis adds a check to determine if this system is a properly configured\nipa client, if not the _cleanup_ipa code will be bypassed. This should\neliminate the need to pass -s on non TLS-e environments.\n\nThis commit also defensively bypasses IPA cleanup if tripleoclient can't\ngenerate a reasonable inventory file. It's better to bail early and\ninform the user that they need to manually clean-up IPA instead of\nmunging the data in IPA based on assumptions. This is especially true if\nIPA is a shared resource and not specific to the OpenStack deployment.\n\nChange-Id: I093faee1d136d1fa697d45647c8311fe82379c5c\nBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1865900\n""}]",6,746602,5e3097e41957ae0c438b150e10ce24b0c25ab04c,23,8,3,7414,,,0,"[train-only] Add ipa config check to _cleanup_ipa

This adds a check to determine if this system is a properly configured
ipa client, if not the _cleanup_ipa code will be bypassed. This should
eliminate the need to pass -s on non TLS-e environments.

This commit also defensively bypasses IPA cleanup if tripleoclient can't
generate a reasonable inventory file. It's better to bail early and
inform the user that they need to manually clean-up IPA instead of
munging the data in IPA based on assumptions. This is especially true if
IPA is a shared resource and not specific to the OpenStack deployment.

Change-Id: I093faee1d136d1fa697d45647c8311fe82379c5c
BZ: https://bugzilla.redhat.com/show_bug.cgi?id=1865900
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/746602/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_delete.py'],1,645950f37e532a1e88c76f6ea5fd5c47d38939db,fix_cleanup_ipa," ipa_config = '/etc/ipa/default.conf' if not os.path.exists(ipa_config): self.log.debug( ""{} doesn't exist on system. "" ""Ignoring IPA cleanup."".format(playbook) ) return",,8,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia9209cb4a781375577480c175126321515e7af7c,openstack/tripleo-heat-templates,stable/ussuri,Ia9209cb4a781375577480c175126321515e7af7c,Fix nCipher (aka thales) ansible role name,MERGED,2020-09-01 15:01:16.000000000,2020-09-04 06:51:23.000000000,2020-09-04 06:51:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-01 15:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5bc3284db53fe7d972401daca58d9ce6def1a21', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n(cherry picked from commit 8c358e2e7c388818e85b8f2fa7b9fe70ae1703e6)\n""}, {'number': 2, 'created': '2020-09-02 11:49:09.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/451c83f1bd9dda4acf5a4303a68c2194e7553ea2', 'message': ""Fix nCipher (aka thales) ansible role name\n\nThis patch fixes the role name used to run the ansible\nrole that configures nCipher (aka thales) HSM device when\nBarbican is deployed with that backend.\n\nThe role was renamed from 'thales-hsm' to 'thales_hsm' [1]\nbut a couple of references were missed, which break the\ndeployment when using an nCipher device.\n\n[1] https://review.opendev.org/#/c/724414\n\nChange-Id: Ia9209cb4a781375577480c175126321515e7af7c\n(cherry picked from commit 8c358e2e7c388818e85b8f2fa7b9fe70ae1703e6)\n""}]",0,749322,451c83f1bd9dda4acf5a4303a68c2194e7553ea2,11,4,2,7973,,,0,"Fix nCipher (aka thales) ansible role name

This patch fixes the role name used to run the ansible
role that configures nCipher (aka thales) HSM device when
Barbican is deployed with that backend.

The role was renamed from 'thales-hsm' to 'thales_hsm' [1]
but a couple of references were missed, which break the
deployment when using an nCipher device.

[1] https://review.opendev.org/#/c/724414

Change-Id: Ia9209cb4a781375577480c175126321515e7af7c
(cherry picked from commit 8c358e2e7c388818e85b8f2fa7b9fe70ae1703e6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/749322/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,b5bc3284db53fe7d972401daca58d9ce6def1a21,fix-thales-hsm-role-stable/ussuri, description: Hash of thales_hsm role variables used to - thales_hsm, description: Hash of thales-hsm role variables used to - thales-hsm,2,2
openstack%2Ftripleo-common~master~I91567185464997eb77217b14e7efb97cbecf6e77,openstack/tripleo-common,master,I91567185464997eb77217b14e7efb97cbecf6e77,Add interface-names to Rhel8 images,MERGED,2020-06-11 11:29:22.000000000,2020-09-04 06:48:18.000000000,2020-06-12 03:15:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-11 11:29:22.000000000', 'files': ['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5', 'message': 'Add interface-names to Rhel8 images\n\nWith EL8, net.ifnames is set to 0 in the grub config. This is a change\nin the default image which can have user impacts, Details in bug[1].\n\nWe already added ""interface-names"" to centos8 images[2]. With this\nchange we are adding ""interface-names"" to remove net.ifnames=0 from\nrhel8 image as well.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1841441\n[2] https://review.opendev.org/#/c/712571/\n\nChange-Id: I91567185464997eb77217b14e7efb97cbecf6e77\n'}]",0,735116,ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5,13,9,1,29775,,,0,"Add interface-names to Rhel8 images

With EL8, net.ifnames is set to 0 in the grub config. This is a change
in the default image which can have user impacts, Details in bug[1].

We already added ""interface-names"" to centos8 images[2]. With this
change we are adding ""interface-names"" to remove net.ifnames=0 from
rhel8 image as well.

[1] https://bugs.launchpad.net/tripleo/+bug/1841441
[2] https://review.opendev.org/#/c/712571/

Change-Id: I91567185464997eb77217b14e7efb97cbecf6e77
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/735116/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml']",3,ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5,rhel-disable-net.ifnames, elements: - interface-names,,6,0
openstack%2Fneutron~master~Ia5bd25411149d1c475c142a60814c6daa8566cae,openstack/neutron,master,Ia5bd25411149d1c475c142a60814c6daa8566cae,Squash alchemy Liberty branch,MERGED,2020-07-17 16:43:22.000000000,2020-09-04 06:00:00.000000000,2020-09-03 01:59:06.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-17 16:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d70fa5935e3036835a34e2001f45633f404bd1fb', 'message': '[WIP] Squash alchemy kilo branch\n\nChange-Id: Ia5bd25411149d1c475c142a60814c6daa8566cae\n'}, {'number': 2, 'created': '2020-07-21 11:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12642d171fc807937af1599f0492befd3ab528bb', 'message': 'Squash alchemy Liberty branch\n\nThis patch squashes the DB alchemy migration from Liberty\nbranch. The contract and expand migration steps are added\nto the initial operation files. The unneeded tables or\nparameters are not created.\n\nNow the starting migration milestone is Mitaka.\n\nChange-Id: Ia5bd25411149d1c475c142a60814c6daa8566cae\n'}, {'number': 3, 'created': '2020-07-21 17:44:30.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/liberty/expand/26c371498592_subnetpool_hash.py', 'neutron/db/migration/alembic_migrations/ml2_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty_initial.py', 'neutron/db/migration/alembic_migrations/nsxv_initial_opts.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2a16083502f3_metaplugin_removal.py', 'neutron/tests/unit/db/test_migration.py', 'neutron/db/migration/alembic_migrations/lb_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/5498d17be016_drop_legacy_ovs_and_lb.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/9859ac9c136_quota_reservations.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2e5352a0ad4d_add_missing_foreign_keys.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4af11ca47297_drop_cisco_monolithic_tables.py', 'neutron/db/migration/alembic_migrations/other_extensions_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/30018084ec99_initial.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/31337ec0ffee_flavors.py', 'neutron/db/migration/alembic_migrations/cisco_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4ffceebfada_rbac_network.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/11926bcfe72d_add_geneve_ml2_type_driver.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1b4c6e320f79_address_scope_support_in_subnetpool.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/59cb5b6cf4d_availability_zone.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/52c5312f6baf_address_scopes.py', 'neutron/db/migration/alembic_migrations/core_init_ops.py', 'neutron/db/migration/alembic_migrations/other_plugins_init_ops.py', 'neutron/db/migration/alembic_migrations/qos_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/45f955889773_quota_usage.py', 'neutron/db/migration/__init__.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/34af2b5c5a59_add_dns_name_to_port.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/354db87e3225_nsxv_vdr_metadata.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/contract/1b294093239c_remove_embrane_plugin.py', 'neutron/db/migration/alembic_migrations/ipam_init_ops.py', 'neutron/db/migration/alembic_migrations/rbac_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1c844d1677f7_dns_nameservers_order.py', 'neutron/db/migration/alembic_migrations/ovs_init_ops.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0be5f1a83c21a7ef6ff902fa88550cb286d15d9', 'message': 'Squash alchemy Liberty branch\n\nThis patch squashes the DB alchemy migration from Liberty\nbranch. The contract and expand migration steps are added\nto the initial operation files. The unneeded tables or\nparameters are not created.\n\nNow the starting migration milestone is Mitaka.\n\nChange-Id: Ia5bd25411149d1c475c142a60814c6daa8566cae\n'}]",5,741676,f0be5f1a83c21a7ef6ff902fa88550cb286d15d9,27,9,3,16688,,,0,"Squash alchemy Liberty branch

This patch squashes the DB alchemy migration from Liberty
branch. The contract and expand migration steps are added
to the initial operation files. The unneeded tables or
parameters are not created.

Now the starting migration milestone is Mitaka.

Change-Id: Ia5bd25411149d1c475c142a60814c6daa8566cae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/741676/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/liberty/expand/26c371498592_subnetpool_hash.py', 'neutron/db/migration/alembic_migrations/ml2_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty_initial.py', 'neutron/db/migration/alembic_migrations/nsxv_initial_opts.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2a16083502f3_metaplugin_removal.py', 'neutron/tests/unit/db/test_migration.py', 'neutron/db/migration/alembic_migrations/lb_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/5498d17be016_drop_legacy_ovs_and_lb.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/9859ac9c136_quota_reservations.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/2e5352a0ad4d_add_missing_foreign_keys.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4af11ca47297_drop_cisco_monolithic_tables.py', 'neutron/db/migration/alembic_migrations/other_extensions_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/30018084ec99_initial.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/31337ec0ffee_flavors.py', 'neutron/db/migration/alembic_migrations/cisco_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/4ffceebfada_rbac_network.py', 'neutron/db/migration/alembic_migrations/versions/liberty/contract/11926bcfe72d_add_geneve_ml2_type_driver.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1b4c6e320f79_address_scope_support_in_subnetpool.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/59cb5b6cf4d_availability_zone.py', 'neutron/db/migration/cli.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/52c5312f6baf_address_scopes.py', 'neutron/db/migration/alembic_migrations/core_init_ops.py', 'neutron/db/migration/alembic_migrations/other_plugins_init_ops.py', 'neutron/db/migration/alembic_migrations/qos_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/45f955889773_quota_usage.py', 'neutron/db/migration/__init__.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/34af2b5c5a59_add_dns_name_to_port.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/354db87e3225_nsxv_vdr_metadata.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/contract/1b294093239c_remove_embrane_plugin.py', 'neutron/db/migration/alembic_migrations/ipam_init_ops.py', 'neutron/db/migration/alembic_migrations/rbac_init_ops.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/1c844d1677f7_dns_nameservers_order.py', 'neutron/db/migration/alembic_migrations/ovs_init_ops.py']",33,d70fa5935e3036835a34e2001f45633f404bd1fb,squash_liberty_db_migration,,"# Copyright 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Initial operations for the OVS plugin from alembic import op import sqlalchemy as sa def upgrade(): op.create_table( 'ovs_tunnel_endpoints', sa.Column('ip_address', sa.String(length=64), nullable=False), sa.Column('id', sa.Integer(), nullable=False), sa.PrimaryKeyConstraint('ip_address'), sa.UniqueConstraint('id', name='uniq_ovs_tunnel_endpoints0id')) op.create_table( 'ovs_tunnel_allocations', sa.Column('tunnel_id', sa.Integer(), autoincrement=False, nullable=False), sa.Column('allocated', sa.Boolean(), nullable=False), sa.PrimaryKeyConstraint('tunnel_id')) op.create_table( 'ovs_vlan_allocations', sa.Column('physical_network', sa.String(length=64), nullable=False), sa.Column('vlan_id', sa.Integer(), autoincrement=False, nullable=False), sa.Column('allocated', sa.Boolean(), nullable=False), sa.PrimaryKeyConstraint('physical_network', 'vlan_id')) op.create_table( 'ovs_network_bindings', sa.Column('network_id', sa.String(length=36), nullable=False), sa.Column('network_type', sa.String(length=32), nullable=False), sa.Column('physical_network', sa.String(length=64), nullable=True), sa.Column('segmentation_id', sa.Integer(), nullable=True), sa.ForeignKeyConstraint(['network_id'], ['networks.id'], ondelete='CASCADE'), sa.PrimaryKeyConstraint('network_id')) ",147,1016
openstack%2Ftripleo-quickstart-extras~master~I99c657bb0090e9b2e09b2c22344b5923f9098d37,openstack/tripleo-quickstart-extras,master,I99c657bb0090e9b2e09b2c22344b5923f9098d37,Remove ceph repos from container update param,MERGED,2020-08-27 14:30:50.000000000,2020-09-04 05:59:36.000000000,2020-09-04 05:59:36.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28182}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-08-27 14:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c81cf521b62a59da9d1aa0a216934430c59a677', 'message': 'Remove ceph repos from container update param\n\nWith this change we are removing ceph repos from\nstandalone_container_prep_update_repo parameter.\n\nWe are already passing ceph repo in container build job via config\nrelease file. If containers are already built with latest ceph, Ceph\nrepos in standalone_container_prep_update_repo will not change anything.\n\nThese rpm were added earlier when we were transition to ceph-nautilus.\n\nChange-Id: I99c657bb0090e9b2e09b2c22344b5923f9098d37\n'}, {'number': 2, 'created': '2020-08-31 16:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/679d2482618965cbe1df4361d6c98508ed20b379', 'message': 'Remove ceph repos from container update param\n\nWith this change we are removing ceph repos from\nstandalone_container_prep_update_repo parameter.\n\nWe are already passing ceph repo in container build job via config\nrelease file. If containers are already built with latest ceph, Ceph\nrepos in standalone_container_prep_update_repo will not change anything.\n\nThese rpm were added earlier when we were transition to ceph-nautilus.\n\nChange-Id: I99c657bb0090e9b2e09b2c22344b5923f9098d37\n'}, {'number': 3, 'created': '2020-09-03 15:19:38.000000000', 'files': ['roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d971b693bad65ad95ed74f8931d2126e608661e3', 'message': 'Remove ceph repos from container update param\n\nWith this change we are removing ceph repos from\nstandalone_container_prep_update_repo parameter.\n\nWe are already passing ceph repo in container build job via config\nrelease file. If containers are already built with latest ceph, Ceph\nrepos in standalone_container_prep_update_repo will not change anything.\n\nThese rpm were added earlier when we were transition to ceph-nautilus.\n\nChange-Id: I99c657bb0090e9b2e09b2c22344b5923f9098d37\n'}]",0,748449,d971b693bad65ad95ed74f8931d2126e608661e3,35,11,3,29775,,,0,"Remove ceph repos from container update param

With this change we are removing ceph repos from
standalone_container_prep_update_repo parameter.

We are already passing ceph repo in container build job via config
release file. If containers are already built with latest ceph, Ceph
repos in standalone_container_prep_update_repo will not change anything.

These rpm were added earlier when we were transition to ceph-nautilus.

Change-Id: I99c657bb0090e9b2e09b2c22344b5923f9098d37
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/49/748449/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/defaults/main.yml'],1,3c81cf521b62a59da9d1aa0a216934430c59a677,," {% if compressed_gating_repo is defined %}{{ gating_repo_name }},{% endif %}delorean-current"," {% if compressed_gating_repo is defined %}{{ gating_repo_name }},{% endif %}delorean-current,quickstart-centos-ceph-nautilus",1,1
openstack%2Fneutron~master~I998b1d0276635a00937a433586a542146488f8ab,openstack/neutron,master,I998b1d0276635a00937a433586a542146488f8ab,Switch to new engine facade in OVN trunk driver module,MERGED,2020-08-27 20:26:26.000000000,2020-09-04 05:40:44.000000000,2020-09-04 05:38:53.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-27 20:26:26.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b4630913e4fd167a241c099c44a5ee8121b6093', 'message': 'Switch to new engine facade in OVN trunk driver module\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I998b1d0276635a00937a433586a542146488f8ab\n'}]",0,748531,5b4630913e4fd167a241c099c44a5ee8121b6093,20,10,1,11975,,,0,"Switch to new engine facade in OVN trunk driver module

Partially-Implements blueprint: enginefacade-switch

Change-Id: I998b1d0276635a00937a433586a542146488f8ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/748531/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/ovn/trunk_driver.py'],1,5b4630913e4fd167a241c099c44a5ee8121b6093,bp/enginefacade-switch,"from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(context), ( with db_api.CONTEXT_WRITER.using(context), ("," with context.session.begin(subtransactions=True), ( with context.session.begin(subtransactions=True), (",3,2
openstack%2Fmistral-lib~master~Iad67cbb5ac374952b60a02657770fed56c5c41b6,openstack/mistral-lib,master,Iad67cbb5ac374952b60a02657770fed56c5c41b6,Release notes for action providers,MERGED,2020-09-04 05:10:49.000000000,2020-09-04 05:28:38.000000000,2020-09-04 05:27:32.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-09-04 05:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/a0befeda64d401f12db93243c5b75b9556d1ed85', 'message': 'Release notes for action providers\n\nChange-Id: Iad67cbb5ac374952b60a02657770fed56c5c41b6\n'}, {'number': 2, 'created': '2020-09-04 05:14:54.000000000', 'files': ['releasenotes/notes/action_providers-54a50a4d629016ce.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/828e7caca060b235500d5bf09a3f09810dec258d', 'message': 'Release notes for action providers\n\nChange-Id: Iad67cbb5ac374952b60a02657770fed56c5c41b6\n'}]",0,749863,828e7caca060b235500d5bf09a3f09810dec258d,8,5,2,8731,,,0,"Release notes for action providers

Change-Id: Iad67cbb5ac374952b60a02657770fed56c5c41b6
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/63/749863/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/action_providers-54a50a4d629016ce.yaml'],1,a0befeda64d401f12db93243c5b75b9556d1ed85,bp/mistral-action-providers,"--- features: - | Added the new infrastracture that will allow to manage Mistral actons in a much more flexible way. It is based on the action provider concept. An action provider is responsible for delivering actions to Mistral. Mistral cluster administrators can plugin multiple action providers that will deliver actions in their own way, possibly using different backend storages, caching techinques and so on. Along with the ActionProvider interface there has been added the ActionDescriptor interface that carries meta information about an action and responsible for instantiating the action. Also added base convenient classes. fixes: - | Fixed a number of typos and logic mistakes in docstrings and also added the exception class ActionException that actions can raise in case of their internal errors. Mistral will be handling those exceptions starting from the Victoria official version. ",,18,0
openstack%2Fneutron~master~I4c5935bb1e7232aed01bed7061e41eb10f8bab9b,openstack/neutron,master,I4c5935bb1e7232aed01bed7061e41eb10f8bab9b,Switch to new enginefacade in uplink_status_propagation UT module,MERGED,2020-08-27 20:28:59.000000000,2020-09-04 04:41:30.000000000,2020-09-04 04:40:06.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-27 20:28:59.000000000', 'files': ['neutron/tests/unit/extensions/test_uplink_status_propagation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eafa4ae6c81ace039887489ff51b2aaac6aa72c2', 'message': 'Switch to new enginefacade in uplink_status_propagation UT module\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I4c5935bb1e7232aed01bed7061e41eb10f8bab9b\n'}]",0,748532,eafa4ae6c81ace039887489ff51b2aaac6aa72c2,13,8,1,11975,,,0,"Switch to new enginefacade in uplink_status_propagation UT module

Partially-Implements blueprint: enginefacade-switch

Change-Id: I4c5935bb1e7232aed01bed7061e41eb10f8bab9b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/748532/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_uplink_status_propagation.py'],1,eafa4ae6c81ace039887489ff51b2aaac6aa72c2,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(context):, with context.session.begin(subtransactions=True):,2,1
openstack%2Fneutron~stable%2Fqueens~I5439adf2c4b7dcf832241201fd949f6930e65fdf,openstack/neutron,stable/queens,I5439adf2c4b7dcf832241201fd949f6930e65fdf,Fix unnecessary security_groups_member_updated notification,MERGED,2020-09-02 07:17:57.000000000,2020-09-04 04:40:01.000000000,2020-09-04 04:40:01.000000000,"[{'_account_id': 4694}, {'_account_id': 10518}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-02 07:17:57.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/53de19cc3cfd65b8650287ca49b2933494aa1e57', 'message': ""Fix unnecessary security_groups_member_updated notification\n\nnotify_sg_on_port_change will cause unnecessary notification to\nneutron-l2-agents when port update, for example like port's name\nupdating will also notify.\n\nnotify_sg_on_port_change will only be needed when port's\nSecurity Group update or port IP change.\n\nChange-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf\nCloses-Bug: #1720322\n(cherry picked from commit 530d97141acb63dfe02566bda0a7e78fb058b6b0)\n""}]",0,749447,53de19cc3cfd65b8650287ca49b2933494aa1e57,12,6,1,9531,,,0,"Fix unnecessary security_groups_member_updated notification

notify_sg_on_port_change will cause unnecessary notification to
neutron-l2-agents when port update, for example like port's name
updating will also notify.

notify_sg_on_port_change will only be needed when port's
Security Group update or port IP change.

Change-Id: I5439adf2c4b7dcf832241201fd949f6930e65fdf
Closes-Bug: #1720322
(cherry picked from commit 530d97141acb63dfe02566bda0a7e78fb058b6b0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/749447/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/plugin.py']",3,53de19cc3cfd65b8650287ca49b2933494aa1e57,bug/1720322-stable/queens,," self.check_and_notify_security_group_member_changed( context, original_port, updated_port)",18,3
openstack%2Fopenstack-helm-infra~master~I0c9c7b2c1feaac9aca817041dae617b4d1056b84,openstack/openstack-helm-infra,master,I0c9c7b2c1feaac9aca817041dae617b4d1056b84,Support old mariadb dump file naming,MERGED,2020-09-01 21:05:53.000000000,2020-09-04 04:25:36.000000000,2020-09-04 04:24:30.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 18511}, {'_account_id': 22214}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 29132}, {'_account_id': 30317}]","[{'number': 1, 'created': '2020-09-01 21:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2af94a8e71fc295c0a801655590d71e7e0603986', 'message': 'Support old db dump file naming for restoration\n\nRename mariadb dump file on fly during archive extraction.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-09-01 23:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eca68d037c75c1cd384391043224693360d39dfc', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-09-01 23:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/646ac25ec8dc464a6432b64c1b6c89a4ea17dfdc', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-09-02 00:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dcf0a74387e8ff54f78c1b865f3c29b5e24e44da', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-09-02 00:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ce8ea4cd5be3884ac321f187bf57aa2fe613059', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-09-02 13:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b38543e1ff9bcdc973f460dbbe84a509757cc1d1', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-09-02 14:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cabeb72fa53d7fb89bbc3e5ceda8653557ddc259', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-09-04 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c655468aaee4cfd9f4366cceb43d6ed4681238aa', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-09-04 00:53:37.000000000', 'files': ['mariadb/templates/bin/_restore_mariadb.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/094acf9c8604167eecd44d24b4b5edc8741be350', 'message': 'Support old mariadb dump file naming\n\nFallback to old dump file naming for read operation to support archives\nwith legacy naming.\n\nChange-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",8,749395,094acf9c8604167eecd44d24b4b5edc8741be350,44,11,9,8863,,,0,"Support old mariadb dump file naming

Fallback to old dump file naming for read operation to support archives
with legacy naming.

Change-Id: I0c9c7b2c1feaac9aca817041dae617b4d1056b84
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/95/749395/7 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/db-backup-restore/_restore_main.sh.tpl'],1,2af94a8e71fc295c0a801655590d71e7e0603986,," # Keep old DB naming compatibility tar --transform=""flags=r;s|^mariadb\.all\.sql$|mariadb.${DB_NAMESPACE}.all.sql|"" -zxvf - < $TMP_DIR/$ARCHIVE_FILE 1>/dev/null", tar zxvf - < $TMP_DIR/$ARCHIVE_FILE 1>/dev/null,2,1
openstack%2Ftrove~master~Id3fd78b5d3e21579975ea0d0fc65e4f66ea4582e,openstack/trove,master,Id3fd78b5d3e21579975ea0d0fc65e4f66ea4582e,Remove six.PY3,MERGED,2020-09-03 08:08:46.000000000,2020-09-04 04:22:25.000000000,2020-09-04 04:21:02.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 08:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/985353877bb04027a99977dfb0a535244cde2f52', 'message': 'Remove six.PY3\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Id3fd78b5d3e21579975ea0d0fc65e4f66ea4582e\n'}, {'number': 2, 'created': '2020-09-03 10:31:48.000000000', 'files': ['trove/tests/fakes/swift.py', 'integration/tests/integration/int_tests.py', 'integration/tests/integration/tests/colorizer.py', 'trove/tests/unittests/domain-name-service/test_designate_driver.py', 'trove/dns/designate/driver.py', 'trove/tests/unittests/api/common/test_limits.py', 'run_tests.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/5bf159de3673ec81e7beaebe4b2fd474bf34616b', 'message': 'Remove six.PY3\n\nThe Python 2.7 Support has been dropped since Ussuri.\nSo remove hacking rules for compatibility between python 2 and 3.\n\nChange-Id: Id3fd78b5d3e21579975ea0d0fc65e4f66ea4582e\n'}]",3,749667,5bf159de3673ec81e7beaebe4b2fd474bf34616b,9,2,2,32029,,,0,"Remove six.PY3

The Python 2.7 Support has been dropped since Ussuri.
So remove hacking rules for compatibility between python 2 and 3.

Change-Id: Id3fd78b5d3e21579975ea0d0fc65e4f66ea4582e
",git fetch https://review.opendev.org/openstack/trove refs/changes/67/749667/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/fakes/swift.py', 'integration/tests/integration/int_tests.py', 'integration/tests/integration/tests/colorizer.py', 'trove/tests/unittests/domain-name-service/test_designate_driver.py', 'trove/dns/designate/driver.py', 'trove/tests/unittests/api/common/test_limits.py', 'run_tests.py']",7,985353877bb04027a99977dfb0a535244cde2f52,bp/six-removal, gettext.install('nova')," if six.PY3: gettext.install('nova') else: gettext.install('nova', unicode=True)",8,25
openstack%2Fcyborg~master~I64499715fae29f0f9189bf16178e9c0174abc835,openstack/cyborg,master,I64499715fae29f0f9189bf16178e9c0174abc835,Add a new column in driver matrix,MERGED,2020-08-28 07:20:35.000000000,2020-09-04 03:43:59.000000000,2020-09-04 03:42:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-28 07:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/84b39228f97456884012cab5432848fe77015d30', 'message': 'Add a new column in driver matrix\n\nWe need to add a new column to indicate the test report for\nthe driver who do not have 3rd party CI at present.\n\nChange-Id: I64499715fae29f0f9189bf16178e9c0174abc835\n'}, {'number': 2, 'created': '2020-08-28 08:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/96c718958c3e5815fadfddc5caf6aa0d60a2933e', 'message': 'Add a new column in driver matrix\n\nWe need to add a new column to indicate the test report for\nthe driver who do not have 3rd party CI at present.\n\nChange-Id: I64499715fae29f0f9189bf16178e9c0174abc835\n'}, {'number': 3, 'created': '2020-09-03 12:28:07.000000000', 'files': ['doc/source/reference/driver-table.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3ade5f801469341640de7d097642836cc39e2679', 'message': 'Add a new column in driver matrix\n\nWe need to add a new column to indicate the test report for\nthe driver who do not have 3rd party CI at present.\n\nChange-Id: I64499715fae29f0f9189bf16178e9c0174abc835\n'}]",6,748580,3ade5f801469341640de7d097642836cc39e2679,16,5,3,25738,,,0,"Add a new column in driver matrix

We need to add a new column to indicate the test report for
the driver who do not have 3rd party CI at present.

Change-Id: I64499715fae29f0f9189bf16178e9c0174abc835
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/80/748580/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/driver-table.rst'],1,84b39228f97456884012cab5432848fe77015d30,driver-matrix, :widths: 20 20 30 30 30 - Temparory Test Report - None - None - None - None * - Intel QAT Driver - `Intel QuickAssist Technology Card <https://www.intel.com/content/www/us/en/architecture-and-technology/intel-quick-assist-technology-overview.html>`_ - The driver for Intel QAT Card. - None - `Intel QAT Driver Test Report <https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelQAT>`_, :widths: 20 20 30 30,11,1
openstack%2Fneutron~stable%2Frocky~I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,openstack/neutron,stable/rocky,I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b,Add 'keepalived_use_no_track' config option,MERGED,2020-08-25 08:27:37.000000000,2020-09-04 03:29:14.000000000,2020-09-04 03:27:32.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 08:27:37.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ffbcb5a854ac12977e275f96f5f68f6cf41e24f', 'message': 'Add \'keepalived_use_no_track\' config option\n\nPatch [1] added option ""no_track"" to the keepalived\'s config file which\nis generated by L3 agent in HA mode.\nThis was added to handle properly keepalived 2.x and interfaces which\nare in DOWN state in the backup nodes.\nBut this ""no_track"" option is not compatible with keepalived 1.x series\nwhich is available e.g. on Ubuntu 18.04.\n\nAs there is no easy way to check automatically if keepalived supports or\nnot this config flag, this patch introduces new config option\n""keepalived_use_no_track"".\nIf this config option will be set to False, neutron L3 agent will not\nadd ""no_track"" to the keepalived\'s config.\n\nAs master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x\nis already available, this new config option default value is set to\nTrue.\n\n[1] https://review.opendev.org/#/c/721799/\n\nConflicts:\n    neutron/conf/agent/l3/config.py\n    neutron/tests/functional/agent/linux/test_keepalived.py\n\nChange-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b\nCloses-Bug: #1890400\n(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)\n'}]",0,747862,8ffbcb5a854ac12977e275f96f5f68f6cf41e24f,12,4,1,11975,,,0,"Add 'keepalived_use_no_track' config option

Patch [1] added option ""no_track"" to the keepalived's config file which
is generated by L3 agent in HA mode.
This was added to handle properly keepalived 2.x and interfaces which
are in DOWN state in the backup nodes.
But this ""no_track"" option is not compatible with keepalived 1.x series
which is available e.g. on Ubuntu 18.04.

As there is no easy way to check automatically if keepalived supports or
not this config flag, this patch introduces new config option
""keepalived_use_no_track"".
If this config option will be set to False, neutron L3 agent will not
add ""no_track"" to the keepalived's config.

As master branch is moving to gate on Ubuntu 20.04 where keepalived 2.x
is already available, this new config option default value is set to
True.

[1] https://review.opendev.org/#/c/721799/

Conflicts:
    neutron/conf/agent/l3/config.py
    neutron/tests/functional/agent/linux/test_keepalived.py

Change-Id: I2dfdb9f56de28d56ca0f240ff34fa7c3a12e339b
Closes-Bug: #1890400
(cherry picked from commit 7abe0ee34c367b4abf84820048b4aed643fc1162)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/747862/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'releasenotes/notes/add-keepalived_use_no_track-config-option-4fa10304ee2960e6.yaml', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/conf/agent/l3/config.py']",7,8ffbcb5a854ac12977e275f96f5f68f6cf41e24f,bug/1890400," cfg.BoolOpt('keepalived_use_no_track', default=True, help=_('If keepalived without support for ""no_track"" option ' 'is used, this should be set to False. ' 'Support for this option was introduced in keepalived ' '2.x'))",,132,17
openstack%2Ftripleo-validations~stable%2Ftrain~I4690b18b78c835f1533eb71ca8efc5ca9b10fc35,openstack/tripleo-validations,stable/train,I4690b18b78c835f1533eb71ca8efc5ca9b10fc35,Switch install-docker with ensure-docker,MERGED,2020-09-03 13:27:05.000000000,2020-09-04 03:20:48.000000000,2020-09-04 03:20:48.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 13:27:05.000000000', 'files': ['zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a66936f5a78fee1be33a0e35711aa7113f0a6cf5', 'message': 'Switch install-docker with ensure-docker\n\nZuul deprecation requires it, former one will be removed in the future.\n\nChange-Id: I4690b18b78c835f1533eb71ca8efc5ca9b10fc35\n(cherry picked from commit c8abe4e9efaed4ecd24a66e38c97a9eb4fa275eb)\n'}]",0,749732,a66936f5a78fee1be33a0e35711aa7113f0a6cf5,7,4,1,28223,,,0,"Switch install-docker with ensure-docker

Zuul deprecation requires it, former one will be removed in the future.

Change-Id: I4690b18b78c835f1533eb71ca8efc5ca9b10fc35
(cherry picked from commit c8abe4e9efaed4ecd24a66e38c97a9eb4fa275eb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/32/749732/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre.yml'],1,a66936f5a78fee1be33a0e35711aa7113f0a6cf5,ensure-stable/train, - role: ensure-docker, - role: install-docker,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I5341da7fdea0a53b86295d74d68ef2013efb0ea0,openstack/tripleo-ansible,stable/ussuri,I5341da7fdea0a53b86295d74d68ef2013efb0ea0,Only concatenate default_templates_dir when necessary,MERGED,2020-09-03 18:23:16.000000000,2020-09-04 02:49:42.000000000,2020-09-04 02:49:42.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 18:23:16.000000000', 'files': ['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7b611f5a9c28c732d9385809af21abb21eace03', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n(cherry picked from commit 295555839c5e1d8e7e5ab1bb3fb39537d09da989)\n""}]",0,749811,a7b611f5a9c28c732d9385809af21abb21eace03,13,5,1,18002,,,0,"Only concatenate default_templates_dir when necessary

By default the default_templates_dir is appended to the
plan_environment file. This is fine unless the deployer
overrides the default plan_environment file with the -p
option. This patch adds jinja2 filters so that if the
plan_environment starts with a '/', then the default
templates directory is not appended. Otherwise the default
behavior is unchanged.

Change-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0
Closes-Bug: #1893861
(cherry picked from commit 295555839c5e1d8e7e5ab1bb3fb39537d09da989)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/749811/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml'],1,a7b611f5a9c28c732d9385809af21abb21eace03,bug/1893861," # If plan_environment is an absolute path, then # don't prepend the templates dir. Else prepend it. - name: Create plan environment if does not exist filename: >- {{ plan_environment.startswith('/') | ternary(plan_environment, default_templates_dir.rstrip('/') + '/' + plan_environment) }}"," - name: Create plan environment if does not exit filename: ""{{ default_templates_dir + plan_environment }}""",8,2
openstack%2Fpython-cinderclient~master~Ibab96807a7747738282732fe0069b9bc197da0ee,openstack/python-cinderclient,master,Ibab96807a7747738282732fe0069b9bc197da0ee,[goal] Migrate python-cinderclient jobs to focal,MERGED,2020-07-26 22:46:03.000000000,2020-09-04 02:48:07.000000000,2020-09-04 02:45:47.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-26 22:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/dd53a32e9740ec6a77f396d1bd4112dfe8cc5460', 'message': '[goal] Migrate tempest jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for py37 job.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40179\n\nChange-Id: Ibab96807a7747738282732fe0069b9bc197da0ee\n'}, {'number': 2, 'created': '2020-07-26 22:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d4a62f5f83d84eef65b4a17bcb50465cfc3778de', 'message': '[goal] Migrate python-cinderclient jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for py37 job.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40179\n\nChange-Id: Ibab96807a7747738282732fe0069b9bc197da0ee\n'}, {'number': 3, 'created': '2020-08-07 20:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4b6c3155b655aefc2ecec2df7e7d70090f020439', 'message': '[goal] Migrate python-cinderclient jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for py37 job.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40179\n\nChange-Id: Ibab96807a7747738282732fe0069b9bc197da0ee\n'}, {'number': 4, 'created': '2020-08-16 22:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/79a34d5786f93ce8ec4edbcabcd909e04efc7a2b', 'message': '[goal] Migrate python-cinderclient jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for py37 job.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40179\n\nChange-Id: Ibab96807a7747738282732fe0069b9bc197da0ee\n'}, {'number': 5, 'created': '2020-08-16 23:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2d131c40c7a9c7a3564cf4f86cc7136fb1fa647c', 'message': '[goal] Migrate python-cinderclient jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n- pep8 error\n- Set bionic nodeset for py36 and py37 job.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40179\n\nChange-Id: Ibab96807a7747738282732fe0069b9bc197da0ee\n'}, {'number': 6, 'created': '2020-08-17 14:14:49.000000000', 'files': ['cinderclient/client.py', 'cinderclient/v3/volumes.py', 'cinderclient/tests/unit/test_utils.py', '.zuul.yaml', 'cinderclient/shell.py', 'lower-constraints.txt', 'cinderclient/v3/messages.py', 'cinderclient/v3/volume_backups.py', 'cinderclient/tests/unit/fake_actions_module.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f85896af2b044abc2c966f874414b38aae5b0d06', 'message': '[goal] Migrate python-cinderclient jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n- pep8 error\n- Set bionic nodeset for py36 and py37 job.\n\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40179\n\nChange-Id: Ibab96807a7747738282732fe0069b9bc197da0ee\n'}]",3,743082,f85896af2b044abc2c966f874414b38aae5b0d06,29,8,6,8556,,,0,"[goal] Migrate python-cinderclient jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.
- pep8 error
- Set bionic nodeset for py36 and py37 job.


[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Story: #2007865
Task: #40179

Change-Id: Ibab96807a7747738282732fe0069b9bc197da0ee
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/82/743082/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dd53a32e9740ec6a77f396d1bd4112dfe8cc5460,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-focal, nodeset: openstack-single-node-bionic,2,1
openstack%2Fneutron-vpnaas-dashboard~master~Idd11861ec3d6cca09beea68832999a9f3410281e,openstack/neutron-vpnaas-dashboard,master,Idd11861ec3d6cca09beea68832999a9f3410281e,Add aggressive negotiation mode for ikepolicy,MERGED,2020-06-28 03:30:04.000000000,2020-09-04 01:50:18.000000000,2020-09-04 01:49:04.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1736}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29157}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-28 03:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/917e759baf8c1b1c2b4a30690506815e052b3345', 'message': 'Add aggressive negotiation mode for ikepolicy\n\nThe phase1 negotiation mode adds support for aggressive mode,\nwhich can be selected when creating an ikepolicy.\n\nChange-Id: Idd11861ec3d6cca09beea68832999a9f3410281e\nPartial-Bug: #1701413\n'}, {'number': 2, 'created': '2020-06-28 05:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/f19318c5a3c2a44eeae6d09dcf4a0895b0f74de7', 'message': 'Add aggressive negotiation mode for ikepolicy\n\nThe phase1 negotiation mode adds support for aggressive mode,\nwhich can be selected when creating an ikepolicy.\n\nChange-Id: Idd11861ec3d6cca09beea68832999a9f3410281e\nPartial-Bug: #1701413\n'}, {'number': 3, 'created': '2020-06-28 07:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/0a3577696c46e2e86aac19855dc46a87a108d8af', 'message': 'Add aggressive negotiation mode for ikepolicy\n\nThe phase1 negotiation mode adds support for aggressive mode,\nwhich can be selected when creating an ikepolicy.\n\nChange-Id: Idd11861ec3d6cca09beea68832999a9f3410281e\nPartial-Bug: #1701413\n'}, {'number': 4, 'created': '2020-06-29 14:33:00.000000000', 'files': ['releasenotes/notes/add-aggressive-negotiation-mode-ad665f5cfda2e08b.yaml', 'neutron_vpnaas_dashboard/dashboards/project/vpn/forms.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/templates/vpn/_add_ike_policy_help.html', 'neutron_vpnaas_dashboard/test/test_data/vpnaas_data.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/workflows.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tests.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/484b57e43629fc3db68166fb6c1abe624a2e6a03', 'message': 'Add aggressive negotiation mode for ikepolicy\n\nThe phase1 negotiation mode adds support for aggressive mode,\nwhich can be selected when creating an ikepolicy.\n\nChange-Id: Idd11861ec3d6cca09beea68832999a9f3410281e\nPartial-Bug: #1701413\n'}]",6,738335,484b57e43629fc3db68166fb6c1abe624a2e6a03,19,13,4,29157,,,0,"Add aggressive negotiation mode for ikepolicy

The phase1 negotiation mode adds support for aggressive mode,
which can be selected when creating an ikepolicy.

Change-Id: Idd11861ec3d6cca09beea68832999a9f3410281e
Partial-Bug: #1701413
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/35/738335/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas_dashboard/dashboards/project/vpn/forms.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/templates/vpn/_add_ike_policy_help.html', 'neutron_vpnaas_dashboard/test/test_data/vpnaas_data.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/workflows.py']",4,917e759baf8c1b1c2b4a30690506815e052b3345,bug/1701413," phase1_neg_mode_choices = [(""main"", ""main""), (""aggressive"", ""aggressive"")]"," phase1_neg_mode_choices = [(""main"", ""main"")] # Currently this field has only one choice, so mark it as readonly. self.fields['phase1_negotiation_mode'].widget.attrs['readonly'] = True",20,5
openstack%2Fneutron-vpnaas-dashboard~master~I56ac07e20768dbbe5610741736c0c545b1dfaa0d,openstack/neutron-vpnaas-dashboard,master,I56ac07e20768dbbe5610741736c0c545b1dfaa0d,Cleanup for Refactor-error-messages,MERGED,2020-08-27 17:15:45.000000000,2020-09-04 01:41:49.000000000,2020-09-04 01:40:30.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/73c66ae18b3ec2f6f78a3378190747a8e33cc8e6', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nDepends-On: https://review.opendev.org/#/c/708069/\nChange-Id: I56ac07e20768dbbe5610741736c0c545b1dfaa0d\n'}, {'number': 2, 'created': '2020-08-28 15:28:14.000000000', 'files': ['neutron_vpnaas_dashboard/dashboards/project/vpn/views.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tables.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/a35967e59650500091c4fb9b1094477d011551a2', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nDepends-On: https://review.opendev.org/#/c/708069/\nChange-Id: I56ac07e20768dbbe5610741736c0c545b1dfaa0d\n'}]",1,748488,a35967e59650500091c4fb9b1094477d011551a2,10,2,2,29313,,,0,"Cleanup for Refactor-error-messages

This patch is a clean-up patch for refactor-error-messages bp
which remove the exception message from base message otherwise
the same exception message display twice like
this https://ibb.co/XyFWMdz .

Depends-On: https://review.opendev.org/#/c/708069/
Change-Id: I56ac07e20768dbbe5610741736c0c545b1dfaa0d
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/88/748488/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas_dashboard/dashboards/project/vpn/views.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tables.py']",2,73c66ae18b3ec2f6f78a3378190747a8e33cc8e6,bp/refactor-error-messages," except Exception: request, _('Unable to delete VPN service.')) except Exception: request, _('Unable to delete endpoint group.')) except Exception: request, _('Unable to delete IKE policy.')) except Exception: request, _('Unable to delete IPsec policy.')) except Exception: request, _('Unable to delete IPsec site connection.'))"," except Exception as e: request, _('Unable to delete VPN service. %s') % e) except Exception as e: request, _('Unable to delete endpoint group. %s') % e) except Exception as e: request, _('Unable to delete IKE policy. %s') % e) except Exception as e: request, _('Unable to delete IPsec policy. %s') % e) except Exception as e: request, _('Unable to delete IPsec site connection. %s') % e)",20,20
openstack%2Fnova~master~Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0,openstack/nova,master,Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0,Reject resize operation for accelerator,MERGED,2020-08-28 01:53:03.000000000,2020-09-04 01:37:42.000000000,2020-09-03 09:04:37.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-28 01:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ce198a5a4f7cfc1ad15769f0a7516b0d29567c5', 'message': 'Remove `TODO` as we have already supported the decorator\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 2, 'created': '2020-08-28 08:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10e45f8abce57d8e2a15685742e91b7e1282e96c', 'message': 'Remove `TODO` as we have already supported the decorator\n\nAs we have supported Cyborg evacuate and rebuild operation,\nthis `TODO` can be removed. Please see the bp:\nhttps://review.opendev.org/#/c/715326\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 3, 'created': '2020-08-29 08:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74e2890df0ef9969a606df63dd30ecc147b58455', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related ut.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 4, 'created': '2020-08-29 08:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bcbe9a6ed2d5123a6f2e01e010f9186a1875ba5', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related ut.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 5, 'created': '2020-08-31 13:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/670fd7167a1316af0ee388c0364935a8ee1df6ed', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related ut.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 6, 'created': '2020-09-01 01:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a5fdc13b8a3c2a627dd07cd0fc8f1735153f103', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related unit test.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 7, 'created': '2020-09-01 09:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10d8db26a6eb453f9dce4d34ffed35af2b8a5d98', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related unit test.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1893751\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}, {'number': 8, 'created': '2020-09-02 05:34:43.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97267fc05c60b60761ebe8ec2773e8920148ae06', 'message': 'Reject resize operation for accelerator\n\nWhen resize with a new flavor with accelerator, we should raise\nforbidden exception to reject the resize operation.\nAdd related unit test.\nFollow up the comment:\nhttps://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1893751\n\nChange-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0\n'}]",6,748560,97267fc05c60b60761ebe8ec2773e8920148ae06,114,15,8,26458,,,0,"Reject resize operation for accelerator

When resize with a new flavor with accelerator, we should raise
forbidden exception to reject the resize operation.
Add related unit test.
Follow up the comment:
https://review.opendev.org/#/c/715326/22/nova/compute/api.py@3907

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Closes-Bug: #1893751

Change-Id: Ie20a620588e3b0d18055c34ec7671e91e6bf6ee0
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/748560/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,5ce198a5a4f7cfc1ad15769f0a7516b0d29567c5,bug/1893751,, # TODO(stephenfin): The 'block_accelerators' decorator doesn't take into # account the accelerators requested in the new flavor,0,2
openstack%2Fmanila~master~I8daf919a764075998be95c5845807bec37104c78,openstack/manila,master,I8daf919a764075998be95c5845807bec37104c78,Add the share-type for the server setup metadata,MERGED,2020-08-15 01:40:55.000000000,2020-09-04 00:42:52.000000000,2020-09-04 00:38:36.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 31721}]","[{'number': 1, 'created': '2020-08-15 01:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48b4fd66a3c377b52a4a8365625c1be7abafc8dc', 'message': 'Add the share-type for the server setup metadata\n\nThe driver setup server step may require the share-type that has\noriginated the server creation. The type is accessible by the\nmethod that choose whether reusing or creating a server, so it\nshould be accessible when creating (setup server).\n\nChange-Id: I8daf919a764075998be95c5845807bec37104c78\n'}, {'number': 2, 'created': '2020-08-21 10:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/58842cc70d8f00855264ec6ce485846d8104a479', 'message': 'Add the share-type for the server setup metadata\n\nThe driver setup server step may require the share-type that has\noriginated the server creation. The type is accessible by the\nmethod that choose whether reusing or creating a server, so it\nshould be accessible when creating (setup server).\nIt bumps the share RPC version to 1.20.\n\nPartially-implements: bp netapp-share-server-nfs-modify\nChange-Id: I8daf919a764075998be95c5845807bec37104c78\n'}, {'number': 3, 'created': '2020-08-21 20:30:42.000000000', 'files': ['manila/share/manager.py', 'manila/tests/share/test_rpcapi.py', 'manila/share/rpcapi.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a9ce0520f4b87256091774d9e663902b1a2d6fce', 'message': 'Add the share-type for the server setup metadata\n\nThe driver setup server step may require the share-type that has\noriginated the server creation. The type is accessible by the\nmethod that choose whether reusing or creating a server, so it\nshould be accessible when creating (setup server).\nIt bumps the share RPC version to 1.20.\n\nPartially-implements: bp netapp-share-server-nfs-modify\nChange-Id: I8daf919a764075998be95c5845807bec37104c78\n'}]",3,746361,a9ce0520f4b87256091774d9e663902b1a2d6fce,27,10,3,31721,,,0,"Add the share-type for the server setup metadata

The driver setup server step may require the share-type that has
originated the server creation. The type is accessible by the
method that choose whether reusing or creating a server, so it
should be accessible when creating (setup server).
It bumps the share RPC version to 1.20.

Partially-implements: bp netapp-share-server-nfs-modify
Change-Id: I8daf919a764075998be95c5845807bec37104c78
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/746361/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/share/rpcapi.py', 'manila/tests/share/test_manager.py']",3,48b4fd66a3c377b52a4a8365625c1be7abafc8dc,bp/netapp-share-server-nfs-modify," fake_metadata = { 'request_host': 'fake_host', 'share_type_id': 'fake_share_type_id', } self.mock_object(self.share_manager, '_build_server_metadata', mock.Mock(return_value=fake_metadata)) fake_metadata) fake_metadata = { 'request_host': 'fake_host', 'share_type_id': 'fake_share_type_id', } self.mock_object(self.share_manager, '_build_server_metadata', mock.Mock(return_value=fake_metadata)) fake_metadata) fake_metadata = { 'request_host': 'fake_host', 'share_type_id': 'fake_share_type_id', } self.mock_object(self.share_manager, '_build_server_metadata', mock.Mock(return_value=fake_metadata)) fake_metadata) self.context, share_server, metadata) self.context, share_server, metadata) metadata = {'fake_metadata_key': 'fake_metadata_value'} metadata, metadata = {'fake_metadata_key': 'fake_metadata_value'} metadata, share = db_utils.create_share() fake_metadata = { 'request_host': 'fake_host', 'share_type_id': 'fake_share_type_id', } self.mock_object(self.share_manager.db, 'share_instance_get', mock.Mock(return_value=share)) self.mock_object(self.share_manager, '_build_server_metadata', mock.Mock(return_value=fake_metadata)) self.context, 'server_id', 'share_instance_id') self.share_manager.db.share_instance_get.assert_called_once_with( self.context, 'share_instance_id', with_share_data=True) assert_called_once_with(self.context, server, fake_metadata)) def test__build_server_metadata(self): share = {'host': 'host', 'share_type_id': 'id'} expected_metadata = {'request_host': 'host', 'share_type_id': 'id'} metadata = self.share_manager._build_server_metadata( share['host'], share['share_type_id']) self.assertDictEqual(expected_metadata, metadata) "," metadata={'request_host': 'fake_host'}) metadata={'request_host': 'fake_host'}) metadata={'request_host': 'fake_host'}) self.context, share_server, metadata=metadata) self.context, share_server, metadata=metadata) self.context, 'server_id') assert_called_once_with(self.context, server))",77,18
openstack%2Ftripleo-heat-templates~master~Idfa892bab0cb59de5a418f0dc23a6e7d60100a49,openstack/tripleo-heat-templates,master,Idfa892bab0cb59de5a418f0dc23a6e7d60100a49,Add the NovaImageCacheTTL to the nova compute service,MERGED,2020-09-02 18:06:14.000000000,2020-09-04 00:42:38.000000000,2020-09-04 00:40:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-02 18:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec8ef5ef2b776c66e9d595e560bed34c226c9b5b', 'message': 'Add the NovaImageCacheTTL to the nova compute service\n\nThis exposes the remove_unused_original_minimum_age_seconds from nova.conf\nwhich controls the time (in seconds) that nova compute should continue\ncaching an image once it is no longer used by and instances on the host.\n\nChange-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49\n'}, {'number': 2, 'created': '2020-09-03 12:50:38.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_image_cache_ttl-824f241363b9dd4e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e03ba791f7dcab08eb2b0deeb78d29609e81d2b', 'message': 'Add the NovaImageCacheTTL to the nova compute service\n\nThis exposes the remove_unused_original_minimum_age_seconds from nova.conf\nwhich controls the time (in seconds) that nova compute should continue\ncaching an image once it is no longer used by and instances on the host.\n\nChange-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49\n'}]",0,749565,0e03ba791f7dcab08eb2b0deeb78d29609e81d2b,15,6,2,23811,,,0,"Add the NovaImageCacheTTL to the nova compute service

This exposes the remove_unused_original_minimum_age_seconds from nova.conf
which controls the time (in seconds) that nova compute should continue
caching an image once it is no longer used by and instances on the host.

Change-Id: Idfa892bab0cb59de5a418f0dc23a6e7d60100a49
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/749565/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_image_cache_ttl-824f241363b9dd4e.yaml']",2,ec8ef5ef2b776c66e9d595e560bed34c226c9b5b,,--- features: - | Add the NovaImageCacheTTL to the nova compute service. This exposes the remove_unused_original_minimum_age_seconds from nova.conf which controls the time (in seconds) that nova compute should continue caching an image once it is no longer used by and instances on the host. Defaults to 86400 (24hrs) ,,18,0
openstack%2Fpython-tripleoclient~master~I5e200be27a5e49bb119c46e4a2b7968952ac0ed2,openstack/python-tripleoclient,master,I5e200be27a5e49bb119c46e4a2b7968952ac0ed2,Update dependency logic to correctly index parents,MERGED,2020-08-27 19:52:05.000000000,2020-09-04 00:42:16.000000000,2020-09-04 00:38:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 19:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c65fa1c985a6a0f3002416c7c4539dc4839329e8', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-08-27 22:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1895894006fd74dfcc9abf655828e5de02e562bf', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-08-28 12:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28d6e288a59f7f0d025180d581ef88564ce7da6e', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-08-28 16:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a4b144a9650b1a4fb0c297a1072eb828cb3a4e9', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-08-28 17:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5125afe0d391781de946e1338cd663c321e18583', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-08-28 19:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f6f0f0f4bed7d5da24814afcebe2953fbcbfdba', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-09-01 14:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/15303657c26736d3c0ecba2528ce9762b57b3ca6', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-09-01 18:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f389b7169b7b6ae13c21c57e5fadb9de7fd549c', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-09-02 13:28:31.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f081d6afd630aabcf9e827d77a4b2f4a82097f81', 'message': 'Update dependency logic to correctly index parents\n\nThis change adjusts the parent indexer so that it will correctly\ndiscover base images that maybe be implicitly required.\n\nChange-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,748525,f081d6afd630aabcf9e827d77a4b2f4a82097f81,24,4,9,7353,,,0,"Update dependency logic to correctly index parents

This change adjusts the parent indexer so that it will correctly
discover base images that maybe be implicitly required.

Change-Id: I5e200be27a5e49bb119c46e4a2b7968952ac0ed2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/748525/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/tripleo_container_image.py'],1,c65fa1c985a6a0f3002416c7c4539dc4839329e8,deps," # NOTE(cloudnull): Ensure all dependent images are in the build # tree. Once an image has been added to the # prepare array, we walk it back and ensure # dependencies are also part of the build # process. for image in images_to_prepare: self.find_image(image, self.tcib_config_path, parsed_args.base) image_parent = self.image_parents.get(image) while image_parent: if image_parent not in images_to_prepare: images_to_prepare.insert(0, image_parent) image_parent = self.image_parents.get(image_parent) "," # NOTE(cloudnull): Ensure all dependent images are in the build # tree. Once an image has been added to the # prepare array, we walk it back and ensure # dependencies are also part of the build # process. image_parent = self.image_parents.get(image) while image_parent: if image_parent not in images_to_prepare: images_to_prepare.insert(0, image_parent) image_parent = self.image_parents.get(image_parent)",14,12
openstack%2Ftripleo-common~master~I1c3a2592984213133591999f869535651be32a48,openstack/tripleo-common,master,I1c3a2592984213133591999f869535651be32a48,TCIB: remove leftovers from sahara,MERGED,2020-08-26 17:57:22.000000000,2020-09-04 00:40:54.000000000,2020-09-04 00:36:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 17:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/53e2c3f1ff489ac55a7f47f71e5288e0df171e1c', 'message': ""TCIB: remove leftovers from sahara\n\nSahara container images aren't built anymore, but we had some leftovers\nthat we need to clean up.\n\nChange-Id: I1c3a2592984213133591999f869535651be32a48\n""}, {'number': 2, 'created': '2020-08-26 18:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92886be79b7300c012c74ba8d529cc79c176eddc', 'message': ""TCIB: remove leftovers from sahara\n\nSahara container images aren't built anymore, but we had some leftovers\nthat we need to clean up.\n\nChange-Id: I1c3a2592984213133591999f869535651be32a48\n""}, {'number': 3, 'created': '2020-08-28 19:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b0d2b20f6f1d6f43101c26c6d8d5a336660ecafa', 'message': ""TCIB: remove leftovers from sahara\n\nSahara container images aren't built anymore, but we had some leftovers\nthat we need to clean up.\n\nChange-Id: I1c3a2592984213133591999f869535651be32a48\n""}, {'number': 4, 'created': '2020-08-31 12:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aeabbecf252cf922162c916c2859d20748628a9f', 'message': ""TCIB: remove leftovers from sahara\n\nSahara container images aren't built anymore, but we had some leftovers\nthat we need to clean up.\n\nChange-Id: I1c3a2592984213133591999f869535651be32a48\n""}, {'number': 5, 'created': '2020-09-02 21:42:17.000000000', 'files': ['healthcheck/sahara-engine', 'container-images/kolla/horizon/extend_start.sh', 'zuul.d/layout.yaml', 'healthcheck/sahara-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5115bfaaeae6a6c957dd844f4976171761726c81', 'message': ""TCIB: remove leftovers from sahara\n\nSahara container images aren't built anymore, but we had some leftovers\nthat we need to clean up.\n\nChange-Id: I1c3a2592984213133591999f869535651be32a48\n""}]",0,748282,5115bfaaeae6a6c957dd844f4976171761726c81,39,7,5,3153,,,0,"TCIB: remove leftovers from sahara

Sahara container images aren't built anymore, but we had some leftovers
that we need to clean up.

Change-Id: I1c3a2592984213133591999f869535651be32a48
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/748282/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/horizon/extend_start.sh', 'container-images/tripleo_containers.yaml']",2,53e2c3f1ff489ac55a7f47f71e5288e0df171e1c,sahara,,- imagename: docker.io/tripleomaster/openstack-sahara-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/openstack-sahara-engine:current-tripleo image_source: tripleo,0,13
openstack%2Ftripleo-heat-templates~master~Ia4399b632257e693fb2c516e487856331149589d,openstack/tripleo-heat-templates,master,Ia4399b632257e693fb2c516e487856331149589d,pcs commands on host: cinder backup/volume,MERGED,2020-02-15 21:33:45.000000000,2020-09-04 00:40:49.000000000,2020-09-04 00:40:49.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-15 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63e449b3f9783d848d13150ee750d30950557285', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nNot much todo left here probably\n\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 2, 'created': '2020-02-18 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b59bdeb747d2d3adeb7951e2031d12a02b2dc5c4', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nNot much todo left here probably\n\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 3, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f03e386e05dc302297c4fd8014ae308d165476f8', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nNot much todo left here probably\n\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 4, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e59cd0f24e982eb7da33b4175d975e29b56042e', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nNot much todo left here probably\n\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 5, 'created': '2020-05-01 11:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af3beca9c370e8b5eef3e7bcd89502777ea8ac67', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 6, 'created': '2020-05-01 16:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee3658e46fa1a97292017e9052867c8c5988b043', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 7, 'created': '2020-05-01 16:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ca9929cfd3126e5b1fa8de9a75af62a378e0d48', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 8, 'created': '2020-05-05 06:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b5bffabdf1db71925d31812a495385cb93b9e54', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 9, 'created': '2020-05-09 14:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e46f61d487f780ac8357fd55745ac2a35557370f', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 10, 'created': '2020-05-10 16:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63262f219a189799d1e71bd6853f777692f26443', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 11, 'created': '2020-05-15 08:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/915e912e0e8b5ec38512cab76686c26adfd7eb91', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 12, 'created': '2020-05-18 09:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17e99da26f8675061b91f3e365109b947b26c52f', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 13, 'created': '2020-05-19 11:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c037642fa71b94bf1072e3907fef567c18d24bd9', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 14, 'created': '2020-05-19 18:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f45f07e7393d895e208cb929a4aeddc8adec50ad', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 15, 'created': '2020-05-19 20:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec1a326451553c313439a47f4d17722bcaccba07', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 16, 'created': '2020-05-20 10:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0d1ffe3158421a5c07b14fa214450d208df8faf', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 17, 'created': '2020-05-20 13:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f60a64d76b87cfda356f65d8ed1447f4bd07dd54', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 18, 'created': '2020-05-21 04:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c13e23a105f5c0c24500db781713cf6f99dd5ec', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 19, 'created': '2020-05-25 07:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73f8fd2f83445c54488a7df1e5e89e76d1dabd60', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 20, 'created': '2020-05-26 20:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/968e81b3fddb7c86b63edf4f6f88e19d130dcc40', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 21, 'created': '2020-06-15 08:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8440a0098e93d5217b741d93a03db504a62c38b8', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 22, 'created': '2020-06-16 13:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c207f0fe10aca578ba98f82796e079ac0bf804a0', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 23, 'created': '2020-06-22 06:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cba2116a7ed1ef74050118eb190174bd673446d6', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 24, 'created': '2020-06-29 06:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6138ab8ce1cb0d79f8348fb5c847c2e198015188', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 25, 'created': '2020-07-02 06:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/049c79eeccb935daed3d12be5bfe6c8fe5ba6186', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 26, 'created': '2020-07-04 07:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/333968ae311ddff7a392082ffd5550c160f1d1a9', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 27, 'created': '2020-07-13 09:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ff428125e20b20c38db95a97f1f45eca1cc9b12', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 28, 'created': '2020-07-19 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77e749a191aed1b8d0ec13ba1810d9321cf7ca0d', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 29, 'created': '2020-08-11 13:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be4c44e626199c5fcb2536b49ba361c3af0d450e', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 30, 'created': '2020-08-19 13:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66ae28beda05b7b19657f718968959c7a29265da', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 31, 'created': '2020-08-25 10:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d51c47e1d4f677232bbe050da59e46a2e6ece25e', 'message': 'WIP pcs commands on host: cinder backup/volume\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 32, 'created': '2020-08-25 17:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e4ca4836cfcb66ce1135062d3fe4aa25cf6fa8b', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 33, 'created': '2020-08-25 17:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65aac1f400e584249d3023d1c14ab57fab55015b', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 34, 'created': '2020-08-25 17:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/255013315be339aef16b8cfd5c9aed84a8dcd512', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 35, 'created': '2020-08-26 06:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b37607d674d736f2fd54746b08052793ad36403f', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 36, 'created': '2020-08-28 18:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3a39f1c9a9fe1efe30411c45f5abba0d7d61c00', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 37, 'created': '2020-09-01 17:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66c9d459cacb4dbda39acbe086d64f7f93684fa5', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 38, 'created': '2020-09-03 00:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c6bbcc877661494fba8a72377e549335c3edf84', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}, {'number': 39, 'created': '2020-09-03 12:57:11.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f37f21f31df12e553d1940fce08195fcb18ccf3c', 'message': 'pcs commands on host: cinder backup/volume\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\nChange-Id: Ia4399b632257e693fb2c516e487856331149589d\nRelated-Bug: #1863442\n'}]",0,707956,f37f21f31df12e553d1940fce08195fcb18ccf3c,144,5,39,20172,,,0,"pcs commands on host: cinder backup/volume

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696
Change-Id: Ia4399b632257e693fb2c516e487856331149589d
Related-Bug: #1863442
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/707956/11 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml']",2,63e449b3f9783d848d13150ee750d30950557285,pcs_host3," - name: Cinder volume init bundle when: step|int == 2 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::cinder::volume_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: Cinder volume restart bundle when: step|int == 2 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh cinder_backup openstack-cinder-volume openstack-cinder-volume _ Started"," step_5: cinder_volume_init_bundle: start_order: 0 detach: false net: host ipc: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '5' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::constraint::location' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::cinder::volume_bundle' - if: - puppet_debug_enabled - - '--debug --verbose' - - '' image: {get_param: ContainerCinderVolumeImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} cinder_volume_restart_bundle: start_order: 1 config_volume: cinder detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh cinder_volume openstack-cinder-volume openstack-cinder-volume _ Started image: {get_param: ContainerCinderVolumeImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro",54,89
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I386a035f9688c54d617e714888c9c0fa14f34a1e,openstack/tripleo-heat-templates,stable/train,I386a035f9688c54d617e714888c9c0fa14f34a1e,DCN: use FQDN in glance endpoint with internal TLS,MERGED,2020-09-03 03:04:12.000000000,2020-09-04 00:40:44.000000000,2020-09-04 00:40:43.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 03:04:12.000000000', 'files': ['deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca3bd9c3dd9ab75f085f66122f63a6dcd607f59b', 'message': 'DCN: use FQDN in glance endpoint with internal TLS\n\nFix the glance-api endpoint used by cinder and nova services at DCN\nsites. When internal TLS is enabled, the URI must use a FQDN and not\nan IP address.\n\nCloses-Bug: #1893453\nChange-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e\n(cherry picked from commit 2035b88f5b9eb1c86391c995f768f9ecc45855a4)\n(cherry picked from commit 9471eb030f21d425cb049ada3b91935d4b1bdea7)\n'}]",0,749625,ca3bd9c3dd9ab75f085f66122f63a6dcd607f59b,7,3,1,21129,,,0,"DCN: use FQDN in glance endpoint with internal TLS

Fix the glance-api endpoint used by cinder and nova services at DCN
sites. When internal TLS is enabled, the URI must use a FQDN and not
an IP address.

Closes-Bug: #1893453
Change-Id: I386a035f9688c54d617e714888c9c0fa14f34a1e
(cherry picked from commit 2035b88f5b9eb1c86391c995f768f9ecc45855a4)
(cherry picked from commit 9471eb030f21d425cb049ada3b91935d4b1bdea7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/749625/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml']",2,ca3bd9c3dd9ab75f085f66122f63a6dcd607f59b,bug/1893453," if: - internal_tls_enabled - str_replace: template: ""https://%{hiera('fqdn_NETWORK')}:9292"" params: NETWORK: {get_param: [ServiceNetMap, GlanceApiEdgeNetwork]} - str_replace: template: ""http://%{hiera('NETWORK_uri')}:9292"" params: NETWORK: {get_param: [ServiceNetMap, GlanceApiEdgeNetwork]}"," str_replace: template: ""PROTOCOL://%{hiera('NETWORK_uri')}:9292"" params: PROTOCOL: if: - internal_tls_enabled - https - http NETWORK: {get_param: [ServiceNetMap, GlanceApiEdgeNetwork]}",24,20
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iad7cfdeeefbee3f4a39ca387359c2244023b6340,openstack/tripleo-heat-templates,stable/stein,Iad7cfdeeefbee3f4a39ca387359c2244023b6340,remove scenario009 from stein periodic,MERGED,2020-09-02 15:13:00.000000000,2020-09-04 00:38:29.000000000,2020-09-04 00:38:29.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-09-02 15:13:00.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f594d626d0184e08f5381b6c056bdad6e0dc871', 'message': 'remove scenario009 from stein periodic\n\nChange-Id: Iad7cfdeeefbee3f4a39ca387359c2244023b6340\n'}]",0,749533,6f594d626d0184e08f5381b6c056bdad6e0dc871,8,4,1,9592,,,0,"remove scenario009 from stein periodic

Change-Id: Iad7cfdeeefbee3f4a39ca387359c2244023b6340
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/749533/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,6f594d626d0184e08f5381b6c056bdad6e0dc871,remove_c7_009,, - tripleo-ci-centos-7-scenario009-multinode-oooq-container,0,1
openstack%2Ftripleo-heat-templates~master~If90a1319157c50789c038e6b725fcbc68ce153a3,openstack/tripleo-heat-templates,master,If90a1319157c50789c038e6b725fcbc68ce153a3,Ironic role_specific parameters,MERGED,2020-05-27 08:31:02.000000000,2020-09-04 00:38:26.000000000,2020-09-04 00:38:26.000000000,"[{'_account_id': 4393}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 10239}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-05-27 08:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c7b4ff4a4bf4ba30b418f89cd9fbb1d8456a46e', 'message': '[WIP] Ironic role_specific parameters\n\nMake the following parameters role_specific:\n* IronicCleaningNetwork\n* IronicProvisioningNetwork\n* IronicRescuingNetwork\n\nRelated-Bug: #1880836\nChange-Id: If90a1319157c50789c038e6b725fcbc68ce153a3\n'}, {'number': 2, 'created': '2020-06-24 12:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03ee58b386bcb32698f41164d1194bcde6954035', 'message': '[WIP] Ironic role_specific parameters\n\nMake the following parameters role_specific:\n* IronicCleaningNetwork\n* IronicProvisioningNetwork\n* IronicRescuingNetwork\n\nRelated-Bug: #1880836\nChange-Id: If90a1319157c50789c038e6b725fcbc68ce153a3\n'}, {'number': 3, 'created': '2020-08-13 08:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/832326f856c74e090de665e5befd1b4e3b13d666', 'message': '[WIP] Ironic role_specific parameters\n\nMake the following parameters role_specific:\n* IronicCleaningNetwork\n* IronicProvisioningNetwork\n* IronicRescuingNetwork\n\nRelated-Bug: #1880836\nChange-Id: If90a1319157c50789c038e6b725fcbc68ce153a3\n'}, {'number': 4, 'created': '2020-08-25 09:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b8d34d0c0c93a804046c72dd16ff617d2494446', 'message': 'Ironic role_specific parameters\n\nMake the following parameters role_specific:\n* IronicCleaningNetwork\n* IronicProvisioningNetwork\n* IronicRescuingNetwork\n\nRelated-Bug: #1880836\nChange-Id: If90a1319157c50789c038e6b725fcbc68ce153a3\n'}, {'number': 5, 'created': '2020-08-25 09:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80c14a9d871e6d56fcb1ded0af5465ebd5c0f84c', 'message': 'Ironic role_specific parameters\n\nMake the following parameters role_specific:\n* IronicCleaningNetwork\n* IronicProvisioningNetwork\n* IronicRescuingNetwork\n\nRelated-Bug: #1880836\nChange-Id: If90a1319157c50789c038e6b725fcbc68ce153a3\n'}, {'number': 6, 'created': '2020-08-31 16:27:24.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdcadbadc8503c7ed5107d824ef11ca9c9500d3c', 'message': 'Ironic role_specific parameters\n\nMake the following parameters role_specific:\n* IronicCleaningNetwork\n* IronicProvisioningNetwork\n* IronicRescuingNetwork\n\nRelated-Bug: #1880836\nChange-Id: If90a1319157c50789c038e6b725fcbc68ce153a3\n'}]",3,731110,cdcadbadc8503c7ed5107d824ef11ca9c9500d3c,44,11,6,24245,,,0,"Ironic role_specific parameters

Make the following parameters role_specific:
* IronicCleaningNetwork
* IronicProvisioningNetwork
* IronicRescuingNetwork

Related-Bug: #1880836
Change-Id: If90a1319157c50789c038e6b725fcbc68ce153a3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/731110/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,5c7b4ff4a4bf4ba30b418f89cd9fbb1d8456a46e,ironic-role-specific, tags: - role_specific tags: - role_specific tags: - role_specific map_merge: - map_replace: - map_replace: - if: - ironic_conductor_group - ironic::conductor::conductor_group: IronicConductorGroup - {} - values: {get_param: [RoleParameters]} - values: IronicConductorGroup: {get_param: IronicConductorGroup} - map_replace: - map_replace: - ironic::conductor::cleaning_network: IronicCleaningNetwork ironic::conductor::provisioning_network: IronicProvisioningNetwork ironic::conductor::rescuing_network: IronicRescuingNetwork - values: {get_param: [RoleParameters]} - values: IronicProvisioningNetwork: {get_param: IronicProvisioningNetwork} IronicRescuingNetwork: {get_param: IronicRescuingNetwork} IronicCleaningNetwork: {get_param: IronicCleaningNetwork}, map_replace: - map_replace: - if: - ironic_conductor_group - ironic::conductor::conductor_group: IronicConductorGroup - {} - values: {get_param: [RoleParameters]} - values: IronicConductorGroup: {get_param: IronicConductorGroup} ironic::conductor::cleaning_network: {get_param: IronicCleaningNetwork} ironic::conductor::provisioning_network: {get_param: IronicProvisioningNetwork} ironic::conductor::rescuing_network: {get_param: IronicRescuingNetwork},25,11
openstack%2Ftripleo-common~master~I4d153b838c9d515c53388105a4425b53a318cacf,openstack/tripleo-common,master,I4d153b838c9d515c53388105a4425b53a318cacf,Add --layers for tcib image layer caching,MERGED,2020-08-31 14:26:59.000000000,2020-09-04 00:38:23.000000000,2020-09-04 00:38:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-31 14:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9bff90c4677ec5e9cd9515137b1bf20cbe86a1b', 'message': 'Add --layers for tcib image layer caching\n\nThis flag will cause buildah bud to act like docker and check each\ncommand before actually executing it. If it matches an existing\nlayer, then it will not be executed.\n\nChange-Id: I4d153b838c9d515c53388105a4425b53a318cacf\n'}, {'number': 2, 'created': '2020-09-01 05:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a70747a2bcb0a4f43ced8a9396f370b234ff571', 'message': 'Add --layers=True for tcib image layer caching\n\nThis flag will cause buildah bud to act like docker and check each\ncommand before actually executing it. If it matches an existing\nlayer, then it will not be executed.\n\nChange-Id: I4d153b838c9d515c53388105a4425b53a318cacf\n'}, {'number': 3, 'created': '2020-09-01 10:00:14.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c241569ef7b52cf1b29b8783521105984edff2f', 'message': 'Add --layers for tcib image layer caching\n\nThis flag will cause buildah bud to act like docker and check each\ncommand before actually executing it. If it matches an existing\nlayer, then it will not be executed.\n\nChange-Id: I4d153b838c9d515c53388105a4425b53a318cacf\n'}]",0,749067,9c241569ef7b52cf1b29b8783521105984edff2f,18,5,3,8833,,,0,"Add --layers for tcib image layer caching

This flag will cause buildah bud to act like docker and check each
command before actually executing it. If it matches an existing
layer, then it will not be executed.

Change-Id: I4d153b838c9d515c53388105a4425b53a318cacf
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/67/749067/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,e9bff90c4677ec5e9cd9515137b1bf20cbe86a1b,," '--tls-verify=False', '--layers', '--logfile', logfile, '-t', dest, container_build_path] '--tls-verify=False', '--layers', '--logfile', logfile, '-t', dest, container_build_path] '--tls-verify=False', '--layers', '--logfile', logfile, '-t', dest, container_build_path]"," '--tls-verify=False', '--logfile', logfile, '-t', dest, container_build_path] '--tls-verify=False', '--logfile', logfile, '-t', dest, container_build_path] '--tls-verify=False', '--logfile', logfile, '-t', dest, container_build_path]",10,7
openstack%2Ftripleo-common~master~Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178,openstack/tripleo-common,master,Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178,Remove unused sensu-client healthcheck,MERGED,2020-08-28 15:03:56.000000000,2020-09-04 00:36:16.000000000,2020-09-04 00:33:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-28 15:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c5dc756776b46424941e4b58881c3969d8863a4', 'message': ""Remove unused sensu-client healthcheck\n\nWe don't provide container for sensu-client therefore there is no need\nfor a healthcheck. This is a leftover from when we used to provide a\ncontainer image for sensu.\n\nChange-Id: Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178\n""}, {'number': 2, 'created': '2020-08-28 19:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a1d3b3d80f719fa28dea3d735da3f25ed4ba4953', 'message': ""Remove unused sensu-client healthcheck\n\nWe don't provide container for sensu-client therefore there is no need\nfor a healthcheck. This is a leftover from when we used to provide a\ncontainer image for sensu.\n\nChange-Id: Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178\n""}, {'number': 3, 'created': '2020-08-31 12:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e59bf5535ab1605ecb00f0835ae9cb4e5fcb3e85', 'message': ""Remove unused sensu-client healthcheck\n\nWe don't provide container for sensu-client therefore there is no need\nfor a healthcheck. This is a leftover from when we used to provide a\ncontainer image for sensu.\n\nChange-Id: Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178\n""}, {'number': 4, 'created': '2020-09-02 12:09:38.000000000', 'files': ['healthcheck/sensu-client'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ed66fb5c905e0ba6e2bd6af1fee8623b36e43b36', 'message': ""Remove unused sensu-client healthcheck\n\nWe don't provide container for sensu-client therefore there is no need\nfor a healthcheck. This is a leftover from when we used to provide a\ncontainer image for sensu.\n\nChange-Id: Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178\n""}]",0,748689,ed66fb5c905e0ba6e2bd6af1fee8623b36e43b36,23,5,4,3153,,,0,"Remove unused sensu-client healthcheck

We don't provide container for sensu-client therefore there is no need
for a healthcheck. This is a leftover from when we used to provide a
container image for sensu.

Change-Id: Ic3bdde6f0f2b2f8c89fa5a7cb87c13cf04bea178
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/748689/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/sensu-client'],1,7c5dc756776b46424941e4b58881c3969d8863a4,sensu/clean,,"#!/bin/bash . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh process='sensu-client' args=""${@:-5671 5672}"" if healthcheck_port $process $args; then exit 0 else ports=${args// /,} echo ""There is no $process process with opened RabbitMQ ports ($ports) running in the container"" exit 1 fi ",0,14
openstack%2Ftripleo-common~master~I11f02b9d01c569b344a8df7be62dfadf8d119c57,openstack/tripleo-common,master,I11f02b9d01c569b344a8df7be62dfadf8d119c57,Make current user owner of build log files,MERGED,2020-09-02 09:19:09.000000000,2020-09-04 00:36:12.000000000,2020-09-04 00:36:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 09:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49bb03d99cb9acabf6a4ed94c529efe370526f50', 'message': 'Make current user owner of build log files\n\nWe run buildah as root, hence the logfiles are created with root\nas owner. This is a hack to get around that. When we move to\nrootless buildah we can remove it.\n\nChange-Id: I11f02b9d01c569b344a8df7be62dfadf8d119c57\n'}, {'number': 2, 'created': '2020-09-02 11:42:44.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c7b22499833275fcff15f48b006e72667fbc06b', 'message': 'Make current user owner of build log files\n\nWe run buildah as root, hence the logfiles are created with root\nas owner. This is a hack to get around that. When we move to\nrootless buildah we can remove it.\n\nChange-Id: I11f02b9d01c569b344a8df7be62dfadf8d119c57\n'}]",0,749471,5c7b22499833275fcff15f48b006e72667fbc06b,12,5,2,8833,,,0,"Make current user owner of build log files

We run buildah as root, hence the logfiles are created with root
as owner. This is a hack to get around that. When we move to
rootless buildah we can remove it.

Change-Id: I11f02b9d01c569b344a8df7be62dfadf8d119c57
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/749471/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,49bb03d99cb9acabf6a4ed94c529efe370526f50,,"import pathlib # TODO(ramishra) Hack to make the logfile readable by current user, # as we're running buildah as root. This would be removed once we # move to rootless buildah. pathlib.Path(logfile).touch() ",,7,0
openstack%2Ftempest~master~I05e9c8360b86326b7f58b2c0600fcb420bc31482,openstack/tempest,master,I05e9c8360b86326b7f58b2c0600fcb420bc31482,Do not specify a host for live-migration for non homogeneous nodes,MERGED,2019-11-04 03:14:36.000000000,2020-09-04 00:35:38.000000000,2020-09-04 00:31:33.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-11-04 03:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8f6487d8bdfc4cc0a7e3da91ea9a91d26f85072', 'message': 'Do not specify a host for live-migration below microversion 2.30\n\nIn production clouds with non homogeneous compute nodes, specifying\na host for live-migration may fail unexpectedly, e.g., if source host\nis with CPU ""E5-2699 v4"" and the selected target host is with CPU\n""E5-2670 v3"", the live-migration will fail because of the downgrade\nissue.\n\nAs the api-ref shows,\nhttps://docs.openstack.org/api-ref/compute/#live-migrate-server-os-migratelive-action\n\n""It is recommended to either not specify a host so that the scheduler\nwill pick one, or specify a host with microversion >= 2.30 and without\nforce=True set."", so this is to specify host null in microversion < 2.30\nto reduce unexpected live-migration failures.\n\nChange-Id: I05e9c8360b86326b7f58b2c0600fcb420bc31482\nCloses-Bug: #1851185\n'}, {'number': 2, 'created': '2019-11-15 05:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8ef068f66225f530395124d5d5a05d1e5845de98', 'message': 'Do not specify a host for live-migration for non homogeneous nodes\n\nIn production cloud with non homogeneous compute nodes, specifying\na host for live-migration may fail unexpectedly, e.g., if source host\nis with CPU ""E5-2699 v4"" and the selected target host is with CPU\n""E5-2670 v3"", the live-migration will fail because of the downgrade\nissue.\n\nSo this is to add config option can_migrate_between_any_hosts which\ncan be set to False so that in non homogeneous cloud it can select\ndestination host automatically.\n\nChange-Id: I05e9c8360b86326b7f58b2c0600fcb420bc31482\nCloses-Bug: #1851185\n'}, {'number': 3, 'created': '2020-02-20 05:28:35.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py', 'tempest/config.py', 'releasenotes/notes/add-can-migrate-between-any-hosts-config-option-x8ah4f9737a28e9b.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be052d619853b86637c49b6575b1886e1c2c7afd', 'message': 'Do not specify a host for live-migration for non homogeneous nodes\n\nIn production cloud with non homogeneous compute nodes, specifying\na host for live-migration may fail unexpectedly, e.g., if source host\nis with CPU ""E5-2699 v4"" and the selected target host is with CPU\n""E5-2670 v3"", the live-migration will fail because of the downgrade\nissue.\n\nSo this is to add config option can_migrate_between_any_hosts which\ncan be set to False so that in non homogeneous cloud it can select\ndestination host automatically.\n\nChange-Id: I05e9c8360b86326b7f58b2c0600fcb420bc31482\nCloses-Bug: #1851185\n'}]",5,692764,be052d619853b86637c49b6575b1886e1c2c7afd,39,7,3,20190,,,0,"Do not specify a host for live-migration for non homogeneous nodes

In production cloud with non homogeneous compute nodes, specifying
a host for live-migration may fail unexpectedly, e.g., if source host
is with CPU ""E5-2699 v4"" and the selected target host is with CPU
""E5-2670 v3"", the live-migration will fail because of the downgrade
issue.

So this is to add config option can_migrate_between_any_hosts which
can be set to False so that in non homogeneous cloud it can select
destination host automatically.

Change-Id: I05e9c8360b86326b7f58b2c0600fcb420bc31482
Closes-Bug: #1851185
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/692764/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,a8f6487d8bdfc4cc0a7e3da91ea9a91d26f85072,bug/1851185," # If target_host is None, check whether source host is different with # the new host after migration. if target_host is None: source_host = self.get_host_for_server(server_id) if target_host is None: self.assertNotEqual(source_host, self.get_host_for_server(server_id), msg) else: self.assertEqual(target_host, self.get_host_for_server(server_id), msg) # not to specify a host so that the scheduler will pick one below 2.30 if self.is_requested_microversion_compatible('2.29'): destination_host = None else: destination_host = self.get_host_other_than(server_id) # not to specify a host so that the scheduler will pick one below 2.30 if self.is_requested_microversion_compatible('2.29'): target_host = None else: target_host = self.get_host_other_than(server_id)"," self.assertEqual(target_host, self.get_host_for_server(server_id), msg) destination_host = self.get_host_other_than(server_id) target_host = self.get_host_other_than(server_id)",20,4
openstack%2Ftripleo-common~master~Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9,openstack/tripleo-common,master,Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9,Remove Kolla overrides,MERGED,2020-08-13 19:57:45.000000000,2020-09-04 00:34:54.000000000,2020-09-04 00:33:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 19:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/786abf42ba580969eafeb9c66e94fff420cfb35e', 'message': 'WIP - Remove Kolla images support\n\nWe now build TripleO Container Image Builds (TCIB) and therefore we no\nlonger require the Kolla project for our container images.\n\n- Remove the overcloud_containers.yaml file which has been replaced by\n  tripleo_containers.yaml\n\n- Remove Kolla overrides\n\n- Change the container_image_prepare_defaults to use ""openstack-""\n  prefix, to match with our downstream images.\n\n- Update overcloud_containers.yaml.j2 to change image_source to\n  ""tripleo"" instead of ""kolla"".\n\nChange-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9\n'}, {'number': 2, 'created': '2020-08-24 12:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ba1c23ac478fbad27484915f5d6b2b0b4516f9d', 'message': 'WIP - Remove Kolla images support\n\nWe now build TripleO Container Image Builds (TCIB) and therefore we no\nlonger require the Kolla project for our container images.\n\n- Remove the overcloud_containers.yaml file which has been replaced by\n  tripleo_containers.yaml\n\n- Remove Kolla overrides\n\n- Change the container_image_prepare_defaults to use ""openstack-""\n  prefix, to match with our downstream images.\n\n- Update overcloud_containers.yaml.j2 to change image_source to\n  ""tripleo"" instead of ""kolla"".\n\nChange-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9\n'}, {'number': 3, 'created': '2020-08-25 01:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5897710d31c0b873fe9413c0aaeb01248399cca6', 'message': ""Remove Kolla overrides\n\nThey aren't needed anymore since we switched to TCIB.\n\nChange-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9\n""}, {'number': 4, 'created': '2020-08-28 19:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/842f37b98a1ad639a915a680d5063e6003974d3f', 'message': ""Remove Kolla overrides\n\nThey aren't needed anymore since we switched to TCIB.\n\nChange-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9\n""}, {'number': 5, 'created': '2020-08-31 12:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e78a201eacce25e35759034eb92f5a5f18217a9', 'message': ""Remove Kolla overrides\n\nThey aren't needed anymore since we switched to TCIB.\n\nChange-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9\n""}, {'number': 6, 'created': '2020-09-02 12:09:33.000000000', 'files': ['container-images/tripleo_kolla_config_overrides.conf', 'container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3c3041a91c9ed382d82177f340b1dbb9004de88', 'message': ""Remove Kolla overrides\n\nThey aren't needed anymore since we switched to TCIB.\n\nChange-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9\n""}]",0,746221,e3c3041a91c9ed382d82177f340b1dbb9004de88,49,7,6,3153,,,0,"Remove Kolla overrides

They aren't needed anymore since we switched to TCIB.

Change-Id: Iaaf544e9593396c540d7237cc3de0d6bbfbba0d9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/746221/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_kolla_config_overrides.conf', 'container-images/overcloud_containers.yaml', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2']",5,786abf42ba580969eafeb9c66e94fff420cfb35e,kolla/removal, image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo image_source: tripleo, image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla image_source: kolla,103,1351
openstack%2Ftempest~master~I3c2c344768f6335c918565783da531db62b1bd3b,openstack/tempest,master,I3c2c344768f6335c918565783da531db62b1bd3b,remote_client: Use blkid -L to find config drive by filesystem label,MERGED,2020-03-02 20:18:25.000000000,2020-09-04 00:33:27.000000000,2020-09-04 00:31:31.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-03-02 20:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d884e05b9f1fad1ec8f4a7fda9d3db3038cdc84a', 'message': 'WIP remote_client: Use blkid -L to find config drive by filesystem label\n\nChange-Id: I3c2c344768f6335c918565783da531db62b1bd3b\n'}, {'number': 2, 'created': '2020-03-03 16:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/87719276391fbe63587a630140f14caa8cb818ca', 'message': 'remote_client: Use blkid -L to find config drive by filesystem label\n\nThis change avoids the use of the re module to find the device name from\nthe normal blkid output.\n\nChange-Id: I3c2c344768f6335c918565783da531db62b1bd3b\n'}, {'number': 3, 'created': '2020-03-06 17:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/924f0e21d213ed2c2cd33d36e719b11918a990f7', 'message': 'remote_client: Use blkid -L to find config drive by filesystem label\n\nThis change avoids the use of the re module to find the device name from\nthe normal blkid output.\n\nChange-Id: I3c2c344768f6335c918565783da531db62b1bd3b\n'}, {'number': 4, 'created': '2020-04-20 07:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9c77a4864270db36781a1d6c39198d8e19bcf5f', 'message': 'remote_client: Use blkid -L to find config drive by filesystem label\n\nThis change avoids the use of the re module to find the device name from\nthe normal blkid output.\n\nChange-Id: I3c2c344768f6335c918565783da531db62b1bd3b\n'}, {'number': 5, 'created': '2020-04-21 13:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/26a3d049179059865015953217bffbcd7ac91f31', 'message': 'remote_client: Use blkid -L to find config drive by filesystem label\n\nThis change avoids the use of the re module to find the device name from\nthe normal blkid output.\n\nChange-Id: I3c2c344768f6335c918565783da531db62b1bd3b\n'}, {'number': 6, 'created': '2020-07-15 19:59:23.000000000', 'files': ['tempest/lib/common/utils/linux/remote_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/99b7c11afa03c55c0b3a66c375ad95b83d83ea87', 'message': 'remote_client: Use blkid -L to find config drive by filesystem label\n\nThis change avoids the use of the re module to find the device name from\nthe normal blkid output.\n\nChange-Id: I3c2c344768f6335c918565783da531db62b1bd3b\n'}]",0,710864,99b7c11afa03c55c0b3a66c375ad95b83d83ea87,19,6,6,10135,,,0,"remote_client: Use blkid -L to find config drive by filesystem label

This change avoids the use of the re module to find the device name from
the normal blkid output.

Change-Id: I3c2c344768f6335c918565783da531db62b1bd3b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/710864/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/utils/linux/remote_client.py'],1,d884e05b9f1fad1ec8f4a7fda9d3db3038cdc84a,, cmd_blkid = 'blkid -L config-2 -o device' dev_name = self.exec_command(cmd_blkid).strip()," cmd_blkid = 'blkid | grep -i config-2' result = self.exec_command(cmd_blkid) dev_name = re.match('([^:]+)', result).group() ",2,4
openstack%2Fneutron-lib~master~I2460e7d8025cedd2e92abdc9d769d2ad0b84838b,openstack/neutron-lib,master,I2460e7d8025cedd2e92abdc9d769d2ad0b84838b,New exception QosPlacementAllocationConflict,MERGED,2020-08-26 17:14:29.000000000,2020-09-04 00:15:37.000000000,2020-09-04 00:13:04.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 17:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/31f717c9894eb71f0123be97062661609a978293', 'message': 'New exception QosPlacementAllocationConflict\n\nIn case the update of placement allocation fails with conflict and with\nmessage like: ""The requested amount would exceed the capacity"" this new\nexception can indicate it for neuton users.\n\nChange-Id: I2460e7d8025cedd2e92abdc9d769d2ad0b84838b\nRelated-Bug: #1882804\n'}, {'number': 2, 'created': '2020-09-03 12:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/708d38fab2fa77ebb4771de27d8095c31fda951c', 'message': 'New exception QosPlacementAllocationConflict\n\nIn case the update of placement allocation fails with conflict and with\nmessage like: ""The requested amount would exceed the capacity"" this new\nexception can indicate it for neuton users.\n\nChange-Id: I2460e7d8025cedd2e92abdc9d769d2ad0b84838b\nRelated-Bug: #1882804\n'}, {'number': 3, 'created': '2020-09-03 20:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/70ea7912488ec668b23b1121df2bacbcad398315', 'message': 'New exception QosPlacementAllocationConflict\n\nIn case the update of placement allocation fails with conflict and with\nmessage like: ""The requested amount would exceed the capacity"" this new\nexception can indicate it for neuton users.\n\nChange-Id: I2460e7d8025cedd2e92abdc9d769d2ad0b84838b\nRelated-Bug: #1882804\n'}, {'number': 4, 'created': '2020-09-03 20:13:40.000000000', 'files': ['neutron_lib/exceptions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0380f0c860ec12594f43ba35e986001fa415a267', 'message': 'New exception QosPlacementAllocationConflict\n\nIn case the update of placement allocation fails with conflict and with\nmessage like: ""The requested amount would exceed the capacity"" this new\nexception can indicate it for neuton users.\n\nChange-Id: I2460e7d8025cedd2e92abdc9d769d2ad0b84838b\nRelated-Bug: #1882804\n'}]",3,748279,0380f0c860ec12594f43ba35e986001fa415a267,17,5,4,8313,,,0,"New exception QosPlacementAllocationConflict

In case the update of placement allocation fails with conflict and with
message like: ""The requested amount would exceed the capacity"" this new
exception can indicate it for neuton users.

Change-Id: I2460e7d8025cedd2e92abdc9d769d2ad0b84838b
Related-Bug: #1882804
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/79/748279/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/qos.py'],1,31f717c9894eb71f0123be97062661609a978293,bug/1882804," class QosPlacementAllocationConflict(e.Conflict): message = _(""Allocation for consumer %(consumer)s is not possible on "" ""resource provider %(rp)s, the requested amount of bandwidth "" ""would exceed the capacity for port %(port)s."")",,6,0
openstack%2Fneutron-lib~master~I9dab2e9e9728183ee209a038a0347eb7b4a83a1c,openstack/neutron-lib,master,I9dab2e9e9728183ee209a038a0347eb7b4a83a1c,Add placement client methods for allocations,MERGED,2020-07-16 13:48:41.000000000,2020-09-04 00:14:24.000000000,2020-09-04 00:13:02.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 13:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1c38ebbe8026201c667d4859fc6614a95272e076', 'message': 'WIP: Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 2, 'created': '2020-07-17 08:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6b2186dd9429db26b21cf8297f8008f2fa09d26f', 'message': 'WIP: Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 3, 'created': '2020-08-03 15:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7fe5c3de40f261c5d2bd74c5164885d9d5edcdf5', 'message': 'WIP: Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 4, 'created': '2020-08-04 10:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f7f8c54d9878c994a2ccd43ed3b5f3832b5287f5', 'message': 'WIP: Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 5, 'created': '2020-08-07 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/01cea64276835e2454f87c93fdad67b37e7cff82', 'message': 'Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 6, 'created': '2020-09-03 13:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/737b2c34acba480fb41e44c58e937bcf463f56a0', 'message': 'Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 7, 'created': '2020-09-03 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/45f166cb8cc757be855a64dacf115290e09cfc5d', 'message': 'Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 8, 'created': '2020-09-03 20:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/39790e102365e16a5dd8eee920231c9415771c0f', 'message': 'Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations\nand for updating QoS minumum bandwidth allocation.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}, {'number': 9, 'created': '2020-09-03 20:13:02.000000000', 'files': ['neutron_lib/placement/client.py', 'neutron_lib/exceptions/placement.py', 'neutron_lib/tests/unit/placement/test_client.py', 'releasenotes/notes/allocations_api-1ae5fd78c83353df.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/41e6b9bed8e04a21ad9f81057aefce79a70c0aa3', 'message': 'Add placement client methods for allocations\n\nAdded placement client methods for listing and updating allocations\nand for updating QoS minumum bandwidth allocation.\n\nChange-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c\nRelated-Bug: #1882804\n'}]",25,741452,41e6b9bed8e04a21ad9f81057aefce79a70c0aa3,37,8,9,8313,,,0,"Add placement client methods for allocations

Added placement client methods for listing and updating allocations
and for updating QoS minumum bandwidth allocation.

Change-Id: I9dab2e9e9728183ee209a038a0347eb7b4a83a1c
Related-Bug: #1882804
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/52/741452/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/placement/client.py', 'neutron_lib/exceptions/placement.py', 'neutron_lib/tests/unit/placement/test_client.py', 'releasenotes/notes/allocations_api-1ae5fd78c83353df.yaml']",4,1c38ebbe8026201c667d4859fc6614a95272e076,bug/1882804,"--- features: - | - Bump ``PlacementAPIClient's`` max supported microversion to ``1.28``, as from that version ``allocations`` API handles generations in a general way. - Add ``list_allocations`` and ``update_allocation`` methods. ",,130,1
openstack%2Foctavia~master~Id808c082808fafe1a1e004957ff47eca57f97ee8,openstack/octavia,master,Id808c082808fafe1a1e004957ff47eca57f97ee8,Introduce an image driver interface,MERGED,2020-06-25 13:31:28.000000000,2020-09-03 23:53:02.000000000,2020-09-03 23:51:07.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-25 13:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1a84a2a7c319453d536a9c4319acc39c67f87712', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allow the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nDepends-On: https://review.opendev.org/#/c/738015/\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 2, 'created': '2020-06-25 19:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/238b2766d64239ea7238f96669649380beed8de0', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allow the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nDepends-On: https://review.opendev.org/#/c/738015/\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 3, 'created': '2020-06-25 19:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a5f4f376fd2a6a6c7317e77d794a7b25e236bea6', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allow the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nDepends-On: https://review.opendev.org/#/c/738015/\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 4, 'created': '2020-06-26 09:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4fb7f3e4ea30209f9494ab3bb2fe96326995c9c1', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allow the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nDepends-On: https://review.opendev.org/#/c/738015/\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 5, 'created': '2020-07-23 12:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/06047f3f47579b3ad0f282ca37d51de0e052a9ef', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allow the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 6, 'created': '2020-08-26 11:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9ba715e7801683147569e857ba58e47be9193e0', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allows the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 7, 'created': '2020-09-03 06:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9205e569a2af89b23065da9aa5e6a0f413f56fc', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allows the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}, {'number': 8, 'created': '2020-09-03 20:06:35.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/unit/image/drivers/test_glance_driver.py', 'octavia/image/drivers/noop_driver/driver.py', 'octavia/tests/unit/image/drivers/__init__.py', 'octavia/image/drivers/glance_driver.py', 'octavia/tests/unit/image/drivers/test_image_noop_driver.py', 'octavia/image/drivers/noop_driver/__init__.py', 'octavia/image/__init__.py', 'devstack/plugin.sh', 'octavia/compute/drivers/nova_driver.py', 'etc/octavia.conf', 'devstack/settings', 'octavia/tests/unit/image/__init__.py', 'octavia/common/constants.py', 'octavia/image/drivers/__init__.py', 'setup.cfg', 'releasenotes/notes/add-c9b9401b831efb25.yaml', 'octavia/common/exceptions.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/image/image_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a422e5a203911e7d39fb7cc7bb66449131a04cbf', 'message': 'Introduce an image driver interface\n\nWith this image driver interface, we align our codebase with other\nexisting driver interfaces like compute, network and volume.\n\nThis interface also allows the amphora provider driver to check for\nexistence of tagged images at API level (e.g. amphora image tag\ncapability in Octavia flavors).\n\nChange-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8\n'}]",13,738017,a422e5a203911e7d39fb7cc7bb66449131a04cbf,35,6,8,6469,,,0,"Introduce an image driver interface

With this image driver interface, we align our codebase with other
existing driver interfaces like compute, network and volume.

This interface also allows the amphora provider driver to check for
existence of tagged images at API level (e.g. amphora image tag
capability in Octavia flavors).

Change-Id: Id808c082808fafe1a1e004957ff47eca57f97ee8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/738017/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/unit/image/drivers/test_glance_driver.py', 'octavia/image/drivers/noop_driver/driver.py', 'octavia/tests/unit/image/drivers/__init__.py', 'octavia/image/drivers/glance_driver.py', 'octavia/tests/unit/image/drivers/test_image_noop_driver.py', 'octavia/image/drivers/noop_driver/__init__.py', 'octavia/image/__init__.py', 'devstack/plugin.sh', 'octavia/compute/drivers/nova_driver.py', 'devstack/settings', 'octavia/tests/unit/image/__init__.py', 'octavia/common/constants.py', 'octavia/image/drivers/__init__.py', 'setup.cfg', 'releasenotes/notes/add-c9b9401b831efb25.yaml', 'octavia/common/exceptions.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/image/image_base.py']",19,1a84a2a7c319453d536a9c4319acc39c67f87712,live-drivers,"# Copyright 2020 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc class ImageBase(object, metaclass=abc.ABCMeta): @abc.abstractmethod def get_image_id_by_tag(self, image_tag, image_owner=None): """"""Get image ID by image tag and owner :param image_tag: image tag :param image_owner: optional image owner :raises: ImageGetException if no images found with given tag :return UUID of image """""" ",,273,78
openstack%2Fironic~master~Id31aaaccbb8ca1e6c4e26365bd37d3f3e866592b,openstack/ironic,master,Id31aaaccbb8ca1e6c4e26365bd37d3f3e866592b,documentation: follow-up to file:// support in direct deploy,MERGED,2020-09-03 09:56:44.000000000,2020-09-03 23:49:05.000000000,2020-09-03 13:50:53.000000000,"[{'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-09-03 09:56:44.000000000', 'files': ['doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/958f15a079bee9ad84e7ad13270e9c8b6820c14f', 'message': 'documentation: follow-up to file:// support in direct deploy\n\nChange-Id: Id31aaaccbb8ca1e6c4e26365bd37d3f3e866592b\n'}]",2,749695,958f15a079bee9ad84e7ad13270e9c8b6820c14f,8,4,1,10239,,,0,"documentation: follow-up to file:// support in direct deploy

Change-Id: Id31aaaccbb8ca1e6c4e26365bd37d3f3e866592b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/749695/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/standalone.rst'],1,958f15a079bee9ad84e7ad13270e9c8b6820c14f,direct-file," the Bare Metal service with the a checksum of your instance image. MD5 is used by default for backward compatibility reasons. To compute an MD5 checksum, you can use the following command:: $ md5sum image.qcow2 Alternatively, use a SHA256 checksum or any other algorithm supported by the Python's hashlib_, e.g.:: $ sha256sum image.qcow2 9f6c942ad81690a9926ff530629fb69a82db8b8ab267e2cbd59df417c1a28060 image.qcow2 .. warning:: File images must be accessible to every conductor! Use a shared file system if you have more than one conductor. The ironic CLI tool will not transfer the file from a local machine to the conductor(s). .. _hashlib: https://docs.python.org/3/library/hashlib.html mandatory. ``image_source``, only required for ``http://`` images when using :ref:`direct-deploy`. .. warning:: If your operating system is running in FIPS 140-2 mode, MD5 will not be available, and you **must** use SHA256 or another modern algorithm. With a SHA256 hash:: openstack baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_os_hash_algo=sha256 \ --instance-info image_os_hash_value=$SHA256HASH \ --instance-info kernel=$KERNEL \ --instance-info ramdisk=$RAMDISK \ --instance-info root_gb=10 "," the Bare Metal service with the MD5 checksum of your instance image. To compute it, you can use the following command:: md5sum image.qcow2 mandatory. For :ref:`direct-deploy` only HTTP(s) links are accepted, while :ref:`iscsi-deploy` also accepts links to local files (prefixed with ``file://``). ``image_source``, only required for :ref:`direct-deploy`.",35,7
openstack%2Fneutron~stable%2Ftrain~I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,openstack/neutron,stable/train,I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,Fix deletion of subnet_id from pd_subnets,MERGED,2020-08-25 06:59:45.000000000,2020-09-03 23:48:37.000000000,2020-09-03 23:44:44.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 06:59:45.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a95ddf8ae853d0bd3b5dba89dc3e63a916bd52b2', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)\n""}]",0,747845,a95ddf8ae853d0bd3b5dba89dc3e63a916bd52b2,82,8,1,11975,,,0,"Fix deletion of subnet_id from pd_subnets

In the RouterInfo._process_internal_ports() method when it process
old ports and port belongs to the subnet with CIDR assigned by
Prefix Delegation it will try to remove subnet_id key from the
pd_subnets dict.
However it seems that in some case it may happen that such subnet_id key
is not added to the pd_subnets dict and processing of ports fails.

We shouldn't fail in such case, if there is no subnet_id key in this
dict we should be good as we want to delete it simply. So this patch
changes that to not raise KeyError in such case.

Change-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79
Closes-Bug: #1892364
(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/747845/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,a95ddf8ae853d0bd3b5dba89dc3e63a916bd52b2,bug/1892364-stable/ussuri-stable/train," self.pd_subnets.pop(subnet['id'], None)", del self.pd_subnets[subnet['id']],1,1
openstack%2Frequirements~master~I6f629a271318825e600e8dd1d3e0bbac45e426ba,openstack/requirements,master,I6f629a271318825e600e8dd1d3e0bbac45e426ba,update constraint for ironic-lib to new release 4.4.0,MERGED,2020-09-03 16:36:21.000000000,2020-09-03 23:46:29.000000000,2020-09-03 23:44:49.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:36:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/943fab85a7947be4f3fc866ca9309c6d5f7fc174', 'message': 'update constraint for ironic-lib to new release 4.4.0\n\nChange-Id: I6f629a271318825e600e8dd1d3e0bbac45e426ba\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Iury Gregory Melo Ferreira <imelofer@redhat.com>\nmeta:release:Commit: Iury Gregory Melo Ferreira <imelofer@redhat.com>\nmeta:release:Change-Id: If1feb121e197b1b2aa2541bff75d67d457b13fce\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,749785,943fab85a7947be4f3fc866ca9309c6d5f7fc174,9,3,1,11131,,,0,"update constraint for ironic-lib to new release 4.4.0

Change-Id: I6f629a271318825e600e8dd1d3e0bbac45e426ba
meta:version: 4.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Iury Gregory Melo Ferreira <imelofer@redhat.com>
meta:release:Commit: Iury Gregory Melo Ferreira <imelofer@redhat.com>
meta:release:Change-Id: If1feb121e197b1b2aa2541bff75d67d457b13fce
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/749785/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,943fab85a7947be4f3fc866ca9309c6d5f7fc174,new-release,ironic-lib===4.4.0,ironic-lib===4.3.1,1,1
openstack%2Frequirements~stable%2Ftrain~Iec6b639fce37135f8840240b5d2a1a168bf9bb4e,openstack/requirements,stable/train,Iec6b639fce37135f8840240b5d2a1a168bf9bb4e,Add validations-libs to the global-requirements,MERGED,2020-08-24 10:01:49.000000000,2020-09-03 23:44:47.000000000,2020-09-03 23:44:47.000000000,"[{'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-24 10:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5467e663f125440defda9c7c279a94554eecf608', 'message': ""Add validations-libs to the global-requirements\n\ntripleoclient needs the validations-libs as dependencie, we need to\nadd the validations-libs to the global-requirements:\nhttps://review.opendev.org/#/c/714629/\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nDepends-On: https://review.opendev.org/#/c/747671/\nChange-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e\n(cherry picked from commit 5368475655b129ed71a6c207220570a36a93b3de)\n""}, {'number': 2, 'created': '2020-08-27 07:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f0f220e589ed3dc246ddbc0a2589f9f79a8d1624', 'message': ""Add validations-libs to the global-requirements\n\ntripleoclient needs the validations-libs as dependencie, we need to\nadd the validations-libs to the global-requirements:\nhttps://review.opendev.org/#/c/714629/\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nDepends-On: https://review.opendev.org/#/c/747671/\nChange-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e\n(cherry picked from commit 5368475655b129ed71a6c207220570a36a93b3de)\n""}, {'number': 3, 'created': '2020-08-27 10:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1c44f8dc8e991f0d81027f1b14805973a0434977', 'message': ""Add validations-libs to the global-requirements\n\ntripleoclient needs the validations-libs as dependencie, we need to\nadd the validations-libs to the global-requirements:\nhttps://review.opendev.org/#/c/714629/\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nChange-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e\n(cherry picked from commit 5368475655b129ed71a6c207220570a36a93b3de)\n""}, {'number': 4, 'created': '2020-08-30 20:22:02.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f99535d223460dee15c5a8e294ddc6b12c0c0e7e', 'message': ""Add validations-libs to the global-requirements\n\ntripleoclient needs the validations-libs as dependencie, we need to\nadd the validations-libs to the global-requirements:\nhttps://review.opendev.org/#/c/714629/\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nChange-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e\n(cherry picked from commit 5368475655b129ed71a6c207220570a36a93b3de)\n""}]",0,747672,f99535d223460dee15c5a8e294ddc6b12c0c0e7e,30,4,4,16515,,,0,"Add validations-libs to the global-requirements

tripleoclient needs the validations-libs as dependencie, we need to
add the validations-libs to the global-requirements:
https://review.opendev.org/#/c/714629/

Answers to the basic requirements questions.

Is the library actively maintained?

Yes, the libraries is actively maintained and mainly used by TripleO projects

Is the library good code?

Yes the libraries is covered by CI and Unit tests

Is the library python 3 compatible?

Yes

Is the library license compatible?

Yes

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?

Yes

Is the function of this library already covered by other libraries in global-requirements.txt?

No

Is the library required for OpenStack project or related dev or infrastructure
setup? (Answer to this should be Yes, of course) Which?

Yes, it's required for python-tripleoclient and TripleO projects

If the library release is managed by the Openstack release process does it use
the cycle-with-intermediary release type?

Yes

Do I need to update anything else?

No.

Change-Id: Iec6b639fce37135f8840240b5d2a1a168bf9bb4e
(cherry picked from commit 5368475655b129ed71a6c207220570a36a93b3de)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/747672/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,5467e663f125440defda9c7c279a94554eecf608,,validations-libs===1.0.0,,2,0
openstack%2Frequirements~stable%2Fussuri~I3aff2e109f886e35eebb071b274dd4346817ac62,openstack/requirements,stable/ussuri,I3aff2e109f886e35eebb071b274dd4346817ac62,update constraint for oslo.messaging to new release 12.1.4,MERGED,2020-09-03 10:31:41.000000000,2020-09-03 23:44:46.000000000,2020-09-03 23:44:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 10:31:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ea97b1b4cf000b3db17c7c7f78605f34a42dc3b', 'message': 'update constraint for oslo.messaging to new release 12.1.4\n\nChange-Id: I3aff2e109f886e35eebb071b274dd4346817ac62\nmeta:version: 12.1.4\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ifed5068d5762d241233e84bf419d586f9a2b39ed\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,749703,0ea97b1b4cf000b3db17c7c7f78605f34a42dc3b,7,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.1.4

Change-Id: I3aff2e109f886e35eebb071b274dd4346817ac62
meta:version: 12.1.4
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ifed5068d5762d241233e84bf419d586f9a2b39ed
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Boyron Sébastien <sebastien@boyron.eu>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/749703/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ea97b1b4cf000b3db17c7c7f78605f34a42dc3b,new-release,oslo.messaging===12.1.4;python_version=='3.6' oslo.messaging===12.1.4;python_version=='3.7' oslo.messaging===12.1.4;python_version=='3.8',oslo.messaging===12.1.3;python_version=='3.6' oslo.messaging===12.1.3;python_version=='3.7' oslo.messaging===12.1.3;python_version=='3.8',3,3
openstack%2Faodh~master~Ied9bf958c6b19e5a25224b7a63ef8756ecd56666,openstack/aodh,master,Ied9bf958c6b19e5a25224b7a63ef8756ecd56666,Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs,MERGED,2020-09-02 10:38:20.000000000,2020-09-03 23:41:32.000000000,2020-09-03 23:39:33.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-02 10:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/eb16a72e47e14259126d7ce6675bc916cfbc7121', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: Ied9bf958c6b19e5a25224b7a63ef8756ecd56666\n'}, {'number': 2, 'created': '2020-09-02 11:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/0f08561f52e09bab2e964a1f9ce834e33c8c917a', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nChange-Id: Ied9bf958c6b19e5a25224b7a63ef8756ecd56666\n'}, {'number': 3, 'created': '2020-09-02 15:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/b78d22dfbf0c3a137c9d94f3b95d14d6fb3f8d8b', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nDepends-On: https://review.opendev.org/749543\nChange-Id: Ied9bf958c6b19e5a25224b7a63ef8756ecd56666\n'}, {'number': 4, 'created': '2020-09-03 06:34:47.000000000', 'files': ['doc/source/configuration/aodh-config-file.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/aodh/commit/8635b67777e3aa0c90eccdbcb5753e33a1750aeb', 'message': 'Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs\n\nA new setuptools release has changed the way pip installs are done,\nsee [0]. With this change we switch back to using the distro\nmethod for global pip installs.\n\nThis patch also disables including aodh.conf sample to fix\nPDF build. This follows the same pattern like in\nhttps://review.opendev.org/#/c/737230/\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html\n\nDepends-On: https://review.opendev.org/749543\nChange-Id: Ied9bf958c6b19e5a25224b7a63ef8756ecd56666\n'}]",0,749480,8635b67777e3aa0c90eccdbcb5753e33a1750aeb,16,4,4,8833,,,0,"Use SETUPTOOLS_USE_DISTUTILS=stdlib for global pip installs

A new setuptools release has changed the way pip installs are done,
see [0]. With this change we switch back to using the distro
method for global pip installs.

This patch also disables including aodh.conf sample to fix
PDF build. This follows the same pattern like in
https://review.opendev.org/#/c/737230/

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016905.html

Depends-On: https://review.opendev.org/749543
Change-Id: Ied9bf958c6b19e5a25224b7a63ef8756ecd56666
",git fetch https://review.opendev.org/openstack/aodh refs/changes/80/749480/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,eb16a72e47e14259126d7ce6675bc916cfbc7121,," sudo -H python${PY_VERS} -m pip SETUPTOOLS_USE_DISTUTILS=stdlib \ install -e ""$AODH_DIR""[test,$AODH_BACKEND]"," sudo -H python${PY_VERS} -m pip install -e ""$AODH_DIR""[test,$AODH_BACKEND]",2,1
openstack%2Ftripleo-ci~master~I1c6a0345c1c26746a47f8b290c0ba83f04882e4b,openstack/tripleo-ci,master,I1c6a0345c1c26746a47f8b290c0ba83f04882e4b,return scenario012 to voting,ABANDONED,2020-05-14 17:04:41.000000000,2020-09-03 23:25:58.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-14 17:04:41.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/defe1496d173cecb0d3c3dfd9f1ca38294e0bc1a', 'message': 'return scenario012 to voting\n\npassing well to return to voting\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario012-standalone\n\nChange-Id: I1c6a0345c1c26746a47f8b290c0ba83f04882e4b\n'}]",0,728148,defe1496d173cecb0d3c3dfd9f1ca38294e0bc1a,5,4,1,9592,,,0,"return scenario012 to voting

passing well to return to voting
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario012-standalone

Change-Id: I1c6a0345c1c26746a47f8b290c0ba83f04882e4b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/728148/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,defe1496d173cecb0d3c3dfd9f1ca38294e0bc1a,, voting: true, voting: false,1,1
openstack%2Fos-brick~stable%2Fussuri~I2775f55039695c7ec029106c0dafe4d46255b336,openstack/os-brick,stable/ussuri,I2775f55039695c7ec029106c0dafe4d46255b336,rbd: Warn if ceph udev rules are not configured,MERGED,2020-08-28 12:44:35.000000000,2020-09-03 23:24:56.000000000,2020-09-03 20:48:15.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-28 12:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1eeffd986dd8d5a192c7af272fb5eefb0ce43da2', 'message': 'rbd: Warn if ceph udev rules are not configured\n\nThe LUKS encryptor feature expects devices to have a symbolic link that\nit can overwrite in order to enable transparent encryption/decryption\nfor instances [1]. This is generally the case for RBD volumes, as Ceph\nuses udev rules [2] to create a \'/dev/rbd/{pool}/{device}\' ->\n\'/dev/rbdN\' symlink. However, in an environment where udev daemon is not\npresent or configured correctly, this symlink will never be configured.\nThis causes things to crash and burn in a rather non-obvious manner when\nlocally attaching an encrypted RBD volume:\n\n  oslo_concurrency.processutils.ProcessExecutionError: Unexpected error while running command.\n  Command: cryptsetup luksOpen --key-file=- /dev/rbd/volumes/volume-foo crypt-volume-foo\n  Exit code: 4\n  Stdout: \'\'\n  Stderr: ""Device /dev/rbd/volumes/foo doesn\'t exist or access denied.\\n""\n\n(\'foo\' being a stand-in for a very long \'device-$UUID\' name)\n\nThe long term fix here is to probably stop relying on the side effects\nof these udev rules, i.e. the symlinks, but that is a far more involved\nfix that would not be backportable. Instead, for now we simply leave a\nbreadcrumb for the user, informing them as to what\'s gone wrong and\nencouraging them to look at the bug report for more information.\n\n[1] https://github.com/openstack/os-brick/blob/3.1.0/os_brick/encryptors/luks.py#L191-L195\n[2] https://github.com/ceph/ceph/blob/v14.0.0/udev/50-rbd.rules\n\nChange-Id: I2775f55039695c7ec029106c0dafe4d46255b336\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1884114\n(cherry picked from commit ee34d925ff8a8a83345941b7876b09f2c0396864)\n'}, {'number': 2, 'created': '2020-09-03 17:41:09.000000000', 'files': ['os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d3ee7a076be6d3397946f17f15bee4bda2968459', 'message': 'rbd: Warn if ceph udev rules are not configured\n\nThe LUKS encryptor feature expects devices to have a symbolic link that\nit can overwrite in order to enable transparent encryption/decryption\nfor instances [1]. This is generally the case for RBD volumes, as Ceph\nuses udev rules [2] to create a \'/dev/rbd/{pool}/{device}\' ->\n\'/dev/rbdN\' symlink. However, in an environment where udev daemon is not\npresent or configured correctly, this symlink will never be configured.\nThis causes things to crash and burn in a rather non-obvious manner when\nlocally attaching an encrypted RBD volume:\n\n  oslo_concurrency.processutils.ProcessExecutionError: Unexpected error while running command.\n  Command: cryptsetup luksOpen --key-file=- /dev/rbd/volumes/volume-foo crypt-volume-foo\n  Exit code: 4\n  Stdout: \'\'\n  Stderr: ""Device /dev/rbd/volumes/foo doesn\'t exist or access denied.\\n""\n\n(\'foo\' being a stand-in for a very long \'device-$UUID\' name)\n\nThe long term fix here is to probably stop relying on the side effects\nof these udev rules, i.e. the symlinks, but that is a far more involved\nfix that would not be backportable. Instead, for now we simply leave a\nbreadcrumb for the user, informing them as to what\'s gone wrong and\nencouraging them to look at the bug report for more information.\n\n[1] https://github.com/openstack/os-brick/blob/3.1.0/os_brick/encryptors/luks.py#L191-L195\n[2] https://github.com/ceph/ceph/blob/v14.0.0/udev/50-rbd.rules\n\nChange-Id: I2775f55039695c7ec029106c0dafe4d46255b336\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1884114\n(cherry picked from commit ee34d925ff8a8a83345941b7876b09f2c0396864)\n'}]",0,748660,d3ee7a076be6d3397946f17f15bee4bda2968459,54,10,2,15334,,,0,"rbd: Warn if ceph udev rules are not configured

The LUKS encryptor feature expects devices to have a symbolic link that
it can overwrite in order to enable transparent encryption/decryption
for instances [1]. This is generally the case for RBD volumes, as Ceph
uses udev rules [2] to create a '/dev/rbd/{pool}/{device}' ->
'/dev/rbdN' symlink. However, in an environment where udev daemon is not
present or configured correctly, this symlink will never be configured.
This causes things to crash and burn in a rather non-obvious manner when
locally attaching an encrypted RBD volume:

  oslo_concurrency.processutils.ProcessExecutionError: Unexpected error while running command.
  Command: cryptsetup luksOpen --key-file=- /dev/rbd/volumes/volume-foo crypt-volume-foo
  Exit code: 4
  Stdout: ''
  Stderr: ""Device /dev/rbd/volumes/foo doesn't exist or access denied.\n""

('foo' being a stand-in for a very long 'device-$UUID' name)

The long term fix here is to probably stop relying on the side effects
of these udev rules, i.e. the symlinks, but that is a far more involved
fix that would not be backportable. Instead, for now we simply leave a
breadcrumb for the user, informing them as to what's gone wrong and
encouraging them to look at the bug report for more information.

[1] https://github.com/openstack/os-brick/blob/3.1.0/os_brick/encryptors/luks.py#L191-L195
[2] https://github.com/ceph/ceph/blob/v14.0.0/udev/50-rbd.rules

Change-Id: I2775f55039695c7ec029106c0dafe4d46255b336
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1884114
(cherry picked from commit ee34d925ff8a8a83345941b7876b09f2c0396864)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/60/748660/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/rbd.py'],1,1eeffd986dd8d5a192c7af272fb5eefb0ce43da2,bug/1884114," if ( not os.path.islink(rbd_dev_path) or not os.path.exists(os.path.realpath(rbd_dev_path)) ): LOG.debug( 'Volume %(vol)s is already mapped to local device %(dev)s', {'vol': volume, 'dev': os.path.realpath(rbd_dev_path)} ) if ( not os.path.islink(rbd_dev_path) or not os.path.exists(os.path.realpath(rbd_dev_path)) ): LOG.warning( 'Volume %(vol)s has not been mapped to local device ' '%(dev)s; is the udev daemon running and are the ' 'ceph-renamer udev rules configured? See bug #1884114 for ' 'more information.', {'vol': volume, 'dev': rbd_dev_path}, ) return {'path': rbd_dev_path, 'type': 'block'}"," if (not os.path.islink(rbd_dev_path) or not os.path.exists(os.path.realpath(rbd_dev_path))): LOG.debug('volume %(vol)s is already mapped to local' ' device %(dev)s', {'vol': volume, 'dev': os.path.realpath(rbd_dev_path)}) return {'path': rbd_dev_path, 'type': 'block'}",22,8
openstack%2Fswift~master~Ic4b274da7dcf9b166513d9c138f4b0370b01eeb0,openstack/swift,master,Ic4b274da7dcf9b166513d9c138f4b0370b01eeb0,swift-init: Don't expose misleading commands,MERGED,2020-08-26 17:27:47.000000000,2020-09-03 23:24:15.000000000,2020-09-03 23:19:59.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 17:27:47.000000000', 'files': ['swift/common/manager.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ee693265fe01e9ca3b3151812d5f14db0109311b', 'message': ""swift-init: Don't expose misleading commands\n\nThe kill_child_pids command does NOT need to be an @command to be\navailable in probe tests.  I don't think it's helpful to operators,\nsince restarting all children is best handled by existing\nreload/seamless-reload commands.  But mainly the seamless option is\nmisleading since it very much results in a NOT seamless reload (all\nworkers close sockets immediately, and nothing can accept new\nconnections until existing connections finish and the parent spawns\nreplacement workers - i.e. it's just like graceful)\n\nChange-Id: Ic4b274da7dcf9b166513d9c138f4b0370b01eeb0\n""}]",0,748281,ee693265fe01e9ca3b3151812d5f14db0109311b,9,3,1,1179,,,0,"swift-init: Don't expose misleading commands

The kill_child_pids command does NOT need to be an @command to be
available in probe tests.  I don't think it's helpful to operators,
since restarting all children is best handled by existing
reload/seamless-reload commands.  But mainly the seamless option is
misleading since it very much results in a NOT seamless reload (all
workers close sockets immediately, and nothing can accept new
connections until existing connections finish and the parent spawns
replacement workers - i.e. it's just like graceful)

Change-Id: Ic4b274da7dcf9b166513d9c138f4b0370b01eeb0
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/748281/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/manager.py'],1,ee693265fe01e9ca3b3151812d5f14db0109311b,worker-management,, @command,0,1
openstack%2Fneutron~stable%2Fstein~I9ec81ad0c10379294d3145c5902e8b81b65c0221,openstack/neutron,stable/stein,I9ec81ad0c10379294d3145c5902e8b81b65c0221,Don't raise FileNotFoundError during disabling keepalived,MERGED,2020-08-31 07:15:30.000000000,2020-09-03 23:24:09.000000000,2020-09-03 23:19:57.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-31 07:15:30.000000000', 'files': ['neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5656f3cc89b7bfb76dccfe234aa82c08fbb0fc2c', 'message': ""Don't raise FileNotFoundError during disabling keepalived\n\nIn case when keepalived's config is not existing already, there is no\nneed to raise any exception while L3 agent is trying to clean this\nconfig.\n\nChange-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221\nCloses-Bug: #1892866\n(cherry picked from commit a08893368a9f323d41f490ee043ef7bd50c4f1fa)\n""}]",0,748960,5656f3cc89b7bfb76dccfe234aa82c08fbb0fc2c,20,8,1,11975,,,0,"Don't raise FileNotFoundError during disabling keepalived

In case when keepalived's config is not existing already, there is no
need to raise any exception while L3 agent is trying to clean this
config.

Change-Id: I9ec81ad0c10379294d3145c5902e8b81b65c0221
Closes-Bug: #1892866
(cherry picked from commit a08893368a9f323d41f490ee043ef7bd50c4f1fa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/748960/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/ha_router.py'],1,5656f3cc89b7bfb76dccfe234aa82c08fbb0fc2c,bug/1892866-stable/ussuri-stable/train-stable/stein, try: shutil.rmtree(conf_dir) except FileNotFoundError: pass, shutil.rmtree(conf_dir),4,1
openstack%2Fneutron~master~Icbcb5e004dfa777877d1865a5018262344c7e415,openstack/neutron,master,Icbcb5e004dfa777877d1865a5018262344c7e415,Use MagicMock for Connection object,MERGED,2020-09-02 15:37:41.000000000,2020-09-03 22:36:58.000000000,2020-09-03 22:32:15.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-02 15:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3419087d5da46e6840ff45909a9407db92e6a497', 'message': 'Use MagicMock for Connection object\n\nChange-Id: Icbcb5e004dfa777877d1865a5018262344c7e415\n'}, {'number': 2, 'created': '2020-09-02 15:42:09.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fc24afd9a7bf0156cdc94330823cb35a03e2602', 'message': ""Use MagicMock for Connection object\n\nAfter https://review.opendev.org/#/c/745746/ there are new calls to\n'with self.lock' which fail in unit tests that only use a Mock object\nfor the Connection that is passed to an API impl object. Switching to\nMagicMock fixes it.\n\nCloses-Bug: #1893965\n\nChange-Id: Icbcb5e004dfa777877d1865a5018262344c7e415\n""}]",1,749537,6fc24afd9a7bf0156cdc94330823cb35a03e2602,27,12,2,5756,,,0,"Use MagicMock for Connection object

After https://review.opendev.org/#/c/745746/ there are new calls to
'with self.lock' which fail in unit tests that only use a Mock object
for the Connection that is passed to an API impl object. Switching to
MagicMock fixes it.

Closes-Bug: #1893965

Change-Id: Icbcb5e004dfa777877d1865a5018262344c7e415
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/749537/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py'],1,3419087d5da46e6840ff45909a9407db92e6a497,, self.nb_ovn_idl = impl_idl_ovn.OvsdbNbOvnIdl(mock.MagicMock()), self.nb_ovn_idl = impl_idl_ovn.OvsdbNbOvnIdl(mock.Mock()),1,1
openstack%2Fneutron~master~I30d0eeee51ef3352cfb21f86138d60ad35f2b6fa,openstack/neutron,master,I30d0eeee51ef3352cfb21f86138d60ad35f2b6fa,Rename networking-ovn-metadata-agent to neutron-ovn-metadata-agent,MERGED,2020-08-18 06:50:41.000000000,2020-09-03 22:34:52.000000000,2020-09-03 22:32:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}, {'_account_id': 29157}, {'_account_id': 29963}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-18 06:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/509a5b71ce449531ce372520e1660d83a921430b', 'message': ""Rename networking-ovn-metadata-agent to neutron-ovn-metadata-agent\n\nAs described in [1], the metadata with OVN uses a new neutron agent called\n'neutron-ovn-metadata-agent'. In fact, the system service is also called\n'neutron-ovn-metadata-agent', so it is more reasonable to modify its name.\n\n[1] https://docs.openstack.org/networking-ovn/latest/contributor/design/metadata_api.html\n\nChange-Id: I30d0eeee51ef3352cfb21f86138d60ad35f2b6fa\n""}, {'number': 2, 'created': '2020-09-03 03:17:21.000000000', 'files': ['neutron/agent/ovn/metadata/server.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca36dbde10d7ebcaedd404c7a8dfd30aeb0498b7', 'message': ""Rename networking-ovn-metadata-agent to neutron-ovn-metadata-agent\n\nAs described in [1], the metadata with OVN uses a new neutron agent called\n'neutron-ovn-metadata-agent'. In fact, the system service is also called\n'neutron-ovn-metadata-agent', so it is more reasonable to modify its name.\n\n[1] https://docs.openstack.org/networking-ovn/latest/contributor/design/metadata_api.html\n\nChange-Id: I30d0eeee51ef3352cfb21f86138d60ad35f2b6fa\n""}]",0,746640,ca36dbde10d7ebcaedd404c7a8dfd30aeb0498b7,31,12,2,29157,,,0,"Rename networking-ovn-metadata-agent to neutron-ovn-metadata-agent

As described in [1], the metadata with OVN uses a new neutron agent called
'neutron-ovn-metadata-agent'. In fact, the system service is also called
'neutron-ovn-metadata-agent', so it is more reasonable to modify its name.

[1] https://docs.openstack.org/networking-ovn/latest/contributor/design/metadata_api.html

Change-Id: I30d0eeee51ef3352cfb21f86138d60ad35f2b6fa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/746640/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/server.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,509a5b71ce449531ce372520e1660d83a921430b,," "" neutron-ovn-metadata-agent status/logs."","," "" networking-ovn-metadata-agent status/logs."",",4,4
openstack%2Ftempest~master~If00bffe2b6d303686e15060f6b03400ad5a3089f,openstack/tempest,master,If00bffe2b6d303686e15060f6b03400ad5a3089f,Use the networking-l2gw project new location,MERGED,2020-06-26 02:25:53.000000000,2020-09-03 22:34:12.000000000,2020-09-03 22:32:20.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-06-26 02:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee0488dcd3ff200bd1eed1284880c8ef5cd529c2', 'message': 'Remove the networking-l2gw-tempest-plugin from blacklist\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nfinishing the retirement process and no longer will be\nmaitained under openstack[1].\n\nDepends-On: https://review.opendev.org/#/c/738038/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: If00bffe2b6d303686e15060f6b03400ad5a3089f\n'}, {'number': 2, 'created': '2020-08-27 22:25:46.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff145e61ce3355bc059b9a5959d0c2d1b77e8b43', 'message': 'Use the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nChange-Id: If00bffe2b6d303686e15060f6b03400ad5a3089f\n'}]",0,738136,ff145e61ce3355bc059b9a5959d0c2d1b77e8b43,13,4,2,8556,,,0,"Use the networking-l2gw project new location

networking-l2gw and networking-l2gw-tempest-plugin are
imported to new location now and supposed to be retired from
openstack/namespace[1].

-https://review.opendev.org/#/c/744110/

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

Change-Id: If00bffe2b6d303686e15060f6b03400ad5a3089f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/738136/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,ee0488dcd3ff200bd1eed1284880c8ef5cd529c2,complete-retirement-networking-l2gw,," 'openstack/networking-l2gw-tempest-plugin', # https://review.opendev.org/#/c/635093/",0,2
openstack%2Fkolla~stable%2Ftrain~Ia4b4c4c2a487e135b100038281ad212789592d14,openstack/kolla,stable/train,Ia4b4c4c2a487e135b100038281ad212789592d14,Bump up versions for train,MERGED,2020-09-02 08:05:20.000000000,2020-09-03 22:26:49.000000000,2020-09-03 22:24:50.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-02 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/42a0c6e254add1e12359405f64f48be3f243a8a9', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}, {'number': 2, 'created': '2020-09-02 16:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8208f6b5b330f59dd1aedcdc2cb9393a05a79f1', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}, {'number': 3, 'created': '2020-09-02 19:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e08c1882f5543d05e61a72d7b2f1c3aad988852f', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}, {'number': 4, 'created': '2020-09-02 19:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6dca929e2aca7f1bfb7ed003c869a4aac555c7e3', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}, {'number': 5, 'created': '2020-09-02 19:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e57a177243a532cfcdc3179929cdb01241aa78b9', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}, {'number': 6, 'created': '2020-09-03 07:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07f101611b5415753c05c7bb45fb6a8438956094', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}, {'number': 7, 'created': '2020-09-03 18:12:32.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ff242c4a270258fed0a0dbdbd3b66a402cadece', 'message': 'Bump up versions for train\n\nChange-Id: Ia4b4c4c2a487e135b100038281ad212789592d14\n'}]",0,749454,2ff242c4a270258fed0a0dbdbd3b66a402cadece,21,4,7,22629,,,0,"Bump up versions for train

Change-Id: Ia4b4c4c2a487e135b100038281ad212789592d14
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/749454/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,42a0c6e254add1e12359405f64f48be3f243a8a9,," 'bifrost-7.2.2.tar.gz')}, 'cinder-15.3.0.tar.gz')}, 'glance-19.0.4.tar.gz')}, 'ironic-13.0.6.tar.gz')}, 'manila-9.1.4.tar.gz')}, 'masakari-monitors-8.0.1.tar.gz')}, 'neutron-15.2.0.tar.gz')}, 'neutron-dynamic-routing-15.0.1.tar.gz')}, 'neutron-dynamic-routing-15.0.1.tar.gz')}, 'networking-ovn-7.3.0.tar.gz')}, 'networking-ovn-7.3.0.tar.gz')}, 'nova-20.4.0.tar.gz')}, 'octavia-5.0.2.tar.gz')},"," 'bifrost-7.2.1.tar.gz')}, 'cinder-15.2.0.tar.gz')}, 'glance-19.0.3.tar.gz')}, 'ironic-13.0.3.tar.gz')}, 'manila-9.1.3.tar.gz')}, 'masakari-monitors-8.0.0.tar.gz')}, 'neutron-15.1.0.tar.gz')}, 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'networking-ovn-7.2.0.tar.gz')}, 'networking-ovn-7.2.0.tar.gz')}, 'nova-20.3.0.tar.gz')}, 'octavia-5.0.1.tar.gz')},",13,13
openstack%2Fkolla~stable%2Ftrain~I5365c813bab5e3205fd34eb64dc3337f192d67d4,openstack/kolla,stable/train,I5365c813bab5e3205fd34eb64dc3337f192d67d4,[CI] Fix wheel url for CentOS,MERGED,2020-08-12 07:58:58.000000000,2020-09-03 22:15:20.000000000,2020-09-03 22:13:12.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 07:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d6470a446e5767d715cf6d40f3367d3b89677e3', 'message': '[CI] Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n(cherry picked from commit a3ef68d91c60c9d451450ae0e371e25402bb4c6f)\n'}, {'number': 2, 'created': '2020-09-03 18:12:13.000000000', 'files': ['tests/vars/zuul.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a31836265efc6d42640dd7bc97bce0113441fb5c', 'message': '[CI] Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n(cherry picked from commit a3ef68d91c60c9d451450ae0e371e25402bb4c6f)\n'}]",0,745802,a31836265efc6d42640dd7bc97bce0113441fb5c,12,3,2,30491,,,0,"[CI] Fix wheel url for CentOS

CentOS wheels do not differentiate between minor versions atm.

Change-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4
(cherry picked from commit a3ef68d91c60c9d451450ae0e371e25402bb4c6f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/745802/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/vars/zuul.yml'],1,9d6470a446e5767d715cf6d40f3367d3b89677e3,fix-wheels-stable/ussuri-stable/train,"nodepool_wheel_mirror: ""https://{{ zuul_site_mirror_fqdn }}/wheel/{{ ansible_distribution | lower }}-{{ (ansible_os_family == 'Debian') | ternary(ansible_distribution_version, ansible_distribution_major_version) }}-{{ ansible_architecture | lower }}""","nodepool_wheel_mirror: ""https://{{ zuul_site_mirror_fqdn }}/wheel/{{ ansible_distribution | lower }}-{{ ansible_distribution_version }}-{{ ansible_architecture | lower }}""",1,1
openstack%2Fpython-openstackclient~master~If6798c89fef4c9feb4ebb460722b891f5655037d,openstack/python-openstackclient,master,If6798c89fef4c9feb4ebb460722b891f5655037d,Allow openstack flavor set to update flavor description using name,MERGED,2020-06-04 19:49:36.000000000,2020-09-03 22:07:35.000000000,2020-09-03 22:01:16.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 31516}]","[{'number': 1, 'created': '2020-06-04 19:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8650ff755cc1cdbe09da6b4af97103e63b81bfd7', 'message': 'Allow openstack flavor set to update flavor description using name\n * Modified take_action() method for SetFlavor to use\nflavor id instead of flavor name when setting description\n  * Closes-Bug: #1844708 / https://bugs.launchpad.net/ubuntu/+source/python-openstackclient/+bug/1844708\n\nChange-Id: If6798c89fef4c9feb4ebb460722b891f5655037d\n'}, {'number': 2, 'created': '2020-06-04 22:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e00f00e54f17411d880740143d32c575dcd124d', 'message': 'Allow openstack flavor set to update flavor description using name\n\nModified take_action() method for SetFlavor to use\nflavor id instead of flavor name when setting description\n\nCloses-Bug: #1844708\n\nChange-Id: If6798c89fef4c9feb4ebb460722b891f5655037d\n'}, {'number': 3, 'created': '2020-06-09 01:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/00020cba48e75baa90a19ab591078ffb46f9e643', 'message': 'Allow openstack flavor set to update flavor description using name\n\nModified take_action() method for SetFlavor to use\nflavor id instead of flavor name when setting description\n\nCloses-Bug: #1844708 #40019\n\nChange-Id: If6798c89fef4c9feb4ebb460722b891f5655037d\n'}, {'number': 4, 'created': '2020-06-09 01:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c51c0a951e835cc5d6723b0d044c35bbe427334f', 'message': 'Allow openstack flavor set to update flavor description using name\n\nModified take_action() method for SetFlavor to use\nflavor id instead of flavor name when setting description\n\nCloses-Bug: #1844708 \nStory: #2007781\nTask: #40019\n\nChange-Id: If6798c89fef4c9feb4ebb460722b891f5655037d\n'}, {'number': 5, 'created': '2020-06-09 18:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5c53730f785f5b9cb331aaea6e0acdd9dec671e3', 'message': 'Allow openstack flavor set to update flavor description using name\n\nModified take_action() method for SetFlavor to use\nflavor id instead of flavor name when setting description\n\nCloses-Bug: #1844708 \nStory: #2007781\nTask: #40019\n\nChange-Id: If6798c89fef4c9feb4ebb460722b891f5655037d\n'}, {'number': 6, 'created': '2020-06-10 22:51:08.000000000', 'files': ['openstackclient/compute/v2/flavor.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/176907f70eb5b84d15efc03571ca772706a164a6', 'message': 'Allow openstack flavor set to update flavor description using name\n\nModified take_action() method for SetFlavor to use\nflavor id instead of flavor name when setting description\n\nCloses-Bug: #1844708 \nStory: #2007781\nTask: #40019\n\nChange-Id: If6798c89fef4c9feb4ebb460722b891f5655037d\n'}]",7,733688,176907f70eb5b84d15efc03571ca772706a164a6,24,5,6,31516,,,0,"Allow openstack flavor set to update flavor description using name

Modified take_action() method for SetFlavor to use
flavor id instead of flavor name when setting description

Closes-Bug: #1844708 
Story: #2007781
Task: #40019

Change-Id: If6798c89fef4c9feb4ebb460722b891f5655037d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/88/733688/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/flavor.py'],1,8650ff755cc1cdbe09da6b4af97103e63b81bfd7,story/2007781," compute_client.flavors.update(flavor=flavor.id,"," compute_client.flavors.update(flavor=parsed_args.flavor,",1,1
openstack%2Fproject-config~master~Iee47763df6bb8b3290908b7831d71b052f7a1a6a,openstack/project-config,master,Iee47763df6bb8b3290908b7831d71b052f7a1a6a,Final step for networking-l2gw and networking-l2gw-tempest-plugin retirement,MERGED,2020-06-25 14:17:38.000000000,2020-09-03 22:07:35.000000000,2020-09-03 21:35:42.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-25 14:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d408b4988c9fd378cd12d109800315316a7d1aef', 'message': 'Final step for networking-l2gw and networking-l2gw-tempest-plugin retirement\n\nThis finish the final step to complete the already retired projects\nnetworking-l2gw and networking-l2gw-tempest-plugin.\n\nDepends-On: https://review.opendev.org/#/c/738035/\nDepends-On: https://review.opendev.org/#/c/738038/\nChange-Id: Iee47763df6bb8b3290908b7831d71b052f7a1a6a\n'}, {'number': 2, 'created': '2020-09-02 21:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c272b5d4c03dda76c3029ae782e90dfb7168eaf4', 'message': 'Final step for networking-l2gw and networking-l2gw-tempest-plugin retirement\n\nThis finish the final step to complete the already retired projects\nnetworking-l2gw and networking-l2gw-tempest-plugin.\n\nDepends-On: https://review.opendev.org/#/c/749579/\nDepends-On: https://review.opendev.org/#/c/749580/\nChange-Id: Iee47763df6bb8b3290908b7831d71b052f7a1a6a\n'}, {'number': 3, 'created': '2020-09-03 14:51:30.000000000', 'files': ['gerrit/acls/openstack/networking-l2gw.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a08bf841cb0706f336e45898ccbc31aa6cd5c605', 'message': 'Final step for networking-l2gw and networking-l2gw-tempest-plugin retirement\n\nThis finish the final step to complete the already retired projects\nnetworking-l2gw and networking-l2gw-tempest-plugin.\n\nDepends-On: https://review.opendev.org/#/c/749579/\nDepends-On: https://review.opendev.org/#/c/749580/\nChange-Id: Iee47763df6bb8b3290908b7831d71b052f7a1a6a\n'}]",3,738040,a08bf841cb0706f336e45898ccbc31aa6cd5c605,21,5,3,8556,,,0,"Final step for networking-l2gw and networking-l2gw-tempest-plugin retirement

This finish the final step to complete the already retired projects
networking-l2gw and networking-l2gw-tempest-plugin.

Depends-On: https://review.opendev.org/#/c/749579/
Depends-On: https://review.opendev.org/#/c/749580/
Change-Id: Iee47763df6bb8b3290908b7831d71b052f7a1a6a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/738040/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/networking-l2gw.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,d408b4988c9fd378cd12d109800315316a7d1aef,complete-retirement-networking-l2gw,, - openstack/networking-l2gw - openstack/networking-l2gw-tempest-plugin,4,35
openstack%2Fos-refresh-config~master~I1d0267a5d25787732e27fc2f14308978642d499d,openstack/os-refresh-config,master,I1d0267a5d25787732e27fc2f14308978642d499d,Activate venv to get access to tools,ABANDONED,2017-07-04 04:13:14.000000000,2020-09-03 22:04:47.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-04 04:13:14.000000000', 'files': ['os_refresh_config/os_refresh_config.py'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/b317cdb54d84609ac05f3b84a0ae2aa438873bd4', 'message': 'Activate venv to get access to tools\n\nos-refresh-config calls ""dib-run-parts"" assuming it is in the $PATH.\n\nFrom what I can see of [1], this installs os-collect-config into a\nvirtualenv and then symlinks the venv/bin/os-collect-config to\n/usr/local/bin.\n\nThe problem is that with Ia2e96c00a4246c04beb96c17f83b8aefb69219ca we\nstopped dib leaving behind dib-run-parts in the image.  Although this\ncorrectly specifies a dependency on dib-utils, running\n/usr/local/bin/os-collect-config does not activate the virtualenv and\ndib-run-parts can not be found.\n\ndib itself has the same problem, where people call\n""/venv/bin/disk-image-create"" but don\'t activate the venv, so we can\'t\nfind other tools setup by the entry-points.  We have found that\nactivating the virtualenv internally as done here works well\n(Ibfea6cf6a6fd0c7f1e468d501c61ae0b58992042).\n\nThis does the equivalent here to ensure that dib-run-parts from inside\nthe virtualenv is found and run.\n\n[1] https://git.openstack.org/cgit/openstack/tripleo-image-elements/tree/elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config\n\nChange-Id: I1d0267a5d25787732e27fc2f14308978642d499d\nPartial-Bug: #1691964\n'}]",0,480016,b317cdb54d84609ac05f3b84a0ae2aa438873bd4,8,5,1,7118,,,0,"Activate venv to get access to tools

os-refresh-config calls ""dib-run-parts"" assuming it is in the $PATH.

From what I can see of [1], this installs os-collect-config into a
virtualenv and then symlinks the venv/bin/os-collect-config to
/usr/local/bin.

The problem is that with Ia2e96c00a4246c04beb96c17f83b8aefb69219ca we
stopped dib leaving behind dib-run-parts in the image.  Although this
correctly specifies a dependency on dib-utils, running
/usr/local/bin/os-collect-config does not activate the virtualenv and
dib-run-parts can not be found.

dib itself has the same problem, where people call
""/venv/bin/disk-image-create"" but don't activate the venv, so we can't
find other tools setup by the entry-points.  We have found that
activating the virtualenv internally as done here works well
(Ibfea6cf6a6fd0c7f1e468d501c61ae0b58992042).

This does the equivalent here to ensure that dib-run-parts from inside
the virtualenv is found and run.

[1] https://git.openstack.org/cgit/openstack/tripleo-image-elements/tree/elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config

Change-Id: I1d0267a5d25787732e27fc2f14308978642d499d
Partial-Bug: #1691964
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/16/480016/1 && git format-patch -1 --stdout FETCH_HEAD,['os_refresh_config/os_refresh_config.py'],1,b317cdb54d84609ac05f3b84a0ae2aa438873bd4,bug/1691964,"import runpy# borrowed from pip:locations.py def running_under_virtualenv(): """"""Return True if we're running inside a virtualenv, False otherwise."""""" if hasattr(sys, 'real_prefix'): return True elif sys.prefix != getattr(sys, ""base_prefix"", sys.prefix): return True return False def activate_venv(): if running_under_virtualenv(): activate_this = os.path.join(sys.prefix, ""bin"", ""activate_this.py"") globs = runpy.run_path(activate_this, globals()) globals().update(globs) del globs # If we are run as /path/to/virtualenv/os-refresh-config then the # virtualenv bin/ directory isn't in the path, and dib-run-parts # is not found. This is the equivalent of running from a shell # that has done ""source /path/to/virtualenv/bin/activate"" and sets # correct $PATH. activate_venv() ",,26,0
openstack%2Fproject-config~master~Iffd3eb4c6d194743c12fa9eb583e5f1c7fcdb9e3,openstack/project-config,master,Iffd3eb4c6d194743c12fa9eb583e5f1c7fcdb9e3,kolla-cli: deprecation - remove noop jobs,MERGED,2020-09-03 08:29:59.000000000,2020-09-03 21:29:26.000000000,2020-09-03 21:29:26.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-09-03 08:29:59.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a1e74d8765da3880d1e80e2c59cea4f12dc1ba9', 'message': 'kolla-cli: deprecation - remove noop jobs\n\nStep 2c from:\nhttps://docs.openstack.org/project-team-guide/repository.html#step-2c-remove-noop-jobs\n\nThis reverts commit ef1c206e9feca9579eaf3bf5501b5dc27b997867.\n\nDeprecation notice:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html\n\nChange-Id: Iffd3eb4c6d194743c12fa9eb583e5f1c7fcdb9e3\nDepends-On: https://review.opendev.org/749045\n'}]",0,749672,0a1e74d8765da3880d1e80e2c59cea4f12dc1ba9,9,5,1,30491,,,0,"kolla-cli: deprecation - remove noop jobs

Step 2c from:
https://docs.openstack.org/project-team-guide/repository.html#step-2c-remove-noop-jobs

This reverts commit ef1c206e9feca9579eaf3bf5501b5dc27b997867.

Deprecation notice:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Change-Id: Iffd3eb4c6d194743c12fa9eb583e5f1c7fcdb9e3
Depends-On: https://review.opendev.org/749045
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/749672/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,0a1e74d8765da3880d1e80e2c59cea4f12dc1ba9,, - publish-to-pypi, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master,1,8
openstack%2Fironic-python-agent~stable%2Fussuri~I76235a6e6ffdf80a0f5476f577b055223cdf1585,openstack/ironic-python-agent,stable/ussuri,I76235a6e6ffdf80a0f5476f577b055223cdf1585,Make WSGI server respect listen_* directives,MERGED,2020-09-02 21:52:27.000000000,2020-09-03 21:29:13.000000000,2020-09-03 21:26:51.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-02 21:52:27.000000000', 'files': ['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/665219e774ea639ea34c57a147e7db71a223f4b6', 'message': 'Make WSGI server respect listen_* directives\n\nThe listen_port and listen_host directives are intended to allow\ndeployers of IPA to change the port and host IPA listens on. These\nconfigs have not been obeyed since the migration to the oslo.service\nwsgi server.\n\nStory: 2008016\nTask: 40668\nChange-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585\n(cherry picked from commit 7d0ad36ebd350a7162bc3c33bbefd26b9e962a78)\n'}]",0,749597,665219e774ea639ea34c57a147e7db71a223f4b6,14,5,1,10342,,,0,"Make WSGI server respect listen_* directives

The listen_port and listen_host directives are intended to allow
deployers of IPA to change the port and host IPA listens on. These
configs have not been obeyed since the migration to the oslo.service
wsgi server.

Story: 2008016
Task: 40668
Change-Id: I76235a6e6ffdf80a0f5476f577b055223cdf1585
(cherry picked from commit 7d0ad36ebd350a7162bc3c33bbefd26b9e962a78)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/97/749597/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'releasenotes/notes/respect-listen-directives-94fb863c5b692c07.yaml']",3,665219e774ea639ea34c57a147e7db71a223f4b6,story/2008016-stable/ussuri,"--- fixes: - | Since the Ussuri release, IPA has ignored the listen_host and listen_port directives. This fixes the behavior and restores those configuration values to working status. https://storyboard.openstack.org/#!/story/2008016 ",,58,7
openstack%2Fopenstacksdk~master~I91345ebf509238ca1f800cb595818c023cc56b0d,openstack/openstacksdk,master,I91345ebf509238ca1f800cb595818c023cc56b0d,Switch nodepool test to containers,MERGED,2020-08-31 00:19:34.000000000,2020-09-03 21:16:02.000000000,2020-09-03 21:05:32.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-08-31 00:19:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5db7d5573a1afaed7d7b5805f3832e02354ee6a4', 'message': 'Switch nodepool test to containers\n\nThe nodepool-functional-container-openstack-siblings builds nodepool\ncontainer images (with openstacksdk and other ""siblings"" of nodepool\nfrom source) and runs the build/boot tests with that.\n\nThe container builds of these tools are what OpenDev uses in\nproduction, so this is more practical testing than installing by parts\non a bare Bionic system.  This allows us to remove the job duplication\nin nodepool.\n\nChange-Id: I91345ebf509238ca1f800cb595818c023cc56b0d\n'}]",0,748932,5db7d5573a1afaed7d7b5805f3832e02354ee6a4,9,3,1,7118,,,0,"Switch nodepool test to containers

The nodepool-functional-container-openstack-siblings builds nodepool
container images (with openstacksdk and other ""siblings"" of nodepool
from source) and runs the build/boot tests with that.

The container builds of these tools are what OpenDev uses in
production, so this is more practical testing than installing by parts
on a bare Bionic system.  This allows us to remove the job duplication
in nodepool.

Change-Id: I91345ebf509238ca1f800cb595818c023cc56b0d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/32/748932/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5db7d5573a1afaed7d7b5805f3832e02354ee6a4,dib-container-tests, - opendev-buildset-registry - nodepool-build-image-siblings - nodepool-functional-container-openstack-siblings - opendev-buildset-registry - nodepool-build-image-siblings - nodepool-functional-container-openstack-siblings, - nodepool-functional-openstack-src - nodepool-functional-openstack-src,6,2
openstack%2Fopenstacksdk~master~I3eb48139300b75caa7bf7b6464c4c8080d72fa04,openstack/openstacksdk,master,I3eb48139300b75caa7bf7b6464c4c8080d72fa04,Add func test for compute microversion 2.3,MERGED,2020-07-16 18:13:21.000000000,2020-09-03 21:13:07.000000000,2020-09-03 21:00:51.000000000,"[{'_account_id': 8864}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-16 18:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e08e2807bb68c08d9bc2aeed81f7da55b5bd195a', 'message': 'Add func test for compute microversion 2.3\n\nAdds an admin API functional test for the following fields in the show\nserver details API:\n\nOS-EXT-SRV-ATTR:reservation_id\nOS-EXT-SRV-ATTR:launch_index\nOS-EXT-SRV-ATTR:ramdisk_id\nOS-EXT-SRV-ATTR:kernel_id\nOS-EXT-SRV-ATTR:hostname\nOS-EXT-SRV-ATTR:root_device_name\nOS-EXT-SRV-ATTR:userdata\nos-extended-volumes:volumes_attached.delete_on_termination\n\nChange-Id: I3eb48139300b75caa7bf7b6464c4c8080d72fa04\nStory: 2007929\n'}, {'number': 2, 'created': '2020-07-16 18:23:27.000000000', 'files': ['openstack/tests/functional/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9ed64cc73f549cccd67401a73f5f18fb8fd2a83a', 'message': 'Add func test for compute microversion 2.3\n\nAdds an admin API functional test for the following fields in the show\nserver details API:\n\nOS-EXT-SRV-ATTR:reservation_id\nOS-EXT-SRV-ATTR:launch_index\nOS-EXT-SRV-ATTR:ramdisk_id\nOS-EXT-SRV-ATTR:kernel_id\nOS-EXT-SRV-ATTR:hostname\nOS-EXT-SRV-ATTR:root_device_name\nOS-EXT-SRV-ATTR:userdata\nos-extended-volumes:volumes_attached.delete_on_termination\n\nChange-Id: I3eb48139300b75caa7bf7b6464c4c8080d72fa04\nStory: 2007929\n'}]",4,741514,9ed64cc73f549cccd67401a73f5f18fb8fd2a83a,17,6,2,8864,,,0,"Add func test for compute microversion 2.3

Adds an admin API functional test for the following fields in the show
server details API:

OS-EXT-SRV-ATTR:reservation_id
OS-EXT-SRV-ATTR:launch_index
OS-EXT-SRV-ATTR:ramdisk_id
OS-EXT-SRV-ATTR:kernel_id
OS-EXT-SRV-ATTR:hostname
OS-EXT-SRV-ATTR:root_device_name
OS-EXT-SRV-ATTR:userdata
os-extended-volumes:volumes_attached.delete_on_termination

Change-Id: I3eb48139300b75caa7bf7b6464c4c8080d72fa04
Story: 2007929
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/741514/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/compute/v2/test_server.py'],1,e08e2807bb68c08d9bc2aeed81f7da55b5bd195a,story/2007929,"class TestServerAdmin(ft_base.BaseComputeTest): def setUp(self): super(TestServerAdmin, self).setUp() self._set_operator_cloud(interface='admin') self.NAME = 'needstobeshortandlowercase' flavor = self.conn.compute.find_flavor(base.FLAVOR_NAME, ignore_missing=False) image = self.conn.compute.find_image(base.IMAGE_NAME, ignore_missing=False) volume = self.conn.create_volume(1) sot = self.conn.compute.create_server( name=self.NAME, flavor_id=flavor.id, image_id=image.id, networks='none', user_data='SSdtIGFjdHVhbGx5IGEgZ29hdC4=', block_device_mapping=[{ 'uuid': volume.id, 'source_type': 'volume', 'boot_index': 0, 'destination_type': 'volume', 'delete_on_termination': True, 'volume_size': 1}]) self.conn.compute.wait_for_server(sot, wait=self._wait_for_timeout) assert isinstance(sot, server.Server) self.assertEqual(self.NAME, sot.name) self.server = sot def tearDown(self): sot = self.conn.compute.delete_server(self.server.id) self.conn.compute.wait_for_delete(self.server, wait=self._wait_for_timeout) self.assertIsNone(sot) super(TestServerAdmin, self).tearDown() def test_get(self): sot = self.conn.compute.get_server(self.server.id) self.assertIsNotNone(sot.reservation_id) self.assertIsNotNone(sot.launch_index) self.assertIsNotNone(sot.ramdisk_id) self.assertIsNotNone(sot.kernel_id) self.assertEqual(self.NAME, sot.hostname) self.assertTrue(sot.root_device_name.startswith('/dev')) self.assertEqual('SSdtIGFjdHVhbGx5IGEgZ29hdC4=', sot.user_data) self.assertTrue(sot.attached_volumes[0]['delete_on_termination']) ",,45,0
openstack%2Fopenstacksdk~master~I3e5e6411ad9bc7da97901c3778b8f4e2ec121102,openstack/openstacksdk,master,I3e5e6411ad9bc7da97901c3778b8f4e2ec121102,Add tests for compute microversion 2.2 and 2.10,MERGED,2020-07-15 18:13:44.000000000,2020-09-03 21:05:31.000000000,2020-09-03 21:05:31.000000000,"[{'_account_id': 2}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-15 18:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7963812ab66e5799f6c6837600a20590ef3f5a01', 'message': 'WIP: Test and record keypair max microversion\n\nThis patch adds functional testing for compute API versions 2.2 and\n2.10, keypair `type` and `user_id` respectively.\n\nChange-Id: I3e5e6411ad9bc7da97901c3778b8f4e2ec121102\n'}, {'number': 2, 'created': '2020-07-15 19:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1ca8375cdde352ef3386709e23fada7efe6f6b9e', 'message': 'Add tests for compute microversion 2.2 and 2.10\n\nThis patch adds functional testing for compute API versions 2.2 and\n2.10, keypair `type` and `user_id` respectively.\n\nChange-Id: I3e5e6411ad9bc7da97901c3778b8f4e2ec121102\n'}, {'number': 3, 'created': '2020-07-15 19:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/65227924a319f12f9ebc00aa092cd2e1d8ec5db4', 'message': 'Add tests for compute microversion 2.2 and 2.10\n\nThis patch adds functional testing for compute API versions 2.2 and\n2.10, keypair `type` and `user_id` respectively.\n\nStory: 40359\nChange-Id: I3e5e6411ad9bc7da97901c3778b8f4e2ec121102\n'}, {'number': 4, 'created': '2020-07-15 19:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/86bcbc0bb6f8b579095754c20fe9111810ea745b', 'message': 'Add tests for compute microversion 2.2 and 2.10\n\nThis patch adds functional testing for compute API versions 2.2 and\n2.10, keypair `type` and `user_id` respectively.\n\nStory: 2007929\nChange-Id: I3e5e6411ad9bc7da97901c3778b8f4e2ec121102\n'}, {'number': 5, 'created': '2020-07-16 15:33:49.000000000', 'files': ['openstack/compute/v2/keypair.py', 'openstack/tests/functional/compute/v2/test_keypair.py', 'openstack/tests/unit/cloud/test_keypair.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1876eba47af2048970719fd51d86e30b6ecf9db8', 'message': 'Add tests for compute microversion 2.2 and 2.10\n\nThis patch adds functional testing for compute API versions 2.2 and\n2.10, keypair `type` and `user_id` respectively.\n\nStory: 2007929\nChange-Id: I3e5e6411ad9bc7da97901c3778b8f4e2ec121102\n'}]",0,741295,1876eba47af2048970719fd51d86e30b6ecf9db8,14,5,5,8864,,,0,"Add tests for compute microversion 2.2 and 2.10

This patch adds functional testing for compute API versions 2.2 and
2.10, keypair `type` and `user_id` respectively.

Story: 2007929
Change-Id: I3e5e6411ad9bc7da97901c3778b8f4e2ec121102
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/741295/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/keypair.py', 'openstack/tests/functional/compute/v2/test_keypair.py']",2,7963812ab66e5799f6c6837600a20590ef3f5a01,story/2007929," sot = self.conn.compute.create_keypair(name=self.NAME, type='ssh', user_id='fake-uuid')", sot = self.conn.compute.create_keypair(name=self.NAME),5,1
openstack%2Fvalidations-libs~master~I4bd25ed50091a963d0b1e5e3a727ece19b90747e,openstack/validations-libs,master,I4bd25ed50091a963d0b1e5e3a727ece19b90747e,Allow to set python interper for ansible execution,MERGED,2020-09-03 09:10:30.000000000,2020-09-03 21:00:48.000000000,2020-09-03 21:00:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-09-03 09:10:30.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1ac91f1f3115378a9cc7a6f94f06d1db20689aba', 'message': 'Allow to set python interper for ansible execution\n\nSome environment still use python2.7 and so /usr/bin/python\ninterpreter for ansible.\nIn that case, Ansible will fail to execute.\nThis option allow the user to pass a specific python interpeter\nfor the remote.\nIn None python_interpreter, and connection local is set we use\nthe local sys.executable, if both are None we use the default.\n\nChange-Id: I4bd25ed50091a963d0b1e5e3a727ece19b90747e\n'}]",0,749683,1ac91f1f3115378a9cc7a6f94f06d1db20689aba,8,6,1,16515,,,0,"Allow to set python interper for ansible execution

Some environment still use python2.7 and so /usr/bin/python
interpreter for ansible.
In that case, Ansible will fail to execute.
This option allow the user to pass a specific python interpeter
for the remote.
In None python_interpreter, and connection local is set we use
the local sys.executable, if both are None we use the default.

Change-Id: I4bd25ed50091a963d0b1e5e3a727ece19b90747e
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/83/749683/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/ansible.py']",2,1ac91f1f3115378a9cc7a6f94f06d1db20689aba,ansible/interpreter," callback_whitelist, base_dir, python_interpreter): if python_interpreter: env['ANSIBLE_PYTHON_INTERPRETER'] = python_interpreter elif connection == 'local': log_path=None, run_async=False, python_interpreter=None): callback_whitelist, base_dir, python_interpreter)"," callback_whitelist, base_dir): if connection == 'local': log_path=None, run_async=False): callback_whitelist, base_dir)",10,6
openstack%2Ftripleo-heat-templates~master~If5730dba4973a5927c84565b6a65398ea1d7072f,openstack/tripleo-heat-templates,master,If5730dba4973a5927c84565b6a65398ea1d7072f,pcs commands on host: manila-share,MERGED,2020-02-18 11:33:45.000000000,2020-09-03 21:00:43.000000000,2020-09-03 21:00:43.000000000,"[{'_account_id': 3153}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 11:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d6974dde192ed0c8f93a996639137d241a5e569', 'message': 'WIP pcs commands on host: manila-share\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 2, 'created': '2020-02-19 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/188c46c4e67fb516643c7d6fa2fca208cbca90f5', 'message': 'WIP pcs commands on host: manila-share\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 3, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/651d659eb7d1f3befa0539e53a4ce8e412443e7c', 'message': 'WIP pcs commands on host: manila-share\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 4, 'created': '2020-05-01 11:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e406bca7677c770a6be56c6d4a82917df2ed4a3', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 5, 'created': '2020-05-01 11:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e33a6b47c5b416b39626d3d0da73c991eedd6f6e', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 6, 'created': '2020-05-01 16:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/828652528dcfd72eadfcad30cb030082cbe70986', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 7, 'created': '2020-05-01 16:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2676cd584c23b5a6a9d7973af81ffe59d9c73d65', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 8, 'created': '2020-05-05 06:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac73677d121ec465bd6f48a699456306f9c095ad', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 9, 'created': '2020-05-10 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2062ba4e091869ff4cc0e8d6a761bf0c5128674', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 10, 'created': '2020-05-15 08:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80b96931e3463118ca926896a85c06903073b89b', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 11, 'created': '2020-05-18 09:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c001b2416f41a7c4437c3030987759af118402b9', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 12, 'created': '2020-05-18 09:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c9508bbab23318a1214791579cd318e79597c5c', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 13, 'created': '2020-05-19 11:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ea3b3f72c0154c41daaaa34d3d8ea68bd1e2d1d', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 14, 'created': '2020-05-19 18:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da604eed402d869dd6b1d4ec94849020abd84393', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 15, 'created': '2020-05-19 20:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2388906ce79a6b73c3cf97cadc358e1cdb9e35cc', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 16, 'created': '2020-05-20 10:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e80ef2c5953aee51b6ae966c649ed6152317897', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 17, 'created': '2020-05-20 13:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4fe0e2225b11ebdbabe5cf47c5498d5d877c2be', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 18, 'created': '2020-05-21 04:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bae90c716751ab68ff987c221cebd441a53eb036', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 19, 'created': '2020-05-25 07:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/798500e5220b6287f279e045f4ca731964f0f733', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 20, 'created': '2020-05-26 20:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b6b7a914a1b492cb67520914a74cdb3e51ce866', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 21, 'created': '2020-06-15 08:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ea34ba9f81a051ace3370eb96af0281ec35a844', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 22, 'created': '2020-06-16 13:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84852a52a0d9560e0a4a12ad71c1b4c9c3531075', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 23, 'created': '2020-06-22 06:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0191d6adc2a98dce792d802725ee8ad07027c8f', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 24, 'created': '2020-06-29 06:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b99ee758aef1469131e242cc94dd8ff7d490f46e', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 25, 'created': '2020-07-02 06:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b8929509fb3b16d65fcc71e83a82f799dee39ac', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 26, 'created': '2020-07-04 07:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5581c7cc2dbd9e2a2c9fb1f655cbb3f0295ac4c9', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 27, 'created': '2020-07-13 09:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/918f93a1b0dacebc34cacecb17de794ad0004d55', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 28, 'created': '2020-07-19 08:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8469f672096182e3645a637753f2ff8192fcd93e', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 29, 'created': '2020-08-11 13:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fc1b4cbaeaef9f2c268802f459aa648d6643d2c', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 30, 'created': '2020-08-19 13:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1972577c2ac19d01e673db6f5a0011fdb857e1cf', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 31, 'created': '2020-08-25 10:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/edc036f6589a7f47aa00228dc7e2a4f40aeeb353', 'message': 'WIP pcs commands on host: manila-share\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 32, 'created': '2020-08-25 18:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6effc48f7f7205f1eb9f87e3b74d8d97ccafc332', 'message': 'pcs commands on host: manila-share\n\nThis implements the creation of the manila-share bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 33, 'created': '2020-08-28 18:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0398d85da86343d9af3e0d67a20828249bc28b95', 'message': 'pcs commands on host: manila-share\n\nThis implements the creation of the manila-share bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 34, 'created': '2020-09-01 17:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e488d4db50599c0b075859f925fd07520941d2e1', 'message': 'pcs commands on host: manila-share\n\nThis implements the creation of the manila-share bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}, {'number': 35, 'created': '2020-09-03 00:31:32.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1bee391361cde4345c2b78770865dab0278785e', 'message': 'pcs commands on host: manila-share\n\nThis implements the creation of the manila-share bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: If5730dba4973a5927c84565b6a65398ea1d7072f\nRelated-Bug: #1863442\n'}]",0,708357,a1bee391361cde4345c2b78770865dab0278785e,129,6,35,20172,,,0,"pcs commands on host: manila-share

This implements the creation of the manila-share bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: If5730dba4973a5927c84565b6a65398ea1d7072f
Related-Bug: #1863442
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/708357/33 && git format-patch -1 --stdout FETCH_HEAD,['deployment/manila/manila-share-pacemaker-puppet.yaml'],1,5d6974dde192ed0c8f93a996639137d241a5e569,pcs_host3," - name: manila-share init bundle when: step|int == 5 shell: | set +e puppet apply {{ puppet_debug }} --detailed-exitcodes --summarize --color=false \ --modulepath '{{ puppet_modulepath }}' --tags '{{ puppet_tags }}' -e '{{ puppet_execute }}' rc=$? set -e set +ux if [ $rc -eq 2 -o $rc -eq 0 ]; then exit 0 fi exit $rc vars: puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::manila::share_bundle' puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' puppet_modulepath: /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules puppet_debug: if: - puppet_debug_enabled - '--debug --verbose' - '' - name: Manila-share restart bundle when: step|int == 5 environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh manila_share openstack-manila-share openstack-manila-share _ Started"," step_5: manila_share_init_bundle: start_order: 0 detach: false net: host ipc: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '5' - 'pacemaker_constraint,file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::constraint::location' - 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::manila::share_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerManilaShareImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} manila_share_restart_bundle: start_order: 1 config_volume: manila detach: false net: host ipc: host user: root environment: TRIPLEO_MINOR_UPDATE: '' command: /pacemaker_restart_bundle.sh manila_share openstack-manila-share openstack-manila-share _ Started image: {get_param: ContainerManilaShareImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/manila:/var/lib/kolla/config_files/src:ro",27,44
openstack%2Fironic-python-agent~stable%2Fussuri~I7e2d93ef566f4f2beb54caf445c7810a01aec1de,openstack/ironic-python-agent,stable/ussuri,I7e2d93ef566f4f2beb54caf445c7810a01aec1de,Increase memory for tinyipa jobs,MERGED,2020-08-24 07:38:44.000000000,2020-09-03 20:54:27.000000000,2020-09-03 20:42:42.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-24 07:38:44.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a6f96ebef756bca7605633b2a736d78f37e4c11b', 'message': 'Increase memory for tinyipa jobs\n\nTinyipa is not that tiny anymore and we need to increase the base\nmemory for VMs in jobs that use it.\n\nChange-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de\n(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)\n'}]",0,747634,a6f96ebef756bca7605633b2a736d78f37e4c11b,17,5,1,23851,,,0,"Increase memory for tinyipa jobs

Tinyipa is not that tiny anymore and we need to increase the base
memory for VMs in jobs that use it.

Change-Id: I7e2d93ef566f4f2beb54caf445c7810a01aec1de
(cherry picked from commit 2a5ba7ef68db8b09a62e36943be75ef29c62ef54)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/34/747634/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,a6f96ebef756bca7605633b2a736d78f37e4c11b,, IRONIC_VM_SPECS_RAM: 512, IRONIC_VM_SPECS_RAM: 384,1,1
openstack%2Ftripleo-heat-templates~master~I93ee204a526422f113a88b99531583e3cf769382,openstack/tripleo-heat-templates,master,I93ee204a526422f113a88b99531583e3cf769382,Replace all the bridge_name variables in templates,MERGED,2020-03-20 12:34:08.000000000,2020-09-03 20:10:33.000000000,2020-03-21 04:05:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-20 12:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/559986d95e112e7a1fb1f33207a6857d5f74837d', 'message': 'Replace all the bridge_name variables in templates\n\nThe bridge_name might be used for multiple times, for example,\nin different vlan configurations. All of them should be replaced with\nthe actual ${bridge_name} variable.\n\nChange-Id: I93ee204a526422f113a88b99531583e3cf769382\nCloses-Bug: #1866393\n'}, {'number': 2, 'created': '2020-03-20 15:31:55.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47ca83280cef1ee6756161176ad3aea8060bb08d', 'message': 'Replace all the bridge_name variables in templates\n\nThe bridge_name might be used for multiple times, for example,\nin different vlan configurations. All of them should be replaced with\nthe actual ${bridge_name} variable.\n\nChange-Id: I93ee204a526422f113a88b99531583e3cf769382\nCloses-Bug: #1866393\n'}]",0,714102,47ca83280cef1ee6756161176ad3aea8060bb08d,12,5,2,31695,,,0,"Replace all the bridge_name variables in templates

The bridge_name might be used for multiple times, for example,
in different vlan configurations. All of them should be replaced with
the actual ${bridge_name} variable.

Change-Id: I93ee204a526422f113a88b99531583e3cf769382
Closes-Bug: #1866393
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/714102/2 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,559986d95e112e7a1fb1f33207a6857d5f74837d,bug/1866393," sed -i ""s/: \""bridge_name/: \""${bridge_name:-''}/s"" /etc/os-net-config/config.json sed -i ""s/interface_name/${interface_name:-''}/s"" /etc/os-net-config/config.json"," sed -i ""s/: \""bridge_name/: \""${bridge_name:-''}/"" /etc/os-net-config/config.json sed -i ""s/interface_name/${interface_name:-''}/"" /etc/os-net-config/config.json",2,2
openstack%2Freleases~master~Ia5039e9b36eab2594d574814d3e2b27d77218e20,openstack/releases,master,Ia5039e9b36eab2594d574814d3e2b27d77218e20,Release final os-ken for Victoria,ABANDONED,2020-09-03 16:51:28.000000000,2020-09-03 20:06:49.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:51:28.000000000', 'files': ['deliverables/victoria/os-ken.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f4cd07dbeab0977a8bb5f0ec9084594e5ba4c011', 'message': 'Release final os-ken for Victoria\n\nThis proposed a release for os-ken to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Ia5039e9b36eab2594d574814d3e2b27d77218e20\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749790,f4cd07dbeab0977a8bb5f0ec9084594e5ba4c011,3,3,1,11904,,,0,"Release final os-ken for Victoria

This proposed a release for os-ken to get any final merged changes
out prior to the lib freeze for Victoria going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, Sept 7.

Change-Id: Ia5039e9b36eab2594d574814d3e2b27d77218e20
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/749790/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-ken.yaml'],1,f4cd07dbeab0977a8bb5f0ec9084594e5ba4c011,victoria-lib-freeze, - version: 1.1.1 projects: - repo: openstack/os-ken hash: 0703a9238cca81b5041b365a824c968fd5974a73 branches: - name: stable/victoria location: 1.1.1,,7,0
openstack%2Freleases~master~I61216f1bc1d5b510a33246aba1ff5bfc826246cf,openstack/releases,master,I61216f1bc1d5b510a33246aba1ff5bfc826246cf,Release final neutron-lib for Victoria,ABANDONED,2020-09-03 16:50:26.000000000,2020-09-03 20:06:46.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:50:26.000000000', 'files': ['deliverables/victoria/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/72dfd57707a68308f8eb1c37c6204e6af1c14933', 'message': 'Release final neutron-lib for Victoria\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: I61216f1bc1d5b510a33246aba1ff5bfc826246cf\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749788,72dfd57707a68308f8eb1c37c6204e6af1c14933,3,3,1,11904,,,0,"Release final neutron-lib for Victoria

This proposed a release for neutron-lib to get any final merged changes
out prior to the lib freeze for Victoria going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, Sept 7.

Change-Id: I61216f1bc1d5b510a33246aba1ff5bfc826246cf
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/749788/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/neutron-lib.yaml'],1,72dfd57707a68308f8eb1c37c6204e6af1c14933,victoria-lib-freeze, - version: 2.6.0 projects: - repo: openstack/neutron-lib hash: 91869ee39a130dd288bf3ba90491490d18262489 branches: - name: stable/victoria location: 2.6.0,,7,0
openstack%2Freleases~master~Ie076cb167b14ac23b3843d632a288d7147386bf9,openstack/releases,master,Ie076cb167b14ac23b3843d632a288d7147386bf9,Release final ovsdbapp for Victoria,ABANDONED,2020-09-03 16:54:19.000000000,2020-09-03 20:06:43.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 16:54:19.000000000', 'files': ['deliverables/victoria/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6e99074fd93b0d2b780acfd626c76dbf888d3ca1', 'message': 'Release final ovsdbapp for Victoria\n\nThis proposed a release for ovsdbapp to get any final merged changes\nout prior to the lib freeze for Victoria going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, Sept 7.\n\nChange-Id: Ie076cb167b14ac23b3843d632a288d7147386bf9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,749792,6e99074fd93b0d2b780acfd626c76dbf888d3ca1,3,3,1,11904,,,0,"Release final ovsdbapp for Victoria

This proposed a release for ovsdbapp to get any final merged changes
out prior to the lib freeze for Victoria going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, Sept 7.

Change-Id: Ie076cb167b14ac23b3843d632a288d7147386bf9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/749792/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ovsdbapp.yaml'],1,6e99074fd93b0d2b780acfd626c76dbf888d3ca1,victoria-lib-freeze, - version: 1.5.0 projects: - repo: openstack/ovsdbapp hash: 051940c8dc126d7143e98402f1fa3e7c6c69388c branches: - name: stable/victoria location: 1.5.0,,7,0
openstack%2Fnova~master~I07509c67c65e988fe5149b625007e90e68488cfd,openstack/nova,master,I07509c67c65e988fe5149b625007e90e68488cfd,Adapt the admin guide to describe the direct RBD export,MERGED,2020-05-15 10:22:47.000000000,2020-09-03 20:01:07.000000000,2020-09-03 19:57:58.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-05-15 10:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/174d9103a74b8c6e9731836c74af14063e322032', 'message': 'Adapt the admin guide to describe the direct RBD export\n\nThis documents how to set up nova and glance so the feature\nfor direct download from Ceph can be used.\n\nChange-Id: I07509c67c65e988fe5149b625007e90e68488cfd\n'}, {'number': 2, 'created': '2020-05-15 13:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15ee7a446a9c0d8d0517633efc644be40e58017b', 'message': 'Adapt the admin guide to describe the direct RBD export\n\nThis documents how to set up nova and glance so the feature\nfor direct download from Ceph can be used.\n\nChange-Id: I07509c67c65e988fe5149b625007e90e68488cfd\n'}, {'number': 3, 'created': '2020-05-19 07:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d33eb4e8258750b0ef3066f60685b35e2b13e9e7', 'message': 'Adapt the admin guide to describe the direct RBD export\n\nThis documents how to set up nova and glance so the feature\nfor direct download from Ceph can be used.\n\nChange-Id: I07509c67c65e988fe5149b625007e90e68488cfd\n'}, {'number': 4, 'created': '2020-09-03 10:31:04.000000000', 'files': ['doc/source/admin/configuration/hypervisor-kvm.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a33f455ec74f7087bf28cc74512e0608a166a9ea', 'message': 'Adapt the admin guide to describe the direct RBD export\n\nThis documents how to set up nova and glance so the feature\nfor direct download from Ceph can be used.\n\nChange-Id: I07509c67c65e988fe5149b625007e90e68488cfd\n'}]",17,728411,a33f455ec74f7087bf28cc74512e0608a166a9ea,37,10,4,9963,,,0,"Adapt the admin guide to describe the direct RBD export

This documents how to set up nova and glance so the feature
for direct download from Ceph can be used.

Change-Id: I07509c67c65e988fe5149b625007e90e68488cfd
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/728411/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisor-kvm.rst'],1,174d9103a74b8c6e9731836c74af14063e322032,bp/nova-image-download-via-rbd,"Direct download of images from Ceph ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When the Glance image service is set up with Ceph backend, it is possible to configure the way images are downloaded into the compute node's local libvirt cache. With following configuration, images are downloaded using direct RBD export command instead of using Glance HTTP API. In some situations, especially for very large images, this could be substantially faster and can speed up the whole spin of the virtual machines. On the Glance API node in glance-api.conf: .. code-block:: ini [DEFAULT] show_image_direct_url=true On the Nova compute node in nova.conf: .. code-block:: ini [DEFAULT] force_raw_images=false [libvirt] images_type=qcow2 images_rbd_pool=<ceph_pool_name> images_rbd_ceph_conf=<ceph_config_file> rbd_user=<ceph_user_name> [glance] glance.allowed_direct_url_schemes = rbd ",,33,0
openstack%2Ftripleo-ansible~stable%2Ftrain~If836759020bcaeb0d3af47f2af7f98ff2150b606,openstack/tripleo-ansible,stable/train,If836759020bcaeb0d3af47f2af7f98ff2150b606,Stop relying on future mtime in tripleo_nova_image_cache,MERGED,2020-09-02 18:14:39.000000000,2020-09-03 19:59:57.000000000,2020-09-03 19:59:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 18:14:39.000000000', 'files': ['tripleo_ansible/roles/tripleo-nova-image-cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d21542f40036b077b98b595b1d2fddc3ac406ee', 'message': ""Stop relying on future mtime in tripleo_nova_image_cache\n\nThe tripleo_nova_image_cache role was relying on a future mtime to convince\nnova image cleanup logic to skip a specific image that we want to pre-cache.\nThis works well on nodes that are not currently hosting an instance of the\nimage, however if there is an instance using it then nova will reset the mtime\nevery 40 minutes (by default).\n\nAs a result it's not possible to provide fine grained control of the caching.\nWe can just ensure the image exists on the host with an mtime of now.\nIt should remain cache for at least remove_unused_original_minimum_age_seconds\nfrom nova.conf (default 86400).\n\nChange-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606\n(cherry picked from commit 359ef43f944618ddcd2ae07c7d321a4d53cb9015)\n(cherry picked from commit 4757aa350017b1714d24517eeb2e92320ead5ae4)\n""}]",0,749569,1d21542f40036b077b98b595b1d2fddc3ac406ee,7,5,1,23811,,,0,"Stop relying on future mtime in tripleo_nova_image_cache

The tripleo_nova_image_cache role was relying on a future mtime to convince
nova image cleanup logic to skip a specific image that we want to pre-cache.
This works well on nodes that are not currently hosting an instance of the
image, however if there is an instance using it then nova will reset the mtime
every 40 minutes (by default).

As a result it's not possible to provide fine grained control of the caching.
We can just ensure the image exists on the host with an mtime of now.
It should remain cache for at least remove_unused_original_minimum_age_seconds
from nova.conf (default 86400).

Change-Id: If836759020bcaeb0d3af47f2af7f98ff2150b606
(cherry picked from commit 359ef43f944618ddcd2ae07c7d321a4d53cb9015)
(cherry picked from commit 4757aa350017b1714d24517eeb2e92320ead5ae4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/749569/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-nova-image-cache/tasks/uncache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/cache.yml', 'tripleo_ansible/roles/tripleo-nova-image-cache/tasks/main.yml', 'tripleo_ansible/playbooks/tripleo_nova_image_cache.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py']",5,1d21542f40036b077b98b595b1d2fddc3ac406ee,nova_cache,"- name: Cache image if not exists_in_cache: if not exists_in_glance: module.fail_json( msg=""Image not found in glance: %s"" % image_id) md5 = hashlib.md5() if prefetched_path: result['actions'].append({ 'name': 'Verify pre-fetched image checksum' }) with open(prefetched_path, 'rb') as prefetched_image_file: while True: chunk = prefetched_image_file.read(chunk_size) if not chunk: break md5.update(chunk) prefetched_checksum = md5.hexdigest() if prefetched_checksum == image.checksum: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(prefetched_path, 42436, 42436) os.rename(prefetched_path, cache_file) result['changed'] = True else: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) if not scp_continue: module.fail_json( msg=""Pre-fetched image checksum failed"") # Ignore it and download direct from glance. # As we did not create it we should not remove it. prefetched_path = '' if not prefetched_path: with tempfile.NamedTemporaryFile( 'wb', dir=cache_dir, delete=False) as temp_cache_file: try: md5 = hashlib.md5() image_stream = cloud.image.download_image( image, stream=True ) try: for chunk in image_stream.iter_content( chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() download_checksum = md5.hexdigest() if download_checksum != image.checksum: 'result': False, module.fail_json( msg=""Image data does not match checksum"") result['actions'].append({ 'name': 'Verify downloaded image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': download_checksum }) # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['changed'] = True finally: try: os.unlink(temp_cache_file.name) except Exception: pass # Always set the mtime to now but don't report this as a change # as this is constantly refreshed by nova (every 40mins by default) # while an instance on the host is using the image now = time.time() os.utime(cache_file, (now, now)) result['mtime'] = now"," ttl: description: - Ensure the image remains cached for at least ttl days default: 7 state: description: - Whether the image be present in cache or expired (nova should delete it later if it is no longer used) choices: [present, expired] default: present- name: Cache image for at least 2 weeks ttl: 14 - name: Allow nova to cleanup this image from cache tripleo_nova_image_cache: id: ec151bd1-aab4-413c-b577-ced089e7d3f8 state: expired ttl: 14def ttl_to_ts(ttl_days): """"""Return a timestamp at midnight UTC ttl_days in the future"""""" epoch = datetime.datetime.utcfromtimestamp(0) midnight_today = datetime.datetime.utcnow().replace( hour=0, minute=0, second=0, microsecond=0) expiry = midnight_today + datetime.timedelta(days=ttl_days+1) return (expiry - epoch).total_seconds() ttl=dict(default=7, type='int', min=1), state=dict(default='present', choices=['expired', 'present']), ttl_days = module.params['ttl'] if module.params['state'] == 'present': if not exists_in_cache: if not exists_in_glance: module.fail_json( msg=""Image not found in glance: %s"" % image_id) md5 = hashlib.md5() if prefetched_path: result['actions'].append({ 'name': 'Verify pre-fetched image checksum' with open(prefetched_path, 'rb') as prefetched_image_file: while True: chunk = prefetched_image_file.read(chunk_size) if not chunk: break md5.update(chunk) prefetched_checksum = md5.hexdigest() if prefetched_checksum == image.checksum: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': True, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(prefetched_path, 42436, 42436) os.rename(prefetched_path, cache_file) else: result['actions'].append({ 'name': 'Verify pre-fetched image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': prefetched_checksum }) if not scp_continue: module.fail_json( msg=""Pre-fetched image checksum failed"") # Ignore it and download direct from glance. # As we did not create it we should not remove it. prefetched_path = '' if not prefetched_path: with tempfile.NamedTemporaryFile( 'wb', dir=cache_dir, delete=False) as temp_cache_file: try: md5 = hashlib.md5() image_stream = cloud.image.download_image( image, stream=True ) try: for chunk in image_stream.iter_content( chunk_size=chunk_size): md5.update(chunk) temp_cache_file.write(chunk) finally: image_stream.close() temp_cache_file.close() download_checksum = md5.hexdigest() if download_checksum != image.checksum: result['actions'].append({ 'name': 'Verify downloaded image', 'result': False, 'expected_md5': image.checksum, 'actual_md5': download_checksum }) module.fail_json( msg=""Image data does not match checksum"") 'result': True, # FIXME: chown to the container nova uid (42436) # until we can run within the container os.chown(temp_cache_file.name, 42436, 42436) os.rename(temp_cache_file.name, cache_file) result['changed'] = True finally: try: os.unlink(temp_cache_file.name) except Exception: pass # Set the mtime in the future to prevent nova cleanup cache_file_stat = os.stat(cache_file) expiry_ts = ttl_to_ts(ttl_days) now = time.time() if cache_file_stat.st_mtime != expiry_ts: os.utime(cache_file, (now, expiry_ts)) result['actions'].append({ 'name': 'Update mtime', 'from': cache_file_stat.st_mtime, 'to': expiry_ts }) result['changed'] = True else: # expired if not exists_in_cache: result['changed'] = False else: # Set the mtime to epoch to enable nova cleanup now = time.time() ts = 0 cache_file_stat = os.stat(cache_file) if cache_file_stat.st_mtime > ts: os.utime(cache_file, (now, ts)) result['actions'].append({ 'name': 'Update mtime', 'from': cache_file_stat.st_mtime, 'to': ts }) result['changed'] = True cache_file_stat = os.stat(cache_file) result['mtime'] = cache_file_stat.st_mtime result['expires'] = time.strftime( ""%a, %d %b %Y %H:%M:%S %z"", time.localtime(cache_file_stat.st_mtime) )",86,182
openstack%2Ftripleo-ansible~stable%2Ftrain~I57dc24b8450f900ac1fb4e4c2f420f104618c609,openstack/tripleo-ansible,stable/train,I57dc24b8450f900ac1fb4e4c2f420f104618c609,Workaround tripleo_nova_cache issue in ansible 2.9.11,MERGED,2020-09-02 18:14:39.000000000,2020-09-03 19:49:37.000000000,2020-09-03 19:49:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 18:14:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e09c0af2d38cb61c3eac12c9cc522aa312cd597', 'message': 'Workaround tripleo_nova_cache issue in ansible 2.9.11\n\nhttps://github.com/ansible/ansible/commit/99a37234b7393fd1d70e03c4687dad809c12a670\nchanges the core action plugin to assume task_vars has ansible_facts and\nansible_delegated_vars keys when interpreter discovery is triggered.\n\nThe tripleo_nova_cache action plugin passes custom task_vars dicts via\nself._exec_module that do not contain these keys.\n\nThis looks like a regression in ansible.\nWorkaround it for now while I take the issue upstream.\n\nChange-Id: I57dc24b8450f900ac1fb4e4c2f420f104618c609\n(cherry picked from commit f38b4c97b9feeecaaf9071549a8d74023005563b)\n(cherry picked from commit 65ce4779887be675aa12d5f551a1371f57d45fa0)\n'}]",0,749568,0e09c0af2d38cb61c3eac12c9cc522aa312cd597,7,5,1,23811,,,0,"Workaround tripleo_nova_cache issue in ansible 2.9.11

https://github.com/ansible/ansible/commit/99a37234b7393fd1d70e03c4687dad809c12a670
changes the core action plugin to assume task_vars has ansible_facts and
ansible_delegated_vars keys when interpreter discovery is triggered.

The tripleo_nova_cache action plugin passes custom task_vars dicts via
self._exec_module that do not contain these keys.

This looks like a regression in ansible.
Workaround it for now while I take the issue upstream.

Change-Id: I57dc24b8450f900ac1fb4e4c2f420f104618c609
(cherry picked from commit f38b4c97b9feeecaaf9071549a8d74023005563b)
(cherry picked from commit 65ce4779887be675aa12d5f551a1371f57d45fa0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/749568/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_nova_image_cache.py'],1,0e09c0af2d38cb61c3eac12c9cc522aa312cd597,nova_cache," command_task_vars = { 'become': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) } command_task_vars = { 'become': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) } command_task_vars = { 'become': True, 'ignore_errors': True, 'ansible_facts': task_vars.get('ansible_facts', {}), 'ansible_delegated_vars': task_vars.get('ansible_delegated_vars', {}) }"," command_task_vars = {'become': True} command_task_vars = {'become': True} command_task_vars = {'become': True, 'ignore_errors': True}",16,3
openstack%2Fpython-cinderclient~master~Ibd1b5f8259ec174b2bbb233b270f0e09daa67bc2,openstack/python-cinderclient,master,Ibd1b5f8259ec174b2bbb233b270f0e09daa67bc2,Remove excess whitespace in ignore-path,MERGED,2020-09-03 15:54:45.000000000,2020-09-03 19:25:19.000000000,2020-09-03 19:14:25.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 15:54:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9dc1d61d3276d32b455340559ed574de27e29040', 'message': 'Remove excess whitespace in ignore-path\n\nSome extra whitespace is present in the ignore-path in the [doc8]\ntestenv, so remove it.\n\nChange-Id: Ibd1b5f8259ec174b2bbb233b270f0e09daa67bc2\n'}]",0,749771,9dc1d61d3276d32b455340559ed574de27e29040,7,2,1,5314,,,0,"Remove excess whitespace in ignore-path

Some extra whitespace is present in the ignore-path in the [doc8]
testenv, so remove it.

Change-Id: Ibd1b5f8259ec174b2bbb233b270f0e09daa67bc2
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/71/749771/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9dc1d61d3276d32b455340559ed574de27e29040,doc8-whitespace,"ignore-path=.tox,*.egg-info,doc/src/api,doc/source/drivers.rst,doc/build,.eggs/*/EGG-INFO/*.txt,doc/source/configuration/tables,./*.txt,releasenotes/build,doc/source/cli/details.rst","ignore-path=.tox,*.egg-info,doc/src/api,doc/source/drivers.rst,doc/build,.eggs/*/EGG-INFO/*.txt,doc/so urce/configuration/tables,./*.txt,releasenotes/build,doc/source/cli/details.rst",1,1
openstack%2Fsahara-image-elements~stable%2Frocky~I7accc23d6e91ff4a525c31616033f76c07dec21e,openstack/sahara-image-elements,stable/rocky,I7accc23d6e91ff4a525c31616033f76c07dec21e,Fix URL of Maven Central Repository,MERGED,2020-09-03 17:13:37.000000000,2020-09-03 19:04:57.000000000,2020-09-03 19:04:56.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-09-03 17:13:37.000000000', 'files': ['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/9cacac6d505bfcf2c8c02e5dcb64991b6c1cd469', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)\n(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)\n(cherry picked from commit b60f08f7599a2e01c84ca3e3958021804a50ea7c)\n(cherry picked from commit 04810f9523f6201cb7f806ebecb2ba8e22c4467a)\n'}]",18,749799,9cacac6d505bfcf2c8c02e5dcb64991b6c1cd469,7,3,1,10459,,,0,"Fix URL of Maven Central Repository

Change-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e
Story: 2007996
Task: 40639
(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)
(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)
(cherry picked from commit b60f08f7599a2e01c84ca3e3958021804a50ea7c)
(cherry picked from commit 04810f9523f6201cb7f806ebecb2ba8e22c4467a)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/99/749799/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes']",2,9cacac6d505bfcf2c8c02e5dcb64991b6c1cd469,, wget https://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;, wget http://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;,5,5
openstack%2Fironic-python-agent~master~Ib7decae410915f3c27b045ee08538c94d455b030,openstack/ironic-python-agent,master,Ib7decae410915f3c27b045ee08538c94d455b030,"If listen_tls is true, enable TLS on wsgi server",MERGED,2020-08-20 14:50:31.000000000,2020-09-03 19:02:55.000000000,2020-09-03 18:59:48.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32349}]","[{'number': 1, 'created': '2020-08-20 14:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4674ed18ab0da5790d31d2a5b5fbd4109a8fb366', 'message': 'If listen_host is true, enable TLS on wsgi server\n\nThis change enables operators to configure IPA with static cert/key\nfiles in order to host the API over TLS.\n\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 2, 'created': '2020-08-20 21:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1d90a7bb98e6f858617c1b27e319093550c4ad00', 'message': 'If listen_ssl is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_ssl to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nDepends-On: Ibcde99de64bb7e95d5df63a42a4ca4999f0c4c9b\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 3, 'created': '2020-08-21 15:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b3f98cf241ef57dd9fc6b3262fadbeb701d907fb', 'message': 'If listen_ssl is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_ssl to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nDepends-On: Ibcde99de64bb7e95d5df63a42a4ca4999f0c4c9b\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 4, 'created': '2020-08-21 19:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/664eab744e39d7602313cd07dbbc52dd0a044417', 'message': 'If listen_ssl is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_ssl to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nDepends-On: https://review.opendev.org/#/c/746774/\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 5, 'created': '2020-08-24 22:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7440fc7e77177df5608e0b5eb824e5972e32abb0', 'message': 'If listen_tls is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_tls to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nDepends-On: https://review.opendev.org/#/c/746774/\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 6, 'created': '2020-08-28 22:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/890f7ddd8291a68e21b5b3874a9f4b120c019bee', 'message': 'If listen_tls is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_tls to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nIn order to make this change work, we also need to monkey patch\nsocket library early, or else oslo.service will end up passing an\nunpatched socket to the eventlet wsgi server, which causes\ndeadlocks.\n\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 7, 'created': '2020-08-31 13:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f1e8cf37de8bfa75efbcba8c941e4d3f77d6969c', 'message': 'If listen_tls is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_tls to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nIn order to make this change work, we also need to monkey patch\nsocket library early, or else oslo.service will end up passing an\nunpatched socket to the eventlet wsgi server, which causes\ndeadlocks.\n\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 8, 'created': '2020-08-31 13:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e3bb2df848459b40b05643af4938981f2b16b386', 'message': 'If listen_tls is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_tls to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nIn order to make this change work, we also need to monkey patch\nsocket library early, or else oslo.service will end up passing an\nunpatched socket to the eventlet wsgi server, which causes\ndeadlocks.\n\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 9, 'created': '2020-09-02 20:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f2fe3de21f3e346547a57ec39c626ec0ec877497', 'message': 'If listen_tls is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_tls to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nIn order to make this change work, we also need to monkey patch\nsocket library early, or else oslo.service will end up passing an\nunpatched socket to the eventlet wsgi server, which causes\ndeadlocks.\n\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}, {'number': 10, 'created': '2020-09-02 23:07:55.000000000', 'files': ['releasenotes/notes/add-optional-tls-support-3ab6a834154fedec.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/api/app.py', 'ironic_python_agent/__init__.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1d11f0b7dd9d2044cc8fce3b20f5851a4e6a94a8', 'message': 'If listen_tls is true, enable TLS on wsgi server\n\nThis change enables operators to set [DEFAULT]listen_tls to\ntrue configure IPA to be host its WSGI server over TLS using\nexisting SSL support in oslo.service.\n\nIn addition to configuring this in IPA, a deployer will need to\nalso set [ssl]cert_file, [ssl]key_file, and optionally\n[ssl]ca_file in their ipa config, in addition to embedding those\nfiles into the IPA ramdisk in order for this to be functional.\n\nIn order to make this change work, we also need to monkey patch\nsocket library early, or else oslo.service will end up passing an\nunpatched socket to the eventlet wsgi server, which causes\ndeadlocks.\n\nChange-Id: Ib7decae410915f3c27b045ee08538c94d455b030\n'}]",10,747193,1d11f0b7dd9d2044cc8fce3b20f5851a4e6a94a8,58,7,10,10342,,,0,"If listen_tls is true, enable TLS on wsgi server

This change enables operators to set [DEFAULT]listen_tls to
true configure IPA to be host its WSGI server over TLS using
existing SSL support in oslo.service.

In addition to configuring this in IPA, a deployer will need to
also set [ssl]cert_file, [ssl]key_file, and optionally
[ssl]ca_file in their ipa config, in addition to embedding those
files into the IPA ramdisk in order for this to be functional.

In order to make this change work, we also need to monkey patch
socket library early, or else oslo.service will end up passing an
unpatched socket to the eventlet wsgi server, which causes
deadlocks.

Change-Id: Ib7decae410915f3c27b045ee08538c94d455b030
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/93/747193/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/config.py', 'ironic_python_agent/api/app.py']",2,4674ed18ab0da5790d31d2a5b5fbd4109a8fb366,TLSMockup," port=self.PORT, use_ssl=self._conf.listen_ssl)", port=self.PORT),14,1
openstack%2Fnova~stable%2Frocky~Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,openstack/nova,stable/rocky,Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration,MERGED,2020-08-25 15:06:29.000000000,2020-09-03 18:52:29.000000000,2020-09-03 15:15:47.000000000,"[{'_account_id': 4690}, {'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12356}, {'_account_id': 14595}, {'_account_id': 14892}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31321}]","[{'number': 1, 'created': '2020-08-25 15:06:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c438fd9a0eb1903306a53ab44e3ae80660d8a429', 'message': 'libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n\nThe VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt\nv1.3.4 and is used to provide the new persistent configuration for the\ndestination during a live migration:\n\nhttps://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML\n\nWithout this parameter the persistent configuration on the destination\nwill be the same as the original persistent configuration on the source\nwhen the VIR_MIGRATE_PERSIST_DEST flag is provided.\n\nAs Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML\nparam but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that\na soft reboot by Nova of the instance after a live migration can revert\nthe domain back to the original persistent configuration from the\nsource.\n\nNote that this is only possible in Nova as a soft reboot actually\nresults in the virDomainShutdown and virDomainLaunch libvirt APIs being\ncalled that recreate the domain using the persistent configuration.\nvirDomainReboot does not result in this but is not called at this time.\n\nThe impact of this on the instance after the soft reboot is pretty\nsevere, host devices referenced in the original persistent configuration\non the source may not exist or could even be used by other users on the\ndestination. CPU and NUMA affinity could also differ drastically between\nthe two hosts resulting in the instance being unable to start etc.\n\nAs MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the\nVIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the\ndestination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.\n\nNOTE(lyarwood): As this is no longer the case from stable/rocky the\nchange is slightly more involved introducing a persistent_xml_param\nkwarg that is used from _live_migration_operation within the driver\nbased on the availability of libvirt v1.3.4 on the source host.\n\nCo-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>\nCloses-Bug: #1890501\nChange-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98\n(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)\n(cherry picked from commit bbf9d1de06e9991acd968fceee899a8df3776d60)\n(cherry picked from commit 6a07edb4b29d8bfb5c86ed14263f7cd7525958c1)\n(cherry picked from commit b9ea91d17703f5b324a50727b6503ace0f4e95eb)\n'}]",4,747975,c438fd9a0eb1903306a53ab44e3ae80660d8a429,29,12,1,10135,,,0,"libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration

The VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt
v1.3.4 and is used to provide the new persistent configuration for the
destination during a live migration:

https://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML

Without this parameter the persistent configuration on the destination
will be the same as the original persistent configuration on the source
when the VIR_MIGRATE_PERSIST_DEST flag is provided.

As Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML
param but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that
a soft reboot by Nova of the instance after a live migration can revert
the domain back to the original persistent configuration from the
source.

Note that this is only possible in Nova as a soft reboot actually
results in the virDomainShutdown and virDomainLaunch libvirt APIs being
called that recreate the domain using the persistent configuration.
virDomainReboot does not result in this but is not called at this time.

The impact of this on the instance after the soft reboot is pretty
severe, host devices referenced in the original persistent configuration
on the source may not exist or could even be used by other users on the
destination. CPU and NUMA affinity could also differ drastically between
the two hosts resulting in the instance being unable to start etc.

As MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the
VIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the
destination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.

NOTE(lyarwood): As this is no longer the case from stable/rocky the
change is slightly more involved introducing a persistent_xml_param
kwarg that is used from _live_migration_operation within the driver
based on the availability of libvirt v1.3.4 on the source host.

Co-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>
Closes-Bug: #1890501
Change-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98
(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)
(cherry picked from commit bbf9d1de06e9991acd968fceee899a8df3776d60)
(cherry picked from commit 6a07edb4b29d8bfb5c86ed14263f7cd7525958c1)
(cherry picked from commit b9ea91d17703f5b324a50727b6503ace0f4e95eb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/747975/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,c438fd9a0eb1903306a53ab44e3ae80660d8a429,bug/1890501," @mock.patch.object(fakelibvirt.virDomain, ""migrateToURI3"") @mock.patch('nova.virt.libvirt.migration.get_updated_guest_xml') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_live_migration_persistent_xml( self, mock_get_version, mock_get_updated_xml, mock_migrateToURI3): """"""Assert that persistent_xml only provided when libvirt is >= v1.3.4 """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = self.test_instance dest = '127.0.0.1' block_migration = False migrate_data = objects.LibvirtLiveMigrateData( graphics_listen_addr_vnc='10.0.0.1', graphics_listen_addr_spice='10.0.0.2', serial_listen_addr='127.0.0.1', target_connect_addr='127.0.0.1', bdms=[], block_migration=block_migration) guest = libvirt_guest.Guest(fakelibvirt.virDomain) device_names = ['vda'] mock_get_updated_xml.return_value = mock.sentinel.dest_xml # persistent_xml was introduced in v1.3.4 so provide v1.3.3 v1_3_3 = versionutils.convert_version_to_int((1, 3, 3)) mock_get_version.return_value = v1_3_3 drvr._live_migration_operation( self.context, instance, dest, block_migration, migrate_data, guest, device_names) expected_uri = drvr._live_migration_uri(dest) expected_flags = 0 expected_params = { 'bandwidth': 0, 'destination_xml': mock.sentinel.dest_xml, 'migrate_disks': device_names, 'migrate_uri': 'tcp://127.0.0.1' } # Assert that migrateToURI3 is called without the persistent_xml param mock_get_version.assert_called() mock_migrateToURI3.assert_called_once_with( expected_uri, params=expected_params, flags=expected_flags) # reset mocks and try again with v1.3.4 mock_get_version.reset_mock() mock_migrateToURI3.reset_mock() # persistent_xml was introduced in v1.3.4 so provide it this time v1_3_4 = versionutils.convert_version_to_int((1, 3, 4)) mock_get_version.return_value = v1_3_4 drvr._live_migration_operation( self.context, instance, dest, block_migration, migrate_data, guest, device_names) expected_params = { 'bandwidth': 0, 'destination_xml': mock.sentinel.dest_xml, 'persistent_xml': mock.sentinel.dest_xml, 'migrate_disks': device_names, 'migrate_uri': 'tcp://127.0.0.1' } # Assert that migrateToURI3 is called with the persistent_xml param mock_get_version.assert_called() mock_migrateToURI3.assert_called_once_with( expected_uri, params=expected_params, flags=expected_flags) 'persistent_xml': target_xml, 'destination_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, @mock.patch('nova.virt.libvirt.migration.get_updated_guest_xml') mock_new_xml.return_value = mock.sentinel.new_xml 'destination_xml': mock.sentinel.new_xml, 'persistent_xml': mock.sentinel.new_xml, 'persistent_xml': '<xml/>', @mock.patch('nova.virt.libvirt.migration.get_updated_guest_xml') mock_new_xml.return_value = mock.sentinel.new_xml 'bandwidth': CONF.libvirt.live_migration_bandwidth, 'destination_xml': mock.sentinel.new_xml, 'persistent_xml': mock.sentinel.new_xml, 'persistent_xml': '<xml/>',"," 'destination_xml': target_xml @mock.patch('nova.virt.libvirt.migration.get_updated_guest_xml', return_value='') @mock.patch('nova.virt.libvirt.migration.get_updated_guest_xml', return_value='') 'bandwidth': CONF.libvirt.live_migration_bandwidth",105,9
openstack%2Fopenstackdocstheme~master~Iec959c9337776bb179927897b0d417e0a54d09ab,openstack/openstackdocstheme,master,Iec959c9337776bb179927897b0d417e0a54d09ab,Support StarlingX series selection,ABANDONED,2020-09-01 17:32:33.000000000,2020-09-03 18:40:25.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-01 17:32:33.000000000', 'files': ['openstackdocstheme/ext.py'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/d038f6822c735914a23bffc9d48c00d125ad56dd', 'message': 'Support StarlingX series selection\n\nThe StarlingX project is also using the Sphinx extension, and wants\nto take advantage of its series selection mechanism, but they name\ntheir release branches differently from how OpenStack does, and also\nwants them mangled in a slightly different way when publishing.\nUpdate the branch matching to include branch names like r/stx.4.0\nand mangle them to refer to series named like R4.0 instead.\n\nhttp://lists.starlingx.io/pipermail/starlingx-discuss/2020-August/009520.html\n\nChange-Id: Iec959c9337776bb179927897b0d417e0a54d09ab\n'}]",0,749369,d038f6822c735914a23bffc9d48c00d125ad56dd,7,3,1,5263,,,0,"Support StarlingX series selection

The StarlingX project is also using the Sphinx extension, and wants
to take advantage of its series selection mechanism, but they name
their release branches differently from how OpenStack does, and also
wants them mangled in a slightly different way when publishing.
Update the branch matching to include branch names like r/stx.4.0
and mangle them to refer to series named like R4.0 instead.

http://lists.starlingx.io/pipermail/starlingx-discuss/2020-August/009520.html

Change-Id: Iec959c9337776bb179927897b0d417e0a54d09ab
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/69/749369/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackdocstheme/ext.py'],1,d038f6822c735914a23bffc9d48c00d125ad56dd,starlingx-docs,"import re if re.match(ref, 'refs/remotes/origin/(r|stable)/'): if ref.startswith('refs/remotes/origin/stable/'): # OpenStack stable branches are published into directories named # the same as the part of the branch name after stable/ # OpenStack EOL release tags are published into directories named # the same as the tag but omitting the -eol suffix elif ref.startswith('refs/remotes/origin/r/'): # StarlingX release branches are published into directories named # the same as the part of the branch name after r/ but replacing # the stx. prefix with the letter R series = ref.rpartition('/')[-1].replace('stx.', 'R') all_series.append(series)", if ref.startswith('refs/remotes/origin/stable'): if ref.startswith('refs/remotes/origin/stable'):,13,2
openstack%2Fceilometer~master~I15bc4e1589f92fc856876a563122c1a1e07d4c4a,openstack/ceilometer,master,I15bc4e1589f92fc856876a563122c1a1e07d4c4a,Add logic for event_update handling and set transfer event as event_update,MERGED,2020-08-27 15:51:39.000000000,2020-09-03 18:38:37.000000000,2020-09-03 18:36:14.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 31510}]","[{'number': 1, 'created': '2020-08-27 15:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7ecde8f21c11919aae9bdfb8f86b7bf0dd812717', 'message': 'Add logic for event_update handling and set transfer event as event_update\n\nThis patch implements logic for updating resources in gnocchi when an\nevent_update happens. Additionally, it adds volume.transfer events to\nthe event_definitions.yaml and attributes for said event in\ngnocchi_resources.yaml\n\nChange-Id: I15bc4e1589f92fc856876a563122c1a1e07d4c4a\n'}, {'number': 2, 'created': '2020-08-27 18:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b946ae02a5ac85eb64b5bbaed1193753d84340a1', 'message': 'Add logic for event_update handling and set transfer event as event_update\n\nThis patch implements logic for updating resources in gnocchi when an\nevent_update happens. Additionally, it adds volume.transfer events to\nthe event_definitions.yaml and attributes for said event in\ngnocchi_resources.yaml\n\nChange-Id: I15bc4e1589f92fc856876a563122c1a1e07d4c4a\n'}, {'number': 3, 'created': '2020-08-28 14:04:04.000000000', 'files': ['ceilometer/publisher/data/gnocchi_resources.yaml', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/aa6b4e86421312665155485e0018643939f48572', 'message': 'Add logic for event_update handling and set transfer event as event_update\n\nThis patch implements logic for updating resources in gnocchi when an\nevent_update happens. Additionally, it adds volume.transfer events to\nthe event_definitions.yaml and attributes for said event in\ngnocchi_resources.yaml\n\nChange-Id: I15bc4e1589f92fc856876a563122c1a1e07d4c4a\n'}]",4,748473,aa6b4e86421312665155485e0018643939f48572,24,5,3,31510,,,0,"Add logic for event_update handling and set transfer event as event_update

This patch implements logic for updating resources in gnocchi when an
event_update happens. Additionally, it adds volume.transfer events to
the event_definitions.yaml and attributes for said event in
gnocchi_resources.yaml

Change-Id: I15bc4e1589f92fc856876a563122c1a1e07d4c4a
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/73/748473/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/data/gnocchi_resources.yaml', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/publisher/gnocchi.py']",3,7ecde8f21c11919aae9bdfb8f86b7bf0dd812717,update-event-master," if operation == EVENT_UPDATE: self._update_event(rd, event) def _update_event(self, rd, event): resource = rd.event_attributes(event) associated_resources = rd.cfg.get('event_associated_resources', {}) resource_id = rd._event_attributes if associated_resources: to_update = itertools.chain([resource], *[ self._search_resource(resource_type, query % resource['id']) for resource_type, query in associated_resources.items() ]) else: to_update = [resource] for resource in to_update: self._set_update_attributes(resource) def _set_update_attributes(self, resource): try: resource_id = resource.pop('id') resource_type = resource.pop('type') self._if_not_cached(resource_type, resource_id, resource) except gnocchi_exc.ResourceNotFound: LOG.debug(""Update event received on unexisting resource (%s), "" ""ignore it."", resource['id']) except Exception: LOG.error(""Fail to update the resource %s"", resource, exc_info=True) ",,35,1
openstack%2Fsahara-image-elements~stable%2Frocky~If5ea0ffdfc51860842c19f0a6f238127d42eb292,openstack/sahara-image-elements,stable/rocky,If5ea0ffdfc51860842c19f0a6f238127d42eb292,Fix the buildimages jobs: call the ensure-tox role,MERGED,2020-09-03 17:13:37.000000000,2020-09-03 18:34:55.000000000,2020-09-03 18:34:55.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-09-03 17:13:37.000000000', 'files': ['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/96abd08c28a665b27d8e2625438dfd824f559602', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)\n(cherry picked from commit 0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2)\n(cherry picked from commit cdf83a23a03a82c3aa2f81a887f8570b924d9bd1)\n'}]",0,749798,96abd08c28a665b27d8e2625438dfd824f559602,7,3,1,10459,,,0,"Fix the buildimages jobs: call the ensure-tox role

... and use its output.

tox is not available by default on the images anymore.

Change-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292
(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)
(cherry picked from commit 0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2)
(cherry picked from commit cdf83a23a03a82c3aa2f81a887f8570b924d9bd1)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/98/749798/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml']",4,96abd08c28a665b27d8e2625438dfd824f559602,,tox_executable: 'tox',,8,5
openstack%2Fcharm-mysql-router~master~Ia0a4b1748c8e7509c7e0d71d866158da4f0c96e2,openstack/charm-mysql-router,master,Ia0a4b1748c8e7509c7e0d71d866158da4f0c96e2,Add note about port number,MERGED,2020-09-03 17:46:59.000000000,2020-09-03 18:29:37.000000000,2020-09-03 18:29:37.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 17:46:59.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/76b55a196ef47c1ead07d1259d91b2afe969e20c', 'message': 'Add note about port number\n\nChange-Id: Ia0a4b1748c8e7509c7e0d71d866158da4f0c96e2\n'}]",0,749808,76b55a196ef47c1ead07d1259d91b2afe969e20c,7,3,1,30561,,,0,"Add note about port number

Change-Id: Ia0a4b1748c8e7509c7e0d71d866158da4f0c96e2
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/08/749808/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,76b55a196ef47c1ead07d1259d91b2afe969e20c,add-note-about-ports,> **Note**: If more than one mysql-router application is placed on the same machine the `base-port` configuration option is needed to ensure non-conflicting TCP port numbers are used (the default is '3306'). ,,4,0
openstack%2Ftripleo-ansible~master~I5341da7fdea0a53b86295d74d68ef2013efb0ea0,openstack/tripleo-ansible,master,I5341da7fdea0a53b86295d74d68ef2013efb0ea0,Only concatenate default_templates_dir when necessary,MERGED,2020-09-02 01:54:00.000000000,2020-09-03 18:23:16.000000000,2020-09-03 17:59:38.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-02 01:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/204a0ae75ff10fb78ab35e58c1ba6814024afb6a', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n""}, {'number': 2, 'created': '2020-09-02 13:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0bb6fdf2d50558381d8e83e043600ab1b5ac07d', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n""}, {'number': 3, 'created': '2020-09-02 13:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cc1f55784c055a0422c409f5c349e4cab2f374a', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n""}, {'number': 4, 'created': '2020-09-02 14:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7227400af66e946cb2a6e5cfbf525ee446288a0d', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n""}, {'number': 5, 'created': '2020-09-02 19:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e58a7c9c097e3a32943e2f1932109b34214db3d2', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n""}, {'number': 6, 'created': '2020-09-03 13:00:21.000000000', 'files': ['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/295555839c5e1d8e7e5ab1bb3fb39537d09da989', 'message': ""Only concatenate default_templates_dir when necessary\n\nBy default the default_templates_dir is appended to the\nplan_environment file. This is fine unless the deployer\noverrides the default plan_environment file with the -p\noption. This patch adds jinja2 filters so that if the\nplan_environment starts with a '/', then the default\ntemplates directory is not appended. Otherwise the default\nbehavior is unchanged.\n\nChange-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0\nCloses-Bug: #1893861\n""}]",14,749416,295555839c5e1d8e7e5ab1bb3fb39537d09da989,32,8,6,18002,,,0,"Only concatenate default_templates_dir when necessary

By default the default_templates_dir is appended to the
plan_environment file. This is fine unless the deployer
overrides the default plan_environment file with the -p
option. This patch adds jinja2 filters so that if the
plan_environment starts with a '/', then the default
templates directory is not appended. Otherwise the default
behavior is unchanged.

Change-Id: I5341da7fdea0a53b86295d74d68ef2013efb0ea0
Closes-Bug: #1893861
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/749416/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml'],1,204a0ae75ff10fb78ab35e58c1ba6814024afb6a,bug/1893861," filename: ""{{ plan_environment | regex_search('(^/)') | default([], true) | length | bool | ternary(plan_environment, default_templates_dir + plan_environment) }}"" # LP1893861"," filename: ""{{ default_templates_dir + plan_environment }}""",1,1
openstack%2Fkolla~stable%2Ftrain~I872061cf2522520f7a4208cb4ac60f4810863b4d,openstack/kolla,stable/train,I872061cf2522520f7a4208cb4ac60f4810863b4d,DNM: Add dnf modules for rhel8/py3 containers,ABANDONED,2019-11-07 16:46:06.000000000,2020-09-03 18:14:15.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-07 16:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ea994c330a74a67100448f9edc475b9c2f1a7e1', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 2, 'created': '2019-12-10 06:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/90d74e24bebc1756fef3600e12d1ad94b76465e5', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 3, 'created': '2020-01-08 10:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f641ac4ffaa466e8b6d5971ac6d8910b66f85fb', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 4, 'created': '2020-03-05 18:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ed2183da21ce9de3c77428bb7ff2c3c4c0bdaac5', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 5, 'created': '2020-03-17 15:15:05.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/tempest/Dockerfile.j2', 'docker/redis/redis/Dockerfile.j2', 'docker/mistral/mistral-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eaeb65a5586e431b05e2e3cd771037fda0438487', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}]",0,693390,eaeb65a5586e431b05e2e3cd771037fda0438487,17,7,5,10969,,,0,"DNM: Add dnf modules for rhel8/py3 containers

This is an extension test patch for
https://review.opendev.org/#/c/670911

Change-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/693390/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/redis/redis/Dockerfile.j2', 'docker/tempest/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/mistral/mistral-base/Dockerfile.j2']",7,8ea994c330a74a67100448f9edc475b9c2f1a7e1,rhel8-containers-build-stable/train, {% if distro_python_version.startswith('3') and base_distro_tag.startswith('8') %} RUN dnf -y module install redis {% endif %} ,,27,1
openstack%2Fkolla~stable%2Ftrain~I05baddc1e3af257ddd50d0cc80efd3bea6125406,openstack/kolla,stable/train,I05baddc1e3af257ddd50d0cc80efd3bea6125406,WIP: DO NOT MERGE tripleo-ci testing CentOS 8 in containers,ABANDONED,2020-01-14 13:06:40.000000000,2020-09-03 18:14:02.000000000,,"[{'_account_id': 8449}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-01-14 13:06:40.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2', 'kolla/image/build.py', '.zuul.d/centos.yaml', 'docker/barbican/barbican-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/nova/nova-spicehtml5proxy/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/37720333e67519dbe90227376a7d7192ccebedbb', 'message': 'WIP: DO NOT MERGE tripleo-ci testing CentOS 8 in containers\n\nThis is cherry-picked from https://review.opendev.org/692368\nTo be used by tripleo-ci team for testing\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1442\n\nDepends-On: https://review.opendev.org/693544\nDepends-On: https://review.opendev.org/702196\n(cherry picked from commit 5532470217bba42516ad9967aac788f45ac39909)\nChange-Id: I05baddc1e3af257ddd50d0cc80efd3bea6125406\n'}]",0,702412,37720333e67519dbe90227376a7d7192ccebedbb,7,5,1,8449,,,0,"WIP: DO NOT MERGE tripleo-ci testing CentOS 8 in containers

This is cherry-picked from https://review.opendev.org/692368
To be used by tripleo-ci team for testing
https://tree.taiga.io/project/tripleo-ci-board/task/1442

Depends-On: https://review.opendev.org/693544
Depends-On: https://review.opendev.org/702196
(cherry picked from commit 5532470217bba42516ad9967aac788f45ac39909)
Change-Id: I05baddc1e3af257ddd50d0cc80efd3bea6125406
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/702412/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/glance/glance-base/Dockerfile.j2', 'kolla/image/build.py', '.zuul.d/centos.yaml', 'docker/barbican/barbican-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/nova/nova-spicehtml5proxy/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2']",11,37720333e67519dbe90227376a7d7192ccebedbb,, # FIXME(mgoddard): Removed shellinabox for CentOS 8. # FIXME(mgoddard): Removed shellinabox for CentOS 8.," 'shellinabox', 'shellinabox',",86,16
openstack%2Fkolla~stable%2Ftrain~I3bcef4fbba1f7c59b564446552532ea949bc34c3,openstack/kolla,stable/train,I3bcef4fbba1f7c59b564446552532ea949bc34c3,DNM: Add rhel8 support for early CentOS8 testing,ABANDONED,2019-11-06 11:27:23.000000000,2020-09-03 18:13:48.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-06 11:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e034d32f74f69e168509456a159b4b8dd826a4c4', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 2, 'created': '2019-11-07 16:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c32cf0bd40de7f6025238f98e63f9eac91696ed', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 3, 'created': '2019-11-07 17:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a2e0a27a300d24adf4c9efd04b721f3aee1613d', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 4, 'created': '2019-12-10 06:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/95ca7e3543091a6d0dfd2a3b38663cd0af669427', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 5, 'created': '2020-03-03 11:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da31359b0de260c0e35b3f0ab586aa111bb93c7f', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 6, 'created': '2020-03-05 18:20:23.000000000', 'files': ['docker/base/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9f99dafde3f925592d392470be7e3575ffd64e5', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}]",0,693159,d9f99dafde3f925592d392470be7e3575ffd64e5,28,9,6,10969,,,0,"DNM: Add rhel8 support for early CentOS8 testing

RDO is currently using a version of RHEL 8 to test the python3
packaging for the next version of CentOS/RHEL. This change updates
basic support to RHEL8 as a build option.

RHEL8 is used on purpose in order to match RHEL/CentOS 8.

Story: https://tree.taiga.io/project/tripleo-ci-board/us/956

Change-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/693159/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'kolla/common/config.py']",2,e034d32f74f69e168509456a159b4b8dd826a4c4,rhel8-containers-build-stable/train," 'rhel': '8',"," 'rhel': '7',",2,2
openstack%2Fpuppet-magnum~master~I59ce740ad85967e181da328e11d394cc1c029ab6,openstack/puppet-magnum,master,I59ce740ad85967e181da328e11d394cc1c029ab6,Add oslo_middleware/enable_proxy_headers_parsing option,MERGED,2020-09-03 02:23:27.000000000,2020-09-03 18:03:58.000000000,2020-09-03 17:59:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-03 02:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/6a867571fabc54c8bf03a5569dc80945e6a17541', 'message': 'Add oslo_middleware/enable_proxy_headers_parsing option\n\nChange-Id: I59ce740ad85967e181da328e11d394cc1c029ab6\n'}, {'number': 2, 'created': '2020-09-03 05:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/f185058fdb3a4c712161b084989578c5fa083017', 'message': 'Add oslo_middleware/enable_proxy_headers_parsing option\n\nChange-Id: I59ce740ad85967e181da328e11d394cc1c029ab6\n'}, {'number': 3, 'created': '2020-09-03 08:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/f4348cb05040f33e224eb736cedf9d9f36d5adc5', 'message': 'Add oslo_middleware/enable_proxy_headers_parsing option\n\nChange-Id: I59ce740ad85967e181da328e11d394cc1c029ab6\n'}, {'number': 4, 'created': '2020-09-03 12:37:37.000000000', 'files': ['manifests/api.pp', 'spec/classes/magnum_api_spec.rb', 'releasenotes/notes/add_enable_proxy_headers_parsing-294bbf9c4d73a49c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/e2b05c8956cda43ce73559750eaabaf640b7a8d1', 'message': 'Add oslo_middleware/enable_proxy_headers_parsing option\n\nChange-Id: I59ce740ad85967e181da328e11d394cc1c029ab6\n'}]",4,749621,e2b05c8956cda43ce73559750eaabaf640b7a8d1,16,3,4,8064,,,0,"Add oslo_middleware/enable_proxy_headers_parsing option

Change-Id: I59ce740ad85967e181da328e11d394cc1c029ab6
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/21/749621/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/magnum_api_spec.rb']",2,6a867571fabc54c8bf03a5569dc80945e6a17541,749621," context 'with oslo_middleware configured' do let :params do { :enable_proxy_headers_parsing => true, } end it { is_expected.to contain_magnum_config('oslo_middleware/enable_proxy_headers_parsing').with_value('true') } end",,34,13
openstack%2Ftripleo-quickstart~master~I6d47207d2aea9d9d9d3278baba7c1dcd36edf7aa,openstack/tripleo-quickstart,master,I6d47207d2aea9d9d9d3278baba7c1dcd36edf7aa,Fix topology_map for 1ctlr,ABANDONED,2020-09-03 09:53:36.000000000,2020-09-03 18:01:06.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 09:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52a8976b2cb628f625375cb66844beca324ea5bd', 'message': 'Fix topology_map for 1ctlr\n\nWith nova-less we use topology_map, hence we need to have all\nthe details. There are issues with other configurations but\nthose were not changed with this patch to reduce issues.\n\nChange-Id: I6d47207d2aea9d9d9d3278baba7c1dcd36edf7aa\nPartial-Bug: #1891242\n'}, {'number': 2, 'created': '2020-09-03 11:06:54.000000000', 'files': ['config/nodes/1ctlr.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3026798c542f8a0d38377482d666b64a75c1ca9e', 'message': 'Fix topology_map for 1ctlr\n\nWith nova-less we use topology_map, hence we need to have all\nthe details. There are issues with other configurations but\nthose were not changed with this patch to reduce issues.\n\nChange-Id: I6d47207d2aea9d9d9d3278baba7c1dcd36edf7aa\nPartial-Bug: #1891242\n'}]",0,749692,3026798c542f8a0d38377482d666b64a75c1ca9e,7,3,2,8833,,,0,"Fix topology_map for 1ctlr

With nova-less we use topology_map, hence we need to have all
the details. There are issues with other configurations but
those were not changed with this patch to reduce issues.

Change-Id: I6d47207d2aea9d9d9d3278baba7c1dcd36edf7aa
Partial-Bug: #1891242
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/749692/2 && git format-patch -1 --stdout FETCH_HEAD,['config/nodes/1ctlr.yml'],1,52a8976b2cb628f625375cb66844beca324ea5bd,, Controller: scale: 1,,2,0
openstack%2Fkolla~stable%2Fstein~I2ecd3b029b956e000feaaa9e10a169521ba53d66,openstack/kolla,stable/stein,I2ecd3b029b956e000feaaa9e10a169521ba53d66,Upgrade Fluentd Monasca plugin,MERGED,2020-07-30 07:47:10.000000000,2020-09-03 17:20:54.000000000,2020-09-03 17:17:39.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-30 07:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d03a95bae277ee7334ed94338bfc5d81880380a3', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}, {'number': 2, 'created': '2020-09-03 14:38:36.000000000', 'files': ['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e5b5e926895d8833ebc2b54debd74a4d9d72492d', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}]",0,743923,e5b5e926895d8833ebc2b54debd74a4d9d72492d,16,4,2,17669,,,0,"Upgrade Fluentd Monasca plugin

Switch to YAJI JSON parser as suggested in [1].

[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it

Closes-Bug: #1889065
Change-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66
(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/743923/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2']",2,d03a95bae277ee7334ed94338bfc5d81880380a3,bug/1889065-stable/stein,ARG monasca_output_plugin_tag=0.1.2,ARG monasca_output_plugin_tag=0.1.1,6,1
openstack%2Fkolla~stable%2Fstein~I5365c813bab5e3205fd34eb64dc3337f192d67d4,openstack/kolla,stable/stein,I5365c813bab5e3205fd34eb64dc3337f192d67d4,[CI] Fix wheel url for CentOS,MERGED,2020-08-12 07:59:07.000000000,2020-09-03 17:18:54.000000000,2020-09-03 17:16:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-12 07:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/25f72694e357c662ce075e11d536b2b4a259291d', 'message': '[CI] Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n(cherry picked from commit a3ef68d91c60c9d451450ae0e371e25402bb4c6f)\n'}, {'number': 2, 'created': '2020-09-03 14:38:11.000000000', 'files': ['tests/vars/zuul.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c8123bf6f385061ea7180efcf0d359adcea7a57e', 'message': '[CI] Fix wheel url for CentOS\n\nCentOS wheels do not differentiate between minor versions atm.\n\nChange-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4\n(cherry picked from commit a3ef68d91c60c9d451450ae0e371e25402bb4c6f)\n'}]",0,745803,c8123bf6f385061ea7180efcf0d359adcea7a57e,10,5,2,30491,,,0,"[CI] Fix wheel url for CentOS

CentOS wheels do not differentiate between minor versions atm.

Change-Id: I5365c813bab5e3205fd34eb64dc3337f192d67d4
(cherry picked from commit a3ef68d91c60c9d451450ae0e371e25402bb4c6f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/745803/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/vars/zuul.yml'],1,25f72694e357c662ce075e11d536b2b4a259291d,fix-wheels-stable/ussuri-stable/train-stable/stein,"nodepool_wheel_mirror: ""https://{{ zuul_site_mirror_fqdn }}/wheel/{{ ansible_distribution | lower }}-{{ (ansible_os_family == 'Debian') | ternary(ansible_distribution_version, ansible_distribution_major_version) }}-{{ ansible_architecture | lower }}""","nodepool_wheel_mirror: ""https://{{ zuul_site_mirror_fqdn }}/wheel/{{ ansible_distribution | lower }}-{{ ansible_distribution_version }}-{{ ansible_architecture | lower }}""",1,1
openstack%2Fkolla~stable%2Ftrain~Ia6c415b18374cefa3f160229d1f58cb209df348e,openstack/kolla,stable/train,Ia6c415b18374cefa3f160229d1f58cb209df348e,"Revert ""openstack-base: pin setuptools < 46 to get horizon working""",MERGED,2020-09-02 15:18:05.000000000,2020-09-03 17:18:23.000000000,2020-09-03 17:16:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-02 15:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f81a70c205fd34e98bddfb566f028596fbefa2df', 'message': 'Revert ""openstack-base: pin setuptools < 46 to get horizon working""\n\nThis reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.\n\nChange-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e\n'}, {'number': 2, 'created': '2020-09-02 16:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a7737fd18d4b3f183151a27535c176840e88282', 'message': 'Revert ""openstack-base: pin setuptools < 46 to get horizon working""\n\nThis reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.\n\nIncludes bifrost version bump to pass CI.\n\nChange-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e\n'}, {'number': 3, 'created': '2020-09-02 19:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2acdfb89625e7b5028d5941e5a5f6309e97323f7', 'message': 'Revert ""openstack-base: pin setuptools < 46 to get horizon working""\n\nThis reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.\n\nThis is to fix recent breakage caused by setuptools and virtualenv\nincompatibilities.\n\nDepends-On: https://review.opendev.org/749576\n\nChange-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e\n'}, {'number': 4, 'created': '2020-09-02 19:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4638f761a6413189dea9dcd0b2c3950422a58cd4', 'message': 'Revert ""openstack-base: pin setuptools < 46 to get horizon working""\n\nThis reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.\n\nThis is to fix recent breakage caused by setuptools and virtualenv\nincompatibilities.\n\nChange-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e\nDepends-On: https://review.opendev.org/749576\n'}, {'number': 5, 'created': '2020-09-02 19:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6cefed0ab64ca9776ee3c8274162ccf79cdd8fed', 'message': 'Revert ""openstack-base: pin setuptools < 46 to get horizon working""\n\nThis reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.\n\nThis is to fix recent breakage caused by setuptools and virtualenv\nincompatibilities.\n\nChange-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e\nCloses-Bug: #1893920\nDepends-On: https://review.opendev.org/749576\n'}, {'number': 6, 'created': '2020-09-03 07:01:31.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/326823c4d3661ee5cc329857eab65148aa1d8fba', 'message': 'Revert ""openstack-base: pin setuptools < 46 to get horizon working""\n\nThis reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.\n\nThis is to fix recent breakage caused by setuptools and virtualenv\nincompatibilities.\n\nIncludes bifrost version bump to fix its building.\n\nChange-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e\nCloses-Bug: #1893920\nDepends-On: https://review.opendev.org/749576\n'}]",0,749534,326823c4d3661ee5cc329857eab65148aa1d8fba,24,5,6,30491,,,0,"Revert ""openstack-base: pin setuptools < 46 to get horizon working""

This reverts commit ca8b61516401d61d90e2940fa130c8f55a8b6e45.

This is to fix recent breakage caused by setuptools and virtualenv
incompatibilities.

Includes bifrost version bump to fix its building.

Change-Id: Ia6c415b18374cefa3f160229d1f58cb209df348e
Closes-Bug: #1893920
Depends-On: https://review.opendev.org/749576
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/749534/5 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,f81a70c205fd34e98bddfb566f028596fbefa2df,bug/1893920,,"# FIXME(hrw): pyScss used by Horizon fails to work with setuptools >= 46 # it had last release in 2016 so probably no one will fix it. # So we need to be sure that we get older version of setuptools. RUN {{ macros.install_pip(['""setuptools<46""']) }} ",0,5
openstack%2Fsahara-image-elements~stable%2Fstein~I7accc23d6e91ff4a525c31616033f76c07dec21e,openstack/sahara-image-elements,stable/stein,I7accc23d6e91ff4a525c31616033f76c07dec21e,Fix URL of Maven Central Repository,MERGED,2020-09-03 15:30:17.000000000,2020-09-03 17:12:46.000000000,2020-09-03 17:12:46.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-09-03 15:30:17.000000000', 'files': ['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/04810f9523f6201cb7f806ebecb2ba8e22c4467a', 'message': 'Fix URL of Maven Central Repository\n\nChange-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e\nStory: 2007996\nTask: 40639\n(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)\n(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)\n(cherry picked from commit b60f08f7599a2e01c84ca3e3958021804a50ea7c)\n'}]",18,749768,04810f9523f6201cb7f806ebecb2ba8e22c4467a,7,3,1,10459,,,0,"Fix URL of Maven Central Repository

Change-Id: I7accc23d6e91ff4a525c31616033f76c07dec21e
Story: 2007996
Task: 40639
(cherry picked from commit ded80db2667438313bab6d448d19ef2305f2e527)
(cherry picked from commit 80c09a5c1e275e72f1f31a86e676ff8f4fcd8b2a)
(cherry picked from commit b60f08f7599a2e01c84ca3e3958021804a50ea7c)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/68/749768/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/s3_hadoop/post-install.d/89-manipulate-s3', 'elements/hadoop-cdh/post-install.d/50-cdh-fixes']",2,04810f9523f6201cb7f806ebecb2ba8e22c4467a,, wget https://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;, wget http://repo1.maven.org/maven2/org/slf4j/slf4j-log4j12/1.6.1/slf4j-log4j12-1.6.1.jar;,5,5
openstack%2Fsahara-image-elements~stable%2Fstein~If5ea0ffdfc51860842c19f0a6f238127d42eb292,openstack/sahara-image-elements,stable/stein,If5ea0ffdfc51860842c19f0a6f238127d42eb292,Fix the buildimages jobs: call the ensure-tox role,MERGED,2020-09-03 15:30:17.000000000,2020-09-03 17:06:15.000000000,2020-09-03 17:06:15.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-09-03 15:30:17.000000000', 'files': ['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/cdf83a23a03a82c3aa2f81a887f8570b924d9bd1', 'message': 'Fix the buildimages jobs: call the ensure-tox role\n\n... and use its output.\n\ntox is not available by default on the images anymore.\n\nChange-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292\n(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)\n(cherry picked from commit 0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2)\n'}]",0,749767,cdf83a23a03a82c3aa2f81a887f8570b924d9bd1,7,3,1,10459,,,0,"Fix the buildimages jobs: call the ensure-tox role

... and use its output.

tox is not available by default on the images anymore.

Change-Id: If5ea0ffdfc51860842c19f0a6f238127d42eb292
(cherry picked from commit 2d0c3a8b9835a5616cc0cbe45db02769342695bd)
(cherry picked from commit 0a9a43cb76ece7fa51fcc398d203e7bd20c0bce2)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/67/749767/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/build-images', 'playbooks/buildimages/run.yaml', 'roles/build-sahara-images-dib/tasks/main.yaml', 'roles/build-sahara-images-dib/defaults/main.yaml']",4,cdf83a23a03a82c3aa2f81a887f8570b924d9bd1,,tox_executable: 'tox',,8,5
openstack%2Freleases~master~I1eeaa2e28d2b74c596f715c84f89bc91050509e8,openstack/releases,master,I1eeaa2e28d2b74c596f715c84f89bc91050509e8,Release os-vif 2.2.0,MERGED,2020-09-02 15:22:26.000000000,2020-09-03 17:04:12.000000000,2020-09-03 17:04:12.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-02 15:22:26.000000000', 'files': ['deliverables/victoria/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4bd78cceb16ffc8e07877462ea5c7a5f7f0e369c', 'message': 'Release os-vif 2.2.0\n\nChange-Id: I1eeaa2e28d2b74c596f715c84f89bc91050509e8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,749535,4bd78cceb16ffc8e07877462ea5c7a5f7f0e369c,10,5,1,15334,,,0,"Release os-vif 2.2.0

Change-Id: I1eeaa2e28d2b74c596f715c84f89bc91050509e8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/749535/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-vif.yaml'],1,4bd78cceb16ffc8e07877462ea5c7a5f7f0e369c,os-vif, - version: 2.2.0 projects: - repo: openstack/os-vif hash: d7928102d69dadf653c9f734e5cf8fd504335849,,4,0
openstack%2Fopenstack-helm-infra~master~I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1,openstack/openstack-helm-infra,master,I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1,Add Zuul Jobs for apparmor to alerta and Prometheus black-box,MERGED,2020-08-31 17:20:13.000000000,2020-09-03 16:55:57.000000000,2020-09-03 16:50:18.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-31 17:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b3714a9cbc55975bec77ab6f379a00a6a46a302', 'message': '[DNM]\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-08-31 17:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63d2244e8298a72798f183b178c5937d09ed173e', 'message': '[DNM]\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-08-31 18:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/030dd742e9bac21717e899893d59e1a597d3181b', 'message': '[DNM]\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-08-31 21:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8ff719bdb5fdd2842a14fef1a91d5218884449d', 'message': '[DNM]\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-08-31 22:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ea47bc51c8c29608aff677721aa28d01437baf1', 'message': '[DNM]\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-09-01 13:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a77df1b5fdc2c88b8e8bd7b8412c2b1de9ca8a2', 'message': 'Add Zuul Jobs for apparmor to alerta and black-box\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-09-01 13:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47bd835807cbcea79074548265de2ef170ec02d6', 'message': 'Add Zuul Jobs for apparmor to alerta and black-box\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-09-01 13:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c53da5635358f535d021ea11ac59b5774ca51fed', 'message': 'Add Zuul Jobs for apparmor to alerta and black-box\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 9, 'created': '2020-09-01 14:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f034fd8a5abe88adbc685d6d3d9bdf595bfdc66', 'message': 'Add Zuul Jobs for apparmor to alerta and black-box\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 10, 'created': '2020-09-01 14:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c3dfe9888d29db9d1c08707e183976bb1c80b36', 'message': 'Add Zuul Jobs for apparmor to alerta and black-box\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 11, 'created': '2020-09-02 14:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fc6856cffa94c37b10bf97a4dc317fe60aa6e70', 'message': 'Add Zuul Jobs for apparmor to alerta and black-box\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 12, 'created': '2020-09-02 19:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d815c5544de5cf153838ec4a1e676735829be9fa', 'message': 'Add Zuul Jobs for apparmor to alerta and Prometheus black-box\n\n1)Moved Apparmor changes to overides so as to use experimental Jobs.\n2)Changed Numerical Convention to openstack exporterw\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 13, 'created': '2020-09-03 13:28:24.000000000', 'files': ['prometheus-blackbox-exporter/values_overrides/apparmor.yaml', 'alerta/values_overrides/apparmor.yaml', 'tools/deployment/apparmor/175-alerta.sh', 'alerta/templates/deployment.yaml', 'tools/deployment/apparmor/065-prometheus-openstack-exporter.sh', 'zuul.d/jobs.yaml', 'tools/deployment/apparmor/070-prometheus-blackbox-exporter.sh', 'prometheus-blackbox-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6dd08e84ca6501d95efc6cd4a3d753105f310998', 'message': 'Add Zuul Jobs for apparmor to alerta and Prometheus black-box\n\n1)Moved Apparmor changes to overides so as to use experimental Jobs.\n2)Changed Numerical Convention to openstack exporterw\n\nChange-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,749092,6dd08e84ca6501d95efc6cd4a3d753105f310998,36,6,13,29131,,,0,"Add Zuul Jobs for apparmor to alerta and Prometheus black-box

1)Moved Apparmor changes to overides so as to use experimental Jobs.
2)Changed Numerical Convention to openstack exporterw

Change-Id: I9ac1f6399c09fc54fcdb98eb0c6cf91912bc93c1
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/749092/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,4b3714a9cbc55975bec77ab6f379a00a6a46a302,Apparmor,,,0,0
openstack%2Fhorizon~master~I98de224cc77a98fa216ec3bc032412325e661e14,openstack/horizon,master,I98de224cc77a98fa216ec3bc032412325e661e14,Avoid stripping leading/traling spaces in password forms,MERGED,2020-02-05 05:47:29.000000000,2020-09-03 16:43:20.000000000,2020-09-03 16:41:24.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-02-05 05:47:29.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_auth/forms.py', 'openstack_dashboard/dashboards/settings/password/forms.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/dashboards/project/instances/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a07f5a5b4e2c0921967b8c47c8c9cfcd9a45b90', 'message': 'Avoid stripping leading/traling spaces in password forms\n\nThere are cases where leading/trailing spaces are included in passwords\nWe should not touch passwords input in forms and pass them to auth\nbackends without any modifications. The detail was discussed in\nthe mailing list thread [1] referred in the bug comment.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/thread.html#12223\n\nChange-Id: I98de224cc77a98fa216ec3bc032412325e661e14\nCloses-Bug: #1861224\n'}]",2,705886,6a07f5a5b4e2c0921967b8c47c8c9cfcd9a45b90,19,5,1,841,,,0,"Avoid stripping leading/traling spaces in password forms

There are cases where leading/trailing spaces are included in passwords
We should not touch passwords input in forms and pass them to auth
backends without any modifications. The detail was discussed in
the mailing list thread [1] referred in the bug comment.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/thread.html#12223

Change-Id: I98de224cc77a98fa216ec3bc032412325e661e14
Closes-Bug: #1861224
",git fetch https://review.opendev.org/openstack/horizon refs/changes/86/705886/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_auth/forms.py', 'openstack_dashboard/dashboards/settings/password/forms.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/dashboards/project/instances/forms.py']",5,6a07f5a5b4e2c0921967b8c47c8c9cfcd9a45b90,bug/1861224," strip=False, strip=False, strip=False,",,13,0
openstack%2Freleases~master~If1feb121e197b1b2aa2541bff75d67d457b13fce,openstack/releases,master,If1feb121e197b1b2aa2541bff75d67d457b13fce,Release ironic-lib and create stable/victoria,MERGED,2020-09-03 13:36:11.000000000,2020-09-03 16:13:48.000000000,2020-09-03 16:13:47.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-03 13:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/151e68d88fc6b32dcd7855cbb60f5909cde96bb7', 'message': 'Release ironic-lib and create stable/victoria\n\nChange-Id: If1feb121e197b1b2aa2541bff75d67d457b13fce\n'}, {'number': 2, 'created': '2020-09-03 14:16:13.000000000', 'files': ['deliverables/victoria/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/005e926d80bfe747079cfdd369199099f644692e', 'message': 'Release ironic-lib and create stable/victoria\n\nChange-Id: If1feb121e197b1b2aa2541bff75d67d457b13fce\n'}]",1,749734,005e926d80bfe747079cfdd369199099f644692e,12,4,2,15519,,,0,"Release ironic-lib and create stable/victoria

Change-Id: If1feb121e197b1b2aa2541bff75d67d457b13fce
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/749734/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic-lib.yaml'],1,151e68d88fc6b32dcd7855cbb60f5909cde96bb7,ironic-lib_victoria, - version: 4.4.0 projects: - repo: openstack/ironic-lib hash: f6cdde207ad0d2c80339640bc9c58a6ef1856e51 branches: - name: stable/victoria location: 4.4.0,,7,0
openstack%2Fbifrost~master~I084da313eda17435c095ade7cb1b92981f5341dc,openstack/bifrost,master,I084da313eda17435c095ade7cb1b92981f5341dc,TLS support for API services,MERGED,2020-08-25 12:56:24.000000000,2020-09-03 15:58:40.000000000,2020-09-03 15:53:01.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 12:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/77638b8f06f69b1171e19cfc990bd6590d6560c9', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 2, 'created': '2020-08-25 12:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b3fadbb5149f31d0a9f1d95f5f13c7cae8465e03', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 3, 'created': '2020-08-25 13:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/95eaa74500c5f4c4ca58d07022862c8cecf2da63', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 4, 'created': '2020-08-25 13:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/49658a9628cd036718830c58225a0ce50e8d5d40', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 5, 'created': '2020-08-25 15:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e42c69f5540921407caa08b22ca880a337244935', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 6, 'created': '2020-08-25 15:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8141f440100f57388ebea804cf525631922c62d9', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 7, 'created': '2020-08-25 15:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2a3274d846f29f31bd88fbf6beb12d737507ee26', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 8, 'created': '2020-08-25 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0324aa2097d31200a9f0ff9a0e4d4642ef3d1a59', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 9, 'created': '2020-08-26 14:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/aa06fdfe167a18e4fe3cf257629b0993a44429b8', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 10, 'created': '2020-08-26 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0016e1507603762e8485c3585e5caf83d0b76927', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 11, 'created': '2020-08-26 15:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/26ee8f6d6900c42ebcfe31b6e10fa280ee39f855', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 12, 'created': '2020-08-26 16:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b75c2396345b248bfbfaec705a962db73c843daa', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 13, 'created': '2020-08-26 16:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/462f9b547e009337a426bf351e67ed8b95945ca8', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 14, 'created': '2020-08-27 09:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/64718fe0e237a7fb229ae073e33c33557e15a59b', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 15, 'created': '2020-08-27 10:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/59e214d637b466009e31d3956bb4dece0408b65e', 'message': '[WIP] TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 16, 'created': '2020-08-27 10:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/695a6f52b11c0b5f51ac691a07824f35c814f121', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 17, 'created': '2020-08-27 11:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5a65e41c05aee4ed1f106121ff919929a4f44789', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 18, 'created': '2020-08-27 11:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6634352d1c7dca43c644b006f2bfcdcc729bca12', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 19, 'created': '2020-08-27 12:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f609c879d63b80c37ddc70ded942162dbefe83bc', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 20, 'created': '2020-08-27 13:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4004adcfa6dfff6d3de91ae6768a2ce051a1aafe', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 21, 'created': '2020-08-31 11:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/307682663b17b5fab1f9dc75a921ac367463c5e0', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}, {'number': 22, 'created': '2020-09-02 16:24:59.000000000', 'files': ['doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/openrc.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/bifrost-tls/README.md', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'playbooks/roles/bifrost-cloud-config/README.md', 'playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-tls/defaults/main.yml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-tls/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/templates/nginx_conf.d_bifrost-keystone.conf.j2', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'doc/source/install/keystone.rst', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'releasenotes/notes/tls-988e725820bb8aca.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/upgrade.yml', 'bifrost/cli.py', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-cloud-config/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ddafc94e30cea8895fbc399739467650fae94e7d', 'message': 'TLS support for API services\n\nChange-Id: I084da313eda17435c095ade7cb1b92981f5341dc\n'}]",1,747921,ddafc94e30cea8895fbc399739467650fae94e7d,40,3,22,10239,,,0,"TLS support for API services

Change-Id: I084da313eda17435c095ade7cb1b92981f5341dc
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/747921/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-client-config/templates/openrc.j2', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-tls/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-tls/tasks/main.yml', 'playbooks/roles/bifrost-tls/README.md', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml']",11,77638b8f06f69b1171e19cfc990bd6590d6560c9,tls, enable_tls: false,,171,2
openstack%2Fmetalsmith~master~Ia123c1d3c57cc2814e3f971209cbee3ab336f7bd,openstack/metalsmith,master,Ia123c1d3c57cc2814e3f971209cbee3ab336f7bd,Stop requiring checksums with file images,MERGED,2020-09-03 12:24:52.000000000,2020-09-03 15:50:31.000000000,2020-09-03 15:48:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-03 12:24:52.000000000', 'files': ['releasenotes/notes/file-checksum-d19370a8fde00a81.yaml', 'metalsmith/test/test_provisioner.py', 'metalsmith/test/test_cmd.py', 'metalsmith/test/test_sources.py', 'metalsmith/sources.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3621535d6733a8493a39eb1a98994694ed8f16c9', 'message': ""Stop requiring checksums with file images\n\nNeither deploy method requires checksums with file images, they're\nsimply ignored. Deprecate providing them.\n\nChange-Id: Ia123c1d3c57cc2814e3f971209cbee3ab336f7bd\n""}]",0,749719,3621535d6733a8493a39eb1a98994694ed8f16c9,9,4,1,10239,,,0,"Stop requiring checksums with file images

Neither deploy method requires checksums with file images, they're
simply ignored. Deprecate providing them.

Change-Id: Ia123c1d3c57cc2814e3f971209cbee3ab336f7bd
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/19/749719/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/file-checksum-d19370a8fde00a81.yaml', 'metalsmith/test/test_provisioner.py', 'metalsmith/test/test_cmd.py', 'metalsmith/test/test_sources.py', 'metalsmith/sources.py']",5,3621535d6733a8493a39eb1a98994694ed8f16c9,,"import warnings def __init__(self, location, checksum=None): :param checksum: MD5 checksum of the image. DEPRECATED: checksums do not actually work with file images. if self.checksum: warnings.warn(""Checksums cannot be used with file images"", DeprecationWarning) LOG.debug('Image: %s', self.location) def __init__(self, location, kernel_location, ramdisk_location, checksum=None): :param checksum: MD5 checksum of the image. DEPRECATED: checksums do not actually work with file images. if image_type == 'http' and not checksum: raise ValueError('checksum is required for HTTP images') or ramdisk_type not in (None, 'file')): raise ValueError('kernel and ramdisk can only be files '"," def __init__(self, location, checksum): :param checksum: MD5 checksum of the image. LOG.debug('Image: %(image)s, checksum %(checksum)s', {'image': self.location, 'checksum': self.checksum}) 'image_checksum': self.checksum, def __init__(self, location, kernel_location, ramdisk_location, checksum): :param checksum: MD5 checksum of the image. if not checksum: raise ValueError('checksum is required for HTTP and file images') or ramdisk_type not in (None, 'file') or checksum_type == 'http'): raise ValueError('kernal, ramdisk and checksum can only be files '",32,37
openstack%2Fopenstack-helm-infra~master~I53f3f7d13ad18ce50c994e34d0f6cd7d3a92452c,openstack/openstack-helm-infra,master,I53f3f7d13ad18ce50c994e34d0f6cd7d3a92452c,updating apparmor profile to runtime/default,MERGED,2020-08-25 23:57:54.000000000,2020-09-03 15:47:49.000000000,2020-08-26 15:46:51.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-25 23:57:54.000000000', 'files': ['metacontroller/values_overrides/apparmor.yaml', 'daemonjob-controller/values_overrides/apparmor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4d7b70b914e4c44ea871f5011e3952a3e8778fa', 'message': 'updating apparmor profile to runtime/default\n\nChange-Id: I53f3f7d13ad18ce50c994e34d0f6cd7d3a92452c\n'}]",1,748052,c4d7b70b914e4c44ea871f5011e3952a3e8778fa,11,5,1,30317,,,0,"updating apparmor profile to runtime/default

Change-Id: I53f3f7d13ad18ce50c994e34d0f6cd7d3a92452c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/748052/1 && git format-patch -1 --stdout FETCH_HEAD,"['metacontroller/values_overrides/apparmor.yaml', 'daemonjob-controller/values_overrides/apparmor.yaml']",2,c4d7b70b914e4c44ea871f5011e3952a3e8778fa,, controller: runtime/default, controller: localhost/docker-default,2,2
