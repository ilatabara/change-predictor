id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~stable%2Frocky~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,stable/rocky,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-24 09:58:49.000000000,2021-01-28 11:14:12.000000000,2021-01-28 11:14:12.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 09:58:49.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b6591b5828bf0aa5e37dddb10387f936ee5af04', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)\n'}]",0,772108,9b6591b5828bf0aa5e37dddb10387f936ee5af04,11,4,1,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/772108/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,9b6591b5828bf0aa5e37dddb10387f936ee5af04,improve-dhcp-agent-debug-logs-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call LOG.info(""Trigger reload_allocations for port %s on network %s"", port, network) @log_helpers.log_method_call resync_reason = ( ""Duplicate IP addresses found, "" ""Port in cache: {cache_port_id}, "" ""Created port: {port_id}, "" ""IPs in cache: {cached_ips}, "" ""new IPs: {new_ips}."" ""DHCP cache is out of sync"").format( cache_port_id=port_cached['id'], port_id=created_port['id'], cached_ips=cached_ips, new_ips=new_ips) self.schedule_resync(resync_reason, created_port.network_id) @log_helpers.log_method_call"," LOG.info(""Trigger reload_allocations for port %s"", port) self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",23,4
openstack%2Fneutron~stable%2Ftrain~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,stable/train,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-24 09:53:51.000000000,2021-01-28 11:12:30.000000000,2021-01-28 11:07:05.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 09:53:51.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/04a7a44adef92d6778dd4eb97f747692ab883dc3', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)\n'}]",0,772106,04a7a44adef92d6778dd4eb97f747692ab883dc3,12,4,1,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/772106/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,04a7a44adef92d6778dd4eb97f747692ab883dc3,improve-dhcp-agent-debug-logs-stable/victoria-stable/ussuri-stable/train,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call LOG.info(""Trigger reload_allocations for port %s on network %s"", port, network) @log_helpers.log_method_call resync_reason = ( ""Duplicate IP addresses found, "" ""Port in cache: {cache_port_id}, "" ""Created port: {port_id}, "" ""IPs in cache: {cached_ips}, "" ""new IPs: {new_ips}."" ""DHCP cache is out of sync"").format( cache_port_id=port_cached['id'], port_id=created_port['id'], cached_ips=cached_ips, new_ips=new_ips) self.schedule_resync(resync_reason, created_port.network_id) @log_helpers.log_method_call"," LOG.info(""Trigger reload_allocations for port %s"", port) self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",23,4
openstack%2Fcharm-placement~master~I594d20e11aa45d3a1da330f3ce18fa5fe551ca10,openstack/charm-placement,master,I594d20e11aa45d3a1da330f3ce18fa5fe551ca10,Rebuild for haproxy address bug 1912505,MERGED,2021-01-25 11:04:32.000000000,2021-01-28 10:57:24.000000000,2021-01-28 10:57:24.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-25 11:04:32.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/d134aecbd2a11177c58b660506bffd56fb43c802', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I594d20e11aa45d3a1da330f3ce18fa5fe551ca10\n'}]",0,772317,d134aecbd2a11177c58b660506bffd56fb43c802,11,3,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I594d20e11aa45d3a1da330f3ce18fa5fe551ca10
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/17/772317/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d134aecbd2a11177c58b660506bffd56fb43c802,bug/1912505,f401e92a-5efa-11eb-93b4-873741f01221,8331eb6c-5745-11eb-9e11-a71dd69c0231,1,1
openstack%2Freleases~master~I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b,openstack/releases,master,I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b,Make TripleO repos wallaby-2 release,MERGED,2021-01-21 15:31:34.000000000,2021-01-28 10:51:13.000000000,2021-01-28 10:51:13.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-21 15:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4f6fa25a801347101baa6da46d620ce8e3ff0940', 'message': 'Make TripleO repos wallaby-2 release\n\nThis makes a wallaby release for tripleo repos for the wallaby-2\nmilestone.\n\nNeeds [1] to merge before this will pass validate.\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/771829\n\nChange-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\n'}, {'number': 2, 'created': '2021-01-25 11:52:58.000000000', 'files': ['deliverables/wallaby/tripleo-ansible.yaml', 'deliverables/wallaby/tripleo-image-elements.yaml', 'deliverables/wallaby/puppet-tripleo.yaml', 'deliverables/wallaby/os-net-config.yaml', 'deliverables/wallaby/os-apply-config.yaml', 'deliverables/wallaby/tripleo-common.yaml', 'deliverables/wallaby/python-tripleoclient.yaml', 'deliverables/wallaby/tripleo-ipsec.yaml', 'deliverables/wallaby/tripleo-validations.yaml', 'deliverables/wallaby/os-collect-config.yaml', 'deliverables/wallaby/os-refresh-config.yaml', 'deliverables/wallaby/tripleo-heat-templates.yaml', 'deliverables/wallaby/tripleo-puppet-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd13d57c5410c2f18d584ef3fcaa84349fa494b4', 'message': 'Make TripleO repos wallaby-2 release\n\nThis makes a wallaby release for tripleo repos for the wallaby-2\nmilestone. Needs [1] to merge before this will pass validate.\nBumps major since this is the first wallaby series release\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/771829\n\nChange-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\n'}]",4,771830,dd13d57c5410c2f18d584ef3fcaa84349fa494b4,16,6,2,8449,,,0,"Make TripleO repos wallaby-2 release

This makes a wallaby release for tripleo repos for the wallaby-2
milestone. Needs [1] to merge before this will pass validate.
Bumps major since this is the first wallaby series release

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/771829

Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/771830/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/tripleo-ansible.yaml', 'deliverables/wallaby/tripleo-image-elements.yaml', 'deliverables/wallaby/puppet-tripleo.yaml', 'deliverables/wallaby/os-net-config.yaml', 'deliverables/wallaby/os-apply-config.yaml', 'deliverables/wallaby/tripleo-common.yaml', 'deliverables/wallaby/python-tripleoclient.yaml', 'deliverables/wallaby/tripleo-ipsec.yaml', 'deliverables/wallaby/tripleo-validations.yaml', 'deliverables/wallaby/os-collect-config.yaml', 'deliverables/wallaby/os-refresh-config.yaml', 'deliverables/wallaby/tripleo-heat-templates.yaml', 'deliverables/wallaby/tripleo-puppet-elements.yaml']",13,4f6fa25a801347101baa6da46d620ce8e3ff0940,,releases: - version: 14.0.0 projects: - repo: openstack/tripleo-puppet-elements hash: ad31a402117851eddb288f43c39e7944127376bd,,65,0
openstack%2Freleases~master~I10f4e1e24486d59217a6a21d11f003c1ace73c37,openstack/releases,master,I10f4e1e24486d59217a6a21d11f003c1ace73c37,"Neutron stable releases (Train, Ussuri, Victoria)",MERGED,2021-01-22 14:23:38.000000000,2021-01-28 10:51:09.000000000,2021-01-28 10:51:09.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-22 14:23:38.000000000', 'files': ['deliverables/train/neutron.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/ussuri/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc04c77d912854213509e568cb182e5b1ce08e10', 'message': 'Neutron stable releases (Train, Ussuri, Victoria)\n\nTo go along with Wallaby-2 milestone\n\nVictoria/Ussuri version bumps are for RPC version upgrade [1] backports\n\n[1] https://review.opendev.org/c/openstack/neutron/+/764108\n\nChange-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37\n'}]",0,771983,fc04c77d912854213509e568cb182e5b1ce08e10,9,5,1,21798,,,0,"Neutron stable releases (Train, Ussuri, Victoria)

To go along with Wallaby-2 milestone

Victoria/Ussuri version bumps are for RPC version upgrade [1] backports

[1] https://review.opendev.org/c/openstack/neutron/+/764108

Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/771983/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/neutron.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/ussuri/neutron.yaml']",3,fc04c77d912854213509e568cb182e5b1ce08e10,, - version: 16.3.0 projects: - repo: openstack/neutron hash: 3ff0a604677503bd6066e99681c17d7f29027831,,12,0
openstack%2Freleases~master~Id3227da315a66b8b14be181ac028cd663d53e80a,openstack/releases,master,Id3227da315a66b8b14be181ac028cd663d53e80a,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 19:04:44.000000000,2021-01-28 10:43:29.000000000,2021-01-28 10:43:29.000000000,"[{'_account_id': 308}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-12-26 19:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/66b24d0230ec3f9f9598915d102fca7213d56d7d', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: Id3227da315a66b8b14be181ac028cd663d53e80a\n'}, {'number': 2, 'created': '2020-12-26 20:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c99e672cd2556c89b926addc72b145be2be8a643', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: Id3227da315a66b8b14be181ac028cd663d53e80a\n'}, {'number': 3, 'created': '2020-12-28 21:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/de32a5ed6ce3fde7a77c9539075b985d2a8bd8dc', 'message': ""[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-em' as well as a new version also with same hash.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: Id3227da315a66b8b14be181ac028cd663d53e80a\n""}, {'number': 4, 'created': '2021-01-12 22:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/36f080fe349b872a1d938e948e3f0e1666e21a15', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: Id3227da315a66b8b14be181ac028cd663d53e80a\n""}, {'number': 5, 'created': '2021-01-12 22:24:33.000000000', 'files': ['deliverables/stein/watcher-tempest-plugin.yaml', 'deliverables/wallaby/watcher-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1fbc7a41d4ac6ff99955d6ac9e4d04e5e568433', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: Id3227da315a66b8b14be181ac028cd663d53e80a\n""}]",0,768562,e1fbc7a41d4ac6ff99955d6ac9e4d04e5e568433,22,5,5,8556,,,0,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: Id3227da315a66b8b14be181ac028cd663d53e80a
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/768562/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/watcher-tempest-plugin.yaml'],1,66b24d0230ec3f9f9598915d102fca7213d56d7d,tempest-plugin-stein-last, - version: stein-em projects: - repo: openstack/watcher-tempest-plugin hash: f5913409a5ab1887954594089cd275e7a62f2fb8,,4,0
openstack%2Freleases~master~I70760fda4999a34b7774120e452b389bce243f47,openstack/releases,master,I70760fda4999a34b7774120e452b389bce243f47,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 19:06:44.000000000,2021-01-28 10:41:34.000000000,2021-01-28 10:41:34.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27654}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-26 19:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f606a997f92f76bc430344e19712e7b0f9bcdee0', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I70760fda4999a34b7774120e452b389bce243f47\n'}, {'number': 2, 'created': '2020-12-26 20:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7f2fd3197f8cc7ad8cc106dcdcba2997a5b0fe00', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I70760fda4999a34b7774120e452b389bce243f47\n'}, {'number': 3, 'created': '2020-12-28 21:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4248252637a747318b28083aabfc72ced074bfe9', 'message': ""[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-em' as well as a new version also with same hash.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I70760fda4999a34b7774120e452b389bce243f47\n""}, {'number': 4, 'created': '2021-01-12 22:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a4fa6570db594cbbeeb398b9f6c3677e8c8f1267', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I70760fda4999a34b7774120e452b389bce243f47\n""}, {'number': 5, 'created': '2021-01-12 22:17:11.000000000', 'files': ['deliverables/wallaby/zun-tempest-plugin.yaml', 'deliverables/stein/zun-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b48dea9ad984b728b6e84474e4fd1c0b37ce901', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I70760fda4999a34b7774120e452b389bce243f47\n""}]",0,768564,7b48dea9ad984b728b6e84474e4fd1c0b37ce901,26,6,5,8556,,,0,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I70760fda4999a34b7774120e452b389bce243f47
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/768564/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/zun-tempest-plugin.yaml'],1,f606a997f92f76bc430344e19712e7b0f9bcdee0,tempest-plugin-stein-last, - version: stein-em projects: - repo: openstack/zun-tempest-plugin hash: 9c28eca4f5bc4f4c300ed28994c33276913a5a84,,4,0
openstack%2Fpuppet-gnocchi~stable%2Fvictoria~Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,openstack/puppet-gnocchi,stable/victoria,Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,Improve unit test coverage of gnocchi::storage::swift,MERGED,2021-01-26 11:34:21.000000000,2021-01-28 10:35:43.000000000,2021-01-28 10:35:43.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 11:34:21.000000000', 'files': ['spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/2d33aa890a9cb70c2c180b93ee2eecfcc12a318f', 'message': 'Improve unit test coverage of gnocchi::storage::swift\n\nCurrently we only test swift_endpoint_type, but we should test all\noptions to ensure all available options work.\n\nChange-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e\n(cherry picked from commit 7c3ec9872806b7ad286e45199c0fde6f59facf1c)\n'}]",0,772407,2d33aa890a9cb70c2c180b93ee2eecfcc12a318f,7,3,1,9816,,,0,"Improve unit test coverage of gnocchi::storage::swift

Currently we only test swift_endpoint_type, but we should test all
options to ensure all available options work.

Change-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e
(cherry picked from commit 7c3ec9872806b7ad286e45199c0fde6f59facf1c)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/07/772407/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_storage_swift_spec.rb'],1,2d33aa890a9cb70c2c180b93ee2eecfcc12a318f,swift-ut-stable/victoria," context 'with specific parameters' do :swift_user => 'swift2', :swift_key => 'admin', :swift_authurl => 'http://localhost:5000', :swift_project_name => 'service', :swift_user_domain_name => 'Default', :swift_project_domain_name => 'Default', :swift_region => 'regionOne', :swift_auth_version => 2, :swift_endpoint_type => 'publicURL', is_expected.to contain_gnocchi_config('storage/driver').with_value('swift') is_expected.to contain_gnocchi_config('storage/swift_user').with_value('swift2') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin') is_expected.to contain_gnocchi_config('storage/swift_authurl').with_value('http://localhost:5000') is_expected.to contain_gnocchi_config('storage/swift_project_name').with_value('service') is_expected.to contain_gnocchi_config('storage/swift_user_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_project_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_region').with_value('regionOne') is_expected.to contain_gnocchi_config('storage/swift_auth_version').with_value(2) is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('publicURL')", context 'with swift_endpoint_type set' do :swift_endpoint_type => 'internalURL' is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('internalURL'),21,3
openstack%2Freleases~master~I1989fdb9bb98335f7fcf180b8d2d403d5108886a,openstack/releases,master,I1989fdb9bb98335f7fcf180b8d2d403d5108886a,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:59:44.000000000,2021-01-28 10:34:22.000000000,2021-01-28 10:34:22.000000000,"[{'_account_id': 308}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-26 18:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9e7f5678ff35a6adce492a3304e4cee4c1315fc3', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I1989fdb9bb98335f7fcf180b8d2d403d5108886a\n'}, {'number': 2, 'created': '2020-12-26 20:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a536edc35c6bb1e4b77283be0dba5417a700016e', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I1989fdb9bb98335f7fcf180b8d2d403d5108886a\n'}, {'number': 3, 'created': '2020-12-28 21:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/086417195796c63571cc9ed9394adf6ef1d26129', 'message': ""[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-em' as well as a new version also with same hash.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I1989fdb9bb98335f7fcf180b8d2d403d5108886a\n""}, {'number': 4, 'created': '2021-01-12 22:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5fa760721b824c413e3b54272f31c2b0ee1e2bda', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I1989fdb9bb98335f7fcf180b8d2d403d5108886a\n""}, {'number': 5, 'created': '2021-01-12 22:24:41.000000000', 'files': ['deliverables/wallaby/sahara-tests.yaml', 'deliverables/stein/sahara-tests.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7c72ce04279b2de008d4bae6e257be09413ba2e8', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I1989fdb9bb98335f7fcf180b8d2d403d5108886a\n""}]",2,768556,7c72ce04279b2de008d4bae6e257be09413ba2e8,24,5,5,8556,,,0,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I1989fdb9bb98335f7fcf180b8d2d403d5108886a
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/768556/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-tests.yaml'],1,9e7f5678ff35a6adce492a3304e4cee4c1315fc3,tempest-plugin-stein-last, - version: stein-em projects: - repo: openstack/sahara-tests hash: edcd88782ba5221cf804a3c4b5a3c8bb5ef44b67,,4,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Fussuri~Id32d3a5727fc96e07e09332beb7265610e5c8b10,openstack/openstack-ansible-os_cinder,stable/ussuri,Id32d3a5727fc96e07e09332beb7265610e5c8b10,Define credentials for nova interaction,MERGED,2021-01-26 16:28:44.000000000,2021-01-28 10:28:23.000000000,2021-01-28 10:26:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-26 16:28:44.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/1e6ec68a1d595fa9c0772b2edc4b1c1eafae38c3', 'message': 'Define credentials for nova interaction\n\nBy default cinder will use tenant token for interaction with nova.\nHowever for resize of the in-use volume cinder needs to have admin\ncredentials set for such kind of interactions\n\nChange-Id: Id32d3a5727fc96e07e09332beb7265610e5c8b10\nCloses-Bug: #1902914\n(cherry picked from commit 00a38c6584c09168faad135f10d265ad9c86efba)\n'}]",0,772539,1e6ec68a1d595fa9c0772b2edc4b1c1eafae38c3,8,3,1,11290,,,0,"Define credentials for nova interaction

By default cinder will use tenant token for interaction with nova.
However for resize of the in-use volume cinder needs to have admin
credentials set for such kind of interactions

Change-Id: Id32d3a5727fc96e07e09332beb7265610e5c8b10
Closes-Bug: #1902914
(cherry picked from commit 00a38c6584c09168faad135f10d265ad9c86efba)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/39/772539/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,1e6ec68a1d595fa9c0772b2edc4b1c1eafae38c3,bug/1902914-stable/ussuri,auth_type = {{ cinder_keystone_auth_type }}auth_type = {{ cinder_keystone_auth_type }} auth_url = {{ keystone_service_internalurl }} password = {{ cinder_service_password }} project_domain_id = {{ cinder_service_project_domain_id }} project_name = {{ cinder_service_project_name }} region_name = {{ keystone_service_region }} user_domain_id = {{ cinder_service_user_domain_id }} username = {{ cinder_service_user_name }},auth_type = {{ cinder_keystone_auth_plugin }},9,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fvictoria~I958fda17e6207553466d8a7512e35c30b122c22c,openstack/openstack-ansible-os_neutron,stable/victoria,I958fda17e6207553466d8a7512e35c30b122c22c,Prevent neutron-l3-agent killing keepalived on restart,MERGED,2021-01-26 15:20:26.000000000,2021-01-28 10:27:02.000000000,2021-01-28 10:25:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-26 15:20:26.000000000', 'files': ['handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d12a8aa6c5f7af293e6b127795a13becd3d223d0', 'message': ""Prevent neutron-l3-agent killing keepalived on restart\n\nSystemd processes use a default KillMode of 'control-group'\nwhich causes all other processes spawned during execution to be\nkilled on service stop. Neutron expects the keepalived processes\nit starts to remain running in order to prevent data-plane\ninterruptions for HA routers.\n\nThis change switches the systemd KillMode to process in order to\nprevent this issue. In doing so we also have to clean up\nnon-keepalived processes started by neutron so that upon restart\neverything is running from the latest virtualenv which may have\nchanged during an upgrade.\n\nChange-Id: I958fda17e6207553466d8a7512e35c30b122c22c\nCloses-Bug: #1846198\nDepends-On: https://review.opendev.org/771770\n(cherry picked from commit a640ae8cc9b5b6f290a1a67ab3dd09470a785887)\n""}]",0,772538,d12a8aa6c5f7af293e6b127795a13becd3d223d0,8,3,1,31542,,,0,"Prevent neutron-l3-agent killing keepalived on restart

Systemd processes use a default KillMode of 'control-group'
which causes all other processes spawned during execution to be
killed on service stop. Neutron expects the keepalived processes
it starts to remain running in order to prevent data-plane
interruptions for HA routers.

This change switches the systemd KillMode to process in order to
prevent this issue. In doing so we also have to clean up
non-keepalived processes started by neutron so that upon restart
everything is running from the latest virtualenv which may have
changed during an upgrade.

Change-Id: I958fda17e6207553466d8a7512e35c30b122c22c
Closes-Bug: #1846198
Depends-On: https://review.opendev.org/771770
(cherry picked from commit a640ae8cc9b5b6f290a1a67ab3dd09470a785887)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/38/772538/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'vars/main.yml']",2,d12a8aa6c5f7af293e6b127795a13becd3d223d0,bug/1846198-stable/victoria," init_config_overrides: ""{{ _neutron_l3_agent_init_defaults | combine(neutron_l3_agent_init_overrides) }}""### Overrides for services where required ### # Ensure that keepalived processes are not stopped on exit _neutron_l3_agent_init_defaults: Service: KillMode: process ###"," init_config_overrides: ""{{ neutron_l3_agent_init_overrides }}""",31,1
openstack%2Fcharm-manila-ganesha~master~Ic5dc98209a457d8d4d355e5d71b69f509891ad10,openstack/charm-manila-ganesha,master,Ic5dc98209a457d8d4d355e5d71b69f509891ad10,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:03:32.000000000,2021-01-28 10:23:16.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 11:03:32.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/af091b842e842a429c6f5f3c444db52753a745ad', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: Ic5dc98209a457d8d4d355e5d71b69f509891ad10\n'}]",0,772313,af091b842e842a429c6f5f3c444db52753a745ad,8,2,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: Ic5dc98209a457d8d4d355e5d71b69f509891ad10
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/13/772313/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,af091b842e842a429c6f5f3c444db52753a745ad,bug/1912505,f070f90e-5efa-11eb-b4be-63c175433d14,5009ce6a-0e2c-11eb-b2fb-73059b0f7e69,1,1
openstack%2Fneutron~master~I0b3a3cf94b1d0ae721d5446c8abcf74bd29883c7,openstack/neutron,master,I0b3a3cf94b1d0ae721d5446c8abcf74bd29883c7,[FT] Do not fail when decoding the JSON from ip_monitor,MERGED,2021-01-15 15:57:41.000000000,2021-01-28 09:53:12.000000000,2021-01-28 09:49:44.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 15:57:41.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/19b137aeed77a05a2107e63d4566323351668f00', 'message': '[FT] Do not fail when decoding the JSON from ip_monitor\n\nWhen reading the JSON blob from the file written by ""ip_monitor"",\ndo not fail if the JSON blob is decoded incorrectly.\n\nChange-Id: I0b3a3cf94b1d0ae721d5446c8abcf74bd29883c7\nCloses-Bug: #1911927\n'}]",0,770983,19b137aeed77a05a2107e63d4566323351668f00,10,4,1,16688,,,0,"[FT] Do not fail when decoding the JSON from ip_monitor

When reading the JSON blob from the file written by ""ip_monitor"",
do not fail if the JSON blob is decoded incorrectly.

Change-Id: I0b3a3cf94b1d0ae721d5446c8abcf74bd29883c7
Closes-Bug: #1911927
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/770983/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ip_lib.py'],1,19b137aeed77a05a2107e63d4566323351668f00,bug/1911927," except (OSError, IOError, ValueError):"," except (OSError, IOError):",1,1
openstack%2Fcharm-barbican~master~Ieff90482f0acfac735c1ed69fc0593bd44913bac,openstack/charm-barbican,master,Ieff90482f0acfac735c1ed69fc0593bd44913bac,Fix missing auto DB creation on Victoria,MERGED,2021-01-15 16:26:43.000000000,2021-01-28 09:52:41.000000000,2021-01-28 09:52:41.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/562e960dfe05830de3ab32ab457a20ce55f05599', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: Ieff90482f0acfac735c1ed69fc0593bd44913bac\n'}, {'number': 2, 'created': '2021-01-27 17:19:02.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/templates/rocky/barbican.conf', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/746e7f88a48348f62924bb7daa1967b66df3c851', 'message': 'Fix missing auto DB creation on Victoria\n\nAlso updates for testing period for 20.01 release.\nAll these changes are needed together in order to have passing\nfunctional tests.\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: Ieff90482f0acfac735c1ed69fc0593bd44913bac\nCloses-Bug: #1903725\n'}]",0,771005,746e7f88a48348f62924bb7daa1967b66df3c851,15,4,2,20870,,,0,"Fix missing auto DB creation on Victoria

Also updates for testing period for 20.01 release.
All these changes are needed together in order to have passing
functional tests.

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Ieff90482f0acfac735c1ed69fc0593bd44913bac
Closes-Bug: #1903725
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/05/771005/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt']",3,562e960dfe05830de3ab32ab457a20ce55f05599,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,,7,1
openstack%2Ftripleo-common~stable%2Ftrain~If7e233f186db3ec41b8563d0e263153f3532c27c,openstack/tripleo-common,stable/train,If7e233f186db3ec41b8563d0e263153f3532c27c,Fix placement endpoint check when endpoints are not set,ABANDONED,2021-01-27 14:01:37.000000000,2021-01-28 08:46:53.000000000,,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-01-27 14:01:37.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8584604086e24d9c3dcd7612d41e2bc896c28311', 'message': ""Fix placement endpoint check when endpoints are not set\n\nWhen endpoint are not set in the heat resource, None is returned, not an empty\ndict. The check then raises a 'NoneType' is not iterable exception.\n\nFix the logic to handle None and update the unit test.\n\nCloses-bug: #1913416\nResolves: rhbz#1911653\n\nChange-Id: If7e233f186db3ec41b8563d0e263153f3532c27c\n(cherry picked from commit 86d0e65a2905f46eca05cbf4070f97feaa392463)\n""}]",0,772696,8584604086e24d9c3dcd7612d41e2bc896c28311,6,8,1,26343,,,0,"Fix placement endpoint check when endpoints are not set

When endpoint are not set in the heat resource, None is returned, not an empty
dict. The check then raises a 'NoneType' is not iterable exception.

Fix the logic to handle None and update the unit test.

Closes-bug: #1913416
Resolves: rhbz#1911653

Change-Id: If7e233f186db3ec41b8563d0e263153f3532c27c
(cherry picked from commit 86d0e65a2905f46eca05cbf4070f97feaa392463)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/772696/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,8584604086e24d9c3dcd7612d41e2bc896c28311,," placement_extracted = False endpoints = endpoint_res.attributes.get('endpoint_map', None) placement_extracted = endpoints and 'PlacementPublic' in endpoints except heat_exc.HTTPNotFound: pass"," endpoints = endpoint_res.attributes.get('endpoint_map', {}) placement_extracted = 'PlacementPublic' in endpoints except heat_exc.HTTPNotFound: placement_extracted = False",5,4
openstack%2Ftripleo-quickstart-extras~master~Ia022ad51c1fa992b7b67b623eb206e78511b4add,openstack/tripleo-quickstart-extras,master,Ia022ad51c1fa992b7b67b623eb206e78511b4add,Reflect jobs config for gate pipeline from check,MERGED,2021-01-25 13:28:59.000000000,2021-01-28 08:25:38.000000000,2021-01-28 08:25:38.000000000,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 13:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/813d8b1d83e06f1f79f9313984e3814980d90158', 'message': 'Reflect jobs config for gate pipeline from check\n\nMake sure same jobs run in check and gate with the same\nconditions.\nChange-Id: Ia022ad51c1fa992b7b67b623eb206e78511b4add\n'}, {'number': 2, 'created': '2021-01-25 14:00:01.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bebac310415da73170b77af90743edfcaafd307a', 'message': 'Reflect jobs config for gate pipeline from check\n\nMake sure same jobs run in check and gate with the same\nconditions.\nChange-Id: Ia022ad51c1fa992b7b67b623eb206e78511b4add\n'}]",0,772343,bebac310415da73170b77af90743edfcaafd307a,12,6,2,10969,,,0,"Reflect jobs config for gate pipeline from check

Make sure same jobs run in check and gate with the same
conditions.
Change-Id: Ia022ad51c1fa992b7b67b623eb206e78511b4add
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/772343/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,813d8b1d83e06f1f79f9313984e3814980d90158,, - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$,,22,0
openstack%2Foctavia-dashboard~master~I63729aecefb9763c49f19d69b7f1edf43a921cd3,openstack/octavia-dashboard,master,I63729aecefb9763c49f19d69b7f1edf43a921cd3,Imported Translations from Zanata,MERGED,2020-12-11 07:44:22.000000000,2021-01-28 07:39:03.000000000,2021-01-28 07:37:08.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-12-11 07:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7013482fd6ce4db00b96c7994eeb0ff45a08ad6e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I63729aecefb9763c49f19d69b7f1edf43a921cd3\n'}, {'number': 2, 'created': '2021-01-21 07:36:46.000000000', 'files': ['octavia_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'octavia_dashboard/locale/de/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1a29983ebc0eaa4f00d0a3050454f2ad298bf23f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I63729aecefb9763c49f19d69b7f1edf43a921cd3\n'}]",0,766679,1a29983ebc0eaa4f00d0a3050454f2ad298bf23f,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I63729aecefb9763c49f19d69b7f1edf43a921cd3
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/79/766679/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'octavia_dashboard/locale/de/LC_MESSAGES/djangojs.po']",4,7013482fd6ce4db00b96c7994eeb0ff45a08ad6e,zanata/translations,"""POT-Creation-Date: 2020-11-24 15:12+0000\n""""PO-Revision-Date: 2020-04-25 09:29+0000\n""","""POT-Creation-Date: 2020-09-25 16:30+0000\n""""PO-Revision-Date: 2020-10-05 06:33+0000\n""msgid """" ""The protocol for which this pool and its members listen. A valid value is "" ""HTTP, HTTPS, PROXY, PROXYV2, TCP or UDP."" msgstr """" ""Das Protokoll, auf das dieser Pool und seine Mitglieder hören. Ein gültiger "" ""Wert ist HTTP, HTTPS, PROXY, PROXYV2, TCP oder UDP."" ",34,26
openstack%2Fpuppet-tripleo~stable%2Ftrain~Iaa2676655d97a66237a3bd6066985f87d3565a4d,openstack/puppet-tripleo,stable/train,Iaa2676655d97a66237a3bd6066985f87d3565a4d,WIP Allow to specify a nic for the VIPs,ABANDONED,2020-11-03 21:05:15.000000000,2021-01-28 07:33:40.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 21:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d79fa0193e6638fddaaf8237b2a7502e7734e54', 'message': 'WIP Allow to specify a nic for the VIPs\n\nStill need to test this\n\nChange-Id: Iaa2676655d97a66237a3bd6066985f87d3565a4d\n(cherry picked from commit 549451660f651778568ff38019753fa258d7b6e1)\n'}, {'number': 2, 'created': '2020-11-04 08:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d7baae4e28a587500da817d2ded3f1f69b53bd0c', 'message': 'WIP Allow to specify a nic for the VIPs\n\nStill need to test this\n\nChange-Id: Iaa2676655d97a66237a3bd6066985f87d3565a4d\n(cherry picked from commit 549451660f651778568ff38019753fa258d7b6e1)\n'}, {'number': 3, 'created': '2020-11-17 07:35:56.000000000', 'files': ['manifests/pacemaker/haproxy_with_vip.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c686b3377d40df659c33a3e544991bad8323ea8f', 'message': 'WIP Allow to specify a nic for the VIPs\n\nStill need to test this\n\nChange-Id: Iaa2676655d97a66237a3bd6066985f87d3565a4d\n(cherry picked from commit 549451660f651778568ff38019753fa258d7b6e1)\n'}]",0,761228,c686b3377d40df659c33a3e544991bad8323ea8f,15,3,3,20172,,,0,"WIP Allow to specify a nic for the VIPs

Still need to test this

Change-Id: Iaa2676655d97a66237a3bd6066985f87d3565a4d
(cherry picked from commit 549451660f651778568ff38019753fa258d7b6e1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/761228/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/pacemaker/haproxy_with_vip.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",3,2d79fa0193e6638fddaaf8237b2a7502e7734e54,wip-nic,"# [*force_nic*] # (optional) Force a specific nic interface name when creating all the VIPs # The listening nic can be customized on a per-VIP basis by creating a hiera # dict called: force_vip_nic_overrides[<vip/network name>] = 'dummy' # Defaults to hiera('tripleo::pacemaker::force_nic', undef) # $force_nic = hiera('tripleo::pacemaker::force_nic', undef), $force_vip_nic_overrides = hiera('force_vip_nic_overrides', {}) if validate_legacy(Hash, 'validate_hash', $force_vip_nic_overrides) and has_key($force_vip_nic_overrides, 'ovn_dbs_vip') { $ovn_dbs_vip_nic = $force_vip_nic_overrides['ovn_dbs_vip'] } else { $ovn_dbs_vip_nic = $force_nic } $ovn_dbs_vip_nic = $force_nic $ovn_dbs_vip_nic = $force_nic nic => $ovn_dbs_vip_nic,"," $nic = interface_for_ip($ovn_dbs_vip) $nic = '' nic => $nic,",59,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I74465f5ae77a0666540d3465e2ad29b03f9bd3c3,openstack/tripleo-heat-templates,stable/victoria,I74465f5ae77a0666540d3465e2ad29b03f9bd3c3,Deleting nova-consoleauth services in post-upgrade,MERGED,2021-01-27 14:39:09.000000000,2021-01-28 07:16:36.000000000,2021-01-28 07:16:36.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 14:39:09.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f8b5c4d210913125e58fc2608b3c9e7d48f2f28', 'message': 'Deleting nova-consoleauth services in post-upgrade\n\nnova-consoleauth was removed in Stein. We need to delete the compute\nservices during major upgrades.\n\nRelated: https://bugzilla.redhat.com/1825849\nChange-Id: I74465f5ae77a0666540d3465e2ad29b03f9bd3c3\n(cherry picked from commit 04405abdd463163d5586e0b5c9bdff42ae436003)\n'}]",1,772669,7f8b5c4d210913125e58fc2608b3c9e7d48f2f28,8,9,1,27419,,,0,"Deleting nova-consoleauth services in post-upgrade

nova-consoleauth was removed in Stein. We need to delete the compute
services during major upgrades.

Related: https://bugzilla.redhat.com/1825849
Change-Id: I74465f5ae77a0666540d3465e2ad29b03f9bd3c3
(cherry picked from commit 04405abdd463163d5586e0b5c9bdff42ae436003)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/772669/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,7f8b5c4d210913125e58fc2608b3c9e7d48f2f28,delete_nova-consoleauth," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true post_upgrade_tasks: - when: - step|int == 5 tags: - never - system_upgrade_stop_services environment: OS_USERNAME: admin OS_USER_DOMAIN_NAME: ""Default"" OS_PROJECT_DOMAIN_NAME: ""Default"" OS_PROJECT_NAME: admin OS_PASSWORD: { get_param: AdminPassword } OS_AUTH_URL: { get_param: [EndpointMap, KeystoneV3Public, uri] } OS_IDENTITY_API_VERSION: 3 OS_AUTH_TYPE: password block: - name: Get nova-consoleauth service ID command: openstack compute service list --service nova-consoleauth --column ID --column Host --format yaml register: nova_compute_service_result delegate_to: localhost check_mode: no run_once: yes changed_when: false - name: Deleting nova-consoleauth command: ""openstack compute service delete {{ item.ID }}"" loop: ""{{ nova_compute_service_result.stdout | from_yaml }}"" run_once: yes delegate_to: localhost ignore_errors: yes",,34,0
openstack%2Fmanila~stable%2Fstein~Id6d50d1764dc1ab21c9f73abcdadb9db0a198367,openstack/manila,stable/stein,Id6d50d1764dc1ab21c9f73abcdadb9db0a198367,[stable/stein] Update requirements and constraints,ABANDONED,2021-01-11 21:33:03.000000000,2021-01-28 07:12:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 21:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d4449aa475251c736aaacaa8b165b9c2654da59a', 'message': ""[stable/stein] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This causes our lower-constraints\ntests to fail, because the requirements and lower\nconstraints files were out of date with reality.\n\nWe were also using an install_command directive\nthat was forcing us to constrain the lower-constraints\njob with both lower and upper constraints - this\nwasn't the intent, and is plain wrong. So, this\ncommit moves the upper constraint to a tox dependency\nwhich is overridden only in the lower constraint\njob.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1) (0.24.1 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky) [3]\n* psycopg2 (2.6.2-->2.7.7)\n(psycopg2 is a unit test requirement)\n\nVersion changes transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1) (1.1.1 is the upper-constraint)\n* PyYaml (3.12 --> 3.13)\n(3.13 is the upper-constraint)\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[3] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n\nChange-Id: Id6d50d1764dc1ab21c9f73abcdadb9db0a198367\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-01-14 00:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f19ff796d251519155d37cddbd4a37b0dd89aee6', 'message': '[stable/stein] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nAs a result of fixing our tests, we\'re also\nhaving to update the lower bounds of some\nrequirements on this branch.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1)\n(0.25.2 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky [4]\nupper-constraint is 9.5.2)\n* oslo.service (1.24.0 --> 1.31.0)\n(1.31.0 was released 2018 April, during Rocky [5]\nupper-constraint is 1.38.1)\n* psycopg2 (2.6.2-->2.7.7)\n(psycopg2 is a unit test requirement)\n\nVersion changes for transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1)\n(1.1.1 is the upper-constraint)\n* psutil (5.4.3 --> 5.6.3)\n(5.6.3 is the upper-constraint)\n* PyYAML (3.12 --> 3.13)\n(3.13 is the upper-constraint)\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html\n\nPartial-Bug: #1911071\nChange-Id: Id6d50d1764dc1ab21c9f73abcdadb9db0a198367\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-01-14 03:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0681c39e228f91e33dbb151b4058510ed19718d3', 'message': '[stable/stein] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nAs a result of fixing our tests, we\'re also\nhaving to update the lower bounds of some\nrequirements on this branch.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1)\n(0.25.2 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky [4]\nupper-constraint is 9.5.2)\n* oslo.service (1.24.0 --> 1.31.0)\n(1.31.0 was released 2018 April, during Rocky [5]\nupper-constraint is 1.38.1)\n* psycopg2 (2.6.2-->2.7.7)\n(psycopg2 is a unit test requirement)\n\nVersion changes for transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1)\n(1.1.1 is the upper-constraint)\n* psutil (5.4.3 --> 5.6.3)\n(5.6.3 is the upper-constraint)\n* PyYAML (3.12 --> 3.13)\n(3.13 is the upper-constraint)\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html\n\nPartial-Bug: #1911071\nChange-Id: Id6d50d1764dc1ab21c9f73abcdadb9db0a198367\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-01-20 23:15:45.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/bd058da0daaf5b58a0edc3b61c72e3ae68b39b5e', 'message': '[stable/stein] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nAs a result of fixing our tests, we\'re also\nhaving to update the lower bounds of some\nrequirements on this branch.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1)\n(0.25.2 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky [4]\nupper-constraint is 9.5.2)\n* oslo.service (1.24.0 --> 1.31.0)\n(1.31.0 was released 2018 April, during Rocky [5]\nupper-constraint is 1.38.1)\n* psycopg2 (2.6.2-->2.7.7)\n(psycopg2 is a unit test requirement)\n\nVersion changes for transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1)\n(1.1.1 is the upper-constraint)\n* psutil (5.4.3 --> 5.6.3)\n(5.6.3 is the upper-constraint)\n* PyYAML (3.12 --> 3.13)\n(3.13 is the upper-constraint)\n\nNew markers are added to the sphinx requirement\nin doc/requirements.txt to align to the\nglobal requirements of this branch.\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html\n\nPartial-Bug: #1911071\nChange-Id: Id6d50d1764dc1ab21c9f73abcdadb9db0a198367\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,770207,bd058da0daaf5b58a0edc3b61c72e3ae68b39b5e,16,1,4,16643,,,0,"[stable/stein] Update requirements and constraints

pip 20.3 brings in a strict dependency resolver which
is enabled by default. This dependency resolver
unearthed the error in our tox file where we
were constraining our lower-constraints job with both
upper and lower constraints files.

The upper constraint file was being pulled in because
we had an unnecessary ""pip install"" command added as
""install_command"". We have removed the use of
install_command from ussuri [1]; but the older branches
need to be addressed.

As a result of fixing our tests, we're also
having to update the lower bounds of some
requirements on this branch.

Version changes for direct dependencies:
* eventlet (0.18.2 --> 0.24.1)
(0.25.2 is the upper-constraint)
* oslo.messaging (5.29.0 --> 6.4.1)
(6.4.1 was released 2018 June, during Rocky [4]
upper-constraint is 9.5.2)
* oslo.service (1.24.0 --> 1.31.0)
(1.31.0 was released 2018 April, during Rocky [5]
upper-constraint is 1.38.1)
* psycopg2 (2.6.2-->2.7.7)
(psycopg2 is a unit test requirement)

Version changes for transitive dependencies:
* MarkupSafe (1.0 --> 1.1.1)
(1.1.1 is the upper-constraint)
* psutil (5.4.3 --> 5.6.3)
(5.6.3 is the upper-constraint)
* PyYAML (3.12 --> 3.13)
(3.13 is the upper-constraint)

New markers are added to the sphinx requirement
in doc/requirements.txt to align to the
global requirements of this branch.

[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6
[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html
[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html

Partial-Bug: #1911071
Change-Id: Id6d50d1764dc1ab21c9f73abcdadb9db0a198367
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/770207/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,d4449aa475251c736aaacaa8b165b9c2654da59a,update-requirements,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} {opts} {packages}deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,11,10
openstack%2Frequirements~master~I52e9f65093d2d52320d6cd6a8ebe5b120e758c86,openstack/requirements,master,I52e9f65093d2d52320d6cd6a8ebe5b120e758c86,Updated from generate-constraints,ABANDONED,2021-01-28 06:22:34.000000000,2021-01-28 06:57:08.000000000,,[],"[{'number': 1, 'created': '2021-01-28 06:22:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8b7645b7bd93bcee92b05a6893069ae2c4ba87e7', 'message': 'Updated from generate-constraints\n\nChange-Id: I52e9f65093d2d52320d6cd6a8ebe5b120e758c86\n'}]",0,772831,8b7645b7bd93bcee92b05a6893069ae2c4ba87e7,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I52e9f65093d2d52320d6cd6a8ebe5b120e758c86
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/772831/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8b7645b7bd93bcee92b05a6893069ae2c4ba87e7,openstack/requirements/constraints,mock===4.0.3boto3===1.16.61construct===2.10.58botocore===1.19.61oslo.db===8.5.0pkg-resources===0.0.0execnet===1.8.0fasteners===0.16virtualenv===20.4.0,mock===3.0.5boto3===1.16.60construct===2.10.57botocore===1.19.60oslo.db===8.4.0execnet===1.7.1fasteners===0.14.1virtualenv===20.2.1setuptools===52.0.0,9,9
openstack%2Ftripleo-heat-templates~master~Ic29810ae8e8d53d54a423e494b4446963f7c381c,openstack/tripleo-heat-templates,master,Ic29810ae8e8d53d54a423e494b4446963f7c381c,"Remove External{Internal,Public,Admin}Url parameters",MERGED,2021-01-22 17:05:15.000000000,2021-01-28 06:36:22.000000000,2021-01-28 06:36:22.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-22 17:05:15.000000000', 'files': ['deployment/swift/external-swift-proxy-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42bf766c78fd802ee38cd9515ee09e38f78f8779', 'message': ""Remove External{Internal,Public,Admin}Url parameters\n\nThese were deprecated in stable/train and we don't want the deprecated\nparams to have precedence over the newer parameter names anymore.\n\nChange-Id: Ic29810ae8e8d53d54a423e494b4446963f7c381c\n""}]",0,772069,42bf766c78fd802ee38cd9515ee09e38f78f8779,12,4,1,6796,,,0,"Remove External{Internal,Public,Admin}Url parameters

These were deprecated in stable/train and we don't want the deprecated
params to have precedence over the newer parameter names anymore.

Change-Id: Ic29810ae8e8d53d54a423e494b4446963f7c381c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/772069/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/external-swift-proxy-baremetal-puppet.yaml'],1,42bf766c78fd802ee38cd9515ee09e38f78f8779,, public: {get_param: ExternalSwiftPublicUrl} internal: {get_param: ExternalSwiftInternalUrl} admin: {get_param: ExternalSwiftAdminUrl}," ExternalPublicUrl: description: (DEPRECATED) Public endpoint url for the external swift proxy type: string default: 'deprecated' ExternalInternalUrl: description: (DEPRECATED) Internal endpoint url for the external swift proxy type: string default: 'deprecated' ExternalAdminUrl: description: (DEPRECATED) External endpoint url for the external swift proxy type: string default: 'deprecated'parameter_groups: - label: deprecated description: | The following parameters are deprecated and will be removed. They should not be relied on for new deployments. If you have concerns regarding deprecated parameters, please contact the TripleO development team on IRC or the OpenStack mailing list. parameters: - ExternalAdminUrl - ExternalInternalUrl - ExternalPublicUrl resources: conditions: deprecated_external_admin_url: {not: {equals: [{get_param: ExternalAdminUrl}, 'deprecated']}} deprecated_external_internal_url: {not: {equals: [{get_param: ExternalInternalUrl}, 'deprecated']}} deprecated_external_public_url: {not: {equals: [{get_param: ExternalPublicUrl}, 'deprecated']}} public: if: - deprecated_external_public_url - {get_param: ExternalPublicUrl} - {get_param: ExternalSwiftPublicUrl} internal: if: - deprecated_external_internal_url - {get_param: ExternalInternalUrl} - {get_param: ExternalSwiftInternalUrl} admin: if: - deprecated_external_admin_url - {get_param: ExternalAdminUrl} - {get_param: ExternalSwiftAdminUrl}",3,46
openstack%2Fcinder~master~I65d63a3add96b1b6589c3704606df2a3d865e272,openstack/cinder,master,I65d63a3add96b1b6589c3704606df2a3d865e272,doc: update release cycle tasks,MERGED,2020-10-27 01:14:12.000000000,2021-01-28 04:33:26.000000000,2021-01-28 04:29:17.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-10-27 01:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/505e4eba263e75bd81dfd1d10002252fc43f7ddf', 'message': 'doc: update release cycle tasks\n\nAlso add a new doc about maintaining group memberships.\n\nChange-Id: I65d63a3add96b1b6589c3704606df2a3d865e272\n'}, {'number': 2, 'created': '2020-10-27 21:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1948e44cf87049d164fb7cbf8e32332b3b57ab81', 'message': 'doc: update release cycle tasks\n\nAlso add a new doc about maintaining group memberships.\n\nChange-Id: I65d63a3add96b1b6589c3704606df2a3d865e272\n'}, {'number': 3, 'created': '2020-10-30 16:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfd562db05635cfd981692ab08fb20a3e4b8657c', 'message': 'doc: update release cycle tasks\n\nAlso add a new doc about maintaining group memberships.\n\nChange-Id: I65d63a3add96b1b6589c3704606df2a3d865e272\n'}, {'number': 4, 'created': '2020-12-15 04:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08f02f0cc2950ad8a412ec85433f925cf3eb3f43', 'message': 'doc: update release cycle tasks\n\nAlso add a new doc about maintaining group memberships.\n\nChange-Id: I65d63a3add96b1b6589c3704606df2a3d865e272\n'}, {'number': 5, 'created': '2021-01-05 22:52:46.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/cinder-groups.rst', 'doc/source/contributor/releasecycle.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/300353de815129b5bb3232b733f3979a74d0eb4b', 'message': 'doc: update release cycle tasks\n\nAdd info about cinderlib, cinder-tempest-plugin, and transitioning\nthe oldest stable branch to extended maintenance mode.  Also add a\nnew doc about maintaining group memberships.\n\nChange-Id: I65d63a3add96b1b6589c3704606df2a3d865e272\n'}]",0,759782,300353de815129b5bb3232b733f3979a74d0eb4b,97,24,5,5314,,,0,"doc: update release cycle tasks

Add info about cinderlib, cinder-tempest-plugin, and transitioning
the oldest stable branch to extended maintenance mode.  Also add a
new doc about maintaining group memberships.

Change-Id: I65d63a3add96b1b6589c3704606df2a3d865e272
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/759782/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/cinder-groups.rst', 'doc/source/contributor/releasecycle.rst']",3,505e4eba263e75bd81dfd1d10002252fc43f7ddf,update-relcycle-tasks," The PTGbot will generate a list of etherpads at some point that will be named according to the convention:: https://etherpad.openstack.org/p/<release-name>-ptg-cinder (You can use a different name, but following the convention makes it easy to locate the etherpad for any project for any release. Something we've done in the past is to do the planning on an etherpad named:: https://etherpad.openstack.org/p/<release-name>-ptg-cinder-planning and then move the topics over to the ""real"" etherpad when the team has decided on what to include and the ordering. Do whatever works for you. Just make sure the team knows where the planning etherpad is and give everyone plenty of reminders to add topics. #. Add any Cinder-specific schedule information to the release calendar as soon as it's available (for example, see https://review.opendev.org/#/c/754484/). * We used to wait to do this until after proposed deadlines were discussed at the PTG, but recently people have been getting antsy about what the deadlines are as soon as the stable branch for the previous release is cut (which is roughly a month before the PTG). So you may want to go ahead and post the patch early and announce the dates at a Cinder meeting so that people can point out conflicts. Or do it the old-fashioned way and work it out at the PTG. Either way, the point is to make sure you don't forget to add Cinder-specific dates to the main release schedule. #. Review the :doc:`cinder-groups`.#. Make sure the maximum microversion is up-to-date in the version history file ``cinder/api/openstack/rest_api_version_history.rst`` * Any patch that bumped the microversion should have already included an entry in this file; you need to add ""(Maximum in <release-name>)"" to the last (highest) entry. * This file is pulled into the api-ref by the documentation build process. #. Check the ""Driver Removal History"" section (bottom) of ``doc/source/reference/support-matrix.rst`` to make sure any drivers removed during the cycle are mentioned there. #. Check the upgrade check tool ``cmd/status.py`` to make sure the removed drivers list is up to date. Include ``stable/$series`` branching request with the release.", Add a link to the etherpad to the list of PTG etherpads (for example: https://wiki.openstack.org/wiki/PTG/Train/Etherpads) #. Add any Cinder-specific schedule information to the release calendar (https://review.openstack.org/#/c/509019/) Include stable/$series branching request with the release.,166,6
openstack%2Fdevstack~stable%2Fpike~I88ba370de8887a05c473fe7c19a61a319e8812d2,openstack/devstack,stable/pike,I88ba370de8887a05c473fe7c19a61a319e8812d2,Use a dedicated version of get-pip.py for python 2.7,MERGED,2021-01-26 09:58:20.000000000,2021-01-28 04:29:11.000000000,2021-01-28 04:29:11.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 9542}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 09:58:20.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/167f132dd8300d142409f5e23ff048f43ffc4808', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n(cherry picked from commit 773efe5723c9e747bc6d49457d2732dbe5663cd6)\n(cherry picked from commit 5323955cc538f4af51dd84777a3f034ed0954003)\n(cherry picked from commit 539754735ce5d93fa9c39e11727297dc216213f0)\n'}]",1,772489,167f132dd8300d142409f5e23ff048f43ffc4808,13,6,1,17685,,,0,"Use a dedicated version of get-pip.py for python 2.7

get-pip.py dropped python 2.7 support, so we cannot use the default
get-pip.py for python 2.7 now. get-pip.py for python 2.7 is available
at https://bootstrap.pypa.io/2.7/get-pip.py.
This commit tries to use python 2.7 version of get-pip.py
for python 2.7 environment.

Change-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2
(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)
(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)
(cherry picked from commit 773efe5723c9e747bc6d49457d2732dbe5663cd6)
(cherry picked from commit 5323955cc538f4af51dd84777a3f034ed0954003)
(cherry picked from commit 539754735ce5d93fa9c39e11727297dc216213f0)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/89/772489/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,167f132dd8300d142409f5e23ff048f43ffc4808,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}LOCAL_PIP_PY27=""${LOCAL_PIP}-py27""function _install_get_pip { local interpreter=$1 local pip_get_pip_url=$2 local local_pip=$3 if [[ -r $local_pip ]]; then if ! head -1 $local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $local_pip found removing"" rm $local_pip if [[ ! -r $local_pip || -r $local_pip.downloaded ]]; then if [[ -r $local_pip ]]; then timecond=""-z $local_pip"" $timecond -o $local_pip $pip_get_pip_url || \ touch $local_pip.downloaded sudo -H -E $interpreter $local_pip -c $TOOLS_DIR/cap-pip.txt } function install_get_pip { _install_get_pip python $PIP_GET_PIP_PY27_URL $LOCAL_PIP_PY27 _install_get_pip python${PYTHON3_VERSION} $PIP_GET_PIP_URL $LOCAL_PIP","function install_get_pip { if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",23,12
openstack%2Fopenstack-helm-infra~master~I5e6eccc4b34a891078ba816249795b2bf1921a62,openstack/openstack-helm-infra,master,I5e6eccc4b34a891078ba816249795b2bf1921a62,Add reno job to openstack-helm-infra repo,MERGED,2021-01-14 02:24:51.000000000,2021-01-28 04:25:30.000000000,2021-01-28 04:21:38.000000000,"[{'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-01-14 02:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4558b02c175a3d6fc3cc3153b7256f005cb8a408', 'message': 'Add reno job to openstack-helm-infra repo\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH-infra\nand published to tarballs.o.o.\n\nChange-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62\n'}, {'number': 2, 'created': '2021-01-14 03:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/518ee169ba775c85ad9624f8dfb81f16b1a52f9e', 'message': 'Add reno job to openstack-helm-infra repo\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH-infra\nand published to tarballs.o.o.\n\nChange-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62\n'}, {'number': 3, 'created': '2021-01-20 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e2a3b04b25356d91c865de6657b2c836f6ede56', 'message': 'Add reno job to openstack-helm-infra repo\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH-infra\nand published to tarballs.o.o.\n\nChange-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62\n'}, {'number': 4, 'created': '2021-01-20 22:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/886eaef696ec9e2e1f6a45f5978f13a82d08bfab', 'message': 'Add reno job to openstack-helm-infra repo\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH-infra\nand published to tarballs.o.o.\n\nChange-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62\n'}, {'number': 5, 'created': '2021-01-20 23:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ec5eedae4c5bf41529b437a63c1bfbc00661605', 'message': 'Add reno job to openstack-helm-infra repo\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH-infra\nand published to tarballs.o.o.\n\nChange-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62\n'}, {'number': 6, 'created': '2021-01-21 14:36:59.000000000', 'files': ['releasenotes/notes/memcached.yaml', 'releasenotes/notes/kubernetes-node-problem-detector.yaml', 'releasenotes/notes/etcd.yaml', 'releasenotes/notes/zookeeper.yaml', 'releasenotes/notes/nagios.yaml', 'releasenotes/notes/postgresql.yaml', 'releasenotes/notes/kafka.yaml', 'releasenotes/notes/local-storage.yaml', 'releasenotes/notes/prometheus-alertmanager.yaml', 'releasenotes/notes/tiller.yaml', 'releasenotes/notes/prometheus-openstack-exporter.yaml', 'releasenotes/notes/nfs-provisioner.yaml', 'releasenotes/source/current.rst', 'releasenotes/notes/ceph-mon.yaml', 'releasenotes/notes/elasticsearch.yaml', 'releasenotes/source/index.rst', 'releasenotes/notes/ceph-osd.yaml', 'releasenotes/config.yaml', 'releasenotes/notes/flannel.yaml', 'releasenotes/notes/openvswitch.yaml', 'releasenotes/notes/ceph-client.yaml', 'releasenotes/notes/prometheus-blackbox-exporter.yaml', 'tox.ini', 'releasenotes/notes/fluentd.yaml', 'releasenotes/notes/fluentbit.yaml', 'releasenotes/notes/alerta.yaml', 'releasenotes/notes/prometheus-kube-state-metrics.yaml', 'releasenotes/notes/prometheus-node-exporter.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'releasenotes/notes/ceph-provisioners.yaml', 'releasenotes/notes/mongodb.yaml', 'releasenotes/notes/ca-issuer.yaml', 'releasenotes/notes/elastic-metricbeat.yaml', 'releasenotes/notes/falco.yaml', 'releasenotes/notes/kibana.yaml', 'releasenotes/notes/lockdown.yaml', 'releasenotes/notes/podsecuritypolicy.yaml', 'releasenotes/notes/prometheus.yaml', 'releasenotes/notes/libvirt.yaml', 'releasenotes/notes/elastic-apm-server.yaml', 'releasenotes/notes/elastic-packetbeat.yaml', 'releasenotes/notes/kubernetes-keystone-webhook.yaml', 'releasenotes/notes/kube-dns.yaml', 'releasenotes/notes/redis.yaml', 'releasenotes/notes/rabbitmq.yaml', 'releasenotes/notes/namespace-config.yaml', 'releasenotes/notes/grafana.yaml', 'releasenotes/notes/metacontroller.yaml', 'releasenotes/notes/powerdns.yaml', 'releasenotes/notes/ingress.yaml', 'releasenotes/notes/daemonjob-controller.yaml', 'releasenotes/notes/calico.yaml', 'releasenotes/notes/gnocchi.yaml', 'releasenotes/notes/elastic-filebeat.yaml', 'releasenotes/notes/ldap.yaml', 'releasenotes/notes/mariadb.yaml', 'releasenotes/notes/registry.yaml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'releasenotes/notes/prometheus-process-exporter.yaml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a1677a36a7e3d3d06b4e8f2752f622274185256', 'message': 'Add reno job to openstack-helm-infra repo\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH-infra\nand published to tarballs.o.o.\n\nChange-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62\n'}]",0,770692,2a1677a36a7e3d3d06b4e8f2752f622274185256,31,5,6,21420,,,0,"Add reno job to openstack-helm-infra repo

With OSH now publishing charts regularly with each change, there
needs to be a way to track these changes in order to track the
changes between chart versions.

This proposed change adds in a reno check job to publish notes
based from the changes to each chart by version as a way to
track and document all the changes that get made to OSH-infra
and published to tarballs.o.o.

Change-Id: I5e6eccc4b34a891078ba816249795b2bf1921a62
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/770692/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/memcached.yaml', 'releasenotes/notes/kubernetes-node-problem-detector.yaml', 'releasenotes/notes/etcd.yaml', 'releasenotes/notes/zookeeper.yaml', 'releasenotes/notes/nagios.yaml', 'releasenotes/notes/postgresql.yaml', 'releasenotes/notes/kafka.yaml', 'releasenotes/notes/local-storage.yaml', 'releasenotes/notes/prometheus-alertmanager.yaml', 'releasenotes/notes/tiller.yaml', 'releasenotes/notes/prometheus-openstack-exporter.yaml', 'releasenotes/notes/nfs-provisioner.yaml', 'releasenotes/source/current.rst', 'releasenotes/notes/ceph-mon.yaml', 'releasenotes/notes/elasticsearch.yaml', 'releasenotes/source/index.rst', 'releasenotes/notes/ceph-osd.yaml', 'releasenotes/config.yaml', 'releasenotes/notes/flannel.yaml', 'releasenotes/notes/openvswitch.yaml', 'releasenotes/notes/ceph-client.yaml', 'releasenotes/notes/prometheus-blackbox-exporter.yaml', 'tox.ini', 'releasenotes/notes/fluentd.yaml', 'releasenotes/notes/fluentbit.yaml', 'releasenotes/notes/alerta.yaml', 'releasenotes/notes/prometheus-kube-state-metrics.yaml', 'releasenotes/notes/prometheus-node-exporter.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'releasenotes/notes/ceph-provisioners.yaml', 'releasenotes/notes/mongodb.yaml', 'releasenotes/notes/ca-issuer.yaml', 'releasenotes/notes/elastic-metricbeat.yaml', 'releasenotes/notes/falco.yaml', 'releasenotes/notes/kibana.yaml', 'releasenotes/notes/lockdown.yaml', 'releasenotes/notes/podsecuritypolicy.yaml', 'releasenotes/notes/prometheus.yaml', 'releasenotes/notes/libvirt.yaml', 'releasenotes/notes/elastic-apm-server.yaml', 'releasenotes/notes/elastic-packetbeat.yaml', 'releasenotes/notes/kubernetes-keystone-webhook.yaml', 'releasenotes/notes/kube-dns.yaml', 'releasenotes/notes/redis.yaml', 'releasenotes/notes/rabbitmq.yaml', 'releasenotes/notes/namespace-config.yaml', 'releasenotes/notes/grafana.yaml', 'releasenotes/notes/metacontroller.yaml', 'releasenotes/notes/powerdns.yaml', 'releasenotes/notes/ingress.yaml', 'releasenotes/notes/daemonjob-controller.yaml', 'releasenotes/notes/calico.yaml', 'releasenotes/notes/gnocchi.yaml', 'releasenotes/notes/elastic-filebeat.yaml', 'releasenotes/notes/ldap.yaml', 'releasenotes/notes/mariadb.yaml', 'releasenotes/notes/registry.yaml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'releasenotes/notes/prometheus-process-exporter.yaml', 'releasenotes/source/conf.py']",62,4558b02c175a3d6fc3cc3153b7256f005cb8a408,osh-reno,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,348,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce,openstack/tripleo-ansible,stable/ussuri,Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce,Ansible-runner is failing when passing host to display,MERGED,2020-12-08 14:12:30.000000000,2021-01-28 02:56:18.000000000,2021-01-28 02:56:18.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-08 14:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6432c0e1d638485c69b83080b6863d68da52fcb', 'message': ""Ansible-runner is failing when passing host to display\n\nAnsible-runner is using their own custom call back and it appears to be\nfailing when actually set to a non-string. Check to make sure host is a\nstring or just unset it if it isn't a string value.\n\nChange-Id: Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce\nCloses-Bug: #1904917\n(cherry picked from commit e737f3bfd4d3e98034d805e22e25a8bfb17d9c14)\n""}, {'number': 2, 'created': '2021-01-27 19:11:25.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ddb9af5fb356d7a789c7060cff226798355808f2', 'message': ""Ansible-runner is failing when passing host to display\n\nAnsible-runner is using their own custom call back and it appears to be\nfailing when actually set to a non-string. Check to make sure host is a\nstring or just unset it if it isn't a string value.\n\nChange-Id: Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce\nCloses-Bug: #1904917\n(cherry picked from commit e737f3bfd4d3e98034d805e22e25a8bfb17d9c14)\n""}]",0,765948,ddb9af5fb356d7a789c7060cff226798355808f2,18,5,2,14985,,,0,"Ansible-runner is failing when passing host to display

Ansible-runner is using their own custom call back and it appears to be
failing when actually set to a non-string. Check to make sure host is a
string or just unset it if it isn't a string value.

Change-Id: Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce
Closes-Bug: #1904917
(cherry picked from commit e737f3bfd4d3e98034d805e22e25a8bfb17d9c14)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/765948/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",2,a6432c0e1d638485c69b83080b6863d68da52fcb,bug/1904917-stable/ussuri," # host needs to be a string or bad things happen. LP#1904917 if host and not isinstance(host, str): host = None",,4,1
openstack%2Fnova-specs~master~Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6,openstack/nova-specs,master,Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6,Libvirt supports composing cyborg owned vGPU accelerator into domain XML,MERGED,2020-09-07 01:42:23.000000000,2021-01-28 02:44:01.000000000,2021-01-19 09:33:11.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-09-07 01:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fbc159f79f3b28d5f056ff457072ef12507278ad', 'message': 'Support vGPU in nova and cyborg interaction\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 2, 'created': '2020-09-07 09:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2ad3f8e346e111dc9edf0f7da5f5d36e9755e7ae', 'message': ""Support vGPU in nova and cyborg interaction\n\nNow we have supported pGPU in nova and cyborg interaction[1], and we\nalso support attaching virtual GPU devices to guests[2].\nCurrently, The operator have to find vGPU types and set vGPU types\nin nova-cpu.conf before attaching virtual GPU devices to guests,\nwhich is not conveniently and complex.\n\nThis spec simple the process by cyborg. The operator needn't find vGPU\ntypes and set vGPU types in nova-cpu.conf. This will make the operator\nuse vGPU deivces more conveniently.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html\n[2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n""}, {'number': 3, 'created': '2020-09-08 00:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/29af38e0c0f9b3f95f6619d37db007cc7cee64b0', 'message': ""Support vGPU management by Cyborg\n\nNow we have supported pGPU in nova and cyborg interaction[1], and we\nalso support attaching virtual GPU devices to guests[2].\nCurrently, The operator have to find vGPU types and set vGPU types\nin nova-cpu.conf before attaching virtual GPU devices to guests,\nwhich is not conveniently and complex.\n\nThis spec simple the process by cyborg. The operator needn't find vGPU\ntypes and set vGPU types in nova-cpu.conf. This will make the operator\nuse vGPU deivces more conveniently.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html\n[2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n""}, {'number': 4, 'created': '2020-10-26 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2f1d2fdb632e491f10e7baeb865b0421cbe0e52f', 'message': 'Support vGPU management by Cyborg\n\nNow we have supported pGPU in nova and cyborg interaction[1], and we\nalso support attaching virtual GPU devices to guests[2].\n\nThe cyborg project aims to provide a general-purpose\nmanagement framework for acceleration resources and GPU is one of the\nimportant accelerators that cyborg needs to support if cyborg wanna be that\nkind of framework. In vGPU case, Cyborg provides management for vGPU(discover,\nreport, binding, etc), nova does the GPU resource scheduler and we also need\nto integrate with nova to do the vGPU allocation in virt driver level.\nPlease refer cyborg driver side change: https://review.opendev.org/#/c/758925/.\nSo this spec aims to support vGPU management by Cyborg.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html\n[2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 5, 'created': '2020-10-26 09:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/005019167fb64764828f413d39e254e91b2c380f', 'message': 'Support vGPU management by Cyborg\n\nNow we have supported pGPU in nova and cyborg interaction[1], and we\nalso support attaching virtual GPU devices to guests[2].\n\nThe cyborg project aims to provide a general-purpose\nmanagement framework for acceleration resources and GPU is one of the\nimportant accelerators that cyborg needs to support if cyborg wanna be that\nkind of framework. In vGPU case, Cyborg provides management for vGPU(discover,\nreport, binding, etc), nova does the GPU resource scheduler and we also need\nto integrate with nova to do the vGPU allocation in virt driver level.\nPlease refer cyborg driver side change: https://review.opendev.org/#/c/758925/.\nSo this spec aims to support vGPU management by Cyborg.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html\n[2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 6, 'created': '2020-11-04 12:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7e0f9829a5359b2e64c5a26a9775e2a7b9b0f1d9', 'message': 'Support vGPU management by Cyborg\n\nNow we have supported pGPU in nova and cyborg interaction[1], and we\nalso support attaching virtual GPU devices to guests[2].\n\nThe cyborg project aims to provide a general-purpose management framework\nfor acceleration resources and GPU is one of the important accelerators that\ncyborg needs to support if cyborg wanna be that kind of framework.\nPlease refer cyborg driver side change: https://review.opendev.org/#/c/758925/.\nSo this spec aims to support vGPU management by Cyborg.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html\n[2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 7, 'created': '2020-11-05 05:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c99fc17b09811468204544cbfb80311d84e34144', 'message': 'Support vGPU management by Cyborg\n\nNow we have supported pGPU in nova and cyborg interaction[1], and we\nalso support attaching virtual GPU devices to guests[2].\n\nThe cyborg project aims to provide a general-purpose management framework\nfor acceleration resources and GPU is one of the important accelerators that\ncyborg needs to support if cyborg wanna be that kind of framework.\nPlease refer cyborg driver side change: https://review.opendev.org/#/c/758925/.\nSo this spec aims to support vGPU management by Cyborg.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html\n[2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 8, 'created': '2020-11-11 10:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f39ebff31098207136949ebec205cf833f2655f0', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nAs the long-term goal, OpenStack Cyborg aims to provide a standard\nmanagement framework for acceleration resources. GPU is one of the\nimportant accelerators that cyborg needs to enable if cyborg wanna be that\nkind of framework.\n\nCurrently, nova libvirt driver already supported allocating pass-through GPU\naccelerator to an instance as a PCI device, but not yet support that for\na virtual GPU accelerator. This spec proposes to support composing vGPU\naccelerator into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 9, 'created': '2020-11-13 06:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a3a8f0b6ff261c0d5f6aa5f2f2bab536fcc4958b', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nAs the long-term goal, OpenStack Cyborg aims to provide a standard\nmanagement framework for acceleration resources. GPU is one of the\nimportant accelerators that cyborg needs to enable if cyborg wanna be that\nkind of framework.\n\nCurrently, nova libvirt driver already supported allocating pass-through GPU\naccelerator to an instance as a PCI device, but not yet support that for\na virtual GPU accelerator. This spec proposes to support composing vGPU\naccelerator into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 10, 'created': '2020-11-23 06:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/939937f923dcd0147d57a5a0be54e847c62a8e55', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 11, 'created': '2020-11-26 02:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1631c3a2497a8918d371b8f7242401f4a4b16f73', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU, cyborg needs to discover\nthe vGPUs, reports them to placement, and nova virt driver helps to allocate this cyborg-owned vGPU\nto an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in allocating a cyborg owned\nvGPU to an instance. This spec proposes to support composing cyborg owned vGPU into domain XML in\nnova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 12, 'created': '2020-11-26 02:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8cbc87c67b178bb80f4bb2b2675766b3dd35e777', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU, cyborg needs to discover the vGPUs, reports them to placement, and nova virt driver helps to allocate this cyborg-owned vGPU\nto an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in allocating a cyborg owned vGPU to an instance. This spec proposes to support composing cyborg owned vGPU into domain XML in\nnova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 13, 'created': '2020-12-07 09:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a3a5074a8bcb10d2e4d9e94650effe850ee057da', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 14, 'created': '2020-12-17 14:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d8ba9d866e65e11eaaf6c73997fc0791f68acc65', 'message': 'libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 15, 'created': '2020-12-18 07:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/169e674a64ec9542b124632ef5ae2e75a39b344c', 'message': 'Libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 16, 'created': '2020-12-18 10:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9e61d89dab13750d4d77e998823323b58368f401', 'message': 'Libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 17, 'created': '2021-01-14 06:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f3d0331ad56d81d68f07da33e14b4699b548672a', 'message': 'Libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}, {'number': 18, 'created': '2021-01-18 11:16:22.000000000', 'files': ['specs/wallaby/approved/support-vGPU-nova-cyborg-interaction.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/48e51689709262e2a60d572381ac18262365317a', 'message': 'Libvirt supports composing cyborg owned vGPU accelerator into domain XML\n\nIn order to allow operators to use cyborg to manage the lifecycle of vGPU,\ncyborg needs to discover the vGPUs, reports them to placement, and nova virt\ndriver helps to allocate this cyborg-owned vGPU to an instance.\n\nIn the current cyborg-nova interaction [1]_, there is still a small gap in\nallocating a cyborg owned vGPU to an instance. This spec proposes to support\ncomposing cyborg owned vGPU into domain XML in nova libvirt driver.\n\nCo-Authored-By: YumengBao <yumeng_bao@yahoo.com>\n\nPart of blueprint cyborg-vgpu-support\n\nChange-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6\n'}]",193,750116,48e51689709262e2a60d572381ac18262365317a,78,8,18,31412,,,0,"Libvirt supports composing cyborg owned vGPU accelerator into domain XML

In order to allow operators to use cyborg to manage the lifecycle of vGPU,
cyborg needs to discover the vGPUs, reports them to placement, and nova virt
driver helps to allocate this cyborg-owned vGPU to an instance.

In the current cyborg-nova interaction [1]_, there is still a small gap in
allocating a cyborg owned vGPU to an instance. This spec proposes to support
composing cyborg owned vGPU into domain XML in nova libvirt driver.

Co-Authored-By: YumengBao <yumeng_bao@yahoo.com>

Part of blueprint cyborg-vgpu-support

Change-Id: Icaf5556417741a27c83c1e0fe5b5fc39fbac48b6
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/16/750116/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/support-vGPU-nova-cyborg-interaction.rst'],1,fbc159f79f3b28d5f056ff457072ef12507278ad,bp/cyborg-vgpu-support,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== Support vGPU in nova and cyborg interaction =========================================== https://blueprints.launchpad.net/nova/+spec/cyborg-vgpu-support This blueprint proposes to add support vGPU in nova and cyborg interaction. Problem description =================== Currently we have support pGPU in nova and cyborg interaction[1]_, and we also support attaching virtual GPU devices to guests[2]_, now we need to manage vGPU in cyborg like pGPU. With this, user will needn't config the vGPU types in nova-cpu.conf and manage GPU devices unified. Use Cases --------- User wants to use vGPU in new way by cyborg. This is extremely useful for clouds where operators want to manage GPU devices conveniently. Proposed change =============== One GPU can be virtualized as multiple vGPUs, operator can use every vGPU to create guests by config vGPU types in nova-cpu.conf and flavor metadata. This spec will no need to config vGPU and flavor metadata action and make it used like other accelerator devices in cyborg. Alternatives ------------ None. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- * vGPU types in nova-cpu.conf will be no need. Developer impact ---------------- None. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Wenping Song <songwenping@inspur.com> Feature Liaison --------------- Feature liaison: gibi Brin Zhang <zhangbailin@inspur.com> Work Items ---------- * Support vGPU in nova-cyborg-interaction base on pGPU * Unit test to be added Dependencies ============ None Testing ======= * New unit test should be added Documentation Impact ==================== * Document need to be changed to describe this feature References ========== .. [1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/implemented/nova-cyborg-interaction.html .. [2] https://docs.openstack.org/nova/ussuri/admin/virtual-gpu.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - wallaby - Introduced ",,143,0
openstack%2Fswift~master~I8c385d1ac6ef35849f9afb8eea508bda5bd7b540,openstack/swift,master,I8c385d1ac6ef35849f9afb8eea508bda5bd7b540,stop find_overlap_ranges report the same overlaps more then once,NEW,2021-01-27 03:16:04.000000000,2021-01-28 02:32:59.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 03:16:04.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/dd997fe526cfae1ce6da1cf79997367a1fdabdd9', 'message': ""stop find_overlap_ranges report the same overlaps more then once\n\nWhen we find overlapping ranges we use sets to make sure we don't report\na set of overlapping ranges more then once. The loop that checks\nactually results in each SR finding overlapping ranges in a set multiple\ntimes, we sort the list before adding it to the set. However, the\nShardRange.__lt__ code doesn't take overlaps into account.\n\nThe __lt__ code specifically mentions that when comparing 1 shardrange\nto another, one is < only if it's _entire_ range is < the lower of the\nother.\n\nSo we use key with attrgetter to sort the list by lower and secondly\nby upper.\n\nCloses-Bug: #1913332\nChange-Id: I8c385d1ac6ef35849f9afb8eea508bda5bd7b540\n""}]",9,772621,dd997fe526cfae1ce6da1cf79997367a1fdabdd9,5,2,1,7233,,,0,"stop find_overlap_ranges report the same overlaps more then once

When we find overlapping ranges we use sets to make sure we don't report
a set of overlapping ranges more then once. The loop that checks
actually results in each SR finding overlapping ranges in a set multiple
times, we sort the list before adding it to the set. However, the
ShardRange.__lt__ code doesn't take overlaps into account.

The __lt__ code specifically mentions that when comparing 1 shardrange
to another, one is < only if it's _entire_ range is < the lower of the
other.

So we use key with attrgetter to sort the list by lower and secondly
by upper.

Closes-Bug: #1913332
Change-Id: I8c385d1ac6ef35849f9afb8eea508bda5bd7b540
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/772621/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,dd997fe526cfae1ce6da1cf79997367a1fdabdd9,exaggerated_overlaps,"from operator import attrgetter overlapping.sort(key=attrgetter(""lower"", ""upper""))", overlapping.sort(),15,2
openstack%2Foctavia-tempest-plugin~master~Icdefa7ce4ae13737c332b696c7f16cfb76178769,openstack/octavia-tempest-plugin,master,Icdefa7ce4ae13737c332b696c7f16cfb76178769,Use py3.5 compatible tempest,ABANDONED,2021-01-28 01:02:20.000000000,2021-01-28 02:24:21.000000000,,[{'_account_id': 1131}],"[{'number': 1, 'created': '2021-01-28 01:02:20.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b6ebec6e593f1e7d3c8bf5c3e4f09c945a0697c5', 'message': 'Use py3.5 compatible tempest\n\nStable train and stein still support ubuntu xenial, which\nhas py3.5 so use a compatible version of Tempest.\n\nChange-Id: Icdefa7ce4ae13737c332b696c7f16cfb76178769\n'}]",0,772794,b6ebec6e593f1e7d3c8bf5c3e4f09c945a0697c5,3,1,1,1131,,,0,"Use py3.5 compatible tempest

Stable train and stein still support ubuntu xenial, which
has py3.5 so use a compatible version of Tempest.

Change-Id: Icdefa7ce4ae13737c332b696c7f16cfb76178769
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/94/772794/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,b6ebec6e593f1e7d3c8bf5c3e4f09c945a0697c5,py35-tempest," vars: devstack_localrc: # use py3.5 compatible Tempest here TEMPEST_BRANCH: ""23.0.0"" devstack_localrc: # use py3.5 compatible Tempest here TEMPEST_BRANCH: ""23.0.0"" vars: devstack_localrc: # use py3.5 compatible Tempest here TEMPEST_BRANCH: ""23.0.0"" vars: devstack_localrc: # use py3.5 compatible Tempest here TEMPEST_BRANCH: ""23.0.0""",,15,0
openstack%2Fmanila~stable%2Fvictoria~Ic5faa887448f363bb4d91bccfe8e035a06936454,openstack/manila,stable/victoria,Ic5faa887448f363bb4d91bccfe8e035a06936454,Always use new_size when extend,MERGED,2021-01-14 23:05:36.000000000,2021-01-28 01:57:33.000000000,2021-01-28 01:02:15.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 32605}]","[{'number': 1, 'created': '2021-01-14 23:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e362f930402da09fa7c336231364231bde99bd90', 'message': 'Always use new_size when extend\n\nAlways use new_size when extend.\nCloses-Bug: #1909951\n\nChange-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454\n(cherry picked from commit fbc4ecb64026fe97c4b9d46bf80fe8a56b43911f)\n'}, {'number': 2, 'created': '2021-01-20 18:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/da0a31ab969aa8a0c9113e631c34c69ea982af72', 'message': 'Always use new_size when extend\n\nAlways use new_size when extend.\n\nThe release note has been slightly modified\nin this release to prevent duplication of link\ntext.\n\nCloses-Bug: #1909951\nChange-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454\n(cherry picked from commit fbc4ecb64026fe97c4b9d46bf80fe8a56b43911f)\n'}, {'number': 3, 'created': '2021-01-20 21:07:55.000000000', 'files': ['releasenotes/notes/bug-1909951-fix-extend-have-wrong-size-7938eaa6591bd2ad.yaml', 'manila/share/drivers/generic.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a0f11f88fa42971925ce5ad2b884063377e6f5bf', 'message': 'Always use new_size when extend\n\nAlways use new_size when extend.\n\nThe release note has been slightly modified\nin this release to prevent duplication of link\ntext.\n\nCloses-Bug: #1909951\nChange-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454\n(cherry picked from commit fbc4ecb64026fe97c4b9d46bf80fe8a56b43911f)\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,770754,a0f11f88fa42971925ce5ad2b884063377e6f5bf,27,4,3,16643,,,0,"Always use new_size when extend

Always use new_size when extend.

The release note has been slightly modified
in this release to prevent duplication of link
text.

Closes-Bug: #1909951
Change-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454
(cherry picked from commit fbc4ecb64026fe97c4b9d46bf80fe8a56b43911f)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/770754/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1909951-fix-extend-have-wrong-size-7938eaa6591bd2ad.yaml', 'manila/share/drivers/generic.py']",2,e362f930402da09fa7c336231364231bde99bd90,bug/1909951," self._resize_filesystem(server_details, volume, new_size=new_size)"," self._resize_filesystem(server_details, volume)",8,1
openstack%2Fpuppet-openstack-integration~master~I07700ffc6a746d57eb02e6614ddc4bcfdd006e3f,openstack/puppet-openstack-integration,master,I07700ffc6a746d57eb02e6614ddc4bcfdd006e3f,ec2api: Use volumev3 instead of volumev2,MERGED,2020-12-22 09:17:38.000000000,2021-01-28 01:23:19.000000000,2021-01-04 16:09:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-22 09:17:38.000000000', 'files': ['manifests/ec2api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/01f74c0ba5f0fce1a715255e45534853ee45cc42', 'message': 'ec2api: Use volumev3 instead of volumev2\n\n... because volumev2 service will be removed shortly from cinder.\n\nChange-Id: I07700ffc6a746d57eb02e6614ddc4bcfdd006e3f\n'}]",0,768178,01f74c0ba5f0fce1a715255e45534853ee45cc42,9,4,1,9816,,,0,"ec2api: Use volumev3 instead of volumev2

... because volumev2 service will be removed shortly from cinder.

Change-Id: I07700ffc6a746d57eb02e6614ddc4bcfdd006e3f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/78/768178/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ec2api.pp'],1,01f74c0ba5f0fce1a715255e45534853ee45cc42,volumev3," cinder_service_type => 'volumev3',",,1,0
openstack%2Fpuppet-openstack-integration~master~I7a0c18acecd7df93f1865f922a5954769673254f,openstack/puppet-openstack-integration,master,I7a0c18acecd7df93f1865f922a5954769673254f,Remove workaround for bug 1908993,ABANDONED,2021-01-28 00:49:15.000000000,2021-01-28 01:22:11.000000000,,[],"[{'number': 1, 'created': '2021-01-28 00:49:15.000000000', 'files': ['manifests/ec2api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4766921dabf14191ec1e227ef50b4eb87b88aa91', 'message': ""Remove workaround for bug 1908993\n\nNow ec2api uses volume v3 API by default, thus we don't need to\noverride it.\n\nChange-Id: I7a0c18acecd7df93f1865f922a5954769673254f\nRelated-Bug: 1908993\nDepends-on: https://review.opendev.org/768182\n""}]",0,772793,4766921dabf14191ec1e227ef50b4eb87b88aa91,2,0,1,9816,,,0,"Remove workaround for bug 1908993

Now ec2api uses volume v3 API by default, thus we don't need to
override it.

Change-Id: I7a0c18acecd7df93f1865f922a5954769673254f
Related-Bug: 1908993
Depends-on: https://review.opendev.org/768182
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/93/772793/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ec2api.pp'],1,4766921dabf14191ec1e227ef50b4eb87b88aa91,ec2api-volume-v3,," cinder_service_type => 'volumev3',",0,1
openstack%2Fopenstack-ansible~master~I8a6e87fbbfcb95702be7de567d178d4dae857879,openstack/openstack-ansible,master,I8a6e87fbbfcb95702be7de567d178d4dae857879,Fix lib/modules path for focal release,MERGED,2021-01-21 18:12:35.000000000,2021-01-28 00:48:45.000000000,2021-01-28 00:46:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-21 18:12:35.000000000', 'files': ['playbooks/common-playbooks/neutron.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c1c9e9cde688da26492f19bef2b82d9a0b50207', 'message': 'Fix lib/modules path for focal release\n\non Focal /lib is a symlink to usr/lib.\nadjusting the bind mount options for containerized focal neutron-agent\n\nChange-Id: I8a6e87fbbfcb95702be7de567d178d4dae857879\n'}]",0,771870,3c1c9e9cde688da26492f19bef2b82d9a0b50207,12,3,1,13095,,,0,"Fix lib/modules path for focal release

on Focal /lib is a symlink to usr/lib.
adjusting the bind mount options for containerized focal neutron-agent

Change-Id: I8a6e87fbbfcb95702be7de567d178d4dae857879
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/771870/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-playbooks/neutron.yml'],1,3c1c9e9cde688da26492f19bef2b82d9a0b50207,focal-neutron-container," - bind_dir_path: ""{{ (ansible_pkg_mgr == 'apt' and ansible_distribution_release != 'focal') | ternary('/lib/modules', '/usr/lib/modules') }}"" mount_path: ""{{ (ansible_pkg_mgr == 'apt' and ansible_distribution_release != 'focal') | ternary('/lib/modules', '/usr/lib/modules') }}"""," - bind_dir_path: ""{{ (ansible_pkg_mgr == 'apt') | ternary('/lib/modules', '/usr/lib/modules') }}"" mount_path: ""{{ (ansible_pkg_mgr == 'apt') | ternary('/lib/modules', '/usr/lib/modules') }}""",2,2
openstack%2Fpuppet-nova~master~I57708346784af2b949d7ab0cdbc42db4187e33c8,openstack/puppet-nova,master,I57708346784af2b949d7ab0cdbc42db4187e33c8,Add nova::glance::valid_interfaces parameter,MERGED,2021-01-25 13:02:18.000000000,2021-01-28 00:43:19.000000000,2021-01-28 00:41:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 13:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c3cba1aa755ec6e80a39f95dec2c81f829770050', 'message': 'Add nova::glance::valid_interfaces parameter\n\nChange-Id: I57708346784af2b949d7ab0cdbc42db4187e33c8\n'}, {'number': 2, 'created': '2021-01-26 08:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bb2157a36e927e1a4acad48c6101632770ba3391', 'message': 'Add nova::glance::valid_interfaces parameter\n\nChange-Id: I57708346784af2b949d7ab0cdbc42db4187e33c8\n'}, {'number': 3, 'created': '2021-01-26 11:02:14.000000000', 'files': ['manifests/glance.pp', 'releasenotes/notes/add-nova-glance-valid_interfaces-ff6d123e075f7aee.yaml', 'spec/classes/nova_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/482414b513731b415d4853d81936251360fe7901', 'message': 'Add nova::glance::valid_interfaces parameter\n\nChange-Id: I57708346784af2b949d7ab0cdbc42db4187e33c8\n'}]",2,772339,482414b513731b415d4853d81936251360fe7901,15,3,3,16137,,,0,"Add nova::glance::valid_interfaces parameter

Change-Id: I57708346784af2b949d7ab0cdbc42db4187e33c8
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/39/772339/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'releasenotes/notes/add-nova-glance-valid_interfaces-ff6d123e075f7aee.yaml', 'spec/classes/nova_glance_spec.rb']",3,c3cba1aa755ec6e80a39f95dec2c81f829770050,," is_expected.to contain_nova_config('glance/valid_interfaces').with_value('<SERVICE DEFAULT>') :valid_interfaces => 'internal', is_expected.to contain_nova_config('glance/valid_interfaces').with_value('internal')",,13,0
openstack%2Fcharm-barbican~master~Ic4f8935f1074838030a6664c69440cef77581f60,openstack/charm-barbican,master,Ic4f8935f1074838030a6664c69440cef77581f60,Add Python3 victoria unit tests,ABANDONED,2020-04-30 06:34:30.000000000,2021-01-28 00:24:15.000000000,,"[{'_account_id': 6547}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-30 06:34:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/8d6031edbb85046151eded261a1335f222238295', 'message': 'Add Python3 victoria unit tests\n\nChange-Id: Ic4f8935f1074838030a6664c69440cef77581f60\n'}]",0,724533,8d6031edbb85046151eded261a1335f222238295,6,3,1,23312,,,0,"Add Python3 victoria unit tests

Change-Id: Ic4f8935f1074838030a6664c69440cef77581f60
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/33/724533/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8d6031edbb85046151eded261a1335f222238295,, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fglance~master~I5c57696827719d752879cb11044d9e969c853411,openstack/glance,master,I5c57696827719d752879cb11044d9e969c853411,Change database migration version to wallaby,MERGED,2021-01-22 04:53:30.000000000,2021-01-28 00:18:56.000000000,2021-01-28 00:17:05.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 04:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ebdf2f1e529f967559ecafed677c535266014f28', 'message': 'Change database migration version to wallaby\n\nChange-Id: I5c57696827719d752879cb11044d9e969c853411\n'}, {'number': 2, 'created': '2021-01-25 19:33:53.000000000', 'files': ['glance/db/migration.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/03bf00ee3b4c95713795f6bb7fcb4f37e98b5866', 'message': 'Change database migration version to wallaby\n\nChange-Id: I5c57696827719d752879cb11044d9e969c853411\n'}]",2,771907,03bf00ee3b4c95713795f6bb7fcb4f37e98b5866,27,5,2,9303,,,0,"Change database migration version to wallaby

Change-Id: I5c57696827719d752879cb11044d9e969c853411
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/771907/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/migration.py'],1,ebdf2f1e529f967559ecafed677c535266014f28,os-glance-namespace,CURRENT_RELEASE = 'wallaby',CURRENT_RELEASE = 'victoria',1,1
openstack%2Ftripleo-common~master~Iba06dc0f8afe9bc6a8820742c656dca5bf75df15,openstack/tripleo-common,master,Iba06dc0f8afe9bc6a8820742c656dca5bf75df15,Fix placement endpoint check when endpoints are not set,MERGED,2021-01-27 10:43:14.000000000,2021-01-28 00:11:53.000000000,2021-01-28 00:09:07.000000000,"[{'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-27 10:43:14.000000000', 'files': ['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86d0e65a2905f46eca05cbf4070f97feaa392463', 'message': ""Fix placement endpoint check when endpoints are not set\n\nWhen endpoint are not set in the heat resource, None is returned, not an empty\ndict. The check then raises a 'NoneType' is not iterable exception.\n\nFix the logic to handle None and update the unit test.\n\nCloses-bug: #1913416\nChange-Id: Iba06dc0f8afe9bc6a8820742c656dca5bf75df15\n""}]",0,772648,86d0e65a2905f46eca05cbf4070f97feaa392463,10,7,1,23811,,,0,"Fix placement endpoint check when endpoints are not set

When endpoint are not set in the heat resource, None is returned, not an empty
dict. The check then raises a 'NoneType' is not iterable exception.

Fix the logic to handle None and update the unit test.

Closes-bug: #1913416
Change-Id: Iba06dc0f8afe9bc6a8820742c656dca5bf75df15
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/772648/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py']",2,86d0e65a2905f46eca05cbf4070f97feaa392463,," placement_extracted = False endpoints = endpoint_res.attributes.get('endpoint_map', None) placement_extracted = endpoints and 'PlacementPublic' in endpoints except heat_exc.HTTPNotFound: pass"," endpoints = endpoint_res.attributes.get('endpoint_map', {}) placement_extracted = 'PlacementPublic' in endpoints except heat_exc.HTTPNotFound: placement_extracted = False",5,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0814bd8794ab82792837b27d0128e15c34b90adc,openstack/tripleo-heat-templates,stable/train,I0814bd8794ab82792837b27d0128e15c34b90adc,Making sure virt-guest-shutdown.target exists,MERGED,2021-01-26 18:05:51.000000000,2021-01-28 00:09:18.000000000,2021-01-28 00:09:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 18:05:51.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57f5a899e02652fa8e04fe4776f4b6f6f120df99', 'message': ""Making sure virt-guest-shutdown.target exists\n\nlibvirt-daemon is part of the default overcloud image but it's also\npossible that it's not installed or simply removed by operators. In this\ncase, tripleo_nova_libvirt_guests will fail.\n\nRelated: https://bugzilla.redhat.com/1810319\nChange-Id: I0814bd8794ab82792837b27d0128e15c34b90adc\n(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)\n(cherry picked from commit 28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c)\n(cherry picked from commit 9998bfc5d1b9e6d309b3389df0377544bdf30649)\n""}]",0,772541,57f5a899e02652fa8e04fe4776f4b6f6f120df99,8,7,1,27419,,,0,"Making sure virt-guest-shutdown.target exists

libvirt-daemon is part of the default overcloud image but it's also
possible that it's not installed or simply removed by operators. In this
case, tripleo_nova_libvirt_guests will fail.

Related: https://bugzilla.redhat.com/1810319
Change-Id: I0814bd8794ab82792837b27d0128e15c34b90adc
(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)
(cherry picked from commit 28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c)
(cherry picked from commit 9998bfc5d1b9e6d309b3389df0377544bdf30649)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/772541/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,57f5a899e02652fa8e04fe4776f4b6f6f120df99,virt-guest-shutdown-exists, - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org,,14,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0814bd8794ab82792837b27d0128e15c34b90adc,openstack/tripleo-heat-templates,stable/ussuri,I0814bd8794ab82792837b27d0128e15c34b90adc,Making sure virt-guest-shutdown.target exists,MERGED,2021-01-26 17:00:26.000000000,2021-01-28 00:09:12.000000000,2021-01-28 00:09:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 17:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/235f3d29241af160ae45c5b63de4392bfc3f9f68', 'message': ""Making sure virt-guest-shutdown.target exists\n\nlibvirt-daemon is part of the default overcloud image but it's also\npossible that it's not installed or simply removed by operators. In this\ncase, tripleo_nova_libvirt_guests will fail.\n\nRelated: https://bugzilla.redhat.com/1810319\nChange-Id: I0814bd8794ab82792837b27d0128e15c34b90adc\n(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)\n""}, {'number': 2, 'created': '2021-01-26 17:05:06.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9998bfc5d1b9e6d309b3389df0377544bdf30649', 'message': ""Making sure virt-guest-shutdown.target exists\n\nlibvirt-daemon is part of the default overcloud image but it's also\npossible that it's not installed or simply removed by operators. In this\ncase, tripleo_nova_libvirt_guests will fail.\n\nRelated: https://bugzilla.redhat.com/1810319\nChange-Id: I0814bd8794ab82792837b27d0128e15c34b90adc\n(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)\n(cherry picked from commit 28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c)\n""}]",0,772540,9998bfc5d1b9e6d309b3389df0377544bdf30649,11,6,2,27419,,,0,"Making sure virt-guest-shutdown.target exists

libvirt-daemon is part of the default overcloud image but it's also
possible that it's not installed or simply removed by operators. In this
case, tripleo_nova_libvirt_guests will fail.

Related: https://bugzilla.redhat.com/1810319
Change-Id: I0814bd8794ab82792837b27d0128e15c34b90adc
(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)
(cherry picked from commit 28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/772540/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,235f3d29241af160ae45c5b63de4392bfc3f9f68,virt-guest-shutdown-exists, - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org,,14,0
openstack%2Frequirements~master~I601a59260daeb925fbd23e8c4e006df733ec6528,openstack/requirements,master,I601a59260daeb925fbd23e8c4e006df733ec6528,update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1,MERGED,2021-01-27 16:25:53.000000000,2021-01-27 23:56:55.000000000,2021-01-27 23:55:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 16:25:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1d8509bd5b04058e4cb202deb2303586db82e856', 'message': 'update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1\n\nmeta: version: 3.3.2.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Commit: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Change-Id: Idbaa846da93520c3315349e1e4a5472beea9a5bd\nmeta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Radomir Dopieralski <openstack@sheep.art.pl>\nmeta: release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I601a59260daeb925fbd23e8c4e006df733ec6528\n'}]",0,772736,1d8509bd5b04058e4cb202deb2303586db82e856,8,2,1,11131,,,0,"update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1

meta: version: 3.3.2.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Akihiro Motoki <amotoki@gmail.com>
meta: release:Commit: Akihiro Motoki <amotoki@gmail.com>
meta: release:Change-Id: Idbaa846da93520c3315349e1e4a5472beea9a5bd
meta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Radomir Dopieralski <openstack@sheep.art.pl>
meta: release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I601a59260daeb925fbd23e8c4e006df733ec6528
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/772736/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1d8509bd5b04058e4cb202deb2303586db82e856,new-release,XStatic-JQuery-Migrate===3.3.2.1,XStatic-JQuery-Migrate===1.2.1.2,1,1
openstack%2Fsahara~master~I26bd73463a5da9ef947f287610b0a33b73062417,openstack/sahara,master,I26bd73463a5da9ef947f287610b0a33b73062417,Fix lower requirements: bump various packages,MERGED,2020-12-15 09:18:28.000000000,2021-01-27 23:40:15.000000000,2021-01-27 23:37:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-12-15 09:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fe8991cf70e92c836231e83dedea97adbce42788', 'message': 'Fix lower requirements: bump six (and tox)\n\nThe latest versions of tox (which are required as they are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 2, 'created': '2020-12-15 09:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1371345be1bdd5d5a9a1383a6911f33ac92fc4a1', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox)\n\nThe latest versions of tox (which are required as they are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic\n\nA newer version is required by oslo-db 6.0.0.\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 3, 'created': '2020-12-15 09:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7431bb440ef14cab16d92abd5aadc15014de6a5e', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox)\n\nThe latest versions of tox (which are required as they are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic\n\nA newer version is required by oslo-db 6.0.0.\n\n= oslo.service\n\noslo.service 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 4, 'created': '2020-12-15 11:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/024fbe0531017fa9a1c3be0f9229fce9bdd742d3', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox)\n\nThe latest versions of tox (which are required as they are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic\n\nA newer version is required by oslo-db 6.0.0.\n\n= oslo.service\n\noslo.service 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography\n\nparamiko 2.7.1 requires cryptography>=2.5.0\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 5, 'created': '2021-01-27 12:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3c3f73f8edc14153453233e7061118af6ae46f60', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox)\n\nThe latest versions of tox (which are required as they are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic\n\nA newer version is required by oslo-db 6.0.0.\n\n= oslo.service\n\noslo.service 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography\n\nparamiko 2.7.1 requires cryptography>=2.5.0\n\n= warlock\n\ndrop the indirect dependency from l-c\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 6, 'created': '2021-01-27 14:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a5be2f6aeff5bf54996ba22fd9ca5bfe6b4d73be', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox)\n\nThe latest versions of tox (which are required as they are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic\n\nA newer version is required by oslo-db 6.0.0.\n\n= oslo.service\n\noslo.service 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography\n\nparamiko 2.7.1 requires cryptography>=2.5.0\n\n= warlock, pycodestyle\n\ndrop those indirect dependencies from l-c (even more relevant\nfor a linter dependency like pycodestyle).\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 7, 'created': '2021-01-27 18:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/77a4f2d10d0b137fbbf58331a79f2ad26f27675e', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox): the latest versions of tox (which are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic: A newer version is required by oslo-db 6.0.0.\n\n= oslo.service: 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography: paramiko 2.7.1 requires cryptography>=2.5.0\n\n= warlock, pycodestyle: drop those indirect dependencies from l-c\n(pycodestyle is only a dependency of a linter for testing).\n\n= oslo-messaging: bumped to 12.5.0\n\n= greenlet: bumped to 0.4.16 to be compatible with py3.9\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 8, 'created': '2021-01-27 18:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/51e40712ef8ca6fd1c08b7b761eba68ba87f0420', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox): the latest versions of tox (which are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic: A newer version is required by oslo-db 6.0.0.\n\n= oslo.service: 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography: paramiko 2.7.1 requires cryptography>=2.5.0\n\n= warlock, pycodestyle: drop those indirect dependencies from l-c\n(pycodestyle is only a dependency of a linter for testing).\n\n= oslo-messaging: bumped to 12.5.0\n\n= greenlet: bumped to 0.4.16 to be compatible with py3.9\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 9, 'created': '2021-01-27 18:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5a1b9cbbe5e53ac45c389a2d17719cb71160dd0d', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox): the latest versions of tox (which are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic: A newer version is required by oslo-db 6.0.0.\n\n= oslo.service: 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography: paramiko 2.7.1 requires cryptography>=2.5.0\n\n= warlock, pycodestyle: drop those indirect dependencies from l-c\n(pycodestyle is only a dependency of a linter for testing).\n\n= oslo-messaging: bumped to 10.2.0\n\n= greenlet: bumped to 0.4.16 to be compatible with py3.9\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}, {'number': 10, 'created': '2021-01-27 18:42:24.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f576d092b7797178e4456e495b6c00a284870bc5', 'message': 'Fix lower requirements: bump various packages\n\n= six (and tox): the latest versions of tox (which are\ncompatible with newer virtualenv[1][2]) require a newer six.\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13\n[2] https://github.com/tox-dev/tox/pull/1519\n\n= alembic: A newer version is required by oslo-db 6.0.0.\n\n= oslo.service: 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,\nbut eventlet>0.26.0 is now required.\n\n= cryptography: paramiko 2.7.1 requires cryptography>=2.5.0\n\n= oslo-messaging: bumped to 10.2.0\n\n= greenlet: bumped to 0.4.16 to be compatible with py3.9\n\n= warlock, amqp, pycodestyle: just drop those indirect dependencies\nfrom l-c (and in fact pycodestyle is only a dependency of a linter\nfor testing).\n\nChange-Id: I26bd73463a5da9ef947f287610b0a33b73062417\n'}]",0,767104,f576d092b7797178e4456e495b6c00a284870bc5,27,2,10,10459,,,0,"Fix lower requirements: bump various packages

= six (and tox): the latest versions of tox (which are
compatible with newer virtualenv[1][2]) require a newer six.

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-14-4-2020-02-13
[2] https://github.com/tox-dev/tox/pull/1519

= alembic: A newer version is required by oslo-db 6.0.0.

= oslo.service: 1.24.0 (and before 1.31.0) capped eventlet to <0.21.0,
but eventlet>0.26.0 is now required.

= cryptography: paramiko 2.7.1 requires cryptography>=2.5.0

= oslo-messaging: bumped to 10.2.0

= greenlet: bumped to 0.4.16 to be compatible with py3.9

= warlock, amqp, pycodestyle: just drop those indirect dependencies
from l-c (and in fact pycodestyle is only a dependency of a linter
for testing).

Change-Id: I26bd73463a5da9ef947f287610b0a33b73062417
",git fetch https://review.opendev.org/openstack/sahara refs/changes/04/767104/9 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,fe8991cf70e92c836231e83dedea97adbce42788,fix-lower-req,minversion = 3.14.4,minversion = 1.6,3,3
openstack%2Fneutron~stable%2Fqueens~Ia7609a8c92b8f6cde411040b76a9814460335563,openstack/neutron,stable/queens,Ia7609a8c92b8f6cde411040b76a9814460335563,[DO NOT MERGE]: Test stable/queens branch sanity,ABANDONED,2021-01-27 20:03:33.000000000,2021-01-27 23:37:52.000000000,,[{'_account_id': 18031}],"[{'number': 1, 'created': '2021-01-27 20:03:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c749120c0d28265dece351e42d894be221e32a59', 'message': '[DO NOT MERGE]: Test stable/queens branch sanity\n\nChange-Id: Ia7609a8c92b8f6cde411040b76a9814460335563\n'}]",0,772764,c749120c0d28265dece351e42d894be221e32a59,4,1,1,18031,,,0,"[DO NOT MERGE]: Test stable/queens branch sanity

Change-Id: Ia7609a8c92b8f6cde411040b76a9814460335563
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/772764/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c749120c0d28265dece351e42d894be221e32a59,test-gate,,,1,0
openstack%2Fneutron~stable%2Frocky~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/rocky,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-24 11:31:20.000000000,2021-01-27 23:26:44.000000000,2021-01-27 22:25:02.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18031}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 11:31:20.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0dbd1fafb1a6def2d67379cef778877534bde57d', 'message': ""Use consistent filter API syntax\n\nChange ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a\ncall to get_subnets, using a filter to select all subnets on a\nnetwork. The syntax for the filter in get_subnets has been to\nprovide a dictionary where the values are lists. The change\ndoesn't cause an exception because the OVO layer code handles\nscalar values. Tbis commit changes the filter syntax to be\nconsistent.\n\nChange-Id: Ifb9df94128b7069e78e193bc289be17e15968167\n(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)\n(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)\n(cherry picked from commit 16befa0385c1a44b095a2c7e549caa453157b57a)\n(cherry picked from commit 1b8f449e25726874e63cd792ad4742778c3d037d)\n(cherry picked from commit e1b6a90ce2226b40d9f78a7e674fb24e559dcc6d)\n""}]",0,772192,0dbd1fafb1a6def2d67379cef778877534bde57d,50,7,1,18031,,,0,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)
(cherry picked from commit 16befa0385c1a44b095a2c7e549caa453157b57a)
(cherry picked from commit 1b8f449e25726874e63cd792ad4742778c3d037d)
(cherry picked from commit e1b6a90ce2226b40d9f78a7e674fb24e559dcc6d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/772192/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,0dbd1fafb1a6def2d67379cef778877534bde57d,rocky-backport, filters={'network_id': [p['network_id']]}), filters={'network_id': p['network_id']}),1,1
openstack%2Fpuppet-tempest~master~I24982a4161a899975a0303f92a9ec4e15adc8f8c,openstack/puppet-tempest,master,I24982a4161a899975a0303f92a9ec4e15adc8f8c,Do not install the package of tempest-horizon,MERGED,2021-01-26 00:44:39.000000000,2021-01-27 23:24:16.000000000,2021-01-27 23:24:16.000000000,"[{'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 00:44:39.000000000', 'files': ['manifests/init.pp', 'manifests/params.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/65110d583b763fd76df1a46b1d12f99accfdb075', 'message': 'Do not install the package of tempest-horizon\n\nAll tests implemented in tempest-horizon have been merged to tempest[1]\nand tempest-horizon will be retired, so we assume that we no longer\nhave an independent package for tempest-horizon.\n\n[1] https://review.opendev.org/771727/\n\nChange-Id: I24982a4161a899975a0303f92a9ec4e15adc8f8c\n'}]",0,772458,65110d583b763fd76df1a46b1d12f99accfdb075,10,5,1,9816,,,0,"Do not install the package of tempest-horizon

All tests implemented in tempest-horizon have been merged to tempest[1]
and tempest-horizon will be retired, so we assume that we no longer
have an independent package for tempest-horizon.

[1] https://review.opendev.org/771727/

Change-Id: I24982a4161a899975a0303f92a9ec4e15adc8f8c
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/58/772458/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/params.pp', 'spec/classes/tempest_init_spec.rb']",3,65110d583b763fd76df1a46b1d12f99accfdb075,merge-horizon-test,, it { expect { is_expected.to contain_package('python-horizon-tests-tempest') } },0,11
openstack%2Fmanila~master~I67036a65da9255694a00a9c8d56cfdefbdf23c05,openstack/manila,master,I67036a65da9255694a00a9c8d56cfdefbdf23c05,Remove backend deprecated variables,MERGED,2020-10-18 15:33:25.000000000,2021-01-27 23:12:38.000000000,2021-01-27 22:37:10.000000000,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31506}, {'_account_id': 32029}, {'_account_id': 32542}]","[{'number': 1, 'created': '2020-10-18 15:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/711dd062c46ccb007e514133368b3b569cdfcd26', 'message': 'backend config redefined to use only non-deprecated variable\n\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 2, 'created': '2020-10-22 20:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8f40fa2bc56936322109204d4d7170a55f2921d0', 'message': 'Remove Back-end deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nCloses-Bug: #1898791\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 3, 'created': '2021-01-05 23:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4698e1bc13ccddb8e250bd7af75e62bb4d564866', 'message': 'Remove Back-end deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nCloses-Bug: #1898791\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 4, 'created': '2021-01-15 22:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/89a1332c60db4e7f5ec7110b93b509c53fa4f792', 'message': 'Remove Back-end deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nCloses-Bug: #1898791\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 5, 'created': '2021-01-18 21:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/920801555e0b96395589d2695621baf2bd764daa', 'message': 'Remove Back-end deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nCloses-Bug: #1898791\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 6, 'created': '2021-01-21 19:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/12a0a75de59651e467696016f47f0a0db6e38215', 'message': 'Remove Back-end deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nCloses-Bug: #1898791\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 7, 'created': '2021-01-21 22:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9093493eb90e1b1070b360ed83f8902411ea995b', 'message': 'Remove backend deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nApart from this, we avoid configuring generic1 and generic2 if\nanother backend/s are selected.\n\nCloses-Bug: #1898791\nCloses-Bug: #1878477\n\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 8, 'created': '2021-01-21 22:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/972e9a7cb779a0fcbf286ca904563bd16ea6a727', 'message': 'Remove backend deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nApart from this, we avoid configuring generic1 and generic2 if\nanother backend/s are selected.\n\nCloses-Bug: #1898791\nCloses-Bug: #1878477\n\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}, {'number': 9, 'created': '2021-01-27 10:14:42.000000000', 'files': ['doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'zuul.d/grenade-jobs.yaml', 'contrib/ci/pre_test_hook.sh', 'devstack/plugin.sh', 'doc/source/admin/container_driver.rst', 'doc/source/contributor/samples/zfsonlinux_local.conf', 'devstack/settings', 'doc/source/contributor/samples/lvm_local.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/be794fb16813510c20ea62c72663ffb3a80b64e4', 'message': 'Remove backend deprecated variables\n\nMANILA_MULTI_BACKEND has been deprecated for five years now, we should remove\nit from our code base.\n\nThis variable was removed from the settings scripts along with:\nMANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;\nMANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.\nBecause they work in the same context.\n\nInstead of them, the already implemented and in use,\nMANILA_ENABLED_BACKENDS variable was placed to garantee the successful\nback-end setup. The same replacement was made in the contribution\nsamples scripts.\n\nApart from this, we avoid configuring generic1 and generic2 if\nanother backend/s are selected.\n\nCloses-Bug: #1898791\nCloses-Bug: #1878477\n\nChange-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05\n'}]",8,758674,be794fb16813510c20ea62c72663ffb3a80b64e4,93,14,9,32542,,,0,"Remove backend deprecated variables

MANILA_MULTI_BACKEND has been deprecated for five years now, we should remove
it from our code base.

This variable was removed from the settings scripts along with:
MANILA_BACKEND1_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND1_NAME;
MANILA_BACKEND2_CONFIG_GROUP_NAME and MANILA_SHARE_BACKEND2_NAME.
Because they work in the same context.

Instead of them, the already implemented and in use,
MANILA_ENABLED_BACKENDS variable was placed to garantee the successful
back-end setup. The same replacement was made in the contribution
samples scripts.

Apart from this, we avoid configuring generic1 and generic2 if
another backend/s are selected.

Closes-Bug: #1898791
Closes-Bug: #1878477

Change-Id: I67036a65da9255694a00a9c8d56cfdefbdf23c05
",git fetch https://review.opendev.org/openstack/manila refs/changes/74/758674/7 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,711dd062c46ccb007e514133368b3b569cdfcd26,bug/1898791," for group_name in $(echo $MANILA_ENABLED_BACKENDS | sed ""s/,/ /g""); do iniset $MANILA_CONF $group_name share_backend_name ${group_name^^} if [ ! $MANILA_ENABLED_BACKENDS ]; then # If $MANILA_ENABLED_BACKENDS is not set, no default can be used echo 'No backends has been defined' exit 1 fi"," for group_name in $MANILA_BACKEND1_CONFIG_GROUP_NAME $MANILA_BACKEND2_CONFIG_GROUP_NAME; do if [ ""$MANILA_BACKEND1_CONFIG_GROUP_NAME"" == ""$group_name"" ]; then iniset $MANILA_CONF $group_name share_backend_name $MANILA_SHARE_BACKEND1_NAME else iniset $MANILA_CONF $group_name share_backend_name $MANILA_SHARE_BACKEND2_NAME fi default_backends=$MANILA_BACKEND1_CONFIG_GROUP_NAME if [ ""$MANILA_MULTI_BACKEND"" = ""True"" ]; then default_backends+=,$MANILA_BACKEND2_CONFIG_GROUP_NAME fi if [ ! $MANILA_ENABLED_BACKENDS ]; then # If $MANILA_ENABLED_BACKENDS is not set, use configured backends by default export MANILA_ENABLED_BACKENDS=$default_backends fi if [ $(trueorfalse False MANILA_MULTI_BACKEND) == True ]; then fi",7,16
openstack%2Frequirements~master~Ib5f55f3ea41b50956412a55c67e9bdd42e7e0908,openstack/requirements,master,Ib5f55f3ea41b50956412a55c67e9bdd42e7e0908,Updated from generate-constraints,MERGED,2021-01-27 06:21:28.000000000,2021-01-27 23:11:53.000000000,2021-01-27 23:10:27.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 06:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d15e1c4717383e1ad5509a70b120160ad58f2ce5', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib5f55f3ea41b50956412a55c67e9bdd42e7e0908\n'}, {'number': 2, 'created': '2021-01-27 06:26:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/34e9d1ec08ff21ccacdc47265fb5301709fe271a', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib5f55f3ea41b50956412a55c67e9bdd42e7e0908\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,772632,34e9d1ec08ff21ccacdc47265fb5301709fe271a,14,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ib5f55f3ea41b50956412a55c67e9bdd42e7e0908
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/772632/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d15e1c4717383e1ad5509a70b120160ad58f2ce5,openstack/requirements/constraints,urllib3===1.26.3mock===4.0.3coverage===5.4boto3===1.16.60keyring===22.0.1construct===2.10.57dogpile.cache===1.1.2botocore===1.19.60pyzmq===21.0.2oslo.db===8.5.0pkg-resources===0.0.0fasteners===0.16virtualenv===20.4.0,urllib3===1.26.2mock===3.0.5coverage===5.3.1boto3===1.16.59keyring===22.0.0construct===2.10.56dogpile.cache===1.1.1botocore===1.19.59pyzmq===21.0.1oslo.db===8.4.0fasteners===0.14.1virtualenv===20.2.1setuptools===52.0.0,13,13
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I015770275192d9834e38593e249b472f56d7ccd4,openstack/puppet-openstack-integration,stable/ussuri,I015770275192d9834e38593e249b472f56d7ccd4,CentOS: Install new gpg key for puppet packages,MERGED,2021-01-26 11:35:51.000000000,2021-01-27 22:44:29.000000000,2021-01-27 22:44:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 11:35:51.000000000', 'files': ['functions', 'files/GPG-KEY-puppet-20250406'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ba6b9ac77effb1ffb9e7d54a7c62854a8b401ef', 'message': 'CentOS: Install new gpg key for puppet packages\n\nThis change ensures that the new gpg key for puppet packages[1] are\ninstall before installing puppet-agent, so that we can install any\npackage signed with the new gpg key.\n\n[1] https://puppet.com/blog/updated-puppet-gpg-signing-key-2020-edition/\n\nCloses-Bug: #1912871\nChange-Id: I015770275192d9834e38593e249b472f56d7ccd4\n(cherry picked from commit 3f3da39c6804ef5c9bcb3cbee311fbc2b50e0c75)\n(cherry picked from commit ebf33bccb96b58467dce396f83f1fb77f6327613)\n'}]",0,772409,9ba6b9ac77effb1ffb9e7d54a7c62854a8b401ef,9,3,1,9816,,,0,"CentOS: Install new gpg key for puppet packages

This change ensures that the new gpg key for puppet packages[1] are
install before installing puppet-agent, so that we can install any
package signed with the new gpg key.

[1] https://puppet.com/blog/updated-puppet-gpg-signing-key-2020-edition/

Closes-Bug: #1912871
Change-Id: I015770275192d9834e38593e249b472f56d7ccd4
(cherry picked from commit 3f3da39c6804ef5c9bcb3cbee311fbc2b50e0c75)
(cherry picked from commit ebf33bccb96b58467dce396f83f1fb77f6327613)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/772409/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'files/GPG-KEY-puppet-20250406']",2,9ba6b9ac77effb1ffb9e7d54a7c62854a8b401ef,bug/1912871-stable/victoria-stable/ussuri,-----BEGIN PGP PUBLIC KEY BLOCK----- mQINBFyrv4oBEADhL8iyDPZ+GWN7L+A8dpEpggglxTtL7qYNyN5Uga2j0cusDdOD ftPHsurLjfxtc2EFGdFK/N8y4LSpq+nOeazhkHcPeDiWC2AuN7+NGjH9LtvMUqKy NWPhPYP2r/xPL547oDMdvLXDH5n+FsLFW8QgATHk4AvlIhGng0gWu80OqTCiL0HC W7TftkF8ofP8k90SnLYbI9HDVOj6VYYtqG5NeoCHGAqrb79G/jq64Z/gLktD3IrB CxYhKFfJtZ/BSDB8Aa4ht+jIyeFCNSbGyfFfWlHKvF3JngS/76Y7gxX1sbR3gHJQ hO25AQdsPYKxgtIgNeB9/oBp1+V3K1W/nta4gbDVwJWCqDRbEFlHIdV7fvV/sqiI W7rQ60aAY7J6Gjt/aUmNArvT8ty3szmhR0wEEU5/hhIVV6VjS+AQsI8pFv6VB8bJ TLfOBPDW7dw2PgyWhVTEN8KW/ckyBvGmSdzSgAhw+rAe7li50/9e2H8eiJgBbGid 8EQidZgkokh331CMDkIA6F3ygiB+u2ZZ7ywxhxIRO70JElIuIOiofhVfRnh/ODlH X7eD+cA2rlLQd2yWf4diiA7C9R8r8vPrAdp3aPZ4xLxvYYZV8E1JBdMus5GRy4rB Avetp0Wx/1r9zVDKD/J1bNIlt0SR9FTmynZj4kLWhoCqmbrLS35325sS6wARAQAB tEhQdXBwZXQsIEluYy4gUmVsZWFzZSBLZXkgKFB1cHBldCwgSW5jLiBSZWxlYXNl IEtleSkgPHJlbGVhc2VAcHVwcGV0LmNvbT6JAlQEEwEKAD4WIQTWgR7Tre64RBr1 qo9FKLbNnmHvJgUCXKu/igIbAwUJC0c1AAULCQgHAwUVCgkICwUWAgMBAAIeAQIX gAAKCRBFKLbNnmHvJg/vD/0eOl/pBb6ooGnzg2qoD+XwgOK3HkTdvGNZKGsIrhUG q6O0zoyPW8v9b/i7QEDre8QahARmMAEQ+T3nbNVzw4kpE+YIrEkKjoJsrF8/K/1L zBHJCc3S9oF9KubG5BuQ4bAmcvnI+qpEYbSTLHztYGUfXAGu+MnaDf4C60G7zM6m ec4bX8lVnt+gcsGGGCdN89XsZLBNdv21z9xMeaAPiRYJpbqwrb8cYbKQeqFSQt2M UylN5oVeN77Q8iyXSyVwpc6uKzXdQ8bVPbKUTWSXQ4SSp0HJjtAMiDH2pjty4PG6 EgZ6/njJLOzQ29ZgFrS19XLONlptHwKzLYB8nJhJvGHfzzInmNttDtNwTA6IxpsR 4aCnrPWFJRCbmMBNXvBR9B/O+e/T5ngL21ipMEwzEOiQlRSacnO2pICwZ5pARMRI dxq/5BQYry9HNlJDGR7YIfn7i0oCGk5BxwotSlAPw8jFpNU/zTOvpQAdPvZje2JP 6GS+hYxSdHsigREXI2gxTvpcLk8LOe9PsqJv631e6Kvn9P9OHiihIp8G9fRQ8T7y elHcNanV192mfbWxJhDAcQ+JEy9883lOanaCoaf/7z4kdmCQLz5/oNg2K0qjSgZH JY/gxCOwuAuUJlLcAXQG6txJshfMxyQUO46DXg0/gjwkKgT/9PbTJEN/WN/G6n1h lbkCDQRcq7+KARAAxX5WS3Qx0eHFkpxSecR2bVMh5NId/v5Ch0sXWTWp44I38L9V o+nfbI+o8wN5IdFtvhmQUXCUPfacegFVVyerxSuLb0YibhNL1/3xwD5aDMYSN5ud x1wJTN1Ymi1zWwDN0PMx3asJ2z31fK4LOHOP4gRvWfrJjYlkMD5ufmxK7bYWh80z IEHJkNJKGbGcBB8MxJFP1dX85vwATY7N7jbpBQ0z6rLazfFyqmo8E3u5PvPQvJ06 qMWF1g+tTqqJSIT6kdqbznuWNGFpI0iO+k4eYAGcOS2L8v5/Au163BldDGHxTnnl h42MWTyx7v0UBHKvI+WSC2rQq0x7a2WyswQ9lpqGbvShUSyR8/z6c0XEasDhhB3X AQcsIH5ndKzS7GnQMVNjgFCyzr/7+TMBXJdJS3XyC3oi5yTX5qwt3RkZN1DXozkk eHxzow5eE7cSHFFYboxFCcWmZNeHL/wQJms0pW2UL2crmXhVtj5RsG9fxh0nQnxm zrMbn+PxQaW8Xh+Z5HWQ65PSt7dg8k4Y+pGD115/kG1U2PltlcoOLUwHLp24ptaa Chj1tNg/VSWpMCaXeDmrk5xiZIRHe/P1p18+iTOQ2GXP4MBmfDwX9lHfQxTht/qB +ikBy4bVqJmMDew4QAmHgPhRXzRwTH4lIMoYGPX3+TAGovdy5IZjaQtvahcAEQEA AYkCPAQYAQoAJhYhBNaBHtOt7rhEGvWqj0Uots2eYe8mBQJcq7+KAhsMBQkLRzUA AAoJEEUots2eYe8m/ggQAMWoPyvNCEs1HTVpOOyLsEbQhLvCcjRjJxHKGg9z8nIW pFSPXjlThnRR3UwIQHVgf+5OYMvIvaQ5yLWLMP1QdN/wZLKHLaKv6QxgXdLmr3F5 9qhoV3NbBvgkFlzvJrHYH75sJglX60W7QysXxYinlsPhQeTWjca5/VjUTOgGhLDM Q/UCClcPA0Q12Q7U/eomYnmFDJdxPH6U9ZA6UQTdLWVCvK1chL3Fj1eq/11d/0S/ 7CQvZObYRKX1kkaJAwSt7C6iq8nvrCWVVuxaXRqI/6Qi4Z6CSNB+2tk2W66J52Wm PaodvnLlu+im3qtTWLLa3R+ZFRwNK9xPIR+XbA/HggOkG/JeAZYgB8shIVhuPdQc zZi2hHIVUTPvhnxNgeioia2Zu++2WKpf6LEGNlwADFOVedfea0am23ImV2YOhEHz hSvhdhiM3W8XtK3ZQbyUiumAXQrMhamoaHytdQUMEU/nmaLygKPHjUNixsliknU6 jxFIQStHSuF3b2hdM3W+Cw8ziUInpz5Dgw9uV0G3h/FGv0tjjgmbyTdUIjbQNUxk pzA2H6IBEMaVTdNuGEqPU+xySSoOSU3eg3Hey4hR1CZln5cky0bwZRziCQYmfpn1 KE7aoxDPbBBJ0Y3k/i8CfnPiaBeWY+3o63Z9IeICg17nNva8OYpQnUVXXHhkJIc0 =u0aK -----END PGP PUBLIC KEY BLOCK----- ,,54,0
openstack%2Fopenstack-helm~master~I8b7c03f240f3fed2148d6e92035aca0a4d879ce9,openstack/openstack-helm,master,I8b7c03f240f3fed2148d6e92035aca0a4d879ce9,"Revert ""feat(tls): Change Issuer to ClusterIssuer""",ABANDONED,2021-01-27 22:35:25.000000000,2021-01-27 22:36:51.000000000,,"[{'_account_id': 11934}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30746}]","[{'number': 1, 'created': '2021-01-27 22:35:25.000000000', 'files': ['nova/values_overrides/tls.yaml', 'heat/Chart.yaml', 'horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/values_overrides/tls.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/04f88041a8fd7b80dca9b2368e2fe13e71103572', 'message': 'Revert ""feat(tls): Change Issuer to ClusterIssuer""\n\nThis reverts commit 43e75eaa83cc6958fa0a6af55783cbe2645cfde7.\n\nReason for revert: This introduced a bug:\nhttps://cert-manager.io/docs/installation/upgrading/upgrading-0.15-0.16/#issue-with-older-versions-of-kubectl\n\nOlder versions of kubectl will have issues with the nested CRDs\n\nRelated revert:  https://review.opendev.org/c/openstack/openstack-helm-infra/+/772733\n\nChange-Id: I8b7c03f240f3fed2148d6e92035aca0a4d879ce9\n'}]",0,772735,04f88041a8fd7b80dca9b2368e2fe13e71103572,2,9,1,18250,,,0,"Revert ""feat(tls): Change Issuer to ClusterIssuer""

This reverts commit 43e75eaa83cc6958fa0a6af55783cbe2645cfde7.

Reason for revert: This introduced a bug:
https://cert-manager.io/docs/installation/upgrading/upgrading-0.15-0.16/#issue-with-older-versions-of-kubectl

Older versions of kubectl will have issues with the nested CRDs

Related revert:  https://review.opendev.org/c/openstack/openstack-helm-infra/+/772733

Change-Id: I8b7c03f240f3fed2148d6e92035aca0a4d879ce9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/772735/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/tls.yaml', 'heat/Chart.yaml', 'horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/values_overrides/tls.yaml', 'keystone/Chart.yaml']",17,04f88041a8fd7b80dca9b2368e2fe13e71103572,feat(tls-phase2),version: 0.1.3,version: 0.1.4,17,29
openstack%2Fopenstack-helm~master~I6585d5a8c2ccb507a5c99784c0190502b55a5bcf,openstack/openstack-helm,master,I6585d5a8c2ccb507a5c99784c0190502b55a5bcf,feat(tls): Change Issuer to ClusterIssuer,MERGED,2020-12-09 22:56:28.000000000,2021-01-27 22:35:25.000000000,2021-01-20 00:20:29.000000000,"[{'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 30495}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-12-09 22:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b9406cec2b21d21b3932835b600a52db9f53f42b', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 2, 'created': '2020-12-09 23:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9feecd2b22e134337309307a12d66880c42e7787', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 3, 'created': '2020-12-10 02:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7f02e40e09c1acadbc4ab1a782d1537a626357e', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 4, 'created': '2020-12-10 20:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e5af44ecc1b1a871fa454b97c4af58bc94c951b', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unliked Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 5, 'created': '2020-12-10 20:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1abf6fb3f1a60bdabdac7e2cd4e47cef060e3a1', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 6, 'created': '2020-12-24 20:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d019b8fc6e63c88f2d49ff850b4d37df5c4ba5e6', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 7, 'created': '2020-12-28 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62807ffa72eea7ffe293a01c19f5b89f9a7a6d7e', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 8, 'created': '2020-12-29 17:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67d0e7dd466c2b80a850232c955ddd3289aaa433', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 9, 'created': '2020-12-29 18:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae0678cbd9fe7f7498cd74a03d192548a5080449', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 10, 'created': '2020-12-29 22:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5bc1e8989fc44a52a7b1c5746ce13960ca3a488', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 11, 'created': '2020-12-31 16:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db3f099299acab84f5bfc861c937e8677c4fb3a3', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 12, 'created': '2021-01-12 16:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f058d21620f0501e9ddf8801be0d64481c8405d', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 13, 'created': '2021-01-12 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/818e6ff4e66780b0030654d8fbd5d7078bad694f', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 14, 'created': '2021-01-12 16:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3dd63825c15e977ca5c7babc5d768f73f8aef6e', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 15, 'created': '2021-01-12 19:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e03ac22f841786e10a75f324580ab694048657f2', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 16, 'created': '2021-01-19 06:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d18e30cc142b4fddd08768e816301e64b9f9832', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}, {'number': 17, 'created': '2021-01-19 13:48:57.000000000', 'files': ['nova/values_overrides/tls.yaml', 'heat/Chart.yaml', 'horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/values_overrides/tls.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43e75eaa83cc6958fa0a6af55783cbe2645cfde7', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359\n\nChange-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf\n'}]",4,766358,43e75eaa83cc6958fa0a6af55783cbe2645cfde7,101,9,17,24780,,,0,"feat(tls): Change Issuer to ClusterIssuer

ClusterIssuer does not belong to a single namespace (unlike Issuer)
and can be referenced by Certificate resources from multiple different
namespaces. When internal TLS is added to multiple namespaces, same
ClusterIssuer can be used instead of one Issuer per namespace.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/766359

Change-Id: I6585d5a8c2ccb507a5c99784c0190502b55a5bcf
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/766358/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/values_overrides/tls.yaml', 'nova/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'horizon/values_overrides/tls.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'keystone/values_overrides/tls.yaml', 'tools/scripts/tls/cert-manager.sh']",9,b9406cec2b21d21b3932835b600a52db9f53f42b,feat(tls-phase2), namespace: cert-managerkind: ClusterIssuer, namespace: openstackkind: Issuer namespace: openstack,19,5
openstack%2Fpuppet-ceilometer~stable%2Fussuri~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,stable/ussuri,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-01-27 10:47:44.000000000,2021-01-27 22:33:29.000000000,2021-01-27 22:31:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 10:47:44.000000000', 'files': ['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/90ef42ef6e4be9594c709f249572f5c8e8a285de', 'message': 'Replace disk.* meters by disk.device.* meters\n\nThe disk.* meters have already removed from ceilometer[1] and we\nshould use the disk.device.* meters instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)\n(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)\n'}]",0,772551,90ef42ef6e4be9594c709f249572f5c8e8a285de,8,3,1,4264,,,0,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)
(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/51/772551/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml']",4,90ef42ef6e4be9594c709f249572f5c8e8a285de,bug/1911852-stable/victoria-stable/ussuri,"--- fixes: - | Now the default meters use disk.device metrics instead of disk metrics, so that disk performance data can be captured by default. ",,15,14
openstack%2Frequirements~master~Ica405314923397b1369b94a980906dc71b7ebc2b,openstack/requirements,master,Ica405314923397b1369b94a980906dc71b7ebc2b,update constraint for octavia-lib to new release 2.3.0,MERGED,2021-01-27 08:49:37.000000000,2021-01-27 22:32:46.000000000,2021-01-27 22:26:06.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-27 08:49:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae6c834d23f79bac1a92aa61585dbcac90e9cb2d', 'message': 'update constraint for octavia-lib to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Carlos Goncalves <cgoncalves@redhat.com>\nmeta: release:Commit: Carlos Goncalves <cgoncalves@redhat.com>\nmeta: release:Change-Id: Ia5e8219b5ad003a99865a8cfa1a1316b115ce037\nmeta: release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Code-Review+1: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ica405314923397b1369b94a980906dc71b7ebc2b\n'}]",0,772639,ae6c834d23f79bac1a92aa61585dbcac90e9cb2d,11,3,1,11131,,,0,"update constraint for octavia-lib to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Carlos Goncalves <cgoncalves@redhat.com>
meta: release:Commit: Carlos Goncalves <cgoncalves@redhat.com>
meta: release:Change-Id: Ia5e8219b5ad003a99865a8cfa1a1316b115ce037
meta: release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>
meta: release:Code-Review+1: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ica405314923397b1369b94a980906dc71b7ebc2b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/772639/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ae6c834d23f79bac1a92aa61585dbcac90e9cb2d,new-release,octavia-lib===2.3.0,octavia-lib===2.2.0,1,1
openstack%2Fdevstack~stable%2Ftrain~Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74,openstack/devstack,stable/train,Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74,Fix get-pip for python 3.5,MERGED,2021-01-26 21:06:57.000000000,2021-01-27 22:32:38.000000000,2021-01-27 22:25:42.000000000,"[{'_account_id': 841}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 21:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/97419adf4bdc634595e05de9bffb115a8fd743dd', 'message': 'Fix get-pip for python 3.5\n\nget-pip.py is fixed for py2.7 in\nhttps://review.opendev.org/c/openstack/devstack/+/772462\n\nThis commit support it for py3.5 as devstack stable/train and stein\nstill support ubuntu xenial which has py3.5\n\nCloses-Bug: #1913283\nChange-Id: Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74\n'}, {'number': 2, 'created': '2021-01-26 21:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/33d32aca0efd0c8715fd36b973480af42887bea2', 'message': 'Fix get-pip for python 3.5\n\nget-pip.py is fixed for py2.7 in\nhttps://review.opendev.org/c/openstack/devstack/+/772462\n\nThis commit support it for py3.5 as devstack stable/train and stein\nstill support ubuntu xenial which has py3.5\n\nCloses-Bug: #1913283\nChange-Id: Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74\n'}, {'number': 3, 'created': '2021-01-26 21:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2af48f65bf0d5a43cd4fe936ce2f845beda2e774', 'message': 'Fix get-pip for python 3.5\n\nget-pip.py is fixed for py2.7 in\nhttps://review.opendev.org/c/openstack/devstack/+/772462\n\nThis commit support it for py3.5 as devstack stable/train and stein\nstill support ubuntu xenial which has py3.5\n\nCloses-Bug: #1913283\nChange-Id: Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74\n'}, {'number': 4, 'created': '2021-01-27 00:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/726023a1416ead0e3bccb6853641df89a4331ae4', 'message': 'Fix get-pip for python 3.5\n\nget-pip.py is fixed for py2.7 in\nhttps://review.opendev.org/c/openstack/devstack/+/772462\n\nThis commit support it for py3.5 as devstack stable/train and stein\nstill support ubuntu xenial which has py3.5\n\nAlso using Temepst 23.0.0 for xenial platform job which is\ncompatible version on py3.5.\n\nCloses-Bug: #1913283\nChange-Id: Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74\n'}, {'number': 5, 'created': '2021-01-27 01:55:44.000000000', 'files': ['.zuul.yaml', 'tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/812efb3ca7faea6e477c0b4c2dbe16081f7880a9', 'message': 'Fix get-pip for python 3.5\n\nget-pip.py is fixed for py2.7 in\nhttps://review.opendev.org/c/openstack/devstack/+/772462\n\nThis commit support it for py3.5 as devstack stable/train and stein\nstill support ubuntu xenial which has py3.5\n\nAlso using Temepst 23.0.0 for xenial platform job which is\ncompatible version on py3.5.\n\nCloses-Bug: #1913283\nChange-Id: Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74\n'}]",4,772601,812efb3ca7faea6e477c0b4c2dbe16081f7880a9,29,7,5,8556,,,0,"Fix get-pip for python 3.5

get-pip.py is fixed for py2.7 in
https://review.opendev.org/c/openstack/devstack/+/772462

This commit support it for py3.5 as devstack stable/train and stein
still support ubuntu xenial which has py3.5

Also using Temepst 23.0.0 for xenial platform job which is
compatible version on py3.5.

Closes-Bug: #1913283
Change-Id: Icd40e41b5f3ef9a621ca1b9739875fcdd31abd74
",git fetch https://review.opendev.org/openstack/devstack refs/changes/01/772601/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,97419adf4bdc634595e05de9bffb115a8fd743dd,bug/1913283," if [[ ""$PYTHON3_VERSION"" == ""python3.5"" ]]; then PIP_GET_PIP_URL=$(dirname $PIP_GET_PIP_URL)/3.5/$(basename $PIP_GET_PIP_URL) LOCAL_PIP=${LOCAL_PIP}-py35",,3,0
openstack%2Fopenstack-helm-infra~master~I1576f486f30d693c4bc6b15e25c238d8004b4568,openstack/openstack-helm-infra,master,I1576f486f30d693c4bc6b15e25c238d8004b4568,feat(tls): Change Issuer to ClusterIssuer,MERGED,2020-12-09 23:04:31.000000000,2021-01-27 22:22:08.000000000,2021-01-15 22:27:30.000000000,"[{'_account_id': 8898}, {'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 30495}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-12-09 23:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/35f10dfe89eab8d1aa6f931fbee666a923b5b4fb', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 2, 'created': '2020-12-10 00:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cc52e2711e6ec6a2d1dfaadd1dc8c903d164f0c', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 3, 'created': '2020-12-10 00:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eedcb1370a11c90fe2bb0a14aa80a6b5b26e1a63', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 4, 'created': '2020-12-10 19:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f00f30fe97001989590251b78c0857279edb5c2b', 'message': 'feat(tls-phase2): Change Issuer to ClusterIssuer\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 5, 'created': '2020-12-10 20:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1aab1fdaf3243eb912d405c750395e5ce2dacb69', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unliked Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 6, 'created': '2020-12-10 20:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54fa1cfcf59753c5670417d56f1d69619abe3274', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 7, 'created': '2020-12-11 16:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/67d2b1798fa05289ce7211b26edc7bc03d3ff712', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 8, 'created': '2020-12-23 19:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c931919469197b2a0a99f31d40abaf3b5dcdccf', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 9, 'created': '2020-12-24 20:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/043d3a771ed8f63dace4667b206a3ffc79c1cc9c', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 10, 'created': '2020-12-28 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fd22329866aeb869659768cf0eaf85b60c65e9c', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 11, 'created': '2020-12-28 18:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa76d6f489e02ba884d5ee3f1d16d0446dd1a2ac', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 12, 'created': '2020-12-29 17:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9269340caaadbddf2cfc60429a76999341e3d670', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 13, 'created': '2020-12-29 18:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ddd46f720f77ae1d961181e1c3fd440a864e6d7', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 14, 'created': '2020-12-29 22:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afd6a92fed1cfa845c529cb29928f7232b4bca8b', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 15, 'created': '2021-01-12 16:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7a69b3698a7fe2b31c46c710780ed5e461b2a1e', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 16, 'created': '2021-01-12 16:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16c1a16eaf576124ecd0f3c90a1f2475f1d30fa6', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 17, 'created': '2021-01-12 19:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a9cba3788cdbad386853672f332d53cdf961e2f', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}, {'number': 18, 'created': '2021-01-15 18:46:09.000000000', 'files': ['mariadb/Chart.yaml', 'ca-clusterissuer/Chart.yaml', 'ca-clusterissuer/values.yaml', 'helm-toolkit/templates/manifests/_certificates.tpl', 'ca-clusterissuer/templates/secret-ca.yaml', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl', 'ca-clusterissuer/templates/clusterissuer-ca.yaml', 'mariadb/values_overrides/tls.yaml', 'ca-clusterissuer/requirements.yaml', 'ca-issuer/Chart.yaml', 'ca-issuer/templates/issuer-ca.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f60c94fc16f81d220cfc32098cf518ae62afa99a', 'message': 'feat(tls): Change Issuer to ClusterIssuer\n\nClusterIssuer does not belong to a single namespace (unlike Issuer)\nand can be referenced by Certificate resources from multiple different\nnamespaces. When internal TLS is added to multiple namespaces, same\nClusterIssuer can be used instead of one Issuer per namespace.\n\nChange-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568\n'}]",2,766359,f60c94fc16f81d220cfc32098cf518ae62afa99a,56,9,18,24780,,,0,"feat(tls): Change Issuer to ClusterIssuer

ClusterIssuer does not belong to a single namespace (unlike Issuer)
and can be referenced by Certificate resources from multiple different
namespaces. When internal TLS is added to multiple namespaces, same
ClusterIssuer can be used instead of one Issuer per namespace.

Change-Id: I1576f486f30d693c4bc6b15e25c238d8004b4568
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/766359/16 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_ingress.tpl', 'mariadb/values_overrides/tls.yaml']",2,35f10dfe89eab8d1aa6f931fbee666a923b5b4fb,feat(tls-phase2), kind: ClusterIssuer, kind: Issuer,7,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1d05749c94bd58ad4badafa7d9755009cb4b64af,openstack/tripleo-heat-templates,stable/train,I1d05749c94bd58ad4badafa7d9755009cb4b64af,Disable notification from services by default,MERGED,2021-01-14 16:38:01.000000000,2021-01-27 21:43:35.000000000,2021-01-27 21:41:53.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-14 16:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57e71bdb0d0833046eb3d7b5722584ae6a495f12', 'message': ""Disable notification from services by default\n\nCurrently we disable Telemetry services like Ceilometer by defaut,\nwhich means that we don't have any consumers for notification messages.\nSo NotificationDriver should be set as noop by default so that we don't\nhave unconsumed messages in notification queues.\n\nChange-Id: I1d05749c94bd58ad4badafa7d9755009cb4b64af\nCloses-Bug: #1869355\n(cherry picked from commit afc0b731e044ed3223fb62501cdb291bdb7bc138)\n(cherry picked from commit 7ab640cfa589fe8721845587c91e7839f3cd6a05)\n""}, {'number': 2, 'created': '2021-01-14 16:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8dc292722b9c2de61ed2a89341438ab4a6186013', 'message': ""Disable notification from services by default\n\nCurrently we disable Telemetry services like Ceilometer by defaut,\nwhich means that we don't have any consumers for notification messages.\nSo NotificationDriver should be set as noop by default so that we don't\nhave unconsumed messages in notification queues.\n\nChange-Id: I1d05749c94bd58ad4badafa7d9755009cb4b64af\nCloses-Bug: #1869355\n(cherry picked from commit afc0b731e044ed3223fb62501cdb291bdb7bc138)\n(cherry picked from commit 7ab640cfa589fe8721845587c91e7839f3cd6a05)\n""}, {'number': 3, 'created': '2021-01-20 07:46:23.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'environments/services/undercloud-ceilometer.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'environments/enable-legacy-telemetry.yaml', 'deployment/mistral/mistral-base.yaml', 'releasenotes/notes/disable-notification-driver-a888d4e9b8eed1dc.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'environments/enable-stf.yaml', 'environments/services-baremetal/undercloud-ceilometer.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/491b545715f1e19b8aa96003e7514c0711e9d88c', 'message': ""Disable notification from services by default\n\nCurrently we disable Telemetry services like Ceilometer by defaut,\nwhich means that we don't have any consumers for notification messages.\nSo NotificationDriver should be set as noop by default so that we don't\nhave unconsumed messages in notification queues.\n\nChange-Id: I1d05749c94bd58ad4badafa7d9755009cb4b64af\nCloses-Bug: #1869355\n(cherry picked from commit afc0b731e044ed3223fb62501cdb291bdb7bc138)\n(cherry picked from commit 7ab640cfa589fe8721845587c91e7839f3cd6a05)\n""}]",0,770751,491b545715f1e19b8aa96003e7514c0711e9d88c,19,5,3,4264,,,0,"Disable notification from services by default

Currently we disable Telemetry services like Ceilometer by defaut,
which means that we don't have any consumers for notification messages.
So NotificationDriver should be set as noop by default so that we don't
have unconsumed messages in notification queues.

Change-Id: I1d05749c94bd58ad4badafa7d9755009cb4b64af
Closes-Bug: #1869355
(cherry picked from commit afc0b731e044ed3223fb62501cdb291bdb7bc138)
(cherry picked from commit 7ab640cfa589fe8721845587c91e7839f3cd6a05)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/770751/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/deprecated/sahara/sahara-base.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'environments/services/undercloud-ceilometer.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'environments/enable-legacy-telemetry.yaml', 'deployment/mistral/mistral-base.yaml', 'releasenotes/notes/disable-notification-driver-a888d4e9b8eed1dc.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'environments/enable-stf.yaml', 'environments/services-baremetal/undercloud-ceilometer.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/metrics/ceilometer-write-qdr.yaml']",23,57e71bdb0d0833046eb3d7b5722584ae6a495f12,disable_notification_train, NotificationDriver: 'messagingv2',,153,14
openstack%2Fnova~stable%2Fstein~Id4ebb06e634a612c8be4be6c678d8265e0b99730,openstack/nova,stable/stein,Id4ebb06e634a612c8be4be6c678d8265e0b99730,Update pci stat pools based on PCI device changes,MERGED,2020-11-06 11:25:22.000000000,2021-01-27 21:11:30.000000000,2021-01-27 21:08:14.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-06 11:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe958959eae24d03e3e610fbbc006bf95ceea83b', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n      nova/tests/unit/virt/libvirt/fakelibvirt.py\n\nTo make the functional test working, lot of patches need to be\nbackported. The functional test is removed in this patch and\nhence the conflicts.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n'}, {'number': 2, 'created': '2020-11-06 11:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b987feb5ffa8aef823b7e14752b2935ae2fb8bd3', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n      nova/tests/unit/virt/libvirt/fakelibvirt.py\n\nTo make the functional test working, lot of patches need to be\nbackported. The functional test is removed in this patch and\nhence the conflicts.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n'}, {'number': 3, 'created': '2021-01-20 07:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46f73acd6d02be19e42b8e18a5f662d1422cb802', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n      nova/tests/unit/virt/libvirt/fakelibvirt.py\n      nova/tests/functional/libvirt/base.py\n\nTo avoid the conflicts and make the new functional test execute,\nfollowing changes are performed\n- Modified the test case to use flavor extra spec pci_passthrough\n  :alias to create a server with sriov port instead of creating a\n  sriov port and passing port information during server creation.\n- Removed changes in nova/tests/functional/libvirt/base.py as they\n  are required only if neutron sriov port is created in the test\n  case.\n\nChanges:\n- Included img_mock for the new functional testcase\n- Modified the following function calls/arguments in the new\n  functional testcase to reflect what is available in stein\n  objects.ComputeNode.get_by_host_and_nodename\n  self._get_connection()\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)\n(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)\n(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)\n'}, {'number': 4, 'created': '2021-01-21 04:45:29.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/73e631862a81e85fdf9305f3d15b201d780c8743', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nTo avoid the conflicts and make the new functional test execute,\nfollowing changes are performed in the new test case\n- Passing hostname as argument to self._get_connection() is not\n  supported in stable/stein and hence dropped the argument.\n- Compute nodes cannot be retreived by host and nodename should\n  also be included in stable/stein. So modified the function call\n  to use objects.ComputeNode.get_by_host_and_nodename instead.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)\n(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)\n(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)\n'}]",6,761727,73e631862a81e85fdf9305f3d15b201d780c8743,28,15,4,10366,,,0,"Update pci stat pools based on PCI device changes

At start up of nova-compute service, the PCI stat pools are
populated based on information in pci_devices table in Nova
database. The pools are updated only when new device is added
or removed but not on any device changes like device type.

If an existing device is configured as SRIOV and nova-compute
is restarted, the pci_devices table gets updated but the device
is still listed under the old pool in pci_tracker.stats.pool
(in-memory object).

This patch looks for device type updates in existing devices
and updates the pools accordingly.

Conflicts:
      nova/tests/functional/libvirt/test_pci_sriov_servers.py

To avoid the conflicts and make the new functional test execute,
following changes are performed in the new test case
- Passing hostname as argument to self._get_connection() is not
  supported in stable/stein and hence dropped the argument.
- Compute nodes cannot be retreived by host and nodename should
  also be included in stable/stein. So modified the function call
  to use objects.ComputeNode.get_by_host_and_nodename instead.

Change-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730
Closes-Bug: #1892361
(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)
(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)
(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)
(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/761727/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/pci/stats.py']",5,fe958959eae24d03e3e610fbbc006bf95ceea83b,bug/1892361," def _get_pool_with_device_type_mismatch(self, dev): """"""Check for device type mismatch in the pools for a given device. Return (pool, device) if device type does not match or a single None if the device type matches. """""" for pool in self.pools: for device in pool['devices']: if device.address == dev.address: if dev.dev_type != pool[""dev_type""]: return pool, device return None return None def update_device(self, dev): """"""Update a device to its matching pool."""""" pool_device_info = self._get_pool_with_device_type_mismatch(dev) if pool_device_info is None: return pool, device = pool_device_info pool['devices'].remove(device) self._decrease_pool_count(self.pools, pool) self.add_device(dev) ",,64,0
openstack%2Fswift~master~If380410c17ed9ebc014b8198af0ea8d502deacc8,openstack/swift,master,If380410c17ed9ebc014b8198af0ea8d502deacc8,Document memcache max size with shard ranges,MERGED,2021-01-07 06:11:11.000000000,2021-01-27 21:10:47.000000000,2021-01-27 21:08:38.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 06:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/23261b1da5f6ade02e37ec4ab5fd1d9445b8e3b8', 'message': 'Document memcache max size with shard ranges\n\nWhen you start getting more then 3k shards in a root container the\ncached shard range listing can get bigger then the default max size for\nmemcache (1MB).\n\nSo add a mention about it in the configuration guide.\n\nFixes bug 1890643\n\nChange-Id: If380410c17ed9ebc014b8198af0ea8d502deacc8\n'}, {'number': 2, 'created': '2021-01-08 04:27:49.000000000', 'files': ['doc/source/deployment_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/8df3d1505a4e034983c609cb6f8f5e9a0fc945f2', 'message': 'Document memcache max size with shard ranges\n\nWhen you start getting more then 3k shards in a root container the\ncached shard range listing can get bigger then the default max size for\nmemcache (1MB).\n\nSo add a mention about it in the configuration guide.\n\nFixes bug 1890643\n\nChange-Id: If380410c17ed9ebc014b8198af0ea8d502deacc8\n'}]",11,769663,8df3d1505a4e034983c609cb6f8f5e9a0fc945f2,15,3,2,7233,,,0,"Document memcache max size with shard ranges

When you start getting more then 3k shards in a root container the
cached shard range listing can get bigger then the default max size for
memcache (1MB).

So add a mention about it in the configuration guide.

Fixes bug 1890643

Change-Id: If380410c17ed9ebc014b8198af0ea8d502deacc8
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/769663/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment_guide.rst'],1,23261b1da5f6ade02e37ec4ab5fd1d9445b8e3b8,cache_shard_listing_doc,"************************* Shard Range Listing Cache ************************* When a container gets :ref:`sharded<sharding_doc>` the root container (the original) will still be the primary entry point to container GET requests, as it provides the list of shards. To take load off the root container swift by default caches the list of shards returned. As the number of shards for a root container grows to more then 3k the memcache max size of 1MB can be reached. Care is needed to keep an eye on the current value or resize it to something like 5MB. Memcache has a ``stats sizes`` option that can point out the current size usage. As this reaches the current max an increase might be in order:: # telnet <memcache server> 11211 > stats sizes STAT 160 2 STAT 448 1 STAT 576 1 END ",,23,0
openstack%2Ftripleo-ci~master~I1ceb3f0040554919d6b9ecf324f3a6388a032042,openstack/tripleo-ci,master,I1ceb3f0040554919d6b9ecf324f3a6388a032042,remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates,MERGED,2021-01-11 16:56:22.000000000,2021-01-27 20:49:16.000000000,2021-01-27 20:49:16.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/54bde52136eeaa86ccf6a22f0313b689b0c7f30a', 'message': 'remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates\n\n* remove for all c7 branches\n* train, stein, rocky\n\nChange-Id: I1ceb3f0040554919d6b9ecf324f3a6388a032042\n'}, {'number': 2, 'created': '2021-01-25 08:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b05b6d370f483447b0f619bcaa26062cdacf9baf', 'message': 'remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates\n\n* remove for all c7 branches\n* train, stein, rocky\n\nChange-Id: I1ceb3f0040554919d6b9ecf324f3a6388a032042\n'}, {'number': 3, 'created': '2021-01-25 08:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/17ddc23fc315f36a438b0e6ca634240bf67bdc84', 'message': 'remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates\n\n* remove for all c7 branches\n* train, stein, rocky\n\nChange-Id: I1ceb3f0040554919d6b9ecf324f3a6388a032042\n'}, {'number': 4, 'created': '2021-01-25 09:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/481f4a1d79bf034c3896676c48aade7fa76ec17b', 'message': 'remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates\n\n* remove for all c7 branches\n* train, stein, rocky\n\nThe depends-on is for removal in puppet-tripleo @stable/queens zuul layout\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/772263\n\nChange-Id: I1ceb3f0040554919d6b9ecf324f3a6388a032042\n'}, {'number': 5, 'created': '2021-01-26 15:22:54.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/81fd4f836209e0c8851863916666084786c927fc', 'message': 'remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates\n\n* remove for all c7 branches\n* train, stein, rocky\n\nThe depends-on is for removal in puppet-tripleo @stable/queens zuul layout\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/772263\n\nChange-Id: I1ceb3f0040554919d6b9ecf324f3a6388a032042\n'}]",0,770153,81fd4f836209e0c8851863916666084786c927fc,30,7,5,9592,,,0,"remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates

* remove for all c7 branches
* train, stein, rocky

The depends-on is for removal in puppet-tripleo @stable/queens zuul layout

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/772263

Change-Id: I1ceb3f0040554919d6b9ecf324f3a6388a032042
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/53/770153/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,54bde52136eeaa86ccf6a22f0313b689b0c7f30a,tripleo-c7-update-upgrade-removal,," - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored name: tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates description: | Basic tripleo update job, this is not an upgrade job. parent: tripleo-ci-base-multinode voting: false branches: ^(stable/(rocky|stein|train)).*$ vars: nodes: 1ctlr featureset: '037' # Note (dmsimard): This enforces a minimum TTL for DNS records, see # https://review.opendev.org/#/c/523178/ for context unbound_cache_min_ttl: 900 extra_tags: - overcloud-update - job:",0,26
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I97b42e618bcd31e408374157eb10d315ac62f306,openstack/tripleo-heat-templates,stable/ussuri,I97b42e618bcd31e408374157eb10d315ac62f306,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-22 12:56:23.000000000,2021-01-27 20:49:11.000000000,2021-01-27 20:49:11.000000000,"[{'_account_id': 6816}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-22 12:56:23.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c04572dbb777c42cd8e391c1a7f8d9426ae48cf3', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I97b42e618bcd31e408374157eb10d315ac62f306\n(cherry picked from commit 4a599e3721472626673179f32eb6968978760a20)\n""}]",0,771921,c04572dbb777c42cd8e391c1a7f8d9426ae48cf3,18,5,1,20172,,,0,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I97b42e618bcd31e408374157eb10d315ac62f306
(cherry picked from commit 4a599e3721472626673179f32eb6968978760a20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/771921/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,c04572dbb777c42cd8e391c1a7f8d9426ae48cf3,ffu-fix-stable/victoria-stable/ussuri,, - pacemaker - pcs,0,2
openstack%2Fopenstack-helm-images~master~Id2cf91c93be67304821518de08eeb740dadd2cee,openstack/openstack-helm-images,master,Id2cf91c93be67304821518de08eeb740dadd2cee,[fluentd] Minor fluentd version change,MERGED,2021-01-21 07:11:57.000000000,2021-01-27 20:39:33.000000000,2021-01-27 20:37:49.000000000,"[{'_account_id': 18250}, {'_account_id': 18538}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 33020}]","[{'number': 1, 'created': '2021-01-21 07:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fa22a5cf08c4c3fbceab4e5a12ac920d1c35daf1', 'message': '[DNM/WIP] Minor fluentd version change\n\nChange-Id: Id2cf91c93be67304821518de08eeb740dadd2cee\n'}, {'number': 2, 'created': '2021-01-25 19:28:01.000000000', 'files': ['fluentd/Dockerfile.debian'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/274c7fb3047325c69c786fdbb12112c0b857ed03', 'message': '[fluentd] Minor fluentd version change\n\nThis uplifts the fluentd image to a more recent\nminor version change\n\nChange-Id: Id2cf91c93be67304821518de08eeb740dadd2cee\n'}]",0,771755,274c7fb3047325c69c786fdbb12112c0b857ed03,13,6,2,28849,,,0,"[fluentd] Minor fluentd version change

This uplifts the fluentd image to a more recent
minor version change

Change-Id: Id2cf91c93be67304821518de08eeb740dadd2cee
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/55/771755/2 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/Dockerfile.debian'],1,fa22a5cf08c4c3fbceab4e5a12ac920d1c35daf1,change-771755-1,ARG FROM=docker.io/fluent/fluentd-kubernetes-daemonset:v1.11-debian-elasticsearch7-1,ARG FROM=docker.io/fluent/fluentd-kubernetes-daemonset:v1.10.1-debian-elasticsearch7-1.0,1,1
openstack%2Fcharm-guide~master~Ia860d42536bb9e2a4907a7988afeb8ef9b438df9,openstack/charm-guide,master,Ia860d42536bb9e2a4907a7988afeb8ef9b438df9,Add comment for Octavia Load balancers,MERGED,2021-01-27 19:23:05.000000000,2021-01-27 19:57:14.000000000,2021-01-27 19:55:32.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-27 19:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/da3e61a10455e9b1e23054b5bd54541a729f220b', 'message': 'Add comment for Octavia Load balancers\n\nChange-Id: Ia860d42536bb9e2a4907a7988afeb8ef9b438df9\n'}, {'number': 2, 'created': '2021-01-27 19:36:54.000000000', 'files': ['doc/source/2101.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/676159ddc9a001705bd375dded070edead81699d', 'message': 'Add comment for Octavia Load balancers\n\nChange-Id: Ia860d42536bb9e2a4907a7988afeb8ef9b438df9\n'}]",10,772761,676159ddc9a001705bd375dded070edead81699d,11,2,2,12549,,,0,"Add comment for Octavia Load balancers

Change-Id: Ia860d42536bb9e2a4907a7988afeb8ef9b438df9
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/61/772761/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2101.rst'],1,da3e61a10455e9b1e23054b5bd54541a729f220b,bug/1896603,"Octavia Load balancers using OVN provider on Victoria ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ With Victoria, creating a load balancer that uses the OVN provider with fail due to bug `LP #1896603`_. Ths bug does not affect load balancer that use the Amphora provider. .. _LP #1896603: https://bugs.launchpad.net/ubuntu/+source/ovn-octavia-provider/+bug/1896603",,8,0
openstack%2Fhorizon~stable%2Fvictoria~Ie784d187c89eba1a2673ecafd72e903115a264d3,openstack/horizon,stable/victoria,Ie784d187c89eba1a2673ecafd72e903115a264d3,Fix full text search at containers page,MERGED,2021-01-14 14:40:05.000000000,2021-01-27 19:38:57.000000000,2021-01-27 19:37:04.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-14 14:40:05.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/51db72453cbf83cad52b93bed828b64274c75cc3', 'message': ""Fix full text search at containers page\n\nContainers page uses the standard Magic Search filtering, however its\nfull text search option doesn't work.\nThis patch makes the filtering work properly with full text search.\n\nCloses-Bug: #1902610\n\nChange-Id: Ie784d187c89eba1a2673ecafd72e903115a264d3\n(cherry picked from commit 40acf5b75c1a889e767cec32fff24456e3e245d0)\n""}]",0,770749,51db72453cbf83cad52b93bed828b64274c75cc3,9,4,1,6914,,,0,"Fix full text search at containers page

Containers page uses the standard Magic Search filtering, however its
full text search option doesn't work.
This patch makes the filtering work properly with full text search.

Closes-Bug: #1902610

Change-Id: Ie784d187c89eba1a2673ecafd72e903115a264d3
(cherry picked from commit 40acf5b75c1a889e767cec32fff24456e3e245d0)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/49/770749/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.html'],1,51db72453cbf83cad52b93bed828b64274c75cc3,containers-filter-stable/victoria," <uib-accordion st-magic-search st-table=""cc.model.containers"" class=""hz-container-accordion"" ng-if=""cc.model.containers.length > 0""> <div uib-accordion-group ng-repeat=""container in cc.model.containers"" ng-class=""{'panel-primary': container.name === cc.model.container.name}"" class=""panel-default"" ng-click=""cc.selectContainer(container)""> <uib-accordion-heading> <div ng-click=""cc.selectContainer(container)""> <span class=""hz-container-title truncate"" uib-tooltip=""{$ container.name $}"" uib-tooltip-placement=""top"" uib-tooltip-popup-delay=""1000"" uib-tooltip-trigger=""mouseenter""> {$ container.name $} </span> <span uib-tooltip=""{$ 'Delete Container' | translate $}"" uib-tooltip-placement=""top"" uib-tooltip-trigger=""mouseenter"" class=""fa fa-trash hz-container-delete-icon"" ng-if=""container.name === cc.model.container.name"" ng-click=""cc.deleteContainer(container)""> </span> </uib-accordion-heading> <div ng-if=""!container.is_fetched"" class=""horizon-loading-bar container-pending-bar""> <div class=""progress progress-striped active""> <div class=""progress-bar""></div> </div> </div> <ul ng-if=""container.is_fetched"" class=""hz-object-detail list-unstyled""> <li class=""hz-object-count row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Object Count</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.count $}</span> </li> <li class=""hz-object-size row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Size</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.bytes | bytes $}</span> </li> <li class=""hz-object-timestamp row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Date Created</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.timestamp | date $}</span> </li> <li ng-if=""container.storage_policy.display_name"" class=""hz-object-policy row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Storage Policy</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.storage_policy.display_name $}</span> <span class=""hz-object-val col-lg-offset-7 col-lg-5 col-md-12"">({$ container.storage_policy.name $})</span> </li> <li ng-if=""!container.storage_policy.display_name"" class=""hz-object-policy row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Storage Policy</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.storage_policy.name $}</span> </li> <li class=""hz-object-link row""> <div class=""themable-checkbox col-lg-7 col-md-12""> <input type=""checkbox"" id=""id_access"" ng-model=""container.is_public"" ng-if=""container.name === cc.model.container.name"" ng-click=""cc.toggleAccess(container)""> <label class=""hz-object-label"" for=""id_access"" translate>Public Access</label> </div> <span class=""hz-object-val col-lg-5 col-md-12""> <a href=""{$ container.public_url $}"" target=""_blank"" ng-show=""container.public_url"" translate>Link</a> <span ng-hide=""container.public_url"" translate>Disabled</span> </span> </li> </ul> </div> </uib-accordion> <div class=""col-xs-12"" ng-if=""cc.model.containers.length == 0""> <p><translate>No items to display.</translate></p> </div> </hz-magic-search-context>"," </hz-magic-search-context> <uib-accordion class=""hz-container-accordion"" ng-if=""cc.model.containers.length > 0""> <div uib-accordion-group ng-repeat=""container in cc.model.containers"" ng-class=""{'panel-primary': container.name === cc.model.container.name}"" class=""panel-default"" ng-click=""cc.selectContainer(container)""> <uib-accordion-heading> <div ng-click=""cc.selectContainer(container)""> <span class=""hz-container-title truncate"" uib-tooltip=""{$ container.name $}"" uib-tooltip-placement=""top"" uib-tooltip-popup-delay=""1000"" uib-tooltip-trigger=""mouseenter""> {$ container.name $} </span> <span uib-tooltip=""{$ 'Delete Container' | translate $}"" uib-tooltip-placement=""top"" uib-tooltip-trigger=""mouseenter"" class=""fa fa-trash hz-container-delete-icon"" ng-if=""container.name === cc.model.container.name"" ng-click=""cc.deleteContainer(container)""></span> </div> </uib-accordion-heading> <div ng-if=""!container.is_fetched"" class=""horizon-loading-bar container-pending-bar""> <div class=""progress progress-striped active""> <div class=""progress-bar""></div> </div> </div> <ul ng-if=""container.is_fetched"" class=""hz-object-detail list-unstyled""> <li class=""hz-object-count row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Object Count</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.count $}</span> </li> <li class=""hz-object-size row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Size</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.bytes | bytes $}</span> </li> <li class=""hz-object-timestamp row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Date Created</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.timestamp | date $}</span> </li> <li ng-if=""container.storage_policy.display_name"" class=""hz-object-policy row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Storage Policy</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.storage_policy.display_name $}</span> <span class=""hz-object-val col-lg-offset-7 col-lg-5 col-md-12"">({$ container.storage_policy.name $})</span> </li> <li ng-if=""!container.storage_policy.display_name"" class=""hz-object-policy row""> <span class=""hz-object-label col-lg-7 col-md-12"" translate>Storage Policy</span> <span class=""hz-object-val col-lg-5 col-md-12"">{$ container.storage_policy.name $}</span> </li> <li class=""hz-object-link row""> <div class=""themable-checkbox col-lg-7 col-md-12""> <input type=""checkbox"" id=""id_access"" ng-model=""container.is_public"" ng-if=""container.name === cc.model.container.name"" ng-click=""cc.toggleAccess(container)""> <label class=""hz-object-label"" for=""id_access"" translate>Public Access</label> <span class=""hz-object-val col-lg-5 col-md-12""> <a href=""{$ container.public_url $}"" target=""_blank"" ng-show=""container.public_url"" translate>Link</a> <span ng-hide=""container.public_url"" translate>Disabled</span> </span> </li> </ul> </div uib-accordion-group> </uib-accordion> <div class=""col-xs-12"" ng-if=""cc.model.containers.length == 0""> <p><translate>No items to display.</translate></p> </div>",74,68
openstack%2Fcharm-guide~master~I2d4212d05b82f25c0f2053e2902abdeb6085f964,openstack/charm-guide,master,I2d4212d05b82f25c0f2053e2902abdeb6085f964,Deprecate Rabbitmq Ceph Relation,MERGED,2021-01-26 13:49:46.000000000,2021-01-27 19:31:48.000000000,2021-01-27 19:30:00.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-26 13:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2c713d123ba4bd223f8adc3e925e742073ff7862', 'message': 'Deprecate Rabbitmq Ceph Relation\n\nChange-Id: I2d4212d05b82f25c0f2053e2902abdeb6085f964\n'}, {'number': 2, 'created': '2021-01-27 19:12:01.000000000', 'files': ['doc/source/2101.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b4a0e67505005aaf422d6dba59ff9d29a5dd491c', 'message': 'Deprecate Rabbitmq Ceph Relation\n\nChange-Id: I2d4212d05b82f25c0f2053e2902abdeb6085f964\n'}]",14,772521,b4a0e67505005aaf422d6dba59ff9d29a5dd491c,11,2,2,12549,,,0,"Deprecate Rabbitmq Ceph Relation

Change-Id: I2d4212d05b82f25c0f2053e2902abdeb6085f964
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/21/772521/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2101.rst'],1,2c713d123ba4bd223f8adc3e925e742073ff7862,rabbit-ceph-relation,Rabbitmq Ceph Relation ~~~~~~~~~~~~~~~~~~~~~~ The `ceph` relation in the `rabbitmq` charm is deprecated and will be removed in the 21.04 charm release. The relation exists to support on out-dated method of rabbit clustering which involved sharing the rabbitmq data between units using an rbd volume. ,,8,0
openstack%2Fnova~stable%2Fvictoria~I5c071f70f669966e9807b38e99077c1cae5b4606,openstack/nova,stable/victoria,I5c071f70f669966e9807b38e99077c1cae5b4606,Use subqueryload() instead of joinedload() for (system_)metadata,MERGED,2020-11-07 11:11:25.000000000,2021-01-27 19:20:14.000000000,2021-01-27 19:18:06.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29888}, {'_account_id': 29963}, {'_account_id': 31321}, {'_account_id': 31596}, {'_account_id': 32155}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-07 11:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2dc0de478ed16c2a811cde4aaa52f756c758fb5', 'message': 'Use subqueryload() instead of joinedload() for (system_)metadata\n\nCurrently, when we ""get"" a single instance from the database and we\nload metadata and system_metadata, we do so using a joinedload() which\ndoes JOINs with the respective tables. Because of the one-to-many\nrelationship between an instance and (system_)metadata records, doing\nthe database query this way can result in a large number of additional\nrows being returned unnecessarily and cause a large data transfer.\n\nThis is similar to the problem addressed by change\nI0610fb16ccce2ee95c318589c8abcc30613a3fe9 which added separate queries\nfor (system_)metadata when we ""get"" multiple instances. We don\'t,\nhowever, reuse the same code for this change because\n_instances_fill_metadata converts the instance database object to a\ndict, and some callers of _instance_get_by_uuid need to be able to\naccess an instance database object attached to the session (example:\ninstance_update_and_get_original).\n\nBy using subqueryload() [1], we can perform the additional queries for\n(system_)metadata to solve the problem with a similar approach.\n\nCloses-Bug: #1799298\n\n[1] https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#subquery-eager-loading\n\nChange-Id: I5c071f70f669966e9807b38e99077c1cae5b4606\n(cherry picked from commit e728fe668a6de886455f2dbaf655c8a151462c8c)\n'}, {'number': 2, 'created': '2020-11-07 23:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12adf27e46a14291f884516ed198b1e8571db460', 'message': 'Use subqueryload() instead of joinedload() for (system_)metadata\n\nCurrently, when we ""get"" a single instance from the database and we\nload metadata and system_metadata, we do so using a joinedload() which\ndoes JOINs with the respective tables. Because of the one-to-many\nrelationship between an instance and (system_)metadata records, doing\nthe database query this way can result in a large number of additional\nrows being returned unnecessarily and cause a large data transfer.\n\nThis is similar to the problem addressed by change\nI0610fb16ccce2ee95c318589c8abcc30613a3fe9 which added separate queries\nfor (system_)metadata when we ""get"" multiple instances. We don\'t,\nhowever, reuse the same code for this change because\n_instances_fill_metadata converts the instance database object to a\ndict, and some callers of _instance_get_by_uuid need to be able to\naccess an instance database object attached to the session (example:\ninstance_update_and_get_original).\n\nBy using subqueryload() [1], we can perform the additional queries for\n(system_)metadata to solve the problem with a similar approach.\n\nCloses-Bug: #1799298\n\n[1] https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#subquery-eager-loading\n\nChange-Id: I5c071f70f669966e9807b38e99077c1cae5b4606\n(cherry picked from commit e728fe668a6de886455f2dbaf655c8a151462c8c)\n'}, {'number': 3, 'created': '2021-01-13 12:43:15.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63d2e62c3a223f883ca810f4c66a2a236cf3d483', 'message': 'Use subqueryload() instead of joinedload() for (system_)metadata\n\nCurrently, when we ""get"" a single instance from the database and we\nload metadata and system_metadata, we do so using a joinedload() which\ndoes JOINs with the respective tables. Because of the one-to-many\nrelationship between an instance and (system_)metadata records, doing\nthe database query this way can result in a large number of additional\nrows being returned unnecessarily and cause a large data transfer.\n\nThis is similar to the problem addressed by change\nI0610fb16ccce2ee95c318589c8abcc30613a3fe9 which added separate queries\nfor (system_)metadata when we ""get"" multiple instances. We don\'t,\nhowever, reuse the same code for this change because\n_instances_fill_metadata converts the instance database object to a\ndict, and some callers of _instance_get_by_uuid need to be able to\naccess an instance database object attached to the session (example:\ninstance_update_and_get_original).\n\nBy using subqueryload() [1], we can perform the additional queries for\n(system_)metadata to solve the problem with a similar approach.\n\nCloses-Bug: #1799298\n\n[1] https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#subquery-eager-loading\n\nChange-Id: I5c071f70f669966e9807b38e99077c1cae5b4606\n(cherry picked from commit e728fe668a6de886455f2dbaf655c8a151462c8c)\n'}]",0,761809,63d2e62c3a223f883ca810f4c66a2a236cf3d483,42,12,3,9373,,,0,"Use subqueryload() instead of joinedload() for (system_)metadata

Currently, when we ""get"" a single instance from the database and we
load metadata and system_metadata, we do so using a joinedload() which
does JOINs with the respective tables. Because of the one-to-many
relationship between an instance and (system_)metadata records, doing
the database query this way can result in a large number of additional
rows being returned unnecessarily and cause a large data transfer.

This is similar to the problem addressed by change
I0610fb16ccce2ee95c318589c8abcc30613a3fe9 which added separate queries
for (system_)metadata when we ""get"" multiple instances. We don't,
however, reuse the same code for this change because
_instances_fill_metadata converts the instance database object to a
dict, and some callers of _instance_get_by_uuid need to be able to
access an instance database object attached to the session (example:
instance_update_and_get_original).

By using subqueryload() [1], we can perform the additional queries for
(system_)metadata to solve the problem with a similar approach.

Closes-Bug: #1799298

[1] https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#subquery-eager-loading

Change-Id: I5c071f70f669966e9807b38e99077c1cae5b4606
(cherry picked from commit e728fe668a6de886455f2dbaf655c8a151462c8c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/761809/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,e2dc0de478ed16c2a811cde4aaa52f756c758fb5,bug/1799298,"from sqlalchemy.orm import subqueryload elif column in ['metadata', 'system_metadata']: # NOTE(melwitt): We use subqueryload() instead of joinedload() for # metadata and system_metadata because of the one-to-many # relationship of the data. Directly joining these columns can # result in a large number of additional rows being queried if an # instance has a large number of (system_)metadata items, resulting # in a large data transfer. Instead, the subqueryload() will # perform additional queries to obtain metadata and system_metadata # for the instance. query = query.options(subqueryload(column)) # NOTE(melwitt): We need to use order_by(<unique column>) so that the # additional queries emitted by subqueryload() include the same ordering as # used by the parent query. # https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#the-importance-of-ordering return query.order_by(models.Instance.id)", return query,24,1
openstack%2Fcinder~stable%2Ftrain~I926407669a75a8c52a46e07c006aa699bae46006,openstack/cinder,stable/train,I926407669a75a8c52a46e07c006aa699bae46006,[DNM] Add Hitachi Block Storage Driver,ABANDONED,2020-09-08 15:25:55.000000000,2021-01-27 19:11:36.000000000,,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 16373}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 31980}]","[{'number': 1, 'created': '2020-09-08 15:25:55.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'releasenotes/notes/hitachi-storage-driver-d38dbd990730388d.yaml', 'cinder/volume/drivers/hitachi/hbsd_rest_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/opts.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_rest_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29aad5b9cf09ed3cafc93d4fd41fff896bed8b45', 'message': '[DNM] Add Hitachi Block Storage Driver\n\nThis driver supports Hitachi VSP storages.\nHitachi driver was deleted once in Queens release because\nwe could not maintain 3rd party CI.\nWe restarted the cinder project and renewed a storage API.\nWe upload Hitachi driver based on REST API for Victoria release.\n\n* Supported Protocol\n - FC\n - iSCSI\n\n* Supported Feature\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n - Manage Volume\n - Unmanage Volume\n\n\nChange-Id: I926407669a75a8c52a46e07c006aa699bae46006\n(cherry picked from commit 8aaf6a68b38580e26c12ff759ee687a2688b99e4)\n'}]",5,750418,29aad5b9cf09ed3cafc93d4fd41fff896bed8b45,16,13,1,28176,,,0,"[DNM] Add Hitachi Block Storage Driver

This driver supports Hitachi VSP storages.
Hitachi driver was deleted once in Queens release because
we could not maintain 3rd party CI.
We restarted the cinder project and renewed a storage API.
We upload Hitachi driver based on REST API for Victoria release.

* Supported Protocol
 - FC
 - iSCSI

* Supported Feature
 - Volume Create/Delete
 - Volume Attach/Detach
 - Snapshot Create/Delete
 - Create Volume from Snapshot
 - Get Volume Stats
 - Copy Image to Volume
 - Copy Volume to Image
 - Clone Volume
 - Extend Volume
 - Manage Volume
 - Unmanage Volume


Change-Id: I926407669a75a8c52a46e07c006aa699bae46006
(cherry picked from commit 8aaf6a68b38580e26c12ff759ee687a2688b99e4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/750418/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'releasenotes/notes/hitachi-storage-driver-d38dbd990730388d.yaml', 'cinder/volume/drivers/hitachi/hbsd_rest_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/opts.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_rest_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py']",12,29aad5b9cf09ed3cafc93d4fd41fff896bed8b45,victoria-drivers-stable/train,"# Copyright (C) 2020, Hitachi, Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Common module for Hitachi HBSD Driver."""""" import re from oslo_config import cfg from oslo_log import log as logging from oslo_utils import excutils from cinder import coordination from cinder import exception from cinder import utils as cinder_utils from cinder.volume import configuration from cinder.volume.drivers.hitachi import hbsd_utils as utils from cinder.volume import volume_utils VERSION = '2.0.0' _STR_VOLUME = 'volume' _STR_SNAPSHOT = 'snapshot' _INHERITED_VOLUME_OPTS = [ 'volume_backend_name', 'volume_driver', 'reserved_percentage', 'use_multipath_for_image_xfer', 'enforce_multipath_for_image_xfer', 'max_over_subscription_ratio', 'use_chap_auth', 'chap_username', 'chap_password', ] COMMON_VOLUME_OPTS = [ cfg.StrOpt( 'hitachi_storage_id', default=None, help='Product number of the storage system.'), cfg.StrOpt( 'hitachi_pool', default=None, help='Pool number or pool name of the DP pool.'), cfg.StrOpt( 'hitachi_snap_pool', default=None, help='Pool number or pool name of the snapshot pool.'), cfg.StrOpt( 'hitachi_ldev_range', default=None, help='Range of the LDEV numbers in the format of \'xxxx-yyyy\' that ' 'can be used by the driver. Values can be in decimal format ' '(e.g. 1000) or in colon-separated hexadecimal format ' '(e.g. 00:03:E8).'), cfg.ListOpt( 'hitachi_target_ports', default=[], help='IDs of the storage ports used to attach volumes to the ' 'controller node. To specify multiple ports, connect them by ' 'commas (e.g. CL1-A,CL2-A).'), cfg.ListOpt( 'hitachi_compute_target_ports', default=[], help='IDs of the storage ports used to attach volumes to compute ' 'nodes. To specify multiple ports, connect them by commas ' '(e.g. CL1-A,CL2-A).'), cfg.BoolOpt( 'hitachi_group_create', default=False, help='If True, the driver will create host groups or iSCSI targets on ' 'storage ports as needed.'), cfg.BoolOpt( 'hitachi_group_delete', default=False, help='If True, the driver will delete host groups or iSCSI targets on ' 'storage ports as needed.'), ] _REQUIRED_COMMON_OPTS = [ 'hitachi_storage_id', 'hitachi_pool', ] CONF = cfg.CONF CONF.register_opts(COMMON_VOLUME_OPTS, group=configuration.SHARED_CONF_GROUP) LOG = logging.getLogger(__name__) MSG = utils.HBSDMsg def _str2int(num): """"""Convert a string into an integer."""""" if not num: return None if num.isdigit(): return int(num) if not re.match(r'[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F]' + '[0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]$', num): return None try: return int(num.replace(':', ''), 16) except ValueError: return None class HBSDCommon(): """"""Common class for Hitachi HBSD Driver."""""" def __init__(self, conf, driverinfo, db): """"""Initialize instance variables."""""" self.conf = conf self.db = db self.ctxt = None self.lock = { 'do_setup': 'do_setup', } self.driver_info = driverinfo self.storage_info = { 'protocol': driverinfo['proto'], 'pool_id': None, 'snap_pool_id': None, 'ldev_range': [], 'controller_ports': [], 'compute_ports': [], 'wwns': {}, 'portals': {}, } self._stats = {} def create_ldev(self, size): """"""Create an LDEV and return its LDEV number."""""" raise NotImplementedError() def modify_ldev_name(self, ldev, name): """"""Modify LDEV name."""""" raise NotImplementedError() def create_volume(self, volume): """"""Create a volume and return its properties."""""" try: ldev = self.create_ldev(volume['size']) except Exception: with excutils.save_and_reraise_exception(): utils.output_log(MSG.CREATE_LDEV_FAILED) self.modify_ldev_name(ldev, volume['id'].replace(""-"", """")) return { 'provider_location': str(ldev), } def get_ldev_info(self, keys, ldev, **kwargs): """"""Return a dictionary of LDEV-related items."""""" raise NotImplementedError() def create_pair_on_storage(self, pvol, svol, is_snapshot=False): """"""Create a copy pair on the storage."""""" raise NotImplementedError() def _copy_on_storage(self, pvol, size, is_snapshot=False): """"""Create a copy of the specified LDEV on the storage."""""" ldev_info = self.get_ldev_info(['status', 'attributes'], pvol) if ldev_info['status'] != 'NML': msg = utils.output_log(MSG.INVALID_LDEV_STATUS_FOR_COPY, ldev=pvol) raise utils.HBSDError(msg) svol = self.create_ldev(size) try: self.create_pair_on_storage(pvol, svol, is_snapshot) except Exception: with excutils.save_and_reraise_exception(): try: self.delete_ldev(svol) except utils.HBSDError: utils.output_log(MSG.DELETE_LDEV_FAILED, ldev=svol) return svol def create_volume_from_src(self, volume, src, src_type): """"""Create a volume from a volume or snapshot and return its properties. """""" ldev = utils.get_ldev(src) if ldev is None: msg = utils.output_log( MSG.INVALID_LDEV_FOR_VOLUME_COPY, type=src_type, id=src['id']) raise utils.HBSDError(msg) size = volume['size'] new_ldev = self._copy_on_storage(ldev, size) self.modify_ldev_name(new_ldev, volume['id'].replace(""-"", """")) return { 'provider_location': str(new_ldev), } def create_cloned_volume(self, volume, src_vref): """"""Create a clone of the specified volume and return its properties."""""" return self.create_volume_from_src(volume, src_vref, _STR_VOLUME) def create_volume_from_snapshot(self, volume, snapshot): """"""Create a volume from a snapshot and return its properties."""""" return self.create_volume_from_src(volume, snapshot, _STR_SNAPSHOT) def delete_pair_based_on_svol(self, pvol, svol_info): """"""Disconnect all volume pairs to which the specified S-VOL belongs."""""" raise NotImplementedError() def get_pair_info(self, ldev): """"""Return volume pair info(LDEV number, pair status and pair type)."""""" raise NotImplementedError() def delete_pair(self, ldev): """"""Disconnect all volume pairs to which the specified LDEV belongs."""""" pair_info = self.get_pair_info(ldev) if not pair_info: return if pair_info['pvol'] == ldev: utils.output_log( MSG.UNABLE_TO_DELETE_PAIR, pvol=pair_info['pvol']) raise utils.HBSDBusy() else: self.delete_pair_based_on_svol( pair_info['pvol'], pair_info['svol_info'][0]) def find_all_mapped_targets_from_storage(self, targets, ldev): """"""Add all port-gids connected with the LDEV to the list."""""" raise NotImplementedError() def unmap_ldev(self, targets, ldev): """"""Delete the LUN between the specified LDEV and port-gid."""""" raise NotImplementedError() def unmap_ldev_from_storage(self, ldev): """"""Delete the connection between the specified LDEV and servers."""""" targets = { 'list': [], } self.find_all_mapped_targets_from_storage(targets, ldev) self.unmap_ldev(targets, ldev) def delete_ldev_from_storage(self, ldev): """"""Delete the specified LDEV from the storage."""""" raise NotImplementedError() def delete_ldev(self, ldev): """"""Delete the specified LDEV."""""" self.delete_pair(ldev) self.unmap_ldev_from_storage(ldev) self.delete_ldev_from_storage(ldev) def delete_volume(self, volume): """"""Delete the specified volume."""""" ldev = utils.get_ldev(volume) if ldev is None: utils.output_log( MSG.INVALID_LDEV_FOR_DELETION, method='delete_volume', id=volume['id']) return try: self.delete_ldev(ldev) except utils.HBSDBusy: raise exception.VolumeIsBusy(volume_name=volume['name']) def create_snapshot(self, snapshot): """"""Create a snapshot from a volume and return its properties."""""" src_vref = snapshot.volume ldev = utils.get_ldev(src_vref) if ldev is None: msg = utils.output_log( MSG.INVALID_LDEV_FOR_VOLUME_COPY, type='volume', id=src_vref['id']) raise utils.HBSDError(msg) size = snapshot['volume_size'] new_ldev = self._copy_on_storage(ldev, size, True) return { 'provider_location': str(new_ldev), } def delete_snapshot(self, snapshot): """"""Delete the specified snapshot."""""" ldev = utils.get_ldev(snapshot) if ldev is None: utils.output_log( MSG.INVALID_LDEV_FOR_DELETION, method='delete_snapshot', id=snapshot['id']) return try: self.delete_ldev(ldev) except utils.HBSDBusy: raise exception.SnapshotIsBusy(snapshot_name=snapshot['name']) def get_pool_info(self): """"""Return the total and free capacity of the storage pool."""""" raise NotImplementedError() def update_volume_stats(self): """"""Update properties, capabilities and current states of the driver."""""" data = {} backend_name = (self.conf.safe_get('volume_backend_name') or self.driver_info['volume_backend_name']) data = { 'volume_backend_name': backend_name, 'vendor_name': 'Hitachi', 'driver_version': VERSION, 'storage_protocol': self.storage_info['protocol'], 'pools': [], } single_pool = {} single_pool.update(dict( pool_name=data['volume_backend_name'], reserved_percentage=self.conf.safe_get('reserved_percentage'), QoS_support=False, thick_provisioning_support=False, multiattach=True )) try: (total_capacity, free_capacity, provisioned_capacity) = self.get_pool_info() except utils.HBSDError: single_pool.update(dict( provisioned_capacity_gb=0, backend_state='down')) data[""pools""].append(single_pool) LOG.debug(""Updating volume status. (%s)"", data) self._stats = data utils.output_log( MSG.POOL_INFO_RETRIEVAL_FAILED, pool=self.conf.hitachi_pool) return single_pool.update(dict( total_capacity_gb=total_capacity, free_capacity_gb=free_capacity, provisioned_capacity_gb=provisioned_capacity, max_over_subscription_ratio=( volume_utils.get_max_over_subscription_ratio( self.conf.safe_get('max_over_subscription_ratio'), True)), thin_provisioning_support=True )) single_pool.update(dict(backend_state='up')) data[""pools""].append(single_pool) LOG.debug(""Updating volume status. (%s)"", data) self._stats = data def get_volume_stats(self, refresh=False): """"""Return properties, capabilities and current states of the driver."""""" if refresh: self.update_volume_stats() return self._stats def discard_zero_page(self, volume): """"""Return the volume's no-data pages to the storage pool."""""" raise NotImplementedError() def check_pair_svol(self, ldev): """"""Check if the specified LDEV is S-VOL in a copy pair."""""" raise NotImplementedError() def extend_ldev(self, ldev, old_size, new_size): """"""Extend the specified LDEV to the specified new size."""""" raise NotImplementedError() def extend_volume(self, volume, new_size): """"""Extend the specified volume to the specified size."""""" ldev = utils.get_ldev(volume) if ldev is None: msg = utils.output_log(MSG.INVALID_LDEV_FOR_EXTENSION, volume_id=volume['id']) raise utils.HBSDError(msg) if self.check_pair_svol(ldev): msg = utils.output_log(MSG.INVALID_VOLUME_TYPE_FOR_EXTEND, volume_id=volume['id']) raise utils.HBSDError(msg) self.delete_pair(ldev) self.extend_ldev(ldev, volume['size'], new_size) def get_ldev_by_name(self, name): """"""Get the LDEV number from the given name."""""" raise NotImplementedError() def check_ldev_manageability(self, ldev, existing_ref): """"""Check if the LDEV meets the criteria for being managed."""""" raise NotImplementedError() def manage_existing(self, volume, existing_ref): """"""Return volume properties which Cinder needs to manage the volume."""""" if 'source-name' in existing_ref: ldev = self.get_ldev_by_name( existing_ref.get('source-name').replace('-', '')) elif 'source-id' in existing_ref: ldev = _str2int(existing_ref.get('source-id')) self.check_ldev_manageability(ldev, existing_ref) self.modify_ldev_name(ldev, volume['id'].replace(""-"", """")) return { 'provider_location': str(ldev), } def get_ldev_size_in_gigabyte(self, ldev, existing_ref): """"""Return the size[GB] of the specified LDEV."""""" raise NotImplementedError() def manage_existing_get_size(self, existing_ref): """"""Return the size[GB] of the specified volume."""""" ldev = None if 'source-name' in existing_ref: ldev = self.get_ldev_by_name( existing_ref.get('source-name').replace(""-"", """")) elif 'source-id' in existing_ref: ldev = _str2int(existing_ref.get('source-id')) if ldev is None: msg = utils.output_log(MSG.INVALID_LDEV_FOR_MANAGE) raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) return self.get_ldev_size_in_gigabyte(ldev, existing_ref) def unmanage(self, volume): """"""Prepare the volume for removing it from Cinder management."""""" ldev = utils.get_ldev(volume) if ldev is None: utils.output_log(MSG.INVALID_LDEV_FOR_DELETION, method='unmanage', id=volume['id']) return if self.check_pair_svol(ldev): utils.output_log( MSG.INVALID_LDEV_TYPE_FOR_UNMANAGE, volume_id=volume['id'], volume_type=utils.NORMAL_LDEV_TYPE) raise exception.VolumeIsBusy(volume_name=volume['name']) try: self.delete_pair(ldev) except utils.HBSDBusy: raise exception.VolumeIsBusy(volume_name=volume['name']) def _range2list(self, param): """"""Analyze a 'xxx-xxx' string and return a list of two integers."""""" values = [_str2int(value) for value in self.conf.safe_get(param).split('-')] if len(values) != 2 or None in values or values[0] > values[1]: msg = utils.output_log(MSG.INVALID_PARAMETER, param=param) raise utils.HBSDError(msg) return values def check_param_iscsi(self): """"""Check iSCSI-related parameter values and consistency among them."""""" if self.conf.use_chap_auth: if not self.conf.chap_username: msg = utils.output_log(MSG.INVALID_PARAMETER, param='chap_username') raise utils.HBSDError(msg) if not self.conf.chap_password: msg = utils.output_log(MSG.INVALID_PARAMETER, param='chap_password') raise utils.HBSDError(msg) def check_param(self): """"""Check parameter values and consistency among them."""""" utils.check_opt_value(self.conf, _INHERITED_VOLUME_OPTS) utils.check_opts(self.conf, COMMON_VOLUME_OPTS) utils.check_opts(self.conf, self.driver_info['volume_opts']) if self.conf.hitachi_ldev_range: self.storage_info['ldev_range'] = self._range2list( 'hitachi_ldev_range') if (not self.conf.hitachi_target_ports and not self.conf.hitachi_compute_target_ports): msg = utils.output_log( MSG.INVALID_PARAMETER, param='hitachi_target_ports or ' 'hitachi_compute_target_ports') raise utils.HBSDError(msg) if (self.conf.hitachi_group_delete and not self.conf.hitachi_group_create): msg = utils.output_log( MSG.INVALID_PARAMETER, param='hitachi_group_delete or ' 'hitachi_group_create') raise utils.HBSDError(msg) for opt in _REQUIRED_COMMON_OPTS: if not self.conf.safe_get(opt): msg = utils.output_log(MSG.INVALID_PARAMETER, param=opt) raise utils.HBSDError(msg) if self.storage_info['protocol'] == 'iSCSI': self.check_param_iscsi() def need_client_setup(self): """"""Check if the making of the communication client is necessary."""""" raise NotImplementedError() def setup_client(self): """"""Initialize RestApiClient."""""" pass def enter_keep_session(self): """"""Begin the keeping of the session."""""" pass def check_pool_id(self): """"""Check the pool id of hitachi_pool and hitachi_snap_pool."""""" raise NotImplementedError() def connect_storage(self): """"""Prepare for using the storage."""""" self.check_pool_id() utils.output_log(MSG.SET_CONFIG_VALUE, object='DP Pool ID', value=self.storage_info['pool_id']) self.storage_info['controller_ports'] = [] self.storage_info['compute_ports'] = [] def find_targets_from_storage(self, targets, connector, target_ports): """"""Find mapped ports, memorize them and return unmapped port count."""""" raise NotImplementedError() def get_hba_ids_from_connector(self, connector): """"""Return the HBA ID stored in the connector."""""" if self.driver_info['hba_id'] in connector: return connector[self.driver_info['hba_id']] msg = utils.output_log(MSG.RESOURCE_NOT_FOUND, resource=self.driver_info['hba_id_type']) raise utils.HBSDError(msg) def create_target_to_storage(self, port, connector, hba_ids): """"""Create a host group or an iSCSI target on the specified port."""""" raise NotImplementedError() def set_target_mode(self, port, gid): """"""Configure the target to meet the environment."""""" raise NotImplementedError() def set_hba_ids(self, port, gid, hba_ids): """"""Connect all specified HBAs with the specified port."""""" raise NotImplementedError() def delete_target_from_storage(self, port, gid): """"""Delete the host group or the iSCSI target from the port."""""" raise NotImplementedError() def _create_target(self, targets, port, connector, hba_ids): """"""Create a host group or an iSCSI target on the storage port."""""" target_name, gid = self.create_target_to_storage( port, connector, hba_ids) utils.output_log(MSG.OBJECT_CREATED, object='a target', details='port: %(port)s, gid: %(gid)s, target_name: ' '%(target)s' % {'port': port, 'gid': gid, 'target': target_name}) try: self.set_target_mode(port, gid) self.set_hba_ids(port, gid, hba_ids) except Exception: with excutils.save_and_reraise_exception(): self.delete_target_from_storage(port, gid) targets['info'][port] = True targets['list'].append((port, gid)) def create_mapping_targets(self, targets, connector): """"""Create server-storage connection for all specified storage ports."""""" hba_ids = self.get_hba_ids_from_connector(connector) for port in targets['info'].keys(): if targets['info'][port]: continue try: self._create_target(targets, port, connector, hba_ids) except utils.HBSDError: utils.output_log( self.driver_info['msg_id']['target'], port=port) # When other threads created a host group at same time, need to # re-find targets. if not targets['list']: self.find_targets_from_storage( targets, connector, targets['info'].keys()) def init_cinder_hosts(self, **kwargs): """"""Initialize server-storage connection."""""" targets = kwargs.pop( 'targets', {'info': {}, 'list': [], 'iqns': {}, 'target_map': {}}) connector = cinder_utils.brick_get_connector_properties( multipath=self.conf.use_multipath_for_image_xfer, enforce_multipath=self.conf.enforce_multipath_for_image_xfer) target_ports = self.storage_info['controller_ports'] if target_ports: if (self.find_targets_from_storage( targets, connector, target_ports) and self.conf.hitachi_group_create): self.create_mapping_targets(targets, connector) utils.require_target_existed(targets) def do_setup(self, context): """"""Prepare for the startup of the driver."""""" @coordination.synchronized('{self.lock[do_setup]}') def _with_synchronized(self): self.connect_storage() self.init_cinder_hosts() self.ctxt = context self.check_param() if self.need_client_setup(): self.setup_client() self.enter_keep_session() _with_synchronized(self) def check_ports_info(self): """"""Check if available storage ports exist."""""" if (self.conf.hitachi_target_ports and not self.storage_info['controller_ports']): msg = utils.output_log(MSG.RESOURCE_NOT_FOUND, resource=""Target ports"") raise utils.HBSDError(msg) if (self.conf.hitachi_compute_target_ports and not self.storage_info['compute_ports']): msg = utils.output_log(MSG.RESOURCE_NOT_FOUND, resource=""Compute target ports"") raise utils.HBSDError(msg) utils.output_log(MSG.SET_CONFIG_VALUE, object='target port list', value=self.storage_info['controller_ports']) utils.output_log(MSG.SET_CONFIG_VALUE, object='compute target port list', value=self.storage_info['compute_ports']) def attach_ldev(self, volume, ldev, connector, targets): """"""Initialize connection between the server and the volume."""""" raise NotImplementedError() def get_properties_fc(self, targets): """"""Return FC-specific server-LDEV connection info."""""" data = {} data['target_wwn'] = [ self.storage_info['wwns'][target[0]] for target in targets['list'] if targets['lun'][target[0]]] return data def get_properties_iscsi(self, targets, multipath): """"""Return iSCSI-specific server-LDEV connection info."""""" data = {} primary_target = targets['list'][0] if not multipath: data['target_portal'] = self.storage_info[ 'portals'][primary_target[0]] data['target_iqn'] = targets['iqns'][primary_target] else: # Set the list of numbers that LUN was added data['target_portals'] = [ self.storage_info['portals'][target[0]] for target in targets['list'] if targets['lun'][target[0]]] data['target_iqns'] = [ targets['iqns'][target] for target in targets['list'] if targets['lun'][target[0]]] if self.conf.use_chap_auth: data['auth_method'] = 'CHAP' data['auth_username'] = self.conf.chap_username data['auth_password'] = self.conf.chap_password return data def get_properties(self, targets, target_lun, connector): """"""Return server-LDEV connection info."""""" multipath = connector.get('multipath', False) if self.storage_info['protocol'] == 'FC': data = self.get_properties_fc(targets) elif self.storage_info['protocol'] == 'iSCSI': data = self.get_properties_iscsi(targets, multipath) data['target_discovered'] = False if not multipath or self.storage_info['protocol'] == 'FC': data['target_lun'] = target_lun else: # Set the list of numbers that LUN was added target_luns = [] for target in targets['list']: if targets['lun'][target[0]]: target_luns.append(target_lun) data['target_luns'] = target_luns return data # A synchronization to prevent conflicts between host group creation # and deletion. @coordination.synchronized('hbsd-host-{self.conf.hitachi_storage_id}-' '{connector[host]}') def initialize_connection(self, volume, connector): """"""Initialize connection between the server and the volume."""""" targets = { 'info': {}, 'list': [], 'lun': {}, 'iqns': {}, 'target_map': {}, } ldev = utils.get_ldev(volume) if ldev is None: msg = utils.output_log(MSG.INVALID_LDEV_FOR_CONNECTION, volume_id=volume['id']) raise utils.HBSDError(msg) target_lun = self.attach_ldev(volume, ldev, connector, targets) return { 'driver_volume_type': self.driver_info['volume_type'], 'data': self.get_properties(targets, target_lun, connector), } def get_target_ports(self, connector): """"""Return a list of ports corresponding to the specified connector."""""" if 'ip' in connector and connector['ip'] == CONF.my_ip: return self.storage_info['controller_ports'] return (self.storage_info['compute_ports'] or self.storage_info['controller_ports']) def get_port_hostgroup_map(self, ldev_id): """"""Get the mapping of a port and host group."""""" raise NotImplementedError() def set_terminate_target(self, fake_connector, port_hostgroup_map): """"""Set necessary information in connector in terminate."""""" raise NotImplementedError() def detach_ldev(self, volume, ldev, connector): """"""Terminate connection between the server and the volume."""""" raise NotImplementedError() def terminate_connection(self, volume, connector): """"""Terminate connection between the server and the volume."""""" ldev = utils.get_ldev(volume) if ldev is None: utils.output_log(MSG.INVALID_LDEV_FOR_UNMAPPING, volume_id=volume['id']) return # If a fake connector is generated by nova when the host # is down, then the connector will not have a host property, # In this case construct the lock without the host property # so that all the fake connectors to an SVC are serialized if 'host' not in connector: port_hostgroup_map = self.get_port_hostgroup_map(ldev) if not port_hostgroup_map: utils.output_log(MSG.NO_LUN, ldev=ldev) return self.set_terminate_target(connector, port_hostgroup_map) # A synchronization to prevent conflicts between host group creation # and deletion. @coordination.synchronized( 'hbsd-host-%(storage_id)s-%(host)s' % { 'storage_id': self.conf.hitachi_storage_id, 'host': connector.get('host'), } ) def inner(self, volume, connector): deleted_targets = self.detach_ldev(volume, ldev, connector) if self.storage_info['protocol'] == 'FC': target_wwn = [ self.storage_info['wwns'][target] for target in deleted_targets] return {'driver_volume_type': self.driver_info['volume_type'], 'data': {'target_wwn': target_wwn}} return inner(self, volume, connector) def unmanage_snapshot(self, snapshot): """"""Output error message and raise NotImplementedError."""""" utils.output_log( MSG.SNAPSHOT_UNMANAGE_FAILED, snapshot_id=snapshot['id']) raise NotImplementedError() def retype(self): return False def has_snap_pair(self, pvol, svol): """"""Check if the volume have the pair of the snapshot."""""" raise NotImplementedError() def restore_ldev(self, pvol, svol): """"""Restore a pair of the specified LDEV."""""" raise NotImplementedError() def revert_to_snapshot(self, volume, snapshot): """"""Rollback the specified snapshot."""""" pvol = utils.get_ldev(volume) svol = utils.get_ldev(snapshot) if (pvol is not None and svol is not None and self.has_snap_pair(pvol, svol)): self.restore_ldev(pvol, svol) else: raise NotImplementedError() ",,5369,0
openstack%2Fcinder~stable%2Ftrain~Id971d96cfe477d966c9f3341eb9a38a7860a5ddd,openstack/cinder,stable/train,Id971d96cfe477d966c9f3341eb9a38a7860a5ddd,Add support for IBM GPFS Driver,ABANDONED,2020-10-17 11:58:51.000000000,2021-01-27 19:10:05.000000000,,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-10-17 11:58:51.000000000', 'files': ['releasenotes/notes/bp-ibm-gpfs-supported-26ae5381dd2a47ad.yaml', 'cinder/volume/drivers/ibm/gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e070a89677a4e9d5e677550d5164f6d3c03ca2d3', 'message': 'Add support for IBM GPFS Driver\n\nChange-Id: Id971d96cfe477d966c9f3341eb9a38a7860a5ddd\nPartially-implements: bp ibm-gpfs-supported\n(cherry picked from commit 1f4f7810c9a96bb60fe3585a5a77563dc17c5a1e)\n'}]",0,758656,e070a89677a4e9d5e677550d5164f6d3c03ca2d3,23,15,1,19904,,,0,"Add support for IBM GPFS Driver

Change-Id: Id971d96cfe477d966c9f3341eb9a38a7860a5ddd
Partially-implements: bp ibm-gpfs-supported
(cherry picked from commit 1f4f7810c9a96bb60fe3585a5a77563dc17c5a1e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/758656/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bp-ibm-gpfs-supported-26ae5381dd2a47ad.yaml', 'cinder/volume/drivers/ibm/gpfs.py']",2,e070a89677a4e9d5e677550d5164f6d3c03ca2d3,,, # TODO(jsbryant) Remove driver in the 'U' release if CI is not fixed. SUPPORTED = False ,6,3
openstack%2Fmanila~stable%2Fstein~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/stein,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:30:40.000000000,2021-01-27 19:06:06.000000000,2021-01-27 19:04:20.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-01-22 01:30:40.000000000', 'files': ['doc/source/install/common/dhss-true-mode-using-shared-file-systems.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/0892c65ce7cedcfb0b60e6fba15005f62eeec196', 'message': ""Update doc for manila-service-image download\n\nIt currently refers to the old openstack repository and as written\ndownloads redirect information rather than the image itself.\n\nAdd a '-L' argument to the ``curl`` command to handle redirects and\nupdate the URL to use the opendev repository.\n\nRelated-bug: #1908838\nChange-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521\n(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)\n(cherry picked from commit a5bd828cbf4545872c0fef596929134b488d5241)\n(cherry picked from commit 9828e16968c77892cf5ecf31016ffcb09a6b32f1)\n(cherry picked from commit 960e45bd255dafacef7c6f895aca9477fcd12d9b)\n""}]",0,771918,0892c65ce7cedcfb0b60e6fba15005f62eeec196,9,3,1,16643,,,0,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
(cherry picked from commit a5bd828cbf4545872c0fef596929134b488d5241)
(cherry picked from commit 9828e16968c77892cf5ecf31016ffcb09a6b32f1)
(cherry picked from commit 960e45bd255dafacef7c6f895aca9477fcd12d9b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/18/771918/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common/dhss-true-mode-using-shared-file-systems.rst'],1,0892c65ce7cedcfb0b60e6fba15005f62eeec196,bug/1908838, $ curl -L \ https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-master.qcow2 | \, $ curl https://tarballs.openstack.org/manila-image-elements/images/manila-service-image-master.qcow2 | \,2,1
openstack%2Fnova~stable%2Fvictoria~I5dda9e8bca5fbaae77ece12b67176945ca4d9a4c,openstack/nova,stable/victoria,I5dda9e8bca5fbaae77ece12b67176945ca4d9a4c,compute: Don't detach volumes when RescheduledException raised without retry,MERGED,2020-11-30 08:48:15.000000000,2021-01-27 18:38:06.000000000,2021-01-27 18:35:39.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 08:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0daac2c089b015c28e02e7965afdb22f08e42a1', 'message': ""compute: Don't detach volumes when RescheduledException raised without retry\n\nI8b1c05317734e14ea73dc868941351bb31210bf0 introduced a crude call to\n_cleanup_volumes within _do_build_and_run_instance when handling a\nRescheduledException exception raised from _build_and_run_instance\nwithout any retry information provided from the scheduler.\n\nThis situation can arise when using the 'availability_zone' parameter to\nskip the scheduler by providing both a target availability_zone and host\nin the format of `$availability_zone:$host`. If the instance is unable\nto build on the compute the failure will eventually lead to\n_cleanup_volumes calling DriverVolumeBlockDevice.detach that will either\ndetach (cinderv2) or delete the associated volume attachments (cinderv3)\nmoving the volume to an `available` state, assuming it isn't\nmulti-attached etc.\n\nThe issue with this is that this behaviour is in stark contrast to that\nof volumes associated with instances that have failed to schedule. In\nthat case the volumes remain marked as reserved and associated with the\nERROR'd out instance until the instance itself is deleted.\n\nThis change aims to align both cases by removing the call to\n_cleanup_volumes and in doing so keeping any volumes in a `reserved`\nstate until the underlying instance is deleted.\n\nNote that leaving these volumes associated with ERROR'd out instances is\nnow safe after I4dc6c8bd3bb6c135f8a698af41f5d0e026c39117 landed and now\nensures that ports and volumes associated with such an instance are\ncorrectly cleaned up.\n\nCloses-Bug: #1899649\nChange-Id: I5dda9e8bca5fbaae77ece12b67176945ca4d9a4c\n(cherry picked from commit 26c46a409fa3a75f11fe0ecfc3cf1a8e77da8f51)\n""}, {'number': 2, 'created': '2020-12-07 09:43:16.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1899649.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eda458828bf44a6b17503f407448dce9133bfd36', 'message': ""compute: Don't detach volumes when RescheduledException raised without retry\n\nI8b1c05317734e14ea73dc868941351bb31210bf0 introduced a crude call to\n_cleanup_volumes within _do_build_and_run_instance when handling a\nRescheduledException exception raised from _build_and_run_instance\nwithout any retry information provided from the scheduler.\n\nThis situation can arise when using the 'availability_zone' parameter to\nskip the scheduler by providing both a target availability_zone and host\nin the format of `$availability_zone:$host`. If the instance is unable\nto build on the compute the failure will eventually lead to\n_cleanup_volumes calling DriverVolumeBlockDevice.detach that will either\ndetach (cinderv2) or delete the associated volume attachments (cinderv3)\nmoving the volume to an `available` state, assuming it isn't\nmulti-attached etc.\n\nThe issue with this is that this behaviour is in stark contrast to that\nof volumes associated with instances that have failed to schedule. In\nthat case the volumes remain marked as reserved and associated with the\nERROR'd out instance until the instance itself is deleted.\n\nThis change aims to align both cases by removing the call to\n_cleanup_volumes and in doing so keeping any volumes in a `reserved`\nstate until the underlying instance is deleted.\n\nNote that leaving these volumes associated with ERROR'd out instances is\nnow safe after I4dc6c8bd3bb6c135f8a698af41f5d0e026c39117 landed and now\nensures that ports and volumes associated with such an instance are\ncorrectly cleaned up.\n\nCloses-Bug: #1899649\nChange-Id: I5dda9e8bca5fbaae77ece12b67176945ca4d9a4c\n(cherry picked from commit 26c46a409fa3a75f11fe0ecfc3cf1a8e77da8f51)\n""}]",0,764612,eda458828bf44a6b17503f407448dce9133bfd36,18,3,2,10135,,,0,"compute: Don't detach volumes when RescheduledException raised without retry

I8b1c05317734e14ea73dc868941351bb31210bf0 introduced a crude call to
_cleanup_volumes within _do_build_and_run_instance when handling a
RescheduledException exception raised from _build_and_run_instance
without any retry information provided from the scheduler.

This situation can arise when using the 'availability_zone' parameter to
skip the scheduler by providing both a target availability_zone and host
in the format of `$availability_zone:$host`. If the instance is unable
to build on the compute the failure will eventually lead to
_cleanup_volumes calling DriverVolumeBlockDevice.detach that will either
detach (cinderv2) or delete the associated volume attachments (cinderv3)
moving the volume to an `available` state, assuming it isn't
multi-attached etc.

The issue with this is that this behaviour is in stark contrast to that
of volumes associated with instances that have failed to schedule. In
that case the volumes remain marked as reserved and associated with the
ERROR'd out instance until the instance itself is deleted.

This change aims to align both cases by removing the call to
_cleanup_volumes and in doing so keeping any volumes in a `reserved`
state until the underlying instance is deleted.

Note that leaving these volumes associated with ERROR'd out instances is
now safe after I4dc6c8bd3bb6c135f8a698af41f5d0e026c39117 landed and now
ensures that ports and volumes associated with such an instance are
correctly cleaned up.

Closes-Bug: #1899649
Change-Id: I5dda9e8bca5fbaae77ece12b67176945ca4d9a4c
(cherry picked from commit 26c46a409fa3a75f11fe0ecfc3cf1a8e77da8f51)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/764612/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1899649.py', 'nova/compute/manager.py']",3,d0daac2c089b015c28e02e7965afdb22f08e42a1,bug/1899649,," self._cleanup_volumes(context, instance, block_device_mapping, raise_exc=False)",4,20
openstack%2Fhorizon~master~I0dc58db29825446381c319ec904e8bf225b210e1,openstack/horizon,master,I0dc58db29825446381c319ec904e8bf225b210e1,Consume horizon tempest test from tempest master,MERGED,2021-01-21 00:05:04.000000000,2021-01-27 18:03:25.000000000,2021-01-27 17:57:44.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-21 00:05:04.000000000', 'files': ['.zuul.d/tempest-and-integrated.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1', 'message': 'Consume horizon tempest test from tempest master\n\nAs disscussed in Wallaby PTG[1], QA and Horizon team\ndecided to move the horizon dashboard test from tempest-horizon\nto Tempest. As next step, we can remove the tempest-horizon\nplugin which will ease the maintaince of horizon tempest test.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/771727\nChange-Id: I0dc58db29825446381c319ec904e8bf225b210e1\n'}]",0,771737,15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1,25,5,1,841,,,0,"Consume horizon tempest test from tempest master

As disscussed in Wallaby PTG[1], QA and Horizon team
decided to move the horizon dashboard test from tempest-horizon
to Tempest. As next step, we can remove the tempest-horizon
plugin which will ease the maintaince of horizon tempest test.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/771727
Change-Id: I0dc58db29825446381c319ec904e8bf225b210e1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/771737/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/tempest-and-integrated.yaml'],1,15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1,merge-horizon-test, tempest_test_regex: test_dashboard_basic_ops, - name: openstack/tempest-horizon tempest_test_regex: horizon tempest_plugins: - tempest-horizon,1,4
openstack%2Fopenstack-helm-infra~master~If4c0e9fe446091ba75d1a9818ffd3a0933285af4,openstack/openstack-helm-infra,master,If4c0e9fe446091ba75d1a9818ffd3a0933285af4,Run mon container as ceph user,MERGED,2021-01-20 20:44:26.000000000,2021-01-27 18:01:25.000000000,2021-01-27 17:56:28.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-01-20 20:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/742e7699e91c439ca65cbfeb56f3734760745fc8', 'message': 'Run mon container as ceph user\n\nThis PS is to address security best practices concerning running\ncontainers as a non-privileged user and disallowing privilege\nescalation.\n\nChange-Id: If4c0e9fe446091ba75d1a9818ffd3a0933285af4\n'}, {'number': 2, 'created': '2021-01-20 23:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4f0984d3c787c1e50f32c7ea07f972e9d80ba48', 'message': 'Run mon container as ceph user\n\nThis PS is to address security best practices concerning running\ncontainers as a non-privileged user and disallowing privilege\nescalation.\n\nChange-Id: If4c0e9fe446091ba75d1a9818ffd3a0933285af4\n'}, {'number': 3, 'created': '2021-01-26 20:14:27.000000000', 'files': ['ceph-mon/Chart.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75a115ea29a252bbb8a68e2f1913a52c59cee839', 'message': 'Run mon container as ceph user\n\nThis PS is to address security best practices concerning running\ncontainers as a non-privileged user and disallowing privilege\nescalation.\n\nChange-Id: If4c0e9fe446091ba75d1a9818ffd3a0933285af4\n'}]",2,771716,75a115ea29a252bbb8a68e2f1913a52c59cee839,33,7,3,32190,,,0,"Run mon container as ceph user

This PS is to address security best practices concerning running
containers as a non-privileged user and disallowing privilege
escalation.

Change-Id: If4c0e9fe446091ba75d1a9818ffd3a0933285af4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/771716/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/Chart.yaml', 'ceph-mon/values.yaml']",2,742e7699e91c439ca65cbfeb56f3734760745fc8,mon-no-root, runAsUser: 64045 allowPrivilegeEscalation: false, runAsUser: 0,3,2
openstack%2Fplacement~master~I9a4445457872e2193d9edb80fa82ef97ca2ec2bc,openstack/placement,master,I9a4445457872e2193d9edb80fa82ef97ca2ec2bc,Expand legacy tests for inventories,ABANDONED,2021-01-26 15:58:19.000000000,2021-01-27 17:41:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-26 15:58:19.000000000', 'files': ['placement/tests/functional/gabbits/inventory-legacy-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/f08fd235dab79155039773283719076d9dbd85e4', 'message': 'Expand legacy tests for inventories\n\nTest all supported roles. Note that we use hardcoded UUIDs to prevent\nconflicts, since resource provider UUIDs and inventory must be unique.\n\nChange-Id: I9a4445457872e2193d9edb80fa82ef97ca2ec2bc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,772567,f08fd235dab79155039773283719076d9dbd85e4,4,1,1,15334,,,0,"Expand legacy tests for inventories

Test all supported roles. Note that we use hardcoded UUIDs to prevent
conflicts, since resource provider UUIDs and inventory must be unique.

Change-Id: I9a4445457872e2193d9edb80fa82ef97ca2ec2bc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/67/772567/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/inventory-legacy-rbac.yaml'],1,f08fd235dab79155039773283719076d9dbd85e4,secure-rbac," - &system_admin_headers x-auth-token: user x-roles: admin,member,reader accept: application/json content-type: application/json openstack-api-version: placement latest openstack-system-scope: all - &system_reader_headers x-auth-token: user x-roles: reader accept: application/json content-type: application/json openstack-api-version: placement latest openstack-system-scope: all - &project_reader_headers x-auth-token: user x-roles: reader x-project-id: *project_id accept: application/json content-type: application/json openstack-api-version: placement latest# create resource provider - name: system admin can create resource providers POST: /resource_providers request_headers: *system_admin_headers data: name: fc65b9c3-2d41-44b1-96ca-1d1a13b4dd69 uuid: 85475179-de26-4f7a-8c11-b4dc10fe47f4 status: 200 - name: system reader cannot create resource providers POST: /resource_providers request_headers: *system_reader_headers data: name: de40da45-e029-450d-b147-178136518e4d uuid: 7d7e6957-45b0-4791-b79a-69a88327ab0d status: 403 name: f4720d4c-3a29-4676-aeb1-faa39084051e uuid: 0e4fdc4e-5790-477a-9e4f-4f6898537ad9- name: project member cannot create resource providers POST: /resource_providers request_headers: *project_member_headers data: name: cf4511a9-a4f8-402c-ae03-233eb97e2358 uuid: 6bb64c0f-4704-4337-8bae-18bbc6131a32 status: 403 - name: project reader cannot create resource providers POST: /resource_providers request_headers: *project_reader_headers data: name: 53519f75-dcd3-45dc-b355-8c0e2628a8e8 uuid: 29742738-d409-4e2e-b4bc-b941ee9268fa status: 403 # list inventory - name: system admin can list inventories GET: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_admin_headers response_json_paths: $.resource_provider_generation: 0 $.inventories: {} - name: system reader can list inventories GET: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_reader_headers response_json_paths: $.resource_provider_generation: 0 $.inventories: {} GET: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories GET: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories- name: project reader cannot list inventories GET: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories request_headers: *project_reader_headers status: 403 # create inventory - name: system admin can create an inventory POST: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_admin_headers data: resource_class: DISK_GB total: 2048 reserved: 512 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 status: 201 response_headers: location: $SCHEME://$NETLOC/resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB - name: system reader cannot create an inventory POST: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_reader_headers POST: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories location: $SCHEME://$NETLOC/resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB - name: project member cannot create an inventory POST: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories data: resource_class: DISK_GB total: 2048 reserved: 512 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0- name: project reader cannot create an inventory POST: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories request_headers: *project_reader_headers data: resource_class: DISK_GB total: 2048 reserved: 512 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 status: 403 # show inventory - name: system admin can show inventory GET: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB request_headers: *system_admin_headers status: 200 - name: system reader can show inventory GET: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB request_headers: *system_reader_headers status: 200 GET: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB- name: project member cannot show inventory GET: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB status: 403 - name: project reader cannot show inventory GET: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB request_headers: *project_reader_headers status: 403 # update inventory - name: system admin can update inventory PUT: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB request_headers: *system_admin_headers data: resource_provider_generation: 1 total: 2048 reserved: 1024 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 status: 200 - name: system reader cannot update inventory PUT: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB request_headers: *system_reader_headers PUT: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB- name: project member cannot update inventory PUT: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB resource_provider_generation: 1 total: 2048 reserved: 1024 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 status: 403 - name: project reader cannot update inventory PUT: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB request_headers: *project_reader_headers data: resource_provider_generation: 1 total: 2048 reserved: 1024 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 status: 403 # update all inventories - name: system admin can update all inventories PUT: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_admin_headers data: resource_provider_generation: 2 inventories: DISK_GB: total: 2048 reserved: 1024 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 VCPU: total: 8 status: 200 - name: system reader cannot update all inventories PUT: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_reader_headers data: PUT: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories- name: project member cannot update all inventories PUT: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories data: resource_provider_generation: 2 inventories: DISK_GB: total: 2048 reserved: 1024 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 VCPU: total: 8 status: 403 - name: project reader cannot update all inventories PUT: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories request_headers: *project_reader_headers data: resource_provider_generation: 2 inventories: DISK_GB: total: 2048 reserved: 1024 min_unit: 10 max_unit: 1024 step_size: 10 allocation_ratio: 1.0 VCPU: total: 8 status: 403 # delete inventory - name: system admin can delete a specific inventory DELETE: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB request_headers: *system_admin_headers status: 204 - name: system reader cannot delete a specific inventory DELETE: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories/DISK_GB request_headers: *system_reader_headers DELETE: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB request_headers: *project_admin_headers status: 204 - name: project member cannot delete a specific inventory DELETE: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB request_headers: *project_member_headers status: 403 - name: project reader cannot delete a specific inventory DELETE: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories/DISK_GB request_headers: *project_reader_headers status: 403 # delete all inventory # - name: system admin can delete all inventory DELETE: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_admin_headers status: 204 - name: system reader cannot delete all inventory DELETE: /resource_providers/85475179-de26-4f7a-8c11-b4dc10fe47f4/inventories request_headers: *system_reader_headers status: 403 - name: project admin can delete all inventory DELETE: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories DELETE: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories- name: project reader cannot delete all inventory DELETE: /resource_providers/0e4fdc4e-5790-477a-9e4f-4f6898537ad9/inventories request_headers: *project_reader_headers status: 403", name: $ENVIRON['RP_NAME'] uuid: $ENVIRON['RP_UUID'] GET: /resource_providers/$ENVIRON['RP_UUID']/inventories GET: /resource_providers/$ENVIRON['RP_UUID']/inventories- name: project member cannot create an inventory POST: /resource_providers/$ENVIRON['RP_UUID']/inventories request_headers: *project_member_headers POST: /resource_providers/$ENVIRON['RP_UUID']/inventories location: $SCHEME://$NETLOC/resource_providers/$ENVIRON['RP_UUID']/inventories/DISK_GB - name: project member cannot show inventory GET: /resource_providers/$ENVIRON['RP_UUID']/inventories/DISK_GB GET: /resource_providers/$ENVIRON['RP_UUID']/inventories/DISK_GB- name: project member cannot update inventory PUT: $LAST_URL PUT: $LAST_URL- name: project member cannot update all inventories PUT: /resource_providers/$ENVIRON['RP_UUID']/inventories PUT: /resource_providers/$ENVIRON['RP_UUID']/inventories- name: project member cannot delete a specific inventory DELETE: /resource_providers/$ENVIRON['RP_UUID']/inventories/DISK_GB DELETE: /resource_providers/$ENVIRON['RP_UUID']/inventories/DISK_GB DELETE: /resource_providers/$ENVIRON['RP_UUID']/inventories- name: project admin can delete all inventory DELETE: /resource_providers/$ENVIRON['RP_UUID']/inventories request_headers: *project_admin_headers status: 204,290,26
openstack%2Fplacement~master~I4030659c430afea99b3a60953cebcc8ea55947bc,openstack/placement,master,I4030659c430afea99b3a60953cebcc8ea55947bc,Allow project readers to see project-specific usages,ABANDONED,2021-01-22 11:36:53.000000000,2021-01-27 17:41:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-22 11:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3a4e7cd99b698318b4c7fd94ae53125d4c42ee30', 'message': 'WIP: Allow project readers to see project-specific usages\n\nThe functional tests are failing for this and I can\'t figure out why, or\nhow to get oslo_policy to say anything other than ""no"" :(\n\nChange-Id: I4030659c430afea99b3a60953cebcc8ea55947bc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-01-25 12:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ed93e0dc2c767d84cbc29346c7ec6029a6710780', 'message': 'Allow project readers to see project-specific usages\n\nResolve a long-standing TODO.\n\nChange-Id: I4030659c430afea99b3a60953cebcc8ea55947bc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-01-26 12:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b1cf8934f7de15329b8302cd554c0855029e630f', 'message': 'Allow project readers to see project-specific usages\n\nResolve a long-standing TODO.\n\nChange-Id: I4030659c430afea99b3a60953cebcc8ea55947bc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-01-26 12:54:56.000000000', 'files': ['placement/policies/base.py', 'placement/policies/usage.py', 'placement/handlers/usage.py', 'placement/tests/functional/gabbits/usage-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/9fcf637b28203fb1eab4b552bde5e3b70592169b', 'message': 'Allow project readers to see project-specific usages\n\nResolve a long-standing TODO.\n\nChange-Id: I4030659c430afea99b3a60953cebcc8ea55947bc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,771964,9fcf637b28203fb1eab4b552bde5e3b70592169b,9,1,4,15334,,,0,"Allow project readers to see project-specific usages

Resolve a long-standing TODO.

Change-Id: I4030659c430afea99b3a60953cebcc8ea55947bc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/64/771964/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/policies/base.py', 'placement/policies/usage.py', 'placement/handlers/usage.py', 'placement/tests/functional/gabbits/usage-secure-rbac.yaml']",4,3a4e7cd99b698318b4c7fd94ae53125d4c42ee30,secure-rbac,- name: project admin can get total usage for project status: 200 response_json_paths: usages: {} - name: project member can get total usage for project status: 200 response_json_paths: usages: {} - name: project reader can get total usage for project status: 200 response_json_paths: usages: {},- name: project admin cannot get total usage for project status: 403 - name: project member cannot get total usage for project status: 403 - name: project reader cannot get total usage for project status: 403,22,19
openstack%2Fplacement~master~If66f2f35089abe2878a868370b51ffeed4575ab7,openstack/placement,master,If66f2f35089abe2878a868370b51ffeed4575ab7,Refactor usage tests to properly test project personas,ABANDONED,2021-01-22 16:29:52.000000000,2021-01-27 17:32:35.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 16:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/83739d938c6da9cc452363dcbec1eec329efd74f', 'message': 'Refactor usage tests to properly test project personas\n\nChange-Id: If66f2f35089abe2878a868370b51ffeed4575ab7\n'}, {'number': 2, 'created': '2021-01-25 12:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/25018a10b00ff314897d4fd6be8bae7cfe4d419e', 'message': 'Refactor usage tests to properly test project personas\n\nChange-Id: If66f2f35089abe2878a868370b51ffeed4575ab7\n'}, {'number': 3, 'created': '2021-01-26 12:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7d0e911e0b890c85d5d20d39463751bf4231dcf7', 'message': 'Refactor usage tests to properly test project personas\n\nChange-Id: If66f2f35089abe2878a868370b51ffeed4575ab7\n'}, {'number': 4, 'created': '2021-01-26 12:54:56.000000000', 'files': ['placement/tests/functional/gabbits/usage-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/afa79cb592879da41a4ba29168ed1cc1cd6344ee', 'message': 'Refactor usage tests to properly test project personas\n\nChange-Id: If66f2f35089abe2878a868370b51ffeed4575ab7\n'}]",4,772061,afa79cb592879da41a4ba29168ed1cc1cd6344ee,13,3,4,5046,,,0,"Refactor usage tests to properly test project personas

Change-Id: If66f2f35089abe2878a868370b51ffeed4575ab7
",git fetch https://review.opendev.org/openstack/placement refs/changes/61/772061/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/usage-secure-rbac.yaml'],1,83739d938c6da9cc452363dcbec1eec329efd74f,secure-rbac," - &project_id $ENVIRON['PROJECT_ID'] - &project_id_alt $ENVIRON['PROJECT_ID_ALT'] - &alt_project_admin_headers x-auth-token: user x-roles: admin,member,reader x-project-id: *project_id_alt accept: application/json content-type: application/json openstack-api-version: placement latest - &alt_project_member_headers x-auth-token: user x-roles: member,reader x-project-id: *project_id_alt accept: application/json content-type: application/json openstack-api-version: placement latest - &alt_project_reader_headers x-auth-token: user x-roles: reader x-project-id: *project_id_alt accept: application/json content-type: application/json openstack-api-version: placement latest# Make sure users from other projects can't snoop around for usage on projects # they have no business knowing about. - name: project admin cannot get total usage for unauthorized project GET: /usages?project_id=$ENVIRON['PROJECT_ID'] request_headers: *alt_project_admin_headers status: 403 - name: project member cannot get total usage for unauthorized project GET: /usages?project_id=$ENVIRON['PROJECT_ID'] request_headers: *alt_project_member_headers status: 403 - name: project reader cannot get total usage for unauthorized project GET: /usages?project_id=$ENVIRON['PROJECT_ID'] request_headers: *alt_project_reader_headers status: 403 ", - &project_id 9520f97991e94f30a8dd205ef3ce735a,40,1
openstack%2Fnova~stable%2Fvictoria~If795b603d812917c9257ee5166a979c1fd6687f3,openstack/nova,stable/victoria,If795b603d812917c9257ee5166a979c1fd6687f3,Add regression test for bug #1899649,MERGED,2020-11-30 08:48:15.000000000,2021-01-27 17:29:33.000000000,2021-01-27 17:27:03.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 08:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c860b92cf7b2ae63138a83728b788ffdc64145f9', 'message': 'Add regression test for bug #1899649\n\nRelated-Bug: #1899649\nChange-Id: If795b603d812917c9257ee5166a979c1fd6687f3\n(cherry picked from commit 770c139edbd2a2c90d6cb2915948e1718dd1deca)\n'}, {'number': 2, 'created': '2020-12-07 09:43:16.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1899649.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95fc16133406da6bb07f9f8ffc21e99f1e4695f4', 'message': 'Add regression test for bug #1899649\n\nRelated-Bug: #1899649\nChange-Id: If795b603d812917c9257ee5166a979c1fd6687f3\n(cherry picked from commit 770c139edbd2a2c90d6cb2915948e1718dd1deca)\n'}]",0,764611,95fc16133406da6bb07f9f8ffc21e99f1e4695f4,12,3,2,10135,,,0,"Add regression test for bug #1899649

Related-Bug: #1899649
Change-Id: If795b603d812917c9257ee5166a979c1fd6687f3
(cherry picked from commit 770c139edbd2a2c90d6cb2915948e1718dd1deca)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/764611/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1899649.py'],1,c860b92cf7b2ae63138a83728b788ffdc64145f9,bug/1899649,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests import fixtures as nova_fixtures from nova.tests.functional.libvirt import base from nova.tests.unit.virt.libvirt import fakelibvirt class TestVolAttachmentsAfterFailureToScheduleOrBuild(base.ServersTestBase): """"""Regression test for bug . This regression test aims to ensure a volume attachment remains in place after a failure to either schedule a server or when building a server directly on a compute after skipping the scheduler. A volume attachment is required to remain after such failures to ensure the volume itself remains marked as reserved. To ensure this is as accurate as possible the tests use the libvirt functional base class to mimic a real world example with NUMA nodes being requested via flavor extra specs. The underlying compute being unable to meet this request ensuring a failure. """""" microversion = 'latest' def setUp(self): super().setUp() # Launch a single libvirt based compute service with a single NUMA node host_info = fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=2, kB_mem=15740000) self.start_compute(host_info=host_info, hostname='compute1') # Use a flavor requesting 2 NUMA nodes that we know will always fail self.flavor_id = self._create_flavor(extra_spec={'hw:numa_nodes': '2'}) # Craft a common bfv server request for use within each test self.volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL self.server = { 'name': 'test', 'flavorRef': self.flavor_id, 'imageRef': '', 'networks': 'none', 'block_device_mapping_v2': [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': self.volume_id}] } def _assert_failure_and_volume_attachments(self, server): # Assert that the server is in an ERROR state self._wait_for_state_change(server, 'ERROR') # Assert that the volume is in a reserved state. As this isn't modelled # by the CinderFixture we just assert that a single volume attachment # remains after the failure and that it is referenced by the server. attachments = self.cinder.volume_to_attachment.get(self.volume_id) self.assertEqual(1, len(attachments)) self.assertIn( self.volume_id, self.cinder.volume_ids_for_instance(server['id'])) def test_failure_to_schedule(self): # Assert that a volume attachment remains after a failure to schedule server = self.api.post_server({'server': self.server}) self._assert_failure_and_volume_attachments(server) def test_failure_to_schedule_with_az(self): # Assert that a volume attachment remains after a failure to schedule # with the addition of an availability_zone in the request self.server['availability_zone'] = 'nova' server = self.api.post_server({'server': self.server}) self._assert_failure_and_volume_attachments(server) def test_failure_to_schedule_with_host(self): # Assert that a volume attachment remains after a failure to schedule # using the optional host parameter introduced in microversion 2.74 self.server['host'] = 'compute1' server = self.admin_api.post_server({'server': self.server}) self._assert_failure_and_volume_attachments(server) def test_failure_to_build_with_az_and_host(self): # Assert that a volume attachments does not remain after a failure to # build and reschedule by providing an availability_zone *and* host, # skipping the scheduler. This is bug #1899649. self.server['availability_zone'] = 'nova:compute1' server = self.admin_api.post_server({'server': self.server}) # Assert the server ends up in an ERROR state self._wait_for_state_change(server, 'ERROR') # FIXME(lyarwood): A single volume attachment should be present for the # instance at this stage as the volume *can* otherwise be marked as # available within Cinder if it isn't multi-attached. attachments = self.cinder.volume_to_attachment.get(self.volume_id) self.assertEqual(0, len(attachments)) self.assertNotIn( self.volume_id, self.cinder.volume_ids_for_instance(server['id'])) ",,110,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I57c41d5b3aab2caf27e276e8ff82fc10fe744890,openstack/tripleo-ansible,stable/train,I57c41d5b3aab2caf27e276e8ff82fc10fe744890,Move tripleo_lvmfilter molecule job to podman,ABANDONED,2021-01-11 12:37:38.000000000,2021-01-27 17:28:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 12:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e8429cd1334e38c30e89355cb01ec9a1ec49c26', 'message': 'Disable docker install for lvmfilter molecule tests\n\nPrevents automated update/installation of docker.\n\nChange-Id: I57c41d5b3aab2caf27e276e8ff82fc10fe744890\nRelated-Bug: 1909445\n'}, {'number': 2, 'created': '2021-01-11 12:53:00.000000000', 'files': ['tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d825ea5e6d4ea5a371ae2ca1c6e7fa34e088e38', 'message': 'Move tripleo_lvmfilter molecule job to podman\n\nInstallation of docker fails and the role itself does not rely\non use of docker specifically.\n\nChange-Id: I57c41d5b3aab2caf27e276e8ff82fc10fe744890\nRelated-Bug: 1909445\n'}]",0,770116,6d825ea5e6d4ea5a371ae2ca1c6e7fa34e088e38,5,1,2,6796,,,0,"Move tripleo_lvmfilter molecule job to podman

Installation of docker fails and the role itself does not rely
on use of docker specifically.

Change-Id: I57c41d5b3aab2caf27e276e8ff82fc10fe744890
Related-Bug: 1909445
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/770116/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,1e8429cd1334e38c30e89355cb01ec9a1ec49c26,, install_docker_c8: false,,1,0
openstack%2Fplacement~master~I698c1a54334cccfe1827f7d81af76fde667e1bac,openstack/placement,master,I698c1a54334cccfe1827f7d81af76fde667e1bac,trivial: Remove TODO in LegacyRBACPolicyFixture,ABANDONED,2021-01-26 14:49:33.000000000,2021-01-27 17:22:36.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 14:49:33.000000000', 'files': ['placement/tests/functional/fixtures/gabbits.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/be3d94cb08d75b0cdde9631e465d848a4667cc91', 'message': 'trivial: Remove TODO in LegacyRBACPolicyFixture\n\nWe originally made a TODO to remove the fixture and just use the\nAPIFixture directly for testing the legacy RBAC scenario. But, keeping\nthe fixture around to be explicit is nice to have and very clear\nregarding its purpose.\n\nWe can remove this once the defaults are updated in oslo.policy directly\nand the deprecated policies are removed from placement.\n\nChange-Id: I698c1a54334cccfe1827f7d81af76fde667e1bac\n'}]",0,772535,be3d94cb08d75b0cdde9631e465d848a4667cc91,5,2,1,5046,,,0,"trivial: Remove TODO in LegacyRBACPolicyFixture

We originally made a TODO to remove the fixture and just use the
APIFixture directly for testing the legacy RBAC scenario. But, keeping
the fixture around to be explicit is nice to have and very clear
regarding its purpose.

We can remove this once the defaults are updated in oslo.policy directly
and the deprecated policies are removed from placement.

Change-Id: I698c1a54334cccfe1827f7d81af76fde667e1bac
",git fetch https://review.opendev.org/openstack/placement refs/changes/35/772535/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/fixtures/gabbits.py'],1,be3d94cb08d75b0cdde9631e465d848a4667cc91,secure-rbac,,# TODO(stephenfin): This isn't necessary - just use APIFixture,0,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I5a702a84ca0e1942f2e1636d31acc391f689a8ad,openstack/python-tripleoclient,stable/ussuri,I5a702a84ca0e1942f2e1636d31acc391f689a8ad,Run validation without authentication in particular context,MERGED,2021-01-25 09:38:07.000000000,2021-01-27 17:07:20.000000000,2021-01-27 17:04:04.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-25 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d7d01a3e1f79fc2a2be36160f5864e060ea0c5c', 'message': ""Run validation without authentication in particular context\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\nThis patch handle the authentication if provided by the user and\nenvironment, if no authentifcation, since we cant generate dynamic\ninventory, it checks if a static is passed with the CLI, if not it\nraised an exception.\n\nIf authentication is provided and succeed, then tripleoclient can\nsafely call the plan_management to check and ensure if the plan is\npresent.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)\n(cherry picked from commit 8ff500c12682a7c0c762fa0c7d8146fc65049546)\n""}, {'number': 2, 'created': '2021-01-25 18:01:11.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/badaeed09c7c09484188235801ebcd26b494784e', 'message': ""Run validation without authentication in particular context\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\nThis patch handle the authentication if provided by the user and\nenvironment, if no authentifcation, since we cant generate dynamic\ninventory, it checks if a static is passed with the CLI, if not it\nraised an exception.\n\nIf authentication is provided and succeed, then tripleoclient can\nsafely call the plan_management to check and ensure if the plan is\npresent.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)\n(cherry picked from commit 8ff500c12682a7c0c762fa0c7d8146fc65049546)\n""}]",0,772268,badaeed09c7c09484188235801ebcd26b494784e,20,3,2,11491,,,0,"Run validation without authentication in particular context

Since we are using mistral to get the list of the plan
in TripleO, we require authentication for the clients
otherwise the validation Run won't work due to unable
to get mistral context.
This patch handle the authentication if provided by the user and
environment, if no authentifcation, since we cant generate dynamic
inventory, it checks if a static is passed with the CLI, if not it
raised an exception.

If authentication is provided and succeed, then tripleoclient can
safely call the plan_management to check and ensure if the plan is
present.

Change-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad
(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)
(cherry picked from commit 8ff500c12682a7c0c762fa0c7d8146fc65049546)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/68/772268/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,1d7d01a3e1f79fc2a2be36160f5864e060ea0c5c,,"from openstack import exceptions as os_exceptions # Try to perform OpenStack authentication, if no authentication # and static inventory provided continue, else raise error. try: clients = self.app.client_manager clients._auth_required = True clients.setup_auth() except os_exceptions.ConfigException: LOG.warning(""Running Validations without authentication."") if not parsed_args.static_inventory: raise exceptions.CommandError( _(""No static inventory provided, please provide a valid"" ""inventory or use authentication."")) else: plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans)))"," clients = self.app.client_manager plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans))) ",20,9
openstack%2Fopenstack-helm-addons~master~Id892261b5d3b7f206ba355b55988ffae7606e84d,openstack/openstack-helm-addons,master,Id892261b5d3b7f206ba355b55988ffae7606e84d,Add reno job to openstack-helm-addons,MERGED,2021-01-20 21:58:35.000000000,2021-01-27 16:57:12.000000000,2021-01-27 16:45:18.000000000,"[{'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-01-20 21:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b578d6e8d080b88c780d548f070ae30688ef4311', 'message': 'Add reno job to openstack-helm-addons\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH\nand published to tarballs.o.o.\n\nChange-Id: Id892261b5d3b7f206ba355b55988ffae7606e84d\n'}, {'number': 2, 'created': '2021-01-20 22:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/dcaa19a1ce8f3af84d6622958870814a4e072794', 'message': 'Add reno job to openstack-helm-addons\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH\nand published to tarballs.o.o.\n\nChange-Id: Id892261b5d3b7f206ba355b55988ffae7606e84d\n'}, {'number': 3, 'created': '2021-01-20 23:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9d304225fb566f9f60993c3386b9802df5434abd', 'message': 'Add reno job to openstack-helm-addons\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH\nand published to tarballs.o.o.\n\nChange-Id: Id892261b5d3b7f206ba355b55988ffae7606e84d\n'}, {'number': 4, 'created': '2021-01-21 14:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/879259f2f41dca0a9b8e397f4d7934a91c36dd68', 'message': 'Add reno job to openstack-helm-addons\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH\nand published to tarballs.o.o.\n\nChange-Id: Id892261b5d3b7f206ba355b55988ffae7606e84d\n'}, {'number': 5, 'created': '2021-01-26 23:38:40.000000000', 'files': ['releasenotes/notes/artifactory.yaml', 'releasenotes/source/current.rst', 'releasenotes/notes/prometheus-bot.yaml', 'releasenotes/notes/shaker.yaml', 'Makefile', 'releasenotes/notes/sonobuoy.yaml', 'releasenotes/source/index.rst', 'releasenotes/notes/ranger.yaml', 'releasenotes/config.yaml', 'releasenotes/notes/mini-mirror.yaml', 'releasenotes/notes/ranger-agent.yaml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'tox.ini', 'zuul.d/jobs.yaml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3c07f7465c0c3441317bd8cb1c057411fc50ac57', 'message': 'Add reno job to openstack-helm-addons\n\nWith OSH now publishing charts regularly with each change, there\nneeds to be a way to track these changes in order to track the\nchanges between chart versions.\n\nThis proposed change adds in a reno check job to publish notes\nbased from the changes to each chart by version as a way to\ntrack and document all the changes that get made to OSH\nand published to tarballs.o.o.\n\nChange-Id: Id892261b5d3b7f206ba355b55988ffae7606e84d\n'}]",0,771729,3c07f7465c0c3441317bd8cb1c057411fc50ac57,20,5,5,21420,,,0,"Add reno job to openstack-helm-addons

With OSH now publishing charts regularly with each change, there
needs to be a way to track these changes in order to track the
changes between chart versions.

This proposed change adds in a reno check job to publish notes
based from the changes to each chart by version as a way to
track and document all the changes that get made to OSH
and published to tarballs.o.o.

Change-Id: Id892261b5d3b7f206ba355b55988ffae7606e84d
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/29/771729/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/artifactory.yaml', 'releasenotes/source/current.rst', 'releasenotes/notes/prometheus-bot.yaml', 'releasenotes/notes/shaker.yaml', 'releasenotes/notes/sonobuoy.yaml', 'releasenotes/source/index.rst', 'releasenotes/notes/ranger.yaml', 'releasenotes/config.yaml', 'releasenotes/notes/mini-mirror.yaml', 'releasenotes/notes/ranger-agent.yaml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py']",14,b578d6e8d080b88c780d548f070ae30688ef4311,osh-reno," # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,99,0
openstack%2Fbarbican~master~I98a829229f40bac3974f476bd290c5598e33fd8e,openstack/barbican,master,I98a829229f40bac3974f476bd290c5598e33fd8e,[DNM] fix alembic template import order,ABANDONED,2020-09-17 08:38:26.000000000,2021-01-27 16:05:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-17 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/001a838058e517061f40ab71377442c87bdefe33', 'message': '[DNM] fix alembic template import order\n\nChange-Id: I98a829229f40bac3974f476bd290c5598e33fd8e\n'}, {'number': 2, 'created': '2020-09-17 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d135b3be2d3c36b462ce2f1551a98b7973003850', 'message': '[DNM] fix alembic template import order\n\nChange-Id: I98a829229f40bac3974f476bd290c5598e33fd8e\n'}, {'number': 3, 'created': '2020-09-17 13:05:56.000000000', 'files': ['barbican/model/migration/alembic_migrations/versions/156cd9933643_add_project_column_to_consumer_table.py', 'barbican/model/migration/alembic_migrations/versions/2843d6469f25_add_sub_status_info_for_orders.py', 'barbican/model/migration/alembic_migrations/versions/443d6f4a69ac_added_secret_type_column_to_secrets_.py', 'barbican/model/migration/alembic_migrations/versions/47b69e523451_made_plugin_names_in_kek_datum_non_.py', 'barbican/model/migration/alembic_migrations/versions/d2780d5aa510_change_url_length.py', 'barbican/model/migration/alembic_migrations/versions/161f8aceb687_fill_project_id_to_secrets_where_missing.py', 'barbican/model/migration/alembic_migrations/versions/3c3b04040bfe_add_owning_project_and_creator_to_cas.py', 'barbican/model/migration/alembic_migrations/versions/1bc885808c76_add_project_id_to_secrets.py', 'barbican/model/migration/alembic_migrations/versions/10220ccbe7fa_remove_transport_keys_column_from_.py', 'barbican/model/migration/alembic_migrations/versions/2ab3f5371bde_dsa_in_container_type_modelbase_to.py', 'barbican/model/migration/alembic_migrations/versions/254495565185_removing_redundant_fields_from_order.py', 'barbican/model/migration/alembic_migrations/versions/2d21598e7e70_added_ca_related_tables.py', 'barbican/model/migration/alembic_migrations/versions/30dba269cc64_update_order_retry_tasks_table.py', 'barbican/model/migration/alembic_migrations/versions/3d36a26b88af_add_order_barbican_metadata_table.py', 'barbican/model/migration/alembic_migrations/versions/46b98cde536_add_project_quotas_table.py', 'barbican/model/migration/alembic_migrations/versions/13d127569afa_create_secret_store_metadata_table.py', 'barbican/model/migration/alembic_migrations/versions/1c0f328bfce0_fixing_composite_primary_keys_and_.py', 'barbican/model/migration/alembic_migrations/versions/795737bb3c3_change_tenants_to_projects.py', 'barbican/model/migration/alembic_migrations/versions/1e86c18af2dd_add_new_columns_type_meta_containerid.py', 'barbican/model/migration/alembic_migrations/versions/256da65e0c5f_change_keystone_id_for_external_id_in_.py', 'barbican/model/migration/alembic_migrations/versions/juno_initial.py', 'barbican/model/migration/alembic_migrations/versions/6a4457517a3_rename_acl_creator_only_to_project_.py', 'barbican/model/migration/alembic_migrations/versions/cd4106a1a0_add_cert_to_container_type.py', 'barbican/model/migration/alembic_migrations/versions/dce488646127_add_secret_user_metadata.py', 'barbican/model/migration/alembic_migrations/versions/aa2cf96a1d5_add_orderretrytask.py', 'barbican/model/migration/alembic_migrations/versions/3041b53b95d7_remove_size_limits_on_meta_table_values.py', 'barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py', 'barbican/model/migration/alembic_migrations/versions/1bece815014f_remove_projectsecret_table.py', 'barbican/model/migration/alembic_migrations/versions/4ecde3a3a72a_add_cas_column_to_project_quotas_table.py', 'barbican/model/migration/alembic_migrations/versions/39cf2e645cba_model_for_multiple_backend_support.py', 'barbican/model/migration/alembic_migrations/versions/39a96e67e990_add_missing_constraints.py', 'barbican/model/migration/alembic_migrations/versions/1a7cf79559e3_new_secret_and_container_acl_tables.py', 'barbican/model/migration/alembic_migrations/versions/4070806f6972_add_orders_plugin_metadata_table_and_.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c0b160db3c862ee7ceaaa396d4b2006175b7ab8a', 'message': '[DNM] fix alembic template import order\n\nChange-Id: I98a829229f40bac3974f476bd290c5598e33fd8e\n'}]",0,752394,c0b160db3c862ee7ceaaa396d4b2006175b7ab8a,6,1,3,27954,,,0,"[DNM] fix alembic template import order

Change-Id: I98a829229f40bac3974f476bd290c5598e33fd8e
",git fetch https://review.opendev.org/openstack/barbican refs/changes/94/752394/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/model/migration/alembic_migrations/versions/156cd9933643_add_project_column_to_consumer_table.py', 'barbican/model/migration/alembic_migrations/versions/2843d6469f25_add_sub_status_info_for_orders.py', 'barbican/model/migration/alembic_migrations/versions/443d6f4a69ac_added_secret_type_column_to_secrets_.py', 'barbican/model/migration/alembic_migrations/versions/47b69e523451_made_plugin_names_in_kek_datum_non_.py', 'barbican/model/migration/alembic_migrations/versions/d2780d5aa510_change_url_length.py', 'barbican/model/migration/alembic_migrations/versions/161f8aceb687_fill_project_id_to_secrets_where_missing.py', 'barbican/model/migration/alembic_migrations/versions/3c3b04040bfe_add_owning_project_and_creator_to_cas.py', 'barbican/model/migration/alembic_migrations/versions/1bc885808c76_add_project_id_to_secrets.py', 'barbican/model/migration/alembic_migrations/versions/10220ccbe7fa_remove_transport_keys_column_from_.py', 'barbican/model/migration/alembic_migrations/versions/2ab3f5371bde_dsa_in_container_type_modelbase_to.py', 'barbican/model/migration/alembic_migrations/versions/254495565185_removing_redundant_fields_from_order.py', 'barbican/model/migration/alembic_migrations/versions/2d21598e7e70_added_ca_related_tables.py', 'barbican/model/migration/alembic_migrations/versions/30dba269cc64_update_order_retry_tasks_table.py', 'barbican/model/migration/alembic_migrations/versions/3d36a26b88af_add_order_barbican_metadata_table.py', 'barbican/model/migration/alembic_migrations/versions/46b98cde536_add_project_quotas_table.py', 'barbican/model/migration/alembic_migrations/versions/13d127569afa_create_secret_store_metadata_table.py', 'barbican/model/migration/alembic_migrations/versions/1c0f328bfce0_fixing_composite_primary_keys_and_.py', 'barbican/model/migration/alembic_migrations/versions/795737bb3c3_change_tenants_to_projects.py', 'barbican/model/migration/alembic_migrations/versions/1e86c18af2dd_add_new_columns_type_meta_containerid.py', 'barbican/model/migration/alembic_migrations/versions/256da65e0c5f_change_keystone_id_for_external_id_in_.py', 'barbican/model/migration/alembic_migrations/versions/juno_initial.py', 'barbican/model/migration/alembic_migrations/versions/6a4457517a3_rename_acl_creator_only_to_project_.py', 'barbican/model/migration/alembic_migrations/versions/cd4106a1a0_add_cert_to_container_type.py', 'barbican/model/migration/alembic_migrations/versions/dce488646127_add_secret_user_metadata.py', 'barbican/model/migration/alembic_migrations/versions/aa2cf96a1d5_add_orderretrytask.py', 'barbican/model/migration/alembic_migrations/versions/3041b53b95d7_remove_size_limits_on_meta_table_values.py', 'barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py', 'barbican/model/migration/alembic_migrations/versions/1bece815014f_remove_projectsecret_table.py', 'barbican/model/migration/alembic_migrations/versions/4ecde3a3a72a_add_cas_column_to_project_quotas_table.py', 'barbican/model/migration/alembic_migrations/versions/39cf2e645cba_model_for_multiple_backend_support.py', 'barbican/model/migration/alembic_migrations/versions/39a96e67e990_add_missing_constraints.py', 'barbican/model/migration/alembic_migrations/versions/1a7cf79559e3_new_secret_and_container_acl_tables.py', 'barbican/model/migration/alembic_migrations/versions/4070806f6972_add_orders_plugin_metadata_table_and_.py']",33,001a838058e517061f40ab71377442c87bdefe33,hacking,from alembic import op import sqlalchemy as sa ,from alembic import op import sqlalchemy as sa ,98,99
openstack%2Fbarbican~master~If8fde991f59198a96680b715334c246a345f51c5,openstack/barbican,master,If8fde991f59198a96680b715334c246a345f51c5,[DNM] ignore import errors due to eventlet,ABANDONED,2020-09-16 14:07:20.000000000,2021-01-27 16:05:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-16 14:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5100fd12c4157c3ec6d3eb6e55ccc1564edc77a1', 'message': '[DNM] ignore import errors due to eventlet\n\nChange-Id: If8fde991f59198a96680b715334c246a345f51c5\n'}, {'number': 2, 'created': '2020-09-16 14:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5000c6b1eb5ea80d1fc2525b935aaec485a8b351', 'message': '[DNM] ignore import errors due to eventlet\n\nChange-Id: If8fde991f59198a96680b715334c246a345f51c5\n'}, {'number': 3, 'created': '2020-09-16 14:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/36a488d89cf42340f4ff71bad85b630f574ce54d', 'message': '[DNM] ignore import errors due to eventlet\n\nChange-Id: If8fde991f59198a96680b715334c246a345f51c5\n'}, {'number': 4, 'created': '2020-09-17 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5cf261926c6c9087a10ef9819316d790d64422e1', 'message': '[DNM] ignore import errors due to eventlet\n\nChange-Id: If8fde991f59198a96680b715334c246a345f51c5\n'}, {'number': 5, 'created': '2020-09-17 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ee53c3f2749af5a3094e8871a842ec307cc7758f', 'message': '[DNM] ignore import errors due to eventlet\n\nChange-Id: If8fde991f59198a96680b715334c246a345f51c5\n'}, {'number': 6, 'created': '2020-09-17 13:05:56.000000000', 'files': ['barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/queue/test_retry_scheduler.py', 'barbican/cmd/retry_scheduler.py', 'barbican/cmd/db_manage.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/cmd/keystone_listener.py', 'barbican/cmd/worker.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/7f602d816fb8b38b0f9bf6f524c12481528afa34', 'message': '[DNM] ignore import errors due to eventlet\n\nChange-Id: If8fde991f59198a96680b715334c246a345f51c5\n'}]",0,752244,7f602d816fb8b38b0f9bf6f524c12481528afa34,11,1,6,27954,,,0,"[DNM] ignore import errors due to eventlet

Change-Id: If8fde991f59198a96680b715334c246a345f51c5
",git fetch https://review.opendev.org/openstack/barbican refs/changes/44/752244/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/queue/test_retry_scheduler.py', 'barbican/cmd/retry_scheduler.py', 'barbican/cmd/db_manage.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/cmd/keystone_listener.py', 'barbican/cmd/worker.py', 'tox.ini']",8,5100fd12c4157c3ec6d3eb6e55ccc1564edc77a1,hacking,per-file-ignores = barbican/cmd/worker.py:E402 barbican/cmd/keystone_listener.py:E402 barbican/cmd/retry_scheduler.py:E402,,47,53
openstack%2Fbarbican~master~I3c8da77d8a67b65ccb1eff8aee8a72df7f04ae9a,openstack/barbican,master,I3c8da77d8a67b65ccb1eff8aee8a72df7f04ae9a,[DNM] fix dogtag flake8,ABANDONED,2020-09-17 08:38:26.000000000,2021-01-27 16:05:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-17 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3a6a6cee067bf6be46346745c3352bc70bf4b1ae', 'message': '[DNM] fix dogtag flake8\n\nChange-Id: I3c8da77d8a67b65ccb1eff8aee8a72df7f04ae9a\n'}, {'number': 2, 'created': '2020-09-17 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f5631eeb1a8dcb6d6e2ce7ea936a159bd0f2e9d0', 'message': '[DNM] fix dogtag flake8\n\nChange-Id: I3c8da77d8a67b65ccb1eff8aee8a72df7f04ae9a\n'}, {'number': 3, 'created': '2020-09-17 13:05:56.000000000', 'files': ['barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/958a937c224a200f827c3cfe5d38d1bc9a744871', 'message': '[DNM] fix dogtag flake8\n\nChange-Id: I3c8da77d8a67b65ccb1eff8aee8a72df7f04ae9a\n'}]",0,752395,958a937c224a200f827c3cfe5d38d1bc9a744871,6,1,3,27954,,,0,"[DNM] fix dogtag flake8

Change-Id: I3c8da77d8a67b65ccb1eff8aee8a72df7f04ae9a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/95/752395/2 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/dogtag.py'],1,3a6a6cee067bf6be46346745c3352bc70bf4b1ae,hacking,from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization from oslo_utils import uuidutilssubcas_available = True try: import pki.authority as authority import pki.feature as feature except ImportError: subcas_available = False if type(nss_password) is not bytes:,from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serializationfrom oslo_utils import uuidutils subcas_available = True try: import pki.authority as authority import pki.feature as feature except ImportError: subcas_available = False import six if type(nss_password) is not six.binary_type: # Password needs to be a bytes object in Python 3,12,14
openstack%2Freleases~master~Idbaa846da93520c3315349e1e4a5472beea9a5bd,openstack/releases,master,Idbaa846da93520c3315349e1e4a5472beea9a5bd,Release XStatic-JQuery-Migrate-3.3.2.1,MERGED,2021-01-20 19:53:42.000000000,2021-01-27 16:05:26.000000000,2021-01-27 16:05:26.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-20 19:53:42.000000000', 'files': ['deliverables/_independent/xstatic-jquery-migrate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21185a1ae3d0c7af317e778cc53572b1aac25ab4', 'message': 'Release XStatic-JQuery-Migrate-3.3.2.1\n\nChange-Id: Idbaa846da93520c3315349e1e4a5472beea9a5bd\n'}]",0,771712,21185a1ae3d0c7af317e778cc53572b1aac25ab4,11,6,1,841,,,0,"Release XStatic-JQuery-Migrate-3.3.2.1

Change-Id: Idbaa846da93520c3315349e1e4a5472beea9a5bd
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/771712/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/xstatic-jquery-migrate.yaml'],1,21185a1ae3d0c7af317e778cc53572b1aac25ab4,xstatic-jquery-migrate, - version: 3.3.2.1 projects: - repo: openstack/xstatic-jquery-migrate hash: 2d1952a662abbc344bf6380d64988e2c8cba1b5b,,4,0
openstack%2Fvalidations-common~master~I4dc4ee8879300b9fdc64dada308d3df640a7c55b,openstack/validations-common,master,I4dc4ee8879300b9fdc64dada308d3df640a7c55b,Tiny typo in the init docstring.,ABANDONED,2021-01-27 15:50:51.000000000,2021-01-27 16:02:33.000000000,,[],"[{'number': 1, 'created': '2021-01-27 15:50:51.000000000', 'files': ['validations_common/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6fa252d5b2366c599f0b06477ab1a62ee6555b90', 'message': 'Tiny typo in the init docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4dc4ee8879300b9fdc64dada308d3df640a7c55b\n'}]",0,772710,6fa252d5b2366c599f0b06477ab1a62ee6555b90,5,0,1,32926,,,0,"Tiny typo in the init docstring.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4dc4ee8879300b9fdc64dada308d3df640a7c55b
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/10/772710/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/validation.py'],1,6fa252d5b2366c599f0b06477ab1a62ee6555b90,," """"""Init validation parser"""""""," """"""Init validation paser""""""",1,1
openstack%2Fbarbican~master~Ifc3c527f295480dd9860f9bc99785f4c14dc878a,openstack/barbican,master,Ifc3c527f295480dd9860f9bc99785f4c14dc878a,Bump hacking version,ABANDONED,2020-09-16 13:39:14.000000000,2021-01-27 15:54:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-16 13:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/837d2f38ef5f6b54a57443c9e7569109d67d955c', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}, {'number': 2, 'created': '2020-09-16 13:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9214e4cde296c3111158f9eed67713f8fc9c64b0', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}, {'number': 3, 'created': '2020-09-17 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/20b038ae7612bc4ee5bc0110eda307d123edbefa', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}, {'number': 4, 'created': '2020-09-17 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/99871f9b8982c8f89e39a2767411022bbba97292', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}, {'number': 5, 'created': '2020-09-17 13:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8ddd6a32495d432b372852a94ed2b2eba0d1bdf6', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}, {'number': 6, 'created': '2020-10-02 08:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/db0b5fe154bc1948c594c4fbffe2d0f5cd1a4bff', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}, {'number': 7, 'created': '2020-10-19 11:19:26.000000000', 'files': ['barbican/hacking/checks.py', 'barbican/model/repositories.py', 'test-requirements.txt', 'barbican/tests/test_hacking.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'functionaltests/api/v1/functional/test_containers.py', 'barbican/common/utils.py', 'barbican/common/config.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f0269b08da1b88796aec223ed46928dcbcbcd5fd', 'message': 'Bump hacking version\n\nChange-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a\n'}]",0,752240,f0269b08da1b88796aec223ed46928dcbcbcd5fd,14,1,7,27954,,,0,"Bump hacking version

Change-Id: Ifc3c527f295480dd9860f9bc99785f4c14dc878a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/40/752240/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,837d2f38ef5f6b54a57443c9e7569109d67d955c,hacking,"hacking>=3.2.0,<3.3.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fcharm-keystone~master~I3f45d051b352ad7a1b05b693c2349abc51bdb4b8,openstack/charm-keystone,master,I3f45d051b352ad7a1b05b693c2349abc51bdb4b8,Add Groovy to the test gate,MERGED,2020-11-05 11:47:57.000000000,2021-01-27 15:52:34.000000000,2021-01-27 15:52:34.000000000,"[{'_account_id': 18675}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cf60bfc378f8bc08c5c779acad0d0945fc422fcb', 'message': 'Add Groovy to the test gate\n\nChange-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8\n'}, {'number': 2, 'created': '2020-11-24 13:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/994285016be38678a2c5865945712d9a8cbb5fdc', 'message': 'Add Groovy to the test gate\n\nAnd sync charm-helpers.\n\nChange-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8\n'}, {'number': 3, 'created': '2020-12-01 14:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c8747a10f0552952236132d2eb03ab8ff2a5dca1', 'message': 'Add Groovy to the test gate\n\nAnd sync charm-helpers.\n\nChange-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8\n'}, {'number': 4, 'created': '2021-01-10 15:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/4da6bd92cd53e3a8cbaa90161b703561a89b02a4', 'message': 'Add Groovy to the test gate\n\nAnd sync charm-helpers.\n\nChange-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8\n'}, {'number': 5, 'created': '2021-01-15 15:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/1b2c8781d429a854ecd0fc3cc6cd34542b630ac6', 'message': 'Add Groovy to the test gate\n\nAnd sync charm-helpers.\n\nChange-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8\n'}, {'number': 6, 'created': '2021-01-22 16:36:05.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e8c74b93279925e25e355c2434ea218a9fb8b917', 'message': 'Add Groovy to the test gate\n\nChange-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8\n'}]",0,761561,e8c74b93279925e25e355c2434ea218a9fb8b917,44,4,6,31289,,,0,"Add Groovy to the test gate

Change-Id: I3f45d051b352ad7a1b05b693c2349abc51bdb4b8
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/61/761561/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py']",3,cf60bfc378f8bc08c5c779acad0d0945fc422fcb,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",24,7
openstack%2Ftripleo-validations~master~Ib67ff3f3310f19ab6930c45d05b9f8ca408859ed,openstack/tripleo-validations,master,Ib67ff3f3310f19ab6930c45d05b9f8ca408859ed,WIP: Add validation for file-backed memory,ABANDONED,2020-06-11 10:00:17.000000000,2021-01-27 15:44:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-11 10:00:17.000000000', 'files': ['playbooks/nova-file-backend-memory.yaml', 'roles/nova_file_backed_memory/defaults/main.yml', 'roles/nova_file_backed_memory/molecule/default/converge.yml', 'roles/nova_file_backed_memory/molecule/default/molecule.yml', 'roles/nova_file_backed_memory/vars/main.yml', 'doc/source/roles/role-nova_file_backed_memory.rst', 'library/check_file_backed_memory_config.py', 'roles/nova_file_backed_memory/tasks/main.yml', 'roles/nova_file_backed_memory/molecule/default/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/59b700c130137bbe839740bbfe7a5b2b7f67022f', 'message': ""WIP: Add validation for file-backed memory\n\nWhen file-backed memory [1] is in use, it's not possible use memory\novercommit or reserve host memory. Add validation steps for this.\n\nWIP because this is missing stuff. I've basically copy-pasted another\nrole but I'd be happy for someone to take this and run with it :)\n\nChange-Id: Ib67ff3f3310f19ab6930c45d05b9f8ca408859ed\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1882821\n""}]",0,735096,59b700c130137bbe839740bbfe7a5b2b7f67022f,3,1,1,15334,,,0,"WIP: Add validation for file-backed memory

When file-backed memory [1] is in use, it's not possible use memory
overcommit or reserve host memory. Add validation steps for this.

WIP because this is missing stuff. I've basically copy-pasted another
role but I'd be happy for someone to take this and run with it :)

Change-Id: Ib67ff3f3310f19ab6930c45d05b9f8ca408859ed
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1882821
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/96/735096/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/nova-file-backend-memory.yaml', 'roles/nova_file_backed_memory/defaults/main.yml', 'roles/nova_file_backed_memory/molecule/default/converge.yml', 'roles/nova_file_backed_memory/molecule/default/molecule.yml', 'doc/source/roles/role-nova_file_backed_memory.rst', 'library/check_file_backed_memory_config.py', 'roles/nova_file_backed_memory/vars/main.yml', 'roles/nova_file_backed_memory/molecule/default/Dockerfile.j2', 'roles/nova_file_backed_memory/tasks/main.yml']",9,59b700c130137bbe839740bbfe7a5b2b7f67022f,bug/1882821,"--- - name: Get Nova file-backed memory configuration become: true validations_read_ini: path: ""{{ nova_conf_file }}"" section: libvirt key: file_backed_memory register: nova_file_backed_memory - name: Get Nova memory-overcommit configuration become: true validations_read_ini: path: ""{{ nova_conf_file }}"" section: DEFAULT key: ram_allocation_ratio register: nova_ram_allocation_ratio - name: Get Nova reserved memory configuration become: true validations_read_ini: path: ""{{ nova_conf_file }}"" section: DEFAULT key: reserved_host_memory_mb register: nova_reserved_memory - name: Check Nova file-backed memory configuration check_file_backed_memory_config: file_backed_memory: ""{{ nova_file_backed_memory.value }}"" ram_allocation_ratio: ""{{ nova_ram_allocation_ratio.value }}"" reserved_memory: ""{{ nova_reserved_memory.value }}"" ",,296,0
openstack%2Fopenstack-helm-infra~master~Id1a1ae8a3c8733e1b464787b231e42028b923ff1,openstack/openstack-helm-infra,master,Id1a1ae8a3c8733e1b464787b231e42028b923ff1,WIP: Test add certs,ABANDONED,2021-01-25 21:41:12.000000000,2021-01-27 15:43:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-25 21:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82f66fcc4c3b9ae716b042dd9dee31ac2284bbf7', 'message': 'WIP: Test add certs\n\nChange-Id: Id1a1ae8a3c8733e1b464787b231e42028b923ff1\n'}, {'number': 2, 'created': '2021-01-25 21:41:51.000000000', 'files': ['ceph-rgw/Chart.yaml', 'ceph-rgw/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f1a8436208474efe53155bc5d1eeba0a10341b2', 'message': 'WIP: Test add certs\n\nChange-Id: Id1a1ae8a3c8733e1b464787b231e42028b923ff1\n'}]",0,772445,6f1a8436208474efe53155bc5d1eeba0a10341b2,5,1,2,32190,,,0,"WIP: Test add certs

Change-Id: Id1a1ae8a3c8733e1b464787b231e42028b923ff1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/772445/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/values.yaml'],1,82f66fcc4c3b9ae716b042dd9dee31ac2284bbf7,rgw-tls-2, certificates: true, certificates: false,1,1
openstack%2Frequirements~master~I79058d797a630dd9077638cc5096c57e93ec0369,openstack/requirements,master,I79058d797a630dd9077638cc5096c57e93ec0369,update constraint for dogpile.cache to new release 1.1.2,MERGED,2021-01-27 10:45:39.000000000,2021-01-27 15:22:02.000000000,2021-01-27 15:19:16.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-27 10:45:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eacaa28239bd24f61695cf09904f558a58eac331', 'message': 'update constraint for dogpile.cache to new release 1.1.2\n\nChange-Id: I79058d797a630dd9077638cc5096c57e93ec0369\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,772649,eacaa28239bd24f61695cf09904f558a58eac331,9,3,1,27954,,,0,"update constraint for dogpile.cache to new release 1.1.2

Change-Id: I79058d797a630dd9077638cc5096c57e93ec0369
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/772649/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eacaa28239bd24f61695cf09904f558a58eac331,,dogpile.cache===1.1.2,dogpile.cache===1.1.1,1,1
openstack%2Fkolla~stable%2Fstein~I1966f99523cfea913ee811ecdc70014039d19b46,openstack/kolla,stable/stein,I1966f99523cfea913ee811ecdc70014039d19b46,DNM: Test Stein builds,ABANDONED,2021-01-26 08:58:36.000000000,2021-01-27 15:08:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-26 08:58:36.000000000', 'files': ['.zuul.d/centos.yaml', 'docker/base/Dockerfile.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac9946800823320afb5c38ac25939eacb667640c', 'message': 'DNM: Test Stein builds\n\nChange-Id: I1966f99523cfea913ee811ecdc70014039d19b46\n'}]",0,772478,ac9946800823320afb5c38ac25939eacb667640c,3,1,1,14826,,,0,"DNM: Test Stein builds

Change-Id: I1966f99523cfea913ee811ecdc70014039d19b46
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/772478/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', 'docker/base/Dockerfile.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml']",4,ac9946800823320afb5c38ac25939eacb667640c,, # - kolla-ansible-oraclelinux-source # - kolla-ansible-oraclelinux-binary # - kolla-ansible-oraclelinux-source-ceph: # - files: ^docker\/(ceph|cinder)\/.*, - kolla-ansible-oraclelinux-source - kolla-ansible-oraclelinux-binary - kolla-ansible-oraclelinux-source-ceph: files: ^docker\/(ceph|cinder)\/.*,28,27
openstack%2Fcinder~master~I29bd3b74e8864f7ae02904a5402db2afe2dbd94b,openstack/cinder,master,I29bd3b74e8864f7ae02904a5402db2afe2dbd94b,NetApp SolidFire: Refactor DuplicateSfVolumeNames exception,MERGED,2021-01-10 01:24:21.000000000,2021-01-27 15:00:14.000000000,2021-01-27 14:58:15.000000000,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-01-10 01:24:21.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e2d30bd431d111b9e69fb93ca1360efe5e078b6', 'message': 'NetApp SolidFire: Refactor DuplicateSfVolumeNames exception\n\nThis patch refactors the DuplicateSfvolumeNames exception to\naddress the following issues:\n\n- Inherits from exception.Duplicate which inherits from\nCinderException directly rather than from VolumeDriverException\n- Naming pattern differs from the other SolidFire exceptions\n- Exception message differs in parts of the code.\n\nChange-Id: I29bd3b74e8864f7ae02904a5402db2afe2dbd94b\n'}]",0,770051,5e2d30bd431d111b9e69fb93ca1360efe5e078b6,33,3,1,30555,,,0,"NetApp SolidFire: Refactor DuplicateSfVolumeNames exception

This patch refactors the DuplicateSfvolumeNames exception to
address the following issues:

- Inherits from exception.Duplicate which inherits from
CinderException directly rather than from VolumeDriverException
- Naming pattern differs from the other SolidFire exceptions
- Exception message differs in parts of the code.

Change-Id: I29bd3b74e8864f7ae02904a5402db2afe2dbd94b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/770051/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,5e2d30bd431d111b9e69fb93ca1360efe5e078b6,,"class SolidFireDuplicateVolumeNames(SolidFireDriverException): message = _(""Volume name [%(vol_name)s] already exists "" ""in the SolidFire backend."") raise SolidFireDuplicateVolumeNames(vol_name=sf_volume_name) raise SolidFireDuplicateVolumeNames(vol_name=uuid)","class DuplicateSfVolumeNames(exception.Duplicate): message = _(""Detected more than one volume with name %(vol_name)s"") msg = ('Volume name [%s] already exists ' 'in SolidFire backend.') % sf_volume_name LOG.error(msg) raise DuplicateSfVolumeNames(message=msg) raise DuplicateSfVolumeNames(vol_name=uuid)",7,9
openstack%2Fmanila-ui~master~I80d95328b2ced927732b436ffe242f0e3e016248,openstack/manila-ui,master,I80d95328b2ced927732b436ffe242f0e3e016248,"Adds ""message_level"" to user messages panel",MERGED,2021-01-13 16:56:17.000000000,2021-01-27 14:28:09.000000000,2021-01-27 14:26:23.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-01-13 16:56:17.000000000', 'files': ['manila_ui/dashboards/admin/user_messages/tables.py', 'manila_ui/dashboards/project/user_messages/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/fc3146aad7b1b4aa25c827bd76b0e6e2098f0918', 'message': 'Adds ""message_level"" to user messages panel\n\n""Message Level"" column is added to user messages panel.\n\nCloses-Bug: #1911453\nChange-Id: I80d95328b2ced927732b436ffe242f0e3e016248\n'}]",0,770645,fc3146aad7b1b4aa25c827bd76b0e6e2098f0918,11,5,1,32531,,,0,"Adds ""message_level"" to user messages panel

""Message Level"" column is added to user messages panel.

Closes-Bug: #1911453
Change-Id: I80d95328b2ced927732b436ffe242f0e3e016248
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/45/770645/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/admin/user_messages/tables.py', 'manila_ui/dashboards/project/user_messages/tables.py']",2,fc3146aad7b1b4aa25c827bd76b0e6e2098f0918,bug/1911453," message_level = tables.Column( ""message_level"", verbose_name=_(""Message Level"") )",,9,2
openstack%2Fopenstacksdk~master~Ie6b8e5548b098e8ca5161ebdd74cd87d84ea6802,openstack/openstacksdk,master,Ie6b8e5548b098e8ca5161ebdd74cd87d84ea6802,Add 'attachment_update' to openstacksdk,ABANDONED,2020-10-07 06:26:14.000000000,2021-01-27 14:18:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-10-07 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dd72591d89fc0e15243f9b31ec29f148088eedbc', 'message': ""Add 'attachment_update' to openstacksdk\n\nChange-Id: Ie6b8e5548b098e8ca5161ebdd74cd87d84ea6802\n""}, {'number': 2, 'created': '2020-10-07 06:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d1c47be3a13e2871a479c2b71cfc364bf28415e', 'message': ""Add 'attachment_update' to openstacksdk\n\nChange-Id: Ie6b8e5548b098e8ca5161ebdd74cd87d84ea6802\n""}, {'number': 3, 'created': '2020-10-07 06:39:57.000000000', 'files': ['openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9f7de3c16c11c8f7b10c698bdd012307084f4fef', 'message': ""Add 'attachment_update' to openstacksdk\n\nChange-Id: Ie6b8e5548b098e8ca5161ebdd74cd87d84ea6802\n""}]",0,756436,9f7de3c16c11c8f7b10c698bdd012307084f4fef,6,2,3,30395,,,0,"Add 'attachment_update' to openstacksdk

Change-Id: Ie6b8e5548b098e8ca5161ebdd74cd87d84ea6802
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/36/756436/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_block_storage.py'],1,dd72591d89fc0e15243f9b31ec29f148088eedbc,," def attachment_update(self, attachment_id, body): payload = body data = proxy._json_response( self.block_storage.put('/attachments/{attachment_id}'.format( attachment_id=attachment_id, json=dict(attachment=payload)), error_message=""Error updating attachment {attachment_id} "" ""with {body}"".format( attachment_id=attachment_id, body=body))) return self._normalize_volume_attachment( self._get_and_munchify('attachment', data))",,13,0
openstack%2Foslo.messaging~master~Icf48ef72fbfff88dda2714b386dbbfe355dc1acb,openstack/oslo.messaging,master,Icf48ef72fbfff88dda2714b386dbbfe355dc1acb,Dropping lower constraints testing,MERGED,2020-12-18 14:09:52.000000000,2021-01-27 14:13:59.000000000,2021-01-06 00:37:22.000000000,"[{'_account_id': 8770}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 14:09:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/686a8b61826d9bed0a989e645a13c708c3e6343c', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Icf48ef72fbfff88dda2714b386dbbfe355dc1acb\n'}]",0,767736,686a8b61826d9bed0a989e645a13c708c3e6343c,9,3,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icf48ef72fbfff88dda2714b386dbbfe355dc1acb
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/36/767736/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,686a8b61826d9bed0a989e645a13c708c3e6343c,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.db~master~Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,openstack/oslo.db,master,Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65,Dropping lower constraints testing,MERGED,2020-12-18 14:08:16.000000000,2021-01-27 14:13:52.000000000,2021-01-11 17:42:24.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:08:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a53ec14ee073cb69e876c4ee29e10ba65b438076', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n'}]",0,767732,a53ec14ee073cb69e876c4ee29e10ba65b438076,10,3,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/32/767732/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a53ec14ee073cb69e876c4ee29e10ba65b438076,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.upgradecheck~master~I3eafc92ba7c7305b1a73d3f96c427ed12c96dbf7,openstack/oslo.upgradecheck,master,I3eafc92ba7c7305b1a73d3f96c427ed12c96dbf7,Dropping lower constraints testing,MERGED,2020-12-18 14:13:15.000000000,2021-01-27 14:13:49.000000000,2021-01-12 15:02:03.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:13:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/a962943bdaa746ad238f003f56556eb02d1ea8e8', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I3eafc92ba7c7305b1a73d3f96c427ed12c96dbf7\n'}]",0,767746,a962943bdaa746ad238f003f56556eb02d1ea8e8,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I3eafc92ba7c7305b1a73d3f96c427ed12c96dbf7
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/46/767746/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a962943bdaa746ad238f003f56556eb02d1ea8e8,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslotest~master~I63153d3258e10d232f86f7a8b652eb7028aab4c6,openstack/oslotest,master,I63153d3258e10d232f86f7a8b652eb7028aab4c6,Dropping lower constraints testing,MERGED,2020-12-18 14:14:50.000000000,2021-01-27 14:13:46.000000000,2021-01-12 15:07:56.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:14:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/8763180670dddf5ec6088df861204ff4700ca27a', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I63153d3258e10d232f86f7a8b652eb7028aab4c6\n'}]",0,767750,8763180670dddf5ec6088df861204ff4700ca27a,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I63153d3258e10d232f86f7a8b652eb7028aab4c6
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/50/767750/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8763180670dddf5ec6088df861204ff4700ca27a,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.log~master~I339b18e533c75283c58409a2cdce001e4b5fbb18,openstack/oslo.log,master,I339b18e533c75283c58409a2cdce001e4b5fbb18,Dropping lower constraints testing,MERGED,2020-12-18 14:09:25.000000000,2021-01-27 14:13:42.000000000,2021-01-12 16:28:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:09:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/bc37c62ce778ada2516b7d842219f0d207be9243', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I339b18e533c75283c58409a2cdce001e4b5fbb18\n'}]",0,767735,bc37c62ce778ada2516b7d842219f0d207be9243,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I339b18e533c75283c58409a2cdce001e4b5fbb18
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/35/767735/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bc37c62ce778ada2516b7d842219f0d207be9243,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.reports~master~Ice8c48ed23626538c9a9311a4392d18a3a795b07,openstack/oslo.reports,master,Ice8c48ed23626538c9a9311a4392d18a3a795b07,Dropping lower constraints testing,MERGED,2020-12-18 14:11:46.000000000,2021-01-27 14:13:36.000000000,2021-01-12 16:34:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-12-18 14:11:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/00f80b456000cebae83ccdbbc62ce1dbb443d76c', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ice8c48ed23626538c9a9311a4392d18a3a795b07\n'}]",0,767742,00f80b456000cebae83ccdbbc62ce1dbb443d76c,9,3,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ice8c48ed23626538c9a9311a4392d18a3a795b07
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/42/767742/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,00f80b456000cebae83ccdbbc62ce1dbb443d76c,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.cache~master~I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792,openstack/oslo.cache,master,I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792,Dropping lower constraints testing,MERGED,2020-12-18 14:06:55.000000000,2021-01-27 14:13:28.000000000,2021-01-12 16:41:32.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:06:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/bc9c70fd666f83feff77a3ac87ab82f9b450edac', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792\n'}]",0,767729,bc9c70fd666f83feff77a3ac87ab82f9b450edac,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/29/767729/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bc9c70fd666f83feff77a3ac87ab82f9b450edac,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.service~master~Ia531606ec2526ce1c6169296a8f254342870416d,openstack/oslo.service,master,Ia531606ec2526ce1c6169296a8f254342870416d,Dropping lower constraints testing,MERGED,2020-12-18 14:12:55.000000000,2021-01-27 14:13:25.000000000,2021-01-12 16:35:02.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:12:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/a88653d07787d1ea29ce7bd05bf73db42db48c94', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia531606ec2526ce1c6169296a8f254342870416d\n'}]",0,767745,a88653d07787d1ea29ce7bd05bf73db42db48c94,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia531606ec2526ce1c6169296a8f254342870416d
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/45/767745/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a88653d07787d1ea29ce7bd05bf73db42db48c94,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fosprofiler~master~Idfab7e1fe6223508ba0e49bb93365f7f5fd2ad04,openstack/osprofiler,master,Idfab7e1fe6223508ba0e49bb93365f7f5fd2ad04,Dropping lower constraints testing,MERGED,2020-12-18 14:15:12.000000000,2021-01-27 14:13:20.000000000,2021-01-12 16:56:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:15:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/bcca5bd4a8c3fed96dfcf01bf24233fa509e610b', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Idfab7e1fe6223508ba0e49bb93365f7f5fd2ad04\n'}]",0,767751,bcca5bd4a8c3fed96dfcf01bf24233fa509e610b,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Idfab7e1fe6223508ba0e49bb93365f7f5fd2ad04
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/51/767751/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bcca5bd4a8c3fed96dfcf01bf24233fa509e610b,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.concurrency~master~Ic086f5e9a7a8b9c9050ef27993f339d52ad1e236,openstack/oslo.concurrency,master,Ic086f5e9a7a8b9c9050ef27993f339d52ad1e236,Dropping lower constraints testing,MERGED,2020-12-18 14:07:24.000000000,2021-01-27 14:13:17.000000000,2021-01-12 16:55:54.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:07:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/7dcf9e9da3c7a2da3d722de004395eb0f7ec631d', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ic086f5e9a7a8b9c9050ef27993f339d52ad1e236\n'}]",0,767730,7dcf9e9da3c7a2da3d722de004395eb0f7ec631d,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ic086f5e9a7a8b9c9050ef27993f339d52ad1e236
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/30/767730/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7dcf9e9da3c7a2da3d722de004395eb0f7ec631d,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.config~master~I83e50eade2cf9924424d763421e464e559c16a08,openstack/oslo.config,master,I83e50eade2cf9924424d763421e464e559c16a08,Dropping lower constraints testing,MERGED,2021-01-11 16:29:40.000000000,2021-01-27 14:13:13.000000000,2021-01-13 11:35:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-11 16:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/ff6c3c470dfbab8dd7ab8f0793ca541707fd96d2', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I83e50eade2cf9924424d763421e464e559c16a08\n'}, {'number': 2, 'created': '2021-01-12 14:18:16.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/cefa4d47507acfd7a90f6a56b73b4795ba881a52', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I83e50eade2cf9924424d763421e464e559c16a08\n'}]",0,770147,cefa4d47507acfd7a90f6a56b73b4795ba881a52,12,2,2,27954,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I83e50eade2cf9924424d763421e464e559c16a08
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/47/770147/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ff6c3c470dfbab8dd7ab8f0793ca541707fd96d2,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.rootwrap~master~Iae7ce24bfd718a9a2102ce64e8dd2ad08d2b4dd6,openstack/oslo.rootwrap,master,Iae7ce24bfd718a9a2102ce64e8dd2ad08d2b4dd6,Dropping lower constraints testing,MERGED,2020-12-18 14:12:07.000000000,2021-01-27 14:13:08.000000000,2021-01-14 12:52:54.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:12:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/98e1888d7dcd3ce6bba3c44e99b9f919cddd09be', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Iae7ce24bfd718a9a2102ce64e8dd2ad08d2b4dd6\n'}]",0,767743,98e1888d7dcd3ce6bba3c44e99b9f919cddd09be,14,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Iae7ce24bfd718a9a2102ce64e8dd2ad08d2b4dd6
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/43/767743/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,98e1888d7dcd3ce6bba3c44e99b9f919cddd09be,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fstevedore~master~I62d911111b54976a9df726c48f593a52e275fe6c,openstack/stevedore,master,I62d911111b54976a9df726c48f593a52e275fe6c,Dropping lower constraints testing,MERGED,2020-12-18 14:15:36.000000000,2021-01-27 14:13:03.000000000,2021-01-14 12:59:14.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:15:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/90b5daaa9c48edf9ef1b09c31163d135b71155b3', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I62d911111b54976a9df726c48f593a52e275fe6c\n'}]",0,767752,90b5daaa9c48edf9ef1b09c31163d135b71155b3,16,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I62d911111b54976a9df726c48f593a52e275fe6c
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/52/767752/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,90b5daaa9c48edf9ef1b09c31163d135b71155b3,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Ffuturist~master~I64c8320d0cdd473d54d6de6050be4d60d92a7c5f,openstack/futurist,master,I64c8320d0cdd473d54d6de6050be4d60d92a7c5f,Dropping lower constraints testing,MERGED,2020-12-18 14:06:29.000000000,2021-01-27 14:13:01.000000000,2021-01-14 13:05:49.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:06:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/futurist/commit/bd2356bfcf2259649a533b9b29239841a8ec9006', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I64c8320d0cdd473d54d6de6050be4d60d92a7c5f\n'}]",0,767728,bd2356bfcf2259649a533b9b29239841a8ec9006,14,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I64c8320d0cdd473d54d6de6050be4d60d92a7c5f
",git fetch https://review.opendev.org/openstack/futurist refs/changes/28/767728/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bd2356bfcf2259649a533b9b29239841a8ec9006,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.context~master~If2a9cf05f382ae28846b95e5bb29669ee57f9bcd,openstack/oslo.context,master,If2a9cf05f382ae28846b95e5bb29669ee57f9bcd,Dropping lower constraints testing,MERGED,2020-12-18 14:07:48.000000000,2021-01-27 14:12:59.000000000,2021-01-25 23:08:01.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:07:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/3542beac2307333340a7a92af442f669502d52be', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd\n'}]",0,767731,3542beac2307333340a7a92af442f669502d52be,16,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/31/767731/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3542beac2307333340a7a92af442f669502d52be,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fopenstack-doc-tools~master~Ic460410f180a49a533559c7a18bcf6b7f4850f76,openstack/openstack-doc-tools,master,Ic460410f180a49a533559c7a18bcf6b7f4850f76,Dropping lower constraints testing,MERGED,2020-12-18 14:04:27.000000000,2021-01-27 14:10:54.000000000,2021-01-12 15:08:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:04:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/bc5023a13cfe7ad885e20bf70f2749522c3139f6', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ic460410f180a49a533559c7a18bcf6b7f4850f76\n'}]",0,767723,bc5023a13cfe7ad885e20bf70f2749522c3139f6,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ic460410f180a49a533559c7a18bcf6b7f4850f76
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/23/767723/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bc5023a13cfe7ad885e20bf70f2749522c3139f6,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fcastellan~master~I1d4de15d017a306e64df8447cf1bd64c70cf361a,openstack/castellan,master,I1d4de15d017a306e64df8447cf1bd64c70cf361a,Dropping lower constraints testing,MERGED,2020-12-18 14:05:40.000000000,2021-01-27 14:10:51.000000000,2021-01-12 15:15:06.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:05:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/castellan/commit/f638cdf480055672119e769285a692b6489fb2f7', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I1d4de15d017a306e64df8447cf1bd64c70cf361a\n'}]",0,767726,f638cdf480055672119e769285a692b6489fb2f7,10,3,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I1d4de15d017a306e64df8447cf1bd64c70cf361a
",git fetch https://review.opendev.org/openstack/castellan refs/changes/26/767726/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f638cdf480055672119e769285a692b6489fb2f7,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fautomaton~master~I2706e8af350d07e51169f8bc13c7404d4696b2a2,openstack/automaton,master,I2706e8af350d07e51169f8bc13c7404d4696b2a2,Dropping lower constraints testing,MERGED,2020-12-18 14:05:18.000000000,2021-01-27 14:10:48.000000000,2021-01-12 16:15:20.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:05:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/automaton/commit/61a16f1d81dabc7575e0991ec4230e466edf0ec2', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I2706e8af350d07e51169f8bc13c7404d4696b2a2\n'}]",0,767725,61a16f1d81dabc7575e0991ec4230e466edf0ec2,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I2706e8af350d07e51169f8bc13c7404d4696b2a2
",git fetch https://review.opendev.org/openstack/automaton refs/changes/25/767725/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,61a16f1d81dabc7575e0991ec4230e466edf0ec2,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.utils~master~Ia02154a1eb04434658a21adf82599ae55302e310,openstack/oslo.utils,master,Ia02154a1eb04434658a21adf82599ae55302e310,Dropping lower constraints testing,MERGED,2020-12-18 14:13:38.000000000,2021-01-27 14:10:44.000000000,2021-01-12 16:21:41.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:13:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n'}]",0,767747,c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia02154a1eb04434658a21adf82599ae55302e310
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/47/767747/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fdebtcollector~master~I36fb12c92823d27e42975d4dc683ad8d99191a77,openstack/debtcollector,master,I36fb12c92823d27e42975d4dc683ad8d99191a77,Dropping lower constraints testing,MERGED,2020-12-18 14:06:04.000000000,2021-01-27 14:10:41.000000000,2021-01-12 16:22:20.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:06:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/ef848c35482bb3a97c366a6659350ba977ab121b', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I36fb12c92823d27e42975d4dc683ad8d99191a77\n'}]",0,767727,ef848c35482bb3a97c366a6659350ba977ab121b,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I36fb12c92823d27e42975d4dc683ad8d99191a77
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/27/767727/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ef848c35482bb3a97c366a6659350ba977ab121b,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Ftaskflow~master~Ide5deeb1313552e76468281971f72b7db11d3801,openstack/taskflow,master,Ide5deeb1313552e76468281971f72b7db11d3801,Dropping lower constraints testing,MERGED,2020-12-18 14:16:02.000000000,2021-01-27 14:10:37.000000000,2021-01-12 16:22:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:16:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/95e06997a27528de4a04fb2e830254f2e0f519a2', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ide5deeb1313552e76468281971f72b7db11d3801\n'}]",0,767753,95e06997a27528de4a04fb2e830254f2e0f519a2,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ide5deeb1313552e76468281971f72b7db11d3801
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/53/767753/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95e06997a27528de4a04fb2e830254f2e0f519a2,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Foslo.serialization~master~Ie53b809ab031525958b58730a12cb37d0bdf5c82,openstack/oslo.serialization,master,Ie53b809ab031525958b58730a12cb37d0bdf5c82,Dropping lower constraints testing,MERGED,2020-12-18 14:12:28.000000000,2021-01-27 14:10:32.000000000,2021-01-12 16:22:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-18 14:12:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/3799d180978c4354a18815f93ebdceb3104d8fef', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ie53b809ab031525958b58730a12cb37d0bdf5c82\n'}]",0,767744,3799d180978c4354a18815f93ebdceb3104d8fef,8,2,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ie53b809ab031525958b58730a12cb37d0bdf5c82
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/44/767744/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3799d180978c4354a18815f93ebdceb3104d8fef,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Fansible-collections-openstack~master~I990a68d4e24c3c3953010e4053c73454e56f0d64,openstack/ansible-collections-openstack,master,I990a68d4e24c3c3953010e4053c73454e56f0d64,Fixed check for None in os_port,MERGED,2021-01-11 12:34:46.000000000,2021-01-27 14:04:10.000000000,2021-01-27 14:04:10.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 12:34:46.000000000', 'files': ['plugins/modules/port.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e4a223d1603d4b62c48c572c6c101bbe49e86d60', 'message': 'Fixed check for None in os_port\n\nFix bug introduced in commit cac93cb\nhttps://github.com/ansible/ansible/commit/cac93cbd1f041eac5045250a6663644cdbba3df8\n\nTask: 40928\nStory: 2008173\nChange-Id: I990a68d4e24c3c3953010e4053c73454e56f0d64\n'}]",1,770115,e4a223d1603d4b62c48c572c6c101bbe49e86d60,12,3,1,32962,,,0,"Fixed check for None in os_port

Fix bug introduced in commit cac93cb
https://github.com/ansible/ansible/commit/cac93cbd1f041eac5045250a6663644cdbba3df8

Task: 40928
Story: 2008173
Change-Id: I990a68d4e24c3c3953010e4053c73454e56f0d64
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/15/770115/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/port.py'],1,e4a223d1603d4b62c48c572c6c101bbe49e86d60,story_2008173_fix_none_check_in_os_port, if module.params[key]:, if not module.params[key]:,1,1
openstack%2Fnova~master~I73305e82da5d8da548961b801a8e75fb0e8c4cf1,openstack/nova,master,I73305e82da5d8da548961b801a8e75fb0e8c4cf1,libvirt: Drop support for Xen,MERGED,2020-07-27 13:47:40.000000000,2021-01-27 13:50:21.000000000,2021-01-27 13:46:58.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-07-27 13:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcaaa027f475061cf049ccd8be81108c0f539493', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-31 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f8d4a355d1c95e04c3c57ac95d98dc649c4a569', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-04 13:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/254ee466ca8cc9f025058b8f21c393deffcc6455', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-05 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da422e521027f1610faa88176df8c3822f22bb0a', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-31 11:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b545bf69ce46bca49d954ce6e3371c8b9ef70f97', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-31 13:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8171722961f4cd79fe9eab79dd3b0d2e78d6b031', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-01-18 10:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b6ffdac0c311518241a4040f2493688632a707', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-01-18 13:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/023ed7c90bf9a4ed2e17b89533f6ae7eed5f530c', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-01-18 16:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7389c34ae1c564170ffd282aab5b99402a889e5', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2021-01-22 10:07:07.000000000', 'files': ['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'nova/virt/libvirt/host.py', 'doc/source/user/feature-matrix-gp.ini', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/conf/libvirt.py', 'nova/virt/libvirt/utils.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'doc/source/user/rescue.rst', 'nova/virt/hyperv/hostops.py', 'nova/virt/libvirt/imagebackend.py', 'doc/source/admin/configuration/hypervisors.rst', 'nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'nova/virt/libvirt/config.py', 'releasenotes/notes/drop-libvirt-xen-support-aef7e97b8491af69.yaml', 'nova/tests/unit/privsep/test_libvirt.py', 'doc/source/user/support-matrix.ini', 'nova/tests/unit/virt/libvirt/fake_libvirt_data.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/blockinfo.py', 'nova/exception.py', 'nova/virt/libvirt/volume/volume.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'doc/source/user/feature-matrix-nfv.ini', 'doc/source/admin/arch.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst', 'doc/source/user/feature-matrix-hpc.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/3a390c2c8238409c00acc08fad725d46fa02c0ad', 'message': ""libvirt: Drop support for Xen\n\nThis hasn't been validated upstream and there doesn't appear to be\nanyone using it. It's time to drop support for this. This is mostly test\nand documentation damage, though there is some other cleanup going on,\nlike the removal of the essentially noop 'pick_disk_driver_name' helper.\n\nChange-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,743231,3a390c2c8238409c00acc08fad725d46fa02c0ad,104,16,10,15334,,,0,"libvirt: Drop support for Xen

This hasn't been validated upstream and there doesn't appear to be
anyone using it. It's time to drop support for this. This is mostly test
and documentation damage, though there is some other cleanup going on,
like the removal of the essentially noop 'pick_disk_driver_name' helper.

Change-Id: I73305e82da5d8da548961b801a8e75fb0e8c4cf1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/743231/10 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisor-xen-libvirt.rst', 'nova/virt/libvirt/host.py', 'doc/source/user/feature-matrix-gp.ini', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/conf/libvirt.py', 'nova/virt/libvirt/utils.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/schedulers.rst', 'nova/tests/unit/virt/libvirt/test_utils.py', 'doc/source/user/rescue.rst', 'nova/virt/hyperv/hostops.py', 'nova/virt/libvirt/imagebackend.py', 'doc/source/admin/configuration/hypervisors.rst', 'nova/virt/libvirt/vif.py', 'nova/privsep/libvirt.py', 'nova/virt/libvirt/config.py', 'releasenotes/notes/drop-libvirt-xen-support-aef7e97b8491af69.yaml', 'nova/tests/unit/privsep/test_libvirt.py', 'doc/source/user/support-matrix.ini', 'nova/tests/unit/virt/libvirt/fake_libvirt_data.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/blockinfo.py', 'nova/exception.py', 'nova/virt/libvirt/volume/volume.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'doc/source/user/feature-matrix-nfv.ini', 'doc/source/admin/arch.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst', 'doc/source/admin/configuration/hypervisor-xen-api.rst', 'doc/source/user/feature-matrix-hpc.ini']",34,bcaaa027f475061cf049ccd8be81108c0f539493,change-754700-5,,[target.libvirt-xen] title=libvirt+xen link=https://wiki.openstack.org/wiki/ThirdPartySystems/XenProject_CI libvirt-xen=missinglibvirt-xen=unknown,173,1229
openstack%2Fironic~master~I5b6da854ae0214141ae25a17b8ea3c7874636372,openstack/ironic,master,I5b6da854ae0214141ae25a17b8ea3c7874636372,Add centralized secure boot documentation,MERGED,2021-01-25 16:49:37.000000000,2021-01-27 13:49:36.000000000,2021-01-27 13:36:39.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-25 16:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1249362943791b7b438b7cc8f39268b8b60b3de3', 'message': 'Add centralized secure boot documentation\n\nMove the bits from iLO and iRMC, clean them up a bit.\n\nChange-Id: I5b6da854ae0214141ae25a17b8ea3c7874636372\n'}, {'number': 2, 'created': '2021-01-26 16:15:59.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'doc/source/install/include/boot-mode.inc', 'doc/source/admin/drivers/irmc.rst', 'doc/source/admin/security.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/04400eea472f6e24af4558beb87a45a6b5b7f5a3', 'message': 'Add centralized secure boot documentation\n\nMove the bits from iLO and iRMC, clean them up a bit.\n\nChange-Id: I5b6da854ae0214141ae25a17b8ea3c7874636372\n'}]",0,772376,04400eea472f6e24af4558beb87a45a6b5b7f5a3,12,3,2,10239,,,0,"Add centralized secure boot documentation

Move the bits from iLO and iRMC, clean them up a bit.

Change-Id: I5b6da854ae0214141ae25a17b8ea3c7874636372
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/772376/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'doc/source/install/include/boot-mode.inc', 'doc/source/admin/drivers/irmc.rst', 'doc/source/admin/security.rst']",4,1249362943791b7b438b7cc8f39268b8b60b3de3,story/2008270,"- booting machines in `UEFI secure boot mode`_, rather than BIOS mode, to.. _secure-boot: UEFI secure boot mode ===================== Some hardware types support turning `UEFI secure boot`_ dynamically when deploying an instance. Currently these are :doc:`/admin/drivers/ilo` and :doc:`/admin/drivers/irmc`. Support for the UEFI secure boot is declared by adding the ``secure_boot`` capability in the ``capabilities`` parameter in the ``properties`` field of a node. ``secure_boot`` is a boolean parameter and takes value as ``true`` or ``false``. To enable ``secure_boot`` on a node add it to ``capabilities``:: baremetal node set <node> --property capabilities='secure_boot:true' Alternatively use :doc:`/admin/inspection` to automatically populate the secure boot capability. .. warning:: UEFI secure boot only works in UEFI boot mode, see :ref:`boot_mode_support` for how to turn it on and off. Compatible images ----------------- Use element ``ubuntu-signed`` or ``fedora`` to build signed deploy ISO and user images with `diskimage-builder <https://pypi.org/project/diskimage-builder>`_. The below command creates files named cloud-image-boot.iso, cloud-image.initrd, cloud-image.vmlinuz and cloud-image.qcow2 in the current working directory:: cd <path-to-diskimage-builder> ./bin/disk-image-create -o cloud-image ubuntu-signed baremetal iso Ensure the public key of the signed image is loaded into bare metal to deploy signed images. Enabling with OpenStack Compute ------------------------------- Nodes having ``secure_boot`` set to ``true`` may be requested by adding an ``extra_spec`` to the nova flavor:: openstack flavor set <flavor> --property capabilities:secure_boot=""true"" openstack server create --flavor <flavor> --image <image> instance-1 If ``capabilities`` is used in ``extra_spec`` as above, nova scheduler (``ComputeCapabilitiesFilter``) will match only ironic nodes which have the ``secure_boot`` set appropriately in ``properties/capabilities``. It will filter out rest of the nodes. The above facility for matching in nova can be used in heterogeneous environments where there is a mix of machines supporting and not supporting UEFI secure boot, and operator wants to provide a choice to the user regarding secure boot. If the flavor doesn't contain ``secure_boot`` then nova scheduler will not consider secure boot mode as a placement criteria, hence user may get a secure boot capable machine that matches with user specified flavors but deployment would not use its secure boot capability. Secure boot deploy would happen only when it is explicitly specified through flavor. Enabling standalone ------------------- To request secure boot for an instance in standalone mode (without OpenStack Compute), you need to add the capability directly to the node's ``instance_info``:: baremetal node set <node> --instance-info capabilities='{""secure_boot"": ""true""}' .. _UEFI secure boot: https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface#Secure_boot","- booting machines in :ref:`iLO UEFI Secure Boot Support`, rather than BIOS mode, to",94,81
openstack%2Fironic~master~I37a686e6f48a422d38ac5921a188d894519b7530,openstack/ironic,master,I37a686e6f48a422d38ac5921a188d894519b7530,Add a few words about UEFI user images,MERGED,2021-01-26 17:35:03.000000000,2021-01-27 13:46:46.000000000,2021-01-27 13:36:10.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-01-26 17:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e800e8fc2444f961fca4cccf54ab727d40952f2', 'message': 'Add a few words about UEFI user images\n\nChange-Id: I37a686e6f48a422d38ac5921a188d894519b7530\n'}, {'number': 2, 'created': '2021-01-26 20:23:09.000000000', 'files': ['doc/source/install/creating-images.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c4c7a869a47d5f9d3bf3244dcb88420189adb1d', 'message': 'Add a few words about UEFI user images\n\nChange-Id: I37a686e6f48a422d38ac5921a188d894519b7530\n'}]",0,772577,4c4c7a869a47d5f9d3bf3244dcb88420189adb1d,10,3,2,10239,,,0,"Add a few words about UEFI user images

Change-Id: I37a686e6f48a422d38ac5921a188d894519b7530
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/772577/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/creating-images.rst'],1,5e800e8fc2444f961fca4cccf54ab727d40952f2,uefi-images,Many distributions publish their own cloud images. These are usually whole disk images that are built for legacy boot mode (not UEFI). … with an EFI partition: .. code-block:: console $ disk-image-create ubuntu vm block-device-efi dhcp-all-interfaces -o my-image ,,9,0
openstack%2Fironic-lib~master~Ie9809b3e4fe2bea6b66ee95c442111942e85d618,openstack/ironic-lib,master,Ie9809b3e4fe2bea6b66ee95c442111942e85d618,Handle EBRs and tiny partitions when removing metadata,MERGED,2021-01-21 10:41:34.000000000,2021-01-27 13:46:33.000000000,2021-01-27 13:35:52.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-01-21 10:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a48802aa64424dc620582dd61cac6cb7b9160fcd', 'message': ""Handle EBRs and tiny partitions when removing metadata\n\nExtended boot records (EBRs) are used in the MSDOS partitioning\nscheme to manage extended partitions. EBRs are small partitions\nthemselves and Ironic will therefore treat them like any other\npartition during cleaning. Since EBRs are smaller than a GPT\n(33 sectors), dd'ing 33 sectors will fail. This patch proposes\na fix to handle EBRs (and other tiny paritions) by adjusting\nthe number of blocks writtent to be the partition size at max.\n\nStory: #2008539\nTask: #41628\nChange-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618\n""}, {'number': 2, 'created': '2021-01-25 17:59:57.000000000', 'files': ['releasenotes/notes/erase-tiny-partitions-c408a3a4afe60d44.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/9a60d3853fc5b36cd3715e9419568cc9c51f5a8e', 'message': ""Handle EBRs and tiny partitions when removing metadata\n\nExtended boot records (EBRs) are used in the MSDOS partitioning\nscheme to manage extended partitions. EBRs are small partitions\nthemselves and Ironic will therefore treat them like any other\npartition during cleaning. Since EBRs are smaller than a GPT\n(33 sectors), dd'ing 33 sectors will fail. This patch proposes\na fix to handle EBRs (and other tiny paritions) by adjusting\nthe number of blocks writtent to be the partition size at max.\n\nStory: #2008539\nTask: #41628\nChange-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618\n""}]",1,771788,9a60d3853fc5b36cd3715e9419568cc9c51f5a8e,14,3,2,11292,,,0,"Handle EBRs and tiny partitions when removing metadata

Extended boot records (EBRs) are used in the MSDOS partitioning
scheme to manage extended partitions. EBRs are small partitions
themselves and Ironic will therefore treat them like any other
partition during cleaning. Since EBRs are smaller than a GPT
(33 sectors), dd'ing 33 sectors will fail. This patch proposes
a fix to handle EBRs (and other tiny paritions) by adjusting
the number of blocks writtent to be the partition size at max.

Story: #2008539
Task: #41628
Change-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/88/771788/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/erase-tiny-partitions-c408a3a4afe60d44.yaml', 'ironic_lib/disk_utils.py']",2,a48802aa64424dc620582dd61cac6cb7b9160fcd,story_2008539," # Overwrite the Primary GPT, catch very small partitions (like EBRs) dd_count = 'count=33' dev_size = get_dev_block_size(dev) if dev_size < 33: dd_count = 'count=%s' % dev_size utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, dd_count, # Overwrite the Secondary GPT, do this only if there could be one if dev_size > 33: gpt_backup = dev_size - 33 dd_seek = 'seek=%i' % gpt_backup utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', dd_seek, run_as_root=True, use_standard_locale=True) "," gpt_backup = get_dev_block_size(dev) - 33 dd_seek = 'seek=%i' % gpt_backup utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', dd_seek, run_as_root=True, use_standard_locale=True)",21,5
openstack%2Fnova~master~I06f95d68fcf20d40096b0ee120fe780097d82320,openstack/nova,master,I06f95d68fcf20d40096b0ee120fe780097d82320,zuul: Allow encryption tests in nova-ceph-multistore again,MERGED,2021-01-21 15:45:20.000000000,2021-01-27 13:45:31.000000000,2021-01-27 13:35:10.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 15:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7c7f50d2b54fb4b171df1b330033fc57ae87213', 'message': 'zuul: Allow encryption tests in nova-ceph-multistore again\n\nI50d3b874b7e0676436c434be6c059f221041560f should avoid any image\ncreation from breaking these tests while\n[workarounds]/never_download_image_if_on_rbd remains set in this job.\n\nChange-Id: I06f95d68fcf20d40096b0ee120fe780097d82320\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/771835\n'}, {'number': 2, 'created': '2021-01-22 10:16:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b4db089b22d57fc8356b967ecd8917c88d6e19e', 'message': 'zuul: Allow encryption tests in nova-ceph-multistore again\n\nI50d3b874b7e0676436c434be6c059f221041560f and\nIee0d863770def63df8601222265dc22226457c0c should avoid any image\ncreation from breaking these tests while\n[workarounds]/never_download_image_if_on_rbd remains set in this job.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/771958\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/771835\n\nRelated-Bug: #1912607\nChange-Id: I06f95d68fcf20d40096b0ee120fe780097d82320\n'}]",0,771837,6b4db089b22d57fc8356b967ecd8917c88d6e19e,38,4,2,10135,,,0,"zuul: Allow encryption tests in nova-ceph-multistore again

I50d3b874b7e0676436c434be6c059f221041560f and
Iee0d863770def63df8601222265dc22226457c0c should avoid any image
creation from breaking these tests while
[workarounds]/never_download_image_if_on_rbd remains set in this job.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/771958
Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/771835

Related-Bug: #1912607
Change-Id: I06f95d68fcf20d40096b0ee120fe780097d82320
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/771837/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c7c7f50d2b54fb4b171df1b330033fc57ae87213,bug/1912607,, tempest_black_regex: .*encrypted_cinder_volumes.*|.*test_attach_cloned_encrypted_volume.*,0,1
openstack%2Fansible-collections-openstack~master~Idc3c50e9857b9bc87767cc93096fe7a8b24b298e,openstack/ansible-collections-openstack,master,Idc3c50e9857b9bc87767cc93096fe7a8b24b298e,New keypair_info module,MERGED,2021-01-14 08:54:50.000000000,2021-01-27 13:41:47.000000000,2021-01-27 13:41:47.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-14 08:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/88dfea81131f936b1bff3a70206641c73c0c669e', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 2, 'created': '2021-01-14 09:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8fd888c955b66df77ac38d5d394022f592f6b62c', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 3, 'created': '2021-01-14 10:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/916837bf05610ec0d593ebe6a0682e6a69fa4ec8', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 4, 'created': '2021-01-14 10:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d8460f43ad5246e303f47a3ea46ae6b00e06edb7', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 5, 'created': '2021-01-19 06:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/86dc42893818f0b5ef46b3bf22ab6bde0116155e', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 6, 'created': '2021-01-19 08:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/503283bb16e69c511ce224cd90e5d55fe4cff082', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 7, 'created': '2021-01-19 10:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/111950bd34c746444453eae97556d95127d0fdd1', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 8, 'created': '2021-01-19 14:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b242f7e0fdc908e547d65dfbb411b927ec4d8d7e', 'message': 'New keypairs_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 9, 'created': '2021-01-20 15:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e92442e9d41cbc792cd40305151807190ae3941f', 'message': 'New keypair_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}, {'number': 10, 'created': '2021-01-25 10:58:56.000000000', 'files': ['meta/runtime.yml', 'ci/roles/keypair/tasks/main.yml', 'plugins/modules/keypair_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bca980c115183e97dfab2e267c3268edb73c13b2', 'message': 'New keypair_info module\n\nChange-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e\n'}]",28,770760,bca980c115183e97dfab2e267c3268edb73c13b2,45,4,10,32677,,,0,"New keypair_info module

Change-Id: Idc3c50e9857b9bc87767cc93096fe7a8b24b298e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/60/770760/10 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/keypairs_info.py', 'meta/runtime.yml']",2,88dfea81131f936b1bff3a70206641c73c0c669e,os_keypair_info_module, - keypairs_info,,136,0
openstack%2Fopenstack-ansible~master~Ife900f813b0282bf61ae6ce74a7d4c916ea8664e,openstack/openstack-ansible,master,Ife900f813b0282bf61ae6ce74a7d4c916ea8664e,Add to bind-to-mgmt upgrade release note for older deployments,ABANDONED,2021-01-27 13:05:59.000000000,2021-01-27 13:12:52.000000000,,[{'_account_id': 31542}],"[{'number': 1, 'created': '2021-01-27 13:05:59.000000000', 'files': ['releasenotes/notes/bind-to-mgmt-b755a8a390ee970e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7396557db73d1b005b810cfdd6d7f967aa2cc0d6', 'message': ""Add to bind-to-mgmt upgrade release note for older deployments\n\nHaving upgraded an older deployment through to Victoria we\nencountered an issue with the Ansible RabbitMQ modules and the\nrabbitmqctl tool following the bind-to-mgmt config changes. This\nwas caused by the presence of old '127.0.1.1' host records which\nare no longer added or managed by OSA.\n\nThis release note adds an extra word of warning for those with\nlong-standing OSA deployments.\n\nChange-Id: Ife900f813b0282bf61ae6ce74a7d4c916ea8664e\n""}]",0,772688,7396557db73d1b005b810cfdd6d7f967aa2cc0d6,3,1,1,31542,,,0,"Add to bind-to-mgmt upgrade release note for older deployments

Having upgraded an older deployment through to Victoria we
encountered an issue with the Ansible RabbitMQ modules and the
rabbitmqctl tool following the bind-to-mgmt config changes. This
was caused by the presence of old '127.0.1.1' host records which
are no longer added or managed by OSA.

This release note adds an extra word of warning for those with
long-standing OSA deployments.

Change-Id: Ife900f813b0282bf61ae6ce74a7d4c916ea8664e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/772688/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bind-to-mgmt-b755a8a390ee970e.yaml'],1,7396557db73d1b005b810cfdd6d7f967aa2cc0d6,vic-reno," Older deployments should check for the presence of legacy '127.0.1.1' entries in their /etc/hosts files. These will need to be removed before upgrading, particularly on RabbitMQ hosts and containers.",,3,0
openstack%2Fopenstack-ansible~master~I02aa3b85582301a93ccb5ad7c921bd3c10a787db,openstack/openstack-ansible,master,I02aa3b85582301a93ccb5ad7c921bd3c10a787db,Install rsync for CentOS bootstrap,MERGED,2021-01-26 10:40:06.000000000,2021-01-27 12:59:39.000000000,2021-01-27 12:57:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-26 10:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/09e9d3aa5c640f77d786359c3d99db5474896bf2', 'message': 'Install rsync for CentOS bootstrap\n\nWe use rsync to copy selinux modules into ansible venv,\nbut never care about installing rsync for that.\nWe also drop hook made for compatability with CentOS 7\n\nCloses-Bug: #1913204\nChange-Id: I02aa3b85582301a93ccb5ad7c921bd3c10a787db\n'}, {'number': 2, 'created': '2021-01-26 12:31:37.000000000', 'files': ['scripts/scripts-library.sh', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7293771b72b4b5afa0b16cc9a89bda5f8c1e6320', 'message': 'Install rsync for CentOS bootstrap\n\nWe use rsync to copy selinux modules into ansible venv,\nbut never care about installing rsync for that.\nWe also drop hook made for compatability with CentOS 7\n\nCloses-Bug: #1913204\nChange-Id: I02aa3b85582301a93ccb5ad7c921bd3c10a787db\n'}]",0,772495,7293771b72b4b5afa0b16cc9a89bda5f8c1e6320,11,3,2,28619,,,0,"Install rsync for CentOS bootstrap

We use rsync to copy selinux modules into ansible venv,
but never care about installing rsync for that.
We also drop hook made for compatability with CentOS 7

Closes-Bug: #1913204
Change-Id: I02aa3b85582301a93ccb5ad7c921bd3c10a787db
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/772495/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/scripts-library.sh', 'scripts/bootstrap-ansible.sh']",2,09e9d3aa5c640f77d786359c3d99db5474896bf2,bug/1913204, python3-virtualenv rsync, python3-virtualenv,1,5
openstack%2Fbifrost~master~I09ab8fedb8ae45af607ea7eca9145605c16d31f2,openstack/bifrost,master,I09ab8fedb8ae45af607ea7eca9145605c16d31f2,Enable ironic debug logs by default,MERGED,2021-01-26 16:53:15.000000000,2021-01-27 12:59:37.000000000,2021-01-27 12:58:02.000000000,"[{'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-01-26 16:53:15.000000000', 'files': ['releasenotes/notes/ironic-debug-0c64d584f4385c1c.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d84bfac02d8a1fba2576fbd68d23ab7dd1e27c54', 'message': ""Enable ironic debug logs by default\n\nIt's pretty impossible to debug anything without them. Particularly\nsecurity-conscious operators can set ironic_debug=False.\n\nChange-Id: I09ab8fedb8ae45af607ea7eca9145605c16d31f2\n""}]",0,772572,d84bfac02d8a1fba2576fbd68d23ab7dd1e27c54,9,4,1,10239,,,0,"Enable ironic debug logs by default

It's pretty impossible to debug anything without them. Particularly
security-conscious operators can set ironic_debug=False.

Change-Id: I09ab8fedb8ae45af607ea7eca9145605c16d31f2
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/72/772572/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic-debug-0c64d584f4385c1c.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml']",3,d84bfac02d8a1fba2576fbd68d23ab7dd1e27c54,ironic-debug,ironic_debug: true,,7,1
openstack%2Ftripleo-common~stable%2Fvictoria~Ie7a97fd9dae85870db3c41d60f376934b089044c,openstack/tripleo-common,stable/victoria,Ie7a97fd9dae85870db3c41d60f376934b089044c,Raise error when old network config templates are used,MERGED,2021-01-11 06:20:27.000000000,2021-01-27 12:54:35.000000000,2021-01-27 12:50:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 06:20:27.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b96aa778d74ab22f40c551fe0c88ca809a1b7f9', 'message': ""Raise error when old network config templates are used\n\nWhen using 'NetworkConfigWithAnsible: False', users still need to\nconvert the old heat config templates using SoftwareConfig\nresources with [1]. Raise a proper error rather than the\ncurrent AttributeError.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/tools/convert_nic_config.py\n\nChange-Id: Ie7a97fd9dae85870db3c41d60f376934b089044c\n(cherry picked from commit 3c0966f671ce8255679ba31325f97e30b13ca8e1)\n""}]",0,770024,8b96aa778d74ab22f40c551fe0c88ca809a1b7f9,22,3,1,8833,,,0,"Raise error when old network config templates are used

When using 'NetworkConfigWithAnsible: False', users still need to
convert the old heat config templates using SoftwareConfig
resources with [1]. Raise a proper error rather than the
current AttributeError.

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/tools/convert_nic_config.py

Change-Id: Ie7a97fd9dae85870db3c41d60f376934b089044c
(cherry picked from commit 3c0966f671ce8255679ba31325f97e30b13ca8e1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/770024/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,8b96aa778d74ab22f40c551fe0c88ca809a1b7f9,," if role_network_config is None: raise ValueError( 'Old network config templates are possibly used, ' 'Please convert them before proceeding.') ",,5,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I73ac1c405e8a3539937a5578bb003cba0b935d94,openstack/tripleo-ansible,stable/ussuri,I73ac1c405e8a3539937a5578bb003cba0b935d94,Don't set capabilities in priviledge mode,MERGED,2021-01-27 03:34:37.000000000,2021-01-27 12:50:47.000000000,2021-01-27 12:50:47.000000000,"[{'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 03:34:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/83c644c9ed4a206b9c3fd112b05dabcebbad9725', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\n\nNote:\n* tripleo_update_trusted_cas role is only available in master\n  but not in victora or ussuri so removing this role molecule file\n  from cherry-pick.\n* It also fixes openvswitch package name otherwise it will be blocked,\n  taken from https://review.opendev.org/c/openstack/tripleo-ansible/+/764360\n  still blocked due to this patch.\n\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}]",0,772548,83c644c9ed4a206b9c3fd112b05dabcebbad9725,8,4,1,12393,,,0,"Don't set capabilities in priviledge mode

When priviledge mode is set, don't add any capabilities as they
are included.
Use 1.6.4 podman because 2.0.5 rootless doesn't work with
systemd [1]
Disable Selinux on host.
[1] https://github.com/containers/podman/issues/8965
Closes-Bug: #1910970

Note:
* tripleo_update_trusted_cas role is only available in master
  but not in victora or ussuri so removing this role molecule file
  from cherry-pick.
* It also fixes openvswitch package name otherwise it will be blocked,
  taken from https://review.opendev.org/c/openstack/tripleo-ansible/+/764360
  still blocked due to this patch.

Change-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94
(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/772548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml']",21,83c644c9ed4a206b9c3fd112b05dabcebbad9725,caps-stable/victoria-stable/ussuri,, capabilities: - ALL,17,44
openstack%2Fkayobe~stable%2Ftrain~Ibe44583cb93b7dca8f5091c893386a15288af915,openstack/kayobe,stable/train,Ibe44583cb93b7dca8f5091c893386a15288af915,Fix Python setup when venv is not used,MERGED,2020-11-30 09:48:06.000000000,2021-01-27 12:49:26.000000000,2021-01-27 12:47:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32657}]","[{'number': 1, 'created': '2020-11-30 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4c66868f738a5acdfe6da985106c685b047008d3', 'message': 'Fix Python setup when venv is not used\n\nSet packages argument explicitly as a list to avoid ""No package matching\n\'<generator object select_or_reject at 0x7ff25f341750>\' is available"" error.\n\nStory: 2008378\nTask: 41298\nChange-Id: Ibe44583cb93b7dca8f5091c893386a15288af915\n(cherry picked from commit e748faea00346aeb1a05a1810a386b1f3d21fa75)\n'}, {'number': 2, 'created': '2020-12-22 13:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc639a88be9f7ac5ca5d770e602bf40bb76ef3ee', 'message': 'Fix Python setup when venv is not used\n\nSet packages argument explicitly as a list to avoid ""No package matching\n\'<generator object select_or_reject at 0x7ff25f341750>\' is available"" error.\n\nStory: 2008378\nTask: 41298\nChange-Id: Ibe44583cb93b7dca8f5091c893386a15288af915\n(cherry picked from commit e748faea00346aeb1a05a1810a386b1f3d21fa75)\n'}, {'number': 3, 'created': '2021-01-27 09:20:41.000000000', 'files': ['releasenotes/notes/fix-python-setup-5e7ff929a6cab092.yaml', 'ansible/kayobe-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e0e0db459d3c99fbc1cb266739fa7e6e17f0c00e', 'message': 'Fix Python setup when venv is not used\n\nSet packages argument explicitly as a list to avoid ""No package matching\n\'<generator object select_or_reject at 0x7ff25f341750>\' is available"" error.\n\nStory: 2008378\nTask: 41298\nChange-Id: Ibe44583cb93b7dca8f5091c893386a15288af915\n(cherry picked from commit e748faea00346aeb1a05a1810a386b1f3d21fa75)\n'}]",0,764511,e0e0db459d3c99fbc1cb266739fa7e6e17f0c00e,33,5,3,14826,,,0,"Fix Python setup when venv is not used

Set packages argument explicitly as a list to avoid ""No package matching
'<generator object select_or_reject at 0x7ff25f341750>' is available"" error.

Story: 2008378
Task: 41298
Change-Id: Ibe44583cb93b7dca8f5091c893386a15288af915
(cherry picked from commit e748faea00346aeb1a05a1810a386b1f3d21fa75)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/11/764511/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-python-setup-5e7ff929a6cab092.yaml', 'ansible/kayobe-target-venv.yml']",2,4c66868f738a5acdfe6da985106c685b047008d3,enforce_list-stable/train," name: ""{{ packages | select | list }}"""," name: ""{{ packages | select }}""",6,1
openstack%2Fansible-collections-openstack~master~I5db452e0719b45932dda068e32f4876c098fea77,openstack/ansible-collections-openstack,master,I5db452e0719b45932dda068e32f4876c098fea77,Fix setting custom property on os_project,MERGED,2021-01-20 11:18:32.000000000,2021-01-27 12:26:10.000000000,2021-01-27 12:26:10.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 11:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4df1e7003d08b1a4289f7869755ee8dc2284bedf', 'message': 'Fix setting custom property on os_project\n\nWhen a new property is created on a project, verifies if the\nkey is in the dict before checking its value for changes.\n\nCloses-Bug: 2008530\nTask: 41613\nChange-Id: I5db452e0719b45932dda068e32f4876c098fea77\nSigned-off-by: Lucas Galton <lucas@galton.fr>\n'}, {'number': 2, 'created': '2021-01-20 11:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a390f970c27dd80a064a068ab70188899fdc4f48', 'message': 'Fix setting custom property on os_project\n\nWhen a new property is created on a project, verifies if the\nkey is in the dict before checking its value for changes.\n\nStory: 2008530\nTask: 41613\nChange-Id: I5db452e0719b45932dda068e32f4876c098fea77\nSigned-off-by: Lucas Galton <lucas@galton.fr>\n'}, {'number': 3, 'created': '2021-01-20 11:26:41.000000000', 'files': ['plugins/modules/project.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b7c22515b70682760ae79197a2e31d51589a3d68', 'message': 'Fix setting custom property on os_project\n\nWhen a new property is created on a project, verifies if the\nkey is in the dict before checking its value for changes.\n\nStory: 2008530\nTask: 41613\nChange-Id: I5db452e0719b45932dda068e32f4876c098fea77\nSigned-off-by: Lucas Galton <lucas@galton.fr>\n'}]",0,771592,b7c22515b70682760ae79197a2e31d51589a3d68,9,3,3,33018,,,0,"Fix setting custom property on os_project

When a new property is created on a project, verifies if the
key is in the dict before checking its value for changes.

Story: 2008530
Task: 41613
Change-Id: I5db452e0719b45932dda068e32f4876c098fea77
Signed-off-by: Lucas Galton <lucas@galton.fr>
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/92/771592/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/project.py'],1,4df1e7003d08b1a4289f7869755ee8dc2284bedf,bug/story_2008530_os_project_custom_properties, if v is not None and (k not in project_properties or v != project_properties[k]):, if v is not None and v != project_properties[k]:,1,2
openstack%2Fneutron~master~I0176702a6ec4ac69775e2ecaf4b3a94552bfe486,openstack/neutron,master,I0176702a6ec4ac69775e2ecaf4b3a94552bfe486,Implement secure RBAC for flavor API,MERGED,2020-12-04 12:29:01.000000000,2021-01-27 12:02:53.000000000,2021-01-27 11:59:06.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 12:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e077ac4cf68d3e1747a298957deee07c50ade176', 'message': 'Implement secure RBAC for flavor API\n\nThis commit updates the policies for flavor API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I0176702a6ec4ac69775e2ecaf4b3a94552bfe486\n'}, {'number': 2, 'created': '2020-12-15 13:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71f1337150bd7d8a2501194442409196e026db2c', 'message': 'Implement secure RBAC for flavor API\n\nThis commit updates the policies for flavor API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I0176702a6ec4ac69775e2ecaf4b3a94552bfe486\n'}, {'number': 3, 'created': '2021-01-21 16:22:49.000000000', 'files': ['neutron/conf/policies/flavor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae64b77f57a6a12c9e29b4388c2cc345d2f1213f', 'message': 'Implement secure RBAC for flavor API\n\nThis commit updates the policies for flavor API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I0176702a6ec4ac69775e2ecaf4b3a94552bfe486\n'}]",0,765523,ae64b77f57a6a12c9e29b4388c2cc345d2f1213f,36,4,3,11975,,,0,"Implement secure RBAC for flavor API

This commit updates the policies for flavor API to understand scope
checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I0176702a6ec4ac69775e2ecaf4b3a94552bfe486
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/765523/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/flavor.py'],1,e077ac4cf68d3e1747a298957deee07c50ade176,secure-rbac,"DEPRECATION_REASON = ( ""The flavor API now supports system scope and default roles."") name='create_flavor', check_str=base.SYSTEM_ADMIN, description='Create a flavor', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='create_flavor', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_flavor', check_str=base.SYSTEM_OR_PROJECT_READER, description='Get a flavor', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_flavor', check_str=base.RULE_ANY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='update_flavor', check_str=base.SYSTEM_ADMIN, description='Update a flavor', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='update_flavor', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_flavor', check_str=base.SYSTEM_ADMIN, description='Delete a flavor', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='delete_flavor', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='create_service_profile', check_str=base.SYSTEM_ADMIN, description='Create a service profile', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='create_service_profile', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_service_profile', check_str=base.SYSTEM_READER, description='Get a service profile', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='get_service_profile', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='update_service_profile', check_str=base.SYSTEM_ADMIN, description='Update a service profile', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='update_service_profile', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_service_profile', check_str=base.SYSTEM_ADMIN, description='Delete a service profile', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='delete_service_profile', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_flavor_service_profile', check_str=base.SYSTEM_OR_PROJECT_READER, description=( 'Get a flavor associated with a given service profiles. ' 'There is no corresponding GET operations in API currently. ' 'This rule is currently referred only in the DELETE ' 'of flavor_service_profile.'), scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_flavor_service_profile', check_str=base.RULE_ANY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='create_flavor_service_profile', check_str=base.SYSTEM_ADMIN, description='Associate a flavor with a service profile', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='create_flavor_service_profile', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_flavor_service_profile', check_str=base.SYSTEM_ADMIN, description='Disassociate a flavor with a service profile', operations=[ ], scope_types=['system'], deprecated_rule=policy.DeprecatedRule( name='delete_flavor_service_profile', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby'"," 'create_flavor', base.RULE_ADMIN_ONLY, 'Create a flavor', [ ] 'get_flavor', base.RULE_ANY, 'Get a flavor', [ ] 'update_flavor', base.RULE_ADMIN_ONLY, 'Update a flavor', [ ] 'delete_flavor', base.RULE_ADMIN_ONLY, 'Delete a flavor', [ ] 'create_service_profile', base.RULE_ADMIN_ONLY, 'Create a service profile', [ ] 'get_service_profile', base.RULE_ADMIN_ONLY, 'Get a service profile', [ ] 'update_service_profile', base.RULE_ADMIN_ONLY, 'Update a service profile', [ ] 'delete_service_profile', base.RULE_ADMIN_ONLY, 'Delete a service profile', [ ] 'get_flavor_service_profile', base.RULE_ANY, ('Get a flavor associated with a given service profiles. ' 'There is no corresponding GET operations in API currently. ' 'This rule is currently referred only in the DELETE ' 'of flavor_service_profile.') 'create_flavor_service_profile', base.RULE_ADMIN_ONLY, 'Associate a flavor with a service profile', [ ] 'delete_flavor_service_profile', base.RULE_ADMIN_ONLY, 'Disassociate a flavor with a service profile', [ ]",126,56
openstack%2Fcinder~stable%2Fvictoria~I2164be24a2c6adce78dc7782d2fa2791e1a8f27e,openstack/cinder,stable/victoria,I2164be24a2c6adce78dc7782d2fa2791e1a8f27e,Add CHAP support to Dell EMC PowerStore driver,MERGED,2020-12-16 07:48:53.000000000,2021-01-27 12:02:44.000000000,2021-01-27 11:59:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10379}, {'_account_id': 10459}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 23601}]","[{'number': 1, 'created': '2020-12-16 07:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d44be518873fadf5be9c26dd4778fdefc8ce6d04', 'message': 'Add CHAP support to Dell EMC PowerStore driver\n\nFix bug with using PowerStore with enabled CHAP as a storage backend.\n\nChange-Id: I2164be24a2c6adce78dc7782d2fa2791e1a8f27e\nCloses-Bug: #1900979\n(cherry picked from commit 7d50d58b634e9821dbd680303f25c0eee2116598)\n'}, {'number': 2, 'created': '2020-12-23 09:00:17.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_base.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_delete_extend.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_snapshot_create_delete_revert.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_attach_detach.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst', 'releasenotes/notes/bug-1900979-powerstore-chap-support.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_from_source.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da9c06c41c249ba74e2a89da5e16e31f311a9f1a', 'message': 'Add CHAP support to Dell EMC PowerStore driver\n\nFix bug with using PowerStore with enabled CHAP as a storage backend.\n\nChange-Id: I2164be24a2c6adce78dc7782d2fa2791e1a8f27e\nCloses-Bug: #1900979\n(cherry picked from commit 7d50d58b634e9821dbd680303f25c0eee2116598)\n'}]",0,767299,da9c06c41c249ba74e2a89da5e16e31f311a9f1a,45,11,2,31016,,,0,"Add CHAP support to Dell EMC PowerStore driver

Fix bug with using PowerStore with enabled CHAP as a storage backend.

Change-Id: I2164be24a2c6adce78dc7782d2fa2791e1a8f27e
Closes-Bug: #1900979
(cherry picked from commit 7d50d58b634e9821dbd680303f25c0eee2116598)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/767299/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_base.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_delete_extend.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_snapshot_create_delete_revert.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_attach_detach.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_from_source.py', 'releasenotes/notes/bug-1900979-powerstore-chap-support.yaml']",11,d44be518873fadf5be9c26dd4778fdefc8ce6d04,bug/1900979,--- fixes: - | `Bug #1900979 <https://bugs.launchpad.net/cinder/+bug/1900979>`_: Fix bug with using PowerStore with enabled CHAP as a storage backend. ,,228,64
openstack%2Fopenstacksdk~master~I41a182fb9a80acd6b4cbce3f1f5c2fe02d5ed11d,openstack/openstacksdk,master,I41a182fb9a80acd6b4cbce3f1f5c2fe02d5ed11d,Enable unicode names in network,ABANDONED,2019-06-21 19:01:20.000000000,2021-01-27 12:00:44.000000000,,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 19:01:20.000000000', 'files': ['openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e899abf1f1207890d14b5cd16517c9d94b42d3fb', 'message': 'Enable unicode names in network\n\nThe error messages containing names are changed to be\nunicode, this enables the entities to have unicode names.\n\nStory: #2005934\nTask: #34279\nChange-Id: I41a182fb9a80acd6b4cbce3f1f5c2fe02d5ed11d\n'}]",0,666900,e899abf1f1207890d14b5cd16517c9d94b42d3fb,5,3,1,30608,,,0,"Enable unicode names in network

The error messages containing names are changed to be
unicode, this enables the entities to have unicode names.

Story: #2005934
Task: #34279
Change-Id: I41a182fb9a80acd6b4cbce3f1f5c2fe02d5ed11d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/666900/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_network.py'],1,e899abf1f1207890d14b5cd16517c9d94b42d3fb,, error_message=u'Error updating network {0}'.format(name_or_id)) error_message=u'Error creating router {0}'.format(name)) error_message=u'Error updating router {0}'.format(name_or_id)) error_message=u'Error deleting router {0}'.format(name_or_id))) error_message=u'Error updating port {0}'.format(name_or_id)) error_message=u'Error deleting port {0}'.format(name_or_id))," error_message=""Error updating network {0}"".format(name_or_id)) error_message=""Error creating router {0}"".format(name)) error_message=""Error updating router {0}"".format(name_or_id)) error_message=""Error deleting router {0}"".format(name_or_id))) error_message=""Error updating port {0}"".format(name_or_id)) error_message=""Error deleting port {0}"".format(name_or_id))",6,6
openstack%2Fnova~master~I181b3bf433b0fcef92ef4d430e9858506f24153c,openstack/nova,master,I181b3bf433b0fcef92ef4d430e9858506f24153c,libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING,MERGED,2020-09-28 12:48:02.000000000,2021-01-27 11:42:17.000000000,2021-01-25 10:59:29.000000000,"[{'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-28 12:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4affcabd77796543620e3d205f6179f8c7a04f7a', 'message': 'WIP libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n'}, {'number': 2, 'created': '2021-01-14 14:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7207f62183a802829e6cd0abf36fa11ba11b7e0', 'message': 'WIP libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n'}, {'number': 3, 'created': '2021-01-14 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45cd557a341f9d914d03a0b1532da94ca7d9f70a', 'message': ""libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nIntroduced by I32908b77c18f8ec08211dd67be49bbf903611c34 this was then\nmissed by the clean up of I8e349849db0b1a540d295c903f1470917b82fd97 that\nactually bumped MIN_LIBVIRT_VERSION to 5.0.0 past the required 4.1.0 for\nthe original change. It's safe to remove this now ahead of another bump.\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n""}, {'number': 4, 'created': '2021-01-14 17:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cea6276b01b21f15303f4693eb7d1897ce175a2', 'message': ""libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nIntroduced by I32908b77c18f8ec08211dd67be49bbf903611c34 this was then\nmissed by the clean up of I8e349849db0b1a540d295c903f1470917b82fd97 that\nactually bumped MIN_LIBVIRT_VERSION to 5.0.0 past the required 4.1.0 for\nthe original change. It's safe to remove this now ahead of another bump.\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n""}, {'number': 5, 'created': '2021-01-18 10:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93935925a08efbef2090a17ab4a5e1a1a50f2903', 'message': ""libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nIntroduced by I32908b77c18f8ec08211dd67be49bbf903611c34 this was then\nmissed by the clean up of I8e349849db0b1a540d295c903f1470917b82fd97 that\nactually bumped MIN_LIBVIRT_VERSION to 5.0.0 past the required 4.1.0 for\nthe original change. It's safe to remove this now ahead of another bump.\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n""}, {'number': 6, 'created': '2021-01-22 10:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce550ee372ef3b7f4ba5efc9f31dd179a6817149', 'message': ""libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nIntroduced by I32908b77c18f8ec08211dd67be49bbf903611c34 this was then\nmissed by the clean up of I8e349849db0b1a540d295c903f1470917b82fd97 that\nactually bumped MIN_LIBVIRT_VERSION to 5.0.0 past the required 4.1.0 for\nthe original change. It's safe to remove this now ahead of another bump.\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n""}, {'number': 7, 'created': '2021-01-22 10:07:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0aff19151413b1251345ff6899e76f97f9cd47ac', 'message': ""libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING\n\nIntroduced by I32908b77c18f8ec08211dd67be49bbf903611c34 this was then\nmissed by the clean up of I8e349849db0b1a540d295c903f1470917b82fd97 that\nactually bumped MIN_LIBVIRT_VERSION to 5.0.0 past the required 4.1.0 for\nthe original change. It's safe to remove this now ahead of another bump.\n\nChange-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c\n""}]",2,754702,0aff19151413b1251345ff6899e76f97f9cd47ac,85,12,7,10135,,,0,"libvirt: Remove MIN_LIBVIRT_VIR_ERR_DEVICE_MISSING

Introduced by I32908b77c18f8ec08211dd67be49bbf903611c34 this was then
missed by the clean up of I8e349849db0b1a540d295c903f1470917b82fd97 that
actually bumped MIN_LIBVIRT_VERSION to 5.0.0 past the required 4.1.0 for
the original change. It's safe to remove this now ahead of another bump.

Change-Id: I181b3bf433b0fcef92ef4d430e9858506f24153c
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/754702/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,4affcabd77796543620e3d205f6179f8c7a04f7a,bump-libvirt-qemu-wallaby,," @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') @mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume', new=mock.Mock()) def test_detach_volume_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 mountpoint = ""/dev/foo"" expected_disk_dev = ""foo"" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_detach_interface_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr, 'vif_driver') as mock_vif_driver: mock_vif_driver.get_config.return_value = mock.sentinel.cfg mock_vif_driver.get_vif_devname.return_value = mock.sentinel.dev drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=True) ",6,170
openstack%2Fopenstack-tempest-skiplist~master~Ibedd2c1307940f01229ecce2a683fdfd51dc612e,openstack/openstack-tempest-skiplist,master,Ibedd2c1307940f01229ecce2a683fdfd51dc612e,Add addtest command to tempest-skiplist,MERGED,2020-09-29 13:00:01.000000000,2021-01-27 11:25:17.000000000,2021-01-27 11:23:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 32458}]","[{'number': 1, 'created': '2020-09-29 13:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/be2996d8b98c6d21a57b18543d7b4ac0a6025753', 'message': 'WIP - add add_test command to tempest-skiplist\n\nThis is a VERY WIP to add tests in tempest-skiplist\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 2, 'created': '2020-09-29 15:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/25264cf83cd0c46b7f99e1326b0740c51c97ac7b', 'message': 'WIP - add add_test command to tempest-skiplist\n\nThis is a VERY WIP to add tests in tempest-skiplist\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 3, 'created': '2021-01-14 12:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/6e39e964d8a8c328b8d8c486bcbd1903a61e7bd5', 'message': 'Ad addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 4, 'created': '2021-01-14 13:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4f4401f5435a5b87c6383603447cc4059385d5dc', 'message': 'Ad addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 5, 'created': '2021-01-14 14:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/82956ce0dbd155f6dc6dbad0f6986245ff82911e', 'message': 'Ad addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 6, 'created': '2021-01-14 16:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/6c8e6f96a88b3959c632678a240e036165ad033c', 'message': 'Ad addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 7, 'created': '2021-01-14 17:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/23ae950a48f8676937bd0ec71d6c9d1e3d38cd7b', 'message': 'Ad addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 8, 'created': '2021-01-18 11:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a6be1fa69e1da0f5fc6f4875e79b5908e3c161a1', 'message': 'Ad addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 9, 'created': '2021-01-18 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c34634e2cb30af869192e87d78ded027230fb129', 'message': 'Add addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 10, 'created': '2021-01-18 16:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/dbc6c13f98fce390e0488ef7803bebfbfd1d9ba7', 'message': 'Add addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 11, 'created': '2021-01-18 16:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e74fc737147408d6d752a80ee0f11b507184d8bb', 'message': 'Add addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 12, 'created': '2021-01-25 10:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3eb4638310316989a56e9b3408dd5f9e73672a61', 'message': 'Add addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 13, 'created': '2021-01-25 10:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e4cc20b59ad5195227e72bed40a3e4da8527e2f4', 'message': 'Add addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}, {'number': 14, 'created': '2021-01-26 09:02:40.000000000', 'files': ['tempest_skip/add_test.py', 'test-requirements.txt', 'tempest_skip/tests/test_list_yaml.py', 'README.rst', 'tempest_skip/tests/base.py', 'doc/source/addtest/index.rst', 'doc/source/index.rst', 'requirements.txt', 'tempest_skip/tests/test_add_test.py', 'doc/source/addtest/addtest.rst', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b6e0be66940f454a1d27f6109302af4354cc2284', 'message': 'Add addtest command to tempest-skiplist\n\nThis patch adds the addtest command to tempest-skiplist in order to\navoid mistakes like duplicated entries, invalid yaml file format, add\nnamespace instead of full test path. The idea here is to help ruck and\nrovers to add tests to skiplist, without the need to edit long yaml\nfile, and be able to quickly select tests under a specific namespace to\nbe added without all the boilplate of create entries for each test.\n\nChange-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e\n'}]",34,754994,b6e0be66940f454a1d27f6109302af4354cc2284,48,13,14,8367,,,0,"Add addtest command to tempest-skiplist

This patch adds the addtest command to tempest-skiplist in order to
avoid mistakes like duplicated entries, invalid yaml file format, add
namespace instead of full test path. The idea here is to help ruck and
rovers to add tests to skiplist, without the need to edit long yaml
file, and be able to quickly select tests under a specific namespace to
be added without all the boilplate of create entries for each test.

Change-Id: Ibedd2c1307940f01229ecce2a683fdfd51dc612e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/94/754994/14 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tempest_skip/add_test.py', 'setup.cfg']",3,be2996d8b98c6d21a57b18543d7b4ac0a6025753,tempest-list, addtest = tempest_skip.add_test:AddTest,,98,1
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fussuri~Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,openstack/openstack-ansible-rsyslog_client,stable/ussuri,Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,Update role for Ubuntu Focal and Centos-8,MERGED,2021-01-19 17:42:59.000000000,2021-01-27 10:58:37.000000000,2021-01-27 10:57:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-19 17:42:59.000000000', 'files': ['vars/redhat-8.yml', 'vars/ubuntu-20.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/e6ccfd154361be9a5126ab87e5ed554e66ffe415', 'message': 'Update role for Ubuntu Focal and Centos-8\n\nChange-Id: Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c\n(cherry picked from commit 6defc982de5a04a7a7a3b07cc24171c8dad4a9ae)\n'}]",0,771410,e6ccfd154361be9a5126ab87e5ed554e66ffe415,12,3,1,25023,,,0,"Update role for Ubuntu Focal and Centos-8

Change-Id: Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c
(cherry picked from commit 6defc982de5a04a7a7a3b07cc24171c8dad4a9ae)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/10/771410/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'vars/ubuntu-20.04.yml']",2,e6ccfd154361be9a5126ab87e5ed554e66ffe415,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Example override to specify which repo the packages should come from # rsyslog_client_repos: # - { repo: ""ppa:adiscon/v8-stable"", state: ""present"" } rsyslog_client_distro_packages: - rsyslog - logrotate rsyslog_client_already_handled_files: - /var/log/kern.log - /var/log/auth.log - /var/log/alternatives.log - /var/log/apt/history.log - /var/log/apt/term.log - /var/log/dpkg.log rsyslog_client_reload: 'systemctl restart rsyslog > /dev/null 2>&1 || true' rsyslog_system_logfile: /var/log/syslog rsyslog_logfile_user: syslog rsyslog_logfile_group: adm rsyslog_logfile_drop_user: syslog rsyslog_logfile_drop_group: syslog ",,78,0
openstack%2Fpython-octaviaclient~master~Icd0e728afadade109ef018ef2ae540357bf74808,openstack/python-octaviaclient,master,Icd0e728afadade109ef018ef2ae540357bf74808,remove unicode from code,MERGED,2021-01-03 08:53:58.000000000,2021-01-27 10:25:47.000000000,2021-01-27 10:23:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 08:53:58.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ca9146bf6d6f1650cd6aac309135866905daee18', 'message': 'remove unicode from code\n\nChange-Id: Icd0e728afadade109ef018ef2ae540357bf74808\n'}]",0,769042,ca9146bf6d6f1650cd6aac309135866905daee18,9,4,1,30384,,,0,"remove unicode from code

Change-Id: Icd0e728afadade109ef018ef2ae540357bf74808
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/42/769042/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,ca9146bf6d6f1650cd6aac309135866905daee18,,"copyright = '2016, OpenStack Foundation' 'python-octaviaclient Release Notes Documentation', 'Octavia Developers', 'manual'), 'python-octaviaclient Release Notes Documentation', ['Octavia Developers'], 1) 'python-octaviaclient Release Notes Documentation', 'Octavia Developers', 'PythonOctaviaClientReleaseNotes',","copyright = u'2016, OpenStack Foundation' u'python-octaviaclient Release Notes Documentation', u'Octavia Developers', 'manual'), u'python-octaviaclient Release Notes Documentation', [u'Octavia Developers'], 1) u'python-octaviaclient Release Notes Documentation', u'Octavia Developers', 'PythonOctaviaClientReleaseNotes',",10,10
openstack%2Fcharm-guide~master~Ie80a064e41e001984711aec2efdcfa9abdbb9407,openstack/charm-guide,master,Ie80a064e41e001984711aec2efdcfa9abdbb9407,21.01 release notes update - 1,MERGED,2021-01-27 02:54:02.000000000,2021-01-27 10:18:01.000000000,2021-01-27 10:15:25.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-27 02:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/389d2328750c084560c907c25cf721444c0c6636', 'message': ""21.01 release notes update - 1\n\nAs agreed by team consensus:\n\n  a) Deprecate the trusty series.\n\n  b) Remove designate:vault known issue affecting the\n     xenial series.\n\n  c) Remove the os-brick known issue\n\n  d) Remove the percona-cluster upgrade series known issue\n\nAdd the three Ironic tech-preview charms to the release\nnotes and the charm list.\n\nAdd known issue: FQDN for containers on physical MAAS nodes\n\nAdd section for Documentation updates.\n\nStreamline upgrading charms paragraph:\n\n  a) Reduce duplication of information with the CDG.\n\n  b) We do not want users upgrading anything without\n     reading the documentation so we shouldn't include\n     text that encourages that.\n\nFix up Trilio paragraph.\n\nRemove unused bug links.\n\nChange-Id: Ie80a064e41e001984711aec2efdcfa9abdbb9407\n""}, {'number': 2, 'created': '2021-01-27 02:56:25.000000000', 'files': ['doc/source/openstack-charms.rst', 'doc/source/2101.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/893caac9bed15677604a8a05e65b4bc7cb953432', 'message': ""21.01 release notes update - 1\n\nAs agreed by team consensus:\n\n  a) Deprecate the trusty series.\n\n  b) Remove designate:vault known issue affecting the\n     xenial series.\n\n  c) Remove the os-brick known issue\n\n  d) Remove the percona-cluster upgrade series known issue\n\nAdd the three Ironic tech-preview charms to the release\nnotes and the charm list page.\n\nAdd known issue: FQDN for containers on physical MAAS nodes\n\nAdd section for Documentation updates.\n\nStreamline upgrading charms paragraph:\n\n  a) Reduce duplication of information with the CDG.\n\n  b) We do not want users upgrading anything without\n     reading the documentation so we shouldn't include\n     text that encourages that.\n\nFix up Trilio paragraph.\n\nRemove unused bug links.\n\nChange-Id: Ie80a064e41e001984711aec2efdcfa9abdbb9407\n""}]",0,772619,893caac9bed15677604a8a05e65b4bc7cb953432,9,3,2,30561,,,0,"21.01 release notes update - 1

As agreed by team consensus:

  a) Deprecate the trusty series.

  b) Remove designate:vault known issue affecting the
     xenial series.

  c) Remove the os-brick known issue

  d) Remove the percona-cluster upgrade series known issue

Add the three Ironic tech-preview charms to the release
notes and the charm list page.

Add known issue: FQDN for containers on physical MAAS nodes

Add section for Documentation updates.

Streamline upgrading charms paragraph:

  a) Reduce duplication of information with the CDG.

  b) We do not want users upgrading anything without
     reading the documentation so we shouldn't include
     text that encourages that.

Fix up Trilio paragraph.

Remove unused bug links.

Change-Id: Ie80a064e41e001984711aec2efdcfa9abdbb9407
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/19/772619/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/openstack-charms.rst', 'doc/source/2101.rst']",2,389d2328750c084560c907c25cf721444c0c6636,2101-docs,"configuration option to 'image'.Trilio charmsThe Trilio charms will no longer be released with the same cadence as the otherTrilio code. For instance, Trilio 4.1 is due in February and the Trilio charms will be released shortly thereafter.n/a Ironic charms ~~~~~~~~~~~~~ Three new tech-preview charms are now available for the deployment of OpenStack Ironic: * ironic * ironic-api * ironic-conductor Ironic provisions bare metal, as opposed to virtual, machines.Trusty series ~~~~~~~~~~~~~ The 'trusty' series is no longer actively tested and is now EOL in terms of bug fixes for the OpenStack charms.n/a Lack of FQDN for containers on physical MAAS nodes may affect running services ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When Juju deploys to a LXD container on a physical MAAS node, the container is not informed of its FQDN. The services running in the container will therefore be unable to determine the FQDN on initial deploy and on reboot. Adverse effects are service dependent. This issue is tracked in bug `LP #1896630`_ in an OVN and Octavia context. Several workarounds are documented in the bug. Series upgrade - vault charm ~~~~~~~~~~~~~~~~~~~~~~~~~~~~resolved. The `vault charm`_ README has unsealing instructions, and the hook error can be resolved with:Documentation updates --------------------- A summary of documentation updates is given below. * `OpenStack Charms Deployment Guide`_ (aka ""deploy guide""): * The deploy guide has been completely refactored. * The install section has been updated to OpenStack Victoria. * The upgrades section has received an `Upgrades overview`_ page. * `OpenStack Charm Guide`_ (aka ""charm guide""): * The OpenStack on LXD documentation was moved from the charm guide to the `openstack-on-lxd`_ repository. Users wishing to use an all-in-one OpenStack solution should explore the `MicroStack`_ project. * Charm READMEs: * cinder * glance * keystone * keystone-ldap * vault Upgrading charms will making available new features and bug fixes. However, the latest stable charm revision should also be used prior to making any topological changes, application migrations, workload upgrades, or series upgrades. Bug reports should also be filed against the most recent revision. Note that charm upgrades and OpenStack upgrades are functionally different. For instructions on performing the different upgrade types see `Upgrades overview`_ in the `OpenStack Charms Deployment Guide`_... _Upgrades overview: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/upgrade-overview.html .. _vault charm: https://opendev.org/openstack/charm-vault/src/branch/master/src/README.md#unseal-vault.. _LP #1896630: https://bugs.launchpad.net/charm-layer-ovn/+bug/1896630","configuration option to `image`.Trilio CharmsTrilio charms will no longer be released with the same cadence as the otherTrilio code. Trilio 4.1 release is due in Febuary and the Trilio charms will be released shortly thereafter.n/aOpenStack on LXD documentation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The OpenStack on LXD documentation was moved from the OpenStack Charm Guide to the `openstack-on-lxd`_ repository. Users wishing to use an all-in-one OpenStack solution should explore the `MicroStack`_ project.Designate and Vault at Ocata and earlier ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The designate charm for OpenStack Ocata (and earlier) does not yet support SSL via Vault and the certificates relation. See bug `LP #1839019`_. The charm works as intended in this scenario starting with OpenStack Pike. OpenStack os-brick, Ceph Octopus, and Focal ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Ceph RBD Mirror and Cinder Backup Swift Proxy charms do not work with Ceph Octopus due to an issue with the upstream OpenStack os-brick library (see bug `LP #1865754`_). As Octopus is the default Ceph version on Ubuntu 20.04 LTS (Focal) these charms cannot be used on Focal until the issue is resolved. Here are the resulting charm-specific behaviours: * ceph-rbd-mirror charm: The charm will enter a blocked state after configuring pool mirroring (see bug `LP #1879749`_). * cinder-backup-swift-proxy charm: If a backup volume operation is performed the resulting volume will be in error (see bug `LP #1890821`_). Series upgrade - percona-cluster and vault charms ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ percona-cluster ^^^^^^^^^^^^^^^ During a series upgrade from Xenial (16.04) to Bionic (18.04) the percona-cluster charm may fail during the ``post-series-upgrade`` hook. This appears to be because the percona-cluster charm may erroneously delete the file ``/var/lib/percona-xtradb-cluster/seeded`` (see bug `LP #1868326`_). If this occurs, then executing the following commands on the failed unit will recover the hook and allow it to complete the series upgrade: .. code-block:: none juju run percona-cluster/N 'echo ""done"" > /var/lib/percona-xtradb-cluster/seeded' juju resolved percona-cluster/N This may be required for each percona-cluster unit. vault ^^^^^resolved. The `Vault section`_ in the `OpenStack Charms Deployment Guide`_ has detailed unsealing instructions and the hook error can be resolved with:Always use the latest stable charm revision before proceeding with topological changes, application migrations, workload upgrades, series upgrades, or bug report filing. Please ensure that the keystone charm is upgraded first. To upgrade an existing deployment to the latest charm version simply use the :command:`upgrade-charm` command. For example: .. code-block:: none juju upgrade-charm keystone Charm upgrades and OpenStack upgrades are functionally different. Charm upgrades ensure that the deployment has the latest charm revision, containing the latest charm fixes and features, whereas OpenStack upgrades influence the software package versions of OpenStack itself. A charm upgrade does not trigger an OpenStack upgrade. An OpenStack upgrade is a separate process. However, an OpenStack upgrade does require the latest charm revision. Please refer to `OpenStack upgrades`_ in the `OpenStack Charms Deployment Guide`_ for more details... _OpenStack upgrades: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html .. _Vault section: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-vault.html.. _LP #1839019: https://bugs.launchpad.net/charm-designate/+bug/1839019 .. _LP #1877594: https://bugs.launchpad.net/charm-neutron-gateway/+bug/1877594 .. _LP #1876730: https://bugs.launchpad.net/netplan/+bug/1876730 .. _LP #1890628: https://bugs.launchpad.net/charm-neutron-api-plugin-arista/+bug/1890628 .. _LP #1868326: https://bugs.launchpad.net/charm-percona-cluster/+bug/1868326.. _LP #1888389: https://bugs.launchpad.net/charm-trilio-data-mover/+bug/1888389 .. _LP #1865754: https://bugs.launchpad.net/tripleo/+bug/1865754 .. _LP #1890821: https://bugs.launchpad.net/charm-cinder-backup-swift-proxy/+bug/1890821 .. _LP #1879749: https://bugs.launchpad.net/charm-ceph-rbd-mirror/+bug/1879749.. _LP #1856106: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/1856106",80,89
openstack%2Fneutron~master~I62eb090cb42fad54e1baa8e282b41fe2fd471b0e,openstack/neutron,master,I62eb090cb42fad54e1baa8e282b41fe2fd471b0e,Implement secure RBAC for QoS API,MERGED,2020-12-03 23:04:21.000000000,2021-01-27 10:17:02.000000000,2021-01-27 10:13:59.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84f356e4b1c37648e56b866fcfdcb3320ade9a41', 'message': 'Implement secure RBAC for QoS API\n\nThis commit updates the QoS policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I62eb090cb42fad54e1baa8e282b41fe2fd471b0e\n'}, {'number': 2, 'created': '2020-12-15 13:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf17af88d74b9b9eee0eaa70b420699d8f10304c', 'message': 'Implement secure RBAC for QoS API\n\nThis commit updates the QoS policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I62eb090cb42fad54e1baa8e282b41fe2fd471b0e\n'}, {'number': 3, 'created': '2020-12-17 11:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/591d62103b5a69e8ba72ae42e3d751c6c55a6ea6', 'message': 'Implement secure RBAC for QoS API\n\nThis commit updates the QoS policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I62eb090cb42fad54e1baa8e282b41fe2fd471b0e\n'}, {'number': 4, 'created': '2021-01-21 16:20:18.000000000', 'files': ['neutron/conf/policies/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1541f29152a75df4efc5b5d53f426a362286ff6', 'message': 'Implement secure RBAC for QoS API\n\nThis commit updates the QoS policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I62eb090cb42fad54e1baa8e282b41fe2fd471b0e\n'}]",4,765418,f1541f29152a75df4efc5b5d53f426a362286ff6,24,5,4,5046,,,0,"Implement secure RBAC for QoS API

This commit updates the QoS policies to understand scope checking and account
for a read-only role. This is part of a broader series of changes across
OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I62eb090cb42fad54e1baa8e282b41fe2fd471b0e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/765418/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/qos.py'],1,84f356e4b1c37648e56b866fcfdcb3320ade9a41,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The QoS API now supports system scope and default roles. """""" deprecated_get_policy = policy.DeprecatedRule( name='get_policy', check_str=base.RULE_ANY ) deprecated_create_policy = policy.DeprecatedRule( name='create_policy', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_policy = policy.DeprecatedRule( name='update_policy', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_policy = policy.DeprecatedRule( name='delete_policy', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_rule_type = policy.DeprecatedRule( name='get_rule_type', check_str=base.RULE_ANY ) deprecated_get_policy_bandwidth_limit_rule = policy.DeprecatedRule( name='get_policy_bandwidth_limit_rule', check_str=base.RULE_ANY ) deprecated_create_policy_bandwidth_limit_rule = policy.DeprecatedRule( name='create_policy_bandwidth_limit_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_policy_bandwidth_limit_rule = policy.DeprecatedRule( name='update_policy_bandwidth_limit_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_policy_bandwidth_limit_rule = policy.DeprecatedRule( name='delete_policy_bandwidth_limit_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_policy_dscp_marking_rule = policy.DeprecatedRule( name='get_policy_dscp_marking_rule', check_str=base.RULE_ANY ) deprecated_create_policy_dscp_marking_rule = policy.DeprecatedRule( name='create_policy_dscp_marking_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_policy_dscp_marking_rule = policy.DeprecatedRule( name='update_policy_dscp_marking_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_policy_dscp_marking_rule = policy.DeprecatedRule( name='delete_policy_dscp_marking_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_policy_min_bandwidth_rule = policy.DeprecatedRule( name='get_policy_minimum_bandwidth_rule', check_str=base.RULE_ANY ) deprecated_create_policy_min_bandwidth_rule = policy.DeprecatedRule( name='create_policy_minimum_bandwidth_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_policy_min_bandwidth_rule = policy.DeprecatedRule( name='update_policy_minimum_bandwidth_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_policy_min_bandwidth_rule = policy.DeprecatedRule( name='delete_policy_minimum_bandwidth_rule', check_str=base.RULE_ADMIN_ONLY ) name='get_policy', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get QoS policies', operations=[ ], deprecated_rule=deprecated_get_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_policy', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a QoS policy', operations=[ ], deprecated_rule=deprecated_create_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_policy', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update a QoS policy', operations=[ ], deprecated_rule=deprecated_update_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_policy', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a QoS policy', operations=[ ], deprecated_rule=deprecated_delete_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_rule_type', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get available QoS rule types', operations=[ ], deprecated_rule=deprecated_get_rule_type, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_policy_bandwidth_limit_rule', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get a QoS bandwidth limit rule', operations=[ ], deprecated_rule=deprecated_get_policy_bandwidth_limit_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_policy_bandwidth_limit_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a QoS bandwidth limit rule', operations=[ ], deprecated_rule=deprecated_create_policy_bandwidth_limit_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_policy_bandwidth_limit_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update a QoS bandwidth limit rule', operations=[ ], deprecated_rule=deprecated_update_policy_bandwidth_limit_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_policy_bandwidth_limit_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a QoS bandwidth limit rule', operations=[ ], deprecated_rule=deprecated_delete_policy_bandwidth_limit_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_policy_dscp_marking_rule', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get a QoS DSCP marking rule', operations=[ ], deprecated_rule=deprecated_get_policy_dscp_marking_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_policy_dscp_marking_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a QoS DSCP marking rule', operations=[ ], deprecated_rule=deprecated_create_policy_dscp_marking_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_policy_dscp_marking_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update a QoS DSCP marking rule', operations=[ ], deprecated_rule=deprecated_update_policy_dscp_marking_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_policy_dscp_marking_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a QoS DSCP marking rule', operations=[ ], deprecated_rule=deprecated_delete_policy_dscp_marking_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_policy_minimum_bandwidth_rule', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get a QoS minimum bandwidth rule', operations=[ ], deprecated_rule=deprecated_get_policy_min_bandwidth_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_policy_minimum_bandwidth_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a QoS minimum bandwidth rule', operations=[ ], deprecated_rule=deprecated_create_policy_min_bandwidth_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_policy_minimum_bandwidth_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update a QoS minimum bandwidth rule', operations=[ ], deprecated_rule=deprecated_update_policy_min_bandwidth_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_policy_minimum_bandwidth_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a QoS minimum bandwidth rule', operations=[ ], deprecated_rule=deprecated_delete_policy_min_bandwidth_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_alias_bandwidth_limit_rule', check_str='rule:get_policy_bandwidth_limit_rule', description='Get a QoS bandwidth limit rule through alias', operations=[ name='update_alias_bandwidth_limit_rule', check_str='rule:update_policy_bandwidth_limit_rule', description='Update a QoS bandwidth limit rule through alias', operations=[ name='delete_alias_bandwidth_limit_rule', check_str='rule:delete_policy_bandwidth_limit_rule', description='Delete a QoS bandwidth limit rule through alias', operations=[ name='get_alias_dscp_marking_rule', check_str='rule:get_policy_dscp_marking_rule', description='Get a QoS DSCP marking rule through alias', operations=[ name='update_alias_dscp_marking_rule', check_str='rule:update_policy_dscp_marking_rule', description='Update a QoS DSCP marking rule through alias', operations=[ name='delete_alias_dscp_marking_rule', check_str='rule:delete_policy_dscp_marking_rule', description='Delete a QoS DSCP marking rule through alias', operations=[ name='get_alias_minimum_bandwidth_rule', check_str='rule:get_policy_minimum_bandwidth_rule', description='Get a QoS minimum bandwidth rule through alias', operations=[ name='update_alias_minimum_bandwidth_rule', check_str='rule:update_policy_minimum_bandwidth_rule', description='Update a QoS minimum bandwidth rule through alias', operations=[ name='delete_alias_minimum_bandwidth_rule', check_str='rule:delete_policy_minimum_bandwidth_rule', description='Delete a QoS minimum bandwidth rule through alias', operations=["," 'get_policy', base.RULE_ANY, 'Get QoS policies', [ ] 'create_policy', base.RULE_ADMIN_ONLY, 'Create a QoS policy', [ ] 'update_policy', base.RULE_ADMIN_ONLY, 'Update a QoS policy', [ ] 'delete_policy', base.RULE_ADMIN_ONLY, 'Delete a QoS policy', [ ] 'get_rule_type', base.RULE_ANY, 'Get available QoS rule types', [ ] 'get_policy_bandwidth_limit_rule', base.RULE_ANY, 'Get a QoS bandwidth limit rule', [ ] 'create_policy_bandwidth_limit_rule', base.RULE_ADMIN_ONLY, 'Create a QoS bandwidth limit rule', [ ] 'update_policy_bandwidth_limit_rule', base.RULE_ADMIN_ONLY, 'Update a QoS bandwidth limit rule', [ ] 'delete_policy_bandwidth_limit_rule', base.RULE_ADMIN_ONLY, 'Delete a QoS bandwidth limit rule', [ ] 'get_policy_dscp_marking_rule', base.RULE_ANY, 'Get a QoS DSCP marking rule', [ ] 'create_policy_dscp_marking_rule', base.RULE_ADMIN_ONLY, 'Create a QoS DSCP marking rule', [ ] 'update_policy_dscp_marking_rule', base.RULE_ADMIN_ONLY, 'Update a QoS DSCP marking rule', [ ] 'delete_policy_dscp_marking_rule', base.RULE_ADMIN_ONLY, 'Delete a QoS DSCP marking rule', [ ] 'get_policy_minimum_bandwidth_rule', base.RULE_ANY, 'Get a QoS minimum bandwidth rule', [ ] 'create_policy_minimum_bandwidth_rule', base.RULE_ADMIN_ONLY, 'Create a QoS minimum bandwidth rule', [ ] 'update_policy_minimum_bandwidth_rule', base.RULE_ADMIN_ONLY, 'Update a QoS minimum bandwidth rule', [ ] 'delete_policy_minimum_bandwidth_rule', base.RULE_ADMIN_ONLY, 'Delete a QoS minimum bandwidth rule', [ ] 'get_alias_bandwidth_limit_rule', 'rule:get_policy_bandwidth_limit_rule', 'Get a QoS bandwidth limit rule through alias', [ 'update_alias_bandwidth_limit_rule', 'rule:update_policy_bandwidth_limit_rule', 'Update a QoS bandwidth limit rule through alias', [ 'delete_alias_bandwidth_limit_rule', 'rule:delete_policy_bandwidth_limit_rule', 'Delete a QoS bandwidth limit rule through alias', [ 'get_alias_dscp_marking_rule', 'rule:get_policy_dscp_marking_rule', 'Get a QoS DSCP marking rule through alias', [ 'update_alias_dscp_marking_rule', 'rule:update_policy_dscp_marking_rule', 'Update a QoS DSCP marking rule through alias', [ 'delete_alias_dscp_marking_rule', 'rule:delete_policy_dscp_marking_rule', 'Delete a QoS DSCP marking rule through alias', [ 'get_alias_minimum_bandwidth_rule', 'rule:get_policy_minimum_bandwidth_rule', 'Get a QoS minimum bandwidth rule through alias', [ 'update_alias_minimum_bandwidth_rule', 'rule:update_policy_minimum_bandwidth_rule', 'Update a QoS minimum bandwidth rule through alias', [ 'delete_alias_minimum_bandwidth_rule', 'rule:delete_policy_minimum_bandwidth_rule', 'Delete a QoS minimum bandwidth rule through alias', [",263,121
openstack%2Fopenstack-tempest-skiplist~master~I0436ab3b49ff1738832cee1579ce120c8cc4f00a,openstack/openstack-tempest-skiplist,master,I0436ab3b49ff1738832cee1579ce120c8cc4f00a,Re-enable skipped octavia test for scenario 10,MERGED,2020-12-16 14:04:59.000000000,2021-01-27 10:14:22.000000000,2021-01-27 10:12:23.000000000,"[{'_account_id': 6681}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-16 14:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b815222281752451e3df6e8ed797ad673e493246', 'message': 'WIP: Re-enable skipped octavia test for scenario 10\n\nThe octavia ""smoke"" test is skipped because of\nhttps://bugs.launchpad.net/tripleo/+bug/1883687. The general Octavia\ntests are rather extensive so this patch enables the smoke test and\nrelies on the job definitions to limit the list of tests to a subset.\n\nChange-Id: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\n'}, {'number': 2, 'created': '2021-01-14 17:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/61d467e0b5b55315496c7150f35f1c86af32f042', 'message': 'Re-enable skipped octavia test for scenario 10\n\nThe octavia ""smoke"" test is skipped because of\nhttps://bugs.launchpad.net/tripleo/+bug/1883687. The general Octavia\ntests are rather extensive so this patch enables the smoke test and\nrelies on the job definitions to limit the list of tests to a subset.\n\nChange-Id: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\n'}, {'number': 3, 'created': '2021-01-14 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0809a31551bb99471c57749432d6e973d794283f', 'message': 'Re-enable skipped octavia test for scenario 10\n\nThe octavia ""smoke"" test is skipped because of\nhttps://bugs.launchpad.net/tripleo/+bug/1883687. The general Octavia\ntests are rather extensive so this patch enables the smoke test and\nrelies on the job definitions to limit the list of tests to a subset.\n\nDepends-On: I19c74984bacbcf4ee057a88381904dd711f79940\nChange-Id: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\n'}, {'number': 4, 'created': '2021-01-25 12:48:17.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ecb8c966af1fbc544fd69d3b7b185ea807713a91', 'message': 'Re-enable skipped octavia test for scenario 10\n\nThe octavia ""smoke"" test is skipped because of\nhttps://bugs.launchpad.net/tripleo/+bug/1883687. The general Octavia\ntests are rather extensive so this patch enables the smoke test and\nrelies on the job definitions to limit the list of tests to a subset.\n\nChange-Id: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\n'}]",1,767356,ecb8c966af1fbc544fd69d3b7b185ea807713a91,24,7,4,6681,,,0,"Re-enable skipped octavia test for scenario 10

The octavia ""smoke"" test is skipped because of
https://bugs.launchpad.net/tripleo/+bug/1883687. The general Octavia
tests are rather extensive so this patch enables the smoke test and
relies on the job definitions to limit the list of tests to a subset.

Change-Id: I0436ab3b49ff1738832cee1579ce120c8cc4f00a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/56/767356/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,b815222281752451e3df6e8ed797ad673e493246,,, - name: 'master' reason: 'Connection to the 192.168.24.149 via SSH timed out.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1883687',0,3
openstack%2Fopenstack-ansible~master~Ib1c1b772326bbf8a7ae619d75fe7d065bdbf03fc,openstack/openstack-ansible,master,Ib1c1b772326bbf8a7ae619d75fe7d065bdbf03fc,Add more explantion for variables for external ceph integration,MERGED,2021-01-25 09:45:28.000000000,2021-01-27 10:12:02.000000000,2021-01-27 10:09:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 09:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0123f99020ae41a150fda26b7ac1e0e5e5bdc179', 'message': 'Add more explantion for variables for external ceph integration\n\nChange-Id: Ib1c1b772326bbf8a7ae619d75fe7d065bdbf03fc\n'}, {'number': 2, 'created': '2021-01-25 10:42:35.000000000', 'files': ['doc/source/user/ceph/full-deploy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cfa86f7756f0cea55206a2b13b14429b670797e9', 'message': 'Add more explantion for variables for external ceph integration\n\nChange-Id: Ib1c1b772326bbf8a7ae619d75fe7d065bdbf03fc\n'}]",4,772270,cfa86f7756f0cea55206a2b13b14429b670797e9,12,3,2,25023,,,0,"Add more explantion for variables for external ceph integration

Change-Id: Ib1c1b772326bbf8a7ae619d75fe7d065bdbf03fc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/772270/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/ceph/full-deploy.rst'],1,0123f99020ae41a150fda26b7ac1e0e5e5bdc179,, This method only requires a very small amount of configuration in user_variables to point to the external ceph cluster monitors. The whole configuration for ceph-ansible would live outside the openstack-ansible deployment and there is no duplication. The ``ceph_mons`` variable expects a list of IP addresses for the Ceph Monitor servers in the external ceph deployment: .. code-block:: yaml ceph_mons: - 172.29.244.151 - 172.29.244.152 - 172.29.244.153 monitors in ``user_variables.yml`` as above and providing data to populate ceph.conf and ceph keyring files on the deploy host. This is described here `here <https://docs.openstack.org/openstack-ansible-ceph_client/latest/config-from-file.html>`_., information in ``user_variables.yml`` and providing data to populate ceph.conf and ceph keyring files on the deploy host. This is described `here <https://docs.openstack.org/openstack-ansible-ceph_client/latest/config-from-file.html>`_.,18,3
openstack%2Ftripleo-quickstart-extras~master~I20123a524485f1b7f37d67e9328e2b5e3970cfaa,openstack/tripleo-quickstart-extras,master,I20123a524485f1b7f37d67e9328e2b5e3970cfaa,Install pip 20.3.4 for python 2.,ABANDONED,2021-01-26 14:00:27.000000000,2021-01-27 09:58:34.000000000,,"[{'_account_id': 8297}, {'_account_id': 10969}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-01-26 14:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23c8a38d3e5e66763bec807c354e3f8f46d0cd21', 'message': 'Install pip 20.3.4 for python 2.\n\nThe pip 21[1] is not compatible with python 2.\n\nCloses-Bug: #1913279\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html\n\nChange-Id: I20123a524485f1b7f37d67e9328e2b5e3970cfaa\n'}, {'number': 2, 'created': '2021-01-26 18:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/657cd0b286326af83203269a7eca39b488e124ee', 'message': 'Install pip 20.3.4 for python 2.\n\nThe pip 21[1] is not compatible with python 2.\n\nCloses-Bug: #1913279\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html\n\nChange-Id: I20123a524485f1b7f37d67e9328e2b5e3970cfaa\n'}, {'number': 3, 'created': '2021-01-26 19:17:08.000000000', 'files': ['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d0a0b72eac5280aed16ab948ef5624a9b9459bf', 'message': 'Install pip 20.3.4 for python 2.\n\nThe pip 21[1] is not compatible with python 2.\n\nCloses-Bug: #1913279\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html\n\nChange-Id: I20123a524485f1b7f37d67e9328e2b5e3970cfaa\n'}]",4,772529,0d0a0b72eac5280aed16ab948ef5624a9b9459bf,10,4,3,31245,,,0,"Install pip 20.3.4 for python 2.

The pip 21[1] is not compatible with python 2.

Closes-Bug: #1913279

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html

Change-Id: I20123a524485f1b7f37d67e9328e2b5e3970cfaa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/29/772529/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'],1,23c8a38d3e5e66763bec807c354e3f8f46d0cd21,pip_update_python3," command: ""{{ python_cmd }} -m easy_install pip==20.3.4"""," command: ""{{ python_cmd }} -m easy_install pip""",1,1
openstack%2Fironic-python-agent~master~I4fca1248a804fae783248484da96b249d234da5f,openstack/ironic-python-agent,master,I4fca1248a804fae783248484da96b249d234da5f,Fix failed to get CPU flags on aarch64,NEW,2021-01-27 08:08:57.000000000,2021-01-27 09:58:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-27 08:08:57.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-get-cpu-flags-on-aarch64-10de88aca12c011f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9a44dea734832768cf9f325566cf9b1d6842eca4', 'message': ""Fix failed to get CPU flags on aarch64\n\nThe output of '/proc/cpuinfo' on aarch64 is different. It puts flags\nstring after field 'Features' not 'flags':\n$ cat /proc/cpuinfo (aarch64)\n...\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32 cpuid\n$ cat /proc/cpuinfo (x86_64)\n...\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr ...\n\nWe can use lscpu's output to get cpu flags. Let lscpu to handle cpuinfo\ndifference on different cpu arch[1].\n\n[1]: https://git.kernel.org/pub/scm/utils/util-linux/util-linux.git/tree/sys-utils/lscpu-cputype.c?id=1c675ebee0300553bae2faa04c4796dec61b1ce1#n184\n\nTask: #41699\nStory: #2008561\nChange-Id: I4fca1248a804fae783248484da96b249d234da5f\n""}]",0,772635,9a44dea734832768cf9f325566cf9b1d6842eca4,4,2,1,22997,,,0,"Fix failed to get CPU flags on aarch64

The output of '/proc/cpuinfo' on aarch64 is different. It puts flags
string after field 'Features' not 'flags':
$ cat /proc/cpuinfo (aarch64)
...
Features        : fp asimd evtstrm aes pmull sha1 sha2 crc32 cpuid
$ cat /proc/cpuinfo (x86_64)
...
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr ...

We can use lscpu's output to get cpu flags. Let lscpu to handle cpuinfo
difference on different cpu arch[1].

[1]: https://git.kernel.org/pub/scm/utils/util-linux/util-linux.git/tree/sys-utils/lscpu-cputype.c?id=1c675ebee0300553bae2faa04c4796dec61b1ce1#n184

Task: #41699
Story: #2008561
Change-Id: I4fca1248a804fae783248484da96b249d234da5f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/35/772635/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-get-cpu-flags-on-aarch64-10de88aca12c011f.yaml']",2,9a44dea734832768cf9f325566cf9b1d6842eca4,story/2008561,--- fixes: - | Fix failed to get CPU flags on aarch64. ,,5,12
openstack%2Fpuppet-ceilometer~stable%2Fvictoria~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,stable/victoria,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-01-25 20:48:09.000000000,2021-01-27 09:50:37.000000000,2021-01-27 09:49:07.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 20:48:09.000000000', 'files': ['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a3511cbed6ca4bfa00d766f60344ed44655d81d7', 'message': 'Replace disk.* meters by disk.device.* meters\n\nThe disk.* meters have already removed from ceilometer[1] and we\nshould use the disk.device.* meters instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)\n'}]",0,772398,a3511cbed6ca4bfa00d766f60344ed44655d81d7,8,3,1,4264,,,0,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/98/772398/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml']",4,a3511cbed6ca4bfa00d766f60344ed44655d81d7,bug/1911852-stable/victoria,"--- fixes: - | Now the default meters use disk.device metrics instead of disk metrics, so that disk performance data can be captured by default. ",,15,14
openstack%2Fpuppet-ceilometer~master~Ib5eaacd8f56e88671abec4082012793033b90e71,openstack/puppet-ceilometer,master,Ib5eaacd8f56e88671abec4082012793033b90e71,Fix the wrong file mentioned in the bug 1912345 release note,MERGED,2021-01-27 08:29:30.000000000,2021-01-27 09:50:30.000000000,2021-01-27 09:49:10.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 08:29:30.000000000', 'files': ['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/d27fbd3fed472a51670393a4a295ba6b16a35bea', 'message': 'Fix the wrong file mentioned in the bug 1912345 release note\n\nChange-Id: Ib5eaacd8f56e88671abec4082012793033b90e71\n'}]",0,772636,d27fbd3fed472a51670393a4a295ba6b16a35bea,8,3,1,9816,,,0,"Fix the wrong file mentioned in the bug 1912345 release note

Change-Id: Ib5eaacd8f56e88671abec4082012793033b90e71
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/36/772636/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml'],1,d27fbd3fed472a51670393a4a295ba6b16a35bea,, The template file which is used to create pipeline.yaml when manage_pipeline, The template file which is used to create polling.yaml when manage_pipeline,1,1
openstack%2Ftripleo-ci~master~I68149fadd78f86d9b4a29d45dff99592552d489c,openstack/tripleo-ci,master,I68149fadd78f86d9b4a29d45dff99592552d489c,Use Zuul Ansible of newer 2.9 version with C8 nodes,MERGED,2021-01-21 17:04:20.000000000,2021-01-27 09:44:06.000000000,2021-01-27 09:44:06.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-21 17:04:20.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ec819a0c5014b89c23a7bf738f8c948eeb05ab4', 'message': ""Use Zuul Ansible of newer 2.9 version with C8 nodes\n\nFor running jobs on CentOS 8 nodes use newer Ansilbe version of\nZuul - 2.9.\nPlease note, it's an Ansible version of Zuul itself. Not of\ntripleo, not of CI quickstart, only Zuul playbooks.\n\nChange-Id: I68149fadd78f86d9b4a29d45dff99592552d489c\n""}]",0,771855,4ec819a0c5014b89c23a7bf738f8c948eeb05ab4,24,4,1,10969,,,0,"Use Zuul Ansible of newer 2.9 version with C8 nodes

For running jobs on CentOS 8 nodes use newer Ansilbe version of
Zuul - 2.9.
Please note, it's an Ansible version of Zuul itself. Not of
tripleo, not of CI quickstart, only Zuul playbooks.

Change-Id: I68149fadd78f86d9b4a29d45dff99592552d489c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/771855/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,4ec819a0c5014b89c23a7bf738f8c948eeb05ab4,, ansible-version: 2.9 ansible-version: 2.9, ansible-version: 2.8 ansible-version: 2.8,2,2
openstack%2Fdevstack~stable%2Ftrain~I88ba370de8887a05c473fe7c19a61a319e8812d2,openstack/devstack,stable/train,I88ba370de8887a05c473fe7c19a61a319e8812d2,Use a dedicated version of get-pip.py for python 2.7,MERGED,2021-01-26 01:32:08.000000000,2021-01-27 09:36:23.000000000,2021-01-27 09:34:41.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 17685}, {'_account_id': 18031}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 01:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n'}, {'number': 2, 'created': '2021-01-26 10:03:10.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/469b26f74288b00f3b6128f3a260046ea51c8a43', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nDepends-On: https://review.opendev.org/772486\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n'}]",3,772462,469b26f74288b00f3b6128f3a260046ea51c8a43,21,8,2,841,,,0,"Use a dedicated version of get-pip.py for python 2.7

get-pip.py dropped python 2.7 support, so we cannot use the default
get-pip.py for python 2.7 now. get-pip.py for python 2.7 is available
at https://bootstrap.pypa.io/2.7/get-pip.py.
This commit tries to use python 2.7 version of get-pip.py
for python 2.7 environment.

Depends-On: https://review.opendev.org/772486
Change-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2
(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/772462/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}LOCAL_PIP_PY27=""${LOCAL_PIP}-py27""function _install_get_pip { local interpreter=$1 local pip_get_pip_url=$2 local local_pip=$3 if [[ -r $local_pip ]]; then if ! head -1 $local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $local_pip found removing"" rm $local_pip if [[ ! -r $local_pip || -r $local_pip.downloaded ]]; then if [[ -r $local_pip ]]; then timecond=""-z $local_pip"" $timecond -o $local_pip $pip_get_pip_url || \ touch $local_pip.downloaded sudo -H -E $interpreter $local_pip -c $TOOLS_DIR/cap-pip.txt } function install_get_pip { _install_get_pip python $PIP_GET_PIP_PY27_URL $LOCAL_PIP_PY27 _install_get_pip python${PYTHON3_VERSION} $PIP_GET_PIP_URL $LOCAL_PIP","function install_get_pip { if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",23,12
openstack%2Fcharms.openstack~master~Iad9616d3f8668782cd9c7dc498120536fb756da7,openstack/charms.openstack,master,Iad9616d3f8668782cd9c7dc498120536fb756da7,Skip bindings that don't exist,MERGED,2021-01-26 14:45:21.000000000,2021-01-27 09:33:15.000000000,2021-01-27 09:33:15.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 14:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/d0bea37735207d602257b3c44d012cd5e08db3a3', 'message': ""Skip bindings that don't exist\n\nWhen fetching CNs from bindings, skip those that are not\navailable since not all charms have all bindings.\n\nChange-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7\n""}, {'number': 2, 'created': '2021-01-26 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/73b2f384e9aab1edecdebc1fe05e8339a05bc240', 'message': ""Skip bindings that don't exist\n\nWhen fetching CNs from bindings, skip those that are not\navailable since not all charms have all bindings.\n\nCloses-Bug: 1913313\nChange-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7\n""}, {'number': 3, 'created': '2021-01-26 15:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/bc8771fed2e0facacaa967983a730acedd511fe9', 'message': ""Skip bindings that don't exist\n\nWhen fetching CNs from bindings, skip those that are not\navailable since not all charms have all bindings.\n\nCloses-Bug: 1913313\nChange-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7\n""}, {'number': 4, 'created': '2021-01-26 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/aee317296827eb1f8f8bd064ea9bb497c9f9cf31', 'message': ""Skip bindings that don't exist\n\nWhen fetching CNs from bindings, skip those that are not\navailable since not all charms have all bindings.\n\nCloses-Bug: 1913313\nChange-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7\n""}, {'number': 5, 'created': '2021-01-26 16:37:10.000000000', 'files': ['charms_openstack/charm/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6a050f5b3c26eb3590793a947ec36ec7f88f761c', 'message': ""Skip bindings that don't exist\n\nWhen fetching CNs from bindings, skip those that are not\navailable since not all charms have all bindings.\n\nCloses-Bug: 1913313\nChange-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7\n""}]",3,772534,6a050f5b3c26eb3590793a947ec36ec7f88f761c,13,3,5,6737,,,0,"Skip bindings that don't exist

When fetching CNs from bindings, skip those that are not
available since not all charms have all bindings.

Closes-Bug: 1913313
Change-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/34/772534/2 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,d0bea37735207d602257b3c44d012cd5e08db3a3,bug/1913313, # Not all charms have all bindings to skip if unavailable try: cn = os_ip.resolve_address(endpoint_type=ep_type) except NoNetworkBinding: continue 'cn': cn}), 'cn': os_ip.resolve_address(endpoint_type=ep_type)}),7,1
openstack%2Fcinder~stable%2Focata~I37c028ab063ec9127f02dd479cae49da8bffb11b,openstack/cinder,stable/ocata,I37c028ab063ec9127f02dd479cae49da8bffb11b,Remove experimental job legacy-tempest-dsvm-zeromq-multibackend,ABANDONED,2020-09-10 07:04:21.000000000,2021-01-27 09:12:52.000000000,,"[{'_account_id': 6547}, {'_account_id': 8770}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 26537}]","[{'number': 1, 'created': '2020-09-10 07:04:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5abb47a3e67ee343c8f06c6fc9a1d883f0380fe', 'message': 'Remove experimental job legacy-tempest-dsvm-zeromq-multibackend\n\nThe devstack-plugin-zeromq is retired, see\nhttps://review.opendev.org/748700. Remove this experimental job\nto fix Zuul configuration.\n\nChange-Id: I37c028ab063ec9127f02dd479cae49da8bffb11b\n(cherry picked from commit 0e72ffa9872d2dc0f739a1fc1860e59f5865443c)\n'}]",0,750887,d5abb47a3e67ee343c8f06c6fc9a1d883f0380fe,19,12,1,6547,,,0,"Remove experimental job legacy-tempest-dsvm-zeromq-multibackend

The devstack-plugin-zeromq is retired, see
https://review.opendev.org/748700. Remove this experimental job
to fix Zuul configuration.

Change-Id: I37c028ab063ec9127f02dd479cae49da8bffb11b
(cherry picked from commit 0e72ffa9872d2dc0f739a1fc1860e59f5865443c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/750887/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d5abb47a3e67ee343c8f06c6fc9a1d883f0380fe,retire-devstack-plugin-zmq,, - legacy-tempest-dsvm-zeromq-multibackend: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,0,15
openstack%2Fdevstack~stable%2Fstein~I88ba370de8887a05c473fe7c19a61a319e8812d2,openstack/devstack,stable/stein,I88ba370de8887a05c473fe7c19a61a319e8812d2,Use a dedicated version of get-pip.py for python 2.7,MERGED,2021-01-26 09:54:11.000000000,2021-01-27 09:11:45.000000000,2021-01-27 09:10:04.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 18031}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 09:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/773efe5723c9e747bc6d49457d2732dbe5663cd6', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n'}, {'number': 2, 'created': '2021-01-26 10:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6d7c7a780cb21e1928aeeabf62215ef7c6a3278a', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nDepends-On: https://review.opendev.org/772487\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n'}, {'number': 3, 'created': '2021-01-26 13:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/87e32421e825f187bc547cdc889b55ac25bcfdd2', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n'}, {'number': 4, 'created': '2021-01-26 13:34:33.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/910f00eeeb9bcf998d7d39d68387f5ca5be83245', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)\n'}]",0,772486,910f00eeeb9bcf998d7d39d68387f5ca5be83245,26,6,4,17685,,,0,"Use a dedicated version of get-pip.py for python 2.7

get-pip.py dropped python 2.7 support, so we cannot use the default
get-pip.py for python 2.7 now. get-pip.py for python 2.7 is available
at https://bootstrap.pypa.io/2.7/get-pip.py.
This commit tries to use python 2.7 version of get-pip.py
for python 2.7 environment.

Change-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2
(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)
(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/86/772486/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,773efe5723c9e747bc6d49457d2732dbe5663cd6,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}LOCAL_PIP_PY27=""${LOCAL_PIP}-py27""function _install_get_pip { local interpreter=$1 local pip_get_pip_url=$2 local local_pip=$3 if [[ -r $local_pip ]]; then if ! head -1 $local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $local_pip found removing"" rm $local_pip if [[ ! -r $local_pip || -r $local_pip.downloaded ]]; then if [[ -r $local_pip ]]; then timecond=""-z $local_pip"" $timecond -o $local_pip $pip_get_pip_url || \ touch $local_pip.downloaded sudo -H -E $interpreter $local_pip -c $TOOLS_DIR/cap-pip.txt } function install_get_pip { _install_get_pip python $PIP_GET_PIP_PY27_URL $LOCAL_PIP_PY27 _install_get_pip python${PYTHON3_VERSION} $PIP_GET_PIP_URL $LOCAL_PIP","function install_get_pip { if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",23,12
openstack%2Fsahara-specs~master~Ib7372162cad4bcfa0c67fd14cb440ec49f3cc852,openstack/sahara-specs,master,Ib7372162cad4bcfa0c67fd14cb440ec49f3cc852,remove unicode from code,MERGED,2021-01-05 09:20:21.000000000,2021-01-27 08:53:48.000000000,2021-01-27 08:51:50.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 09:20:21.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/89194cc27532ff16054245bf201d7ae64e3983df', 'message': 'remove unicode from code\n\nChange-Id: Ib7372162cad4bcfa0c67fd14cb440ec49f3cc852\n'}]",0,769274,89194cc27532ff16054245bf201d7ae64e3983df,8,3,1,32020,,,0,"remove unicode from code

Change-Id: Ib7372162cad4bcfa0c67fd14cb440ec49f3cc852
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/74/769274/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,89194cc27532ff16054245bf201d7ae64e3983df,,"project = 'Sahara Specs' copyright = '%s, OpenStack Sahara Team' % datetime.date.today().year ('index', 'doc-sahara-specs.tex', 'Sahara Specs', 'Sahara Team', 'manual'), ('index', 'Sahara-specs', 'Sahara Design Specs', 'OpenStack Sahara Team', 'sahara-specs', 'Design specifications for the Sahara project.',epub_title = 'Sahara Specs' epub_author = 'OpenStack Sahara Team' epub_publisher = 'OpenStack Sahara Team' epub_copyright = '2014, OpenStack Sahara Team'","project = u'Sahara Specs' copyright = u'%s, OpenStack Sahara Team' % datetime.date.today().year ('index', 'doc-sahara-specs.tex', u'Sahara Specs', u'Sahara Team', 'manual'), ('index', 'Sahara-specs', u'Sahara Design Specs', u'OpenStack Sahara Team', 'sahara-specs', 'Design specifications for the Sahara project.',epub_title = u'Sahara Specs' epub_author = u'OpenStack Sahara Team' epub_publisher = u'OpenStack Sahara Team' epub_copyright = u'2014, OpenStack Sahara Team'",10,10
openstack%2Fpuppet-nova~master~I813fde4df06aa70d7d5b60f8b6d7105f3301c762,openstack/puppet-nova,master,I813fde4df06aa70d7d5b60f8b6d7105f3301c762,Deprecate quota parameters for nova-network,MERGED,2021-01-24 12:47:57.000000000,2021-01-27 08:37:47.000000000,2021-01-27 08:35:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 12:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bbce8a45ead475a20f3e9966c8ae2a6ee8dd4cad', 'message': 'Deprecated quota parameters for nova-network\n\n... because nova-network was alreday removed.\n\nChange-Id: I813fde4df06aa70d7d5b60f8b6d7105f3301c762\n'}, {'number': 2, 'created': '2021-01-24 12:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1fa61c6e27ea50f217cb239ad7b615c26c33fdd8', 'message': 'Deprecate quota parameters for nova-network\n\n... because nova-network was alreday removed.\n\nChange-Id: I813fde4df06aa70d7d5b60f8b6d7105f3301c762\n'}, {'number': 3, 'created': '2021-01-24 13:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/43bcba5aaead0298ceaa2cb2e0302f845889b2da', 'message': 'Deprecate quota parameters for nova-network\n\n... because nova-network was alreday removed.\n\nChange-Id: I813fde4df06aa70d7d5b60f8b6d7105f3301c762\n'}, {'number': 4, 'created': '2021-01-25 01:16:40.000000000', 'files': ['manifests/quota.pp', 'releasenotes/notes/deprecate-nova-network-quota-opts-dbdb1fc2e454ed83.yaml', 'spec/classes/nova_quota_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e57eebdc9721e4ac9274999092a717c02ba79777', 'message': 'Deprecate quota parameters for nova-network\n\n... because nova-network was alreday removed.\n\nChange-Id: I813fde4df06aa70d7d5b60f8b6d7105f3301c762\n'}]",0,772199,e57eebdc9721e4ac9274999092a717c02ba79777,20,3,4,9816,,,0,"Deprecate quota parameters for nova-network

... because nova-network was alreday removed.

Change-Id: I813fde4df06aa70d7d5b60f8b6d7105f3301c762
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/772199/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/quota.pp', 'releasenotes/notes/deprecate-nova-network-quota-opts-dbdb1fc2e454ed83.yaml', 'spec/classes/nova_quota_spec.rb']",3,bbce8a45ead475a20f3e9966c8ae2a6ee8dd4cad,removed-quota-opts,," :floating_ips => 10, :fixed_ips => -1, :security_groups => 10, :security_group_rules => 20, :floating_ips => 20, :fixed_ips => 512, :security_groups => 20, :security_group_rules => 40,",47,38
openstack%2Freleases~master~Ia5e8219b5ad003a99865a8cfa1a1316b115ce037,openstack/releases,master,Ia5e8219b5ad003a99865a8cfa1a1316b115ce037,Release octavia-lib 2.3.0 for Wallaby,MERGED,2021-01-25 17:12:13.000000000,2021-01-27 08:35:39.000000000,2021-01-27 08:35:39.000000000,"[{'_account_id': 308}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-01-25 17:12:13.000000000', 'files': ['deliverables/wallaby/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c0d15eb0ca59e20ee3d5b8cb050424a11ad1995', 'message': 'Release octavia-lib 2.3.0 for Wallaby\n\nChange-Id: Ia5e8219b5ad003a99865a8cfa1a1316b115ce037\n'}]",0,772380,8c0d15eb0ca59e20ee3d5b8cb050424a11ad1995,9,5,1,6469,,,0,"Release octavia-lib 2.3.0 for Wallaby

Change-Id: Ia5e8219b5ad003a99865a8cfa1a1316b115ce037
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/772380/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/octavia-lib.yaml'],1,8c0d15eb0ca59e20ee3d5b8cb050424a11ad1995,,releases: - version: 2.3.0 projects: - repo: openstack/octavia-lib hash: 0bc8c6a0b843ecd71ba3795ca7010ca42b3c417f,,5,0
openstack%2Fcharm-glance-simplestreams-sync~master~Idcc87ea634901f9199307c0b8279c3d18383dae0,openstack/charm-glance-simplestreams-sync,master,Idcc87ea634901f9199307c0b8279c3d18383dae0,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:29:53.000000000,2021-01-27 08:26:47.000000000,2021-01-27 08:26:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/475b22e8a4b33af3fe988b747a95286a9e95be5a', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: Idcc87ea634901f9199307c0b8279c3d18383dae0\n'}, {'number': 2, 'created': '2021-01-20 11:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/758dd0d0f6c0d48c52ac5bb63b428de3d47354d9', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n* Include fix for local_address() and NoBindingError\n\nChange-Id: Idcc87ea634901f9199307c0b8279c3d18383dae0\n'}, {'number': 3, 'created': '2021-01-26 15:27:51.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/hahelpers/apache.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/a8405ab0b069e7100df45b795ee44e80ff1bd720', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n* Include fix for local_address() and NoBindingError\n\nChange-Id: Idcc87ea634901f9199307c0b8279c3d18383dae0\n'}]",0,771017,a8405ab0b069e7100df45b795ee44e80ff1bd720,17,3,3,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Include fix for local_address() and NoBindingError

Change-Id: Idcc87ea634901f9199307c0b8279c3d18383dae0
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/17/771017/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/hahelpers/apache.py']",14,475b22e8a4b33af3fe988b747a95286a9e95be5a,sync-for-21-01,"# This file contains the CA cert from the charms ssl_ca configuration # option, in future the file name should be updated reflect that. CONFIG_CA_CERT_FILE = 'keystone_juju_ca_cert' host.install_ca_cert(ca_cert, CONFIG_CA_CERT_FILE)"," host.install_ca_cert(ca_cert, 'keystone_juju_ca_cert')",437,64
openstack%2Fpuppet-nova~master~I48a2cb72788fa96016ff0e394382fc3f8a54f5b0,openstack/puppet-nova,master,I48a2cb72788fa96016ff0e394382fc3f8a54f5b0,Deprecate the removed quota options,MERGED,2021-01-24 11:44:38.000000000,2021-01-27 08:25:12.000000000,2021-01-27 08:23:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 11:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/65e243151deee6eed6ad3fed3bee70be246a4657', 'message': 'Deprecate the removed quota options\n\nThe following three options were already removed from nova[1], thus we\nshould deprecated and remove these parameters from puppet-nova, too.\n - reservation_expire\n - until_refresh\n - max_age\n\n[1] 4743b08f47d5058f557d923736837cee16ecb2e2\nChange-Id: I48a2cb72788fa96016ff0e394382fc3f8a54f5b0\n'}, {'number': 2, 'created': '2021-01-24 13:05:51.000000000', 'files': ['releasenotes/notes/deprecate-removed-quota-opts-4827f4022a67d06b.yaml', 'manifests/quota.pp', 'spec/classes/nova_quota_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9b050f1a679f1029ed35457db0a5a4810ad56bc5', 'message': 'Deprecate the removed quota options\n\nThe following three options were already removed from nova[1], thus we\nshould deprecated and remove these parameters from puppet-nova, too.\n - reservation_expire\n - until_refresh\n - max_age\n\n[1] 4743b08f47d5058f557d923736837cee16ecb2e2\nChange-Id: I48a2cb72788fa96016ff0e394382fc3f8a54f5b0\n'}]",0,772193,9b050f1a679f1029ed35457db0a5a4810ad56bc5,17,3,2,9816,,,0,"Deprecate the removed quota options

The following three options were already removed from nova[1], thus we
should deprecated and remove these parameters from puppet-nova, too.
 - reservation_expire
 - until_refresh
 - max_age

[1] 4743b08f47d5058f557d923736837cee16ecb2e2
Change-Id: I48a2cb72788fa96016ff0e394382fc3f8a54f5b0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/93/772193/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-removed-quota-opts-4827f4022a67d06b.yaml', 'manifests/quota.pp', 'spec/classes/nova_quota_spec.rb']",3,65e243151deee6eed6ad3fed3bee70be246a4657,removed-quota-opts,," :reservation_expire => 86400, :until_refresh => 0, :max_age => 0 :reservation_expire => 6400, :until_refresh => 30, :max_age => 60",31,15
openstack%2Ftrove~master~Ie704db8233c4b797eeefa140c4a11427280dffd9,openstack/trove,master,Ie704db8233c4b797eeefa140c4a11427280dffd9,Stop using pip-and-virtualenv diskimage element,MERGED,2021-01-26 23:14:09.000000000,2021-01-27 07:21:05.000000000,2021-01-27 07:18:57.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 23:14:09.000000000', 'files': ['integration/scripts/files/elements/guest-agent/package-installs.yaml', 'integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/31-guest-agent-install', 'integration/scripts/files/elements/guest-agent/element-deps', 'integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/1e04b269ca75067e28ae3e6ecb60ac2d11ab5b3b', 'message': ""Stop using pip-and-virtualenv diskimage element\n\nALthough diskimage-builder will solve the issue eventually, but we\nstill prefer to put the package installation under trove's own control.\n\nStory: 2008559\nTask: 41697\n\nChange-Id: Ie704db8233c4b797eeefa140c4a11427280dffd9\n""}]",0,772610,1e04b269ca75067e28ae3e6ecb60ac2d11ab5b3b,7,2,1,6732,,,0,"Stop using pip-and-virtualenv diskimage element

ALthough diskimage-builder will solve the issue eventually, but we
still prefer to put the package installation under trove's own control.

Story: 2008559
Task: 41697

Change-Id: Ie704db8233c4b797eeefa140c4a11427280dffd9
",git fetch https://review.opendev.org/openstack/trove refs/changes/10/772610/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/guest-agent/package-installs.yaml', 'integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/31-guest-agent-install', 'integration/scripts/files/elements/guest-agent/element-deps', 'integration/scripts/functions_qemu']",4,1e04b269ca75067e28ae3e6ecb60ac2d11ab5b3b,fix-python2,," elementes=""$elementes pip-and-virtualenv""",5,3
openstack%2Ftripleo-ci~master~I0373fec52c1864541535a485201bca149553bfcf,openstack/tripleo-ci,master,I0373fec52c1864541535a485201bca149553bfcf,tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades,MERGED,2021-01-11 16:51:02.000000000,2021-01-27 06:47:15.000000000,2021-01-27 06:47:15.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 16:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/67cfb2fafe8f22df525432f56e3fc84eff717aab', 'message': 'tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades\n\n* removes for train\n* removes for queens ( non-voting for ages )\n\nRelated-Bug: #1911027\nChange-Id: I0373fec52c1864541535a485201bca149553bfcf\n'}, {'number': 2, 'created': '2021-01-25 08:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b172b696d684fc7348dfef4f7293d3dddb7f6d97', 'message': 'tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades\n\n* removes for train\n* removes for queens ( non-voting for ages )\n\nRelated-Bug: #1911027\nChange-Id: I0373fec52c1864541535a485201bca149553bfcf\n'}, {'number': 3, 'created': '2021-01-25 08:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3363b810d94507f726a9b2c851686e928875c825', 'message': 'tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades\n\n* removes for train\n* removes for queens ( non-voting for ages )\n\nRelated-Bug: #1911027\nChange-Id: I0373fec52c1864541535a485201bca149553bfcf\n'}, {'number': 4, 'created': '2021-01-26 14:54:57.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5057a2e71dceb055478895c542f9db9fa2647e7e', 'message': 'tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades\n\n* removes for train\n* removes for queens ( non-voting for ages )\n\nRelated-Bug: #1911027\nChange-Id: I0373fec52c1864541535a485201bca149553bfcf\n'}]",0,770152,5057a2e71dceb055478895c542f9db9fa2647e7e,29,7,4,9592,,,0,"tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades

* removes for train
* removes for queens ( non-voting for ages )

Related-Bug: #1911027
Change-Id: I0373fec52c1864541535a485201bca149553bfcf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/52/770152/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,67cfb2fafe8f22df525432f56e3fc84eff717aab,tripleo-c7-update-upgrade-removal,," - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: irrelevant-files: *multinode_ignored# The upgrades from Ocata to Pike needs to run # from an uncontainerized to a containerized # deployment, this job runs an upgrade from a # containerized to a containerized deployment. # Older upgrades than Pike can not use this job. # Launchpad bug: #1786062 - job: name: tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades parent: tripleo-ci-base-multinode voting: false branches: ^(stable/(queens|train)).*$ vars: nodes: 1ctlr featureset: '051' extra_tags: - overcloud-upgrade ",0,25
openstack%2Ftacker-specs~master~Ia9d49a724f4874a7ac632db97d1e417d91af37ce,openstack/tacker-specs,master,Ia9d49a724f4874a7ac632db97d1e417d91af37ce,Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver,MERGED,2020-10-26 23:30:08.000000000,2021-01-27 05:18:55.000000000,2021-01-27 05:17:29.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2020-10-26 23:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/cc661efddb57cd3ff1066364157bbfe297b0b969', 'message': 'Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver\n\nIn this spec, we propose the Heal operation for Kubernetes Master\nor Worker-nodes when the VNF is composed of Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL002:\n* Mgmtdriver supports ``heal_start`` for healing worker nodes to\nevacuate Pods and ``heal_end`` for worker and master nodes to join\nthe existing Kubernetes cluster.\n* A sample script is provided to configure Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL003:\n* None.\n\nChange-Id: Ia9d49a724f4874a7ac632db97d1e417d91af37ce\nBlueprint: mgmt-driver-for-k8s-heal\n'}, {'number': 2, 'created': '2020-12-10 02:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3de46463d5ec0f88ae5d180ae491a12f390eb656', 'message': 'Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver\n\nIn this spec, we propose the Heal operation for Kubernetes Master\nor Worker-nodes when the VNF is composed of Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL002:\n* Mgmtdriver supports ``heal_start`` for healing worker nodes to\nevacuate Pods and ``heal_end`` for worker and master nodes to join\nthe existing Kubernetes cluster.\n* A sample script is provided to configure Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL003:\n* None.\n\nChange-Id: Ia9d49a724f4874a7ac632db97d1e417d91af37ce\nBlueprint: mgmt-driver-for-k8s-heal\n'}, {'number': 3, 'created': '2021-01-13 13:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3baf1aaf27cec59944f957985374d888cafa8fb1', 'message': 'Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver\n\nIn this spec, we propose the Heal operation for Kubernetes Master\nor Worker-nodes when the VNF is composed of Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL002:\n* Mgmtdriver supports ``heal_start`` for healing worker nodes to\nevacuate Pods and ``heal_end`` for worker and master nodes to join\nthe existing Kubernetes cluster.\n* A sample script is provided to configure Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL003:\n* None.\n\nChange-Id: Ia9d49a724f4874a7ac632db97d1e417d91af37ce\nBlueprint: mgmt-driver-for-k8s-heal\n'}, {'number': 4, 'created': '2021-01-24 22:33:20.000000000', 'files': ['specs/wallaby/mgmt-driver-for-k8s-heal.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8d26f3069849b824eb2f4f96f6af680ce9b5c0b9', 'message': 'Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver\n\nIn this spec, we propose the Heal operation for Kubernetes Master\nor Worker-nodes when the VNF is composed of Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL002:\n* Mgmtdriver supports ``heal_start`` for healing worker nodes to\nevacuate Pods and ``heal_end`` for worker and master nodes to join\nthe existing Kubernetes cluster.\n* A sample script is provided to configure Kubernetes cluster.\n\nProposed changes for the Heal in ETSI-NFV-SOL003:\n* None.\n\nChange-Id: Ia9d49a724f4874a7ac632db97d1e417d91af37ce\nBlueprint: mgmt-driver-for-k8s-heal\n'}]",13,759773,8d26f3069849b824eb2f4f96f6af680ce9b5c0b9,25,7,4,27880,,,0,"Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver

In this spec, we propose the Heal operation for Kubernetes Master
or Worker-nodes when the VNF is composed of Kubernetes cluster.

Proposed changes for the Heal in ETSI-NFV-SOL002:
* Mgmtdriver supports ``heal_start`` for healing worker nodes to
evacuate Pods and ``heal_end`` for worker and master nodes to join
the existing Kubernetes cluster.
* A sample script is provided to configure Kubernetes cluster.

Proposed changes for the Heal in ETSI-NFV-SOL003:
* None.

Change-Id: Ia9d49a724f4874a7ac632db97d1e417d91af37ce
Blueprint: mgmt-driver-for-k8s-heal
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/73/759773/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/mgmt-driver-for-k8s-heal.rst'],1,cc661efddb57cd3ff1066364157bbfe297b0b969,change-759773-3,"============================================================== Support Healing Kubernetes Master/Worker-nodes with Mgmtdriver ============================================================== https://blueprints.launchpad.net/tacker/+spec/mgmt-driver-for-k8s-heal This specification describes enhancement of Heal operation for the VNF which includes Kubernetes cluster. Problem description =================== The ETSI-compliant VNF Heal operation has been implemented in ``Ussuri`` release and updated to support Notification and Grant operations in ``Victoria`` release. For the use case with OS container based VNF with Kubernetes cluster, it's important to support the cluster management. In this spec, we propose the Heal operation for Kubernetes Master or Worker-nodes when the VNF is composed of Kubernetes cluster with the spec `mgmt-driver-for-k8s-cluster`_. To support healing Kubernetes cluster nodes, MgmtDriver needs to be extended. After deploying a Kubernetes cluster using MgmtDriver as the VNF Lifecycle Management interface with ETSI NFV-SOL 003 [#SOL003]_, the heal related operations are required. When healing a Master or Worker-node, you need not only the default Heal operation, but also the ``heal_end`` operation to register the node to an existing Kubernetes cluster. If you want to heal a Master-node, you need to configure etcd and HA proxy. Also, when healing a Worker-node, you need to apply the required configuration and to make it to leave and join the cluster with the same way in scale-in and scale-out. Proposed change =============== The two patterns of Heal operations are supported: #. Heal a single node (Master / Worker) in Kubernetes cluster based on ETSI NFV-SOL002 [#SOL002]_. + Heal Master-node of Kubernetes cluster Delete a failed Master-node, create a new VM, and incorporate a new Master-node into the existing Kubernetes cluster. The etcd cluster and the load balancer configured as a Master-node are also repaired by MgmtDriver. + Heal Worker-node of Kubernetes cluster Delete the failed Worker-node, create a new VM, and incorporate the new Worker-node into the existing Kubernetes cluster. #. Heal the entire Kubernetes cluster based on ETSI NFV-SOL003 [#SOL003]_. .. note:: The Healing of the Pods in the Kubernetes cluster is out of scope of this specification. .. note:: Failure detection is also out of scope. It is assumed that the user performs a Heal operation to the known node being failed. .. note:: Kubernetes v1.16.0 and Kubernetes python client v11.0 are supported for Kubernetes VIM. VNFD for Healing operation -------------------------- VNFD needs to have ``heal_start`` and ``heal_end`` definition as the following sample: .. code-block:: node_templates: VNF: ... interfaces: Vnflcm: ... heal_start: implementation: mgmt-drivers-kubernetes heal_end: implementation: mgmt-drivers-kubernetes artifacts: mgmt-drivers-kubernetes: description: Management driver for kubernetes cluster type: tosca.artifacts.Implementation.Python file: /.../mgmt_drivers/kubernetes_mgmt.py MasterVDU: type: tosca.nodes.nfv.Vdu.Compute ... WorkerVDU: type: tosca.nodes.nfv.Vdu.Compute ... Request data for Healing operation ---------------------------------- User gives following heal parameter to ""POST /vnf_instances/{id}/heal"" as ``HealVnfRequest`` data type. It is not the same in SOL002 and SOL003. In ETSI NFV-SOL002 v2.6.1 [#SOL002]_: +------------------+---------------------------------------------------------+ | Attribute name | Parameter description | +==================+=========================================================+ | vnfcInstanceId | User specify heal target, user can know ""vnfcInstanceId""| | | by ``InstantiatedVnfInfo.vnfcResourceInfo`` that | | | contained in the response of ""GET /vnf_instances/{id}"". | +------------------+---------------------------------------------------------+ | cause | Not needed | +------------------+---------------------------------------------------------+ | additionalParams | Not needed | +------------------+---------------------------------------------------------+ | healScript | Not needed | +------------------+---------------------------------------------------------+ In ETSI NFV-SOL003 v2.6.1 [#SOL003]_: +------------------+---------------------------------------------------------+ | Attribute name | Parameter description | +==================+=========================================================+ | cause | Not needed | +------------------+---------------------------------------------------------+ | additionalParams | Not needed | +------------------+---------------------------------------------------------+ Tacker in ``Ussuri`` release, ``vnfcInstanceId``, ``cause``, and ``additionalParams`` are supported for both of SOL002 and SOL003. If the vnfcInstanceId parameter is null, this means that healing operation is required for the entire Kubernetes cluster, which is the case in SOL003. Following is a sample of healing request body for SOL002: .. code-block:: { ""vnfcInstanceId"": ""311485f3-45df-41fe-85d9-306154ff4c8d"" } Healing a node in Kubernetes cluster with SOL002 ------------------------------------------------ Healing a Master-node ^^^^^^^^^^^^^^^^^^^^^ The following changes are needed: + Extend MgmtDriver to support ``heal_start`` and ``heal_end`` + In ``heal_start``, the target node is removed from the Kubernetes cluster by deleting it from the etcd cluster and disabling the load balance in HA proxy. These are executed in a sample script invoked in MgmtDriver. + In ``heal_end``, MgmtDriver invokes a sample script to install and configure the new Master-node, to add it to the etcd cluster, and to register in HA proxy for load balancing. .. note:: It is assumed that the required information for Heal operation in MgmtDriver is stored in the additional parameter of the Instantiate and/or Heal request. MgmtDriver passes them to the sample script. The diagram below shows the Heal VNF operation for a Master-node: .. code-block:: +---------------+ | Heal | | Request with | | Additional | | Params | +---+-----------+ | +----------------+-----------+ | v VNFM | | +-------------------+ | | | Tacker-server | | | +---------+---------+ | | | | 4. heal_end | v | Kubernetes cluster | +----------------------+ | (Master) | | +-------------+ | | +----------------------+--+----| MgmtDriver | | | | | | +-----------+-+ | | | | | | | | | | | 1. heal_start | | | | | | Kubernetes | | | +--------------------+----------+ | | cluster | | | | | | | | (Master)| | | | | | | | | | | | | | | | | | | | +----------+ +---+------+ | | | | | | | | | | v | | 3. Create | | +-----------+ | | | | | +------+ | | +------+ | | new VM | | |OpenStack | | | | | | |Worker| | | |Master| |<--------------+--+-|InfraDriver| | | | | | +------+ | | +------+ | | | | +------+----+ | | | | | VM | | VM | | | | | | | | | +----------+ +----------+ | | | | | | | | +----------+ +----------+ | 2. Delete | | | | | | | | +------+ | | +------+ | | failed VM | | | | | | | | |Worker| | | |Master| |<--+-----------+--+--------+ | | | | | +------+ | | +------+ | | | | | | | | | VM | | VM |<--+-----------+--+----------------+ | | | +----------+ +----------+ | | | | | +-------------------------------+ | | Tacker-conductor| | +-------------------------------+ | +----------------------+ | | Hardware Resources | | | +-------------------------------+ +----------------------------+ The diagram shows related component of this spec proposal and an overview of the following processing: #. MgmtDriver pre-processes to remove Master-node from the existing etcd cluster in ``heal_start`` before deleting the failed VM. #. Remove the failed Master-node from etcd cluster by notifying the other active Master-node of the failure. #. Remove the failed VM from a load balancing target by changing the HA Proxy setting. #. OpenStackInfraDriver deletes failed VM. #. OpenStackInfraDriver creates a new VM as a replacement for a failed VM. #. MgmtDriver heals the Kubernetes cluster in ``heal_end``. #. MgmtDriver setup new Master-node on new VMs. This setup procedure can be implemented with the shell script or the python script including installation and configuration tasks. #. Invoke the script for repairing etcd cluster if the Heal target is Master-node. #. Invoke the script for changing HA proxy configuration. .. note:: The failed VMs are expected to be identified by checking vnfcInstanceId parameter in the Heal request. In case of this parameter is null, it means that entire rebuild is required. Those procedure is defined in the specification of etsi-nfv-sol-rest-api-for-VNF-deployment [#VNF-deployment]_. .. note:: To identify the VMs newly created, it is assumed that information such as the number of Worker-node VMs before Heal and the creation time of each VM will need to be referenced. Following sequence diagram describes the components involved and the flow of Healing Master-node operation: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenstackDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/heal""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""heal_start""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get the vim connection info""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""MgmtDriver"" [label = ""get the vm info to be deleted by the request data""]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""remove the failed Master-node from etcd cluster by notifying the other active Master-node of the failure""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""remove the failed Master-node from HA proxy""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenstackDriver"" [label = ""execute OpenstackDriver""]; ""OpenstackDriver"" -> ""Heat"" [label = ""resource signal""]; ""OpenstackDriver"" -> ""Heat"" [label = ""update stack""]; ""OpenstackDriver"" <-- ""Heat"" [label = """"]; ""VnfLcmDriver"" <-- ""OpenstackDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""heal_end""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get the vim connection info""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get the new vm info created by Heal operation.""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""Install Kubernetes on the new Master-node""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""Repairs etcd cluster by invoking shell script""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""Changes HA proxy configuration""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence: #. Client sends a POST request to the Heal VNF Instance resource. #. Basically the same sequence as described in the ""3) Flow of Heal of a VNF instance ""chapter of spec `etsi-nfv-sol-rest-api-for-VNF-deployment`_, except for the MgmtDriver. #. The following processes are performed in ``heal_start``. #. MgmtDriver gets Vim connection information in order to get failed Kubernetes cluster information such as auth_url. #. MgmtDriver gets the failed VM information by checking vnfcInstanceId parameter in the Heal request. #. MgmtDriver remove the failed Master-node from etcd cluster by notifying the other active Master-node of the failure. #. MgmtDriver Remove the failed VM from a load balancing target by changing the HA Proxy setting. #. OpenStack Driver uses Heat to delete failed VM. #. OpenStack Driver uses Heat to create a new VM. #. The following processes are performed in ``heal_end``. #. MgmtDriver gets Vim connection information in order to get existing Kubernetes cluster information such as auth_url. #. MgmtDriver gets the new VM information from the stack resource in Heat. #. MgmtDriver install and configure the Master-node on the VM by invoking a shell script using RemoteCommandExecutor. #. MgmtDriver adds the new Master-node to etcd cluster by invoking shell script using RemoteCommandExecutor. #. MgmtDriver changes HA proxy configuration by invoking shell script using RemoteCommandExecutor. Healing a Worker-node ^^^^^^^^^^^^^^^^^^^^^ The following changes are needed: + Extend MgmtDriver to support ``heal_start`` and ``heal_end`` + In ``heal_start`` + Try evacuating the pod running on the failed VM to another worker node. + Remove the failed Worker-node by notifying the existing Master-node of the failure. + In ``heal_end`` + the same as ``scale_end`` described in the specification of `mgmt-driver-for-k8s-scale`_. MgmtDriver setup new Worker-node on new VMs in ``heal_end``. This setup procedure can be implemented with the shell script or the python script including installation and configuration tasks. .. note:: It is assumed that the required information for Heal operation in MgmtDriver is stored in the additional parameter of the Instantiate and/or Heal request. MgmtDriver passes them to the sample script. The diagram below shows VNF Heal operation for a Worker-node: .. code-block:: +---------------+ | Heal | | Request with | | Additional | | Params | +---+-----------+ | +----------------+-----------+ | v VNFM | | +-------------------+ | | | Tacker-server | | | +---------+---------+ | | | | 4. heal_end | v | Kubernetes cluster | +----------------------+ | (Worker) | | +-------------+ | | +----------------------+--+----| MgmtDriver | | | | | | +-----------+-+ | | | | | | | | | | | 1. heal_start | | | | | | Kubernetes | | | +--------------------+----------+ | | cluster | | | | | | | | (Worker)| | | | | | | | | | | | | | | | | | | | +----------+ +---+------+ | | | | | | | | | | v | | 3. Create | | +-----------+ | | | | | +------+ | | +------+ | | new VM | | |OpenStack | | | | | | |Master| | | |Worker| |<--------------+--+-|InfraDriver| | | | | | +------+ | | +------+ | | | | +------+----+ | | | | | VM | | VM | | | | | | | | | +----------+ +----------+ | | | | | | | | +----------+ +----------+ | 2. Delete | | | | | | | | +------+ | | +------+ | | failed VM | | | | | | | | |Master| | | |Worker| |<--+-----------+--+--------+ | | | | | +------+ | | +------+ | | | | | | | | | VM | | VM |<--+-----------+--+----------------+ | | | +----------+ +----------+ | | | | | +-------------------------------+ | | Tacker-conductor| | +-------------------------------+ | +----------------------+ | | Hardware Resources | | | +-------------------------------+ +----------------------------+ The diagram shows related component of this spec proposal and an overview of the following processing: #. MgmtDriver pre-processes to remove Worker-node from the Kubernetes cluster in ``heal_start`` before deleting the failed VM. #. Try evacuating the pod running on the failed VM to another worker node. #. Remove the failed Worker-node by notifying the existing Master-node of the failure. #. OpenStackInfraDriver deletes failed VM. #. OpenStackInfraDriver creates a new VM as a replacement for a failed VM. #. MgmtDriver heals the Kubernetes cluster in ``heal_end``. This Heal procedure is basically the same as ``scale_end`` described in the specification of `mgmt-driver-for-k8s-scale`_. MgmtDriver setup new Worker-node on new VMs in ``heal_end``. This setup procedure can be implemented with the shell script or the python script including installation and configuration tasks. .. note:: The failed VMs are expected to be identified by checking vnfcInstanceId parameter in the Heal request. In case of this parameter is null, it means that entire rebuild is required. Those procedure is defined in the specification of etsi-nfv-sol-rest-api-for-VNF-deployment [#VNF-deployment]_. .. note:: To identify the VMs newly created, it is assumed that information such as the number of Worker-node VMs before Heal and the creation time of each VM will need to be referenced. Following sequence diagram describes the components involved and the flow of Heal the Worker-node operation: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenstackDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/heal""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""heal_start""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get the vim connection info""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""MgmtDriver"" [label = ""get the vm info to be deleted by the request data""]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""try evacuating the pod running on the failed VM to another worker node""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""Notify the Master-node of the failed VM""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenstackDriver"" [label = ""execute OpenstackDriver""]; ""OpenstackDriver"" -> ""Heat"" [label = ""resource signal""]; ""OpenstackDriver"" -> ""Heat"" [label = ""update stack""]; ""OpenstackDriver"" <-- ""Heat"" [label = """"]; ""VnfLcmDriver"" <-- ""OpenstackDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""heal_end""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get the vim connection info""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get the new vm info created by Heal operation.""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""Install Kubernetes on the new Worker-node""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence: #. Client sends a POST request to the Heal VNF Instance resource. #. Basically the same sequence as described in the ""3) Flow of Heal of a VNF instance ""chapter of spec `etsi-nfv-sol-rest-api-for-VNF-deployment`_, except for the MgmtDriver. #. The following processes are performed in ``heal_start``. #. MgmtDriver gets Vim connection information in order to get failed Kubernetes cluster information such as auth_url. #. MgmtDriver gets the failed VM information by checking vnfcInstanceId parameter in the Heal request. #. Try evacuating the pod running on the failed VM to another worker node. #. Remove the failed Worker-node by notifying the existing Master-node of the failure. #. OpenStack Driver uses Heat to delete failed VM. #. OpenStack Driver uses Heat to create a new VM. #. The following processes are performed in ``heal_end``. #. MgmtDriver gets Vim connection information in order to get existing Kubernetes cluster information such as auth_url. #. MgmtDriver gets the new VM information from the stack resource in Heat. #. MgmtDriver setup a Worker-node on the VM by invoking shell script using RemoteCommandExecutor. Healing a Kubernetes cluster with SOL003 ---------------------------------------- Basically, Heal operation for the entire Kubernetes cluster is based on the spec of `mgmt-driver-for-k8s-cluster`_, which specifies operations for instantiation and termination. For deleting an existing resource in a Heal operation, ``heal_start`` is same as ``terminate_end``, and for generating a new resource in a Heal operation, ``heal_end`` is same as ``instantiate_end``. During the Heal of the entire VNF instance, the VIM information must be deleted and the old Kubernetes cluster information stored in the ``vim_connection_info`` of the VNF Instance table must also be cleared. These operations are required to be implemented in both ``heal_start`` and ``terminate_end``. Following sequence diagram describes the components involved and the flow of Heal operation for an entire VNF instance: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenstackDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" ""NfvoPlugin"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/heal""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""heal_start""]; ""MgmtDriver"" -> ""NfvoPlugin"" [label = ""delete the failed VIM information""]; ""MgmtDriver"" <-- ""NfvoPlugin"" [label = """"]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""Clear the old Kubernetes cluster information stored in the vim_connection_info of the VNF Instance""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenstackDriver"" [label = ""execute OpenstackDriver""]; ""OpenstackDriver"" -> ""Heat"" [label = ""resource signal""]; ""OpenstackDriver"" -> ""Heat"" [label = ""update stack""]; ""OpenstackDriver"" <-- ""Heat"" [label = """"]; ""VnfLcmDriver"" <-- ""OpenstackDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""heal_end""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get stack id""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get ssh ip address and Kubernetes address using stack id""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""install Kubernetes on the new node""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""install etcd cluster by invoking shell script""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""NfvoPlugin"" [label = ""register Kubernetes VIM to tacker""]; ""MgmtDriver"" <-- ""NfvoPlugin"" [label = """"] ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""append Kubernetes cluster VIM info to VimConnectionInfo""] ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"] ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence: #. Client sends a POST request to the Heal VNF Instance resource. #. Basically the same sequence as described in the ""3) Flow of Heal of a VNF instance ""chapter of spec `etsi-nfv-sol-rest-api-for-VNF-deployment`_, except for the MgmtDriver. #. ``heal_start`` works the same as `mgmt-driver-for-k8s-cluster`_ of terminate_end. #. OpenStack Driver uses Heat to delete failed VM. #. OpenStack Driver uses Heat to create a new VM. #. ``heal_end`` works the same as `mgmt-driver-for-k8s-cluster`_ of instantiate_end. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Other contributors: Shotaro Banno <banno.shotaro@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Liang Lu <lu.liang@fujitsu.com> Work Items ---------- + MgmtDriver will be modified to implement: + Support the healing of Kubernetes nodes in ``heal_start`` and ``heal_end``. + Provides the following sample script executed by MgmtDriver: + to incorporate the new Master-node into the existing etcd cluster. + to change HA Proxy settings due to replacement of old and new VMs in the process of ``heal_start`` and ``heal_end`` + Add new unit and functional tests. Dependencies ============ This spec depends on the following specs: + `mgmt-driver-for-k8s-cluster`_ + `mgmt-driver-for-ha-k8s`_ + `mgmt-driver-for-k8s-scale`_ ``heal_end`` referred in ""Proposed change"" is based on ``instantiate_end`` in the spec of `mgmt-driver-for-k8s-cluster`_. Healing operation for individual Master-node is performed assuming that the Kubernetes cluster is an HA configuration, as described in the spec of `mgmt-driver-for-ha-k8s`_. Also, Healing operation for individual Worker-node is referring `mgmt-driver-for-k8s-scale`_ for the ``scale_start``. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== Complete user guide will be added to explain Kubernetes cluster Healing from the perspective of VNF LCM APIs. References ========== .. _support-scale-api-based-on-etsi-nfv-sol: ../victoria/support-scale-api-based-on-etsi-nfv-sol.html .. _mgmt-driver-for-k8s-cluster: ./mgmt-driver-for-k8s-cluster.html .. _mgmt-driver-for-k8s-scale: ./mgmt-driver-for-k8s-scale.html .. _mgmt-driver-for-ha-k8s: ./mgmt-driver-for-ha-k8s.html .. _etsi-nfv-sol-rest-api-for-VNF-deployment: https://specs.openstack.org/openstack/tacker-specs/specs/ussuri/etsi-nfv-sol -rest-api-for-VNF-deployment.html .. [#SOL002] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/ .. [#SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/ .. [#VNF-deployment] https://specs.openstack.org/openstack/tacker-specs/specs/ussuri/etsi-nfv-sol-rest-api-for-VNF-deployment ",,824,0
openstack%2Ftacker-specs~master~I4e7f5e301ca2f576ecc115087620f86844da0a5e,openstack/tacker-specs,master,I4e7f5e301ca2f576ecc115087620f86844da0a5e,Support hardware-aware affinity for pods on k8s cluster,MERGED,2020-10-26 23:35:19.000000000,2021-01-27 05:07:20.000000000,2021-01-27 05:06:04.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-10-26 23:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7e4ed0a8bbbdf764b9b0533e0ae71d5d885e7ce4', 'message': 'Support hardware-aware affinity for pods on k8s cluster\n\nWhen instantiating CNF on their VNF of Kubernetes cluster, the Pods\nmay be scheduled on the same physical Compute server while they are\nlabeled with anti-affinity rules. In this spec, we propose a\nhardware-aware affinity for Pods.\n\nThe following changes are required:\n* MgmtDriver supports to correct the required information to label\nthe worker nodes.\n* A sample script executed by MgmtDriver is provided to add the labels.\n\nChange-Id: I4e7f5e301ca2f576ecc115087620f86844da0a5e\nBlueprint: hardware-aware-pod-affinity\n'}, {'number': 2, 'created': '2021-01-13 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dc619ea33eead43a23a9a6392321938ffd874af8', 'message': 'Support hardware-aware affinity for pods on k8s cluster\n\nWhen instantiating CNF on their VNF of Kubernetes cluster, the Pods\nmay be scheduled on the same physical Compute server while they are\nlabeled with anti-affinity rules. In this spec, we propose a\nhardware-aware affinity for Pods.\n\nThe following changes are required:\n* MgmtDriver supports to correct the required information to label\nthe worker nodes.\n* A sample script executed by MgmtDriver is provided to add the labels.\n\nChange-Id: I4e7f5e301ca2f576ecc115087620f86844da0a5e\nBlueprint: hardware-aware-pod-affinity\n'}, {'number': 3, 'created': '2021-01-24 22:34:52.000000000', 'files': ['specs/wallaby/hardware-aware-pod-affinity.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d078a5a91de039f29b6a0f9959776a9fcd4910d8', 'message': 'Support hardware-aware affinity for pods on k8s cluster\n\nWhen instantiating CNF on their VNF of Kubernetes cluster, the Pods\nmay be scheduled on the same physical Compute server while they are\nlabeled with anti-affinity rules. In this spec, we propose a\nhardware-aware affinity for Pods.\n\nThe following changes are required:\n* MgmtDriver supports to correct the required information to label\nthe worker nodes.\n* A sample script executed by MgmtDriver is provided to add the labels.\n\nChange-Id: I4e7f5e301ca2f576ecc115087620f86844da0a5e\nBlueprint: hardware-aware-pod-affinity\n'}]",16,759774,d078a5a91de039f29b6a0f9959776a9fcd4910d8,20,8,3,27880,,,0,"Support hardware-aware affinity for pods on k8s cluster

When instantiating CNF on their VNF of Kubernetes cluster, the Pods
may be scheduled on the same physical Compute server while they are
labeled with anti-affinity rules. In this spec, we propose a
hardware-aware affinity for Pods.

The following changes are required:
* MgmtDriver supports to correct the required information to label
the worker nodes.
* A sample script executed by MgmtDriver is provided to add the labels.

Change-Id: I4e7f5e301ca2f576ecc115087620f86844da0a5e
Blueprint: hardware-aware-pod-affinity
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/74/759774/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/hardware-aware-pod-affinity.rst'],1,7e4ed0a8bbbdf764b9b0533e0ae71d5d885e7ce4,change-759774-2,"======================================================= Support hardware-aware affinity for pods on k8s cluster ======================================================= https://blueprints.launchpad.net/tacker/+spec/hardware-aware-pod-affinity Problem description =================== In case of deploying a Container Network Function on the VNF of a Kubernetes cluster with the blueprint ""CNF Support with ETSI NFV specifications"" [#CNF_Support_with_ETSI_NFV]_, the Pods may be scheduled on the same physical Compute server while they are labeled with anti-affinity rules [#Assigning_Pods_to_Nodes]_. The anti-affinity Rule can deploy the Pods on different worker nodes, but the worker nodes may be in the same server. In this spec, we propose a hardware-aware affinity for Pods. Proposed change =============== This spec proposes the design for pod deployment operations with hardware-aware affinity. It is assumed that a label is given when the Worker-node is deployed as the VNF-A process, and based on this label, the Worker-node to which the pod is deployed is determined in the VNF-B process. The following changes are required. #. VNF-A: Create a VM, set up the Kubernetes cluster and set labels to Worker-node. + MgmtDriver sets ``label`` based on which compute server the new created Worker-node have been deployed on by invoking a shell script in ``instantiate_end`` of instantiation process for VNF-A In addition, this specification assumes that each Worker-node is deployed to a different compute server, and this can be done using the anti-affinity mechanism. However, it is not supported to deploy a VM with anti-affinity settings in TOSCA file because this parameter is not supported by Heat-translator while TOSCA v1.2 has definition. Therefore, the following modifications are required. + Heat-translator translates the anti-affinity settings defined in the TOSCA file into the Heat template. + VnflcmDriver deploys the Worker-node on a different compute server based on the anti-affinity settings specified in the Heat template. .. note:: On the other hand, using the UserData method of instantiation with BaseHOT described in the spec of `LCM-operation-with-user-data`_, there is no need to change the existing Tacker implementation. #. VNF-B: Deploy CNF on the Kubernetes cluster inside VNF-A and VNFC(Pod) is created on the Worker-node selected by label. There is no need to change the existing Tacker implementation for VNF-B. Instantiate operation for CNF is same as described in the spec of `CNF-with-VNFM-and-CISM`_. Note that the Kubernetes object file must contain definitions for anti-affinity mechanism to meet this specification of pod deployment operations with hardware-aware affinity. .. note:: Kubernetes v1.16.0 and Kubernetes python client v11.0 are supported for Kubernetes VIM. VNF-A: Create a VM, set up the Kubernetes cluster and set labels ---------------------------------------------------------------- Basically, the specification is based on `mgmt-driver-for-k8s-cluster`_. As an additional change, we suggest an operation to deploy a pod that supports hardware-aware affinity by labeling the Worker-node. The diagram below shows assigning a label to Worker-nodes newly created: .. code-block:: +-----------+ +-----------+ +---------+ +--------+ | Heat | | LCM | | Cluster | | | | Template | | operation | | Install | | VNFD | | (BaseHOT) | | UserData | | Script | | | +-----+-----+ +-----+-----+ +-------+-+ +-+------+ | | | | | | v v +---------------+ | | +----------+ | Instantiation | | +----------->| | | Request with | | | CSAR | | Additional | -------------------------->| | | Params | +----+-----+ +--------+------+ | | +----------+ | | | | |1.Instantiate | | VNF +--+--------+------------+ | v v | +-------------------+ | +------------------+ | | | | | Tacker-server | | | +-----+ | | +------------------+ | | | Pod | | | | | | +-----+ | | +----------+ | | |<----+ | +------------------+ | | | Kubernetes | | +------------+ | | +--------------+ | | | | cluster(Worker02) |<-+ | | Kubernetes | | | | Kubernetes | | | | +-------------------+ | | | cluster | | | | InfraDriver | | | | +-------------------+ | | | (Master) |<--+ | | | | | | | | Compute02 | | | +------------+ | | | +--------------+ | | | +-------------------+ | | 3.Setup new | | | | | | | | Worker-node | | | +-------------+ | | | | | and set label | | | | MgmtDriver | | | | +-------------------+ | | during k8s cluster | | | +-----+-------+ | | | | | | | installation | | | | |<+ | | +-----+ |<-|--+----------------------+--+-+--------+ | | | | Pod | | | | | | +-------------+ | | | +-----+ | | | | | |OpenStack | | | | |<-+ | | | |InfraDriver | | | | Kubernetes | | | | | +-----+-------+ | | | cluster(Worker01) | | 2. Create VMs | | | | | | +-------------------+ +-------------------------+--+-+--------+ | | +-------------------+ | | Tacker conductor | | | Compute01 | | +------------------+ | +-------------------+ +------------------------+ The diagram shows related component of this spec proposal and an overview of the following processing: #. Tacker-server receives instantiation requests for VNF by user. #. OpenStackInfraDriver creates new VMs when building the initial Kubernetes cluster. #. MgmtDriver setups new Worker-node on new VMs and sets ``label`` based on which compute server the new created Worker-node have been deployed on by invoking a shell script. These processes are same as described in the specification of `mgmt-driver-for-k8s-cluster`_, except for the process of setting ``label``. .. note:: Using Kubernetes AntiAffinity mechanisms can meet the requirements of this specification. Worker-nodes can be labeled using some types of Topology Keys: ``hostname``, ``zone``, and so on. When, for example, the ``hostname`` is referred to, a specific node can be selected from among a plurality of worker-nodes. Based on this label, the node on which the pod is to be deployed can be determined by the logic of AntiAffinity. However, the specification requires that you control which compute server the pod is deployed to on which node, so you need to use the topology key of ``zone``. .. note:: The diagram above assumes that the newly generated Worker-node is labeled based on the hostname of hardware server for the topology key of ``zone``. If Worker-node was created in Computer01, it is labeled as follows: + kubernetes.io/zone=Compute01 If Worker-node was created in Computer02, it is labeled as follows: + kubernetes.io/zone=Compute02 Required components of CSAR package for Instantiation ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This spec is assumed to be satisfied in two ways. One is the UserData method, which requires defining the relevant settings in the BaseHOT, and the other is the TOSCA method specified in SOL 001. + BaseHOT: This UserData method does not require any Tacker implementation changes. The BaseHOT requires the configuration of an ``srvgroup`` that contains policy definitions for the anti-affinity. + TOSCA: This method requires new support for the ``AntiAffinityRule`` and ``PlacementGroup`` parameters in the translation process of ""HeatTranslator"". #. VNFD & BaseHOT definition + VNFD VNFD is same as described in the ""VNFD for Kube-adm with TOSCA template"" chapter of spec `mgmt-driver-for-k8s-cluster`_. + Heat template You need to define ``srvgroup`` as shown in the sample below. .. code-block:: parameters: ... srvgroup_name: type: string description: Name of the ServerGroup default: ServerGroup resources: srvgroup: type: OS::Nova::ServerGroup properties: name: { get_param: srvgroup_name } policies: [ 'anti-affinity' ] masterNode: type: OS::Heat::AutoScalingGroup properties: desired_capacity: 3 max_size: 5 min_size: 3 ... scheduler_hints: group: { get_resource: srvgroup } workerNode: type: OS::Heat::AutoScalingGroup properties: desired_capacity: 3 max_size: 5 min_size: 3 ... scheduler_hints: group: { get_resource: srvgroup } #. VNFD with TOSCA template It is basically the same as described in the ""VNFD for Kube-adm with TOSCA template"" chapter of spec `mgmt-driver-for-k8s-cluster`_, but you need to add the following settings. + ``min_number_of_instances`` of the ``targets`` must be set to 2 or higher. + You need to add ``PlacementGroup`` and ``AntiAffinityRule``. .. code-block:: node_template: ... masterNode: type: tosca.nodes.nfv.Vdu.Compute ... workerNode: type: tosca.nodes.nfv.Vdu.Compute properties: name: workerNode description: workerNode vdu_profile: max_number_of_instances: 5 min_number_of_instances: 3 groups: antiAffinityGroup: type: tosca.groups.nfv.PlacementGroup members: [ masterNode, workerNode ] policies: policy_antiaffinity_group: type: tosca.policies.nfv.AntiAffinityRule targets: [ antiAffinityGroup ] properties: scope: nfvi_node scaling_aspects: type: tosca.policies.nfv.ScalingAspects properties: aspects: worker_instance: name: worker_instance_aspect description: worker_instance scaling aspect max_scale_level: 2 step_deltas: - delta_1 masterNode_initial_delta: type: tosca.policies.nfv.VduInitialDelta properties: initial_delta: number_of_instances: 1 targets: [ masterNode ] masterNode_scaling_aspect_deltas: type: tosca.policies.nfv.VduScalingAspectDeltas properties: aspect: worker_instance deltas: delta_1: number_of_instances: 1 targets: [ workerNode ] workerNode_initial_delta: type: tosca.policies.nfv.VduInitialDelta properties: initial_delta: number_of_instances: 1 targets: [ workerNode ] workerNode_scaling_aspect_deltas: type: tosca.policies.nfv.VduScalingAspectDeltas properties: aspect: worker_instance deltas: delta_1: number_of_instances: 1 targets: [ workerNode ] Request data(BaseHOT/TOSCA) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ #. BaseHOT Below is a sample of body provided in the VNF instantiation request `POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/instantiate`: .. code-block:: json { ""flavourId"": ""cluster_install"", ""additionalParams"": { ""lcm-operation-user-data"": ""UserData/base_user_data.py"", ""lcm-operation-user-data-class"": ""BaseUserData"", ""input_params"":"""" }, ""vimConnectionInfo"": [ { ""id"": ""8a3adb69-0784-43c7-833e-aab0b6ab4470"", ""vimId"": ""7dc3c839-bf15-45ac-8dff-fc5b95c2940e"", ""vimType"": ""openstack"" } ] } #. TOSCA Below is a sample of body provided in the VNF instantiation request `POST /vnflcm/v1/vnf_instances/{vnfInstanceId}/instantiate` .. code-block:: json { ""flavourId"": ""cluster_install"", ""additionalParams"": { ""input_params"":"""" }, ""vimConnectionInfo"": [ { ""id"": ""8a3adb69-0784-43c7-833e-aab0b6ab4470"", ""vimId"": ""7dc3c839-bf15-45ac-8dff-fc5b95c2940e"", ""vimType"": ""openstack"" } ] } Following sequence diagram describes the components involved and the flow of instantiate VNF operation in which new Worker-node is set label of ``zone``: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenstackDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenstackDriver"" [label = ""execute OpenstackDriver""]; ""OpenstackDriver"" -> ""Heat"" [label = ""create stack""]; ""OpenstackDriver"" <-- ""Heat"" [label = ""return stack id""]; ""VnfLcmDriver"" <-- ""OpenstackDriver"" [label = ""return instance_id""]; ""VnfLcmDriver"" -> ""MgmtDriver"" [label = ""instantiate_end""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get stack id""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get ssh ipaddress and Kubernetes address using stack id""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""install Kubernetes on the new Worker-node""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""sets label of compute server""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""VnfLcmDriver"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence. #. Client sends ""instantiate"" as a POST request. #. Basically the same sequence as described in the ""2) Flow of Instantiation of a VNF instance"" chapter of spec `etsi-nfv-sol-rest-api-for-VNF-deployment`_, except for the MgmtDriver. #. The following processes are performed in ``instantiate_end``. #. MgmtDriver gets new VM information from Heat. #. MgmtDriver installs Kubernetes on the new Worker-node by a shell script as described in the spec of `mgmt-driver-for-k8s-cluster`_ .. note:: The Master-node installation process is omitted here for the sake of simplicity. #. MgmtDriver sets ``label`` based on which compute server the new created Worker-node have been deployed on by invoking a shell script. .. note:: The process of this label setting needs to be added to ``scale_end`` and ``heal_end`` as well. Please refer to the specification of `mgmt-driver-for-k8s-scale`_ and `mgmt-driver-for-k8s-heal`_ for details. .. note:: This sequence is described on the premise of using BaseHOT. In case of using TOSCA method, the translation process of ""HeatTranslator"" need to be modified as described in ""2) Flow of Instantiation of a VNF instance "" chapter of the spec `etsi-nfv-sol-rest-api-for-VNF-deployment`_, regarding new support for the ``AntiAffinityRule`` and ``PlacementGroup`` parameter. VNF-B: Deploy CNF on the Kubernetes cluster inside VNF-A -------------------------------------------------------- Basically, the specification is based on `CNF-with-VNFM-and-CISM`_. On which Worker-nodes pod are generated is determined based on the label. The diagram below shows that the pod is deployed in place based on the label assigned to the Worker-node. .. code-block:: +-----------+ +-----------+ +---------+ +--------+ | Heat | | LCM | | Cluster | | | | Template | | operation | | Install | | VNFD | | (BaseHOT )| | UserData | | Script | | | +-----+-----+ +-----+-----+ +-------+-+ +-+------+ | | | | | | v v +---------------+ | | +----------+ | Instantiation | | +----------->| | | Request with | | | CSAR | | Additional | -------------------------->| | | Params | +----+-----+ +--+------------+ | | 1.Instantiate +----------+ | CNF | | | | | | +--+--+------------------+ 2.Instantiate | v v | +-------------------+ VNFC(Pod) | +------------------+ | | | on the Worker-node | | Tacker-server | | | +-----+ | selected by label | +---+--------------+ | | | Pod |<----------+--------+ | | | | +-----+ | | | v | | | | | +------------------+ | | Kubernetes | | +------------+ | | +--------------+ | | | cluster(Worker02) | | | Kubernetes | | | | Kubernetes | | | +-------------------+ +--+ cluster |------+-+-| InfraDriver | | | +-------------------+ | (Master) | | | | | | | | Compute02 | +------------+ | | +--------------+ | | +-------------------+ | | | | | | +-------------+ | | | | | Mgmt Driver | | | +-------------------+ | | +-------------+ | | | | | | | | | +-----+ | | | | | | | Pod | | | | +-------------+ | | | +-----+ | | | |OpenStack | | | | | | | |Infra Driver | | | | Kubernetes | | | +-------------+ | | | cluster(Worker01) | | | | | +-------------------+ | | | | +-------------------+ | | Tacker conductor | | | Compute01 | | +------------------+ | +-------------------+ +------------------------+ The diagram shows related component of this spec proposal and an overview of the following processing: #. Tacker-server receives instantiation requests for CNF by user. #. KubernetesInfraDriver calls Kubernetes client API for instantiation, and then Kubernetes cluster instantiates pods on Worker-nodes in the specified computer server. VNFD - Kubernetes object file ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Kubernetes object file needs to have ``affinity`` definition as the following sample: .. code-block:: yaml apiVersion: apps/v1 kind: Deployment metadata: name: redis-cache spec: selector: matchLabels: app: store replicas: 2 template: metadata: labels: app: store spec: affinity: podAntiAffinity: requiredDuringSchedulingIgnoredDuringExecution: - labelSelector: matchExpressions: - key: app operator: In values: - store topologyKey: kubernetes.io/zone containers: - name: redis-server image: redis:3.2-alpine .. note:: The above is a sample configuration for deploying a new pod on a Worker-node using podAntiAffinity across a zone, here meaning compute server. It should be noted that the parameter of requirdedDirectionSchedulingIgnoredDuringExecution is a parameter representing a condition that if there is no deployment location that satisfies this condition, the pod deployment is not executed. On the other hand, if preferredDuringSchedulingIgnoredDuringExecution is specified, the pod is deployed. Request data and sequence for instantiate CNF operation is same as described in the spec of `CNF-with-VNFM-and-CISM`_. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Other contributors: Shotaro Banno <banno.shotaro@fujitsu.com> LiangLu <lu.liang@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Work Items ---------- + MgmtDriver will be modified to implement: + Identify on which computer server the new worker-node was deployed in ``instantiate_end``, ``scale_end`` and ``heal_end``. + Provide a sample script to be executed by MgmtDriver to set the zone label on the worker node using the compute server information. + Either of the following changes is required depending on the method: + BaseHOT: This UserData method does not require any Tacker implementation changes. The BaseHOT requires the configuration of an ``srvgroup`` that contains policy definitions for the anti-affinity. + TOSCA: This method requires new support for the ``AntiAffinityRule`` and ``PlacementGroup`` parameters in the translation process of ""HeatTranslator"". + Add new unit and functional tests. Dependencies ============ The ``instantiate_end`` referenced in the ""Proposed Changes"" is the same as the spec of `mgmt-driver-for-k8s-cluster`_. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== Complete user guide will be added to explain the deploying operation for pod with hardware-aware affinity from the perspective of VNF LCM APIs. References ========== .. [#CNF_Support_with_ETSI_NFV] https://blueprints.launchpad.net/tacker/+spec/cnf-support-with-etsi-nfv-specs .. [#Assigning_Pods_to_Nodes] https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/ .. _etsi-nfv-sol-rest-api-for-VNF-deployment: https://specs.openstack.org/openstack/tacker-specs/specs/ussuri/etsi-nfv-sol -rest-api-for-VNF-deployment.html .. _mgmt-driver-for-k8s-cluster: ./mgmt-driver-for-k8s-cluster.html .. _mgmt-driver-for-k8s-scale: ./mgmt-driver-for-k8s-scale.html .. _mgmt-driver-for-k8s-heal: ./mgmt-driver-for-k8s-heal.html .. _CNF-with-VNFM-and-CISM: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/container-network-function.html# .. _LCM-operation-with-user-data: https://specs.openstack.org/openstack/tacker-specs/specs/ussuri/lcm-operation-with-lcm-operation-user-data.html ",,671,0
openstack%2Fneutron~master~I880f6d02e270fc990df71d18567e06b64e12be19,openstack/neutron,master,I880f6d02e270fc990df71d18567e06b64e12be19,Implement secure RBAC for trunk API,MERGED,2020-12-03 23:04:21.000000000,2021-01-27 05:04:59.000000000,2021-01-27 05:01:51.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32067}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac034c688a786856d954cb9ae2e2aeaa972ec796', 'message': 'Implement secure RBAC for trunk API\n\nThis commit updates the trunk policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I880f6d02e270fc990df71d18567e06b64e12be19\n'}, {'number': 2, 'created': '2020-12-08 09:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86591133f2c65748609c938657492dd440d4b7b2', 'message': 'Implement secure RBAC for trunk API\n\nThis commit updates the trunk policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I880f6d02e270fc990df71d18567e06b64e12be19\n'}, {'number': 3, 'created': '2020-12-15 13:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb51edade400d5924026a1001174d618c32aa287', 'message': 'Implement secure RBAC for trunk API\n\nThis commit updates the trunk policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I880f6d02e270fc990df71d18567e06b64e12be19\n'}, {'number': 4, 'created': '2020-12-17 11:32:46.000000000', 'files': ['neutron/conf/policies/trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c653c06c78cac30cc0bb80625c0985f9e0f669c6', 'message': 'Implement secure RBAC for trunk API\n\nThis commit updates the trunk policies to understand scope checking and account\nfor a read-only role. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I880f6d02e270fc990df71d18567e06b64e12be19\n'}]",1,765390,c653c06c78cac30cc0bb80625c0985f9e0f669c6,25,7,4,5046,,,0,"Implement secure RBAC for trunk API

This commit updates the trunk policies to understand scope checking and account
for a read-only role. This is part of a broader series of changes across
OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I880f6d02e270fc990df71d18567e06b64e12be19
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/765390/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/trunk.py'],1,ac034c688a786856d954cb9ae2e2aeaa972ec796,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The trunks API now supports system scope and default roles. """""" deprecated_create_trunk = policy.DeprecatedRule( name='create_trunk', check_str=base.RULE_ANY ) deprecated_get_trunk = policy.DeprecatedRule( name='get_trunk', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_trunk = policy.DeprecatedRule( name='update_trunk', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_delete_trunk = policy.DeprecatedRule( name='delete_trunk', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_get_subports = policy.DeprecatedRule( name='get_subports', check_str=base.RULE_ANY ) deprecated_add_subports = policy.DeprecatedRule( name='add_subports', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_remove_subports = policy.DeprecatedRule( name='remove_subports', check_str=base.RULE_ADMIN_OR_OWNER ) name='create_trunk', check_str=base.PROJECT_MEMBER, scope_types=['project'], description='Create a trunk', operations=[ ], deprecated_rule=deprecated_create_trunk, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_trunk', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['project', 'system'], description='Get a trunk', operations=[ ], deprecated_rule=deprecated_get_trunk, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_trunk', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['project', 'system'], description='Update a trunk', operations=[ ], deprecated_rule=deprecated_update_trunk, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_trunk', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['project', 'system'], description='Delete a trunk', operations=[ ], deprecated_rule=deprecated_delete_trunk, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_subports', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['project', 'system'], description='List subports attached to a trunk', operations=[ ], deprecated_rule=deprecated_get_subports, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='add_subports', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['project', 'system'], description='Add subports to a trunk', operations=[ ], deprecated_rule=deprecated_add_subports, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='remove_subports', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['project', 'system'], description='Delete subports from a trunk', operations=[ ], deprecated_rule=deprecated_remove_subports, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'create_trunk', base.RULE_ANY, 'Create a trunk', [ ] 'get_trunk', base.RULE_ADMIN_OR_OWNER, 'Get a trunk', [ ] 'update_trunk', base.RULE_ADMIN_OR_OWNER, 'Update a trunk', [ ] 'delete_trunk', base.RULE_ADMIN_OR_OWNER, 'Delete a trunk', [ ] 'get_subports', base.RULE_ANY, 'List subports attached to a trunk', [ ] 'add_subports', base.RULE_ADMIN_OR_OWNER, 'Add subports to a trunk', [ ] 'remove_subports', base.RULE_ADMIN_OR_OWNER, 'Delete subports from a trunk', [ ]",97,35
openstack%2Ftacker-specs~master~I43181d0a4cf4707f68fc7aa49aa7dbdb7be035d0,openstack/tacker-specs,master,I43181d0a4cf4707f68fc7aa49aa7dbdb7be035d0,Support scaling Kubernetes Worker-nodes with Mgmtdriver,MERGED,2020-10-26 23:15:04.000000000,2021-01-27 05:03:52.000000000,2021-01-27 05:02:41.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2020-10-26 23:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c49f373bb18c3be152a3a3f1839670ac5985d486', 'message': 'Support scaling Kubernetes Worker-nodes with Mgmtdriver\n\nThis spec proposes the Scale operation for worker nodes in a\nKubernetes cluster as VNF with ETSI NFV-SOL003. The ``scale_start``\nand ``scale_end`` operation defined in ETSI NFV-SOL001 enables to\npre/post-configure the scaled VMs.\n\nThe following changes are required:\n* Implement a new MgmtDriver to support ``scale_start`` and\n``scale_end``.\n* Provide a sample script executed by MgmtDriver to install and/or\nconfigure Kubernetes cluster.\n\nChange-Id: I43181d0a4cf4707f68fc7aa49aa7dbdb7be035d0\nBlueprint: mgmt-driver-for-k8s-scale\n'}, {'number': 2, 'created': '2021-01-13 13:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9d3040627b156c3e965bb6286d5f740314ab68f3', 'message': 'Support scaling Kubernetes Worker-nodes with Mgmtdriver\n\nThis spec proposes the Scale operation for worker nodes in a\nKubernetes cluster as VNF with ETSI NFV-SOL003. The ``scale_start``\nand ``scale_end`` operation defined in ETSI NFV-SOL001 enables to\npre/post-configure the scaled VMs.\n\nThe following changes are required:\n* Implement a new MgmtDriver to support ``scale_start`` and\n``scale_end``.\n* Provide a sample script executed by MgmtDriver to install and/or\nconfigure Kubernetes cluster.\n\nChange-Id: I43181d0a4cf4707f68fc7aa49aa7dbdb7be035d0\nBlueprint: mgmt-driver-for-k8s-scale\n'}, {'number': 3, 'created': '2021-01-24 22:31:49.000000000', 'files': ['specs/wallaby/mgmt-driver-for-k8s-scale.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3ee79b7338072e47dc9a1480e2a7900154f7401e', 'message': 'Support scaling Kubernetes Worker-nodes with Mgmtdriver\n\nThis spec proposes the Scale operation for worker nodes in a\nKubernetes cluster as VNF with ETSI NFV-SOL003. The ``scale_start``\nand ``scale_end`` operation defined in ETSI NFV-SOL001 enables to\npre/post-configure the scaled VMs.\n\nThe following changes are required:\n* Implement a new MgmtDriver to support ``scale_start`` and\n``scale_end``.\n* Provide a sample script executed by MgmtDriver to install and/or\nconfigure Kubernetes cluster.\n\nChange-Id: I43181d0a4cf4707f68fc7aa49aa7dbdb7be035d0\nBlueprint: mgmt-driver-for-k8s-scale\n'}]",15,759770,3ee79b7338072e47dc9a1480e2a7900154f7401e,21,7,3,27880,,,0,"Support scaling Kubernetes Worker-nodes with Mgmtdriver

This spec proposes the Scale operation for worker nodes in a
Kubernetes cluster as VNF with ETSI NFV-SOL003. The ``scale_start``
and ``scale_end`` operation defined in ETSI NFV-SOL001 enables to
pre/post-configure the scaled VMs.

The following changes are required:
* Implement a new MgmtDriver to support ``scale_start`` and
``scale_end``.
* Provide a sample script executed by MgmtDriver to install and/or
configure Kubernetes cluster.

Change-Id: I43181d0a4cf4707f68fc7aa49aa7dbdb7be035d0
Blueprint: mgmt-driver-for-k8s-scale
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/70/759770/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/mgmt-driver-for-k8s-scale.rst'],1,c49f373bb18c3be152a3a3f1839670ac5985d486,change-759770-2,"======================================================= Support scaling Kubernetes Worker-nodes with Mgmtdriver ======================================================= https://blueprints.launchpad.net/tacker/+spec/mgmt-driver-for-k8s-scale Problem description =================== The ``Victoria`` release supports the ETSI-compliant VNF scale interface. For the use case with OS container based VNF with Kubernetes cluster, it's important to support the cluster management. This spec proposes the scaling of Worker-nodes for the VNF including Kubernetes cluster. It helps to install and configure the cluster to add or remove a Worker-node with Mgmtdriver. This operation assumes that the VNF is deployed the spec `mgmt-driver-for-k8s-cluster`_. Proposed change =============== The following changes are needed: #. Implement a new MgmtDriver to support ``scale_start`` and ``scale_end`` defined in ETSI NFV-SOL001 [#SOL001]_. #. scale-out The scale-out process will include: #. Deploy new VMs for Worker-nodes with OpenStackInfraDriver #. Add the deployed VMs to the exiting Kubernetes cluster in ``scale_end``. + MgmtDriver + Identify the deployed VMs in the scale-out operation. + Get the existing Kubernetes cluster information from DB and execute the script for scale-out below with the arguments. + Script + Install and configure Kubernetes components in Worker-nodes. + Send a join request to the existing Master-node from Worker-nodes. #. scale-in The scale-in process will include: #. In order to ensure the continuity and safety of applications running on the existing Kubernetes cluster, the following process is executed in ``scale_start``, following the concept of graceful shutdown. + MgmtDriver + Identify VMs to be removed in the scale-in operation. + Get the existing Kubernetes cluster information from DB and execute the script for scale-in below with the arguments. + Script + Evacuate Pods running on the VMs to another Worker-node. + Remove the Worker-nodes from the Kubernetes cluster #. Remove the VMs for this scale-in operation with OpenStackInfraDriver. #. Provide a sample script executed by MgmtDriver to install and/or configure Kubernetes cluster. .. note:: Kubernetes v1.16.0 and Kubernetes python client v11.0 are supported for Kubernetes VIM. VNFD for Scaling operation -------------------------- VNFD needs to have ``scale_start``, ``scale_end`` and ``policies`` definition as the following sample: .. code-block:: node_templates: VNF: ... interfaces: Vnflcm: ... scale_start: implementation: mgmt-drivers-kubernetes scale_end: implementation: mgmt-drivers-kubernetes artifacts: mgmt-drivers-kubernetes: description: Management driver for kubernetes cluster type: tosca.artifacts.Implementation.Python file: /.../mgmt_drivers/kubernetes_mgmt.py MasterVDU: type: tosca.nodes.nfv.Vdu.Compute ... WorkerVDU: type: tosca.nodes.nfv.Vdu.Compute ... policies: - scaling_aspects: type: tosca.policies.nfv.ScalingAspects properties: aspects: worker_instance: name: worker_instance_aspect description: worker_instance scaling aspect max_scale_level: 2 step_deltas: - delta_1 - WorkerVDU_initial_delta: type: tosca.policies.nfv.VduInitialDelta properties: initial_delta: number_of_instances: 1 targets: [ WorkerVDU ] - WorkerVDU_scaling_aspect_deltas: type: tosca.policies.nfv.VduScalingAspectDeltas properties: aspect: worker_instance deltas: delta_1: number_of_instances: 1 targets: [ WorkerVDU ] Scale-out --------- The diagram below shows VNF scale-out operation: .. code-block:: +---------------+ | Scaling | | Request with | | Additional | | Params | +-+-------------+ | +----------------+--------------+ | v VNFM | | +-------------------+ | | | Tacker-server | | | +-------+-----------+ | | | | | v | | +----------------------+ | 2.Setup new Worker-node | | +-------------+ | | +-----------------------+--+----| MgmtDriver | | | | | | +-------------+ | | +--------------------+-----------+ | | | | | | | | | | | |+-----------+ +----|------+ | | | | | || | | v | | 1.Add | | +-------------+ | | || +------+ | | +------+ | | new VM | | |OpenStack | | | || |Master|<+--+-|Worker| |<---+-----------+--+----|InfraDriver | | | || +------+ | | +------+ | | | | +-------------+ | | || VM | | VM | | | | | | |+-----------+ +-----------+ | | | | | | +-----------+ | | | | | | | +------+ | | | | | | | | |Worker| | | | | | | | | +------+ | | | | | | | | VM | | | | | | | +-----------+ | | | | | +--------------------------------+ | | Tacker-conductor| | +--------------------------------+ | +----------------------+ | | Hardware Resources | | | +--------------------------------+ +-------------------------------+ The diagram shows related component of this spec proposal and an overview of the following processing: #. OpenStackInfraDriver add new VMs, i.e. scale-out with Heat, as described in the specification `support-scale-api-based-on-etsi-nfv-sol`_ #. MgmtDriver setup new Worker-node on new VMs in ``scale_end``. This setup procedure can be implemented with the shell script or the python script including installation and configuration tasks. .. note:: To identify the VMs to be installed, that is, the VMs increased by this scale-out operation, it is assumed that information such as the number of Worker-node VMs before scale-out and the creation time of each VM will need to be referenced. Request data for Scale-out ^^^^^^^^^^^^^^^^^^^^^^^^^^ User gives following scale parameter to ""POST /vnf_instances/{id}/scale"" as ``ScaleVnfRequest`` data type in ETSI NFV-SOL003 v2.6.1 [#SOL003]_: +------------------+---------------------------------------------------------+ | Attribute name | Parameter description | +==================+=========================================================+ | type | User specify scaling operation type:\n | | | ""SCALE_IN"" or ""SCALE_OUT"" | +------------------+---------------------------------------------------------+ | aspectId | User specify target aspectId, aspectId is defined in | | | above VNFD and user can know by | | | ``InstantiatedVnfInfo.ScaleStatus`` that contained in | | | the response of ""GET /vnf_instances/{id}"" | +------------------+---------------------------------------------------------+ | numberOfSteps | Number of scaling steps | +------------------+---------------------------------------------------------+ | additionalParams | Not needed | +------------------+---------------------------------------------------------+ Following is a sample of scaling request body: .. code-block:: { ""type"": ""SCALE_OUT"", ""aspectId"": ""worker_instance"", ""numberOfSteps"": ""1"" } Following sequence diagram describes the components involved and the flow of VNF ``scale-out`` operation: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenstackDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenstackDriver"" [label = ""execute OpenstackDriver""]; ""OpenstackDriver"" -> ""Heat"" [label = ""resource signal""]; ""OpenstackDriver"" -> ""Heat"" [label = ""update stack""]; ""OpenstackDriver"" <-- ""Heat"" [label = """"]; ""VnfLcmDriver"" <-- ""OpenstackDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""scale_end""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get the vim connection info""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get the new vm info created by scale out operation.""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""Install Kubernetes on the new Worker-node""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence #. Client sends a POST request to the scale VNF Instance resource. #. Basically the same sequence as described in the spec `support-scale-api-based-on-etsi-nfv-sol`_, except for the MgmtDriver. .. note:: Heat templates contain resource information for VM instantiation. OpenstackDriver sends request to Heat to update the number of Worker nodes which is specified in the variable ""desired_capacity"" in this scale operation. #. MgmtDriver gets vimConnection information in order to get existing Kubernetes cluster information such as auth_url. #. MgmtDriver gets new VM information from HEAT created by scale-out operation. #. MgmtDriver setups a Worker-node on the VM by invoking a shell script using RemoteCommandExecutor. Scale-in -------- The diagram below shows VNF scale-in operation: .. code-block:: +---------------+ | Scaling | | Request with | | Additional | | Params | +-+-------------+ | +----------------+--------------+ | v VNFM | | +-------------------+ | | | Tacker-server | | | +-------+-----------+ | | | | | v | 1. Pre-processing | +----------------------+ | to remove VM | | +-------------+ | | +-------------------------------------+--+----| MgmtDriver | | | | | | +-------------+ | | +------+-------------------------+ | | | | | | | | | | | |+-----|-----+ +-----------+ | | | | | || v | | | | 2.Remove | | +-------------+ | | || +------+ | | +------+ | | VM | | |OpenStack | | | || |Master|-+--+>|Worker| |<---+-----------+--+----|InfraDriver | | | || +------+ | | +------+ | | | | +-------------+ | | || VM | | VM | | | | | | |+-----------+ +-----------+ | | | | | | +-----------+ | | | | | | | +------+ | | | | | | | | |Worker| | | | | | | | | +------+ | | | | | | | | VM | | | | | | | +-----------+ | | | | | +--------------------------------+ | | Tacker-conductor| | +--------------------------------+ | +----------------------+ | | Hardware Resources | | | +--------------------------------+ +-------------------------------+ The diagram shows related component of this spec proposal and an overview of the following processing: #. MgmtDriver pre-process to remove VM in ``scale_start`` in order to ensure the continuity and safety of applications running on the existing Kubernetes cluster. Specifically, it executes the evacuation of the pod running on the VM to another Worker-node and leaving the Worker-node from existing Kubernetes cluster by accessing to Master-node. #. OpenStackInfraDriver removes VMs i.e. scale-In with Heat, as described in the specification `support-scale-api-based-on-etsi-nfv-sol`_. .. note:: To identify the VMs to be removed in pre-processing phase, that is the VMs to be decreased by this scale-in operation, it is assumed that information such as the number of Worker-node VMs before scale-in and the creation time of each VM will need to be referenced. Request data for Scale-in ^^^^^^^^^^^^^^^^^^^^^^^^^ The ``type`` parameter in the request body is set to SCALE_IN. Following is a sample of scaling request body: .. code-block:: { ""type"": ""SCALE_IN"", ""aspectId"": ""worker_instance"", ""numberOfSteps"": ""1"" } Following sequence diagram describes the components involved and the flow of VNF ``scale-in`` operation: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""OpenstackDriver"" ""Heat"" ""MgmtDriver"" ""VnfInstance(Tacker DB)"" ""RemoteCommandExecutor"" Client -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""trigger asynchronous task""]; ""Tacker-conductor"" -> ""MgmtDriver"" [label = ""scale_start""]; ""MgmtDriver"" -> ""VnfInstance(Tacker DB)"" [label = ""get the vim connection info""]; ""MgmtDriver"" <-- ""VnfInstance(Tacker DB)"" [label = """"]; ""MgmtDriver"" -> ""Heat"" [label = ""get the vm info to be removed by scale in operation.""]; ""MgmtDriver"" <-- ""Heat"" [label = """"]; ""MgmtDriver"" -> ""RemoteCommandExecutor"" [label = ""pre-processing for leaving from Kubernetes cluster""]; ""MgmtDriver"" <-- ""RemoteCommandExecutor"" [label = """"]; ""Tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""OpenstackDriver"" [label = ""execute OpenstackDriver""]; ""OpenstackDriver"" -> ""Heat"" [label = ""resource signal""]; ""OpenstackDriver"" -> ""Heat"" [label = ""update stack""]; ""OpenstackDriver"" <-- ""Heat"" [label = """"]; ""VnfLcmDriver"" <-- ""OpenstackDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence. #. Client sends a POST request to the scale VNF Instance resource. #. Basically the same sequence as described in the spec `support-scale-api-based-on-etsi-nfv-sol`_, except for the MgmtDriver. .. note:: Heat templates contain resource information for VM instantiation. OpenstackDriver sends request to Heat to update the number of Worker nodes which is specified in the variable ""desired_capacity"" in this scale operation. #. MgmtDriver gets Vim connection information in order to get existing Kubernetes cluster information such as auth_url. #. MgmtDriver gets the information of the VM to be removed from Heat by scale-in operation. #. MgmtDriver pre-processes of the Worker-node for leaving from Kubernetes cluster. Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Yoshito Ito <yoshito.itou.dr@hco.ntt.co.jp> Other contributors: Shotaro Banno <banno.shotaro@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Liang Lu <lu.liang@fujitsu.com> Work Items ---------- * MgmtDriver will be modified to implement: + Support ``scale_start`` for scale-in and ``scale_end`` for scale-out. + Provide a sample script to be executed by MgmtDriver to install and/or configure Kubernetes cluster. * Add new unit and functional tests. Dependencies ============ ``scale_end`` referred in ""Proposed change"" is based on ``instantiate_end`` in the spec of `mgmt-driver-for-k8s-cluster`_. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== Complete user guide will be added to explain scaling Kubernetes Worker-node from the perspective of VNF LCM APIs. References ========== .. [#SOL001] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/001/ .. [#SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/ .. _mgmt-driver-for-k8s-cluster : ./mgmt-driver-for-k8s-cluster.html .. _support-scale-api-based-on-etsi-nfv-sol : ../victoria/support-scale-api-based-on-etsi-nfv-sol.html ",,547,0
openstack%2Fneutron~master~Iadccc0317ac20207b3fa08afbc00aeb01f0dc41a,openstack/neutron,master,Iadccc0317ac20207b3fa08afbc00aeb01f0dc41a,Implement secure RBAC for the router API,MERGED,2020-12-03 23:04:21.000000000,2021-01-27 05:03:25.000000000,2021-01-27 05:01:36.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b821b6f66e086e8c1ad18a63695fce6f0faf05c9', 'message': 'Implement secure RBAC for the router API\n\nThis commit updates the router policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Iadccc0317ac20207b3fa08afbc00aeb01f0dc41a\n'}, {'number': 2, 'created': '2020-12-08 10:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a3f719228733c843e5c56f5e35181958b5b74a6', 'message': 'Implement secure RBAC for the router API\n\nThis commit updates the router policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Iadccc0317ac20207b3fa08afbc00aeb01f0dc41a\n'}, {'number': 3, 'created': '2020-12-15 16:14:29.000000000', 'files': ['neutron/conf/policies/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a39d1c4d1609c9ebb09d3630bc793c03d113705', 'message': 'Implement secure RBAC for the router API\n\nThis commit updates the router policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Iadccc0317ac20207b3fa08afbc00aeb01f0dc41a\n'}]",0,765395,1a39d1c4d1609c9ebb09d3630bc793c03d113705,19,4,3,5046,,,0,"Implement secure RBAC for the router API

This commit updates the router policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Iadccc0317ac20207b3fa08afbc00aeb01f0dc41a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/765395/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/router.py'],1,b821b6f66e086e8c1ad18a63695fce6f0faf05c9,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The router API now supports system scope and default roles. """"""deprecated_create_router = policy.DeprecatedRule( name='create_router', check_str=base.RULE_ANY ) deprecated_create_router_distributed = policy.DeprecatedRule( name='create_router:distributed', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_router_ha = policy.DeprecatedRule( name='create_router:ha', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_router_external_gateway_info = policy.DeprecatedRule( name='create_router:external_gateway_info', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_create_router_external_gateway_net_id = policy.DeprecatedRule( name='create_router:external_gateway_info:network_id', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_create_router_external_gateway_enable_snat = policy.DeprecatedRule( name='create_router:external_gateway_info:enable_snat', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_router_external_gateway_fixed_ip = policy.DeprecatedRule( name='create_router:external_gateway_info:external_fixed_ips', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_router = policy.DeprecatedRule( name='get_router', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_get_router_distributed = policy.DeprecatedRule( name='get_router:distributed', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_router_ha = policy.DeprecatedRule( name='get_router:ha', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_router = policy.DeprecatedRule( name='update_router', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_router_distributed = policy.DeprecatedRule( name='update_router:distributed', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_router_ha = policy.DeprecatedRule( name='update_router:ha', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_router_external_gateway_info = policy.DeprecatedRule( name='update_router:external_gateway_info', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_router_external_gateway_net_id = policy.DeprecatedRule( name='update_router:external_gateway_info:network_id', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_router_external_gateway_enable_snat = policy.DeprecatedRule( name='update_router:external_gateway_info:enable_snat', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_router_external_gateway_fixed_ips = policy.DeprecatedRule( name='update_router:external_gateway_info:external_fixed_ips', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_router = policy.DeprecatedRule( name='delete_router', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_add_router_interface = policy.DeprecatedRule( name='add_router_interface', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_remove_router_interface = policy.DeprecatedRule( name='remove_router_interface', check_str=base.RULE_ADMIN_OR_OWNER ) name='create_router', check_str=base.PROJECT_MEMBER, scope_types=['project'], description='Create a router', operations=ACTION_POST, deprecated_rule=deprecated_create_router, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_router:distributed', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Specify ``distributed`` attribute when creating a router', operations=ACTION_POST, deprecated_rule=deprecated_create_router_distributed, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_router:ha', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Specify ``ha`` attribute when creating a router', operations=ACTION_POST, deprecated_rule=deprecated_create_router_ha, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_router:external_gateway_info', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=('Specify ``external_gateway_info`` ' 'information when creating a router'), operations=ACTION_POST, deprecated_rule=deprecated_create_router_external_gateway_info, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_router:external_gateway_info:network_id', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=('Specify ``network_id`` in ``external_gateway_info`` ' 'information when creating a router'), operations=ACTION_POST, deprecated_rule=deprecated_create_router_external_gateway_net_id, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_router:external_gateway_info:enable_snat', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=('Specify ``enable_snat`` in ``external_gateway_info`` ' 'information when creating a router'), operations=ACTION_POST, deprecated_rule=deprecated_create_router_external_gateway_enable_snat, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_router:external_gateway_info:external_fixed_ips', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=('Specify ``external_fixed_ips`` in ' '``external_gateway_info`` information when creating a ' 'router'), operations=ACTION_POST, deprecated_rule=deprecated_create_router_external_gateway_fixed_ip, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_router', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get a router', operations=ACTION_GET, deprecated_rule=deprecated_get_router, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_router:distributed', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get ``distributed`` attribute of a router', operations=ACTION_GET, deprecated_rule=deprecated_get_router_distributed, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_router:ha', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get ``ha`` attribute of a router', operations=ACTION_GET, deprecated_rule=deprecated_get_router_ha, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Update a router', operations=ACTION_PUT, deprecated_rule=deprecated_update_router, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router:distributed', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update ``distributed`` attribute of a router', operations=ACTION_PUT, deprecated_rule=deprecated_update_router_distributed, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router:ha', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update ``ha`` attribute of a router', operations=ACTION_PUT, deprecated_rule=deprecated_update_router_ha, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router:external_gateway_info', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Update ``external_gateway_info`` information of a router', operations=ACTION_PUT, deprecated_rule=deprecated_update_router_external_gateway_info, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router:external_gateway_info:network_id', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=('Update ``network_id`` attribute of ' '``external_gateway_info`` information of a router'), operations=ACTION_PUT, deprecated_rule=deprecated_update_router_external_gateway_net_id, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router:external_gateway_info:enable_snat', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=('Update ``enable_snat`` attribute of ' '``external_gateway_info`` information of a router'), operations=ACTION_PUT, deprecated_rule=deprecated_update_router_external_gateway_enable_snat, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_router:external_gateway_info:external_fixed_ips', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=('Update ``external_fixed_ips`` attribute of ' '``external_gateway_info`` information of a router'), operations=ACTION_PUT, deprecated_rule=deprecated_update_router_external_gateway_fixed_ips, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_router', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Delete a router', operations=ACTION_DELETE, deprecated_rule=deprecated_delete_router, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='add_router_interface', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Add an interface to a router', operations=[ ], deprecated_rule=deprecated_add_router_interface, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='remove_router_interface', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Remove an interface from a router', operations=[ ], deprecated_rule=deprecated_remove_router_interface, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'create_router', base.RULE_ANY, 'Create a router', ACTION_POST 'create_router:distributed', base.RULE_ADMIN_ONLY, 'Specify ``distributed`` attribute when creating a router', ACTION_POST 'create_router:ha', base.RULE_ADMIN_ONLY, 'Specify ``ha`` attribute when creating a router', ACTION_POST 'create_router:external_gateway_info', base.RULE_ADMIN_OR_OWNER, 'Specify ``external_gateway_info`` information when creating a router', ACTION_POST 'create_router:external_gateway_info:network_id', base.RULE_ADMIN_OR_OWNER, ('Specify ``network_id`` in ``external_gateway_info`` information ' 'when creating a router'), ACTION_POST 'create_router:external_gateway_info:enable_snat', base.RULE_ADMIN_ONLY, ('Specify ``enable_snat`` in ``external_gateway_info`` information ' 'when creating a router'), ACTION_POST 'create_router:external_gateway_info:external_fixed_ips', base.RULE_ADMIN_ONLY, ('Specify ``external_fixed_ips`` in ``external_gateway_info`` ' 'information when creating a router'), ACTION_POST 'get_router', base.RULE_ADMIN_OR_OWNER, 'Get a router', ACTION_GET 'get_router:distributed', base.RULE_ADMIN_ONLY, 'Get ``distributed`` attribute of a router', ACTION_GET 'get_router:ha', base.RULE_ADMIN_ONLY, 'Get ``ha`` attribute of a router', ACTION_GET 'update_router', base.RULE_ADMIN_OR_OWNER, 'Update a router', ACTION_PUT 'update_router:distributed', base.RULE_ADMIN_ONLY, 'Update ``distributed`` attribute of a router', ACTION_PUT 'update_router:ha', base.RULE_ADMIN_ONLY, 'Update ``ha`` attribute of a router', ACTION_PUT 'update_router:external_gateway_info', base.RULE_ADMIN_OR_OWNER, 'Update ``external_gateway_info`` information of a router', ACTION_PUT 'update_router:external_gateway_info:network_id', base.RULE_ADMIN_OR_OWNER, ('Update ``network_id`` attribute of ``external_gateway_info`` ' 'information of a router'), ACTION_PUT 'update_router:external_gateway_info:enable_snat', base.RULE_ADMIN_ONLY, ('Update ``enable_snat`` attribute of ``external_gateway_info`` ' 'information of a router'), ACTION_PUT 'update_router:external_gateway_info:external_fixed_ips', base.RULE_ADMIN_ONLY, ('Update ``external_fixed_ips`` attribute of ' '``external_gateway_info`` information of a router'), ACTION_PUT 'delete_router', base.RULE_ADMIN_OR_OWNER, 'Delete a router', ACTION_DELETE 'add_router_interface', base.RULE_ADMIN_OR_OWNER, 'Add an interface to a router', [ ] 'remove_router_interface', base.RULE_ADMIN_OR_OWNER, 'Remove an interface from a router', [ ]",255,88
openstack%2Ftripleo-ansible~master~Idc15cf94bd100efc8ab81dcd69787113746d9aee,openstack/tripleo-ansible,master,Idc15cf94bd100efc8ab81dcd69787113746d9aee,Write derived params to output file,MERGED,2021-01-24 11:57:08.000000000,2021-01-27 04:25:19.000000000,2021-01-27 04:25:19.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-24 11:57:08.000000000', 'files': ['tripleo_ansible/playbooks/cli-derive-parameters.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9c2a9b807d5224b65dfa2419a10d80c012b13e1', 'message': 'Write derived params to output file\n\nWrites to an output env file that can then be used\nfor stack update.\n\nAlso removes the unused var persist_params_in_plan\n\nChange-Id: Idc15cf94bd100efc8ab81dcd69787113746d9aee\n'}]",0,772197,a9c2a9b807d5224b65dfa2419a10d80c012b13e1,12,4,1,8833,,,0,"Write derived params to output file

Writes to an output env file that can then be used
for stack update.

Also removes the unused var persist_params_in_plan

Change-Id: Idc15cf94bd100efc8ab81dcd69787113746d9aee
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/772197/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-derive-parameters.yaml'],1,a9c2a9b807d5224b65dfa2419a10d80c012b13e1,env_merging," - name: Write environment to {{ derived_environment_path }} block: - name: create derived params dictionary set_fact: derived_params_env: ""{{ {'parameter_defaults': derived_parameters_result['derived_parameters'] | default({})} }}"" - name: Write environment copy: dest: ""{{ derived_environment_path }}"" content: ""{{ dervied_params_env | to_nice_yaml(indent=2) }}"" when: - derived_environment_path is defined - derived_parameters_result is defined", persist_params_in_plan: true,13,1
openstack%2Fneutron~master~I60dea66e2ba6f5f450e3eae3f67f721c35940e92,openstack/neutron,master,I60dea66e2ba6f5f450e3eae3f67f721c35940e92,Implement secure RBAC for floating IP pools API,MERGED,2020-12-04 12:52:21.000000000,2021-01-27 04:08:15.000000000,2021-01-27 04:04:43.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 12:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/059277bcd67a541cf5bdb3dfba8645b1d15c252f', 'message': 'Implement secure RBAC for floating IP pools API\n\nThis commit updates the policies for floating IP pools API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I60dea66e2ba6f5f450e3eae3f67f721c35940e92\n'}, {'number': 2, 'created': '2020-12-15 13:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e45e9a1537025db51518639f0f0b30d259b75b4', 'message': 'Implement secure RBAC for floating IP pools API\n\nThis commit updates the policies for floating IP pools API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I60dea66e2ba6f5f450e3eae3f67f721c35940e92\n'}, {'number': 3, 'created': '2021-01-21 16:24:20.000000000', 'files': ['neutron/conf/policies/floatingip_pools.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4e0cc76e6051e59078e58e55647671f4acd75a3', 'message': 'Implement secure RBAC for floating IP pools API\n\nThis commit updates the policies for floating IP pools API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I60dea66e2ba6f5f450e3eae3f67f721c35940e92\n'}]",0,765529,c4e0cc76e6051e59078e58e55647671f4acd75a3,32,4,3,11975,,,0,"Implement secure RBAC for floating IP pools API

This commit updates the policies for floating IP pools API
to understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I60dea66e2ba6f5f450e3eae3f67f721c35940e92
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/765529/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/floatingip_pools.py'],1,059277bcd67a541cf5bdb3dfba8645b1d15c252f,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = ( ""The Floating IP Pool API now supports system scope and default roles."") name='get_floatingip_pool', check_str=base.SYSTEM_OR_PROJECT_READER, description='Get floating IP pools', operations=[ ], scope_types=['admin', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_floatingip_pool', check_str=base.RULE_ANY), deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'get_floatingip_pool', base.RULE_ANY, 'Get floating IP pools', [ ]",14,5
openstack%2Fneutron~master~Ia965e549ec5d8b23e837b41c304004d8e57785e9,openstack/neutron,master,Ia965e549ec5d8b23e837b41c304004d8e57785e9,Implement secure RBAC for the network IP availability,MERGED,2020-12-07 18:03:49.000000000,2021-01-27 04:07:08.000000000,2021-01-27 04:04:28.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-12-07 18:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ae00f5eb2ef34e2456a7e946c4efd39513c622d', 'message': 'Implement secure RBAC for the network IP availability\n\nThis commit updates the network IP availability policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ia965e549ec5d8b23e837b41c304004d8e57785e9\n'}, {'number': 2, 'created': '2020-12-15 15:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6419efb26ea6b7e69ee41b3d8cc2257ef7576898', 'message': 'Implement secure RBAC for the network IP availability\n\nThis commit updates the network IP availability policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ia965e549ec5d8b23e837b41c304004d8e57785e9\n'}, {'number': 3, 'created': '2020-12-17 11:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e37713b4ef51916fae7955991c60728ae46bcaf', 'message': 'Implement secure RBAC for the network IP availability\n\nThis commit updates the network IP availability policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ia965e549ec5d8b23e837b41c304004d8e57785e9\n'}, {'number': 4, 'created': '2021-01-21 16:45:50.000000000', 'files': ['neutron/conf/policies/network_ip_availability.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/613a6f7947b46b9a6c4c679b638d1c4d946b644d', 'message': 'Implement secure RBAC for the network IP availability\n\nThis commit updates the network IP availability policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ia965e549ec5d8b23e837b41c304004d8e57785e9\n'}]",1,765842,613a6f7947b46b9a6c4c679b638d1c4d946b644d,44,6,4,5046,,,0,"Implement secure RBAC for the network IP availability

This commit updates the network IP availability policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Ia965e549ec5d8b23e837b41c304004d8e57785e9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/765842/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/network_ip_availability.py'],1,1ae00f5eb2ef34e2456a7e946c4efd39513c622d,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The network IP availability API now support system scope and default roles. """""" deprecated_get_network_ip_availability = policy.DeprecatedRule( name='get_network_ip_availability', check_str=base.RULE_ADMIN_ONLY ) name='get_network_ip_availability', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get network IP availability', operations=[ ], deprecated_rule=deprecated_get_network_ip_availability, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'get_network_ip_availability', base.RULE_ADMIN_ONLY, 'Get network IP availability', [ ]",19,5
openstack%2Ftripleo-operator-ansible~master~I52d5dce507b1f6f2c45cdc301092b26cc978e2b7,openstack/tripleo-operator-ansible,master,I52d5dce507b1f6f2c45cdc301092b26cc978e2b7,Drop *update_plan_only ansible var,MERGED,2021-01-20 09:44:34.000000000,2021-01-27 03:47:16.000000000,2021-01-27 03:47:16.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 09:44:34.000000000', 'files': ['roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/tasks/main.yml', 'roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_update_converge/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_converge/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_upgrade_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_upgrade_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_overcloud_update_converge/tasks/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/tasks/main.yml', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_update_prepare/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_update_prepare/tasks/main.yml', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_upgrade_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/20b64c3f9709749a493a336ac4881b5b8772eced', 'message': 'Drop *update_plan_only ansible var\n\nWe plan to drop --update-plan-only from overcloud deploy\nwith [1].\nAlso, --update-plan-only is not required for update/upgrade\nworkflows.\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/771394\n\nChange-Id: I52d5dce507b1f6f2c45cdc301092b26cc978e2b7\n'}]",0,771581,20b64c3f9709749a493a336ac4881b5b8772eced,12,3,1,8833,,,0,"Drop *update_plan_only ansible var

We plan to drop --update-plan-only from overcloud deploy
with [1].
Also, --update-plan-only is not required for update/upgrade
workflows.

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/771394

Change-Id: I52d5dce507b1f6f2c45cdc301092b26cc978e2b7
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/81/771581/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_deploy/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/tasks/main.yml', 'roles/tripleo_overcloud_deploy/tasks/main.yml', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_update_converge/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_prepare/tasks/main.yml', 'roles/tripleo_overcloud_upgrade_converge/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_upgrade_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_upgrade_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_overcloud_update_converge/tasks/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_converge/tasks/main.yml', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_update_prepare/defaults/main.yml', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_upgrade_prepare/defaults/main.yml', 'roles/tripleo_overcloud_update_prepare/tasks/main.yml', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_upgrade_converge/defaults/main.yml', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/molecule/default/converge.yml']",27,20b64c3f9709749a493a336ac4881b5b8772eced,env_merging,," - name: Check parameter ""tripleo_overcloud_ffwd_upgrade_prepare_update_plan_only"" include_role: name: ""tripleo_overcloud_ffwd_upgrade_prepare"" vars: tripleo_overcloud_ffwd_upgrade_prepare_stack: tripleo_overcloud_ffwd_upgrade_prepare_templates: tripleo_overcloud_ffwd_upgrade_prepare_timeout_arg: tripleo_overcloud_ffwd_upgrade_prepare_update_plan_only: true - name: Assert ""tripleo_overcloud_ffwd_upgrade_prepare_update_plan_only"" assert: that: - tripleo_overcloud_ffwd_upgrade_prepare_output == ""overcloud ffwd-upgrade prepare --update-plan-only"" ",0,118
openstack%2Ftripleo-ci~master~Ie215726f06251a18e7457fc1b7eeb035510d1171,openstack/tripleo-ci,master,Ie215726f06251a18e7457fc1b7eeb035510d1171,Add standalone_virt_type to featureset_override list,MERGED,2021-01-26 17:56:19.000000000,2021-01-27 03:34:02.000000000,2021-01-27 03:34:02.000000000,"[{'_account_id': 8449}, {'_account_id': 8864}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 17:56:19.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8049e5f5ca2f6677562ddad13a150caa63b838c8', 'message': 'Add standalone_virt_type to featureset_override list\n\nhttps://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866\nrequires that standalone_virt_type be set to kvm over\nthe default.\n\nThis review adds standalone_virt_type as a variable\nthat can be passed in featureset_override, allowing\nthe custom value for standalone_virt_type to be defined\nin the job definition.\n\nChange-Id: Ie215726f06251a18e7457fc1b7eeb035510d1171\n'}]",0,772578,8049e5f5ca2f6677562ddad13a150caa63b838c8,10,8,1,9976,,,0,"Add standalone_virt_type to featureset_override list

https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
requires that standalone_virt_type be set to kvm over
the default.

This review adds standalone_virt_type as a variable
that can be passed in featureset_override, allowing
the custom value for standalone_virt_type to be defined
in the job definition.

Change-Id: Ie215726f06251a18e7457fc1b7eeb035510d1171
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/772578/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,8049e5f5ca2f6677562ddad13a150caa63b838c8,featureset-override-standalone_virt_type, - 'standalone_virt_type',,1,0
openstack%2Ftripleo-ci~master~I6fa6562430c0b1ee18c8766fd68d19eca3703918,openstack/tripleo-ci,master,I6fa6562430c0b1ee18c8766fd68d19eca3703918,DNM test for Artom libvirt type kvm,ABANDONED,2021-01-27 00:29:13.000000000,2021-01-27 03:26:18.000000000,,"[{'_account_id': 8449}, {'_account_id': 8864}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 00:29:13.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e53e75401e6d6dda54159b735803b1776a77a261', 'message': 'DNM test for Artom libvirt type kvm\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/772523\nChange-Id: I6fa6562430c0b1ee18c8766fd68d19eca3703918\n'}]",0,772612,e53e75401e6d6dda54159b735803b1776a77a261,5,5,1,10969,,,0,"DNM test for Artom libvirt type kvm

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/772523
Change-Id: I6fa6562430c0b1ee18c8766fd68d19eca3703918
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/12/772612/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,e53e75401e6d6dda54159b735803b1776a77a261,, name: tripleo-ci-centos-8-standalone-libvirt-kvm parent: tripleo-ci-base-standalone-centos-8 vars: standalone_virt_type: kvm - job: - tripleo-ci-centos-8-standalone-libvirt-kvm: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,,11,0
openstack%2Fswift~master~Id08d0893db2c6e6f9ce1e42a104409568daf985b,openstack/swift,master,Id08d0893db2c6e6f9ce1e42a104409568daf985b,relinker: Track part_power/next_part_power in state file,MERGED,2021-01-08 00:43:47.000000000,2021-01-27 03:12:08.000000000,2021-01-27 03:10:10.000000000,"[{'_account_id': 13852}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 00:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f9aa244535c6514883f9b75de9ebb3a0276f69c1', 'message': ""relinker: Track part_power/next_part_power in state file\n\n...and only update from the state file if those part powers match the\nwork we're currently doing. Otherwise, we would skip relinking when\ntrying to do multiple increases in quick succession, causing misplaced\ndata that clients could not access.\n\nNote that because the part_power/next_part_power pair *must* change\nbetween relinking and cleanup, we now only need to track one boolean per\npart; the state file will automatically reset when switching modes.\n\nAlso note that any state files in the old format will be discarded --\nthis is safe, but may cause increased I/O. OTOH, operators probably\nshouldn't be upgrading Swift mid-part-power-increase anyway.\n\nChange-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b\nCloses-Bug: #1910589\n""}, {'number': 2, 'created': '2021-01-08 05:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/24f422e0b3b8b480a31b722bc6cf2b9fde9ed3a4', 'message': ""relinker: Track part_power/next_part_power in state file\n\n...and only update from the state file if those part powers match the\nwork we're currently doing. Otherwise, we would skip relinking when\ntrying to do multiple increases in quick succession, causing misplaced\ndata that clients could not access.\n\nNote that because the part_power/next_part_power pair *must* change\nbetween relinking and cleanup, we now only need to track one boolean per\npart; the state file will automatically reset when switching modes.\n\nAlso note that any state files in the old format will be discarded --\nthis is safe, but may cause increased I/O. OTOH, operators probably\nshouldn't be upgrading Swift mid-part-power-increase anyway.\n\nChange-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b\nCloses-Bug: #1910589\n""}, {'number': 3, 'created': '2021-01-15 19:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/33b2d6a4d94536ea5eb36b3fba98b2b3abb595a3', 'message': ""relinker: Track part_power/next_part_power in state file\n\n...and only update from the state file if those part powers match the\nwork we're currently doing. Otherwise, we would skip relinking when\ntrying to do multiple increases in quick succession, causing misplaced\ndata that clients could not access.\n\nNote that because the part_power/next_part_power pair *must* change\nbetween relinking and cleanup, we now only need to track one boolean per\npart; the state file will automatically reset when switching modes.\n\nAlso note that any state files in the old format will be discarded --\nthis is safe, but may cause increased I/O. OTOH, operators probably\nshouldn't be upgrading Swift mid-part-power-increase anyway.\n\nChange-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b\nCloses-Bug: #1910589\n""}, {'number': 4, 'created': '2021-01-19 21:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73d63dffc9c332d9e3654fe9110e1b64fc77a3f4', 'message': ""relinker: Track part_power/next_part_power in state file\n\n...and only update from the state file if those part powers match the\nwork we're currently doing. Otherwise, we would skip relinking when\ntrying to do multiple increases in quick succession, causing misplaced\ndata that clients could not access.\n\nNote that because the part_power/next_part_power pair *must* change\nbetween relinking and cleanup, we now only need to track one boolean per\npart; the state file will automatically reset when switching modes.\n\nAlso note that any state files in the old format will be discarded --\nthis is safe, but may cause increased I/O. OTOH, operators probably\nshouldn't be upgrading Swift mid-part-power-increase anyway.\n\nChange-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b\nCloses-Bug: #1910589\n""}, {'number': 5, 'created': '2021-01-21 21:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0c84358f2c8df50259bd6db7bfe106db689335cb', 'message': ""relinker: Track part_power/next_part_power in state file\n\n...and only update from the state file if those part powers match the\nwork we're currently doing. Otherwise, we would skip relinking when\ntrying to do multiple increases in quick succession, causing misplaced\ndata that clients could not access.\n\nNote that because the part_power/next_part_power pair *must* change\nbetween relinking and cleanup, we now only need to track one boolean per\npart; the state file will automatically reset when switching modes.\n\nAlso note that any state files in the old format will be discarded --\nthis is safe, but may cause increased I/O. OTOH, operators probably\nshouldn't be upgrading Swift mid-part-power-increase anyway.\n\nChange-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b\nCloses-Bug: #1910589\n""}, {'number': 6, 'created': '2021-01-26 18:24:05.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c10f8ae4eca5d034cbf77103aa27413c4ae92ac3', 'message': ""relinker: Track part_power/next_part_power in state file\n\n...and only update from the state file if those part powers match the\nwork we're currently doing. Otherwise, we would skip relinking when\ntrying to do multiple increases in quick succession, causing misplaced\ndata that clients could not access.\n\nNote that because the part_power/next_part_power pair *must* change\nbetween relinking and cleanup, we now only need to track one boolean per\npart; the state file will automatically reset when switching modes.\n\nAlso note that any state files in the old format will be discarded --\nthis is safe, but may cause increased I/O. OTOH, operators probably\nshouldn't be upgrading Swift mid-part-power-increase anyway.\n\nChange-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b\nCloses-Bug: #1910589\n""}]",13,769855,c10f8ae4eca5d034cbf77103aa27413c4ae92ac3,26,2,6,15343,,,0,"relinker: Track part_power/next_part_power in state file

...and only update from the state file if those part powers match the
work we're currently doing. Otherwise, we would skip relinking when
trying to do multiple increases in quick succession, causing misplaced
data that clients could not access.

Note that because the part_power/next_part_power pair *must* change
between relinking and cleanup, we now only need to track one boolean per
part; the state file will automatically reset when switching modes.

Also note that any state files in the old format will be discarded --
this is safe, but may cause increased I/O. OTOH, operators probably
shouldn't be upgrading Swift mid-part-power-increase anyway.

Change-Id: Id08d0893db2c6e6f9ce1e42a104409568daf985b
Closes-Bug: #1910589
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/769855/6 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,f9aa244535c6514883f9b75de9ebb3a0276f69c1,," states[""state""].clear() state_from_disk = json.load(f) if any(state_from_disk[k] != states[k] for k in ( ""part_power"", ""next_part_power"")): raise ValueError states[""state""].update(state_from_disk[""state""]) except (ValueError, TypeError, KeyError): if states[""state""]: missing = list(set(partitions) - set(states[""state""].keys())) if missing: # All missing partitions were created after the first run of # cleaned. Just update the state file. for part in missing: states[""state""][part] = (step == STEP_RELINK) if step == STEP_RELINK: partitions = [str(p) for p, r in states[""state""].items() if not r] elif step == STEP_CLEANUP: partitions = [str(p) for p, c in states[""state""].items() if not c] else: states[""state""].update({str(p): False for p in partitions}) if step in (STEP_RELINK, STEP_CLEANUP): states[""state""][part] = True states = { ""part_power"": part_power, ""next_part_power"": next_part_power, ""state"": {}, } states = { ""part_power"": part_power, ""next_part_power"": next_part_power, ""state"": {}, }"," states.clear() tmp = json.load(f) states.update(tmp) except ValueError: if states: missing = list(set(partitions) - set(states.keys())) if missing: # All missing partitions was created after the first run of # cleaned.. Just update the state file. for part in missing: states[part] = [True, False] if step == STEP_RELINK: partitions = [str(p) for p, (r, c) in states.items() if not r] elif step == STEP_CLEANUP: partitions = [str(p) for p, (r, c) in states.items() if not c] else: states.update({str(p): [False, False] for p in partitions}) if step == STEP_RELINK: states[part][0] = True elif step == STEP_CLEANUP: states[part][1] = True states = {} states = {}",108,47
openstack%2Fwhitebox-tempest-plugin~master~I3cfe53dceb8801754b424ef7be71739a9b11c032,openstack/whitebox-tempest-plugin,master,I3cfe53dceb8801754b424ef7be71739a9b11c032,Unskip test_rx_tx_queue_size,MERGED,2020-12-15 21:01:24.000000000,2021-01-27 03:07:45.000000000,2021-01-27 03:07:45.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 28006}, {'_account_id': 31033}]","[{'number': 1, 'created': '2020-12-15 21:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1531f0764e71b9cf14c0186c17caf8e3f179ff31', 'message': ""Unskip test_rx_tx_queue_size\n\nPreviously, this test was skipped because it depended on a compute host\nconfig that we did not set in CI. This patch adds a\n[whitebox]/rx_queue_size config option to indicate what queue size is\nconfigured on the compute hosts, gives it a sensible default in our\ndevstack plugin, makes test_rx_tx_queue_size use its value in the\ntest's assertion, and unskips the test. Woot.\n\nChange-Id: I3cfe53dceb8801754b424ef7be71739a9b11c032\n""}, {'number': 2, 'created': '2020-12-16 00:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8489df91582f97aed203e49439ed3991acf7cc4f', 'message': ""Unskip test_rx_tx_queue_size\n\nPreviously, this test was skipped because it depended on a compute host\nconfig that we did not set in CI. This patch adds a\n[whitebox]/rx_queue_size config option to indicate what queue size is\nconfigured on the compute hosts, gives it a sensible default in our\ndevstack plugin, makes test_rx_tx_queue_size use its value in the\ntest's assertion, and unskips the test. Woot.\n\nChange-Id: I3cfe53dceb8801754b424ef7be71739a9b11c032\n""}, {'number': 3, 'created': '2020-12-17 16:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1720431dcf25d5e879a1ebcfc9f6db41eecbb934', 'message': ""Unskip test_rx_tx_queue_size\n\nPreviously, this test was skipped because it depended on a compute host\nconfig that we did not set in CI. This patch adds a\n[whitebox]/rx_queue_size config option to indicate what queue size is\nconfigured on the compute hosts, gives it a sensible default in our\ndevstack plugin, makes test_rx_tx_queue_size use its value in the\ntest's assertion, and unskips the test. Woot. (The test itself also\nneeds a small fix in how it accesses the XML attribute).\n\nChange-Id: I3cfe53dceb8801754b424ef7be71739a9b11c032\n""}, {'number': 4, 'created': '2021-01-26 23:46:27.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_rx_tx_queue_size.py', '.zuul.yaml', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/62ad86bf4f509f6249323da03856827b2080bed2', 'message': ""Unskip test_rx_tx_queue_size\n\nPreviously, this test was skipped because it depended on a compute host\nconfig that we did not set in CI. This patch adds a\n[whitebox]/rx_queue_size config option to indicate what queue size is\nconfigured on the compute hosts, gives it a sensible default in our\ndevstack plugin, makes test_rx_tx_queue_size use its value in the\ntest's assertion, and unskips the test. Woot. (The test itself also\nneeds a small fix in how it accesses the XML attribute).\n\nChange-Id: I3cfe53dceb8801754b424ef7be71739a9b11c032\n""}]",1,767218,62ad86bf4f509f6249323da03856827b2080bed2,19,4,4,8864,,,0,"Unskip test_rx_tx_queue_size

Previously, this test was skipped because it depended on a compute host
config that we did not set in CI. This patch adds a
[whitebox]/rx_queue_size config option to indicate what queue size is
configured on the compute hosts, gives it a sensible default in our
devstack plugin, makes test_rx_tx_queue_size use its value in the
test's assertion, and unskips the test. Woot. (The test itself also
needs a small fix in how it accesses the XML attribute).

Change-Id: I3cfe53dceb8801754b424ef7be71739a9b11c032
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/18/767218/2 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_rx_tx_queue_size.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'devstack/settings']",4,1531f0764e71b9cf14c0186c17caf8e3f179ff31,unskip-text-rx-tx-queue,WHITEBOX_RX_QUEUE_SIZE=${WHITEBOX_RX_QUEUE_SIZE:-1024},,11,10
openstack%2Fswift~master~Iabb53f5e4081d580d016bbf75d86e1d75e1f20bb,openstack/swift,master,Iabb53f5e4081d580d016bbf75d86e1d75e1f20bb,Adjust initial month value from int to str,MERGED,2021-01-21 01:39:26.000000000,2021-01-27 02:53:37.000000000,2021-01-27 02:52:01.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 01:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f269eabaca32e66ba2aadc72756d141a90be7d7', 'message': ""Adjust month comparison from str to int\n\nswift-drive-audit checks to see if a new year has recently ticked over\nby checking to see if the current month is January and the logs we are\nchecking are in December. datetime.month() does not return a str, it\nreturns an int, so we need to compare with int 1 instead of 'Jan'\n\nCloses-Bug: 1912508\nChange-Id: Iabb53f5e4081d580d016bbf75d86e1d75e1f20bb\n""}, {'number': 2, 'created': '2021-01-23 01:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28826e24430b6d78c0cd604b25355e8ceebc12c5', 'message': ""Adjust month comparison from str to int\n\nswift-drive-audit checks to see if a new year has recently ticked over\nby checking to see if the current month is January and the logs we are\nchecking are in December. datetime.month() does not return a str, it\nreturns an int, so we need to compare with int 1 instead of 'Jan'\n\nCloses-Bug: 1912508\nChange-Id: Iabb53f5e4081d580d016bbf75d86e1d75e1f20bb\n""}, {'number': 3, 'created': '2021-01-23 05:33:19.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/ea0cab6e3e0e6db8a09b6beea06791d3455a32d1', 'message': 'Adjust initial month value from int to str\n\nswift-drive-audit checks to see if a new year has recently ticked over\nby checking to see if the current month is January and the logs we are\nchecking are in December. The logs use abbreviated month names, so we\nneed to extract that from ""now"" to make valid comparisons.\n\nCloses-Bug: 1912508\nChange-Id: Iabb53f5e4081d580d016bbf75d86e1d75e1f20bb\n'}]",2,771742,ea0cab6e3e0e6db8a09b6beea06791d3455a32d1,18,2,3,11534,,,0,"Adjust initial month value from int to str

swift-drive-audit checks to see if a new year has recently ticked over
by checking to see if the current month is January and the logs we are
checking are in December. The logs use abbreviated month names, so we
need to extract that from ""now"" to make valid comparisons.

Closes-Bug: 1912508
Change-Id: Iabb53f5e4081d580d016bbf75d86e1d75e1f20bb
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/771742/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,9f269eabaca32e66ba2aadc72756d141a90be7d7,, if log_time_entry[0] == 'Dec' and prev_entry_month == 1:, if log_time_entry[0] == 'Dec' and prev_entry_month == 'Jan':,1,1
openstack%2Fswift~master~Id504fa3379bc440fb08b2bb2423f87a407d3c6af,openstack/swift,master,Id504fa3379bc440fb08b2bb2423f87a407d3c6af,s3api: Break S3Request.__init__ signature less,MERGED,2021-01-19 23:00:45.000000000,2021-01-27 02:42:15.000000000,2021-01-27 02:40:42.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 23:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eeba9129888eb98ddeed381c0fa0a7e81667f39f', 'message': ""s3api: Break S3Request.__init__ signature less\n\nTurns out, there's at least one project out there that wants to subclass\nS3Request (though I still don't think that's advisable).\n\nChange-Id: Id504fa3379bc440fb08b2bb2423f87a407d3c6af\n""}, {'number': 2, 'created': '2021-01-20 16:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1772209720438de9e71cc605e08c888d01287a20', 'message': ""s3api: Break S3Request.__init__ signature less\n\nTurns out, there's at least one project out there that wants to subclass\nS3Request (though I still don't think that's advisable).\n\nChange-Id: Id504fa3379bc440fb08b2bb2423f87a407d3c6af\nRelated-Change: I4a65f50828b4e90ff6be2c3b343b295e442cc59e\n""}, {'number': 3, 'created': '2021-01-22 22:19:21.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fbad3c23316be23fad81fef0a425a244fd50d9f8', 'message': ""s3api: Break S3Request.__init__ signature less\n\nTurns out, there's at least one project out there that wants to subclass\nS3Request (though I still don't think that's advisable).\n\nChange-Id: Id504fa3379bc440fb08b2bb2423f87a407d3c6af\nRelated-Change: I4a65f50828b4e90ff6be2c3b343b295e442cc59e\n""}]",0,771526,fbad3c23316be23fad81fef0a425a244fd50d9f8,17,3,3,15343,,,0,"s3api: Break S3Request.__init__ signature less

Turns out, there's at least one project out there that wants to subclass
S3Request (though I still don't think that's advisable).

Change-Id: Id504fa3379bc440fb08b2bb2423f87a407d3c6af
Related-Change: I4a65f50828b4e90ff6be2c3b343b295e442cc59e
",git fetch https://review.opendev.org/openstack/swift refs/changes/26/771526/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/middleware/s3api/test_s3request.py']",4,eeba9129888eb98ddeed381c0fa0a7e81667f39f,," s3_req = req_klass(req.environ, conf=self.conf) return S3Request(req.environ) s3_req = S3AclRequest(req.environ) req.environ, conf=Config({'force_swift_request_proxy_log': True})) req.environ, conf=Config({'force_swift_request_proxy_log': False})) s3_req = S3Request(req.environ) sigv4_req = SigV4Request(req.environ, conf=self.s3api.conf) sigv2_req = S3Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ) req.environ, conf=Config({'storage_domain': 's3.test.com'})) req.environ, conf=Config({'storage_domain': 's3.test.com'})) sigv2_req = S3Request(req.environ) sigv2_req = S3Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv2_req = S3Request(req.environ, conf=Config({ sigv2_req = S3Request(req.environ, conf=Config({ sigv2_req = S3Request(req.environ, conf=Config({ sigv4_req = SigV4Request(req.environ) self.assertRaises(BadDigest, SigV4Request, req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ) sigv4_req = SigV4Request(req.environ, conf=conf) sigv4_req = SigV4Request(req.environ, conf=conf) return SigV4Request(req.environ, None, config)"," s3_req = req_klass(req.environ, self.conf, app=None) return S3Request(req.environ, Config(), app=None) s3_req = S3AclRequest(req.environ, Config(), app=None) req.environ, Config({'force_swift_request_proxy_log': True}), app=None) req.environ, Config({'force_swift_request_proxy_log': False}), app=None) s3_req = S3Request(req.environ, Config(), app=None) sigv4_req = SigV4Request(req.environ, self.s3api.conf, app=None) sigv2_req = S3Request(req.environ, Config(), app=None) sigv4_req = SigV4Request(req.environ, Config(), app=None) sigv4_req = SigV4Request(req.environ, Config(), app=None) sigv4_req = SigV4Request(req.environ, Config(), app=None) req.environ, Config({'storage_domain': 's3.test.com'})) req.environ, Config({'storage_domain': 's3.test.com'})) sigv2_req = S3Request(req.environ, Config()) sigv2_req = S3Request(req.environ, Config()) sigv4_req = SigV4Request(req.environ, Config()) sigv4_req = SigV4Request(req.environ, Config()) sigv4_req = SigV4Request(req.environ, Config()) sigv4_req = SigV4Request(req.environ, Config()) sigv2_req = S3Request(req.environ, Config({ sigv2_req = S3Request(req.environ, Config({ sigv2_req = S3Request(req.environ, Config({ sigv4_req = SigV4Request(req.environ, Config()) self.assertRaises(BadDigest, SigV4Request, req.environ, Config()) sigv4_req = SigV4Request(req.environ, Config()) sigv4_req = SigV4Request(req.environ, Config()) sigv4_req = SigV4Request(req.environ, conf) sigv4_req = SigV4Request(req.environ, conf) return SigV4Request(req.environ, config)",39,39
openstack%2Fswift~master~I0ea3c26e54d91f27159805a45e49ad7f8f0e0431,openstack/swift,master,I0ea3c26e54d91f27159805a45e49ad7f8f0e0431,Move DebugLogger to its own module,MERGED,2021-01-22 12:28:52.000000000,2021-01-27 02:17:56.000000000,2021-01-27 02:15:48.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 12:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7038bb0c39ee33370894b176657c8ac84eee0514', 'message': 'Move DebugLogger to its own module\n\nMove DebugLogger and associated classes to its own module under test\nso that it can be imported (for example in probe tests) without\nrequiring all the dependencies in test/unit/__init__.py.\n\nChange-Id: I0ea3c26e54d91f27159805a45e49ad7f8f0e0431\n'}, {'number': 2, 'created': '2021-01-22 20:22:32.000000000', 'files': ['test/unit/__init__.py', 'test/debug_logger.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8f4200791beb9a59bd56d41ad4aff5cfce21704d', 'message': 'Move DebugLogger to its own module\n\nMove DebugLogger and associated classes to its own module under test\nso that it can be imported (for example in probe tests) without\nrequiring all the dependencies in test/unit/__init__.py.\n\nChange-Id: I0ea3c26e54d91f27159805a45e49ad7f8f0e0431\n'}]",10,771969,8f4200791beb9a59bd56d41ad4aff5cfce21704d,19,4,2,7847,,,0,"Move DebugLogger to its own module

Move DebugLogger and associated classes to its own module under test
so that it can be imported (for example in probe tests) without
requiring all the dependencies in test/unit/__init__.py.

Change-Id: I0ea3c26e54d91f27159805a45e49ad7f8f0e0431
",git fetch https://review.opendev.org/openstack/swift refs/changes/69/771969/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/debug_logger.py', 'test/unit/common/middleware/s3api/test_s3request.py']",3,7038bb0c39ee33370894b176657c8ac84eee0514,p-debug-logger,from test.debug_logger import DebugLogger,from test.unit import DebugLogger,220,193
openstack%2Fnova~master~I7a157f37d2a67e1174a1725fd579c761d81a09b1,openstack/nova,master,I7a157f37d2a67e1174a1725fd579c761d81a09b1,libvirt: Drop support for UML,MERGED,2020-07-27 13:47:40.000000000,2021-01-27 02:17:54.000000000,2021-01-27 02:14:36.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-07-27 13:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcba6f6f627659c8ff89f29b4a282e27a728fa42', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-07-31 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daf833dd41f8268b1c26c6715b57f9df7c0fe6ad', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-08-04 13:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03eb8cbebf7b8321032209980c4ea7f4f301d79c', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-08-31 11:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c4b9b577155cc10da1a8f8bb87e57d21c668248', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2020-08-31 13:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22a23c82e794704cd14bc75ca941f08f7e29df72', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-01-18 10:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e46ffc250b2cf5c7ef40cbf68c85bde73c5128e', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2021-01-22 10:07:07.000000000', 'files': ['doc/source/admin/configuration/hypervisors.rst', 'nova/virt/libvirt/vif.py', 'nova/conf/libvirt.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'releasenotes/notes/drop-libvirt-uml-support-8ba9311b4cfc8ca6.yaml', 'doc/source/user/support-matrix.rst', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/tests/unit/virt/libvirt/test_utils.py', 'doc/source/admin/arch.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d02ce3c4f0efe6c437b0d22ea17afdd713e45d43', 'message': 'libvirt: Drop support for UML\n\nThis has not been tested in the gate for a long time and was only added\nto enable CI in the early days of OpenStack. Time to bid adieu.\n\nChange-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,743230,d02ce3c4f0efe6c437b0d22ea17afdd713e45d43,92,16,7,15334,,,0,"libvirt: Drop support for UML

This has not been tested in the gate for a long time and was only added
to enable CI in the early days of OpenStack. Time to bid adieu.

Change-Id: I7a157f37d2a67e1174a1725fd579c761d81a09b1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/743230/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/hypervisors.rst', 'nova/virt/libvirt/vif.py', 'nova/conf/libvirt.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'releasenotes/notes/drop-libvirt-uml-support-8ba9311b4cfc8ca6.yaml', 'doc/source/user/support-matrix.rst', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/tests/unit/virt/libvirt/test_utils.py', 'doc/source/admin/arch.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst']",15,fcba6f6f627659c8ff89f29b4a282e27a728fa42,bp/remove-deprecated-libvirt-virt-types,"types include: ``hyperv``, ``ironic``, ``lxc``, ``qemu``, and ``xen``.","types include: ``hyperv``, ``ironic``, ``lxc``, ``qemu``, ``uml``, and ``xen``.",26,116
openstack%2Frequirements~master~Ic3010d5fec2a943d526dd43f97eab0a35adeda3e,openstack/requirements,master,Ic3010d5fec2a943d526dd43f97eab0a35adeda3e,Updated from generate-constraints,MERGED,2021-01-26 06:18:48.000000000,2021-01-27 02:17:19.000000000,2021-01-27 02:15:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 06:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/10ab46a05c734d2876f1d52e1193c5957c414c9d', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic3010d5fec2a943d526dd43f97eab0a35adeda3e\n'}, {'number': 2, 'created': '2021-01-26 07:27:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/de3531732d3ab30e06add48bfb00f58c60a3a14e', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic3010d5fec2a943d526dd43f97eab0a35adeda3e\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,772471,de3531732d3ab30e06add48bfb00f58c60a3a14e,16,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ic3010d5fec2a943d526dd43f97eab0a35adeda3e
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/772471/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,10ab46a05c734d2876f1d52e1193c5957c414c9d,openstack/requirements/constraints/noclob,pytest===6.2.2google-api-core===1.25.1pyghmi===1.5.21mock===4.0.3python-cinderclient===7.3.0cfn-lint===0.44.5dfs-sdk===1.2.27oslo.db===8.5.0pkg-resources===0.0.0xmlschema===1.4.2fasteners===0.16virtualenv===20.4.0 sshpubkeys===3.3.0,pytest===6.2.1google-api-core===1.25.0pyghmi===1.5.20mock===3.0.5python-cinderclient===7.2.0cfn-lint===0.44.4dfs-sdk===1.2.26oslo.db===8.4.0xmlschema===1.4.1fasteners===0.14.1virtualenv===20.2.1 sshpubkeys===3.2.0setuptools===52.0.0,13,13
openstack%2Fdevstack~stable%2Fqueens~I88ba370de8887a05c473fe7c19a61a319e8812d2,openstack/devstack,stable/queens,I88ba370de8887a05c473fe7c19a61a319e8812d2,Use a dedicated version of get-pip.py for python 2.7,MERGED,2021-01-26 09:56:32.000000000,2021-01-27 02:15:16.000000000,2021-01-27 02:15:16.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 18031}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 09:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/539754735ce5d93fa9c39e11727297dc216213f0', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n(cherry picked from commit 773efe5723c9e747bc6d49457d2732dbe5663cd6)\n(cherry picked from commit 5323955cc538f4af51dd84777a3f034ed0954003)\n'}, {'number': 2, 'created': '2021-01-26 09:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/746da3863aa1628237c5af3c16c2c875724c9734', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nDepends-On: https://review.opendev.org/772489\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n(cherry picked from commit 773efe5723c9e747bc6d49457d2732dbe5663cd6)\n(cherry picked from commit 5323955cc538f4af51dd84777a3f034ed0954003)\n'}, {'number': 3, 'created': '2021-01-26 13:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9ca79e7345985dc430a75ed86147e695f1a4a501', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nget-pip.py fails with in tempest-full-py3 job, too, as that job uses\npython 3.5 which is also not supported by the new get-pip.py. For py35\nthe supported get-pip.py link is:\nhttps://bootstrap.pypa.io/3.5/get-pip.py (which contains pip 20.3.4).\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)\n(cherry picked from commit 910f00eeeb9bcf998d7d39d68387f5ca5be83245)\n(cherry picked from commit 48276f6600c70bd056d55da2a89b067f5b5a425a)\n'}, {'number': 4, 'created': '2021-01-26 16:52:59.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8f368650d05978aac903ade440cf80db215716f6', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nget-pip.py fails with in tempest-full-py3 job, too, as that job uses\npython 3.5 which is also not supported by the new get-pip.py. For py35\nthe supported get-pip.py link is:\nhttps://bootstrap.pypa.io/3.5/get-pip.py (which contains pip 20.3.4).\nAlso, we have to invalidate the CI cache which serves py36 pip.\nThis patch simply renames the file to fail the match.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)\n(cherry picked from commit 910f00eeeb9bcf998d7d39d68387f5ca5be83245)\n'}]",0,772488,8f368650d05978aac903ade440cf80db215716f6,16,6,4,17685,,,0,"Use a dedicated version of get-pip.py for python 2.7

get-pip.py dropped python 2.7 support, so we cannot use the default
get-pip.py for python 2.7 now. get-pip.py for python 2.7 is available
at https://bootstrap.pypa.io/2.7/get-pip.py.
This commit tries to use python 2.7 version of get-pip.py
for python 2.7 environment.

get-pip.py fails with in tempest-full-py3 job, too, as that job uses
python 3.5 which is also not supported by the new get-pip.py. For py35
the supported get-pip.py link is:
https://bootstrap.pypa.io/3.5/get-pip.py (which contains pip 20.3.4).
Also, we have to invalidate the CI cache which serves py36 pip.
This patch simply renames the file to fail the match.

Change-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2
(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)
(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)
(cherry picked from commit 910f00eeeb9bcf998d7d39d68387f5ca5be83245)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/772488/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,539754735ce5d93fa9c39e11727297dc216213f0,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}LOCAL_PIP_PY27=""${LOCAL_PIP}-py27""function _install_get_pip { local interpreter=$1 local pip_get_pip_url=$2 local local_pip=$3 if [[ -r $local_pip ]]; then if ! head -1 $local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $local_pip found removing"" rm $local_pip if [[ ! -r $local_pip || -r $local_pip.downloaded ]]; then if [[ -r $local_pip ]]; then timecond=""-z $local_pip"" $timecond -o $local_pip $pip_get_pip_url || \ touch $local_pip.downloaded sudo -H -E $interpreter $local_pip -c $TOOLS_DIR/cap-pip.txt } function install_get_pip { _install_get_pip python $PIP_GET_PIP_PY27_URL $LOCAL_PIP_PY27 _install_get_pip python${PYTHON3_VERSION} $PIP_GET_PIP_URL $LOCAL_PIP","function install_get_pip { if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",23,12
openstack%2Fdevstack~stable%2Frocky~I88ba370de8887a05c473fe7c19a61a319e8812d2,openstack/devstack,stable/rocky,I88ba370de8887a05c473fe7c19a61a319e8812d2,Use a dedicated version of get-pip.py for python 2.7,MERGED,2021-01-26 09:55:21.000000000,2021-01-27 02:15:08.000000000,2021-01-27 02:15:08.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 18031}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 09:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5323955cc538f4af51dd84777a3f034ed0954003', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n(cherry picked from commit 773efe5723c9e747bc6d49457d2732dbe5663cd6)\n'}, {'number': 2, 'created': '2021-01-26 10:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ccab86bf7efef34a7be07b9f7c04f4a0240a9fa', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nDepends-On: https://review.opendev.org/772488\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit fa09d3ffce00cc85a791ca2b9db2e061a7a4da0b)\n(cherry picked from commit 773efe5723c9e747bc6d49457d2732dbe5663cd6)\n'}, {'number': 3, 'created': '2021-01-26 13:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/48276f6600c70bd056d55da2a89b067f5b5a425a', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nget-pip.py fails with in tempest-full-py3 job, too, as that job uses\npython 3.5 which is also not supported by the new get-pip.py. For py35\nthe supported get-pip.py link is:\nhttps://bootstrap.pypa.io/3.5/get-pip.py (which contains pip 20.3.4).\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)\n(cherry picked from commit 910f00eeeb9bcf998d7d39d68387f5ca5be83245)\n'}, {'number': 4, 'created': '2021-01-26 16:51:36.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/92f3324aa393bd0f2e65468d9fd91345750731fb', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nget-pip.py fails with in tempest-full-py3 job, too, as that job uses\npython 3.5 which is also not supported by the new get-pip.py. For py35\nthe supported get-pip.py link is:\nhttps://bootstrap.pypa.io/3.5/get-pip.py (which contains pip 20.3.4).\nAlso, we have to invalidate the CI cache which serves py36 pip.\nThis patch simply renames the file to fail the match.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)\n(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)\n(cherry picked from commit 910f00eeeb9bcf998d7d39d68387f5ca5be83245)\n'}]",0,772487,92f3324aa393bd0f2e65468d9fd91345750731fb,14,6,4,17685,,,0,"Use a dedicated version of get-pip.py for python 2.7

get-pip.py dropped python 2.7 support, so we cannot use the default
get-pip.py for python 2.7 now. get-pip.py for python 2.7 is available
at https://bootstrap.pypa.io/2.7/get-pip.py.
This commit tries to use python 2.7 version of get-pip.py
for python 2.7 environment.

get-pip.py fails with in tempest-full-py3 job, too, as that job uses
python 3.5 which is also not supported by the new get-pip.py. For py35
the supported get-pip.py link is:
https://bootstrap.pypa.io/3.5/get-pip.py (which contains pip 20.3.4).
Also, we have to invalidate the CI cache which serves py36 pip.
This patch simply renames the file to fail the match.

Change-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2
(cherry picked from commit 1382e933c5b2c16b276e8813fbc7cd9a1d6d4499)
(cherry picked from commit 469b26f74288b00f3b6128f3a260046ea51c8a43)
(cherry picked from commit 910f00eeeb9bcf998d7d39d68387f5ca5be83245)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/772487/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,5323955cc538f4af51dd84777a3f034ed0954003,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}LOCAL_PIP_PY27=""${LOCAL_PIP}-py27""function _install_get_pip { local interpreter=$1 local pip_get_pip_url=$2 local local_pip=$3 if [[ -r $local_pip ]]; then if ! head -1 $local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $local_pip found removing"" rm $local_pip if [[ ! -r $local_pip || -r $local_pip.downloaded ]]; then if [[ -r $local_pip ]]; then timecond=""-z $local_pip"" $timecond -o $local_pip $pip_get_pip_url || \ touch $local_pip.downloaded sudo -H -E $interpreter $local_pip -c $TOOLS_DIR/cap-pip.txt } function install_get_pip { _install_get_pip python $PIP_GET_PIP_PY27_URL $LOCAL_PIP_PY27 _install_get_pip python${PYTHON3_VERSION} $PIP_GET_PIP_URL $LOCAL_PIP","function install_get_pip { if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",23,12
openstack%2Fcyborg~master~I150192e1107df5a8b018b155bcbb184c3dadaf30,openstack/cyborg,master,I150192e1107df5a8b018b155bcbb184c3dadaf30,Trival: Fix the key error in log msg,MERGED,2021-01-08 06:50:17.000000000,2021-01-27 02:14:27.000000000,2021-01-27 02:12:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-01-08 06:50:17.000000000', 'files': ['cyborg/objects/extarq/ext_arq_job.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8fcc05033f883ec64efa973fc1a8356d8da74c9f', 'message': 'Trival: Fix the key error in log msg\n\nChange-Id: I150192e1107df5a8b018b155bcbb184c3dadaf30\n'}]",0,769873,8fcc05033f883ec64efa973fc1a8356d8da74c9f,8,3,1,26721,,,0,"Trival: Fix the key error in log msg

Change-Id: I150192e1107df5a8b018b155bcbb184c3dadaf30
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/73/769873/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/objects/extarq/ext_arq_job.py'],1,8fcc05033f883ec64efa973fc1a8356d8da74c9f,," LOG.info('[arqs:objs] bind. hostname: %(hostname)s, ' 'devrp_uuid: %(devrp_uuid)s, ' 'instance_uuid: %(instance_uuid)s, '"," LOG.info('[arqs:objs] bind. hostname: %(hostname)s,' ' devrp_uuid: %(devrp_uuid)s, instance: %(instance)s, '",3,2
openstack%2Fcyborg~master~I34f93a05932b2c6536cc5bf6ab718af2bd514e46,openstack/cyborg,master,I34f93a05932b2c6536cc5bf6ab718af2bd514e46,Import HTTPStatus instead of http_client,MERGED,2020-11-11 08:55:47.000000000,2021-01-27 02:13:09.000000000,2021-01-27 02:11:57.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 31412}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-11 08:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1c72a9dd6cebabc22d3508626f498fa332ddc136', 'message': ""Import HTTPStatus instead of http_client\n\nWe don't need an HTTP client for this, we only\nneed status codes.  Just load that instead.\n\nhttps://docs.python.org/3/library/http.html\n\nChange-Id: I34f93a05932b2c6536cc5bf6ab718af2bd514e46\n""}, {'number': 2, 'created': '2020-11-16 07:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/06496fc378e4a1fb70e416ed1c4dfcce4c42d886', 'message': ""Import HTTPStatus instead of http_client\n\nWe don't need an HTTP client for this, we only\nneed status codes.  Just load that instead.\n\nhttps://docs.python.org/3/library/http.html\n\nChange-Id: I34f93a05932b2c6536cc5bf6ab718af2bd514e46\n""}, {'number': 3, 'created': '2020-11-20 02:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ccacba9adb9697dc52fcc8b7569a504cf1fa26b4', 'message': ""Import HTTPStatus instead of http_client\n\nWe don't need an HTTP client for this, we only\nneed status codes.  Just load that instead.\n\nhttps://docs.python.org/3/library/http.html\n\nChange-Id: I34f93a05932b2c6536cc5bf6ab718af2bd514e46\n""}, {'number': 4, 'created': '2020-11-25 09:39:41.000000000', 'files': ['cyborg/accelerator/common/exception.py', 'cyborg/api/controllers/v2/arqs.py', 'cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/tests/unit/api/controllers/v2/test_fpga_program.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/policies/test_device_profiles.py', 'cyborg/common/authorize_wsgi.py', 'cyborg/api/controllers/v2/device_profiles.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/acac8339084382e133c38c0932b2ed392923be4d', 'message': 'Import HTTPStatus instead of http_client\n\npython introduced http.HTTPStatus since version 3.5,\nand the OpenStack Victoria has targeted a minimum\nversion of python 3.6[1], cyborg also does that.\n\nTo keep update with the latest version we introduce HTTPStatus to replace http_client in cyborg code.\n\n[1]https://governance.openstack.org/tc/reference/runtimes/victoria.html\n'}]",1,762315,acac8339084382e133c38c0932b2ed392923be4d,19,5,4,32291,,,0,"Import HTTPStatus instead of http_client

python introduced http.HTTPStatus since version 3.5,
and the OpenStack Victoria has targeted a minimum
version of python 3.6[1], cyborg also does that.

To keep update with the latest version we introduce HTTPStatus to replace http_client in cyborg code.

[1]https://governance.openstack.org/tc/reference/runtimes/victoria.html
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/15/762315/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/common/exception.py', 'cyborg/api/controllers/v2/arqs.py', 'cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/tests/unit/api/controllers/v2/test_fpga_program.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/policies/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py']",8,1c72a9dd6cebabc22d3508626f498fa332ddc136,,"from http import HTTPStatus self.assertEqual(HTTPStatus.LOCKED, response.status_int) self.assertEqual(HTTPStatus.CREATED, response.status_int) self.assertEqual(HTTPStatus.NO_CONTENT, response.status_int) self.assertEqual(HTTPStatus.NO_CONTENT, response.status_int) self.assertEqual(HTTPStatus.NOT_ACCEPTABLE, response.status_code)","from http import client as http_client self.assertEqual(http_client.LOCKED, response.status_int) self.assertEqual(http_client.CREATED, response.status_int) self.assertEqual(http_client.NO_CONTENT, response.status_int) self.assertEqual(http_client.NO_CONTENT, response.status_int) self.assertEqual(http_client.NOT_ACCEPTABLE, response.status_code)",35,35
openstack%2Fcharm-keystone-saml-mellon~master~Ib7ef820804dc6a47ae5efdfbe4b3aa681103046a,openstack/charm-keystone-saml-mellon,master,Ib7ef820804dc6a47ae5efdfbe4b3aa681103046a,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:31:03.000000000,2021-01-27 02:05:27.000000000,2021-01-27 02:05:27.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 16:31:03.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/fc1aed0efe55c52cf73c2cdaf5cc881fd771c7cb', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: Ib7ef820804dc6a47ae5efdfbe4b3aa681103046a\n'}]",0,771024,fc1aed0efe55c52cf73c2cdaf5cc881fd771c7cb,19,4,1,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Ib7ef820804dc6a47ae5efdfbe4b3aa681103046a
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/24/771024/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt']",3,fc1aed0efe55c52cf73c2cdaf5cc881fd771c7cb,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,,7,1
openstack%2Ftacker~master~I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d,openstack/tacker,master,I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d,Change data size of instance_id in VNF table,MERGED,2020-12-22 15:01:22.000000000,2021-01-27 01:35:44.000000000,2021-01-27 01:33:43.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27880}, {'_account_id': 31730}, {'_account_id': 31821}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-12-22 15:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/771e995646991d631411868021380deb9b477444', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to Text from\nString(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 2, 'created': '2020-12-24 07:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/73f7ac0205359d49af79a1b63f4da2b92c9a0535', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to Text from\nString(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 3, 'created': '2021-01-12 06:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3ba924ee998e31367fb8bf60a505ccfb2338d78e', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to Text from\nString(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 4, 'created': '2021-01-13 00:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4100a7053d0b530286ae14d32c74e285b8669402', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to Text from\nString(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 5, 'created': '2021-01-15 00:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9c3707113fd62bd8b31d3e86fe9bd383db2e895e', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(65535) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 6, 'created': '2021-01-15 06:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c167a2408975dd8157fb2023655c6b7f875db2e8', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(65535) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 65535:\nThe default charset of mysql (latest version: 8.0.x) is utf8mb4, it\nmeans 4 bytes per char.\nResize to 65535 so that it can store approximately 128 resources when\nit requires 128 characters per resource.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 7, 'created': '2021-01-15 14:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/21266ef25322958e9ee780f0a36a7f92cb895150', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(21079) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 21079:\nMysql version 8.0 documentation [1] says that ""MySQL table has a maximum\nrow size limit of 65,535 byte"".\n[1] https://dev.mysql.com/doc/refman/8.0/en/column-count-limit.html\nThe remaining size available in the VNF table is String(21079), so this\npatch update definition of `instance_id` to String(21079) to avoid\nproblems.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 8, 'created': '2021-01-20 04:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e9181b6a81cb8cd7a6f045c332a1089bf5ea2f12', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis fits in the rest of the vnf table, even with utf8mb4 in the mysql\ndefault character set (latest version: 8.0.x).\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 9, 'created': '2021-01-20 08:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b3d5bcfc325379dbdd36fd841b9aea50e5a2e23b', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other amount size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 10, 'created': '2021-01-20 08:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/38a11304bf1f834bf8381d1f7417862bb3d07f11', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 11, 'created': '2021-01-21 06:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a70c2374475842bbfec4885af6121d8542db0f17', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to Text from\nString(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 12, 'created': '2021-01-21 06:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/564dc2b25b4befcff2dcdb148f22c95344f66d2a', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 13, 'created': '2021-01-21 20:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/08c13c700112e8231a621bdcb894f2dd2226d96d', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 14, 'created': '2021-01-22 08:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f09a813077d50b82788fd91b068362719d930f23', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation.\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 15, 'created': '2021-01-24 23:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f3748a44d9a33543d67d3892753dcb41cf226b1a', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation, , because instance_id is\nstored kubernetes object information such as following:\n----\n\'instance_id\': ""\n  {\'namespace\': \'default\', \'name\': \'vdu1\',\n   \'apiVersion\': \'apps/v1\', \'kind\': \'Deployment\'},\n  {\'namespace\': \'default\', \'name\': \'pv1\',\n   \'apiVersion\': \'core/v1\', \'kind\': \'PersistentVolume\'},\n  ... (**Contains the deployed kubernetes resources)\n  {...}""\n----\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 16, 'created': '2021-01-25 00:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4474618a8a62573b167b937932508a36220264ed', 'message': 'Change data type of instance_id in VNF table\n\nNeed to change data type of `instance_id` in the VNF table to\nString(12800) from String(64).\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation, because instance_id\nstore kubernetes object information such as following:\n----\n\'instance_id\': ""\n  {\'namespace\': \'default\', \'name\': \'vdu1\',\n   \'apiVersion\': \'apps/v1\', \'kind\': \'Deployment\'},\n  {\'namespace\': \'default\', \'name\': \'pv1\',\n   \'apiVersion\': \'core/v1\', \'kind\': \'PersistentVolume\'},\n  ... (**Contains the deployed kubernetes resources)\n  {...}""\n----\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}, {'number': 17, 'created': '2021-01-26 03:58:38.000000000', 'files': ['tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/db/migration/alembic_migrations/versions/7186440a306b_change_type_for_instance_id_of_vnf_table.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/971d949da7e1cae533cbf7c95230fe7ee0558c6b', 'message': 'Change data size of instance_id in VNF table\n\nNeed to change data size of `instance_id` in the VNF table to\nString(12800) from String(64).\nWe don\'t have an appropriate ID for instance_id for CNF case, so we use\nthe object information instead as a workaround.\nIf it leave the definition of String(64) as it is, a ""Data too long for\ncolumn"" error will occur during CNF operation, because instance_id\nstore kubernetes object information such as following:\n----\n\'instance_id\': ""\n  {\'namespace\': \'default\', \'name\': \'vdu1\',\n   \'apiVersion\': \'apps/v1\', \'kind\': \'Deployment\'},\n  {\'namespace\': \'default\', \'name\': \'pv1\',\n   \'apiVersion\': \'core/v1\', \'kind\': \'PersistentVolume\'},\n  ... (**Contains the deployed kubernetes resources)\n  {...}""\n----\n\nReason of changing string size to 12800:\nResize to 12800 so that it can store approximately 100 resources when\nit requires 128 characters per resource.\nThis 12800 characters is under the limit of 65535 bytes per entry,\neven for the maximum length character set (4 bytes) [1].\n(instance_id\'s size (12800 * 4) + other total size(3044) < 65535)\n`other total size` means the capacity used other than instance_id in\nthe VNF table.\n[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html\n\nCloses-Bug: 1909011\nChange-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d\n'}]",12,768217,971d949da7e1cae533cbf7c95230fe7ee0558c6b,120,8,17,31857,,,0,"Change data size of instance_id in VNF table

Need to change data size of `instance_id` in the VNF table to
String(12800) from String(64).
We don't have an appropriate ID for instance_id for CNF case, so we use
the object information instead as a workaround.
If it leave the definition of String(64) as it is, a ""Data too long for
column"" error will occur during CNF operation, because instance_id
store kubernetes object information such as following:
----
'instance_id': ""
  {'namespace': 'default', 'name': 'vdu1',
   'apiVersion': 'apps/v1', 'kind': 'Deployment'},
  {'namespace': 'default', 'name': 'pv1',
   'apiVersion': 'core/v1', 'kind': 'PersistentVolume'},
  ... (**Contains the deployed kubernetes resources)
  {...}""
----

Reason of changing string size to 12800:
Resize to 12800 so that it can store approximately 100 resources when
it requires 128 characters per resource.
This 12800 characters is under the limit of 65535 bytes per entry,
even for the maximum length character set (4 bytes) [1].
(instance_id's size (12800 * 4) + other total size(3044) < 65535)
`other total size` means the capacity used other than instance_id in
the VNF table.
[1] https://dev.mysql.com/doc/refman/8.0/en/charset-charsets.html

Closes-Bug: 1909011
Change-Id: I50db6f86cd8c164efeab2f0ebbe8ec0258a5ef1d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/17/768217/17 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/db/migration/alembic_migrations/versions/7186440a306b_change_type_for_instance_id_of_vnf_table.py']",2,771e995646991d631411868021380deb9b477444,bug/1905343,"# Copyright 2020 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""change type for instance_id of vnf table Revision ID: 7186440a306b Revises: 329cd1619d41 Create Date: 2020-12-21 16:08:23.438871 """""" from alembic import op import sqlalchemy as sa # revision identifiers, used by Alembic. revision = '7186440a306b' down_revision = '329cd1619d41' def upgrade(active_plugins=None, options=None): op.alter_column('vnf', 'instance_id', type_=sa.Text(), nullable=True) ",,37,1
openstack%2Fgovernance~master~I7a31c41ce83fbb7dd2a5da02a6a27dec8651e277,openstack/governance,master,I7a31c41ce83fbb7dd2a5da02a6a27dec8651e277,Setting Ke Chen as Watcher's PTL,MERGED,2021-01-15 09:23:10.000000000,2021-01-27 01:31:09.000000000,2021-01-27 01:28:02.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-01-15 09:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/12f267909aab8caa1b7e83ea6fb0abea5709b5a9', 'message': ""Setting Ke Chen as Cyborg's PTL\n\nFor personal reason, Canwei Li has no time to continue the work for Watcher PTL.\nKe Chen(His colleage) from ZTE will take over the role.\n\nChange-Id: I7a31c41ce83fbb7dd2a5da02a6a27dec8651e277\n""}, {'number': 2, 'created': '2021-01-15 09:24:52.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/9591e8509ce789777e1b1e8fb01de0a0f1b1849b', 'message': ""Setting Ke Chen as Watcher's PTL\n\nFor personal reason, Canwei Li has no time to continue the work for Watcher PTL.\nKe Chen(His colleage) from ZTE will take over the role.\n\nChange-Id: I7a31c41ce83fbb7dd2a5da02a6a27dec8651e277\n""}]",0,770913,9591e8509ce789777e1b1e8fb01de0a0f1b1849b,17,11,2,28748,,,0,"Setting Ke Chen as Watcher's PTL

For personal reason, Canwei Li has no time to continue the work for Watcher PTL.
Ke Chen(His colleage) from ZTE will take over the role.

Change-Id: I7a31c41ce83fbb7dd2a5da02a6a27dec8651e277
",git fetch https://review.opendev.org/openstack/governance refs/changes/13/770913/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,12f267909aab8caa1b7e83ea6fb0abea5709b5a9,project-update, name: Ke Chen irc: chenke email: chen.ke14@zte.com.cn, name: canwei li irc: No nick supplied email: li.canwei2@zte.com.cn,3,3
openstack%2Fgovernance~master~Ib2306220219267ed43cbd8ba27968a99bd98e5d7,openstack/governance,master,Ib2306220219267ed43cbd8ba27968a99bd98e5d7,Move openstack-tempest-skiplist to release-management: none,MERGED,2021-01-19 16:32:14.000000000,2021-01-27 01:29:34.000000000,2021-01-27 01:27:37.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-19 16:32:14.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/3316f540a516211450feddef0fc8a54b2839e2c4', 'message': 'Move openstack-tempest-skiplist to release-management: none\n\nAs discussed at [1] this moves openstack-tempest-skiplist repo\nto release-management:none.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019846.html\n\nChange-Id: Ib2306220219267ed43cbd8ba27968a99bd98e5d7\n'}]",0,771488,3316f540a516211450feddef0fc8a54b2839e2c4,16,9,1,8449,,,0,"Move openstack-tempest-skiplist to release-management: none

As discussed at [1] this moves openstack-tempest-skiplist repo
to release-management:none.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019846.html

Change-Id: Ib2306220219267ed43cbd8ba27968a99bd98e5d7
",git fetch https://review.opendev.org/openstack/governance refs/changes/88/771488/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,3316f540a516211450feddef0fc8a54b2839e2c4,project-update, release-management: none,,1,0
openstack%2Fgovernance~master~I1a548605a8593cbe2d311a6c2ed307d65cacc93f,openstack/governance,master,I1a548605a8593cbe2d311a6c2ed307d65cacc93f,js-openstack-lib does not make releases,MERGED,2021-01-21 10:50:40.000000000,2021-01-27 01:28:13.000000000,2021-01-27 01:26:39.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-21 10:50:40.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/d3da7780488ac863a1b7a4ed62e6ce61a78cdf1f', 'message': 'js-openstack-lib does not make releases\n\nThis project was never released yet, was not ready yet for ussuri and victoria\nand the OpenstackSDK team think that it require a serious redesign/rewrite [1]\nso these changes propose to ignore it from a release point of view.\n\nSet the release-management key so that it gets properly ignored by the release\nmanagement team.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019853.html\n\nChange-Id: I1a548605a8593cbe2d311a6c2ed307d65cacc93f\n'}]",0,771789,d3da7780488ac863a1b7a4ed62e6ce61a78cdf1f,14,6,1,28522,,,0,"js-openstack-lib does not make releases

This project was never released yet, was not ready yet for ussuri and victoria
and the OpenstackSDK team think that it require a serious redesign/rewrite [1]
so these changes propose to ignore it from a release point of view.

Set the release-management key so that it gets properly ignored by the release
management team.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019853.html

Change-Id: I1a548605a8593cbe2d311a6c2ed307d65cacc93f
",git fetch https://review.opendev.org/openstack/governance refs/changes/89/771789/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,d3da7780488ac863a1b7a4ed62e6ce61a78cdf1f,project-update, release-management: none,,1,0
openstack%2Fgovernance~master~Ia666cc9e306bbea513e94342e92c45ba4d509d42,openstack/governance,master,Ia666cc9e306bbea513e94342e92c45ba4d509d42,Drop openSUSE from commonly tested distro list,MERGED,2021-01-14 20:04:04.000000000,2021-01-27 01:16:26.000000000,2021-01-27 01:13:23.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8099}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 20:04:04.000000000', 'files': ['reference/project-testing-interface.rst', 'reference/runtimes/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/93a4d724fae61b2c4c3802bf02695098143f0316', 'message': 'Drop openSUSE from commonly tested distro list\n\nOpenSUSE is no longer maintained for testing\nin OpenStack upstream CI, devstack job is broken\nfor more than month and unfortunately we do not have\nany active maintainer to fix and maintain it.\n\nDevstack team is planning to drop the openSUSE job\n- https://review.opendev.org/c/openstack/devstack/+/769884\n\nIf we cannot test it with working job then we should remove\nit from wallaby and future testing runtime.\n\nAgreement on this in TC meeting (14th Jan 2021)\n- http://eavesdrop.openstack.org/meetings/tc/2021/tc.2021-01-14-15.00.log.html#l-226\n\nChange-Id: Ia666cc9e306bbea513e94342e92c45ba4d509d42\n'}]",0,770855,93a4d724fae61b2c4c3802bf02695098143f0316,14,7,1,8556,,,0,"Drop openSUSE from commonly tested distro list

OpenSUSE is no longer maintained for testing
in OpenStack upstream CI, devstack job is broken
for more than month and unfortunately we do not have
any active maintainer to fix and maintain it.

Devstack team is planning to drop the openSUSE job
- https://review.opendev.org/c/openstack/devstack/+/769884

If we cannot test it with working job then we should remove
it from wallaby and future testing runtime.

Agreement on this in TC meeting (14th Jan 2021)
- http://eavesdrop.openstack.org/meetings/tc/2021/tc.2021-01-14-15.00.log.html#l-226

Change-Id: Ia666cc9e306bbea513e94342e92c45ba4d509d42
",git fetch https://review.opendev.org/openstack/governance refs/changes/55/770855/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/project-testing-interface.rst', 'reference/runtimes/wallaby.rst']",2,93a4d724fae61b2c4c3802bf02695098143f0316,formal-vote,* Python 3.6 (default in CentOS 8.0),* openSUSE Leap 15* Python 3.6 (default in CentOS 8.0 and OpenSUSE Leap 15.2),1,3
openstack%2Fgovernance~master~Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956,openstack/governance,master,Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956,Add Resolution of TC stance on the OpenStackClient,MERGED,2020-10-27 16:47:20.000000000,2021-01-27 01:15:11.000000000,2021-01-27 01:13:18.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 12404}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-10-27 16:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/41c0839069fd966bffaaa81fd86d36e59d5014cf', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 2, 'created': '2020-10-27 16:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d9edc6169043526abcb7faecb0be972b9ec05d2e', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 3, 'created': '2020-10-27 16:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ab9592ee7c50e1c91eeaa0125012aab4ebe0b3ea', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 4, 'created': '2020-10-27 22:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4980c81f0c1dd70cb08487fc9c74ff03d3ec67be', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 5, 'created': '2020-10-27 22:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d90b91fdaa550b4899b35c7a1895efeb5f8275f3', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 6, 'created': '2020-11-09 20:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8995cb2810a8b9fea9ac945fde99288426767f16', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 7, 'created': '2020-11-18 18:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/871c8bd60eb280cbb6c8853a072c5d905d1aa464', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 8, 'created': '2021-01-08 00:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/42034b4bf34883c007290edb03ba80b638f7df59', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 9, 'created': '2021-01-14 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/45efbe7b061287857bd78bed006b2dd0a635e090', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 10, 'created': '2021-01-14 15:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d39a32de5461f4463cd52b944fb0c1ec043d2121', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}, {'number': 11, 'created': '2021-01-14 20:04:46.000000000', 'files': ['resolutions/20201028-openstackclient-tc-policy.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/2d7c44010475f4556ca0b6f7f525524e580b4475', 'message': 'Add Resolution of TC stance on the OpenStackClient\n\nChange-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956\n'}]",52,759904,2d7c44010475f4556ca0b6f7f525524e580b4475,99,19,11,16708,,,0,"Add Resolution of TC stance on the OpenStackClient

Change-Id: Ia467ad9e8d96ebebb3dd43cc3f67db81d9beb956
",git fetch https://review.opendev.org/openstack/governance refs/changes/04/759904/1 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20201028-openstackclient-tc-policy.rst'],1,41c0839069fd966bffaaa81fd86d36e59d5014cf,formal-vote,"==================================== 2020-10-28 OpenStackClient TC Policy ==================================== For several releases now, there has been much debate about unifying on a single client instead of continuing to maintain the individual python-*clients for each of the OpenStack services and the best way to approach reaching parity between the two clients so as to deprecate and remove the project specific clients. Having to use more than one client in a basic workflow is a very confusing and frustrating experience for OpenStack users. Using a combination of clients makes OpenStack feel disjointed and overly complex. A single OpenStackClient will In order to better support the user experience and encourage adoption of new users, we will have a two fold policy. Firstly, going forward, OpenStack services will focus on enabling all user documentation will make use of the OpenStackClient and not the python-* clients. Secondly, all ci tooling should use the OpenStackClient to further the efforts that the minimal viable workflows are unified on a single client. This resolution is not going to dictate a completion date, but is to ensure that we make forward progress in that direction. ",,24,0
openstack%2Fpython-tripleoclient~master~I2dada3e0b59f8c4a5c162719ca5cbee950f5a970,openstack/python-tripleoclient,master,I2dada3e0b59f8c4a5c162719ca5cbee950f5a970,Drop --update-plan-only,MERGED,2021-01-19 10:04:46.000000000,2021-01-27 00:50:40.000000000,2021-01-27 00:49:08.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-19 10:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ff6acb045f75f961df7074db38de4b02c94b71c', 'message': ""Drop --update-plan-only\n\nAs we're now working to remove the plan, we don't need this\nany more.\n\nChange-Id: I2dada3e0b59f8c4a5c162719ca5cbee950f5a970\n""}, {'number': 2, 'created': '2021-01-20 03:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/daa0c9a5e69a50c11d9f5a4e698dd8ca260f53a3', 'message': ""Drop --update-plan-only\n\nAs we're now working to remove the plan, we don't need this\nany more.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/771532\nChange-Id: I2dada3e0b59f8c4a5c162719ca5cbee950f5a970\n""}, {'number': 3, 'created': '2021-01-21 05:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d93861e36df96531b4f7cce4d9431abba139b893', 'message': ""Drop --update-plan-only\n\nAs we're now working to remove the plan, we don't need this\nany more.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/771532\nChange-Id: I2dada3e0b59f8c4a5c162719ca5cbee950f5a970\n""}, {'number': 4, 'created': '2021-01-24 12:00:14.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d76a3ab9d123d55538b6b8bb9061efcf0b7e3664', 'message': ""Drop --update-plan-only\n\nAs we're now working to remove the plan, we don't need this\nany more.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/771532\nChange-Id: I2dada3e0b59f8c4a5c162719ca5cbee950f5a970\n""}]",0,771394,d76a3ab9d123d55538b6b8bb9061efcf0b7e3664,26,4,4,8833,,,0,"Drop --update-plan-only

As we're now working to remove the plan, we don't need this
any more.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/771532
Change-Id: I2dada3e0b59f8c4a5c162719ca5cbee950f5a970
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/771394/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,2ff6acb045f75f961df7074db38de4b02c94b71c,env_merging," env_files, timeout, tht_root, env, self.log.info(""Deploying templates in the directory {0}"".format( os.path.abspath(tht_root))) deployment.deploy_without_plan( self.clients, stack, stack_name, template, files, env_files_tracker, self.log) parsed_args.timeout, env, env, run_validations, tht_root, env, help=_('DEPRECATED: Only update the plan. Do not perform the ' 'actual deployment. NOTE: Will move to a discrete command ' 'in a future release. Not supported anymore.') if parsed_args.update_plan_only: raise exceptions.DeploymentError( 'Only plan update is not supported.') "," env_files, timeout, tht_root, env, update_plan_only, if not update_plan_only: self.log.info(""Deploying templates in the directory {0}"".format( os.path.abspath(tht_root))) deployment.deploy_without_plan( self.clients, stack, stack_name, template, files, env_files_tracker, self.log) parsed_args.timeout, env, parsed_args.update_plan_only, env, update_plan_only, run_validations, tht_root, env, update_plan_only, help=_('Only update the plan. Do not perform the actual ' 'deployment. NOTE: Will move to a discrete command in a ' 'future release.') if parsed_args.update_plan_only: # If we are only updating the plan, then we either wont have a # stack yet or there wont be any changes and the following code # wont do anything. return ",22,132
openstack%2Fos-net-config~stable%2Fvictoria~Idbee49ce02d000043d0fa8e398aeb82f032c32aa,openstack/os-net-config,stable/victoria,Idbee49ce02d000043d0fa8e398aeb82f032c32aa,Check to ensure active DPDK NICs only mapped once,MERGED,2021-01-21 16:40:04.000000000,2021-01-27 00:50:20.000000000,2021-01-27 00:49:05.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 16:40:04.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/561f593e296355dadb64be4d48ffc30eddac0275', 'message': 'Check to ensure active DPDK NICs only mapped once\n\nThis change ensures that active DPDK NICs are only added\nto the list of mapped NICs once, and avoids duplicate entries.\n\nWhen os-net-config runs for the first time there is no entry\nin /sys/net for the DPDK NICs, so we look in\n/var/lib/os-net-config/dpdk_mapping.yaml for the list of\nDPDK NICs and add them to the NIC mapping list.\n\nIf os-net-config has been run before and the DPDK NICs are\nalready active, there is an entry in /sys/net and also an\nentry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.\nThis results in the same NIC being added to the list of active\nNICs twice.\n\nChange-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa\nCloses-Bug: #1912409\n(cherry picked from commit ba93c36044a271b52fedb8a275f6b8e05fbe2a62)\n'}]",0,771847,561f593e296355dadb64be4d48ffc30eddac0275,12,3,1,12398,,,0,"Check to ensure active DPDK NICs only mapped once

This change ensures that active DPDK NICs are only added
to the list of mapped NICs once, and avoids duplicate entries.

When os-net-config runs for the first time there is no entry
in /sys/net for the DPDK NICs, so we look in
/var/lib/os-net-config/dpdk_mapping.yaml for the list of
DPDK NICs and add them to the NIC mapping list.

If os-net-config has been run before and the DPDK NICs are
already active, there is an entry in /sys/net and also an
entry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.
This results in the same NIC being added to the list of active
NICs twice.

Change-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa
Closes-Bug: #1912409
(cherry picked from commit ba93c36044a271b52fedb8a275f6b8e05fbe2a62)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/47/771847/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,561f593e296355dadb64be4d48ffc30eddac0275,bug/1912409-victoria, if nic not in embedded_nics: embedded_nics.append(nic) if nic not in nics: nics.append(nic), embedded_nics.append(nic) nics.append(nic),4,2
openstack%2Fopenstack-ansible~master~If190f95e68fb5946e3da218bcd365d3c9ceb91c4,openstack/openstack-ansible,master,If190f95e68fb5946e3da218bcd365d3c9ceb91c4,Bump ansible-base and OpenStack collections,MERGED,2021-01-21 10:18:54.000000000,2021-01-27 00:43:55.000000000,2021-01-27 00:41:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 10:18:54.000000000', 'files': ['ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55c05cb5653571a347daf90e05188bcdb3199208', 'message': 'Bump ansible-base and OpenStack collections\n\nChange-Id: If190f95e68fb5946e3da218bcd365d3c9ceb91c4\nCloses-bug: #1904029\n'}]",0,771780,55c05cb5653571a347daf90e05188bcdb3199208,16,3,1,28619,,,0,"Bump ansible-base and OpenStack collections

Change-Id: If190f95e68fb5946e3da218bcd365d3c9ceb91c4
Closes-bug: #1904029
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/771780/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'scripts/bootstrap-ansible.sh']",2,55c05cb5653571a347daf90e05188bcdb3199208,bug/1904029,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-base==2.10.5""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-base==2.10.4""}",4,5
openstack%2Ftripleo-heat-templates~master~I1133c210f35181d44f8ba56f09b52f00589e035c,openstack/tripleo-heat-templates,master,I1133c210f35181d44f8ba56f09b52f00589e035c,Live migration optimization with HP,MERGED,2020-12-15 17:16:47.000000000,2021-01-27 00:42:40.000000000,2021-01-27 00:40:49.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-12-15 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95f092319be2f7ff4b70d035c00a0c6b5d997b60', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 2, 'created': '2020-12-16 15:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b745e3fb0dd3a279db8f9fc209039783130b5a9', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 3, 'created': '2020-12-16 15:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/644c907af5ab9ccc59ae57b7217ba059881bfe8f', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 4, 'created': '2020-12-16 16:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1a5b3e1a3266ebed6287372ddd5ba8c68c025d5', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 5, 'created': '2020-12-16 16:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bde53e4b4bbafed6d5c89a3fdb14f4ade104ab1a', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 6, 'created': '2020-12-16 16:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8af7591c828a61955f80c0f6ba3b249a9e64b762', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 7, 'created': '2020-12-16 23:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4bdfaf1facbe03b41fec8080a7a9ce68ecf41e4', 'message': 'Exposing some NovaLiveMigration flags\n\nThis will allow operators to define NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 8, 'created': '2020-12-29 20:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0d0b5a5510e15934fb27b276a9cf8feb3c2f859', 'message': ""Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge. Operators can still disable this in\nthe role's ExtraConfig.\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n""}, {'number': 9, 'created': '2021-01-13 14:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64ee32ee4bfea95fdf9e8d0521fe6fd996c91e01', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 10, 'created': '2021-01-15 13:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2378e27897075a8521ecc52453e46abcfe7b300', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 11, 'created': '2021-01-18 15:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8b11f3a353150f5ac45500e32ef3a99828dbe05', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}, {'number': 12, 'created': '2021-01-25 21:02:20.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-live-migration-permit-postcopy-autoconverge-ca1719fd2abed45f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df207fd2e94e9604cdf48e82cd1dcafb660eadc8', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n'}]",13,767188,df207fd2e94e9604cdf48e82cd1dcafb660eadc8,58,7,12,27419,,,0,"Live migration optimization with HP

When a node has hugepages enabled, we can help with live migrations by
enabling NovaLiveMigrationPermitPostCopy and
NovaLiveMigrationPermitAutoConverge.

Related: https://bugzilla.redhat.com/1298201

Change-Id: I1133c210f35181d44f8ba56f09b52f00589e035c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/767188/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-live-migration-permit-postcopy-autoconverge-ca1719fd2abed45f.yaml']",2,95f092319be2f7ff4b70d035c00a0c6b5d997b60,live-migration-optimization,--- features: - | We are now exposing ``NovaLiveMigrationPermitPostCopy`` and ``NovaLiveMigrationPermitAutoConverge``. This will allow operators to enable these settings in nova during deployment. ,,20,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I752a764a53e90fcb17e414d4900bb186fa689f45,openstack/tripleo-heat-templates,stable/train,I752a764a53e90fcb17e414d4900bb186fa689f45,Remove vfio-pci.conf module load file,MERGED,2020-12-10 06:22:48.000000000,2021-01-27 00:41:59.000000000,2021-01-27 00:41:59.000000000,"[{'_account_id': 3153}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-10 06:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc0087e5e855acc36b0b026463458bafb1f68e47', 'message': 'Remove vfio-pci.conf module load file\n\nWith an existing BZ #1898664 on dracut does not create ramfs with\nvfio_iommu_type1 module, because which loading vfio-pci during the initramfs\nfails to load this module. Because of this dpdk ports are added in ERROR\nstate. It requires a restart ovs to bring to normal state after ffu is\ncomplete. As a workaround, the module-load file vfio-pci.conf is removed\nbefore upgrade, which will ensure that vfio-pci is not loaded during initramfs\nand it will be loaded when driverctl configures the vfio-pci driver to the\ninterface.\nCloses-Bug: #1905533\n\nChange-Id: I752a764a53e90fcb17e414d4900bb186fa689f45\n(cherry picked from commit a487e16c55fc4346e250f41bea4ee8fb43de55c5)\n'}, {'number': 2, 'created': '2021-01-11 09:01:46.000000000', 'files': ['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cda5afd28124074d5924747b0c586793ad46597', 'message': 'Remove vfio-pci.conf module load file\n\nWith an existing BZ #1898664 on dracut does not create ramfs with\nvfio_iommu_type1 module, because which loading vfio-pci during the initramfs\nfails to load this module. Because of this dpdk ports are added in ERROR\nstate. It requires a restart ovs to bring to normal state after ffu is\ncomplete. As a workaround, the module-load file vfio-pci.conf is removed\nbefore upgrade, which will ensure that vfio-pci is not loaded during initramfs\nand it will be loaded when driverctl configures the vfio-pci driver to the\ninterface.\nCloses-Bug: #1905533\n\nChange-Id: I752a764a53e90fcb17e414d4900bb186fa689f45\n(cherry picked from commit a487e16c55fc4346e250f41bea4ee8fb43de55c5)\n'}]",0,766420,1cda5afd28124074d5924747b0c586793ad46597,56,7,2,18575,,,0,"Remove vfio-pci.conf module load file

With an existing BZ #1898664 on dracut does not create ramfs with
vfio_iommu_type1 module, because which loading vfio-pci during the initramfs
fails to load this module. Because of this dpdk ports are added in ERROR
state. It requires a restart ovs to bring to normal state after ffu is
complete. As a workaround, the module-load file vfio-pci.conf is removed
before upgrade, which will ensure that vfio-pci is not loaded during initramfs
and it will be loaded when driverctl configures the vfio-pci driver to the
interface.
Closes-Bug: #1905533

Change-Id: I752a764a53e90fcb17e414d4900bb186fa689f45
(cherry picked from commit a487e16c55fc4346e250f41bea4ee8fb43de55c5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/766420/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml'],1,dc0087e5e855acc36b0b026463458bafb1f68e47,ovs_dpdk_ffu_vfio_failure-stable/train," list_concat: - get_attr: [NeutronOvsAgent, role_data, upgrade_tasks] - - name: upgrade prepare for leapp to vfio-pci.conf tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled block: # With an existing BZ #1898664 on dracut does not create ramfs with vfio_iommu_type1 # module, because which loading vfio-pci during the initramfs fails to load this # module. Because of this dpdk ports are added in ERROR state. It requires a # restart ovs to bring to normal state after ffu is complete. As a workaround, # the module-load file vfio-pci.conf can be removed before upgrade, which will # ensure that vfio-pci is not loaded during initramfs and it will be loaded # when driverctl configures the vfio-pci driver to the interface. - name: delete the vfio-pci.conf file before upgrade file: state: absent path: /etc/modules-load.d/vfio-pci.conf"," get_attr: [NeutronOvsAgent, role_data, upgrade_tasks]",23,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0814bd8794ab82792837b27d0128e15c34b90adc,openstack/tripleo-heat-templates,stable/victoria,I0814bd8794ab82792837b27d0128e15c34b90adc,Making sure virt-guest-shutdown.target exists,MERGED,2021-01-25 20:41:28.000000000,2021-01-27 00:40:44.000000000,2021-01-27 00:40:44.000000000,"[{'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-25 20:41:28.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c', 'message': ""Making sure virt-guest-shutdown.target exists\n\nlibvirt-daemon is part of the default overcloud image but it's also\npossible that it's not installed or simply removed by operators. In this\ncase, tripleo_nova_libvirt_guests will fail.\n\nRelated: https://bugzilla.redhat.com/1810319\nChange-Id: I0814bd8794ab82792837b27d0128e15c34b90adc\n(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)\n""}]",0,772432,28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c,9,7,1,27419,,,0,"Making sure virt-guest-shutdown.target exists

libvirt-daemon is part of the default overcloud image but it's also
possible that it's not installed or simply removed by operators. In this
case, tripleo_nova_libvirt_guests will fail.

Related: https://bugzilla.redhat.com/1810319
Change-Id: I0814bd8794ab82792837b27d0128e15c34b90adc
(cherry picked from commit 93b5c3a20e113a38aa99ab8266681f4554b1ac97)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/772432/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,28a26099b8bb31dfa3e5af1ea64cf83c5dd30c6c,virt-guest-shutdown-exists, - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org - name: Making sure virt-guest-shutdown.target is present copy: dest: /etc/systemd/system/virt-guest-shutdown.target content: | [Unit] Description=Libvirt guests shutdown Documentation=https://libvirt.org,,14,0
openstack%2Ftripleo-ci~master~Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b,openstack/tripleo-ci,master,Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b,Switch scenario004 from native CephFS to NFS,MERGED,2021-01-09 21:46:21.000000000,2021-01-27 00:20:04.000000000,2021-01-27 00:20:04.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-09 21:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3660c09cd70c9cf592889f3cc98e2e85df58c9c8', 'message': 'DNM: switch scenario004 from native CephFS to NFS\n\nFor https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}, {'number': 2, 'created': '2021-01-11 15:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4d20b5285bed2bbd40984508eb092ea66fcbd04', 'message': 'Switch scenario004 from native CephFS to NFS\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack\ndeployments than native CephFS since the latter requires that VMs belonging to\nregular members of Keystone projects be exposed to the Ceph infrastructure and\nrun client software with capabilities that are not appropriate for untrusted\ncloud tenants.\n\nNeeded by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}, {'number': 3, 'created': '2021-01-14 18:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e94dd806e1d1eb4474eafe12d23ec0d2dd054b2', 'message': 'Switch scenario004 from native CephFS to NFS\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack\ndeployments than native CephFS since the latter requires that VMs belonging to\nregular members of Keystone projects be exposed to the Ceph infrastructure and\nrun client software with capabilities that are not appropriate for untrusted\ncloud tenants.\n\nNeeded by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}, {'number': 4, 'created': '2021-01-15 12:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6bc779328d899455304be673ee1b6bfe1bbeb8b2', 'message': 'Switch scenario004 from native CephFS to NFS\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack\ndeployments than native CephFS since the latter requires that VMs belonging to\nregular members of Keystone projects be exposed to the Ceph infrastructure and\nrun client software with capabilities that are not appropriate for untrusted\ncloud tenants.\n\nNeeded by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}, {'number': 5, 'created': '2021-01-18 15:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/21fad43190dd9059942cd3196e48127894c450a1', 'message': 'Switch scenario004 from native CephFS to NFS\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack\ndeployments than native CephFS since the latter requires that VMs belonging to\nregular members of Keystone projects be exposed to the Ceph infrastructure and\nrun client software with capabilities that are not appropriate for untrusted\ncloud tenants.\n\nNeeded by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}, {'number': 6, 'created': '2021-01-20 15:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fd9692cbccb4c2de1e9d84afed95730f9ac7800e', 'message': 'Switch scenario004 from native CephFS to NFS\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack\ndeployments than native CephFS since the latter requires that VMs belonging to\nregular members of Keystone projects be exposed to the Ceph infrastructure and\nrun client software with capabilities that are not appropriate for untrusted\ncloud tenants.\n\nNeeded by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}, {'number': 7, 'created': '2021-01-20 15:52:47.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/848dab54cb156fb3e63b07645b8941e364e8a83d', 'message': 'Switch scenario004 from native CephFS to NFS\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack\ndeployments than native CephFS since the latter requires that VMs belonging to\nregular members of Keystone projects be exposed to the Ceph infrastructure and\nrun client software with capabilities that are not appropriate for untrusted\ncloud tenants.\n\nNeeded by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937\n\nChange-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b\n'}]",11,770049,848dab54cb156fb3e63b07645b8941e364e8a83d,57,7,7,9003,,,0,"Switch scenario004 from native CephFS to NFS

CephFS gatewayed by NFS is more generally suitable for multi-tenant OpenStack
deployments than native CephFS since the latter requires that VMs belonging to
regular members of Keystone projects be exposed to the Ceph infrastructure and
run client software with capabilities that are not appropriate for untrusted
cloud tenants.

Needed by: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937

Change-Id: Id354b9ac23b770c9c2df34f7b20cc6ed9c651b3b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/770049/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,3660c09cd70c9cf592889f3cc98e2e85df58c9c8,, 'share.enable_protocols': 'NFS', 'share.enable_protocols': 'cephfs',1,1
openstack%2Fansible-role-collect-logs~master~I62ec9b5ed1978806c82a973bb901d527c731d3a9,openstack/ansible-role-collect-logs,master,I62ec9b5ed1978806c82a973bb901d527c731d3a9,Find correct python interpreter,MERGED,2021-01-20 17:43:42.000000000,2021-01-27 00:20:00.000000000,2021-01-27 00:20:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6683}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 17:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/951adf6c6c6083170376ec649ecbf191f71dd74a', 'message': ""Find correct python interpreter\n\nIf /usr/bin/python is not available when trying to collect\nthe logs, then none are collected. In this patch we ensure\nthat alternative python interpreters are considered when\nattempting the log collection. The interpreters are\nconsidered in order of preference, with the system python\nbeing the last and the default when the host is unreachable.\n\nThis resolves the issue when infrared has an interpreter\nset in the inventory, but it's the wrong one due to the\nhost recently being upgraded from RHEL7 to RHEL8.\n\nChange-Id: I62ec9b5ed1978806c82a973bb901d527c731d3a9\n""}, {'number': 2, 'created': '2021-01-22 11:49:14.000000000', 'files': ['infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ff01bc786d18c7513983d493c4701f6b926ae226', 'message': ""Find correct python interpreter\n\nIf /usr/bin/python is not available when trying to collect\nthe logs, then none are collected. In this patch we ensure\nthat alternative python interpreters are considered when\nattempting the log collection. The interpreters are\nconsidered in order of preference, with the system python\nbeing the last and the default when the host is unreachable.\n\nThis resolves the issue when infrared has an interpreter\nset in the inventory, but it's the wrong one due to the\nhost recently being upgraded from RHEL7 to RHEL8.\n\nChange-Id: I62ec9b5ed1978806c82a973bb901d527c731d3a9\n""}]",1,771684,ff01bc786d18c7513983d493c4701f6b926ae226,15,9,2,6816,,,0,"Find correct python interpreter

If /usr/bin/python is not available when trying to collect
the logs, then none are collected. In this patch we ensure
that alternative python interpreters are considered when
attempting the log collection. The interpreters are
considered in order of preference, with the system python
being the last and the default when the host is unreachable.

This resolves the issue when infrared has an interpreter
set in the inventory, but it's the wrong one due to the
host recently being upgraded from RHEL7 to RHEL8.

Change-Id: I62ec9b5ed1978806c82a973bb901d527c731d3a9
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/84/771684/2 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/main.yml'],1,951adf6c6c6083170376ec649ecbf191f71dd74a,," gather_facts: no vars: ansible_python_interpreter: ""{{ py_interpreter.get('stdout_lines', ['/usr/libexec/platform-python']) | first | trim }}"" - name: Detect python interpreter raw: 'command -v python3 python2 /usr/libexec/platform-python' register: py_interpreter - name: Gather facts setup: ",,10,0
openstack%2Fkayobe~stable%2Ftrain~I82313fcd258e58969e0b68ae91a78943df537a7f,openstack/kayobe,stable/train,I82313fcd258e58969e0b68ae91a78943df537a7f,Fix overcloud host image resolv workaround on CentOS 8.3,MERGED,2021-01-18 16:11:45.000000000,2021-01-26 23:59:22.000000000,2021-01-26 23:58:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-18 16:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e82e93d73baacdccecde4513103de27205e6ebdb', 'message': ""Fix overcloud host image resolv workaround on CentOS 8.3\n\nIf a seed's bifrost_deploy container is deployed using a CentOS 8.2 base\nimage, prior to the CentOS 8.3 release, then a user runs 'kayobe seed\nservice deploy', the following task may fail:\n\n    TASK [Ensure the overcloud host image has bogus name server entries removed]\n\nThis seems to be an issue with libgcrypt not being upgraded with\nqemu-kvm, and becoming incompatible. The workaround is to ensure\nlibgcrypt is upgraded also.\n\nStory: 2008430\nTask: 41379\n\nChange-Id: I82313fcd258e58969e0b68ae91a78943df537a7f\n(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)\n""}, {'number': 2, 'created': '2021-01-26 20:34:58.000000000', 'files': ['ansible/overcloud-host-image-workaround-resolv.yml', 'releasenotes/notes/story-2008430-6a50101d05219aad.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1073fcfb3eb06c0b581a16aca9ea2a198ad1ddc7', 'message': ""Fix overcloud host image resolv workaround on CentOS 8.3\n\nIf a seed's bifrost_deploy container is deployed using a CentOS 8.2 base\nimage, prior to the CentOS 8.3 release, then a user runs 'kayobe seed\nservice deploy', the following task may fail:\n\n    TASK [Ensure the overcloud host image has bogus name server entries removed]\n\nThis seems to be an issue with libgcrypt not being upgraded with\nqemu-kvm, and becoming incompatible. The workaround is to ensure\nlibgcrypt is upgraded also.\n\nStory: 2008430\nTask: 41379\n\nChange-Id: I82313fcd258e58969e0b68ae91a78943df537a7f\n(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)\n""}]",0,771246,1073fcfb3eb06c0b581a16aca9ea2a198ad1ddc7,33,3,2,15197,,,0,"Fix overcloud host image resolv workaround on CentOS 8.3

If a seed's bifrost_deploy container is deployed using a CentOS 8.2 base
image, prior to the CentOS 8.3 release, then a user runs 'kayobe seed
service deploy', the following task may fail:

    TASK [Ensure the overcloud host image has bogus name server entries removed]

This seems to be an issue with libgcrypt not being upgraded with
qemu-kvm, and becoming incompatible. The workaround is to ensure
libgcrypt is upgraded also.

Story: 2008430
Task: 41379

Change-Id: I82313fcd258e58969e0b68ae91a78943df537a7f
(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/771246/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/overcloud-host-image-workaround-resolv.yml', 'releasenotes/notes/story-2008430-6a50101d05219aad.yaml']",2,e82e93d73baacdccecde4513103de27205e6ebdb,,--- fixes: - | Fixes an issue with the ``kayobe seed service deploy`` command on CentOS 8.3 release. See `story 2008430 <https://storyboard.openstack.org/#!/story/2008430>`__ for details. ,,7,1
openstack%2Fnova~master~I236998bea3619b7cb807023291c31680e8997c40,openstack/nova,master,I236998bea3619b7cb807023291c31680e8997c40,db: Compact Juno database migration,MERGED,2020-10-15 11:17:29.000000000,2021-01-26 23:18:02.000000000,2021-01-26 23:15:58.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-10-15 11:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac6e504c560b5e5fddc997a4dcba305280814283', 'message': ""TODO: Compact pre-Kilo database migration\n\nCompact pre-Kilo database migrations into a single migration,\n'254_juno.py'.\n\nPre-Kilo users will now need to update Juno before updating to Kilo or\nlater.\n\nSpecific changes include:\n\n- Alter the type of 'user_id' column of 'volume_usage_cache' table from\n  'String(32)' to 'String(64)'\n- Add 'mtu', 'dhcp_server', and 'share_dhcp' columns to 'networks' table\n- Add foreign key constraint from 'compute_node_id' column of\n  'pci_devices' table to 'compute_nodes' table\n- Alter the 'resource' column of 'quota_usages' table and 'product_id',\n  'vendor_id' and 'dev_type' columns of 'pci_devices' table to be\n  non-nullable. Alter the 'deleted' column of 'pci_devices' table to be\n  nullable\n- Drop a duplicate index from the 'block_device_mapping' table\n- Drop the 'instance_group_metadata' table\n- Add 'instance_extra' table\n- Add 'pci_requests' column to 'instance_extra' table\n- Add 'request_id' column to 'pci_devices' table\n\nNote that we don't include '248_add_expire_reservations_index' since\nthat is a duplicate of the old '234_add_expire_reservations_index'\nmigration which we previously handled in change\nI17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nTODO: See inline\n\nChange-Id: I236998bea3619b7cb807023291c31680e8997c40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-10-21 15:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/673cc06c9c448ee06cd6c24682ddc3233d45cf4e', 'message': ""db: Compact Juno database migration\n\nCompact Juno database migrations into a single migration, '254_juno.py'.\n\nUsers will now need to update Juno before updating to Kilo or later.\n\nSpecific changes include:\n\n- Alter the type of 'user_id' column of 'volume_usage_cache' table from\n  'String(32)' to 'String(64)'\n- Add 'mtu', 'dhcp_server', and 'share_dhcp' columns to 'networks' table\n- Add foreign key constraint from 'compute_node_id' column of\n  'pci_devices' table to 'compute_nodes' table\n- Alter the 'resource' column of 'quota_usages' table and 'product_id',\n  'vendor_id' and 'dev_type' columns of 'pci_devices' table to be\n  non-nullable. Alter the 'deleted' column of 'pci_devices' table to be\n  nullable\n- Drop a duplicate index from the 'block_device_mapping' table\n- Drop the 'instance_group_metadata' table\n- Add 'instance_extra' table\n- Add 'pci_requests' column to 'instance_extra' table\n- Add 'request_id' column to 'pci_devices' table\n\nNote that we don't include '248_add_expire_reservations_index' since\nthat is a duplicate of the old '234_add_expire_reservations_index'\nmigration which we previously handled in change\nI17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nThis change results in a small diff on MySQL at least, using the\nstrategy described at [1].\n\n  --- nova_before.sql     2020-10-20 14:18:17.295494086 +0100\n  +++ nova_after.sql      2020-10-20 16:19:30.237246084 +0100\n  @@ -772,7 +772,9 @@\n     KEY `networks_uuid_project_id_deleted_idx` (`uuid`,`project_id`,`deleted`),\n     KEY `networks_vlan_deleted_idx` (`vlan`,`deleted`),\n     CONSTRAINT `CONSTRAINT_1` CHECK (`injected` in (0,1)),\n  -  CONSTRAINT `CONSTRAINT_2` CHECK (`multi_host` in (0,1))\n  +  CONSTRAINT `CONSTRAINT_2` CHECK (`multi_host` in (0,1)),\n  +  CONSTRAINT `CONSTRAINT_3` CHECK (`enable_dhcp` in (0,1)),\n  +  CONSTRAINT `CONSTRAINT_4` CHECK (`share_address` in (0,1))\n   ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n   /*!40101 SET character_set_client = @saved_cs_client */;\n   DROP TABLE IF EXISTS `pci_devices`;\n\nThis appears to be some variant of bug #652 [2] in SQLAlchemy, since\nthere's no reason this constraint shouldn't have been present prior to\nthe compression. We're stuck until SQLAlchemy decide on a solution to\nfix this though.\n\nAlso note that this exposes quite a few bugs where we either forget to\nmigrate a shadow table column or, in one case, add something to a shadow\ntable that we shouldn't have. All of these will have to be resolved in\na later migration, assuming one of the as-yet unsquashed migrations\ndon't actually address this.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://github.com/sqlalchemy/alembic/issues/652\n\nChange-Id: I236998bea3619b7cb807023291c31680e8997c40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-10-28 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c3a648df7dcc316961b91cb9e6f6018e114f1c2', 'message': ""db: Compact Juno database migration\n\nCompact Juno database migrations into a single migration, '254_juno.py'.\n\nUsers will now need to update Juno before updating to Kilo or later.\n\nSpecific changes include:\n\n- Alter the type of 'user_id' column of 'volume_usage_cache' table from\n  'String(32)' to 'String(64)'\n- Add 'mtu', 'dhcp_server', and 'share_dhcp' columns to 'networks' table\n- Add foreign key constraint from 'compute_node_id' column of\n  'pci_devices' table to 'compute_nodes' table\n- Alter the 'resource' column of 'quota_usages' table and 'product_id',\n  'vendor_id' and 'dev_type' columns of 'pci_devices' table to be\n  non-nullable. Alter the 'deleted' column of 'pci_devices' table to be\n  nullable\n- Drop a duplicate index from the 'block_device_mapping' table\n- Drop the 'instance_group_metadata' table\n- Add 'instance_extra' table\n- Add 'pci_requests' column to 'instance_extra' table\n- Add 'request_id' column to 'pci_devices' table\n\nNote that we don't include '248_add_expire_reservations_index' since\nthat is a duplicate of the old '234_add_expire_reservations_index'\nmigration which we previously handled in change\nI17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nThis change results in a small diff on MySQL at least, using the\nstrategy described at [1].\n\n  --- nova_before.sql     2020-10-20 14:18:17.295494086 +0100\n  +++ nova_after.sql      2020-10-20 16:19:30.237246084 +0100\n  @@ -772,7 +772,9 @@\n     KEY `networks_uuid_project_id_deleted_idx` (`uuid`,`project_id`,`deleted`),\n     KEY `networks_vlan_deleted_idx` (`vlan`,`deleted`),\n     CONSTRAINT `CONSTRAINT_1` CHECK (`injected` in (0,1)),\n  -  CONSTRAINT `CONSTRAINT_2` CHECK (`multi_host` in (0,1))\n  +  CONSTRAINT `CONSTRAINT_2` CHECK (`multi_host` in (0,1)),\n  +  CONSTRAINT `CONSTRAINT_3` CHECK (`enable_dhcp` in (0,1)),\n  +  CONSTRAINT `CONSTRAINT_4` CHECK (`share_address` in (0,1))\n   ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n   /*!40101 SET character_set_client = @saved_cs_client */;\n   DROP TABLE IF EXISTS `pci_devices`;\n\nThis appears to be some variant of bug #652 [2] in SQLAlchemy, since\nthere's no reason this constraint shouldn't have been present prior to\nthe compression. We're stuck until SQLAlchemy decide on a solution to\nfix this though.\n\nAlso note that this exposes quite a few bugs where we either forget to\nmigrate a shadow table column or, in one case, add something to a shadow\ntable that we shouldn't have. All of these will have to be resolved in\na later migration, assuming one of the as-yet unsquashed migrations\ndon't actually address this.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://github.com/sqlalchemy/alembic/issues/652\n\nChange-Id: I236998bea3619b7cb807023291c31680e8997c40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-01-07 11:47:59.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/247_nullable_mismatch.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/235_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/251_add_numa_topology_to_comput_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/246_add_compute_node_id_fk.py', 'nova/db/sqlalchemy/migrate_repo/versions/245_add_mtu_and_dhcp_server.py', 'nova/db/sqlalchemy/migrate_repo/versions/239_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/250_remove_instance_groups_metadata.py', 'nova/db/sqlalchemy/migrate_repo/versions/249_remove_duplicate_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/253_add_pci_requests_to_instance_extra_table.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/243_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/252_add_instance_extra_table.py', 'nova/db/sqlalchemy/migrate_repo/versions/254_juno.py', 'nova/db/sqlalchemy/migrate_repo/versions/238_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/254_add_request_id_in_pci_devices.py', 'nova/db/sqlalchemy/migrate_repo/versions/244_increase_user_id_length_volume_usage_cache.py', 'nova/db/sqlalchemy/migrate_repo/versions/242_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/240_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/248_add_expire_reservations_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/246_sqlite_upgrade.sql', 'nova/db/sqlalchemy/migrate_repo/versions/237_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/236_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/241_placeholder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15bb50daff8058c8a5aeaf9451ffadc6d89839c3', 'message': ""db: Compact Juno database migration\n\nCompact Juno database migrations into a single migration, '254_juno.py'.\n\nUsers will now need to update Juno before updating to Kilo or later.\n\nSpecific changes include:\n\n- Alter the type of 'user_id' column of 'volume_usage_cache' table from\n  'String(32)' to 'String(64)'\n- Add 'mtu', 'dhcp_server', and 'share_dhcp' columns to 'networks' table\n- Add foreign key constraint from 'compute_node_id' column of\n  'pci_devices' table to 'compute_nodes' table\n- Alter the 'resource' column of 'quota_usages' table and 'product_id',\n  'vendor_id' and 'dev_type' columns of 'pci_devices' table to be\n  non-nullable. Alter the 'deleted' column of 'pci_devices' table to be\n  nullable\n- Drop a duplicate index from the 'block_device_mapping' table\n- Drop the 'instance_group_metadata' table\n- Add 'instance_extra' table\n- Add 'pci_requests' column to 'instance_extra' table\n- Add 'request_id' column to 'pci_devices' table\n\nNote that we don't include '248_add_expire_reservations_index' since\nthat is a duplicate of the old '234_add_expire_reservations_index'\nmigration which we previously handled in change\nI17db7cdaad2c6368092b4fb00d5959711ad249f9.\n\nDiffing the tables using the tool described at [1] highlights a bug in\nsqlalchemy-migrate whereby adding a new 'Boolean' column on backends\nthat do not support a native boolean type does not result in the\naddition of the check constraints we see added by sqlalchemy itself.\nThis is mostly worked around by explicitly disabling the creation of the\ncheck constraint, but due to *another* bug, the constraints are still\nadded for the shadow table resulting in the following diff (note: many\nhunks are excluded since they're the result on non-stable sorting of\noutput from the '.dump' command):\n\n  $ diff 215-sqlite.sql 253-sqlite.sql\n  --- 215-sqlite.sql      2021-01-07 10:06:51.524103889 +0000\n  +++ 253-sqlite.sql      2021-01-07 10:40:24.603224423 +0000\n  @@ -887,10 +919,16 @@\n          uuid VARCHAR(36),\n          priority INTEGER,\n          rxtx_base INTEGER,\n  -       deleted INTEGER, mtu INTEGER, dhcp_server VARCHAR(39), enable_dhcp BOOLEAN, share_address BOOLEAN,\n  +       deleted INTEGER,\n  +       mtu INTEGER,\n  +       dhcp_server VARCHAR(39),\n  +       enable_dhcp BOOLEAN,\n  +       share_address BOOLEAN,\n          PRIMARY KEY (id),\n          CHECK (injected IN (0, 1)),\n  -       CHECK (multi_host IN (0, 1))\n  +       CHECK (multi_host IN (0, 1)),\n  +       CHECK (enable_dhcp IN (0, 1)),\n  +       CHECK (share_address IN (0, 1))\n   );\n   CREATE TABLE shadow_pci_devices (\n          created_at DATETIME,\n\nI suspect the bug is caused by the copying of the column and we could\nprobably work around this by special-casing the creation of these\ncolumns in the shadow tables. However, given sqlite is not a production\ndatabase this doesn't seem worth the effort. There are no changes in the\ndiffs of the PostgreSQL and MySQL schemas, aside from a bit of\nreshuffling in the latter due to the output of 'mysqldump' not being\nstable sorted.\n\nAlso note that this exposes quite a few bugs where we either forget to\nmigrate a shadow table column or, in one case, add something to a shadow\ntable that we shouldn't have. All of these will have to be resolved in\na later migration, assuming one of the as-yet unsquashed migrations\ndon't actually address this.\n\nWhen testing, the previous base version was 233. It is now 253.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n\nChange-Id: I236998bea3619b7cb807023291c31680e8997c40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,758395,15bb50daff8058c8a5aeaf9451ffadc6d89839c3,73,14,4,15334,,,0,"db: Compact Juno database migration

Compact Juno database migrations into a single migration, '254_juno.py'.

Users will now need to update Juno before updating to Kilo or later.

Specific changes include:

- Alter the type of 'user_id' column of 'volume_usage_cache' table from
  'String(32)' to 'String(64)'
- Add 'mtu', 'dhcp_server', and 'share_dhcp' columns to 'networks' table
- Add foreign key constraint from 'compute_node_id' column of
  'pci_devices' table to 'compute_nodes' table
- Alter the 'resource' column of 'quota_usages' table and 'product_id',
  'vendor_id' and 'dev_type' columns of 'pci_devices' table to be
  non-nullable. Alter the 'deleted' column of 'pci_devices' table to be
  nullable
- Drop a duplicate index from the 'block_device_mapping' table
- Drop the 'instance_group_metadata' table
- Add 'instance_extra' table
- Add 'pci_requests' column to 'instance_extra' table
- Add 'request_id' column to 'pci_devices' table

Note that we don't include '248_add_expire_reservations_index' since
that is a duplicate of the old '234_add_expire_reservations_index'
migration which we previously handled in change
I17db7cdaad2c6368092b4fb00d5959711ad249f9.

Diffing the tables using the tool described at [1] highlights a bug in
sqlalchemy-migrate whereby adding a new 'Boolean' column on backends
that do not support a native boolean type does not result in the
addition of the check constraints we see added by sqlalchemy itself.
This is mostly worked around by explicitly disabling the creation of the
check constraint, but due to *another* bug, the constraints are still
added for the shadow table resulting in the following diff (note: many
hunks are excluded since they're the result on non-stable sorting of
output from the '.dump' command):

  $ diff 215-sqlite.sql 253-sqlite.sql
  --- 215-sqlite.sql      2021-01-07 10:06:51.524103889 +0000
  +++ 253-sqlite.sql      2021-01-07 10:40:24.603224423 +0000
  @@ -887,10 +919,16 @@
          uuid VARCHAR(36),
          priority INTEGER,
          rxtx_base INTEGER,
  -       deleted INTEGER, mtu INTEGER, dhcp_server VARCHAR(39), enable_dhcp BOOLEAN, share_address BOOLEAN,
  +       deleted INTEGER,
  +       mtu INTEGER,
  +       dhcp_server VARCHAR(39),
  +       enable_dhcp BOOLEAN,
  +       share_address BOOLEAN,
          PRIMARY KEY (id),
          CHECK (injected IN (0, 1)),
  -       CHECK (multi_host IN (0, 1))
  +       CHECK (multi_host IN (0, 1)),
  +       CHECK (enable_dhcp IN (0, 1)),
  +       CHECK (share_address IN (0, 1))
   );
   CREATE TABLE shadow_pci_devices (
          created_at DATETIME,

I suspect the bug is caused by the copying of the column and we could
probably work around this by special-casing the creation of these
columns in the shadow tables. However, given sqlite is not a production
database this doesn't seem worth the effort. There are no changes in the
diffs of the PostgreSQL and MySQL schemas, aside from a bit of
reshuffling in the latter due to the output of 'mysqldump' not being
stable sorted.

Also note that this exposes quite a few bugs where we either forget to
migrate a shadow table column or, in one case, add something to a shadow
table that we shouldn't have. All of these will have to be resolved in
a later migration, assuming one of the as-yet unsquashed migrations
don't actually address this.

When testing, the previous base version was 233. It is now 253.

[1] https://that.guru/blog/comparing-nova-db-migrations/

Change-Id: I236998bea3619b7cb807023291c31680e8997c40
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/758395/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migrate_repo/versions/247_nullable_mismatch.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/235_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/251_add_numa_topology_to_comput_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/246_add_compute_node_id_fk.py', 'nova/db/sqlalchemy/migrate_repo/versions/245_add_mtu_and_dhcp_server.py', 'nova/db/sqlalchemy/migrate_repo/versions/239_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/250_remove_instance_groups_metadata.py', 'nova/db/sqlalchemy/migrate_repo/versions/249_remove_duplicate_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/253_add_pci_requests_to_instance_extra_table.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/243_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/252_add_instance_extra_table.py', 'nova/db/sqlalchemy/migrate_repo/versions/254_juno.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_add_nullable_false_to_keypairs_name.py', 'nova/db/sqlalchemy/migrate_repo/versions/238_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/254_add_request_id_in_pci_devices.py', 'nova/db/sqlalchemy/migrate_repo/versions/244_increase_user_id_length_volume_usage_cache.py', 'nova/db/sqlalchemy/migrate_repo/versions/242_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/240_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/248_add_expire_reservations_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/302_pgsql_add_instance_system_metadata_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/237_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/236_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/241_placeholder.py']",26,ac6e504c560b5e5fddc997a4dcba305280814283,bp/compact-db-migrations-wallaby,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Icehouse backports. # Do not use this number for new Juno work. New Juno work starts after # all the placeholders. # # See blueprint backportable-db-migrations-juno # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass ",54,749
openstack%2Fswift~master~Ib241f4acd180fcb310cf134f01f08eff9b0cfbca,openstack/swift,master,Ib241f4acd180fcb310cf134f01f08eff9b0cfbca,memcache: Log errors encountered when setting keys,MERGED,2021-01-08 05:21:03.000000000,2021-01-26 22:31:42.000000000,2021-01-26 22:29:56.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 05:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e62327e49dee7e4bdb8629c1ad9829c9b412f1f0', 'message': 'memcache: Log errors encountered when setting keys\n\nThis catches, for example, when memcached starts replying with\n\n    SERVER_ERROR object too large for cache\n\nBy then, of course, operators will already be in a world of hurt -- but\nat least now logs should make it obvious what the problem is.\n\nChange-Id: Ib241f4acd180fcb310cf134f01f08eff9b0cfbca\n'}, {'number': 2, 'created': '2021-01-08 17:24:10.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/17cef16133d12a42238b93c0d935b7a0210aa547', 'message': 'memcache: Log errors encountered when setting keys\n\nThis catches, for example, when memcached starts replying with\n\n    SERVER_ERROR object too large for cache\n\nBy then, of course, operators will already be in a world of hurt -- but\nat least now logs should make it obvious what the problem is.\n\nChange-Id: Ib241f4acd180fcb310cf134f01f08eff9b0cfbca\n'}]",3,769868,17cef16133d12a42238b93c0d935b7a0210aa547,11,2,2,15343,,,0,"memcache: Log errors encountered when setting keys

This catches, for example, when memcached starts replying with

    SERVER_ERROR object too large for cache

By then, of course, operators will already be in a world of hurt -- but
at least now logs should make it obvious what the problem is.

Change-Id: Ib241f4acd180fcb310cf134f01f08eff9b0cfbca
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/769868/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,e62327e49dee7e4bdb8629c1ad9829c9b412f1f0,," return b'STORED\r\n'TOO_BIG_KEY = md5( b'too-big', usedforsecurity=False).hexdigest().encode('ascii') if key == TOO_BIG_KEY: self.outbuf += b'SERVER_ERROR object too large for cache\r\n' else: self.outbuf += b'STORED\r\n' def test_set_error(self): memcache_client = memcached.MemcacheRing(['1.2.3.4:11211'], logger=self.logger) mock = MockMemcached() memcache_client._client_cache['1.2.3.4:11211'] = MockedMemcachePool( [(mock, mock)] * 2) memcache_client.set('too-big', [1, 2, 3]) self.assertEqual( self.logger.get_lines_for_level('error'), ['Error setting value in memcached: 1.2.3.4:11211: ' 'SERVER_ERROR object too large for cache']) mock_conn[0].readline = lambda: b'STORED\r\n' mock_conn[0].readline = lambda: b'STORED\r\n'", self.outbuf += b'STORED\r\n',30,2
openstack%2Fmanila~master~I7e1b8e0ab4ef32039b03bafff8917ae9c03994ea,openstack/manila,master,I7e1b8e0ab4ef32039b03bafff8917ae9c03994ea,deprecated backend name variables removed from test configuration scripts,ABANDONED,2020-10-18 15:33:25.000000000,2021-01-26 22:04:54.000000000,,"[{'_account_id': 6413}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-10-18 15:33:25.000000000', 'files': ['doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'zuul.d/grenade-jobs.yaml', 'contrib/ci/pre_test_hook.sh', 'doc/source/admin/container_driver.rst', 'doc/source/contributor/samples/lvm_local.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/1eee5c6f1868f1bb85ccb7fa2ed559a78877ca3c', 'message': 'deprecated backend name variables removed from test configuration scripts\n\nChange-Id: I7e1b8e0ab4ef32039b03bafff8917ae9c03994ea\n'}]",0,758676,1eee5c6f1868f1bb85ccb7fa2ed559a78877ca3c,10,7,1,32542,,,0,"deprecated backend name variables removed from test configuration scripts

Change-Id: I7e1b8e0ab4ef32039b03bafff8917ae9c03994ea
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/758676/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'zuul.d/grenade-jobs.yaml', 'contrib/ci/pre_test_hook.sh', 'doc/source/admin/container_driver.rst', 'doc/source/contributor/samples/lvm_local.conf']",6,1eee5c6f1868f1bb85ccb7fa2ed559a78877ca3c,removeBackDeprecatedVariables,,MANILA_BACKEND1_CONFIG_GROUP_NAME=chicago MANILA_BACKEND2_CONFIG_GROUP_NAME=denver MANILA_SHARE_BACKEND1_NAME=CHICAGO MANILA_SHARE_BACKEND2_NAME=DENVER,2,22
openstack%2Fdevstack~stable%2Ftrain~I39ac3e1c92e102d18603ff8eac21d7c5b2b64f5c,openstack/devstack,stable/train,I39ac3e1c92e102d18603ff8eac21d7c5b2b64f5c,DNM: testing,ABANDONED,2021-01-26 16:25:15.000000000,2021-01-26 22:02:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-26 16:25:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d85ee340baa2925b4a31a17f4d0e9bd2ef97b472', 'message': 'DNM: testing\n\nChange-Id: I39ac3e1c92e102d18603ff8eac21d7c5b2b64f5c\n'}]",0,772569,d85ee340baa2925b4a31a17f4d0e9bd2ef97b472,3,1,1,8556,,,0,"DNM: testing

Change-Id: I39ac3e1c92e102d18603ff8eac21d7c5b2b64f5c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/69/772569/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d85ee340baa2925b4a31a17f4d0e9bd2ef97b472,,#testing gate,,1,0
openstack%2Fmanila~master~I2b3facd8fa84bcf84cc1b5e6c8d19087471f817c,openstack/manila,master,I2b3facd8fa84bcf84cc1b5e6c8d19087471f817c,deprecated multibackend config variables removed,ABANDONED,2020-10-18 15:33:25.000000000,2021-01-26 22:01:55.000000000,,"[{'_account_id': 6413}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-10-18 15:33:25.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/dff5343795470ae4ce740a3e8db639ae972b40c2', 'message': 'deprecated multibackend config variables removed\n\nChange-Id: I2b3facd8fa84bcf84cc1b5e6c8d19087471f817c\n'}]",0,758675,dff5343795470ae4ce740a3e8db639ae972b40c2,10,7,1,32542,,,0,"deprecated multibackend config variables removed

Change-Id: I2b3facd8fa84bcf84cc1b5e6c8d19087471f817c
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/758675/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,dff5343795470ae4ce740a3e8db639ae972b40c2,removeBackDeprecatedVariables,,"# Support for multi backend configuration (default is no support) MANILA_MULTI_BACKEND=$(trueorfalse False MANILA_MULTI_BACKEND) DEPRECATED_TEXT=""$DEPRECATED_TEXT\n'MANILA_MULTI_BACKEND' is deprecated, it makes influence only when is set to True and 'MANILA_ENABLED_BACKENDS' is not set. Use 'MANILA_ENABLED_BACKENDS' instead if you want to use custom setting. Set there a list of back end names to be enabled.\n To configure custom back ends use (any opt in any group can be set in this way) following: MANILA_OPTGROUP_foo_bar=value where 'foo' is name of config group and 'bar' is name of option.\n"" # First share backend data, that will be used in any installation MANILA_BACKEND1_CONFIG_GROUP_NAME=${MANILA_BACKEND1_CONFIG_GROUP_NAME:-generic1} # deprecated MANILA_SHARE_BACKEND1_NAME=${MANILA_SHARE_BACKEND1_NAME:-GENERIC1} # deprecated # Second share backend data, that will be used only with MANILA_MULTI_BACKEND=True MANILA_BACKEND2_CONFIG_GROUP_NAME=${MANILA_BACKEND2_CONFIG_GROUP_NAME:-generic2} # deprecated MANILA_SHARE_BACKEND2_NAME=${MANILA_SHARE_BACKEND2_NAME:-GENERIC2} # deprecated ",0,18
openstack%2Fdevstack~stable%2Fussuri~I88ba370de8887a05c473fe7c19a61a319e8812d2,openstack/devstack,stable/ussuri,I88ba370de8887a05c473fe7c19a61a319e8812d2,Use a dedicated version of get-pip.py for python 2.7,ABANDONED,2021-01-26 01:26:29.000000000,2021-01-26 21:15:30.000000000,,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 01:26:29.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1382e933c5b2c16b276e8813fbc7cd9a1d6d4499', 'message': 'Use a dedicated version of get-pip.py for python 2.7\n\nget-pip.py dropped python 2.7 support, so we cannot use the default\nget-pip.py for python 2.7 now. get-pip.py for python 2.7 is available\nat https://bootstrap.pypa.io/2.7/get-pip.py.\nThis commit tries to use python 2.7 version of get-pip.py\nfor python 2.7 environment.\n\nChange-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2\n'}]",1,772461,1382e933c5b2c16b276e8813fbc7cd9a1d6d4499,14,5,1,841,,,0,"Use a dedicated version of get-pip.py for python 2.7

get-pip.py dropped python 2.7 support, so we cannot use the default
get-pip.py for python 2.7 now. get-pip.py for python 2.7 is available
at https://bootstrap.pypa.io/2.7/get-pip.py.
This commit tries to use python 2.7 version of get-pip.py
for python 2.7 environment.

Change-Id: I88ba370de8887a05c473fe7c19a61a319e8812d2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/772461/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,1382e933c5b2c16b276e8813fbc7cd9a1d6d4499,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}LOCAL_PIP_PY27=""${LOCAL_PIP}-py27""function _install_get_pip { local interpreter=$1 local pip_get_pip_url=$2 local local_pip=$3 if [[ -r $local_pip ]]; then if ! head -1 $local_pip | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $local_pip found removing"" rm $local_pip if [[ ! -r $local_pip || -r $local_pip.downloaded ]]; then if [[ -r $local_pip ]]; then timecond=""-z $local_pip"" $timecond -o $local_pip $pip_get_pip_url || \ touch $local_pip.downloaded sudo -H -E $interpreter $local_pip -c $TOOLS_DIR/cap-pip.txt } function install_get_pip { _install_get_pip python${PYTHON3_VERSION} $PIP_GET_PIP_URL $LOCAL_PIP _install_get_pip python $PIP_GET_PIP_PY27_URL $LOCAL_PIP_PY27","function install_get_pip { if [[ -r $LOCAL_PIP ]]; then if ! head -1 $LOCAL_PIP | grep -q '#!/usr/bin/env python'; then echo ""WARNING: Corrupt $LOCAL_PIP found removing"" rm $LOCAL_PIP if [[ ! -r $LOCAL_PIP || -r $LOCAL_PIP.downloaded ]]; then if [[ -r $LOCAL_PIP ]]; then timecond=""-z $LOCAL_PIP"" $timecond -o $LOCAL_PIP $PIP_GET_PIP_URL || \ touch $LOCAL_PIP.downloaded sudo -H -E python${PYTHON3_VERSION} $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt sudo -H -E python $LOCAL_PIP -c $TOOLS_DIR/cap-pip.txt",23,12
openstack%2Fcharm-mysql-router~master~Ic45c815c5b8430424f3faef276d15bbc18c66872,openstack/charm-mysql-router,master,Ic45c815c5b8430424f3faef276d15bbc18c66872,Fix copyright typo,MERGED,2021-01-26 00:02:19.000000000,2021-01-26 21:07:29.000000000,2021-01-26 21:07:29.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 00:02:19.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/bddc6c24b340a9aa54c9b62c973bb906beabc027', 'message': 'Fix copyright typo\n\nChange-Id: Ic45c815c5b8430424f3faef276d15bbc18c66872\n'}]",0,772456,bddc6c24b340a9aa54c9b62c973bb906beabc027,7,3,1,30561,,,0,"Fix copyright typo

Change-Id: Ic45c815c5b8430424f3faef276d15bbc18c66872
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/56/772456/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_router.py'],1,bddc6c24b340a9aa54c9b62c973bb906beabc027,fix-copyright-typo,# Copyright 2019 Canonical Ltd,# Copyright 2019 Canonicauh Ltd,1,1
openstack%2Fkolla~master~I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,openstack/kolla,master,I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,Fix Mistral source images to respect upper-constraints,MERGED,2021-01-24 16:06:44.000000000,2021-01-26 20:52:01.000000000,2021-01-26 20:48:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-01-24 16:06:44.000000000', 'files': ['releasenotes/notes/mistral-respect-uc-77aea99b5c6506ba.yaml', 'docker/mistral/mistral-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/004d9eb5d575fcb140b4d90fb30ced0a81dd3e66', 'message': 'Fix Mistral source images to respect upper-constraints\n\nBackport to all supported branches.\n\nChange-Id: I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec\n'}]",0,772205,004d9eb5d575fcb140b4d90fb30ced0a81dd3e66,9,3,1,30491,,,0,"Fix Mistral source images to respect upper-constraints

Backport to all supported branches.

Change-Id: I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/772205/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mistral-respect-uc-77aea99b5c6506ba.yaml', 'docker/mistral/mistral-base/Dockerfile.j2']",2,004d9eb5d575fcb140b4d90fb30ced0a81dd3e66,mistral-respect-uc," && {{ macros.install_pip(mistral_base_pip_packages | customizable(""pip_packages"")) }} \"," && {{ macros.install_pip(mistral_base_pip_packages | customizable(""pip_packages""), constraints = false) }} \",5,1
openstack%2Fkolla~stable%2Fussuri~I3abda8f972ce854d7fee22b1fb2fc43595668a8d,openstack/kolla,stable/ussuri,I3abda8f972ce854d7fee22b1fb2fc43595668a8d,base: install setuptools to fix build on aarch64,MERGED,2021-01-21 15:00:36.000000000,2021-01-26 20:50:08.000000000,2021-01-26 20:48:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-21 15:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5b8566d4eb729a51046848570a209acade71ae12', 'message': 'base: install setuptools to fix build on aarch64\n\nVirtualenv used in ussuri has problem installing packages on aarch64:\n\nINFO:kolla.common.utils.openstack-base:    Complete output from command python setup.py egg_info:\nINFO:kolla.common.utils.openstack-base:    Traceback (most recent call last):\nINFO:kolla.common.utils.openstack-base:      File ""<string>"", line 1, in <module>\nINFO:kolla.common.utils.openstack-base:    ModuleNotFoundError: No module named \'setuptools\'\n\nVictoria/Wallaby do not have that issue.\n\n\'python3-pip\' package in CentOS 8 and Ubuntu \'focal\' (victoria+) depend on\n\'python3-setuptools\' package.\n\nChange-Id: I3abda8f972ce854d7fee22b1fb2fc43595668a8d\n'}, {'number': 2, 'created': '2021-01-21 22:05:13.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/57d05bc7e0c7ca7f045afa38f23fc74f3844d289', 'message': 'base: install setuptools to fix build on aarch64\n\nVirtualenv used in ussuri has problem installing packages on aarch64:\n\nINFO:kolla.common.utils.openstack-base:    Complete output from command python setup.py egg_info:\nINFO:kolla.common.utils.openstack-base:    Traceback (most recent call last):\nINFO:kolla.common.utils.openstack-base:      File ""<string>"", line 1, in <module>\nINFO:kolla.common.utils.openstack-base:    ModuleNotFoundError: No module named \'setuptools\'\n\nVictoria/Wallaby do not have that issue.\n\n\'python3-pip\' package in CentOS 8 and Ubuntu \'focal\' (victoria+) depend on\n\'python3-setuptools\' package.\n\nChange-Id: I3abda8f972ce854d7fee22b1fb2fc43595668a8d\n'}]",0,771825,57d05bc7e0c7ca7f045afa38f23fc74f3844d289,15,3,2,24072,,,0,"base: install setuptools to fix build on aarch64

Virtualenv used in ussuri has problem installing packages on aarch64:

INFO:kolla.common.utils.openstack-base:    Complete output from command python setup.py egg_info:
INFO:kolla.common.utils.openstack-base:    Traceback (most recent call last):
INFO:kolla.common.utils.openstack-base:      File ""<string>"", line 1, in <module>
INFO:kolla.common.utils.openstack-base:    ModuleNotFoundError: No module named 'setuptools'

Victoria/Wallaby do not have that issue.

'python3-pip' package in CentOS 8 and Ubuntu 'focal' (victoria+) depend on
'python3-setuptools' package.

Change-Id: I3abda8f972ce854d7fee22b1fb2fc43595668a8d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/771825/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,5b8566d4eb729a51046848570a209acade71ae12,," 'python3-setuptools',",,1,0
openstack%2Fkolla~master~Ibb1e20a959a09f446752dbf1a54fb93df0892681,openstack/kolla,master,Ibb1e20a959a09f446752dbf1a54fb93df0892681,openstack-base: move some packages from child images,MERGED,2021-01-18 10:41:36.000000000,2021-01-26 20:50:05.000000000,2021-01-26 20:48:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-18 10:41:36.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/59d8abbd5881415c15cd4c22d8e5696a69eabe4d', 'message': 'openstack-base: move some packages from child images\n\nautomaton: cinder, glance, ironic, magnum, masakari, nova, octavia,\n           watcher\n\ncastellan: barbican, cinder, cyborg, glance, horizon, mistral, murano,\n           nova, octavia, sahara, tacker\n\nclick: blazar, cloudkitty, designate, ironic, keystone, kuryr, monasca,\n       octavia, rally, sahara, zun\n\nhttplib2: cinder, glance, horizon, monasca, neutron, solum, tacker,\n          trove\n\nos-brick: cinder, freezer, glance, nova, zun\n\nos-traits: heat, ironic, kuryr, neutron, nova, octavia, placement,\n           tacker, tempest, zun\n\nos-win: cinder, designate, freezer, glance, neutron, nova, zun\n\noslo.privsep: ceilometer, cinder, cyborg, freezer, glance, masakari,\n              neutron, nova, solum, tacker, zun\n\noslo.reports: ceilometer, cinder, designate, glance, heat, magnum,\n              manila, mistral, neutron, nova, octavia, panko, senlin,\n              tacker, watcher, zaqar\n\noslo.rootwrap: ceilometer, cinder, designate, glance, ironic, manila,\n               neutron, nova, sahara, solum, tacker, zun\n\noslo.upgradecheck: aodh, barbican, blazar, ceilometer, cinder,\n                   cloudkitty, cyborg, designate, freezer, glance, heat,\n                   horizon, ironic, keystone, kuryr, magnum, manila,\n                   masakari, mistral, monasca, murano, neutron, nova,\n                   octavia, placement, sahara, senlin, solum, tacker,\n                   trove, vitrage, watcher, zaqar, zun\n\noslo.versionedobjects: barbican, cinder, cyborg, designate, heat,\n                       ironic, kuryr, magnum, masakari, mistral,\n                       neutron, nova, octavia, senlin, tacker, tempest,\n                       watcher, zun\n\nparamiko: ceilometer, cinder, freezer, manila, mistral, neutron, nova,\n          rally, sahara, tacker, tempest, vmtp\n\nChange-Id: Ibb1e20a959a09f446752dbf1a54fb93df0892681\n'}]",0,771181,59d8abbd5881415c15cd4c22d8e5696a69eabe4d,9,3,1,24072,,,0,"openstack-base: move some packages from child images

automaton: cinder, glance, ironic, magnum, masakari, nova, octavia,
           watcher

castellan: barbican, cinder, cyborg, glance, horizon, mistral, murano,
           nova, octavia, sahara, tacker

click: blazar, cloudkitty, designate, ironic, keystone, kuryr, monasca,
       octavia, rally, sahara, zun

httplib2: cinder, glance, horizon, monasca, neutron, solum, tacker,
          trove

os-brick: cinder, freezer, glance, nova, zun

os-traits: heat, ironic, kuryr, neutron, nova, octavia, placement,
           tacker, tempest, zun

os-win: cinder, designate, freezer, glance, neutron, nova, zun

oslo.privsep: ceilometer, cinder, cyborg, freezer, glance, masakari,
              neutron, nova, solum, tacker, zun

oslo.reports: ceilometer, cinder, designate, glance, heat, magnum,
              manila, mistral, neutron, nova, octavia, panko, senlin,
              tacker, watcher, zaqar

oslo.rootwrap: ceilometer, cinder, designate, glance, ironic, manila,
               neutron, nova, sahara, solum, tacker, zun

oslo.upgradecheck: aodh, barbican, blazar, ceilometer, cinder,
                   cloudkitty, cyborg, designate, freezer, glance, heat,
                   horizon, ironic, keystone, kuryr, magnum, manila,
                   masakari, mistral, monasca, murano, neutron, nova,
                   octavia, placement, sahara, senlin, solum, tacker,
                   trove, vitrage, watcher, zaqar, zun

oslo.versionedobjects: barbican, cinder, cyborg, designate, heat,
                       ironic, kuryr, magnum, masakari, mistral,
                       neutron, nova, octavia, senlin, tacker, tempest,
                       watcher, zun

paramiko: ceilometer, cinder, freezer, manila, mistral, neutron, nova,
          rally, sahara, tacker, tempest, vmtp

Change-Id: Ibb1e20a959a09f446752dbf1a54fb93df0892681
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/771181/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,59d8abbd5881415c15cd4c22d8e5696a69eabe4d,," 'automaton', 'castellan', 'click', 'httplib2', 'os-brick', 'os-traits', 'os-win', 'oslo.privsep', 'oslo.reports', 'oslo.rootwrap', 'oslo.upgradecheck', 'oslo.versionedobjects', 'paramiko',",,13,0
openstack%2Frequirements~master~I746aae18e06efdf09d0411e94f4356e3cc6c326b,openstack/requirements,master,I746aae18e06efdf09d0411e94f4356e3cc6c326b,update constraint for python-masakariclient to new release 6.2.1,MERGED,2021-01-18 22:04:00.000000000,2021-01-26 20:45:12.000000000,2021-01-19 06:13:46.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-18 22:04:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd4546859e5592813be423c8f021395872464d62', 'message': 'update constraint for python-masakariclient to new release 6.2.1\n\nmeta: version: 6.2.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I4e78ad50f7b55ee1e3f5de382eab75c7c5b7dd67\nmeta: release:Code-Review+1: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I746aae18e06efdf09d0411e94f4356e3cc6c326b\n'}]",0,771277,bd4546859e5592813be423c8f021395872464d62,9,4,1,11131,,,0,"update constraint for python-masakariclient to new release 6.2.1

meta: version: 6.2.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I4e78ad50f7b55ee1e3f5de382eab75c7c5b7dd67
meta: release:Code-Review+1: Radosław Piliszek <radoslaw.piliszek@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I746aae18e06efdf09d0411e94f4356e3cc6c326b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/771277/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bd4546859e5592813be423c8f021395872464d62,new-release,python-masakariclient===6.2.1,python-masakariclient===6.2.0,1,1
openstack%2Fkolla~stable%2Ftrain~I2076ab4a634418df5863174588a72e6c2ce8f05e,openstack/kolla,stable/train,I2076ab4a634418df5863174588a72e6c2ce8f05e,nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic',MERGED,2021-01-22 15:19:59.000000000,2021-01-26 20:39:11.000000000,2021-01-26 20:35:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-22 15:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/40e8e700a25e1b144a14b7de16810e7eb74276c9', 'message': ""nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'\n\nVictoria+ branches use Ubuntu 'focal' where this package is available\nfor aarch64 as well.\n\nChange-Id: I2076ab4a634418df5863174588a72e6c2ce8f05e\n""}, {'number': 2, 'created': '2021-01-22 15:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ab1ac97bf3c32efb732ef6678572a08380eab4ef', 'message': ""nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'\n\nVictoria+ branches use Ubuntu 'focal' where this package is available\nfor aarch64 as well.\n\nChange-Id: I2076ab4a634418df5863174588a72e6c2ce8f05e\n""}, {'number': 3, 'created': '2021-01-26 12:00:49.000000000', 'files': ['docker/nova/nova-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/190f81bc84be3ba8d398fc8db661a3539aa060a0', 'message': ""nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'\n\nVictoria+ branches use Ubuntu 'focal' where this package is available\nfor aarch64 as well.\n\nChange-Id: I2076ab4a634418df5863174588a72e6c2ce8f05e\n""}]",0,771925,190f81bc84be3ba8d398fc8db661a3539aa060a0,11,3,3,24072,,,0,"nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'

Victoria+ branches use Ubuntu 'focal' where this package is available
for aarch64 as well.

Change-Id: I2076ab4a634418df5863174588a72e6c2ce8f05e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/771925/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-compute/Dockerfile.j2'],1,40e8e700a25e1b144a14b7de16810e7eb74276c9,," # NOTE(hrw): similar situation with 'pmdk-tools' 'pmdk-tools', # NOTE(hrw): similar situation with 'pmdk-tools' 'pmdk-tools',"," 'pmdk-tools', 'pmdk-tools',",4,2
openstack%2Fhacking~master~I8d255a00792a19279074703a8209a3699b480fd0,openstack/hacking,master,I8d255a00792a19279074703a8209a3699b480fd0,Add H216 to flag use of third party mock,MERGED,2020-07-22 16:17:33.000000000,2021-01-26 20:39:00.000000000,2021-01-26 20:37:07.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-07-22 16:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/bdc207f5a5be8ecb242a150cd4c6474a59aa932a', 'message': 'Add H211 to flag use of third party mock\n\nMany projects use mocking in their unit tests, and most do not realize\nthat there is a difference between ""import mock"" and ""import\nunittest.mock"", assuming that both use a standard part of the Python\nlibrary.\n\nWe\'ve seen many cases where mock is not listed in the project\'s\nrequirements, but the code imports the third party mock instead of\nunittest.mock. We\'ve also seen a few break due to this, once their\ndependencies have stopped pulling in that package for them.\n\nThere have also been several projects that have taken the effort to\nswitch all of there ""import mock"" statements over to ""import\nunittest.mock"", as well as removing mock from their requirements, only\nto then accidentally merge a patch that does ""import mock"" again because\nit is hard to notice in code reviews.\n\nThis check is on by default. If a project is using the mock lib, then\nthey are able to explicitly do so by disabling this check. Otherwise,\nprojects don\'t need to take any action to get this protection, since\nthis is now the recommended default.\n\nChange-Id: I8d255a00792a19279074703a8209a3699b480fd0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-12-01 20:23:32.000000000', 'files': ['test-requirements.txt', 'hacking/tests/checks/test_mock.py', 'hacking/checks/mock_checks.py', 'lower-constraints.txt', 'hacking/tests/checks/test_except_checks.py', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/hacking/commit/b921c4de513c9cc624d6ecf68e4f4493e6e72c0d', 'message': 'Add H216 to flag use of third party mock\n\nMany projects use mocking in their unit tests, and most do not realize\nthat there is a difference between ""import mock"" and ""import\nunittest.mock"", assuming that both use a standard part of the Python\nlibrary.\n\nWe\'ve seen many cases where mock is not listed in the project\'s\nrequirements, but the code imports the third party mock instead of\nunittest.mock. We\'ve also seen a few break due to this, once their\ndependencies have stopped pulling in that package for them.\n\nThere have also been several projects that have taken the effort to\nswitch all of there ""import mock"" statements over to ""import\nunittest.mock"", as well as removing mock from their requirements, only\nto then accidentally merge a patch that does ""import mock"" again because\nit is hard to notice in code reviews.\n\nThis check is on by default. If a project is using the mock lib, then\nthey are able to explicitly do so by disabling this check. Otherwise,\nprojects don\'t need to take any action to get this protection, since\nthis is now the recommended default.\n\nChange-Id: I8d255a00792a19279074703a8209a3699b480fd0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742475,b921c4de513c9cc624d6ecf68e4f4493e6e72c0d,18,4,2,11904,,,0,"Add H216 to flag use of third party mock

Many projects use mocking in their unit tests, and most do not realize
that there is a difference between ""import mock"" and ""import
unittest.mock"", assuming that both use a standard part of the Python
library.

We've seen many cases where mock is not listed in the project's
requirements, but the code imports the third party mock instead of
unittest.mock. We've also seen a few break due to this, once their
dependencies have stopped pulling in that package for them.

There have also been several projects that have taken the effort to
switch all of there ""import mock"" statements over to ""import
unittest.mock"", as well as removing mock from their requirements, only
to then accidentally merge a patch that does ""import mock"" again because
it is hard to notice in code reviews.

This check is on by default. If a project is using the mock lib, then
they are able to explicitly do so by disabling this check. Otherwise,
projects don't need to take any action to get this protection, since
this is now the recommended default.

Change-Id: I8d255a00792a19279074703a8209a3699b480fd0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/hacking refs/changes/75/742475/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'hacking/tests/checks/test_mock.py', 'hacking/checks/mock_checks.py', 'setup.cfg', 'HACKING.rst']",5,bdc207f5a5be8ecb242a150cd4c6474a59aa932a,unittest.mock,"- [H211] Make sure unittest.mock is used instead of the third party mock library. On by default. Starting with Python 3.3 and later, the mock module was added under unittest. Previously, this functionality was only available by using the third party ``mock`` library. Most users are not aware of this subtle distinction. This results in issues where the project does not declare the ``mock`` library in its requirements file, but the code does an ``import mock`` assuming that the module is present. This may work initially if one of the project's dependencies ends up pulling that dependency in indirectly, but then can cause things to suddenly break if that transitive dependency goes away. Since this third party library usage is done without being aware of it, this check is enabled by default to make sure those projects that actually do intend to use the ``mock`` library are doing so explicitly. ",,92,0
openstack%2Fkolla~stable%2Ftrain~I2592a736206eaec811290e9fbdbf2540c0518ffe,openstack/kolla,stable/train,I2592a736206eaec811290e9fbdbf2540c0518ffe,CI: revert to public package mirrors after build,MERGED,2021-01-11 12:38:12.000000000,2021-01-26 20:37:56.000000000,2021-01-26 20:35:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-11 12:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac9190bee2cf6661b69ce4cfdc1c3cd75aec8da1', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 2, 'created': '2021-01-12 11:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/60b60a66b22ed026c3a5849517b68aa030a8a05a', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 3, 'created': '2021-01-13 08:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc914f25295d25b61ea005eca71cf7afd9e85fca', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 4, 'created': '2021-01-13 09:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84451e0d61157c2aa5e43aa29dd639e61a3b6782', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 5, 'created': '2021-01-13 09:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c5798b2a1808f9473d70c96214aaa2afa8d2dda', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 6, 'created': '2021-01-13 13:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/02fd8e95e1f55368d999e44d6ba97fce5f643552', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 7, 'created': '2021-01-13 14:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b0c3de139258b09312e3a10bc0b7a1cbbdd3403', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 8, 'created': '2021-01-20 10:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/719845cba091b3e581d86770aa208355c82da973', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 9, 'created': '2021-01-20 10:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d34ad6e6526fd56095a2ee5d9d95d0af663e6655', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 10, 'created': '2021-01-20 11:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a4851d5828a7c0f33a0b918ca3fc7cb189e1e06', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 11, 'created': '2021-01-23 08:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dd8d1827d6f0ec28edd68b52c21ebf78d3d44c74', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}, {'number': 12, 'created': '2021-01-26 10:44:26.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c207f92c90108a1375b9a23e6b7a53bc959ffe34', 'message': 'CI: revert to public package mirrors after build\n\nWhen building images in CI, we use local package mirrors to reduce\nexternal network traffic. These mirrors are not necessarily reliable nor\nare they guaranteed to be accessible outside of the CI environment\n(although many are).\n\nWhile it is an antipattern to install packages in containers at runtime,\nthe Bifrost container does just that. If the mirrors configured in the\nimage are unavailable, Bifrost deployment can fail.\n\nThis change fixes the issue by reverting to public package mirrors as a\nfinal step of the image build process.\n\nCloses-Bug: #1902101\n\nChange-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe\n(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)\n'}]",2,770090,c207f92c90108a1375b9a23e6b7a53bc959ffe34,40,6,12,14826,,,0,"CI: revert to public package mirrors after build

When building images in CI, we use local package mirrors to reduce
external network traffic. These mirrors are not necessarily reliable nor
are they guaranteed to be accessible outside of the CI environment
(although many are).

While it is an antipattern to install packages in containers at runtime,
the Bifrost container does just that. If the mirrors configured in the
image are unavailable, Bifrost deployment can fail.

This change fixes the issue by reverting to public package mirrors as a
final step of the image build process.

Closes-Bug: #1902101

Change-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe
(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/770090/10 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,ac9190bee2cf6661b69ce4cfdc1c3cd75aec8da1,bug/1902101-stable/train," -e ""s|^\(mirrorlist.*\)|#\1|"" \ -e ""s|^\(mirrorlist.*\)|#\1|"" \ -e ""s|^\(metalink.*\)|#\1|"" \ {# Revert to upstream mirrors after build is complete #} {% block footer %} {% endraw %} ENV PIP_INDEX_URL= ENV PIP_TRUSTED_HOST= {% if use_infra_wheels_mirror | default(true) %} ENV PIP_EXTRA_INDEX_URL= {% endif %} RUN if [[ -f /usr/etc/npmrc ]]; then \ unlink /usr/etc/npmrc; \ fi \ && rm -f /etc/npmrc {% raw %} {% if base_package_type == 'rpm' %} {% endraw %} RUN sed -i \ -e ""s|^#\(mirrorlist.*\)|\1|"" \ -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|#baseurl=http://mirror.centos.org|"" \ /etc/yum.repos.d/CentOS-*.repo \ && sed -i \ -e ""s|{{ nodepool_rdo_proxy }}|https://trunk.rdoproject.org|g"" \ /etc/yum.repos.d/delorean*.repo \ && sed -i \ -e ""s|^#\(metalink.*\)|\1|"" \ -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|baseurl=http://download.fedoraproject.org/pub|"" \ /etc/yum.repos.d/epel*.repo {% raw %} {% elif base_package_type == 'deb' %} {% endraw %} RUN rm -f /etc/apt/apt.conf.d/99allow-unauthenticated /etc/apt/apt.conf.d/99allow-insecure-repos {% raw %} {% if base_distro == ""debian"" %} {% endraw %} RUN sed -i -e ""s|http://{{ nodepool_mirror_host }}|http://deb.debian.org|"" \ -e ""s|http://{{ nodepool_mirror_host }}|http://security.debian.org|"" \ /etc/apt/sources.list {% raw %} {% elif base_distro == ""ubuntu"" %} {% endraw %} RUN sed -i -e ""s|http://{{ nodepool_mirror_host }}/ubuntu/|mirror://mirrors.ubuntu.com/mirrors.txt|"" \ -e ""s|http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|http://ubuntu-cloud.archive.canonical.com/ubuntu|"" \ -e ""s|http://{{ nodepool_mirror_host }}/ubuntu-ports|http://ports.ubuntu.com|"" \ /etc/apt/sources.list {% raw %} {% endif %} {% endif %} {% endblock %}"," -e ""/^mirrorlist/ d"" \ -e ""/^mirrorlist/ d"" \ -e ""/^metalink/ d"" \",56,3
openstack%2Fcharm-mysql-innodb-cluster~master~I7fb623859bb83a711ebd38e2654fa43d8088afa6,openstack/charm-mysql-innodb-cluster,master,I7fb623859bb83a711ebd38e2654fa43d8088afa6,Fix copyright typo,MERGED,2021-01-26 00:04:31.000000000,2021-01-26 20:36:18.000000000,2021-01-26 20:36:18.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 00:04:31.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/1a538ee4d9f2391c193803369e1c388451c74ef0', 'message': 'Fix copyright typo\n\nChange-Id: I7fb623859bb83a711ebd38e2654fa43d8088afa6\n'}]",0,772457,1a538ee4d9f2391c193803369e1c388451c74ef0,8,3,1,30561,,,0,"Fix copyright typo

Change-Id: I7fb623859bb83a711ebd38e2654fa43d8088afa6
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/57/772457/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_innodb_cluster.py'],1,1a538ee4d9f2391c193803369e1c388451c74ef0,fix-copyright-typo,# Copyright 2019 Canonical Ltd,# Copyright 2019 Canonicauh Ltd,1,1
openstack%2Fcharm-deployment-guide~master~Ie14e873020296b564fa0a1fd287f29d155ff5e30,openstack/charm-deployment-guide,master,Ie14e873020296b564fa0a1fd287f29d155ff5e30,Mention MySQL8 charms on O/S upgrade page,MERGED,2021-01-26 19:37:55.000000000,2021-01-26 20:36:08.000000000,2021-01-26 20:34:12.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 19:37:55.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/65292fe2575953bc644bb0785fba291e4fdb50d8', 'message': 'Mention MySQL8 charms on O/S upgrade page\n\nAlso improve wording of the same paragraph.\n\nChange-Id: Ie14e873020296b564fa0a1fd287f29d155ff5e30\n'}]",0,772586,65292fe2575953bc644bb0785fba291e4fdb50d8,7,2,1,30561,,,0,"Mention MySQL8 charms on O/S upgrade page

Also improve wording of the same paragraph.

Change-Id: Ie14e873020296b564fa0a1fd287f29d155ff5e30
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/86/772586/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,65292fe2575953bc644bb0785fba291e4fdb50d8,mention-mysql8-charms-os-upgrade-page," Services whose software is not included in the Ubuntu Cloud Archive are not represented in the above list. This software is upgraded by the administrator (on the units) using traditional means (e.g. manually via package tools or as part of a series upgrade). Common charms where this applies are ``ntp``, ``memcached``, ``percona-cluster``, ``rabbitmq-server``, ``mysql-innodb-cluster``, and ``mysql-router``."," OpenStack services whose software is not a part of the Ubuntu Cloud Archive are not represented in the above list. This type of software can only have their major versions changed during a series (Ubuntu) upgrade on the associated unit. Common charms where this applies are ``ntp``, ``memcached``, ``percona-cluster``, and ``rabbitmq-server``.",6,5
openstack%2Fkolla~stable%2Ftrain~Ia5234c7355669a4aa9bb1c45660930aee553e220,openstack/kolla,stable/train,Ia5234c7355669a4aa9bb1c45660930aee553e220,nova-compute: provide needed deps for debian/aarch64,MERGED,2021-01-22 15:23:36.000000000,2021-01-26 20:35:44.000000000,2021-01-26 20:35:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-22 15:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e150b3fa2958946473c770bb6cd897e45586734d', 'message': ""nova-compute: provide needed deps for debian/aarch64\n\n'daxio' needs 'pmdk-tools' which needs 'buster-backports' on aarch64.\n\nTrain only.\n\n- backports repo was enabled in ussuri with move to ceph nautilus\n- 'pmdk-tools' we pinned with move to QEMU 5 in ussuri\n\nChange-Id: Ia5234c7355669a4aa9bb1c45660930aee553e220\n""}, {'number': 2, 'created': '2021-01-26 12:00:40.000000000', 'files': ['docker/base/apt_preferences.debian', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a9e8cb106cf8d05c7f52d86fdf97dcc780f4a2b2', 'message': ""nova-compute: provide needed deps for debian/aarch64\n\n'daxio' needs 'pmdk-tools' which needs 'buster-backports' on aarch64.\n\nTrain only.\n\n- backports repo was enabled in ussuri with move to ceph nautilus\n- 'pmdk-tools' we pinned with move to QEMU 5 in ussuri\n\nChange-Id: Ia5234c7355669a4aa9bb1c45660930aee553e220\n""}]",0,771994,a9e8cb106cf8d05c7f52d86fdf97dcc780f4a2b2,11,3,2,24072,,,0,"nova-compute: provide needed deps for debian/aarch64

'daxio' needs 'pmdk-tools' which needs 'buster-backports' on aarch64.

Train only.

- backports repo was enabled in ussuri with move to ceph nautilus
- 'pmdk-tools' we pinned with move to QEMU 5 in ussuri

Change-Id: Ia5234c7355669a4aa9bb1c45660930aee553e220
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/771994/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.debian', 'docker/base/sources.list.debian']",2,e150b3fa2958946473c770bb6cd897e45586734d,,# debian backports deb http://deb.debian.org/debian buster-backports main ,,9,0
openstack%2Fswift~master~Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019,openstack/swift,master,Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019,watchers: Add EC stat gatherer,NEW,2020-07-30 23:20:21.000000000,2021-01-26 20:34:53.000000000,,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 18142}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 23:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2a1fb93e3f5abf8cfd4de34854540d6a1167841', 'message': 'watchers: Add EC stat gatherer\n\nCollects stats on EC versions, schemes, and CRCs in use.\n\nChange-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019\n'}, {'number': 2, 'created': '2020-10-27 18:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3416209800adb20cd9016d826d5d0b61f96e8aa9', 'message': 'watchers: Add EC stat gatherer\n\nCollects stats on EC versions, schemes, and CRCs in use.\n\nRelated-Bug: 1886088\nChange-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019\n'}, {'number': 3, 'created': '2020-11-09 19:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ab163868b2ed03dc47a2e44315a99d2e743c5ab6', 'message': 'watchers: Add EC stat gatherer\n\nCollects stats on EC versions, schemes, and CRCs in use.\n\nRelated-Bug: 1886088\nChange-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019\n'}, {'number': 4, 'created': '2020-12-16 01:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a37f9cc9afda480a031ae1dfe7cbd72693de9a6', 'message': 'watchers: Add EC stat gatherer\n\nCollects stats on EC versions, schemes, and CRCs in use.\n\nRelated-Bug: 1886088\nChange-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019\n'}, {'number': 5, 'created': '2020-12-24 06:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f96f2f43a3d970b9ab260bfa3bbe5249108ecb2', 'message': 'watchers: Add EC stat gatherer\n\nCollects stats on EC versions, schemes, and CRCs in use.\n\nRelated-Bug: 1886088\nChange-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019\n'}, {'number': 6, 'created': '2021-01-05 19:17:34.000000000', 'files': ['swift/obj/watchers/ec_data.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/1d4b3b0ecbbe7b53c5e21e4c06759899c89e2d78', 'message': 'watchers: Add EC stat gatherer\n\nCollects stats on EC versions, schemes, and CRCs in use.\n\nRelated-Bug: 1886088\nChange-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019\n'}]",19,744078,1d4b3b0ecbbe7b53c5e21e4c06759899c89e2d78,26,4,6,15343,,,0,"watchers: Add EC stat gatherer

Collects stats on EC versions, schemes, and CRCs in use.

Related-Bug: 1886088
Change-Id: Iea1c989cd4bdde1f31a7387a7ad892d7ed4ef019
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/744078/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/audit_ec_data.py', 'swift/obj/auditor.py', 'setup.cfg']",3,d2a1fb93e3f5abf8cfd4de34854540d6a1167841,ec-stats, ec_data = swift.obj.audit_ec_data:ECDataWatcher,,141,5
openstack%2Fmanila-tempest-plugin~master~I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b,openstack/manila-tempest-plugin,master,I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b,Enable running multi-backends tests with different share protocols,MERGED,2020-12-28 15:26:59.000000000,2021-01-26 20:32:40.000000000,2021-01-26 20:32:40.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-12-28 15:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/db976e3ff515ab85d94d6c822ae7af25ab4b6669', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\nThis patch suggests adding a new configuration parameter, called\n""backends_protocols"" to enable specifying a share protocol per backend.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 2, 'created': '2020-12-28 18:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/763e58cf42443037cc16188813d787e123be4446', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\nThis patch suggests adding a new configuration parameter, called\n""backends_protocols"" to enable specifying a share protocol per backend.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 3, 'created': '2021-01-14 08:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/db45b53ef641cf24e5f47df7c4d361e4f4a37def', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 4, 'created': '2021-01-14 08:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d177b1dda28dab091b04d664367244fae364dff8', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 5, 'created': '2021-01-14 13:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/231b1b9de476cacf0be4a0631e52494c074341fb', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 6, 'created': '2021-01-14 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b4d99d523a2b34f93205bb6f19ca7a9268439dc7', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 7, 'created': '2021-01-21 10:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5717e032a83e4e545c69e3661dda6026a242986d', 'message': '[WIP] Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 8, 'created': '2021-01-21 19:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/eda815ed4297437671c95237b4de18d5522ba5ee', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 9, 'created': '2021-01-22 06:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/737d57a00acc9b4ba0f8f2f1a6064183bad0e833', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 10, 'created': '2021-01-22 07:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b4984734094ef686157b72b02bd15af36d036229', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 11, 'created': '2021-01-24 09:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ed43b85e78cc431a0a998be68169fac9644bccca', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 12, 'created': '2021-01-24 20:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f3ec443330160a5b736afffbb0dda6b6d3ce697f', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 13, 'created': '2021-01-25 19:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9266d85d961a1c5d31c6b9b4a8d3eb1f9b8e8482', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}, {'number': 14, 'created': '2021-01-26 06:23:15.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_multi_backend.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9ddff80a5b27f09af7961f9bb6a121cae4126ad4', 'message': 'Enable running multi-backends tests with different share protocols\n\nCurrently, multi-backends tests reside in test_multi_backend.py does\nnot support different share protocols.\nIn that case, we have to specify for each backend its share protocol\nfor share creation.\n\nChange-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b\n'}]",14,768607,9ddff80a5b27f09af7961f9bb6a121cae4126ad4,51,5,14,19262,,,0,"Enable running multi-backends tests with different share protocols

Currently, multi-backends tests reside in test_multi_backend.py does
not support different share protocols.
In that case, we have to specify for each backend its share protocol
for share creation.

Change-Id: I9e4a8c36dc86ea26dd667f87e4d9703dfb50ad4b
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/07/768607/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/admin/test_multi_backend.py', 'manila_tempest_tests/config.py']",2,db976e3ff515ab85d94d6c822ae7af25ab4b6669,multi_backends_protocols," cfg.MultiOpt(""backends_protocols"", item_type=types.Dict(), help=""This option enables specifying a share protocol per "" ""backend. This is necessary when the environment with "" ""multiple backends of different share protocols, e.g:"" ""backends_protocols = "" ""cephfs:nfs, tripleo_cephfsnative:cephfs""),",,11,1
openstack%2Fkolla~master~I6a3ba599af3deedd450b4ffff6b86a0c04628340,openstack/kolla,master,I6a3ba599af3deedd450b4ffff6b86a0c04628340,base: drop Linaro OBS key for CentOS and Ubuntu,MERGED,2021-01-25 17:21:04.000000000,2021-01-26 20:20:52.000000000,2021-01-26 10:51:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-25 17:21:04.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f782157245eb15d92a1660146c3cf34227970946', 'message': 'base: drop Linaro OBS key for CentOS and Ubuntu\n\nDebian still needs it but it is enabled for all architectures.\n\nChange-Id: I6a3ba599af3deedd450b4ffff6b86a0c04628340\n'}]",0,772382,f782157245eb15d92a1660146c3cf34227970946,11,3,1,24072,,,0,"base: drop Linaro OBS key for CentOS and Ubuntu

Debian still needs it but it is enabled for all architectures.

Change-Id: I6a3ba599af3deedd450b4ffff6b86a0c04628340
",git fetch https://review.opendev.org/openstack/kolla refs/changes/82/772382/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,f782157245eb15d92a1660146c3cf34227970946,,," 'https://obs.linaro.org/repos/home:/marcin.juszkiewicz/centos7/repodata/repomd.xml.key', {% if base_arch == 'aarch64' %} {% set remote_apt_keys = remote_apt_keys + [ 'https://obs.linaro.org/repos/home:/marcin.juszkiewicz/ubuntu-bionic/Release.key', ] %} {% endif %} {% if base_arch == 'aarch64' %} {% set remote_apt_keys = remote_apt_keys + [ 'https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster/Release.key', ] %} {% endif %}",0,11
openstack%2Fkolla~stable%2Fvictoria~I7ad2373327be29cd307db5ce4f7db022829e3b35,openstack/kolla,stable/victoria,I7ad2373327be29cd307db5ce4f7db022829e3b35,Bump up rally and rally-openstack,MERGED,2021-01-25 16:49:18.000000000,2021-01-26 20:13:32.000000000,2021-01-26 20:11:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-25 16:49:18.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5f3620629b2f838cd6e75f5a85b79ee56f30c073', 'message': 'Bump up rally and rally-openstack\n\nNew rally and rally-openstack versions released due to incompatibility\nwith latest oslo.config.\n\nChange-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35\n(cherry picked from commit c0eef769db3d951f1e051af49ffcd95b6d6dfb87)\n'}]",0,772235,5f3620629b2f838cd6e75f5a85b79ee56f30c073,9,3,1,22629,,,0,"Bump up rally and rally-openstack

New rally and rally-openstack versions released due to incompatibility
with latest oslo.config.

Change-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35
(cherry picked from commit c0eef769db3d951f1e051af49ffcd95b6d6dfb87)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/772235/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,5f3620629b2f838cd6e75f5a85b79ee56f30c073,," 'rally-3.2.0.tar.gz')}, 'rally-openstack-2.1.0.tar.gz')},"," 'rally-3.1.0.tar.gz')}, 'rally-openstack-2.0.0.tar.gz')},",2,2
openstack%2Fkayobe~stable%2Ftrain~I47115e5d8d1fb448cb9e46dc43b56c64987e428b,openstack/kayobe,stable/train,I47115e5d8d1fb448cb9e46dc43b56c64987e428b,CI: add dummy1 port for seed upgrade and VM jobs,MERGED,2020-11-25 16:29:53.000000000,2021-01-26 20:13:30.000000000,2021-01-26 20:11:45.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-11-25 16:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e6dfcdd4b0605c9c4b4a5ef27353ad57a8e78e3', 'message': 'CI: add dummy1 port for seed upgrade and VM jobs\n\nFor some reason this configuration was omitted or incomplete in these\njobs. Without this configuration, Kayobe development configuration adds\neth1 to the breth1 bridge if it exists, or leaves the bridge without a\nport otherwise. This can lead to network connectivity issues, if the IP\naddress of eth1 becomes inaccessible when it is added to breth1.\n\nThis change fixes the issue by ensuring that the dummy1 interface\nexists, and configuring the aio network to add it to breth1 as a port,\ninstead of eth1.\n\nChange-Id: I47115e5d8d1fb448cb9e46dc43b56c64987e428b\n(cherry picked from commit 0766df1673da0cc8c3a3d3d03e357ec5836e2d94)\n'}, {'number': 2, 'created': '2020-11-25 16:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f20c51a21ab9e7c6ebc5aab55b31ab8cef390b9', 'message': 'CI: add dummy1 port for seed upgrade and VM jobs\n\nFor some reason this configuration was omitted or incomplete in these\njobs. Without this configuration, Kayobe development configuration adds\neth1 to the breth1 bridge if it exists, or leaves the bridge without a\nport otherwise. This can lead to network connectivity issues, if the IP\naddress of eth1 becomes inaccessible when it is added to breth1.\n\nThis change fixes the issue by ensuring that the dummy1 interface\nexists, and configuring the aio network to add it to breth1 as a port,\ninstead of eth1.\n\nChange-Id: I47115e5d8d1fb448cb9e46dc43b56c64987e428b\n(cherry picked from commit 0766df1673da0cc8c3a3d3d03e357ec5836e2d94)\n'}, {'number': 3, 'created': '2021-01-26 12:58:27.000000000', 'files': ['playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ff90dc8195dd14beb37eed0e8541ca1f3b50ff3', 'message': 'CI: add dummy1 port for seed upgrade and VM jobs\n\nFor some reason this configuration was omitted or incomplete in these\njobs. Without this configuration, Kayobe development configuration adds\neth1 to the breth1 bridge if it exists, or leaves the bridge without a\nport otherwise. This can lead to network connectivity issues, if the IP\naddress of eth1 becomes inaccessible when it is added to breth1.\n\nThis change fixes the issue by ensuring that the dummy1 interface\nexists, and configuring the aio network to add it to breth1 as a port,\ninstead of eth1.\n\nChange-Id: I47115e5d8d1fb448cb9e46dc43b56c64987e428b\n(cherry picked from commit 0766df1673da0cc8c3a3d3d03e357ec5836e2d94)\n'}]",0,764184,9ff90dc8195dd14beb37eed0e8541ca1f3b50ff3,20,4,3,14826,,,0,"CI: add dummy1 port for seed upgrade and VM jobs

For some reason this configuration was omitted or incomplete in these
jobs. Without this configuration, Kayobe development configuration adds
eth1 to the breth1 bridge if it exists, or leaves the bridge without a
port otherwise. This can lead to network connectivity issues, if the IP
address of eth1 becomes inaccessible when it is added to breth1.

This change fixes the issue by ensuring that the dummy1 interface
exists, and configuring the aio network to add it to breth1 as a port,
instead of eth1.

Change-Id: I47115e5d8d1fb448cb9e46dc43b56c64987e428b
(cherry picked from commit 0766df1673da0cc8c3a3d3d03e357ec5836e2d94)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/764184/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2']",3,1e6dfcdd4b0605c9c4b4a5ef27353ad57a8e78e3,,"kolla_openstack_logging_debug: True # NOTE(mgoddard): CentOS 8 removes interfaces from their bridge during ifdown, # and removes the bridge if there are no interfaces left. When Kayobe bounces # veth links plugged into the bridge, it causes the bridge which has the IP we # are using for SSH to be removed. Use a dummy interface. aio_bridge_ports: - dummy1",,70,0
openstack%2Fkolla~stable%2Fussuri~I7ad2373327be29cd307db5ce4f7db022829e3b35,openstack/kolla,stable/ussuri,I7ad2373327be29cd307db5ce4f7db022829e3b35,Bump up rally and rally-openstack,MERGED,2021-01-25 16:49:44.000000000,2021-01-26 20:13:27.000000000,2021-01-26 20:11:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-25 16:49:44.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/636a2438f52252f2675bd7914cc0fab0ad585234', 'message': 'Bump up rally and rally-openstack\n\nNew rally and rally-openstack versions released due to incompatibility\nwith latest oslo.config.\n\nChange-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35\n(cherry picked from commit c0eef769db3d951f1e051af49ffcd95b6d6dfb87)\n'}]",0,772396,636a2438f52252f2675bd7914cc0fab0ad585234,11,3,1,22629,,,0,"Bump up rally and rally-openstack

New rally and rally-openstack versions released due to incompatibility
with latest oslo.config.

Change-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35
(cherry picked from commit c0eef769db3d951f1e051af49ffcd95b6d6dfb87)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/772396/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,636a2438f52252f2675bd7914cc0fab0ad585234,," 'rally-3.2.0.tar.gz')}, 'rally-openstack-2.1.0.tar.gz')},"," 'rally-3.1.0.tar.gz')}, 'rally-openstack-2.0.0.tar.gz')},",2,2
openstack%2Floci~master~Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f,openstack/loci,master,Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f,Add openssh client to binary deps,MERGED,2020-09-22 18:34:30.000000000,2021-01-26 20:05:24.000000000,2021-01-26 20:05:24.000000000,"[{'_account_id': 1004}, {'_account_id': 8863}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2020-09-22 18:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/49301e6bc05d06436beabac7bb0542daba1d9125', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 2, 'created': '2020-09-22 21:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ac31df7ed5f803d1e0917c3eea0fc090837c99d8', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 3, 'created': '2020-09-22 22:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1c21d4a7df4845e60c18c278a0a6746d1d83d3a2', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 4, 'created': '2020-09-22 22:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/7878641b75c547bf21068c72b6b3547534a95250', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 5, 'created': '2020-09-23 13:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/95240eabb8068e2a66b2cd1c06455421f0707c47', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 6, 'created': '2020-09-23 15:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1d1abb88be8c9b1f7cdac4fe75fd1773e6298e48', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 7, 'created': '2020-09-24 12:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4be1e1323f0aca2b36cce226a63facded2efbc04', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 8, 'created': '2020-09-24 21:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/564ffad179cbec13ead1d84e1ad9babf98495824', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 9, 'created': '2020-10-19 17:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/321b4741ceb174c9c011d1a11bea669df8af6e7e', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 10, 'created': '2020-10-19 18:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/449741b84aa44879ae2ebda64cf1799039739db7', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 11, 'created': '2020-10-19 20:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/67b07e11af74afcfa998e02b75a5c0fef18e6242', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 12, 'created': '2020-12-10 11:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8a4910dc26f4cc72513f3e59d7ad7efa770aa52f', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 13, 'created': '2020-12-10 19:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/1736432a0b426243bd862ece47130b1098617736', 'message': 'Add openssh client to binary deps\n\nDepends-On: https://review.opendev.org/766510\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 14, 'created': '2020-12-10 19:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/af8952ed6d704756a3516d1d632130eecf891ab3', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 15, 'created': '2020-12-10 19:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/404af847a5b52bc3cd53f1fd0857a74e7e20398e', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}, {'number': 16, 'created': '2020-12-14 13:12:23.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/2652595c2cc031b58efef6e62132b5e4d0b5ee6a', 'message': 'Add openssh client to binary deps\n\nChange-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f\n'}]",1,753424,2652595c2cc031b58efef6e62132b5e4d0b5ee6a,73,7,16,31746,,,0,"Add openssh client to binary deps

Change-Id: Ie6a87868dda1f2d5b7746a53b5b9e8c60869167f
",git fetch https://review.opendev.org/openstack/loci refs/changes/24/753424/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,49301e6bc05d06436beabac7bb0542daba1d9125,repo-patch4,openssh-client [platform:dpkg nova] openssh-clients [platform:rpm nova],,2,0
openstack%2Fhacking~master~Ia091d020641766089786cf6995e0c7a92f159a84,openstack/hacking,master,Ia091d020641766089786cf6995e0c7a92f159a84,Updating lower-constarints job as non voting,MERGED,2021-01-26 15:00:58.000000000,2021-01-26 19:53:33.000000000,2021-01-26 19:46:23.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 31239}]","[{'number': 1, 'created': '2021-01-26 15:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/c3e8b545f4aec94bbf002cbbbebf1faf52cf997f', 'message': 'Updating lower-constarints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ia091d020641766089786cf6995e0c7a92f159a84\n'}, {'number': 2, 'created': '2021-01-26 15:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/fdd3da77046840f0e1058e054ff47576f2db15fd', 'message': 'Updating lower-constarints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ia091d020641766089786cf6995e0c7a92f159a84\n'}, {'number': 3, 'created': '2021-01-26 16:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/4da121554de1eef500977397e8de674971e02545', 'message': 'Updating lower-constarints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ia091d020641766089786cf6995e0c7a92f159a84\n'}, {'number': 4, 'created': '2021-01-26 16:54:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/hacking/commit/5cfcdbc8d90c8f54df9248e1cadc57dc81b110b3', 'message': 'Updating lower-constarints job as non voting\n\nThere is an ongoing discussion in ML to drop the\nlower-constraints job [1].\n\nMoving it to Non-voting until any decision is being\nmade in TC meeting.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ia091d020641766089786cf6995e0c7a92f159a84\n'}]",2,772556,5cfcdbc8d90c8f54df9248e1cadc57dc81b110b3,19,4,4,31239,,,0,"Updating lower-constarints job as non voting

There is an ongoing discussion in ML to drop the
lower-constraints job [1].

Moving it to Non-voting until any decision is being
made in TC meeting.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: Ia091d020641766089786cf6995e0c7a92f159a84
",git fetch https://review.opendev.org/openstack/hacking refs/changes/56/772556/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c3e8b545f4aec94bbf002cbbbebf1faf52cf997f,, - openstack-lower-constraints-jobs: voting: false,,2,0
openstack%2Fcookbook-openstack-ops-database~stable%2Fstein~Ic83b64bb9e6c24712f65b9312ae942d47d7ae7f2,openstack/cookbook-openstack-ops-database,stable/stein,Ic83b64bb9e6c24712f65b9312ae942d47d7ae7f2,Bump to 19.3.2,MERGED,2021-01-26 16:56:09.000000000,2021-01-26 19:32:14.000000000,2021-01-26 19:32:14.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 16:56:09.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/b63aa73f86c966db97c0731d65632fe0c2c810de', 'message': 'Bump to 19.3.2\n\nChange-Id: Ic83b64bb9e6c24712f65b9312ae942d47d7ae7f2\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,772573,b63aa73f86c966db97c0731d65632fe0c2c810de,6,2,1,21961,,,0,"Bump to 19.3.2

Change-Id: Ic83b64bb9e6c24712f65b9312ae942d47d7ae7f2
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/73/772573/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,b63aa73f86c966db97c0731d65632fe0c2c810de,,version '19.3.2',version '19.3.1',1,1
openstack%2Fopenstack-ansible-os_barbican~master~I2ce8e7494dc367bd64fb36947ebce0e7c949c493,openstack/openstack-ansible-os_barbican,master,I2ce8e7494dc367bd64fb36947ebce0e7c949c493,Move barbican pip packages from constraints to requirements,MERGED,2021-01-25 08:48:42.000000000,2021-01-26 19:24:42.000000000,2021-01-26 19:22:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 08:48:42.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/78be497957dce2f639f5551daf001aba94760f3c', 'message': 'Move barbican pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver\n\nChange-Id: I2ce8e7494dc367bd64fb36947ebce0e7c949c493\n'}]",0,772260,78be497957dce2f639f5551daf001aba94760f3c,17,3,1,25023,,,0,"Move barbican pip packages from constraints to requirements

This is necessary to support the new pip resolver

Change-Id: I2ce8e7494dc367bd64fb36947ebce0e7c949c493
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/60/772260/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,78be497957dce2f639f5551daf001aba94760f3c,osa-new-pip," - ""git+{{ barbican_git_repo }}@{{ barbican_git_install_branch }}#egg=barbican"""," - ""git+{{ barbican_git_repo }}@{{ barbican_git_install_branch }}#egg=barbican"" - barbican",1,2
openstack%2Fopenstack-ansible-os_neutron~master~I9eea72d68398f9fd272b1e9ae0c0c0198336c2f5,openstack/openstack-ansible-os_neutron,master,I9eea72d68398f9fd272b1e9ae0c0c0198336c2f5,L3 agent cleanup_on_shutdown,MERGED,2021-01-21 15:11:54.000000000,2021-01-26 19:15:55.000000000,2021-01-26 19:13:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 15:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/94a953709e4434e895bf12371febcae6526e53be', 'message': 'L3 agent cleanup_on_shutdown\n\nOnce we do not kill keepalived for l3 agent, it might be usefull to\noverride that. This is possible with neutron_l3_cleanup_on_shutdown\nWhen it set to True, keepalived will be restarted by l3 agent\nexcept first service restart, where it wil be killed by handler,\nsince config should be loaded first.\n\nChange-Id: I9eea72d68398f9fd272b1e9ae0c0c0198336c2f5\n'}, {'number': 2, 'created': '2021-01-26 11:58:47.000000000', 'files': ['templates/l3_agent.ini.j2', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4b080bb3f940128c6b6572e634ed4070e88d81e0', 'message': 'L3 agent cleanup_on_shutdown\n\nOnce we do not kill keepalived for l3 agent, it might be usefull to\noverride that. This is possible with neutron_l3_cleanup_on_shutdown\nWhen it set to True, keepalived will be restarted by l3 agent\nexcept first service restart, where it wil be killed by handler,\nsince config should be loaded first.\n\nChange-Id: I9eea72d68398f9fd272b1e9ae0c0c0198336c2f5\n'}]",0,771826,4b080bb3f940128c6b6572e634ed4070e88d81e0,10,3,2,28619,,,0,"L3 agent cleanup_on_shutdown

Once we do not kill keepalived for l3 agent, it might be usefull to
override that. This is possible with neutron_l3_cleanup_on_shutdown
When it set to True, keepalived will be restarted by l3 agent
except first service restart, where it wil be killed by handler,
since config should be loaded first.

Change-Id: I9eea72d68398f9fd272b1e9ae0c0c0198336c2f5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/26/771826/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/l3_agent.ini.j2', 'handlers/main.yml', 'defaults/main.yml']",3,94a953709e4434e895bf12371febcae6526e53be,bug/1846198,neutron_l3_cleanup_on_shutdown: False ,,5,1
openstack%2Fnova~master~I2fb5b6a8fdbb6c13554e0608b71a02843d12d484,openstack/nova,master,I2fb5b6a8fdbb6c13554e0608b71a02843d12d484,Move query param generation to RequestGroup o.vo,MERGED,2020-10-08 16:54:52.000000000,2021-01-26 19:15:08.000000000,2021-01-26 19:12:11.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-10-08 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c143506ddffef121367969085b747904a7d2ed46', 'message': 'Move query param generation to RequestGroup o.vo\n\nThis patch the allocation candidate query generation code from the\nscheduler utils to the RequestGroup o.vo as it clearly only depends on\nthat object. The original utils code was predated the patch that added\nthe RequestGroup o.vo\n\nThere is small change in logic. The mapping of the unnamed group, that\ndoes not have a specific requester, to the empty query prefix is now\nmoved into the query param generation code.\n\nChange-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-10-12 08:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6397b042aa9b294c43e1336eb1af6cb6e16e686', 'message': 'Move query param generation to RequestGroup o.vo\n\nThis patch the allocation candidate query generation code from the\nscheduler utils to the RequestGroup o.vo as it clearly only depends on\nthat object. The original utils code was predated the patch that added\nthe RequestGroup o.vo\n\nThere is small change in logic. The mapping of the unnamed group, that\ndoes not have a specific requester, to the empty query prefix is now\nmoved into the query param generation code.\n\nChange-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-11-30 10:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ee7ef24359f86769e3e3b2d7a01f2941aed7542', 'message': 'Move query param generation to RequestGroup o.vo\n\nThis patch moves the allocation candidate query generation code from the\nscheduler utils to the RequestGroup o.vo as it clearly only depends on\nthat object. The original utils code was predated the patch that added\nthe RequestGroup o.vo\n\nThere is small change in logic. The mapping of the unnamed group, that\ndoes not have a specific requester, to the empty query prefix is now\nmoved into the query param generation code.\n\nChange-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e1e13063ad03d316ddbf3af426ef90b9eee7a6c', 'message': 'Move query param generation to RequestGroup o.vo\n\nThis patch moves the allocation candidate query generation code from the\nscheduler utils to the RequestGroup o.vo as it clearly only depends on\nthat object. The original utils code was predated the patch that added\nthe RequestGroup o.vo\n\nThere is small change in logic. The mapping of the unnamed group, that\ndoes not have a specific requester, to the empty query prefix is now\nmoved into the query param generation code.\n\nChange-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2021-01-07 12:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdc531bb652f69a916972d916913808d509972c6', 'message': 'Move query param generation to RequestGroup o.vo\n\nThis patch moves the allocation candidate query generation code from the\nscheduler utils to the RequestGroup o.vo as it clearly only depends on\nthat object. The original utils code was predated the patch that added\nthe RequestGroup o.vo\n\nThere is small change in logic. The mapping of the unnamed group, that\ndoes not have a specific requester, to the empty query prefix is now\nmoved into the query param generation code.\n\nChange-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2021-01-18 15:00:11.000000000', 'files': ['nova/objects/request_spec.py', 'nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/160e229f85535493fbd4490003800ac2c3f3db80', 'message': 'Move query param generation to RequestGroup o.vo\n\nThis patch moves the allocation candidate query generation code from the\nscheduler utils to the RequestGroup o.vo as it clearly only depends on\nthat object. The original utils code was predated the patch that added\nthe RequestGroup o.vo\n\nThere is small change in logic. The mapping of the unnamed group, that\ndoes not have a specific requester, to the empty query prefix is now\nmoved into the query param generation code.\n\nChange-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484\nblueprint: support-interface-attach-with-qos-ports\n'}]",3,756894,160e229f85535493fbd4490003800ac2c3f3db80,72,12,6,9708,,,0,"Move query param generation to RequestGroup o.vo

This patch moves the allocation candidate query generation code from the
scheduler utils to the RequestGroup o.vo as it clearly only depends on
that object. The original utils code was predated the patch that added
the RequestGroup o.vo

There is small change in logic. The mapping of the unnamed group, that
does not have a specific requester, to the empty query prefix is now
moved into the query param generation code.

Change-Id: I2fb5b6a8fdbb6c13554e0608b71a02843d12d484
blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/756894/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/scheduler/utils.py']",2,c143506ddffef121367969085b747904a7d2ed46,bp/support-interface-attach-with-qos-ports, qparams.extend(rg.to_queryparams())," # TODO(gibi): We have a RequestGroup OVO so we can move this to that # class as a member function. # NOTE(efried): The sorting herein is not necessary for the API; it is # to make testing easier and logging/debugging predictable. def to_queryparams(request_group, suffix): res = request_group.resources required_traits = request_group.required_traits forbidden_traits = request_group.forbidden_traits aggregates = request_group.aggregates in_tree = request_group.in_tree forbidden_aggregates = request_group.forbidden_aggregates resource_query = "","".join( sorted(""%s:%s"" % (rc, amount) for (rc, amount) in res.items())) qs_params = [('resources%s' % suffix, resource_query)] # Assemble required and forbidden traits, allowing for either/both # to be empty. required_val = ','.join( sorted(required_traits) + ['!%s' % ft for ft in sorted(forbidden_traits)]) if required_val: qs_params.append(('required%s' % suffix, required_val)) if aggregates: aggs = [] # member_of$S is a list of lists. We need a tuple of # ('member_of$S', 'in:uuid,uuid,...') for each inner list. for agglist in aggregates: aggs.append(('member_of%s' % suffix, 'in:' + ','.join(sorted(agglist)))) qs_params.extend(sorted(aggs)) if in_tree: qs_params.append(('in_tree%s' % suffix, in_tree)) if forbidden_aggregates: # member_of$S is a list of aggregate uuids. We need a # tuple of ('member_of$S, '!in:uuid,uuid,...'). forbidden_aggs = '!in:' + ','.join( sorted(forbidden_aggregates)) qs_params.append(('member_of%s' % suffix, forbidden_aggs)) return qs_params qparams.extend(to_queryparams(rg, ident or ''))",46,43
openstack%2Foslo.policy~master~I829870c327b73b583877b9b969ee38f0bcaa1495,openstack/oslo.policy,master,I829870c327b73b583877b9b969ee38f0bcaa1495,pre-commit: Resolve dependency conflicts,MERGED,2021-01-08 11:48:52.000000000,2021-01-26 19:05:37.000000000,2021-01-26 18:57:22.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-08 11:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/7684309ee2b662f465ca85f7f0a573404d47f199', 'message': ""pre-commit: Resolve dependency conflicts\n\nhacking 3.1.0 depended on 'flake8<3.8.0,>=3.6.0', while we were\nspecifying flake 3.8.3. This resulted in an error when using the\ndependency resolver introduced in pip 20.3. Resolve this by bumping to\nhacking 3.2.0.\n\nChange-Id: I829870c327b73b583877b9b969ee38f0bcaa1495\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-14 18:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c8fe51972fb95bb0c80f28461a011b66b99e3fde', 'message': ""pre-commit: Resolve dependency conflicts\n\nhacking 3.1.0 depended on 'flake8<3.8.0,>=3.6.0', while we were\nspecifying flake 3.8.3. This resulted in an error when using the\ndependency resolver introduced in pip 20.3. Resolve this by bumping to\nhacking 3.2.0.\n\nWe also remove bandit and pre-commit from test-requirements, since these\nare linters which are not managed by upper-constraints and are not\nnecessary to run tests. oslo.context is also specified in both\nrequirements.txt and test-requirements.txt, so we remove it from the\nlatter.\n\nChange-Id: I829870c327b73b583877b9b969ee38f0bcaa1495\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-01-15 09:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/76ac48a1e91e2267ec4d4f37ed35fb28b355b478', 'message': ""pre-commit: Resolve dependency conflicts\n\nhacking 3.1.0 depended on 'flake8<3.8.0,>=3.6.0', while we were\nspecifying flake 3.8.3. This resulted in an error when using the\ndependency resolver introduced in pip 20.3. Resolve this by bumping to\nhacking 3.2.0.\n\nWe also remove bandit and pre-commit from test-requirements, since these\nare linters which are not managed by upper-constraints and are not\nnecessary to run tests. oslo.context is also specified in both\nrequirements.txt and test-requirements.txt, so we remove it from the\nlatter.\n\nChange-Id: I829870c327b73b583877b9b969ee38f0bcaa1495\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2021-01-15 13:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f54fa3b73a13e14423359ea44c3d6fdbb6722e3f', 'message': ""pre-commit: Resolve dependency conflicts\n\nhacking 3.1.0 depended on 'flake8<3.8.0,>=3.6.0', while we were\nspecifying flake 3.8.3. This resulted in an error when using the\ndependency resolver introduced in pip 20.3. Resolve this by bumping to\nhacking 3.2.0.\n\nWe also remove bandit and pre-commit from test-requirements, since these\nare linters which are not managed by upper-constraints and are not\nnecessary to run tests. oslo.context is also specified in both\nrequirements.txt and test-requirements.txt, so we remove it from the\nlatter.\n\nChange-Id: I829870c327b73b583877b9b969ee38f0bcaa1495\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-01-18 15:48:39.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/e103baa002e54303b08630c436dfc7b0b8a013de', 'message': ""pre-commit: Resolve dependency conflicts\n\nhacking 3.1.0 depended on 'flake8<3.8.0,>=3.6.0', while we were\nspecifying flake 3.8.3. This resulted in an error when using the\ndependency resolver introduced in pip 20.3. Resolve this by bumping to\nhacking 3.2.0.\n\nWe also remove bandit and pre-commit from test-requirements, since these\nare linters which are not managed by upper-constraints and are not\nnecessary to run tests. oslo.context is also specified in both\nrequirements.txt and test-requirements.txt, so we remove it from the\nlatter.\n\nChange-Id: I829870c327b73b583877b9b969ee38f0bcaa1495\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,769911,e103baa002e54303b08630c436dfc7b0b8a013de,17,3,5,15334,,,0,"pre-commit: Resolve dependency conflicts

hacking 3.1.0 depended on 'flake8<3.8.0,>=3.6.0', while we were
specifying flake 3.8.3. This resulted in an error when using the
dependency resolver introduced in pip 20.3. Resolve this by bumping to
hacking 3.2.0.

We also remove bandit and pre-commit from test-requirements, since these
are linters which are not managed by upper-constraints and are not
necessary to run tests. oslo.context is also specified in both
requirements.txt and test-requirements.txt, so we remove it from the
latter.

Change-Id: I829870c327b73b583877b9b969ee38f0bcaa1495
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/11/769911/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.pre-commit-config.yaml']",2,7684309ee2b662f465ca85f7f0a573404d47f199,secure-rbac,"--- rev: 181bb46098dddf7e2d45319ea654b4b4d58c2840 # 3.8.3 - hacking>=3.2.0,<3.3.0"," rev: 181bb46098dddf7e2d45319ea654b4b4d58c2840 # 3.8.3 - hacking>=3.0.1,<3.1.0",3,4
openstack%2Fopenstack-ansible-os_mistral~master~Iceaa51a6ce18d5c7e8d35de1135db10f3d235014,openstack/openstack-ansible-os_mistral,master,Iceaa51a6ce18d5c7e8d35de1135db10f3d235014,Move mistral pip packages from constraints to requirements,MERGED,2021-01-25 10:14:13.000000000,2021-01-26 19:04:52.000000000,2021-01-26 18:51:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:14:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/16539214fbd0a49abe840f20abae63bbefb96cb5', 'message': 'Move mistral pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: Iceaa51a6ce18d5c7e8d35de1135db10f3d235014\n'}]",0,772291,16539214fbd0a49abe840f20abae63bbefb96cb5,8,3,1,25023,,,0,"Move mistral pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: Iceaa51a6ce18d5c7e8d35de1135db10f3d235014
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/91/772291/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,16539214fbd0a49abe840f20abae63bbefb96cb5,osa-new-pip," - ""git+{{ mistral_git_repo }}@{{ mistral_git_install_branch }}#egg=mistral"""," - ""git+{{ mistral_git_repo }}@{{ mistral_git_install_branch }}#egg=mistral"" - mistral",1,2
openstack%2Fopenstack-ansible-os_nova~master~Ieffaedbb3bd728a27b71bc3a4f4da62ddc3bc28d,openstack/openstack-ansible-os_nova,master,Ieffaedbb3bd728a27b71bc3a4f4da62ddc3bc28d,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:15.000000000,2021-01-26 19:04:48.000000000,2021-01-26 18:51:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:27:15.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/560f132dbd2b8726fe733bb72ad9569bde2be97a', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ieffaedbb3bd728a27b71bc3a4f4da62ddc3bc28d'}]",0,772041,560f132dbd2b8726fe733bb72ad9569bde2be97a,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ieffaedbb3bd728a27b71bc3a4f4da62ddc3bc28d",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/41/772041/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,560f132dbd2b8726fe733bb72ad9569bde2be97a,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_horizon~master~Iec10700f663fdcffc577614f6e73693b9a9692d3,openstack/openstack-ansible-os_horizon,master,Iec10700f663fdcffc577614f6e73693b9a9692d3,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:49.000000000,2021-01-26 19:04:17.000000000,2021-01-26 18:45:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/5968366acd9f6387dc38a9f465890978f267ca73', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Iec10700f663fdcffc577614f6e73693b9a9692d3'}]",0,772032,5968366acd9f6387dc38a9f465890978f267ca73,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Iec10700f663fdcffc577614f6e73693b9a9692d3",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/32/772032/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5968366acd9f6387dc38a9f465890978f267ca73,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_gnocchi~master~I85b04dd07036d2a5e19021e30f2cce830f3d8f6d,openstack/openstack-ansible-os_gnocchi,master,I85b04dd07036d2a5e19021e30f2cce830f3d8f6d,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:33.000000000,2021-01-26 19:02:38.000000000,2021-01-26 18:39:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/ce339f4233e6b2f0da60845422f67f238d3b39cc', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I85b04dd07036d2a5e19021e30f2cce830f3d8f6d'}]",0,772030,ce339f4233e6b2f0da60845422f67f238d3b39cc,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I85b04dd07036d2a5e19021e30f2cce830f3d8f6d",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/30/772030/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ce339f4233e6b2f0da60845422f67f238d3b39cc,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_barbican~master~I88ece478298b2db9ad528c153f9f8c3348c50e18,openstack/openstack-ansible-os_barbican,master,I88ece478298b2db9ad528c153f9f8c3348c50e18,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:38.000000000,2021-01-26 19:02:36.000000000,2021-01-26 18:39:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:24:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/23600cb468d818558ba853bf7f0704817012d2e1', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I88ece478298b2db9ad528c153f9f8c3348c50e18'}]",0,772022,23600cb468d818558ba853bf7f0704817012d2e1,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I88ece478298b2db9ad528c153f9f8c3348c50e18",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/22/772022/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,23600cb468d818558ba853bf7f0704817012d2e1,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_tacker~master~Ieb586ca22e19b84433b8faea1b27fb66c1e7e9f9,openstack/openstack-ansible-os_tacker,master,Ieb586ca22e19b84433b8faea1b27fb66c1e7e9f9,[reno] Stop publishing release notes,MERGED,2021-01-22 16:28:12.000000000,2021-01-26 19:02:24.000000000,2021-01-26 18:39:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:28:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/7b869bf073a7646c8ec82282e4a15ef84aad927a', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ieb586ca22e19b84433b8faea1b27fb66c1e7e9f9'}]",0,772050,7b869bf073a7646c8ec82282e4a15ef84aad927a,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ieb586ca22e19b84433b8faea1b27fb66c1e7e9f9",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/50/772050/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7b869bf073a7646c8ec82282e4a15ef84aad927a,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I21127e47340ffb8f21b577221468356707c8a2d1,openstack/openstack-ansible-os_ceilometer,master,I21127e47340ffb8f21b577221468356707c8a2d1,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:00.000000000,2021-01-26 19:02:23.000000000,2021-01-26 18:39:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/58039e36b6ea70f8e169babd97ae36ee515f73cc', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I21127e47340ffb8f21b577221468356707c8a2d1'}]",0,772024,58039e36b6ea70f8e169babd97ae36ee515f73cc,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I21127e47340ffb8f21b577221468356707c8a2d1",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/24/772024/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,58039e36b6ea70f8e169babd97ae36ee515f73cc,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fkeystone~stable%2Fvictoria~Id36dce6f6c686b76df904dec705a1c5fe5b483be,openstack/keystone,stable/victoria,Id36dce6f6c686b76df904dec705a1c5fe5b483be,Update .gitreview for stable/victoria,MERGED,2020-09-25 08:36:49.000000000,2021-01-26 19:02:22.000000000,2021-01-26 18:39:01.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:36:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5680b482ca7796cacb7f20ca3d11cba080a9e5c3', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: Id36dce6f6c686b76df904dec705a1c5fe5b483be\n'}]",0,754294,5680b482ca7796cacb7f20ca3d11cba080a9e5c3,8,4,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: Id36dce6f6c686b76df904dec705a1c5fe5b483be
",git fetch https://review.opendev.org/openstack/keystone refs/changes/94/754294/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5680b482ca7796cacb7f20ca3d11cba080a9e5c3,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fopenstack-ansible-os_manila~master~I78f7cb313da7835d96be95436ae69c0a6d8cfa25,openstack/openstack-ansible-os_manila,master,I78f7cb313da7835d96be95436ae69c0a6d8cfa25,Move manila pip packages from constraints to requirements,MERGED,2021-01-25 10:09:56.000000000,2021-01-26 18:57:49.000000000,2021-01-26 18:32:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:09:56.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/f404eb46c4510ede8e871f3237c8deee6ade693f', 'message': 'Move manila pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I78f7cb313da7835d96be95436ae69c0a6d8cfa25\n'}]",0,772287,f404eb46c4510ede8e871f3237c8deee6ade693f,10,3,1,25023,,,0,"Move manila pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I78f7cb313da7835d96be95436ae69c0a6d8cfa25
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/87/772287/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f404eb46c4510ede8e871f3237c8deee6ade693f,osa-new-pip," - ""git+{{ manila_git_repo }}@{{ manila_git_install_branch }}#egg=manila"""," - ""git+{{ manila_git_repo }}@{{ manila_git_install_branch }}#egg=manila"" - manila",1,2
openstack%2Fopenstack-ansible-os_sahara~master~Iecb6464941097057cad39e50e3626b9abbe84921,openstack/openstack-ansible-os_sahara,master,Iecb6464941097057cad39e50e3626b9abbe84921,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:40.000000000,2021-01-26 18:57:44.000000000,2021-01-26 18:32:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:27:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/4597fc8bdd5a01f1b4c2678020768ecbacb25ff9', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Iecb6464941097057cad39e50e3626b9abbe84921'}]",0,772048,4597fc8bdd5a01f1b4c2678020768ecbacb25ff9,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Iecb6464941097057cad39e50e3626b9abbe84921",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/48/772048/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4597fc8bdd5a01f1b4c2678020768ecbacb25ff9,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_magnum~master~Ia793bf6312fa50b5512da8274dfee1e6ca65da1a,openstack/openstack-ansible-os_magnum,master,Ia793bf6312fa50b5512da8274dfee1e6ca65da1a,[reno] Stop publishing release notes,MERGED,2021-01-22 16:26:27.000000000,2021-01-26 18:57:43.000000000,2021-01-26 18:32:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:26:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/bd17816a3d938b3b2b3a9b9f0288737e0720530e', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ia793bf6312fa50b5512da8274dfee1e6ca65da1a'}]",0,772035,bd17816a3d938b3b2b3a9b9f0288737e0720530e,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ia793bf6312fa50b5512da8274dfee1e6ca65da1a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/35/772035/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,bd17816a3d938b3b2b3a9b9f0288737e0720530e,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fneutron~master~I7bf4986a4d2628d0fa69e57199d59bd6ca4eafdc,openstack/neutron,master,I7bf4986a4d2628d0fa69e57199d59bd6ca4eafdc,Provide object tagging using the tag plugin,MERGED,2021-01-14 15:44:17.000000000,2021-01-26 18:53:01.000000000,2021-01-26 13:23:26.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 15:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50bffd0571c037ee30bff5405831ca2f9b21dc8b', 'message': 'Provide object tagging using the tag plugin\n\nProvide ""tag"" information to QoS policy, Trunk and Network Segment\nRange objects using the tag plugin extension. This is the Neutron\ndefined way to extend an object dictionary using the standard\nattributes.\n\nChange-Id: I7bf4986a4d2628d0fa69e57199d59bd6ca4eafdc\nCloses-Bug: #1704137\n'}, {'number': 2, 'created': '2021-01-15 17:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9758ee571ba16dfb8204e67369a97859c6202909', 'message': 'Provide object tagging using the tag plugin\n\nProvide ""tag"" information to QoS policy, Trunk and Network Segment\nRange objects using the tag plugin extension. This is the Neutron\ndefined way to extend an object dictionary using the standard\nattributes.\n\nChange-Id: I7bf4986a4d2628d0fa69e57199d59bd6ca4eafdc\nCloses-Bug: #1704137\n'}, {'number': 3, 'created': '2021-01-18 11:57:56.000000000', 'files': ['neutron/objects/trunk.py', 'neutron/objects/network_segment_range.py', 'neutron/objects/qos/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/67f856e1e5b32951f39b88a2aeec4b99f77a7922', 'message': 'Provide object tagging using the tag plugin\n\nProvide ""tag"" information to QoS policy, Trunk and Network Segment\nRange objects using the tag plugin extension. This is the Neutron\ndefined way to extend an object dictionary using the standard\nattributes.\n\nChange-Id: I7bf4986a4d2628d0fa69e57199d59bd6ca4eafdc\nCloses-Bug: #1704137\n'}]",4,770824,67f856e1e5b32951f39b88a2aeec4b99f77a7922,37,4,3,16688,,,0,"Provide object tagging using the tag plugin

Provide ""tag"" information to QoS policy, Trunk and Network Segment
Range objects using the tag plugin extension. This is the Neutron
defined way to extend an object dictionary using the standard
attributes.

Change-Id: I7bf4986a4d2628d0fa69e57199d59bd6ca4eafdc
Closes-Bug: #1704137
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/770824/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/trunk.py', 'neutron/objects/network_segment_range.py', 'neutron/objects/qos/policy.py']",3,50bffd0571c037ee30bff5405831ca2f9b21dc8b,bug/1704137,"from neutron_lib.api.definitions import qos as qos_def from neutron_lib.db import resource_extend resource_extend.apply_funcs(qos_def.POLICIES, _dict, self.db_obj)", # TODO(hichihara): For tag mechanism. This will be removed in bug/1704137 try: _dict['tags'] = [t.tag for t in self.db_obj.standard_attr.tags] except AttributeError: # AttrtibuteError can be raised when accessing self.db_obj # or self.db_obj.standard_attr pass,10,24
openstack%2Fopenstack-ansible-os_mistral~master~I8783b13c19c876c31ece8038c8d4763d69efcc46,openstack/openstack-ansible-os_mistral,master,I8783b13c19c876c31ece8038c8d4763d69efcc46,[reno] Stop publishing release notes,MERGED,2021-01-22 16:26:45.000000000,2021-01-26 18:52:44.000000000,2021-01-26 18:26:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:26:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/a9aa0941154e7675bda62e8eb5b42d0c82250e30', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I8783b13c19c876c31ece8038c8d4763d69efcc46'}]",0,772038,a9aa0941154e7675bda62e8eb5b42d0c82250e30,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I8783b13c19c876c31ece8038c8d4763d69efcc46",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/38/772038/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a9aa0941154e7675bda62e8eb5b42d0c82250e30,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_blazar~master~I8d9b29e345501f7a2475b43144d98169c553e1db,openstack/openstack-ansible-os_blazar,master,I8d9b29e345501f7a2475b43144d98169c553e1db,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:33.000000000,2021-01-26 18:52:33.000000000,2021-01-26 18:26:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:24:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/1c24c1ab9e41ca3f0e49505dc4629392e5c025e4', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I8d9b29e345501f7a2475b43144d98169c553e1db'}]",0,772021,1c24c1ab9e41ca3f0e49505dc4629392e5c025e4,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I8d9b29e345501f7a2475b43144d98169c553e1db",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/21/772021/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1c24c1ab9e41ca3f0e49505dc4629392e5c025e4,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_swift~master~Icd059fb0ec832e8b7b4e6f9a671b11959b6bda26,openstack/openstack-ansible-os_swift,master,Icd059fb0ec832e8b7b4e6f9a671b11959b6bda26,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:59.000000000,2021-01-26 18:52:15.000000000,2021-01-26 18:26:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:27:59.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/7db0e432694df354a9a57226c4807f6aedc72a6f', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Icd059fb0ec832e8b7b4e6f9a671b11959b6bda26'}]",0,772049,7db0e432694df354a9a57226c4807f6aedc72a6f,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Icd059fb0ec832e8b7b4e6f9a671b11959b6bda26",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/49/772049/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7db0e432694df354a9a57226c4807f6aedc72a6f,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_glance~master~I2687550dab90dc928a3bcfaa3003af82eb03ac8a,openstack/openstack-ansible-os_glance,master,I2687550dab90dc928a3bcfaa3003af82eb03ac8a,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:24.000000000,2021-01-26 18:52:13.000000000,2021-01-26 18:26:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ab46154a2557dc5812a3c6613a0eebcb6df21cc3', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I2687550dab90dc928a3bcfaa3003af82eb03ac8a'}]",0,772028,ab46154a2557dc5812a3c6613a0eebcb6df21cc3,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I2687550dab90dc928a3bcfaa3003af82eb03ac8a",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/28/772028/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ab46154a2557dc5812a3c6613a0eebcb6df21cc3,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fansible-role-systemd_networkd~master~Ic79a437ec219d99a60a0e3af2633d93bc4314779,openstack/ansible-role-systemd_networkd,master,Ic79a437ec219d99a60a0e3af2633d93bc4314779,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:04.000000000,2021-01-26 18:52:11.000000000,2021-01-26 18:26:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/5b327a5ca531999b1409edabf542dfdaab9b36ce', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ic79a437ec219d99a60a0e3af2633d93bc4314779'}]",0,772005,5b327a5ca531999b1409edabf542dfdaab9b36ce,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ic79a437ec219d99a60a0e3af2633d93bc4314779",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/05/772005/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5b327a5ca531999b1409edabf542dfdaab9b36ce,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_rally~master~Ib38533c7d6cd16df06a55fb704ca8683cabc8972,openstack/openstack-ansible-os_rally,master,Ib38533c7d6cd16df06a55fb704ca8683cabc8972,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:32.000000000,2021-01-26 18:46:38.000000000,2021-01-26 18:20:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:27:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/ac46d02e852a2aa232dbf7aa65a802a65cef1ca8', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ib38533c7d6cd16df06a55fb704ca8683cabc8972'}]",0,772045,ac46d02e852a2aa232dbf7aa65a802a65cef1ca8,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ib38533c7d6cd16df06a55fb704ca8683cabc8972",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/45/772045/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ac46d02e852a2aa232dbf7aa65a802a65cef1ca8,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-rsyslog_client~master~I24ec156c4b6d06542c16c61c658c6f0effacfee9,openstack/openstack-ansible-rsyslog_client,master,I24ec156c4b6d06542c16c61c658c6f0effacfee9,[reno] Stop publishing release notes,MERGED,2021-01-22 16:29:08.000000000,2021-01-26 18:46:37.000000000,2021-01-26 18:20:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:29:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/06593fb6eeab700f47b3ea2ada6ab43531794a7d', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I24ec156c4b6d06542c16c61c658c6f0effacfee9'}]",0,772057,06593fb6eeab700f47b3ea2ada6ab43531794a7d,11,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I24ec156c4b6d06542c16c61c658c6f0effacfee9",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/57/772057/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,06593fb6eeab700f47b3ea2ada6ab43531794a7d,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-galera_server~master~Ie6ec30dbd51f1344a98578c79dc1f03e99b78e15,openstack/openstack-ansible-galera_server,master,Ie6ec30dbd51f1344a98578c79dc1f03e99b78e15,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:23.000000000,2021-01-26 18:46:33.000000000,2021-01-26 18:19:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/f454b0b2f520c9cbdc1953764d29a16039d99f32', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ie6ec30dbd51f1344a98578c79dc1f03e99b78e15'}]",0,772012,f454b0b2f520c9cbdc1953764d29a16039d99f32,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ie6ec30dbd51f1344a98578c79dc1f03e99b78e15",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/12/772012/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f454b0b2f520c9cbdc1953764d29a16039d99f32,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-repo_server~master~Icd69125b861d292bfdbfca264e3867e4acf9b469,openstack/openstack-ansible-repo_server,master,Icd69125b861d292bfdbfca264e3867e4acf9b469,[reno] Stop publishing release notes,MERGED,2021-01-22 16:28:48.000000000,2021-01-26 18:46:20.000000000,2021-01-26 18:20:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:28:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/46c4b8e1045b2bb1d01849ed80247541e31b87d9', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Icd69125b861d292bfdbfca264e3867e4acf9b469'}]",0,772056,46c4b8e1045b2bb1d01849ed80247541e31b87d9,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Icd69125b861d292bfdbfca264e3867e4acf9b469",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/56/772056/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,46c4b8e1045b2bb1d01849ed80247541e31b87d9,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_masakari~master~I54e19c08c879665c1ed55541942fe2951d63f862,openstack/openstack-ansible-os_masakari,master,I54e19c08c879665c1ed55541942fe2951d63f862,[reno] Stop publishing release notes,MERGED,2021-01-22 16:26:33.000000000,2021-01-26 18:46:19.000000000,2021-01-26 18:19:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:26:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/962172b58b11a77f062e7e69e222d907d43de40a', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I54e19c08c879665c1ed55541942fe2951d63f862'}]",0,772037,962172b58b11a77f062e7e69e222d907d43de40a,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I54e19c08c879665c1ed55541942fe2951d63f862",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/37/772037/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,962172b58b11a77f062e7e69e222d907d43de40a,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fkolla~stable%2Ftrain~Ie54703e6ecf6a3332ef6f769fa500091068ea155,openstack/kolla,stable/train,Ie54703e6ecf6a3332ef6f769fa500091068ea155,Bump prometheus-openstack-exporter version to 1.3.0,MERGED,2021-01-11 09:12:20.000000000,2021-01-26 18:46:17.000000000,2021-01-26 18:19:32.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-11 09:12:20.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d26a05787d01f719aff653827949ff09fcb406a0', 'message': 'Bump prometheus-openstack-exporter version to 1.3.0\n\nChange-Id: Ie54703e6ecf6a3332ef6f769fa500091068ea155\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,770076,d26a05787d01f719aff653827949ff09fcb406a0,15,6,1,22629,,,0,"Bump prometheus-openstack-exporter version to 1.3.0

Change-Id: Ie54703e6ecf6a3332ef6f769fa500091068ea155
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/76/770076/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,d26a05787d01f719aff653827949ff09fcb406a0,,ENV prometheus_openstack_exporter_version=1.3.0,ENV prometheus_openstack_exporter_version=1.1.0,1,1
openstack%2Fopenstack-ansible-os_placement~master~I6b2d4f0cb4686e1606b8f6256e0dbd501c688cf3,openstack/openstack-ansible-os_placement,master,I6b2d4f0cb4686e1606b8f6256e0dbd501c688cf3,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:25.000000000,2021-01-26 18:40:26.000000000,2021-01-26 18:13:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:27:25.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/fb5101f7ea340065b36c5bc8ab6b5748e3a5fd7f', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I6b2d4f0cb4686e1606b8f6256e0dbd501c688cf3'}]",0,772044,fb5101f7ea340065b36c5bc8ab6b5748e3a5fd7f,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I6b2d4f0cb4686e1606b8f6256e0dbd501c688cf3",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/44/772044/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fb5101f7ea340065b36c5bc8ab6b5748e3a5fd7f,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibb2642a981101d7a6a4cfce06d20b478190a4cd3,openstack/tripleo-ansible,stable/train,Ibb2642a981101d7a6a4cfce06d20b478190a4cd3,Ensure tuned_custom_profile is used for tuned role,MERGED,2020-12-10 03:50:22.000000000,2021-01-26 18:40:00.000000000,2021-01-26 18:40:00.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-10 03:50:22.000000000', 'files': ['tripleo_ansible/roles/tuned/tasks/tuned_config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0591e9e638bf8e3299d51c6f8d1047fd840ac594', 'message': 'Ensure tuned_custom_profile is used for tuned role\n\nThe role currently uses custom_profile which is undefined.\nRename custom_profile to tuned_custom_profile so that an\noperator can actually use custom tuned profiles.\n\nChange-Id: Ibb2642a981101d7a6a4cfce06d20b478190a4cd3\n(cherry picked from commit a7908e624ef6569979bd69c1d3c87d22a070599f)\n'}]",0,766417,0591e9e638bf8e3299d51c6f8d1047fd840ac594,25,6,1,29268,,,0,"Ensure tuned_custom_profile is used for tuned role

The role currently uses custom_profile which is undefined.
Rename custom_profile to tuned_custom_profile so that an
operator can actually use custom tuned profiles.

Change-Id: Ibb2642a981101d7a6a4cfce06d20b478190a4cd3
(cherry picked from commit a7908e624ef6569979bd69c1d3c87d22a070599f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/766417/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tuned/tasks/tuned_config.yml'],1,0591e9e638bf8e3299d51c6f8d1047fd840ac594,," - (tuned_custom_profile is defined) and ((tuned_custom_profile | length) > 0) content: ""{{ tuned_custom_profile }}"" - (tuned_custom_profile is defined) and ((tuned_custom_profile | length) > 0)"," - (custom_profile is defined) and ((custom_profile | length) > 0) content: ""{{ custom_profile }}"" - (custom_profile is defined) and ((custom_profile | length) > 0)",3,3
openstack%2Fopenstack-ansible-rabbitmq_server~master~I27f0676a07ed7876ed91f588c3a17a15eddb4e96,openstack/openstack-ansible-rabbitmq_server,master,I27f0676a07ed7876ed91f588c3a17a15eddb4e96,[reno] Stop publishing release notes,MERGED,2021-01-22 16:28:44.000000000,2021-01-26 18:33:24.000000000,2021-01-26 18:11:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:28:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/38abc1d9543659cbabd7768e78796eb376e86016', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I27f0676a07ed7876ed91f588c3a17a15eddb4e96'}]",0,772055,38abc1d9543659cbabd7768e78796eb376e86016,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I27f0676a07ed7876ed91f588c3a17a15eddb4e96",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/55/772055/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,38abc1d9543659cbabd7768e78796eb376e86016,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~Ife37fe62aea5ce131c106a2f1708a727341bc2f4,openstack/openstack-ansible-rsyslog_client,stable/victoria,Ife37fe62aea5ce131c106a2f1708a727341bc2f4,Remove examples for variables which no longer exist,MERGED,2021-01-25 08:34:53.000000000,2021-01-26 18:33:03.000000000,2021-01-26 18:12:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 08:34:53.000000000', 'files': ['vars/ubuntu-20.04.yml', 'vars/debian-10.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/c8f14c875e1a67ddbba959895ada70605c651179', 'message': 'Remove examples for variables which no longer exist\n\nSee I113c9803495f2a935b99f272c387a4304a149cbf\n\nChange-Id: Ife37fe62aea5ce131c106a2f1708a727341bc2f4\n(cherry picked from commit 271be6c8d93aed12bb5e77119573144a64122c61)\n'}]",0,772223,c8f14c875e1a67ddbba959895ada70605c651179,8,3,1,25023,,,0,"Remove examples for variables which no longer exist

See I113c9803495f2a935b99f272c387a4304a149cbf

Change-Id: Ife37fe62aea5ce131c106a2f1708a727341bc2f4
(cherry picked from commit 271be6c8d93aed12bb5e77119573144a64122c61)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/23/772223/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-10.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml']",3,c8f14c875e1a67ddbba959895ada70605c651179,,,"# Example override to specify which repo the packages should come from # rsyslog_client_repos: # - { repo: ""ppa:adiscon/v8-stable"", state: ""present"" } ",0,12
openstack%2Fopenstack-ansible-os_keystone~master~Ic9fc2de8ca4cd8a3dc89ce8b9f4eda4bf30594ae,openstack/openstack-ansible-os_keystone,master,Ic9fc2de8ca4cd8a3dc89ce8b9f4eda4bf30594ae,[reno] Stop publishing release notes,MERGED,2021-01-22 16:26:21.000000000,2021-01-26 18:33:02.000000000,2021-01-26 18:11:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:26:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c0448282ef034206256aef80d49082a42aac6bf7', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ic9fc2de8ca4cd8a3dc89ce8b9f4eda4bf30594ae'}]",0,772034,c0448282ef034206256aef80d49082a42aac6bf7,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ic9fc2de8ca4cd8a3dc89ce8b9f4eda4bf30594ae",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/34/772034/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c0448282ef034206256aef80d49082a42aac6bf7,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_heat~master~I83771f521cfd6cd485983259de2d41444b7207b2,openstack/openstack-ansible-os_heat,master,I83771f521cfd6cd485983259de2d41444b7207b2,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:37.000000000,2021-01-26 18:20:30.000000000,2021-01-26 18:04:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:37.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/fa3498e656546594bf5eb5436ddb0896b9df73fd', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I83771f521cfd6cd485983259de2d41444b7207b2'}]",0,772031,fa3498e656546594bf5eb5436ddb0896b9df73fd,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I83771f521cfd6cd485983259de2d41444b7207b2",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/31/772031/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fa3498e656546594bf5eb5436ddb0896b9df73fd,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-openstack_openrc~master~I31d20acb1f2b76fa333cc1a7c62458638c42f401,openstack/openstack-ansible-openstack_openrc,master,I31d20acb1f2b76fa333cc1a7c62458638c42f401,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:14.000000000,2021-01-26 18:20:18.000000000,2021-01-26 18:04:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:24:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/b5b040dcc66730803b6d2700157937e1f5561a8d', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I31d20acb1f2b76fa333cc1a7c62458638c42f401'}]",0,772019,b5b040dcc66730803b6d2700157937e1f5561a8d,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I31d20acb1f2b76fa333cc1a7c62458638c42f401",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/19/772019/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b5b040dcc66730803b6d2700157937e1f5561a8d,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Ftripleo-quickstart-extras~master~I162d2f79ab986ae91da93007cf233277d5a1fa03,openstack/tripleo-quickstart-extras,master,I162d2f79ab986ae91da93007cf233277d5a1fa03,Don't upgrade pip in overcloud containers,ABANDONED,2021-01-26 14:00:25.000000000,2021-01-26 18:20:10.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 14:00:25.000000000', 'files': ['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b2c443d479fc55870184b98ebf06df6ff9742ef', 'message': ""Don't upgrade pip in overcloud containers\n\nLatest Pip conflicts with Python 2. Don't upgrade one we have on\nthe host.\n\nCloses-Bug: #1913279\nChange-Id: I162d2f79ab986ae91da93007cf233277d5a1fa03\n""}]",0,772528,9b2c443d479fc55870184b98ebf06df6ff9742ef,3,4,1,10969,,,0,"Don't upgrade pip in overcloud containers

Latest Pip conflicts with Python 2. Don't upgrade one we have on
the host.

Closes-Bug: #1913279
Change-Id: I162d2f79ab986ae91da93007cf233277d5a1fa03
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/28/772528/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'],1,9b2c443d479fc55870184b98ebf06df6ff9742ef,,, - name: Update pip # noqa 403 pip: name: pip state: latest extra_args: --upgrade become: true ,0,8
openstack%2Fopenstack-ansible-memcached_server~master~Ic259a958c6cbbc97028b66abae8e805c4cf54eb3,openstack/openstack-ansible-memcached_server,master,Ic259a958c6cbbc97028b66abae8e805c4cf54eb3,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:36.000000000,2021-01-26 18:12:33.000000000,2021-01-26 17:58:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/ef259f76f5d2ac7ed9b12e6347ab1050662fad17', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ic259a958c6cbbc97028b66abae8e805c4cf54eb3'}]",0,772015,ef259f76f5d2ac7ed9b12e6347ab1050662fad17,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ic259a958c6cbbc97028b66abae8e805c4cf54eb3",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/15/772015/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ef259f76f5d2ac7ed9b12e6347ab1050662fad17,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fansible-role-python_venv_build~master~I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281,openstack/ansible-role-python_venv_build,master,I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281,Replace pip requirement source specs with the package name for built wheels,MERGED,2021-01-18 12:46:42.000000000,2021-01-26 17:49:14.000000000,2021-01-26 17:47:12.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-18 12:46:42.000000000', 'files': ['tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/d896c01c52d311b0cae54aac1c8ac4624fd2cfcb', 'message': ""Replace pip requirement source specs with the package name for built wheels\n\nWhen wheels are built from source, the repo server wheel build requirements\nwill have an input of the form git+https://example.com/foo.git@branch#egg=foo.\nThe wheel build will result in a wheel with a version like 1.2.3dev4.\n\nWhen installing the built wheel into the venv we must switch the source\nspec in the requirements from the original git repo to just the\npackage name 'foo', as the constraints file generated from the wheel\nbuild will specify the exact version of the built wheel 'foo==1.2.3dev4'.\n\nThe new pip resolver will not accept there being a source spec in the\ninput requirements as well as a contradictory constraint from the wheel\nbuild output, this results in an error from pip.\n\nChange-Id: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281\n""}]",0,771195,d896c01c52d311b0cae54aac1c8ac4624fd2cfcb,13,5,1,25023,,,0,"Replace pip requirement source specs with the package name for built wheels

When wheels are built from source, the repo server wheel build requirements
will have an input of the form git+https://example.com/foo.git@branch#egg=foo.
The wheel build will result in a wheel with a version like 1.2.3dev4.

When installing the built wheel into the venv we must switch the source
spec in the requirements from the original git repo to just the
package name 'foo', as the constraints file generated from the wheel
build will specify the exact version of the built wheel 'foo==1.2.3dev4'.

The new pip resolver will not accept there being a source spec in the
input requirements as well as a contradictory constraint from the wheel
build output, this results in an error from pip.

Change-Id: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/95/771195/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_install.yml'],1,d896c01c52d311b0cae54aac1c8ac4624fd2cfcb,osa-new-pip,"# Note(jrosser) # If the constraints file from the wheel build has been previously collected # then we must remove any git+... requirements from the input packages list # and replace them with the package name. The slurped constraints file will # contain the built version in the form foo=1.2.3dev4, and the requirements # file must just specify 'foo'. - name: Create the requirements file contents set_fact: _venv_install_pip_packages: | {% if (venv_wheel_build_enable | bool) and (_constraints_file_slurp is defined) and (_constraints_file_slurp.content is defined) %} {% set _newlist = [] %} {% for item in _venv_pip_packages %} {% set _x = _newlist.append(item.split('egg=')[-1]) %} {% endfor %} {{ _newlist }} {% else %} {{ _venv_pip_packages }} {% endif %} {% for item in _venv_install_pip_packages %} name: ""{{ _venv_install_pip_packages }}"""," {% for item in _venv_pip_packages %} name: ""{{ _venv_pip_packages }}""",23,2
openstack%2Fkeystone~master~I30d013349f80c8e74c99ea8945346f8ef6ea58f1,openstack/keystone,master,I30d013349f80c8e74c99ea8945346f8ef6ea58f1,Don't error on deprecation warnings,ABANDONED,2021-01-26 15:56:00.000000000,2021-01-26 17:35:21.000000000,,[{'_account_id': 6928}],"[{'number': 1, 'created': '2021-01-26 15:56:00.000000000', 'files': ['keystone/tests/unit/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b010b77e11bc9fcc6af2d82747ac06d871a5f22f', 'message': ""Don't error on deprecation warnings\n\noslo.db 8.5.0 deprecates sqlalchemy-migrate in favor of using\nalembic. Keystone doesn't support alembic yet, and since this\ndeprecation warning is causing unit tests to fail, this change\nstops treating deprecation warnings as errors until we have\nsuccesfully migrated. [0]\n\n[0]. http://eavesdrop.openstack.org/meetings/keystone/2021/keystone.2021-01-19-16.58.log.html#l-67\n\nChange-Id: I30d013349f80c8e74c99ea8945346f8ef6ea58f1\n""}]",0,772566,b010b77e11bc9fcc6af2d82747ac06d871a5f22f,6,1,1,16465,,,0,"Don't error on deprecation warnings

oslo.db 8.5.0 deprecates sqlalchemy-migrate in favor of using
alembic. Keystone doesn't support alembic yet, and since this
deprecation warning is causing unit tests to fail, this change
stops treating deprecation warnings as errors until we have
succesfully migrated. [0]

[0]. http://eavesdrop.openstack.org/meetings/keystone/2021/keystone.2021-01-19-16.58.log.html#l-67

Change-Id: I30d013349f80c8e74c99ea8945346f8ef6ea58f1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/772566/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/core.py'],1,b010b77e11bc9fcc6af2d82747ac06d871a5f22f,deprecation_warn_as_error,," warnings.filterwarnings('error', category=DeprecationWarning, module='^keystone\\.')",0,2
openstack%2Fopenstack-ansible~master~I3f139e71f2054a19a577a60980574177be0da4bd,openstack/openstack-ansible,master,I3f139e71f2054a19a577a60980574177be0da4bd,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2020-12-03 05:48:15.000000000,2021-01-26 17:32:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-03 05:48:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3333f01fe1059082aa4839a36579f3d5cddd4d3e', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nChange-Id: I3f139e71f2054a19a577a60980574177be0da4bd\n'}]",0,765239,3333f01fe1059082aa4839a36579f3d5cddd4d3e,3,1,1,30384,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

Change-Id: I3f139e71f2054a19a577a60980574177be0da4bd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/765239/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3333f01fe1059082aa4839a36579f3d5cddd4d3e,, pip install -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_sahara~master~I479b386cb39005f8779533e6bec5b6d2d083a41c,openstack/openstack-ansible-os_sahara,master,I479b386cb39005f8779533e6bec5b6d2d083a41c,Add Victoria release info,ABANDONED,2020-12-29 02:13:03.000000000,2021-01-26 17:31:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:13:03.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/47c4d24a3876d50a8e3fdef2558959749c3e8397', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I479b386cb39005f8779533e6bec5b6d2d083a41c\n'}]",0,768624,47c4d24a3876d50a8e3fdef2558959749c3e8397,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I479b386cb39005f8779533e6bec5b6d2d083a41c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/24/768624/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,47c4d24a3876d50a8e3fdef2558959749c3e8397,, victoria,,7,0
openstack%2Fopenstack-ansible-os_rally~master~Ife08c88122dd19e1898ac31c3f2554ab6450804f,openstack/openstack-ansible-os_rally,master,Ife08c88122dd19e1898ac31c3f2554ab6450804f,Add Victoria release info,ABANDONED,2020-12-29 02:16:37.000000000,2021-01-26 17:31:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:16:37.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/af962b0568441fee75370759e2162ab6a55f7ec2', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ife08c88122dd19e1898ac31c3f2554ab6450804f\n'}]",0,768626,af962b0568441fee75370759e2162ab6a55f7ec2,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ife08c88122dd19e1898ac31c3f2554ab6450804f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/26/768626/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,af962b0568441fee75370759e2162ab6a55f7ec2,, victoria,,7,0
openstack%2Fopenstack-ansible-os_ceilometer~master~Ib21500422924929ef27b1d35b6654eee5d2e5dd3,openstack/openstack-ansible-os_ceilometer,master,Ib21500422924929ef27b1d35b6654eee5d2e5dd3,Add Victoria release info,ABANDONED,2020-12-29 02:25:59.000000000,2021-01-26 17:31:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:25:59.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/1f9f18c1143cb2f16daa433224f83aa677e06daa', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ib21500422924929ef27b1d35b6654eee5d2e5dd3\n'}]",0,768633,1f9f18c1143cb2f16daa433224f83aa677e06daa,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ib21500422924929ef27b1d35b6654eee5d2e5dd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/33/768633/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,1f9f18c1143cb2f16daa433224f83aa677e06daa,, victoria,,7,0
openstack%2Fopenstack-ansible-os_panko~master~I66db54ded81cd423c861f38a88fae34ba2982a81,openstack/openstack-ansible-os_panko,master,I66db54ded81cd423c861f38a88fae34ba2982a81,Add Victoria release info,ABANDONED,2020-12-29 02:20:23.000000000,2021-01-26 17:30:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:20:23.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/b5a71e398214dcbfd2981b986cdddcf4828d4425', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I66db54ded81cd423c861f38a88fae34ba2982a81\n'}]",0,768628,b5a71e398214dcbfd2981b986cdddcf4828d4425,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I66db54ded81cd423c861f38a88fae34ba2982a81
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/28/768628/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,b5a71e398214dcbfd2981b986cdddcf4828d4425,, victoria,,7,0
openstack%2Fcharm-guide~master~Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc,openstack/charm-guide,master,Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc,Rework Trilio,MERGED,2021-01-26 13:55:56.000000000,2021-01-26 17:30:54.000000000,2021-01-26 17:26:28.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-26 13:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/cfc98d85a868be0f601f6e97364300119ca69fb4', 'message': 'Rework Trilio\n\nRemove Trilio sections as the Trilio charms are not going to be\nreleased with 21.01. Add note mentioning the change to Trilio release\ncycle.\n\nChange-Id: Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc\n'}, {'number': 2, 'created': '2021-01-26 13:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d48210dd00c836b358d87cf267f5f98013a4cfe5', 'message': 'Rework Trilio\n\nRemove Trilio sections as the Trilio charms are not going to be\nreleased with 21.01. Add note mentioning the change to Trilio release\ncycle.\n\nChange-Id: Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc\n'}, {'number': 3, 'created': '2021-01-26 15:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/40db0b39f1ea0687b8d6f58c862d91328eb5da3b', 'message': 'Rework Trilio\n\nRemove Trilio sections as the Trilio charms are not going to be\nreleased with 21.01. Add note mentioning the change to Trilio release\ncycle.\n\nChange-Id: Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc\n'}, {'number': 4, 'created': '2021-01-26 15:54:39.000000000', 'files': ['doc/source/2101.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1a2523cc6ef63e0ab9fe7abb89c3c64987d8d301', 'message': 'Rework Trilio\n\nRemove Trilio sections as the Trilio charms are not going to be\nreleased with 21.01. Add note mentioning the change to Trilio release\ncycle.\n\nChange-Id: Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc\n'}]",0,772524,1a2523cc6ef63e0ab9fe7abb89c3c64987d8d301,12,2,4,12549,,,0,"Rework Trilio

Remove Trilio sections as the Trilio charms are not going to be
released with 21.01. Add note mentioning the change to Trilio release
cycle.

Change-Id: Id4216c66c98ba2e1e0b1eb07e4be305567f6fadc
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/24/772524/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2101.rst'],1,cfc98d85a868be0f601f6e97364300119ca69fb4,remove-trilio,"Trilio Charms ~~~~~~~~~~~~~ Trilio charms will no longer be released with the same cadance as the other OpenStack charms. Instead, they will be released shortly after releases of the Trilio code. The next Trilio charm release is expected March 2021 and will contain support for Trilio 4.1. ",TrilioVault Data Mover charm upgrade ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ For deployments using prior versions of the trilio-data-mover charm (as provided by Trilio) the relation between the trilio-data-mover charm and rabbitmq-server must be removed and re-added to ensure that specific access for the data-mover service is provided for RabbitMQ. .. code-block:: none juju remove-relation trilio-data-mover rabbitmq-server juju add-relation trilio-data-mover rabbitmq-server TrilioVault File Recovery Manager ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Mounting snapshots using the File Recovery Manager appliance fails due to permissions errors encountered during the libvirt/qemu snapshot mount process on compute nodes. See bug `LP #1888389`_ for details. ,8,20
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ia42d7d9573aabb59e25c6cdc20fad03b4df4b4a9,openstack/openstack-ansible-os_cloudkitty,master,Ia42d7d9573aabb59e25c6cdc20fad03b4df4b4a9,Add Victoria release info,ABANDONED,2020-12-29 02:34:21.000000000,2021-01-26 17:30:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:34:21.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/32b687972585754c2f25eb5de7c48c513b368689', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ia42d7d9573aabb59e25c6cdc20fad03b4df4b4a9\n'}]",0,768636,32b687972585754c2f25eb5de7c48c513b368689,3,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ia42d7d9573aabb59e25c6cdc20fad03b4df4b4a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/36/768636/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,32b687972585754c2f25eb5de7c48c513b368689,, victoria,,7,0
openstack%2Fopenstack-ansible-os_gnocchi~master~Ia77d0b485dbcae7ac53c3dcb7e37c3ddac066906,openstack/openstack-ansible-os_gnocchi,master,Ia77d0b485dbcae7ac53c3dcb7e37c3ddac066906,Add Victoria release info,ABANDONED,2020-12-29 03:12:27.000000000,2021-01-26 17:30:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 03:12:27.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/4d69e7e3328f3ca360d34a8a22862bce0da2da92', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ia77d0b485dbcae7ac53c3dcb7e37c3ddac066906\n'}]",0,768659,4d69e7e3328f3ca360d34a8a22862bce0da2da92,3,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ia77d0b485dbcae7ac53c3dcb7e37c3ddac066906
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/59/768659/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,4d69e7e3328f3ca360d34a8a22862bce0da2da92,, victoria,,7,0
openstack%2Fopenstack-ansible-os_mistral~master~I64d74fff62caa5e5429b1a135ee4d78df094fe26,openstack/openstack-ansible-os_mistral,master,I64d74fff62caa5e5429b1a135ee4d78df094fe26,Add Victoria release info,ABANDONED,2020-12-29 05:49:18.000000000,2021-01-26 17:29:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 05:49:18.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/c70699ab5c0ea4c48c07416422a5e55a2320f416', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I64d74fff62caa5e5429b1a135ee4d78df094fe26\n'}]",0,768663,c70699ab5c0ea4c48c07416422a5e55a2320f416,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I64d74fff62caa5e5429b1a135ee4d78df094fe26
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/63/768663/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,c70699ab5c0ea4c48c07416422a5e55a2320f416,, victoria,,7,0
openstack%2Fopenstack-ansible-tests~master~Ie904f147076463309c05faeb1dcef1677432a7e1,openstack/openstack-ansible-tests,master,Ie904f147076463309c05faeb1dcef1677432a7e1,[reno] Stop publishing release notes,MERGED,2021-01-22 16:29:34.000000000,2021-01-26 17:29:58.000000000,2021-01-26 17:19:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:29:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f84c545d90ba28413a1ea2578c9d89e44486e5c2', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ie904f147076463309c05faeb1dcef1677432a7e1'}]",0,772060,f84c545d90ba28413a1ea2578c9d89e44486e5c2,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ie904f147076463309c05faeb1dcef1677432a7e1",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/60/772060/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f84c545d90ba28413a1ea2578c9d89e44486e5c2,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_manila~master~I658656015aa5569075e36383201bb9dfaffe65d2,openstack/openstack-ansible-os_manila,master,I658656015aa5569075e36383201bb9dfaffe65d2,Add Victoria release info,ABANDONED,2020-12-29 02:43:00.000000000,2021-01-26 17:29:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:43:00.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/d4cf3b9fafe7330fa3c7229bae4d10a79290ff40', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I658656015aa5569075e36383201bb9dfaffe65d2\n'}]",0,768642,d4cf3b9fafe7330fa3c7229bae4d10a79290ff40,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I658656015aa5569075e36383201bb9dfaffe65d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/42/768642/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,d4cf3b9fafe7330fa3c7229bae4d10a79290ff40,, victoria,,7,0
openstack%2Fopenstack-ansible-os_zun~master~I2bb7befc2dbf054acc1aa7b75a74969caf1a7515,openstack/openstack-ansible-os_zun,master,I2bb7befc2dbf054acc1aa7b75a74969caf1a7515,Add Victoria release info,ABANDONED,2020-12-29 02:45:19.000000000,2021-01-26 17:29:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:45:19.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/1e7c320b00764f90ebb71224653cd771f021e3b5', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I2bb7befc2dbf054acc1aa7b75a74969caf1a7515\n'}]",0,768644,1e7c320b00764f90ebb71224653cd771f021e3b5,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I2bb7befc2dbf054acc1aa7b75a74969caf1a7515
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/44/768644/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,1e7c320b00764f90ebb71224653cd771f021e3b5,, victoria,,7,0
openstack%2Fopenstack-ansible-os_nova~master~I778fdcf584d843e79e0c3b1bbcbb459eefbf1537,openstack/openstack-ansible-os_nova,master,I778fdcf584d843e79e0c3b1bbcbb459eefbf1537,Add Victoria release info,ABANDONED,2020-12-29 02:18:59.000000000,2021-01-26 17:29:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/defad40d1343c671922310c51ce6e15d058eda29', 'message': 'Add Victoria release info\n\nChange-Id: I778fdcf584d843e79e0c3b1bbcbb459eefbf1537\n'}, {'number': 2, 'created': '2020-12-29 02:37:28.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f68d6b5932fd0a65f225e6704a7e520e18bffa15', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I778fdcf584d843e79e0c3b1bbcbb459eefbf1537\n'}]",0,768627,f68d6b5932fd0a65f225e6704a7e520e18bffa15,5,1,2,31825,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I778fdcf584d843e79e0c3b1bbcbb459eefbf1537
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/27/768627/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,defad40d1343c671922310c51ce6e15d058eda29,, victoria,,7,0
openstack%2Fopenstack-ansible-os_tacker~master~Ia80eec4dae701325371c8d35b338d735d911080a,openstack/openstack-ansible-os_tacker,master,Ia80eec4dae701325371c8d35b338d735d911080a,Add Victoria release info,ABANDONED,2020-12-29 06:59:10.000000000,2021-01-26 17:28:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 06:59:10.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/2f4e56a2dfc680269e73c47d1a69545023ec7be7', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ia80eec4dae701325371c8d35b338d735d911080a\n'}]",0,768685,2f4e56a2dfc680269e73c47d1a69545023ec7be7,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ia80eec4dae701325371c8d35b338d735d911080a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/85/768685/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,2f4e56a2dfc680269e73c47d1a69545023ec7be7,, victoria,,7,0
openstack%2Fopenstack-ansible-os_placement~master~If0be05e2b43d6fee1dbca3e04a48bece0e72837e,openstack/openstack-ansible-os_placement,master,If0be05e2b43d6fee1dbca3e04a48bece0e72837e,Add Victoria release info,ABANDONED,2020-12-29 03:09:49.000000000,2021-01-26 17:28:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 03:09:49.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/2ab57e068ae65222c3269f06903e501ae6e5628f', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: If0be05e2b43d6fee1dbca3e04a48bece0e72837e\n'}]",0,768658,2ab57e068ae65222c3269f06903e501ae6e5628f,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: If0be05e2b43d6fee1dbca3e04a48bece0e72837e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/58/768658/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,2ab57e068ae65222c3269f06903e501ae6e5628f,, victoria,,7,0
openstack%2Fopenstack-ansible-os_tacker~master~Ibfc868b62f416e692f32e8b1d956f8951bb0e85b,openstack/openstack-ansible-os_tacker,master,Ibfc868b62f416e692f32e8b1d956f8951bb0e85b,Add Victoria release info,ABANDONED,2020-12-29 03:00:56.000000000,2021-01-26 17:27:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 03:00:56.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/e6aa700e2d14afd7c3186873792d68287daf1a79', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ibfc868b62f416e692f32e8b1d956f8951bb0e85b\n'}]",0,768654,e6aa700e2d14afd7c3186873792d68287daf1a79,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ibfc868b62f416e692f32e8b1d956f8951bb0e85b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/54/768654/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,e6aa700e2d14afd7c3186873792d68287daf1a79,, victoria,,7,0
openstack%2Fopenstack-ansible-os_trove~master~I1893d96b34bfb7b08ef825855f50c468ba087ec7,openstack/openstack-ansible-os_trove,master,I1893d96b34bfb7b08ef825855f50c468ba087ec7,Add Victoria release info,ABANDONED,2020-12-29 03:07:45.000000000,2021-01-26 17:26:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 03:07:45.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/738e19474ef885183e48fe8ad81d662645cb5e62', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I1893d96b34bfb7b08ef825855f50c468ba087ec7\n'}]",0,768657,738e19474ef885183e48fe8ad81d662645cb5e62,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I1893d96b34bfb7b08ef825855f50c468ba087ec7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/57/768657/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,738e19474ef885183e48fe8ad81d662645cb5e62,, victoria,,7,0
openstack%2Fopenstack-ansible-os_blazar~master~Ibc97f4850dff843c0926b8eefeffc0ba987b2d99,openstack/openstack-ansible-os_blazar,master,Ibc97f4850dff843c0926b8eefeffc0ba987b2d99,Add Victoria release info,ABANDONED,2020-12-29 02:49:03.000000000,2021-01-26 17:26:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:49:03.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/1353fcea725e318b91b1cc5d2866f01d1e12eaae', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ibc97f4850dff843c0926b8eefeffc0ba987b2d99\n'}]",0,768647,1353fcea725e318b91b1cc5d2866f01d1e12eaae,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ibc97f4850dff843c0926b8eefeffc0ba987b2d99
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/47/768647/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,1353fcea725e318b91b1cc5d2866f01d1e12eaae,, victoria,,7,0
openstack%2Fopenstack-ansible-os_cinder~master~I219a9f29f92d511eb773b115ff12976082ce2cfc,openstack/openstack-ansible-os_cinder,master,I219a9f29f92d511eb773b115ff12976082ce2cfc,Add Victoria release info,ABANDONED,2020-12-29 02:37:18.000000000,2021-01-26 17:25:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/7ebe981085de7fdb07942e85a8d748f928885cd4', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I219a9f29f92d511eb773b115ff12976082ce2cfc\n'}, {'number': 2, 'created': '2020-12-30 01:10:50.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/94b03c691c8a704c78e78c32f18794db3f3cbdd5', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I219a9f29f92d511eb773b115ff12976082ce2cfc\n'}]",0,768638,94b03c691c8a704c78e78c32f18794db3f3cbdd5,5,1,2,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I219a9f29f92d511eb773b115ff12976082ce2cfc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/38/768638/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,7ebe981085de7fdb07942e85a8d748f928885cd4,, victoria,,7,0
openstack%2Fopenstack-ansible-os_murano~master~I326118432aa72930ab78e6f86670e9ed621ce36a,openstack/openstack-ansible-os_murano,master,I326118432aa72930ab78e6f86670e9ed621ce36a,Add Victoria release info,ABANDONED,2021-01-02 01:15:16.000000000,2021-01-26 17:25:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-02 01:15:16.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/8cb52d6d0c280d93a8aa077ff1b5214094cdd300', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I326118432aa72930ab78e6f86670e9ed621ce36a\n'}]",0,768826,8cb52d6d0c280d93a8aa077ff1b5214094cdd300,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I326118432aa72930ab78e6f86670e9ed621ce36a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/26/768826/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,8cb52d6d0c280d93a8aa077ff1b5214094cdd300,, victoria,,7,0
openstack%2Fopenstack-ansible-os_designate~master~Iededfd2f9d28bdcb76e807806d76a2873d257529,openstack/openstack-ansible-os_designate,master,Iededfd2f9d28bdcb76e807806d76a2873d257529,Add Victoria release info,ABANDONED,2020-12-29 02:44:32.000000000,2021-01-26 17:24:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:44:32.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/27e8bd04308460dfb01de20d28c4792959ff7434', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Iededfd2f9d28bdcb76e807806d76a2873d257529\n'}]",0,768643,27e8bd04308460dfb01de20d28c4792959ff7434,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Iededfd2f9d28bdcb76e807806d76a2873d257529
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/43/768643/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,27e8bd04308460dfb01de20d28c4792959ff7434,, victoria,,7,0
openstack%2Fopenstack-ansible-os_aodh~master~I720872ba66001ed668714d411f19b3a94b5b90ea,openstack/openstack-ansible-os_aodh,master,I720872ba66001ed668714d411f19b3a94b5b90ea,Add Victoria release info,ABANDONED,2020-12-29 02:23:27.000000000,2021-01-26 17:24:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/71764a135613177d54b8ff19572d40be3d763f4c', 'message': 'Add Victoria release info\n\nChange-Id: I720872ba66001ed668714d411f19b3a94b5b90ea\n'}, {'number': 2, 'created': '2020-12-29 02:37:01.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/840cf01d1c0cdb05058a1489eca3a9aeb325f19f', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I720872ba66001ed668714d411f19b3a94b5b90ea\n'}]",0,768631,840cf01d1c0cdb05058a1489eca3a9aeb325f19f,10,1,2,31825,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I720872ba66001ed668714d411f19b3a94b5b90ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/31/768631/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,71764a135613177d54b8ff19572d40be3d763f4c,, victoria,,7,0
openstack%2Fopenstack-ansible-os_ironic~master~I9d9173b7e9c9995aab65311874f3a4e4b01c8dd0,openstack/openstack-ansible-os_ironic,master,I9d9173b7e9c9995aab65311874f3a4e4b01c8dd0,Add Victoria release info,ABANDONED,2020-12-29 03:05:22.000000000,2021-01-26 17:24:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 03:05:22.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/46353c07b6ad5f491f131780673e03b1b67641b4', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I9d9173b7e9c9995aab65311874f3a4e4b01c8dd0\n'}]",0,768655,46353c07b6ad5f491f131780673e03b1b67641b4,7,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I9d9173b7e9c9995aab65311874f3a4e4b01c8dd0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/55/768655/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,46353c07b6ad5f491f131780673e03b1b67641b4,, victoria,,7,0
openstack%2Fopenstack-ansible-os_keystone~master~Ia1460dc23c14fcbe5f29e8348c097a91a3cd7c46,openstack/openstack-ansible-os_keystone,master,Ia1460dc23c14fcbe5f29e8348c097a91a3cd7c46,Add Victoria release info,ABANDONED,2020-12-29 06:32:26.000000000,2021-01-26 17:24:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 06:32:26.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8f7583d0f618317cbb63c8235fc548fe854c363e', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ia1460dc23c14fcbe5f29e8348c097a91a3cd7c46\n'}]",0,768676,8f7583d0f618317cbb63c8235fc548fe854c363e,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ia1460dc23c14fcbe5f29e8348c097a91a3cd7c46
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/76/768676/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,8f7583d0f618317cbb63c8235fc548fe854c363e,, victoria,,7,0
openstack%2Fopenstack-ansible-os_glance~master~I7311bde86d641e5e6495c7069c705783e2a5ee87,openstack/openstack-ansible-os_glance,master,I7311bde86d641e5e6495c7069c705783e2a5ee87,Add Victoria release info,ABANDONED,2020-12-29 06:36:40.000000000,2021-01-26 17:24:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 06:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/660d1a9f35ba189eecf727ba2c9a5f734427fe2a', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I7311bde86d641e5e6495c7069c705783e2a5ee87\n'}, {'number': 2, 'created': '2020-12-30 01:02:26.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/e5529dc7d18e962e7c9244838b97cc23030b8fb5', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I7311bde86d641e5e6495c7069c705783e2a5ee87\n'}]",0,768678,e5529dc7d18e962e7c9244838b97cc23030b8fb5,5,1,2,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I7311bde86d641e5e6495c7069c705783e2a5ee87
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/78/768678/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,660d1a9f35ba189eecf727ba2c9a5f734427fe2a,, victoria,,7,0
openstack%2Fopenstack-ansible-os_tempest~master~Ibe90bab10cee7d056d1da512842a4fec471564b5,openstack/openstack-ansible-os_tempest,master,Ibe90bab10cee7d056d1da512842a4fec471564b5,Add Victoria release info,ABANDONED,2020-12-29 02:02:05.000000000,2021-01-26 17:23:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:02:05.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6f3258f215b4795629f10b0c8a1a24a3adda1d21', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ibe90bab10cee7d056d1da512842a4fec471564b5\n'}]",0,768618,6f3258f215b4795629f10b0c8a1a24a3adda1d21,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ibe90bab10cee7d056d1da512842a4fec471564b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/18/768618/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,6f3258f215b4795629f10b0c8a1a24a3adda1d21,, victoria,,7,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~I24c0eb9f4de8833d17dd728660c2a732884506b0,openstack/openstack-ansible-os_cloudkitty,master,I24c0eb9f4de8833d17dd728660c2a732884506b0,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:03.000000000,2021-01-26 17:18:59.000000000,2021-01-26 17:09:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e0116f1b7fc359182ff3cb37428b0cf282938239', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I24c0eb9f4de8833d17dd728660c2a732884506b0'}]",0,772026,e0116f1b7fc359182ff3cb37428b0cf282938239,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I24c0eb9f4de8833d17dd728660c2a732884506b0",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/26/772026/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e0116f1b7fc359182ff3cb37428b0cf282938239,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fkeystone~stable%2Fvictoria~I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82,openstack/keystone,stable/victoria,I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82,Delete system role assignments from system_assignment table,MERGED,2020-10-30 16:02:41.000000000,2021-01-26 17:15:51.000000000,2021-01-26 17:00:50.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-10-30 16:02:41.000000000', 'files': ['keystone/tests/unit/assignment/test_backends.py', 'keystone/assignment/backends/sql.py', 'releasenotes/notes/bug-1878938-70ee2af6fdf66004.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6f93063ff95f3c65af106a09281427e411d01850', 'message': 'Delete system role assignments from system_assignment table\n\nThis patch ensures to delete the system role assignments from\nall the assignment tables in keystone after deleting the role\nuser has over the system.\n\nThis also make sure of deleting stale role assignments before\ndeleting role for the deployments that are already in this state.\n\nCloses-Bug: #1878938\n\nChange-Id: I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82\n(cherry picked from commit c1dcbb05b4488f1fa3e7af4d9171d11702d94119)\n(cherry picked from commit b83170a386ba8da2195c7494d04d832ce9b6d7b0)\n'}]",0,760613,6f93063ff95f3c65af106a09281427e411d01850,10,6,1,5046,,,0,"Delete system role assignments from system_assignment table

This patch ensures to delete the system role assignments from
all the assignment tables in keystone after deleting the role
user has over the system.

This also make sure of deleting stale role assignments before
deleting role for the deployments that are already in this state.

Closes-Bug: #1878938

Change-Id: I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82
(cherry picked from commit c1dcbb05b4488f1fa3e7af4d9171d11702d94119)
(cherry picked from commit b83170a386ba8da2195c7494d04d832ce9b6d7b0)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/760613/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/assignment/test_backends.py', 'keystone/assignment/backends/sql.py', 'releasenotes/notes/bug-1878938-70ee2af6fdf66004.yaml']",3,6f93063ff95f3c65af106a09281427e411d01850,bug/1878938,"--- fixes: - | [`bug 1878938 <https://bugs.launchpad.net/keystone/+bug/1878938>`_] Previously when a user used to have system role assignment and tries to delete the same role, the system role assignments still existed in system_assignment table. This causes keystone to return `HTTP 404 Not Found` errors when listing role assignments with names (e.g., `--names` or `?include_names`). If you are affected by this bug, you must remove stale role assignments manually. The following is an example SQL statement you can use to fix the issue, but you should verify it's applicability to your deployment's SQL implementation and version. SQL: - delete from system_assignment where role_id not in (select id from role); ",,40,0
openstack%2Fansible-role-qdrouterd~master~I7f0d3c4232eba23f8a00f1f20696eb9f663efa56,openstack/ansible-role-qdrouterd,master,I7f0d3c4232eba23f8a00f1f20696eb9f663efa56,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:04.000000000,2021-01-26 17:09:23.000000000,2021-01-26 17:00:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/1c06fe38f0aaa251e50c321bdb2f7cb8c5391d17', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I7f0d3c4232eba23f8a00f1f20696eb9f663efa56'}]",0,772003,1c06fe38f0aaa251e50c321bdb2f7cb8c5391d17,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I7f0d3c4232eba23f8a00f1f20696eb9f663efa56",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/03/772003/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1c06fe38f0aaa251e50c321bdb2f7cb8c5391d17,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-lxc_container_create~master~Ibfedbf5cd264eac572fc51ec8a39974ce99d65d1,openstack/openstack-ansible-lxc_container_create,master,Ibfedbf5cd264eac572fc51ec8a39974ce99d65d1,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:29.000000000,2021-01-26 17:07:25.000000000,2021-01-26 16:53:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/ba3a69981a6e5106afe4ebb1ec620bf0a5b5d7ec', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ibfedbf5cd264eac572fc51ec8a39974ce99d65d1'}]",0,772013,ba3a69981a6e5106afe4ebb1ec620bf0a5b5d7ec,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Ibfedbf5cd264eac572fc51ec8a39974ce99d65d1",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/13/772013/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ba3a69981a6e5106afe4ebb1ec620bf0a5b5d7ec,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-helm~master~I857a67ce8c132095846c980e6090a463046da44b,openstack/openstack-helm,master,I857a67ce8c132095846c980e6090a463046da44b,chore(os): removes old releases,ABANDONED,2020-10-28 07:03:02.000000000,2021-01-26 17:01:17.000000000,,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-10-28 07:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00be8d4c20171064d26d6e06df36dfe7ecf42552', 'message': 'chore(os): removes old releases\n\nPer discussion from PTG [0], this patch set removes older and\nunsupported OpenStack releases from the zuul jobs.\n\n[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg\n\nChange-Id: I857a67ce8c132095846c980e6090a463046da44b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-10-28 07:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e36878a554229c6fcadf7066a81b2bc27299c4e7', 'message': 'chore(os): removes old releases\n\nPer discussion from PTG [0], this patch set removes older and\nunsupported OpenStack releases from the zuul jobs.\n\n[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg\n\nChange-Id: I857a67ce8c132095846c980e6090a463046da44b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-10-29 00:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd290a85a9cd55f93b482c90049aaced91263821', 'message': 'chore(os): removes old releases\n\nPer discussion from PTG [0], this patch set removes older and\nunsupported OpenStack releases from the zuul jobs.\n\n[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg\n\nChange-Id: I857a67ce8c132095846c980e6090a463046da44b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-10-29 00:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6cb7317659f6b2ca721da27354bf7f39f5bc721', 'message': 'chore(os): removes old releases\n\nPer discussion from PTG [0], this patch set removes older and\nunsupported OpenStack releases from the zuul jobs.\n\n[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg\n\nChange-Id: I857a67ce8c132095846c980e6090a463046da44b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-12-02 20:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6bf3c724b9a674e203805bb9d309e8b73a36a036', 'message': 'chore(os): removes old releases\n\nPer discussion from PTG [0], this patch set removes older and\nunsupported OpenStack releases from the zuul jobs.\n\n[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg\n\nChange-Id: I857a67ce8c132095846c980e6090a463046da44b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2020-12-08 15:36:16.000000000', 'files': ['aodh/Chart.yaml', 'mistral/Chart.yaml', 'heat/Chart.yaml', 'senlin/Chart.yaml', 'horizon/Chart.yaml', 'rally/Chart.yaml', 'ironic/Chart.yaml', 'neutron/Chart.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/Chart.yaml', 'glance/Chart.yaml', 'magnum/Chart.yaml', 'tempest/Chart.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'octavia/Chart.yaml', 'zuul.d/project.yaml', 'designate/Chart.yaml', 'ceilometer/Chart.yaml', 'panko/Chart.yaml', 'keystone/Chart.yaml', 'releasenotes/notes/release-1.x-965123aa8e4cb1c9.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d4fa5ee3ea813ad9b5a76b5795386121dc57a035', 'message': 'chore(os): removes old releases\n\nPer discussion from PTG [0], this patch set removes older and\nunsupported OpenStack releases from the zuul jobs.\n\n[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg\n\nChange-Id: I857a67ce8c132095846c980e6090a463046da44b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",1,760059,d4fa5ee3ea813ad9b5a76b5795386121dc57a035,26,8,6,20466,,,0,"chore(os): removes old releases

Per discussion from PTG [0], this patch set removes older and
unsupported OpenStack releases from the zuul jobs.

[0] https://etherpad.opendev.org/p/openstack-helm-wallaby-ptg

Change-Id: I857a67ce8c132095846c980e6090a463046da44b
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/59/760059/6 && git format-patch -1 --stdout FETCH_HEAD,"['congress/values.yaml', 'congress/templates/serviceaccount.yaml', 'congress/templates/NOTES.txt', 'congress/Chart.yaml', 'congress/templates/ingress.yaml', 'congress/.helmignore', 'zuul.d/project.yaml', 'congress/templates/hpa.yaml', 'congress/templates/service.yaml', 'congress/templates/deployment.yaml', 'congress/templates/tests/test-connection.yaml', 'congress/templates/_helpers.tpl']",12,00be8d4c20171064d26d6e06df36dfe7ecf42552,rm/old-releases,"{{/* Expand the name of the chart. */}} {{- define ""congress.name"" -}} {{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix ""-"" }} {{- end }} {{/* Create a default fully qualified app name. We truncate at 63 chars because some Kubernetes name fields are limited to this (by the DNS naming spec). If release name contains chart name it will be used as a full name. */}} {{- define ""congress.fullname"" -}} {{- if .Values.fullnameOverride }} {{- .Values.fullnameOverride | trunc 63 | trimSuffix ""-"" }} {{- else }} {{- $name := default .Chart.Name .Values.nameOverride }} {{- if contains $name .Release.Name }} {{- .Release.Name | trunc 63 | trimSuffix ""-"" }} {{- else }} {{- printf ""%s-%s"" .Release.Name $name | trunc 63 | trimSuffix ""-"" }} {{- end }} {{- end }} {{- end }} {{/* Create chart name and version as used by the chart label. */}} {{- define ""congress.chart"" -}} {{- printf ""%s-%s"" .Chart.Name .Chart.Version | replace ""+"" ""_"" | trunc 63 | trimSuffix ""-"" }} {{- end }} {{/* Common labels */}} {{- define ""congress.labels"" -}} helm.sh/chart: {{ include ""congress.chart"" . }} {{ include ""congress.selectorLabels"" . }} {{- if .Chart.AppVersion }} app.kubernetes.io/version: {{ .Chart.AppVersion | quote }} {{- end }} app.kubernetes.io/managed-by: {{ .Release.Service }} {{- end }} {{/* Selector labels */}} {{- define ""congress.selectorLabels"" -}} app.kubernetes.io/name: {{ include ""congress.name"" . }} app.kubernetes.io/instance: {{ .Release.Name }} {{- end }} {{/* Create the name of the service account to use */}} {{- define ""congress.serviceAccountName"" -}} {{- if .Values.serviceAccount.create }} {{- default (include ""congress.fullname"" .) .Values.serviceAccount.name }} {{- else }} {{- default ""default"" .Values.serviceAccount.name }} {{- end }} {{- end }} ",,386,10
openstack%2Fopenstack-ansible-plugins~master~I04100a1430284fcb0117a8352da384790ea09713,openstack/openstack-ansible-plugins,master,I04100a1430284fcb0117a8352da384790ea09713,[reno] Stop publishing release notes,MERGED,2021-01-22 16:28:41.000000000,2021-01-26 17:00:59.000000000,2021-01-26 16:48:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:28:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7fccf1b43a5eda3126bfc660020fdf374459cfbe', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I04100a1430284fcb0117a8352da384790ea09713'}]",0,772054,7fccf1b43a5eda3126bfc660020fdf374459cfbe,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I04100a1430284fcb0117a8352da384790ea09713",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/54/772054/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7fccf1b43a5eda3126bfc660020fdf374459cfbe,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fgovernance~master~I6656e85dc07282e545ca5fdd51f23a872f916c8d,openstack/governance,master,I6656e85dc07282e545ca5fdd51f23a872f916c8d,WIP NO MERGE Move os-*-config to Heat project governance,ABANDONED,2021-01-12 12:36:19.000000000,2021-01-26 16:55:54.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 12:36:19.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/20e91643311efa49285e68f220f5a5040a6b81e7', 'message': ""WIP NO MERGE Move os-*-config to Heat project governance\n\nAs discussed at [1] the TripleO project is no longer using the\nos-*-config projects for a few cycles now. The TripleO team is\nproposing to move these to independent as it doesn't make sense to\ncreate tagged releases for these projects at least for TripleO.\nUltimately we may even move these to EOL.\n\nAs pointed out in [1] Heat may still be using these? In which case\nit makes sense for Heat to own and manage the release of these\nprojects\n\nSetting WIP and posting for the discussion.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019751.html\n\nChange-Id: I6656e85dc07282e545ca5fdd51f23a872f916c8d\n""}]",0,770285,20e91643311efa49285e68f220f5a5040a6b81e7,4,2,1,8449,,,0,"WIP NO MERGE Move os-*-config to Heat project governance

As discussed at [1] the TripleO project is no longer using the
os-*-config projects for a few cycles now. The TripleO team is
proposing to move these to independent as it doesn't make sense to
create tagged releases for these projects at least for TripleO.
Ultimately we may even move these to EOL.

As pointed out in [1] Heat may still be using these? In which case
it makes sense for Heat to own and manage the release of these
projects

Setting WIP and posting for the discussion.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019751.html

Change-Id: I6656e85dc07282e545ca5fdd51f23a872f916c8d
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/770285/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,20e91643311efa49285e68f220f5a5040a6b81e7,, os-apply-config: repos: - openstack/os-apply-config os-collect-config: repos: - openstack/os-collect-config os-refresh-config: repos: - openstack/os-refresh-config , os-apply-config: repos: - openstack/os-apply-config os-collect-config: repos: - openstack/os-collect-config os-refresh-config: repos: - openstack/os-refresh-config,10,9
openstack%2Ftripleo-validations~stable%2Ftrain~I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0,openstack/tripleo-validations,stable/train,I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0,Change path for validation Ansible files,MERGED,2020-10-07 11:06:12.000000000,2021-01-26 16:53:50.000000000,2021-01-26 16:53:50.000000000,"[{'_account_id': 7144}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-10-07 11:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/343d2cac3b8192ce3bbd8e5596c1764efa6b7c41', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nDepends-On: https://review.opendev.org/750369/\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 2, 'created': '2020-10-07 15:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/45095d19a3034898831771dd1a834ce127d3403a', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 3, 'created': '2020-10-30 21:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d847a6fff689217168391bc5addc560ac3626d15', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 4, 'created': '2020-11-18 08:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/67e086e4a474a11a5f37df7b5ce4c460eaf2910a', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 5, 'created': '2020-11-24 12:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a0c0dbdd55832f42aad0b73cd86217c38612869b', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 6, 'created': '2020-11-24 12:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ba802fc5136617c7b1d0e60cd20097327eecbd9a', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 7, 'created': '2021-01-05 16:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d139140f0d12eec704fc3c8d2163f0b4bdcfafee', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 8, 'created': '2021-01-06 08:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/875f15d6f1f59deb46d65b47d1b142ec1eed4e33', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}, {'number': 9, 'created': '2021-01-21 14:40:21.000000000', 'files': ['scripts/tripleo-validation.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2e5e1125d369e43cd547fc33eeead5fb985e5045', 'message': 'Change path for validation Ansible files\n\nMove Ansible files from share/openstack/tripleo-validation\nto share/ansible like tripleo-ansible project\n\nDepends-On: https://review.rdoproject.org/r/#/c/31640/\n\nChange-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0\n(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)\n(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)\n'}]",0,756495,2e5e1125d369e43cd547fc33eeead5fb985e5045,43,4,9,11491,,,0,"Change path for validation Ansible files

Move Ansible files from share/openstack/tripleo-validation
to share/ansible like tripleo-ansible project

Depends-On: https://review.rdoproject.org/r/#/c/31640/

Change-Id: I62e36f4ab7a77b5120e014dc61168a1ccc9fc6e0
(cherry picked from commit ea550f80ac6969cc89cb6cf8890bd154aeadeff1)
(cherry picked from commit d07801799712936e93e961ba0e59fa00d2ffc89a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/95/756495/9 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-validation.py', 'setup.cfg']",2,343d2cac3b8192ce3bbd8e5596c1764efa6b7c41,rhbz#1877688-train-bp, share/ansible = hosts.sample share/ansible = groups.yaml share/ansible/roles = roles/* share/ansible/validation-playbooks = playbooks/* share/ansible/callback_plugins = callback_plugins/* share/ansible/lookup_plugins = lookup_plugins/* share/ansible/library = library/*, share/openstack-tripleo-validations/ = hosts.sample share/openstack-tripleo-validations/ = groups.yaml share/openstack-tripleo-validations/roles = roles/* share/openstack-tripleo-validations/playbooks = playbooks/* share/openstack-tripleo-validations/callback_plugins = callback_plugins/* share/openstack-tripleo-validations/lookup_plugins = lookup_plugins/* share/openstack-tripleo-validations/library = library/*,9,9
openstack%2Fopenstack-ansible-apt_package_pinning~master~I8d64b81360db95b0c8cacb4d05f32cd2e551271c,openstack/openstack-ansible-apt_package_pinning,master,I8d64b81360db95b0c8cacb4d05f32cd2e551271c,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:07.000000000,2021-01-26 16:44:16.000000000,2021-01-26 16:35:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:07.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/2eec061c1b8040cd303459c2ec9bc611edfc5dbe', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I8d64b81360db95b0c8cacb4d05f32cd2e551271c'}]",0,772007,2eec061c1b8040cd303459c2ec9bc611edfc5dbe,9,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I8d64b81360db95b0c8cacb4d05f32cd2e551271c",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/07/772007/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2eec061c1b8040cd303459c2ec9bc611edfc5dbe,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fcookbook-openstack-ops-database~stable%2Fstein~I2f65f28802581184cd47e7c37d21dd71e97a2c3f,openstack/cookbook-openstack-ops-database,stable/stein,I2f65f28802581184cd47e7c37d21dd71e97a2c3f,fix gather data for data interface,MERGED,2021-01-26 07:04:19.000000000,2021-01-26 16:36:31.000000000,2021-01-26 10:45:06.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 07:04:19.000000000', 'files': ['recipes/mariadb-cluster-server.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/b6e38858d81b27388564cf331d403a4e2fa76b16', 'message': 'fix gather data for data interface\n\n- get information from the actual node attributes instead of the\n  executing node\n\nChange-Id: I2f65f28802581184cd47e7c37d21dd71e97a2c3f\n(cherry picked from commit 7190cf204c18a08aba04f5e769d513d65a5e3a27)\n'}]",0,772399,b6e38858d81b27388564cf331d403a4e2fa76b16,7,3,1,13252,,,0,"fix gather data for data interface

- get information from the actual node attributes instead of the
  executing node

Change-Id: I2f65f28802581184cd47e7c37d21dd71e97a2c3f
(cherry picked from commit 7190cf204c18a08aba04f5e769d513d65a5e3a27)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/99/772399/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/mariadb-cluster-server.rb'],1,b6e38858d81b27388564cf331d403a4e2fa76b16,fix_mariadb_data_interface-stable/stein," bind_db_cluster_node = cluster_node['openstack']['bind_service']['db'] if bind_db_cluster_node['interface'].nil? Chef::Log.fatal('Need to specify interface to bind to.') raise end address = address_for bind_db_cluster_node['interface'], family, cluster_node"," address = address_for bind_db['interface'], family, cluster_node",6,1
openstack%2Fopenstack-ansible~master~Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf,openstack/openstack-ansible,master,Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf,Use TCP mode for console if SSL is configured,MERGED,2018-06-11 07:55:36.000000000,2021-01-26 16:32:17.000000000,2021-01-26 16:29:44.000000000,"[{'_account_id': 11290}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-06-11 07:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b87a8a49835137663206d859f00230fe37fc4b0c', 'message': ""Use TCP mode for console if SSL is configured\n\nIn commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy\nconfiguration for the nova console was changed to use HTTP mode to\nsupport an HTTP health check. While this is desirable if no SSL is used\nfor the console or SSL is terminated on haproxy, it breaks SSL in case\nit's terminated on the nova console container.\n\nThis commit introduces a new variable haproxy_nova_console_http_mode\nwhich is True by default and False if SSL certificates are configured\nfor nova console.\n\nChange-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf\n""}, {'number': 2, 'created': '2018-09-05 10:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0e5df9639d51fd56dc021cb5bd9511c2216924b', 'message': ""Use TCP mode for console if SSL is configured\n\nIn commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy\nconfiguration for the nova console was changed to use HTTP mode to\nsupport an HTTP health check. While this is desirable if no SSL is used\nfor the console or SSL is terminated on haproxy, it breaks SSL in case\nit's terminated on the nova console container.\n\nThis commit introduces a new variable haproxy_nova_console_http_mode\nwhich is True by default and False if SSL certificates are configured\nfor nova console.\n\nChange-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf\n""}, {'number': 3, 'created': '2018-10-09 06:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f172380957d1e3e58850d7aaf0ba6499ae9e23c9', 'message': ""Use TCP mode for console if SSL is configured\n\nIn commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy\nconfiguration for the nova console was changed to use HTTP mode to\nsupport an HTTP health check. While this is desirable if no SSL is used\nfor the console or SSL is terminated on haproxy, it breaks SSL in case\nit's terminated on the nova console container.\n\nThis commit introduces a new variable haproxy_nova_console_http_mode\nwhich is True by default and False if SSL certificates are configured\nfor nova console.\n\nChange-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf\n""}, {'number': 4, 'created': '2018-10-09 12:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/621dafab553e1f07eedccd3fd921e993ca5f310b', 'message': ""Use TCP mode for console if SSL is configured\n\nIn commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy\nconfiguration for the nova console was changed to use HTTP mode to\nsupport an HTTP health check. While this is desirable if no SSL is used\nfor the console or SSL is terminated on haproxy, it breaks SSL in case\nit's terminated on the nova console container.\n\nThis commit introduces a new variable haproxy_nova_console_http_mode\nwhich is True by default and False if SSL certificates are configured\nfor nova console.\n\nChange-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf\n""}, {'number': 5, 'created': '2020-10-27 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b9f410d36d5d8497c117706e9bd4b69f1102903', 'message': ""Use TCP mode for console if SSL is configured\n\nIn commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy\nconfiguration for the nova console was changed to use HTTP mode to\nsupport an HTTP health check. While this is desirable if no SSL is used\nfor the console or SSL is terminated on haproxy, it breaks SSL in case\nit's terminated on the nova console container.\n\nThis commit introduces a new variable haproxy_nova_console_http_mode\nwhich is True by default and False if SSL certificates are configured\nfor nova console.\n\nChange-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf\n""}, {'number': 6, 'created': '2021-01-21 14:24:04.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/843cb674590bc0adec84dcb876a149a701a338a9', 'message': ""Use TCP mode for console if SSL is configured\n\nIn commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy\nconfiguration for the nova console was changed to use HTTP mode to\nsupport an HTTP health check. While this is desirable if no SSL is used\nfor the console or SSL is terminated on haproxy, it breaks SSL in case\nit's terminated on the nova console container.\n\nThis commit introduces a new variable haproxy_nova_console_http_mode\nwhich is True by default and False if SSL certificates are configured\nfor nova console.\n\nChange-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf\n""}]",0,574153,843cb674590bc0adec84dcb876a149a701a338a9,21,5,6,11290,,,0,"Use TCP mode for console if SSL is configured

In commit 95b51a83cd41c71838bd4c99033f2cef042e980b the haproxy
configuration for the nova console was changed to use HTTP mode to
support an HTTP health check. While this is desirable if no SSL is used
for the console or SSL is terminated on haproxy, it breaks SSL in case
it's terminated on the nova console container.

This commit introduces a new variable haproxy_nova_console_http_mode
which is True by default and False if SSL certificates are configured
for nova console.

Change-Id: Ie3b7cfa9377d365af6524f11f95d3e557ce0b3cf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/574153/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,b87a8a49835137663206d859f00230fe37fc4b0c,haproxy-nova-console-tcp,"# By default the nova console service on HAProxy is configured in HTTP mode to # allow for more fine grained control. But if the SSL connection is terminated # on the nova console container it has to be run in TCP mode. haproxy_nova_console_http_mode: ""{{ not (nova_console_user_ssl_cert is defined and nova_console_user_ssl_key is defined) }}"" haproxy_balance_type: ""{{ haproxy_nova_console_http_mode | ternary('http', 'tcp') }}"" haproxy_backend_options: ""{{ haproxy_nova_console_http_mode | ternary(['httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck'], []) }}"" haproxy_backend_httpcheck_options: ""{{ haproxy_nova_console_http_mode | ternary(['expect status 404'], []) }}"""," haproxy_balance_type: http haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_backend_httpcheck_options: - ""expect status 404""",10,5
openstack%2Fneutron~stable%2Fvictoria~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,stable/victoria,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-24 09:52:06.000000000,2021-01-26 16:28:39.000000000,2021-01-26 13:35:55.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 09:52:06.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b634f4f623a1a817e61dc8647721d2cf52ecab4b', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)\n'}]",0,772104,b634f4f623a1a817e61dc8647721d2cf52ecab4b,24,5,1,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/772104/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,b634f4f623a1a817e61dc8647721d2cf52ecab4b,improve-dhcp-agent-debug-logs-stable/victoria,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call LOG.info(""Trigger reload_allocations for port %s on network %s"", port, network) @log_helpers.log_method_call resync_reason = ( ""Duplicate IP addresses found, "" ""Port in cache: {cache_port_id}, "" ""Created port: {port_id}, "" ""IPs in cache: {cached_ips}, "" ""new IPs: {new_ips}."" ""DHCP cache is out of sync"").format( cache_port_id=port_cached['id'], port_id=created_port['id'], cached_ips=cached_ips, new_ips=new_ips) self.schedule_resync(resync_reason, created_port.network_id) @log_helpers.log_method_call"," LOG.info(""Trigger reload_allocations for port %s"", port) self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",23,4
openstack%2Ftempest~master~Iee0d863770def63df8601222265dc22226457c0c,openstack/tempest,master,Iee0d863770def63df8601222265dc22226457c0c,test_encrypted_cinder_volumes: Do not create an image for this test,MERGED,2021-01-22 10:14:35.000000000,2021-01-26 16:28:27.000000000,2021-01-26 13:23:17.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-22 10:14:35.000000000', 'files': ['tempest/scenario/test_encrypted_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/26186cf964be0bdeef82267de13e7257c413bafa', 'message': 'test_encrypted_cinder_volumes: Do not create an image for this test\n\nAs with I50d3b874b7e0676436c434be6c059f221041560f for the\ncinder-tempest-plugin this encrypted volume test does not require a\nunique image to create an instance. The creation leading to test\nfailures in the nova-ceph-multistore job that sets\n[workarounds]/never_download_image_if_on_rbd while valdiating some edge\nusecases.\n\nThis change simply removes the creation of the image and relys\ninstead on the behaviour of tempest.common.compute.create_test_server\nthat uses CONF.compute.image_ref when an image_id is not provided [1].\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/tempest/common/compute.py#L108-L109\n\nChange-Id: Iee0d863770def63df8601222265dc22226457c0c\nRelated-Bug: #1912607\n'}]",2,771958,26186cf964be0bdeef82267de13e7257c413bafa,13,3,1,10135,,,0,"test_encrypted_cinder_volumes: Do not create an image for this test

As with I50d3b874b7e0676436c434be6c059f221041560f for the
cinder-tempest-plugin this encrypted volume test does not require a
unique image to create an instance. The creation leading to test
failures in the nova-ceph-multistore job that sets
[workarounds]/never_download_image_if_on_rbd while valdiating some edge
usecases.

This change simply removes the creation of the image and relys
instead on the behaviour of tempest.common.compute.create_test_server
that uses CONF.compute.image_ref when an image_id is not provided [1].

[1] https://opendev.org/openstack/tempest/src/branch/master/tempest/common/compute.py#L108-L109

Change-Id: Iee0d863770def63df8601222265dc22226457c0c
Related-Bug: #1912607
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/771958/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_encrypted_cinder_volumes.py'],1,26186cf964be0bdeef82267de13e7257c413bafa,bug/1912607, * Boots an instance from an image (CONF.compute.image_ref) return self.create_server(key_name=keypair['name'])," * Creates an image in Glance * Boots an instance from the image image = self.image_create() return self.create_server(image_id=image, key_name=keypair['name'])",2,4
openstack%2Ftempest~master~I9fa056625af2b2c6327f41f599abdd7a59b174b4,openstack/tempest,master,I9fa056625af2b2c6327f41f599abdd7a59b174b4,Add release note for new role client methods,MERGED,2020-11-17 01:51:40.000000000,2021-01-26 16:27:23.000000000,2021-01-26 16:17:58.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-17 01:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8f24d00bb3910b1f713acf087cc2bee0596bc018', 'message': 'Add release note for new role client methods\n\nAdded a release note to advertise the new client methods added in [1].\n\n[1] https://review.opendev.org/743865\n\nChange-Id: I9fa056625af2b2c6327f41f599abdd7a59b174b4\n'}, {'number': 2, 'created': '2021-01-11 19:14:05.000000000', 'files': ['releasenotes/notes/add-identity-roles-system-methods-519dc144231993a3.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/19213304d2252ac1b8bcfa519bbbe98b85e9b810', 'message': 'Add release note for new role client methods\n\nAdded a release note to advertise the new client methods added in [1].\n\n[1] https://review.opendev.org/743865\n\nChange-Id: I9fa056625af2b2c6327f41f599abdd7a59b174b4\n'}]",0,762940,19213304d2252ac1b8bcfa519bbbe98b85e9b810,10,3,2,8482,,,0,"Add release note for new role client methods

Added a release note to advertise the new client methods added in [1].

[1] https://review.opendev.org/743865

Change-Id: I9fa056625af2b2c6327f41f599abdd7a59b174b4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/762940/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-identity-roles-system-methods-519dc144231993a3.yaml'],1,8f24d00bb3910b1f713acf087cc2bee0596bc018,admin-auth-system-scope,--- features: - | Added methods to the identity v3 roles client to support: - PUT /v3/system/users/{user}/roles/{role} - GET /v3/system/users/{user}/roles - GET /v3/system/users/{user}/roles/{role} - DELETE /v3/system/users/{user}/roles/{role} - PUT /v3/system/groups/{group}/roles/{role} - GET /v3/system/groups/{group}/roles - GET /v3/system/groups/{group}/roles/{role} - DELETE /v3/system/groups/{group}/roles/{role} ,,13,0
openstack%2Fkeystone~stable%2Fvictoria~I903d20fa41270499ca1c39d296120dd97cef5405,openstack/keystone,stable/victoria,I903d20fa41270499ca1c39d296120dd97cef5405,Use app cred user ID in policy enforcement,MERGED,2021-01-04 22:13:07.000000000,2021-01-26 16:24:02.000000000,2021-01-26 16:18:47.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 22:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/80832de6ced534bccbf7cfe24a6a01c8262c1779', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)\n""}, {'number': 2, 'created': '2021-01-08 16:49:25.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/protection/v3/test_application_credential.py', 'releasenotes/notes/bug-1901207-13762f85b8a04481.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/66c3bd8d2575839a830bac072b1bac14f94a7b31', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)\n""}]",0,769220,66c3bd8d2575839a830bac072b1bac14f94a7b31,13,4,2,5046,,,0,"Use app cred user ID in policy enforcement

The application credential policies use the `rule:owner` policy to allow
users to manage their own credentials. The policy engine pulled the
user_id attribute from the request path instead of the actual
application credential. This allowed for users to exploit the
enforcement and view or delete application credentials they don't own.

This commit attempts to resolve the issue by updating the flask
parameters before they're translated to policy arguments and target
data, prior to policy enforcement.

Change-Id: I903d20fa41270499ca1c39d296120dd97cef5405
Closes-Bug: 1901207
(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/769220/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/protection/v3/test_application_credential.py', 'releasenotes/notes/bug-1901207-13762f85b8a04481.yaml']",3,80832de6ced534bccbf7cfe24a6a01c8262c1779,,--- security: - | [`bug 1901207 <https://bugs.launchpad.net/keystone/+bug/1901207>`_] Policy enforcement for application credentials has been updated to protect against invalid ownership checks resulting in unauthorized users being able to get and delete application credentials for other users. ,,118,2
openstack%2Ftempest~master~I8bebb5b9b6d8da62e6a5268d827787da461cc0d6,openstack/tempest,master,I8bebb5b9b6d8da62e6a5268d827787da461cc0d6,Add default RBAC personas to dynamic credentials,MERGED,2019-10-02 21:37:32.000000000,2021-01-26 16:24:00.000000000,2021-01-26 16:16:01.000000000,"[{'_account_id': 5046}, {'_account_id': 5689}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29585}, {'_account_id': 32029}]","[{'number': 1, 'created': '2019-10-02 21:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6db62fe244cfa122e52a720a03dfe1e1bd8219ba', 'message': 'WIP/PoC: Add default RBAC personas to dynamic creds\n\nThis WIP idea adds support to the dynamic credentials provider for using\nnine specific pre-provisioned user personas that can be used to test\nservice policies from the point of view of the three scopes and three\ndefault roles that are available out of the box in keystone. In addition\nto the os_admin, os_primary, os_alt, and role-based credentials that\nwere available before, test classes can now access such credentials as\nos_system_admin or os_domain_reader. An example of how this could be\nused is proposed for keystone[1].\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 2, 'created': '2019-10-02 21:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc313a93c898e9d34a2eb9d95c7e8637de40a28a', 'message': ""WIP/PoC: Add default RBAC personas to dynamic creds\n\nThis WIP idea adds support to the dynamic credentials provider for using\nnine specific pre-provisioned user personas that can be used to test\nservice policies from the point of view of the three scopes and three\ndefault roles that are available out of the box in keystone. In addition\nto the os_admin, os_primary, os_alt, and role-based credentials that\nwere available before, test classes can now access such credentials as\nos_system_admin or os_domain_reader. An example of how this could be\nused is proposed for keystone[1].\n\nThis doesn't address pre-provisioned credentials yet.\n\nWe also discussed having these personas redirect to one another in order\nto support older branches[2], this doesn't do that yet.\n\n[1] https://review.opendev.org/686305\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-qa/%23openstack-qa.2019-10-02.log.html#t2019-10-02T17:03:02\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n""}, {'number': 3, 'created': '2019-10-03 16:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d0752e9da2ec86145d9a2c815a71abbb5e70eef', 'message': ""WIP/PoC: Add default RBAC personas to dynamic creds\n\nThis WIP idea adds support to the dynamic credentials provider for using\nnine specific pre-provisioned user personas that can be used to test\nservice policies from the point of view of the three scopes and three\ndefault roles that are available out of the box in keystone. In addition\nto the os_admin, os_primary, os_alt, and role-based credentials that\nwere available before, test classes can now access such credentials as\nos_system_admin or os_domain_reader. An example of how this could be\nused is proposed for keystone[1].\n\nThis doesn't address pre-provisioned credentials yet.\n\nWe also discussed having these personas redirect to one another in order\nto support older branches[2], this doesn't do that yet.\n\n[1] https://review.opendev.org/686305\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-qa/%23openstack-qa.2019-10-02.log.html#t2019-10-02T17:03:02\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n""}, {'number': 4, 'created': '2019-10-04 21:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/39c5519a70538e0b2f8d025fb1f66ca75d13f49e', 'message': ""WIP/PoC: Add default RBAC personas to dynamic creds\n\nThis WIP idea adds support to the dynamic credentials provider for using\nnine specific pre-provisioned user personas that can be used to test\nservice policies from the point of view of the three scopes and three\ndefault roles that are available out of the box in keystone. In addition\nto the os_admin, os_primary, os_alt, and role-based credentials that\nwere available before, test classes can now access such credentials as\nos_system_admin or os_domain_reader. An example of how this could be\nused is proposed for keystone[1].\n\nThis doesn't address pre-provisioned credentials yet.\n\nWe also discussed having these personas redirect to one another in order\nto support older branches[2], this doesn't do that yet.\n\n[1] https://review.opendev.org/686305\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-qa/%23openstack-qa.2019-10-02.log.html#t2019-10-02T17:03:02\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n""}, {'number': 5, 'created': '2019-12-11 04:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb4e60e345d529999eab7da8ab0311688e201caa', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 6, 'created': '2019-12-23 18:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7181c67a140d8e2c74a561611c44071177adb2f', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 7, 'created': '2020-01-14 23:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55272f23f9922c147090f62d7fb000c24f6bf5c8', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 8, 'created': '2020-01-21 23:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6130037e2a34b6564a26af48465c2b47449ba9e7', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 9, 'created': '2020-06-20 06:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a32b929351ff67f73edd69eef01eef4dd6cbe8f', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 10, 'created': '2020-07-03 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea9f87127784575ff71fdc4483b9e65e95712f29', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 11, 'created': '2020-07-13 22:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3cd29558a9a886c86dedd7533e6b778ac94dce36', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 12, 'created': '2020-07-13 23:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/03016618b87081cab61c7a64146762a635a36c5e', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 13, 'created': '2020-07-14 18:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d1f72c7f3be3e357ba143b6a1135a9563e335eb', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 14, 'created': '2020-07-30 02:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c10953c7b9667b4aa0c34b82ff2a17e04381e68', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 15, 'created': '2020-10-01 20:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9267ed4d9543c71341baabab16425525279aeea', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 16, 'created': '2020-10-31 20:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/714bd4d7c7683d7eb33471362bc8fa507882be38', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}, {'number': 17, 'created': '2021-01-11 19:12:26.000000000', 'files': ['tempest/lib/common/dynamic_creds.py', 'tempest/lib/services/clients.py', 'tempest/lib/common/cred_client.py', 'tempest/lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/06374e2dfdd6e93a202df917831b01885ff53f69', 'message': 'Add default RBAC personas to dynamic credentials\n\nThis change adds support to the dynamic credentials provider for nine\nspecific user personas that can be used to test service policies from\nthe point of view of the three scopes and three default roles that are\navailable out of the box in keystone. In addition to the os_admin,\nos_primary, os_alt, and role-based credentials that were available\nbefore, test classes can now access such credentials as os_system_admin\nor os_domain_reader. An example of how this could be used is proposed\nfor keystone[1].\n\nA subsequent patch addresses the pre-provisioned credentials provider.\n\nIn the future, the original tempest personas may redirect to the new\nscope-aware personas in order to maintain compatibility between releases\nonce projects start enforcing scope. This is not addressed here.\n\n[1] https://review.opendev.org/686305\n\nChange-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6\n'}]",31,686306,06374e2dfdd6e93a202df917831b01885ff53f69,84,10,17,8482,,,0,"Add default RBAC personas to dynamic credentials

This change adds support to the dynamic credentials provider for nine
specific user personas that can be used to test service policies from
the point of view of the three scopes and three default roles that are
available out of the box in keystone. In addition to the os_admin,
os_primary, os_alt, and role-based credentials that were available
before, test classes can now access such credentials as os_system_admin
or os_domain_reader. An example of how this could be used is proposed
for keystone[1].

A subsequent patch addresses the pre-provisioned credentials provider.

In the future, the original tempest personas may redirect to the new
scope-aware personas in order to maintain compatibility between releases
once projects start enforcing scope. This is not addressed here.

[1] https://review.opendev.org/686305

Change-Id: I8bebb5b9b6d8da62e6a5268d827787da461cc0d6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/06/686306/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/dynamic_creds.py', 'tempest/lib/services/clients.py', 'tempest/lib/services/identity/v3/roles_client.py', 'tempest/lib/common/cred_client.py']",4,6db62fe244cfa122e52a720a03dfe1e1bd8219ba,admin-auth-system-scope," def create_user(self, username, password, project=None, email=None): 'password': password} # with keystone v3, a default project is not required if project: params[self.project_id_param] = project['id'] # email is not a first-class attribute of a user if email: params['email'] = email def create_domain(self, name, description): domain = self.domains_client.create_domain( name=name, description=description)['domain'] return domain def assign_user_role_on_system(self, user, role_name): """""" Assign the specified role on the system :param user: a user dict :param role_name: name of the role to be assigned """""" role = self._check_role_exists(role_name) if not role: msg = 'No ""%s"" role found' % role_name raise lib_exc.NotFound(msg) try: self.roles_client.create_user_role_on_system( user['id'], role['id']) except lib_exc.Conflict: LOG.debug(""Role %s already assigned on domain %s for user %s"", role['id'], domain['id'], user['id']) "," def create_user(self, username, password, project, email): 'password': password, self.project_id_param: project['id'], 'email': email}",132,36
openstack%2Ftempest~master~Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21,openstack/tempest,master,Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21,Add default RBAC personas to pre-provisioned creds,MERGED,2019-12-11 04:05:09.000000000,2021-01-26 16:17:01.000000000,2021-01-26 16:17:01.000000000,"[{'_account_id': 5046}, {'_account_id': 5689}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 29585}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-12-11 04:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4945a4321c2c655cf17d36e8174b72c49b34af52', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 2, 'created': '2019-12-23 18:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cee4cfe90c1a99ef8c7588cc06edb7303940fd3a', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 3, 'created': '2020-01-14 23:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7da02fcd1e3fd82abd1ee4623744e2c3a983173a', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 4, 'created': '2020-01-21 23:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1586e52377436dfcac1e94aed81a5ac0bf549ab4', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 5, 'created': '2020-06-20 06:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8674cca1c842cb6585f7b9a5d9a8d897156d4f8', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 6, 'created': '2020-07-03 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2aa5a6001c248865181e93cd3c9096a68b1d5bb', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 7, 'created': '2020-07-13 22:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b6499d99da3fc0865300738e5862ce5cb4953db', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 8, 'created': '2020-07-13 23:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cfb8045aff7c074ef2b67014068899be6fe4d558', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 9, 'created': '2020-07-14 18:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/079430951c89ac8b98bcdad80f98e44773d4c6b2', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 10, 'created': '2020-07-30 02:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a65b6ce7909814cc148cad4bad10e411e5b6748', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 11, 'created': '2020-07-30 06:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2610cfad9a7344475d919f1249c646b4036c56fa', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 12, 'created': '2020-08-02 21:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f75eef587768de61b25527f47f2165385f03840', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 13, 'created': '2020-10-01 20:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea27f1e0a01581c4dc4e676f272e6878e6a8e813', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 14, 'created': '2020-10-31 20:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88f4b2a7077de422338e86e141f49dd2f1f7ddfb', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}, {'number': 15, 'created': '2021-01-11 19:12:54.000000000', 'files': ['etc/rbac-persona-accounts.yaml.sample', 'tempest/lib/common/preprov_creds.py', 'releasenotes/notes/system-scope-44244cc955a7825f.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbac9379ad28fdef96c8a4d25c38708bf3374efe', 'message': 'Add default RBAC personas to pre-provisioned creds\n\nThis change adds support for the nine default personas for the\npre-provisioned credentials provider, as well as a sample accounts.yaml\nfile. With this, service projects should be able to use either dynamic\nor pre-provisioned credentials for testing new policy defaults that use\nsystem, domain, or project scope and the admin, member or reader default\nroles.\n\nChange-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21\n'}]",30,698397,cbac9379ad28fdef96c8a4d25c38708bf3374efe,82,12,15,8482,,,0,"Add default RBAC personas to pre-provisioned creds

This change adds support for the nine default personas for the
pre-provisioned credentials provider, as well as a sample accounts.yaml
file. With this, service projects should be able to use either dynamic
or pre-provisioned credentials for testing new policy defaults that use
system, domain, or project scope and the admin, member or reader default
roles.

Change-Id: Ifda77fb8d875b18c4507da2c9d98f17bcdac2e21
",git fetch https://review.opendev.org/openstack/tempest refs/changes/97/698397/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/rbac-persona-accounts.yaml.sample', 'tempest/lib/common/preprov_creds.py']",2,4945a4321c2c655cf17d36e8174b72c49b34af52,admin-auth-system-scope," def _append_scoped_role(cls, scope, role, account_hash, hash_dict): key = ""%s_%s"" % (scope, role) if key in hash_dict['scoped_roles']: hash_dict['scoped_roles'][key].append(account_hash) else: hash_dict['scoped_roles'][key] = [account_hash] return hash_dict @classmethod hash_dict = {'roles': {}, 'creds': {}, 'networks': {}, 'scoped_roles': {}} scope = None if 'project_name' in account: scope = 'project' elif 'domain_name' in account: scope = 'domain' elif 'system' in account: scope = 'system' if scope: hash_dict = cls._append_scoped_role( scope, role, temp_hash_key, hash_dict) def _get_match_hash_list(self, roles=None, scope=None): if scope: key = ""%s_%s"" % (scope, role) temp_hashes = self.hash_dict['scoped_roles'].get(key) if not temp_hashes: raise lib_exc.InvalidCredentials( ""No credentials matching role: %s, scope: %s "" ""specified in the accounts """"file"" % (role, scope)) else: temp_hashes = self.hash_dict['roles'].get(role, None) if not temp_hashes: raise lib_exc.InvalidCredentials( ""No credentials with role: %s specified in the "" ""accounts """"file"" % role) def _get_creds(self, roles=None, scope=None): useable_hashes = self._get_match_hash_list(roles, scope) def get_system_admin_creds(self): if self._creds.get('system_admin'): return self._creds.get('system_admin') system_admin = self._get_creds(['admin'], scope='system') self._creds['system_admin'] = system_admin return system_admin def get_system_member_creds(self): if self._creds.get('system_member'): return self._creds.get('system_member') system_member = self._get_creds(['member'], scope='system') self._creds['system_member'] = system_member return system_member def get_system_reader_creds(self): if self._creds.get('system_reader'): return self._creds.get('system_reader') system_reader = self._get_creds(['reader'], scope='system') self._creds['system_reader'] = system_reader return system_reader def get_domain_admin_creds(self): if self._creds.get('domain_admin'): return self._creds.get('domain_admin') domain_admin = self._get_creds(['admin'], scope='domain') self._creds['domain_admin'] = domain_admin return domain_admin def get_domain_member_creds(self): if self._creds.get('domain_reader'): return self._creds.get('domain_reader') domain_reader = self._get_creds(['reader'], scope='domain') self._creds['domain_reader'] = domain_reader return domain_reader def get_domain_reader_creds(self): if self._creds.get('domain_reader'): return self._creds.get('domain_reader') domain_reader = self._get_creds(['reader'], scope='domain') self._creds['domain_reader'] = domain_reader return domain_reader def get_project_admin_creds(self): if self._creds.get('project_admin'): return self._creds.get('project_admin') project_admin = self._get_creds(['admin'], scope='project') self._creds['project_admin'] = project_admin return project_admin def get_project_member_creds(self): if self._creds.get('project_member'): return self._creds.get('project_member') project_member = self._get_creds(['member'], scope='project') self._creds['project_member'] = project_member return project_member def get_project_reader_creds(self): if self._creds.get('project_reader'): return self._creds.get('project_reader') project_reader = self._get_creds(['reader'], scope='project') self._creds['project_reader'] = project_reader return project_reader "," hash_dict = {'roles': {}, 'creds': {}, 'networks': {}} def _get_match_hash_list(self, roles=None): temp_hashes = self.hash_dict['roles'].get(role, None) if not temp_hashes: raise lib_exc.InvalidCredentials( ""No credentials with role: %s specified in the "" ""accounts """"file"" % role) def _get_creds(self, roles=None): useable_hashes = self._get_match_hash_list(roles)",208,9
openstack%2Fansible-hardening~master~Id28a5dcd289cc20a2a307630803d052a08dbaba3,openstack/ansible-hardening,master,Id28a5dcd289cc20a2a307630803d052a08dbaba3,[reno] Stop publishing release notes,NEW,2021-01-22 16:23:10.000000000,2021-01-26 16:07:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-22 16:23:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/c61dad61d4a87d8df56a44f4754fa80afb17298a', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Id28a5dcd289cc20a2a307630803d052a08dbaba3'}]",0,772009,c61dad61d4a87d8df56a44f4754fa80afb17298a,4,2,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: Id28a5dcd289cc20a2a307630803d052a08dbaba3",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/09/772009/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c61dad61d4a87d8df56a44f4754fa80afb17298a,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb,openstack/tripleo-heat-templates,stable/ussuri,I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb,Update container-config-scripts/ folder content before update_tasks.,MERGED,2021-01-21 13:11:55.000000000,2021-01-26 16:01:47.000000000,2021-01-26 16:01:47.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-21 13:11:55.000000000', 'files': ['common/common-container-config-scripts.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f93e3a158e0d389885b517cc4a8b5bc92746f2c', 'message': ""Update container-config-scripts/ folder content before update_tasks.\n\nCurrently, multiple scripts are being stored in\n/var/lib/container-config-scripts directory if any of theses scripts\nare being used during the update_tasks the content won't be up to\ndate (or the script will be fully missing if added in a new release),\nas the content of this folder is being updated during the deploy tasks\n(step 1), which occurs after all the update_tasks.\n\nThis patch gathers the tasks responsible for the folder creation and\ncontent update into a new playbook named common_container_config_scripts.yaml,\nthis way we can reference the tasks from the deploy-tasks step1 playbook\n(as it was happening up to now) and invoke them before the update_tasks\nplaybook gets called.\n\nChange-Id: I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb\nRelated-Bug: #1904193\n(cherry picked from commit bb8cb15d20c1d61be92a68ac8fe840e5d6fe1584)\n(cherry picked from commit 6c45e3e8c0a791df3e9eddd09fb2689d354c129e)\n""}]",0,771609,3f93e3a158e0d389885b517cc4a8b5bc92746f2c,14,5,1,20778,,,0,"Update container-config-scripts/ folder content before update_tasks.

Currently, multiple scripts are being stored in
/var/lib/container-config-scripts directory if any of theses scripts
are being used during the update_tasks the content won't be up to
date (or the script will be fully missing if added in a new release),
as the content of this folder is being updated during the deploy tasks
(step 1), which occurs after all the update_tasks.

This patch gathers the tasks responsible for the folder creation and
content update into a new playbook named common_container_config_scripts.yaml,
this way we can reference the tasks from the deploy-tasks step1 playbook
(as it was happening up to now) and invoke them before the update_tasks
playbook gets called.

Change-Id: I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb
Related-Bug: #1904193
(cherry picked from commit bb8cb15d20c1d61be92a68ac8fe840e5d6fe1584)
(cherry picked from commit 6c45e3e8c0a791df3e9eddd09fb2689d354c129e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/771609/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/common-container-config-scripts.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml']",3,3f93e3a158e0d389885b517cc4a8b5bc92746f2c,pcmk-shutdown-lock-stable/victoria-stable/ussuri,- import_tasks: common_container_config_scripts.yaml,"- name: Create /var/lib/container-config-scripts become: true file: path: /var/lib/container-config-scripts state: directory setype: container_file_t tags: - container_config_scripts - name: Write container config scripts become: true no_log: True tripleo_container_config_scripts: config_data: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" config_dir: /var/lib/container-config-scripts tags: - container_config_scripts",20,17
openstack%2Fopenstack-ansible-os_magnum~master~I44085391d469010ed941d08d4ec1debd0ddd55e5,openstack/openstack-ansible-os_magnum,master,I44085391d469010ed941d08d4ec1debd0ddd55e5,Move magnum pip packages from constraints to requirements,MERGED,2021-01-25 10:08:22.000000000,2021-01-26 16:00:12.000000000,2021-01-26 15:58:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:08:22.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/7b611058d55d0faf35f498e2458bdec80c690d55', 'message': 'Move magnum pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I44085391d469010ed941d08d4ec1debd0ddd55e5\n'}]",0,772285,7b611058d55d0faf35f498e2458bdec80c690d55,8,3,1,25023,,,0,"Move magnum pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I44085391d469010ed941d08d4ec1debd0ddd55e5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/85/772285/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7b611058d55d0faf35f498e2458bdec80c690d55,osa-new-pip," - ""git+{{ magnum_git_repo }}@{{ magnum_git_install_branch }}#egg=magnum"""," - ""git+{{ magnum_git_repo }}@{{ magnum_git_install_branch }}#egg=magnum"" - magnum",1,2
openstack%2Fcharm-nova-cell-controller~master~Ib2928c8fe19c1221f6eadf55172f509b41f39e32,openstack/charm-nova-cell-controller,master,Ib2928c8fe19c1221f6eadf55172f509b41f39e32,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:04:07.000000000,2021-01-26 15:48:45.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 11:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/18a153a359defea3e79e54dc210eff85ffbcfc05', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: Ib2928c8fe19c1221f6eadf55172f509b41f39e32\n'}, {'number': 2, 'created': '2021-01-26 15:46:58.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/42dbe365c83705614b86966a14cb68a240c45064', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: Ib2928c8fe19c1221f6eadf55172f509b41f39e32\n'}]",0,772315,42dbe365c83705614b86966a14cb68a240c45064,8,2,2,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: Ib2928c8fe19c1221f6eadf55172f509b41f39e32
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/15/772315/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,18a153a359defea3e79e54dc210eff85ffbcfc05,bug/1912505,10e41036-5efb-11eb-b6ad-8b4f15704f16,8314a7e6-5745-11eb-b88f-177102ef9d39,1,1
openstack%2Fneutron~master~I28972b2c07d406b2719726e1713ce81be915f5a7,openstack/neutron,master,I28972b2c07d406b2719726e1713ce81be915f5a7,Implement secure RBAC for agents API,MERGED,2020-11-27 11:35:33.000000000,2021-01-26 15:40:58.000000000,2021-01-26 03:01:13.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-27 11:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db5ee4014c8ad4265215f1d8f34cefc6b8f4c390', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-bac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 2, 'created': '2020-11-27 16:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/992e39a19ed3d350fe20acc8accc86137581c5f6', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-bac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 3, 'created': '2020-12-01 13:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d19820aecb4d29d494cf733b2ae3243e208d969b', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-bac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 4, 'created': '2020-12-01 13:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9fd157ef1795e18d2bf02637186b42ecb016c28', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-bac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 5, 'created': '2020-12-01 13:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2c46c043699e48e64f37d047178ee509eae240a', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-bac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 6, 'created': '2020-12-04 12:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11bbac1b73e22945125419491c233925b816cc6c', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 7, 'created': '2020-12-15 13:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd79f1405234c8ee8f399054509ce63e6d4fd8f7', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}, {'number': 8, 'created': '2021-01-21 16:23:08.000000000', 'files': ['neutron/conf/policies/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b17b8120dd79c6e71a89b92abbb6e3def7531a0', 'message': 'Implement secure RBAC for agents API\n\nThis commit updates the policies for agents API to understand scope\nchecking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I28972b2c07d406b2719726e1713ce81be915f5a7\n'}]",11,764447,6b17b8120dd79c6e71a89b92abbb6e3def7531a0,72,9,8,11975,,,0,"Implement secure RBAC for agents API

This commit updates the policies for agents API to understand scope
checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I28972b2c07d406b2719726e1713ce81be915f5a7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/764447/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/agent.py'],1,db5ee4014c8ad4265215f1d8f34cefc6b8f4c390,secure-rbac,"DEPRECATION_REASON = """""" The Agent API now supports system scope and default roles. """""" deprecated_get_agent_rule = policy.DeprecatedRule( name='get_agent', check_str=base.RULE_ADMIN_ONLY) deprecated_update_agent_rule = policy.DeprecatedRule( name='update_agent', check_str=base.RULE_ADMIN_ONLY) deprecated_delete_agent_rule = policy.DeprecatedRule( name='delete_agent', check_str=base.RULE_ADMIN_ONLY) deprecated_create_dhcp_network_rule = policy.DeprecatedRule( name='create_dhcp-networ', check_str=base.RULE_ADMIN_ONLY) deprecated_get_dhcp_networks_rule = policy.DeprecatedRule( name='get_dhcp-networs', check_str=base.RULE_ADMIN_ONLY) deprecated_delete_dhcp_network_rule = policy.DeprecatedRule( name='delete_dhcp-networ', check_str=base.RULE_ADMIN_ONLY) deprecated_create_l3_router_rule = policy.DeprecatedRule( name='create_l3-router', check_str=base.RULE_ADMIN_ONLY) deprecated_get_l3_routers_rule = policy.DeprecatedRule( name='get_l3-routers', check_str=base.RULE_ADMIN_ONLY) deprecated_delete_l3_router_rule = policy.DeprecatedRule( name='delete_l3-router', check_str=base.RULE_ADMIN_ONLY) deprecated_get_dhcp_agents_rule = policy.DeprecatedRule( name='get_dhcp-agents', check_str=base.RULE_ADMIN_ONLY) deprecated_get_l3_agents_rule = policy.DeprecatedRule( name='get_l3-agents', check_str=base.RULE_ADMIN_ONLY) name='get_agent', check_str=base.SYSTEM_READER, description='Get an agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_get_agent_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='update_agent', check_str=base.SYSTEM_ADMIN, description='Update an agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_update_agent_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_agent', check_str=base.SYSTEM_ADMIN, description='Delete an agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_delete_agent_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='create_dhcp-network', check_str=base.SYSTEM_ADMIN, description='Add a network to a DHCP agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_create_dhcp_network_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_dhcp-networks', check_str=base.SYSTEM_READER, description='List networks on a DHCP agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_get_dhcp_networks_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_dhcp-network', check_str=base.SYSTEM_ADMIN, description='Remove a network from a DHCP agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_delete_dhcp_network_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='create_l3-router', check_str=base.SYSTEM_ADMIN, description='Add a router to an L3 agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_create_l3_router_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_l3-routers', check_str=base.SYSTEM_READER, description='List routers on an L3 agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_get_l3_routers_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_l3-router', check_str=base.SYSTEM_ADMIN, description='Remove a router from an L3 agent', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_delete_l3_router_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_dhcp-agents', check_str=base.SYSTEM_READER, description='List DHCP agents hosting a network', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_get_dhcp_agents_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_l3-agents', check_str=base.RULE_ADMIN_ONLY, description='List L3 agents hosting a router', operations=[ ], scope_types=['system'], deprecated_rule=deprecated_get_l3_agents_rule, deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby'"," 'get_agent', base.RULE_ADMIN_ONLY, 'Get an agent', [ ] 'update_agent', base.RULE_ADMIN_ONLY, 'Update an agent', [ ] 'delete_agent', base.RULE_ADMIN_ONLY, 'Delete an agent', [ ] 'create_dhcp-network', base.RULE_ADMIN_ONLY, 'Add a network to a DHCP agent', [ ] 'get_dhcp-networks', base.RULE_ADMIN_ONLY, 'List networks on a DHCP agent', [ ] 'delete_dhcp-network', base.RULE_ADMIN_ONLY, 'Remove a network from a DHCP agent', [ ] 'create_l3-router', base.RULE_ADMIN_ONLY, 'Add a router to an L3 agent', [ ] 'get_l3-routers', base.RULE_ADMIN_ONLY, 'List routers on an L3 agent', [ ] 'delete_l3-router', base.RULE_ADMIN_ONLY, 'Remove a router from an L3 agent', [ ] 'get_dhcp-agents', base.RULE_ADMIN_ONLY, 'List DHCP agents hosting a network', [ ] 'get_l3-agents', base.RULE_ADMIN_ONLY, 'List L3 agents hosting a router', [ ]",136,55
openstack%2Fopenstack-ansible-os_rally~master~Idbd71ade1ab82d2d218e560b2f10c38116ff47e3,openstack/openstack-ansible-os_rally,master,Idbd71ade1ab82d2d218e560b2f10c38116ff47e3,Ensure that the rally venv build is self contained,MERGED,2021-01-19 10:43:25.000000000,2021-01-26 15:35:08.000000000,2021-01-26 15:33:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-19 10:43:25.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/03c78725360310437ee455e0b840a2c769da0f39', 'message': ""Ensure that the rally venv build is self contained\n\nRally ships it's own version of upper-constraints [1].\n\nAs we move openstack-ansible to using the new pip resolver this\ncauses several issues. The rally specific version of u-c contains\nconstraints for pip/setuptools/wheel which will inevitably be in\nconflict with those in global-requirement-pins. This results in\nseveral problems.\n\n* Rally is branchless and so applying branch-specific versions\n  of openstack u-c is incorrect\n\n* Rally should be installed using the rally u-c rather than\n  openstack u-c\n\n* Rally should not use the repo server to build wheels as the repo\n  server wheel build venv will have different versions of pip/\n  setuptools/wheel to those specificed in rally u-c.\n\n* Rally venv build should not be subject to openstack-ansible\n  global-requirement-pins as these are in conflict with rally u-c.\n\nThis patch introduces the changes necessary to build rally in a self\ncontained manner on the utility host with no use of the repo server.\nIt also includes a revert of I73887784cbc3ce6089a42c67871dbc6c3d54acf6.\n\n[1] https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt\n\nChange-Id: Idbd71ade1ab82d2d218e560b2f10c38116ff47e3\n""}]",0,771421,03c78725360310437ee455e0b840a2c769da0f39,15,3,1,25023,,,0,"Ensure that the rally venv build is self contained

Rally ships it's own version of upper-constraints [1].

As we move openstack-ansible to using the new pip resolver this
causes several issues. The rally specific version of u-c contains
constraints for pip/setuptools/wheel which will inevitably be in
conflict with those in global-requirement-pins. This results in
several problems.

* Rally is branchless and so applying branch-specific versions
  of openstack u-c is incorrect

* Rally should be installed using the rally u-c rather than
  openstack u-c

* Rally should not use the repo server to build wheels as the repo
  server wheel build venv will have different versions of pip/
  setuptools/wheel to those specificed in rally u-c.

* Rally venv build should not be subject to openstack-ansible
  global-requirement-pins as these are in conflict with rally u-c.

This patch introduces the changes necessary to build rally in a self
contained manner on the utility host with no use of the repo server.
It also includes a revert of I73887784cbc3ce6089a42c67871dbc6c3d54acf6.

[1] https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt

Change-Id: Idbd71ade1ab82d2d218e560b2f10c38116ff47e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/21/771421/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml']",4,03c78725360310437ee455e0b840a2c769da0f39,osa-new-pip,"rally_upper_constraints_url: ""https://opendev.org/openstack/rally-openstack/raw/branch/master/upper-constraints.txt""","rally_upper_constraints_url: ""https://releases.openstack.org/constraints/upper/master""",10,1
openstack%2Fopenstack-ansible-os_trove~master~Icdc485613655ffd0c4a69839fdf555340435d2ae,openstack/openstack-ansible-os_trove,master,Icdc485613655ffd0c4a69839fdf555340435d2ae,Move trove pip packages from constraints to requirements,MERGED,2021-01-25 10:35:14.000000000,2021-01-26 15:23:40.000000000,2021-01-26 15:21:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:35:14.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/1b779c231c13c4e2c4413c3ab2e9952d30ce623c', 'message': 'Move trove pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: Icdc485613655ffd0c4a69839fdf555340435d2ae\n'}]",0,772299,1b779c231c13c4e2c4413c3ab2e9952d30ce623c,10,3,1,25023,,,0,"Move trove pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: Icdc485613655ffd0c4a69839fdf555340435d2ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/99/772299/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1b779c231c13c4e2c4413c3ab2e9952d30ce623c,osa-new-pip," - ""git+{{ trove_git_repo }}@{{ trove_git_install_branch }}#egg=trove"""," - ""git+{{ trove_git_repo }}@{{ trove_git_install_branch }}#egg=trove"" - trove",1,2
openstack%2Fneutron~master~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,master,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-19 12:03:56.000000000,2021-01-26 15:13:49.000000000,2021-01-23 23:59:45.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 12:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8ec81c69140826467b3ecbb28f2f3160c7bdefc', 'message': 'Improve DHCP agent\'s debug message about duplicate IP addresses\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n'}, {'number': 2, 'created': '2021-01-20 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eac7cf15a03c3dcb69b31b4f057f4891b0dcd5f3', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n'}, {'number': 3, 'created': '2021-01-21 15:26:36.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n'}]",10,771429,9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea,55,5,3,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/771429/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,d8ec81c69140826467b3ecbb28f2f3160c7bdefc,improve-dhcp-agent-debug-logs," self.schedule_resync( ""Duplicate IP addresses found, "" ""Port in cache: %(cache_port_id)s, "" ""Created port: %(port_id)s, "" ""IPs in cache: %(cached_ips)s, "" ""new IPs: %(new_ips)s."" ""DHCP cache is out of sync"", {'cache_port_id': port_cached['id'], 'port_id': created_port['id'], 'cached_ips': cached_ips, 'new_ips': new_ips})"," self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",11,3
openstack%2Fnova~master~I17db7cdaad2c6368092b4fb00d5959711ad249f9,openstack/nova,master,I17db7cdaad2c6368092b4fb00d5959711ad249f9,db: Compact Icehouse database migrations,MERGED,2020-10-15 11:17:29.000000000,2021-01-26 14:48:02.000000000,2021-01-26 14:44:21.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-10-15 11:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53491e40766f6d4b95302122abd461233690ce96', 'message': ""Compact pre-Juno database migrations\n\nCompacts pre-Juno database migrations into a single migration,\n'234_icehouse.py'.\n\nPre-Juno users will now need to update to Icehouse before updating to\nJuno or later.\n\nSpecific changes include:\n\n- Drop all references to dump tables entirely, since they were added in\n  216 and dropped in 232.\n- Drop the 'compute_node_stats' table in favour of a 'stats' column on\n  the 'compute_nodes' table\n- Add 'metrics' and 'extra_resources' to 'compute_nodes'\n- Add 'ephemeral_key_uuid' to 'instances'\n- Add 'host' and 'details' to 'instance_actions_events'\n- Add an index to the 'reservations' table covering the 'deleted' and\n  'expire' columns\n\nChange-Id: I17db7cdaad2c6368092b4fb00d5959711ad249f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-10-21 15:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c613e2a722754359b80645339dc09535d0cb6410', 'message': ""db: Compact Icehouse database migrations\n\nCompacts Icehouse database migrations into a single migration,\n'234_icehouse.py'.\n\nUsers will now need to update to Icehouse before updating to Juno or\nlater.\n\nSpecific changes include:\n\n- Drop all references to dump tables entirely, since they were added in\n  216 and dropped in 232.\n- Drop the 'compute_node_stats' table in favour of a 'stats' column on\n  the 'compute_nodes' table\n- Add 'metrics' and 'extra_resources' to 'compute_nodes'\n- Add 'ephemeral_key_uuid' to 'instances'\n- Add 'host' and 'details' to 'instance_actions_events'\n- Add an index to the 'reservations' table covering the 'deleted' and\n  'expire' columns\n\nChange-Id: I17db7cdaad2c6368092b4fb00d5959711ad249f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-10-28 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70dee6dadd3eeefc00172331dd4d482fba70ab1a', 'message': ""db: Compact Icehouse database migrations\n\nCompacts Icehouse database migrations into a single migration,\n'234_icehouse.py'.\n\nUsers will now need to update to Icehouse before updating to Juno or\nlater.\n\nSpecific changes include:\n\n- Drop all references to dump tables entirely, since they were added in\n  216 and dropped in 232.\n- Drop the 'compute_node_stats' table in favour of a 'stats' column on\n  the 'compute_nodes' table\n- Add 'metrics' and 'extra_resources' to 'compute_nodes'\n- Add 'ephemeral_key_uuid' to 'instances'\n- Add 'host' and 'details' to 'instance_actions_events'\n- Add an index to the 'reservations' table covering the 'deleted' and\n  'expire' columns\n\nChange-Id: I17db7cdaad2c6368092b4fb00d5959711ad249f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-01-07 11:47:59.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/219_placeholder.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/222_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/234_icehouse.py', 'nova/db/sqlalchemy/migrate_repo/versions/223_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/218_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/232_drop_dump_tables.py', 'nova/db/sqlalchemy/migrate_repo/versions/226_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/231_add_ephemeral_key_uuid.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/221_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/229_add_extra_resources_in_compute_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/217_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_add_nullable_false_to_keypairs_name.py', 'nova/db/sqlalchemy/migrate_repo/versions/225_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/220_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/230_add_details_column_to_instance_actions_events.py', 'nova/db/sqlalchemy/migrate_repo/versions/227_fix_project_user_quotas_resource_length.py', 'nova/db/sqlalchemy/migrate_repo/versions/234_add_expire_reservations_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/302_pgsql_add_instance_system_metadata_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/233_add_stats_in_compute_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/224_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/228_add_metrics_in_compute_nodes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/833b7b60dd3e6cb1763de4f11a327243fe252ea9', 'message': ""db: Compact Icehouse database migrations\n\nCompacts Icehouse database migrations into a single migration,\n'234_icehouse.py'.\n\nUsers will now need to update to Icehouse before updating to Juno or\nlater.\n\nSpecific changes include:\n\n- Drop all references to dump tables entirely, since they were added in\n  216 and dropped in 232.\n- Drop the 'compute_node_stats' table in favour of a 'stats' column on\n  the 'compute_nodes' table\n- Add 'metrics' and 'extra_resources' to 'compute_nodes'\n- Add 'ephemeral_key_uuid' to 'instances'\n- Add 'host' and 'details' to 'instance_actions_events'\n- Add an index to the 'reservations' table covering the 'deleted' and\n  'expire' columns\n\nChange-Id: I17db7cdaad2c6368092b4fb00d5959711ad249f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,758394,833b7b60dd3e6cb1763de4f11a327243fe252ea9,91,15,4,15334,,,0,"db: Compact Icehouse database migrations

Compacts Icehouse database migrations into a single migration,
'234_icehouse.py'.

Users will now need to update to Icehouse before updating to Juno or
later.

Specific changes include:

- Drop all references to dump tables entirely, since they were added in
  216 and dropped in 232.
- Drop the 'compute_node_stats' table in favour of a 'stats' column on
  the 'compute_nodes' table
- Add 'metrics' and 'extra_resources' to 'compute_nodes'
- Add 'ephemeral_key_uuid' to 'instances'
- Add 'host' and 'details' to 'instance_actions_events'
- Add an index to the 'reservations' table covering the 'deleted' and
  'expire' columns

Change-Id: I17db7cdaad2c6368092b4fb00d5959711ad249f9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/758394/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migrate_repo/versions/219_placeholder.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/222_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/234_icehouse.py', 'nova/db/sqlalchemy/migrate_repo/versions/223_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/218_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/232_drop_dump_tables.py', 'nova/db/sqlalchemy/migrate_repo/versions/226_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/231_add_ephemeral_key_uuid.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/221_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/229_add_extra_resources_in_compute_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/217_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_add_nullable_false_to_keypairs_name.py', 'nova/db/sqlalchemy/migrate_repo/versions/225_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/220_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/230_add_details_column_to_instance_actions_events.py', 'nova/db/sqlalchemy/migrate_repo/versions/227_fix_project_user_quotas_resource_length.py', 'nova/db/sqlalchemy/migrate_repo/versions/234_add_expire_reservations_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/302_pgsql_add_instance_system_metadata_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/233_add_stats_in_compute_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/224_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/228_add_metrics_in_compute_nodes.py']",24,53491e40766f6d4b95302122abd461233690ce96,bp/compact-db-migrations-wallaby,,"# Copyright 2013 Intel Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sqlalchemy import Column from sqlalchemy import MetaData from sqlalchemy import Table from sqlalchemy import Text def upgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine # Add a new column metrics to save metrics info for compute nodes compute_nodes = Table('compute_nodes', meta, autoload=True) shadow_compute_nodes = Table('shadow_compute_nodes', meta, autoload=True) metrics = Column('metrics', Text, nullable=True) shadow_metrics = Column('metrics', Text, nullable=True) compute_nodes.create_column(metrics) shadow_compute_nodes.create_column(shadow_metrics) ",14,626
openstack%2Fpython-tripleoclient~master~I464db87f8b2fa8c03ae9adea775c4567d44cd1e5,openstack/python-tripleoclient,master,I464db87f8b2fa8c03ae9adea775c4567d44cd1e5,Ignore stack-vstate-dropin.yaml for minion and uc,MERGED,2021-01-25 21:39:53.000000000,2021-01-26 14:47:35.000000000,2021-01-26 14:45:07.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 21:39:53.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2b765a8994ffb88acc86532d1cfea0234fafb17', 'message': ""Ignore stack-vstate-dropin.yaml for minion and uc\n\nWhen loading user parameters the stack-vstate-dropin.yaml\nis not yet available. It was ignored for the undercloud\ncase already, but not for the minion. This caused the\nminion install to fail.\n\nThis changes it to ignore any file ending with\n'-stack-vstate-dropin.yaml' to cover both undercloud and\nminion cases.\n\nCloses-Bug: #1913209\nChange-Id: I464db87f8b2fa8c03ae9adea775c4567d44cd1e5\n""}]",0,772444,b2b765a8994ffb88acc86532d1cfea0234fafb17,9,3,1,24245,,,0,"Ignore stack-vstate-dropin.yaml for minion and uc

When loading user parameters the stack-vstate-dropin.yaml
is not yet available. It was ignored for the undercloud
case already, but not for the minion. This caused the
minion install to fail.

This changes it to ignore any file ending with
'-stack-vstate-dropin.yaml' to cover both undercloud and
minion cases.

Closes-Bug: #1913209
Change-Id: I464db87f8b2fa8c03ae9adea775c4567d44cd1e5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/772444/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,b2b765a8994ffb88acc86532d1cfea0234fafb17,bug/1913209, # undercloud and minion heat stack virtual state tracking is not # available yet if env_file.endswith('-stack-vstate-dropin.yaml'):, # undercloud heat stack virtual state tracking is'nt available yet if env_file.endswith('undercloud-stack-vstate-dropin.yaml'):,3,2
openstack%2Fneutron~master~Ib53d39b317aae36bbb746d260442b7a132355425,openstack/neutron,master,Ib53d39b317aae36bbb746d260442b7a132355425,[FT] Add lrp port binding wait event failure message,MERGED,2021-01-19 16:45:04.000000000,2021-01-26 14:35:21.000000000,2021-01-20 13:26:31.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 16:45:04.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c12d10a248d44c14cda43f500db8b5b41c96628', 'message': '[FT] Add lrp port binding wait event failure message\n\nIn case a lrp port binding event fails, report the lrp ID to help\nthe debugging process.\n\nChange-Id: Ib53d39b317aae36bbb746d260442b7a132355425\nRelated-Bug: #1912369\n'}]",1,771489,4c12d10a248d44c14cda43f500db8b5b41c96628,10,3,1,16688,,,0,"[FT] Add lrp port binding wait event failure message

In case a lrp port binding event fails, report the lrp ID to help
the debugging process.

Change-Id: Ib53d39b317aae36bbb746d260442b7a132355425
Related-Bug: #1912369
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/771489/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/services/ovn_l3/test_plugin.py'],1,4c12d10a248d44c14cda43f500db8b5b41c96628,bug/1912369," self.assertTrue(self.cr_lrp_pb_event.wait(logical_port), msg='lrp %s failed to bind' % logical_port) self.assertTrue(self.cr_lrp_pb_event.wait(logical_port), msg='lrp %s failed to bind' % logical_port) self.assertTrue(self.cr_lrp_pb_event.wait(logical_port), msg='lrp %s failed to bind' % logical_port)", self.assertTrue(self.cr_lrp_pb_event.wait(logical_port)) self.assertTrue(self.cr_lrp_pb_event.wait(logical_port)) self.assertTrue(self.cr_lrp_pb_event.wait(logical_port)),6,3
openstack%2Fneutron~master~I9efad8eb5fe6e794235280f8a9a026800513d969,openstack/neutron,master,I9efad8eb5fe6e794235280f8a9a026800513d969,Fix stopping timer in TestTimer,MERGED,2021-01-19 12:44:02.000000000,2021-01-26 14:33:23.000000000,2021-01-20 11:02:56.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32324}]","[{'number': 1, 'created': '2021-01-19 12:44:02.000000000', 'files': ['neutron/tests/common/helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9676c28f9c6fd3e2eff34a6f621368a2d4c8d783', 'message': 'Fix stopping timer in TestTimer\n\nFixes broken functional tests where NamespaceFixture is used and\nthe TestTimer raises TestTimerTimeout even if the namespace was cleaned\nup in time.\n\nThe fix makes sure that the alarm is cancelled in __exit__ if there\nwas no alarm before TestTimer\'s __enter__ (if self._old_timer is 0).\nIt also makes sure to reset the signal handler if the old one was\nHandler.SIG_DFL (which is treated as false, no we need to check for\n""is not None"" instead).\n\nCloses-Bug: #1912320\nChange-Id: I9efad8eb5fe6e794235280f8a9a026800513d969\n'}]",4,771436,9676c28f9c6fd3e2eff34a6f621368a2d4c8d783,14,6,1,31976,,,0,"Fix stopping timer in TestTimer

Fixes broken functional tests where NamespaceFixture is used and
the TestTimer raises TestTimerTimeout even if the namespace was cleaned
up in time.

The fix makes sure that the alarm is cancelled in __exit__ if there
was no alarm before TestTimer's __enter__ (if self._old_timer is 0).
It also makes sure to reset the signal handler if the old one was
Handler.SIG_DFL (which is treated as false, no we need to check for
""is not None"" instead).

Closes-Bug: #1912320
Change-Id: I9efad8eb5fe6e794235280f8a9a026800513d969
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/771436/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/helpers.py'],1,9676c28f9c6fd3e2eff34a6f621368a2d4c8d783,bug/1912320," if self._old_handler is not None: timeout = 0 else: # If timer has expired, set the minimum required value (1) to # activate the SIGALRM event. timeout = self._old_timer - self._timeout timeout = 1 if timeout <= 0 else timeout "," if self._old_handler: return # If timer has expired, set the minimum required value (1) to activate # the SIGALRM event. timeout = self._old_timer - self._timeout timeout = 1 if timeout <= 0 else timeout",7,6
openstack%2Fneutron~master~I48e831af9f8f23993120cc28f61306017ab39757,openstack/neutron,master,I48e831af9f8f23993120cc28f61306017ab39757,ensure that the lr_lb_del is invoked after the last vip was removed,ABANDONED,2021-01-18 01:27:38.000000000,2021-01-26 14:24:44.000000000,,"[{'_account_id': 5756}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-18 01:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b58226d5a1e31f1ad5fd831811d8296d28e96b09', 'message': 'ensure that the lr_lb_del is invoked after the last vip was removed\n\nWhen the last vip is deleted, the load balancer will be deleted. However,\nrouter has weak ref to the lb, it will cause deletion to fail, causing\ntransaction execution failure, and vip will not be deleted, resulting in vip\nresidue.\n\nAt present, when there is no port forwarding in the floating IP, will\nexplicitly dissociates router from removed lb.\n\nChange-Id: I48e831af9f8f23993120cc28f61306017ab39757\n'}, {'number': 2, 'created': '2021-01-18 01:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d153fe4db3f797e8ec7277b662c0886bc7bbed41', 'message': 'ensure that the lr_lb_del is invoked after the last vip was removed\n\nWhen the last vip is deleted, the load balancer will be deleted.\nHowever, router has weak ref to the lb, it will cause deletion to\nfail, causing transaction execution failure, and vip will not be\ndeleted, resulting in vip residue.\n\nAt present, when there is no port forwarding in the floating IP, will\nexplicitly dissociates router from removed lb.\n\nChange-Id: I48e831af9f8f23993120cc28f61306017ab39757\n'}, {'number': 3, 'created': '2021-01-18 06:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be6815fef989360714d042bdcba97cb33c000b8a', 'message': 'ensure that the lr_lb_del is invoked after the last vip was removed\n\nWhen the last vip is deleted, the load balancer will be deleted.\nHowever, router has weak ref to the lb, it will cause deletion to\nfail, causing transaction execution failure, and vip will not be\ndeleted, resulting in vip residue.\n\nAt present, when there is no port forwarding in the floating IP, will\nexplicitly dissociates router from removed lb.\n\nChange-Id: I48e831af9f8f23993120cc28f61306017ab39757\n'}, {'number': 4, 'created': '2021-01-19 00:16:33.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/646be8843a86412063910af486b9a9970c752e72', 'message': 'ensure that the lr_lb_del is invoked after the last vip was removed\n\nWhen the last vip is deleted, the load balancer will be deleted.\nHowever, router has weak ref to the lb, it will cause deletion to\nfail, causing transaction execution failure, and vip will not be\ndeleted, resulting in vip residue.\n\nAt present, when there is no port forwarding in the floating IP, will\nexplicitly dissociates router from removed lb.\n\nChange-Id: I48e831af9f8f23993120cc28f61306017ab39757\n'}]",8,771157,646be8843a86412063910af486b9a9970c752e72,24,3,4,30380,,,0,"ensure that the lr_lb_del is invoked after the last vip was removed

When the last vip is deleted, the load balancer will be deleted.
However, router has weak ref to the lb, it will cause deletion to
fail, causing transaction execution failure, and vip will not be
deleted, resulting in vip residue.

At present, when there is no port forwarding in the floating IP, will
explicitly dissociates router from removed lb.

Change-Id: I48e831af9f8f23993120cc28f61306017ab39757
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/771157/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/portforwarding/drivers/ovn/driver.py'],1,b58226d5a1e31f1ad5fd831811d8296d28e96b09,," def _port_forwarding_deleted(self, ovn_txn, nb_ovn, pf_obj, dissociate_router=False): if dissociate_router: ovn_txn.add(nb_ovn.lr_lb_del(_rtr, lb_name, if_exists=True)) def port_forwarding_deleted(self, ovn_txn, nb_ovn, pf_obj, dissociate_router=False): self._port_forwarding_deleted(ovn_txn, nb_ovn, pf_obj, dissociate_router=dissociate_router) dissociate_router = False if pfs else True pf_payload.original_pf, dissociate_router=dissociate_router)"," def _port_forwarding_deleted(self, ovn_txn, nb_ovn, pf_obj): # NOTE: load balancer instance is expected to be removed by api once # last vip is removed. # Since router has weak ref to the lb, that gets taken care # automatically, but that it is not best practice to rely on # that. Unfortunately, we would need to add extra logic that # ensures that the lr_lb_del is invoked only after the last # vip was removed. So... # TODO(flaviof): see about enhancing lb_del so that removal of lb # can optionally take a logical router, which explicitly dissociates # router from removed lb. def port_forwarding_deleted(self, ovn_txn, nb_ovn, pf_obj): self._port_forwarding_deleted(ovn_txn, nb_ovn, pf_obj) pf_payload.original_pf)",11,14
openstack%2Fpython-tripleoclient~master~I65212e242557e1445761d95c69564a12da7cfe3d,openstack/python-tripleoclient,master,I65212e242557e1445761d95c69564a12da7cfe3d,Expand vstate dropin exclude,ABANDONED,2021-01-25 21:33:34.000000000,2021-01-26 14:20:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-25 21:33:34.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c7b236166a64793ab9a15d75140af42c0fed76a', 'message': 'Expand vstate dropin exclude\n\nThe minion-stack-vstate-dropin.yaml also needs to be excluded.\n\nChange-Id: I65212e242557e1445761d95c69564a12da7cfe3d\nCloses-Bug: #1913209\n'}]",0,772443,7c7b236166a64793ab9a15d75140af42c0fed76a,4,2,1,14985,,,0,"Expand vstate dropin exclude

The minion-stack-vstate-dropin.yaml also needs to be excluded.

Change-Id: I65212e242557e1445761d95c69564a12da7cfe3d
Closes-Bug: #1913209
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/772443/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,7c7b236166a64793ab9a15d75140af42c0fed76a,bug/1913209, if env_file.endswith('-stack-vstate-dropin.yaml'):, if env_file.endswith('undercloud-stack-vstate-dropin.yaml'):,1,1
openstack%2Fheat-translator~master~Iae79b8c5c6873d6bf5f6ef1b427dc8c60bade03f,openstack/heat-translator,master,Iae79b8c5c6873d6bf5f6ef1b427dc8c60bade03f,Move heat-translator to new hacking 4.0.0,MERGED,2021-01-26 08:30:28.000000000,2021-01-26 14:20:02.000000000,2021-01-26 14:18:08.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27880}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-01-26 08:30:28.000000000', 'files': ['test-requirements.txt', 'translator/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/6687b35b465d8d853fa1980a1f3b76d2b7e064fc', 'message': 'Move heat-translator to new hacking 4.0.0\n\nHacking 4.0.0 has introduce new optimal assert checks.\nPlease refer [1] for more details.\n\nAdditionally Hacking has enabled some new checks by default,\nand the next update to the new release will introduce failures\nin heat-translator pep8 jobs.\nThe main impact is from I122d250cab90964c346e9d53046a97c25054bc00.\n\nThis patch adopts new optimal assert check.\n  [H211]:  Change assertTrue(isinstance(A, B)) to\n           assertIsInstance(A, B).\n\nOn bumping up the hacking version, below mention pep8 jobs failed.\nThis patch address the issues now, when the new hacking release starts\nbeing used it will not cause a disruption.\n\npep8 run-test: commands[0] | flake8\n./translator/tests/test_utils.py:51:13: H211: Use assert{Is,IsNot}instance\n         self.assertTrue(\n\n[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-4-0-0\n\nChange-Id: Iae79b8c5c6873d6bf5f6ef1b427dc8c60bade03f\n'}]",0,772477,6687b35b465d8d853fa1980a1f3b76d2b7e064fc,8,5,1,32102,,,0,"Move heat-translator to new hacking 4.0.0

Hacking 4.0.0 has introduce new optimal assert checks.
Please refer [1] for more details.

Additionally Hacking has enabled some new checks by default,
and the next update to the new release will introduce failures
in heat-translator pep8 jobs.
The main impact is from I122d250cab90964c346e9d53046a97c25054bc00.

This patch adopts new optimal assert check.
  [H211]:  Change assertTrue(isinstance(A, B)) to
           assertIsInstance(A, B).

On bumping up the hacking version, below mention pep8 jobs failed.
This patch address the issues now, when the new hacking release starts
being used it will not cause a disruption.

pep8 run-test: commands[0] | flake8
./translator/tests/test_utils.py:51:13: H211: Use assert{Is,IsNot}instance
         self.assertTrue(

[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-4-0-0

Change-Id: Iae79b8c5c6873d6bf5f6ef1b427dc8c60bade03f
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/77/772477/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'translator/tests/test_utils.py']",2,6687b35b465d8d853fa1980a1f3b76d2b7e064fc,hacking," self.assertIsInstance(err, ValueError)"," self.assertTrue( isinstance(err, ValueError))",2,3
openstack%2Fneutron~master~Iad29cb34825adaa8c766d01b192a6bbe9992148b,openstack/neutron,master,Iad29cb34825adaa8c766d01b192a6bbe9992148b,[QoS] Get only min bw rules when extending port dict,MERGED,2020-11-27 09:51:10.000000000,2021-01-26 14:17:18.000000000,2021-01-20 05:56:30.000000000,"[{'_account_id': 8313}, {'_account_id': 9373}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-27 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0797d1c9408cf18e308a608d2c3487be4ee3585', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}, {'number': 2, 'created': '2020-11-27 11:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3a8331745d78c1bc01f3811f52f6b4a507afeed', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}, {'number': 3, 'created': '2020-11-27 12:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c78dcd4ed1c4f66475a6e99a232780b7d23c3f97', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}, {'number': 4, 'created': '2020-11-27 14:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12d9557b56973600d4969619a3e446c7d99b934b', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}, {'number': 5, 'created': '2020-12-13 06:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adef67ef02b153f675b529138b8ec6c298f741f9', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}, {'number': 6, 'created': '2020-12-14 05:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/334fa1ba276e0d375724b0203999643e04a5724e', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}, {'number': 7, 'created': '2021-01-18 11:13:43.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7e02cdb17350de6948af37a8304c1962cb70392', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n'}]",0,764433,a7e02cdb17350de6948af37a8304c1962cb70392,72,7,7,5948,,,0,"[QoS] Get only min bw rules when extending port dict

Only min bw rules are required hence no need to fetch
all rules of QoS policy.
Also no need to get qos policy from DB

Partial-Bug: #1905726
Change-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/764433/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,a0797d1c9408cf18e308a608d2c3487be4ee3585,bug/1905726, min_bw_rules = rule_object.QosMinimumBandwidthRule.get_objects( qos_policy_id=qos_id) for rule in min_bw_rules: resources[rule_direction_class[rule.direction]] = rule.min_kbps, for rule in qos_policy.rules: if rule.rule_type == qos_consts.RULE_TYPE_MINIMUM_BANDWIDTH: resources[rule_direction_class[rule.direction]] = rule.min_kbps,4,3
openstack%2Fneutron~master~If54d7349f629585106151794f52c16c3d5b3c26f,openstack/neutron,master,If54d7349f629585106151794f52c16c3d5b3c26f,[fullstack] Use delete_port attribute of destroy VM,MERGED,2021-01-14 12:27:45.000000000,2021-01-26 14:16:29.000000000,2021-01-19 12:00:49.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 12:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e56fde918ef6326d8200b16d9a6479ce10ce4ba6', 'message': '[fullstack] Use delete_port attribute of destroy VM\n\ntest_subnet_delete_race_condition fullstack test deleted port as a test\nstep, but now destroy can do that.\n\nChange-Id: If54d7349f629585106151794f52c16c3d5b3c26f\nRelated-bug: #1909234\n'}, {'number': 2, 'created': '2021-01-18 10:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dedd3c71d3adf2ce87bb15be5971ceca4c1ee4f7', 'message': '[fullstack] Use delete_port attribute of destroy VM\n\ntest_subnet_delete_race_condition fullstack test deleted port as a test\nstep, but now destroy can do that.\n\nChange-Id: If54d7349f629585106151794f52c16c3d5b3c26f\nRelated-bug: #1909234\n'}, {'number': 3, 'created': '2021-01-18 11:55:02.000000000', 'files': ['neutron/tests/fullstack/test_dhcp_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bbb31f46c19d29afb3fd223532d729de54e3639', 'message': '[fullstack] Use delete_port attribute of destroy VM\n\ntest_subnet_delete_race_condition fullstack test deleted port as a test\nstep, but now destroy can do that.\n\nChange-Id: If54d7349f629585106151794f52c16c3d5b3c26f\nRelated-bug: #1909234\n'}]",3,770799,1bbb31f46c19d29afb3fd223532d729de54e3639,22,5,3,8313,,,0,"[fullstack] Use delete_port attribute of destroy VM

test_subnet_delete_race_condition fullstack test deleted port as a test
step, but now destroy can do that.

Change-Id: If54d7349f629585106151794f52c16c3d5b3c26f
Related-bug: #1909234
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/770799/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_dhcp_agent.py'],1,e56fde918ef6326d8200b16d9a6479ce10ce4ba6,bug/1909234, self.vm.destroy(delete_port=True), self.vm.destroy() self.client.delete_port(port_id),1,3
openstack%2Ftosca-parser~master~I5c83168267be63d4b3908ce6bb844a64bcee837d,openstack/tosca-parser,master,I5c83168267be63d4b3908ce6bb844a64bcee837d,Move tosca-parser to new hacking 4.0.0,MERGED,2021-01-26 11:00:56.000000000,2021-01-26 14:15:25.000000000,2021-01-26 14:13:41.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-01-26 11:00:56.000000000', 'files': ['test-requirements.txt', 'toscaparser/tests/test_toscatplvalidation.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/ce8fa0f8bc3e160168d07dae9f96075631688132', 'message': 'Move tosca-parser to new hacking 4.0.0\n\nHacking 4.0.0 has introduce new optimal assert checks.\nPlease refer [1] for more details.\n\nAdditionally Hacking has enabled some new checks by default,\nand the next update to the new release will introduce failures\nin tosca-parser pep8 jobs.\nThe main impact is from I122d250cab90964c346e9d53046a97c25054bc00.\n\nThis patch adopts new optimal assert check.\n[H211]:  Change assertTrue(isinstance(A, B)) to assertIsInstance(A, B)\n\nOn bumping up the hacking version, below mention pep8 jobs failed.\nThis patch address the issues now, when the new hacking release starts\nbeing used it will not cause a disruption.\n\npep8 run-test: commands[0] | flake8\n./toscaparser/tests/test_toscatplvalidation.py:502:13:\n                                   H211: Use assert{Is,IsNot}instance\n\n[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-4-0-0\n\nChange-Id: I5c83168267be63d4b3908ce6bb844a64bcee837d\n'}]",0,772497,ce8fa0f8bc3e160168d07dae9f96075631688132,7,5,1,32102,,,0,"Move tosca-parser to new hacking 4.0.0

Hacking 4.0.0 has introduce new optimal assert checks.
Please refer [1] for more details.

Additionally Hacking has enabled some new checks by default,
and the next update to the new release will introduce failures
in tosca-parser pep8 jobs.
The main impact is from I122d250cab90964c346e9d53046a97c25054bc00.

This patch adopts new optimal assert check.
[H211]:  Change assertTrue(isinstance(A, B)) to assertIsInstance(A, B)

On bumping up the hacking version, below mention pep8 jobs failed.
This patch address the issues now, when the new hacking release starts
being used it will not cause a disruption.

pep8 run-test: commands[0] | flake8
./toscaparser/tests/test_toscatplvalidation.py:502:13:
                                   H211: Use assert{Is,IsNot}instance

[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-4-0-0

Change-Id: I5c83168267be63d4b3908ce6bb844a64bcee837d
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/97/772497/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'toscaparser/tests/test_toscatplvalidation.py']",2,ce8fa0f8bc3e160168d07dae9f96075631688132,hacking," self.assertIsInstance(err, exception.MissingRequiredFieldError)"," self.assertTrue( isinstance(err, exception.MissingRequiredFieldError))",2,3
openstack%2Fneutron~master~Iffdc0373ed72aea1320155ea8bec93dce797f27c,openstack/neutron,master,Iffdc0373ed72aea1320155ea8bec93dce797f27c,"[FT] Reduce ""test_walk_versions"" upgrade executions",MERGED,2021-01-15 14:00:29.000000000,2021-01-26 14:11:57.000000000,2021-01-19 11:57:52.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 14:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c612e684353b424df63bc9583fc63a7814b2f3cb', 'message': '[FT] Reduce ""test_walk_versions"" upgrade executions\n\n""_TestWalkMigrations.test_walk_versions"" is inherited in other classes\nto check a specific DB revision upgrade. The goal is to, from the\nprevious DB revision, create a testing condition and then upgrade to\nthe related DB revision. If the upgrade is correct, the test should\npass.\n\nThis patch reduces the number of Neutron DB upgrade operations to\njust three:\n- Upgrade the DB to the previous DB revision to check.\n- Upgrade the DB to the related DB revision, after setting the testing\n  conditions.\n- A final upgrade up to the latest DB revision.\n\nIn a testing deployment, this reduces the execution time from 60 seconds\nto 35 seconds, without reducing the testing scope.\n\nChange-Id: Iffdc0373ed72aea1320155ea8bec93dce797f27c\nRelated-Bug: #1911153\n'}, {'number': 2, 'created': '2021-01-18 11:04:19.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c84ae9762c2bae84a3f5f20cfb01b8ef00f46118', 'message': '[FT] Reduce ""test_walk_versions"" upgrade executions\n\n""_TestWalkMigrations.test_walk_versions"" is inherited in other classes\nto check a specific DB revision upgrade. The goal is to, from the\nprevious DB revision, create a testing condition and then upgrade to\nthe related DB revision. If the upgrade is correct, the test should\npass.\n\nThis patch reduces the number of Neutron DB upgrade operations to\njust three:\n- Upgrade the DB to the previous DB revision to check.\n- Upgrade the DB to the related DB revision, after setting the testing\n  conditions.\n- A final upgrade up to the latest DB revision.\n\nIn a testing deployment, this reduces the execution time from 60 seconds\nto 35 seconds, without reducing the testing scope.\n\nChange-Id: Iffdc0373ed72aea1320155ea8bec93dce797f27c\nRelated-Bug: #1911153\n'}]",4,770935,c84ae9762c2bae84a3f5f20cfb01b8ef00f46118,19,4,2,16688,,,0,"[FT] Reduce ""test_walk_versions"" upgrade executions

""_TestWalkMigrations.test_walk_versions"" is inherited in other classes
to check a specific DB revision upgrade. The goal is to, from the
previous DB revision, create a testing condition and then upgrade to
the related DB revision. If the upgrade is correct, the test should
pass.

This patch reduces the number of Neutron DB upgrade operations to
just three:
- Upgrade the DB to the previous DB revision to check.
- Upgrade the DB to the related DB revision, after setting the testing
  conditions.
- A final upgrade up to the latest DB revision.

In a testing deployment, this reduces the execution time from 60 seconds
to 35 seconds, without reducing the testing scope.

Change-Id: Iffdc0373ed72aea1320155ea8bec93dce797f27c
Related-Bug: #1911153
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/770935/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,c612e684353b424df63bc9583fc63a7814b2f3cb,bug/1911153," if not with_data: return data = None check = getattr(self, ""_check_%s"" % dest, None) pre_upgrade = getattr(self, ""_pre_upgrade_%s"" % dest, None) if pre_upgrade: if curr: migration.do_alembic_command(config, 'upgrade', curr) data = pre_upgrade(engine) if check and data: migration.do_alembic_command(config, 'upgrade', dest) check(engine, data) # dest_pre = None # dest_post = None if dest: migration.do_alembic_command(config, 'upgrade', dest) "," if with_data: data = None pre_upgrade = getattr( self, ""_pre_upgrade_%s"" % dest, None) if pre_upgrade: data = pre_upgrade(engine) migration.do_alembic_command(config, 'upgrade', dest) if with_data: check = getattr(self, ""_check_%s"" % dest, None) if check and data: check(engine, data)",19,11
openstack%2Fopenstack-ansible-galera_server~master~Ie2a802ebb8297bed03d74b3cf54907322b858896,openstack/openstack-ansible-galera_server,master,Ie2a802ebb8297bed03d74b3cf54907322b858896,Bring db setup vars in line with other roles,MERGED,2021-01-20 14:15:53.000000000,2021-01-26 13:59:43.000000000,2021-01-26 13:57:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-20 14:15:53.000000000', 'files': ['tasks/galera_server_backups.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8ce7da7a3c52126706c90a2bc27cc41c31b87ece', 'message': 'Bring db setup vars in line with other roles\n\nAllows for galera_db_setup_host to be overridden if necessary for delegation.\nBrings the format in line with the db_setup vars in other roles.\n\nChange-Id: Ie2a802ebb8297bed03d74b3cf54907322b858896\n'}]",0,771652,8ce7da7a3c52126706c90a2bc27cc41c31b87ece,8,3,1,29865,,,0,"Bring db setup vars in line with other roles

Allows for galera_db_setup_host to be overridden if necessary for delegation.
Brings the format in line with the db_setup vars in other roles.

Change-Id: Ie2a802ebb8297bed03d74b3cf54907322b858896
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/52/771652/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_backups.yml', 'defaults/main.yml']",2,8ce7da7a3c52126706c90a2bc27cc41c31b87ece,,"## Database info galera_db_setup_host: ""{{ openstack_db_setup_host | default(galera_cluster_members[0] | default('localhost')) }}"" galera_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((galera_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}"" ",,6,5
openstack%2Fpuppet-nova~master~I9648f3c074eff88dc6663b75b7095b01a6da39a3,openstack/puppet-nova,master,I9648f3c074eff88dc6663b75b7095b01a6da39a3,Migrate parameters about block device allocation,MERGED,2021-01-12 05:04:35.000000000,2021-01-26 13:51:20.000000000,2021-01-26 13:48:17.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 05:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3e4a19f213c130484c1c1ee4ca407fa49302636b', 'message': 'Migrate parameters about block device allocation\n\nThe following parameters are used only by nova-compute. This change\nmigrates these parameters from the nova class to the nova::compute\nclass to gather all parameters specific to nova-compute into its own\nclass.\n - block_device_allocate_retries\n - block_device_allocate_retries_interval\n\nChange-Id: I9648f3c074eff88dc6663b75b7095b01a6da39a3\n'}, {'number': 2, 'created': '2021-01-12 06:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/acbb5b75c99a61ca0e47a5d0956f97eeca6fa7ef', 'message': 'Migrate parameters about block device allocation\n\nThe following parameters are used only by nova-compute. This change\nmigrates these parameters from the nova class to the nova::compute\nclass to gather all parameters specific to nova-compute into its own\nclass.\n - block_device_allocate_retries\n - block_device_allocate_retries_interval\n\nChange-Id: I9648f3c074eff88dc6663b75b7095b01a6da39a3\n'}, {'number': 3, 'created': '2021-01-13 23:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0afa5f48a58c1168e91be0721e325af546c2e06b', 'message': 'Migrate parameters about block device allocation\n\nThe following parameters are used only by nova-compute. This change\nmigrates these parameters from the nova class to the nova::compute\nclass to gather all parameters specific to nova-compute into its own\nclass.\n - block_device_allocate_retries\n - block_device_allocate_retries_interval\n\nChange-Id: I9648f3c074eff88dc6663b75b7095b01a6da39a3\n'}, {'number': 4, 'created': '2021-01-25 07:02:43.000000000', 'files': ['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/init.pp', 'releasenotes/notes/block_device_allocate_retries-a12f17bd0121ef7d.yaml', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8c2f57b685451fd9149f10c65dabfb05985623f4', 'message': 'Migrate parameters about block device allocation\n\nThe following parameters are used only by nova-compute. This change\nmigrates these parameters from the nova class to the nova::compute\nclass to gather all parameters specific to nova-compute into its own\nclass.\n - block_device_allocate_retries\n - block_device_allocate_retries_interval\n\nChange-Id: I9648f3c074eff88dc6663b75b7095b01a6da39a3\n'}]",0,770229,8c2f57b685451fd9149f10c65dabfb05985623f4,21,4,4,9816,,,0,"Migrate parameters about block device allocation

The following parameters are used only by nova-compute. This change
migrates these parameters from the nova class to the nova::compute
class to gather all parameters specific to nova-compute into its own
class.
 - block_device_allocate_retries
 - block_device_allocate_retries_interval

Change-Id: I9648f3c074eff88dc6663b75b7095b01a6da39a3
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/29/770229/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/init.pp', 'releasenotes/notes/block_device_allocate_retries-a12f17bd0121ef7d.yaml', 'spec/classes/nova_init_spec.rb']",5,3e4a19f213c130484c1c1ee4ca407fa49302636b,block-device-allocate,," it 'configures block_device_allocate params' do is_expected.to contain_nova_config('DEFAULT/block_device_allocate_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/block_device_allocate_retries_interval').with_value('<SERVICE DEFAULT>') end :block_device_allocate_retries => '60', :block_device_allocate_retries_interval => '3', it 'configures block_device_allocate params' do is_expected.to contain_nova_config('DEFAULT/block_device_allocate_retries').with_value('60') is_expected.to contain_nova_config('DEFAULT/block_device_allocate_retries_interval').with_value('3') end",55,24
openstack%2Fcinderlib~master~Ic4ea07a65e0cd167a495bb184e6688466b4a8c46,openstack/cinderlib,master,Ic4ea07a65e0cd167a495bb184e6688466b4a8c46,Update requirements,ABANDONED,2021-01-26 13:40:32.000000000,2021-01-26 13:49:19.000000000,,[],"[{'number': 1, 'created': '2021-01-26 13:40:32.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/4f448e5a8d993bdb5f3ec6065645fba97f251307', 'message': ""Update requirements\n\n- cap cinder at < 18.0.0 (wallaby) in requirements.txt because cinder\n  isn't in upper-constraints\n- add os-brick>=4.0.1 (victoria official release) to requirements\n- tox.ini: base testenv: add upper-constraints and change to use\n  cinder and os-brick from pypi instead of master\n\nChange-Id: Ic4ea07a65e0cd167a495bb184e6688466b4a8c46\n""}]",0,772520,4f448e5a8d993bdb5f3ec6065645fba97f251307,2,0,1,5314,,,0,"Update requirements

- cap cinder at < 18.0.0 (wallaby) in requirements.txt because cinder
  isn't in upper-constraints
- add os-brick>=4.0.1 (victoria official release) to requirements
- tox.ini: base testenv: add upper-constraints and change to use
  cinder and os-brick from pypi instead of master

Change-Id: Ic4ea07a65e0cd167a495bb184e6688466b4a8c46
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/20/772520/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,4f448e5a8d993bdb5f3ec6065645fba97f251307,update-l-c,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,# Use cinder from master instead of from PyPi. Defining the egg name we won't # overwrite the package installed by Zuul on jobs supporting cross-project # dependencies (include Cinder in required-projects). This allows us to also # run local tests against master. # NOTE: Functional tests may fail if host is missing bindeps from deps projects deps= -r{toxinidir}/test-requirements.txt git+https://opendev.org/openstack/os-brick#egg=os-brick git+https://opendev.org/openstack/cinder#egg=cinder,5,9
openstack%2Fdevstack-plugin-container~master~Ib06753d22f8859eefedc031094851b052f4105b6,openstack/devstack-plugin-container,master,Ib06753d22f8859eefedc031094851b052f4105b6,Change repos from projectatomic to kubic OBS project.,MERGED,2021-01-25 12:30:44.000000000,2021-01-26 13:34:14.000000000,2021-01-26 13:34:14.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 12:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/c7c50ec2b2d2f063de0879a54c5fd6182a9937b9', 'message': 'Change repos from projectatomic to kubic OBS project.\n\nSince projectatomic Ubuntu builds are deprecated, and advice was to\nconsult upstream documentation[1], Kubernetes with cri-o now rely on\nKubic project, which (among the others) provides packages for Ubuntu\n20.04. Let us switch for those.\n\n[1] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cri-o\n\nChange-Id: Ib06753d22f8859eefedc031094851b052f4105b6\n'}, {'number': 2, 'created': '2021-01-25 12:33:19.000000000', 'files': ['devstack/lib/crio', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/d4de1bb9905aebff7e3620d08aa65dc334d435b8', 'message': 'Change repos from projectatomic to kubic OBS project.\n\nSince projectatomic Ubuntu builds are deprecated, and advice was to\nconsult upstream documentation[1], Kubernetes with cri-o now rely on\nKubic project, which (among the others) provides packages for Ubuntu\n20.04. Let us switch for those.\n\n[1] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cri-o\n\nChange-Id: Ib06753d22f8859eefedc031094851b052f4105b6\n'}]",0,772332,d4de1bb9905aebff7e3620d08aa65dc334d435b8,8,3,2,13692,,,0,"Change repos from projectatomic to kubic OBS project.

Since projectatomic Ubuntu builds are deprecated, and advice was to
consult upstream documentation[1], Kubernetes with cri-o now rely on
Kubic project, which (among the others) provides packages for Ubuntu
20.04. Let us switch for those.

[1] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cri-o

Change-Id: Ib06753d22f8859eefedc031094851b052f4105b6
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/32/772332/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/crio', 'devstack/settings']",2,c7c50ec2b2d2f063de0879a54c5fd6182a9937b9,switch-crio-to-kubic,"CRIO_VERSION=${CRIO_VERSION:-""1.18:/1.18.0""}",,14,14
openstack%2Fansible-role-thales-hsm~master~I88da5d15cf30e3159807fd6ada57b3bbf4ce5789,openstack/ansible-role-thales-hsm,master,I88da5d15cf30e3159807fd6ada57b3bbf4ce5789,Update README to clarify Thales name,MERGED,2021-01-11 18:34:41.000000000,2021-01-26 13:26:56.000000000,2021-01-26 13:26:56.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-11 18:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/7439fdf4c645c8d4891ab75179bd9459f96305b1', 'message': 'Update README to clarify Thales name\n\nChange-Id: I88da5d15cf30e3159807fd6ada57b3bbf4ce5789\n'}, {'number': 2, 'created': '2021-01-12 16:16:52.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/859093432058f9474b630f3b056f051dae8eeaaf', 'message': 'Update README to clarify Thales name\n\nChange-Id: I88da5d15cf30e3159807fd6ada57b3bbf4ce5789\n'}]",0,770168,859093432058f9474b630f3b056f051dae8eeaaf,9,3,2,7973,,,0,"Update README to clarify Thales name

Change-Id: I88da5d15cf30e3159807fd6ada57b3bbf4ce5789
",git fetch https://review.opendev.org/openstack/ansible-role-thales-hsm refs/changes/68/770168/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7439fdf4c645c8d4891ab75179bd9459f96305b1,,"This is a role to manage the client software for Entrust nShield Connect Hardware Security Modules (HSMs). This repo uses the ""Thales"" name for historical reasons: At the time when this repository was created nShield HSMs were owned by Thales. Since then, the nShield line of HSMs have gone through some ownership changes, including nCipher for some time, and currently Entrust. If you are looking for the ansible role to manage client software for Thales Luna Network HSMs you can find it here: https://opendev.org/openstack/ansible-role-lunasa-hsm",A role to manage Thales Hardware Security Module (HSM) client software.,13,1
openstack%2Fkuryr-kubernetes~master~Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c,openstack/kuryr-kubernetes,master,Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c,Add OpenShiftNodesSubnets driver and MachineHandler,MERGED,2020-12-23 16:57:34.000000000,2021-01-26 13:26:16.000000000,2021-01-26 13:21:38.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-12-23 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f1e75c6ed0fcb7105cd00ab077245f408819efae', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 2, 'created': '2021-01-07 16:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eba71b35ed7725f4216d4669d69936b51feb83b0', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 3, 'created': '2021-01-08 11:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f47086b758f242e4a6002238fd462050f6f52d8b', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 4, 'created': '2021-01-08 14:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a817c4eca1b6f24b39692fb9ac51722c14f7cf5c', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 5, 'created': '2021-01-13 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/750fcb26bc7f913103a17a0ba599f410e2284c6e', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 6, 'created': '2021-01-15 16:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4aa0843c8d0f646af5cf5d49b904906897695e55', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 7, 'created': '2021-01-18 13:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d41da8ed0398153d3be0f71bf414c75480c9f685', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 8, 'created': '2021-01-19 08:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dff6149506ad77c2f8913ffa9c27c3a7256ba516', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 9, 'created': '2021-01-22 08:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e11a53b93ed3eed47d17294674f0477abccb6615', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}, {'number': 10, 'created': '2021-01-22 12:41:59.000000000', 'files': ['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_node_subnets.py', 'kuryr_kubernetes/controller/handlers/machine.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_machine.py', 'setup.cfg', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e95ed536d6d8f95bfa6fa798b71ceb9af5d0ff35', 'message': ""Add OpenShiftNodesSubnets driver and MachineHandler\n\nIn order to support OpenShift's ability to run its nodes in various\nOpenStack subnets in a dynamic way, this commit introduces the\nOpenShiftNodesSubnets and MachineHandler. The idea is that\nMachineHandler is responsible for watching the OpenShift Machine objects\nand calling the driver. The driver will then save and serve a list of\ncurrent worker nodes subnets.\n\nChange-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c\n""}]",2,768357,e95ed536d6d8f95bfa6fa798b71ceb9af5d0ff35,41,5,10,11600,,,0,"Add OpenShiftNodesSubnets driver and MachineHandler

In order to support OpenShift's ability to run its nodes in various
OpenStack subnets in a dynamic way, this commit introduces the
OpenShiftNodesSubnets and MachineHandler. The idea is that
MachineHandler is responsible for watching the OpenShift Machine objects
and calling the driver. The driver will then save and serve a list of
current worker nodes subnets.

Change-Id: Iae3a5d011abaeab4aa97d6aa7153227c6f85b93c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/768357/7 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/controller/handlers/machine.py', 'setup.cfg', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/constants.py']",5,f1e75c6ed0fcb7105cd00ab077245f408819efae,multiple-subnets,OPENSHIFT_OBJ_MACHINE = 'Machine' OPENSHIFT_API_CRD_MACHINES = '/apis/machine.openshift.io/v1beta/machines' ,,138,0
openstack%2Fnova~stable%2Fvictoria~Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,openstack/nova,stable/victoria,Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,compute: Lock by instance.uuid lock during swap_volume,MERGED,2020-10-19 09:05:14.000000000,2021-01-26 13:26:04.000000000,2021-01-26 13:23:52.000000000,"[{'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-10-19 09:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a53e8471728ba934b55fd6438405f897f07293ca', 'message': 'compute: Lock by instance.uuid lock during swap_volume\n\nThe libvirt driver is currently the only virt driver implementing swap\nvolume within Nova. While libvirt itself does support moving between\nmultiple volumes attached to the same instance at the same time the\ncurrent logic within the libvirt driver makes a call to\nvirDomainGetXMLDesc that fails if there are active block jobs against\nany disk attached to the domain.\n\nThis change simply uses an instance.uuid based lock in the compute layer\nto serialise requests to swap_volume to avoid this from being possible.\n\nCloses-Bug: #1896621\nChange-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c\n(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)\n'}, {'number': 2, 'created': '2021-01-19 21:26:37.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eebf94b6540fcd16826067fac544b5a3238842a3', 'message': 'compute: Lock by instance.uuid lock during swap_volume\n\nThe libvirt driver is currently the only virt driver implementing swap\nvolume within Nova. While libvirt itself does support moving between\nmultiple volumes attached to the same instance at the same time the\ncurrent logic within the libvirt driver makes a call to\nvirDomainGetXMLDesc that fails if there are active block jobs against\nany disk attached to the domain.\n\nThis change simply uses an instance.uuid based lock in the compute layer\nto serialise requests to swap_volume to avoid this from being possible.\n\nCloses-Bug: #1896621\nChange-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c\n(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)\n'}]",0,758730,eebf94b6540fcd16826067fac544b5a3238842a3,17,5,2,10135,,,0,"compute: Lock by instance.uuid lock during swap_volume

The libvirt driver is currently the only virt driver implementing swap
volume within Nova. While libvirt itself does support moving between
multiple volumes attached to the same instance at the same time the
current logic within the libvirt driver makes a call to
virDomainGetXMLDesc that fails if there are active block jobs against
any disk attached to the domain.

This change simply uses an instance.uuid based lock in the compute layer
to serialise requests to swap_volume to avoid this from being possible.

Closes-Bug: #1896621
Change-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c
(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/758730/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,a53e8471728ba934b55fd6438405f897f07293ca,bug/1896621," """"""Replace the old volume with the new volume within the active server :param context: User request context :param old_volume_id: Original volume id :param new_volume_id: New volume id being swapped to :param instance: Instance with original_volume_id attached :param new_attachment_id: ID of the new attachment for new_volume_id """""" @utils.synchronized(instance.uuid) def _do_locked_swap_volume(context, old_volume_id, new_volume_id, instance, new_attachment_id): self._do_swap_volume(context, old_volume_id, new_volume_id, instance, new_attachment_id) _do_locked_swap_volume(context, old_volume_id, new_volume_id, instance, new_attachment_id) def _do_swap_volume(self, context, old_volume_id, new_volume_id, instance, new_attachment_id): """"""Replace the old volume with the new volume within the active server :param context: User request context :param old_volume_id: Original volume id :param new_volume_id: New volume id being swapped to :param instance: Instance with original_volume_id attached :param new_attachment_id: ID of the new attachment for new_volume_id """""" context = context.elevated()"," """"""Swap volume for an instance."""""" context = context.elevated() ",26,2
openstack%2Fpython-barbicanclient~master~Ic17f4a758e5ab38072275a9f873a5eb15d49dc13,openstack/python-barbicanclient,master,Ic17f4a758e5ab38072275a9f873a5eb15d49dc13,remove py37,ABANDONED,2021-01-03 07:26:33.000000000,2021-01-26 13:24:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 07:26:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/8cf8925d7ec86f4e2b9ac55732eb8d09e0a1ef39', 'message': 'remove py37\n\nChange-Id: Ic17f4a758e5ab38072275a9f873a5eb15d49dc13\n'}]",0,768977,8cf8925d7ec86f4e2b9ac55732eb8d09e0a1ef39,3,1,1,31319,,,0,"remove py37

Change-Id: Ic17f4a758e5ab38072275a9f873a5eb15d49dc13
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/77/768977/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8cf8925d7ec86f4e2b9ac55732eb8d09e0a1ef39,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fkuryr-kubernetes~master~I7671fb06863d58b58905bec43555d8f21626f640,openstack/kuryr-kubernetes,master,I7671fb06863d58b58905bec43555d8f21626f640,Multiple nodes subnets support,MERGED,2020-12-23 16:57:34.000000000,2021-01-26 13:24:05.000000000,2021-01-26 13:21:26.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-12-23 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/55512ca298863cf951b452c3b12b57d0fe53154b', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}, {'number': 2, 'created': '2021-01-07 16:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4894a8e01489cfd317fa0ffdab0c52ae22954689', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}, {'number': 3, 'created': '2021-01-08 11:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/33fbcc022518531e500839a228b9fa9456e44c36', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}, {'number': 4, 'created': '2021-01-08 14:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/30d27bc5d9416f5cd4de66431ad01c006eae056f', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}, {'number': 5, 'created': '2021-01-13 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d33f3104f41bb26e66b9eac92955e3aeef5342da', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}, {'number': 6, 'created': '2021-01-22 08:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa75a8edb6b1f4cc4e3eef3648923df853009bad', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}, {'number': 7, 'created': '2021-01-22 12:41:59.000000000', 'files': ['doc/source/installation/devstack/nested-macvlan.rst', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'doc/source/installation/containerized.rst', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'kuryr_kubernetes/utils.py', 'tools/generate_k8s_resource_definitions.sh', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/config.py', 'doc/source/installation/devstack/nested-vlan.rst', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'releasenotes/notes/deprecate-worker-nodes-subnet-e452c84df5b5ed5c.yaml', 'doc/source/nested_vlan_mode.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b3814a33d60315186640fd3383841d747007a9ad', 'message': 'Multiple nodes subnets support\n\nThis commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of\n`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.\nAll the code using the deprecated options is updated to expect a list\nand iterate over possible nodes subnets.\n\nChange-Id: I7671fb06863d58b58905bec43555d8f21626f640\n'}]",9,768355,b3814a33d60315186640fd3383841d747007a9ad,46,5,7,11600,,,0,"Multiple nodes subnets support

This commit deprecates `[pod_vif_nested]worker_nodes_subnet` in favor of
`[pod_vif_nested]worker_nodes_subnets` that will accept a list instead.
All the code using the deprecated options is updated to expect a list
and iterate over possible nodes subnets.

Change-Id: I7671fb06863d58b58905bec43555d8f21626f640
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/768355/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'releasenotes/notes/deprecate-worker-nodes-subnet-e452c84df5b5ed5c.yaml', 'kuryr_kubernetes/utils.py']",8,55512ca298863cf951b452c3b12b57d0fe53154b,multiple-subnets,"def get_subnets_id_cidrs(subnet_ids): os_net = clients.get_network_client() subnets = os_net.subnets() cidrs = [(subnet.id, subnet.cidr) for subnet in subnets if subnet.id in subnet_ids] if len(cidrs) != len(subnet_ids): existing = {subnet.id for subnet in subnets} missing = set(subnet_ids) - existing LOG.exception(""CIDRs of subnets %s not found!"", missing) raise os_exc.ResourceNotFound() return cidrs def get_subnets_cidrs(subnet_ids): return [x[1] for x in get_subnets_id_cidrs(subnet_ids)] @MEMOIZEdef get_subnet_by_ip(nodes_subnets, target_ip): ip = ipaddress.ip_address(target_ip) for nodes_subnet in nodes_subnets: if ip in ipaddress.ip_network(nodes_subnet[1]): return nodes_subnet return None","def is_ip_on_subnet(nodes_subnet, target_ip): return (nodes_subnet and (ipaddress.ip_address(target_ip) in ipaddress.ip_network(nodes_subnet)))",121,51
openstack%2Fneutron~master~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,master,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-17 22:39:48.000000000,2021-01-26 13:21:49.000000000,2021-01-20 17:02:56.000000000,"[{'_account_id': 1689}, {'_account_id': 5948}, {'_account_id': 6995}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18031}, {'_account_id': 22348}, {'_account_id': 32213}, {'_account_id': 32365}, {'_account_id': 32799}, {'_account_id': 32806}, {'_account_id': 32840}]","[{'number': 1, 'created': '2021-01-17 22:39:48.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7d126f9bccaa13c50ee0f5345174f1c10f14a7e', 'message': ""Use consistent filter API syntax\n\nChange ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a\ncall to get_subnets, using a filter to select all subnets on a\nnetwork. The syntax for the filter in get_subnets has been to\nprovide a dictionary where the values are lists. The change\ndoesn't cause an exception because the OVO layer code handles\nscalar values. Tbis commit changes the filter syntax to be\nconsistent.\n\nChange-Id: Ifb9df94128b7069e78e193bc289be17e15968167\n""}]",0,771155,e7d126f9bccaa13c50ee0f5345174f1c10f14a7e,26,13,1,18031,,,0,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/771155/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,e7d126f9bccaa13c50ee0f5345174f1c10f14a7e,filter-consistency, filters={'network_id': [p['network_id']]}), filters={'network_id': p['network_id']}),1,1
openstack%2Fkuryr-kubernetes~master~I0eb5d9ad50895151967c23d3ad6d1237cc4d9667,openstack/kuryr-kubernetes,master,I0eb5d9ad50895151967c23d3ad6d1237cc4d9667,Introduce NodesSubnetsDriver,MERGED,2020-12-23 16:57:34.000000000,2021-01-26 13:21:29.000000000,2021-01-26 13:21:29.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-12-23 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/079837ca33887af68a7d0475a2ce8977254983df', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 2, 'created': '2021-01-07 16:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1d3b39b4f309db38f62779cfd1875061440dc5a1', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 3, 'created': '2021-01-08 11:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e7999e99ce12b90fdbe9acaec8b4d915f9ebad3e', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 4, 'created': '2021-01-08 14:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/082ffedb4e1da15166fbd9853a464b40bf83ae99', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 5, 'created': '2021-01-13 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/68e23aba6df58674df219f20744ee939d3746691', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 6, 'created': '2021-01-18 13:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/886c56728579801a39947743af3556c0fb773297', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 7, 'created': '2021-01-22 08:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a054cd964a30192559893a750900d512199a0216', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}, {'number': 8, 'created': '2021-01-22 12:41:59.000000000', 'files': ['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_node_subnets.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/abc39b0e68b6ad8dd49edf354076d7cfb7a09bed', 'message': ""Introduce NodesSubnetsDriver\n\nIn order to have more control over the nodes subnets we expect instead\nof relying on static configuration option it's better to have\nflexibility. This commit introduces NodesSubnetsDriver model that will\nallow writing more complicated drivers providing the\nworker_nodes_subnets setting.\n\nA use case in mind is to use OpenShift Machine Custom Resources in order\nto discover subnets the nodes are using.\n\nChange-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667\n""}]",4,768356,abc39b0e68b6ad8dd49edf354076d7cfb7a09bed,37,5,8,11600,,,0,"Introduce NodesSubnetsDriver

In order to have more control over the nodes subnets we expect instead
of relying on static configuration option it's better to have
flexibility. This commit introduces NodesSubnetsDriver model that will
allow writing more complicated drivers providing the
worker_nodes_subnets setting.

A use case in mind is to use OpenShift Machine Custom Resources in order
to discover subnets the nodes are using.

Change-Id: I0eb5d9ad50895151967c23d3ad6d1237cc4d9667
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/56/768356/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/node_subnets.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/nested_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vif.py', 'setup.cfg']",8,079837ca33887af68a7d0475a2ce8977254983df,multiple-subnets,kuryr_kubernetes.controller.drivers.nodes_subnets = config = kuryr_kubernetes.controller.drivers.node_subnets:ConfigNodesSubnets ,,104,16
openstack%2Fglance_store~master~I192a4a598109ad1394f87f55a552854a7c4447f5,openstack/glance_store,master,I192a4a598109ad1394f87f55a552854a7c4447f5,DNM test a devstack-tox-functional change,ABANDONED,2020-08-18 09:30:50.000000000,2021-01-26 13:21:20.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-18 09:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/00a4ac9868de8a8663082143c32ddf25ac5ca158', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: I192a4a598109ad1394f87f55a552854a7c4447f5\n'}, {'number': 2, 'created': '2020-10-10 17:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0c6e8b56f1f4cde8137906c3002e1a7312736bb2', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/757293\nChange-Id: I192a4a598109ad1394f87f55a552854a7c4447f5\n'}, {'number': 3, 'created': '2020-10-10 17:26:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bbddb740cd81a76a8899fbf4652e6728b38418cd', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/757293\nChange-Id: I192a4a598109ad1394f87f55a552854a7c4447f5\n'}]",0,746669,bbddb740cd81a76a8899fbf4652e6728b38418cd,21,3,3,10459,,,0,"DNM test a devstack-tox-functional change

Depends-On: https://review.opendev.org/757293
Change-Id: I192a4a598109ad1394f87f55a552854a7c4447f5
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/69/746669/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,00a4ac9868de8a8663082143c32ddf25ac5ca158,func-allow-existing-tox-environment,,,1,0
openstack%2Fpython-cinderclient~master~Ide82052b4e61b5165026a21f0e5e9655d387d8d4,openstack/python-cinderclient,master,Ide82052b4e61b5165026a21f0e5e9655d387d8d4,DNM test a devstack-tox-functional change,ABANDONED,2020-10-10 17:28:48.000000000,2021-01-26 13:21:11.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-10 17:28:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f58cd8b318bd348aebd2db8cbc289647e7daf8fe', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/757293\nChange-Id: Ide82052b4e61b5165026a21f0e5e9655d387d8d4\n'}]",0,757302,f58cd8b318bd348aebd2db8cbc289647e7daf8fe,5,2,1,10459,,,0,"DNM test a devstack-tox-functional change

Depends-On: https://review.opendev.org/757293
Change-Id: Ide82052b4e61b5165026a21f0e5e9655d387d8d4
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/02/757302/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f58cd8b318bd348aebd2db8cbc289647e7daf8fe,func-allow-existing-tox-environment,,,1,0
openstack%2Fbarbican~master~I48fa2264db6318a1b5b3b0f2186501917bea28a3,openstack/barbican,master,I48fa2264db6318a1b5b3b0f2186501917bea28a3,DNM test a devstack-tox-functional change,ABANDONED,2020-08-18 09:27:21.000000000,2021-01-26 13:20:45.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 09:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c89697b179312966c24ff00ed48353143b844cc5', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: I48fa2264db6318a1b5b3b0f2186501917bea28a3\n'}, {'number': 2, 'created': '2020-10-10 17:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e2c6d21a2fafbac51a17884e8ad7d6652cf7b0db', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/757293\nChange-Id: I48fa2264db6318a1b5b3b0f2186501917bea28a3\n'}, {'number': 3, 'created': '2020-10-10 17:27:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c7403db11445671f5bc7551593c2d737cdfab1f4', 'message': 'DNM test a devstack-tox-functional change\n\nDepends-On: https://review.opendev.org/757293\nChange-Id: I48fa2264db6318a1b5b3b0f2186501917bea28a3\n'}]",0,746668,c7403db11445671f5bc7551593c2d737cdfab1f4,15,2,3,10459,,,0,"DNM test a devstack-tox-functional change

Depends-On: https://review.opendev.org/757293
Change-Id: I48fa2264db6318a1b5b3b0f2186501917bea28a3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/68/746668/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c89697b179312966c24ff00ed48353143b844cc5,func-allow-existing-tox-environment,,,1,0
openstack%2Foslo.metrics~master~Icfbef102d8fb0498ae93fa925937acaa338850c2,openstack/oslo.metrics,master,Icfbef102d8fb0498ae93fa925937acaa338850c2,Update Metric Naming,MERGED,2021-01-19 09:16:16.000000000,2021-01-26 13:06:26.000000000,2021-01-26 13:05:05.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 09:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/3972e84e647c3e84a79265ffa97ae0785fd9859d', 'message': 'Update Metric Naming\n\nThis commit updates metric naming and description based on the best\npractice[1] provided by prometheus.\n\n[1] https://prometheus.io/docs/practices/naming/\n\nChange-Id: Icfbef102d8fb0498ae93fa925937acaa338850c2\n'}, {'number': 2, 'created': '2021-01-25 06:38:09.000000000', 'files': ['oslo_metrics/metrics/oslo_messaging.py', 'oslo_metrics/tests/test_message_process.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/82928b5b330cee09c767914d2d02bb45f0bec240', 'message': 'Update Metric Naming\n\nThis commit updates metric naming and description based on the best\npractice[1] provided by prometheus.\n\n[1] https://prometheus.io/docs/practices/naming/\n\nChange-Id: Icfbef102d8fb0498ae93fa925937acaa338850c2\n'}]",2,771389,82928b5b330cee09c767914d2d02bb45f0bec240,11,2,2,32523,,,0,"Update Metric Naming

This commit updates metric naming and description based on the best
practice[1] provided by prometheus.

[1] https://prometheus.io/docs/practices/naming/

Change-Id: Icfbef102d8fb0498ae93fa925937acaa338850c2
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/89/771389/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_metrics/metrics/oslo_messaging.py'],1,3972e84e647c3e84a79265ffa97ae0785fd9859d,metric_naming,"rpc_server_common_labels = [rpc_client_common_labels = [rpc_server_invocation_start_total = prometheus_client.Counter( 'oslo_messaging_rpc_server_invocation_start_total', 'Total number of RPC invocation start. This doesn\'t count' 'if rpc server failed to find method from endpoints.', rpc_server_common_labels) rpc_server_invocation_end_total = prometheus_client.Counter( 'oslo_messaging_rpc_server_invocation_end_total', 'Total number of RPC invocation end.', rpc_server_common_labels) rpc_server_processing_seconds = prometheus_client.Histogram( 'oslo_messaging_rpc_server_processing_seconds', 'Duration of RPC processing.', rpc_server_common_labels, buckets=rpc_processing_seconds_buckets) rpc_server_exception_total = prometheus_client.Counter( 'oslo_messaging_rpc_server_exception_total', 'Total number of exception while RPC processing.', rpc_server_common_labels + ['exception'])rpc_client_invocation_start_total = prometheus_client.Counter( 'oslo_messaging_rpc_client_invocation_start_total', 'Total number of RPC invocation start.', rpc_client_common_labels) rpc_client_invocation_end_total = prometheus_client.Counter( 'oslo_messaging_rpc_client_invocation_end_total', 'Total number of RPC invocation end.', rpc_client_common_labels) rpc_client_processing_seconds = prometheus_client.Histogram( 'oslo_messaging_rpc_client_processing_seconds', 'Duration of RPC processing.', rpc_client_common_labels, buckets=rpc_processing_seconds_buckets) rpc_client_exception_total = prometheus_client.Counter( 'oslo_messaging_rpc_client_exception_total', 'Total number of exception while RPC processing.', rpc_client_common_labels + ['exception', ])","standard_labels_for_server = [standard_labels_for_client = [rpc_server_count_for_exception = prometheus_client.Counter( 'oslo_messaging_rpc_server_exception', 'The number of times to hit Exception', standard_labels_for_server + ['exception', ]) rpc_server_count_for_invocation_start = prometheus_client.Counter( 'oslo_messaging_rpc_server_invocation_start', 'The number of times to attempt to invoke method. It doesn\'t count' 'if rpc server failed to find method from endpoints', standard_labels_for_server) rpc_server_count_for_invocation_end = prometheus_client.Counter( 'oslo_messaging_rpc_server_invocation_end', 'The number of times to finish to invoke method.', standard_labels_for_server) rpc_server_processing_time = prometheus_client.Histogram( 'oslo_messaging_rpc_server_processing_second', 'rpc server processing time[second]', standard_labels_for_server) rpc_client_count_for_exception = prometheus_client.Counter( 'oslo_messaging_rpc_client_exception', 'The number of times to hit Exception', standard_labels_for_client + ['exception', ]) rpc_client_count_for_invocation_start = prometheus_client.Counter( 'oslo_messaging_rpc_client_invocation_start', 'The number of times to invoke method', standard_labels_for_client) rpc_client_count_for_invocation_end = prometheus_client.Counter( 'oslo_messaging_rpc_client_invocation_end', 'The number of times to invoke method', standard_labels_for_client) rpc_client_processing_time = prometheus_client.Histogram( 'oslo_messaging_rpc_client_processing_second', 'rpc client processing time[second]', standard_labels_for_client)",37,37
openstack%2Fplacement~master~I69fe451a4e27ce52e8af01c63a38b5c2c748de38,openstack/placement,master,I69fe451a4e27ce52e8af01c63a38b5c2c748de38,WIP: Add fix for fixture,ABANDONED,2021-01-25 12:41:05.000000000,2021-01-26 13:00:22.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 12:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/93c8b7813d3da294a74f3cef327c573cf963b230', 'message': ""WIP: Add fix for fixture\n\nWe have a timing issue with the current design of the\n'SecureRBACPolicyFixture'. We initialize the policy fixture as part of\nthe parent 'APIFixture' fixture's 'setUp' call. We then, in the child\nfixture, modify the configuration. As the policy engine is already\nconfigured, this configuration does nothing.\n\nWe could reload the policy engine or split the 'setUp' function into\nmultiple other functions that we could override, but the simplest\napproach is to simply move the logic into the parent 'APIFixture' and\nconfigure this by way of a class variable.\n\nChange-Id: I69fe451a4e27ce52e8af01c63a38b5c2c748de38\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-25 17:32:00.000000000', 'files': ['placement/tests/functional/fixtures/gabbits.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/0477e59adf43b7938bb156ee30a2506206893c63', 'message': ""WIP: Add fix for fixture\n\nWe have a timing issue with the current design of the\n'SecureRBACPolicyFixture'. We initialize the policy fixture as part of\nthe parent 'APIFixture' fixture's 'setUp' call. We then, in the child\nfixture, modify the configuration. As the policy engine is already\nconfigured, this configuration does nothing.\n\nWe could reload the policy engine or split the 'setUp' function into\nmultiple other functions that we could override, but the simplest\napproach is to simply move the logic into the parent 'APIFixture' and\nconfigure this by way of a class variable.\n\nChange-Id: I69fe451a4e27ce52e8af01c63a38b5c2c748de38\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,772335,0477e59adf43b7938bb156ee30a2506206893c63,10,2,2,15334,,,0,"WIP: Add fix for fixture

We have a timing issue with the current design of the
'SecureRBACPolicyFixture'. We initialize the policy fixture as part of
the parent 'APIFixture' fixture's 'setUp' call. We then, in the child
fixture, modify the configuration. As the policy engine is already
configured, this configuration does nothing.

We could reload the policy engine or split the 'setUp' function into
multiple other functions that we could override, but the simplest
approach is to simply move the logic into the parent 'APIFixture' and
configure this by way of a class variable.

Change-Id: I69fe451a4e27ce52e8af01c63a38b5c2c748de38
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/35/772335/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/fixtures/gabbits.py'],1,93c8b7813d3da294a74f3cef327c573cf963b230,secure-rbac," # TODO(stephenfin): Remove this once we drop the deprecated policy rules _secure_rbac = False self.conf_fixture.config( group='oslo_policy', enforce_scope=self._secure_rbac, enforce_new_defaults=self._secure_rbac, ) _secure_rbac = True # TODO(stephenfin): This isn't necessary - just use APIFixture _secure_rbac = False"," def start_fixture(self): super().start_fixture() # NOTE(lbragstad): Configure oslo.policy so that we enforce scope # checking and opt into the new default policies. self.conf_fixture.config( group='oslo_policy', enforce_scope=True) self.conf_fixture.config( group='oslo_policy', enforce_new_defaults=True) def start_fixture(self): super().start_fixture() # NOTE(lbragstad): Configure oslo.policy so that we allow the old # deprecated policies to work. self.conf_fixture.config( group='oslo_policy', enforce_scope=False) self.conf_fixture.config( group='oslo_policy', enforce_new_defaults=False)",11,16
openstack%2Fpuppet-tripleo~master~I3095dfc808e03e792c3bde018df9ea272e73b563,openstack/puppet-tripleo,master,I3095dfc808e03e792c3bde018df9ea272e73b563,Clean up unused parameters for standalone nova-metadata-api,ABANDONED,2021-01-24 04:45:41.000000000,2021-01-26 12:41:01.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-24 04:45:41.000000000', 'files': ['manifests/profile/base/nova/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a0e0d141c9ac98fd3def008b79ce2524c60df21c', 'message': 'Clean up unused parameters for standalone nova-metadata-api\n\nThis change removes the parameters for tls proxy for standalone\nnova-metadata-api. These parameters are no longer used since we\nmigrated nova-metadata-api to wsgi[1].\n\nChange-Id: I3095dfc808e03e792c3bde018df9ea272e73b563\n'}]",0,772185,a0e0d141c9ac98fd3def008b79ce2524c60df21c,6,3,1,9816,,,0,"Clean up unused parameters for standalone nova-metadata-api

This change removes the parameters for tls proxy for standalone
nova-metadata-api. These parameters are no longer used since we
migrated nova-metadata-api to wsgi[1].

Change-Id: I3095dfc808e03e792c3bde018df9ea272e73b563
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/772185/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/api.pp'],1,a0e0d141c9ac98fd3def008b79ce2524c60df21c,n-metadata-tls-proxy,,"# [*metadata_tls_proxy_bind_ip*] # DEPRECATED: IP on which the TLS proxy will listen on. Required only if # enable_internal_tls is set. # Defaults to undef # # [*metadata_tls_proxy_fqdn*] # DEPRECATED: fqdn on which the tls proxy will listen on. required only used if # enable_internal_tls is set. # defaults to undef # # [*metadata_tls_proxy_port*] # DEPRECATED: port on which the tls proxy will listen on. Only used if # enable_internal_tls is set. # defaults to 8080 # $metadata_tls_proxy_bind_ip = undef, $metadata_tls_proxy_fqdn = undef, $metadata_tls_proxy_port = 8775,",0,18
openstack%2Fironic~master~I96b2697163def52618b4c051a5c85adf7d1818a5,openstack/ironic,master,I96b2697163def52618b4c051a5c85adf7d1818a5,Common framework for configuring secure boot,MERGED,2021-01-08 16:58:44.000000000,2021-01-26 12:28:33.000000000,2021-01-26 12:25:26.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-08 16:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b0720f378b49f86946da9ddf04c5faf8fd82846', 'message': '[WIP] Common framework for configuring secure boot\n\nStory: #2008270\nTask: #41561\nChange-Id: I96b2697163def52618b4c051a5c85adf7d1818a5\n'}, {'number': 2, 'created': '2021-01-11 13:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/24124796a52a40f267008e42453074462568987f', 'message': '[WIP] Common framework for configuring secure boot\n\nStory: #2008270\nTask: #41561\nChange-Id: I96b2697163def52618b4c051a5c85adf7d1818a5\n'}, {'number': 3, 'created': '2021-01-11 13:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e77fbe3f26ca8d81037c76aefbc2fb9068b75bc7', 'message': '[WIP] Common framework for configuring secure boot\n\nStory: #2008270\nTask: #41561\nChange-Id: I96b2697163def52618b4c051a5c85adf7d1818a5\n'}, {'number': 4, 'created': '2021-01-11 15:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50dd8a7d2b67de5f25c1692696e7cbca00910964', 'message': 'Common framework for configuring secure boot\n\nTwo drivers already support turning secore boot on and off,\nRedfish will follow soon. This patch adds ManagementInterface\ncalls to get and set the secure boot state.\n\nStory: #2008270\nTask: #41561\nChange-Id: I96b2697163def52618b4c051a5c85adf7d1818a5\n'}, {'number': 5, 'created': '2021-01-11 19:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/020b984981c090da41db9e777f9272a6abdfb9f2', 'message': 'Common framework for configuring secure boot\n\nTwo drivers already support turning secore boot on and off,\nRedfish will follow soon. This patch adds ManagementInterface\ncalls to get and set the secure boot state.\n\nStory: #2008270\nTask: #41561\nChange-Id: I96b2697163def52618b4c051a5c85adf7d1818a5\n'}, {'number': 6, 'created': '2021-01-19 16:57:29.000000000', 'files': ['ironic/drivers/modules/boot_mode_utils.py', 'ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/base.py', 'ironic/tests/unit/drivers/modules/test_boot_mode_utils.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'releasenotes/notes/secure-boot-cf1c134bfb75768d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6f4587f0bdfc2f4b5736db1c9f89639ef2e09a7', 'message': 'Common framework for configuring secure boot\n\nTwo drivers already support turning secore boot on and off,\nRedfish will follow soon. This patch adds ManagementInterface\ncalls to get and set the secure boot state.\n\nStory: #2008270\nTask: #41561\nChange-Id: I96b2697163def52618b4c051a5c85adf7d1818a5\n'}]",0,769961,b6f4587f0bdfc2f4b5736db1c9f89639ef2e09a7,26,3,6,10239,,,0,"Common framework for configuring secure boot

Two drivers already support turning secore boot on and off,
Redfish will follow soon. This patch adds ManagementInterface
calls to get and set the secure boot state.

Story: #2008270
Task: #41561
Change-Id: I96b2697163def52618b4c051a5c85adf7d1818a5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/769961/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/boot_mode_utils.py', 'ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/management.py', 'ironic/drivers/base.py', 'ironic/drivers/modules/irmc/boot.py']",6,6b0720f378b49f86946da9ddf04c5faf8fd82846,story/2008270," task.driver.management.set_secure_boot_state(task, True) task.driver.management.set_secure_boot_state(task, False)"," irmc_common.set_secure_boot_mode(node, enable=True) irmc_common.set_secure_boot_mode(task.node, enable=False) @METRICS.timer('IRMCPXEBoot.prepare_instance') def prepare_instance(self, task): """"""Prepares the boot of instance. This method prepares the boot of the instance after reading relevant information from the node's instance_info. In case of netboot, it updates the dhcp entries and switches the PXE config. In case of localboot, it cleans up the PXE config. :param task: a task from TaskManager. :returns: None :raises: IRMCOperationError, if some operation on iRMC failed. """""" super(IRMCPXEBoot, self).prepare_instance(task) node = task.node if deploy_utils.is_secure_boot_requested(node): irmc_common.set_secure_boot_mode(node, enable=True) @METRICS.timer('IRMCPXEBoot.clean_up_instance') def clean_up_instance(self, task): """"""Cleans up the boot of instance. This method cleans up the environment that was setup for booting the instance. It unlinks the instance kernel/ramdisk in node's directory in tftproot and removes the PXE config. :param task: a task from TaskManager. :raises: IRMCOperationError, if some operation on iRMC failed. :returns: None """""" node = task.node if deploy_utils.is_secure_boot_requested(node): irmc_common.set_secure_boot_mode(node, enable=False) super(IRMCPXEBoot, self).clean_up_instance(task)",136,38
openstack%2Fansible-role-collect-logs~master~I0e3461318457a804d0c8ac616f861d0a54953487,openstack/ansible-role-collect-logs,master,I0e3461318457a804d0c8ac616f861d0a54953487,Fix roles_path,MERGED,2021-01-14 13:47:14.000000000,2021-01-26 12:26:59.000000000,2021-01-26 12:26:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-14 13:47:14.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f8e33c105b9b2c80b3008e721a0d234139b6deaa', 'message': ""Fix roles_path\n\nFollow up of https://review.opendev.org/768309.\n\nWith [1] collect-logs get's installed in share/ansible/roles,\nso including that in roles_path.\n\n[1] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/762980\n\nChange-Id: I0e3461318457a804d0c8ac616f861d0a54953487\n""}]",2,770813,f8e33c105b9b2c80b3008e721a0d234139b6deaa,17,6,1,13861,,,0,"Fix roles_path

Follow up of https://review.opendev.org/768309.

With [1] collect-logs get's installed in share/ansible/roles,
so including that in roles_path.

[1] https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/762980

Change-Id: I0e3461318457a804d0c8ac616f861d0a54953487
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/13/770813/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,f8e33c105b9b2c80b3008e721a0d234139b6deaa,,roles_path = roles:$VIRTUAL_ENV/share/ansible/roles:$VIRTUAL_ENV/usr/local/share/ansible/roles:$VIRTUAL_ENV/usr/share/ansible/roles,roles_path = roles:$VIRTUAL_ENV/usr/share/local/ansible/roles/tripleo-collect-logs:$VIRTUAL_ENV/share/local,1,1
openstack%2Ftripleo-quickstart-extras~master~Ie73912b187936cbf107f0430a329afc2cf0e99ca,openstack/tripleo-quickstart-extras,master,Ie73912b187936cbf107f0430a329afc2cf0e99ca,Update pip only for python3.,ABANDONED,2021-01-26 11:48:30.000000000,2021-01-26 12:26:27.000000000,,[],"[{'number': 1, 'created': '2021-01-26 11:48:30.000000000', 'files': ['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68a32fe41b174ab2c62710c4b98638d1ed09c77f', 'message': ""Update pip only for python3.\n\nThe pip 21 version[1] doesn't support python2. Do the update only\nfor python3.\n\nCloses-Bug: #1913279\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html\n\nChange-Id: Ie73912b187936cbf107f0430a329afc2cf0e99ca\n""}]",0,772503,68a32fe41b174ab2c62710c4b98638d1ed09c77f,2,0,1,31245,,,0,"Update pip only for python3.

The pip 21 version[1] doesn't support python2. Do the update only
for python3.

Closes-Bug: #1913279

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html

Change-Id: Ie73912b187936cbf107f0430a329afc2cf0e99ca
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/772503/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'],1,68a32fe41b174ab2c62710c4b98638d1ed09c77f,pip_update_python3, when: ansible_python.version.major == 3 when: ansible_python.version.major == 3,,2,0
openstack%2Ftripleo-validations~master~I4baff7b179c483726208b237df939087c595c165,openstack/tripleo-validations,master,I4baff7b179c483726208b237df939087c595c165,Fix the get_deployment_status call,MERGED,2021-01-25 17:23:12.000000000,2021-01-26 12:23:37.000000000,2021-01-26 12:23:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-25 17:23:12.000000000', 'files': ['tripleo_validations/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d46d61fecbe44f2b948113c3e930eaf30222a530', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4baff7b179c483726208b237df939087c595c165\n""}]",0,772385,d46d61fecbe44f2b948113c3e930eaf30222a530,9,6,1,11491,,,0,"Fix the get_deployment_status call

The get_deployment_status function waits for a keyworded,
variable-length argument dictionary. This patch fixes that issue by
adding the right keyword for 'plan'.

This patch also adds a space in the output string in order to be
well-formatted.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4baff7b179c483726208b237df939087c595c165
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/772385/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tripleo_validator.py'],1,d46d61fecbe44f2b948113c3e930eaf30222a530,," status = deployment.get_deployment_status(clients, plan=plan) ""in 'failed' or 'deploying' state. """," status = deployment.get_deployment_status(clients, plan) ""in 'failed' or 'deploying' state.""",2,2
openstack%2Fpuppet-nova~master~Ie0f6a64fdb1681a140f7f16597a87ab93e76973a,openstack/puppet-nova,master,Ie0f6a64fdb1681a140f7f16597a87ab93e76973a,Fix Instance Name Template,ABANDONED,2018-06-26 04:29:15.000000000,2021-01-26 12:17:56.000000000,,"[{'_account_id': 19740}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-26 04:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a4092c928caf99b810caea782cde416e0e9b8c8', 'message': 'Fix Instance Name Template\n\nThis commit moves instance_name_template top level as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 2, 'created': '2018-06-26 06:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4520a61e2a24c6bc549ca56bc7a80b48ebff8130', 'message': 'Fix Instance Name Template\n\nThis commit moves instance_name_template top level as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 3, 'created': '2018-06-26 13:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8461cae17cd1db40294d2392460837b3c92502ea', 'message': 'Fix Instance Name Template\n\nThis commit moves instance_name_template top level as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 4, 'created': '2018-06-27 08:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b6935fd02d05424c0b4835d79ce0f2e324ebff80', 'message': 'Fix Instance Name Template\n\nThis commit adds instance_name_template to compute as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 5, 'created': '2018-06-30 09:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ed9d1d72daa14abfb49a5022ba154d93e650d3a1', 'message': 'Fix Instance Name Template\n\nThis commit adds instance_name_template to compute as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 6, 'created': '2018-06-30 09:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/936b9692405eb64764474a7704cfdd7fb29d284e', 'message': 'Fix Instance Name Template\n\nThis commit adds instance_name_template to compute as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 7, 'created': '2018-06-30 10:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7298d4c2b67e5e0d9a6630d794f4436135144c27', 'message': 'Fix Instance Name Template\n\nThis commit adds instance_name_template to compute as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 8, 'created': '2018-06-30 17:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ed591953485d690784182012b791587fcd00b671', 'message': 'Fix Instance Name Template\n\nThis commit adds instance_name_template to compute as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}, {'number': 9, 'created': '2018-06-30 19:27:16.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'releasenotes/notes/move-instance-name-template-compute-36b2c22fde8bf429.yaml', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3ad72ef7dcd0ac6f10ba27bdac7175e9ded8d658', 'message': 'Fix Instance Name Template\n\nThis commit adds instance_name_template to compute as this\nparameter needs to be set on compute nodes as well as controllers.\n\nChange-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a\n'}]",0,577986,3ad72ef7dcd0ac6f10ba27bdac7175e9ded8d658,20,2,9,19740,,,0,"Fix Instance Name Template

This commit adds instance_name_template to compute as this
parameter needs to be set on compute nodes as well as controllers.

Change-Id: Ie0f6a64fdb1681a140f7f16597a87ab93e76973a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/86/577986/6 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb']",4,4a4092c928caf99b810caea782cde416e0e9b8c8,fix-instance-name-template," it { is_expected.to contain_nova_config('DEFAULT/instance_name_template').with_ensure('absent')} context 'with custom instance_name_template' do before do params.merge!({ :instance_name_template => 'instance-%08x', }) end it 'configures instance_name_template' do is_expected.to contain_nova_config('DEFAULT/instance_name_template').with_value('instance-%08x'); end end ",,28,28
openstack%2Fpuppet-nova~master~I3411bf434a57531da083607c7e1c50939751273f,openstack/puppet-nova,master,I3411bf434a57531da083607c7e1c50939751273f,Add parameter to make signature validation optional,ABANDONED,2017-12-14 19:44:18.000000000,2021-01-26 12:14:24.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-14 19:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1e2b172331e0968a302d4fe976291c80f3546833', 'message': 'Add parameter to make signature validation optional\n\nAdded parameter to allow unsigned images to be booted.\nWIP - At this point, just submitting this change for testing\npending agreement that nova will add this parameter.\n\nChange-Id: I3411bf434a57531da083607c7e1c50939751273f\nDepends-On: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725\n'}, {'number': 2, 'created': '2017-12-15 19:53:24.000000000', 'files': ['manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1acefa283470bce16037414db4608fa9dea5a0b5', 'message': 'Add parameter to make signature validation optional\n\nAdded parameter to allow unsigned images to be booted.\nWIP - At this point, just submitting this change for testing\npending agreement that nova will add this parameter.\n\nChange-Id: I3411bf434a57531da083607c7e1c50939751273f\nDepends-On: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725\n'}]",0,528067,1acefa283470bce16037414db4608fa9dea5a0b5,21,6,2,9914,,,0,"Add parameter to make signature validation optional

Added parameter to allow unsigned images to be booted.
WIP - At this point, just submitting this change for testing
pending agreement that nova will add this parameter.

Change-Id: I3411bf434a57531da083607c7e1c50939751273f
Depends-On: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/528067/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute.pp'],1,1e2b172331e0968a302d4fe976291c80f3546833,add_image_optional_verification_parameter,"# [*glance_signatures_optional*] # (optional) Whether to permit unsigned images to boot. (boolean value) # Defaults to $::os_service_default # $glance_signatures_optional = $::os_service_default, 'glance/signatures_optional': value => $glance_signatures_optional;",,6,0
openstack%2Fkolla~master~I799bf8edfef6ff68382d651dca6de96fa80ed733,openstack/kolla,master,I799bf8edfef6ff68382d651dca6de96fa80ed733,Remove two missed unicode flags,MERGED,2021-01-25 14:59:28.000000000,2021-01-26 11:56:53.000000000,2021-01-26 11:54:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-01-25 14:59:28.000000000', 'files': ['tests/test_set_config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/335dff712488e23be8f0a280cba4c584c6c54066', 'message': 'Remove two missed unicode flags\n\nChange-Id: I799bf8edfef6ff68382d651dca6de96fa80ed733\n'}]",0,772352,335dff712488e23be8f0a280cba4c584c6c54066,9,3,1,30491,,,0,"Remove two missed unicode flags

Change-Id: I799bf8edfef6ff68382d651dca6de96fa80ed733
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/772352/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_set_config.py'],1,335dff712488e23be8f0a280cba4c584c6c54066,remove-unicode," mock.call().write('/bin/true'), mock.call().write('/bin/true'),"," mock.call().write(u'/bin/true'), mock.call().write(u'/bin/true'),",2,2
openstack%2Fkolla~stable%2Ftrain~Id0e738044a1931f9d611a7281a48ea4a593f1cf1,openstack/kolla,stable/train,Id0e738044a1931f9d611a7281a48ea4a593f1cf1,Improve pip install process for offline deployment.,MERGED,2020-10-14 09:43:49.000000000,2021-01-26 11:56:39.000000000,2021-01-26 11:55:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-10-14 09:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/15e736585fb92ad5d8deb441be32bb309796913d', 'message': 'Improve pip install process for offline deployment.\n\n    * ""Use distribution-provided pip""\n    * ""Use python\'s pip module invocation method""\n    * ""Install pip earlier in order to avoid multiple installation""\n    * ""Remove pip_version variable requirement and call""\n\nChange-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1\nCloses-bug: #1893204\n(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)\n'}, {'number': 2, 'created': '2021-01-24 11:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac208337c5de2549cfae7c7c61001706b2b0e8de', 'message': 'Improve pip install process for offline deployment.\n\n    * ""Use distribution-provided pip""\n    * ""Use python\'s pip module invocation method""\n    * ""Install pip earlier in order to avoid multiple installation""\n    * ""Remove pip_version variable requirement and call""\n\n(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)\n\nFixed source type builds.\n\nCoauthored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n\nCloses-bug: #1893204\nChange-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1\n'}, {'number': 3, 'created': '2021-01-24 11:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3994106b433c91cd95918e33598b2c3054965da5', 'message': 'Improve pip install process for offline deployment.\n\n    * ""Use distribution-provided pip""\n    * ""Use python\'s pip module invocation method""\n    * ""Install pip earlier in order to avoid multiple installation""\n    * ""Remove pip_version variable requirement and call""\n\n(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)\n\n- fixed source type builds.\n- upgrade pip to <21 before using it (21.0 is Py3 only)\n\nCoauthored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n\nCloses-bug: #1893204\nChange-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1\n'}, {'number': 4, 'created': '2021-01-24 12:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c166e3472f2ed52bafa09e22f8a811f4076bd88f', 'message': 'Improve pip install process for offline deployment.\n\n    * ""Use distribution-provided pip""\n    * ""Use python\'s pip module invocation method""\n    * ""Install pip earlier in order to avoid multiple installation""\n    * ""Remove pip_version variable requirement and call""\n\n(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)\n\n- fixed source type builds.\n- upgrade pip to <21 before using it (21.0 is Py3 only)\n\nCoauthored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/772198\n\nCloses-bug: #1893204\nChange-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1\n'}, {'number': 5, 'created': '2021-01-24 15:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34396cba2197dd4d9a22c50fac87c2f7ced8ca7d', 'message': 'Improve pip install process for offline deployment.\n\n    * ""Use distribution-provided pip""\n    * ""Use python\'s pip module invocation method""\n    * ""Install pip earlier in order to avoid multiple installation""\n    * ""Remove pip_version variable requirement and call""\n\n(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)\n\n- fixed source type builds.\n\nCo-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/772198\n\nCloses-bug: #1893204\nChange-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1\n'}, {'number': 6, 'created': '2021-01-24 15:59:22.000000000', 'files': ['docker/helm-repository/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/elasticsearch/elasticsearch-curator/Dockerfile.j2', 'docker/macros.j2', 'docker/base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/278893ef1d9bc8f7d013685d0676ce2458fcaaaa', 'message': 'Improve pip install process for offline deployment.\n\n    * ""Use distribution-provided pip""\n    * ""Use python\'s pip module invocation method""\n    * ""Install pip earlier in order to avoid multiple installation""\n    * ""Remove pip_version variable requirement and call""\n\n(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)\n\n- fixed source type builds.\n- in openstack-base: install virtualenv using upper-constraints\n  (just like in kolla-toolbox)\n\nCo-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/772198\n\nCloses-bug: #1893204\nChange-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1\n'}]",8,758057,278893ef1d9bc8f7d013685d0676ce2458fcaaaa,35,6,6,14826,,,0,"Improve pip install process for offline deployment.

    * ""Use distribution-provided pip""
    * ""Use python's pip module invocation method""
    * ""Install pip earlier in order to avoid multiple installation""
    * ""Remove pip_version variable requirement and call""

(cherry picked from commit b93c40a3635fbce72e48dc29120e50484cba36ca)

- fixed source type builds.
- in openstack-base: install virtualenv using upper-constraints
  (just like in kolla-toolbox)

Co-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>
Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>

Depends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/772198

Closes-bug: #1893204
Change-Id: Id0e738044a1931f9d611a7281a48ea4a593f1cf1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/758057/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/helm-repository/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/elasticsearch/elasticsearch-curator/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/macros.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2']",7,15e736585fb92ad5d8deb441be32bb309796913d,bug/1893204,"RUN {{ macros.install_pip(gnocchi_base_pip_packages | customizable(""pip_packages""), constraints=false) }} \","RUN {{ macros.install_pip(gnocchi_base_pip_packages | customizable(""pip_packages""), constraints=false, pip_version=""pip3"") }} \",9,32
openstack%2Fneutron~master~Ifff470c00eae0be1f4a5a882d3b03fd5ccae9d8e,openstack/neutron,master,Ifff470c00eae0be1f4a5a882d3b03fd5ccae9d8e,"[FT] Wait for the ""neutron-keepalived-state-change"" init message",MERGED,2021-01-15 15:29:34.000000000,2021-01-26 11:44:45.000000000,2021-01-18 15:55:36.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 15:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f24d30478e0c0713ceb563f7737e97b1a9974e3', 'message': '[FT] Wait for the ""neutron-keepalived-state-change"" init message\n\nWhen the process ""neutron-keepalived-state-change"" is started, wait for\nthe initialization message ""Initial status of router"", printed in the\nlogs, before starting any other operation.\n\nChange-Id: Ifff470c00eae0be1f4a5a882d3b03fd5ccae9d8e\nCloses-Bug: #1911925\n'}, {'number': 2, 'created': '2021-01-16 06:46:38.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66e045360cc23ff1533ad5df866e7a0574eabcbe', 'message': '[FT] Wait for the ""neutron-keepalived-state-change"" init message\n\nWhen the process ""neutron-keepalived-state-change"" is started, wait for\nthe initialization message ""Initial status of router"", printed in the\nlogs, before starting any other operation.\n\nChange-Id: Ifff470c00eae0be1f4a5a882d3b03fd5ccae9d8e\nCloses-Bug: #1911925\n'}]",1,770950,66e045360cc23ff1533ad5df866e7a0574eabcbe,17,4,2,16688,,,0,"[FT] Wait for the ""neutron-keepalived-state-change"" init message

When the process ""neutron-keepalived-state-change"" is started, wait for
the initialization message ""Initial status of router"", printed in the
logs, before starting any other operation.

Change-Id: Ifff470c00eae0be1f4a5a882d3b03fd5ccae9d8e
Closes-Bug: #1911925
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/770950/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/test_keepalived_state_change.py'],1,8f24d30478e0c0713ceb563f7737e97b1a9974e3,bug/1911925," self._search_in_file(self.log_file, 'Initial status of router')", eventlet.sleep(5),1,1
openstack%2Fopenstack-ansible-os_neutron~master~I958fda17e6207553466d8a7512e35c30b122c22c,openstack/openstack-ansible-os_neutron,master,I958fda17e6207553466d8a7512e35c30b122c22c,Prevent neutron-l3-agent killing keepalived on restart,MERGED,2021-01-21 10:56:08.000000000,2021-01-26 11:35:44.000000000,2021-01-26 11:33:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-21 10:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c64ba4da25c1aec8f6e68f06a4ed7ab99cce8c50', 'message': ""Prevent neutron-l3-agent killing keepalived on restart\n\nSystemd processes use a default KillMode of 'control-group'\nwhich causes all other processes spawned during execution to be\nkilled on service stop. Neutron expects the keepalived processes\nit starts to remain running in order to prevent data-plane\ninterruptions for HA routers.\n\nThis change switches the systemd KillMode to process in order to\nprevent this issue. In doing so we also have to clean up\nnon-keepalived processes started by neutron so that upon restart\neverything is running from the latest virtualenv which may have\nchanged during an upgrade.\n\nChange-Id: I958fda17e6207553466d8a7512e35c30b122c22c\nCloses-Bug: #1846198\n""}, {'number': 2, 'created': '2021-01-25 09:08:07.000000000', 'files': ['handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a640ae8cc9b5b6f290a1a67ab3dd09470a785887', 'message': ""Prevent neutron-l3-agent killing keepalived on restart\n\nSystemd processes use a default KillMode of 'control-group'\nwhich causes all other processes spawned during execution to be\nkilled on service stop. Neutron expects the keepalived processes\nit starts to remain running in order to prevent data-plane\ninterruptions for HA routers.\n\nThis change switches the systemd KillMode to process in order to\nprevent this issue. In doing so we also have to clean up\nnon-keepalived processes started by neutron so that upon restart\neverything is running from the latest virtualenv which may have\nchanged during an upgrade.\n\nChange-Id: I958fda17e6207553466d8a7512e35c30b122c22c\nCloses-Bug: #1846198\nDepends-On: https://review.opendev.org/771770\n""}]",5,771791,a640ae8cc9b5b6f290a1a67ab3dd09470a785887,14,3,2,31542,,,0,"Prevent neutron-l3-agent killing keepalived on restart

Systemd processes use a default KillMode of 'control-group'
which causes all other processes spawned during execution to be
killed on service stop. Neutron expects the keepalived processes
it starts to remain running in order to prevent data-plane
interruptions for HA routers.

This change switches the systemd KillMode to process in order to
prevent this issue. In doing so we also have to clean up
non-keepalived processes started by neutron so that upon restart
everything is running from the latest virtualenv which may have
changed during an upgrade.

Change-Id: I958fda17e6207553466d8a7512e35c30b122c22c
Closes-Bug: #1846198
Depends-On: https://review.opendev.org/771770
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/91/771791/2 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'vars/main.yml']",2,c64ba4da25c1aec8f6e68f06a4ed7ab99cce8c50,bug/1846198," init_config_overrides: ""{{ _neutron_l3_agent_init_defaults | combine(neutron_l3_agent_init_overrides) }}""### Overrides for services where required ### # Ensure that keepalived processes are not stopped on exit _neutron_l3_agent_init_defaults: Service: KillMode: process ###"," init_config_overrides: ""{{ neutron_l3_agent_init_overrides }}""",31,1
openstack%2Fpuppet-swift~master~I4371d49df847236be18f1a33caa8b3f186f5eaf1,openstack/puppet-swift,master,I4371d49df847236be18f1a33caa8b3f186f5eaf1,Add TLS options for swift memcached client,MERGED,2021-01-08 13:10:53.000000000,2021-01-26 11:32:40.000000000,2021-01-26 11:31:18.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-08 13:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/2e137519ff198f68ebb508da3e5fb1996b9d9a3f', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n'}, {'number': 2, 'created': '2021-01-13 12:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/931536774f5e695bbfbd89f94e18b07e6ef549d9', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n'}, {'number': 3, 'created': '2021-01-14 12:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0d5305f0cd33937cf8f439df03df7061002ba89d', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n'}, {'number': 4, 'created': '2021-01-14 12:16:43.000000000', 'files': ['spec/classes/swift_objectexpirer_spec.rb', 'releasenotes/notes/add-tls-options-cfc659d2a0ad42bc.yaml', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/objectexpirer.pp', 'spec/classes/swift_containerreconciler_spec.rb', 'manifests/containerreconciler.pp', 'manifests/proxy/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0688c8a576dd71af5a13b1da636de881e9be2224', 'message': 'Add TLS options for swift memcached client\n\nThis patch specifies a set of options required to build a TLS context\nin the swift memcached client.\n(see https://review.opendev.org/c/openstack/swift/+/765552)\n\nChange-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1\n'}]",3,769918,0688c8a576dd71af5a13b1da636de881e9be2224,14,5,4,14250,,,0,"Add TLS options for swift memcached client

This patch specifies a set of options required to build a TLS context
in the swift memcached client.
(see https://review.opendev.org/c/openstack/swift/+/765552)

Change-Id: I4371d49df847236be18f1a33caa8b3f186f5eaf1
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/18/769918/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_objectexpirer_spec.rb', 'spec/classes/swift_proxy_cache_spec.rb', 'manifests/objectexpirer.pp', 'releasenotes/notes/add_tls_options-933c9e25e6032005.yaml', 'spec/classes/swift_containerreconciler_spec.rb', 'manifests/containerreconciler.pp', 'manifests/proxy/cache.pp']",7,2e137519ff198f68ebb508da3e5fb1996b9d9a3f,memcached-cert,"# [*tls_enabled*] # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # Default to false # # [*tls_cafile*] # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Defaults to undef # # [*tls_certfile*] # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # Defaults to undef # # [*tls_keyfile*] # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # Defaults to undef # $memcache_servers = ['127.0.0.1:11211'], $tls_enable = false, $tls_cafile = undef, $tls_certfile = undef, $tls_keyfile = undef, 'filter:cache/tls_enabled': value => $tls_enabled; 'filter:cache/tls_cafile': value => $tls_cafile; 'filter:cache/tls_certfile': value => $tls_certfile; 'filter:cache/tls_keyfile': value => $tls_keyfile;"," $memcache_servers = ['127.0.0.1:11211'],",139,19
openstack%2Fkayobe~stable%2Ftrain~Ie15aa810538ecfdc8293dc0eda0610d82587fddd,openstack/kayobe,stable/train,Ie15aa810538ecfdc8293dc0eda0610d82587fddd,Fix pygments style,MERGED,2021-01-26 10:28:34.000000000,2021-01-26 11:25:51.000000000,2021-01-26 11:24:00.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 30356}]","[{'number': 1, 'created': '2021-01-26 10:28:34.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0e1e1c4448cc5d65ea81365010fb9ee934e5fff0', 'message': 'Fix pygments style\n\nChange-Id: Ie15aa810538ecfdc8293dc0eda0610d82587fddd\n(cherry picked from commit 233c10d1b0b3a47faa32bb4716aa0cdca2bd98a8)\n'}]",0,772493,0e1e1c4448cc5d65ea81365010fb9ee934e5fff0,9,6,1,15197,,,0,"Fix pygments style

Change-Id: Ie15aa810538ecfdc8293dc0eda0610d82587fddd
(cherry picked from commit 233c10d1b0b3a47faa32bb4716aa0cdca2bd98a8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/93/772493/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,0e1e1c4448cc5d65ea81365010fb9ee934e5fff0,,pygments_style = 'native',pygments_style = 'sphinx',2,3
openstack%2Fneutron-tempest-plugin~master~I498760a26709acccebd41a590afee4bf0e62142e,openstack/neutron-tempest-plugin,master,I498760a26709acccebd41a590afee4bf0e62142e,Add test_vlan_transparency_connectivty_two_ports,ABANDONED,2021-01-12 11:26:54.000000000,2021-01-26 11:20:07.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 11:26:54.000000000', 'files': ['neutron_tempest_plugin/common/ip.py', 'neutron_tempest_plugin/scenario/test_vlan_transparency.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d12e8fc02d625ad040a5df95a0fb59cea31482fb', 'message': 'Add test_vlan_transparency_connectivty_two_ports\n\nVMs are created with two ports, each one from a different tenant network:\n  - a management port with a FIP to connect to the VM via ssh\n  - a traffic port where a transparent VLAN is created, using the IPs\n    allocated by neutron for this VLAN\n\nChange-Id: I498760a26709acccebd41a590afee4bf0e62142e\n'}]",0,770269,d12e8fc02d625ad040a5df95a0fb59cea31482fb,3,2,1,31291,,,0,"Add test_vlan_transparency_connectivty_two_ports

VMs are created with two ports, each one from a different tenant network:
  - a management port with a FIP to connect to the VM via ssh
  - a traffic port where a transparent VLAN is created, using the IPs
    allocated by neutron for this VLAN

Change-Id: I498760a26709acccebd41a590afee4bf0e62142e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/69/770269/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/common/ip.py', 'neutron_tempest_plugin/scenario/test_vlan_transparency.py']",2,d12e8fc02d625ad040a5df95a0fb59cea31482fb,vlan-transparency," allowed_address_pairs=None, second_network=None): networks = [{'port': self.vms[server_name]['port']['id']}] if second_network: # Some test need servers with two ports: First one is used for # management (ssh access via FIP) and second one is used for VLAN # Transparency testing second_port_name = 'second_' + port_name self.vms[server_name]['second_port'] = self.create_port( network=second_network, name=second_port_name) networks.append( {'port': self.vms[server_name]['second_port']['id']}) networks=networks, def _configure_vlan_transparent_second_port(self, port, ssh_client, vlan_tag): ip_command = ip.IPCommand(ssh_client=ssh_client) for address in ip_command.list_addresses(port=port): port_iface = address.device.name break else: self.fail(""Parent port fixed IP not found on server."") ip_address = address.address subport_iface = ip_command.configure_vlan_trasparent_move_ip( port=port, vlan_tag=vlan_tag, ip_address=ip_address) for address in ip_command.list_addresses( ip_addresses=[ip_address.split('/')[0]]): self.assertEqual(subport_iface, address.device.name) self.assertEqual(port_iface, address.device.parent) break else: self.fail(""Sub-port fixed IP not found on server."") should_succeed=True, second_port=False): if second_port: # if second_port, num_vlans and untagged are ignored self.check_remote_connectivity( self.vms[vm_names[0]]['ssh_client'], self.vms[vm_names[1]]['second_port']['fixed_ips'][0][ 'ip_address'], servers=vms, should_succeed=should_succeed) elif untagged: # if untagged, num_vlans is ignored @decorators.idempotent_id('8993c082-1013-4007-a78f-81ef11ff0a17') def test_vlan_transparency_connectivty_two_ports(self): vlan_tag = data_utils.rand_int_id(start=MIN_VLAN_ID, end=MAX_VLAN_ID - 1) vlan_cidr = '192.168.100.0/24' second_rand_name = 'second_' + self.rand_name second_network = self.create_network(name=second_rand_name, vlan_transparent=True, port_security_enabled=True) self.create_subnet( network=second_network, name=second_rand_name, cidr=vlan_cidr) # Two servers are created with two ports each one # First port is for management (ssh access via FIP) # Second port is used for VLAN Transparent testing for i in range(2): server_name = 'server-%s-%d' % (self.rand_name, i) port_name = 'port-%s-%d' % (self.rand_name, i) self.vms[server_name] = {} self.vms[server_name]['vm'] = self._create_port_and_server( server_name=server_name, port_name=port_name, second_network=second_network) self.vms[server_name]['floating_ip'] = self.create_floatingip( port=self.vms[server_name]['port']) self.vms[server_name]['ssh_client'] = self._create_ssh_client( floating_ip=self.vms[server_name]['floating_ip']) self.check_connectivity( host=self.vms[server_name]['floating_ip'][ 'floating_ip_address'], ssh_client=self.vms[server_name]['ssh_client']) self._configure_vlan_transparent_second_port( port=self.vms[server_name]['second_port'], ssh_client=self.vms[server_name]['ssh_client'], vlan_tag=vlan_tag) self._check_remote_connectivity_vlans(second_port=True)"," allowed_address_pairs=None): networks=[{'port': self.vms[server_name][ 'port']['id']}], should_succeed=True): # If untagged is True, num_vlans is ignored if untagged:",103,6
openstack%2Fneutron-tempest-plugin~master~Id72ef54a0f15b3a998c631c4f199bd617f870746,openstack/neutron-tempest-plugin,master,Id72ef54a0f15b3a998c631c4f199bd617f870746,Add test test_vlan_transparent_different_vlans_drops,ABANDONED,2020-12-04 11:37:23.000000000,2021-01-26 11:19:58.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 11:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/879560a52c5647c62849c20e2d153b7e51eff1d4', 'message': 'Add test test_vlan_transparent_different_vlans_drops\n\nCheck there is no connectivity between interfaces using different VLAN\nIDs\n\nChange-Id: Id72ef54a0f15b3a998c631c4f199bd617f870746\n'}, {'number': 2, 'created': '2020-12-05 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f9563a402716bda84f581fccf0093e8b24919817', 'message': 'Add test test_vlan_transparent_different_vlans_drops\n\nCheck there is no connectivity between interfaces using different VLAN\nIDs\n\nChange-Id: Id72ef54a0f15b3a998c631c4f199bd617f870746\n'}, {'number': 3, 'created': '2020-12-09 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f692af9cbd35e88b81291c96a5b6456c2fca6fd1', 'message': 'Add test test_vlan_transparent_different_vlans_drops\n\nCheck there is no connectivity between interfaces using different VLAN\nIDs\n\nChange-Id: Id72ef54a0f15b3a998c631c4f199bd617f870746\n'}, {'number': 4, 'created': '2020-12-18 18:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8bcbaabab4abaa9cc2fb7892e492cc327e00b13c', 'message': 'Add test test_vlan_transparent_different_vlans_drops\n\nCheck there is no connectivity between interfaces using different VLAN\nIDs\n\nChange-Id: Id72ef54a0f15b3a998c631c4f199bd617f870746\n'}, {'number': 5, 'created': '2021-01-12 11:26:54.000000000', 'files': ['neutron_tempest_plugin/scenario/test_vlan_transparency.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9d20b3905b80e1178ab383ee43fe9c426a2146f9', 'message': 'Add test test_vlan_transparent_different_vlans_drops\n\nCheck there is no connectivity between interfaces using different VLAN\nIDs\n\nChange-Id: Id72ef54a0f15b3a998c631c4f199bd617f870746\n'}]",0,765517,9d20b3905b80e1178ab383ee43fe9c426a2146f9,11,2,5,31291,,,0,"Add test test_vlan_transparent_different_vlans_drops

Check there is no connectivity between interfaces using different VLAN
IDs

Change-Id: Id72ef54a0f15b3a998c631c4f199bd617f870746
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/17/765517/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_vlan_transparency.py'],1,879560a52c5647c62849c20e2d153b7e51eff1d4,vlan-transparency," @decorators.idempotent_id('f012d016-7630-48e9-ac78-1458a727a48c') def test_vlan_transparent_different_vlans_drops(self): vlan_tag_vm0 = data_utils.rand_int_id(start=MIN_VLAN_ID, end=MAX_VLAN_ID - 1) vlan_tag_vm1 = vlan_tag_vm0 + 1 vlan_tags = [vlan_tag_vm0, vlan_tag_vm1] vlan_ipmasks = ['192.168.0.10/24', '192.168.0.20/24'] # Two servers are created with one port each one # VLANs are created on those ports for i in range(2): server_name = 'server-%s-%d' % (self.rand_name, i) port_name = 'port-%s-%d' % (self.rand_name, i) self.vms[server_name] = {} self.vms[server_name]['vlan_ipmasks'] = [vlan_ipmasks[i]] self.vms[server_name]['vm'] = self._create_port_and_server( server_name=server_name, port_name=port_name, port_security=False) self.vms[server_name]['floating_ip'] = self.create_floatingip( port=self.vms[server_name]['port']) self.vms[server_name]['ssh_client'] = self._create_ssh_client( floating_ip=self.vms[server_name]['floating_ip']) self.check_connectivity( host=self.vms[server_name]['floating_ip'][ 'floating_ip_address'], ssh_client=self.vms[server_name]['ssh_client']) self._configure_vlan_transparent( port=self.vms[server_name]['port'], ssh_client=self.vms[server_name]['ssh_client'], vlan_tag=vlan_tags[i], vlan_ip=vlan_ipmasks[i]) self._check_remote_connectivity_vlans(should_succeed=False) self._check_remote_connectivity_vlans(untagged=True)",,37,0
openstack%2Fneutron-tempest-plugin~master~I7e7f90e003ea2bbdb9c650105169610b557c5a25,openstack/neutron-tempest-plugin,master,I7e7f90e003ea2bbdb9c650105169610b557c5a25,Add VLAN Transparency multiple VLAN tests,ABANDONED,2020-12-03 15:38:01.000000000,2021-01-26 11:19:35.000000000,,"[{'_account_id': 17377}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-12-03 15:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/334e4785089f979c775b4de8f3aabe446269e71c', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and checks\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}, {'number': 2, 'created': '2020-12-04 11:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/77ae7a0056e011c6fb11e0c5e9b434ac9eeb5e9b', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and checks\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}, {'number': 3, 'created': '2020-12-05 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ac3c05e4b697fc26b7ba864f5501169346fd83a1', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and checks\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}, {'number': 4, 'created': '2020-12-09 11:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c923e1dd09cc2a2f4cf84b4e99b60220b5e640e2', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and checks\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}, {'number': 5, 'created': '2020-12-18 18:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1a8719975bc2e4b0e2bdb0e87e6feaab539c4330', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and checks\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}, {'number': 6, 'created': '2021-01-12 11:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0ccffba9bc65da292ef574156233b25acb888dd9', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and checks\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}, {'number': 7, 'created': '2021-01-21 11:40:31.000000000', 'files': ['neutron_tempest_plugin/scenario/test_vlan_transparency.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0261073be1e92817235b54134843bf09c73e1e61', 'message': 'Add VLAN Transparency multiple VLAN tests\n\nNew tests create several VLAN per VM (all of them on one NIC) and check\nconnectivity between them\n\nChange-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25\n'}]",4,765341,0261073be1e92817235b54134843bf09c73e1e61,21,4,7,31291,,,0,"Add VLAN Transparency multiple VLAN tests

New tests create several VLAN per VM (all of them on one NIC) and check
connectivity between them

Change-Id: I7e7f90e003ea2bbdb9c650105169610b557c5a25
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/41/765341/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_vlan_transparency.py'],1,334e4785089f979c775b4de8f3aabe446269e71c,vlan-transparency," cls.vm_ports = {} def _create_port_and_server(self, index, server_name, self.vm_ports[server_name] = self.create_port( network=self.network, name=port_name, security_groups=sec_groups, port_security_enabled=port_security, allowed_address_pairs=allowed_address_pairs) networks=[{'port': self.vm_ports[ server_name]['id']}], def _check_remote_connectivity_vlans(self, untagged=False, num_vlans=1, should_succeed=True): # If untagged is True, num_vlans need to be set to 1 for i in range(num_vlans): for server_name_j in self.server_names: for server_name_k in self.server_names: if server_name_j != server_name_k: if untagged: destination = self.vm_ports[server_name_k][ 'fixed_ips'][0]['ip_address'] else: destination = self.vlan_ipmasks[ server_name_k][i].split('/')[0] self.check_remote_connectivity( self.ssh_clients[server_name_j], destination, servers=self.vms.values(), should_succeed=should_succeed) def _test_multivlan_vlan_transparency_connectivty( self, num_vlans=1, port_security=True, use_allowed_address_pairs=False): vlan_tags = [] vlan_ipmask_templates = [] for i in range(num_vlans): while True: vlan_tag = data_utils.rand_int_id(start=0, end=MAX_VLAN_ID) vlan_ipmask_template = '192.168.%d.{ip_last_byte}/24' % ( vlan_tag % 256) if (vlan_tag not in vlan_tags and vlan_ipmask_template not in vlan_ipmask_templates): vlan_tags.append(vlan_tag) vlan_ipmask_templates.append(vlan_ipmask_template) break floating_ips = {} self.vms = {} self.vlan_ipmasks = {} self.ssh_clients = {} self.server_names = [] server_name = 'server-%s-%d' % (self.rand_name, i) self.server_names.append(server_name) vlan_ipmasks_per_vm = [] for vlan_ipmask_template in vlan_ipmask_templates: vlan_ipmasks_per_vm.append(vlan_ipmask_template.format( ip_last_byte=(i + 1) * 10)) self.vlan_ipmasks[server_name] = vlan_ipmasks_per_vm if use_allowed_address_pairs: allowed_address_pairs = [] for vlan_ipmask in self.vlan_ipmasks[server_name]: allowed_address_pairs.append({'ip_address': vlan_ipmask}) self.vms[server_name] = self._create_port_and_server( server_name=server_name, allowed_address_pairs=allowed_address_pairs) floating_ips[server_name] = self.create_floatingip( port=self.vm_ports[server_name]) self.ssh_clients[server_name] = self._create_ssh_client( floating_ip=floating_ips[server_name]) host=floating_ips[server_name]['floating_ip_address'], ssh_client=self.ssh_clients[server_name]) for j in range(num_vlans): self._configure_vlan_transparent( port=self.vm_ports[server_name], ssh_client=self.ssh_clients[server_name], vlan_tag=vlan_tags[j], vlan_ip=self.vlan_ipmasks[server_name][j]) # Ping from vmX to vmY via VLAN interfaces should fail because self._check_remote_connectivity_vlans(num_vlans=num_vlans, should_succeed=False) self._check_remote_connectivity_vlans(num_vlans=num_vlans) self._check_remote_connectivity_vlans(untagged=True) self._test_multivlan_vlan_transparency_connectivty(port_security=False) self._test_multivlan_vlan_transparency_connectivty( @decorators.idempotent_id('698a3612-9a6c-4c1e-ad46-28d5baf3b0b5') def test_multivlan_transparent_port_sec_disabled(self): self._test_multivlan_vlan_transparency_connectivty( num_vlans=4, port_security=False) @decorators.idempotent_id('c3144d08-54f5-4345-8a0b-d6afe19444e8') def test_multivlan_transparent_allowed_address_pairs(self): self._test_multivlan_vlan_transparency_connectivty( num_vlans=4, use_allowed_address_pairs=True)"," cls.vm_ports = [] def _create_port_and_server(self, index, server_name = 'server-%s-%d' % (self.rand_name, index) self.vm_ports.append( self.create_port(network=self.network, name=port_name, security_groups=sec_groups, port_security_enabled=port_security, allowed_address_pairs=allowed_address_pairs)) networks=[{'port': self.vm_ports[-1]['id']}], def _test_basic_vlan_transparency_connectivty( self, port_security=True, use_allowed_address_pairs=False): vlan_tag = data_utils.rand_int_id(start=0, end=MAX_VLAN_ID) vlan_ipmask_template = '192.168.%d.{ip_last_byte}/24' % (vlan_tag % 256) vms = [] vlan_ipmasks = [] floating_ips = [] ssh_clients = [] vlan_ipmasks.append(vlan_ipmask_template.format( ip_last_byte=(i + 1) * 10)) if use_allowed_address_pairs: allowed_address_pairs = [{'ip_address': vlan_ipmasks[i]}] vms.append(self._create_port_and_server( allowed_address_pairs=allowed_address_pairs)) floating_ips.append(self.create_floatingip(port=self.vm_ports[i])) ssh_clients.append( self._create_ssh_client(floating_ip=floating_ips[i])) host=floating_ips[i]['floating_ip_address'], ssh_client=ssh_clients[i]) self._configure_vlan_transparent(port=self.vm_ports[i], ssh_client=ssh_clients[i], vlan_tag=vlan_tag, vlan_ip=vlan_ipmasks[i]) # Ping from vm0 to vm1 via VLAN interface should fail because self.check_remote_connectivity( ssh_clients[0], vlan_ipmasks[1].split('/')[0], servers=vms, should_succeed=False) # Ping from vm0 to vm1 via VLAN interface should pass because # either port security is disabled or the ICMP sec group rule has been # added self.check_remote_connectivity( ssh_clients[0], vlan_ipmasks[1].split('/')[0], servers=vms) # Ping from vm1 to vm0 and check untagged packets are not dropped self.check_remote_connectivity( ssh_clients[1], self.vm_ports[0]['fixed_ips'][0]['ip_address'], servers=vms) self._test_basic_vlan_transparency_connectivty(port_security=False) self._test_basic_vlan_transparency_connectivty(",92,52
openstack%2Ftripleo-quickstart~master~Ic61a05cfd3f14921848112cf7f05f0a37111bc61,openstack/tripleo-quickstart,master,Ic61a05cfd3f14921848112cf7f05f0a37111bc61,Refer to stream repos when using stream node,MERGED,2021-01-25 17:01:44.000000000,2021-01-26 11:13:26.000000000,2021-01-26 11:11:30.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 17:01:44.000000000', 'files': ['config/release/dependency_ci/centos8stream/repo_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fb4d98e6f1505a3790ff0d3fae088674416d1d3b', 'message': 'Refer to stream repos when using stream node\n\nFor centos8 stream jobs running on centos8\nstream nodes, disable the repos named\nCentOS-Stream-* before enabling the repos\nused by the dependency pipeline.\n\nChange-Id: Ic61a05cfd3f14921848112cf7f05f0a37111bc61\n'}]",1,772378,fb4d98e6f1505a3790ff0d3fae088674416d1d3b,10,5,1,9976,,,0,"Refer to stream repos when using stream node

For centos8 stream jobs running on centos8
stream nodes, disable the repos named
CentOS-Stream-* before enabling the repos
used by the dependency pipeline.

Change-Id: Ic61a05cfd3f14921848112cf7f05f0a37111bc61
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/772378/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/dependency_ci/centos8stream/repo_config.yaml'],1,fb4d98e6f1505a3790ff0d3fae088674416d1d3b,centos8-stream-node-repos, - CentOS-Stream-BaseOS - CentOS-Stream-AppStream - CentOS-Stream-PowerTools - CentOS-Stream-HighAvailability - CentOS-Stream-Extras, - CentOS-Linux-BaseOS - CentOS-Linux-AppStream - CentOS-Linux-PowerTools - CentOS-Linux-HighAvailability - CentOS-Linux-Extras,5,5
openstack%2Fkolla~master~I448793566202e672348733b8bbbd6665dc251dfe,openstack/kolla,master,I448793566202e672348733b8bbbd6665dc251dfe,Build Masakari for Ubuntu binary,MERGED,2020-12-22 20:22:14.000000000,2021-01-26 11:10:56.000000000,2021-01-26 11:09:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-12-22 20:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d7110fa9585c8bf5b73105aef609bca5e3143159', 'message': '[WIP] Build Masakari for Ubuntu binary\n\nChange-Id: I448793566202e672348733b8bbbd6665dc251dfe\n'}, {'number': 2, 'created': '2020-12-22 20:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/69fdd952e4c30723c197518d32baafcffc187e9c', 'message': '[WIP] Build Masakari for Ubuntu binary\n\nChange-Id: I448793566202e672348733b8bbbd6665dc251dfe\n'}, {'number': 3, 'created': '2020-12-23 10:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/08d90bfc1d20862867d4b115a9e913622a1f3c0a', 'message': '[WIP] Build Masakari for Ubuntu binary\n\nChange-Id: I448793566202e672348733b8bbbd6665dc251dfe\n'}, {'number': 4, 'created': '2021-01-25 15:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e84882999beb3af1213716d497cfd7dc922e8cf', 'message': 'Build Masakari for Ubuntu binary\n\nChange-Id: I448793566202e672348733b8bbbd6665dc251dfe\n'}, {'number': 5, 'created': '2021-01-25 15:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/97bf1a259a98c5a30d8ec5363b37e250a667c13d', 'message': 'Build Masakari for Ubuntu binary\n\nChange-Id: I448793566202e672348733b8bbbd6665dc251dfe\n'}, {'number': 6, 'created': '2021-01-25 15:31:59.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'releasenotes/notes/masakari-ubuntu-binary-e3bb7a82c73e48e7.yaml', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/masakari/masakari-engine/Dockerfile.j2', 'docker/masakari/masakari-monitors/Dockerfile.j2', 'docker/masakari/masakari-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1aca9acb2f9c91ee9ccc05c98550167d0edb98a4', 'message': 'Build Masakari for Ubuntu binary\n\nChange-Id: I448793566202e672348733b8bbbd6665dc251dfe\n'}]",0,768255,1aca9acb2f9c91ee9ccc05c98550167d0edb98a4,21,4,6,30491,,,0,"Build Masakari for Ubuntu binary

Change-Id: I448793566202e672348733b8bbbd6665dc251dfe
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/768255/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/masakari/masakari-base/Dockerfile.j2', 'docker/masakari/masakari-engine/Dockerfile.j2', 'docker/masakari/masakari-monitors/Dockerfile.j2', 'docker/masakari/masakari-api/Dockerfile.j2']",5,d7110fa9585c8bf5b73105aef609bca5e3143159,ubuntu-binary-masakari," {% if base_package_type == 'rpm' %} {# not available #} {% set masakari_base_packages = [ ] %} {% elif base_package_type == 'deb' %} {% set masakari_base_packages = [ 'masakari-api', ] %} {% endif %} {{ macros.install_packages(masakari_base_packages | customizable(""packages"")) }}",RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false,76,16
openstack%2Fopenstack-ansible-os_sahara~master~Ia8422900dd74227e32fbefd37cdf146638c063fb,openstack/openstack-ansible-os_sahara,master,Ia8422900dd74227e32fbefd37cdf146638c063fb,Move sahara pip packages from constraints to requirements,MERGED,2021-01-25 10:21:06.000000000,2021-01-26 10:54:38.000000000,2021-01-26 10:52:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:21:06.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/0bf0e226520c16ec18057b113c61901653b5258f', 'message': 'Move sahara pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: Ia8422900dd74227e32fbefd37cdf146638c063fb\n'}]",0,772295,0bf0e226520c16ec18057b113c61901653b5258f,8,3,1,25023,,,0,"Move sahara pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: Ia8422900dd74227e32fbefd37cdf146638c063fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/95/772295/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0bf0e226520c16ec18057b113c61901653b5258f,osa-new-pip," - ""git+{{ sahara_git_repo }}@{{ sahara_git_install_branch }}#egg=sahara"""," - ""git+{{ sahara_git_repo }}@{{ sahara_git_install_branch }}#egg=sahara"" - sahara",1,2
openstack%2Fkolla~stable%2Fussuri~I2076ab4a634418df5863174588a72e6c2ce8f05e,openstack/kolla,stable/ussuri,I2076ab4a634418df5863174588a72e6c2ce8f05e,nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic',MERGED,2021-01-21 16:34:58.000000000,2021-01-26 10:53:48.000000000,2021-01-26 10:51:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-21 16:34:58.000000000', 'files': ['docker/nova/nova-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6e528dfbbae13e91099af08b645fca65c03be34', 'message': ""nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'\n\nVictoria+ branches use Ubuntu 'focal' where this package is available\nfor aarch64 as well.\n\nChange-Id: I2076ab4a634418df5863174588a72e6c2ce8f05e\n""}]",0,771846,a6e528dfbbae13e91099af08b645fca65c03be34,17,3,1,24072,,,0,"nova-compute: 'pmdk-tools' is x86-64 only in Ubuntu 'bionic'

Victoria+ branches use Ubuntu 'focal' where this package is available
for aarch64 as well.

Change-Id: I2076ab4a634418df5863174588a72e6c2ce8f05e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/771846/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-compute/Dockerfile.j2'],1,a6e528dfbbae13e91099af08b645fca65c03be34,," # NOTE(hrw): similar situation with 'pmdk-tools' 'pmdk-tools', # NOTE(hrw): similar situation with 'pmdk-tools' 'pmdk-tools',"," 'pmdk-tools', 'pmdk-tools',",4,2
openstack%2Fopenstack-ansible-os_swift~master~I5c22a77fc889b78bad6d1e27f7c631ef4b8a8220,openstack/openstack-ansible-os_swift,master,I5c22a77fc889b78bad6d1e27f7c631ef4b8a8220,Move swift packages from constraints to requirements,MERGED,2021-01-25 10:32:00.000000000,2021-01-26 10:52:00.000000000,2021-01-26 10:49:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:32:00.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/baa3dc357801ca0631308a939259feeb0e237099', 'message': 'Move swift packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I5c22a77fc889b78bad6d1e27f7c631ef4b8a8220\n'}]",0,772297,baa3dc357801ca0631308a939259feeb0e237099,8,3,1,25023,,,0,"Move swift packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I5c22a77fc889b78bad6d1e27f7c631ef4b8a8220
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/97/772297/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,baa3dc357801ca0631308a939259feeb0e237099,osa-new-pip," - ""git+{{ swift_git_repo }}@{{ swift_git_install_branch }}#egg=swift"""," - ""git+{{ swift_git_repo }}@{{ swift_git_install_branch }}#egg=swift"" - swift",1,2
openstack%2Fpuppet-openstack-integration~master~Ib65732c927ea966c2df0082576fb5c67a51c7027,openstack/puppet-openstack-integration,master,Ib65732c927ea966c2df0082576fb5c67a51c7027,Updated from Puppet OpenStack modules constraints,MERGED,2021-01-21 06:07:22.000000000,2021-01-26 10:51:41.000000000,2021-01-26 10:51:41.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 06:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e20738c3026f616c645e1d4e6cb177ec077a0502', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ib65732c927ea966c2df0082576fb5c67a51c7027\n'}, {'number': 2, 'created': '2021-01-26 06:05:29.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c5e5b6e24d46b9474ed6ff2e09cbb25590c6228d', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ib65732c927ea966c2df0082576fb5c67a51c7027\n'}]",0,771750,c5e5b6e24d46b9474ed6ff2e09cbb25590c6228d,11,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ib65732c927ea966c2df0082576fb5c67a51c7027
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/50/771750/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,e20738c3026f616c645e1d4e6cb177ec077a0502,openstack/puppet/constraints, :ref => 'v3.2.0', :ref => 'v3.1.1',1,1
openstack%2Fopenstack-ansible-os_senlin~master~I2c6acbe6a1c0a4b2bb5cf93e0fbb1efd10bd9865,openstack/openstack-ansible-os_senlin,master,I2c6acbe6a1c0a4b2bb5cf93e0fbb1efd10bd9865,Move senlin pip packages from constraints to requirements,MERGED,2021-01-25 10:28:56.000000000,2021-01-26 10:48:35.000000000,2021-01-26 10:47:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:28:56.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/028b29c26beec77c6456acb131eb45cc644d4058', 'message': 'Move senlin pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I2c6acbe6a1c0a4b2bb5cf93e0fbb1efd10bd9865\n'}]",0,772296,028b29c26beec77c6456acb131eb45cc644d4058,8,3,1,25023,,,0,"Move senlin pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I2c6acbe6a1c0a4b2bb5cf93e0fbb1efd10bd9865
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/96/772296/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,028b29c26beec77c6456acb131eb45cc644d4058,osa-new-pip," - ""git+{{ senlin_git_repo }}@{{ senlin_git_install_branch }}#egg=openstack-senlin"""," - ""git+{{ senlin_git_repo }}@{{ senlin_git_install_branch }}#egg=openstack-senlin"" - senlin",1,2
openstack%2Fopenstack-ansible-os_designate~master~I432de032214792d4296b51d471c2432e9a8410b4,openstack/openstack-ansible-os_designate,master,I432de032214792d4296b51d471c2432e9a8410b4,Move designate pip packages from constraints to requirements,MERGED,2021-01-25 10:00:21.000000000,2021-01-26 10:46:42.000000000,2021-01-26 10:44:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:00:21.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/8b28984a5c8503b7d97e895c7cb0658253494051', 'message': 'Move designate pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I432de032214792d4296b51d471c2432e9a8410b4\n'}]",0,772280,8b28984a5c8503b7d97e895c7cb0658253494051,8,3,1,25023,,,0,"Move designate pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I432de032214792d4296b51d471c2432e9a8410b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/80/772280/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,8b28984a5c8503b7d97e895c7cb0658253494051,osa-new-pip," - ""git+{{ designate_git_repo }}@{{ designate_git_install_branch }}#egg=designate"""," - ""git+{{ designate_git_repo }}@{{ designate_git_install_branch }}#egg=designate"" - designate",1,2
openstack%2Fopenstack-ansible-os_blazar~master~I5ce52c9e5a39c376652cba7b13a1e0e50b784aa7,openstack/openstack-ansible-os_blazar,master,I5ce52c9e5a39c376652cba7b13a1e0e50b784aa7,Move blazar pip packages from constraints to requirements,MERGED,2021-01-25 08:50:45.000000000,2021-01-26 10:45:36.000000000,2021-01-26 10:44:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 08:50:45.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/746e9a48952b41fedf35ec4c9b025f92674c91f4', 'message': 'Move blazar pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver\n\nChange-Id: I5ce52c9e5a39c376652cba7b13a1e0e50b784aa7\n'}]",0,772261,746e9a48952b41fedf35ec4c9b025f92674c91f4,8,3,1,25023,,,0,"Move blazar pip packages from constraints to requirements

This is necessary to support the new pip resolver

Change-Id: I5ce52c9e5a39c376652cba7b13a1e0e50b784aa7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/61/772261/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,746e9a48952b41fedf35ec4c9b025f92674c91f4,osa-new-pip," - ""git+{{ blazar_git_repo }}@{{ blazar_git_install_branch }}#egg=blazar"""," - blazar - ""git+{{ blazar_git_repo }}@{{ blazar_git_install_branch }}#egg=blazar""",1,2
openstack%2Fopenstack-ansible-os_masakari~master~Ibace1c10a3d66ca7f1084ee53f27819a659e1246,openstack/openstack-ansible-os_masakari,master,Ibace1c10a3d66ca7f1084ee53f27819a659e1246,Move masakari pip packages from constraints to requirements,MERGED,2021-01-25 10:12:06.000000000,2021-01-26 10:44:53.000000000,2021-01-26 10:43:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:12:06.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/58a8b65e8c7fadd3aa45d148cfc5a1b57fb21c1a', 'message': 'Move masakari pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: Ibace1c10a3d66ca7f1084ee53f27819a659e1246\n'}]",0,772288,58a8b65e8c7fadd3aa45d148cfc5a1b57fb21c1a,8,3,1,25023,,,0,"Move masakari pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: Ibace1c10a3d66ca7f1084ee53f27819a659e1246
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/88/772288/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,58a8b65e8c7fadd3aa45d148cfc5a1b57fb21c1a,osa-new-pip," - ""git+{{ masakari_git_repo }}@{{ masakari_git_install_branch }}#egg=masakari"" - ""git+{{ masakari_monitors_git_repo }}@{{ masakari_monitors_git_install_branch }}#egg=masakari-monitors"""," - ""git+{{ masakari_git_repo }}@{{ masakari_git_install_branch }}#egg=masakari"" - ""git+{{ masakari_monitors_git_repo }}@{{ masakari_monitors_git_install_branch }}#egg=masakari-monitors"" - masakari-monitors",2,3
openstack%2Fpython-tripleoclient~master~Iba03aed76fab1977e2b51ef69e8e08a493152ed6,openstack/python-tripleoclient,master,Iba03aed76fab1977e2b51ef69e8e08a493152ed6,Dedup host entries in the exported data for stacks,MERGED,2021-01-14 17:42:46.000000000,2021-01-26 10:25:22.000000000,2021-01-26 10:18:08.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-14 17:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/779097b977ac5f3deda0041e11a7570337492e97', 'message': 'Dedup host entries in the exported data for stacks\n\nDo not add extra host entries for VIPs for stacks deployed off the\nexported data, since it already contains those entries\n\nThis is done by setting AddVipsToEtcHosts to False.\nThen a stack is deployed, no more VIPs will be added into /etc/hosts\nof the targeted hosts.\n\nChange-Id: Iba03aed76fab1977e2b51ef69e8e08a493152ed6\nCloses-bug: #1911792\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-01-15 09:38:38.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/v1/overcloud_export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e3c118756fa056602afe47136aaae77e3170b8bc', 'message': 'Dedup host entries in the exported data for stacks\n\nDo not add extra host entries for VIPs for stacks deployed off the\nexported data, since it already contains those entries\n\nThis is done by setting AddVipsToEtcHosts to False.\nThen a stack is deployed, no more VIPs will be added into /etc/hosts\nof the targeted hosts.\n\nChange-Id: Iba03aed76fab1977e2b51ef69e8e08a493152ed6\nCloses-bug: #1911792\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,770843,e3c118756fa056602afe47136aaae77e3170b8bc,24,5,2,6926,,,0,"Dedup host entries in the exported data for stacks

Do not add extra host entries for VIPs for stacks deployed off the
exported data, since it already contains those entries

This is done by setting AddVipsToEtcHosts to False.
Then a stack is deployed, no more VIPs will be added into /etc/hosts
of the targeted hosts.

Change-Id: Iba03aed76fab1977e2b51ef69e8e08a493152ed6
Closes-bug: #1911792
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/770843/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_export.py'],1,779097b977ac5f3deda0041e11a7570337492e97,," # do not add extra host entries for VIPs for stacks deployed off that # exported data, since it already contains those entries data.update({'AddVipsToEtcHosts': False})",,3,0
openstack%2Fpython-tripleoclient~master~Id0458bfdf1b819fe783e721741cd56c89b03ecd1,openstack/python-tripleoclient,master,Id0458bfdf1b819fe783e721741cd56c89b03ecd1,Create overcloudrc using stack environment,MERGED,2021-01-11 10:39:52.000000000,2021-01-26 10:23:46.000000000,2021-01-26 10:18:01.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 10:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d600a1b63399a9ad46e40011e067546b87ea4cd', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 2, 'created': '2021-01-12 06:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0551b9d6a0ca4635e887c0b2ee70c3ef3248318c', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 3, 'created': '2021-01-13 08:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8aab36539fccc9a56141701ca82c7a42ee92055', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 4, 'created': '2021-01-18 04:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/94b508c607409e3879adabae4a341858dfd37bbb', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 5, 'created': '2021-01-18 09:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ffb9da9f4aaf4575d0a7965520e58163ae89ec20', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 6, 'created': '2021-01-19 10:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72432f77d57bee7e8ba9c003b937080c574c2030', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 7, 'created': '2021-01-21 05:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03aec461643148a82a46798687648811df1148b6', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}, {'number': 8, 'created': '2021-01-24 12:00:14.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0eea8c580e388a1e214e63a450a461d42fbe697', 'message': 'Create overcloudrc using stack environment\n\nThis changes to use the stack environment instead\nof swift plan for overcloudrc generation. Also simplifies\nit by making a direct tripleo-common api call.\n\nChange-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1\n'}]",0,770096,e0eea8c580e388a1e214e63a450a461d42fbe697,48,6,8,8833,,,0,"Create overcloudrc using stack environment

This changes to use the stack environment instead
of swift plan for overcloudrc generation. Also simplifies
it by making a direct tripleo-common api call.

Change-Id: Id0458bfdf1b819fe783e721741cd56c89b03ecd1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/770096/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,1d600a1b63399a9ad46e40011e067546b87ea4cd,env_merging,"from tripleo_common.utils import overcloudrc as rc_utils rc_params = utils.get_rc_params( self.orchestration_client, parsed_args.stack) rcpath = rc_utils._create_overcloudrc( stack, parsed_args.no_proxy, rc_params['password'], rc_params['region'])"," rcpath = deployment.create_overcloudrc( container=stack.stack_name, no_proxy=parsed_args.no_proxy) ",118,76
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I172ae8f35df34887aaf61b3e03d5aaab1d462a60,openstack/tripleo-heat-templates,stable/victoria,I172ae8f35df34887aaf61b3e03d5aaab1d462a60,Do not relabel Swift files on every container start,MERGED,2021-01-20 08:10:37.000000000,2021-01-26 10:23:37.000000000,2021-01-26 10:18:47.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-20 08:10:37.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'releasenotes/notes/swift-prevent-relabeling-b9721aa5a1abda6e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/add0f90036e76de94b0eedc60a5f2a7d913e08c1', 'message': 'Do not relabel Swift files on every container start\n\nWithout this patch, files in /srv/node are relabeled on every start of\nthe account_auditor and/or account_reaper containers. If there are many\nfiles (eg. when using Gnocchi) this will take a long time, sometimes\ndozens of minutes per container start, and might result in breaking\nupgrades/updates.\n\nRelabeling already happens in step 3, this should be sufficient and\nprevent additional delays when (re-) starting containers.\n\nCloses-Bug: 1907070\nChange-Id: I172ae8f35df34887aaf61b3e03d5aaab1d462a60\n(cherry picked from commit 191d160903d1072d3cfd9a594e79f64cc533b2b1)\n'}]",0,771544,add0f90036e76de94b0eedc60a5f2a7d913e08c1,20,6,1,6968,,,0,"Do not relabel Swift files on every container start

Without this patch, files in /srv/node are relabeled on every start of
the account_auditor and/or account_reaper containers. If there are many
files (eg. when using Gnocchi) this will take a long time, sometimes
dozens of minutes per container start, and might result in breaking
upgrades/updates.

Relabeling already happens in step 3, this should be sufficient and
prevent additional delays when (re-) starting containers.

Closes-Bug: 1907070
Change-Id: I172ae8f35df34887aaf61b3e03d5aaab1d462a60
(cherry picked from commit 191d160903d1072d3cfd9a594e79f64cc533b2b1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/771544/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'releasenotes/notes/swift-prevent-relabeling-b9721aa5a1abda6e.yaml']",2,add0f90036e76de94b0eedc60a5f2a7d913e08c1,,--- fixes: - | Do not relabel Swift files on every container (re-)start. These will be relabeled already in step 3 preventing additional delays. ,,7,2
openstack%2Fpuppet-gnocchi~master~I48e0df4d4853cfe4c2ac3f4fd7352172e52483c0,openstack/puppet-gnocchi,master,I48e0df4d4853cfe4c2ac3f4fd7352172e52483c0,Support more options of Swift storage driver,MERGED,2021-01-23 23:28:42.000000000,2021-01-26 10:21:54.000000000,2021-01-26 10:17:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 23:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/6f6242963db3206f8a62a6d52d14ab8b5bbcedc6', 'message': 'Support more options of Swift storage driver\n\nChange-Id: I48e0df4d4853cfe4c2ac3f4fd7352172e52483c0\n'}, {'number': 2, 'created': '2021-01-23 23:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/961ffff32ab6a7fa283d236bf5bbd3480b7d6096', 'message': 'Support more options of Swift storage driver\n\nChange-Id: I48e0df4d4853cfe4c2ac3f4fd7352172e52483c0\n'}, {'number': 3, 'created': '2021-01-23 23:45:02.000000000', 'files': ['manifests/storage/swift.pp', 'releasenotes/notes/swift-opts-57734ccd24e882f1.yaml', 'spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/4b310cf9efb0da18dcae41ff83e604a8f1a30e96', 'message': 'Support more options of Swift storage driver\n\nChange-Id: I48e0df4d4853cfe4c2ac3f4fd7352172e52483c0\n'}]",0,772172,4b310cf9efb0da18dcae41ff83e604a8f1a30e96,12,3,3,9816,,,0,"Support more options of Swift storage driver

Change-Id: I48e0df4d4853cfe4c2ac3f4fd7352172e52483c0
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/72/772172/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/swift.pp', 'releasenotes/notes/swift-opts-57734ccd24e882f1.yaml', 'spec/classes/gnocchi_storage_swift_spec.rb']",3,6f6242963db3206f8a62a6d52d14ab8b5bbcedc6,swift-opts," is_expected.to contain_gnocchi_config('storage/swift_service_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('storage/swift_timeout').with_value('<SERVICE DEFAULT>') context 'with specific parameters' do :swift_user => 'swift2', :swift_key => 'admin', :swift_authurl => 'http://localhost:5000', :swift_project_name => 'service', :swift_user_domain_name => 'Default', :swift_project_domain_name => 'Default', :swift_region => 'regionOne', :swift_auth_version => 2, :swift_endpoint_type => 'publicURL', :swift_service_type => 'object-store', :swift_timeout => 0 is_expected.to contain_gnocchi_config('storage/driver').with_value('swift') is_expected.to contain_gnocchi_config('storage/swift_user').with_value('swift2') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin') is_expected.to contain_gnocchi_config('storage/swift_authurl').with_value('http://localhost:5000') is_expected.to contain_gnocchi_config('storage/swift_project_name').with_value('service') is_expected.to contain_gnocchi_config('storage/swift_user_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_project_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_region').with_value('regionOne') is_expected.to contain_gnocchi_config('storage/swift_auth_version').with_value(2) is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('publicURL') is_expected.to contain_gnocchi_config('storage/swift_service_type').with_value('object-store') is_expected.to contain_gnocchi_config('storage/swift_timeout').with_value(0)", context 'with swift_endpoint_type set' do :swift_endpoint_type => 'internalURL' is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('internalURL'),38,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I23b469057e4c47c42601beb166f815ee71147c14,openstack/tripleo-heat-templates,stable/train,I23b469057e4c47c42601beb166f815ee71147c14,Fix swift containers idempotency,MERGED,2021-01-13 15:47:10.000000000,2021-01-26 10:18:37.000000000,2021-01-26 10:18:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-13 15:47:10.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bee00aa6b2891e940766d1a313714ce376e15b21', 'message': 'Fix swift containers idempotency\n\nThe change https://review.opendev.org/#/c/616116 unwinded the swift\npart of the https://review.opendev.org/#/c/590008/ changes. So the\ncontents of the /var/lib/config-data/swift_ringbuilder config volume\nused to be managed by container-puppet tool. That made swift containers\nalways restarted because the puppet-generated rings are always changing\non each deployment/update execution.\n\nRestore that unwinded change back and exclude swift rings from the\nmanagement of container-puppet tooling. Instead make init containers\nswift_copy_rings and swift_setup_srv to be always executed (takes\nthe same approach as in https://review.opendev.org/#/c/564798/).\n\nThat also fixes the issue with swift_copy_rings seems never been\nexecuted - at least there is no traces of it in CI jobs logs for swift\ninit containers.\n\nChange-Id: I23b469057e4c47c42601beb166f815ee71147c14\nCloses-Bug: #1867765\nRelated-Bug: #1802066\nRelated-Bug: #1786065\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9bc664090741d43fd49857230238fc345bf8d0c9)\n'}]",0,770640,bee00aa6b2891e940766d1a313714ce376e15b21,30,4,1,6926,,,0,"Fix swift containers idempotency

The change https://review.opendev.org/#/c/616116 unwinded the swift
part of the https://review.opendev.org/#/c/590008/ changes. So the
contents of the /var/lib/config-data/swift_ringbuilder config volume
used to be managed by container-puppet tool. That made swift containers
always restarted because the puppet-generated rings are always changing
on each deployment/update execution.

Restore that unwinded change back and exclude swift rings from the
management of container-puppet tooling. Instead make init containers
swift_copy_rings and swift_setup_srv to be always executed (takes
the same approach as in https://review.opendev.org/#/c/564798/).

That also fixes the issue with swift_copy_rings seems never been
executed - at least there is no traces of it in CI jobs logs for swift
init containers.

Change-Id: I23b469057e4c47c42601beb166f815ee71147c14
Closes-Bug: #1867765
Related-Bug: #1802066
Related-Bug: #1786065
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9bc664090741d43fd49857230238fc345bf8d0c9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/770640/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'common/container-puppet.sh']",3,bee00aa6b2891e940766d1a313714ce376e15b21,, # We need to exclude the swift rings and backups as those change over time # and containers do not need to restart if they change EXCLUDE=--exclude='*/etc/swift/backups/*'\ --exclude='*/etc/swift/*.ring.gz'\ --exclude='*/etc/swift/*.builder'\ --exclude='*/etc/libvirt/passwd.db'\ ${excluded_original_passwords}, # We need to exclude the swift ring backups as those change over time and # containers do not need to restart if they change EXCLUDE=--exclude='*/etc/swift/backups/*'\ --exclude='*/etc/libvirt/passwd.db'\ ${excluded_original_passwords},23,3
openstack%2Fpuppet-tripleo~stable%2Fqueens~I2a6d03f9ef13be58c8cddaae0069e2db3b2af99e,openstack/puppet-tripleo,stable/queens,I2a6d03f9ef13be58c8cddaae0069e2db3b2af99e,remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates,MERGED,2021-01-25 08:59:11.000000000,2021-01-26 10:18:29.000000000,2021-01-26 10:18:29.000000000,"[{'_account_id': 6816}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-01-25 08:59:11.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eb8e47a29b4bc3df3836ae39a2be87717de22d1f', 'message': 'remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates\n\nsee topic branch [1] for all related patches. Needed by [2].\n\n[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal\n[2] https://review.opendev.org/c/openstack/tripleo-ci/+/770153\n\nChange-Id: I2a6d03f9ef13be58c8cddaae0069e2db3b2af99e\n'}]",0,772263,eb8e47a29b4bc3df3836ae39a2be87717de22d1f,9,10,1,8449,,,0,"remove tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates

see topic branch [1] for all related patches. Needed by [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/tripleo-ci/+/770153

Change-Id: I2a6d03f9ef13be58c8cddaae0069e2db3b2af99e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/772263/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,eb8e47a29b4bc3df3836ae39a2be87717de22d1f,tripleo-c7-update-upgrade-removal,, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$,0,26
openstack%2Fpuppet-tripleo~master~Ie2f7478e2115bac5051f3424c4bd2b97efa6f733,openstack/puppet-tripleo,master,Ie2f7478e2115bac5051f3424c4bd2b97efa6f733,Include nova::glance class,MERGED,2021-01-23 22:47:05.000000000,2021-01-26 10:17:57.000000000,2021-01-26 10:17:57.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-23 22:47:05.000000000', 'files': ['manifests/profile/base/nova/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/072785e5109691f4fb3e3bede9812b1d97118b1b', 'message': 'Include nova::glance class\n\ninclude extracted glance configuration introduced in Change-Id\nI94d110f0dfe89afb6bbd066d9abc3b72ebc10e52. Right now nova::glance is\nincluded in base nova class, but planned to be removed. Lets include\nit now.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/770684\nChange-Id: Ie2f7478e2115bac5051f3424c4bd2b97efa6f733\n'}]",0,772168,072785e5109691f4fb3e3bede9812b1d97118b1b,8,4,1,17216,,,0,"Include nova::glance class

include extracted glance configuration introduced in Change-Id
I94d110f0dfe89afb6bbd066d9abc3b72ebc10e52. Right now nova::glance is
included in base nova class, but planned to be removed. Lets include
it now.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/770684
Change-Id: Ie2f7478e2115bac5051f3424c4bd2b97efa6f733
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/772168/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/compute.pp'],1,072785e5109691f4fb3e3bede9812b1d97118b1b,rbd-download, include nova::glance,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ie240877496b73a37f553a84af47dfebdbaf899e5,openstack/tripleo-heat-templates,stable/victoria,Ie240877496b73a37f553a84af47dfebdbaf899e5,Fix unreachable handling,MERGED,2021-01-21 17:33:16.000000000,2021-01-26 10:17:38.000000000,2021-01-26 10:17:38.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-21 17:33:16.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57520232ffa034446b82d324f175e16a7270e1df', 'message': 'Fix unreachable handling\n\nWhen we clear the cached facts with unreachable nodes, we attempt to\ngather facts by default. This can cause the node to be skipped for every\nfuture playbook. This ends up bypassing all our failure percentage\nlogic.\n\nChange-Id: Ie240877496b73a37f553a84af47dfebdbaf899e5\nRelated-Bug: 1908573\n(cherry picked from commit 969693e667aba8d893f10f7b03bafde3b3f66287)\n'}]",0,771613,57520232ffa034446b82d324f175e16a7270e1df,10,3,1,14985,,,0,"Fix unreachable handling

When we clear the cached facts with unreachable nodes, we attempt to
gather facts by default. This can cause the node to be skipped for every
future playbook. This ends up bypassing all our failure percentage
logic.

Change-Id: Ie240877496b73a37f553a84af47dfebdbaf899e5
Related-Bug: 1908573
(cherry picked from commit 969693e667aba8d893f10f7b03bafde3b3f66287)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/771613/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,57520232ffa034446b82d324f175e16a7270e1df,bug/1908573-stable/victoria," # We don't want to gather facts, just clear them gather_facts: false strategy: tripleo_free gather_facts: true"," gather_facts: yes # False because https://github.com/ansible/ansible/issues/70663 any_errors_fatal: false # If an overcloud node is down, we will let MaxFailPercentage # figuring out if the deployment can continue. For the facts gathering tasks, # we will simply ignore unreachable nodes and errors, and let the # Ansible reports the failure in the next plays. ignore_unreachable: true",4,8
openstack%2Fpuppet-gnocchi~master~I1f45a77c75594e03ec2f014be5bf15872fc3ae89,openstack/puppet-gnocchi,master,I1f45a77c75594e03ec2f014be5bf15872fc3ae89,swift_key should be secret,MERGED,2021-01-23 23:36:34.000000000,2021-01-26 10:17:07.000000000,2021-01-26 10:17:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 23:36:34.000000000', 'files': ['manifests/storage/swift.pp', 'spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/7cba6e450e7b580b4912218be43b3c0afd7e10d7', 'message': 'swift_key should be secret\n\nChange-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89\n'}]",0,772174,7cba6e450e7b580b4912218be43b3c0afd7e10d7,9,3,1,9816,,,0,"swift_key should be secret

Change-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/74/772174/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/swift.pp', 'spec/classes/gnocchi_storage_swift_spec.rb']",2,7cba6e450e7b580b4912218be43b3c0afd7e10d7,swift_key, is_expected.to contain_gnocchi_config('storage/swift_key').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin').with_secret(true), is_expected.to contain_gnocchi_config('storage/swift_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin'),3,3
openstack%2Foctavia~master~I1c5cb987945a7a465bfecfda399dfe93fc1b76bb,openstack/octavia,master,I1c5cb987945a7a465bfecfda399dfe93fc1b76bb,Validate listener protocol in amphora driver,MERGED,2021-01-21 08:10:58.000000000,2021-01-26 10:14:48.000000000,2021-01-26 10:12:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-01-21 08:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0031d9c6544da55ef4af50ec3269844bc8e36b0d', 'message': ""Validate listener protocol in amphora driver\n\nValidate that the amphora driver supports the listener protocol when\nreceving a listener_create request.\n\nIt returns an UnsupportedOptionError exception to the user if the\namphora driver doesn't support a protocol that is defined in the API\n(ex: SCTP is supported in the API in the Victoria release, but not in\nthe amphora driver).\n\nStory: 2008545\nTask: 41647\n\nChange-Id: I1c5cb987945a7a465bfecfda399dfe93fc1b76bb\n""}, {'number': 2, 'created': '2021-01-21 09:37:02.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fbbc5f9024b0408d5ff70bb8f2c4c690f0304c33', 'message': ""Validate listener protocol in amphora driver\n\nValidate that the amphora driver supports the listener protocol when\nreceving a listener_create request.\n\nIt returns an UnsupportedOptionError exception to the user if the\namphora driver doesn't support a protocol that is defined in the API\n(ex: SCTP is supported in the API in the Victoria release, but not in\nthe amphora driver).\n\nStory: 2008545\nTask: 41647\n\nChange-Id: I1c5cb987945a7a465bfecfda399dfe93fc1b76bb\n""}]",10,771759,fbbc5f9024b0408d5ff70bb8f2c4c690f0304c33,16,5,2,29244,,,0,"Validate listener protocol in amphora driver

Validate that the amphora driver supports the listener protocol when
receving a listener_create request.

It returns an UnsupportedOptionError exception to the user if the
amphora driver doesn't support a protocol that is defined in the API
(ex: SCTP is supported in the API in the Victoria release, but not in
the amphora driver).

Story: 2008545
Task: 41647

Change-Id: I1c5cb987945a7a465bfecfda399dfe93fc1b76bb
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/771759/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py']",4,0031d9c6544da55ef4af50ec3269844bc8e36b0d,sctp_proto_validation," protocol=consts.PROTOCOL_HTTPS, listener_id=self.sample_data.listener1_id, protocol=consts.PROTOCOL_HTTPS) def test_listener_create_unsupported_protocol(self, mock_cast): provider_listener = driver_dm.Listener( listener_id=self.sample_data.listener1_id, protocol='UNSUPPORTED_PROTO') self.assertRaises( exceptions.UnsupportedOptionError, self.amp_driver.listener_create, provider_listener) mock_cast.assert_not_called() @mock.patch('oslo_messaging.RPCClient.cast')", listener_id=self.sample_data.listener1_id),72,2
openstack%2Fneutron~master~Ib2361fe4353ca571363e9a363e08537a3402513f,openstack/neutron,master,Ib2361fe4353ca571363e9a363e08537a3402513f,"In OVO PortForwarding, retrieve FIP info from db_obj",MERGED,2021-01-13 18:04:11.000000000,2021-01-26 10:00:26.000000000,2021-01-18 15:55:21.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 18:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ac5c8e28e6fab766e257bf898c52eb92841aceb', 'message': ""In OVO PortForwarding, retrieve FIP info from db_obj\n\nIn OVO PortForwarding, the synthetic fields 'floating_ip_address'\nand 'router_id' are retrieved from the floating IP related to this\nport forwarding.\n\nPortForwarding contains, in the db_obj, the floating IP DB object too.\nInstead of retrieving the OVO FloatingIP for each field, the db_obj\nis read instead.\n\nIn a testing environment with 300 port forwarding registers per\nfloating IP, the retrieving time for a list query goes from 35 seconds\nto less than one second.\n  $ openstack floating ip port forwarding list $fip\n\nChange-Id: Ib2361fe4353ca571363e9a363e08537a3402513f\nCloses-Bug: #1911462\n""}, {'number': 2, 'created': '2021-01-15 10:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b772e24be40f6a7a907aadd5db65ff4525b868ca', 'message': ""In OVO PortForwarding, retrieve FIP info from db_obj\n\nIn OVO PortForwarding, the synthetic fields 'floating_ip_address'\nand 'router_id' are retrieved from the floating IP related to this\nport forwarding.\n\nPortForwarding contains, in the db_obj, the floating IP DB object too.\nInstead of retrieving the OVO FloatingIP for each field, the db_obj\nis read instead.\n\nIn a testing environment with 300 port forwarding registers per\nfloating IP, the retrieving time for a list query goes from 35 seconds\nto less than one second.\n  $ openstack floating ip port forwarding list $fip\n\nChange-Id: Ib2361fe4353ca571363e9a363e08537a3402513f\nCloses-Bug: #1911462\n""}, {'number': 3, 'created': '2021-01-16 00:06:49.000000000', 'files': ['neutron/tests/unit/objects/test_port_forwarding.py', 'neutron/objects/port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eac107a0d4c665651318a076f9c40de75ba181bf', 'message': ""In OVO PortForwarding, retrieve FIP info from db_obj\n\nIn OVO PortForwarding, the synthetic fields 'floating_ip_address'\nand 'router_id' are retrieved from the floating IP related to this\nport forwarding.\n\nPortForwarding contains, in the db_obj, the floating IP DB object too.\nInstead of retrieving the OVO FloatingIP for each field, the db_obj\nis read instead.\n\nIn a testing environment with 300 port forwarding registers per\nfloating IP, the retrieving time for a list query goes from 35 seconds\nto less than one second.\n  $ openstack floating ip port forwarding list $fip\n\nChange-Id: Ib2361fe4353ca571363e9a363e08537a3402513f\nCloses-Bug: #1911462\n""}]",1,770654,eac107a0d4c665651318a076f9c40de75ba181bf,29,4,3,16688,,,0,"In OVO PortForwarding, retrieve FIP info from db_obj

In OVO PortForwarding, the synthetic fields 'floating_ip_address'
and 'router_id' are retrieved from the floating IP related to this
port forwarding.

PortForwarding contains, in the db_obj, the floating IP DB object too.
Instead of retrieving the OVO FloatingIP for each field, the db_obj
is read instead.

In a testing environment with 300 port forwarding registers per
floating IP, the retrieving time for a list query goes from 35 seconds
to less than one second.
  $ openstack floating ip port forwarding list $fip

Change-Id: Ib2361fe4353ca571363e9a363e08537a3402513f
Closes-Bug: #1911462
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/770654/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/port_forwarding.py'],1,9ac5c8e28e6fab766e257bf898c52eb92841aceb,bug/1911462," value = getattr(self.db_obj.floating_ip, attrname)"," # get all necessary info from fip obj fip_obj = router.FloatingIP.get_object( self.obj_context, id=self.floatingip_id) value = getattr(fip_obj, attrname)",1,4
openstack%2Fansible-role-python_venv_build~master~I14df0a69adf7f8b029f51384628409c58253301f,openstack/ansible-role-python_venv_build,master,I14df0a69adf7f8b029f51384628409c58253301f,Add source code and bugs url link to README,MERGED,2018-08-31 09:41:44.000000000,2021-01-26 09:56:42.000000000,2021-01-26 09:52:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-08-31 09:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5255d1aa2ce482efd6735f921404d2e5a39bf960', 'message': 'Add bugs url link to README\n\nChange-Id: I14df0a69adf7f8b029f51384628409c58253301f\n'}, {'number': 2, 'created': '2018-08-31 09:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/8fa9a9d4da3ab1275d8617ce6a069a8ba62f7dee', 'message': 'Add source code and bugs url link to README\n\n1) Add source code url link to README.rst\n2) Add bugs url link to README.rst\n\nChange-Id: I14df0a69adf7f8b029f51384628409c58253301f\n'}, {'number': 3, 'created': '2021-01-13 17:37:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/3a1c6cfb8b1ed062989536949883f0f8cb74d459', 'message': 'Add source code and bugs url link to README\n\n1) Add source code url link to README.rst\n2) Add bugs url link to README.rst\n\nChange-Id: I14df0a69adf7f8b029f51384628409c58253301f\n'}]",0,598580,3a1c6cfb8b1ed062989536949883f0f8cb74d459,11,3,3,23317,,,0,"Add source code and bugs url link to README

1) Add source code url link to README.rst
2) Add bugs url link to README.rst

Change-Id: I14df0a69adf7f8b029f51384628409c58253301f
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/80/598580/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5255d1aa2ce482efd6735f921404d2e5a39bf960,fix, The bugs can be found at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fopenstack-ansible-os_aodh~master~If78c5c7fad0a10fe786e8d7b9808e1e39a3ab1c9,openstack/openstack-ansible-os_aodh,master,If78c5c7fad0a10fe786e8d7b9808e1e39a3ab1c9,Fix documentation formatting,MERGED,2018-07-30 11:54:10.000000000,2021-01-26 09:54:43.000000000,2021-01-26 09:51:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-07-30 11:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/71b81393360ee0320543d346ed4ddd9758a26dba', 'message': ""format ret code\n\nremove unnessary '='\n\nChange-Id: If78c5c7fad0a10fe786e8d7b9808e1e39a3ab1c9\n""}, {'number': 2, 'created': '2021-01-13 17:41:16.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/18b54e16e0e48beccbdeeacb06257af1ad241887', 'message': ""Fix documentation formatting\n\nremove unnessary '='\n\nChange-Id: If78c5c7fad0a10fe786e8d7b9808e1e39a3ab1c9\n""}]",0,587019,18b54e16e0e48beccbdeeacb06257af1ad241887,13,3,2,21486,,,0,"Fix documentation formatting

remove unnessary '='

Change-Id: If78c5c7fad0a10fe786e8d7b9808e1e39a3ab1c9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/19/587019/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,71b81393360ee0320543d346ed4ddd9758a26dba,,============================================,========================================================================,2,2
openstack%2Fopenstack-ansible-tests~master~Ib4c3592184973ba9908a1ba17d935a96448969a1,openstack/openstack-ansible-tests,master,Ib4c3592184973ba9908a1ba17d935a96448969a1,Use setuptools constraint from global-requirements-pins rather than u-c,MERGED,2021-01-21 08:49:46.000000000,2021-01-26 09:54:20.000000000,2021-01-26 09:51:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 08:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/da990466ca14b9ee94ec6182e4710f8cbd20dd59', 'message': 'Use setuptools constraint from global-requirements-pins rather than u-c\n\nWith the new pip resolver, if a package is constrainted to two\ndifferent versions simultaneously then the package cannot be installed.\n\nsetuptools has a constraint in both OSA global-requirement-pins and\nopenstack upper-constraints, so the installation will fail with the\nnew resolver.\n\nThis patch removes any references to setuptools from openstack u-c\nand allows the constraint from the OSA repo to be used.\n\nChange-Id: Ib4c3592184973ba9908a1ba17d935a96448969a1\n'}, {'number': 2, 'created': '2021-01-21 17:05:26.000000000', 'files': ['test-ansible-env-prep.sh', 'test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2c902788de3d8f995e72cdf4cd356c8fb7eeac9d', 'message': 'Use setuptools constraint from global-requirements-pins rather than u-c\n\nWith the new pip resolver, if a package is constrainted to two\ndifferent versions simultaneously then the package cannot be installed.\n\nsetuptools has a constraint in both OSA global-requirement-pins and\nopenstack upper-constraints, so the installation will fail with the\nnew resolver.\n\nThis patch removes any references to setuptools from openstack u-c\nand allows the constraint from the OSA repo to be used.\n\nChange-Id: Ib4c3592184973ba9908a1ba17d935a96448969a1\n'}]",0,771770,2c902788de3d8f995e72cdf4cd356c8fb7eeac9d,11,3,2,25023,,,0,"Use setuptools constraint from global-requirements-pins rather than u-c

With the new pip resolver, if a package is constrainted to two
different versions simultaneously then the package cannot be installed.

setuptools has a constraint in both OSA global-requirement-pins and
openstack upper-constraints, so the installation will fail with the
new resolver.

This patch removes any references to setuptools from openstack u-c
and allows the constraint from the OSA repo to be used.

Change-Id: Ib4c3592184973ba9908a1ba17d935a96448969a1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/70/771770/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,da990466ca14b9ee94ec6182e4710f8cbd20dd59,osa-new-pip," # Retrieve a copy of OpenStack's upper constraints If Depends-On is # used, the requirements repo will be cloned, so we prefer # local copy from zuul. cp ""${REQS_REPO_HOME}/upper-constraints.txt"" /tmp/upper-constraints.txt wget ""${TOX_CONSTRAINTS_FILE:-https://opendev.org/openstack/requirements/raw/${TESTING_BRANCH}/upper-constraints.txt}"" -O /tmp/upper-constraints.txt# Filter out setuptools/pip/wheel from OpenStack upper constraints # These are already constrained in OSA global-requirement-pins.txt cp /tmp/upper-constraints.txt /tmp/upper-constraints-filtered.txt sed -i '/setuptools=/d' /tmp/upper-constraints-filtered.txt sed -i '/pip=/d' /tmp/upper-constraints-filtered.txt sed -i '/wheel=/d' /tmp/upper-constraints-filtered.txt PIP_OPTS+="" --constraint /tmp/upper-constraints-filtered.txt"" ","PIP_OPTS+="" --constraint ${COMMON_TESTS_PATH}/test-ansible-deps.txt"" # If Depends-On is used, the integrated repo will be cloned. We # therefore prefer a local copy over fetching it via a URL. OSA_INTEGRATED_REPO_HOME=""${TESTING_HOME}/src/opendev.org/openstack/openstack-ansible"" if [[ -d ""${OSA_INTEGRATED_REPO_HOME}"" ]]; then PIP_OPTS+="" --constraint ${OSA_INTEGRATED_REPO_HOME}/global-requirement-pins.txt"" else PIP_OPTS+="" --constraint https://opendev.org/openstack/openstack-ansible/raw/${TESTING_BRANCH}/global-requirement-pins.txt"" fi # We add OpenStack's upper constraints last, as we want all our own # constraints to take precedence. If Depends-On is used, the requirements # repo will be cloned, so we prefer a local copy. PIP_OPTS+="" --constraint ${REQS_REPO_HOME}/upper-constraints.txt"" PIP_OPTS+="" --constraint ${TOX_CONSTRAINTS_FILE:-https://opendev.org/openstack/requirements/raw/${TESTING_BRANCH}/upper-constraints.txt}""",14,15
openstack%2Fansible-role-python_venv_build~master~I2a9f031fa6e067e4a733232466f23f3550850f02,openstack/ansible-role-python_venv_build,master,I2a9f031fa6e067e4a733232466f23f3550850f02,Optimize the link address in docs,MERGED,2018-07-03 03:33:14.000000000,2021-01-26 09:53:40.000000000,2021-01-26 09:49:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-07-03 03:33:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/543c291c579b756e409a884edb0c4fe65a9dc9f6', 'message': 'Optimize the link address in docs\n\nChange-Id: I2a9f031fa6e067e4a733232466f23f3550850f02\n'}]",0,579756,543c291c579b756e409a884edb0c4fe65a9dc9f6,8,3,1,26435,,,0,"Optimize the link address in docs

Change-Id: I2a9f031fa6e067e4a733232466f23f3550850f02
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/56/579756/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,543c291c579b756e409a884edb0c4fe65a9dc9f6,, https://launchpad.net/openstack-ansible, http://launchpad.net/openstack-ansible,1,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I8d70caf213e3f4533fc7490451e95a85ff191ad8,openstack/openstack-ansible-os_cloudkitty,master,I8d70caf213e3f4533fc7490451e95a85ff191ad8,Move cloudkitty pip packages from constraints to requirements,MERGED,2021-01-25 09:58:11.000000000,2021-01-26 09:44:34.000000000,2021-01-26 09:42:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 09:58:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e0b8bd00a121013c7a15a5723cb23598c98a11e6', 'message': 'Move cloudkitty pip packages from constraints to requirements\n\nThis is necessary for the new pip resolver\n\nChange-Id: I8d70caf213e3f4533fc7490451e95a85ff191ad8\n'}]",0,772279,e0b8bd00a121013c7a15a5723cb23598c98a11e6,8,3,1,25023,,,0,"Move cloudkitty pip packages from constraints to requirements

This is necessary for the new pip resolver

Change-Id: I8d70caf213e3f4533fc7490451e95a85ff191ad8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/79/772279/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e0b8bd00a121013c7a15a5723cb23598c98a11e6,osa-new-pip," - ""git+{{ cloudkitty_git_repo }}@{{ cloudkitty_git_install_branch }}#egg=cloudkitty"""," - ""git+{{ cloudkitty_git_repo }}@{{ cloudkitty_git_install_branch }}#egg=cloudkitty"" - cloudkitty",1,2
openstack%2Ftempest~master~I9cebe778a9309a0f4f5d78be97d062864e1849f1,openstack/tempest,master,I9cebe778a9309a0f4f5d78be97d062864e1849f1,Make random_bytes() enforce sane size limits,MERGED,2021-01-14 19:46:59.000000000,2021-01-26 09:12:48.000000000,2021-01-26 09:10:05.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 19:46:59.000000000', 'files': ['tempest/lib/common/utils/data_utils.py', 'releasenotes/notes/random-bytes-size-limit-ee94a8c6534fe916.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8663655afae42c2584f5d9c4d123eb00af9de85c', 'message': 'Make random_bytes() enforce sane size limits\n\nThis makes random_bytes() refuse to generate more than 1MiB of data\nat a time. This should almost never be necessary, and we have chased\nactual gate OOM failures related to sloppy handling of even\nmoderately-sized test buffers.\n\nChange-Id: I9cebe778a9309a0f4f5d78be97d062864e1849f1\n'}]",0,770852,8663655afae42c2584f5d9c4d123eb00af9de85c,11,5,1,4393,,,0,"Make random_bytes() enforce sane size limits

This makes random_bytes() refuse to generate more than 1MiB of data
at a time. This should almost never be necessary, and we have chased
actual gate OOM failures related to sloppy handling of even
moderately-sized test buffers.

Change-Id: I9cebe778a9309a0f4f5d78be97d062864e1849f1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/770852/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/utils/data_utils.py', 'releasenotes/notes/random-bytes-size-limit-ee94a8c6534fe916.yaml']",2,8663655afae42c2584f5d9c4d123eb00af9de85c,fix-memsplosion,--- upgrade: - | The ``tempest.lib.common.utils.data_utils.random_bytes()`` helper function will no longer allow a ``size`` of more than 1MiB. Tests generally do not need to generate and use large payloads for feature verification and it is easy to lose track of and duplicate large buffers. The sum total of such errors can become problematic in paralllelized and constrained CI environments. ,,11,0
openstack%2Fcharm-aodh~master~Ib13b503763773b702d810d8a30a962337e011949,openstack/charm-aodh,master,Ib13b503763773b702d810d8a30a962337e011949,Rebuild for haproxy address bug 1912505,MERGED,2021-01-25 11:02:03.000000000,2021-01-26 08:47:52.000000000,2021-01-26 08:47:52.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-25 11:02:03.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/8483a2cf04c76c3d1adf3ab7703af4d91dcf6153', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: Ib13b503763773b702d810d8a30a962337e011949\n'}]",0,772305,8483a2cf04c76c3d1adf3ab7703af4d91dcf6153,9,3,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: Ib13b503763773b702d810d8a30a962337e011949
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/05/772305/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,8483a2cf04c76c3d1adf3ab7703af4d91dcf6153,bug/1912505,eaf928ac-5efa-11eb-991f-bba5316ae2dd,82a3d6c4-5745-11eb-aad3-3be19d9e6d4f,1,1
openstack%2Fpython-masakariclient~stable%2Fvictoria~I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283,openstack/python-masakariclient,stable/victoria,I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283,Fix docs reqs for new pip,MERGED,2021-01-15 18:46:53.000000000,2021-01-26 08:07:34.000000000,2021-01-26 08:05:32.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-15 18:46:53.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/a136327d42b4615938cdbca5bf6776458e742392', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could)\ndue to test-requirements being used instead of doc/requirements.\nThe former may include dep versions not compatible with the\nupper-constraints and hence cause issues for the new pip resolver.\nThis patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283\n(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)\n'}]",0,770963,a136327d42b4615938cdbca5bf6776458e742392,8,3,1,30491,,,0,"Fix docs reqs for new pip

Per [1], the docs requirements were failing (or at least could)
due to test-requirements being used instead of doc/requirements.
The former may include dep versions not compatible with the
upper-constraints and hence cause issues for the new pip resolver.
This patch fixes that.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html

Change-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283
(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/63/770963/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,a136327d42b4615938cdbca5bf6776458e742392,fix-relmgt-pip-doc-stable/victoria,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,8,5
openstack%2Fpython-masakariclient~stable%2Ftrain~I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283,openstack/python-masakariclient,stable/train,I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283,Fix docs reqs for new pip,MERGED,2021-01-15 18:50:05.000000000,2021-01-26 08:07:04.000000000,2021-01-26 08:05:23.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-15 18:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/4132998145205de681c7d10ce480cfd83a4c76cf', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could)\ndue to test-requirements being used instead of doc/requirements.\nThe former may include dep versions not compatible with the\nupper-constraints and hence cause issues for the new pip resolver.\nThis patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283\n(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)\n'}, {'number': 2, 'created': '2021-01-15 18:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/6b1d683ada5ed232335bfa7c9e01a3edfff25436', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could)\ndue to test-requirements being used instead of doc/requirements.\nThe former may include dep versions not compatible with the\nupper-constraints and hence cause issues for the new pip resolver.\nThis patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283\n(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)\n'}, {'number': 3, 'created': '2021-01-15 19:08:36.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/8746c9a3003414bce9f6916bb4a59c35dfcf11c0', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could)\ndue to test-requirements being used instead of doc/requirements.\nThe former may include dep versions not compatible with the\nupper-constraints and hence cause issues for the new pip resolver.\nThis patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283\n(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)\n'}]",0,770965,8746c9a3003414bce9f6916bb4a59c35dfcf11c0,13,3,3,30491,,,0,"Fix docs reqs for new pip

Per [1], the docs requirements were failing (or at least could)
due to test-requirements being used instead of doc/requirements.
The former may include dep versions not compatible with the
upper-constraints and hence cause issues for the new pip resolver.
This patch fixes that.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html

Change-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283
(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/65/770965/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,4132998145205de681c7d10ce480cfd83a4c76cf,fix-relmgt-pip-doc-stable/victoria-stable/ussuri-stable/train,<<<<<<< HEAD (db36ac Drop lower-constraints)======= deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/html >>>>>>> CHANGE (75179f Fix docs reqs for new pip)<<<<<<< HEAD (db36ac Drop lower-constraints)======= deps = {[testenv:docs]deps} >>>>>>> CHANGE (75179f Fix docs reqs for new pip),,19,4
openstack%2Fpython-masakariclient~stable%2Fussuri~I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283,openstack/python-masakariclient,stable/ussuri,I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283,Fix docs reqs for new pip,MERGED,2021-01-15 18:47:13.000000000,2021-01-26 08:07:02.000000000,2021-01-26 08:05:27.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-15 18:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/e80a11fbcb8cacec92c1a3bcbef455fc13f7c587', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could)\ndue to test-requirements being used instead of doc/requirements.\nThe former may include dep versions not compatible with the\nupper-constraints and hence cause issues for the new pip resolver.\nThis patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283\n(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)\n'}, {'number': 2, 'created': '2021-01-15 18:49:46.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/75179f8ef6e35f7ebacbd47301c9e7da895f57f2', 'message': 'Fix docs reqs for new pip\n\nPer [1], the docs requirements were failing (or at least could)\ndue to test-requirements being used instead of doc/requirements.\nThe former may include dep versions not compatible with the\nupper-constraints and hence cause issues for the new pip resolver.\nThis patch fixes that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283\n(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)\n'}]",0,770964,75179f8ef6e35f7ebacbd47301c9e7da895f57f2,10,3,2,30491,,,0,"Fix docs reqs for new pip

Per [1], the docs requirements were failing (or at least could)
due to test-requirements being used instead of doc/requirements.
The former may include dep versions not compatible with the
upper-constraints and hence cause issues for the new pip resolver.
This patch fixes that.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html

Change-Id: I2441e77bef1a1d2a9acdd6e42d3b2610e9ad8283
(cherry picked from commit 435abc665475cc0f04a266eadd0a6edecb8e8e34)
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/64/770964/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,e80a11fbcb8cacec92c1a3bcbef455fc13f7c587,fix-relmgt-pip-doc-stable/victoria-stable/ussuri,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,17,0
openstack%2Fmasakari~stable%2Fussuri~Ib2486fe6df1405d1aa103ddec60fb4209e0460a1,openstack/masakari,stable/ussuri,Ib2486fe6df1405d1aa103ddec60fb4209e0460a1,not wait when instance evacuate error,MERGED,2021-01-19 08:15:02.000000000,2021-01-26 08:00:05.000000000,2021-01-26 07:58:20.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-19 08:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4e2e20da0e37c17928b9e3260ec7f81263bb906f', 'message': ""not wait when instance evacuate error\n\nWhen processing host failure notification, if one instance in 'active'\nor 'stopped' state evacuates error, the recovery thread still waits\nuntil loopingcall timeout, which makes no sense.\n\nChange-Id: Ib2486fe6df1405d1aa103ddec60fb4209e0460a1\nClose-Bug: #1859406\n(cherry picked from commit e148dec764451503ae6c5766b55a90ccd1210a93)\n""}, {'number': 2, 'created': '2021-01-19 19:06:11.000000000', 'files': ['masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c9193e26f8ca57b269e452205f51db68302cf091', 'message': ""not wait when instance evacuate error\n\nWhen processing host failure notification, if one instance in 'active'\nor 'stopped' state evacuates error, the recovery thread still waits\nuntil loopingcall timeout, which makes no sense.\n\nAmended for Ussuri and Train to take into account [1] fix that got\nthere first.\n\n[1] https://review.opendev.org/c/openstack/masakari/+/755283\n\nChange-Id: Ib2486fe6df1405d1aa103ddec60fb4209e0460a1\nClose-Bug: #1859406\n(cherry picked from commit e148dec764451503ae6c5766b55a90ccd1210a93)\n""}]",1,771396,c9193e26f8ca57b269e452205f51db68302cf091,15,5,2,24501,,,0,"not wait when instance evacuate error

When processing host failure notification, if one instance in 'active'
or 'stopped' state evacuates error, the recovery thread still waits
until loopingcall timeout, which makes no sense.

Amended for Ussuri and Train to take into account [1] fix that got
there first.

[1] https://review.opendev.org/c/openstack/masakari/+/755283

Change-Id: Ib2486fe6df1405d1aa103ddec60fb4209e0460a1
Close-Bug: #1859406
(cherry picked from commit e148dec764451503ae6c5766b55a90ccd1210a93)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/96/771396/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/exception.py']",3,4e2e20da0e37c17928b9e3260ec7f81263bb906f,bug/1859406-stable/ussuri," class InstanceEvacuateFailed(MasakariException): msg_fmt = _(""Failed to evacuate instance %(instance_uuid)s"")",,45,0
openstack%2Fmasakari~stable%2Ftrain~Ib2486fe6df1405d1aa103ddec60fb4209e0460a1,openstack/masakari,stable/train,Ib2486fe6df1405d1aa103ddec60fb4209e0460a1,not wait when instance evacuate error,MERGED,2021-01-19 08:23:19.000000000,2021-01-26 07:59:40.000000000,2021-01-26 07:58:23.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-19 08:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/78e6f08c5f98e65b3fed0985be80b89323666b40', 'message': ""not wait when instance evacuate error\n\nWhen processing host failure notification, if one instance in 'active'\nor 'stopped' state evacuates error, the recovery thread still waits\nuntil loopingcall timeout, which makes no sense.\n\nChange-Id: Ib2486fe6df1405d1aa103ddec60fb4209e0460a1\nClose-Bug: #1859406\n(cherry picked from commit e148dec764451503ae6c5766b55a90ccd1210a93)\n""}, {'number': 2, 'created': '2021-01-19 19:06:53.000000000', 'files': ['masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/f2d0dc38b730722bff15c8430fec32826064f1d6', 'message': ""not wait when instance evacuate error\n\nWhen processing host failure notification, if one instance in 'active'\nor 'stopped' state evacuates error, the recovery thread still waits\nuntil loopingcall timeout, which makes no sense.\n\nAmended for Ussuri and Train to take into account [1] fix that got\nthere first.\n\n[1] https://review.opendev.org/c/openstack/masakari/+/755283\n\nChange-Id: Ib2486fe6df1405d1aa103ddec60fb4209e0460a1\nClose-Bug: #1859406\n(cherry picked from commit e148dec764451503ae6c5766b55a90ccd1210a93)\n""}]",1,771397,f2d0dc38b730722bff15c8430fec32826064f1d6,14,5,2,24501,,,0,"not wait when instance evacuate error

When processing host failure notification, if one instance in 'active'
or 'stopped' state evacuates error, the recovery thread still waits
until loopingcall timeout, which makes no sense.

Amended for Ussuri and Train to take into account [1] fix that got
there first.

[1] https://review.opendev.org/c/openstack/masakari/+/755283

Change-Id: Ib2486fe6df1405d1aa103ddec60fb4209e0460a1
Close-Bug: #1859406
(cherry picked from commit e148dec764451503ae6c5766b55a90ccd1210a93)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/97/771397/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/host_failure.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/exception.py']",3,78e6f08c5f98e65b3fed0985be80b89323666b40,bug/1859406-stable/ussuri-stable/train," class InstanceEvacuateFailed(MasakariException): msg_fmt = _(""Failed to evacuate instance %(instance_uuid)s"")",,45,0
openstack%2Fmasakari-monitors~master~I0cd8dc2fa96001622b3d89534c43b84e6103e369,openstack/masakari-monitors,master,I0cd8dc2fa96001622b3d89534c43b84e6103e369,remove unused configration,MERGED,2021-01-07 09:55:01.000000000,2021-01-26 07:55:17.000000000,2021-01-26 07:54:02.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 26458}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-01-07 09:55:01.000000000', 'files': ['masakarimonitors/conf/introspectiveinstancemonitor.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2932977f023f3bae9ce1c48f52c483741e6c24fb', 'message': 'remove unused configration\n\nChange-Id: I0cd8dc2fa96001622b3d89534c43b84e6103e369\n'}]",0,769697,2932977f023f3bae9ce1c48f52c483741e6c24fb,8,7,1,24501,,,0,"remove unused configration

Change-Id: I0cd8dc2fa96001622b3d89534c43b84e6103e369
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/97/769697/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/conf/introspectiveinstancemonitor.py'],1,2932977f023f3bae9ce1c48f52c483741e6c24fb,,," cfg.BoolOpt('callback_paused_event', default=True, help=''' * True: Callback for VM paused events. * False: Do not callback for VM paused events. '''),",0,6
openstack%2Fswift~master~I952690558486a1d981985eae0fe9d7e07ff30e17,openstack/swift,master,I952690558486a1d981985eae0fe9d7e07ff30e17,Prevent upgrading to pip 21+,MERGED,2021-01-25 19:17:30.000000000,2021-01-26 07:49:42.000000000,2021-01-26 07:47:45.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 19:17:30.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/0b870eb94dfe9769a07695b296eaa6758820a5f3', 'message': 'Prevent upgrading to pip 21+\n\nChange-Id: I952690558486a1d981985eae0fe9d7e07ff30e17\n'}]",0,772424,0b870eb94dfe9769a07695b296eaa6758820a5f3,11,2,1,15343,,,0,"Prevent upgrading to pip 21+

Change-Id: I952690558486a1d981985eae0fe9d7e07ff30e17
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/772424/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/common/install_dependencies.yaml'],1,0b870eb94dfe9769a07695b296eaa6758820a5f3,," - name: upgrade pip, but not too far pip: # 20.* works on both py2 and py3, and the pip for centos7 in EPEL # isn't smart enough to prevent us upgrading to 21+ name: pip<21", - name: upgrade pip pip: name: pip,4,2
openstack%2Ftripleo-validations~stable%2Ftrain~I950395ff8387b01d102fee3a53ad269bb73f16fd,openstack/tripleo-validations,stable/train,I950395ff8387b01d102fee3a53ad269bb73f16fd,Add validation to verify the RHSM version.,MERGED,2020-11-18 14:25:39.000000000,2021-01-26 07:18:03.000000000,2021-01-26 07:13:53.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-18 14:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0d12f99c36ebbfe2712aadbd2866eaf756d5a43b', 'message': 'Add validation to verify the RHSM version.\n\nOne of the requirements in the upgrade/update to certain versions\nis that the RHSM version configure in the node matches the version\nOSP works with. If there is a mismatch on the RHSM version, we would\nend up getting wrong packages and finish in an unrecoverable situation.\n\nThis validation uses the subscription-manager command to get the\nconfigured release and then checks if it matches the one configured\nin check_rhsm_version_expected parameter.\n\nChange-Id: I950395ff8387b01d102fee3a53ad269bb73f16fd\n(cherry picked from commit e5784a871c3b1beba9527447893c412b855088f0)\n(cherry picked from commit e8f1810c22fecb658634c9a9b6ad0c6940906a5d)\n'}, {'number': 2, 'created': '2020-12-09 13:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/60510b83566e62e406a8cbe3ec4222de35863fbe', 'message': 'Add validation to verify the RHSM version.\n\nOne of the requirements in the upgrade/update to certain versions\nis that the RHSM version configure in the node matches the version\nOSP works with. If there is a mismatch on the RHSM version, we would\nend up getting wrong packages and finish in an unrecoverable situation.\n\nThis validation uses the subscription-manager command to get the\nconfigured release and then checks if it matches the one configured\nin check_rhsm_version_expected parameter.\n\nChange-Id: I950395ff8387b01d102fee3a53ad269bb73f16fd\n(cherry picked from commit e5784a871c3b1beba9527447893c412b855088f0)\n(cherry picked from commit e8f1810c22fecb658634c9a9b6ad0c6940906a5d)\n'}, {'number': 3, 'created': '2021-01-11 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc06615b5c6c06b91b12235b7c3565cc3e897c05', 'message': 'Add validation to verify the RHSM version.\n\nOne of the requirements in the upgrade/update to certain versions\nis that the RHSM version configure in the node matches the version\nOSP works with. If there is a mismatch on the RHSM version, we would\nend up getting wrong packages and finish in an unrecoverable situation.\n\nThis validation uses the subscription-manager command to get the\nconfigured release and then checks if it matches the one configured\nin check_rhsm_version_expected parameter.\n\nChange-Id: I950395ff8387b01d102fee3a53ad269bb73f16fd\n(cherry picked from commit e5784a871c3b1beba9527447893c412b855088f0)\n(cherry picked from commit e8f1810c22fecb658634c9a9b6ad0c6940906a5d)\n'}, {'number': 4, 'created': '2021-01-18 06:25:41.000000000', 'files': ['playbooks/check-rhsm-version.yaml', 'zuul.d/molecule.yaml', 'roles/check_rhsm_version/defaults/main.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/converge.yml', 'roles/check_rhsm_version/tasks/main.yml', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/converge.yml', 'doc/source/roles/role-check_rhsm_version.rst', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae68264b4b5778c4bb278d1c7f208f7e44b1dd33', 'message': 'Add validation to verify the RHSM version.\n\nOne of the requirements in the upgrade/update to certain versions\nis that the RHSM version configure in the node matches the version\nOSP works with. If there is a mismatch on the RHSM version, we would\nend up getting wrong packages and finish in an unrecoverable situation.\n\nThis validation uses the subscription-manager command to get the\nconfigured release and then checks if it matches the one configured\nin check_rhsm_version_expected parameter.\n\nChange-Id: I950395ff8387b01d102fee3a53ad269bb73f16fd\n(cherry picked from commit e5784a871c3b1beba9527447893c412b855088f0)\n(cherry picked from commit e8f1810c22fecb658634c9a9b6ad0c6940906a5d)\n'}]",1,763192,ae68264b4b5778c4bb278d1c7f208f7e44b1dd33,37,6,4,26343,,,0,"Add validation to verify the RHSM version.

One of the requirements in the upgrade/update to certain versions
is that the RHSM version configure in the node matches the version
OSP works with. If there is a mismatch on the RHSM version, we would
end up getting wrong packages and finish in an unrecoverable situation.

This validation uses the subscription-manager command to get the
configured release and then checks if it matches the one configured
in check_rhsm_version_expected parameter.

Change-Id: I950395ff8387b01d102fee3a53ad269bb73f16fd
(cherry picked from commit e5784a871c3b1beba9527447893c412b855088f0)
(cherry picked from commit e8f1810c22fecb658634c9a9b6ad0c6940906a5d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/92/763192/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/check-rhsm-version.yaml', 'zuul.d/molecule.yaml', 'roles/check_rhsm_version/defaults/main.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/converge.yml', 'roles/check_rhsm_version/tasks/main.yml', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/converge.yml', 'doc/source/roles/role-check_rhsm_version.rst', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile']",11,0d12f99c36ebbfe2712aadbd2866eaf756d5a43b,,"# Molecule managed # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install sudo python*-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""]",,304,0
openstack%2Frequirements~master~I45d727bb8b2819f17f78ab95eac450e699c6f062,openstack/requirements,master,I45d727bb8b2819f17f78ab95eac450e699c6f062,update constraint for python-cinderclient to new release 7.3.0,MERGED,2021-01-25 20:48:42.000000000,2021-01-26 06:16:24.000000000,2021-01-26 06:13:42.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 20:48:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/65ac21c85ee10cc68ac546612522c520f5866fa0', 'message': 'update constraint for python-cinderclient to new release 7.3.0\n\nmeta: version: 7.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I9e1fa56eb79308a562d6b9bcd74cdab0d4941125\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I45d727bb8b2819f17f78ab95eac450e699c6f062\n'}]",0,772435,65ac21c85ee10cc68ac546612522c520f5866fa0,14,3,1,11131,,,0,"update constraint for python-cinderclient to new release 7.3.0

meta: version: 7.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I9e1fa56eb79308a562d6b9bcd74cdab0d4941125
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I45d727bb8b2819f17f78ab95eac450e699c6f062
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/772435/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,65ac21c85ee10cc68ac546612522c520f5866fa0,new-release,python-cinderclient===7.3.0,python-cinderclient===7.2.0,1,1
openstack%2Ftripleo-heat-templates~master~I5a83ebda6d20336d8c82024bf673d88358a6a675,openstack/tripleo-heat-templates,master,I5a83ebda6d20336d8c82024bf673d88358a6a675,Remove ffwd lifecycle environment files.,MERGED,2020-09-15 11:52:08.000000000,2021-01-26 04:54:12.000000000,2021-01-26 04:54:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-09-15 11:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/091336af2ae29b54478b17d27feff4f373e7adcd', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}, {'number': 2, 'created': '2020-09-22 14:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7dd9514167953090674fa00fbd17d08b0c1d69b', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}, {'number': 3, 'created': '2020-09-28 09:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/340939197b6951cb59174c08ae741f537b9132fb', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}, {'number': 4, 'created': '2020-09-28 17:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4935e819d24272ea5eb144e11028a71676dfa1f2', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}, {'number': 5, 'created': '2020-10-03 07:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c494fc9ef603fbff24884f04bd8218328b6ce26', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}, {'number': 6, 'created': '2020-11-20 11:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c228eddeb87bec4ac67bd73da4d1b8500785a0b', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}, {'number': 7, 'created': '2021-01-25 10:26:39.000000000', 'files': ['environments/lifecycle/ffwd-upgrade-converge.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cbf8a39ae973915912d7cac272382dab98d4104', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n""}]",0,752023,9cbf8a39ae973915912d7cac272382dab98d4104,51,10,7,26343,,,0,"Remove ffwd lifecycle environment files.

Now that [0] has finally merged and the upgrade path
will allow jumping multiple releases, we don't require
to have multiple environment files for the upgrade and
the ffwd.

Removing the ffwd-upgrade-prepare.yaml and ffwd-upgrade-
converge.yaml files from environments/lifecycle folder.

[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e

Change-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/752023/7 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/ffwd-upgrade-converge.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml']",2,091336af2ae29b54478b17d27feff4f373e7adcd,,,"# Environment file used in the first step of a ffwd overcloud upgrade. # This file is required by the tripleoclient and not expected to be updated # by the operator. Please use additional -e env.yaml. resource_registry: OS::TripleO::Services::Core: OS::Heat::None OS::TripleO::Services::VipHosts: OS::Heat::None OS::TripleO::Services::MongoDb: OS::Heat::None parameter_defaults: NetworkDeploymentActions: ['CREATE','UPDATE'] ",0,19
openstack%2Fpuppet-nova~master~I0c9ebc5fd980204c59cc903372820e1ee1245630,openstack/puppet-nova,master,I0c9ebc5fd980204c59cc903372820e1ee1245630,Add support for image download via rbd,MERGED,2021-01-14 00:54:14.000000000,2021-01-26 04:26:09.000000000,2021-01-26 04:24:46.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 00:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fd82f6748db8b67e02a8fc4d2bf629e1489723c1', 'message': 'Add support for image download via rbd\n\nThis change introduces some new parameters to the nova::glance class,\nwhich are required for the new feature to download glance image via\nRBD instead of API[1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/574301\n\nChange-Id: I0c9ebc5fd980204c59cc903372820e1ee1245630\n'}, {'number': 2, 'created': '2021-01-14 00:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b70d369899450d79060f7d6f274a00a6385f98db', 'message': 'Add support for image download via rbd\n\nThis change introduces some new parameters to the nova::glance class,\nwhich are required for the new feature to download glance image via\nRBD instead of API[1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/574301\n\nChange-Id: I0c9ebc5fd980204c59cc903372820e1ee1245630\n'}, {'number': 3, 'created': '2021-01-14 03:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bd5a730e605acb5207f29605d3c4e7c58adef195', 'message': 'Add support for image download via rbd\n\nThis change introduces some new parameters to the nova::glance class,\nwhich are required for the new feature to download glance image via\nRBD instead of API[1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/574301\n\nChange-Id: I0c9ebc5fd980204c59cc903372820e1ee1245630\n'}, {'number': 4, 'created': '2021-01-14 06:42:24.000000000', 'files': ['manifests/glance.pp', 'releasenotes/notes/image-download-via-rbd-159f6ccd7fada555.yaml', 'spec/classes/nova_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/896bf1ff5e17543197d6fb759bf293879481c909', 'message': 'Add support for image download via rbd\n\nThis change introduces some new parameters to the nova::glance class,\nwhich are required for the new feature to download glance image via\nRBD instead of API[1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/574301\n\nChange-Id: I0c9ebc5fd980204c59cc903372820e1ee1245630\n'}]",0,770687,896bf1ff5e17543197d6fb759bf293879481c909,31,4,4,9816,,,0,"Add support for image download via rbd

This change introduces some new parameters to the nova::glance class,
which are required for the new feature to download glance image via
RBD instead of API[1].

[1] https://review.opendev.org/c/openstack/nova/+/574301

Change-Id: I0c9ebc5fd980204c59cc903372820e1ee1245630
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/87/770687/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'releasenotes/notes/image-download-via-rbd-159f6ccd7fada555.yaml', 'spec/classes/nova_glance_spec.rb']",3,fd82f6748db8b67e02a8fc4d2bf629e1489723c1,rbd-download," is_expected.to contain_nova_config('glance/enable_rbd_donwload').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('glance/rbd_user').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('glance/rbd_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('glance/rbd_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('glance/rbd_ceph_conf').with_value('<SERVICE DEFAULT>') :endpoint_override => 'http://localhost:9292', :num_retries => 3, :enable_rbd_donwload => true, :rbd_user => 'nova', :rbd_connect_timeout => 5, :rbd_pool => 'images', :rbd_ceph_conf => '/etc/ceph/ceph.conf', is_expected.to contain_nova_config('glance/enable_rbd_donwload').with_value(true) is_expected.to contain_nova_config('glance/rbd_user').with_value('nova') is_expected.to contain_nova_config('glance/rbd_connect_timeout').with_value(5) is_expected.to contain_nova_config('glance/rbd_pool').with_value('images') is_expected.to contain_nova_config('glance/rbd_ceph_conf').with_value('/etc/ceph/ceph.conf')"," :endpoint_override => 'http://localhost:9292', :num_retries => 3,",36,6
openstack%2Frequirements~master~I5092b453bab8b3f9e0b353d439a83b60c850a721,openstack/requirements,master,I5092b453bab8b3f9e0b353d439a83b60c850a721,update constraint for python-designateclient to new release 4.2.0,MERGED,2021-01-25 20:50:21.000000000,2021-01-26 04:11:53.000000000,2021-01-26 04:09:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 20:50:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6bbd1f290a4ef341df1ab2aaf49896acccbd796d', 'message': 'update constraint for python-designateclient to new release 4.2.0\n\nmeta: version: 4.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I96b8ec21443774685cfc2102fdf29777359b8f8c\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I5092b453bab8b3f9e0b353d439a83b60c850a721\n'}]",0,772436,6bbd1f290a4ef341df1ab2aaf49896acccbd796d,9,3,1,11131,,,0,"update constraint for python-designateclient to new release 4.2.0

meta: version: 4.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I96b8ec21443774685cfc2102fdf29777359b8f8c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I5092b453bab8b3f9e0b353d439a83b60c850a721
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/772436/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6bbd1f290a4ef341df1ab2aaf49896acccbd796d,new-release,python-designateclient===4.2.0,python-designateclient===4.1.0,1,1
openstack%2Frequirements~master~Ie6e29d237bbacac71fe83dd907e3c1465c87d8b6,openstack/requirements,master,Ie6e29d237bbacac71fe83dd907e3c1465c87d8b6,update constraint for python-cloudkittyclient to new release 4.2.0,MERGED,2021-01-25 20:50:34.000000000,2021-01-26 04:10:57.000000000,2021-01-26 04:09:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 20:50:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f45238c84f2ef9fa07d182a968469af4607a4e7', 'message': 'update constraint for python-cloudkittyclient to new release 4.2.0\n\nmeta: version: 4.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie8ee6a925ca1682019414e9503d2c740cefbcdb6\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ie6e29d237bbacac71fe83dd907e3c1465c87d8b6\n'}]",0,772437,8f45238c84f2ef9fa07d182a968469af4607a4e7,9,3,1,11131,,,0,"update constraint for python-cloudkittyclient to new release 4.2.0

meta: version: 4.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie8ee6a925ca1682019414e9503d2c740cefbcdb6
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie6e29d237bbacac71fe83dd907e3c1465c87d8b6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/772437/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8f45238c84f2ef9fa07d182a968469af4607a4e7,new-release,python-cloudkittyclient===4.2.0,python-cloudkittyclient===4.1.0,1,1
openstack%2Frequirements~master~I45568f758c2c09dbbc5404be5ae7478d2e1ef9f1,openstack/requirements,master,I45568f758c2c09dbbc5404be5ae7478d2e1ef9f1,update constraint for python-mistralclient to new release 4.2.0,MERGED,2021-01-25 20:47:58.000000000,2021-01-26 03:55:07.000000000,2021-01-26 03:52:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 20:47:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fc430da8dfe60d99832a77eecfbb8cdfddf189d0', 'message': 'update constraint for python-mistralclient to new release 4.2.0\n\nmeta: version: 4.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I45568f758c2c09dbbc5404be5ae7478d2e1ef9f1\n'}]",0,772433,fc430da8dfe60d99832a77eecfbb8cdfddf189d0,9,3,1,11131,,,0,"update constraint for python-mistralclient to new release 4.2.0

meta: version: 4.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I45568f758c2c09dbbc5404be5ae7478d2e1ef9f1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/772433/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fc430da8dfe60d99832a77eecfbb8cdfddf189d0,new-release,python-mistralclient===4.2.0,python-mistralclient===4.1.1,1,1
openstack%2Ftempest~master~Id17e24213736209fac8880a806f81fa31b5a6d87,openstack/tempest,master,Id17e24213736209fac8880a806f81fa31b5a6d87,1912117: Fix the IP URL for metadata service in fixed network scenario,MERGED,2021-01-17 23:05:22.000000000,2021-01-26 03:54:12.000000000,2021-01-26 03:52:02.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-17 23:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4905ce70ae781855c57e70b4a46986a8f4422b8a', 'message': '1912117: Fix the IP URL for metadata service in fixed network scenario\n\nChange-Id: Id17e24213736209fac8880a806f81fa31b5a6d87\n'}, {'number': 2, 'created': '2021-01-18 06:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7bd2c3d39f1b7f943602176dc3c13b9b19a26fe', 'message': '1912117: Fix the IP URL for metadata service in fixed network scenario\n\nChange-Id: Id17e24213736209fac8880a806f81fa31b5a6d87\n'}, {'number': 3, 'created': '2021-01-18 19:36:24.000000000', 'files': ['tempest/scenario/test_server_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4600842880b81838cb1539d7dc5f650a437e4a85', 'message': '1912117: Fix the IP URL for metadata service in fixed network scenario\n\nCloses-Bug: #1912117\nChange-Id: Id17e24213736209fac8880a806f81fa31b5a6d87\n'}]",2,771156,4600842880b81838cb1539d7dc5f650a437e4a85,17,3,3,32834,,,0,"1912117: Fix the IP URL for metadata service in fixed network scenario

Closes-Bug: #1912117
Change-Id: Id17e24213736209fac8880a806f81fa31b5a6d87
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/771156/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_basic_ops.py'],1,4905ce70ae781855c57e70b4a46986a8f4422b8a,bug - 1912117, if (CONF.network_feature_enabled.floating_ips and CONF.network.floating_network_name): md_url = 'http://169.254.169.254/latest/meta-data/public-ipv4' else: md_url = 'http://169.254.169.254/latest/meta-data/local-ipv4', md_url = 'http://169.254.169.254/latest/meta-data/public-ipv4',5,1
openstack%2Fswift~master~I1caea0925a6e9a853c7d6d7ad23c27bd37c5056f,openstack/swift,master,I1caea0925a6e9a853c7d6d7ad23c27bd37c5056f,Fix intermittent failures in sharder audit unit tests,MERGED,2021-01-25 12:54:54.000000000,2021-01-26 03:54:09.000000000,2021-01-26 03:52:10.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 12:54:54.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/beb1c3969bfb3c408cc2b6b5b2300e06090f7a5d', 'message': 'Fix intermittent failures in sharder audit unit tests\n\nUse predictable timestamp iterators to avoid some sharder audit tests\nintermittently failing due to timestamps not advancing as assumed.\n\nChange-Id: I1caea0925a6e9a853c7d6d7ad23c27bd37c5056f\n'}]",0,772337,beb1c3969bfb3c408cc2b6b5b2300e06090f7a5d,12,2,1,7847,,,0,"Fix intermittent failures in sharder audit unit tests

Use predictable timestamp iterators to avoid some sharder audit tests
intermittently failing due to timestamps not advancing as assumed.

Change-Id: I1caea0925a6e9a853c7d6d7ad23c27bd37c5056f
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/772337/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,beb1c3969bfb3c408cc2b6b5b2300e06090f7a5d,p-shard-repair," def _make_shard_ranges(self, bounds, state=None, object_count=0, timestamp=Timestamp.now()): return [ShardRange('.shards_a/c_%s' % upper, timestamp, shard_ranges = self._make_shard_ranges( shard_bounds, state, timestamp=next(self.ts_iter)) ShardRange.SHRINKING, timestamp=next(self.ts_iter)) shard_ranges = self._make_shard_ranges( shard_bounds, state, timestamp=next(self.ts_iter)) ShardRange.ACTIVE, timestamp=next(self.ts_iter)) shrinking_shard_ranges = self._make_shard_ranges( missing_shard_bounds, ShardRange.SHRINKING, timestamp=next(self.ts_iter)) shard_ranges = self._make_shard_ranges(shard_bounds, shard_states, timestamp=next(self.ts_iter)) with mock_timestamp_now(next(self.ts_iter)): own_shard_range = broker.get_own_shard_range() # get the default root_ts = next(self.ts_iter) state_timestamp=root_ts)) shard_ranges[1].timestamp = root_ts self.assertEqual(root_ts, own_shard_range.state_timestamp) root_ts = next(self.ts_iter) state_timestamp=root_ts)) own_ts = next(self.ts_iter) own_shard_range.update_state(ShardRange.ACTIVE, state_timestamp=own_ts) self.assertEqual(own_ts, own_shard_range.state_timestamp) own_shard_range.timestamp = next(self.ts_iter) own_ts = next(self.ts_iter) shard_ranges[1].timestamp = own_ts root_ts = next(self.ts_iter) shard_ranges[1].update_state(ShardRange.SHARDING, state_timestamp=root_ts) self.assertEqual(root_ts, own_shard_range.state_timestamp) state_timestamp=next(self.ts_iter)) own_shard_range.timestamp = next(self.ts_iter) # mocks for delete/reclaim time comparisons with mock_timestamp_now(next(self.ts_iter)): with mock.patch('swift.container.sharder.time.time', lambda: float(next(self.ts_iter))): sharder, mock_swift = self.call_audit_container(broker, shard_ranges) own_ts = next(self.ts_iter) root_ts = next(self.ts_iter) root_ts = next(self.ts_iter) own_ts = next(self.ts_iter) with mock_timestamp_now(next(self.ts_iter)): own_shard_range = broker.get_own_shard_range() shard_ranges = self._make_shard_ranges(shard_bounds, ShardRange.ACTIVE, timestamp=next(self.ts_iter)) state_timestamp=next(self.ts_iter)) # mocks for delete/reclaim time comparisons with mock_timestamp_now(next(self.ts_iter)): with mock.patch('swift.container.sharder.time.time', lambda: float(next(self.ts_iter))): sharder, mock_swift = self.call_audit_container(broker, shard_ranges)"," def _make_shard_ranges(self, bounds, state=None, object_count=0): return [ShardRange('.shards_a/c_%s' % upper, Timestamp.now(), shard_ranges = self._make_shard_ranges(shard_bounds, state) ShardRange.SHRINKING) shard_ranges = self._make_shard_ranges(shard_bounds, state) ShardRange.ACTIVE) shrinking_shard_ranges = self._make_shard_ranges(missing_shard_bounds, ShardRange.SHRINKING) shard_ranges = self._make_shard_ranges(shard_bounds, shard_states) own_shard_range = broker.get_own_shard_range() # get the default now = Timestamp.now() state_timestamp=now)) shard_ranges[1].timestamp = now self.assertEqual(now, own_shard_range.state_timestamp) now = Timestamp.now() state_timestamp=now)) now = Timestamp.now() own_shard_range.update_state(ShardRange.ACTIVE, state_timestamp=now) self.assertEqual(now, own_shard_range.state_timestamp) own_shard_range.timestamp = Timestamp.now() shard_ranges[1].timestamp = Timestamp.now() now = Timestamp.now() shard_ranges[1].update_state(ShardRange.SHARDING, state_timestamp=now) self.assertEqual(now, own_shard_range.state_timestamp) state_timestamp=Timestamp.now()) own_shard_range.timestamp = Timestamp.now() sharder, mock_swift = self.call_audit_container(broker, shard_ranges) own_ts = Timestamp.now() root_ts = Timestamp(float(own_ts) + 1) root_ts = Timestamp.now() own_ts = Timestamp(float(root_ts) + 1) own_shard_range = broker.get_own_shard_range() shard_ranges = self._make_shard_ranges(shard_bounds, ShardRange.ACTIVE) state_timestamp=Timestamp.now()) sharder, mock_swift = self.call_audit_container(broker, shard_ranges)",58,35
openstack%2Frequirements~master~Ib16fbff23fac5a18fefce0842dca1def1d2e8f22,openstack/requirements,master,Ib16fbff23fac5a18fefce0842dca1def1d2e8f22,update constraint for python-muranoclient to new release 2.2.0,MERGED,2021-01-25 20:48:34.000000000,2021-01-26 03:53:56.000000000,2021-01-26 03:52:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 20:48:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ede300ab9d27d568888bf513dd060e1c89b9120', 'message': 'update constraint for python-muranoclient to new release 2.2.0\n\nmeta: version: 2.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I905cb083064fa0663fe6436651bb58e18f982dae\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib16fbff23fac5a18fefce0842dca1def1d2e8f22\n'}]",0,772434,0ede300ab9d27d568888bf513dd060e1c89b9120,9,3,1,11131,,,0,"update constraint for python-muranoclient to new release 2.2.0

meta: version: 2.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I905cb083064fa0663fe6436651bb58e18f982dae
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib16fbff23fac5a18fefce0842dca1def1d2e8f22
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/772434/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ede300ab9d27d568888bf513dd060e1c89b9120,new-release,python-muranoclient===2.2.0,python-muranoclient===2.1.1,1,1
openstack%2Fneutron~master~Ib52052d9a178a9246a83963cfa8e2c297ee0d94f,openstack/neutron,master,Ib52052d9a178a9246a83963cfa8e2c297ee0d94f,Add OVN migration OSP 16.2 option,MERGED,2021-01-24 15:19:57.000000000,2021-01-26 03:45:42.000000000,2021-01-26 03:42:09.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 15:19:57.000000000', 'files': ['plugin.spec'], 'web_link': 'https://opendev.org/openstack/neutron/commit/278978bb42aca99fb7b1fea45b44a752cfff6a7d', 'message': 'Add OVN migration OSP 16.2 option\n\nIn order to support OVN migration to OSP 16.2 we need to include\nthis option into OVN migraiton plugin spec file.\n\nChange-Id: Ib52052d9a178a9246a83963cfa8e2c297ee0d94f\nCloses-bug: #1912948\n'}]",0,772204,278978bb42aca99fb7b1fea45b44a752cfff6a7d,12,6,1,29350,,,0,"Add OVN migration OSP 16.2 option

In order to support OVN migration to OSP 16.2 we need to include
this option into OVN migraiton plugin spec file.

Change-Id: Ib52052d9a178a9246a83963cfa8e2c297ee0d94f
Closes-bug: #1912948
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/772204/1 && git format-patch -1 --stdout FETCH_HEAD,['plugin.spec'],1,278978bb42aca99fb7b1fea45b44a752cfff6a7d,add_ovn_migration_osp16.2_option," - ""16.2""",,1,0
openstack%2Fwhitebox-tempest-plugin~master~I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf,openstack/whitebox-tempest-plugin,master,I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf,Added SR-IOV numa affinity testcases,MERGED,2020-01-21 18:19:28.000000000,2021-01-26 03:14:42.000000000,2021-01-26 03:14:42.000000000,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 28006}, {'_account_id': 30788}, {'_account_id': 31033}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-01-21 18:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c663f9243e6f727fd025b9609b68ca0e28107af3', 'message': ""Added sriov numa affinity testcases\n\nCreated a new class SRIOVNumaAffinity to be responsible for two new test\nmethods: test_sriov_affinity_preferred and test_sriov_affinity_required.\nThe test methods rely on a provided sr-iov nic to execute numa affinity\nwith the numa policy set as either preferred or required via the flavor.\nEach method determines the numa node associated with the nic, creates\nthe relevant network and ports, and updates the compute’s\ncpu_dedicated_set comprised of pCPU’s from two NUMA Nodes. One node\nshould have affinity with the nic and the other should not. The\npreferred method should expect both instances to deploy with the first\ninstance prioritizing the pCPUs with nic affinity over the other\navailable pCPUs. The required method should see the first instance land\non pCPUs with numa/nic affinity, whilte the second should fail to\ndeploy.  These methods are designed to test [1]\n\nUpdated config.py to accept parameters to interact with the sr-iov\nagent. 'config_path' and 'restart_command' are used in the same fashion\nas whitebox-nova-compute. The 'sriov_physnet' parameter should be the\nphysnet associated with the sr-iov nic that will be leveraged in the\ntest. While not introduced in the commit; network.port_vnic_type,\nnetwork_feature_enabled.provider_net_base_segmentation_id, and\nnetwork.project_network_cidr all need to be set to execute the tests.\n\nLastly the method get_nic_cpu_affinity was added to the class NUMAClient\nin services.client. Given a net device, the method returns the numa node\nas an int that has affinity with the provided nic name.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 2, 'created': '2020-01-21 19:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c4316a6f473ebd33773949f531402baa896a38dd', 'message': ""Added sriov numa affinity testcases\n\nCreated a new class SRIOVNumaAffinity to be responsible for two new test\nmethods: test_sriov_affinity_preferred and test_sriov_affinity_required.\nThe test methods rely on a provided sr-iov nic to execute numa affinity\nwith the numa policy set as either preferred or required via the flavor.\nEach method determines the numa node associated with the nic, creates\nthe relevant network and ports, and updates the compute’s\ncpu_dedicated_set comprised of pCPU’s from two NUMA Nodes. One node\nshould have affinity with the nic and the other should not. The\npreferred method should expect both instances to deploy with the first\ninstance prioritizing the pCPUs with nic affinity over the other\navailable pCPUs. The required method should see the first instance land\non pCPUs with numa/nic affinity, whilte the second should fail to\ndeploy.  These methods are designed to test [1]\n\nUpdated config.py to accept parameters to interact with the sr-iov\nagent. 'config_path' and 'restart_command' are used in the same fashion\nas whitebox-nova-compute. The 'sriov_physnet' parameter should be the\nphysnet associated with the sr-iov nic that will be leveraged in the\ntest. While not introduced in the commit; network.port_vnic_type,\nnetwork_feature_enabled.provider_net_base_segmentation_id, and\nnetwork.project_network_cidr all need to be set to execute the tests.\n\nLastly the method get_nic_cpu_affinity was added to the class NUMAClient\nin services.client. Given a net device, the method returns the numa node\nas an int that has affinity with the provided nic name.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 3, 'created': '2020-04-13 17:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/55483296b15a2dca17487f48c472f1cdebf7d298', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new class, SRIOVNumaAffinity, to be responsible for two new\ntest methods: test_sriov_affinity_preferred and\ntest_sriov_affinity_required. These test methods were created to\nvalidate Nova feature [1]. The commit also adds a new config group for\nwhitebox, 'whitebox-sriov-agent', which includes two parameters\n'sriov_physnet' and 'numa_node_with_affinity_to_nic'. 'sriov_physnet' is\nthe physical network mapping name that is associated with the underlying\nSR-IOV port that will be used in the test, e.g. 'physnet1'. The\nparameter 'numa_node_with_affinity_to_nic' should provide the NUMA node\nid that has affinity to the SR-IOV port used for testing. These tests\nwill be skipped if the 'numa_node_with_affinity_to_nic' is not supplied\na value in tempest.conf.\n\nThe two test methods follow similar test procedures but use different\nNUMA policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and create a cpu_dedicated_set from the list of\nvalues. Using the parameter 'numa_node_with_affinity_to_nic', the test\nmaps the pCPU's with affinity to the SR-IOV port of the compute host.\nTwo instances are then created and the first instance should land on the\nNUMA node with SR-IOV affinity. If the test uses the 'preferred' policy\nthe second instance should deploy on another NUMA node, and if the\npolicy is 'required' the second instance should fail to deploy. After\ndeployment, validate the instance XML for the SR-IOV VF is accurate.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information. Lastly\nthe method 'get_pinning_as_set' was moved from NUMALiveMigrationTest to\nBasePinningTest.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 4, 'created': '2020-04-13 19:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/976f73e9399e7300e5022919e5412918c9a4dc93', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new class, SRIOVNumaAffinity, to be responsible for two new\ntest methods: test_sriov_affinity_preferred and\ntest_sriov_affinity_required. These test methods were created to\nvalidate Nova feature [1]. The commit also adds a new config group for\nwhitebox, 'whitebox-sriov-agent', which includes two parameters\n'sriov_physnet' and 'numa_node_with_affinity_to_nic'. 'sriov_physnet' is\nthe physical network mapping name that is associated with the underlying\nSR-IOV port that will be used in the test, e.g. 'physnet1'. The\nparameter 'numa_node_with_affinity_to_nic' should provide the NUMA node\nid that has affinity to the SR-IOV port used for testing. These tests\nwill be skipped if the 'numa_node_with_affinity_to_nic' is not supplied\na value in tempest.conf.\n\nThe two test methods follow similar test procedures but use different\nNUMA policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and create a cpu_dedicated_set from the list of\nvalues. Using the parameter 'numa_node_with_affinity_to_nic', the test\nmaps the pCPU's with affinity to the SR-IOV port of the compute host.\nTwo instances are then created and the first instance should land on the\nNUMA node with SR-IOV affinity. If the test uses the 'preferred' policy\nthe second instance should deploy on another NUMA node, and if the\npolicy is 'required' the second instance should fail to deploy. After\ndeployment, validate the instance XML for the SR-IOV VF is accurate.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information. Lastly\nthe method 'get_pinning_as_set' was moved from NUMALiveMigrationTest to\nBasePinningTest.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 5, 'created': '2020-05-26 17:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2ba670f50b327fd340c4c2a00fbb74a045aa590b', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new class, SRIOVNumaAffinity, to be responsible for two new\ntest methods: test_sriov_affinity_preferred and\ntest_sriov_affinity_required. These test methods were created to\nvalidate Nova feature [1]. The commit also adds two new parameters,\n'sriov_physnet' and 'numa_node_with_affinity_to_nic', to the config\ngroup 'whitebox-hardware'. 'sriov_physnet' is the physical network\nmapping name that is associated with the underlying SR-IOV port that\nwill be used in the test, e.g. 'physnet1'. The parameter\n'numa_node_with_affinity_to_nic' should provide the NUMA node id that\nhas affinity to the SR-IOV port used for testing. These tests will be\nskipped if the 'numa_node_with_affinity_to_nic' is not supplied a value\nin tempest.conf.\n\nThe two test methods follow similar test procedures but use different\nNUMA policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and create a cpu_dedicated_set from the list of\nvalues. Using the parameter 'numa_node_with_affinity_to_nic', the test\nmaps the pCPU's with affinity to the SR-IOV port of the compute host.\nTwo instances are then created and the first instance should land on the\nNUMA node with SR-IOV affinity. If the test uses the 'preferred' policy\nthe second instance should deploy on another NUMA node, and if the\npolicy is 'required' the second instance should fail to deploy. After\ndeployment, validate the instance XML for the SR-IOV VF is accurate.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information. Lastly\nthe method 'get_pinning_as_set' was moved from NUMALiveMigrationTest to\nBasePinningTest.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 6, 'created': '2020-05-26 21:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d9aa46520dd42d4e397a3f7a21a16a71c22f025e', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds two new parameters, 'sriov_physnet' and\n'numa_node_with_affinity_to_nic', to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'. The parameter\n'numa_node_with_affinity_to_nic' should provide the NUMA node id that\nhas affinity to the SR-IOV port used for testing. These tests will be\nskipped if the 'numa_node_with_affinity_to_nic' is not supplied a value\nin tempest.conf.\n\nThe two test methods follow similar test procedures but use different\nNUMA policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and create a cpu_dedicated_set from the list of\nvalues. Using the parameter 'numa_node_with_affinity_to_nic', the test\nmaps the pCPU's with affinity to the SR-IOV port of the compute host.\nTwo instances are then created. If the test uses the 'preferred' policy\nthe second instance should deploy on another NUMA node, and if the\npolicy is 'required' the second instance should fail to deploy. After\ndeployment, validate the instance XML for the SR-IOV VF is accurate.\n\nIt should be noted that with the preferred policy, Nova currently does\nnot guarantee an instance will schedule to the NUMA node with nic\naffinity. While there are checks in the commit for NUMA affinity with\nthe preferred policy, they are commented up and will be updated until\nthe guarantee is available.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\nLastly in order for SRIOVNumaAffinity to execute some of its cpu pinning\nchecks, the helper methods parse_cpu_spec, _get_cpus_per_node,\nget_pinning_as_set, and _get_cpu_spec were moved from the module\ntest_cpu_pinning.py to base.py. test_cpu_pinning was updated accordingly\nto access the moved methods.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 7, 'created': '2020-05-27 20:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bba6980ee57f564e013fef0ce7b425c37b5bcdae', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds a new parameter, 'sriov_physnet,  to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and creates a cpu_dedicated_set from the list\nof values. It then attempts to create two instances with\nhw:cpu_policy=dedicated. If the test uses the 'preferred' policy the\nsecond instance should deploy successfully on another NUMA node, and if\nthe policy is 'required' the second instance should fail to deploy.\nAfter deployment, validate the instance XML for the SR-IOV VF is\naccurate. Then using the provided VF pci address, determine the NUMA\nnode the nic has affinity with. Confirm the pCPUs the instance is pinned\ntoo are from this same NUMA node.\n\nIt should be noted that with the preferred policy, Nova currently does\nnot guarantee an instance will schedule to the NUMA node with nic\naffinity. While there are checks in the commit for NUMA affinity with\nthe preferred policy, they are commented out and will be updated when\nthe guarantee is available.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\nA new method was added to clients.NUMAClient,\nget_numa_affinity_from_pci_address. Given a provided pci address, return\nit's assoicated NUMA node.\n\nLastly in order for SRIOVNumaAffinity to execute some of its cpu pinning\nchecks, the helper methods parse_cpu_spec, _get_cpus_per_node,\nget_pinning_as_set, and _get_cpu_spec were moved from the module\ntest_cpu_pinning.py to base.py. test_cpu_pinning was updated accordingly\nto access the moved methods. Also helper method get_pci_address created\nfor test_vgpu.py was moved to base.py.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 8, 'created': '2020-07-31 18:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/db7bd7c83c74a6c982d681bc0170e539a5ffc2bf', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds a new parameter, 'sriov_physnet,  to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and creates a cpu_dedicated_set from the list\nof values. It then attempts to create two instances with\nhw:cpu_policy=dedicated. If the test uses the 'preferred' policy the\nsecond instance should deploy successfully on another NUMA node, and if\nthe policy is 'required' the second instance should fail to deploy.\nAfter deployment, validate the instance XML for the SR-IOV VF is\naccurate. Then using the provided VF pci address, determine the NUMA\nnode the nic has affinity with. Confirm the pCPUs the instance is pinned\ntoo are from this same NUMA node.\n\nIt should be noted that with the preferred policy, Nova currently does\nnot guarantee an instance will schedule to the NUMA node with nic\naffinity. While there are checks in the commit for NUMA affinity with\nthe preferred policy, they are commented out and will be updated when\nthe guarantee is available.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\nA new method was added to clients.NUMAClient,\nget_numa_affinity_from_pci_address. Given a provided pci address, return\nit's assoicated NUMA node.\n\nLastly in order for SRIOVNumaAffinity to execute some of its cpu pinning\nchecks, the helper methods parse_cpu_spec, get_pinning_as_set, and\n_get_cpu_spec were moved from the module test_cpu_pinning.py to base.py.\ntest_cpu_pinning was updated accordingly to access the moved methods.\nAlso helper method get_pci_address created for test_vgpu.py was moved to\nbase.py.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 9, 'created': '2020-12-07 21:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a2563453c98f8a5c0c4aebcb534f9e5c9790bbf4', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds a new parameter, 'sriov_physnet,  to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and creates a cpu_dedicated_set from the list\nof values. It then attempts to create two instances with\nhw:cpu_policy=dedicated. If the test uses the 'preferred' policy the\nsecond instance should deploy successfully on another NUMA node, and if\nthe policy is 'required' the second instance should fail to deploy.\nAfter deployment, validate the instance XML for the SR-IOV VF is\naccurate. Then using the provided VF pci address, determine the NUMA\nnode the nic has affinity with. Confirm the pCPUs the instance is pinned\ntoo are from this same NUMA node.\n\nIt should be noted that with the preferred policy, Nova currently does\nnot guarantee an instance will schedule to the NUMA node with nic\naffinity. While there are checks in the commit for NUMA affinity with\nthe preferred policy, they are commented out and will be updated when\nthe guarantee is available.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\nA new method was added to clients.NUMAClient,\nget_numa_affinity_from_pci_address. Given a provided pci address, return\nit's assoicated NUMA node.\n\nLastly helper method get_pci_address created for test_vgpu.py was moved\nto utils.py.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 10, 'created': '2020-12-16 02:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5945c55e7fee80c144ae910c3366768f73efef84', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds a new parameter, 'sriov_physnet,  to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The tests gather the pCPU\nid's from each NUMA node and creates a cpu_dedicated_set from the list\nof values. It then attempts to create two instances with\nhw:cpu_policy=dedicated. If the test uses the 'preferred' policy the\nsecond instance should deploy successfully on another NUMA node, and if\nthe policy is 'required' the second instance should fail to deploy.\nAfter deployment, validate the instance XML for the SR-IOV VF is\naccurate. Then using the provided VF pci address, determine the NUMA\nnode the nic has affinity with. Confirm the pCPUs the instance is pinned\ntoo are from this same NUMA node.\n\nIt should be noted that with the preferred policy, Nova currently does\nnot guarantee an instance will schedule to the NUMA node with nic\naffinity. While there are checks in the commit for NUMA affinity with\nthe preferred policy, they are commented out and will be updated when\nthe guarantee is available.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\nA new method was added to clients.NUMAClient,\nget_numa_affinity_from_pci_address. Given a provided pci address, return\nit's assoicated NUMA node.\n\nLastly helper method get_pci_address created for test_vgpu.py was moved\nto utils.py.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 11, 'created': '2021-01-16 02:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/37ba58ea695083e4a71b68a275f4cbd5b8745fbb', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds two new config parameter: sriov_physnet and\nphysnet_numa_affinity_map to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'. physet_numa_affinity_map dictionary\none to one mapping of physnets to the NUMA Node their share affinity\nwith.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The\ntest_sriov_affinity_preferred policy aggregates the PCPU's two NUMA\nNodes, one with affinity to the SR-IOV NIC and another Node that does\nnot. It aggregates the PCPU's from the two nodes to create a list of\nvalues for cpu_dedicated_set. It then attempts to create two instances\nwith hw:cpu_policy=dedicated and a vCPU size large enough that a single\ninstance should 'fill' a NUMA Node. Afterwards the test will then\nvalidate both instances were correctly deployed.\n\nFor the test_sriov_affinity_required test method it creates a\ncpu_dedicated_set from the PCPU's of just the NUMA Node with affinity\nto the nic. It also attmpets to create two instances from the same type\nof flavor and confirms only\none successfully deploys.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\nLastly helper method get_pci_address created for test_vgpu.py was moved\nto utils.py.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 12, 'created': '2021-01-16 02:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d7a797b6e66f2327b737dc3fd8553388127ec7e7', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds two new config parameter: sriov_physnet and\nphysnet_numa_affinity_map to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'. physet_numa_affinity_map dictionary\none to one mapping of physnets to the NUMA Node their share affinity\nwith.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The\ntest_sriov_affinity_preferred policy aggregates the PCPU's two NUMA\nNodes, one with affinity to the SR-IOV NIC and another Node that does\nnot. It aggregates the PCPU's from the two nodes to create a list of\nvalues for cpu_dedicated_set. It then attempts to create two instances\nwith hw:cpu_policy=dedicated and a vCPU size large enough that a single\ninstance should 'fill' a NUMA Node. Afterwards the test will then\nvalidate both instances were correctly deployed.\n\nFor the test_sriov_affinity_required test method it creates a\ncpu_dedicated_set from the PCPU's of just the NUMA Node with affinity\nto the nic. It also attmpets to create two instances from the same type\nof flavor and confirms only\none successfully deploys.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 13, 'created': '2021-01-18 21:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d7bcfcfb43b1145417eb3a00030a1a4498ec7475', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds two new config parameter: sriov_physnet and\nphysnet_numa_affinity to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'. physet_numa_affinity represents the\nNUMA Node ID that has affinity with the value for sriov_physnet. This\nexpects a one to one mapping only, it does not take into account if\nthe physnet to underlying NIC is one to many and the NIC's are on\nmultiple seperate NUMAs.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The\ntest_sriov_affinity_preferred policy aggregates the PCPU's two NUMA\nNodes, one with affinity to the SR-IOV NIC and another Node that does\nnot. It aggregates the PCPU's from the two nodes to create a list of\nvalues for cpu_dedicated_set. It then attempts to create two instances\nwith hw:cpu_policy=dedicated and a vCPU size large enough that a single\ninstance should 'fill' a NUMA Node. Afterwards the test will then\nvalidate both instances were correctly deployed.\n\nFor the test_sriov_affinity_required test method it creates a\ncpu_dedicated_set from the PCPU's of just the NUMA Node with affinity\nto the nic. It also attmpets to create two instances from the same type\nof flavor and confirms only\none successfully deploys.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}, {'number': 14, 'created': '2021-01-18 23:04:45.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d224fb0c21cd55fa1435469615d03d7bb4a92469', 'message': ""Added SR-IOV numa affinity testcases\n\nCreated a new module, test_sriov.py, and new class, SRIOVNumaAffinity,\nto be responsible for two new test methods:\ntest_sriov_affinity_preferred and test_sriov_affinity_required. These\ntest methods were created to validate Nova feature [1]. The commit also\nadds two new config parameter: sriov_physnet and\nphysnet_numa_affinity to the config group\n'whitebox-hardware'. 'sriov_physnet' is the physical network mapping\nname that is associated with the underlying SR-IOV port that will be\nused in the test, e.g. 'physnet1'. physet_numa_affinity represents the\nNUMA Node ID that has affinity with the physnet for sriov_physnet. This\nexpects a one to one mapping only, it does not take into account if the\nphysnet to underlying NIC is one to many and the NIC's are on multiple\nseperate NUMAs.\n\nThe two test methods follow similar test procedures but use different\nNUMA pci policies in their respective flavors. The\ntest_sriov_affinity_preferred policy aggregates the PCPU's two NUMA\nNodes, one with affinity to the SR-IOV NIC and another Node that does\nnot. It aggregates the PCPU's from the two nodes to create a list of\nvalues for cpu_dedicated_set. It then attempts to create two instances\nwith hw:cpu_policy=dedicated and a vCPU size large enough that a single\ninstance should 'fill' a NUMA Node. Afterwards the test will then\nvalidate both instances were correctly deployed.\n\nFor the test_sriov_affinity_required test method it creates a\ncpu_dedicated_set from the PCPU's of just the NUMA Node with affinity\nto the nic. It also attmpets to create two instances from the same type\nof flavor and confirms only\none successfully deploys.\n\nThere are also multiple helper methods added to SRIOVNumaAffinity which\ncreate networks, subnets, and ports for the instance(s). In addition\nthere were methods added to parse instance XML to validate the network\nelement accurately represents the expected SR-IOV information.\n\n[1]: https://review.opendev.org/#/c/674072/\n\nDepends-on: https://review.opendev.org/#/c/731557/\n\nChange-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf\n""}]",118,703662,d224fb0c21cd55fa1435469615d03d7bb4a92469,75,11,14,31033,,,0,"Added SR-IOV numa affinity testcases

Created a new module, test_sriov.py, and new class, SRIOVNumaAffinity,
to be responsible for two new test methods:
test_sriov_affinity_preferred and test_sriov_affinity_required. These
test methods were created to validate Nova feature [1]. The commit also
adds two new config parameter: sriov_physnet and
physnet_numa_affinity to the config group
'whitebox-hardware'. 'sriov_physnet' is the physical network mapping
name that is associated with the underlying SR-IOV port that will be
used in the test, e.g. 'physnet1'. physet_numa_affinity represents the
NUMA Node ID that has affinity with the physnet for sriov_physnet. This
expects a one to one mapping only, it does not take into account if the
physnet to underlying NIC is one to many and the NIC's are on multiple
seperate NUMAs.

The two test methods follow similar test procedures but use different
NUMA pci policies in their respective flavors. The
test_sriov_affinity_preferred policy aggregates the PCPU's two NUMA
Nodes, one with affinity to the SR-IOV NIC and another Node that does
not. It aggregates the PCPU's from the two nodes to create a list of
values for cpu_dedicated_set. It then attempts to create two instances
with hw:cpu_policy=dedicated and a vCPU size large enough that a single
instance should 'fill' a NUMA Node. Afterwards the test will then
validate both instances were correctly deployed.

For the test_sriov_affinity_required test method it creates a
cpu_dedicated_set from the PCPU's of just the NUMA Node with affinity
to the nic. It also attmpets to create two instances from the same type
of flavor and confirms only
one successfully deploys.

There are also multiple helper methods added to SRIOVNumaAffinity which
create networks, subnets, and ports for the instance(s). In addition
there were methods added to parse instance XML to validate the network
element accurately represents the expected SR-IOV information.

[1]: https://review.opendev.org/#/c/674072/

Depends-on: https://review.opendev.org/#/c/731557/

Change-Id: I6c0ee584b642aaaa364545aeb9aa5f78d5c28aaf
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/62/703662/12 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/config.py']",3,c663f9243e6f727fd025b9609b68ca0e28107af3,sriov_affinity," database_group = cfg.OptGroup( name='whitebox-sriov-agent', title='Config options when working with sr-iov nics.') database_opts = [ cfg.StrOpt( 'sriov_physnet', help='The physnet to use when creating sr-iov ports'), cfg.StrOpt( 'config_path', help='Path to the configration file for the sriov service.'), cfg.StrOpt( 'restart_command', help='Command to restart the sriov-agent service, without any ' 'privilege management (ie, no sudo).') ]",,382,21
openstack%2Ftripleo-quickstart~master~Ifd0371274fcc42286217a5c47e3998aafa98ddcc,openstack/tripleo-quickstart,master,Ifd0371274fcc42286217a5c47e3998aafa98ddcc,Remove update-plan-only from converge,MERGED,2021-01-20 03:37:47.000000000,2021-01-26 03:00:37.000000000,2021-01-26 02:57:46.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 03:37:47.000000000', 'files': ['config/general_config/featureset040.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset036.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72ad6faa62885fb86e6c3541863718e3593c1d4f', 'message': ""Remove update-plan-only from converge\n\nThis was added to reduce the CI wall time. As we're removing\novercloud plan, this won't work. We can skip the converge\nstep if required later if we want to reduce the time jobs\ntake.\n\nChange-Id: Ifd0371274fcc42286217a5c47e3998aafa98ddcc\n""}]",0,771532,72ad6faa62885fb86e6c3541863718e3593c1d4f,20,4,1,8833,,,0,"Remove update-plan-only from converge

This was added to reduce the CI wall time. As we're removing
overcloud plan, this won't work. We can skip the converge
step if required later if we want to reduce the time jobs
take.

Change-Id: Ifd0371274fcc42286217a5c47e3998aafa98ddcc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/32/771532/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset040.yml', 'config/general_config/featureset051.yml', 'config/general_config/featureset037.yml', 'config/general_config/featureset036.yml']",4,72ad6faa62885fb86e6c3541863718e3593c1d4f,env_merging,,# Reduce CI wall time tripleo_upgrade_converge_plan_only: true,0,8
openstack%2Ftripleo-ci~master~Ida8dfd6e5f2baff8d9307edfb895c621e265ba6b,openstack/tripleo-ci,master,Ida8dfd6e5f2baff8d9307edfb895c621e265ba6b,remove tripleo-ci-centos-7-containerized-undercloud-upgrades,MERGED,2021-01-11 16:32:58.000000000,2021-01-26 02:58:04.000000000,2021-01-26 02:58:04.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 16:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7d04544a8b2fe88db2ca7fe166a451bb442e0ccb', 'message': 'remove tripleo-ci-centos-7-containerized-undercloud-upgrades\n\nas the msg states, all CentOS-7 update and upgrade\njobs for tripleo will be removed.\n\nRelated-Bug: #1911027\nChange-Id: Ida8dfd6e5f2baff8d9307edfb895c621e265ba6b\n'}, {'number': 2, 'created': '2021-01-21 19:56:43.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/98feddb75e5145a55b40faa46aa64c48da563bf6', 'message': 'remove tripleo-ci-centos-7-containerized-undercloud-upgrades\n\nas the msg states, all CentOS-7 update and upgrade\njobs for tripleo will be removed.\n\nRelated-Bug: #1911027\nChange-Id: Ida8dfd6e5f2baff8d9307edfb895c621e265ba6b\n'}]",0,770149,98feddb75e5145a55b40faa46aa64c48da563bf6,32,7,2,9592,,,0,"remove tripleo-ci-centos-7-containerized-undercloud-upgrades

as the msg states, all CentOS-7 update and upgrade
jobs for tripleo will be removed.

Related-Bug: #1911027
Change-Id: Ida8dfd6e5f2baff8d9307edfb895c621e265ba6b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/770149/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,7d04544a8b2fe88db2ca7fe166a451bb442e0ccb,tripleo-c7-update-upgrade-removal,, - tripleo-ci-centos-7-containerized-undercloud-upgrades: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-7-containerized-undercloud-upgrades: irrelevant-files: *undercloud_ignored name: tripleo-ci-centos-7-containerized-undercloud-upgrades parent: tripleo-ci-base-singlenode nodeset: single-centos-7-node branches: ^(stable/(rocky|stein|train)).*$ # TODO(rlandy) make it voting when we confirm # https://review.opendev.org/#/c/611800/ # is working as expected. voting: false vars: featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade - job:,0,20
openstack%2Ftripleo-upgrade~stable%2Ftrain~I95e7feef641e7107c349e4d1185f88b2e57eb143,openstack/tripleo-upgrade,stable/train,I95e7feef641e7107c349e4d1185f88b2e57eb143,Host evacuate dynamic limit,MERGED,2020-12-08 11:34:20.000000000,2021-01-26 02:57:43.000000000,2021-01-26 02:57:43.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-12-08 11:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/04b7649475ee294397a2d05738bd57ea8abf905c', 'message': 'WIP: host evacuate dynamic limit\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 1c467ff95ddfb0867e4bf127dd1caeb17b8186b6)\n'}, {'number': 2, 'created': '2020-12-08 11:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e40d63b3d3cf203d9ef876895fbb5a9e78c13c9d', 'message': 'WIP: host evacuate dynamic limit\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 1c467ff95ddfb0867e4bf127dd1caeb17b8186b6)\n'}, {'number': 3, 'created': '2020-12-10 10:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/effc6add34bcb1b10f988f371d7284b308abdb83', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 40 + 40 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 08d37db7d3d69c62552e7fb12cc6466b18652a41)\n'}, {'number': 4, 'created': '2020-12-11 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/157ef80bc8502cb07d989bc0ab2cd632ff17a904', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 40 + 40 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 9e0500291bd8e40096bd59a3ade2d18f547b70d4)\n'}, {'number': 5, 'created': '2020-12-14 12:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c61e7d1954e11b0223f50b4cc3440eb584e70571', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 4d9f1b44f77c21984b29291229bfa7ce9e1534c9)\n'}, {'number': 6, 'created': '2020-12-23 09:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cd33e41ecda842fb0d1c554654a5627c5205ea0d', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 4d9f1b44f77c21984b29291229bfa7ce9e1534c9)\n'}, {'number': 7, 'created': '2021-01-18 06:18:36.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/24a3b2762396e873f299a1ad16f1880d885079e4', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 4d9f1b44f77c21984b29291229bfa7ce9e1534c9)\n'}]",0,765972,24a3b2762396e873f299a1ad16f1880d885079e4,29,4,7,11166,,,0,"Host evacuate dynamic limit

Instead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of
the compute for the evacuation.

Change-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143
(cherry picked from commit 4d9f1b44f77c21984b29291229bfa7ce9e1534c9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/765972/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,04b7649475ee294397a2d05738bd57ea8abf905c,,"INSTANCE_COUNT=$(openstack server list --host ${HOST} -f json | jq -r -c '[.[] | select(.Status | contains(""ACTIVE"") or contains(""PAUSED"") or contains(""MIGRATING""))] | length')timeout_seconds=$(( 40 * $INSTANCE_COUNT ))",timeout_seconds=120,2,1
openstack%2Fpuppet-openstacklib~stable%2Fvictoria~Ie308a481eb70d5f930633b18d8044f9542a142af,openstack/puppet-openstacklib,stable/victoria,Ie308a481eb70d5f930633b18d8044f9542a142af,Fix support for policy.yaml,MERGED,2021-01-14 13:45:07.000000000,2021-01-26 02:48:54.000000000,2021-01-26 02:48:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 13:45:07.000000000', 'files': ['spec/defines/openstacklib_policy_base_spec.rb', 'spec/acceptance/openstacklib_policy_base_spec.rb', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e8a2a3c1455880bc37799a5ce8ccfeac6f5f3f28', 'message': ""Fix support for policy.yaml\n\nThis change fixes support for policy.yaml, which was broken because\nof the following problems.\n - The default content was still formatted in json\n - Augeas doesn't support flat yaml contents required\n\nChange-Id: Ie308a481eb70d5f930633b18d8044f9542a142af\n(cherry picked from commit 0ffc8e1c4b98cb8649be7be03f327bc421a9d7e1)\n""}]",0,770748,e8a2a3c1455880bc37799a5ce8ccfeac6f5f3f28,11,3,1,9816,,,0,"Fix support for policy.yaml

This change fixes support for policy.yaml, which was broken because
of the following problems.
 - The default content was still formatted in json
 - Augeas doesn't support flat yaml contents required

Change-Id: Ie308a481eb70d5f930633b18d8044f9542a142af
(cherry picked from commit 0ffc8e1c4b98cb8649be7be03f327bc421a9d7e1)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/48/770748/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/openstacklib_policy_base_spec.rb', 'spec/acceptance/openstacklib_policy_base_spec.rb', 'manifests/policy/base.pp']",3,e8a2a3c1455880bc37799a5ce8ccfeac6f5f3f28,policy-json-to-yaml-stable/victoria," ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => '{}' }) # Add entry if it doesn't exists augeas { ""${file_path}-${key}-${value}-add"": lens => 'Json.lns', incl => $file_path, changes => [ ""set dict/entry[last()+1] \""${key}\"""", ""set dict/entry[last()]/string \""${value}\"""", ], onlyif => ""match dict/entry[*][.=\""${key}\""] size == 0"", } # Requires that the entry is added before this call or it will fail. augeas { ""${file_path}-${key}-${value}"" : lens => 'Json.lns', incl => $file_path, changes => ""set dict/entry[*][.=\""${key}\""]/string \""${value}\"""", } File<| title == $file_path |> -> Augeas<| title == ""${file_path}-${key}-${value}-add"" |> ~> Augeas<| title == ""${file_path}-${key}-${value}"" |> ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => '' }) file_line { ""${file_path}-${key}"" : path => $file_path, line => ""'${key}': '${value}'"", match => ""^['\""]?${key}['\""]?\\s*:.+"" } File<| title == $file_path |> -> File_line<| title == ""${file_path}-${key}"" |>"," ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => '{}' }) $file_lens = 'Json.lns' $file_lens = 'Yaml.lns' # Add entry if it doesn't exists augeas { ""${file_path}-${key}-${value}-add"": lens => $file_lens, incl => $file_path, changes => [ ""set dict/entry[last()+1] \""${key}\"""", ""set dict/entry[last()]/string \""${value}\"""", ], onlyif => ""match dict/entry[*][.=\""${key}\""] size == 0"", } # Requires that the entry is added before this call or it will fail. augeas { ""${file_path}-${key}-${value}"" : lens => $file_lens, incl => $file_path, changes => ""set dict/entry[*][.=\""${key}\""]/string \""${value}\"""", } File<| title == $file_path |> -> Augeas<| title == ""${file_path}-${key}-${value}-add"" |> ~> Augeas<| title == ""${file_path}-${key}-${value}"" |> ",118,40
openstack%2Fpatrole~master~Ia34d08ad659b095a114c27d6d596507f7922149a,openstack/patrole,master,Ia34d08ad659b095a114c27d6d596507f7922149a,Reuse tempest to create admin client manager,MERGED,2020-12-30 08:25:29.000000000,2021-01-26 02:34:21.000000000,2021-01-26 02:32:36.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-12-30 08:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7824e3b0d6a57eb7d81e984ecfe8c4cf81f1de36', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}, {'number': 2, 'created': '2021-01-04 21:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/1158b3a7f6ba01a6723d58963384a9b3da138923', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}, {'number': 3, 'created': '2021-01-04 22:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a2df6c0f3cda81dc78f392b937035babac193afe', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}, {'number': 4, 'created': '2021-01-05 01:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/84863402fb6d8c6124f6d63c1e38a2bd6a5b4d5d', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}, {'number': 5, 'created': '2021-01-05 10:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/2584f3f2792880090c17f18945ac2cc497e47d0a', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}, {'number': 6, 'created': '2021-01-06 20:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5e1b7c12ea378c7dca956f3664631c912f8a92d8', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}, {'number': 7, 'created': '2021-01-16 10:50:11.000000000', 'files': ['patrole_tempest_plugin/tests/api/identity/rbac_base.py', 'patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/image/test_images_member_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py', 'patrole_tempest_plugin/tests/unit/test_policy_authority.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_tokens_negative_rbac.py', 'patrole_tempest_plugin/tests/unit/fixtures.py', 'patrole_tempest_plugin/policy_authority.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/27f671f1a2588601358391f027d9ab28fda225b5', 'message': ""Reuse tempest to create admin client manager\n\nThe previous code doesn't support PreProvisionedCredentialProvider, it\nwas getting admin credentials from tempest config file which are not set\nwhen using test_accounts_file.\n\nChange-Id: Ia34d08ad659b095a114c27d6d596507f7922149a\n""}]",10,768771,27f671f1a2588601358391f027d9ab28fda225b5,22,5,7,6732,,,0,"Reuse tempest to create admin client manager

The previous code doesn't support PreProvisionedCredentialProvider, it
was getting admin credentials from tempest config file which are not set
when using test_accounts_file.

Change-Id: Ia34d08ad659b095a114c27d6d596507f7922149a
",git fetch https://review.opendev.org/openstack/patrole refs/changes/71/768771/4 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/policy_authority.py']",2,7824e3b0d6a57eb7d81e984ecfe8c4cf81f1de36,admin-client, services_client = (cls.os_admin.identity_services_v3_client else cls.os_admin.identity_services_client),from tempest import clients from tempest.common import credentials_factory as credentials admin_mgr = clients.Manager( credentials.get_configured_admin_credentials()) services_client = (admin_mgr.identity_services_v3_client else admin_mgr.identity_services_client),4,12
openstack%2Fwhitebox-tempest-plugin~master~I7cddb17a74692ed1017469ac0cdad33e8f1901e1,openstack/whitebox-tempest-plugin,master,I7cddb17a74692ed1017469ac0cdad33e8f1901e1,Add sanity nvdimm test,MERGED,2020-12-03 20:16:59.000000000,2021-01-26 02:31:55.000000000,2021-01-26 02:31:55.000000000,"[{'_account_id': 6962}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 28006}, {'_account_id': 30788}, {'_account_id': 31033}]","[{'number': 1, 'created': '2020-12-03 20:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/03a005752b69ef8c63f10b3cdefe9d4d665a7039', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance, ""hw:pem: <PMEM_MAPPING>"". The\n<PMEM_MAPPING> value is pulled from the new configuration parameter\n\'pmem_flavor_mapping\' which has been added to [whitebox-hardware].\n\nTest creates an instance using the flavor and has three pass checks. The\nfirst check validates a memory device is present in the server\'s XML.\nThe second check confirms the XML memory element is model type \'nvdimm\'.\nLastly it compares the target allocated memory in the element with the\nexpected allocated memory. If they are not the same the test will fail.\nThe expected allocated memory comes from the second new configuration\noption \'pmem_size\', which is also part of [whitebox-hardware]. The\nparameter is a string representation of the expected memory that\nshould be allocated to the instance in GiB.\n\nThe new test class NVDIMMTests also adds a helper method,\nget_server_device_memory, which gets the instance XML of a provider\nserver id and returns the found memory device element.\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 2, 'created': '2020-12-03 20:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/babb497ed668e79bd7e2503c115fc45bcc82ec1e', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance, ""hw:pem: <PMEM_MAPPING>"". The\n<PMEM_MAPPING> value is pulled from the new configuration parameter\n\'pmem_flavor_mapping\' which has been added to [whitebox-hardware].\n\nTest creates an instance using the flavor and has three pass checks. The\nfirst check validates a memory device is present in the server\'s XML.\nThe second check confirms the XML memory element is model type \'nvdimm\'.\nLastly it compares the percent difference between the target allocated\nmemory in the element with the expected allocated memory. This is done\nsince the actual allocated memory to the instance is slightly less than\nthe configured size of the namespace. If the percent difference is\ngreater than 0.1% the test will fail. The expected allocated memory\ncomes from the second new configuration option \'pmem_size\', which is\nalso part of [whitebox-hardware]. The parameter is a string\nrepresentation of the expected memory that should be allocated to the\ninstance and supports any IEC unit of measure i.e. 5GB, 10GiB, etc.\n\nThe new test class NVDIMMTests also adds a helper method,\nget_server_device_memory, which gets the instance XML of a provider\nserver id and returns the found memory device element.\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 3, 'created': '2020-12-03 22:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/87da908e299fd1f694e729e1e82997e27163a1cd', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance, ""hw:pem: <PMEM_MAPPING>"". The\n<PMEM_MAPPING> value is pulled from the new configuration parameter\n\'pmem_flavor_mapping\' which has been added to [whitebox-hardware].\n\nTest creates an instance using the flavor and has two primary pass\nchecks. The first check validates a memory device of model type \'nvdimm\'\nis present in the server\'s XML.  The second check compares the percent\ndifference between the target allocated memory in the element with the\nexpected allocated memory via math.isclose(). This is done since the\nactual allocated memory to the instance is slightly less than the\nconfigured size of the namespace due to the namespace alignment size. If\nthe percent difference is greater than 0.1% the test will fail. The\nexpected allocated memory comes from the second new configuration option\n\'pmem_size\', which is also part of [whitebox-hardware]. The parameter is\na string representation of the expected memory that should be allocated\nto the instance and supports any IEC unit of measure i.e. 5GB, 10GiB,\netc.\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 4, 'created': '2021-01-20 21:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c01f655ed34264fd02d36eb91e13b72350792ac7', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance. The specifc spec is ""hw:pem:\n<PMEM_MAPPING>"". This value for <PMEM_MAPPING> is pulled from the new\nconfiguration parameter \'pmem_flavor_mapping\' which has been added to\n[whitebox-hardware].\n\nTest creates an instance using the flavor and has two primary pass\nchecks. The first check validates a memory device of model type \'nvdimm\'\nis present in the server\'s XML. The second check compares to \'nvdimm\'\nXML memory element\'s target size plus it\'s alignment size with the\nexpected size configured for the namespace. Since the PMEM mapping value\ncould be a generic representation i.e. LARGE, MEDIUM or 6GB, 1GB, etc.\nthe expected allocated memory comes from the second new configuration\noption \'pmem_size\'. This was also added to [whitebox-hardware]. The\nparameter is a string representation of the expected memory that should\nbe allocated to the instance and supports any IEC unit of measure i.e.\n5GB, 10GiB, etc.\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 5, 'created': '2021-01-20 21:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0e90d421ebc9d266a35d5710f8662066e5d7be66', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance. The specifc spec is ""hw:pem:\n<PMEM_MAPPING>"". This value for <PMEM_MAPPING> is pulled from the new\nconfiguration parameter \'pmem_flavor_mapping\' which has been added to\n[whitebox-hardware].\n\nTest creates an instance using the flavor and has two primary pass\nchecks. The first check validates a memory device of model type \'nvdimm\'\nis present in the server\'s XML. The second check compares to \'nvdimm\'\nXML memory element\'s target size plus it\'s alignment size with the\nexpected size configured for the namespace and confirms they are the\nsame. Since the PMEM mapping value could be a generic representation\ni.e. LARGE, MEDIUM or 6GB, 1GB, etc.  the expected allocated memory\ncomes from the second new configuration option \'pmem_size\'. This was\nalso added to [whitebox-hardware]. The parameter is a string\nrepresentation of the expected memory that should be allocated to the\ninstance and supports any IEC unit of measure i.e.  5GB, 10GiB, etc.\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 6, 'created': '2021-01-25 22:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/26217a1809ef47d3017aa59bd1a4497b63375180', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance. The specifc spec is ""hw:pem:\n<PMEM_MAPPING>"". This value for <PMEM_MAPPING> is pulled from the new\nconfiguration parameter \'pmem_flavor_size\' which has been added to\n[whitebox].\n\nTest creates an instance using the flavor and has two primary pass\nchecks. The first check validates a memory device of model type \'nvdimm\'\nis present in the server\'s XML. The second check compares to \'nvdimm\'\nXML memory element\'s target size plus it\'s alignment size with the\nexpected size configured for the namespace and confirms they are the\nsame. Since the PMEM mapping value could be a generic representation\ni.e. LARGE, MEDIUM or 6GB, 1GB, etc.  the expected allocated memory\ncomes from the second new configuration option \'pmem_expected_size\'.\nThis was added to [whitebox-hardware]. The parameter is a string\nrepresentation of the expected memory that should be allocated to the\ninstance and supports any IEC unit of measure i.e.  5GB, 10GiB, etc.\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 7, 'created': '2021-01-25 22:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/be95f4cb89fbffbbbf37c092561fa0e692b78d3a', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance. The specifc spec is ""hw:pem:\n<PMEM_MAPPING>"". This value for <PMEM_MAPPING> is pulled from the new\nconfiguration parameter \'pmem_flavor_size\' which has been added to\n[whitebox].\n\nTest creates an instance using the flavor and has two primary pass\nchecks. The first check validates a memory device of model type \'nvdimm\'\nis present in the server\'s XML. The second check compares to \'nvdimm\'\nXML memory element\'s target size plus it\'s alignment size with the\nexpected size configured for the namespace and confirms they are the\nsame. Example output of size provided to the guest and its alignment\nvalue can be seen below. Since the PMEM mapping value could be a generic\nrepresentation i.e. LARGE, MEDIUM or 6GB, 1GB, etc.  the expected\nallocated memory comes from the second new configuration option\n\'pmem_expected_size\'.  This was added to [whitebox-hardware]. The\nparameter is a string representation of the expected memory that should\nbe allocated to the instance and supports any IEC unit of measure i.e.\n5GB, 10GiB, etc.\n\nExample output:\n  [stack@nova_libvirt ~]$ ndctl list -n namespace1.0\n  [\n    {\n      ""dev"":""namespace1.0"",\n      ""mode"":""devdax"",\n      ""map"":""mem"",\n      ""size"":6440353792,\n      ""uuid"":""d685e2c5-f5a6-4c87-a198-2d75e37e9f6a"",\n      ""chardev"":""dax1.0"",\n      ""align"":2097152,\n      ""name"":""ns1""\n    }\n  ]\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}, {'number': 8, 'created': '2021-01-25 22:51:41.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_nvdimm.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bfce3c67aa7e52f25195a54c458a3f024695baaf', 'message': 'Add sanity nvdimm test\n\nAdds a basic sanity test covering NVDIMM support [1]. New test module\ntest_nvdimm added to api/compute. Module adds a new class and test\nmethod, NVDIMMTests and test_nvdimm_instance_creation respectively. The\ntest method extends the standard whitebox flavor with the extra specs\nnecessary to create a NDVIMM instance. The specifc spec is ""hw:pem:\n<PMEM_MAPPING>"". This value for <PMEM_MAPPING> is pulled from the new\nconfiguration parameter \'pmem_flavor_size\' which has been added to\n[whitebox].\n\nTest creates an instance using the flavor and has two primary pass\nchecks. The first check validates a memory device of model type \'nvdimm\'\nis present in the server\'s XML. The second check compares to \'nvdimm\'\nXML memory element\'s target size plus it\'s alignment size with the\nexpected size configured for the namespace and confirms they are the\nsame. Example output of size provided to the guest and its alignment\nvalue can be seen below. Since the PMEM mapping value could be a generic\nrepresentation i.e. LARGE, MEDIUM or 6GB, 1GB, etc.  the expected\nallocated memory comes from the second new configuration option\n\'pmem_expected_size\'. This was also added to [whitebox]. The parameter\nis a string representation of the expected memory that should be\nallocated to the instance and supports any IEC unit of measure i.e.\n5GB, 10GiB, etc.\n\nExample output:\n  [stack@nova_libvirt ~]$ ndctl list -n namespace1.0\n  [\n    {\n      ""dev"":""namespace1.0"",\n      ""mode"":""devdax"",\n      ""map"":""mem"",\n      ""size"":6440353792,\n      ""uuid"":""d685e2c5-f5a6-4c87-a198-2d75e37e9f6a"",\n      ""chardev"":""dax1.0"",\n      ""align"":2097152,\n      ""name"":""ns1""\n    }\n  ]\n\n[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/\n\nChange-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1\n'}]",27,765380,bfce3c67aa7e52f25195a54c458a3f024695baaf,36,10,8,31033,,,0,"Add sanity nvdimm test

Adds a basic sanity test covering NVDIMM support [1]. New test module
test_nvdimm added to api/compute. Module adds a new class and test
method, NVDIMMTests and test_nvdimm_instance_creation respectively. The
test method extends the standard whitebox flavor with the extra specs
necessary to create a NDVIMM instance. The specifc spec is ""hw:pem:
<PMEM_MAPPING>"". This value for <PMEM_MAPPING> is pulled from the new
configuration parameter 'pmem_flavor_size' which has been added to
[whitebox].

Test creates an instance using the flavor and has two primary pass
checks. The first check validates a memory device of model type 'nvdimm'
is present in the server's XML. The second check compares to 'nvdimm'
XML memory element's target size plus it's alignment size with the
expected size configured for the namespace and confirms they are the
same. Example output of size provided to the guest and its alignment
value can be seen below. Since the PMEM mapping value could be a generic
representation i.e. LARGE, MEDIUM or 6GB, 1GB, etc.  the expected
allocated memory comes from the second new configuration option
'pmem_expected_size'. This was also added to [whitebox]. The parameter
is a string representation of the expected memory that should be
allocated to the instance and supports any IEC unit of measure i.e.
5GB, 10GiB, etc.

Example output:
  [stack@nova_libvirt ~]$ ndctl list -n namespace1.0
  [
    {
      ""dev"":""namespace1.0"",
      ""mode"":""devdax"",
      ""map"":""mem"",
      ""size"":6440353792,
      ""uuid"":""d685e2c5-f5a6-4c87-a198-2d75e37e9f6a"",
      ""chardev"":""dax1.0"",
      ""align"":2097152,
      ""name"":""ns1""
    }
  ]

[1] https://review.opendev.org/c/openstack/nova-specs/+/601596/

Change-Id: I7cddb17a74692ed1017469ac0cdad33e8f1901e1
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/80/765380/8 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_nvdimm.py', 'whitebox_tempest_plugin/config.py']",2,03a005752b69ef8c63f10b3cdefe9d4d665a7039,nvdimm_test," 'set would be `0: [0,1], 1: [2, 3]`.'), cfg.StrOpt( 'pmem_flavor_mapping', default=None, help='The PMEM mapping to the nvdimm namespaces, this value is passed ' 'as an extra spec during flavor creation to allow for nvdimm ' 'enabled guest creation. Example mappings include 2GB, 6GB, ' 'MEDIUM, LARGE'), cfg.StrOpt( 'pmem_size', default=None, help='The expected memory size (in GiB) allocated to nvdimm enabled ' 'instance'),"," 'set would be `0: [0,1], 1: [2, 3]`.')",104,1
openstack%2Fpuppet-openstack-integration~master~I77ff23b92bf2c2268ea484edb725841b4a3024a6,openstack/puppet-openstack-integration,master,I77ff23b92bf2c2268ea484edb725841b4a3024a6,Update blacklist for horizon tests,MERGED,2021-01-25 07:31:51.000000000,2021-01-26 02:16:36.000000000,2021-01-26 02:16:36.000000000,"[{'_account_id': 841}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 07:31:51.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7fe1d597175802ea581cb96e74ca5f1676496818', 'message': 'Update blacklist for horizon tests\n\nhorizon tests are moved in tempest repo with [1],\nso we need to update horizon tests regex to include\nthe new path.\n\n[1] https://review.opendev.org/771727\n\nChange-Id: I77ff23b92bf2c2268ea484edb725841b4a3024a6\n'}]",5,772253,7fe1d597175802ea581cb96e74ca5f1676496818,13,6,1,13861,,,0,"Update blacklist for horizon tests

horizon tests are moved in tempest repo with [1],
so we need to update horizon tests regex to include
the new path.

[1] https://review.opendev.org/771727

Change-Id: I77ff23b92bf2c2268ea484edb725841b4a3024a6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/772253/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,7fe1d597175802ea581cb96e74ca5f1676496818,merge-horizon-test," echo ""tempest.*.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-blacklist.txt EXCLUDES=""--black-regex=^tempest.*.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"""," echo ""tempest_horizon.tests.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-blacklist.txt EXCLUDES=""--black-regex=^tempest_horizon.tests.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration""",2,2
openstack%2Fcinder~stable%2Fvictoria~Ib198372bf3e125a88d607c71377c95a24ab584ad,openstack/cinder,stable/victoria,Ib198372bf3e125a88d607c71377c95a24ab584ad,Fixed an issue with creating a backup from snapshot with NFS volume driver.,MERGED,2020-12-02 14:56:38.000000000,2021-01-26 01:32:49.000000000,2021-01-26 01:31:15.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 21129}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29568}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-02 14:56:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/bug-1888951-backup-from-nfs-snapshot-2e06235eb318b852.yaml', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f04c9de3be7763ad716047bd9b76e599339e58b', 'message': 'Fixed an issue with creating a backup from snapshot with NFS volume driver.\n\nChange-Id: Ib198372bf3e125a88d607c71377c95a24ab584ad\nCloses-Bug: 1888951\n(cherry picked from commit a21bf41413b8e5b56c1a61460039ec7609f45042)\n'}]",0,765150,0f04c9de3be7763ad716047bd9b76e599339e58b,22,8,1,10459,,,0,"Fixed an issue with creating a backup from snapshot with NFS volume driver.

Change-Id: Ib198372bf3e125a88d607c71377c95a24ab584ad
Closes-Bug: 1888951
(cherry picked from commit a21bf41413b8e5b56c1a61460039ec7609f45042)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/765150/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/bug-1888951-backup-from-nfs-snapshot-2e06235eb318b852.yaml', 'cinder/volume/drivers/remotefs.py']",3,0f04c9de3be7763ad716047bd9b76e599339e58b,bug/1888951," status = snapshot.status acceptable_states = ['available', 'backing-up'] self._validate_state(status, acceptable_states, obj_description='snapshot', invalid_exc=exception.InvalidSnapshot)"," if snapshot.status != 'available': msg = _('Snapshot status must be ""available"" to clone. ' 'But is: %(status)s') % {'status': snapshot.status} raise exception.InvalidSnapshot(msg)",22,12
openstack%2Fcookbook-openstack-ops-database~master~I2f65f28802581184cd47e7c37d21dd71e97a2c3f,openstack/cookbook-openstack-ops-database,master,I2f65f28802581184cd47e7c37d21dd71e97a2c3f,fix gather data for data interface,MERGED,2021-01-25 10:12:57.000000000,2021-01-26 00:50:54.000000000,2021-01-26 00:50:54.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 10:12:57.000000000', 'files': ['recipes/mariadb-cluster-server.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/7190cf204c18a08aba04f5e769d513d65a5e3a27', 'message': 'fix gather data for data interface\n\n- get information from the actual node attributes instead of the\n  executing node\n\nChange-Id: I2f65f28802581184cd47e7c37d21dd71e97a2c3f\n'}]",0,772289,7190cf204c18a08aba04f5e769d513d65a5e3a27,10,2,1,19193,,,0,"fix gather data for data interface

- get information from the actual node attributes instead of the
  executing node

Change-Id: I2f65f28802581184cd47e7c37d21dd71e97a2c3f
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/89/772289/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/mariadb-cluster-server.rb'],1,7190cf204c18a08aba04f5e769d513d65a5e3a27,fix_mariadb_data_interface," bind_db_cluster_node = cluster_node['openstack']['bind_service']['db'] if bind_db_cluster_node['interface'].nil? Chef::Log.fatal('Need to specify interface to bind to.') raise end address = address_for bind_db_cluster_node['interface'], family, cluster_node"," address = address_for bind_db['interface'], family, cluster_node",6,1
openstack%2Fpatrole~master~I965d9e280ef0a85dfe6b2e4000eb47e1d06fed77,openstack/patrole,master,I965d9e280ef0a85dfe6b2e4000eb47e1d06fed77,Restore test user's original roles during clean up,MERGED,2021-01-13 02:04:43.000000000,2021-01-26 00:29:32.000000000,2021-01-26 00:27:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2021-01-13 02:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/1b012a1556831ddb30fcbbd64f945338dfc937c7', 'message': ""[WIP] Restore test user's original roles during clean up\n\nChange-Id: I965d9e280ef0a85dfe6b2e4000eb47e1d06fed77\n""}, {'number': 2, 'created': '2021-01-13 09:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/96b7ddee5d8591c9cf3bba5e5d55e632b403156c', 'message': ""[WIP] Restore test user's original roles during clean up\n\nChange-Id: I965d9e280ef0a85dfe6b2e4000eb47e1d06fed77\n""}, {'number': 3, 'created': '2021-01-15 21:43:18.000000000', 'files': ['patrole_tempest_plugin/tests/unit/test_rbac_utils.py', 'patrole_tempest_plugin/rbac_utils.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/b73e1088e01329684c0724081840af3870870f52', 'message': ""Restore test user's original roles during clean up\n\nDepends-On: https://review.opendev.org/c/openstack/patrole/+/770867\nChange-Id: I965d9e280ef0a85dfe6b2e4000eb47e1d06fed77\n""}]",0,770523,b73e1088e01329684c0724081840af3870870f52,18,4,3,6732,,,0,"Restore test user's original roles during clean up

Depends-On: https://review.opendev.org/c/openstack/patrole/+/770867
Change-Id: I965d9e280ef0a85dfe6b2e4000eb47e1d06fed77
",git fetch https://review.opendev.org/openstack/patrole refs/changes/23/770523/2 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/rbac_utils.py'],1,1b012a1556831ddb30fcbbd64f945338dfc937c7,restore-orig-roles," _orig_roles = [] def restore_roles(cls): LOG.info(""Restoring original roles %s"", cls._orig_roles) roles_already_present = cls._list_and_clear_user_roles_on_project( cls._orig_roles) if not roles_already_present: cls._create_user_role_on_project(cls._orig_roles) @classmethod # Store the user's original roles and rollback after testing. roles = cls.admin_roles_client.list_user_roles_on_project( cls._project_id, cls._user_id)['roles'] cls._orig_roles = [role['id'] for role in roles] cls.addClassResourceCleanup(cls.restore_roles) ",,17,0
openstack%2Fcinder~stable%2Fvictoria~Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084,openstack/cinder,stable/victoria,Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084,Tests: Fix rbd unit test failure due to ceph keyring file,MERGED,2021-01-07 14:53:27.000000000,2021-01-26 00:03:03.000000000,2021-01-25 23:59:20.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 14:53:27.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/80d072abba58f69bb00456e2066e212df2912736', 'message': 'Tests: Fix rbd unit test failure due to ceph keyring file\n\nThis test fails if /etc/ceph/ceph.client.admin.keyring\nexists.  Mock out isfile() to get the behavior the unit\ntest expects.\n\nCloses-Bug: #1909109\n\nChange-Id: Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084\n(cherry picked from commit d3f4c55593138fb415fb893d2124ac8baef6aeaa)\n'}]",0,769738,80d072abba58f69bb00456e2066e212df2912736,16,3,1,4523,,,0,"Tests: Fix rbd unit test failure due to ceph keyring file

This test fails if /etc/ceph/ceph.client.admin.keyring
exists.  Mock out isfile() to get the behavior the unit
test expects.

Closes-Bug: #1909109

Change-Id: Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084
(cherry picked from commit d3f4c55593138fb415fb893d2124ac8baef6aeaa)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/769738/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_rbd.py'],1,80d072abba58f69bb00456e2066e212df2912736,," with mock.patch('os.path.isfile', return_value=False): self.driver._set_keyring_attributes()", self.driver._set_keyring_attributes(),2,1
openstack%2Fcinder~stable%2Fvictoria~I7875d365bb73dd80ecbe30c4801599b6f781cc39,openstack/cinder,stable/victoria,I7875d365bb73dd80ecbe30c4801599b6f781cc39,Correct group:reset_group_snapshot_status policy,MERGED,2021-01-06 18:16:21.000000000,2021-01-26 00:01:31.000000000,2021-01-25 23:58:29.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-01-06 18:16:21.000000000', 'files': ['releasenotes/notes/bug-1908315-020fea3e244d49bb.yaml', 'cinder/policies/group_snapshot_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1941ecc6d4013ecfdf7e2d37fd87ffaa04d8a38d', 'message': 'Correct group:reset_group_snapshot_status policy\n\nThe default value for the group:reset_group_snapshot_status policy, which governs the Block Storage API call ""Reset group snapshot status""[0], was changed to admin-or-owner during refactoring for the\npolicy-in-code initiative in Queens [1].  Consensus at the Wallaby\nR-18 mid-cycle was that this change was a mistake that should be\ncorrected [2].\n\n[0] https://docs.openstack.org/api-ref/block-storage/v3/#reset-group-snapshot-status\n[1] https://review.opendev.org/c/openstack/cinder/+/507812\n[2] https://wiki.openstack.org/wiki/CinderWallabyMidCycleSummary#consistent_and_secure_policies\n\nChange-Id: I7875d365bb73dd80ecbe30c4801599b6f781cc39\nCloses-bug: #1908315\n(cherry picked from commit 1631742f43a2d1f60cf5ccee26dced1d542f2bf6)\n'}]",0,769587,1941ecc6d4013ecfdf7e2d37fd87ffaa04d8a38d,23,4,1,5314,,,0,"Correct group:reset_group_snapshot_status policy

The default value for the group:reset_group_snapshot_status policy, which governs the Block Storage API call ""Reset group snapshot status""[0], was changed to admin-or-owner during refactoring for the
policy-in-code initiative in Queens [1].  Consensus at the Wallaby
R-18 mid-cycle was that this change was a mistake that should be
corrected [2].

[0] https://docs.openstack.org/api-ref/block-storage/v3/#reset-group-snapshot-status
[1] https://review.opendev.org/c/openstack/cinder/+/507812
[2] https://wiki.openstack.org/wiki/CinderWallabyMidCycleSummary#consistent_and_secure_policies

Change-Id: I7875d365bb73dd80ecbe30c4801599b6f781cc39
Closes-bug: #1908315
(cherry picked from commit 1631742f43a2d1f60cf5ccee26dced1d542f2bf6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/769587/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1908315-020fea3e244d49bb.yaml', 'cinder/policies/group_snapshot_actions.py']",2,1941ecc6d4013ecfdf7e2d37fd87ffaa04d8a38d,bug/1908315-stable/victoria," check_str=base.RULE_ADMIN_API,"," check_str=base.RULE_ADMIN_OR_OWNER,",39,1
openstack%2Fneutron~master~Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012,openstack/neutron,master,Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012,Implement secure RBAC for the subnet API,MERGED,2020-12-03 23:04:21.000000000,2021-01-26 00:01:19.000000000,2021-01-25 23:58:19.000000000,"[{'_account_id': 1131}, {'_account_id': 2218}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b8df60b0ce470730b5df82f7e2c58e8c4699e59', 'message': 'Implement secure RBAC for the subnet API\n\nThis commit updates the subnet policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012\n'}, {'number': 2, 'created': '2020-12-08 09:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e39cc5a3d96aacea9447b518d6f101db9eb48c74', 'message': 'Implement secure RBAC for the subnet API\n\nThis commit updates the subnet policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012\n'}, {'number': 3, 'created': '2020-12-15 16:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8860a7a4b596b853b68e49491243bc6d3e71f30', 'message': 'Implement secure RBAC for the subnet API\n\nThis commit updates the subnet policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012\n'}, {'number': 4, 'created': '2020-12-17 12:58:13.000000000', 'files': ['neutron/conf/policies/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef063d623809b827bff9507f11e334648e32f7b6', 'message': 'Implement secure RBAC for the subnet API\n\nThis commit updates the subnet policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012\n'}]",3,765392,ef063d623809b827bff9507f11e334648e32f7b6,37,6,4,5046,,,0,"Implement secure RBAC for the subnet API

This commit updates the subnet policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Id795aa7c563a3f1f8beb8d1a8afb85a6f7d3f012
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/765392/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/subnet.py'],1,1b8df60b0ce470730b5df82f7e2c58e8c4699e59,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The subnet API now supports system scope and default roles. """"""deprecated_create_subnet = policy.DeprecatedRule( name='create_subnet', check_str=base.RULE_ADMIN_OR_NET_OWNER ) deprecated_create_subnet_segment_id = policy.DeprecatedRule( name='create_subnet:segment_id', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_subnet_service_types = policy.DeprecatedRule( name='create_subnet:service_types', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_subnet = policy.DeprecatedRule( name='get_subnet', check_str=base.policy_or( base.RULE_ADMIN_OR_OWNER, 'rule:shared') ) deprecated_get_subnet_segment_id = policy.DeprecatedRule( name='get_subnet:segment_id', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_subnet = policy.DeprecatedRule( name='update_subnet', check_str=base.RULE_ADMIN_OR_NET_OWNER ) deprecated_update_subnet_segment_id = policy.DeprecatedRule( name='update_subnet:segment_id', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_subnet_service_types = policy.DeprecatedRule( name='update_subnet:service_types', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_subnet = policy.DeprecatedRule( name='delete_subnet', check_str=base.RULE_ADMIN_OR_NET_OWNER ) name='create_subnet', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Create a subnet', operations=ACTION_POST, deprecated_rule=deprecated_create_subnet, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_subnet:segment_id', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=( 'Specify ``segment_id`` attribute when creating a subnet' ), operations=ACTION_POST, deprecated_rule=deprecated_create_subnet_segment_id, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_subnet:service_types', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=( 'Specify ``service_types`` attribute when creating a subnet' ), operations=ACTION_POST, deprecated_rule=deprecated_create_subnet_service_types, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_subnet', check_str=base.policy_or( base.SYSTEM_OR_PROJECT_READER, 'rule:shared'), scope_types=['system', 'project'], description='Get a subnet', operations=ACTION_GET, deprecated_rule=deprecated_get_subnet, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_subnet:segment_id', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get ``segment_id`` attribute of a subnet', operations=ACTION_GET, deprecated_rule=deprecated_get_subnet_segment_id, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_subnet', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Update a subnet', operations=ACTION_PUT, deprecated_rule=deprecated_update_subnet, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_subnet:segment_id', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update ``segment_id`` attribute of a subnet', operations=ACTION_PUT, deprecated_rule=deprecated_update_subnet_segment_id, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_subnet:service_types', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update ``service_types`` attribute of a subnet', operations=ACTION_PUT, deprecated_rule=deprecated_update_subnet_service_types, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_subnet', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Delete a subnet', operations=ACTION_DELETE, deprecated_rule=deprecated_delete_subnet, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'create_subnet', base.RULE_ADMIN_OR_NET_OWNER, 'Create a subnet', ACTION_POST 'create_subnet:segment_id', base.RULE_ADMIN_ONLY, 'Specify ``segment_id`` attribute when creating a subnet', ACTION_POST 'create_subnet:service_types', base.RULE_ADMIN_ONLY, 'Specify ``service_types`` attribute when creating a subnet', ACTION_POST 'get_subnet', base.policy_or(base.RULE_ADMIN_OR_OWNER, 'rule:shared'), 'Get a subnet', ACTION_GET 'get_subnet:segment_id', base.RULE_ADMIN_ONLY, 'Get ``segment_id`` attribute of a subnet', ACTION_GET 'update_subnet', base.RULE_ADMIN_OR_NET_OWNER, 'Update a subnet', ACTION_PUT 'update_subnet:segment_id', base.RULE_ADMIN_ONLY, 'Update ``segment_id`` attribute of a subnet', ACTION_PUT 'update_subnet:service_types', base.RULE_ADMIN_ONLY, 'Update ``service_types`` attribute of a subnet', ACTION_PUT 'delete_subnet', base.RULE_ADMIN_OR_NET_OWNER, 'Delete a subnet', ACTION_DELETE,",121,37
openstack%2Fcharm-deployment-guide~master~I4da5908874609eddd9f4372721feba644c49eb75,openstack/charm-deployment-guide,master,I4da5908874609eddd9f4372721feba644c49eb75,Fix minor grammatical typo,MERGED,2021-01-25 21:54:49.000000000,2021-01-25 23:44:36.000000000,2021-01-25 23:42:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-25 21:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ee371c7931710e4e05d3bffbce6978fad42ba7a2', 'message': 'fix minor grammatical typo\n\nChange-Id: I4da5908874609eddd9f4372721feba644c49eb75\n'}, {'number': 2, 'created': '2021-01-25 22:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f3fc7f142ebfa72c8fdf843bdf8206056e5f099c', 'message': 'Fix minor grammatical typo\n\nChange-Id: I4da5908874609eddd9f4372721feba644c49eb75\n'}, {'number': 3, 'created': '2021-01-25 23:27:53.000000000', 'files': ['deploy-guide/source/upgrade-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/cf8bf215055dfac81aee0960b7e849022ac0f13a', 'message': 'Fix minor grammatical typo\n\nChange-Id: I4da5908874609eddd9f4372721feba644c49eb75\n'}]",1,772447,cf8bf215055dfac81aee0960b7e849022ac0f13a,12,2,3,32803,,,0,"Fix minor grammatical typo

Change-Id: I4da5908874609eddd9f4372721feba644c49eb75
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/47/772447/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-charms.rst'],1,ee371c7931710e4e05d3bffbce6978fad42ba7a2,, A charm upgrade affects all corresponding units; per-unit upgrades are not, A charm upgrade affects all corresponding units; per-unit upgrades is not,1,1
openstack%2Fcinder~master~I87fb30b7faddf615d6df4401de444b9d9f7cb2e2,openstack/cinder,master,I87fb30b7faddf615d6df4401de444b9d9f7cb2e2,Update SolidFire Storage assisted migration in support-matrix,MERGED,2021-01-19 13:24:28.000000000,2021-01-25 23:13:10.000000000,2021-01-25 23:10:59.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-01-19 13:24:28.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1156c89c2fb37d68dc3eba5b2f453706facb3336', 'message': 'Update SolidFire Storage assisted migration in support-matrix\n\nStorage assisted volume migration for NetApp SolidFire driver was\nmerged in Victoria release cycle [1]. This patch updates the\nsupport-matrix to claim driver support to the feature.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/746941\n\nChange-Id: I87fb30b7faddf615d6df4401de444b9d9f7cb2e2\n'}]",0,771444,1156c89c2fb37d68dc3eba5b2f453706facb3336,26,3,1,30555,,,0,"Update SolidFire Storage assisted migration in support-matrix

Storage assisted volume migration for NetApp SolidFire driver was
merged in Victoria release cycle [1]. This patch updates the
support-matrix to claim driver support to the feature.

[1] https://review.opendev.org/c/openstack/cinder/+/746941

Change-Id: I87fb30b7faddf615d6df4401de444b9d9f7cb2e2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/771444/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.ini'],1,1156c89c2fb37d68dc3eba5b2f453706facb3336,,driver.netapp_solidfire=complete,driver.netapp_solidfire=missing,1,1
openstack%2Fkeystone~stable%2Fvictoria~I97a59aeda28e193f34f3c4d003ff7b90b9582e0f,openstack/keystone,stable/victoria,I97a59aeda28e193f34f3c4d003ff7b90b9582e0f,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-25 08:36:52.000000000,2021-01-25 23:13:01.000000000,2021-01-25 23:10:54.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/37660c6d9cfae02b8c30b32f165c07590bd66bd7', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I97a59aeda28e193f34f3c4d003ff7b90b9582e0f\n'}, {'number': 2, 'created': '2021-01-08 16:11:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/66594899804a34281a7a9c088d2aa39c7816ec7c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I97a59aeda28e193f34f3c4d003ff7b90b9582e0f\n'}]",0,754295,66594899804a34281a7a9c088d2aa39c7816ec7c,11,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I97a59aeda28e193f34f3c4d003ff7b90b9582e0f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/95/754295/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37660c6d9cfae02b8c30b32f165c07590bd66bd7,create-victoria,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fneutron~master~I68dcbb20cbbc5cc0b393e05a18abb173786adb29,openstack/neutron,master,I68dcbb20cbbc5cc0b393e05a18abb173786adb29,Mark fullstack test_min_bw_qos_port_removed as unstable,ABANDONED,2021-01-14 09:23:47.000000000,2021-01-25 22:46:24.000000000,,[{'_account_id': 21798}],"[{'number': 1, 'created': '2021-01-14 09:23:47.000000000', 'files': ['neutron/tests/fullstack/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa94eb4e245a54ee667c254883e01229c6dbc069', 'message': 'Mark fullstack test_min_bw_qos_port_removed as unstable\n\nChange-Id: I68dcbb20cbbc5cc0b393e05a18abb173786adb29\nRelated-Bug: #1911643\n'}]",0,770763,aa94eb4e245a54ee667c254883e01229c6dbc069,4,1,1,11975,,,0,"Mark fullstack test_min_bw_qos_port_removed as unstable

Change-Id: I68dcbb20cbbc5cc0b393e05a18abb173786adb29
Related-Bug: #1911643
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/770763/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_qos.py'],1,aa94eb4e245a54ee667c254883e01229c6dbc069,bug/1911643,"from neutron.tests import base as tests_base @tests_base.unstable_test(""bug 1911643"")",,2,0
openstack%2Fcharm-deployment-guide~master~I61d2eabadd76c86fa63b49c6b7552bcb1ee20d67,openstack/charm-deployment-guide,master,I61d2eabadd76c86fa63b49c6b7552bcb1ee20d67,Redirect links for config-openstack,MERGED,2021-01-05 19:19:49.000000000,2021-01-25 22:45:42.000000000,2021-01-25 22:44:29.000000000,"[{'_account_id': 8992}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 19:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/eb20b0941faf2e7fff58e6d5b2a0935c0685557f', 'message': ""Add text HTTP redirect\n\nEach '[^/]+' represents one component in the guide\nURLs under the main domain. There are three of them.\nFor version 'victoria':\n\ndocs.openstack.org\n   project-deploy-guide (1)\n      charm-deployment-guide (2)\n         victoria (3)\n\nChange-Id: I61d2eabadd76c86fa63b49c6b7552bcb1ee20d67\n""}, {'number': 2, 'created': '2021-01-05 19:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6e1e87fae2b83a4d7bd671af3604b227c0b7e7ba', 'message': ""Add test HTTP redirect\n\nEach '[^/]+' represents one component in the guide\nURLs under the main domain. There are three of them.\nFor version 'victoria':\n\ndocs.openstack.org\n   project-deploy-guide (1)\n      charm-deployment-guide (2)\n         victoria (3)\n\nChange-Id: I61d2eabadd76c86fa63b49c6b7552bcb1ee20d67\n""}, {'number': 3, 'created': '2021-01-25 22:25:27.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'requirements.txt', 'deploy-guide/test/redirect-tests.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8c9c623b76c784209c7d1d806914e520eefae12b', 'message': 'Redirect links for config-openstack\n\nAdds a redirect capabilities for the charm-deployment-guide for the\nconfig-openstack.html to configure-openstack.html renaming. This also\nadds whereto testing in order to validate and confirm that the redirect\nlinks are working as intended.\n\nNote, this will redirect the user from the config-openstack.html for any\nof the release names. This may result in a 404 not found if an older\nrelease is being accessed since the renaming/refactoring will not be\nbackported.\n\nCo-Authored-By: Peter Matulis <peter.matulis@canonical.com>\nCo-Authored-By: Billy Olsen <billy.olsen@canonical.com>\n\nChange-Id: I61d2eabadd76c86fa63b49c6b7552bcb1ee20d67\n'}]",0,769415,8c9c623b76c784209c7d1d806914e520eefae12b,10,3,3,30561,,,0,"Redirect links for config-openstack

Adds a redirect capabilities for the charm-deployment-guide for the
config-openstack.html to configure-openstack.html renaming. This also
adds whereto testing in order to validate and confirm that the redirect
links are working as intended.

Note, this will redirect the user from the config-openstack.html for any
of the release names. This may result in a 404 not found if an older
release is being accessed since the renaming/refactoring will not be
backported.

Co-Authored-By: Peter Matulis <peter.matulis@canonical.com>
Co-Authored-By: Billy Olsen <billy.olsen@canonical.com>

Change-Id: I61d2eabadd76c86fa63b49c6b7552bcb1ee20d67
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/15/769415/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/_extra/.htaccess'],1,eb20b0941faf2e7fff58e6d5b2a0935c0685557f,cdg-reorg,# Redirects related to gerrit topic 'cdg-reorg' RedirectMatch 301 ^/([^/]+/[^/]+/[^/]+)/config-openstack.html /$1/configure-openstack.html,Redirect 301 /config-openstack.html /configure-openstack.html,2,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ic6816fa647653baf8297dc62cdd99ee522b86535,openstack/tripleo-ansible,stable/victoria,Ic6816fa647653baf8297dc62cdd99ee522b86535,Opens ports to NFS server's firewalld,MERGED,2021-01-25 11:50:17.000000000,2021-01-25 22:39:13.000000000,2021-01-25 22:39:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 11:50:17.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/596c99e053f3a0ecf0f641bdbe3fb4c8108f7eb1', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n(cherry picked from commit 079d4221a58f9f9592e423d42323b0a0d80e58a4)\n""}]",0,772227,596c99e053f3a0ecf0f641bdbe3fb4c8108f7eb1,9,3,1,32968,,,0,"Opens ports to NFS server's firewalld

If the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server
while performing the backup and/or restore, and subsequently the action fails and the
openstack-ansible playbook stops running.

This change checks whether the server chosen to be NFS server has firewalld running, and implies that
if it is running, the operator must declare the firewalld zone where the ports must be opened.

Closes-Bug: #1912366
Change-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535
(cherry picked from commit 079d4221a58f9f9592e423d42323b0a0d80e58a4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/772227/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,596c99e053f3a0ecf0f641bdbe3fb4c8108f7eb1,bar_open_nfs_ports-stable/victoria," # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt""",,35,0
openstack%2Fkolla~master~Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7,openstack/kolla,master,Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7,Remove zaqar image and related plugins,MERGED,2021-01-14 08:28:55.000000000,2021-01-25 22:35:38.000000000,2021-01-25 22:33:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-14 08:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4aa25ee56ea75fcb1e68346446c2a017a349bbcc', 'message': 'Remove zaqar image and related plugins\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7\n'}, {'number': 2, 'created': '2021-01-14 09:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e08d8154eb265c157a40d14c5d96052bbc7aa893', 'message': 'Remove zaqar image and related plugins\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7\n'}, {'number': 3, 'created': '2021-01-15 17:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/420fe520ce4fded55d899416c35d4b9b012ea672', 'message': 'Remove zaqar image and related plugins\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7\n'}, {'number': 4, 'created': '2021-01-25 15:10:44.000000000', 'files': ['releasenotes/notes/remove-zaqar-image-de36960a88f132c8.yaml', 'README.rst', 'docker/horizon/extend_start.sh', 'docker/zaqar/zaqar-server/Dockerfile.j2', 'tools/version-check.py', 'kolla/common/config.py', 'docker/horizon/Dockerfile.j2', 'docker/zaqar/zaqar-wsgi/Dockerfile.j2', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'docker/zaqar/zaqar-wsgi/extend_start.sh', 'doc/source/matrix_aarch64.csv', 'docker/zaqar/zaqar-base/extend_start.sh', 'roles/kolla-build-config/defaults/main.yml', 'docker/zaqar/zaqar-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0028073ebbe5335847ebaa720122962e494a478a', 'message': 'Remove zaqar image and related plugins\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7\n'}]",0,770757,0028073ebbe5335847ebaa720122962e494a478a,32,4,4,167,,,0,"Remove zaqar image and related plugins

Signed-off-by: Christian Berendt <berendt@betacloud-solutions.de>
Change-Id: Id3187b2b95e9b9bd3d9233a498f7c45e66c604c7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/770757/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-zaqar-image-de36960a88f132c8.yaml', 'README.rst', 'docker/horizon/extend_start.sh', 'docker/zaqar/zaqar-server/Dockerfile.j2', 'tools/version-check.py', 'kolla/common/config.py', 'docker/horizon/Dockerfile.j2', 'docker/zaqar/zaqar-wsgi/Dockerfile.j2', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'docker/zaqar/zaqar-wsgi/extend_start.sh', 'doc/source/matrix_aarch64.csv', 'docker/zaqar/zaqar-base/extend_start.sh', 'roles/kolla-build-config/defaults/main.yml', 'docker/zaqar/zaqar-base/Dockerfile.j2']",15,4aa25ee56ea75fcb1e68346446c2a017a349bbcc,feat/remove-zaqar-image,,"FROM {{ namespace }}/{{ image_prefix }}openstack-base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block zaqar_base_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {{ macros.configure_user(name='zaqar') }} {% if install_type == 'binary' %} {% if base_package_type == 'rpm' %} {% set zaqar_base_packages = [ 'openstack-zaqar', ] %} {{ macros.install_packages(zaqar_base_packages | customizable(""packages"")) }} \ && mkdir -p /var/www/cgi-bin/zaqar \ && chown -R zaqar: /var/www/cgi-bin/zaqar \ && cp -a /usr/lib/python{{ distro_python_version }}/site-packages/zaqar/transport/wsgi/app.py /var/www/cgi-bin/zaqar/ {% elif base_package_type == 'deb' %} {% set zaqar_base_packages = [ 'zaqar-common', ] %} {{ macros.install_packages(zaqar_base_packages | customizable(""packages"")) }} \ && mkdir -p /var/www/cgi-bin/zaqar \ && chown -R zaqar: /var/www/cgi-bin/zaqar \ && cp -a /usr/lib/python3/dist-packages/zaqar/transport/wsgi/app.py /var/www/cgi-bin/zaqar/ {% endif %} {% elif install_type == 'source' %} {% if base_package_type == 'rpm' %} {% set zaqar_base_packages = [ ] %} {{ macros.install_packages(zaqar_base_packages | customizable(""packages"")) }} {% elif base_package_type == 'deb' %} {% set zaqar_base_packages = [ ] %} {{ macros.install_packages(zaqar_base_packages | customizable(""packages"")) }} {% endif %} {% set zaqar_base_pip_packages = [ 'pymongo', '/zaqar', 'gevent' ] %} ADD zaqar-base-archive /zaqar-base-source RUN ln -s zaqar-base-source/* zaqar \ && {{ macros.install_pip(zaqar_base_pip_packages | customizable(""pip_packages"")) }} \ && mkdir -p /etc/zaqar /var/lib/zaqar /var/www/cgi-bin/zaqar \ && cp -r /zaqar/etc/* /etc/zaqar/ \ && cp /zaqar/zaqar/transport/wsgi/app.py /var/www/cgi-bin/zaqar \ && chown -R zaqar: /etc/zaqar /var/lib/zaqar /var/www/cgi-bin/zaqar {% endif %} COPY extend_start.sh /usr/local/bin/kolla_extend_start RUN touch /usr/local/bin/kolla_zaqar_extend_start \ && chmod 755 /var/www/cgi-bin/zaqar \ && chmod 755 /usr/local/bin/kolla_extend_start /usr/local/bin/kolla_zaqar_extend_start {% block zaqar_base_footer %}{% endblock %} ",3,164
openstack%2Fkolla~master~I644e072a699dccd8f32a24e484ff6dab7b9b449d,openstack/kolla,master,I644e072a699dccd8f32a24e484ff6dab7b9b449d,Horizon: gentler `-o nounset` handling,MERGED,2021-01-13 10:12:13.000000000,2021-01-25 22:21:50.000000000,2021-01-25 22:17:57.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-13 10:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8371f097976b66bb78b776b4bb83d40a05490df3', 'message': ""Horizon: gentler `-o nounset` handling\n\nWhen running with `-o nounset` since [1], the Horizon became quite\nfragile to run as it started requiring all ENABLE_* environment\nvariables to be set upfront. Normally they are - via kolla-ansible.\nHowever, when working with it outside of kolla-ansible or removing\nservices (like it was the case 3 times during the Wallaby cycle),\nit creates needless issues (like having to wait for images to get\npublished for kolla-ansible gate or users bumping into irrelevant\nincompatibilities [2]).\n\nThis patch makes sure all ENABLE_* environment variables default\nto 'no' and are no longer required to be set when there is no\nneed to set them to 'yes'.\n\n[1] 032804e5a0ddf89f7726880d1b57dd492d7d5c07\n[2] https://bugs.launchpad.net/kolla/+bug/1911141\n\nChange-Id: I644e072a699dccd8f32a24e484ff6dab7b9b449d\n""}, {'number': 2, 'created': '2021-01-15 17:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38ccdf215f0ac949a204b231959762bf5a6c313c', 'message': ""Horizon: gentler `-o nounset` handling\n\nWhen running with `-o nounset` since [1], the Horizon became quite\nfragile to run as it started requiring all ENABLE_* environment\nvariables to be set upfront. Normally they are - via kolla-ansible.\nHowever, when working with it outside of kolla-ansible or removing\nservices (like it was the case 3 times during the Wallaby cycle),\nit creates needless issues (like having to wait for images to get\npublished for kolla-ansible gate or users bumping into irrelevant\nincompatibilities [2]).\n\nThis patch makes sure all ENABLE_* environment variables default\nto 'no' and are no longer required to be set when there is no\nneed to set them to 'yes'.\n\n[1] 032804e5a0ddf89f7726880d1b57dd492d7d5c07\n[2] https://bugs.launchpad.net/kolla/+bug/1911141\n\nChange-Id: I644e072a699dccd8f32a24e484ff6dab7b9b449d\n""}, {'number': 3, 'created': '2021-01-25 15:08:12.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/48e6309926f42b46369a7c06cc9f81e9188da802', 'message': ""Horizon: gentler `-o nounset` handling\n\nWhen running with `-o nounset` since [1], the Horizon became quite\nfragile to run as it started requiring all ENABLE_* environment\nvariables to be set upfront. Normally they are - via kolla-ansible.\nHowever, when working with it outside of kolla-ansible or removing\nservices (like it was the case 3 times during the Wallaby cycle),\nit creates needless issues (like having to wait for images to get\npublished for kolla-ansible gate or users bumping into irrelevant\nincompatibilities [2]).\n\nThis patch makes sure all ENABLE_* environment variables default\nto 'no' and are no longer required to be set when there is no\nneed to set them to 'yes'.\n\n[1] 032804e5a0ddf89f7726880d1b57dd492d7d5c07\n[2] https://bugs.launchpad.net/kolla/+bug/1911141\n\nChange-Id: I644e072a699dccd8f32a24e484ff6dab7b9b449d\n""}]",2,770566,48e6309926f42b46369a7c06cc9f81e9188da802,31,7,3,30491,,,0,"Horizon: gentler `-o nounset` handling

When running with `-o nounset` since [1], the Horizon became quite
fragile to run as it started requiring all ENABLE_* environment
variables to be set upfront. Normally they are - via kolla-ansible.
However, when working with it outside of kolla-ansible or removing
services (like it was the case 3 times during the Wallaby cycle),
it creates needless issues (like having to wait for images to get
published for kolla-ansible gate or users bumping into irrelevant
incompatibilities [2]).

This patch makes sure all ENABLE_* environment variables default
to 'no' and are no longer required to be set when there is no
need to set them to 'yes'.

[1] 032804e5a0ddf89f7726880d1b57dd492d7d5c07
[2] https://bugs.launchpad.net/kolla/+bug/1911141

Change-Id: I644e072a699dccd8f32a24e484ff6dab7b9b449d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/66/770566/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,8371f097976b66bb78b776b4bb83d40a05490df3,horizon-gentler-nounset-handling," config_dashboard ""${ENABLE_BLAZAR:-no}"" \ config_dashboard ""${ENABLE_CLOUDKITTY:-no}"" \ config_dashboard ""${ENABLE_DESIGNATE:-no}"" \ config_dashboard ""${ENABLE_FREEZER:-no}"" \ config_dashboard ""${ENABLE_HEAT:-no}"" \ config_dashboard ""${ENABLE_HEAT:-no}"" \ config_dashboard ""${ENABLE_IRONIC:-no}"" \ config_dashboard ""${ENABLE_MAGNUM:-no}"" \ config_dashboard ""${ENABLE_MANILA:-no}"" \ config_dashboard ""${ENABLE_MASAKARI:-no}"" \ config_dashboard ""${ENABLE_MASAKARI:-no}""\ config_dashboard ""${ENABLE_MASAKARI:-no}""\ config_dashboard ""${ENABLE_MONASCA:-no}"" \ config_dashboard ""${ENABLE_MONASCA:-no}"" \ config_dashboard ""${ENABLE_MURANO:-no}"" \ config_dashboard ""${ENABLE_MURANO:-no}""\ config_dashboard ""${ENABLE_MURANO:-no}""\ config_dashboard ""${ENABLE_MISTRAL:-no}"" \ config_dashboard ""${ENABLE_NEUTRON:-no_VPNAAS}"" \ config_dashboard ""${ENABLE_OCTAVIA:-no}"" \ config_dashboard ""${ENABLE_SAHARA:-no}"" \ config_dashboard ""${ENABLE_SENLIN:-no}"" \ config_dashboard ""${ENABLE_SENLIN:-no}"" \ config_dashboard ""${ENABLE_SOLUM:-no}"" \ config_dashboard ""${ENABLE_TACKER:-no}"" \ config_dashboard ""${ENABLE_TROVE:-no}"" \ config_dashboard ""${ENABLE_VITRAGE:-no}"" \ config_dashboard ""${ENABLE_WATCHER:-no}"" \ config_dashboard ""${ENABLE_WATCHER:-no}"" \ config_dashboard ""${ENABLE_ZAQAR:-no}"" \ config_dashboard ""${ENABLE_ZUN:-no}"" \"," config_dashboard ""${ENABLE_BLAZAR}"" \ config_dashboard ""${ENABLE_CLOUDKITTY}"" \ config_dashboard ""${ENABLE_DESIGNATE}"" \ config_dashboard ""${ENABLE_FREEZER}"" \ config_dashboard ""${ENABLE_HEAT}"" \ config_dashboard ""${ENABLE_HEAT}"" \ config_dashboard ""${ENABLE_IRONIC}"" \ config_dashboard ""${ENABLE_MAGNUM}"" \ config_dashboard ""${ENABLE_MANILA}"" \ config_dashboard ""${ENABLE_MASAKARI}"" \ config_dashboard ""${ENABLE_MASAKARI}""\ config_dashboard ""${ENABLE_MASAKARI}""\ config_dashboard ""${ENABLE_MONASCA}"" \ config_dashboard ""${ENABLE_MONASCA}"" \ config_dashboard ""${ENABLE_MURANO}"" \ config_dashboard ""${ENABLE_MURANO}""\ config_dashboard ""${ENABLE_MURANO}""\ config_dashboard ""${ENABLE_MISTRAL}"" \ config_dashboard ""${ENABLE_NEUTRON_VPNAAS}"" \ config_dashboard ""${ENABLE_OCTAVIA}"" \ config_dashboard ""${ENABLE_SAHARA}"" \ config_dashboard ""${ENABLE_SENLIN}"" \ config_dashboard ""${ENABLE_SENLIN}"" \ config_dashboard ""${ENABLE_SOLUM}"" \ config_dashboard ""${ENABLE_TACKER}"" \ config_dashboard ""${ENABLE_TROVE}"" \ config_dashboard ""${ENABLE_VITRAGE}"" \ config_dashboard ""${ENABLE_WATCHER}"" \ config_dashboard ""${ENABLE_WATCHER}"" \ # NOTE(yoctozepto): Kolla-Ansible does not control Zaqar and therefore # does not set ENABLE_ZAQAR; the workaround below ensures it gets set to # `no` in that case to fix this code under `set -o nounset`. ENABLE_ZAQAR=${ENABLE_ZAQAR-no} config_dashboard ""${ENABLE_ZAQAR}"" \ config_dashboard ""${ENABLE_ZUN}"" \",31,36
openstack%2Fkolla~master~I01cf3635814255f682d6bd161cf1d985d92a9a31,openstack/kolla,master,I01cf3635814255f682d6bd161cf1d985d92a9a31,"implement ""allowed to fail"" images",MERGED,2020-12-07 13:27:07.000000000,2021-01-25 22:20:17.000000000,2021-01-25 22:17:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-12-07 13:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c30c80ad1fc3158ec1db7cc3f51b3d6f888608d6', 'message': ""WIP: implement tier 2 images\n\nSometimes we have images failing. Not always we care about them. So let\ncall them 'tier 2 images' and stop caring do they build or not.\n\nWIP:\n- added 'test' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n""}, {'number': 2, 'created': '2020-12-07 13:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2711183546a108270111806e31f0d01dc5c7884', 'message': ""WIP: implement tier 2 images\n\nSometimes we have images failing. Not always we care about them. So let\ncall them 'tier 2 images' and stop caring do they build or not.\n\nWIP:\n- added 'test' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n""}, {'number': 3, 'created': '2020-12-07 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/deb8ef969166b00773d845eede2682d37b324ba8', 'message': ""WIP: implement tier 2 images\n\nSometimes we have images failing. Not always we care about them. So let\ncall them 'tier 2 images' and stop caring do they build or not.\n\nWIP:\n- added 'test' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n""}, {'number': 4, 'created': '2020-12-07 15:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/be09c0e4172a8b59c0f9d8089aceb6daeb0851de', 'message': ""WIP: implement tier 2 images\n\nSometimes we have images failing. Not always we care about them. So let\ncall them 'tier 2 images' and stop caring do they build or not.\n\nWIP:\n- added 'test' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n""}, {'number': 5, 'created': '2020-12-11 12:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/28bf15ee52e5295a5c5caf946593df68b7c46690', 'message': ""WIP: implement tier 2 images\n\nSometimes we have images failing. Not always we care about them. So let\ncall them 'tier 2 images' and stop caring do they build or not.\n\nWIP:\n- added 'test' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n""}, {'number': 6, 'created': '2021-01-12 14:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/052809a327232fefc973bb15dd39259f2105426a', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 7, 'created': '2021-01-12 16:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/859a85c0eee4be29de5aaf2ed82ad1e334207bc4', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 8, 'created': '2021-01-13 10:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/caed14d238ca1c7bfadb0de60191dcc064340272', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 9, 'created': '2021-01-14 12:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9fb2b8bf572e9d8a7729d4301c3d43fe33df6260', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 10, 'created': '2021-01-14 20:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eed1c2a6478f9b5393609335bff635b1278a9657', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 11, 'created': '2021-01-15 11:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e8b8c4c11db2d78c291b822c27c10afd7823753', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 12, 'created': '2021-01-16 11:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7f699540a37e3dcbac4b187cd72cb30b7da5cca0', 'message': 'WIP: implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nWIP:\n- added \'test\' image which should fail and be ignored\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 13, 'created': '2021-01-18 12:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/92ed215d52c6c4d62074a2561a45a8abd2b039d6', 'message': 'implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}, {'number': 14, 'created': '2021-01-20 16:01:50.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/allowed-to-fail-e2ff5bf61c857b55.yaml', 'kolla/common/config.py', 'kolla/cmd/build.py', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a69f38198a0eff7576afff672f5496c27e520092', 'message': 'implement ""allowed to fail"" images\n\nSometimes we have images failing. Not always we care about them. So let\nallow them to fail and stop caring do they build or not.\n\nChange-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31\n'}]",14,765807,a69f38198a0eff7576afff672f5496c27e520092,63,7,14,24072,,,0,"implement ""allowed to fail"" images

Sometimes we have images failing. Not always we care about them. So let
allow them to fail and stop caring do they build or not.

Change-Id: I01cf3635814255f682d6bd161cf1d985d92a9a31
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/765807/7 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/test/Dockerfile.j2', 'kolla/cmd/build.py']",3,c30c80ad1fc3158ec1db7cc3f51b3d6f888608d6,," skipped_results, unbuildable_results, tier2_results) = statuses"," skipped_results, unbuildable_results) = statuses",52,8
openstack%2Fneutron~master~I0ecbaf6f6e0b5b6b538956f2b47e7f11ce21341b,openstack/neutron,master,I0ecbaf6f6e0b5b6b538956f2b47e7f11ce21341b,[fullstack] Be able to delete port when fake VM is destroyed,MERGED,2021-01-12 18:00:10.000000000,2021-01-25 21:51:16.000000000,2021-01-16 12:27:50.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 18:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a814ba4c8cf693a137baf1f8d4909d57a27f57ed', 'message': '[fullstack] Send port deletion command when VM destroy\n\nWhen a VM fixture is destroyed, the port is now deleted from the\nserver. That will update the ML2 plugin cache. When the port is\nactually deleted from the system, the ML2 agent should detect it\nand trigger the deletion process.\n\nChange-Id: I0ecbaf6f6e0b5b6b538956f2b47e7f11ce21341b\nCloses-Bug: #1909234\n'}, {'number': 2, 'created': '2021-01-13 16:42:47.000000000', 'files': ['neutron/tests/fullstack/resources/machine.py', 'neutron/tests/fullstack/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a204f63e92b570d0ff872e3cb47555abd6174b2', 'message': '[fullstack] Be able to delete port when fake VM is destroyed\n\nWhen a VM fixture is destroyed, the port now can be deleted instead\nof unbinding it. That will update the ML2 plugin cache. When the port\nis actually deleted from the system, the ML2 agent should detect it\nand trigger the deletion process.\n\nChange-Id: I0ecbaf6f6e0b5b6b538956f2b47e7f11ce21341b\nCloses-Bug: #1909234\n'}]",0,770458,7a204f63e92b570d0ff872e3cb47555abd6174b2,27,5,2,16688,,,0,"[fullstack] Be able to delete port when fake VM is destroyed

When a VM fixture is destroyed, the port now can be deleted instead
of unbinding it. That will update the ML2 plugin cache. When the port
is actually deleted from the system, the ML2 agent should detect it
and trigger the deletion process.

Change-Id: I0ecbaf6f6e0b5b6b538956f2b47e7f11ce21341b
Closes-Bug: #1909234
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/770458/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/resources/machine.py'],1,a814ba4c8cf693a137baf1f8d4909d57a27f57ed,bug/1909234, self.safe_client.client.delete_port(self.neutron_port['id'])," self.safe_client.client.update_port( self.neutron_port['id'], {'port': {pbs.HOST_ID: ''}} )",1,4
openstack%2Ftripleo-heat-templates~master~I6266fdd952fc7b9c589d02826926015ac5df98ef,openstack/tripleo-heat-templates,master,I6266fdd952fc7b9c589d02826926015ac5df98ef,DNM: Don't run c-vol under pcmk to test TCIB change,ABANDONED,2021-01-07 14:20:12.000000000,2021-01-25 21:46:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 14:20:12.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75a8c21185fe516cdd55854c7a0a8e6c72fb2668', 'message': ""DNM: Don't run c-vol under pcmk to test TCIB change\n\nChange-Id: I6266fdd952fc7b9c589d02826926015ac5df98ef\nDepends-On: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b\n""}]",0,769734,75a8c21185fe516cdd55854c7a0a8e6c72fb2668,4,2,1,21129,,,0,"DNM: Don't run c-vol under pcmk to test TCIB change

Change-Id: I6266fdd952fc7b9c589d02826926015ac5df98ef
Depends-On: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/769734/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,75a8c21185fe516cdd55854c7a0a8e6c72fb2668,, OS::TripleO::Services::CinderVolume: ../../deployment/cinder/cinder-volume-container-puppet.yaml, OS::TripleO::Services::CinderVolume: ../../deployment/cinder/cinder-volume-pacemaker-puppet.yaml,1,1
openstack%2Fpython-tripleoclient~master~I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f,openstack/python-tripleoclient,master,I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f,Add routes and MTU to ctlplane attrs for standalone,MERGED,2021-01-07 11:08:12.000000000,2021-01-25 21:34:09.000000000,2021-01-22 11:00:41.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-07 11:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f304dd8beeeb4b891d077e838b0065f828acde42', 'message': 'Add routes and MTU to ctlplane attrs for standalone\n\nAdds the InterfaceLocalMtu and ControlPlaneStaticRoutes\nvalues to the ctlplane network attributes for standalone.\n\nAddresses follow up for:\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py\n\nChange-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f\n'}, {'number': 2, 'created': '2021-01-07 14:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df93bf883030ae1b354575b323628694a46dbc1c', 'message': 'Add routes and MTU to ctlplane attrs for standalone\n\nAdds the InterfaceLocalMtu and ControlPlaneStaticRoutes\nvalues to the ctlplane network attributes for standalone.\n\nAddresses follow up for:\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py\n\nChange-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f\n'}, {'number': 3, 'created': '2021-01-11 18:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e670595b13a6a8d1eb5adafe65587abc2456a94', 'message': 'Add routes and MTU to ctlplane attrs for standalone\n\nAdds the InterfaceLocalMtu and ControlPlaneStaticRoutes\nvalues to the ctlplane network attributes for standalone.\n\nAddresses follow up for:\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py\n\nChange-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f\n'}, {'number': 4, 'created': '2021-01-11 19:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9393fce0c371598572eeea114ed23cb51717444e', 'message': 'Add routes and MTU to ctlplane attrs for standalone\n\nAdds the InterfaceLocalMtu and ControlPlaneStaticRoutes\nvalues to the ctlplane network attributes for standalone.\n\nAddresses follow up for:\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py\n\nChange-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f\n'}, {'number': 5, 'created': '2021-01-12 08:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af24c7b1f3faa116cbe6d7630c4dbe3ac110306b', 'message': 'Add routes and MTU to ctlplane attrs for standalone\n\nAdds the InterfaceLocalMtu and ControlPlaneStaticRoutes\nvalues to the ctlplane network attributes for standalone.\n\nAddresses follow up for:\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py\n\nChange-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f\n'}, {'number': 6, 'created': '2021-01-12 15:48:47.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b90f16d11ee27db9c132706a3b276fa0527e6aa9', 'message': 'Add routes and MTU to ctlplane attrs for standalone\n\nAdds the InterfaceLocalMtu and ControlPlaneStaticRoutes\nvalues to the ctlplane network attributes for standalone.\n\nAddresses follow up for:\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py\n\nChange-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f\n'}]",2,769709,b90f16d11ee27db9c132706a3b276fa0527e6aa9,21,4,6,24245,,,0,"Add routes and MTU to ctlplane attrs for standalone

Adds the InterfaceLocalMtu and ControlPlaneStaticRoutes
values to the ctlplane network attributes for standalone.

Addresses follow up for:
https://review.opendev.org/c/openstack/python-tripleoclient/+/753195/8/tripleoclient/v1/tripleo_deploy.py

Change-Id: I8ceb178ed1e86bd6f2fd3a294fb6251a8dc9201f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/769709/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,f304dd8beeeb4b891d077e838b0065f828acde42,fix-standalone-single-nic," def _load_user_params(self, user_environments): user_params = {} for env_file in user_environments: with open(env_file, 'r') as f: data = yaml.safe_load(f.read()) for k, v in data.get('parameter_defaults', {}).items(): user_params[k] = v return user_params user_params = self._load_user_params(user_environments) host_routes = user_params.get('ControlPlaneStaticRoutes', []) mtu = user_params.get('InterfaceLocalMtu', 1500) 'host_routes': host_routes, 'mtu': mtu,", 'host_routes': [],16,1
openstack%2Fswift~master~I6066b9244202969bfe93cfdf0e96aa0444d84059,openstack/swift,master,I6066b9244202969bfe93cfdf0e96aa0444d84059,Fix pip install on centos7/py27,ABANDONED,2021-01-25 17:40:12.000000000,2021-01-25 21:33:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-25 17:40:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/f8a3393f4fe0c85ba3fbab0cdbc49060cebf458b', 'message': 'Fix pip install on centos7/py27\n\nChange-Id: I6066b9244202969bfe93cfdf0e96aa0444d84059\n'}]",0,772387,f8a3393f4fe0c85ba3fbab0cdbc49060cebf458b,3,1,1,15343,,,0,"Fix pip install on centos7/py27

Change-Id: I6066b9244202969bfe93cfdf0e96aa0444d84059
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/772387/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f8a3393f4fe0c85ba3fbab0cdbc49060cebf458b,, vars: ensure_pip_from_upstream_url: https://bootstrap.pypa.io/2.7/get-pip.py parent: swift-probetests-centos-8 ensure_pip_from_upstream_url: https://bootstrap.pypa.io/2.7/get-pip.py - job: name: swift-probetests-centos-8 parent: unittests nodeset: centos-8 description: | Setup a SAIO dev environment and run Swift's probe tests under Python 3. timeout: 7200 vars: bindep_profile: test py36, parent: unittests timeout: 7200- job: name: swift-probetests-centos-8 parent: swift-probetests-centos-7 nodeset: centos-8 description: | Setup a SAIO dev environment and run Swift's probe tests under Python 3. vars: bindep_profile: test py36 ,15,12
openstack%2Fpython-tripleoclient~master~I4000638be5ec5e95b36e38f1a93ceb5cf2851905,openstack/python-tripleoclient,master,I4000638be5ec5e95b36e38f1a93ceb5cf2851905,Removing deprecated arguments for node delete,MERGED,2020-12-24 05:16:35.000000000,2021-01-25 21:25:13.000000000,2021-01-25 21:23:35.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29268}]","[{'number': 1, 'created': '2020-12-24 05:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c5b5a6f4b1486dd3f5426cf56fb08d12e5fb9668', 'message': ""Removing the environment for node delete\n\nThe switches have been deprecated for a while, at least newton, it's\ntime to remove them because it causes confusion to our user.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1909347\nChange-Id: I4000638be5ec5e95b36e38f1a93ceb5cf2851905\n""}, {'number': 2, 'created': '2020-12-28 15:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cbd8be6e669f83d6e1384471eafb79587b33b234', 'message': ""Removing deprecated arguments for node delete\n\nThe `-e` and `--templates ` switches have been deprecated for a while, at least\nsince newton, it's time to remove them because it causes confusion to\noperators.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1909347\nChange-Id: I4000638be5ec5e95b36e38f1a93ceb5cf2851905\n""}, {'number': 3, 'created': '2020-12-28 22:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3c4dcf2b2894331cd4a5c0f06eb4e3c57f0ad037', 'message': ""Removing deprecated arguments for node delete\n\nThe `-e` and `--templates ` switches have been deprecated for a while, at least\nsince newton, it's time to remove them because it causes confusion to\noperators.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1909347\nChange-Id: I4000638be5ec5e95b36e38f1a93ceb5cf2851905\n""}, {'number': 4, 'created': '2021-01-04 16:06:40.000000000', 'files': ['releasenotes/notes/remove-node-delete-deprecated-switches-299df71bf6dfe450.yaml', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e366699b0017c79c6865252ae1ae01df5d6301df', 'message': ""Removing deprecated arguments for node delete\n\nThe `-e` and `--templates ` switches have been deprecated for a while, at least\nsince newton, it's time to remove them because it causes confusion to\noperators.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1909347\nChange-Id: I4000638be5ec5e95b36e38f1a93ceb5cf2851905\n""}]",3,768387,e366699b0017c79c6865252ae1ae01df5d6301df,27,10,4,27419,,,0,"Removing deprecated arguments for node delete

The `-e` and `--templates ` switches have been deprecated for a while, at least
since newton, it's time to remove them because it causes confusion to
operators.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1909347
Change-Id: I4000638be5ec5e95b36e38f1a93ceb5cf2851905
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/87/768387/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-node-delete-environment-switch-299df71bf6dfe450.yaml', 'tripleoclient/v1/overcloud_node.py']",2,c5b5a6f4b1486dd3f5426cf56fb08d12e5fb9668,deprecated-node-delete,," parser.add_argument( '-e', '--environment-file', metavar='<HEAT ENVIRONMENT FILE>', action='append', dest='environment_files', help=_(""Environment files to be passed to the heat stack-create "" ""or heat stack-update command. (Can be specified more than "" ""once.) This argument is deprecated. The command now "" ""utilizes a deployment plan, which should be updated prior "" ""to running this command, should that be required. "" ""Otherwise this argument will be silently ignored.""), )",5,10
openstack%2Fironic~master~If19144de800b67275e3f8fb297f0a5c4a54b2981,openstack/ironic,master,If19144de800b67275e3f8fb297f0a5c4a54b2981,redfish-virtual-media: allow a link to raw configdrive image,MERGED,2021-01-22 15:00:20.000000000,2021-01-25 21:24:47.000000000,2021-01-25 21:22:50.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-22 15:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05ff614566e272cb160bcd540b88a4b63da1d9d7', 'message': '[WIP] redfish-virtual-media: allow a link to raw configdrive image\n\nFor historical reasons we always base64+gzip configdrives, even\nwhen accessing them via a URL. This change allows binary images\nto work for the redfish-virtual-media case.\n\nChange-Id: If19144de800b67275e3f8fb297f0a5c4a54b2981\n'}, {'number': 2, 'created': '2021-01-22 15:27:08.000000000', 'files': ['doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb318008b91da907658678ee93d4ab7ae7576c00', 'message': 'redfish-virtual-media: allow a link to raw configdrive image\n\nFor historical reasons we always base64+gzip configdrives, even\nwhen accessing them via a URL. This change allows binary images\nto work for the redfish-virtual-media case.\n\nChange-Id: If19144de800b67275e3f8fb297f0a5c4a54b2981\n'}]",0,771989,bb318008b91da907658678ee93d4ab7ae7576c00,19,4,2,10239,,,0,"redfish-virtual-media: allow a link to raw configdrive image

For historical reasons we always base64+gzip configdrives, even
when accessing them via a URL. This change allows binary images
to work for the redfish-virtual-media case.

Change-Id: If19144de800b67275e3f8fb297f0a5c4a54b2981
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/771989/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_utils.py', 'ironic/common/utils.py']",2,05ff614566e272cb160bcd540b88a4b63da1d9d7,vmedia-direct-url," def file_mime_type(path): """"""Gets a mime type of the given file."""""" return execute('file', '--brief', '--mime-type', path, use_standard_locale=True)[0].strip()",,17,3
openstack%2Fcinder~master~If8f1a496569b03d6d857fab4298843231cbd64f0,openstack/cinder,master,If8f1a496569b03d6d857fab4298843231cbd64f0,Introduce basic context objects in policy tests,ABANDONED,2020-12-09 20:57:07.000000000,2021-01-25 21:23:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-09 20:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b469aeeee20b2f0d31a41fd063a91bc43172640c', 'message': ""Introduce basic context objects in policy tests\n\nCinder already has some existing tests for testing policies, effectively\ntesting API protection. This commit updates the test base class to\ninclude a method that bootstrap the most common personas (system-admin,\nsystem-reader, project-admin, project-member, project-reader).\n\nWe can use these fake context objects in subsequent patches to perform\nprotection testing of cinder's API without requiring keystone, tokens,\nor keystonemiddleware.\n\nThis commit also update the system_admin_context object to remove the\nproject_id since scopes are mutually exclusive. You can't have a token\nscoped to more than one target (e.g., system, domain, or project).\n\nChange-Id: If8f1a496569b03d6d857fab4298843231cbd64f0\n""}, {'number': 2, 'created': '2020-12-09 21:00:12.000000000', 'files': ['cinder/tests/unit/policies/test_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1cf97df44c6b2591aa50c9c5d1228f0f0513acb', 'message': ""Introduce basic context objects in policy tests\n\nCinder already has some existing tests for testing policies, effectively\ntesting API protection. This commit updates the test base class to\ninclude a method that bootstrap the most common personas (system-admin,\nsystem-reader, project-admin, project-member, project-reader).\n\nWe can use these fake context objects in subsequent patches to perform\nprotection testing of cinder's API without requiring keystone, tokens,\nor keystonemiddleware.\n\nThis commit also update the system_admin_context object to remove the\nproject_id since scopes are mutually exclusive. You can't have a token\nscoped to more than one target (e.g., system, domain, or project).\n\nChange-Id: If8f1a496569b03d6d857fab4298843231cbd64f0\n""}]",0,766302,c1cf97df44c6b2591aa50c9c5d1228f0f0513acb,17,1,2,5046,,,0,"Introduce basic context objects in policy tests

Cinder already has some existing tests for testing policies, effectively
testing API protection. This commit updates the test base class to
include a method that bootstrap the most common personas (system-admin,
system-reader, project-admin, project-member, project-reader).

We can use these fake context objects in subsequent patches to perform
protection testing of cinder's API without requiring keystone, tokens,
or keystonemiddleware.

This commit also update the system_admin_context object to remove the
project_id since scopes are mutually exclusive. You can't have a token
scoped to more than one target (e.g., system, domain, or project).

Change-Id: If8f1a496569b03d6d857fab4298843231cbd64f0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/766302/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/policies/test_base.py'],1,b469aeeee20b2f0d31a41fd063a91bc43172640c,secure-rbac," self.system_scope_all = 'all' self._setup_default_persona_contexts() def _setup_default_persona_contexts(self): # Keystone provides the 'admin', 'member', and 'reader' roles by # default during the installation/upgrade process. This allows services # to assume they exist by default. This method creates basic context # objects that represent common personas in a deployment. We can use # these in functional protection tests to under the default policies in # cinder are working as expected for each persona. # System administrators have administrative rights on everything. # They're the operators maintaining the deployment. self.system_admin_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, roles=['admin', 'member', 'reader'], system_scope=self.system_scope_all ) # System readers are operators with read-only access. self.system_reader_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, roles=['reader'], system_scope=self.system_scope_all ) # Project administrators are users with the highest-level of # authorization within a project. self.project_admin_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['admin', 'member', 'reader'] ) # Project member are typical end-users who can interact with resources # in a project. self.project_member_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['member', 'reader'] ) # Project readers are project users who can only view resources within # a project. self.project_reader_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['reader'] ) "," self.system_admin_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['admin'], system_scope='all')",44,3
openstack%2Fopenstack-helm-infra~master~I589c27fdf55e5fc894359ccee5e5acd9c28d2e58,openstack/openstack-helm-infra,master,I589c27fdf55e5fc894359ccee5e5acd9c28d2e58,WIP: Ceph rgw s3 secret,ABANDONED,2021-01-22 20:47:31.000000000,2021-01-25 20:36:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-22 20:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7009b1365ed27c2c02ca968600eddd726c07f21', 'message': 'WIP: Ceph rgw s3 secret\n\nChange-Id: I589c27fdf55e5fc894359ccee5e5acd9c28d2e58\n'}, {'number': 2, 'created': '2021-01-25 18:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/809c2908d65676ac0ba29c4199723b6fab82fd0b', 'message': 'WIP: Ceph rgw s3 secret\n\nChange-Id: I589c27fdf55e5fc894359ccee5e5acd9c28d2e58\n'}, {'number': 3, 'created': '2021-01-25 19:18:49.000000000', 'files': ['ceph-rgw/Chart.yaml', 'ceph-rgw/templates/secret-ingress-tls-s3.yaml', 'ceph-rgw/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/659937757c832cbe2ac14ea51b0f2c4ce2a7c030', 'message': 'WIP: Ceph rgw s3 secret\n\nChange-Id: I589c27fdf55e5fc894359ccee5e5acd9c28d2e58\n'}]",0,772117,659937757c832cbe2ac14ea51b0f2c4ce2a7c030,11,1,3,32190,,,0,"WIP: Ceph rgw s3 secret

Change-Id: I589c27fdf55e5fc894359ccee5e5acd9c28d2e58
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/772117/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/Chart.yaml', 'ceph-rgw/templates/secret-ingress-tls-s3.yaml', 'ceph-rgw/values.yaml']",3,d7009b1365ed27c2c02ca968600eddd726c07f21,s3-tls-secret, secret_ingress_tls_s3: true,,19,1
openstack%2Fkolla~master~Id903880b121d87d75b7b14084b0961b9ce99deba,openstack/kolla,master,Id903880b121d87d75b7b14084b0961b9ce99deba,docker: do not install pip again in images,MERGED,2021-01-25 15:44:23.000000000,2021-01-25 20:36:15.000000000,2021-01-25 20:33:54.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-25 15:44:23.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/elasticsearch/elasticsearch-curator/Dockerfile.j2', 'docker/openvswitch/openvswitch-netcontrold/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ffe08baa72048fdaa6c5f24b67721db7178a5928', 'message': 'docker: do not install pip again in images\n\nWe install pip in base image so why repeat?\n\nChange-Id: Id903880b121d87d75b7b14084b0961b9ce99deba\n'}]",0,772366,ffe08baa72048fdaa6c5f24b67721db7178a5928,9,3,1,24072,,,0,"docker: do not install pip again in images

We install pip in base image so why repeat?

Change-Id: Id903880b121d87d75b7b14084b0961b9ce99deba
",git fetch https://review.opendev.org/openstack/kolla refs/changes/66/772366/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/elasticsearch/elasticsearch-curator/Dockerfile.j2', 'docker/openvswitch/openvswitch-netcontrold/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2']",5,ffe08baa72048fdaa6c5f24b67721db7178a5928,,, 'python3-pip' 'python3-pip',0,7
openstack%2Fopenstack-helm-infra~master~Id276deb3e5cb8c7e30f5a55140b8dbba52a33900,openstack/openstack-helm-infra,master,Id276deb3e5cb8c7e30f5a55140b8dbba52a33900,[ceph-client] Fix Helm test check_pgs() check for inactive PGs,MERGED,2021-01-25 17:48:14.000000000,2021-01-25 20:32:02.000000000,2021-01-25 20:30:22.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28025}, {'_account_id': 28275}, {'_account_id': 28372}, {'_account_id': 30777}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-01-25 17:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b773270c63144298df7e493ecf893e24338d575e', 'message': ""[ceph-client] Fix Helm test check_pgs() check for inactive PGs\n\nThe 'ceph pg dump_stuck' command that looks for PGs that are stuck\ninactive doesn't include the 'inactive' keyword, so it also finds\nPGs that are active that it believes are stuck. This chnage adds\nthe 'inactive' keyword to the command so only inactive PGs are\nconsidered.\n\nChange-Id: Id276deb3e5cb8c7e30f5a55140b8dbba52a33900\n""}, {'number': 2, 'created': '2021-01-25 17:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b5fc1a97a7f7dc41476b59c64e9385dabbb58542', 'message': ""[ceph-client] Fix Helm test check_pgs() check for inactive PGs\n\nThe 'ceph pg dump_stuck' command that looks for PGs that are stuck\ninactive doesn't include the 'inactive' keyword, so it also finds\nPGs that are active that it believes are stuck. This chnage adds\nthe 'inactive' keyword to the command so only inactive PGs are\nconsidered.\n\nChange-Id: Id276deb3e5cb8c7e30f5a55140b8dbba52a33900\n""}, {'number': 3, 'created': '2021-01-25 17:54:26.000000000', 'files': ['ceph-client/Chart.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6cf614d7a870c4ccb49048aeb3b4bda1f63ee7f9', 'message': ""[ceph-client] Fix Helm test check_pgs() check for inactive PGs\n\nThe 'ceph pg dump_stuck' command that looks for PGs that are stuck\ninactive doesn't include the 'inactive' keyword, so it also finds\nPGs that are active that it believes are stuck. This change adds\nthe 'inactive' keyword to the command so only inactive PGs are\nconsidered.\n\nChange-Id: Id276deb3e5cb8c7e30f5a55140b8dbba52a33900\n""}]",0,772389,6cf614d7a870c4ccb49048aeb3b4bda1f63ee7f9,16,12,3,29974,,,0,"[ceph-client] Fix Helm test check_pgs() check for inactive PGs

The 'ceph pg dump_stuck' command that looks for PGs that are stuck
inactive doesn't include the 'inactive' keyword, so it also finds
PGs that are active that it believes are stuck. This change adds
the 'inactive' keyword to the command so only inactive PGs are
considered.

Change-Id: Id276deb3e5cb8c7e30f5a55140b8dbba52a33900
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/772389/3 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/_helm-tests.sh.tpl'],1,b773270c63144298df7e493ecf893e24338d575e,, ceph --cluster ${CLUSTER} pg dump_stuck inactive -f json-pretty > ${stuck_pgs_file}, ceph --cluster ${CLUSTER} pg dump_stuck -f json-pretty > ${stuck_pgs_file},1,1
openstack%2Freleases~master~I905cb083064fa0663fe6436651bb58e18f982dae,openstack/releases,master,I905cb083064fa0663fe6436651bb58e18f982dae,Wallaby-2 Release for python-muranoclient,MERGED,2021-01-15 06:49:59.000000000,2021-01-25 20:29:51.000000000,2021-01-25 20:29:51.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-15 06:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/908aea3ed473bfbc7deffff08cd5927aacbe61d8', 'message': 'Victoria-2 Release for python-muranoclient\n\nThis is the Wallaby milestone-2 release for python-muranoclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I905cb083064fa0663fe6436651bb58e18f982dae\n'}, {'number': 2, 'created': '2021-01-15 06:57:01.000000000', 'files': ['deliverables/wallaby/python-muranoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e9415b2886b4dfbeed1580fffdbc80c408275e5', 'message': 'Wallaby-2 Release for python-muranoclient\n\nThis is the Wallaby milestone-2 release for python-muranoclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I905cb083064fa0663fe6436651bb58e18f982dae\n'}]",0,770897,4e9415b2886b4dfbeed1580fffdbc80c408275e5,8,3,2,28522,,,0,"Wallaby-2 Release for python-muranoclient

This is the Wallaby milestone-2 release for python-muranoclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I905cb083064fa0663fe6436651bb58e18f982dae
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/770897/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-muranoclient.yaml'],1,908aea3ed473bfbc7deffff08cd5927aacbe61d8,w2-c-w-i,releases: - version: 2.2.0 projects: - repo: openstack/python-muranoclient hash: 8a6848e402a59929ce43051831933605926e72a6,,5,0
openstack%2Freleases~master~I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb,openstack/releases,master,I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb,Wallaby-2 Release for python-mistralclient,MERGED,2021-01-15 06:48:13.000000000,2021-01-25 20:29:29.000000000,2021-01-25 20:29:29.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-15 06:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bfe9aa8611f9f57fea85c630c12777adf4c06891', 'message': 'Victoria-2 Release for python-mistralclient\n\nThis is the Wallaby milestone-2 release for python-mistralclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb\n'}, {'number': 2, 'created': '2021-01-15 06:57:44.000000000', 'files': ['deliverables/wallaby/python-mistralclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7328b8554af9337d2a4e6cf5522365b2531a5568', 'message': 'Wallaby-2 Release for python-mistralclient\n\nThis is the Wallaby milestone-2 release for python-mistralclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb\n'}]",0,770896,7328b8554af9337d2a4e6cf5522365b2531a5568,8,3,2,28522,,,0,"Wallaby-2 Release for python-mistralclient

This is the Wallaby milestone-2 release for python-mistralclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I75de9bd1b6d6a9bd2b9cca9ea349e8a489045cfb
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/770896/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-mistralclient.yaml'],1,bfe9aa8611f9f57fea85c630c12777adf4c06891,w2-c-w-i,releases: - version: 4.2.0 projects: - repo: openstack/python-mistralclient hash: 20a10f0fb54e98368afc92639f6a15ed4a0aa218,,5,0
openstack%2Freleases~master~I96b8ec21443774685cfc2102fdf29777359b8f8c,openstack/releases,master,I96b8ec21443774685cfc2102fdf29777359b8f8c,Wallaby-2 Release for python-designateclient,MERGED,2021-01-15 06:42:27.000000000,2021-01-25 20:29:15.000000000,2021-01-25 20:29:15.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-15 06:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9124d6ae6342e3b77bd800b7429879a47306fd8d', 'message': 'Victoria-2 Release for python-designateclient\n\nThis is the Wallaby milestone-2 release for python-designateclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I96b8ec21443774685cfc2102fdf29777359b8f8c\n'}, {'number': 2, 'created': '2021-01-15 06:59:35.000000000', 'files': ['deliverables/wallaby/python-designateclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f00ca0dfe08a16bc2d74a2b167a87e545ef15a9d', 'message': 'Wallaby-2 Release for python-designateclient\n\nThis is the Wallaby milestone-2 release for python-designateclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I96b8ec21443774685cfc2102fdf29777359b8f8c\n'}]",0,770892,f00ca0dfe08a16bc2d74a2b167a87e545ef15a9d,8,4,2,28522,,,0,"Wallaby-2 Release for python-designateclient

This is the Wallaby milestone-2 release for python-designateclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I96b8ec21443774685cfc2102fdf29777359b8f8c
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/770892/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-designateclient.yaml'],1,9124d6ae6342e3b77bd800b7429879a47306fd8d,w2-c-w-i,releases: - version: 4.2.0 projects: - repo: openstack/python-designateclient hash: e6e7b191a3b19a2af99fd2c8a860dea3083bc6b1,,5,0
openstack%2Freleases~master~Ie8ee6a925ca1682019414e9503d2c740cefbcdb6,openstack/releases,master,Ie8ee6a925ca1682019414e9503d2c740cefbcdb6,Wallaby-2 Release for python-cloudkittyclient,MERGED,2021-01-15 06:40:36.000000000,2021-01-25 20:28:48.000000000,2021-01-25 20:28:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-15 06:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e988f720c7bba37201e2295fc7602e760c1eedcb', 'message': 'Victoria-2 Release for python-cloudkittyclient\n\nThis is the Wallaby milestone-2 release for python-cloudkittyclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ie8ee6a925ca1682019414e9503d2c740cefbcdb6\n'}, {'number': 2, 'created': '2021-01-15 07:01:06.000000000', 'files': ['deliverables/wallaby/python-cloudkittyclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/027d1de488bbbf3d99437eabb4fa4b7faf23f74f', 'message': 'Wallaby-2 Release for python-cloudkittyclient\n\nThis is the Wallaby milestone-2 release for python-cloudkittyclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ie8ee6a925ca1682019414e9503d2c740cefbcdb6\n'}]",0,770890,027d1de488bbbf3d99437eabb4fa4b7faf23f74f,8,3,2,28522,,,0,"Wallaby-2 Release for python-cloudkittyclient

This is the Wallaby milestone-2 release for python-cloudkittyclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie8ee6a925ca1682019414e9503d2c740cefbcdb6
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/770890/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-cloudkittyclient.yaml'],1,e988f720c7bba37201e2295fc7602e760c1eedcb,w2-c-w-i,releases: - version: 4.2.0 projects: - repo: openstack/python-cloudkittyclient hash: 1e8b06243e4d0131c4b053bd67ff94478d6fb673,,5,0
openstack%2Fneutron~master~Iee323943ac66e566e5a5e92de1861832e86fc7fc,openstack/neutron,master,Iee323943ac66e566e5a5e92de1861832e86fc7fc,[OVS] Fix live-migration connection disruption,MERGED,2020-12-09 18:57:25.000000000,2021-01-25 20:28:19.000000000,2021-01-18 13:39:24.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28006}, {'_account_id': 30711}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-09 18:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9dbb797d1d548243c518f44b31c9cc164f520b1', 'message': '[WIP] Test live-migraiton\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 2, 'created': '2020-12-09 20:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9550290ffbc3fb9e94c29312d27c1993d7b7ebfa', 'message': '[WIP][OVS] Fix live-migration connection disruption\n\nTODO: add testing and comment some parts of the code\n      add launchpad describing the problem\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 3, 'created': '2020-12-10 12:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/913af81a75d11a779bd1f0a0da62247062dd6f29', 'message': '[WIP][OVS] Fix live-migration connection disruption\n\nTODO: add testing and comment some parts of the code\n      add launchpad describing the problem\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 4, 'created': '2020-12-11 17:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2647ebbdae683e048c834aa3a5ee28f85af2b4e', 'message': '[WIP][OVS] Fix live-migration connection disruption\n\nTODO: add testing and comment some parts of the code\n      add launchpad describing the problem\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n\nCloses-Bug: #1901707\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 5, 'created': '2020-12-13 23:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99864cf030ea8c4400646fe637d9e2e73a3c7628', 'message': '[WIP][OVS] Fix live-migration connection disruption\n\nTODO: add testing and comment some parts of the code\n      add launchpad describing the problem\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n\nCloses-Bug: #1901707\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 6, 'created': '2020-12-15 10:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d161aee494e9b9a89237f415d0c497770f822a7a', 'message': '[WIP][OVS] Fix live-migration connection disruption\n\nTODO: add testing and comment some parts of the code\n      add launchpad describing the problem\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n\nCloses-Bug: #1901707\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 7, 'created': '2020-12-16 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7fabd8586679072020a73ff3f24c24410d411b9', 'message': '[WIP][OVS] Fix live-migration connection disruption\n\nTODO: add testing and comment some parts of the code\n      add launchpad describing the problem\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n\nCloses-Bug: #1901707\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/767368\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 8, 'created': '2021-01-11 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46a3d92b44642f2d596c4a7fdd47bcb63417bc54', 'message': '[OVS] Fix live-migration connection disruption\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\nThis feature depends on [2]. If this Nova patch is not in place, Nova\nwill never plug the port in the destination host and Neutron won\'t be\nable to send the vif-plugged event to Nova to finish the\nlive-migration process.\n\nBecause from Neutron cannot query Nova to know if this patch is in\nplace, a new temporary configuration option has been created to enable\nthis feature. The default value will be ""False""; that means Neutron\nwill behave as before.\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nCloses-Bug: #1901707\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 9, 'created': '2021-01-13 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c20885322f180b7b82b15c8c404c006ff0844d3', 'message': '[OVS] Fix live-migration connection disruption\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\nThis feature depends on [2]. If this Nova patch is not in place, Nova\nwill never plug the port in the destination host and Neutron won\'t be\nable to send the vif-plugged event to Nova to finish the\nlive-migration process.\n\nBecause from Neutron cannot query Nova to know if this patch is in\nplace, a new temporary configuration option has been created to enable\nthis feature. The default value will be ""False""; that means Neutron\nwill behave as before.\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nCloses-Bug: #1901707\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}, {'number': 10, 'created': '2021-01-13 11:13:55.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/provisioning_blocks.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8a22c7d4aa654eaad3b683073849c873ea3beff', 'message': '[OVS] Fix live-migration connection disruption\n\nThe goal of this patch is to avoid the connection disruption during\nthe live-migration using OVS. Since [1], when a port is migrated,\nboth the source and the destination hosts are added to the profile\nbinding information. Initially, the source host binding is activated\nand the destination is deactivated.\n\nWhen the port is created in the destination host (created by Nova),\nthe port was not configured because the binding was not activated.\nThe binding (that means, all the OpenFlow rules) was done when Nova\nsent the port activation. That happend when the VM was already\nrunning in the destination host. If the OVS agent was loaded, the\nport was bound seconds later to the port activation.\n\nInstead, this patch enables the OpenFlow rule creation in the\ndestination host when the port is created.\n\nAnother problem are the ""neutron-vif-plugged"" events sent by Neutron\nto Nova to inform about the port binding. Nova is expecting one single\nevent informing about the destination port binding. At this moment,\nNova considers the port is bound and ready to transmit data.\n\nSeveral triggers were firing expectedly this event:\n- When the port binding was updated, the port is set to down and then\n  up again, forcing this event.\n- When the port binding was updated, first the binding is deleted and\n  then updated with the new information. That triggers in the source\n  host to set the port down and the up again, sending the event.\n\nThis patch removes those events, sending the ""neutron-vif-plugged""\nevent only when the port is bound to the destination host (and as\ncommented before, this is happening now regardless of the binding\nactivation status).\n\nThis feature depends on [2]. If this Nova patch is not in place, Nova\nwill never plug the port in the destination host and Neutron won\'t be\nable to send the vif-plugged event to Nova to finish the\nlive-migration process.\n\nBecause from Neutron cannot query Nova to know if this patch is in\nplace, a new temporary configuration option has been created to enable\nthis feature. The default value will be ""False""; that means Neutron\nwill behave as before.\n\n[1]https://bugs.launchpad.net/neutron/+bug/1580880\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nCloses-Bug: #1901707\n\nChange-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc\n'}]",21,766277,f8a22c7d4aa654eaad3b683073849c873ea3beff,50,9,10,16688,,,0,"[OVS] Fix live-migration connection disruption

The goal of this patch is to avoid the connection disruption during
the live-migration using OVS. Since [1], when a port is migrated,
both the source and the destination hosts are added to the profile
binding information. Initially, the source host binding is activated
and the destination is deactivated.

When the port is created in the destination host (created by Nova),
the port was not configured because the binding was not activated.
The binding (that means, all the OpenFlow rules) was done when Nova
sent the port activation. That happend when the VM was already
running in the destination host. If the OVS agent was loaded, the
port was bound seconds later to the port activation.

Instead, this patch enables the OpenFlow rule creation in the
destination host when the port is created.

Another problem are the ""neutron-vif-plugged"" events sent by Neutron
to Nova to inform about the port binding. Nova is expecting one single
event informing about the destination port binding. At this moment,
Nova considers the port is bound and ready to transmit data.

Several triggers were firing expectedly this event:
- When the port binding was updated, the port is set to down and then
  up again, forcing this event.
- When the port binding was updated, first the binding is deleted and
  then updated with the new information. That triggers in the source
  host to set the port down and the up again, sending the event.

This patch removes those events, sending the ""neutron-vif-plugged""
event only when the port is bound to the destination host (and as
commented before, this is happening now regardless of the binding
activation status).

This feature depends on [2]. If this Nova patch is not in place, Nova
will never plug the port in the destination host and Neutron won't be
able to send the vif-plugged event to Nova to finish the
live-migration process.

Because from Neutron cannot query Nova to know if this patch is in
place, a new temporary configuration option has been created to enable
this feature. The default value will be ""False""; that means Neutron
will behave as before.

[1]https://bugs.launchpad.net/neutron/+bug/1580880
[2]https://review.opendev.org/c/openstack/nova/+/767368

Closes-Bug: #1901707

Change-Id: Iee323943ac66e566e5a5e92de1861832e86fc7fc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/766277/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/managers.py', 'etc/neutron/ovn.ini.sample', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/notifiers/nova.py', 'neutron/plugins/ml2/plugin.py']",5,c9dbb797d1d548243c518f44b31c9cc164f520b1,bug/1901707," def _process_port_binding(self, mech_context, attrs, is_migrating=False): LOG.debug('RAH - binding port, attrs: %s', attrs) if changes: LOG.debug('RAH - clear port bindings') if not is_migrating: LOG.debug('RAH - to update the port to DOWN') port['status'] = const.PORT_STATUS_DOWN self.nova_notifier._enabled = False super(Ml2Plugin, self).update_port(mech_context._plugin_context, port['id'], {port_def.RESOURCE_NAME: {'status': const.PORT_STATUS_DOWN}}) self.nova_notifier._enabled = True LOG.debug('RAH - port updated to DOWN') LOG.debug(""RAH - bind port if needed"") LOG.debug(""RAH - attempt binding"") LOG.debug(""RAH - attempt binding OK"") LOG.debug(""RAH - commit port binding"") is_migrating = bool(attrs.get('binding:profile', {}).get('migrating_to')) mech_context, attrs, is_migrating=is_migrating) LOG.debug(""RAH - --> (update port) port already bound"")"," def _process_port_binding(self, mech_context, attrs): if changes: port['status'] = const.PORT_STATUS_DOWN super(Ml2Plugin, self).update_port( mech_context._plugin_context, port['id'], {port_def.RESOURCE_NAME: {'status': const.PORT_STATUS_DOWN}}) mech_context, attrs)",364,7
openstack%2Freleases~master~I9e1fa56eb79308a562d6b9bcd74cdab0d4941125,openstack/releases,master,I9e1fa56eb79308a562d6b9bcd74cdab0d4941125,Wallaby-2 Release for python-cinderclient,MERGED,2021-01-15 06:38:06.000000000,2021-01-25 20:25:01.000000000,2021-01-25 20:25:01.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-15 06:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0cc3c1c31e8f6ed03ad5b8f05e1cb7e483400c8e', 'message': 'Victoria-2 Release for python-cinderclient\n\nThis is the Wallaby milestone-2 release for python-cinderclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9e1fa56eb79308a562d6b9bcd74cdab0d4941125\n'}, {'number': 2, 'created': '2021-01-15 07:01:51.000000000', 'files': ['deliverables/wallaby/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2efcd0072a2b1d18a37aa7cf5c39b7d60bbcec14', 'message': 'Wallaby-2 Release for python-cinderclient\n\nThis is the Wallaby milestone-2 release for python-cinderclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I9e1fa56eb79308a562d6b9bcd74cdab0d4941125\n'}]",0,770889,2efcd0072a2b1d18a37aa7cf5c39b7d60bbcec14,9,4,2,28522,,,0,"Wallaby-2 Release for python-cinderclient

This is the Wallaby milestone-2 release for python-cinderclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I9e1fa56eb79308a562d6b9bcd74cdab0d4941125
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/770889/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-cinderclient.yaml'],1,0cc3c1c31e8f6ed03ad5b8f05e1cb7e483400c8e,w2-c-w-i,releases: - version: 7.3.0 projects: - repo: openstack/python-cinderclient hash: 1abc1b5d404c523a696f7186bc4c4b6fc7407cad,,5,0
openstack%2Fpuppet-keystone~master~I8d759345f33cf4e8e47688f1c1dc567da6b8fe4b,openstack/puppet-keystone,master,I8d759345f33cf4e8e47688f1c1dc567da6b8fe4b,Use yaml instead of json for policy file,MERGED,2020-12-29 07:12:55.000000000,2021-01-25 20:16:57.000000000,2021-01-25 20:14:20.000000000,"[{'_account_id': 8556}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-29 07:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4b855054d964e74155b10943736f3d0695f03499', 'message': 'Use yaml instead of json for policy file\n\nBecause usage of json for policy file will be deprecated and replaced\nby yaml[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I8d759345f33cf4e8e47688f1c1dc567da6b8fe4b\n'}, {'number': 2, 'created': '2021-01-07 23:10:24.000000000', 'files': ['spec/classes/keystone_policy_spec.rb', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-be47196f7a608760.yaml', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/82b7d7ea5892e2aaddbea512ce1093028a438287', 'message': 'Use yaml instead of json for policy file\n\nBecause usage of json for policy file will be deprecated and replaced\nby yaml[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-on: https://review.opendev.org/769647\nChange-Id: I8d759345f33cf4e8e47688f1c1dc567da6b8fe4b\n'}]",0,768695,82b7d7ea5892e2aaddbea512ce1093028a438287,19,4,2,9816,,,0,"Use yaml instead of json for policy file

Because usage of json for policy file will be deprecated and replaced
by yaml[1].

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Depends-on: https://review.opendev.org/769647
Change-Id: I8d759345f33cf4e8e47688f1c1dc567da6b8fe4b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/95/768695/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_policy_spec.rb', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-be47196f7a608760.yaml', 'manifests/policy.pp']",3,4b855054d964e74155b10943736f3d0695f03499,policy-json-to-yaml,"# (Optional) Path to the nova policy.yaml file # Defaults to /etc/keystone/policy.yaml $policy_path = '/etc/keystone/policy.yaml', file_path => $policy_path, file_user => 'root', file_group => $::keystone::params::group, file_format => 'yaml',","# (Optional) Path to the nova policy.json file # Defaults to /etc/keystone/policy.json $policy_path = '/etc/keystone/policy.json', file_path => $policy_path, file_user => 'root', file_group => $::keystone::params::group,",18,12
openstack%2Fcharm-designate~master~Ic333d7722435e483f8bcd10892167ed923f0885a,openstack/charm-designate,master,Ic333d7722435e483f8bcd10892167ed923f0885a,Rebuild for haproxy address bug 1912505,MERGED,2021-01-25 11:02:37.000000000,2021-01-25 20:11:12.000000000,2021-01-25 20:11:12.000000000,"[{'_account_id': 8992}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 11:02:37.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/03e00fb23514d8be3da782c5e5210b4a61aced22', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: Ic333d7722435e483f8bcd10892167ed923f0885a\n'}]",0,772308,03e00fb23514d8be3da782c5e5210b4a61aced22,10,4,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: Ic333d7722435e483f8bcd10892167ed923f0885a
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/08/772308/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,03e00fb23514d8be3da782c5e5210b4a61aced22,bug/1912505,005a559a-5efb-11eb-942b-1f7a7750cc92,82d02b8e-5745-11eb-8687-2ff64a434ff6,1,1
openstack%2Fpuppet-cinder~master~I1ab95f0631a1e1460c6376218bc9c7e7325b9e34,openstack/puppet-cinder,master,I1ab95f0631a1e1460c6376218bc9c7e7325b9e34,Add support for per_volume_size_limit,MERGED,2021-01-24 02:03:24.000000000,2021-01-25 20:08:21.000000000,2021-01-25 20:02:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 02:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/24fb1c572ab6329c949623c50c84276117b5532b', 'message': 'Add support for per_volume_size_limit\n\nChange-Id: I1ab95f0631a1e1460c6376218bc9c7e7325b9e34\n'}, {'number': 2, 'created': '2021-01-24 04:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/37417cec8a6fc5e27cfc82aca21d16c22d03854c', 'message': 'Add support for per_volume_size_limit\n\nChange-Id: I1ab95f0631a1e1460c6376218bc9c7e7325b9e34\n'}, {'number': 3, 'created': '2021-01-24 06:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/40677033ec46a657956ebea8b96d4c70a0a0814d', 'message': 'Add support for per_volume_size_limit\n\nChange-Id: I1ab95f0631a1e1460c6376218bc9c7e7325b9e34\n'}, {'number': 4, 'created': '2021-01-24 11:04:02.000000000', 'files': ['releasenotes/notes/quota-per_volume_size_limit-8d40ab1b86af0f71.yaml', 'manifests/quota.pp', 'spec/classes/cinder_quota_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bd3ac42e11102a0390b975f0544b1aa60dc0f3b1', 'message': 'Add support for per_volume_size_limit\n\nChange-Id: I1ab95f0631a1e1460c6376218bc9c7e7325b9e34\n'}]",0,772179,bd3ac42e11102a0390b975f0544b1aa60dc0f3b1,15,3,4,9816,,,0,"Add support for per_volume_size_limit

Change-Id: I1ab95f0631a1e1460c6376218bc9c7e7325b9e34
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/79/772179/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quota-per_volume_size_limit-8d40ab1b86af0f71.yaml', 'manifests/quota.pp', 'spec/classes/cinder_quota_spec.rb']",3,24fb1c572ab6329c949623c50c84276117b5532b,quotas," is_expected.to contain_cinder_config('DEFAULT/per_volume_size_limit').with_value('<SERVICE DEFAULT>') :quota_driver => 'cinder.quota.DbQuotaDriver', :per_volume_size_limit => 50 is_expected.to contain_cinder_config('DEFAULT/per_volume_size_limit').with_value(50)", :quota_driver => 'cinder.quota.DbQuotaDriver',15,1
openstack%2Fpuppet-cinder~master~Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14,openstack/puppet-cinder,master,Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14,Add support for backup quotas,MERGED,2021-01-24 01:51:07.000000000,2021-01-25 20:06:47.000000000,2021-01-25 20:02:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 01:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1202aec102f3f17d64bfbe32a901902730e3e139', 'message': 'Add support of backup quotas\n\nChange-Id: Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14\n'}, {'number': 2, 'created': '2021-01-24 01:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/59f1b676c42ba8bb9537be682ea835702a7ddfa9', 'message': 'Add support of backup quotas\n\nChange-Id: Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14\n'}, {'number': 3, 'created': '2021-01-24 01:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/029da174af795fe182c05b1e8010ba4d2465ba1e', 'message': 'Add support for backup quotas\n\nChange-Id: Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14\n'}, {'number': 4, 'created': '2021-01-24 04:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/21b3339b959bd490f44cfc32d7cddfdbb594aeae', 'message': 'Add support for backup quotas\n\nChange-Id: Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14\n'}, {'number': 5, 'created': '2021-01-24 06:09:24.000000000', 'files': ['releasenotes/notes/backup-quotas-c290c485f66dc1c6.yaml', 'manifests/quota.pp', 'spec/classes/cinder_quota_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/03b8d85d7c1dde5a4e8b354076d137e992890907', 'message': 'Add support for backup quotas\n\nChange-Id: Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14\n'}]",0,772178,03b8d85d7c1dde5a4e8b354076d137e992890907,18,3,5,9816,,,0,"Add support for backup quotas

Change-Id: Ic4b6acf939b85db53e4ca782a6f29f80cacc2c14
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/78/772178/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/backup-quota-055fade74fff867c.yaml', 'manifests/quota.pp', 'spec/classes/cinder_quota_spec.rb']",3,1202aec102f3f17d64bfbe32a901902730e3e139,quotas," context 'with defualt params': do let :params do {} end it 'contains default values' do is_expected.to contain_cinder_config('DEFAULT/quota_volumes').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/quota_snapshots').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/quota_gigabytes').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/quota_backups').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/quota_backup_gigabytes').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/quota_driver').with_value('<SERVICE DEFAULT>') end let :params do { :quota_volumes => 2000, :quota_snapshots => 1000, :quota_gigabytes => 100000, :quota_backups => 100, :quota_backup_gigabytes => 10000, :quota_driver => 'cinder.quota.DbQuotaDriver' } is_expected.to contain_cinder_config('DEFAULT/quota_volumes').with_value(2000) is_expected.to contain_cinder_config('DEFAULT/quota_snapshots').with_value(1000) is_expected.to contain_cinder_config('DEFAULT/quota_gigabytes').with_value(100000) is_expected.to contain_cinder_config('DEFAULT/quota_backups').with_value(100) is_expected.to contain_cinder_config('DEFAULT/quota_backup_gigabytes').with_value(10000) is_expected.to contain_cinder_config('DEFAULT/quota_driver').with_value('cinder.quota.DbQuotaDriver')"," let :default_params do { :quota_volumes => '<SERVICE DEFAULT>', :quota_snapshots => '<SERVICE DEFAULT>', :quota_gigabytes => '<SERVICE DEFAULT>', :quota_driver => '<SERVICE DEFAULT>' } end let :params do {} end let :p do default_params.merge(params) end it 'contains default values' do is_expected.to contain_cinder_config('DEFAULT/quota_volumes').with_value(p[:quota_volumes]) is_expected.to contain_cinder_config('DEFAULT/quota_snapshots').with_value(p[:quota_snapshots]) is_expected.to contain_cinder_config('DEFAULT/quota_gigabytes').with_value(p[:quota_gigabytes]) is_expected.to contain_cinder_config('DEFAULT/quota_driver').with_value(p[:quota_driver]) before :each do params.merge!({ :quota_volumes => 1000, :quota_snapshots => 1000, :quota_gigabytes => 100000 }) is_expected.to contain_cinder_config('DEFAULT/quota_volumes').with_value(p[:quota_volumes]) is_expected.to contain_cinder_config('DEFAULT/quota_snapshots').with_value(p[:quota_snapshots]) is_expected.to contain_cinder_config('DEFAULT/quota_gigabytes').with_value(p[:quota_gigabytes]) is_expected.to contain_cinder_config('DEFAULT/quota_driver').with_value(p[:quota_driver])",51,37
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I015770275192d9834e38593e249b472f56d7ccd4,openstack/puppet-openstack-integration,stable/victoria,I015770275192d9834e38593e249b472f56d7ccd4,CentOS: Install new gpg key for puppet packages,MERGED,2021-01-25 03:44:46.000000000,2021-01-25 20:03:06.000000000,2021-01-25 20:03:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 03:44:46.000000000', 'files': ['functions', 'files/GPG-KEY-puppet-20250406'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ebf33bccb96b58467dce396f83f1fb77f6327613', 'message': 'CentOS: Install new gpg key for puppet packages\n\nThis change ensures that the new gpg key for puppet packages[1] are\ninstall before installing puppet-agent, so that we can install any\npackage signed with the new gpg key.\n\n[1] https://puppet.com/blog/updated-puppet-gpg-signing-key-2020-edition/\n\nCloses-Bug: #1912871\nChange-Id: I015770275192d9834e38593e249b472f56d7ccd4\n(cherry picked from commit 3f3da39c6804ef5c9bcb3cbee311fbc2b50e0c75)\n'}]",0,772219,ebf33bccb96b58467dce396f83f1fb77f6327613,7,3,1,9816,,,0,"CentOS: Install new gpg key for puppet packages

This change ensures that the new gpg key for puppet packages[1] are
install before installing puppet-agent, so that we can install any
package signed with the new gpg key.

[1] https://puppet.com/blog/updated-puppet-gpg-signing-key-2020-edition/

Closes-Bug: #1912871
Change-Id: I015770275192d9834e38593e249b472f56d7ccd4
(cherry picked from commit 3f3da39c6804ef5c9bcb3cbee311fbc2b50e0c75)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/772219/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'files/GPG-KEY-puppet-20250406']",2,ebf33bccb96b58467dce396f83f1fb77f6327613,bug/1912871-stable/victoria,-----BEGIN PGP PUBLIC KEY BLOCK----- mQINBFyrv4oBEADhL8iyDPZ+GWN7L+A8dpEpggglxTtL7qYNyN5Uga2j0cusDdOD ftPHsurLjfxtc2EFGdFK/N8y4LSpq+nOeazhkHcPeDiWC2AuN7+NGjH9LtvMUqKy NWPhPYP2r/xPL547oDMdvLXDH5n+FsLFW8QgATHk4AvlIhGng0gWu80OqTCiL0HC W7TftkF8ofP8k90SnLYbI9HDVOj6VYYtqG5NeoCHGAqrb79G/jq64Z/gLktD3IrB CxYhKFfJtZ/BSDB8Aa4ht+jIyeFCNSbGyfFfWlHKvF3JngS/76Y7gxX1sbR3gHJQ hO25AQdsPYKxgtIgNeB9/oBp1+V3K1W/nta4gbDVwJWCqDRbEFlHIdV7fvV/sqiI W7rQ60aAY7J6Gjt/aUmNArvT8ty3szmhR0wEEU5/hhIVV6VjS+AQsI8pFv6VB8bJ TLfOBPDW7dw2PgyWhVTEN8KW/ckyBvGmSdzSgAhw+rAe7li50/9e2H8eiJgBbGid 8EQidZgkokh331CMDkIA6F3ygiB+u2ZZ7ywxhxIRO70JElIuIOiofhVfRnh/ODlH X7eD+cA2rlLQd2yWf4diiA7C9R8r8vPrAdp3aPZ4xLxvYYZV8E1JBdMus5GRy4rB Avetp0Wx/1r9zVDKD/J1bNIlt0SR9FTmynZj4kLWhoCqmbrLS35325sS6wARAQAB tEhQdXBwZXQsIEluYy4gUmVsZWFzZSBLZXkgKFB1cHBldCwgSW5jLiBSZWxlYXNl IEtleSkgPHJlbGVhc2VAcHVwcGV0LmNvbT6JAlQEEwEKAD4WIQTWgR7Tre64RBr1 qo9FKLbNnmHvJgUCXKu/igIbAwUJC0c1AAULCQgHAwUVCgkICwUWAgMBAAIeAQIX gAAKCRBFKLbNnmHvJg/vD/0eOl/pBb6ooGnzg2qoD+XwgOK3HkTdvGNZKGsIrhUG q6O0zoyPW8v9b/i7QEDre8QahARmMAEQ+T3nbNVzw4kpE+YIrEkKjoJsrF8/K/1L zBHJCc3S9oF9KubG5BuQ4bAmcvnI+qpEYbSTLHztYGUfXAGu+MnaDf4C60G7zM6m ec4bX8lVnt+gcsGGGCdN89XsZLBNdv21z9xMeaAPiRYJpbqwrb8cYbKQeqFSQt2M UylN5oVeN77Q8iyXSyVwpc6uKzXdQ8bVPbKUTWSXQ4SSp0HJjtAMiDH2pjty4PG6 EgZ6/njJLOzQ29ZgFrS19XLONlptHwKzLYB8nJhJvGHfzzInmNttDtNwTA6IxpsR 4aCnrPWFJRCbmMBNXvBR9B/O+e/T5ngL21ipMEwzEOiQlRSacnO2pICwZ5pARMRI dxq/5BQYry9HNlJDGR7YIfn7i0oCGk5BxwotSlAPw8jFpNU/zTOvpQAdPvZje2JP 6GS+hYxSdHsigREXI2gxTvpcLk8LOe9PsqJv631e6Kvn9P9OHiihIp8G9fRQ8T7y elHcNanV192mfbWxJhDAcQ+JEy9883lOanaCoaf/7z4kdmCQLz5/oNg2K0qjSgZH JY/gxCOwuAuUJlLcAXQG6txJshfMxyQUO46DXg0/gjwkKgT/9PbTJEN/WN/G6n1h lbkCDQRcq7+KARAAxX5WS3Qx0eHFkpxSecR2bVMh5NId/v5Ch0sXWTWp44I38L9V o+nfbI+o8wN5IdFtvhmQUXCUPfacegFVVyerxSuLb0YibhNL1/3xwD5aDMYSN5ud x1wJTN1Ymi1zWwDN0PMx3asJ2z31fK4LOHOP4gRvWfrJjYlkMD5ufmxK7bYWh80z IEHJkNJKGbGcBB8MxJFP1dX85vwATY7N7jbpBQ0z6rLazfFyqmo8E3u5PvPQvJ06 qMWF1g+tTqqJSIT6kdqbznuWNGFpI0iO+k4eYAGcOS2L8v5/Au163BldDGHxTnnl h42MWTyx7v0UBHKvI+WSC2rQq0x7a2WyswQ9lpqGbvShUSyR8/z6c0XEasDhhB3X AQcsIH5ndKzS7GnQMVNjgFCyzr/7+TMBXJdJS3XyC3oi5yTX5qwt3RkZN1DXozkk eHxzow5eE7cSHFFYboxFCcWmZNeHL/wQJms0pW2UL2crmXhVtj5RsG9fxh0nQnxm zrMbn+PxQaW8Xh+Z5HWQ65PSt7dg8k4Y+pGD115/kG1U2PltlcoOLUwHLp24ptaa Chj1tNg/VSWpMCaXeDmrk5xiZIRHe/P1p18+iTOQ2GXP4MBmfDwX9lHfQxTht/qB +ikBy4bVqJmMDew4QAmHgPhRXzRwTH4lIMoYGPX3+TAGovdy5IZjaQtvahcAEQEA AYkCPAQYAQoAJhYhBNaBHtOt7rhEGvWqj0Uots2eYe8mBQJcq7+KAhsMBQkLRzUA AAoJEEUots2eYe8m/ggQAMWoPyvNCEs1HTVpOOyLsEbQhLvCcjRjJxHKGg9z8nIW pFSPXjlThnRR3UwIQHVgf+5OYMvIvaQ5yLWLMP1QdN/wZLKHLaKv6QxgXdLmr3F5 9qhoV3NbBvgkFlzvJrHYH75sJglX60W7QysXxYinlsPhQeTWjca5/VjUTOgGhLDM Q/UCClcPA0Q12Q7U/eomYnmFDJdxPH6U9ZA6UQTdLWVCvK1chL3Fj1eq/11d/0S/ 7CQvZObYRKX1kkaJAwSt7C6iq8nvrCWVVuxaXRqI/6Qi4Z6CSNB+2tk2W66J52Wm PaodvnLlu+im3qtTWLLa3R+ZFRwNK9xPIR+XbA/HggOkG/JeAZYgB8shIVhuPdQc zZi2hHIVUTPvhnxNgeioia2Zu++2WKpf6LEGNlwADFOVedfea0am23ImV2YOhEHz hSvhdhiM3W8XtK3ZQbyUiumAXQrMhamoaHytdQUMEU/nmaLygKPHjUNixsliknU6 jxFIQStHSuF3b2hdM3W+Cw8ziUInpz5Dgw9uV0G3h/FGv0tjjgmbyTdUIjbQNUxk pzA2H6IBEMaVTdNuGEqPU+xySSoOSU3eg3Hey4hR1CZln5cky0bwZRziCQYmfpn1 KE7aoxDPbBBJ0Y3k/i8CfnPiaBeWY+3o63Z9IeICg17nNva8OYpQnUVXXHhkJIc0 =u0aK -----END PGP PUBLIC KEY BLOCK----- ,,54,0
openstack%2Fpuppet-openstack-integration~master~Ifa0b15c46ebc6a70697df5b42b41ee1db51fa820,openstack/puppet-openstack-integration,master,Ifa0b15c46ebc6a70697df5b42b41ee1db51fa820,Install the proper version from puppetlabs,MERGED,2021-01-23 23:04:26.000000000,2021-01-25 20:02:57.000000000,2021-01-25 20:02:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 23:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6555592a86903b7a1838cd20d1832a24d78377c5', 'message': 'Install the proper version of puppet release\n\nWe now always install puppet 5 during integration tests, but that\nversion should be selected according to job definitions.\n\nChange-Id: Ifa0b15c46ebc6a70697df5b42b41ee1db51fa820\n'}, {'number': 2, 'created': '2021-01-23 23:14:09.000000000', 'files': ['playbooks/prepare-node-common.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/811f30adf132b7c8f6c74b78bfae0eb82695188a', 'message': 'Install the proper version from puppetlabs\n\nNow we always install puppet 5 when we install puppet from puppetlabs,\nbut that version should be selected according to job definitions.\n\nChange-Id: Ifa0b15c46ebc6a70697df5b42b41ee1db51fa820\n'}]",0,772171,811f30adf132b7c8f6c74b78bfae0eb82695188a,8,3,2,9816,,,0,"Install the proper version from puppetlabs

Now we always install puppet 5 when we install puppet from puppetlabs,
but that version should be selected according to job definitions.

Change-Id: Ifa0b15c46ebc6a70697df5b42b41ee1db51fa820
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/772171/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/prepare-node-common.yaml', 'zuul.d/base.yaml']",2,6555592a86903b7a1838cd20d1832a24d78377c5,puppet6, puppet: 6,,4,3
openstack%2Fpuppet-openstack-integration~master~Idfec192debc3841d91420aae6ca3a4cbcd1c83b1,openstack/puppet-openstack-integration,master,Idfec192debc3841d91420aae6ca3a4cbcd1c83b1,Use el package instead of fedora package on CentOS8,MERGED,2021-01-23 23:04:26.000000000,2021-01-25 20:02:48.000000000,2021-01-25 20:02:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 23:04:26.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d620c393ec4aa8ae322a03d0d6edbd63ac01b473', 'message': 'Use el package instead of fedora package on CentOS8\n\nChange-Id: Idfec192debc3841d91420aae6ca3a4cbcd1c83b1\n'}]",0,772170,d620c393ec4aa8ae322a03d0d6edbd63ac01b473,7,3,1,9816,,,0,"Use el package instead of fedora package on CentOS8

Change-Id: Idfec192debc3841d91420aae6ca3a4cbcd1c83b1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/70/772170/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,d620c393ec4aa8ae322a03d0d6edbd63ac01b473,puppet6," - name: Set up puppetlabs repo (Fedora) - name: Install puppetlabs puppet-agent (Fedora) - ansible_distribution == ""Fedora"" - name: Set up puppetlabs repo (CentOS/RHEL) - name: Install puppetlabs puppet-agent (CentOS/RHEL)"," - name: Set up puppetlabs repo (Fedora or CentOS/RHEL>=8) - name: Install puppetlabs puppet-agent (Fedora or CentOS/RHEL>=8) - ansible_distribution == ""Fedora"" or ansible_distribution_major_version >= ""8"" - name: Set up puppetlabs repo (CentOS/RHEL<=7) - name: Install puppetlabs puppet-agent (CentOS/RHEL<=7) - ansible_distribution_major_version <= ""7""",5,6
openstack%2Fpuppet-openstack-integration~master~I8657f6733cbd397c52b3f7f7de9017c34e1ed2e0,openstack/puppet-openstack-integration,master,I8657f6733cbd397c52b3f7f7de9017c34e1ed2e0,Capture status of sustemd services,MERGED,2021-01-23 14:26:21.000000000,2021-01-25 20:02:33.000000000,2021-01-25 20:02:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 14:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed2f85dbe7ce81b1ff593126f59bb57f27a05dd7', 'message': 'Capture status of sustemd services\n\nThis change allows us to check status of each systemd services in logs\nso that we can debug any issues with service start/stop.\n\nChange-Id: I8657f6733cbd397c52b3f7f7de9017c34e1ed2e0\n'}, {'number': 2, 'created': '2021-01-23 14:43:58.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a89ca320aa029efab68161bd66f94f8fb4ceaa3b', 'message': 'Capture status of sustemd services\n\nThis change allows us to check status of each systemd services in logs\nso that we can debug any issues with service start/stop.\n\nChange-Id: I8657f6733cbd397c52b3f7f7de9017c34e1ed2e0\n'}]",0,772154,a89ca320aa029efab68161bd66f94f8fb4ceaa3b,8,3,2,9816,,,0,"Capture status of sustemd services

This change allows us to check status of each systemd services in logs
so that we can debug any issues with service start/stop.

Change-Id: I8657f6733cbd397c52b3f7f7de9017c34e1ed2e0
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/54/772154/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,ed2f85dbe7ce81b1ff593126f59bb57f27a05dd7,systemd,sudo systemctl status --all 2>/dev/null > $LOG_DIR/systemctl.txt,,1,0
openstack%2Fpuppet-openstack-integration~master~Ie965151027dba330fb867c6ef28a36132e755d91,openstack/puppet-openstack-integration,master,Ie965151027dba330fb867c6ef28a36132e755d91,CentOS: Install gpg keys from repository,MERGED,2021-01-23 12:49:23.000000000,2021-01-25 20:02:25.000000000,2021-01-25 20:02:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 12:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e1ff15adcb508b5ebba6a54da0f187946f0a4175', 'message': 'CentOS: Install gpg keys from repository\n\n... instead of maintaining copies in our own repo.\n\nChange-Id: Ie965151027dba330fb867c6ef28a36132e755d91\n'}, {'number': 2, 'created': '2021-01-23 12:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/11d0133156f157fc1daa41dc83d652dc7b11ce70', 'message': 'CentOS: Install gpg keys from repository\n\n... instead of maintaining copies in our own repo.\n\nChange-Id: Ie965151027dba330fb867c6ef28a36132e755d91\n'}, {'number': 3, 'created': '2021-01-23 12:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e3e4c1c818ce13a12efbb0748cfafa648aab592f', 'message': 'CentOS: Install gpg keys from repository\n\n... instead of maintaining copies in our own repo.\n\nChange-Id: Ie965151027dba330fb867c6ef28a36132e755d91\n'}, {'number': 4, 'created': '2021-01-23 12:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/077fa4e0a1a152a1571454781bc5315a408c8cfc', 'message': 'CentOS: Install gpg keys from repository\n\n... instead of maintaining copies in our own repo.\n\nChange-Id: Ie965151027dba330fb867c6ef28a36132e755d91\n'}, {'number': 5, 'created': '2021-01-23 14:43:40.000000000', 'files': ['functions', 'files/GPG-KEY-puppet', 'files/GPG-KEY-puppet-20250406'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eda1d55cf30a8ace4e2b0819ccfc9f4934a0909b', 'message': 'CentOS: Install gpg keys from repository\n\n... instead of maintaining copies in our own repo.\n\nChange-Id: Ie965151027dba330fb867c6ef28a36132e755d91\n'}]",0,772153,eda1d55cf30a8ace4e2b0819ccfc9f4934a0909b,12,3,5,9816,,,0,"CentOS: Install gpg keys from repository

... instead of maintaining copies in our own repo.

Change-Id: Ie965151027dba330fb867c6ef28a36132e755d91
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/772153/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/GPG-KEY-puppetlabs', 'functions']",2,e1ff15adcb508b5ebba6a54da0f187946f0a4175,bug/1912871, $SUDO rpm --import ${NODEPOOL_PUPPETLABS_MIRROR}/RPM-GPG-KEY-puppetlabs $SUDO rpm --import ${NODEPOOL_PUPPETLABS_MIRROR}/RPM-GPG-KEY-puppet $SUDO rpm --import ${NODEPOOL_PUPPETLABS_MIRROR}/RPM-GPG-KEY-puppet-20250406gpgkey=${NODEPOOL_PUPPETLABS_MIRROR}/RPM-GPG-KEY-puppetlabs ${NODEPOOL_PUPPETLABS_MIRROR}/RPM-GPG-KEY-puppet ${NODEPOOL_PUPPETLABS_MIRROR}/RPM-GPG-KEY-puppet-20250406, $SUDO rpm --import files/GPG-KEY-puppetlabs $SUDO rpm --import files/GPG-KEY-puppet $SUDO rpm --import files/GPG-KEY-puppet-20250406gpgkey=file:///etc/pki/rpm-gpg/GPG-KEY-puppetlabs file:///etc/pki/rpm-gpg/GPG-KEY-puppet file:///etc/pki/rpm-gpg/GPG-KEY-puppet-20250406,6,59
openstack%2Fvirtualbmc~master~I3e510bf626fc913069009075b4a28ee2face7ae1,openstack/virtualbmc,master,I3e510bf626fc913069009075b4a28ee2face7ae1,Update minversion of tox,MERGED,2021-01-22 09:50:12.000000000,2021-01-25 19:45:04.000000000,2021-01-25 19:43:08.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 09:50:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/5630176fd001fbb4358794d3e4c9e9418f5af26d', 'message': 'Update minversion of tox\n\nThe minimum version since when tox accepts having inline comments\nin deps is 3.9.0\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17\n\nChange-Id: I3e510bf626fc913069009075b4a28ee2face7ae1\n'}]",0,771955,5630176fd001fbb4358794d3e4c9e9418f5af26d,8,3,1,23851,,,0,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I3e510bf626fc913069009075b4a28ee2face7ae1
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/55/771955/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5630176fd001fbb4358794d3e4c9e9418f5af26d,tox-min-version-parse-comments,minversion = 3.9.0,minversion = 3.2.1,1,1
openstack%2Fpuppet-ceilometer~master~Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,openstack/puppet-ceilometer,master,Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,Remove transformers from pipeline.yaml,MERGED,2021-01-19 13:05:30.000000000,2021-01-25 19:35:33.000000000,2021-01-25 19:31:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 13:05:30.000000000', 'files': ['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5b8f5d0490f43f43a62cee9718c75290e30473cf', 'message': 'Remove transformers from pipeline.yaml\n\nThis change removes usage of transformers from pipeline.yaml because\nsupport of transofermer was already removed from ceilometer[1].\n\n[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798\n\nChange-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab\n'}]",0,771441,5b8f5d0490f43f43a62cee9718c75290e30473cf,8,3,1,9816,,,0,"Remove transformers from pipeline.yaml

This change removes usage of transformers from pipeline.yaml because
support of transofermer was already removed from ceilometer[1].

[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798

Change-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/41/771441/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb']",2,5b8f5d0490f43f43a62cee9718c75290e30473cf,bug/1912345,," - name: cpu_source meters: - ""cpu"" sinks: - cpu_sink - cpu_delta_sink - name: disk_source meters: - ""disk.device.read.bytes"" - ""disk.device.read.requests"" - ""disk.device.write.bytes"" - ""disk.device.write.requests"" sinks: - disk_sink - name: network_source meters: - ""network.incoming.bytes"" - ""network.incoming.packets"" - ""network.outgoing.bytes"" - ""network.outgoing.packets"" sinks: - network_sink transformers: publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_sink transformers: - name: ""rate_of_change"" parameters: target: name: ""cpu_util"" unit: ""%"" type: ""gauge"" scale: ""100.0 / (10**9 * (resource_metadata.cpu_number or 1))"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_delta_sink transformers: - name: ""delta"" parameters: target: name: ""cpu.delta"" growth_only: True publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: disk_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""disk\\.device\\.(read|write)\\.(bytes|requests)"" unit: ""(B|request)"" target: map_to: name: ""disk.device.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: network_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""network\\.(incoming|outgoing)\\.(bytes|packets)"" unit: ""(B|packet)"" target: map_to: name: ""network.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge""",6,81
openstack%2Fpuppet-ceilometer~master~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,master,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-01-15 05:54:06.000000000,2021-01-25 19:34:07.000000000,2021-01-25 19:31:49.000000000,"[{'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 05:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/4a9d4fc9f4bb60c0a4bfafafdc06c42ca805261a', 'message': 'Replace disk.* metrics by disk.device.* metrics\n\nThe disk.* metrics have already removed from ceilometer[1] and we\nshould use the disk.device.* metrics instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n'}, {'number': 2, 'created': '2021-01-15 05:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/7b8836d6f089923bc9d4aa2a04205808449343a1', 'message': 'Replace disk.* metrics by disk.device.* metrics\n\nThe disk.* metrics have already removed from ceilometer[1] and we\nshould use the disk.device.* metrics instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n'}, {'number': 3, 'created': '2021-01-15 06:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/e54ec3e8f97d9749a2e05ee1bb7b2aee7dbaf3e6', 'message': 'Replace disk.* meters by disk.device.* meters\n\nThe disk.* meters have already removed from ceilometer[1] and we\nshould use the disk.device.* meters instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n'}, {'number': 4, 'created': '2021-01-15 12:05:07.000000000', 'files': ['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/682ef848b7ecfd417f1160a7da496742fff4d9f3', 'message': 'Replace disk.* meters by disk.device.* meters\n\nThe disk.* meters have already removed from ceilometer[1] and we\nshould use the disk.device.* meters instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n'}]",1,770880,682ef848b7ecfd417f1160a7da496742fff4d9f3,15,4,4,9816,,,0,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/80/770880/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/pipeline.yaml.erb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml']",3,4a9d4fc9f4bb60c0a4bfafafdc06c42ca805261a,bug/1911852,"--- fixes: - | Now the default meters use disk.device metrics instead of disk metrics, so that disk performance data can be captured by default. ",,9,8
openstack%2Fpuppet-ceilometer~master~Iea1240e97e62da03ddc485602ed9099a39bff875,openstack/puppet-ceilometer,master,Iea1240e97e62da03ddc485602ed9099a39bff875,Update cpu meters of hardware resource,MERGED,2021-01-15 11:33:34.000000000,2021-01-25 19:31:53.000000000,2021-01-25 19:31:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 11:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f49d9a9cecf214e2ab710564b46748e4d84a99ca', 'message': 'Update cpu meters of hardware resource\n\nTHe hardware.cpu.util is now deprecated and ceilometer now supports\nsome other meters to get cpu utils per usage.\nThis change updates the default meters defined to follow the change[1]\nin ceilometer.\n\n[1] 8fd68396af595a2ba009591c9e53a1b55557b311\n\nChange-Id: Iea1240e97e62da03ddc485602ed9099a39bff875\n'}, {'number': 2, 'created': '2021-01-15 11:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/994e56c633646e6818d6b8910a641b7bc0bd2239', 'message': 'Update cpu meters of hardware resource\n\nTHe hardware.cpu.util is now deprecated and ceilometer now supports\nsome other meters to get cpu utils per usage.\nThis change updates the default meters defined to follow the change[1]\nin ceilometer.\n\n[1] 8fd68396af595a2ba009591c9e53a1b55557b311\n\nChange-Id: Iea1240e97e62da03ddc485602ed9099a39bff875\n'}, {'number': 3, 'created': '2021-01-15 11:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3e47185aff19db18d903c323967ef43ebfe39409', 'message': 'Update cpu meters of hardware resource\n\nTHe hardware.cpu.util is now deprecated and ceilometer now supports\nsome other meters to get cpu utils per usage.\nThis change updates the default meters defined to follow the change[1]\nin ceilometer.\n\n[1] 8fd68396af595a2ba009591c9e53a1b55557b311\n\nChange-Id: Iea1240e97e62da03ddc485602ed9099a39bff875\n'}, {'number': 4, 'created': '2021-01-15 12:07:49.000000000', 'files': ['releasenotes/notes/hardware-cpu-meters-664cb6753d5efc81.yaml', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5d8685175d89c75263ee9640f5302a0a4f6f67c8', 'message': 'Update cpu meters of hardware resource\n\nThe hardware.cpu.util is deprecated and ceilometer now supports meters\nto get cpu utils per usage like usr, sys and so on.\nThis change updates the default meters to follow the change[1] in\nceilometer.\n\n[1] 8fd68396af595a2ba009591c9e53a1b55557b311\n\nChange-Id: Iea1240e97e62da03ddc485602ed9099a39bff875\n'}]",0,770927,5d8685175d89c75263ee9640f5302a0a4f6f67c8,10,3,4,9816,,,0,"Update cpu meters of hardware resource

The hardware.cpu.util is deprecated and ceilometer now supports meters
to get cpu utils per usage like usr, sys and so on.
This change updates the default meters to follow the change[1] in
ceilometer.

[1] 8fd68396af595a2ba009591c9e53a1b55557b311

Change-Id: Iea1240e97e62da03ddc485602ed9099a39bff875
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/27/770927/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp']",2,f49d9a9cecf214e2ab710564b46748e4d84a99ca,hardware-cpu," 'hardware.cpu.user', 'hardware.cpu.nice', 'hardware.cpu.system', 'hardware.cpu.idel', 'hardware.cpu.wait', 'hardware.cpu.kernel', 'hardware.cpu.interrupt',",,14,0
openstack%2Ftripleo-operator-ansible~master~Ide3c0c134be76b1fc4e160e5b2fcdb2efc36dcb2,openstack/tripleo-operator-ansible,master,Ide3c0c134be76b1fc4e160e5b2fcdb2efc36dcb2,Bump version for release,MERGED,2020-12-09 16:13:16.000000000,2021-01-25 19:29:58.000000000,2021-01-25 19:29:58.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-09 16:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/87bcfa3e7df0385a90637ab96959347bc8808f3f', 'message': 'Bump version for release\n\nBumping version to 0.4.1 in preparation for a release to include stream\nrelated additions.\n\nChange-Id: Ide3c0c134be76b1fc4e160e5b2fcdb2efc36dcb2\n'}, {'number': 2, 'created': '2020-12-17 17:44:19.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ad757e33e31501c062ba1c9257134920471f3e0e', 'message': 'Bump version for release\n\nBumping version to 0.4.1 in preparation for a release to include stream\nrelated additions.\n\nChange-Id: Ide3c0c134be76b1fc4e160e5b2fcdb2efc36dcb2\n'}]",0,766259,ad757e33e31501c062ba1c9257134920471f3e0e,11,3,2,14985,,,0,"Bump version for release

Bumping version to 0.4.1 in preparation for a release to include stream
related additions.

Change-Id: Ide3c0c134be76b1fc4e160e5b2fcdb2efc36dcb2
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/59/766259/2 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,87bcfa3e7df0385a90637ab96959347bc8808f3f,stream,version: 0.4.1,version: 0.4.0,1,1
openstack%2Fsushy~stable%2Fvictoria~I5f7c57881ad1c576cd338454292b5eb828bf1e12,openstack/sushy,stable/victoria,I5f7c57881ad1c576cd338454292b5eb828bf1e12,Raise exception when async operation fails,MERGED,2021-01-25 16:50:49.000000000,2021-01-25 19:26:59.000000000,2021-01-25 19:25:23.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 28128}]","[{'number': 1, 'created': '2021-01-25 16:50:49.000000000', 'files': ['releasenotes/notes/raise-error-on-async-task-failure-b67c7bc189a4d6ca.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/aeeb416714f9b1ea9e735b717547c844f09fa598', 'message': 'Raise exception when async operation fails\n\nIn the _op() method of class Connector, an exception is raised when\na synchronous operation fails (status_code >= 400). But no exception is\nraised when a blocking asynchronous operation fails.\n\nThis patch fixes the asynchronous case to raise the appropriate\nexception if the operation fails.\n\nChange-Id: I5f7c57881ad1c576cd338454292b5eb828bf1e12\nStory: 2003514\nTask: 41299\n(cherry picked from commit 1f4f654267f5ac9cba9c5dbc8f623133fb316f93)\n'}]",0,772397,aeeb416714f9b1ea9e735b717547c844f09fa598,11,4,1,23851,,,0,"Raise exception when async operation fails

In the _op() method of class Connector, an exception is raised when
a synchronous operation fails (status_code >= 400). But no exception is
raised when a blocking asynchronous operation fails.

This patch fixes the asynchronous case to raise the appropriate
exception if the operation fails.

Change-Id: I5f7c57881ad1c576cd338454292b5eb828bf1e12
Story: 2003514
Task: 41299
(cherry picked from commit 1f4f654267f5ac9cba9c5dbc8f623133fb316f93)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/97/772397/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/raise-error-on-async-task-failure-b67c7bc189a4d6ca.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,aeeb416714f9b1ea9e735b717547c844f09fa598,task/41299-stable/victoria," @mock.patch('sushy.connector.time.sleep', autospec=True) def test_blocking_task_fails(self, mock_sleep): response1 = mock.MagicMock(spec=requests.Response) response1.status_code = http_client.ACCEPTED response1.headers = { 'retry-after': 5, 'location': '/redfish/v1/taskmon/1' } response2 = mock.MagicMock(spec=requests.Response) response2.status_code = http_client.BAD_REQUEST message = 'Unable to create Volume with given parameters' response2.json.return_value = { 'error': { 'message': message } } self.request.side_effect = [response1, response1, response2] with self.assertRaisesRegex(exceptions.BadRequestError, message): self.conn._op('POST', 'http://foo.bar', blocking=True)",,26,0
openstack%2Fpython-manilaclient~master~I41fc08f29149cf12abbf7ca75fd30f897061bd05,openstack/python-manilaclient,master,I41fc08f29149cf12abbf7ca75fd30f897061bd05,Add a waiter to share extend/shrink,MERGED,2021-01-13 06:44:37.000000000,2021-01-25 18:58:44.000000000,2021-01-22 22:12:29.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-01-13 06:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/19a43fd62901d33cd4ba5447235d0aa71427ff23', 'message': 'WIP:Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}, {'number': 2, 'created': '2021-01-13 15:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/805b4002f1cc68bdd901da7f48e51304ca650c71', 'message': 'WIP: Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}, {'number': 3, 'created': '2021-01-13 19:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bc3227e0e37248563efdc1630064076426f2f23d', 'message': 'WIP: Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}, {'number': 4, 'created': '2021-01-18 16:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0739e9e45a51ebbefaccf9b3cae13702c302f8cc', 'message': 'Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}, {'number': 5, 'created': '2021-01-21 18:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7342fe6a977168985307a12c8a14ef7f65047800', 'message': 'Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}, {'number': 6, 'created': '2021-01-22 09:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b4c0398cfd47bdbecbadbb1817d05ddf49236a7f', 'message': 'Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}, {'number': 7, 'created': '2021-01-22 09:17:54.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898308-add-wait-to-share-extend-shrink-c9cc413c50d9832a.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/153aa61146abcce593ddd82231de6ce2ec88f211', 'message': 'Add a waiter to share extend/shrink\n\nThis option enables ""extend"" and ""shrink""\ncommands to wait until the action has completed.\n\nChange-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05\nPartially-implements: bp add-wait-to-async-commands\nCloses-Bug: #1898308\n'}]",9,770537,153aa61146abcce593ddd82231de6ce2ec88f211,25,3,7,32635,,,0,"Add a waiter to share extend/shrink

This option enables ""extend"" and ""shrink""
commands to wait until the action has completed.

Change-Id: I41fc08f29149cf12abbf7ca75fd30f897061bd05
Partially-implements: bp add-wait-to-async-commands
Closes-Bug: #1898308
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/37/770537/3 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898308-add-wait-to-share-extend-shrink-c9cc413c50d9832a.yaml']",2,19a43fd62901d33cd4ba5447235d0aa71427ff23,bug/1898308,"--- features: - | The commands ""manila extend"" and ""manila shrink"" now accept an optional ""--wait"" option that allows users to let the client poll for the completion of the operation. ",,29,0
openstack%2Fneutron~master~Ib4b06c7877a7343f4204d4f4f5863931717ff507,openstack/neutron,master,Ib4b06c7877a7343f4204d4f4f5863931717ff507,Do not report ovs agent state if ovs is dead,MERGED,2021-01-11 04:13:24.000000000,2021-01-25 18:53:43.000000000,2021-01-17 10:31:26.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 04:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60dc764e37e1bf7fbfc979498309e6bdfdf8fe81', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 2, 'created': '2021-01-12 01:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0543b95220897b9cb94da9df78c27260db1f90ef', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 3, 'created': '2021-01-12 02:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9114b6b70185f67f0e30cdb998a77a95198a0840', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 4, 'created': '2021-01-12 02:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/693e0c2b43a826370f8c92c0ca1f2f59294274dc', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 5, 'created': '2021-01-12 09:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9746f688b359fc7ec6e83517cdd65dd4b91ba0a2', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 6, 'created': '2021-01-12 13:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9751108dfe678e67b331acb4a0b022b7c8bf8e7e', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 7, 'created': '2021-01-12 14:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bee75da90cb6ce15aadf7949ef59a42457da67c1', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 8, 'created': '2021-01-12 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efafdfff0224dac6e850ed7a6b8ffe95247d7d4b', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 9, 'created': '2021-01-13 00:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36b8da01422e477ff3f06f802ac3d0b4ee3dc671', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin counld determine there is a problem\nfor the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910947\n'}, {'number': 10, 'created': '2021-01-13 08:22:32.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/bug-7dc8245da8e0e571.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d8f3fd614e4149dfd6ab67749f64ee0ef62afc7', 'message': 'Do not report ovs agent state if ovs is dead\n\nDo not report ovs agent state when ovs is dead,\nand let neutron-server mark service as down. So\ncluster admin could determine there is a problem\nof the given ovs agent\n\nChange-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507\nCloses-Bug: #1910946\n'}]",14,770058,5d8f3fd614e4149dfd6ab67749f64ee0ef62afc7,77,6,10,29071,,,0,"Do not report ovs agent state if ovs is dead

Do not report ovs agent state when ovs is dead,
and let neutron-server mark service as down. So
cluster admin could determine there is a problem
of the given ovs agent

Change-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507
Closes-Bug: #1910946
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/770058/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,60dc764e37e1bf7fbfc979498309e6bdfdf8fe81,bug/1910946," self.ovs_status = None if self.ovs_status == constants.OVS_DEAD: LOG.warning(""ovs is dead"") return self.ovs_status = self.check_ovs_status() if self.ovs_status == constants.OVS_RESTARTED: elif self.ovs_status == constants.OVS_DEAD: ovs_restarted |= (self.ovs_status == constants.OVS_RESTARTED)", ovs_status = self.check_ovs_status() if ovs_status == constants.OVS_RESTARTED: elif ovs_status == constants.OVS_DEAD: ovs_restarted |= (ovs_status == constants.OVS_RESTARTED),9,4
openstack%2Frequirements~master~I4419192444876f24570e08ec1a8f01bd78a4fec1,openstack/requirements,master,I4419192444876f24570e08ec1a8f01bd78a4fec1,update constraint for osc-placement to new release 2.2.0,MERGED,2021-01-25 12:10:53.000000000,2021-01-25 18:51:34.000000000,2021-01-25 18:49:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 12:10:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9856f4bf4bedf60670ac659387c9995c2f8dfb8', 'message': 'update constraint for osc-placement to new release 2.2.0\n\nmeta: version: 2.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I12e6a9232b0dc7c7ae325cb7394a8923e4733902\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I4419192444876f24570e08ec1a8f01bd78a4fec1\n'}]",0,772326,c9856f4bf4bedf60670ac659387c9995c2f8dfb8,8,2,1,11131,,,0,"update constraint for osc-placement to new release 2.2.0

meta: version: 2.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I12e6a9232b0dc7c7ae325cb7394a8923e4733902
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I4419192444876f24570e08ec1a8f01bd78a4fec1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/772326/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c9856f4bf4bedf60670ac659387c9995c2f8dfb8,new-release,osc-placement===2.2.0,osc-placement===2.1.0,1,1
openstack%2Fmanila~stable%2Fvictoria~I60e4057dc962d96cff57dea88587a28c2043b499,openstack/manila,stable/victoria,I60e4057dc962d96cff57dea88587a28c2043b499,[NetApp] Fix access rules for CIFS promoted replica,MERGED,2020-10-14 12:45:47.000000000,2021-01-25 18:41:56.000000000,2020-11-20 04:33:11.000000000,"[{'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-10-14 12:45:47.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/1896949-netapp-fix-cifs-access-rules-promoted-replica-70b32991cc90e1ca.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/c857b94e8a8aae1f471ebbde8b49beaad41ef431', 'message': '[NetApp] Fix access rules for CIFS promoted replica\n\nThis patch fixes the access rules for NetApp promote replica when\nusing CIFS protocol. When promoting a replica, the NetApp ONTAP\ndriver updates the access rules for the promoted CIFS share entity\nbefore actually creating it, failing on having those rules\napplied.\n\nThe bug is fixed by switching the order of updating the access\nand creating the promoted CIFS share entity.\n\nChange-Id: I60e4057dc962d96cff57dea88587a28c2043b499\nCloses-Bug: #1896949\n(cherry picked from commit 0c4d1e339801bb9d346dfa5a29af2ab76517bbd7)\n'}]",0,758106,c857b94e8a8aae1f471ebbde8b49beaad41ef431,27,6,1,31721,,,0,"[NetApp] Fix access rules for CIFS promoted replica

This patch fixes the access rules for NetApp promote replica when
using CIFS protocol. When promoting a replica, the NetApp ONTAP
driver updates the access rules for the promoted CIFS share entity
before actually creating it, failing on having those rules
applied.

The bug is fixed by switching the order of updating the access
and creating the promoted CIFS share entity.

Change-Id: I60e4057dc962d96cff57dea88587a28c2043b499
Closes-Bug: #1896949
(cherry picked from commit 0c4d1e339801bb9d346dfa5a29af2ab76517bbd7)
",git fetch https://review.opendev.org/openstack/manila refs/changes/06/758106/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/1896949-netapp-fix-cifs-access-rules-promoted-replica-70b32991cc90e1ca.yaml']",2,c857b94e8a8aae1f471ebbde8b49beaad41ef431,bug/1896949,--- fixes: - | Fixed an issue on ONTAP NetApp driver that caused access rules not to be applied to a promoted replica using CIFS protocol. Please refer to the `Launchpad bug #1896949 <https://bugs.launchpad.net/manila/+bug/1896949>`_ for more details. ,,10,2
openstack%2Fpuppet-octavia~master~I63a585b34eaeb5350dbbd72936b4949ebd96e0f0,openstack/puppet-octavia,master,I63a585b34eaeb5350dbbd72936b4949ebd96e0f0,Use consistent parameter names for quota options,MERGED,2021-01-24 02:21:57.000000000,2021-01-25 18:30:42.000000000,2021-01-25 18:28:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 02:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/b68730f031ef8b034dc1e68a9afd2fb800194324', 'message': 'Use consistent parameter names for quota options\n\nThis change renames parameters of octavia::quota options, so that we\nuse consistent parameter names with the definitions in Octavia.\n\nChange-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0\n'}, {'number': 2, 'created': '2021-01-24 02:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ff292e280ed5f9a8cad078d776298d69f556a51a', 'message': 'Use consistent parameter names for quota options\n\nThis change renames parameters of octavia::quota options, so that we\nuse consistent parameter names with the definitions in Octavia.\n\nChange-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0\n'}, {'number': 3, 'created': '2021-01-24 02:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/aa99b5cba225022026799205af3b0595d5458005', 'message': 'Use consistent parameter names for quota options\n\nThis change renames parameters of octavia::quota options, so that we\nuse consistent parameter names with the definitions in Octavia.\n\nChange-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0\n'}, {'number': 4, 'created': '2021-01-24 04:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/e655784aebaea9b03978698bcae184e9df05848f', 'message': 'Use consistent parameter names for quota options\n\nThis change renames parameters of octavia::quota options, so that we\nuse consistent parameter names with the definitions in Octavia.\n\nChange-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0\n'}, {'number': 5, 'created': '2021-01-24 07:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a0a2c575ee4d034de0bd40f59c785b8f7c4b18fe', 'message': 'Use consistent parameter names for quota options\n\nThis change renames parameters of octavia::quota options, so that we\nuse consistent parameter names with the definitions in Octavia.\n\nChange-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0\n'}, {'number': 6, 'created': '2021-01-24 08:47:43.000000000', 'files': ['spec/classes/octavia_quota_spec.rb', 'manifests/quota.pp', 'releasenotes/notes/octavia-quota-default-2f256d6e40fd1510.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/7d5b8aafc8fdce1f3d8f44e6fa00479811260c50', 'message': 'Use consistent parameter names for quota options\n\nThis change renames parameters of octavia::quota options, so that we\nuse consistent parameter names with the definitions in Octavia.\n\nChange-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0\n'}]",0,772180,7d5b8aafc8fdce1f3d8f44e6fa00479811260c50,13,3,6,9816,,,0,"Use consistent parameter names for quota options

This change renames parameters of octavia::quota options, so that we
use consistent parameter names with the definitions in Octavia.

Change-Id: I63a585b34eaeb5350dbbd72936b4949ebd96e0f0
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/80/772180/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_quota_spec.rb', 'manifests/quota.pp', 'releasenotes/notes/octavia-quota-default-2f256d6e40fd1510.yaml']",3,b68730f031ef8b034dc1e68a9afd2fb800194324,quota-param-names,"--- deprecations: - | Now all parameters of the ``quota::class`` class are prefixed with ``defualt_``, to be consistent with the pramete names in Octavia. All exisitng parameters without the ``default_`` prefix are deprecated and will be removed in a future release. ",,105,29
openstack%2Fpuppet-gnocchi~master~Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,openstack/puppet-gnocchi,master,Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,Improve unit test coverage of gnocchi::storage::swift,MERGED,2021-01-23 23:33:01.000000000,2021-01-25 18:17:30.000000000,2021-01-25 18:17:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 23:33:01.000000000', 'files': ['spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/7c3ec9872806b7ad286e45199c0fde6f59facf1c', 'message': 'Improve unit test coverage of gnocchi::storage::swift\n\nCurrently we only test swift_endpoint_type, but we should test all\noptions to ensure all available options work.\n\nChange-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e\n'}]",0,772173,7c3ec9872806b7ad286e45199c0fde6f59facf1c,7,3,1,9816,,,0,"Improve unit test coverage of gnocchi::storage::swift

Currently we only test swift_endpoint_type, but we should test all
options to ensure all available options work.

Change-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/73/772173/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_storage_swift_spec.rb'],1,7c3ec9872806b7ad286e45199c0fde6f59facf1c,swift-ut," context 'with specific parameters' do :swift_user => 'swift2', :swift_key => 'admin', :swift_authurl => 'http://localhost:5000', :swift_project_name => 'service', :swift_user_domain_name => 'Default', :swift_project_domain_name => 'Default', :swift_region => 'regionOne', :swift_auth_version => 2, :swift_endpoint_type => 'publicURL', is_expected.to contain_gnocchi_config('storage/driver').with_value('swift') is_expected.to contain_gnocchi_config('storage/swift_user').with_value('swift2') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin') is_expected.to contain_gnocchi_config('storage/swift_authurl').with_value('http://localhost:5000') is_expected.to contain_gnocchi_config('storage/swift_project_name').with_value('service') is_expected.to contain_gnocchi_config('storage/swift_user_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_project_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_region').with_value('regionOne') is_expected.to contain_gnocchi_config('storage/swift_auth_version').with_value(2) is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('publicURL')", context 'with swift_endpoint_type set' do :swift_endpoint_type => 'internalURL' is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('internalURL'),21,3
openstack%2Fkolla~master~I820541de3e60786f005f16edc4357c6d611f79e4,openstack/kolla,master,I820541de3e60786f005f16edc4357c6d611f79e4,Update projects in README.rst,MERGED,2021-01-14 11:14:04.000000000,2021-01-25 17:55:48.000000000,2021-01-25 17:53:36.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-14 11:14:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/efc5cdaec9f0e678a53ddc7ca46db2924d3bb2f9', 'message': 'Update projects in README.rst\n\nPer deprecations.\n\nChange-Id: I820541de3e60786f005f16edc4357c6d611f79e4\n'}]",0,770788,efc5cdaec9f0e678a53ddc7ca46db2924d3bb2f9,9,5,1,30491,,,0,"Update projects in README.rst

Per deprecations.

Change-Id: I820541de3e60786f005f16edc4357c6d611f79e4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/770788/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,efc5cdaec9f0e678a53ddc7ca46db2924d3bb2f9,update-readme,,- `Almanach <https://almanach.readthedocs.io/>`__- `Dragonflow <https://docs.openstack.org/dragonflow/latest/>`__ - `EC2-API <https://wiki.openstack.org/wiki/EC2API>`__- `Zaqar <https://docs.openstack.org/zaqar/latest/>`__- `Certmonger <https://pagure.io/certmonger>`__ a service to simplify interaction with CAs on networks which use PKI.- `Linux ptp <http://linuxptp.sourceforge.net/>`__ an implementation of the Precision Time Protocol (PTP) according to IEEE standard 1588 for Linux.,0,8
openstack%2Fpatrole~master~Ib582c984796cbcd93fdb3a505d0b3fcdf6a2fbf2,openstack/patrole,master,Ib582c984796cbcd93fdb3a505d0b3fcdf6a2fbf2,Remove the tests for unsupported Nova APIs,MERGED,2021-01-14 21:22:27.000000000,2021-01-25 17:43:41.000000000,2021-01-25 17:41:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2021-01-14 21:22:27.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_floating_ips_bulk_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_virtual_interfaces_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_fixed_ips_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/f5699576d85bf29e9bc9f9160307db8d00ad5086', 'message': 'Remove the tests for unsupported Nova APIs\n\nChange-Id: Ib582c984796cbcd93fdb3a505d0b3fcdf6a2fbf2\n'}]",0,770867,f5699576d85bf29e9bc9f9160307db8d00ad5086,8,4,1,6732,,,0,"Remove the tests for unsupported Nova APIs

Change-Id: Ib582c984796cbcd93fdb3a505d0b3fcdf6a2fbf2
",git fetch https://review.opendev.org/openstack/patrole refs/changes/67/770867/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/compute/test_floating_ips_bulk_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_virtual_interfaces_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_fixed_ips_rbac.py']",3,f5699576d85bf29e9bc9f9160307db8d00ad5086,remove-unsupported-api-tests,,"# Copyright 2017 NEC Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.lib import decorators from patrole_tempest_plugin import rbac_rule_validation from patrole_tempest_plugin.tests.api.compute import rbac_base CONF = config.CONF class FixedIpsRbacTest(rbac_base.BaseV2ComputeRbacTest): # Tests will fail with a 404 starting from microversion 2.36: # See the following link for details: # https://docs.openstack.org/api-ref/compute/#fixed-ips-os-fixed-ips-deprecated max_microversion = '2.35' @classmethod def skip_checks(cls): super(FixedIpsRbacTest, cls).skip_checks() if CONF.service_available.neutron: msg = (""%s skipped as neutron is available"" % cls.__name__) raise cls.skipException(msg) @classmethod def resource_setup(cls): super(FixedIpsRbacTest, cls).resource_setup() server = cls.create_test_server(wait_until='ACTIVE') server = cls.servers_client.show_server(server['id'])['server'] cls.ip = None for ip_set in server['addresses']: for ip in server['addresses'][ip_set]: if ip['OS-EXT-IPS:type'] == 'fixed': cls.ip = ip['addr'] break if cls.ip: break if cls.ip is None: raise cls.skipException(""No fixed ip found for server: %s"" % server['id']) @decorators.idempotent_id('c89391f7-4844-4a70-a116-37c1336efb99') @rbac_rule_validation.action( service=""nova"", rules=[""os_compute_api:os-fixed-ips""]) def test_show_fixed_ip_details(self): with self.override_role(): self.fixed_ips_client.show_fixed_ip(self.ip) @decorators.idempotent_id('f0314501-735d-4315-9856-959e01e82f0d') @rbac_rule_validation.action( service=""nova"", rules=[""os_compute_api:os-fixed-ips""]) def test_set_reserve(self): with self.override_role(): self.fixed_ips_client.reserve_fixed_ip(self.ip, reserve=""None"") @decorators.idempotent_id('866a6fdc-a237-4502-9bf2-52fe82aba356') @rbac_rule_validation.action( service=""nova"", rules=[""os_compute_api:os-fixed-ips""]) def test_set_unreserve(self): with self.override_role(): self.fixed_ips_client.reserve_fixed_ip(self.ip, unreserve=""None"") ",0,254
openstack%2Fironic~master~I89588c05806d6ec86c57781cd558b9424ea0fa8a,openstack/ironic,master,I89588c05806d6ec86c57781cd558b9424ea0fa8a,Add tempest default_boot_option and altflavor,NEW,2020-07-20 08:12:20.000000000,2021-01-25 17:24:57.000000000,,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-20 08:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/107a470d991e9261a177ac60d07df06f8bbfc01d', 'message': 'Add tempest default_boot_option\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 2, 'created': '2020-07-20 13:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4052e5f687b6f68e718ed0af2a5e8c034c7fcd04', 'message': 'Add tempest default_boot_option\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 3, 'created': '2020-07-28 09:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/22a487510b8a2697763c3cee1250b832aa34c8c8', 'message': 'Add tempest default_boot_option and altflavor\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 4, 'created': '2020-07-28 10:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4980752e9770bb6e149cb9cb6b9b875264a32e43', 'message': 'Add tempest default_boot_option and altflavor\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 5, 'created': '2020-07-28 14:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a09b201103a739f5565acf5373dcb8993ab29f51', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 6, 'created': '2020-07-30 12:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9edcf1fcc5646046e1e5daf1c4bb661ebd300397', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 7, 'created': '2020-07-30 20:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52692507f69a45104c188ee2b6a0ce27efb85f00', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 8, 'created': '2020-08-06 23:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e0fa92b795e5f852073deedbe6827cf7df2c1e7', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 9, 'created': '2020-08-07 08:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5567696900e9af507eeb7bf42de62ee10f2614a', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 10, 'created': '2020-08-19 08:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbd453c2bc4835784846fc7602f94a10811bccc8', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nSet node-0 to local boot and node-1 to netboot if nova is enabled.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 11, 'created': '2020-08-20 15:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ff379d68d1a7e7315ff92456de84ed76836d947', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nSet node-0 to local boot and node-1 to netboot if nova is enabled.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 12, 'created': '2020-08-25 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eedbc93a3071e5d799168782a5836a4d8a863013', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nSet node-0 to local boot and node-1 to netboot if nova is enabled.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 13, 'created': '2020-08-26 13:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c83a84f0c9f57182443ed962224ee2dc2243ee9', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nSet node-0 to local boot and node-1 to netboot if nova is enabled.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 14, 'created': '2020-08-28 13:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5211917ca2c3db87aac853e8f654cd3508e002a', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nSet node-0 to local boot and node-1 to netboot if nova is enabled.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 15, 'created': '2020-08-31 15:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b10593269f9791e675799da7ecb02c1b199f31cc', 'message': 'Add tempest default_boot_option and altflavor\n\nChange ironic-tempest-ipa-partition-uefi-pxe-grub2 and\nironic-tempest-ipa-partition-uefi-pxe_ipmitool to use local.\n\nSet node-0 to local boot and node-1 to netboot if nova is enabled.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}, {'number': 16, 'created': '2020-08-31 21:14:16.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/48b7d3eac035f3ab973bdbd78739bedcb0663602', 'message': 'Add tempest default_boot_option and altflavor\n\nIf nova is enabled and  IRONIC_DEFAULT_BOOT_OPTION is set to `netboot`\nall nodes will have `boot_option:netboot` set, otherwise\nwe node-0 to local boot and node-1 to netboot.\n\nDepends-On: https://review.opendev.org/#/c/741445\nChange-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a\n'}]",5,741886,48b7d3eac035f3ab973bdbd78739bedcb0663602,144,8,16,15519,,,0,"Add tempest default_boot_option and altflavor

If nova is enabled and  IRONIC_DEFAULT_BOOT_OPTION is set to `netboot`
all nodes will have `boot_option:netboot` set, otherwise
we node-0 to local boot and node-1 to netboot.

Depends-On: https://review.opendev.org/#/c/741445
Change-Id: I89588c05806d6ec86c57781cd558b9424ea0fa8a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/741886/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,107a470d991e9261a177ac60d07df06f8bbfc01d,add_boot_option," if [[ -n ""$IRONIC_DEFAULT_BOOT_OPTION"" ]]; then iniset $TEMPEST_CONFIG baremetal default_boot_option $IRONIC_DEFAULT_BOOT_OPTION fi",,3,0
openstack%2Frpm-packaging~master~I3b52f9fa895c8a782083010ee28a38ba850a9ce3,openstack/rpm-packaging,master,I3b52f9fa895c8a782083010ee28a38ba850a9ce3,python-barbicanclient: skip failing tests,MERGED,2021-01-25 15:36:33.000000000,2021-01-25 17:17:35.000000000,2021-01-25 17:17:35.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 15:36:33.000000000', 'files': ['openstack/python-barbicanclient/python-barbicanclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/078154b7552afca1ca463760c928339283198af6', 'message': 'python-barbicanclient: skip failing tests\n\nthis test also fails upstream, ignore it until fixed\n\nChange-Id: I3b52f9fa895c8a782083010ee28a38ba850a9ce3\n'}]",0,772361,078154b7552afca1ca463760c928339283198af6,9,5,1,6593,,,0,"python-barbicanclient: skip failing tests

this test also fails upstream, ignore it until fixed

Change-Id: I3b52f9fa895c8a782083010ee28a38ba850a9ce3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/61/772361/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-barbicanclient/python-barbicanclient.spec.j2'],1,078154b7552afca1ca463760c928339283198af6,,python3 -m stestr.cli run \ --black-regex 'barbicanclient.tests.test_barbican.WhenTestingBarbicanCLI.test_should_show_usage_with_help_flag',python3 -m stestr.cli run,2,1
openstack%2Foctavia-lib~master~I01268f7afac8f6356616f3926d6fe9c1ec31b2b5,openstack/octavia-lib,master,I01268f7afac8f6356616f3926d6fe9c1ec31b2b5,Add alpn_protocols to the pool data model,MERGED,2020-09-15 18:56:13.000000000,2021-01-25 17:11:16.000000000,2021-01-25 17:09:00.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-15 18:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/d423f8eda5a7b702891092d3358a4f42e7cfdf5a', 'message': 'Add alpn_protocols to the pool data model\n\nThis change completes the ALPN support started in Victoria and initially\nlimited to listeners. Now with pools supported as well, this feature\nwork is completed in octavia-lib.\n\nChange-Id: I01268f7afac8f6356616f3926d6fe9c1ec31b2b5\n'}, {'number': 2, 'created': '2021-01-22 17:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ba6a58cdfba0f56acc36e734b1ce322f76cd4340', 'message': 'Add alpn_protocols to the pool data model\n\nThis change completes the ALPN support started in Victoria and initially\nlimited to listeners. Now with pools supported as well, this feature\nwork is completed in octavia-lib.\n\nChange-Id: I01268f7afac8f6356616f3926d6fe9c1ec31b2b5\n'}, {'number': 3, 'created': '2021-01-25 16:31:13.000000000', 'files': ['releasenotes/notes/add-pool-alpn-protocols-a791538ab214e780.yaml', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/0bc8c6a0b843ecd71ba3795ca7010ca42b3c417f', 'message': 'Add alpn_protocols to the pool data model\n\nThis change completes the ALPN support started in Victoria and initially\nlimited to listeners. Now with pools supported as well, this feature\nwork is completed in octavia-lib.\n\nChange-Id: I01268f7afac8f6356616f3926d6fe9c1ec31b2b5\n'}]",0,752094,0bc8c6a0b843ecd71ba3795ca7010ca42b3c417f,21,5,3,6469,,,0,"Add alpn_protocols to the pool data model

This change completes the ALPN support started in Victoria and initially
limited to listeners. Now with pools supported as well, this feature
work is completed in octavia-lib.

Change-Id: I01268f7afac8f6356616f3926d6fe9c1ec31b2b5
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/94/752094/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-pool-alpn-protocols-a791538ab214e780.yaml', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py']",3,d423f8eda5a7b702891092d3358a4f42e7cfdf5a,http2," project_id=Unset, tls_versions=Unset, tls_ciphers=Unset, alpn_protocols=Unset): self.alpn_protocols = alpn_protocols"," project_id=Unset, tls_versions=Unset, tls_ciphers=Unset):",19,3
openstack%2Ftripleo-validations~master~I2bc8a79629518d23b45621d3cf079edc44ef802f,openstack/tripleo-validations,master,I2bc8a79629518d23b45621d3cf079edc44ef802f,Local var was redefining built-in range,MERGED,2021-01-13 10:13:10.000000000,2021-01-25 16:59:22.000000000,2021-01-19 13:38:32.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 10:13:10.000000000', 'files': ['library/network_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cdae6dd822124674d016cac7453cf4eb7e4d7805', 'message': 'Local var was redefining built-in range\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2bc8a79629518d23b45621d3cf079edc44ef802f\n'}]",0,770567,cdae6dd822124674d016cac7453cf4eb7e4d7805,9,6,1,32926,,,0,"Local var was redefining built-in range

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2bc8a79629518d23b45621d3cf079edc44ef802f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/770567/1 && git format-patch -1 --stdout FETCH_HEAD,['library/network_environment.py'],1,cdae6dd822124674d016cac7453cf4eb7e4d7805,pep8/rangeredefinition, for address_range in pool_objs: if address_range not in subnet_obj: for other in [r for r in pool_objs if r != address_range]: if address_range.first in other or address_range.last in other:, for range in pool_objs: if range not in subnet_obj: for other in [r for r in pool_objs if r != range]: if range.first in other or range.last in other:,4,4
openstack%2Fcharm-nova-cell-controller~master~I15770da6cfae46446c361cbff83940f4036c1cac,openstack/charm-nova-cell-controller,master,I15770da6cfae46446c361cbff83940f4036c1cac,Add Groovy to the test gate,MERGED,2020-11-05 11:51:47.000000000,2021-01-25 16:58:31.000000000,2021-01-25 16:58:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/a692e416dfa9504989d588713f69e925c6715ea6', 'message': 'Add Groovy to the test gate\n\nChange-Id: I15770da6cfae46446c361cbff83940f4036c1cac\n'}, {'number': 2, 'created': '2021-01-08 09:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/08f7e8d27bbaf13ee0409220356897e95ce9c672', 'message': 'Add Groovy to the test gate\n\nChange-Id: I15770da6cfae46446c361cbff83940f4036c1cac\n'}, {'number': 3, 'created': '2021-01-22 08:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/430ca516b3af61d21f0f5827f9f19a82f6e9138a', 'message': 'Add Groovy to the test gate\n\nChange-Id: I15770da6cfae46446c361cbff83940f4036c1cac\n'}, {'number': 4, 'created': '2021-01-25 10:17:02.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/e94a55a11a8321640a289f3057b61bbed482b27b', 'message': 'Add Groovy to the test gate\n\nChange-Id: I15770da6cfae46446c361cbff83940f4036c1cac\n'}]",0,761577,e94a55a11a8321640a289f3057b61bbed482b27b,22,3,4,31289,,,0,"Add Groovy to the test gate

Change-Id: I15770da6cfae46446c361cbff83940f4036c1cac
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/77/761577/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,a692e416dfa9504989d588713f69e925c6715ea6,groovy-charm-gate, - groovy-victoria,dev_bundles: - groovy-victoria ,1,3
openstack%2Foctavia-lib~master~Id0c035fd8e83ad088520b264e2727fc1a42dd3e2,openstack/octavia-lib,master,Id0c035fd8e83ad088520b264e2727fc1a42dd3e2,Fix lower-constraints,MERGED,2021-01-22 15:47:08.000000000,2021-01-25 16:44:58.000000000,2021-01-25 16:41:26.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 15:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/3de7a01d3c0e4671b2a77865da3bb15d7e8d0cc6', 'message': 'Fix lower-constraints\n\nChange-Id: Id0c035fd8e83ad088520b264e2727fc1a42dd3e2\n'}, {'number': 2, 'created': '2021-01-22 18:19:17.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c6fb93a53d4824a5c53ae7428dc3fb3e74abf8c0', 'message': 'Fix lower-constraints\n\nChange-Id: Id0c035fd8e83ad088520b264e2727fc1a42dd3e2\n'}]",1,771997,c6fb93a53d4824a5c53ae7428dc3fb3e74abf8c0,13,4,2,29244,,,0,"Fix lower-constraints

Change-Id: Id0c035fd8e83ad088520b264e2727fc1a42dd3e2
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/97/771997/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3de7a01d3c0e4671b2a77865da3bb15d7e8d0cc6,,pylint==2.5.3six==1.12,pylint==1.9.2six==1.10.0,2,2
openstack%2Fpuppet-aodh~master~If82dc6054483893433634ca81f446e6959dcd038,openstack/puppet-aodh,master,If82dc6054483893433634ca81f446e6959dcd038,Ensure coordination_url is unset by default,MERGED,2020-12-30 12:00:48.000000000,2021-01-25 16:30:07.000000000,2021-01-25 16:27:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-30 12:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8a67624936808240b575776f6c17ef5be429d8ac', 'message': 'Ensure coordination_url is unset by default\n\nThis change ensures that the coordination_url option is not unmanaged\nbut unset, to make sure that the default value defined in aodh itself\nis used.\n\nChange-Id: If82dc6054483893433634ca81f446e6959dcd038\n'}, {'number': 2, 'created': '2020-12-31 01:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/12a4bc84f689370d664d5b2cf4a815765af27152', 'message': 'Ensure coordination_url is unset by default\n\nThis change ensures that the coordination_url option is not unmanaged\nbut unset, to make sure that the default value defined in aodh itself\nis used.\n\nChange-Id: If82dc6054483893433634ca81f446e6959dcd038\n'}, {'number': 3, 'created': '2021-01-14 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f300b96eaebb65d3561f153814a856ee96acc4fe', 'message': 'Ensure coordination_url is unset by default\n\nThis change ensures that the coordination_url option is not unmanaged\nbut unset, to make sure that the default value defined in aodh itself\nis used.\n\nChange-Id: If82dc6054483893433634ca81f446e6959dcd038\n'}, {'number': 4, 'created': '2021-01-14 15:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/750869bd6ecdfd29a95d891dd674b11eec06a9bf', 'message': 'Ensure coordination_url is unset by default\n\nThis change ensures that the coordination_url option is not unmanaged\nbut unset, to make sure that the default value defined in aodh itself\nis used.\n\nChange-Id: If82dc6054483893433634ca81f446e6959dcd038\n'}, {'number': 5, 'created': '2021-01-18 06:58:32.000000000', 'files': ['spec/classes/aodh_evaluator_spec.rb', 'releasenotes/notes/coordination_url-default-848a85543fd36e20.yaml', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/bc846d7f150926da2b0e469a978ea6c5c00e9c67', 'message': 'Ensure coordination_url is unset by default\n\nThis change ensures that the coordination_url option is not unmanaged\nbut unset, to make sure that the default value defined in aodh itself\nis used.\n\nChange-Id: If82dc6054483893433634ca81f446e6959dcd038\n'}]",0,768777,bc846d7f150926da2b0e469a978ea6c5c00e9c67,21,3,5,9816,,,0,"Ensure coordination_url is unset by default

This change ensures that the coordination_url option is not unmanaged
but unset, to make sure that the default value defined in aodh itself
is used.

Change-Id: If82dc6054483893433634ca81f446e6959dcd038
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/77/768777/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_evaluator_spec.rb', 'manifests/evaluator.pp', 'releasenotes/notes/coordination_url-default-848a85543fd36e20.yaml']",3,8a67624936808240b575776f6c17ef5be429d8ac,coordination_url-default,--- deprecations: - | Default value of the ``aodh::evaluator::coordination_url`` parameter has been changed from ``undef`` to ``$::os_service_default``. Usage of ``undef`` or false value has been deprecated and will be removed in a future release. Use ``$::os_service_default`` instead. ,,20,5
openstack%2Fpuppet-aodh~master~Id64fc407d19aa546512078f67df3a727fd9f5525,openstack/puppet-aodh,master,Id64fc407d19aa546512078f67df3a727fd9f5525,Add support for workers option,MERGED,2020-12-30 11:50:12.000000000,2021-01-25 16:28:48.000000000,2021-01-25 16:27:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-30 11:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/aac6c89c16e0ed14b77a3b19561708fbead6fc4f', 'message': 'Add support for workers option\n\nThis change introduces support for workers option of aodh services\n(evaluator, listener, notifier) so that operators can define number\nof processes used in each service.\n\nChange-Id: Id64fc407d19aa546512078f67df3a727fd9f5525\n'}, {'number': 2, 'created': '2020-12-31 01:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e1cb3933a1deff5980baa1afe2ccbd8a314ad030', 'message': 'Add support for workers option\n\nThis change introduces support for workers option of aodh services\n(evaluator, listener, notifier) so that operators can define number\nof processes used in each service.\n\nChange-Id: Id64fc407d19aa546512078f67df3a727fd9f5525\n'}, {'number': 3, 'created': '2021-01-14 15:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/18caaeaf54477e6255eb1398a974ab1ee3baeb7f', 'message': 'Add support for workers option\n\nThis change introduces support for workers option of aodh services\n(evaluator, listener, notifier) so that operators can define number\nof processes used in each service.\n\nChange-Id: Id64fc407d19aa546512078f67df3a727fd9f5525\n'}, {'number': 4, 'created': '2021-01-14 15:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/33773c16c1356a2d95f98fa471ca4908ade663db', 'message': 'Add support for workers option\n\nThis change introduces support for workers option of aodh services\n(evaluator, listener, notifier) so that operators can define number\nof processes used in each service.\n\nChange-Id: Id64fc407d19aa546512078f67df3a727fd9f5525\n'}, {'number': 5, 'created': '2021-01-18 06:58:32.000000000', 'files': ['releasenotes/notes/workers-054d3bafa34171d9.yaml', 'manifests/notifier.pp', 'spec/classes/aodh_listener_spec.rb', 'manifests/listener.pp', 'spec/classes/aodh_evaluator_spec.rb', 'spec/classes/aodh_notifier_spec.rb', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ae9b91107dffa80c3674a80f6c3a28ffa403d5bb', 'message': 'Add support for workers option\n\nThis change introduces support for workers option of aodh services\n(evaluator, listener, notifier) so that operators can define number\nof processes used in each service.\n\nChange-Id: Id64fc407d19aa546512078f67df3a727fd9f5525\n'}]",2,768776,ae9b91107dffa80c3674a80f6c3a28ffa403d5bb,25,3,5,9816,,,0,"Add support for workers option

This change introduces support for workers option of aodh services
(evaluator, listener, notifier) so that operators can define number
of processes used in each service.

Change-Id: Id64fc407d19aa546512078f67df3a727fd9f5525
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/76/768776/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/workers-054d3bafa34171d9.yaml', 'manifests/notifier.pp', 'manifests/listener.pp', 'spec/classes/aodh_evaluator_spec.rb', 'spec/classes/aodh_listener_spec.rb', 'spec/classes/aodh_notifier_spec.rb', 'manifests/evaluator.pp']",7,aac6c89c16e0ed14b77a3b19561708fbead6fc4f,coordination_url-default,"# [*workers*] # (optional) Number of workers for evaluator service. # Defaults to $::os_service_default. # $workers = $::os_service_default, 'evaluator/workers' : value => $workers; } ", },71,1
openstack%2Fkolla~master~I616ab0d81b961effaa3b4a8639b1d06327473f08,openstack/kolla,master,I616ab0d81b961effaa3b4a8639b1d06327473f08,remove unicode from code,MERGED,2021-01-03 04:57:46.000000000,2021-01-25 16:12:15.000000000,2021-01-25 16:10:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32324}]","[{'number': 1, 'created': '2021-01-03 04:57:46.000000000', 'files': ['doc/source/conf.py', 'docker/swift/swift-base/swift-rootwrap', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/62b37f04539f861b6b40783a4d8ea5f1dc0197d7', 'message': 'remove unicode from code\n\nChange-Id: I616ab0d81b961effaa3b4a8639b1d06327473f08\nImplements: blueprint remove-unicode\n'}]",0,768951,62b37f04539f861b6b40783a4d8ea5f1dc0197d7,12,6,1,32029,,,0,"remove unicode from code

Change-Id: I616ab0d81b961effaa3b4a8639b1d06327473f08
Implements: blueprint remove-unicode
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/768951/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'docker/swift/swift-base/swift-rootwrap', 'releasenotes/source/conf.py']",3,62b37f04539f861b6b40783a4d8ea5f1dc0197d7,remove-unicode,"project = 'Kolla Release Notes' copyright = '2015, Kolla developers' ('index', 'KollaReleaseNotes.tex', 'Kolla Release Notes Documentation', 'Kolla developers', 'manual'), ('index', 'kollareleasenotes', 'Kolla Release Notes Documentation', ['Kolla developers'], 1) ('index', 'KollaReleaseNotes', 'Kolla Release Notes Documentation', 'Kolla developers', 'KollaReleaseNotes',","project = u'Kolla Release Notes' copyright = u'2015, Kolla developers' ('index', 'KollaReleaseNotes.tex', u'Kolla Release Notes Documentation', u'Kolla developers', 'manual'), ('index', 'kollareleasenotes', u'Kolla Release Notes Documentation', [u'Kolla developers'], 1) ('index', 'KollaReleaseNotes', u'Kolla Release Notes Documentation', u'Kolla developers', 'KollaReleaseNotes',",13,13
openstack%2Fproject-config~master~Ib0ba945e91956cb76504893bd9924d4b70d4ffb6,openstack/project-config,master,Ib0ba945e91956cb76504893bd9924d4b70d4ffb6,"Revert ""Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""""",MERGED,2021-01-25 15:20:15.000000000,2021-01-25 15:54:58.000000000,2021-01-25 15:47:52.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 15:20:15.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7181a05d964d6b323107c11bcd76e76aae44164c', 'message': 'Revert ""Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""""\n\nThis reverts commit fa9e37d729869698f7f9149f4cdb533a79e8a5cf.\n\nStill seeing a significant percentage of nodes becoming\nunreachable/broken during builds, turn it back off again while we\ndig deeper in service logs.\n\nChange-Id: Ib0ba945e91956cb76504893bd9924d4b70d4ffb6\n'}]",0,772355,7181a05d964d6b323107c11bcd76e76aae44164c,8,3,1,5263,,,0,"Revert ""Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""""

This reverts commit fa9e37d729869698f7f9149f4cdb533a79e8a5cf.

Still seeing a significant percentage of nodes becoming
unreachable/broken during builds, turn it back off again while we
dig deeper in service logs.

Change-Id: Ib0ba945e91956cb76504893bd9924d4b70d4ffb6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/772355/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,7181a05d964d6b323107c11bcd76e76aae44164c,inap-nodes, max-servers: 0, max-servers: 95,1,1
openstack%2Fkolla~master~I87208f28d768fb7cbadd13424a3bc2debaec22df,openstack/kolla,master,I87208f28d768fb7cbadd13424a3bc2debaec22df,version-check: handle more situations,ABANDONED,2020-02-27 11:06:18.000000000,2021-01-25 15:53:23.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-27 11:06:18.000000000', 'files': ['tools/version-check.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d78cefc367bfbdaa1da96ae16e37de59ee72c63b', 'message': 'version-check: handle more situations\n\nIn Train mistal-dashboard got own YAML file and has version 9.0.0 there.\nBut there was also 9.0.1 mistral-dashboard release which is not listed\nthere. Instead it is listed in mistal.yaml file.\n\nSo in order to handle it version-check script first checks is project\nalready in table and compares versions to make sure we do not overwrite\nwith older version.\n\nChange-Id: I87208f28d768fb7cbadd13424a3bc2debaec22df\n'}]",4,710229,d78cefc367bfbdaa1da96ae16e37de59ee72c63b,13,4,1,24072,,,0,"version-check: handle more situations

In Train mistal-dashboard got own YAML file and has version 9.0.0 there.
But there was also 9.0.1 mistral-dashboard release which is not listed
there. Instead it is listed in mistal.yaml file.

So in order to handle it version-check script first checks is project
already in table and compares versions to make sure we do not overwrite
with older version.

Change-Id: I87208f28d768fb7cbadd13424a3bc2debaec22df
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/710229/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/version-check.py'],1,d78cefc367bfbdaa1da96ae16e37de59ee72c63b,," proj_name = project['repo'].split('/')[-1] tarball_base = proj_name # NOTE(hrw): there are yaml files with multiple projects # and there are mistakes like mistral/mistral-dashboard 9.0.1 # in train try: if projects[proj_name]['latest_version'] < latest_version: projects[proj_name] = {'latest_version': latest_version, 'tarball_base': tarball_base} projects[tarball_base] = {'latest_version': latest_version, 'tarball_base': tarball_base} except KeyError: projects[proj_name] = {'latest_version': latest_version, 'tarball_base': tarball_base} projects[tarball_base] = {'latest_version': latest_version, 'tarball_base': tarball_base}"," project_name = project['repo'].split('/')[-1] tarball_base = project_name projects[project_name] = {'latest_version': latest_version, 'tarball_base': tarball_base} projects[tarball_base] = {'latest_version': latest_version, 'tarball_base': tarball_base}",19,6
openstack%2Fnetworking-baremetal~master~I95854d2f83aa158b7805f86b9f98b739f9f2e6b7,openstack/networking-baremetal,master,I95854d2f83aa158b7805f86b9f98b739f9f2e6b7,Add doc/requirements,MERGED,2021-01-04 17:31:11.000000000,2021-01-25 15:45:00.000000000,2021-01-25 15:41:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-04 17:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/39d1ba846c06a7c2d07c8acfa645340688d37490', 'message': 'Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver for the release team.\nRemoved specific doc requirements from test-requirements.txt\n\nChange-Id: I95854d2f83aa158b7805f86b9f98b739f9f2e6b7\n'}, {'number': 2, 'created': '2021-01-13 19:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/f12ae93919d61f3aaee4a262cda3680765cc9b76', 'message': 'Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver for the release team.\nRemoved specific doc requirements from test-requirements.txt\n\nChange-Id: I95854d2f83aa158b7805f86b9f98b739f9f2e6b7\n'}, {'number': 3, 'created': '2021-01-19 17:37:56.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/c43a6f419c854f0b945981230b389a83f39b01a6', 'message': 'Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver for the release team.\nRemoved specific doc requirements from test-requirements.txt\n\nChange-Id: I95854d2f83aa158b7805f86b9f98b739f9f2e6b7\n'}]",3,769172,c43a6f419c854f0b945981230b389a83f39b01a6,15,4,3,15519,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver for the release team.
Removed specific doc requirements from test-requirements.txt

Change-Id: I95854d2f83aa158b7805f86b9f98b739f9f2e6b7
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/72/769172/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,39d1ba846c06a7c2d07c8acfa645340688d37490,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps}deps = {[testenv:docs]deps},,8,9
openstack%2Fkolla~master~I7ad2373327be29cd307db5ce4f7db022829e3b35,openstack/kolla,master,I7ad2373327be29cd307db5ce4f7db022829e3b35,Bump up rally and rally-openstack,MERGED,2021-01-08 11:29:53.000000000,2021-01-25 15:20:15.000000000,2021-01-08 16:21:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-08 11:29:53.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c0eef769db3d951f1e051af49ffcd95b6d6dfb87', 'message': 'Bump up rally and rally-openstack\n\nNew rally and rally-openstack versions released due to incompatibility\nwith latest oslo.config.\n\nChange-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35\n'}]",0,769909,c0eef769db3d951f1e051af49ffcd95b6d6dfb87,11,5,1,22629,,,0,"Bump up rally and rally-openstack

New rally and rally-openstack versions released due to incompatibility
with latest oslo.config.

Change-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/769909/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,c0eef769db3d951f1e051af49ffcd95b6d6dfb87,," 'rally-3.2.0.tar.gz')}, 'rally-openstack-2.1.0.tar.gz')},"," 'rally-3.1.0.tar.gz')}, 'rally-openstack-2.0.0.tar.gz')},",2,2
openstack%2Fkolla~master~I3d101f171bd1cc6f3c192ddc98cea0d63bccb739,openstack/kolla,master,I3d101f171bd1cc6f3c192ddc98cea0d63bccb739,Remove nova-mksproxy image,MERGED,2021-01-14 08:15:03.000000000,2021-01-25 15:17:55.000000000,2021-01-19 13:31:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-14 08:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fbd2e1e84cea2ed5613860c2e52f8e529a3a8143', 'message': 'Remove nova-mksproxy image\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: I3d101f171bd1cc6f3c192ddc98cea0d63bccb739\n'}, {'number': 2, 'created': '2021-01-15 13:09:58.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'docker/nova/nova-mksproxy/Dockerfile.j2', 'doc/source/matrix_aarch64.csv', 'releasenotes/notes/remove-nova-mksproxy-image-bcfa231c8530771d.yaml', 'roles/kolla-build-config/defaults/main.yml', 'tools/version-check.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/36e5ef2d78dda256efc87242d22baffb7059802b', 'message': 'Remove nova-mksproxy image\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: I3d101f171bd1cc6f3c192ddc98cea0d63bccb739\n'}]",0,770729,36e5ef2d78dda256efc87242d22baffb7059802b,15,4,2,167,,,0,"Remove nova-mksproxy image

Signed-off-by: Christian Berendt <berendt@betacloud-solutions.de>
Change-Id: I3d101f171bd1cc6f3c192ddc98cea0d63bccb739
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/770729/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'docker/nova/nova-mksproxy/Dockerfile.j2', 'doc/source/matrix_aarch64.csv', 'releasenotes/notes/remove-nova-mksproxy-image-bcfa231c8530771d.yaml', 'roles/kolla-build-config/defaults/main.yml', 'tools/version-check.py', 'kolla/common/config.py']",8,fbd2e1e84cea2ed5613860c2e52f8e529a3a8143,feat/remove-nova-mksproxy-image,," 'nova-base-plugin-mksproxy': { 'type': 'url', 'location': ('$tarballs_base/openstack/nova-mksproxy/' 'nova-mksproxy-master.tar.gz')},",3,25
openstack%2Fkolla~stable%2Fussuri~I6a06607434b2e30d841d543ea2922f0c13d463f2,openstack/kolla,stable/ussuri,I6a06607434b2e30d841d543ea2922f0c13d463f2,[CI] Stop checking TripleO,MERGED,2021-01-24 10:48:33.000000000,2021-01-25 14:48:59.000000000,2021-01-25 14:38:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-01-24 10:48:33.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c2f355adc3355af04b83bdb544b403bbba9ee3e', 'message': '[CI] Stop checking TripleO\n\nIt has been confirmed [1] that TripleO does not rely on Kolla\nsince Ussuri.\nThe job has been long broken and this patch removes it from the\ncheck queue for Kolla Ussuri.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-kolla/%23openstack-kolla.2021-01-22.log.html#t2021-01-22T16:30:13\n\nChange-Id: I6a06607434b2e30d841d543ea2922f0c13d463f2\n'}]",0,772190,6c2f355adc3355af04b83bdb544b403bbba9ee3e,8,3,1,30491,,,0,"[CI] Stop checking TripleO

It has been confirmed [1] that TripleO does not rely on Kolla
since Ussuri.
The job has been long broken and this patch removes it from the
check queue for Kolla Ussuri.

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-kolla/%23openstack-kolla.2021-01-22.log.html#t2021-01-22T16:30:13

Change-Id: I6a06607434b2e30d841d543ea2922f0c13d463f2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/772190/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,6c2f355adc3355af04b83bdb544b403bbba9ee3e,ci-stop-checking-tripleo,, - tripleo-build-containers-centos-8: voting: false files: - ^docker/.*$ - ^kolla/.*$ - ^requirements.txt$ - ^setup.cfg$ - ^setup.py$,0,8
openstack%2Fkolla-ansible~master~If30b166160136c32dd0b892e4093b1798662e872,openstack/kolla-ansible,master,If30b166160136c32dd0b892e4093b1798662e872,remove the unused variable in mariabackup,MERGED,2021-01-25 06:40:28.000000000,2021-01-25 14:48:38.000000000,2021-01-25 14:37:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-01-25 06:40:28.000000000', 'files': ['ansible/roles/mariadb/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/27f8403ad58f923b7c49d6d5be02d220d22c2f23', 'message': 'remove the unused variable in mariabackup\n\nRemove the unused variable ""mariadb_backup_database_address""\n\nChange-Id: If30b166160136c32dd0b892e4093b1798662e872\n'}]",0,772249,27f8403ad58f923b7c49d6d5be02d220d22c2f23,10,3,1,32245,,,0,"remove the unused variable in mariabackup

Remove the unused variable ""mariadb_backup_database_address""

Change-Id: If30b166160136c32dd0b892e4093b1798662e872
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/772249/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/defaults/main.yml'],1,27f8403ad58f923b7c49d6d5be02d220d22c2f23,mariabackup,,"mariadb_backup_database_address: ""{{ database_address }}""",0,1
openstack%2Fkolla~stable%2Fussuri~I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a,openstack/kolla,stable/ussuri,I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a,Revert virtualenv workaround,MERGED,2021-01-24 16:11:04.000000000,2021-01-25 14:45:39.000000000,2021-01-25 14:36:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-01-24 16:11:04.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d555005ba01c08fe85a55ef779f6a1e7832edfa6', 'message': 'Revert virtualenv workaround\n\nIt should no longer be necessary.\n\nUssuri only.\n\nChange-Id: I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a\n'}]",0,772206,d555005ba01c08fe85a55ef779f6a1e7832edfa6,9,3,1,30491,,,0,"Revert virtualenv workaround

It should no longer be necessary.

Ussuri only.

Change-Id: I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/772206/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/Dockerfile.j2'],1,d555005ba01c08fe85a55ef779f6a1e7832edfa6,revert-virtualenv-workaround," && {{ macros.install_pip(kolla_toolbox_pip_virtualenv_packages | customizable(""pip_virtualenv_packages"")) }} \"," && {{ macros.install_pip(kolla_toolbox_pip_virtualenv_packages | customizable(""pip_virtualenv_packages""), constraints=false) }} \",1,1
openstack%2Fkolla-ansible~master~Id9110a1f536377cea0386dda6814035d73de13b1,openstack/kolla-ansible,master,Id9110a1f536377cea0386dda6814035d73de13b1,remove unicode from code,MERGED,2021-01-03 05:01:17.000000000,2021-01-25 14:45:25.000000000,2021-01-25 14:37:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32324}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-03 05:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73da17997369d333fe835c0eb3b06834ab30702b', 'message': 'remove unicode from code\n\nChange-Id: Id9110a1f536377cea0386dda6814035d73de13b1\nImplements: blueprint remove-unicode\n'}, {'number': 2, 'created': '2021-01-23 09:23:47.000000000', 'files': ['tests/test_kolla_docker.py', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/341a6ed08ef100e2db62d9c0d4db728036ecc1c4', 'message': 'remove unicode from code\n\nChange-Id: Id9110a1f536377cea0386dda6814035d73de13b1\nImplements: blueprint remove-unicode\n'}]",0,768952,341a6ed08ef100e2db62d9c0d4db728036ecc1c4,16,5,2,32029,,,0,"remove unicode from code

Change-Id: Id9110a1f536377cea0386dda6814035d73de13b1
Implements: blueprint remove-unicode
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/768952/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_kolla_docker.py', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'releasenotes/source/conf.py']",4,73da17997369d333fe835c0eb3b06834ab30702b,remove-unicode,"project = 'Kolla Release Notes' copyright = '2015, Kolla developers' ('index', 'KollaReleaseNotes.tex', 'Kolla Release Notes Documentation', 'Kolla developers', 'manual'), ('index', 'kollareleasenotes', 'Kolla Release Notes Documentation', ['Kolla developers'], 1) ('index', 'KollaReleaseNotes', 'Kolla Release Notes Documentation', 'Kolla developers', 'KollaReleaseNotes',","project = u'Kolla Release Notes' copyright = u'2015, Kolla developers' ('index', 'KollaReleaseNotes.tex', u'Kolla Release Notes Documentation', u'Kolla developers', 'manual'), ('index', 'kollareleasenotes', u'Kolla Release Notes Documentation', [u'Kolla developers'], 1) ('index', 'KollaReleaseNotes', u'Kolla Release Notes Documentation', u'Kolla developers', 'KollaReleaseNotes',",26,26
openstack%2Fkolla~master~I4371daf7b28c8a057364d17e2e47f6e22665447c,openstack/kolla,master,I4371daf7b28c8a057364d17e2e47f6e22665447c,base: Debian has QEMU 5.2 now so update pinning,MERGED,2021-01-18 09:53:34.000000000,2021-01-25 14:45:09.000000000,2021-01-25 14:36:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-18 09:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/265bf518322def6497bcb1f3e25eb48bd3700579', 'message': 'base: Debian has QEMU 5.2 now so update pinning\n\nChange-Id: I4371daf7b28c8a057364d17e2e47f6e22665447c\n'}, {'number': 2, 'created': '2021-01-21 15:51:55.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/94271224234932e5572908afc3d07c4f24784d63', 'message': 'base: Debian has QEMU 5.2 now so update pinning\n\nChange-Id: I4371daf7b28c8a057364d17e2e47f6e22665447c\n'}]",0,771177,94271224234932e5572908afc3d07c4f24784d63,15,3,2,24072,,,0,"base: Debian has QEMU 5.2 now so update pinning

Change-Id: I4371daf7b28c8a057364d17e2e47f6e22665447c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/771177/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,265bf518322def6497bcb1f3e25eb48bd3700579,,Pin: version 1:5.*,Pin: version 1:5.0*,1,1
openstack%2Fproject-config~master~I486caabe056d077d6b895221c6e6518d4c7023b3,openstack/project-config,master,I486caabe056d077d6b895221c6e6518d4c7023b3,Add swift-proxy repo in vexxhost tenant,ABANDONED,2021-01-25 12:23:04.000000000,2021-01-25 14:43:20.000000000,,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 12:23:04.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d9a155c98528ce75d2d1b49d77370e6b49685830', 'message': 'Add swift-proxy repo in vexxhost tenant\n\nrelated to https://review.opendev.org/c/zuul/zuul/+/708233\n\nChange-Id: I486caabe056d077d6b895221c6e6518d4c7023b3\n'}]",0,772331,d9a155c98528ce75d2d1b49d77370e6b49685830,4,3,1,31746,,,0,"Add swift-proxy repo in vexxhost tenant

related to https://review.opendev.org/c/zuul/zuul/+/708233

Change-Id: I486caabe056d077d6b895221c6e6518d4c7023b3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/772331/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,d9a155c98528ce75d2d1b49d77370e6b49685830,, - vexxhost/swift-proxy,,4,0
openstack%2Fneutron~master~I0c2062619a72184e6681530de6c074fb3c23635f,openstack/neutron,master,I0c2062619a72184e6681530de6c074fb3c23635f,Implement secure RBAC for security group API,MERGED,2020-12-03 23:04:21.000000000,2021-01-25 14:14:05.000000000,2021-01-25 14:12:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/386f2fa0bcd320f25e34b131df2c3cdddc856be5', 'message': 'Implement secure RBAC for security group API\n\nThis commit updates the security group policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I0c2062619a72184e6681530de6c074fb3c23635f\n'}, {'number': 2, 'created': '2020-12-08 10:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e982d4e218159edee16bd7c42240f583ac86c14', 'message': 'Implement secure RBAC for security group API\n\nThis commit updates the security group policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I0c2062619a72184e6681530de6c074fb3c23635f\n'}, {'number': 3, 'created': '2020-12-15 16:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b2b52c62d19040871f0baff6c45b7b699528192', 'message': 'Implement secure RBAC for security group API\n\nThis commit updates the security group policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I0c2062619a72184e6681530de6c074fb3c23635f\n'}, {'number': 4, 'created': '2020-12-17 12:08:24.000000000', 'files': ['neutron/conf/policies/security_group.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e302cba68a13a3b92180c37ac9331f9855e921f1', 'message': 'Implement secure RBAC for security group API\n\nThis commit updates the security group policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I0c2062619a72184e6681530de6c074fb3c23635f\n'}]",4,765394,e302cba68a13a3b92180c37ac9331f9855e921f1,25,5,4,5046,,,0,"Implement secure RBAC for security group API

This commit updates the security group policies to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I0c2062619a72184e6681530de6c074fb3c23635f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/765394/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/security_group.py'],1,386f2fa0bcd320f25e34b131df2c3cdddc856be5,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The security group API now supports system scope and default roles. """""" deprecated_create_security_group = policy.DeprecatedRule( name='create_security_group', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_get_security_group = policy.DeprecatedRule( name='get_security_group', check_str=base.RULE_ANY ) deprecated_update_security_group = policy.DeprecatedRule( name='update_security_group', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_delete_security_group = policy.DeprecatedRule( name='delete_security_group', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_create_rule = policy.DeprecatedRule( name='create_security_group_rule', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_get_rule = policy.DeprecatedRule( name='get_security_group_rule', check_str=RULE_ADMIN_OWNER_OR_SG_OWNER ) deprecated_delete_rule = policy.DeprecatedRule( name='delete_security_group_rule', check_str=base.RULE_ADMIN_OR_OWNER ) name='admin_or_sg_owner', check_str=base.policy_or( 'rule:context_is_admin', 'tenant_id:%(security_group:tenant_id)s'), name='admin_owner_or_sg_owner', check_str=base.policy_or( 'rule:owner', RULE_ADMIN_OR_SG_OWNER), name='create_security_group', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Create a security group', operations=[ ], deprecated_rule=deprecated_create_security_group, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_security_group', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get a security group', operations=[ ], deprecated_rule=deprecated_get_security_group, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_security_group', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Update a security group', operations=[ ], deprecated_rule=deprecated_update_security_group, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_security_group', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Delete a security group', operations=[ ], deprecated_rule=deprecated_delete_security_group, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_security_group_rule', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Create a security group rule', operations=[ ], deprecated_rule=deprecated_create_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_security_group_rule', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Get a security group rule', operations=[ ], deprecated_rule=deprecated_get_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_security_group_rule', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Delete a security group rule', operations=[ ], deprecated_rule=deprecated_delete_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'admin_or_sg_owner', base.policy_or('rule:context_is_admin', 'tenant_id:%(security_group:tenant_id)s'), 'admin_owner_or_sg_owner', base.policy_or('rule:owner', RULE_ADMIN_OR_SG_OWNER), 'create_security_group', base.RULE_ADMIN_OR_OWNER, 'Create a security group', [ ] 'get_security_group', base.RULE_ANY, 'Get a security group', [ ] 'update_security_group', base.RULE_ADMIN_OR_OWNER, 'Update a security group', [ ] 'delete_security_group', base.RULE_ADMIN_OR_OWNER, 'Delete a security group', [ ] 'create_security_group_rule', base.RULE_ADMIN_OR_OWNER, 'Create a security group rule', [ ] 'get_security_group_rule', RULE_ADMIN_OWNER_OR_SG_OWNER, 'Get a security group rule', [ ] 'delete_security_group_rule', base.RULE_ADMIN_OR_OWNER, 'Delete a security group rule', [ ]",105,41
openstack%2Ftripleo-heat-templates~stable%2Frocky~Id563806777679998412a53c693b02152df1e800e,openstack/tripleo-heat-templates,stable/rocky,Id563806777679998412a53c693b02152df1e800e,[Rocky&QueensOnly] Update ovs to 2.11 without network loss,MERGED,2019-11-28 09:29:39.000000000,2021-01-25 14:11:39.000000000,2021-01-25 14:11:39.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 11604}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-28 09:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2687b79d1007eda47d7cadb6c9251798e584f362', 'message': '[QueensOnly] Update ovs to 2.11 without network loss\n\nDuring the minor update from ovs2.9 to ovs2.11,\nhandled the package name changes to ensure that\novs is not restarted. This change have been handled\nalready on the upgrade path (queens -> rocky). Handle\nthe same in the minor update (update_steps).\n\nThis change is not required in master or other stable\nversions, because all other versions are already\nmigrated to ovs2.11 package and the upgrade path\nis handled.\n\nChange-Id: Id563806777679998412a53c693b02152df1e800e\n(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)\n'}, {'number': 2, 'created': '2019-12-09 16:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01701bd5f14ffdae928f34e5cafc257134164bd9', 'message': '[Rocky&QueensOnly] Update ovs to 2.11 without network loss\n\nDuring the minor update from ovs2.9 to ovs2.11,\nhandled the package name changes to ensure that\novs is not restarted. This change have been handled\nalready on the upgrade path (queens -> rocky). Handle\nthe same in the minor update (update_steps).\n\nThis change is not required in master or other stable\nversions, because all other versions are already\nmigrated to ovs2.11 package and the upgrade path\nis handled.\n\nChange-Id: Id563806777679998412a53c693b02152df1e800e\n(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)\n'}, {'number': 3, 'created': '2020-02-28 23:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c30393286c88f7a2a13063adfd005c186be56660', 'message': '[Rocky&QueensOnly] Update ovs to 2.11 without network loss\n\nDuring the minor update from ovs2.9 to ovs2.11,\nhandled the package name changes to ensure that\novs is not restarted. This change have been handled\nalready on the upgrade path (queens -> rocky). Handle\nthe same in the minor update (update_steps).\n\nThis change is not required in master or other stable\nversions, because all other versions are already\nmigrated to ovs2.11 package and the upgrade path\nis handled.\n\nChange-Id: Id563806777679998412a53c693b02152df1e800e\n(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)\n'}, {'number': 4, 'created': '2020-11-23 18:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ba29017c7dc313cdb3fce3b20a5766154cbc648', 'message': '[Rocky&QueensOnly] Update ovs to 2.11 without network loss\n\nDuring the minor update from ovs2.9 to ovs2.11,\nhandled the package name changes to ensure that\novs is not restarted. This change have been handled\nalready on the upgrade path (queens -> rocky). Handle\nthe same in the minor update (update_steps).\n\nThis change is not required in master or other stable\nversions, because all other versions are already\nmigrated to ovs2.11 package and the upgrade path\nis handled.\n\nChange-Id: Id563806777679998412a53c693b02152df1e800e\n(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)\n'}, {'number': 5, 'created': '2021-01-05 11:09:48.000000000', 'files': ['puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/483b615bdddc2bdc11babeda67e1261a15edc0f6', 'message': '[Rocky&QueensOnly] Update ovs to 2.11 without network loss\n\nDuring the minor update from ovs2.9 to ovs2.11,\nhandled the package name changes to ensure that\novs is not restarted. This change have been handled\nalready on the upgrade path (queens -> rocky). Handle\nthe same in the minor update (update_steps).\n\nThis change is not required in master or other stable\nversions, because all other versions are already\nmigrated to ovs2.11 package and the upgrade path\nis handled.\n\nChange-Id: Id563806777679998412a53c693b02152df1e800e\n(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)\n'}]",2,696482,483b615bdddc2bdc11babeda67e1261a15edc0f6,44,9,5,11166,,,0,"[Rocky&QueensOnly] Update ovs to 2.11 without network loss

During the minor update from ovs2.9 to ovs2.11,
handled the package name changes to ensure that
ovs is not restarted. This change have been handled
already on the upgrade path (queens -> rocky). Handle
the same in the minor update (update_steps).

This change is not required in master or other stable
versions, because all other versions are already
migrated to ovs2.11 package and the upgrade path
is handled.

Change-Id: Id563806777679998412a53c693b02152df1e800e
(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/696482/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-packages.yaml'],1,2687b79d1007eda47d7cadb6c9251798e584f362,rocky," # With the layered product packaging, the key package is rhosp-openvswitch. It depends on # a openvswitch package that includes the version as part of the name (e.g openvswitch2.10). # This requires some additional special handling: # - During an upgrade the package name for openvswitch may change so # upgrading the currently installed package won't do anything. # - The rhosp-openvswitch package ""obsoletes"" several packages, # including older openvswitch packages. This results in a pretty # severe uninstall/install sequence of operations that stops and # removes openvswitch which could break network links required to # continue the upgrade. # - To prevent rhosp-openvswitch breaking connectivity, the currently # installed core openvswitch packages need to be erased from the rpm # database but leave the binaries intact. This effectively # short-circuits the obsoletes mechanism in rhosp-openvswitch and # leaves the core elements of openvswitch running. In the future we # may replace this mechanism with ""an upgrade on reboot"". We only # do this for the core openvswitch packages so other packages # obsoleted by rhosp-openvswitch will be removed when # rhosp-openvswitch is installed/upgraded. # - Neither the rhosp-openvswitch nor openvswitch{m.n} package enables # or starts the systemd service so there must always be a task # to ensure that it is enabled or OpenvSwitch functionality won't be # available on reboot. # - With LP, we expect that the core openvswitch package name will # change with every major upgrade so this special handling will # eventually replace the special handling of upgrading the # openvswitch package ""in place"" - name: Block for gathering information for upgrading OpenvSwitch layered product packaging when: step|int == 2 block: - name: Process rhosp-openvswitch layered package for new version number shell: | set -o pipefail yum info -q rhosp-openvswitch | awk '/^Version/{print $NF}' register: rhosp_package_result ignore_errors: true - name: Set fact for triggering OpenvSwitch layered product package handling set_fact: ovs_lp_packaging: ""{{ rhosp_package_result.rc == 0 }}"" - name: Capture the expected OpenvSwitch version. set_fact: new_ovs_version: ""{{ rhosp_package_result.stdout }}"" when: ovs_lp_packaging|default(false) - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Get version from current OpenvSwitch package register: ovs_version_out shell: rpm -qi ""{{ ovs_pkg_out.stdout }}"" | awk '/^Version/{print $NF}' - name: split numeric version for OpenvSwitch into parts set_fact: ovs_version_parts: ""{{ ovs_version_out.stdout.split('.') }}"" - name: get major minor version for OpenvSwitch package naming set_fact: current_ovs_version: ""{{ ovs_version_parts[0] }}.{{ ovs_version_parts[1] }}"" - name: get OpenvSwitch major version set_fact: current_ovs_major_version: ""{{ ovs_version_parts[0]|int }}"" - name: get OpenvSwitch minor version set_fact: current_ovs_minor_version: ""{{ ovs_version_parts[1]|int }}"" - name: Block for upgrading OpenvSwitch when layer package is present when: - step|int == 2 - ovs_lp_packaging|default(false) block: - name: set current OpenvSwitch package suffix if old version is layered product format set_fact: package_suffix: ""{{ current_ovs_version }}"" when: - current_ovs_major_version|int >= 3 or current_ovs_minor_version|int >=10 - name: remove old OpenvSwitch package(s) if version doesn't match shell: | rpm -e --noscripts --nopreun --nopostun --notriggers --nodeps $(rpm -qa 'openvswitch{{ package_suffix|default('') }}*' | grep -v 'selinux') args: warn: false when: new_ovs_version != current_ovs_version - name: install/upgrade OpenvSwitch LP package package: name: rhosp-openvswitch state: latest",,84,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0e041c6a95a7f53019967f9263df2326b1408c6f,openstack/tripleo-heat-templates,stable/victoria,I0e041c6a95a7f53019967f9263df2326b1408c6f,Serialize shutdown of pacemaker nodes,MERGED,2021-01-21 13:15:12.000000000,2021-01-25 14:11:34.000000000,2021-01-25 14:11:34.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-21 13:15:12.000000000', 'files': ['deployment/containers-common.yaml', 'container_config_scripts/pacemaker_mutex_shutdown.sh', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'container_config_scripts/pacemaker_resource_lock.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e9798caf65296e3849afad3a5dbed12f23c735a', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\nTested the minor update in a composable HA environment:\n  . when run with ""openstack update run"", every role\n    is updated sequentially, and the shutdown lock\n    doesn\'t interfere.\n  . when running multiple ansible tasks in parallel\n    ""openstack update run --limit role<X>"", pacemaker\n    nodes are correctly stopped sequentially thanks\n    to the shutdown lock.\n  . when updating an existing overcloud, the new\n    locking script used in the review is correctly\n    injected on the overcloud, thanks to [3].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n(cherry picked from commit cb55cc8ce538f3e075754b0328872ec075f4cde9)\n'}]",0,771612,8e9798caf65296e3849afad3a5dbed12f23c735a,11,4,1,20778,,,0,"Serialize shutdown of pacemaker nodes

When running minor update in a composable HA, different
roles could run ansible tasks concurrently. However,
there is currently a race when pacemaker nodes are
stopped in parallel [1,2], that could cause nodes to
incorrectly stop themselves once they reconnect to the
cluster.

To prevent concurrent shutdown, use a cluster-wide lock
to signals that one node is about to shutdown, and block
the others until the node disconnects from the cluster.

Tested the minor update in a composable HA environment:
  . when run with ""openstack update run"", every role
    is updated sequentially, and the shutdown lock
    doesn't interfere.
  . when running multiple ansible tasks in parallel
    ""openstack update run --limit role<X>"", pacemaker
    nodes are correctly stopped sequentially thanks
    to the shutdown lock.
  . when updating an existing overcloud, the new
    locking script used in the review is correctly
    injected on the overcloud, thanks to [3].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404
[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb

Closes-Bug: #1904193
Change-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f
(cherry picked from commit cb55cc8ce538f3e075754b0328872ec075f4cde9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/771612/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/containers-common.yaml', 'container_config_scripts/pacemaker_mutex_shutdown.sh', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'container_config_scripts/pacemaker_resource_lock.sh']",4,8e9798caf65296e3849afad3a5dbed12f23c735a,pcmk-shutdown-lock-stable/victoria,"# Retrieve the owner of a lock from the CIB # this is a read-only operation, so no need to log debug info lock_get_owner() { local lockname=$1 local rc local lock local owner lock=$(lock_get $lockname) rc=$? if [ $rc -ne 0 ] && [ $rc -ne $CIB_ENOTFOUND ]; then return 2 fi if [ -z ""$lock"" ]; then return 1 else lock_owner $lock return 0 fi } if [ -z ""$LOCKNAME"" ]; then error ""You must specific a lock name"" fi if [ $ACTION != ""--owner"" ] && [ $ACTION != ""-o"" ]; then if [ -z ""$REQUESTER"" ]; then error ""You must specific a lock requester"" fi --acquire-once|-A) lock_acquire $LOCKNAME $REQUESTER $TTL;; --owner|-o) lock_get_owner $LOCKNAME;;"," if [ -z ""$LOCKNAME"" ] || [ -z ""$REQUESTER"" ]; then error ""You must specific a lock name and a requester""",161,2
openstack%2Fcharm-deployment-guide~master~I47cdf53b2e0a965732994225631c9c5624430582,openstack/charm-deployment-guide,master,I47cdf53b2e0a965732994225631c9c5624430582,Clarify octavia upgrades,MERGED,2021-01-15 02:55:18.000000000,2021-01-25 13:58:54.000000000,2021-01-25 13:57:35.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 02:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/de16a681a5b65277790826991e09dc9d57a324f7', 'message': 'Clarify octavia upgrades\n\nAdd Octavia to the payload upgrade order table, with\nconsiderations given to the update of the amphorae.\n\nDriveby changes related to upgrades:\n\na) terms (Data Plane, Control Plane): to maintain consistency\n   with the rest of the guide\n\nb) charm upgrades: be explicit that subordinate charms are\n   treated like any other\n\nCloses-Bug: #1902756\n\nChange-Id: I47cdf53b2e0a965732994225631c9c5624430582\n'}, {'number': 2, 'created': '2021-01-19 16:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/050b9fb27d8f92469e08f0bd7575e63f3e98fa60', 'message': 'Clarify octavia upgrades\n\nAdd Octavia to the payload upgrade order table, with\nconsiderations given to the update of the amphorae.\n\nDriveby changes related to upgrades:\n\na) terms (Data Plane, Control Plane): to maintain consistency\n   with the rest of the guide\n\nb) charm upgrades: be explicit that subordinate charms are\n   treated like any other\n\nCloses-Bug: #1902756\n\nChange-Id: I47cdf53b2e0a965732994225631c9c5624430582\n'}, {'number': 3, 'created': '2021-01-22 15:33:23.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a9e47eee393c30eba450167850635de9c13fc10a', 'message': 'Clarify octavia upgrades\n\nAdd Octavia to the payload upgrade order table, with\nconsiderations given to the update of the amphorae.\n\nDriveby changes related to upgrades:\n\na) terms (Data Plane, Control Plane): to maintain consistency\n   with the rest of the guide\n\nb) charm upgrades: be explicit that subordinate charms are\n   treated like any other\n\nCloses-Bug: #1902756\n\nChange-Id: I47cdf53b2e0a965732994225631c9c5624430582\n'}]",2,770879,a9e47eee393c30eba450167850635de9c13fc10a,13,2,3,30561,,,0,"Clarify octavia upgrades

Add Octavia to the payload upgrade order table, with
considerations given to the update of the amphorae.

Driveby changes related to upgrades:

a) terms (Data Plane, Control Plane): to maintain consistency
   with the rest of the guide

b) charm upgrades: be explicit that subordinate charms are
   treated like any other

Closes-Bug: #1902756

Change-Id: I47cdf53b2e0a965732994225631c9c5624430582
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/79/770879/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst']",2,de16a681a5b65277790826991e09dc9d57a324f7,bug/1902756,"Subordinate charms do not receive special treatment; they are upgraded as normal, and their upgrade order in relation to their primary charm is of no consequence. ",,30,12
openstack%2Fcharm-octavia~master~I1c045b5990ceba68c9a560e76a8746659e2f8663,openstack/charm-octavia,master,I1c045b5990ceba68c9a560e76a8746659e2f8663,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:04:20.000000000,2021-01-25 13:51:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-25 11:04:20.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/d4c49a61193d68145fdb013a1965393b87ddd1b5', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I1c045b5990ceba68c9a560e76a8746659e2f8663\n'}]",0,772316,d4c49a61193d68145fdb013a1965393b87ddd1b5,3,1,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I1c045b5990ceba68c9a560e76a8746659e2f8663
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/16/772316/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d4c49a61193d68145fdb013a1965393b87ddd1b5,bug/1912505,032677b8-5efb-11eb-ad34-db2504aecff0,502ca048-0e2c-11eb-8723-cb5915cb9126,1,1
openstack%2Fcharm-barbican~master~I6dfb492b7438bbf8a812f8b580098dddcce06b61,openstack/charm-barbican,master,I6dfb492b7438bbf8a812f8b580098dddcce06b61,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:02:21.000000000,2021-01-25 13:50:15.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 11:02:21.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/bd808886c1725cc63ef6819af083607e498794ab', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I6dfb492b7438bbf8a812f8b580098dddcce06b61\n'}]",0,772306,bd808886c1725cc63ef6819af083607e498794ab,4,2,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I6dfb492b7438bbf8a812f8b580098dddcce06b61
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/06/772306/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,bd808886c1725cc63ef6819af083607e498794ab,bug/1912505,f730f1ea-5efa-11eb-bf25-d3552ed4749c,4fc7b7e6-0e2c-11eb-a9d8-870e71103627,1,1
openstack%2Fcharm-masakari~master~I587d14a334ce017a9d9d81fa4171d0e4b473a5c9,openstack/charm-masakari,master,I587d14a334ce017a9d9d81fa4171d0e4b473a5c9,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:03:49.000000000,2021-01-25 13:48:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 11:03:49.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/f44308be4f48a7b409f272f0b277e55bc87e89d2', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I587d14a334ce017a9d9d81fa4171d0e4b473a5c9\n'}]",0,772314,f44308be4f48a7b409f272f0b277e55bc87e89d2,4,2,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I587d14a334ce017a9d9d81fa4171d0e4b473a5c9
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/14/772314/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f44308be4f48a7b409f272f0b277e55bc87e89d2,bug/1912505,09cff6d4-5efb-11eb-9180-6faf2c5152c9,500df8e6-0e2c-11eb-b41f-0fa06b6785d9,1,1
openstack%2Fswift~master~I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14,openstack/swift,master,I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14,Clarify test for get of overlapping shard ranges,NEW,2020-11-17 14:45:45.000000000,2021-01-25 13:16:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-17 14:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/db632b59958b56990afa11d5c90240b20d2660c1', 'message': 'Update unit tests for sharder audit functions\n\nAlso rewrite a container/backend unit test for clarity.\n\nChange-Id: I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14\n'}, {'number': 2, 'created': '2021-01-25 10:03:59.000000000', 'files': ['test/unit/container/test_backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d30035aa4e2e8b19be03748f5090e9e39513c77e', 'message': 'Clarify test for get of overlapping shard ranges\n\nDefine overlapping shards and sub-shards separately to add clarity to\nthe test assertions.\n\nChange-Id: I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14\n'}]",0,763029,d30035aa4e2e8b19be03748f5090e9e39513c77e,4,1,2,7847,,,0,"Clarify test for get of overlapping shard ranges

Define overlapping shards and sub-shards separately to add clarity to
the test assertions.

Change-Id: I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/763029/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'test/unit/container/test_backend.py']",2,db632b59958b56990afa11d5c90240b20d2660c1,p-sharder-audit-unit-test," # while a shard is sharding the root may have both the shard range and # its overlapping sub-shard ranges root_shard_ranges = [ ShardRange('.shards_a/c1', next(self.ts), 'd', 'm', state=ShardRange.SHARDING), ShardRange('.shards_a/c2', next(self.ts), 'm', '', state=ShardRange.ACTIVE), ] # sub-shards of shard c1 sub_shard_ranges = [ shard_ranges = root_shard_ranges + sub_shard_ranges self.assertEqual([dict(sr) for sr in root_shard_ranges[0:1] + sub_shard_ranges[:2] + root_shard_ranges[1:2] + sub_shard_ranges[2:] + root_shard_ranges[2:]], [dict(sr) for sr in root_shard_ranges[0:1] + sub_shard_ranges[:2] + root_shard_ranges[1:]], self.assertEqual([sub_shard_ranges[0]], actual) self.assertEqual([sub_shard_ranges[1]], actual) # TODO: check: this seems to be asserting undesirable behaviour... self.assertEqual([shard_ranges[1]], actual) # ... vs this assertion which seems desirable i.e send update to new # shard # self.assertEqual([sub_shard_ranges[2]], actual)"," shard_ranges = [ ShardRange('.shards_a/c1', next(self.ts), 'd', 'm', state=ShardRange.SHARDING), ShardRange('.shards_a/c2', next(self.ts), 'm', '', state=ShardRange.ACTIVE), self.assertEqual([dict(sr) for sr in shard_ranges], [dict(sr) for sr in shard_ranges[:4] + shard_ranges[5:]], self.assertEqual([shard_ranges[1]], actual) self.assertEqual([shard_ranges[2]], actual) self.assertEqual([shard_ranges[3]], actual)",76,29
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,openstack/python-tripleoclient,stable/train,Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,Make workflow monitoring more resilient,MERGED,2021-01-22 12:59:07.000000000,2021-01-25 12:51:54.000000000,2021-01-25 12:45:59.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 12:59:07.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f001ff7b61ab5762679b353e818bd3ca73dbebe', 'message': ""Make workflow monitoring more resilient\n\nLet's make the monitoring of the mistral executions a bit more robust.\nIf for some reason a tcp reset occurs while monitoring the execution\nstate of a workflow, tripleoclient completely gives up:\n\n  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:\n  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:\n  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\n\nThis is bad UX because the execution is actually running via mistral\nin the background just fine, it's just the monitoring that did not\nsurvive a hiccup.\n\nWith this patch we were able to inject artificial problems on mistral\nwith the reproducer below [1] and the client survived them just fine:\n\nTASK [Gathering Facts] *********************************************************\nTuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******\nok: [controller-1]\n\n2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m\nok: [controller-0]\n\nPLAY [Load global variables] ***************************************************\n\nThe mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.\n\n[1] A quick reproducer for this issue is to run a longer workflow (minor\nupdate or ffu of a node) and once tripleoclient is just monitoring the\nmistral execution just run:\niptables -I INPUT -p tcp --dport 13989 -j REJECT\nsleep 13\niptables -D INPUT 1\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2\nCloses-Bug: #1909019\n(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)\n""}]",0,771923,7f001ff7b61ab5762679b353e818bd3ca73dbebe,10,3,1,20172,,,0,"Make workflow monitoring more resilient

Let's make the monitoring of the mistral executions a bit more robust.
If for some reason a tcp reset occurs while monitoring the execution
state of a workflow, tripleoclient completely gives up:

  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:
  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:
  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

This is bad UX because the execution is actually running via mistral
in the background just fine, it's just the monitoring that did not
survive a hiccup.

With this patch we were able to inject artificial problems on mistral
with the reproducer below [1] and the client survived them just fine:

TASK [Gathering Facts] *********************************************************
Tuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******
ok: [controller-1]

2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m
ok: [controller-0]

PLAY [Load global variables] ***************************************************

The mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.

[1] A quick reproducer for this issue is to run a longer workflow (minor
update or ffu of a node) and once tripleoclient is just monitoring the
mistral execution just run:
iptables -I INPUT -p tcp --dport 13989 -j REJECT
sleep 13
iptables -D INPUT 1

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2
Closes-Bug: #1909019
(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/771923/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,7f001ff7b61ab5762679b353e818bd3ca73dbebe,workflow-resilience-stable/victoria-stable/ussuri-stable/train,"import keystoneauth1 try: execution = mistral.executions.get(execution.id) except keystoneauth1.exceptions.connection.ConnectFailure as e: LOG.warning(""Connection failure while fetching execution ID."" ""Retrying: %s"" % e) continue ", execution = mistral.executions.get(execution.id),8,1
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~Iff24f559bae42ec347148933fb603154f6002d6e,openstack/openstack-ansible-rsyslog_client,stable/victoria,Iff24f559bae42ec347148933fb603154f6002d6e,Updated from OpenStack Ansible Tests,MERGED,2020-12-18 16:21:40.000000000,2021-01-25 12:26:07.000000000,2021-01-25 12:24:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-12-18 16:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/34caa0670ed5cbff283e48e2ea937fd1624d2a2f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff24f559bae42ec347148933fb603154f6002d6e\n'}, {'number': 2, 'created': '2021-01-11 08:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/00b2f8c05632a9844aec2c9a78e37c102fe43d04', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff24f559bae42ec347148933fb603154f6002d6e\n'}, {'number': 3, 'created': '2021-01-20 10:24:13.000000000', 'files': ['run_tests.sh', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/011f261aabf0de8ab57e2a33525e1334466b67e8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff24f559bae42ec347148933fb603154f6002d6e\n'}]",0,767914,011f261aabf0de8ab57e2a33525e1334466b67e8,20,3,3,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iff24f559bae42ec347148933fb603154f6002d6e
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/14/767914/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Vagrantfile']",2,34caa0670ed5cbff283e48e2ea937fd1624d2a2f,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""centos8"" do |centos8| centos8.vm.box = ""centos/8"""," config.vm.define ""centos7"" do |centos7| centos7.vm.box = ""centos/7""",3,6
openstack%2Freleases~master~I12e6a9232b0dc7c7ae325cb7394a8923e4733902,openstack/releases,master,I12e6a9232b0dc7c7ae325cb7394a8923e4733902,Wallaby-2 Release for osc-placement,MERGED,2021-01-15 06:30:01.000000000,2021-01-25 11:58:44.000000000,2021-01-25 11:58:44.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-15 06:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7ecee5d95f9fba034a5742321092c50a88a9805e', 'message': 'Victoria-2 Release for osc-placement\n\nThis is the Wallaby milestone-2 release for osc-placement.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I12e6a9232b0dc7c7ae325cb7394a8923e4733902\n'}, {'number': 2, 'created': '2021-01-15 07:03:56.000000000', 'files': ['deliverables/wallaby/osc-placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/465504eab3ce0dc0e3cedcdf54acb0b256d09118', 'message': 'Wallaby-2 Release for osc-placement\n\nThis is the Wallaby milestone-2 release for osc-placement.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 21.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I12e6a9232b0dc7c7ae325cb7394a8923e4733902\n'}]",0,770887,465504eab3ce0dc0e3cedcdf54acb0b256d09118,9,3,2,28522,,,0,"Wallaby-2 Release for osc-placement

This is the Wallaby milestone-2 release for osc-placement.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I12e6a9232b0dc7c7ae325cb7394a8923e4733902
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/770887/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/osc-placement.yaml'],1,7ecee5d95f9fba034a5742321092c50a88a9805e,w2-c-w-i,releases: - version: 2.2.0 projects: - repo: openstack/osc-placement hash: f7640c9efad0715c4cd36f88897b1732aa689488,,5,0
openstack%2Fnova~master~I66cc2c5549833f269872748fb1532438f9ba8489,openstack/nova,master,I66cc2c5549833f269872748fb1532438f9ba8489,docs: Add reference docs for internal block device structures,MERGED,2021-01-20 19:31:58.000000000,2021-01-25 11:50:06.000000000,2021-01-25 11:44:42.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 19:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8fa57b5b244d43eeb9391f12b47faf30f4a3230', 'message': ""docs: Add reference docs for internal block device structures\n\nIt's time to shine a light on this area of the codebase ahead of some\nmuch required cleanup. This documentation is based on an email sent\nalmost 5 years ago but is still accurate today.\n\nChange-Id: I66cc2c5549833f269872748fb1532438f9ba8489\n""}, {'number': 2, 'created': '2021-01-21 20:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d92b9cbe3dd87e241d0c242ecd71b91b436dbd78', 'message': ""docs: Add reference docs for internal block device structures\n\nIt's time to shine a light on this area of the codebase ahead of some\nmuch required cleanup. This documentation is based on an email sent\nalmost 5 years ago but is still accurate today.\n\nChange-Id: I66cc2c5549833f269872748fb1532438f9ba8489\n""}, {'number': 3, 'created': '2021-01-22 09:59:38.000000000', 'files': ['doc/source/reference/index.rst', 'doc/source/reference/block-device-structs.rst', 'doc/source/user/block-device-mapping.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5420bbb50ec414d619fa7546d6a05d1b5b1f0bc', 'message': ""docs: Add reference docs for internal block device structures\n\nIt's time to shine a light on this area of the codebase ahead of some\nmuch required cleanup. This documentation is based on an email sent\nalmost 5 years ago but is still accurate today.\n\nChange-Id: I66cc2c5549833f269872748fb1532438f9ba8489\n""}]",40,771711,d5420bbb50ec414d619fa7546d6a05d1b5b1f0bc,24,3,3,10135,,,0,"docs: Add reference docs for internal block device structures

It's time to shine a light on this area of the codebase ahead of some
much required cleanup. This documentation is based on an email sent
almost 5 years ago but is still accurate today.

Change-Id: I66cc2c5549833f269872748fb1532438f9ba8489
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/771711/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/index.rst', 'doc/source/reference/block-device-structs.rst', 'doc/source/user/block-device-mapping.rst']",3,b8fa57b5b244d43eeb9391f12b47faf30f4a3230,, For more details on this please refer to the :doc:`Driver BDM Data Structures <../reference/block-device-structs>` refernce document. API BDM data format and its history -----------------------------------,Data format and its history ----------------------------,202,2
openstack%2Fopenstack-ansible~stable%2Ftrain~I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b,openstack/openstack-ansible,stable/train,I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b,[doc] Cleanup heading page,MERGED,2021-01-21 13:25:20.000000000,2021-01-25 11:48:59.000000000,2021-01-25 11:46:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 13:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/82959ca0caf9298c5f51b4bb5c2fadad62b1034d', 'message': ""[doc] Clenaup heading page\n\nWe don't need previous releases documentation when specific\none is explicitly selected. This was the behaviour for previous releases\n\nChange-Id: I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b\n""}, {'number': 2, 'created': '2021-01-21 13:26:24.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6740214cfd2c787d4537eba8227e70727f1f3b73', 'message': ""[doc] Cleanup heading page\n\nWe don't need previous releases documentation when specific\none is explicitly selected. This was the behaviour for previous releases\n\nChange-Id: I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b\n""}]",0,771810,6740214cfd2c787d4537eba8227e70727f1f3b73,9,3,2,28619,,,0,"[doc] Cleanup heading page

We don't need previous releases documentation when specific
one is explicitly selected. This was the behaviour for previous releases

Change-Id: I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/771810/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,82959ca0caf9298c5f51b4bb5c2fadad62b1034d,,OpenStack-Ansible Train series was first released with the 20.0.0 tag on 16 December 2019.,"Documentation for each of the following releases is available. Train: Maintained ~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Train series was first released with the 20.0.0 tag Stein: Maintained ~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Stein series was first released with the 19.0.0 tag on 30 June 2019. * `OpenStack-Ansible Stein Documentation`_ * `OpenStack-Ansible Stein series release notes`_ .. _OpenStack-Ansible Stein Documentation: https://docs.openstack.org/openstack-ansible/stein/ .. _OpenStack-Ansible Stein series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/stein.html Rocky: Maintained ~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Rocky series was first released with the 18.0.0 tag on 16 October 2018. * `OpenStack-Ansible Rocky Documentation`_ * `OpenStack-Ansible Rocky series release notes`_ .. _OpenStack-Ansible Rocky Documentation: https://docs.openstack.org/openstack-ansible/rocky/ .. _OpenStack-Ansible Rocky series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html Queens: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Queens series was first released with the 17.0.0 tag on 14 March 2018. * `OpenStack-Ansible Queens Documentation`_ * `OpenStack-Ansible Queens series release notes`_ .. _OpenStack-Ansible Queens Documentation: https://docs.openstack.org/openstack-ansible/queens/ .. _OpenStack-Ansible Queens series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/queens.html Pike: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Pike series was first released with the 16.0.0 tag on 14 September 2017. * `OpenStack-Ansible Pike Documentation`_ * `OpenStack-Ansible Pike series release notes`_ .. _OpenStack-Ansible Pike Documentation: https://docs.openstack.org/openstack-ansible/pike/ .. _OpenStack-Ansible Pike series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/pike.html Ocata: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Ocata series was first released with the 15.0.0 tag on 8 March 2017. * `OpenStack-Ansible Ocata Documentation`_ * `OpenStack-Ansible Ocata series release notes`_ .. _OpenStack-Ansible Ocata Documentation: https://docs.openstack.org/openstack-ansible/ocata/ .. _OpenStack-Ansible Ocata series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/ocata.html Newton: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Newton series was EOL'd on 3 April 2018. To view the documentation only, see the `OpenStack-Ansible Newton Documentation <https://docs.openstack.org/openstack-ansible/newton/>`_. .. _OpenStack-Ansible Newton series timeline: https://launchpad.net/openstack-ansible/newton .. _OpenStack-Ansible Newton series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/newton.html Mitaka: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Mitaka series was EOL'd on 10 April 2017. To view the documentation only, see the `OpenStack-Ansible Mitaka Documentation <https://docs.openstack.org/openstack-ansible/mitaka/>`_.",2,90
openstack%2Fopenstack-ansible~stable%2Fvictoria~I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5,openstack/openstack-ansible,stable/victoria,I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5,[doc] Release Victoria,MERGED,2021-01-21 13:18:39.000000000,2021-01-25 11:48:07.000000000,2021-01-25 11:45:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 13:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/686eb240d301832d6fc0f8a7e95d31e3d1f175e3', 'message': '[doc] Release Victoria\n\nChange-Id: I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5\n'}, {'number': 2, 'created': '2021-01-21 13:21:53.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a9cdaab9682a9bd15acb1bdd05e61e6bb4cdacfd', 'message': '[doc] Release Victoria\n\nChange-Id: I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5\n'}]",0,771809,a9cdaab9682a9bd15acb1bdd05e61e6bb4cdacfd,9,3,2,28619,,,0,"[doc] Release Victoria

Change-Id: I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/771809/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,686eb240d301832d6fc0f8a7e95d31e3d1f175e3,,Victoria: Maintained ~~~~~~~~~~~~~~~~~~~~21 January 2021.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Stein: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~Rocky: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~,Victoria: Released ~~~~~~~~~~~~~~~~~~11 January 2021.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Stein: Maintained ~~~~~~~~~~~~~~~~~Rocky: Maintained ~~~~~~~~~~~~~~~~~,9,9
openstack%2Fopenstack-ansible~stable%2Fussuri~I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb,openstack/openstack-ansible,stable/ussuri,I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb,[doc] Cleanup heading page,MERGED,2021-01-21 13:28:47.000000000,2021-01-25 11:48:05.000000000,2021-01-25 11:45:22.000000000,"[{'_account_id': 18675}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-21 13:28:47.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8385b26f519f2b430932ab143f7ef25b3bf6b884', 'message': ""[doc] Cleanup heading page\n\nWe don't need previous releases documentation when specific\none is explicitly selected. This was the behaviour for previous releases\n\nChange-Id: I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb\n""}]",0,771811,8385b26f519f2b430932ab143f7ef25b3bf6b884,9,4,1,28619,,,0,"[doc] Cleanup heading page

We don't need previous releases documentation when specific
one is explicitly selected. This was the behaviour for previous releases

Change-Id: I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/771811/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,8385b26f519f2b430932ab143f7ef25b3bf6b884,,,"Documentation for each of the following releases is available. Ussuri: Maintained ~~~~~~~~~~~~~~~~~~~~~~~~~ Train: Maintained ~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Train series was first released with the 20.0.0 tag on 16 December 2019. * `OpenStack-Ansible Train Documentation`_ * `OpenStack-Ansible Train series release notes`_ .. _OpenStack-Ansible Train Documentation: https://docs.openstack.org/openstack-ansible/train/ .. _OpenStack-Ansible Train series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/train.html Stein: Maintained ~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Stein series was first released with the 19.0.0 tag on 30 June 2019. * `OpenStack-Ansible Stein Documentation`_ * `OpenStack-Ansible Stein series release notes`_ .. _OpenStack-Ansible Stein Documentation: https://docs.openstack.org/openstack-ansible/stein/ .. _OpenStack-Ansible Stein series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/stein.html Rocky: Maintained ~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Rocky series was first released with the 18.0.0 tag on 16 October 2018. * `OpenStack-Ansible Rocky Documentation`_ * `OpenStack-Ansible Rocky series release notes`_ .. _OpenStack-Ansible Rocky Documentation: https://docs.openstack.org/openstack-ansible/rocky/ .. _OpenStack-Ansible Rocky series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html Queens: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Queens series was first released with the 17.0.0 tag on 14 March 2018. * `OpenStack-Ansible Queens Documentation`_ * `OpenStack-Ansible Queens series release notes`_ .. _OpenStack-Ansible Queens Documentation: https://docs.openstack.org/openstack-ansible/queens/ .. _OpenStack-Ansible Queens series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/queens.html Pike: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Pike series was first released with the 16.0.0 tag on 14 September 2017. * `OpenStack-Ansible Pike Documentation`_ * `OpenStack-Ansible Pike series release notes`_ .. _OpenStack-Ansible Pike Documentation: https://docs.openstack.org/openstack-ansible/pike/ .. _OpenStack-Ansible Pike series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/pike.html Ocata: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Ocata series was first released with the 15.0.0 tag on 8 March 2017. * `OpenStack-Ansible Ocata Documentation`_ * `OpenStack-Ansible Ocata series release notes`_ .. _OpenStack-Ansible Ocata Documentation: https://docs.openstack.org/openstack-ansible/ocata/ .. _OpenStack-Ansible Ocata series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/ocata.html Newton: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Newton series was EOL'd on 3 April 2018. To view the documentation only, see the `OpenStack-Ansible Newton Documentation <https://docs.openstack.org/openstack-ansible/newton/>`_. .. _OpenStack-Ansible Newton series timeline: https://launchpad.net/openstack-ansible/newton .. _OpenStack-Ansible Newton series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/newton.html Mitaka: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Mitaka series was EOL'd on 10 April 2017. To view the documentation only, see the `OpenStack-Ansible Mitaka Documentation <https://docs.openstack.org/openstack-ansible/mitaka/>`_.",0,101
openstack%2Fnova~master~Ifd9657f3357bc39cb904caa65168d38def8c9184,openstack/nova,master,Ifd9657f3357bc39cb904caa65168d38def8c9184,api: Log os-resetState as an instance action,MERGED,2021-01-15 11:29:44.000000000,2021-01-25 11:47:26.000000000,2021-01-25 11:44:15.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-15 11:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a9f88d68243221f80350ece05999a26829ffdfd', 'message': 'api: Log os-resetState as an instance action\n\nChange-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184\n'}, {'number': 2, 'created': '2021-01-15 15:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/372cbeb732a501b2b28bba22496557945f1213be', 'message': 'api: Log os-resetState as an instance action\n\nIt appears this was missed as this action never hits the compute API and\nis fully handled within the API itself. This change simply records an\ninstance action directly in the API for this admin action providing a\nbreadcrumb to operators and users.\n\nCloses-Bug: #1911924\nChange-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184\n'}, {'number': 3, 'created': '2021-01-15 16:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8526c877b77b9d2d74774b5fb51fef5bd22d5f84', 'message': 'api: Log os-resetState as an instance action\n\nIt appears this was missed as this action never hits the compute API and\nis fully handled within the API itself. This change simply records an\ninstance action directly in the API for this admin action providing a\nbreadcrumb to operators and users.\n\nCloses-Bug: #1911924\nChange-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184\n'}, {'number': 4, 'created': '2021-01-18 09:20:09.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/api/openstack/compute/admin_actions.py', 'releasenotes/notes/bug-1911924-6e93d8a5038d18c1.yaml', 'nova/compute/instance_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/534b4f38958af2fbf4392e445ddb1b2bad4179ed', 'message': 'api: Log os-resetState as an instance action\n\nIt appears this was missed as this action never hits the compute API and\nis fully handled within the API itself. This change simply records an\ninstance action directly in the API for this admin action providing a\nbreadcrumb to operators and users.\n\nCloses-Bug: #1911924\nChange-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184\n'}]",0,770926,534b4f38958af2fbf4392e445ddb1b2bad4179ed,28,4,4,10135,,,0,"api: Log os-resetState as an instance action

It appears this was missed as this action never hits the compute API and
is fully handled within the API itself. This change simply records an
instance action directly in the API for this admin action providing a
breadcrumb to operators and users.

Closes-Bug: #1911924
Change-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/770926/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/compute/instance_actions.py']",3,2a9f88d68243221f80350ece05999a26829ffdfd,change-770926-3,RESET_STATE = 'resetState',,34,2
openstack%2Foslo.metrics~master~I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411,openstack/oslo.metrics,master,I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411,Handle Sigterm Properly,MERGED,2020-11-30 06:48:07.000000000,2021-01-25 11:34:08.000000000,2021-01-25 11:32:45.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 06:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/2c39801e4009485c335fd47bfb05920385e349bc', 'message': ""Handle Sigterm Properly\n\nCurrently oslo.metrics http server doesn't handle sigterm signal. This\ncommit added support to handle sigterm and shutdown gracefully.\n\nChange-Id: I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411\n""}, {'number': 2, 'created': '2020-11-30 09:48:26.000000000', 'files': ['oslo_metrics/__main__.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/4fcf2c16b21f9514589b0159df1fafb962608532', 'message': ""Handle Sigterm Properly\n\nCurrently oslo.metrics http server doesn't handle sigterm signal. This\ncommit added support to handle sigterm and shutdown gracefully.\n\nChange-Id: I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411\n""}]",4,764604,4fcf2c16b21f9514589b0159df1fafb962608532,10,2,2,32523,,,0,"Handle Sigterm Properly

Currently oslo.metrics http server doesn't handle sigterm signal. This
commit added support to handle sigterm and shutdown gracefully.

Change-Id: I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/04/764604/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_metrics/__main__.py'],1,2c39801e4009485c335fd47bfb05920385e349bc,handle_sigterm,"import signalhttpd = None def handle_sigterm(_signum, _frame): LOG.debug(""Caught sigterm"") shutdown_thread = Thread(target=httpd.shutdown) shutdown_thread.start() global httpd signal.signal(signal.SIGTERM, handle_sigterm)",,9,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,openstack/python-tripleoclient,stable/ussuri,Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,Make workflow monitoring more resilient,MERGED,2021-01-22 12:58:21.000000000,2021-01-25 11:15:16.000000000,2021-01-25 11:13:15.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 12:58:21.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/44571fb5b8849a4fd14d65edf1347a58865be0f2', 'message': ""Make workflow monitoring more resilient\n\nLet's make the monitoring of the mistral executions a bit more robust.\nIf for some reason a tcp reset occurs while monitoring the execution\nstate of a workflow, tripleoclient completely gives up:\n\n  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:\n  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:\n  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\n\nThis is bad UX because the execution is actually running via mistral\nin the background just fine, it's just the monitoring that did not\nsurvive a hiccup.\n\nWith this patch we were able to inject artificial problems on mistral\nwith the reproducer below [1] and the client survived them just fine:\n\nTASK [Gathering Facts] *********************************************************\nTuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******\nok: [controller-1]\n\n2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m\nok: [controller-0]\n\nPLAY [Load global variables] ***************************************************\n\nThe mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.\n\n[1] A quick reproducer for this issue is to run a longer workflow (minor\nupdate or ffu of a node) and once tripleoclient is just monitoring the\nmistral execution just run:\niptables -I INPUT -p tcp --dport 13989 -j REJECT\nsleep 13\niptables -D INPUT 1\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2\nCloses-Bug: #1909019\n(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)\n""}]",0,771922,44571fb5b8849a4fd14d65edf1347a58865be0f2,8,3,1,20172,,,0,"Make workflow monitoring more resilient

Let's make the monitoring of the mistral executions a bit more robust.
If for some reason a tcp reset occurs while monitoring the execution
state of a workflow, tripleoclient completely gives up:

  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:
  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:
  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

This is bad UX because the execution is actually running via mistral
in the background just fine, it's just the monitoring that did not
survive a hiccup.

With this patch we were able to inject artificial problems on mistral
with the reproducer below [1] and the client survived them just fine:

TASK [Gathering Facts] *********************************************************
Tuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******
ok: [controller-1]

2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m
ok: [controller-0]

PLAY [Load global variables] ***************************************************

The mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.

[1] A quick reproducer for this issue is to run a longer workflow (minor
update or ffu of a node) and once tripleoclient is just monitoring the
mistral execution just run:
iptables -I INPUT -p tcp --dport 13989 -j REJECT
sleep 13
iptables -D INPUT 1

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2
Closes-Bug: #1909019
(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/771922/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,44571fb5b8849a4fd14d65edf1347a58865be0f2,workflow-resilience-stable/victoria-stable/ussuri,"import keystoneauth1 try: execution = mistral.executions.get(execution.id) except keystoneauth1.exceptions.connection.ConnectFailure as e: LOG.warning(""Connection failure while fetching execution ID."" ""Retrying: %s"" % e) continue ", execution = mistral.executions.get(execution.id),8,1
openstack%2Ftripleo-common~stable%2Ftrain~If79f7051fec4b4f648c4acf9d62474028e0831bd,openstack/tripleo-common,stable/train,If79f7051fec4b4f648c4acf9d62474028e0831bd,[stable] Raise proper error for None network config,MERGED,2020-12-22 05:08:22.000000000,2021-01-25 11:14:48.000000000,2021-01-25 11:13:11.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-22 05:08:22.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d6b98f25103c68efc4a59643d8b2e5e6bc44f453', 'message': ""[stable] Raise proper error for None network config\n\nWhen using custom network configs, if the 'outputs' section is\nnot correct in the template, there won't be any error in stack\ncreate/update. HostnameNetworkConfigMap would have configs as\nnull i.e {HOSTNAME: null,} and we'll look for None software\nconfigs using heat api resulting in a traceback not easy to\nunderstand. Let's add a check to notify the user with a proper\nerror.\n\nThis is not required in master and victoria branches, as we've\nmoved away from using heat software configs for network config.\n\nCloses-Bug: #1907746\nChange-Id: If79f7051fec4b4f648c4acf9d62474028e0831bd\n(cherry picked from commit 0dc90c97d2d7959e59184be501c739694412a55b)\n""}]",0,768140,d6b98f25103c68efc4a59643d8b2e5e6bc44f453,23,3,1,8833,,,0,"[stable] Raise proper error for None network config

When using custom network configs, if the 'outputs' section is
not correct in the template, there won't be any error in stack
create/update. HostnameNetworkConfigMap would have configs as
null i.e {HOSTNAME: null,} and we'll look for None software
configs using heat api resulting in a traceback not easy to
understand. Let's add a check to notify the user with a proper
error.

This is not required in master and victoria branches, as we've
moved away from using heat software configs for network config.

Closes-Bug: #1907746
Change-Id: If79f7051fec4b4f648c4acf9d62474028e0831bd
(cherry picked from commit 0dc90c97d2d7959e59184be501c739694412a55b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/768140/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,d6b98f25103c68efc4a59643d8b2e5e6bc44f453,," mock_get_network_config_data.return_value = dict( Controller='56f27b7a-7bb8-40bc-bfdb-a46f7f806b88') mock_get_network_config_data.return_value = dict( node1='56f27b7a-7bb8-40bc-bfdb-a46f7f806b88', node2='56f27b7a-7bb8-40bc-bfdb-a46f7f806b88')"," mock_get_network_config_data.return_value = dict(Controller='config') mock_get_network_config_data.return_value = dict(node1='config', node2='config')",12,3
openstack%2Fmanila-tempest-plugin~master~I142038f39c611df70aacc387a6225f28040c42c0,openstack/manila-tempest-plugin,master,I142038f39c611df70aacc387a6225f28040c42c0,Enable IPV6 in the CephFS NFS job,ABANDONED,2020-10-28 21:20:22.000000000,2021-01-25 10:55:19.000000000,,"[{'_account_id': 6413}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-10-28 21:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/75d4e34e3872b7a059bc840dccbaf9dd645ef5c5', 'message': '[DNM] Testing CephFS NFS scenario without IPv6\n\nChange-Id: I142038f39c611df70aacc387a6225f28040c42c0\n'}, {'number': 2, 'created': '2020-10-28 22:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/90b3c50558e7b9edbffa5ed2797a49d81e68d0ab', 'message': '[DNM] Testing CephFS NFS scenario without IPv6\n\nChange-Id: I142038f39c611df70aacc387a6225f28040c42c0\n'}, {'number': 3, 'created': '2020-10-29 22:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e4486a11213f1444530d1e72b92ddf093ac773f6', 'message': 'Enable IPV6 in the CephFS NFS job\n\nThe CephFS NFS job was running ipv6 tests but we were not\nsetting Devstack properly. Precisely, we were missing the\nSERVICE_IP_VERSION=""6"" flag in the local.conf file.\n\nIn this patch set we fix this by inheriting from\nthe manila-tempest-plugin-ipv6-base job.\n\nChange-Id: I142038f39c611df70aacc387a6225f28040c42c0\n'}, {'number': 4, 'created': '2020-10-29 22:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/489a4207474f5e4a3422e6484f3aa08a1c29ae97', 'message': 'Enable IPV6 in the CephFS NFS job\n\nThe CephFS NFS job was running ipv6 tests but we were not\nsetting Devstack properly. Precisely, we were missing the\nSERVICE_IP_VERSION=""6"" flag in the local.conf file.\n\nIn this patch set we fix this by inheriting from\nthe manila-tempest-plugin-ipv6-base job.\n\nDepends-On: I47c1b18c29ea80e87addf06ee3ff4915d07303e8\n\nChange-Id: I142038f39c611df70aacc387a6225f28040c42c0\n'}, {'number': 5, 'created': '2020-10-29 22:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8d0fd351d7fc7858e62a36c086089a889033b67b', 'message': 'Enable IPV6 in the CephFS NFS job\n\nThe CephFS NFS job was running ipv6 tests but we were not\nsetting Devstack properly. Precisely, we were missing the\nSERVICE_IP_VERSION=""6"" flag in the local.conf file.\n\nIn this patch set we fix this by inheriting from\nthe manila-tempest-plugin-ipv6-base job.\n\nChange-Id: I142038f39c611df70aacc387a6225f28040c42c0\n'}, {'number': 6, 'created': '2020-11-16 15:10:19.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/69b533bb2d37dd782843ccdcfd96bec6c08805fa', 'message': 'Enable IPV6 in the CephFS NFS job\n\nThe CephFS NFS job was running ipv6 tests but we were not\nsetting Devstack properly. Precisely, we were missing the\nSERVICE_IP_VERSION=""6"" flag in the local.conf file.\n\nIn this patch set we fix this by inheriting from\nthe manila-tempest-plugin-ipv6-base job.\n\nDepends-On: https://review.opendev.org/#/c/760397/\n\nChange-Id: I142038f39c611df70aacc387a6225f28040c42c0\n'}]",0,760245,69b533bb2d37dd782843ccdcfd96bec6c08805fa,19,5,6,6413,,,0,"Enable IPV6 in the CephFS NFS job

The CephFS NFS job was running ipv6 tests but we were not
setting Devstack properly. Precisely, we were missing the
SERVICE_IP_VERSION=""6"" flag in the local.conf file.

In this patch set we fix this by inheriting from
the manila-tempest-plugin-ipv6-base job.

Depends-On: https://review.opendev.org/#/c/760397/

Change-Id: I142038f39c611df70aacc387a6225f28040c42c0
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/45/760245/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,75d4e34e3872b7a059bc840dccbaf9dd645ef5c5,fix-ipv6-cephfsnfs, MANILA_SETUP_IPV6: false, MANILA_SETUP_IPV6: true,1,1
openstack%2Frequirements~master~I37489632fb937a3ede8ffcff40a4996e716f6a31,openstack/requirements,master,I37489632fb937a3ede8ffcff40a4996e716f6a31,Updated from generate-constraints,MERGED,2021-01-25 06:21:26.000000000,2021-01-25 10:48:20.000000000,2021-01-25 10:46:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 06:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/33dbc75d33fb694b76b7b47f7e8d457b6607826c', 'message': 'Updated from generate-constraints\n\nChange-Id: I37489632fb937a3ede8ffcff40a4996e716f6a31\n'}, {'number': 2, 'created': '2021-01-25 07:11:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1be19b0999c56b9c721104241c791c4054d2facf', 'message': 'Updated from generate-constraints\n\nChange-Id: I37489632fb937a3ede8ffcff40a4996e716f6a31\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,772248,1be19b0999c56b9c721104241c791c4054d2facf,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I37489632fb937a3ede8ffcff40a4996e716f6a31
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/772248/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,33dbc75d33fb694b76b7b47f7e8d457b6607826c,openstack/requirements/constraints/noclob,mock===4.0.3ldap3===2.9 natsort===7.1.1keyring===22.0.0 elementpath===2.1.2oslo.db===8.5.0pkg-resources===0.0.0cachetools===4.2.1fasteners===0.16virtualenv===20.4.0 sshpubkeys===3.2.0,mock===3.0.5ldap3===2.8.1 natsort===7.1.0keyring===21.8.0 elementpath===2.1.1oslo.db===8.4.0cachetools===4.2.0fasteners===0.14.1virtualenv===20.2.1 sshpubkeys===3.1.0setuptools===51.3.3,11,11
openstack%2Fcharms.openstack~master~Id7f1d457911374620e9a7ee3069376a1752160f5,openstack/charms.openstack,master,Id7f1d457911374620e9a7ee3069376a1752160f5,Ensure PeerHARelationAdapter has correct backend IP addresses,MERGED,2021-01-24 16:21:42.000000000,2021-01-25 10:34:22.000000000,2021-01-25 10:34:22.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 16:21:42.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/946ee47cf0f17ab90562e7ae7ea8502a39bdc898', 'message': ""Ensure PeerHARelationAdapter has correct backend IP addresses\n\nIn the linked bug, the designate charm ended up with the wrong IP\naddresses in the haproxy.cfg due to the method add_default_addresses()\noverwriting the correctly determined addresses obtained by the method\nadd_network_split_addresses().\n\nIt's not clear whether this has always been broken, and recent tests\nhave exposed it, or whether changes in charms.reactive have resulted in\nadd_default_addresses() adding more addresses than it used to.\n\nHowever, it seems correct that the default addresses are added first and\nthen the ones from the relations/spaces add/overwrite the default ones\nto provide the correct set.\n\nChange-Id: Id7f1d457911374620e9a7ee3069376a1752160f5\nCloses-Bug: #1912505\n""}]",0,772208,946ee47cf0f17ab90562e7ae7ea8502a39bdc898,6,2,1,20870,,,0,"Ensure PeerHARelationAdapter has correct backend IP addresses

In the linked bug, the designate charm ended up with the wrong IP
addresses in the haproxy.cfg due to the method add_default_addresses()
overwriting the correctly determined addresses obtained by the method
add_network_split_addresses().

It's not clear whether this has always been broken, and recent tests
have exposed it, or whether changes in charms.reactive have resulted in
add_default_addresses() adding more addresses than it used to.

However, it seems correct that the default addresses are added first and
then the ones from the relations/spaces add/overwrite the default ones
to provide the correct set.

Change-Id: Id7f1d457911374620e9a7ee3069376a1752160f5
Closes-Bug: #1912505
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/08/772208/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,946ee47cf0f17ab90562e7ae7ea8502a39bdc898,bug/1912505," # Note(ajkavanagh) - bug #1698814 - cluster_hosts needs to be ordered # so that re-writes with no changed data don't cause a restart # (dictionaries are 'randomly' ordered) # NOTE(ajkavanagh) BUG: #1912505 # do add_default_addresses first, then add_network_split_addresses # as otherwise it will inadvertently overwrite the correct # addresses with the private-addresses of the remove units (rather # the the address that is required) self.add_network_split_addresses()", # Note(AJK) - bug #1698814 - cluster_hosts needs to be ordered so that # re-writes with no changed data don't cause a restart (dictionaries # are 'randomly' ordered) self.add_network_split_addresses(),9,4
