id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-specs~master~Ie919028bb279b5286bf882842e8cd269ed8f9fa4,openstack/neutron-specs,master,Ie919028bb279b5286bf882842e8cd269ed8f9fa4,Spec for the brocade lbaas driver based on v2 lbaas data model,ABANDONED,2014-12-12 02:35:27.000000000,2014-12-17 20:28:42.000000000,,"[{'_account_id': 3}, {'_account_id': 105}]","[{'number': 1, 'created': '2014-12-12 02:35:27.000000000', 'files': ['specs/kilo/brocade-lbaas-v2-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/34b01320ad0f8e1d04c96c20d0f2ad49a0de2d0d', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: Ie919028bb279b5286bf882842e8cd269ed8f9fa4\n'}]",0,141248,34b01320ad0f8e1d04c96c20d0f2ad49a0de2d0d,4,2,1,7590,,,0,"Spec for the brocade lbaas driver based on v2 lbaas data model

Change-Id: Ie919028bb279b5286bf882842e8cd269ed8f9fa4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/48/141248/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/brocade-lbaas-v2-driver.rst'],1,34b01320ad0f8e1d04c96c20d0f2ad49a0de2d0d,,"=================================================== Brocade LBaaS Plugin Driver (v2 Data Model Support) =================================================== Problem Description =================== URL of the launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/neutron-brocade-lbaas-driver Brocade LBaaS Plugin and Driver for the Brocade ADX Load Balancer Devices for the LBaaS in Neutron. Proposed Change =============== The driver will implement the interfaces according to the driver interfaces mentioned in the spec https://review.openstack.org/100690 for the blueprint https://blueprints.launchpad.net/neutron/+spec/lbaas-objmodel-driver-changes The following managers will be implemented: * LoadBalancerManager * ListenerManager * PoolManager * MemberManager * HealthMonitorManager Implementation is composed of Plugin Driver and Brocade Device Driver. Brocade LBaaS Plugin Driver extends/implements the driver interfaces as mentioned above and forwards the request to the device driver. The device driver communicates with the Brocade ADX Load Balancer Device (Physical and Virtual) via SOAP/XML APIs. The device driver use SUDs python module for the SOAP/XML API calls. Supported Features Protocols: HTTPS, HTTP, TCP LB Algorithms: ROUND_ROBIN, LEAST_CONNECTIONS Session persistence: SOURCE_IP Health Monitoring: TCP, HTTP, HTTPS Stats retrieval CRUD on loadbalancer, listener, pool, healthmonitor, member Additional lbaas features supported as part of framework in kilo release (TERMINATED_HTTPS, L7 etc) Product Versions supported ADX 12.5 and above Virtual ADX 3.0, 3.1 and above Exceptions Brocade LBaaS Device Driver will raise one of the following exceptions ConfigError . Raised when a configuration exception occurs on the load balancer device UnsupportedFeature . Raised when a particular feature is not yet supported by the Device Driver UnsupportedOption . Raised when an unsupported value is specified for an attribute. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None IPv6 Impact ----------- Will support ipv6 at the same level as neutron lbaas. Other Deployer Impact --------------------- service_provider entry in the neutron-lbaas.conf file needs to be updated to reflect Brocade as one of the service_provider for the plugin to be effective. Brocade Device Driver must be installed prior to using this driver Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- https://launchpad.net/~pattabi Work Items ---------- * Brocade plugin driver code * Unit tests * Voting CI Dependencies ============ * https://blueprints.launchpad.net/neutron/+spec/lbaas-api-and-objmodel-improvement lbaas-api-and-objmodel-improvement implementation code in feature/lbaasv2 branch Testing ======= - Unit Tests - Brocade QA - Existing LBaaS tests provide complete coverage, if driver is installed and configured (as our CI will do) Tempest Tests ------------- Brocade ADX CI will run existing LB tempest tests with Brocade ADX/vADX. Functional Tests ---------------- Brocade ADX CI will run existing LB functional tests with Brocade ADX/vADX. API Tests --------- Brocade ADX CI will run existing LB API tests with Brocade ADX/vADX. Documentation Impact ==================== None User Documentation ------------------ None Developer Documentation ----------------------- None References ========== None ",,195,0
openstack%2Fpython-magnetodbclient~master~I73454cf8c1c7ec9f2902fc987b86dddbf26d110d,openstack/python-magnetodbclient,master,I73454cf8c1c7ec9f2902fc987b86dddbf26d110d,"Update modified URI path, and make the client work again",MERGED,2014-12-10 06:14:56.000000000,2014-12-17 20:27:22.000000000,2014-12-17 20:27:22.000000000,"[{'_account_id': 3}, {'_account_id': 5538}, {'_account_id': 8188}, {'_account_id': 8601}, {'_account_id': 11428}]","[{'number': 1, 'created': '2014-12-10 06:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnetodbclient/commit/7fae44915da18368e6b1b85df22596c5668e2c32', 'message': 'Update modified URI path, and make the client work again.\n\nWith the recent change to the URI path, as in the commit\nIad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nmagnetodbclient was broken. This change fixes it.\n\nChange-Id: I73454cf8c1c7ec9f2902fc987b86dddbf26d110d\n'}, {'number': 2, 'created': '2014-12-15 02:49:41.000000000', 'files': ['magnetodbclient/v1/client.py'], 'web_link': 'https://opendev.org/openstack/python-magnetodbclient/commit/6a0dd74e65f7c3912de4f8788af52fd0a67111a1', 'message': 'Update modified URI path, and make the client work again\n\nWith the recent change to the URI path, as in the commit\nIad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nmagnetodbclient was broken. This change fixes it.\n\nChange-Id: I73454cf8c1c7ec9f2902fc987b86dddbf26d110d\n'}]",0,140583,6a0dd74e65f7c3912de4f8788af52fd0a67111a1,12,5,2,5538,,,0,"Update modified URI path, and make the client work again

With the recent change to the URI path, as in the commit
Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c
magnetodbclient was broken. This change fixes it.

Change-Id: I73454cf8c1c7ec9f2902fc987b86dddbf26d110d
",git fetch https://review.opendev.org/openstack/python-magnetodbclient refs/changes/83/140583/1 && git format-patch -1 --stdout FETCH_HEAD,['magnetodbclient/v1/client.py'],1,7fae44915da18368e6b1b85df22596c5668e2c32,fixuri," tables_path = ""/tables"" table_path = ""/tables/%s"" batch_write_item_path = ""/batch_write_item"" batch_get_item_path = ""/batch_get_item"""," base_path = ""/data"" tables_path = base_path + ""/tables"" table_path = base_path + ""/tables/%s"" batch_write_item_path = base_path + ""/batch_write_item"" batch_get_item_path = base_path + ""/batch_get_item""",4,5
openstack%2Fpuppet-trove~master~I4fca02a6e8d489f19617dd5bdf944ab8e146211d,openstack/puppet-trove,master,I4fca02a6e8d489f19617dd5bdf944ab8e146211d,Fix trove-db-sync,MERGED,2014-12-17 11:52:29.000000000,2014-12-17 20:27:20.000000000,2014-12-17 20:27:20.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}]","[{'number': 1, 'created': '2014-12-17 11:52:29.000000000', 'files': ['manifests/db/sync.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/2ef93e8e90978915d166ed21fd53dab67f820fe7', 'message': 'Fix trove-db-sync\n\nTrove db sync should use trove-manage db_sync, as described in\nhttp://docs.openstack.org/developer/trove/dev/manual_install.html\n\nAlso, it should not depend on the python-troveclient package.\n\nChange-Id: I4fca02a6e8d489f19617dd5bdf944ab8e146211d\n'}]",0,142424,2ef93e8e90978915d166ed21fd53dab67f820fe7,7,3,1,13294,,,0,"Fix trove-db-sync

Trove db sync should use trove-manage db_sync, as described in
http://docs.openstack.org/developer/trove/dev/manual_install.html

Also, it should not depend on the python-troveclient package.

Change-Id: I4fca02a6e8d489f19617dd5bdf944ab8e146211d
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/24/142424/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db/sync.pp'],1,2ef93e8e90978915d166ed21fd53dab67f820fe7,jpena/dbsync," exec { 'trove-manage db_sync': subscribe => Trove_config['DEFAULT/sql_connection'],"," exec { 'trove-db-sync': subscribe => [Package['python-troveclient'], Trove_config['DEFAULT/sql_connection']],",2,2
openstack%2Fmurano-dashboard~master~Iec964a5b09602b465e76a537344d3a900478cc96,openstack/murano-dashboard,master,Iec964a5b09602b465e76a537344d3a900478cc96,Make category selection a separate step,MERGED,2014-11-21 12:40:51.000000000,2014-12-17 20:27:09.000000000,2014-12-17 20:27:07.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 13149}]","[{'number': 1, 'created': '2014-11-21 12:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f56edd3911ded23cd14fa51a00cc532e45f4cdd8', 'message': ""Make category selection a separate step\n\nAfter file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will ,ake that clear.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 2, 'created': '2014-11-25 14:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f06dddfd49bcffa7d97c539945dc63de98b98283', 'message': ""Make category selection a separate step\n\nAfter file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will ,ake that clear.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 3, 'created': '2014-11-27 09:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/278f32c78e52a3cd55a363ad1541faf689b6ad5c', 'message': ""Make category selection a separate step\n\nAfter file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will ,ake that clear.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 4, 'created': '2014-12-06 08:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/6207a0dc525add89b2c191ed7d5616e179743482', 'message': ""Make category selection a separate step\n\nAfter file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will ,ake that clear.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 5, 'created': '2014-12-06 11:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/4f0204910a94532fcfdeaf0bda30193af5e64dc5', 'message': ""Make category selection a separate step\n\nAfter file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will ,ake that clear.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 6, 'created': '2014-12-11 10:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/53c0a5e1d39d4ed40e663caf77c4ed2b3676e89c', 'message': ""Make category selection a separate step\n\nAfter package file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will make that clear.\nAlso, templates for that forms were updated.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 7, 'created': '2014-12-15 08:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/2e0d2bd6877d78146befe0967f9be164e85c150d', 'message': ""Make category selection a separate step\n\nAfter package file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will make that clear.\nAlso, templates for that forms were updated.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}, {'number': 8, 'created': '2014-12-16 12:48:42.000000000', 'files': ['muranodashboard/packages/urls.py', 'muranodashboard/templates/packages/_package_params.html', 'muranodashboard/templates/packages/_upload.html', 'muranodashboard/packages/forms.py', 'muranodashboard/tests/functional/sanity_check.py', 'muranodashboard/templates/packages/_modify_package.html', 'muranodashboard/packages/views.py', 'muranodashboard/tests/functional/consts.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/6d0c740ba4b2f46e2b1abbf1126448db8e5ca039', 'message': ""Make category selection a separate step\n\nAfter package file is upload, user should point to witch category this package belongs.\nNow, it's not obvious that this parameter is requred and user don't undestand\nwhat he needs to do. Making a separate step for category selection will make that clear.\nAlso, templates for that forms were updated.\n\nCloses-Bug: #1394572\nChange-Id: Iec964a5b09602b465e76a537344d3a900478cc96\n""}]",4,136323,6d0c740ba4b2f46e2b1abbf1126448db8e5ca039,46,7,8,7549,,,0,"Make category selection a separate step

After package file is upload, user should point to witch category this package belongs.
Now, it's not obvious that this parameter is requred and user don't undestand
what he needs to do. Making a separate step for category selection will make that clear.
Also, templates for that forms were updated.

Closes-Bug: #1394572
Change-Id: Iec964a5b09602b465e76a537344d3a900478cc96
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/23/136323/8 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/packages/urls.py', 'muranodashboard/templates/packages/_package_params.html', 'muranodashboard/templates/packages/_upload.html', 'muranodashboard/packages/forms.py', 'muranodashboard/packages/views.py']",5,f56edd3911ded23cd14fa51a00cc532e45f4cdd8,bug/1394572,"FORMS = [('upload', forms.UploadPackageFileForm), ('modify', forms.UpdatePackageForm), ('add_category', forms.SelectCategories)] def is_library(wizard): """"""Return true if uploading package is a library"""""" if wizard.storage.current_step in ['upload', 'modify']: cleaned_data = wizard.get_cleaned_data_for_step('modify') or {} return cleaned_data.get('type') == 'Application' return True condition_dict = {'add_category': is_library} data = self.get_all_cleaned_data() app_id = data['id'].id del data['package'] def _update_latest_apps(request, app_id): LOG.info('Adding {0} application to the' ' latest apps list'.format(app_id)) if self.steps.current == 'upload': messages.success(self.request, _('Package {0} uploaded').format(pkg.name)) _update_latest_apps(request=self.request, app_id=package.id) _('Unable to upload package'), if step in ['modify', 'add_category']: package = self.storage.get_step_data('upload').get('package')"," data = self.get_cleaned_data_for_step('1') app_id = self.storage.get_step_data('0')['package'].id def _report_success(request, app_id): messages.success(request, _('Package {0} uploaded').format(pkg.name)) if self.steps.current == '0': _report_success(self.request, app_id=package.id) _('Unable to modify package'), if step == '1': package = self.storage.get_step_data('0')['package']",99,50
openstack%2Fmonasca-notification~master~I3b7606e9584066edcbeb99cb3fe0ff308114b436,openstack/monasca-notification,master,I3b7606e9584066edcbeb99cb3fe0ff308114b436,Webhook now passes alarm_id instead of alarm_name,MERGED,2014-12-16 22:21:08.000000000,2014-12-17 20:27:02.000000000,2014-12-17 20:27:00.000000000,"[{'_account_id': 3}, {'_account_id': 10046}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-12-16 22:21:08.000000000', 'files': ['monasca_notification/processors/notification_processor.py', 'tests/test_notification_processor.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/70f24b2034fdcd9cd544a4883f8e79eca9a0c8f6', 'message': 'Webhook now passes alarm_id instead of alarm_name\n\nChange-Id: I3b7606e9584066edcbeb99cb3fe0ff308114b436\n'}]",0,142238,70f24b2034fdcd9cd544a4883f8e79eca9a0c8f6,8,3,1,14273,,,0,"Webhook now passes alarm_id instead of alarm_name

Change-Id: I3b7606e9584066edcbeb99cb3fe0ff308114b436
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/38/142238/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/processors/notification_processor.py', 'tests/test_notification_processor.py']",2,70f24b2034fdcd9cd544a4883f8e79eca9a0c8f6,web_hook," self.assertRegexpMatches(log_msg, ""alarm_id.: '0'"")"," self.assertRegexpMatches(log_msg, ""alarm_id.: .test Alarm"")",2,2
openstack%2Fmagnetodb-specs~master~If8044505eb138fdac0f1b7fa2fd48df43c2d8878,openstack/magnetodb-specs,master,If8044505eb138fdac0f1b7fa2fd48df43c2d8878,Add request metrics speccification,MERGED,2014-12-04 04:26:32.000000000,2014-12-17 20:26:54.000000000,2014-12-17 20:26:53.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8414}, {'_account_id': 8601}, {'_account_id': 10665}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-12-04 04:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/2fc0251845f6326ac431d00951adb29226f70b31', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 2, 'created': '2014-12-04 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/8484a6c961949f9b9ce832fcd46c5c9dc5477ac9', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 3, 'created': '2014-12-08 15:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/98a938bdcdc3998a5e60d3fe1c70d07f4d91dd9e', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 4, 'created': '2014-12-09 19:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/396d0ac77ceaa0465d47abe05c22db9eb11fe2fe', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 5, 'created': '2014-12-10 04:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/a947be45e5a9709e036342a456c34560610ade62', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 6, 'created': '2014-12-11 15:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/95ca768dc4638b454450e34ef15985653effd2ed', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 7, 'created': '2014-12-11 15:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/f88524e2992cdab4c39c6819dd57c10f85e6275b', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 8, 'created': '2014-12-12 04:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/fee6df7a0b71679b631153644e1515990665a986', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 9, 'created': '2014-12-12 20:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/5ef9b219f3dd71d571bb785fa6b43a19536e4e13', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 10, 'created': '2014-12-13 05:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/50b3c6d03512465784e8b6a7689a155a7067358c', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 11, 'created': '2014-12-15 17:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/71e28f23bf7a1661490d10e62534fefa134fa603', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 12, 'created': '2014-12-16 16:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/875d448e383e2cbef9b1be50dce77bc0c6b9839c', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}, {'number': 13, 'created': '2014-12-16 22:36:52.000000000', 'files': ['specs/kilo/approved/request-metrics.rst'], 'web_link': 'https://opendev.org/openstack/magnetodb-specs/commit/896c93e2f580db4520e11e66b5d8b7210e106ca9', 'message': 'Add request metrics speccification\n\nChange-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878\nBlueprint: request-metrics\n'}]",38,138950,896c93e2f580db4520e11e66b5d8b7210e106ca9,54,6,13,11006,,,0,"Add request metrics speccification

Change-Id: If8044505eb138fdac0f1b7fa2fd48df43c2d8878
Blueprint: request-metrics
",git fetch https://review.opendev.org/openstack/magnetodb-specs refs/changes/50/138950/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/request-metrics.rst'],1,2fc0251845f6326ac431d00951adb29226f70b31,bp/request-metrics,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================ MagnetoDB Request Metrics ============================ Launchpad: request-metrics_ .. _request-metrics: https://blueprints.launchpad.net/magnetodb/+spec/request-metrics Real time request metrics. Problem description =================== --------- Use Cases --------- To proactively address MagnetoDB operational issues, MagnetoDB admin users need real time visibility into the request metrics data on each API node, including: number of requests completed number of requests in processing number of failures* - this need to be measured at load balancer level number of errors average latency median latency minimum latency maximum latency average requests per second distribution of request latencies, such as: ""50%"",""66%"",""75%"",""80%"",""90%"",""95%"",""98%"",""99%"",""100%"". request size in bytes response size in bytes Each of the above metrics should be collected at node level, API endpoint level, and tenant level. Proposed change =============== 1. Report all request metrics to StatsD server using a sample rate for node level/API endpoint level/tenant level. Request metrics are either counters or timing data (in units of milliseconds). StatsD can be utilized to expand timing data to min, max, avg, count, and 90th percentile per timing metric. 2. Introduce a new middleware to collect request metrics at API node level, and tenant level. Middleware seems a natural place to collect the request metrics data at API node level. We propose to introduce a new middleware to all API node services, including REST API and streaming. 3. Update API endpoint request controllers to collect request metrics at API endpoint level and tenant level. Admin users may also need visibility into requests for each API endpoint. The API endpoint request controller can use StatsD client to send corresponding metrics to StatsD server. Initially we will focus on request measurements on node wide metrics, API endpoints and WSGI processing delays on each API node. Later on, we will expand to cover Cassandra request metrics. The following metrics will be collected at node level: mdb_req_completed mdb_req_active mdb_req_failures* - this need to be measured at load balancer level mdb_req_error mdb_req_avg_latency mdb_req_median_latency mdb_req_min_latency mdb_req_max_latency mdb_req_avg_rps mdb_req_min_latency_100 mdb_req_min_latency_98 mdb_req_min_latency_95 mdb_req_min_latency_90 mdb_req_min_latency_80 mdb_req_min_latency_75 mdb_req_min_latency_66 mdb_req_min_latency_50 mdb_req_size_bytes mdb_req_resp_size_bytes mdb_req_{TENANT}_completed mdb_req_{TENANT}_active mdb_req_{TENANT}_error mdb_req_{TENANT}_avg_latency mdb_req_{TENANT}_median_latency mdb_req_{TENANT}_min_latency mdb_req_{TENANT}_max_latency mdb_req_{TENANT}_avg_rps mdb_req_{TENANT}_min_latency_100 mdb_req_{TENANT}_min_latency_98 mdb_req_{TENANT}_min_latency_95 mdb_req_{TENANT}_min_latency_90 mdb_req_{TENANT}_min_latency_80 mdb_req_{TENANT}_min_latency_75 mdb_req_{TENANT}_min_latency_66 mdb_req_{TENANT}_min_latency_50 mdb_req_{TENANT}_size_bytes mdb_req_{TENANT}_resp_size_bytes The following metrics will be collected at API endpoint: mdb_req_{API_ENDPOINT}_completed mdb_req_{API_ENDPOINT}_active mdb_req_{API_ENDPOINT}_error mdb_req_{API_ENDPOINT}_avg_latency mdb_req_{API_ENDPOINT}_median_latency mdb_req_{API_ENDPOINT}_min_latency mdb_req_{API_ENDPOINT}_max_latency mdb_req_{API_ENDPOINT}_avg_rps mdb_req_{API_ENDPOINT}_min_latency_100 mdb_req_{API_ENDPOINT}_min_latency_98 mdb_req_{API_ENDPOINT}_min_latency_95 mdb_req_{API_ENDPOINT}_min_latency_90 mdb_req_{API_ENDPOINT}_min_latency_80 mdb_req_{API_ENDPOINT}_min_latency_75 mdb_req_{API_ENDPOINT}_min_latency_66 mdb_req_{API_ENDPOINT}_min_latency_50 mdb_req_{API_ENDPOINT}_size_bytes mdb_req_{API_ENDPOINT}_resp_size_bytes mdb_req_{API_ENDPOINT}_{TENANT}_completed mdb_req_{API_ENDPOINT}_{TENANT}_active mdb_req_{API_ENDPOINT}_{TENANT}_error mdb_req_{API_ENDPOINT}_{TENANT}_avg_latency mdb_req_{API_ENDPOINT}_{TENANT}_median_latency mdb_req_{API_ENDPOINT}_{TENANT}_min_latency mdb_req_{API_ENDPOINT}_{TENANT}_max_latency mdb_req_{API_ENDPOINT}_{TENANT}_avg_rps mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_100 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_98 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_95 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_90 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_80 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_75 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_66 mdb_req_{API_ENDPOINT}_{TENANT}_min_latency_50 mdb_req_{API_ENDPOINT}_{TENANT}_size_bytes mdb_req_{API_ENDPOINT}_{TENANT}_resp_size_bytes ------------ Alternatives ------------ Instead of using StatsD, a pure middleware based approach can be used to gather request metrics at node/API endpoint/tenant levels, using Scales which is used by Cassandra python driver. No new dependency will be introduced. ----------------- Data model impact ----------------- No impact. --------------- REST API impact --------------- No impact. Metrics will be exposed through StatsD. --------------- Security impact --------------- * No impact. Metrics are collected in middleware/API endpoint controller directly, and exposed through StatsD. -------------------- Notifications impact -------------------- No impact. --------------------- Other end user impact --------------------- No impact. ------------------ Performance Impact ------------------ Performance impact should be minimal if StatsD is used. The metrics sent to StatsD are through UDP. --------------------- Other deployer impact --------------------- StatsD server will need to be deployed and configured. ---------------- Developer impact ---------------- No impact. Implementation ============== ----------- Assignee(s) ----------- Primary assignee: <unassigned> Other contributors: <unassigned> ---------- Work Items ---------- 1. Create middleware to collect node and/or tenant level metrics. 2. API endpoint controllers need to be updated to collect API endpoint and tenant level request metrics. 3. Update documentation to list all request metrics to be published. Dependencies ============ StatsD will be needed for request metrics to be collected. StatsD is optional. If no StatsD is configured, no request metrics will be generated. Testing ======= None Documentation Impact ==================== * Published request metrics should be added to documentation_. .. _documentation: http://magnetodb.readthedocs.org/en/latest/api_reference.html References ========== None ",,268,0
openstack%2Fgnocchi~master~Ibc9c2225215a64f9e38d8654db714e1dbfbba154,openstack/gnocchi,master,Ibc9c2225215a64f9e38d8654db714e1dbfbba154,Remove sphinx from Python 3 requirements,MERGED,2014-12-17 11:33:22.000000000,2014-12-17 20:26:29.000000000,2014-12-17 20:26:28.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-12-17 11:33:22.000000000', 'files': ['test-requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/cd2b3c24ad83149c8c2955e6b149415f295d5b3f', 'message': ""Remove sphinx from Python 3 requirements\n\nFor whatever reason, docutils is not installable anymore on Python 3,\nso let's keep Sphinx in Python 2 only.\n\nChange-Id: Ibc9c2225215a64f9e38d8654db714e1dbfbba154\n""}]",0,142421,cd2b3c24ad83149c8c2955e6b149415f295d5b3f,7,3,1,1669,,,0,"Remove sphinx from Python 3 requirements

For whatever reason, docutils is not installable anymore on Python 3,
so let's keep Sphinx in Python 2 only.

Change-Id: Ibc9c2225215a64f9e38d8654db714e1dbfbba154
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/21/142421/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements-py3.txt'],1,cd2b3c24ad83149c8c2955e6b149415f295d5b3f,jd/remove-doc-from-py3,,sphinxsphinxcontrib-httpdomain,0,2
openstack%2Foperations-guide~master~I849fbb49e0730f6d78a1f20d93f077b23d006903,openstack/operations-guide,master,I849fbb49e0730f6d78a1f20d93f077b23d006903,Edits to the upgrade section in the Operations Guide,MERGED,2014-12-12 04:11:46.000000000,2014-12-17 20:26:11.000000000,2014-12-17 20:26:08.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6772}, {'_account_id': 10705}, {'_account_id': 12402}]","[{'number': 1, 'created': '2014-12-12 04:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/d93bb39625be9cc14f1f4d8083f2482f9e7324ff', 'message': 'Edits to the upgrade section in the Operations Guide\n\nRestructured content in the Havana to Icehouse upgrade for\nUbuntu sections\n\nChange-Id: I849fbb49e0730f6d78a1f20d93f077b23d006903\nbackport: icehouse\nPartial-bug: #1217503\n'}, {'number': 2, 'created': '2014-12-13 10:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/b22476473e5147d1ebf6fd07e82acca1566612c1', 'message': 'Edits to the upgrade section in the Operations Guide\n\nRestructured content in the Havana to Icehouse upgrade for\nUbuntu sections\n\nChange-Id: I849fbb49e0730f6d78a1f20d93f077b23d006903\nbackport: icehouse\nPartial-bug: #1217503\n'}, {'number': 3, 'created': '2014-12-16 00:21:48.000000000', 'files': ['doc/openstack-ops/ch_ops_upgrades.xml'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/778717510c61bcff3b5ffb33eaa864e786175778', 'message': 'Edits to the upgrade section in the Operations Guide\n\nRestructured content in the Havana to Icehouse upgrade for\nUbuntu sections\n\nChange-Id: I849fbb49e0730f6d78a1f20d93f077b23d006903\nbackport: icehouse\nPartial-bug: #1217503\n'}]",6,141266,778717510c61bcff3b5ffb33eaa864e786175778,16,6,3,10705,,,0,"Edits to the upgrade section in the Operations Guide

Restructured content in the Havana to Icehouse upgrade for
Ubuntu sections

Change-Id: I849fbb49e0730f6d78a1f20d93f077b23d006903
backport: icehouse
Partial-bug: #1217503
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/66/141266/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/ch_ops_upgrades.xml'],1,d93bb39625be9cc14f1f4d8083f2482f9e7324ff,upgradeedits_opsguide/darren," for this upgrade, tenant instances should continue to operate <itemizedlist> <listitem> <para>Review the <link about new features that you might want to enable and deprecated features that you should disable.</para> </listitem> <listitem> <para>Consider adopting conventions associated with newer configuration files and merging them with your existing configuration files after completing the upgrade process.</para> </listitem> <listitem> <para>Icehouse disables file injection by default per the <link xlink:href=""https://wiki.openstack.org/wiki/ReleaseNotes/Icehouse"" >Icehouse Release Notes</link>.</para> <para>If you plan to deploy Icehouse in stages, you must disable file injection on all compute nodes that remain on Havana. This is done by editing the <filename>/etc/nova/nova-compute.conf</filename> file:</para> <programlisting language=""ini"">[libvirt] ... libvirt_inject_partition = -2</programlisting> </listitem> <listitem> <para>You must convert the configuration for your environment contained in the <filename>/etc/neutron/neutron.conf</filename> and <filename>/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini</filename> files from OVS to ML2. For example, the <link xlink:href=""http://docs.openstack.org/icehouse/install-guide/install/apt/content/"" ><citetitle>OpenStack Installation Guide</citetitle></link> covers <link xlink:href=""http://docs.openstack.org/icehouse/install-guide/install/apt/content/section_neutron-networking-ml2.html"" >ML2 plug-in configuration</link> using GRE tunnels.</para> <para>Keep the OVS plug-in packages and configuration files until you verify the upgrade.</para> </listitem> </itemizedlist> <procedure> <step> <para>Save the configuration files on all nodes:</para> <screen><prompt>#</prompt> <userinput>for i in keystone glance nova cinder neutron openstack-dashboard; \ do mkdir $i-havana; \ done</userinput>do cp -r /etc/$i/* $i-havana/; \ done</userinput></screen> </step> <step> </step> </procedure> <procedure> <para>Complete the following actions on all nodes</para> <step> <para>Remove the repository for Havana packages:</para> <screen><prompt>#</prompt> <userinput>apt-add-repository -r cloud-archive:havana</userinput></screen> </step> <step> <para>Add the repository for Icehouse packages:</para> <screen><prompt>#</prompt> <userinput>apt-add-repository cloud-archive:icehouse</userinput></screen> </step> <step> </step> </procedure> <procedure> <step> <para>Upgrade packages on the controller node to Icehouse:</para> </step> <step> <para>When the package manager prompts you to update various configuration files, reject the changes. The package manager appends <filename>.dpkg-dist</filename> to newer versions of the configuration files. To find newer versions of configuration files, enter the following command:</para> </step> </procedure> <para>The upgrade procedure for each service generally requires service to apply the new configuration. You will need administrator privileges to perform these procedures. Some services will require <procedure> <title>Upgrade OpenStack Identity</title> <step> <para>Edit the <filename>/etc/keystone/keystone.conf</filename> file for compatibility for Icehouse:</para> <substeps> <step><para>Add the <literal>[database]</literal> section.</para></step> <step><para>Move the <option>connection</option> key from the<literal>[sql]</literal> section to the <literal>[database]</literal> section.</para></step> </substeps> </step> <step><para>Stop the services:</para> <screen><prompt>#</prompt> <userinput>service keystone stop</userinput></screen> </step> <step><para>Upgrade the database:</para> <screen><prompt>#</prompt> <userinput>keystone-manage token_flush</userinput> <prompt>#</prompt> <userinput>keystone-manage db_sync</userinput></screen> </step> <step><para>Start the services.</para> <screen><prompt>#</prompt> <userinput>service keystone start</userinput></screen> </step> </procedure> <procedure> <title>Upgrade OpenStack Image Service</title> <para>Before upgrading the Image Service database, you must <step><para>Use the MySQL client to execute the following </step> <step> <para>Edit the <filename>/etc/glance/glance-api.conf</filename> and <filename>/etc/glance/glance-registry.conf</filename> files for compatibility with Icehouse:</para> <substeps> <step><para>Add the <literal>[database]</literal> section. </para></step> <step><para>Rename the <option>sql_connection</option> key to <literal>[database]</literal> section.</para></step> </substeps> </step> <step> <para>In the <filename>/etc/glance/glance-api.conf</filename> file, add RabbitMQ message broker keys to the <literal>[DEFAULT]</literal> section.</para> <para>Replace <replaceable>RABBIT_PASS</replaceable> with the password you chose for the <literal>guest</literal> account in <application>RabbitMQ</application>.</para> </step> <step><para>Stop the services:</para> <screen><prompt>#</prompt> <userinput>service glance-api stop</userinput> <prompt>#</prompt> <userinput>service glance-registry stop</userinput></screen> </step> <step><para>Upgrade the database:</para> <screen><prompt>#</prompt> <userinput>glance-manage db_sync</userinput></screen> </step> <step><para>Start the services:</para> <screen><prompt>#</prompt> <userinput>service glance-api start</userinput> </step> </procedure> <procedure> <title>Upgrading OpenStack Compute</title> <step><para>Edit the <filename>/etc/nova/nova.conf</filename> file and change the <option>rpc_backend</option> key from <literal>rabbit</literal>.</para></step> <step><para>Edit the <filename>/etc/nova/api-paste.ini</filename> file and comment out or remove any keys in the <literal>[filter:authtoken]</literal> section beneath the <literal>paste.filter_factory = keystoneclient.middleware.auth_token:filter_factory</literal> </step> <step><para>Stop the services:</para> <prompt>#</prompt> <userinput>service nova-scheduler stop</userinput><prompt>#</prompt> <userinput>service nova-novncproxy stop</userinput></screen> </step> <step><para>Upgrade the database:</para> <screen><prompt>#</prompt> <userinput>nova-manage db sync</userinput></screen> </step> <step><para>Start the services:</para> <screen><prompt>#</prompt> <userinput>service nova-api start</userinput> </step> </procedure> <procedure> <title>Upgrade OpenStack Networking:</title> <step><para>Use the MySQL client to execute the following </step> <step><para>Populate the <filename>/etc/neutron/plugins/ml2/ml2_conf.ini</filename> environment.</para> <note><para>Do not edit the <filename>/etc/neutron/neutron.conf</filename> file until after the conversion steps.</para></note> </step> <step> <warning> <para>We highly recommend that you perform a database backup prior to executing the following commands as the conversion script cannot roll back.</para> </warning> <para>Stop the service:</para> <screen><prompt>#</prompt> <userinput>service neutron-server stop</userinput></screen> </step> <step><para>Upgrade the database:</para> <screen><prompt>#</prompt> <userinput>neutron-db-manage --config-file /etc/neutron/neutron.conf \ --config-file /etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini stamp havana</userinput> <prompt>#</prompt> <userinput>neutron-db-manage --config-file /etc/neutron/neutron.conf \ --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade icehouse</userinput></screen> </step> <step><para>Perform the conversion from OVS to ML2:</para> <screen><prompt>#</prompt> <userinput>python -m neutron.db.migration.migrate_to_ml2 openvswitch \</userinput></screen> </step> <step><para>Replace <replaceable>NEUTRON_DBPASS</replaceable> with <screen><userinput>mysql://neutron:NEUTRON_DBPASS@controller/neutron</userinput></screen> </step> <step><para>Edit the <para>Replace <replaceable>SERVICE_TENANT_ID</replaceable> with the service tenant identifier (id) in the Identity service and <replaceable>NOVA_PASS</replaceable> with the password you chose for the <literal>nova</literal> user in the Identity service.</para> </step> <step><para>Start Networking services:</para> </step> </procedure> <procedure> <title>Upgrade OpenStack Block Storage</title> <step><para>Stop services:</para> <screen><prompt>#</prompt> <userinput>service cinder-api stop</userinput><prompt>#</prompt> <userinput>service cinder-scheduler stop</userinput></screen> </step> <step><para>Upgrade the database:</para> <screen><prompt>#</prompt> <userinput>cinder-manage db sync</userinput></screen> </step> <step><para>Start services:</para> <screen><prompt>#</prompt> <userinput>service cinder-api start</userinput> </step> </procedure> <procedure> <title>Update Dashboard</title> <step><para>Edit the <filename>/etc/openstack-dashboard/local_settings.py</filename> file, and change the <option>OPENSTACK_KEYSTONE_DEFAULT_ROLE</option> key from <literal>""Member""</literal> to <literal>""_member_""</literal>.</para> </step> <step><para>Restart Dashboard services:</para> </step> </procedure> <procedure> <step><para>Upgrade packages on the network node to Icehouse:</para> </step> <step><para>Edit the <filename>/etc/neutron/neutron.conf</filename> file to use the ML2 plug-in:</para> </step> <step><para>Populate the <filename>/etc/neutron/plugins/ml2/ml2_conf.ini</filename> file with the equivalent configuration for your environment.</para> </step> <step><para>Clean the active OVS configuration:</para> <screen><prompt>#</prompt> <userinput>service neutron-ovs-cleanup restart</userinput></screen> </step> <step><para>Restart Networking services:</para> <screen><prompt>#</prompt> <userinput>service neutron-dhcp-agent restart</userinput> </step> </procedure> <procedure> <step><para>Upgrade packages on the compute nodes to Icehouse:</para> </step> <step><para>Edit the <filename>/etc/neutron/neutron.conf</filename> </step> <step><para>Populate the <filename>/etc/neutron/plugins/ml2/ml2_conf.ini</filename> </step> <step><para>Clean the active OVS configuration:</para> </step> <step><para>Restart Networking services:</para> </step> <step><para>Restart Compute services:</para> </step> </procedure> <procedure> <step><para>Upgrade packages on the storage nodes to Icehouse:</para> </step> <step><para>Restart Block Storage services.</para> </step> </procedure>"," for this upgrade, tenant instances continue to operate <para>Always review the <link about newly available features that you might want to enable and deprecated features that you should disable.</para> <para>Save the configuration files on all nodes:</para> <screen><prompt>#</prompt> <userinput>for i in keystone glance nova cinder neutron openstack-dashboard; \ do mkdir $i-havana; \ done</userinput> do cp -r /etc/$i/* $i-havana/; \ done</userinput></screen> <para>On all nodes, remove the repository for Havana packages and add the repository for Icehouse packages:</para> <screen><prompt>#</prompt> <userinput>apt-add-repository -r cloud-archive:havana</userinput> <prompt>#</prompt> <userinput>apt-add-repository cloud-archive:icehouse</userinput></screen> <warning> </warning> </section> <section xml:id=""upgrade_icehouse-ubuntu-notes""> <title>Upgrade Notes</title> <itemizedlist> <listitem> <para>Disable Compute file injection:</para> <para>Icehouse disables file injection by default per the <link xlink:href=""https://wiki.openstack.org/wiki/ReleaseNotes/Icehouse"" >Icehouse Release Notes</link>.</para> <para>If you plan to deploy Icehouse in stages, you must disable file injection on all compute nodes that remain on Havana.</para> <para>Edit the <filename>/etc/nova/nova-compute.conf</filename> file:</para> <programlisting language=""ini"">[libvirt] ... libvirt_inject_partition = -2</programlisting> </listitem> <listitem> <para>Convert from the OVS plug-in to the ML2 plug-in:</para> <para>You must convert the configuration for your environment contained in the <filename>/etc/neutron/neutron.conf</filename> and <filename>/etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini</filename> files from OVS to ML2. For example, the <link xlink:href=""http://docs.openstack.org/icehouse/install-guide/install/apt/content/"" ><citetitle>OpenStack Installation Guide</citetitle></link> covers <link xlink:href=""http://docs.openstack.org/icehouse/install-guide/install/apt/content/section_neutron-networking-ml2.html"" >ML2 plug-in configuration</link> using GRE tunnels.</para> <para>Keep the OVS plug-in packages and configuration files until you verify the upgrade.</para> </listitem> </itemizedlist> <para>Upgrade packages on the controller node to Icehouse, as follows:</para> <para>The package manager prompts you to update various configuration files. Reject these changes. The package manager appends <filename>.dpkg-dist</filename> to the newer versions of existing configuration files. You should consider adopting conventions associated with the newer configuration files and merging them with your existing configuration files after completing the upgrade process. You can find newer versions of existing configuration files with the following command:</para> <para>The upgrade procedure for each service typically requires service to apply the new configuration. You need administrator privileges for these procedures. Some services require <itemizedlist> <listitem> <para>OpenStack Identity:</para> <para>Update the configuration file for compatibility with Icehouse.</para> <para>Edit the <filename>/etc/keystone/keystone.conf</filename> file:</para> <para>Add the <literal>[database]</literal> section.</para> <para>Move the <option>connection</option> key from the <literal>[sql]</literal> section to the <literal>[database]</literal> section.</para> <para>Stop services, upgrade the database, and start services.</para> <screen><prompt>#</prompt> <userinput>service keystone stop</userinput> <prompt>#</prompt> <userinput>keystone-manage token_flush</userinput> <prompt>#</prompt> <userinput>keystone-manage db_sync</userinput> <prompt>#</prompt> <userinput>service keystone start</userinput></screen> </listitem> <listitem> <para>OpenStack Image Service:</para> <para>Before upgrading the Image Service database, you must <para>Use the MySQL client to execute the following <para>Update the configuration for compatibility with Icehouse.</para> <para>Edit the <filename>/etc/glance/glance-api.conf</filename> and <filename>/etc/glance/glance-registry.conf</filename> files:</para> <para>Add the <literal>[database]</literal> section.</para> <para>Rename the <option>sql_connection</option> key to <literal>[database]</literal> section.</para> <para>Edit the <filename>/etc/glance/glance-api.conf</filename> file:</para> <para>Add RabbitMQ message broker keys to the <literal>[DEFAULT]</literal> section.</para> <para>Replace <replaceable>RABBIT_PASS</replaceable> with the password you chose for the <literal>guest</literal> account in <application>RabbitMQ</application>.</para> <para>Stop services, upgrade the database, and start services:</para> <screen><prompt>#</prompt> <userinput>service glance-api stop</userinput> <prompt>#</prompt> <userinput>service glance-registry stop</userinput> <prompt>#</prompt> <userinput>glance-manage db_sync</userinput> <prompt>#</prompt> <userinput>service glance-api start</userinput> </listitem> <listitem> <para>OpenStack Compute:</para> <para>Update the configuration for compatibility with Icehouse.</para> <para>Edit the <filename>/etc/nova/nova.conf</filename> file:</para> <para>Change the <option>rpc_backend</option> key from <literal>rabbit</literal>.</para> <para>Edit the <filename>/etc/nova/api-paste.ini</filename> file:</para> <para>Comment out or remove any keys in the <literal>[filter:authtoken]</literal> section beneath the <literal>paste.filter_factory = keystoneclient.middleware.auth_token:filter_factory</literal> <para>Stop services, upgrade the database, and start services.</para><prompt>#</prompt> <userinput>service nova-scheduler stop</userinput><prompt>#</prompt> <userinput>service nova-novncproxy stop</userinput> <prompt>#</prompt> <userinput>nova-manage db sync</userinput> <prompt>#</prompt> <userinput>service nova-api start</userinput> </listitem> <listitem> <para>OpenStack Networking:</para> <para>Use the MySQL client to execute the following <para>Populate the <filename>/etc/neutron/plugins/ml2/ml2_conf.ini</filename> environment. Do not edit the <filename>/etc/neutron/neutron.conf</filename> file until after the conversion steps.</para> <para>Stop services, upgrade the database, and perform the conversion from OVS to ML2.</para> <para>Replace <replaceable>NEUTRON_DBPASS</replaceable> with <warning> <para>We highly recommend that you perform a database backup prior to executing the following commands as the conversion script cannot roll back.</para> </warning> <screen><prompt>#</prompt> <userinput>service neutron-server stop</userinput> <prompt>#</prompt> <userinput>neutron-db-manage --config-file /etc/neutron/neutron.conf \ --config-file /etc/neutron/plugins/openvswitch/ovs_neutron_plugin.ini stamp havana</userinput> <prompt>#</prompt> <userinput>neutron-db-manage --config-file /etc/neutron/neutron.conf \ --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade icehouse</userinput> <prompt>#</prompt> <userinput>python -m neutron.db.migration.migrate_to_ml2 openvswitch \ mysql://neutron:NEUTRON_DBPASS@controller/neutron</userinput></screen> <para>Edit the <para>Replace <replaceable>SERVICE_TENANT_ID</replaceable> with the service tenant identifier (id) in the Identity service and <replaceable>NOVA_PASS</replaceable> with the password you chose for the <literal>nova</literal> user in the Identity service.</para> <para>Start Networking services.</para> </listitem> <listitem> <para>OpenStack Block Storage:</para> <para>Stop services, upgrade the database, and start services.</para> <screen><prompt>#</prompt> <userinput>service cinder-api stop</userinput><prompt>#</prompt> <userinput>service cinder-scheduler stop</userinput> <prompt>#</prompt> <userinput>cinder-manage db sync</userinput> <prompt>#</prompt> <userinput>service cinder-api start</userinput> </listitem> <listitem> <para>Dashboard:</para> <para>Update the configuration for compatibility with Icehouse.</para> <para>Edit the <filename>/etc/openstack-dashboard/local_settings.py</filename> file:</para> <para>Change the <option>OPENSTACK_KEYSTONE_DEFAULT_ROLE</option> key from <literal>""Member""</literal> to <literal>""_member_""</literal>.</para> <para>Restart Dashboard services.</para> </listitem> </itemizedlist> <para>The controller node update is complete. Now you can upgrade the remaining nodes.</para> <para>Upgrade packages on the network node to Icehouse:</para> <para>Edit the <filename>/etc/neutron/neutron.conf</filename> file to use the ML2 plug-in:</para> <para>Populate the <filename>/etc/neutron/plugins/ml2/ml2_conf.ini</filename> file with the equivalent configuration for your environment.</para> <para>Clean the active OVS configuration:</para> <screen><prompt>#</prompt> <userinput>service neutron-ovs-cleanup restart</userinput></screen> <para>Restart Networking services:</para> <screen><prompt>#</prompt> <userinput>service neutron-dhcp-agent restart</userinput> <para>Upgrade packages on the compute nodes to Icehouse:</para> <para>Edit the <filename>/etc/neutron/neutron.conf</filename> <para>Populate the <filename>/etc/neutron/plugins/ml2/ml2_conf.ini</filename> <para>Clean the active OVS configuration:</para> <para>Restart Networking services:</para> <para>Restart Compute services:</para> <para>Upgrade packages on the storage nodes to Icehouse:</para> <para>Restart Block Storage services.</para>",259,212
openstack%2Fneutron-specs~master~Ic34966c78e684fd3d764d1e941c5a318dffd1932,openstack/neutron-specs,master,Ic34966c78e684fd3d764d1e941c5a318dffd1932,"Revert ""Filtering routers by network-id""",MERGED,2014-12-16 23:58:31.000000000,2014-12-17 20:25:56.000000000,2014-12-17 20:25:53.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-12-16 23:58:31.000000000', 'files': ['specs/kilo/filter-routers-by-network-id.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ccca712b5cd258442a1a51fb54236bdb34883802', 'message': 'Revert ""Filtering routers by network-id""\n\nIt was pointed out on spec [1] that we should not follow\na piece-meal approach in extending filtering capabilies\nto the API and we should have a holistic approach to this\nduring the API refactoring work.\n\nWork [1] was therefore deferred, and this one should be to.\n\n[1] https://review.openstack.org/#/c/138695/\n\nThis reverts commit bf80173046646eb1e829574bd9668cd1a84745b8.\n\nChange-Id: Ic34966c78e684fd3d764d1e941c5a318dffd1932\n'}]",1,142261,ccca712b5cd258442a1a51fb54236bdb34883802,9,4,1,748,,,0,"Revert ""Filtering routers by network-id""

It was pointed out on spec [1] that we should not follow
a piece-meal approach in extending filtering capabilies
to the API and we should have a holistic approach to this
during the API refactoring work.

Work [1] was therefore deferred, and this one should be to.

[1] https://review.openstack.org/#/c/138695/

This reverts commit bf80173046646eb1e829574bd9668cd1a84745b8.

Change-Id: Ic34966c78e684fd3d764d1e941c5a318dffd1932
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/61/142261/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/filter-routers-by-network-id.rst'],1,ccca712b5cd258442a1a51fb54236bdb34883802,,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Allow Filtering of Routers by Network ID ======================================== https://blueprints.launchpad.net/neutron/+spec/filter-routers-by-network-id Currently, there is no way to list all the routers which are connected to a single network. This spec proposes an optional 'network_id' filter to the router-list REST API, which (when used) will allow one to get a list of all the routers which belong to a specific network. Problem Description =================== On a deployed setup with a lot of networks and routers, it's very difficult to get a list of all the routers which are connected to a specific network, and includes manually filtering out all the irrelevant routers. Proposed Change =============== This spec proposes adding a new parameter to the REST API for router-list, 'network_id', which will return routers which are logically connected to the specified network. This is done by querying a list of all the ports which are connected to the specified network, and then filtering from them only the ports that belong to some router. Data Model Impact ----------------- None. All the data is already present on the database, we simply need to filter them. REST API Impact --------------- * Filtering routers by network_id will be allowed by GET to the address: /v2.0/routers.json?network_id=network_id Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ The new flow of filtering for routers by a network_id will only occur of 'network_id' is provided in the GET query. If it isn't nothing is changed in the flow and no impact should be had. In case 'network_id' is provided, an SQL query which joins relevant rows of both the Router and Port models is created and executed. This is done only when a tenant asks for the information. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ * The user is able to produce a list of all the ports, and for each use 'port-show' and see if the 'network_id' field matches the network_id the user is interested in, and if the 'device_owner' is a router. This is quite cumbersome. * A similar implementation can be automated in neutronclient, but will only add more throughput (a list of all the ports must be sent from the server to the client, and once the data is there the neutronclient code will need to manually filter it. The proposed fix does this at the DB level. Implementation ============== Assignee(s) ----------- Primary assignee: jschwarz (jschwarz@redhat.com) Work Items ---------- * Implementation (patch 111580) Dependencies ============ None Testing ======= Tempest Tests ------------- None Functional Tests ---------------- None API Tests --------- * A unit test which adds 2 routers, 2 subnets and 2 ports, and makes sure that using router-list using the network-id parameter only produce the wanted routers should be added. * A similar test for external networks should also be added. Documentation Impact ==================== The new field, 'network_id', should be documented. User Documentation ------------------ None Developer Documentation ----------------------- None References ========== https://review.openstack.org/#/c/111580/ ",0,164
openstack%2Fneutron-specs~master~I19f691708e038ad0140ee1a14409da59be998f1d,openstack/neutron-specs,master,I19f691708e038ad0140ee1a14409da59be998f1d,RPC: docs and namespaces,MERGED,2014-12-08 22:27:19.000000000,2014-12-17 20:24:52.000000000,2014-12-17 20:24:50.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 841}, {'_account_id': 1561}, {'_account_id': 1689}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 8645}]","[{'number': 1, 'created': '2014-12-08 22:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a2742bc5fb1f2d862c4536e3c1cf6e3f97747bd6', 'message': 'RPC: docs and namespaces\n\nThis blueprint aims to enhance the existing usage of oslo.messaging to make the\nversion scheme more clear to developers.  Several people have expressed that the\ncurrent code is difficult to understand, so this spec aims to improve that.\n\nSpec for blueprint rpc-docs-and-namespaces.\n\nChange-Id: I19f691708e038ad0140ee1a14409da59be998f1d\n'}, {'number': 2, 'created': '2014-12-15 14:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e2184310f196d2b18e7830d190d4d50bbcf39aa9', 'message': 'RPC: docs and namespaces\n\nThis blueprint aims to enhance the existing usage of oslo.messaging to make the\nversion scheme more clear to developers.  Several people have expressed that the\ncurrent code is difficult to understand, so this spec aims to improve that.\n\nSpec for blueprint rpc-docs-and-namespaces.\n\nChange-Id: I19f691708e038ad0140ee1a14409da59be998f1d\n'}, {'number': 3, 'created': '2014-12-15 17:50:29.000000000', 'files': ['specs/kilo/rpc-docs-and-namespaces.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/26a9ae744e2c721645054b5b250451c25dc7e9fa', 'message': 'RPC: docs and namespaces\n\nThis blueprint aims to enhance the existing usage of oslo.messaging to make the\nversion scheme more clear to developers.  Several people have expressed that the\ncurrent code is difficult to understand, so this spec aims to improve that.\n\nSpec for blueprint rpc-docs-and-namespaces.\n\nChange-Id: I19f691708e038ad0140ee1a14409da59be998f1d\n'}]",5,140166,26a9ae744e2c721645054b5b250451c25dc7e9fa,19,10,3,1561,,,0,"RPC: docs and namespaces

This blueprint aims to enhance the existing usage of oslo.messaging to make the
version scheme more clear to developers.  Several people have expressed that the
current code is difficult to understand, so this spec aims to improve that.

Spec for blueprint rpc-docs-and-namespaces.

Change-Id: I19f691708e038ad0140ee1a14409da59be998f1d
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/66/140166/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/rpc-docs-and-namespaces.rst'],1,a2742bc5fb1f2d862c4536e3c1cf6e3f97747bd6,bp/aims,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= RPC Docs and Namespaces ======================= https://blueprints.launchpad.net/neutron/+spec/rpc-docs-and-namespaces This blueprint aims to enhance the existing usage of oslo.messaging to make the version scheme more clear to developers. Several people have expressed that the current code is difficult to understand, so this spec aims to improve that. Problem Description =================== Neutron uses the oslo.messaging library to provide an internal communication channel between Neutron services. This communication is typically done via AMQP, but those details are mostly hidden by the use of oslo.messaging and it could be some other protocol in the future. RPC APIs are defined in Neutron in two parts: client side and server side. Client Side ----------- Here is an example of an rpc client definition: :: from oslo import messaging from neutron.common import rpc as n_rpc class ClientAPI(object): """"""Client side RPC interface definition. API version history: 1.0 - Initial version 1.1 - Added my_remote_method_2 """""" def __init__(self, topic): target = messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target) def my_remote_method(self, context, arg1, arg2): cctxt = self.client.prepare() return cctxt.call(context, 'my_remote_method', arg1=arg1, arg2=arg2) def my_remote_method_2(self, context, arg1): cctxt = self.client.prepare(version='1.1') return cctxt.call(context, 'my_remote_method_2', arg1=arg1) This class defines the client side interface for an rpc API. The interface has 2 methods. The first method existed in version 1.0 of the interface. The second method was added in version 1.1. When the newer method is called, it specifies that the remote side must implement at least version 1.1 to handle this request. Server Side ----------- The server side of an rpc interface looks like this: :: from oslo import messaging class ServerAPI(object): target = messaging.Target(version='1.1') def my_remote_method(self, context, arg1, arg2): return 'foo' def my_remote_method_2(self, context, arg1): return 'bar' This class implements the server side of the interface. The messaging.Target() defined says that this class currently implements version 1.1 of the interface. Versioning ---------- Note that changes to rpc interfaces must always be done in a backwards compatible way. The server side should always be able to handle older clients (within the same major version series, such as 1.X). It is possible to bump the major version number and drop some code only needed for backwards compatibility. For more information about how to do that, see https://wiki.openstack.org/wiki/RpcMajorVersionUpdates. Each stream of version numbers is associated with a target. On the client side, you set up a target that identifies the destination of your method call. Every method exposed at that target is a single API from the oslo.messaging perspective, regardless of the implementation details on the other side. Unfortunately, in the Neutron code today, it's inconsistent and generally difficult to tell what is considered a part of the same version stream or is separate. A demonstrative example: DHCP Agent ----------------------------------- There is an RPC interface defined that allows the Neutron plugin to remotely invoke methods in the DHCP agent. The client side is defined in neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api.DhcpAgentNotifyApi. The server side of this interface that runs in the DHCP agent is neutron.agent.dhcp_agent.DhcpAgent. The DHCP agent includes a client API, neutron.agent.dhcp_agent.DhcpPluginAPI. The DHCP agent uses this class to call remote methods back in the Neutron server. The server side is defined in neutron.api.rpc.handlers.dhcp_rpc.DhcpRpcCallback. This is where versioning starts to get complicated. A version number is associated with an oslo.messaging.Target. The target of a message is specified using a topic (and optionally a specific host on that topic). Everything exposed via the same target must be versioned as a part of the same version stream. The DhcpRpcCallback API is exposed on the 'q-plugin' topic. Several other things are exposed on the same topic. For example, when using the ml2 plugin, the relevant code is: :: self.endpoints = [rpc.RpcCallbacks(self.notifier, self.type_manager), securitygroups_rpc.SecurityGroupServerRpcCallback(), dvr_rpc.DVRServerRpcCallback(), dhcp_rpc.DhcpRpcCallback(), agents_db.AgentExtRpcCallback(), metadata_rpc.MetadataRpcCallback()] With the way the code is written today, the API exposed via the 'q-plugin' topic is the *union* of the APIs defined by the following classes: :: neutron.plugins.ml2.rpc.RpcCallbacks neutron.plugins.ml2.drivers.type_tunnel.TunnelRpcCallbackMixin neutron.api.rpc.handlers.securitygroups_rpc.SecurityGroupServerRpcCallback neutron.api.rpc.handlers.dvr_rpc.DVRServerRpcCallback neutron.api.rpc.handlers.dhcp_rpc.DhcpRpcCallback neutron.db.agents_db.AgentExtRpcCallback neutron.api.rpc.handlers.metadata_rpc.MetadataRpcCallback That means that an API change to *ANY* of these APIs means an increase in a version number stream that spans all of these interfaces. However, the implementation seems to suggest that they are versioned independently, but it's not consistent. Proposed Change =============== This spec proposes two changes. The goal of the changes is to help make it more clear what the scope of the version numbers are. It should make handling of these version numbers a bit easier to understand and hopefully less error prone as a result. 1) Documentation For every client and server rpc interface definition in Neutron, add documentation that makes it very clear where the corresponding other side of the interface lives in the code. Also, the documentation will list any other classes that are included in the same version stream. 2) Use namespaces When defining an oslo.messaging.Target, you can add a namespace. This allows you to expose multiple interfaces on the same topic but still version them independently. If we revisit the example of the 'q-plugin' topic and the ml2 driver, we have several interfaces exposed on the same topic in the default namespace. Namespaces will be used to separate these interfaces so that each interface can be versioned independently. For example, one of the interfaces exposed is neutron.api.rpc.handlers.dhcp_rpc.DhcpRpcCallback. The beginning of that implementation looks like this: :: class DhcpRpcCallback(object): """"""DHCP agent RPC callback in plugin implementations."""""" target = messaging.Target(version='1.1') Instead, the target will now be defined with a namespace: :: class DhcpRpcCallback(object): """"""DHCP agent RPC callback in plugin implementations."""""" target = messaging.Target(namespace='dhcp', version='1.1') Similarly, the client side must be updated as well. neutron.agent.dhcp_agent.DhcpPluginAPI.__init__ includes the following code: :: target = messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target) The change here is quite similar to what's done on the server side: :: target = messaging.Target(namespace='dhcp', topic=topic, version='1.0') self.client = n_rpc.get_client(target) Now, when the client makes a request it is being much more explicit. The server side will only look for the requested method on the endpoint marked with the 'dhcp' namespce, instead of all included endpoints. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None IPv6 Impact ----------- None Other Deployer Impact --------------------- Technically, this change is not backwards compatible. The reality is that only matters if you expect any sort of live upgrade to work. Since live upgrades aren't actually expected to work, this spec proposes just accepting this theoretical incompatibility since it doesn't matter in practice, yet. Developer Impact ---------------- The developer impact should be minimal. Hopefully the impact is just that when developers come across the need to change one of these interfaces, it's a bit more clear what other parts of the code are impacted. Developers will also have to be aware of the new namespace usage for any new interfaces added in the future. Community Impact ---------------- The only things proposed here are documentation and use of a standard oslo.messaging APIs. Alternatives ------------ Instead of using namespaces, you could expose each interface on its own topic. Namespaces are a bit more convenient, as a service tends to have one topic set up using common code. That common code would have to be reworked to support an arbitrary list of endpoints mapped to topics. Implementation ============== Assignee(s) ----------- Primary assignee: russellb Work Items ---------- * Convert code base to use namespaces as appropriate. * Add doc strings to all rpc client and server interfaces. Dependencies ============ * drop-rpc-compat blueprint: https://blueprints.launchpad.net/neutron/+spec/drop-rpc-compat Testing ======= Existing testing will validate that these changes have not caused regressions. Tempest Tests ------------- None Functional Tests ---------------- None API Tests --------- None Documentation Impact ==================== None User Documentation ------------------ None Developer Documentation ----------------------- Additional developer documentation is a key deliverable of this blueprint. References ========== * oslo.messaging documentation: http://docs.openstack.org/developer/oslo.messaging/ ",,350,0
openstack%2Fmanila~master~I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d,openstack/manila,master,I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d,Updated from global requirements,MERGED,2014-12-08 16:18:36.000000000,2014-12-17 20:24:45.000000000,2014-12-17 20:24:45.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 13900}, {'_account_id': 14232}]","[{'number': 1, 'created': '2014-12-08 16:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e54a439a7da4e64f4951eb5a884f36e791888193', 'message': 'Updated from global requirements\n\nChange-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d\n'}, {'number': 2, 'created': '2014-12-10 16:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e150df002457c4d970cb5bfc2948ec06faa1bcf3', 'message': 'Updated from global requirements\n\nChange-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d\n'}, {'number': 3, 'created': '2014-12-11 07:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2a1fbc53220fb3fb95eb1d0c565f294ce1e40321', 'message': 'Updated from global requirements\n\nChange-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d\n'}, {'number': 4, 'created': '2014-12-12 22:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8374f71fb9d7eaac6f96bacc7d35fbfec2db564d', 'message': 'Updated from global requirements\n\nChange-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d\n'}, {'number': 5, 'created': '2014-12-16 19:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8380de27131c48c46b1800da284aa5263a123010', 'message': 'Updated from global requirements\n\nChange-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d\n'}, {'number': 6, 'created': '2014-12-17 04:05:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/42b566b31f3c8487078ac171a5430d193bc06f48', 'message': 'Updated from global requirements\n\nChange-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d\n'}]",0,140054,42b566b31f3c8487078ac171a5430d193bc06f48,21,6,6,11131,,,0,"Updated from global requirements

Change-Id: I4f196c304eae0d7feb9c9bfbfd39e6a2690e0c9d
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/140054/6 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e54a439a7da4e64f4951eb5a884f36e791888193,openstack/requirements,"SQLAlchemy>=0.9.7,<=0.9.99","SQLAlchemy>=0.8.4,<=0.8.99,>=0.9.7,<=0.9.99",1,1
openstack%2Fdesignate~master~Ic014fecac7f97fa88a45e3ac2a3e2d35299fc966,openstack/designate,master,Ic014fecac7f97fa88a45e3ac2a3e2d35299fc966,Post-pool merge cleanup,MERGED,2014-12-16 18:58:54.000000000,2014-12-17 20:24:40.000000000,2014-12-17 20:24:39.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2014-12-16 18:58:54.000000000', 'files': ['contrib/devstack/lib/designate_plugins/backend-powerdns', 'contrib/vagrant/localrc', 'contrib/devstack/lib/designate_plugins/backend-dynect', 'designate/mdns/__init__.py', 'designate/central/service.py', 'contrib/devstack/lib/designate_plugins/backend-bind9', 'contrib/devstack/lib/designate', 'designate/pool_manager/service.py', 'designate/mdns/notify.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/889475db9910d8a10911ff2df15e540cc445af99', 'message': 'Post-pool merge cleanup\n\n(1) Removed references to designate-agent.\n(2) Removed mdns references that are no longer needed.\n(3) Ensure that create_domain creates soa first.\n(4) Removed py26 from the default tox tests\n\nChange-Id: Ic014fecac7f97fa88a45e3ac2a3e2d35299fc966\n'}]",0,142188,889475db9910d8a10911ff2df15e540cc445af99,7,3,1,8094,,,0,"Post-pool merge cleanup

(1) Removed references to designate-agent.
(2) Removed mdns references that are no longer needed.
(3) Ensure that create_domain creates soa first.
(4) Removed py26 from the default tox tests

Change-Id: Ic014fecac7f97fa88a45e3ac2a3e2d35299fc966
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/142188/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/lib/designate_plugins/backend-powerdns', 'contrib/vagrant/localrc', 'contrib/devstack/lib/designate_plugins/backend-dynect', 'designate/mdns/__init__.py', 'designate/central/service.py', 'contrib/devstack/lib/designate', 'contrib/devstack/lib/designate_plugins/backend-bind9', 'designate/pool_manager/service.py', 'designate/mdns/notify.py', 'tox.ini']",10,889475db9910d8a10911ff2df15e540cc445af99,bp/pools-cleanup,"envlist = py27,flake8","envlist = py26,py27,flake8",11,43
openstack%2Fkeystone-specs~master~Ia8d7a70976c7ef237f30988cad5d3d531820e765,openstack/keystone-specs,master,Ia8d7a70976c7ef237f30988cad5d3d531820e765,Cookie for tokens,ABANDONED,2014-07-24 13:49:46.000000000,2014-12-17 19:43:48.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}]","[{'number': 1, 'created': '2014-07-24 13:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8335ff9790e290c20dc370bda3008feeeaebaddd', 'message': 'Cookie for tokens\n\nUse a secure session cookie (partof the HTTP spec) to store a\nKey for the the PKIZ tokens after initial use to reduce the\nsize of the HTTP request and response to endpoints.\n\nChange-Id: Ia8d7a70976c7ef237f30988cad5d3d531820e765\n'}, {'number': 2, 'created': '2014-07-24 13:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/42fbd259be5ec292424d2769e04b124cd3733da6', 'message': 'Cookie for tokens\n\nUse a secure session cookie (partof the HTTP spec) to store a\nKey for the the PKIZ tokens after initial use to reduce the\nsize of the HTTP request and response to endpoints.\n\nChange-Id: Ia8d7a70976c7ef237f30988cad5d3d531820e765\n'}, {'number': 3, 'created': '2014-07-25 03:25:28.000000000', 'files': ['specs/keystoneclient/cookie-for-token.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6d8b3f6ab6bfcda92ff7b2229d2eb6a8bfe33e6e', 'message': 'Cookie for tokens\n\nUse a secure session cookie (partof the HTTP spec) to store a\nKey for the the PKIZ tokens after initial use to reduce the\nsize of the HTTP request and response to endpoints.\n\nChange-Id: Ia8d7a70976c7ef237f30988cad5d3d531820e765\n'}]",12,109295,6d8b3f6ab6bfcda92ff7b2229d2eb6a8bfe33e6e,19,3,3,2218,,,0,"Cookie for tokens

Use a secure session cookie (partof the HTTP spec) to store a
Key for the the PKIZ tokens after initial use to reduce the
size of the HTTP request and response to endpoints.

Change-Id: Ia8d7a70976c7ef237f30988cad5d3d531820e765
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/95/109295/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystoneclient/cookie-for-token.rst'],1,8335ff9790e290c20dc370bda3008feeeaebaddd,cookie-for-token,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== `bp example <https://blueprints.launchpad.net/keystone/+spec/example>`_ Provide a helper function to convert a PKI token into its hashed version for second and additional passes. Validate based on the value extracted from the cookie. Problem Description =================== People are continuing to use UUID tokens due to the size of PKI tokens. The current shortcut used by Horizon of converting a token to its hashed form requires the client knowing the Hash algorthimg used, and converts the Hashed version of the token into an insecure bearer token. Additionally, it forces fallback to online validation and verification. Proposed Change =============== Middleware can proces at two stages: request and response. Currently, auth_token only processes on the request stage. Add a response handler that extracts the auth_token out of the request, generates a random hash as its key, and adds the token data to memcache, keyed by the new random value. Then, add the key into a session cookie. In the keystoneclient session code, look for the cookie and maintain it, sending it in place of the last used token for repeated calls to the endpoint. During the auth_token processing stage, look first for the cookie. If it exists, use it to fetch the token data out of memcache and varify that it has not been revoked. Set the cookie as an environment variable. During the process_response stage, it is important to check for the existence of the random hash generated in previous requests, and reuse it instead of generating a new one, as multiple requests might come in parallel. Alternatives ------------ Forcing everyone to use PKI tokens increases network traffic, to the point that people are discussing returning to UUID tokens. That is not acceptable. Horizon current uses the online validation by md5 hashing the tokens. That will not work when the hashing algorithm changes. Reverting to uuid tokens means a significant increase in load on Keystone. Security Impact --------------- This change would affect the security of token processing in a positive way. If session tokens are treated according to the HTTP protocol, the should be more secure than the Md5 hashing appraoch to limit size in transit. It will add an additional mechanism in the client for handling cookies, but that is no more nor less secure than what is done now. The random number for generating the new key must be truely random. There is no elevation of priviledges involved in this approach. The cookie version of the tokens will not be parsed. There should be no resource exhaustion. Any attack would take the form of a DDOS, and needs to be protected at the endpoint already. Tokens already depend on a high degree of randomness in their range, this does not change that. Notifications Impact -------------------- No new notifications are required Other End User Impact --------------------- Other third party libraries will be able to take advantage of the cookies to reduce network load. Performance Impact ------------------ Smaller load on the network Slight increase in the demand for random numbers in the client Reduced hashing of PKIZ tokens. Other Deployer Impact --------------------- No new configuration options required. New change would be in effect on the server immediately. The client can use or ignore as appropriate. A client cannot attempt to make use of this feature on a server tha has not enabled it. Developer Impact ---------------- Developers of clients might want to change their code to take advantage of cookies if available. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: ayoung Other contributors: jamielennox hrybacki Work Items ---------- * auth_token changes to produce and consume cookies * session changes to honor cookies * Horizon changes to use cookies in place of hashing PKIZ tokens Dependencies ============ * None Documentation Impact ==================== Use of cookies should be documented in the client. References ========== None ",,163,0
openstack%2Fcinder-specs~master~I36de3a78d3f66d236e53e46702e3c6a9172fd860,openstack/cinder-specs,master,I36de3a78d3f66d236e53e46702e3c6a9172fd860,added first version of the openATTIC driver spec file,ABANDONED,2014-07-14 12:11:43.000000000,2014-12-17 19:42:23.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 10068}, {'_account_id': 12253}]","[{'number': 1, 'created': '2014-07-14 12:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/8983412aef52fb386e76fb08fae6b6a69979def3', 'message': 'added first version of the openATTIC driver\n\nChange-Id: I36de3a78d3f66d236e53e46702e3c6a9172fd860\n'}, {'number': 2, 'created': '2014-07-14 12:14:06.000000000', 'files': ['specs/juno/openattic-driver-first-version.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/2102baf55109e52a32d5fb3d423bd5494881b49c', 'message': 'added first version of the openATTIC driver spec file\n\nChange-Id: I36de3a78d3f66d236e53e46702e3c6a9172fd860\n'}]",0,106742,2102baf55109e52a32d5fb3d423bd5494881b49c,10,4,2,11826,,,0,"added first version of the openATTIC driver spec file

Change-Id: I36de3a78d3f66d236e53e46702e3c6a9172fd860
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/42/106742/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/openattic-driver-first-version.rst'],1,8983412aef52fb386e76fb08fae6b6a69979def3,openattic-driver-first-version,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ First version of the openATTIC Cinder driver ============================================ https://blueprints.launchpad.net/cinder/+spec/openattic-driver-first-version This proposal aims to add the openATTIC driver to OpenStack Cinder. openATTIC is a highly flexible open source system for software-defined storage which abstracts the standard Linux tools, providing a unified API that can be used regardless of the storage subsystem (LVM, ZFS, Btrfs, Ceph) in use. Hence, openATTIC provides the ideal basis for heterogeneous systems providing storage for all kinds of users from single systems to full-fledged clouds. Problem description =================== Theoretically, Cinder can make use of openATTIC storage simply by installing cinder-volume on the openATTIC node. However, this method does not make use of advanced openATTIC features, such as the automated monitoring and performance analysis, which means that administrators do not get the full benefits from their openATTIC systems. Proposed change =============== This driver makes an openATTIC host available as a storage backen for OpenStack Cinder. The change consists of adding a new Cinder driver which serves as the interface between openATTIC and OpenStack Cinder. The central component in this context is the openATTIC xml rpc api (which for example is also the basis of the openATTIC command line interface (cli)). Via this api, the openATTIC Cinder driver can send requests to the openATTIC host and receive its responses. The following diagram shows the whole structure: +-----------------+ +----------------+ | | | | | | | | | | iSCSI LUN | KVM | | openATTIC +---------------------------------> | | | | +-----+ | | | | | | | | | | | VM | | +--+----+------+--+ | +-----+ | | RPC|API | +---+-----+--^---+ +----+^-----+ | | | | | | | | | +--------+--------+ +-------------+---+ | | | | | | | | | | | | | cinder-volume | | nova-compute | | | | | | | | | | | | | +--------^--------+ +---------^-------+ | | | +----------------+ | | | | | | | | | +-----------------+ OpenStack +----------------+ | | | | +----------------+ The supported functionalities are: - Create volume - Delete volume - Attach volume - Detach volume - Extend volume - Create snapshot - Delete snapshot - List snapshots - Create volume from snapshot - Create volume from image - Create volume from volume (clone) - Create image from volume Alternatives ------------ See problem description. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- openATTIC automatically monitors newly-created volumes, so storage administrators may receive Nagios notifications. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- To use the openATTIC driver, it must be configured as explained in the documentation impact section. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: tatjanadehler <tatjana@open-attic.org> Other contributors: svedrin <michael@open-attic.org> Work Items ---------- None Dependencies ============ None Testing ======= Continuous Integration testing for the openATTIC driver will be conducted by the openATTIC team. Documentation Impact ==================== The following information about the openATTIC driver and its configuration should be added to the OpenStack Manuals -> OpenStack Configuration Reference -> BlockStorage -> Volume drivers section: http://docs.openstack.org/trunk/config-reference/content /section_volume-drivers.html New entry: openATTIC driver Content: In order to use the openATTIC driver add the following line to the cinder.conf file and use the configuration options in the table to configure it. volume_driver = cinder.volume.drivers.openattic.OpenATTICiSCSIDriver Table x.y. openATTIC's configuration options | Configuration option = Default value | Description | ----------------------------------------------------------------------------- | oa_apikey_file = /etc/openattic/cli.conf | (StrOpt) Path to the | | | openATTIC api key file | | | (see below). | | | | | oa_lun_id = 1 | (IntOpt) Default lun id. | | | | | oa_snap_size = 100 | (IntOpt) Size of a snapshot | | | in per | | | cent (of the original volume) | | | | | oa_timeout = 600 | (IntOpt) Timeout in seconds | | | for the openATTIC operations | | | create, clone, resize. | ----------------------------------------------------------------------------- The openATTIC cinder driver requires an API key in order to access the openATTIC API. The ``oa_apikey_file`` configuration parameter specifies the path of a file containing the API key mentioned. If installing cinder-volume on the openATTIC node, the default configuration points to a file automatically created by the openATTIC installation, so it should work out of the box. Otherwise, create a file that contains the following lines, and point the ``oa_apikey_file`` parameter to it:: [options] connect = http://__:<API Key>@<host>:31234/ See the XML-RPC API section in the openATTIC documentation at http://open-attic.org for details. Furthermore, the openATTIC driver and its supported functionalities should be added to the CinderSupportMatrix: https://wiki.openstack.org/wiki/CinderSupportMatrix References ========== * openATTIC community page: http://www.open-attic.org * openATTIC IRC channel #openattic on freenode.net ",,236,0
openstack%2Fmanila~master~I2627341279e5a5956ed266c3080c339785166f92,openstack/manila,master,I2627341279e5a5956ed266c3080c339785166f92,Create neutron network helper implementation,ABANDONED,2014-11-24 09:56:28.000000000,2014-12-17 19:35:43.000000000,,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 6529}, {'_account_id': 8851}, {'_account_id': 11878}]","[{'number': 1, 'created': '2014-11-24 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4bf3a91cccabd9d2969d0a30a740db913f28c95d', 'message': 'Create neutron network helper\n\nCreate interface for manila network helpers and implementation\nusing neutron network. All existing code from service_instance module\nconnected with neutron network was moved to new neutron network helper.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 2, 'created': '2014-11-24 11:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6be7a0f18dd97d5a294db7d47f016288e5d30eef', 'message': 'Create neutron network helper\n\nCreate interface for manila network helpers and implementation\nusing neutron network. All existing code from service_instance module\nconnected with neutron network was moved to new neutron network helper.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 3, 'created': '2014-11-24 11:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48e1199706ccf1374ecf673422bdb7c547258353', 'message': 'Create neutron network helper\n\nCreate interface for manila network helpers and implementation\nusing neutron network. All existing code from service_instance module\nconnected with neutron network was moved to new neutron network helper.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 4, 'created': '2014-11-24 15:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45063a90d0b9bafd509a62afaff2333326883963', 'message': 'Create neutron network helper\n\nCreate interface for manila network helpers and implementation\nusing neutron network. All existing code from service_instance module\nconnected with neutron network was moved to new neutron network helper.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 5, 'created': '2014-12-01 09:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/242b2b66ae4db5719e95c1ba514f1e8e42ef97e3', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 6, 'created': '2014-12-01 11:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac4991de719747ead334c4ef837e821d8f2ff9b6', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 7, 'created': '2014-12-01 11:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d20365b9769db47c156d0a0130d22ddd334426c7', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 8, 'created': '2014-12-01 15:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7683af9132542100b48e4ca3117ac137090cd285', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 9, 'created': '2014-12-03 12:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d1061db58a14d389fe41c06910c26f747065d9ea', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 10, 'created': '2014-12-03 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/86657b35960e9c6de3459f581e3b8d44b3589dbd', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nPartially-implemented: blueprint network-helper\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 11, 'created': '2014-12-04 13:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a254971b7f819e9fc411861e0d3bffe68d823b5e', 'message': 'Create neutron network helper implementation\n\nCreate implementation of network helper interface using existing\ncode from generic driver. Also modify generic driver to use network\nhelpers.\n\nPartially-implemented: blueprint network-helper\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 12, 'created': '2014-12-04 15:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e640e16c1b621c8673ebdd2179ff326cc9cf80c3', 'message': 'Create neutron network helper implementation\n\nCreate neutron implementation of network helper interface using existing\ncode from generic driver. Use neutron using for creation network in\nthis new NeutronNetworkHelper.\nAlso modify generic driver to use network\nhelpers.\n\nPartially-implemented: blueprint network-helper\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}, {'number': 13, 'created': '2014-12-05 20:12:45.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/fake_network_helper.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/share/network_helpers/neutron.py', 'manila/tests/share/network_helpers/__init__.py', 'manila/tests/share/network_helpers/test_neutron.py', 'manila/share/network_helpers/__init__.py', 'manila/tests/share/drivers/test_generic.py', 'manila/share/drivers/generic.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3621acd156bcffe67883f244677b69de1c554d7e', 'message': 'Create neutron network helper implementation\n\nCreate neutron implementation of network helper interface using existing\ncode from generic driver. Use neutron using for creation network in\nthis new NeutronNetworkHelper.\nAlso modify generic driver to use network\nhelpers.\n\nPartially-implemented: blueprint network-helper\n\nChange-Id: I2627341279e5a5956ed266c3080c339785166f92\n'}]",55,136724,3621acd156bcffe67883f244677b69de1c554d7e,40,5,13,6529,,,0,"Create neutron network helper implementation

Create neutron implementation of network helper interface using existing
code from generic driver. Use neutron using for creation network in
this new NeutronNetworkHelper.
Also modify generic driver to use network
helpers.

Partially-implemented: blueprint network-helper

Change-Id: I2627341279e5a5956ed266c3080c339785166f92
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/136724/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/share/network_helper.py', 'manila/share/network_helpers/neutron.py', 'manila/share/manager.py', 'manila/share/network_helpers/__init__.py', 'manila/share/drivers/generic.py']",6,4bf3a91cccabd9d2969d0a30a740db913f28c95d,bp/network-helper," def setup_server(self, share_server, metadata=None): msg = ""Creating share server '%s'."" LOG.debug(msg % share_server['id']) # NOTE(vvechkanov): It is necessary to allocate network here, but # generic driver does not need allocations, because share_server"," def get_network_allocations_number(self): """"""Get number of network interfaces to be created."""""" # NOTE(vponomaryov): Generic driver does not need allocations, because return 0 def setup_server(self, network_info, metadata=None): msg = ""Creating share server '%s'."" LOG.debug(msg % network_info['server_id']) network_info['server_id'], network_info['neutron_net_id'], network_info['neutron_subnet_id'],",316,291
openstack%2Fmanila~master~I785a4ca08a303798a6cc930fdd6362cedced86b7,openstack/manila,master,I785a4ca08a303798a6cc930fdd6362cedced86b7,Add network helper interface,ABANDONED,2014-11-28 11:04:25.000000000,2014-12-17 19:35:30.000000000,,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 6529}, {'_account_id': 8851}, {'_account_id': 11878}]","[{'number': 1, 'created': '2014-11-28 11:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1d30d26812ded9fdf003ff8eb3f278f9f688a0b8', 'message': 'Create network helper interface\n\nreate interface for manila network helpers.\n\nChange-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7\n'}, {'number': 2, 'created': '2014-11-28 14:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/503c3b5218a6fa75eb04df13aff02f82b06587ca', 'message': 'Create network helper interface\n\nreate interface for manila network helpers.\n\nChange-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7\n'}, {'number': 3, 'created': '2014-12-03 12:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac0037a1a918d691bb716a81271780b697cda38c', 'message': 'Create Manila network helper interface\n\nCreate an interface for Manila network helpers.\n\nPartially-implemented: blueprint network-helper\n\nChange-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7\n'}, {'number': 4, 'created': '2014-12-04 13:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1268fdb47c8eee730d8181c39b0b2f1255700f43', 'message': 'Create Manila network helper interface\n\nCreate an interface for Manila network helpers.\nThis was done because it will give more flexibility\nwhile creation vm. It will be possible to create different\nnetwork helpers with different functionality. Such as\nneutron helper and nova helper for example.\n\nPartially-implements: blueprint network-helper\n\nChange-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7\n'}, {'number': 5, 'created': '2014-12-05 20:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2879c4c7a4784d3d981431e2bd0fc0b051b7c4f6', 'message': 'Add network helper interface\n\nAdd network helper interface that will be used by implementation for\nsupport of Neutron and Nova-network.\n\nPartially implements bp network-helper\nChange-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7\n'}, {'number': 6, 'created': '2014-12-05 20:12:11.000000000', 'files': ['manila/share/network_helper.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f4da5e859c3306e395064b4e25b6cbceb1a90aa8', 'message': 'Add network helper interface\n\nAdd network helper interface that will be used by implementation for\nsupport of Neutron and Nova-network.\n\nPartially implements bp network-helper\nChange-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7\n'}]",29,137760,f4da5e859c3306e395064b4e25b6cbceb1a90aa8,21,5,6,6529,,,0,"Add network helper interface

Add network helper interface that will be used by implementation for
support of Neutron and Nova-network.

Partially implements bp network-helper
Change-Id: I785a4ca08a303798a6cc930fdd6362cedced86b7
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/137760/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/network_helper.py', 'manila/share/manager.py', 'manila/tests/share/test_manager.py']",3,1d30d26812ded9fdf003ff8eb3f278f9f688a0b8,bp/network-helper, self.share_manager.driver.teardown_server = mock.Mock() self.share_manager.driver.teardown_server = mock.Mock(), self.share_manager.driver = mock.Mock() self.share_manager.driver = mock.Mock(),77,16
openstack%2Frequirements~master~Iac5894508a481514dfa04aa220978bf73be6730c,openstack/requirements,master,Iac5894508a481514dfa04aa220978bf73be6730c,Add requirement for lastest trove client,ABANDONED,2014-12-05 15:01:40.000000000,2014-12-17 19:22:51.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5293}, {'_account_id': 6162}]","[{'number': 1, 'created': '2014-12-05 15:01:40.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2eafe98209ccdc5f47c67d28a851636d14f98b86', 'message': 'Add requirement for lastest trove client\n\nSupports keystone v3 api\n\nChange-Id: Iac5894508a481514dfa04aa220978bf73be6730c\n'}]",0,139648,2eafe98209ccdc5f47c67d28a851636d14f98b86,7,4,1,6162,,,0,"Add requirement for lastest trove client

Supports keystone v3 api

Change-Id: Iac5894508a481514dfa04aa220978bf73be6730c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/139648/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,2eafe98209ccdc5f47c67d28a851636d14f98b86,update-troveclient,python-troveclient>=1.0.8,python-troveclient>=1.0.7,1,1
openstack%2Fcinder-specs~master~I786206f91444632215a18280e778ee71732e1b8f,openstack/cinder-specs,master,I786206f91444632215a18280e778ee71732e1b8f,Cinder volume driver using DRBD,ABANDONED,2014-11-11 07:21:58.000000000,2014-12-17 19:16:17.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 10677}]","[{'number': 1, 'created': '2014-11-11 07:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4b240d3900f0c12e37a19caa66a2278cb133c37d', 'message': 'Cinder volume driver using DRBD\n\nThis BluePrint/Spec proposes a new Cinder volume driver,\nwhich uses DRBDmanage to provide replicated storage.\n\nChange-Id: I786206f91444632215a18280e778ee71732e1b8f\n'}, {'number': 2, 'created': '2014-11-17 09:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/53f0ba4918f80ed7e23c6ff7219d05f6592cb6f9', 'message': 'Cinder volume driver using DRBD\n\nThis BluePrint/Spec proposes a new Cinder volume driver,\nwhich uses DRBDmanage to provide replicated storage.\n\nChange-Id: I786206f91444632215a18280e778ee71732e1b8f\n'}, {'number': 3, 'created': '2014-11-17 10:48:40.000000000', 'files': ['specs/kilo/cinder-drbd-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/42e0a1c27f26f84bfd6de5f53ec67c2ec7d94d43', 'message': 'Cinder volume driver using DRBD\n\nThis BluePrint/Spec proposes a new Cinder volume driver,\nwhich uses DRBDmanage to provide replicated storage.\n\nChange-Id: I786206f91444632215a18280e778ee71732e1b8f\n'}]",6,133623,42e0a1c27f26f84bfd6de5f53ec67c2ec7d94d43,10,4,3,10677,,,0,"Cinder volume driver using DRBD

This BluePrint/Spec proposes a new Cinder volume driver,
which uses DRBDmanage to provide replicated storage.

Change-Id: I786206f91444632215a18280e778ee71732e1b8f
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/23/133623/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/cinder-drbd-volume-driver.rst'],1,4b240d3900f0c12e37a19caa66a2278cb133c37d,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Cinder volume driver using DRBD =============================== https://blueprints.launchpad.net/cinder/+spec/cinder-drbd-volumes This BluePrint/Spec proposes a new Cinder volume driver, which uses DRBDmanage to provide replicated storage. DRBDmanage itself uses DRBD and (currently) LVM to provide storage. Problem description =================== Currently, there's no vendor-independent, software-only replicated storage available in Cinder. Proposed change =============== LINBIT provides a new Cinder volume driver in a separate python file, which can be activated like any other volume driver. Additional dependencies are * DRBDmanage (http://oss.linbit.com/drbdmanage/) and * DRBD 9 (http://drbd.org), and * dbus (to communicate with the DRBDmanage daemon). The compute nodes will talk to the storage via the DRBD 9 protocol; for an alternative that uses iSCSI, see the replication API, which uses DRBD as an intermediate layer between LVM and iSCSI. DRBD 9 consists of a few userspace binaries[1] and a kernel module[2]; DRBDmanage is a Python library with a command-line interface. The cinder volume driver will talk to the DRBDmanage daemon directly via dbus, it WON'T use the commandline interface. Multiple different configurations (2-way-redundancy, 3-way-redundancy, etc.) can be provided by configuring multiple volume types. As the cinder core is not impacted in any way, all features (eg. snapshots) will work as before[3]; this is a difference to the proposed Replication API, where all layers of Cinder have to know about replication, and where therefore eg. snapshots are currently not available. Alternatives ------------ Ceph can be configured to store multiple replicas of the data, too. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. (Data stored on a Cinder node could be ""stolen"" on other nodes, too; but DRBDmanage uses a ""shared-secret"" to authenticate, ie. a similar thing to iSCSI CHAP.) Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Zero impact if not deployed. (Nearly) none, to enhanced performance. (Typical DRBD installations measure 1-3% performance overhead; with random-read intensive IO loads and read-balancing in DRBD performance can get _better_.) Other deployer impact --------------------- Dependencies need to be installed; Linux kernel upgrades need matching DRBD kernel modules. Developer impact ---------------- None; feature is optional. Implementation ============== Assignee(s) ----------- Primary assignee: <philipp.marek@linbit.com> Work Items ---------- https://review.openstack.org/#/c/98983/ Dependencies ============ DRBD 9 kernel module DRBD 9 userspace DRBDmanage dbus Testing ======= Testing will need matching infrastructure. LINBIT is working to provide a CI system. Documentation Impact ==================== DRBD is fairly well documented at http://www.drbd.org/docs/about/; DRBDmanage documentation is (like DRBDmanage itself) being built. The Cinder volume driver itself has no special interface. Documentation about error recovery, especially in interaction with Cinder, is TBD - there's not much experience available yet. References ========== None. ",,165,0
openstack%2Fnova~master~I3159b8509ac5b4020cd584c894eb131bb16df97c,openstack/nova,master,I3159b8509ac5b4020cd584c894eb131bb16df97c,Remove kombu as a dependency for Nova,MERGED,2014-10-03 10:47:53.000000000,2014-12-17 19:08:25.000000000,2014-12-17 14:17:10.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6450}, {'_account_id': 8871}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-03 10:47:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/4cbdec483834b1b8146029e4dc99a58392c803e3', 'message': 'Remove kombu as a dependency for Nova\n\nIt was required before oslo.messaging.\n\nChange-Id: I3159b8509ac5b4020cd584c894eb131bb16df97c\n'}]",0,125926,4cbdec483834b1b8146029e4dc99a58392c803e3,25,10,1,6773,,,0,"Remove kombu as a dependency for Nova

It was required before oslo.messaging.

Change-Id: I3159b8509ac5b4020cd584c894eb131bb16df97c
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/125926/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4cbdec483834b1b8146029e4dc99a58392c803e3,remove-kombu,,kombu>=2.5.0,0,1
openstack%2Fnova~master~If91b3b11c4050cb231b7d9c38b6beca8ba6ce236,openstack/nova,master,If91b3b11c4050cb231b7d9c38b6beca8ba6ce236,Doc: Update i18n devref,MERGED,2014-11-19 21:40:04.000000000,2014-12-17 19:07:06.000000000,2014-12-17 11:30:30.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6601}, {'_account_id': 9420}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 21:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c213d1d19d5c23fb827cf4f0da81915537d44f30', 'message': 'Updates i18n devref\n\nThe internationalization devref was out of date (and wrongly named). This\npatch documents the current advice for internationalization.\n\nChange-Id: If91b3b11c4050cb231b7d9c38b6beca8ba6ce236\n'}, {'number': 2, 'created': '2014-11-20 13:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c98adab3c242af96b54aaf18e2408dea8c8292b0', 'message': 'Updates i18n devref\n\nThe internationalization devref was out of date (and wrongly named). This\npatch documents the current advice for internationalization.\n\nChange-Id: If91b3b11c4050cb231b7d9c38b6beca8ba6ce236\n'}, {'number': 3, 'created': '2014-11-25 14:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/076a891b5487313ff78946ed829eacd49e21e18b', 'message': 'Doc: Update i18n devref\n\nThe internationalization devref was out of date (and wrongly named). This\npatch documents the current advice for internationalization.\n\nChange-Id: If91b3b11c4050cb231b7d9c38b6beca8ba6ce236\n'}, {'number': 4, 'created': '2014-11-25 15:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8c15850bd675342a5c6cb7fc6ee292cb244c44c', 'message': 'Doc: Update i18n devref\n\nThe internationalization devref was out of date (and wrongly named). This\npatch documents the current advice for internationalization.\n\nChange-Id: If91b3b11c4050cb231b7d9c38b6beca8ba6ce236\n'}, {'number': 5, 'created': '2014-12-09 10:57:06.000000000', 'files': ['doc/source/devref/il8n.rst', 'doc/source/devref/i18n.rst', 'doc/source/devref/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a9c0bea88cd48a57a42ef4a6d8cbb99a2036322', 'message': 'Doc: Update i18n devref\n\nThe internationalization devref was out of date (and wrongly named). This\npatch documents the current advice for internationalization.\n\nChange-Id: If91b3b11c4050cb231b7d9c38b6beca8ba6ce236\n'}]",5,135725,6a9c0bea88cd48a57a42ef4a6d8cbb99a2036322,52,11,5,9420,,,0,"Doc: Update i18n devref

The internationalization devref was out of date (and wrongly named). This
patch documents the current advice for internationalization.

Change-Id: If91b3b11c4050cb231b7d9c38b6beca8ba6ce236
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/135725/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/il8n.rst', 'doc/source/devref/i18n.rst']",2,c213d1d19d5c23fb827cf4f0da81915537d44f30,devref_updates,"Internationalization ==================== nova uses `gettext <http://docs.python.org/library/gettext.html>`_ so that user-facing strings such as log messages appear in the appropriate language in different locales. To use gettext, make sure that the strings passed to the logger are wrapped in a function call which wraps gettext. DEBUG level messages do not need translation but CRITICAL, ERROR, WARNING and INFO messages should be wrapped with ``_LC()``, ``_LE()``, ``_LW()`` or ``_LI()`` respectively. For example:: LOG.debug(""block_device_mapping %(mapping)s"", {'mapping': block_device_mapping}) or:: LOG.warn(_LW('Unknown base file %(img)s'), {'img': img}) Do not use ``locals()`` for formatting messages because: 1. It is not as clear as using explicit dicts. 2. It could produce hidden errors during refactoring. 3. Changing the name of a variable causes a change in the message. 4. It creates a lot of otherwise unused variables. If you do not follow the project conventions, your code may cause hacking checks to fail. The ``_LC()``, ``_LE()``, ``_LW()`` and ``_LI()`` functions can be imported with:: from nova.i18n import _LC from nova.i18n import _LE from nova.i18n import _LW from nova.i18n import _LI ",,36,24
openstack%2Ffuel-library~stable%2F5.1~I7e2100ec9a26142a1610b490939868edc214ead6,openstack/fuel-library,stable/5.1,I7e2100ec9a26142a1610b490939868edc214ead6,add other_config:lacp-time=fast (or another given value) option,ABANDONED,2014-09-11 15:47:44.000000000,2014-12-17 18:27:08.000000000,,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8935}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-09-11 15:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/24dbe3bde69c54809a3602ad04ce8f11d720ac44', 'message': 'add lacp_time=fast (or another given value) option\n\nwhile creating OVS bond with LACP.\n\nChange-Id: I7e2100ec9a26142a1610b490939868edc214ead6\nCloses-bug: #1367776\n'}, {'number': 2, 'created': '2014-09-11 16:13:14.000000000', 'files': ['deployment/puppet/l23network/lib/puppet/type/l2_ovs_bond.rb', 'deployment/puppet/l23network/manifests/l2/bond.pp', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_bond/ovs.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6fd12c95874e1325b6a634a3d16971fa189a7ed9', 'message': 'add other_config:lacp-time=fast (or another given value) option\n\nwhile creating OVS bond with LACP.\n\nChange-Id: I7e2100ec9a26142a1610b490939868edc214ead6\nCloses-bug: #1367776'}]",0,120818,6fd12c95874e1325b6a634a3d16971fa189a7ed9,16,4,2,7468,,,0,"add other_config:lacp-time=fast (or another given value) option

while creating OVS bond with LACP.

Change-Id: I7e2100ec9a26142a1610b490939868edc214ead6
Closes-bug: #1367776",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/18/120818/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/l23network/lib/puppet/type/l2_ovs_bond.rb', 'deployment/puppet/l23network/manifests/l2/bond.pp', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_bond/ovs.rb']",3,24dbe3bde69c54809a3602ad04ce8f11d720ac44,bug/1367776," if bond_properties.index{|x| x=~/^lacp\s*=\s*active\s*$/} # setup lacp-time bond property bond_create_cmd += ['--', 'set', 'Port', @resource[:bond], ""other_config:lacp-time=#{@resource[:lacp_time]}""] end",,15,0
openstack%2Fpuppet-keystone~master~I73d0083e5357fd88c76d00f9f1156f8615844c80,openstack/puppet-keystone,master,I73d0083e5357fd88c76d00f9f1156f8615844c80,Use aviator as a REST interface for keystone_tenant provider,ABANDONED,2014-08-25 23:45:43.000000000,2014-12-17 17:17:52.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6554}, {'_account_id': 7822}, {'_account_id': 8482}, {'_account_id': 8617}, {'_account_id': 9983}]","[{'number': 1, 'created': '2014-08-25 23:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/848353417b9b1b33db5dd600ee105ae71433e606', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating and editing tenants (deleting not implemented yet). Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 2, 'created': '2014-08-29 00:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/453f0c796368685f72ef7b04bf7fa7d78db1f603', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating and editing tenants (deleting not implemented yet). Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 3, 'created': '2014-08-29 20:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/02fd28963ce875d4e7f41904a9fafb723cdad319', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating and editing tenants (deleting not implemented yet). Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 4, 'created': '2014-09-02 16:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/78afffa694293b6903716f289fcddfe43ca852da', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating and editing tenants (deleting not implemented yet). Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 5, 'created': '2014-09-02 17:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7b9de14d439fc61944e1ea6e0a043c2c9016f6e5', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating and editing tenants (deleting not implemented yet). Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 6, 'created': '2014-09-10 17:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e36d5862f2e2724b4a82920e766e8e87f411efcf', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 7, 'created': '2014-09-10 21:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d3927667a1f167beaaf0dda13fcd36a6d9740f8a', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 8, 'created': '2014-09-11 04:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/387add3124794999ce6049ed8b2c5179f586bd8d', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 9, 'created': '2014-09-11 16:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4800feb6fb38452f09ca07e2ae1486c293f046ee', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 10, 'created': '2014-09-11 18:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/01a2c0aab41aa3e6021b8ae2a2dc97d9dee97588', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis WIP migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n\nTODO:\n1) rewrite keystone_tenant unit test\n2) write docs (inline type docs and README additions)\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 11, 'created': '2014-09-16 21:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/36cbaa31472035adf62057ffe75585a6eaaecafd', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n3) self.instances does not work. Originally this was because there was\n   no way to pass credentials to an uninstantiated provider. Now that\n   credentials can potentially be evaluated from environment variables\n   or keystone.conf, this could be made to work sometimes, but not\n   consistently.\n\nTODO:\nwrite docs (inline type docs and README additions)\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 12, 'created': '2014-09-17 01:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/dc42928b7a7bd8f0e8067cc7530e8e9164e4c9d6', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n3) self.instances does not work. Originally this was because there was\n   no way to pass credentials to an uninstantiated provider. Now that\n   credentials can potentially be evaluated from environment variables\n   or keystone.conf, this could be made to work sometimes, but not\n   consistently.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 13, 'created': '2014-09-17 05:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/acf1560056eaf0c27d09eb05b0bb2fdf1440c50b', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n3) self.instances does not work. Originally this was because there was\n   no way to pass credentials to an uninstantiated provider. Now that\n   credentials can potentially be evaluated from environment variables\n   or keystone.conf, this could be made to work sometimes, but not\n   consistently.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 14, 'created': '2014-09-26 22:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e2303b0b4a6b0c68e15427687f30b30a31662d9c', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n3) self.instances does not work. Originally this was because there was\n   no way to pass credentials to an uninstantiated provider. Now that\n   credentials can potentially be evaluated from environment variables\n   or keystone.conf, this could be made to work sometimes, but not\n   consistently.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 15, 'created': '2014-09-26 22:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e357aa36ee0f8df65c426ae93ea989ddb203490e', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n3) self.instances does not work. Originally this was because there was\n   no way to pass credentials to an uninstantiated provider. Now that\n   credentials can potentially be evaluated from environment variables\n   or keystone.conf, this could be made to work sometimes, but not\n   consistently.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 16, 'created': '2014-09-26 23:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d18b1a34fa3d7b4156929ab6f48ef243087d384e', 'message': ""(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) keystone tenant can't change value of enabled to false and is not\n   idempotent for this parameter. This is fixed in aviator, need\n   release to aimonb/aviator\n2) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n3) self.instances does not work. Originally this was because there was\n   no way to pass credentials to an uninstantiated provider. Now that\n   credentials can potentially be evaluated from environment variables\n   or keystone.conf, this could be made to work sometimes, but not\n   consistently.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n""}, {'number': 17, 'created': '2014-09-27 06:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c8a37a36eb1464b336252e602bcb6c4619e60452', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n2) self.instances does not work yet\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 18, 'created': '2014-09-29 05:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/226c269cc99e2d1a39c952665df2dcffec2058cf', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues:\n1) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n2) self.instances does not work and self.prefetch is not implemented\n   because the authentication methods require an instance of the\n   provider to be created.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 19, 'created': '2014-09-30 07:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a0bc13c61ade532c93364ce4e7d82ec9756c2456', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues to address before merging:\n1) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 20, 'created': '2014-10-01 04:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/894181a75d9e134b30acfcfac10c60b822af443f', 'message': '(WIP) Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. Depends on\nhttps://review.openstack.org/#/c/116753.\n\nKnown issues to address before merging:\n1) .fixtures.yml creates a symlink for openstacklib since it depends on\n   changes in openstacklib, need openstacklib changes merged before\n   this can be fixed for local testing purposes\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 21, 'created': '2014-10-03 22:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/41e6544ad77e87f24e3aca218334f5e28f281643', 'message': 'Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. It uses the aviator parent\nprovider from puppet-openstacklib in order to authenticate against the\nREST API and make web requests. The keystone_tenant type uses the\nopenstacklib aviator utility to add new parameters to allow\nauthentication credentials to be passed in.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 22, 'created': '2014-10-03 23:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2a4619e48a4d55e441357177cbbc3d6b882215ee', 'message': 'Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. It uses the aviator parent\nprovider from puppet-openstacklib in order to authenticate against the\nREST API and make web requests. The keystone_tenant type uses the\nopenstacklib aviator utility to add new parameters to allow\nauthentication credentials to be passed in.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 23, 'created': '2014-12-04 17:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/23df6ee67db986c42e6dd0705182372d7c63465e', 'message': 'Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider to use aviator\ninstead of command-line utilities for authenticating to the API and\ncreating, editing, and destroying tenants. It uses the aviator parent\nprovider from puppet-openstacklib in order to authenticate against the\nREST API and make web requests. The keystone_tenant type uses the\nopenstacklib aviator utility to add new parameters to allow\nauthentication credentials to be passed in.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}, {'number': 24, 'created': '2014-12-14 00:03:42.000000000', 'files': ['spec/unit/provider/keystone_tenant/aviator_spec.rb', 'spec/fixtures/vcr/keystone_tenant/not_exists.yml', '.fixtures.yml', 'spec/unit/provider/keystone_spec.rb', 'spec/unit/provider/keystone_tenant/keystone_spec.rb', 'spec/fixtures/vcr/keystone_tenant/exists.yml', 'spec/fixtures/vcr/keystone_tenant/instances.yml', 'lib/puppet/provider/keystone.rb', 'lib/puppet/provider/keystone_tenant/keystone.rb', 'lib/puppet/provider/keystone_tenant/aviator.rb', 'spec/fixtures/vcr/keystone_tenant/create.yml', 'spec/spec_helper.rb', 'lib/puppet/type/keystone_tenant.rb', 'spec/fixtures/vcr/keystone_tenant/destroy.yml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a2f9b659052301744cbbf9170e85725e31612ac0', 'message': 'Use aviator as a REST interface for keystone_tenant provider\n\nThis commit migrates the keystone_tenant type and provider and the\nkeystone parent provider to use aviator instead of command-line\nutilities for authenticating to the API and creating, editing, and\ndestroying tenants. The keystone parent provider uses the aviator parent\nprovider from puppet-openstacklib in order to authenticate against the\nREST API and make web requests. The keystone_tenant type uses the\nopenstacklib aviator utility to add the auth parameter to allow\nauthentication credentials to be passed in.\n\nChange-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80\nImplements: blueprint use-aviator-in-module-resources\n'}]",5,116754,a2f9b659052301744cbbf9170e85725e31612ac0,66,7,24,8482,,,0,"Use aviator as a REST interface for keystone_tenant provider

This commit migrates the keystone_tenant type and provider and the
keystone parent provider to use aviator instead of command-line
utilities for authenticating to the API and creating, editing, and
destroying tenants. The keystone parent provider uses the aviator parent
provider from puppet-openstacklib in order to authenticate against the
REST API and make web requests. The keystone_tenant type uses the
openstacklib aviator utility to add the auth parameter to allow
authentication credentials to be passed in.

Change-Id: I73d0083e5357fd88c76d00f9f1156f8615844c80
Implements: blueprint use-aviator-in-module-resources
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/54/116754/12 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone_tenant/aviator.rb', 'lib/puppet/type/keystone_tenant.rb']",2,848353417b9b1b33db5dd600ee105ae71433e606,bp/use-aviator-in-module-resources," newvalues(/(t|T)rue/, /(f|F)alse/, true, false ) defaultto('true') value.to_s.to_sym newparam(:credentials)"," newvalues(/(t|T)rue/, /(f|F)alse/) defaultto('True') value.to_s.capitalize # we should not do anything until the keystone service is started autorequire(:service) do ['keystone'] end",82,7
openstack%2Fpuppet-openstacklib~master~I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27,openstack/puppet-openstacklib,master,I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27,Refactor aviator code,ABANDONED,2014-12-08 08:46:01.000000000,2014-12-17 17:17:12.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9983}]","[{'number': 1, 'created': '2014-12-08 08:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/5daee8682a80d89af51a8a957bf3850162814102', 'message': 'Refactor aviator code\n\nSo far this refactor simplifies unit testing by exchanging VCR for WebMock.\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n'}, {'number': 3, 'created': '2014-12-14 00:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/83cb7b9a7eae41ef12751a3a4e49c128222e1e8c', 'message': ""Refactor aviator code\n\nThis patch makes a number of updates:\n\n- Abandons VCR as a unit testing framework and instead mocks Aviator session objects (depends on newest version of Aviator to accomplish this)\n- Removes keystone-specific authentication methods and restructures the request method to raise an error so keystone can catch it and try its own methods\n- Simplifies the request process so that child providers don't have to know about service objects\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n""}, {'number': 4, 'created': '2014-12-14 02:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c1023fde380800fc350cef30421940e58b0228d6', 'message': ""Refactor aviator code\n\nThis patch makes a number of updates:\n\n- Abandons VCR as a unit testing framework and instead mocks Aviator\n  session objects (depends on newest version of Aviator to accomplish\n  this)\n- Removes keystone-specific authentication methods and restructures the\n  request method to raise an error so keystone can catch it and try its\n  own methods\n- Simplifies the request process so that child providers don't have to\n  know about service objects\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n""}, {'number': 5, 'created': '2014-12-15 05:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c46f1b9508c366f1fcff7b7288a5dba056c67ce6', 'message': ""Refactor aviator code\n\nThis patch makes a number of updates:\n\n- Abandons VCR as a unit testing framework and instead mocks Aviator\n  session objects (depends on newest version of Aviator to accomplish\n  this)\n- Removes keystone-specific authentication methods and restructures the\n  request method to raise an error so keystone can catch it and try its\n  own methods\n- Simplifies the request process so that child providers don't have to\n  know about service objects\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n""}, {'number': 6, 'created': '2014-12-15 18:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/cd7e1488a203d649cc2efee3f5ca5d65bbaa3976', 'message': ""Refactor aviator code\n\nThis patch makes a number of updates:\n\n- Abandons VCR as a unit testing framework and instead mocks Aviator\n  session objects (depends on newest version of Aviator to accomplish\n  this)\n- Removes keystone-specific authentication methods and restructures the\n  request method to raise an error so keystone can catch it and try its\n  own methods\n- Simplifies the request process so that child providers don't have to\n  know about service objects\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n""}, {'number': 7, 'created': '2014-12-15 18:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3792dc070ad088c82a8be200f3ed7300821602fe', 'message': ""Refactor aviator code\n\nThis patch makes a number of updates:\n\n- Abandons VCR as a unit testing framework and instead mocks Aviator\n  session objects (depends on newest version of Aviator to accomplish\n  this)\n- Removes keystone-specific authentication methods and restructures the\n  request method to raise an error so keystone can catch it and try its\n  own methods\n- Simplifies the request process so that child providers don't have to\n  know about service objects\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n""}, {'number': 8, 'created': '2014-12-15 18:22:26.000000000', 'files': ['lib/puppet/util/aviator.rb', 'spec/unit/provider/aviator_spec.rb', 'spec/fixtures/vcr/aviator/session/with_token.yml', 'metadata.json', '.gitignore', 'spec/fixtures/vcr/aviator/session/with_password.yml', 'spec/spec_helper.rb', 'spec/fixtures/vcr/aviator/request/without_session.yml', 'Gemfile', 'spec/fixtures/vcr/aviator/request/with_session.yml', 'lib/puppet/provider/aviator.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/cc634067ac9d18a5ee7175a9ab15924af01794a1', 'message': ""Refactor aviator code\n\nThis patch makes a number of updates:\n\n- Abandons VCR as a unit testing framework and instead mocks Aviator\n  session objects (depends on newest version of Aviator to accomplish\n  this)\n- Removes keystone-specific authentication methods and restructures the\n  request method to raise an error so keystone can catch it and try its\n  own methods\n- Simplifies the request process so that child providers don't have to\n  know about service objects\n\nChange-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27\n""}]",0,139942,cc634067ac9d18a5ee7175a9ab15924af01794a1,21,4,7,8482,,,0,"Refactor aviator code

This patch makes a number of updates:

- Abandons VCR as a unit testing framework and instead mocks Aviator
  session objects (depends on newest version of Aviator to accomplish
  this)
- Removes keystone-specific authentication methods and restructures the
  request method to raise an error so keystone can catch it and try its
  own methods
- Simplifies the request process so that child providers don't have to
  know about service objects

Change-Id: I0e62b97d6555687ec3d1da9a23a9bd85f4d69d27
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/42/139942/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/aviator_spec.rb', 'spec/fixtures/vcr/aviator/session/with_token.yml', '.gitignore', 'spec/fixtures/vcr/aviator/session/with_password.yml', 'spec/spec_helper.rb', 'spec/fixtures/vcr/aviator/request/without_session.yml', 'Gemfile', 'spec/fixtures/vcr/aviator/request/with_session.yml']",8,5daee8682a80d89af51a8a957bf3850162814102,aviator,,"--- http_interactions: - request: method: post uri: ""http://192.168.11.4:35357/v2.0/tokens"" body: encoding: UTF-8 string: ""{\x22auth\x22:{\x22passwordCredentials\x22:{\x22username\x22:\x22admin\x22,\x22password\x22:\x22fyby-tet\x22},\x22tenantName\x22:\x22admin\x22}}"" headers: Content-Type: - application/json User-Agent: - ""Faraday v0.8.8"" response: status: code: 200 message: headers: vary: - X-Auth-Token content-type: - application/json content-length: - ""9780"" date: - ""Tue, 30 Sep 2014 06:59:48 GMT"" connection: - close body: encoding: UTF-8 string: ""{\x22access\x22: {\x22token\x22: {\x22issued_at\x22: \x222014-09-30T06:59:48.338940\x22, \x22expires\x22: \x222014-09-30T07:59:48Z\x22, \x22id\x22: \x22MIIRIAYJKoZIhvcNAQcCoIIRETCCEQ0CAQExCTAHBgUrDgMCGjCCD3YGCSqGSIb3DQEHAaCCD2cEgg9jeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxNC0wOS0zMFQwNjo1OTo0OC4zMzg5NDAiLCAiZXhwaXJlcyI6ICIyMDE0LTA5LTMwVDA3OjU5OjQ4WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogImFkbWluIHRlbmFudCIsICJlbmFibGVkIjogdHJ1ZSwgImlkIjogImM1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgIm5hbWUiOiAiYWRtaW4ifX0sICJzZXJ2aWNlQ2F0YWxvZyI6IFt7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc0L3YyL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzQvdjIvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUiLCAiaWQiOiAiMWJiNzU4NWIzMzgxNGI4Mjk4NzJlYjQ0MjAyMTg5OGEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3NC92Mi9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJjb21wdXRlIiwgIm5hbWUiOiAibm92YSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo5Njk2LyIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo5Njk2LyIsICJpZCI6ICJhYTdkNDU2NTNhYjI0ZGY2YmE5ZDE4NGE1ZWRkNGYxMyIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzE5Mi4xNjguMTEuNDo5Njk2LyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJuZXR3b3JrIiwgIm5hbWUiOiAibmV1dHJvbiJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc2L3YyL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzYvdjIvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUiLCAiaWQiOiAiMmJmNGQ5YzZiYTgwNDM1M2JjZGNlZGZjNTAxMDNiYjYiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3Ni92Mi9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWV2MiIsICJuYW1lIjogImNpbmRlcnYyIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzQvdjMiLCAicmVnaW9uIjogIm9wZW5zdGFjayIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODc3NC92MyIsICJpZCI6ICIzZmQ4NDBjYmFkZDM0NmFiOTE2YjA2YWYxZjRlNWJmMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzE5Mi4xNjguMTEuNDo4Nzc0L3YzIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImNvbXB1dGV2MyIsICJuYW1lIjogIm5vdmF2MyJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo5MjkyIiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40OjkyOTIiLCAiaWQiOiAiMTJjOTM1NzkwYmM5NGE3ODljNzJmOWJiYjIxZjM5YmMiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6OTI5MiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJpbWFnZSIsICJuYW1lIjogImdsYW5jZSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc3IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzciLCAiaWQiOiAiMWNlNDkwMWQ4OTE1NDIzZTk2ZGFiM2ZlMWZiMzY2M2MiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3NyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJtZXRlcmluZyIsICJuYW1lIjogImNlaWxvbWV0ZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODAwMC92MS8iLCAicmVnaW9uIjogIm9wZW5zdGFjayIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODAwMC92MS8iLCAiaWQiOiAiNWU4ZjExYzk3ZTgwNDNiNWJkZTA1YmVhMmRlNDYxNmMiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODAwMC92MS8ifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY2xvdWRmb3JtYXRpb24iLCAibmFtZSI6ICJoZWF0LWNmbiJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc2L3YxL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzYvdjEvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUiLCAiaWQiOiAiNTRiOWVjMjhiYzYwNDI1MmIwMGNmZTZlMGU0NGFhOTQiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3Ni92MS9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjA3NWVjNzliMGJlMzQxYmFhYmUyZTliMTIwNTkxZjQ4IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTkyLjE2OC4xMS40Ojg3NzMvc2VydmljZXMvQ2xvdWQifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiZWMyIiwgIm5hbWUiOiAibm92YV9lYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODAwNC92MS9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4MDA0L3YxL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgImlkIjogIjI2MmM0YjM3MzY3ODQ2OGE5ODU1YTNlYmM2MDE1OTYwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTkyLjE2OC4xMS40OjgwMDQvdjEvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAib3JjaGVzdHJhdGlvbiIsICJuYW1lIjogImhlYXQifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo1MDAwL3YyLjAiLCAiaWQiOiAiMDg5ZmRiMjIyNDk1NDZiOTlhMWU1N2FlYzBiMWU3NmMiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6NTAwMC92Mi4wIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImlkZW50aXR5IiwgIm5hbWUiOiAia2V5c3RvbmUifV0sICJ1c2VyIjogeyJ1c2VybmFtZSI6ICJhZG1pbiIsICJyb2xlc19saW5rcyI6IFtdLCAiaWQiOiAiM2Y3NmI5NDY2NzQzNGNmM2JkYzMyM2NmMDIxYzUwZjgiLCAicm9sZXMiOiBbeyJuYW1lIjogImFkbWluIn1dLCAibmFtZSI6ICJhZG1pbiJ9LCAibWV0YWRhdGEiOiB7ImlzX2FkbWluIjogMCwgInJvbGVzIjogWyIxZThiYzVkMWYzYTQ0OGU5YTJhMWNkYTU4ZDk3ZjkyYiJdfX19MYIBgTCCAX0CAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECAwFVW5zZXQxDjAMBgNVBAcMBVVuc2V0MQ4wDAYDVQQKDAVVbnNldDEYMBYGA1UEAwwPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIIBAHGQ0NFb0OcE74KIU9DmmvgVyYCrNwwWrwG1CObr9111AHfEr+bn6YfX1ePRUhB2KpcuBPLeIfM-RlLHNwpLzYtvKIwdj0TxIecbF9PuTkWMEZ9Kxl+KE8F4dJOnv0XnAiWZ8QzrMZOo4d+owLJmNNLE1TKfGqv8ughdcrjHtUicHT2E0AOfO3ylEhJPsazUl8XIIWQ4sMWTrs0ROMiZnWPWbomYb49LIaREHD6nDfZX+EDZbHSfPVLTYVL-+qkiIH52-lXqz-OKPCn+Lt3RzXYDzapZd8cpzVgJpTuq2YKMZ+H06yvHFCTZNN49j6kZHz0Qkn2MjbwU8sH10wA7W6k=\x22, \x22tenant\x22: {\x22description\x22: \x22admin tenant\x22, \x22enabled\x22: true, \x22id\x22: \x22c518b36fa220499b85ba9a71014ce2a5\x22, \x22name\x22: \x22admin\x22}}, \x22serviceCatalog\x22: [{\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8774/v2/c518b36fa220499b85ba9a71014ce2a5\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8774/v2/c518b36fa220499b85ba9a71014ce2a5\x22, \x22id\x22: \x221bb7585b33814b829872eb442021898a\x22, \x22publicURL\x22: \x22http://192.168.11.4:8774/v2/c518b36fa220499b85ba9a71014ce2a5\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22compute\x22, \x22name\x22: \x22nova\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:9696/\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:9696/\x22, \x22id\x22: \x22aa7d45653ab24df6ba9d184a5edd4f13\x22, \x22publicURL\x22: \x22http://192.168.11.4:9696/\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22network\x22, \x22name\x22: \x22neutron\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8776/v2/c518b36fa220499b85ba9a71014ce2a5\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8776/v2/c518b36fa220499b85ba9a71014ce2a5\x22, \x22id\x22: \x222bf4d9c6ba804353bcdcedfc50103bb6\x22, \x22publicURL\x22: \x22http://192.168.11.4:8776/v2/c518b36fa220499b85ba9a71014ce2a5\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22volumev2\x22, \x22name\x22: \x22cinderv2\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8774/v3\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8774/v3\x22, \x22id\x22: \x223fd840cbadd346ab916b06af1f4e5bf0\x22, \x22publicURL\x22: \x22http://192.168.11.4:8774/v3\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22computev3\x22, \x22name\x22: \x22novav3\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:9292\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:9292\x22, \x22id\x22: \x2212c935790bc94a789c72f9bbb21f39bc\x22, \x22publicURL\x22: \x22http://192.168.11.4:9292\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22image\x22, \x22name\x22: \x22glance\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8777\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8777\x22, \x22id\x22: \x221ce4901d8915423e96dab3fe1fb3663c\x22, \x22publicURL\x22: \x22http://192.168.11.4:8777\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22metering\x22, \x22name\x22: \x22ceilometer\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8000/v1/\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8000/v1/\x22, \x22id\x22: \x225e8f11c97e8043b5bde05bea2de4616c\x22, \x22publicURL\x22: \x22http://192.168.11.4:8000/v1/\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22cloudformation\x22, \x22name\x22: \x22heat-cfn\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8776/v1/c518b36fa220499b85ba9a71014ce2a5\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8776/v1/c518b36fa220499b85ba9a71014ce2a5\x22, \x22id\x22: \x2254b9ec28bc604252b00cfe6e0e44aa94\x22, \x22publicURL\x22: \x22http://192.168.11.4:8776/v1/c518b36fa220499b85ba9a71014ce2a5\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22volume\x22, \x22name\x22: \x22cinder\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8773/services/Admin\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8773/services/Cloud\x22, \x22id\x22: \x22075ec79b0be341baabe2e9b120591f48\x22, \x22publicURL\x22: \x22http://192.168.11.4:8773/services/Cloud\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22ec2\x22, \x22name\x22: \x22nova_ec2\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:8004/v1/c518b36fa220499b85ba9a71014ce2a5\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:8004/v1/c518b36fa220499b85ba9a71014ce2a5\x22, \x22id\x22: \x22262c4b373678468a9855a3ebc6015960\x22, \x22publicURL\x22: \x22http://192.168.11.4:8004/v1/c518b36fa220499b85ba9a71014ce2a5\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22orchestration\x22, \x22name\x22: \x22heat\x22}, {\x22endpoints\x22: [{\x22adminURL\x22: \x22http://172.16.33.4:35357/v2.0\x22, \x22region\x22: \x22openstack\x22, \x22internalURL\x22: \x22http://172.16.33.4:5000/v2.0\x22, \x22id\x22: \x22089fdb22249546b99a1e57aec0b1e76c\x22, \x22publicURL\x22: \x22http://192.168.11.4:5000/v2.0\x22}], \x22endpoints_links\x22: [], \x22type\x22: \x22identity\x22, \x22name\x22: \x22keystone\x22}], \x22user\x22: {\x22username\x22: \x22admin\x22, \x22roles_links\x22: [], \x22id\x22: \x223f76b94667434cf3bdc323cf021c50f8\x22, \x22roles\x22: [{\x22name\x22: \x22admin\x22}], \x22name\x22: \x22admin\x22}, \x22metadata\x22: {\x22is_admin\x22: 0, \x22roles\x22: [\x221e8bc5d1f3a448e9a2a1cda58d97f92b\x22]}}}"" http_version: recorded_at: ""Tue, 30 Sep 2014 06:59:48 GMT"" - request: method: get uri: ""http://172.16.33.4:35357/v2.0/tenants"" body: encoding: US-ASCII string: """" headers: Content-Type: - application/json User-Agent: - ""Faraday v0.8.8"" X-Auth-Token: - ""MIIRIAYJKoZIhvcNAQcCoIIRETCCEQ0CAQExCTAHBgUrDgMCGjCCD3YGCSqGSIb3DQEHAaCCD2cEgg9jeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxNC0wOS0zMFQwNjo1OTo0OC4zMzg5NDAiLCAiZXhwaXJlcyI6ICIyMDE0LTA5LTMwVDA3OjU5OjQ4WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogImFkbWluIHRlbmFudCIsICJlbmFibGVkIjogdHJ1ZSwgImlkIjogImM1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgIm5hbWUiOiAiYWRtaW4ifX0sICJzZXJ2aWNlQ2F0YWxvZyI6IFt7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc0L3YyL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzQvdjIvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUiLCAiaWQiOiAiMWJiNzU4NWIzMzgxNGI4Mjk4NzJlYjQ0MjAyMTg5OGEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3NC92Mi9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJjb21wdXRlIiwgIm5hbWUiOiAibm92YSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo5Njk2LyIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo5Njk2LyIsICJpZCI6ICJhYTdkNDU2NTNhYjI0ZGY2YmE5ZDE4NGE1ZWRkNGYxMyIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzE5Mi4xNjguMTEuNDo5Njk2LyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJuZXR3b3JrIiwgIm5hbWUiOiAibmV1dHJvbiJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc2L3YyL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzYvdjIvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUiLCAiaWQiOiAiMmJmNGQ5YzZiYTgwNDM1M2JjZGNlZGZjNTAxMDNiYjYiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3Ni92Mi9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWV2MiIsICJuYW1lIjogImNpbmRlcnYyIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzQvdjMiLCAicmVnaW9uIjogIm9wZW5zdGFjayIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODc3NC92MyIsICJpZCI6ICIzZmQ4NDBjYmFkZDM0NmFiOTE2YjA2YWYxZjRlNWJmMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzE5Mi4xNjguMTEuNDo4Nzc0L3YzIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImNvbXB1dGV2MyIsICJuYW1lIjogIm5vdmF2MyJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo5MjkyIiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40OjkyOTIiLCAiaWQiOiAiMTJjOTM1NzkwYmM5NGE3ODljNzJmOWJiYjIxZjM5YmMiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6OTI5MiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJpbWFnZSIsICJuYW1lIjogImdsYW5jZSJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc3IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzciLCAiaWQiOiAiMWNlNDkwMWQ4OTE1NDIzZTk2ZGFiM2ZlMWZiMzY2M2MiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3NyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJtZXRlcmluZyIsICJuYW1lIjogImNlaWxvbWV0ZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODAwMC92MS8iLCAicmVnaW9uIjogIm9wZW5zdGFjayIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODAwMC92MS8iLCAiaWQiOiAiNWU4ZjExYzk3ZTgwNDNiNWJkZTA1YmVhMmRlNDYxNmMiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODAwMC92MS8ifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY2xvdWRmb3JtYXRpb24iLCAibmFtZSI6ICJoZWF0LWNmbiJ9LCB7ImVuZHBvaW50cyI6IFt7ImFkbWluVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4Nzc2L3YxL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgInJlZ2lvbiI6ICJvcGVuc3RhY2siLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzE3Mi4xNi4zMy40Ojg3NzYvdjEvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUiLCAiaWQiOiAiNTRiOWVjMjhiYzYwNDI1MmIwMGNmZTZlMGU0NGFhOTQiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6ODc3Ni92MS9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjA3NWVjNzliMGJlMzQxYmFhYmUyZTliMTIwNTkxZjQ4IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTkyLjE2OC4xMS40Ojg3NzMvc2VydmljZXMvQ2xvdWQifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiZWMyIiwgIm5hbWUiOiAibm92YV9lYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6ODAwNC92MS9jNTE4YjM2ZmEyMjA0OTliODViYTlhNzEwMTRjZTJhNSIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo4MDA0L3YxL2M1MThiMzZmYTIyMDQ5OWI4NWJhOWE3MTAxNGNlMmE1IiwgImlkIjogIjI2MmM0YjM3MzY3ODQ2OGE5ODU1YTNlYmM2MDE1OTYwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTkyLjE2OC4xMS40OjgwMDQvdjEvYzUxOGIzNmZhMjIwNDk5Yjg1YmE5YTcxMDE0Y2UyYTUifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAib3JjaGVzdHJhdGlvbiIsICJuYW1lIjogImhlYXQifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTcyLjE2LjMzLjQ6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAib3BlbnN0YWNrIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xNzIuMTYuMzMuNDo1MDAwL3YyLjAiLCAiaWQiOiAiMDg5ZmRiMjIyNDk1NDZiOTlhMWU1N2FlYzBiMWU3NmMiLCAicHVibGljVVJMIjogImh0dHA6Ly8xOTIuMTY4LjExLjQ6NTAwMC92Mi4wIn1dLCAiZW5kcG9pbnRzX2xpbmtzIjogW10sICJ0eXBlIjogImlkZW50aXR5IiwgIm5hbWUiOiAia2V5c3RvbmUifV0sICJ1c2VyIjogeyJ1c2VybmFtZSI6ICJhZG1pbiIsICJyb2xlc19saW5rcyI6IFtdLCAiaWQiOiAiM2Y3NmI5NDY2NzQzNGNmM2JkYzMyM2NmMDIxYzUwZjgiLCAicm9sZXMiOiBbeyJuYW1lIjogImFkbWluIn1dLCAibmFtZSI6ICJhZG1pbiJ9LCAibWV0YWRhdGEiOiB7ImlzX2FkbWluIjogMCwgInJvbGVzIjogWyIxZThiYzVkMWYzYTQ0OGU5YTJhMWNkYTU4ZDk3ZjkyYiJdfX19MYIBgTCCAX0CAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECAwFVW5zZXQxDjAMBgNVBAcMBVVuc2V0MQ4wDAYDVQQKDAVVbnNldDEYMBYGA1UEAwwPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIIBAHGQ0NFb0OcE74KIU9DmmvgVyYCrNwwWrwG1CObr9111AHfEr+bn6YfX1ePRUhB2KpcuBPLeIfM-RlLHNwpLzYtvKIwdj0TxIecbF9PuTkWMEZ9Kxl+KE8F4dJOnv0XnAiWZ8QzrMZOo4d+owLJmNNLE1TKfGqv8ughdcrjHtUicHT2E0AOfO3ylEhJPsazUl8XIIWQ4sMWTrs0ROMiZnWPWbomYb49LIaREHD6nDfZX+EDZbHSfPVLTYVL-+qkiIH52-lXqz-OKPCn+Lt3RzXYDzapZd8cpzVgJpTuq2YKMZ+H06yvHFCTZNN49j6kZHz0Qkn2MjbwU8sH10wA7W6k="" response: status: code: 200 message: headers: vary: - X-Auth-Token content-type: - application/json content-length: - ""491"" date: - ""Tue, 30 Sep 2014 06:59:48 GMT"" connection: - close body: encoding: UTF-8 string: ""{\x22tenants_links\x22: [], \x22tenants\x22: [{\x22description\x22: \x22Test tenant\x22, \x22enabled\x22: true, \x22id\x22: \x2234e463e2bab24f78990ca864e4a28ba2\x22, \x22name\x22: \x22test2\x22}, {\x22description\x22: \x22Tenant for the openstack services\x22, \x22enabled\x22: true, \x22id\x22: \x2268c8fcf77aff4b409cc158c0f6cbff7b\x22, \x22name\x22: \x22services\x22}, {\x22description\x22: \x22Test tenant\x22, \x22enabled\x22: true, \x22id\x22: \x22c330f1bc663648df9c1e7835a1e7a955\x22, \x22name\x22: \x22test\x22}, {\x22description\x22: \x22admin tenant\x22, \x22enabled\x22: true, \x22id\x22: \x22c518b36fa220499b85ba9a71014ce2a5\x22, \x22name\x22: \x22admin\x22}]}"" http_version: recorded_at: ""Tue, 30 Sep 2014 06:59:48 GMT"" recorded_with: ""VCR 2.9.3""",81,277
openstack%2Fnova~master~Ie186e474aa41b5cb89c804aa426b20cec8d4c9e0,openstack/nova,master,Ie186e474aa41b5cb89c804aa426b20cec8d4c9e0,objects: fix version changelog in numa,MERGED,2014-12-10 16:30:37.000000000,2014-12-17 17:04:35.000000000,2014-12-17 11:27:35.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-10 16:30:37.000000000', 'files': ['nova/objects/numa.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5840d75f672c42a9987dc1a3ef3a1efda3086d6a', 'message': 'objects: fix version changelog in numa\n\nThe version info needs to be incremented as well as\nthe object version.\n\nChange-Id: Ie186e474aa41b5cb89c804aa426b20cec8d4c9e0\n'}]",0,140762,5840d75f672c42a9987dc1a3ef3a1efda3086d6a,28,10,1,7730,,,0,"objects: fix version changelog in numa

The version info needs to be incremented as well as
the object version.

Change-Id: Ie186e474aa41b5cb89c804aa426b20cec8d4c9e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/140762/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/numa.py'],1,5840d75f672c42a9987dc1a3ef3a1efda3086d6a,changelog, # Version 1.2: Update NUMACell to 1.2, # Version 1.1: Update NUMACell to 1.2,1,1
openstack%2Freviewstats~master~I33bd7b713c3ab5bb62f4d4fc975809021731eeb0,openstack/reviewstats,master,I33bd7b713c3ab5bb62f4d4fc975809021731eeb0,Sync with current core group,MERGED,2014-12-17 04:03:41.000000000,2014-12-17 17:01:29.000000000,2014-12-17 17:01:28.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 7069}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-12-17 04:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/044fad7cfe69153109e0a5df9e643e98b1cbfef1', 'message': 'Sync with current core group\n\nIn the thread[1] the PTL removed 5 members of nova core.\n\nThe change makes nova.json match [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2014-December/052279.html\n[2] https://review.openstack.org/#/admin/groups/25,members\n\nChange-Id: I33bd7b713c3ab5bb62f4d4fc975809021731eeb0\n'}, {'number': 2, 'created': '2014-12-17 04:11:40.000000000', 'files': ['projects/nova.json'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/feee0dacd292fbe0267e87a7f28b0ac5c6089c76', 'message': 'Sync with current core group\n\nIn the thread[1] the PTL removed 5 members of nova core.\n\nThe change makes nova.json match [2]\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2014-December/052279.html\n[2] https://review.openstack.org/#/admin/groups/25,members\n\nChange-Id: I33bd7b713c3ab5bb62f4d4fc975809021731eeb0\n'}]",2,142332,feee0dacd292fbe0267e87a7f28b0ac5c6089c76,11,4,2,12898,,,0,"Sync with current core group

In the thread[1] the PTL removed 5 members of nova core.

The change makes nova.json match [2]

[1] http://lists.openstack.org/pipermail/openstack-dev/2014-December/052279.html
[2] https://review.openstack.org/#/admin/groups/25,members

Change-Id: I33bd7b713c3ab5bb62f4d4fc975809021731eeb0
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/32/142332/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/nova.json'],1,044fad7cfe69153109e0a5df9e643e98b1cbfef1,feature/nova-sync,," ""belliott"", ""cbehrens"", ""dan-prince"", ""p-draigbrady"", ""vishvananda""",0,5
openstack%2Ffuel-main~stable%2F5.1~I2b8fa6adde4cfc06b97f0bbba537be7afef393d4,openstack/fuel-main,stable/5.1,I2b8fa6adde4cfc06b97f0bbba537be7afef393d4,Add test on node deletion from old cluster after upgrade,MERGED,2014-12-17 13:37:49.000000000,2014-12-17 16:56:51.000000000,2014-12-17 16:56:49.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-17 13:37:49.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9933720cdc1a176e674ef337e5823709603022fd', 'message': 'Add test on node deletion from old cluster\nafter upgrade\n\nChange-Id: I2b8fa6adde4cfc06b97f0bbba537be7afef393d4\nCloses-Bug: #1396571\n(cherry picked from commit c4df7e067ed8a2804b2cd30327f231efeb71ef9d)\n(cherry picked from commit ff80efcc83ad94c345c5c46002451cfb35230f5f)\n'}]",0,142443,9933720cdc1a176e674ef337e5823709603022fd,8,7,1,10136,,,0,"Add test on node deletion from old cluster
after upgrade

Change-Id: I2b8fa6adde4cfc06b97f0bbba537be7afef393d4
Closes-Bug: #1396571
(cherry picked from commit c4df7e067ed8a2804b2cd30327f231efeb71ef9d)
(cherry picked from commit ff80efcc83ad94c345c5c46002451cfb35230f5f)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/43/142443/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,9933720cdc1a176e674ef337e5823709603022fd,,"from devops.helpers.helpers import wait @test(groups=[""upgrade_simple_delete_node""]) @log_snapshot_on_error def upgrade_simple_delete_node(self): """"""Upgrade simple deployed cluster with ceph and delete node from old cluster Scenario: 1. Revert snapshot with simple ceph env 2. Run upgrade on master 3. Check that upgrade was successful 4. Delete one compute+ceph node 5. Re-deploy cluster 6. Run OSTF """""" if not self.env.get_virtual_environment().has_snapshot( 'ceph_multinode_compact'): raise SkipTest() self.env.revert_snapshot(""ceph_multinode_compact"") cluster_id = self.fuel_web.get_last_created_cluster() checkers.upload_tarball(self.env.get_admin_remote(), hlp_data.TARBALL_PATH, '/var') checkers.check_tarball_exists(self.env.get_admin_remote(), os.path.basename(hlp_data. TARBALL_PATH), '/var') checkers.untar(self.env.get_admin_remote(), os.path.basename(hlp_data. TARBALL_PATH), '/var') checkers.run_script(self.env.get_admin_remote(), '/var', 'upgrade.sh', password= hlp_data.KEYSTONE_CREDS['password']) checkers.wait_upgrade_is_done(self.env.get_admin_remote(), 3000, phrase='*** UPGRADE DONE SUCCESSFULLY') checkers.check_upgraded_containers(self.env.get_admin_remote(), hlp_data.UPGRADE_FUEL_FROM, hlp_data.UPGRADE_FUEL_TO) self.fuel_web.assert_nodes_in_ready_state(cluster_id) self.fuel_web.assert_fuel_version(hlp_data.UPGRADE_FUEL_TO) self.fuel_web.assert_nailgun_upgrade_migration() nailgun_nodes = self.fuel_web.update_nodes( cluster_id, {'slave-03': ['compute', 'ceph-osd']}, False, True) task = self.fuel_web.deploy_cluster(cluster_id) self.fuel_web.assert_task_success(task) nodes = filter(lambda x: x[""pending_deletion""] is True, nailgun_nodes) wait( lambda: self.fuel_web.is_node_discovered(nodes[0]), timeout=10 * 60 ) self.fuel_web.run_ostf(cluster_id=cluster_id, should_fail=1) self.env.make_snapshot(""upgrade_simple_delete_node"") ",,55,0
openstack%2Fcinder-specs~master~I45e619cb7da30a480523cb398536c529e72732df,openstack/cinder-specs,master,I45e619cb7da30a480523cb398536c529e72732df,Proposal for deletion of volumes swith snapshots,ABANDONED,2014-11-11 20:10:33.000000000,2014-12-17 16:51:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 9303}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 13562}]","[{'number': 1, 'created': '2014-11-11 20:10:33.000000000', 'files': ['specs/kilo/del-vols-with-snaps.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/06e9a0867586beb8d3b2b0e36c65a6ffea20b080', 'message': 'Proposal for deletion of volumes swith snapshots\n\nProposal to allow the conditional deltion of volumes that have\nsnapshots.\n\nChange-Id: I45e619cb7da30a480523cb398536c529e72732df\n'}]",11,133822,06e9a0867586beb8d3b2b0e36c65a6ffea20b080,16,12,1,13562,,,0,"Proposal for deletion of volumes swith snapshots

Proposal to allow the conditional deltion of volumes that have
snapshots.

Change-Id: I45e619cb7da30a480523cb398536c529e72732df
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/22/133822/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/del-vols-with-snaps.rst'],1,06e9a0867586beb8d3b2b0e36c65a6ffea20b080,bp/del-vols-with-snaps,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================================== Allow conditional deletion of Cinder volumes with snapshots =========================================================== https://blueprints.launchpad.net/cinder/+spec/del-vols-with-snaps Allow deletion of Cinder volumes that have existing snapshots on a per-driver basis. This is valuable for deleting Cinder volumes when deleting Nova instances that have been created by boot from volume. Problem description =================== Scenario: 1. A user boots a Nova instance specifying a Cinder volume and delete_on_terminate=True for the Cinder volume. 2. The user Nova snapshots the instance which causes Nova API to create a Cinder snapshot of the volume and reference it from a block device mapping within Glance image metadata. 3. The user attempts a delete of the Nova instance. 4. The deletion of the Cinder volume fails, leaving the Cinder volume and consuming space in the backend. With Cinder drivers that have implemented Cinder snapshots as full and independent volume copies, the Cinder volume could be deleted and release the backend storage. Proposed change =============== The ability of a volume driver to delete a volume that has snapshots will be raised as an extra capability that is configured in the driver's cinder.conf file with the key/value 'allow_volume_deletion_with_snapshots': 'True'. The block on deleting volumes that have snapshots will move from its current location in Cinder API to the volume manager. The volume manager will check the extra_capabilities value and either block the deletion or call the volume driver accordingly. Alternatives ------------ One alternative to this approach was to put the check for existing snapshots in each of the volume drivers. This alternative was not used as it would require changes to all volume drivers. Another alternative was to change the snapshot deletion code to detect if it was the last snapshot of a given volume, that the parent volume is 'available' but also used to be attached to a virtual machine, and in that case have the snapshot delete flow delete the parent volume. This approach was not used because it is overly complicated and could lead to cases where volumes are deleted when the user did not intend for them to be deleted. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: smatzek Other contributors: None Work Items ---------- This seems to be a small enough code change that individual tasks and work items are likely not needed. Dependencies ============ None Testing ======= The change will be tested by enabling the allow_volume_deletion_with_snapshots extra_capability on a volume driver that would support it, such as the storwize_svc driver. Tests will ensure volume deletion succeeds when the volume has existing snapshots. The change will also be tested without the extra_capability set to verify the delete operation remains blocked. Documentation Impact ==================== The allow_volume_deletion_with_snapshots extra capability and its usage should be documented. References ========== None",,150,0
openstack%2Fmistral-extra~master~I9da31110cf73feb0c014a985ac53b1da98c2e38c,openstack/mistral-extra,master,I9da31110cf73feb0c014a985ac53b1da98c2e38c,"Add ""create vm with volume"" example that demonstrates ""join""",MERGED,2014-12-17 07:48:51.000000000,2014-12-17 16:34:42.000000000,2014-12-17 16:34:42.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-17 07:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/1592b15333838938f768beeca0d39314b034c611', 'message': 'Add ""create vm with volume"" example that demonstrates ""join""\n\nChange-Id: I9da31110cf73feb0c014a985ac53b1da98c2e38c\n'}, {'number': 2, 'created': '2014-12-17 07:52:39.000000000', 'files': ['examples/v2/capabilities/join/create_vm_with_volume.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/bc65261088e691928d5e210641544f55e3b2a2b9', 'message': 'Add ""create vm with volume"" example that demonstrates ""join""\n\nChange-Id: I9da31110cf73feb0c014a985ac53b1da98c2e38c\n'}]",0,142374,bc65261088e691928d5e210641544f55e3b2a2b9,12,5,2,8731,,,0,"Add ""create vm with volume"" example that demonstrates ""join""

Change-Id: I9da31110cf73feb0c014a985ac53b1da98c2e38c
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/74/142374/2 && git format-patch -1 --stdout FETCH_HEAD,['examples/v2/capabilities/join/create_vm_with_volume.yaml'],1,1592b15333838938f768beeca0d39314b034c611,relayout_v2_examples,"--- version: 2.0 create_vm_with_volume: type: direct description: | Creates a vm and and cinder volume in parallel, waits till both tasks get completed using ""join"" workflow control and attaches the volume to the vm. input: - server_name # Name of the new instance - image_id # Image id from Glance service - flavor_id # Flavor id - type of instance hardware - ssh_username # VM username - ssh_password # VM password - volume_name # Volume display name tasks: create_vm: workflow: std.create_instance input: name: $.server_name image_id: $.image_id flavor_id: $.flavor_id ssh_username: $.ssh_username ssh_password: $.ssh_password publish: vm_id: $.id on-complete: - attach_volume create_volume: description: Creates a volume of 2GB size with a given name. action: cinder.volumes_create size=2 display_name={$.volume_name} publish: volume_id: $.id on-complete: - attach_volume attach_volume: join: all action: nova.volumes_create_server_volume input: server_id: $.vm_id volume_id: $.volume_id device: null ",,47,0
openstack%2Fsecurity-doc~master~Idb90b8acd1e614cdb4c0faf601486601bc4f48e7,openstack/security-doc,master,Idb90b8acd1e614cdb4c0faf601486601bc4f48e7,Correct a typo in OSSN-0042,MERGED,2014-12-17 01:37:28.000000000,2014-12-17 16:34:23.000000000,2014-12-17 16:34:22.000000000,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 7063}, {'_account_id': 10497}, {'_account_id': 12402}]","[{'number': 1, 'created': '2014-12-17 01:37:28.000000000', 'files': ['security-notes/OSSN-0042'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/76b53a2a2481b06c52c13cf3109a61e39fb2b374', 'message': 'Correct a typo in OSSN-0042\n\nThere is a minor typo in the title of OSSN-0042, which should be\nfixed prior to publishing.  This corrects said typo.\n\nChange-Id: Idb90b8acd1e614cdb4c0faf601486601bc4f48e7\nRelated-bug: #1341816\n'}]",0,142298,76b53a2a2481b06c52c13cf3109a61e39fb2b374,9,5,1,9098,,,0,"Correct a typo in OSSN-0042

There is a minor typo in the title of OSSN-0042, which should be
fixed prior to publishing.  This corrects said typo.

Change-Id: Idb90b8acd1e614cdb4c0faf601486601bc4f48e7
Related-bug: #1341816
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/98/142298/1 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0042'],1,76b53a2a2481b06c52c13cf3109a61e39fb2b374,ossn-42-typo,Keystone token scoping provides no security benefit,Keystone token scoping provide no security benefit,1,1
openstack%2Fos-net-config~master~I31005e4e10372018685a93dc2f80619f16c513d9,openstack/os-net-config,master,I31005e4e10372018685a93dc2f80619f16c513d9,Fix verbose/debug loglevels,MERGED,2014-12-06 08:31:34.000000000,2014-12-17 16:34:15.000000000,2014-12-17 16:34:14.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1726}, {'_account_id': 7585}]","[{'number': 1, 'created': '2014-12-06 08:31:34.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/57642ab79ec09665d25997880c46f8fa1c4852b2', 'message': 'Fix verbose/debug loglevels\n\nThese options seem to be reversed, in most other tools verbose\nmeans INFO and debug means DEBUG.\n\nChange-Id: I31005e4e10372018685a93dc2f80619f16c513d9\n'}]",0,139790,57642ab79ec09665d25997880c46f8fa1c4852b2,11,4,1,4328,,,0,"Fix verbose/debug loglevels

These options seem to be reversed, in most other tools verbose
means INFO and debug means DEBUG.

Change-Id: I31005e4e10372018685a93dc2f80619f16c513d9
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/90/139790/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,57642ab79ec09665d25997880c46f8fa1c4852b2,fix_debug, elif debug: log_level = logging.DEBUG, log_level = logging.DEBUG elif debug:,2,2
openstack%2Fdesignate~stable%2Fjuno~I538a7f66ff752e4850db3c97734462c0c556d5b8,openstack/designate,stable/juno,I538a7f66ff752e4850db3c97734462c0c556d5b8,Updated from global requirements,MERGED,2014-12-16 23:02:41.000000000,2014-12-17 16:34:01.000000000,2014-12-17 16:34:01.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}, {'_account_id': 13900}]","[{'number': 1, 'created': '2014-12-16 23:02:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/268b234c9d8a8ce3019e06bc14ee12ce0323993b', 'message': 'Updated from global requirements\n\nChange-Id: I538a7f66ff752e4850db3c97734462c0c556d5b8\n'}]",1,142252,268b234c9d8a8ce3019e06bc14ee12ce0323993b,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I538a7f66ff752e4850db3c97734462c0c556d5b8
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/142252/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,268b234c9d8a8ce3019e06bc14ee12ce0323993b,openstack/requirements,"oslo.db>=1.0.0,<1.1 # Apache-2.0","oslo.db>=1.0.0,<1.3 # Apache-2.0",1,1
openstack%2Fdesignate~master~Ibfd62f8020ae23c00136ad636b1e4dfe2bb73709,openstack/designate,master,Ibfd62f8020ae23c00136ad636b1e4dfe2bb73709,"Documentation, comments, and extraneous code fixes",MERGED,2014-12-17 00:43:31.000000000,2014-12-17 16:33:57.000000000,2014-12-17 16:33:56.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2014-12-17 00:43:31.000000000', 'files': ['designate/backend/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_bind9.py', 'etc/designate/designate.conf.sample'], 'web_link': 'https://opendev.org/openstack/designate/commit/0cfb0ca3684e90203fa085254cbf3089f2ce9d2f', 'message': 'Documentation, comments, and extraneous code fixes\n\n- Fixed incorrect information in designate.conf.example.\n- Fixed comments and removed extraneous code.\n\nChange-Id: Ibfd62f8020ae23c00136ad636b1e4dfe2bb73709\nCloses-Bug: #1403261\n'}]",0,142271,0cfb0ca3684e90203fa085254cbf3089f2ce9d2f,7,3,1,9605,,,0,"Documentation, comments, and extraneous code fixes

- Fixed incorrect information in designate.conf.example.
- Fixed comments and removed extraneous code.

Change-Id: Ibfd62f8020ae23c00136ad636b1e4dfe2bb73709
Closes-Bug: #1403261
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/142271/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_bind9.py', 'etc/designate/designate.conf.sample']",4,0cfb0ca3684e90203fa085254cbf3089f2ce9d2f,master,#pool_id = 794ccc2c-d751-44fe-b57f-8894c9f5c842 #threshold_percentage = 100 #poll_timeout = 30 #poll_retry_interval = 2 #poll_max_retries = 3 #poll_delay = 1 #periodic_sync_interval = 120 #cache_driver = sqlalchemy,"# Driver used for backend communication (e.g. fake, bind9, powerdns) #backend_driver = fake #pool_name = default #threshold-percentage = 100 #poll-timeout = 30 #poll-retry-interval = 2 #poll-max-retries = 3 #periodic-sync-interval = 120 #cache-driver = sqlalchemy",13,18
openstack%2Fdesignate~master~Iff20a31b4a208bff0bc879677a9901fedc43226b,openstack/designate,master,Iff20a31b4a208bff0bc879677a9901fedc43226b,Remove duplicate fields from ZoneTransferRequest object,MERGED,2014-12-17 02:02:17.000000000,2014-12-17 16:33:32.000000000,2014-12-17 16:33:31.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2014-12-17 02:02:17.000000000', 'files': ['designate/objects/zone_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2c5a1bebf805c9bf5208fc75c32d8998b865eb32', 'message': 'Remove duplicate fields from ZoneTransferRequest object\n\nThe fields id, version, created_at, updated_at are defined in the\nPersistentObjectMixin which ZoneTransferRequest extends, so this\npatch removes them from ZoneTransferRequest.\n\nChange-Id: Iff20a31b4a208bff0bc879677a9901fedc43226b\nCloses-Bug: #1403274\n'}]",0,142304,2c5a1bebf805c9bf5208fc75c32d8998b865eb32,7,3,1,9605,,,0,"Remove duplicate fields from ZoneTransferRequest object

The fields id, version, created_at, updated_at are defined in the
PersistentObjectMixin which ZoneTransferRequest extends, so this
patch removes them from ZoneTransferRequest.

Change-Id: Iff20a31b4a208bff0bc879677a9901fedc43226b
Closes-Bug: #1403274
",git fetch https://review.opendev.org/openstack/designate refs/changes/04/142304/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/objects/zone_transfer_request.py'],1,2c5a1bebf805c9bf5208fc75c32d8998b865eb32,master,"class ZoneTransferRequest(base.DictObjectMixin, base.PersistentObjectMixin, base.DesignateObject,):","class ZoneTransferRequest(base.DictObjectMixin, base.DesignateObject, base.PersistentObjectMixin): 'id': {}, 'created_at': {}, 'updated_at': {}, 'version': {},",2,6
openstack%2Fnova~master~I326fd6dda8dd41a90757c69867afd62063231362,openstack/nova,master,I326fd6dda8dd41a90757c69867afd62063231362,Faster get_attrname in nova/objects/base.py,MERGED,2014-08-27 12:47:26.000000000,2014-12-17 16:31:47.000000000,2014-12-17 16:31:44.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5803}, {'_account_id': 6890}, {'_account_id': 7730}, {'_account_id': 7746}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-27 12:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6943ba8864fc68ef568fa99cb237ca30a50f12a1', 'message': ""Inline get_attrname in nova/objects/base.py\n\nget_attrname function is called very very often,\nand it's string concatenation method is not fast.\nThe function call is not too fast in python, in this\ncase its worth to inline this function..\n\n* Changing the string concatenation to a 2 times\n  faster + operator instead of the % operator.\n* Inline the function where it is most frequently called\n\nPython does not do any of the above operation implicitly,\n even with -O.\n\nChange-Id: I326fd6dda8dd41a90757c69867afd62063231362\n""}, {'number': 2, 'created': '2014-09-02 19:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/814bfd7b315ccc4229e278d51e43c3226d7faedf', 'message': ""Inline get_attrname in nova/objects/base.py\n\nget_attrname function is called very very often,\nand it's string concatenation method is not fast.\nThe function call is not too fast in python, in this\ncase worth to inline this function.\n\n* Changing the string concatenation to a 2 times\n  faster + operator instead of the % operator.\n* Inline the function where it is most frequently called\n\nPython does not do any of the above operation implicitly,\n even with -O.\n\nChange-Id: I326fd6dda8dd41a90757c69867afd62063231362""}, {'number': 3, 'created': '2014-10-24 13:34:06.000000000', 'files': ['nova/objects/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e8d0deaacdf409e23169cf72665835714352a65', 'message': ""Faster get_attrname in nova/objects/base.py\n\nget_attrname function is called very very often,\nand it's string concatenation method is not fast.\n\n* Changing the string concatenation to a 2 times\n  faster + operator instead of the % operator.\n\nChange-Id: I326fd6dda8dd41a90757c69867afd62063231362\n""}]",3,117227,7e8d0deaacdf409e23169cf72665835714352a65,44,16,3,5803,,,0,"Faster get_attrname in nova/objects/base.py

get_attrname function is called very very often,
and it's string concatenation method is not fast.

* Changing the string concatenation to a 2 times
  faster + operator instead of the % operator.

Change-Id: I326fd6dda8dd41a90757c69867afd62063231362
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/117227/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/base.py'],1,6943ba8864fc68ef568fa99cb237ca30a50f12a1,inline-get_attrname," return '_' + name attrname = '_' + name # get_attrname inlined attrname = '_' + name # get_attrname inlined return hasattr(self, '_' + attrname) # get_attrname inlined"," return '_%s' % name attrname = get_attrname(name) attrname = get_attrname(name) return hasattr(self, get_attrname(attrname))",4,4
openstack%2Fnova~master~I93c6eb7fb96e7109404206367ed81495a4724296,openstack/nova,master,I93c6eb7fb96e7109404206367ed81495a4724296,Error code for creating secgroup default rule,MERGED,2014-12-02 11:40:15.000000000,2014-12-17 16:30:42.000000000,2014-12-17 16:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12140}, {'_account_id': 12175}, {'_account_id': 13926}]","[{'number': 1, 'created': '2014-12-02 11:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/056db457c784afa557de25b982de805d6a781bd0', 'message': 'Error code for creating secgroup default rule\n\nTrying to create secgroup group default rules\nthat already exists gives HttpBadRequest error,\nbut it should raise HttpConflict.\n\nSo updated the code to HttpConflict error.\nCloses-Bug: #1374320\n\nChange-Id: I93c6eb7fb96e7109404206367ed81495a4724296\n'}, {'number': 2, 'created': '2014-12-03 04:35:25.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_security_group_default_rules.py', 'nova/api/openstack/compute/plugins/v3/security_group_default_rules.py', 'nova/api/openstack/compute/contrib/security_group_default_rules.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71efc3dc56f3f5cb201a0c903a706f1d4288d1e2', 'message': 'Error code for creating secgroup default rule\n\nTrying to create secgroup group default rules\nthat already exists gives HttpBadRequest error,\nbut it should raise HttpConflict.\n\nSo updated the code to HttpConflict error.\nCloses-Bug: #1374320\n\nChange-Id: I93c6eb7fb96e7109404206367ed81495a4724296\n'}]",1,138324,71efc3dc56f3f5cb201a0c903a706f1d4288d1e2,50,20,2,12140,,,0,"Error code for creating secgroup default rule

Trying to create secgroup group default rules
that already exists gives HttpBadRequest error,
but it should raise HttpConflict.

So updated the code to HttpConflict error.
Closes-Bug: #1374320

Change-Id: I93c6eb7fb96e7109404206367ed81495a4724296
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/138324/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_security_group_default_rules.py', 'nova/api/openstack/compute/plugins/v3/security_group_default_rules.py', 'nova/api/openstack/compute/contrib/security_group_default_rules.py']",3,056db457c784afa557de25b982de805d6a781bd0,bug/1374320, raise exc.HTTPConflict(explanation=msg), raise exc.HTTPBadRequest(explanation=msg),3,3
openstack%2Ffuel-main~stable%2F5.1~I3395a18da6b14b05d592cf5b0d54d5cf951efd57,openstack/fuel-main,stable/5.1,I3395a18da6b14b05d592cf5b0d54d5cf951efd57,assert_pacemaker() transforms node names to FQDN before comparison,MERGED,2014-12-08 22:46:53.000000000,2014-12-17 16:30:21.000000000,2014-12-17 16:30:19.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-08 22:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d3e41bb7e19d67e9828ed8ffb10401983f647743', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I3395a18da6b14b05d592cf5b0d54d5cf951efd57\nCloses-Bug:#1400169\n""}, {'number': 2, 'created': '2014-12-17 11:52:44.000000000', 'files': ['fuelweb_test/tests/test_ha.py', 'fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/97c32d3e8e4dec718d08606cfcbcfe43530c3882', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I3395a18da6b14b05d592cf5b0d54d5cf951efd57\nCloses-Bug:#1400169\n""}]",1,140173,97c32d3e8e4dec718d08606cfcbcfe43530c3882,15,8,2,11969,,,0,"assert_pacemaker() transforms node names to FQDN before comparison

Pacemaker returns it's status using FQDN on CentOS and short node
names on Ubuntu. It makes hard for comparison different node
name formats with always FQDN from nailgun.

Now output of pacemaker status converts into FQDN before comparison.

Change-Id: I3395a18da6b14b05d592cf5b0d54d5cf951efd57
Closes-Bug:#1400169
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/73/140173/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/fuel_web_client.py'],1,d3e41bb7e19d67e9828ed8ffb10401983f647743,bug/1400169," def compare_pcm_nodes(ctrl_node, nodes, online_status): for line in self.get_pacemaker_status(ctrl_node).splitlines(): if online_status in line: pcm_nodes = line[line.find('[') + 1:line.find(']')].split() fqdn_nodes = [self.get_fqdn_by_hostname(x) for x in pcm_nodes] logger.debug(""Expected nodes {0} {1}"" .format(online_status, nodes)) logger.debug(""Actual nodes {0} {1}"" .format(online_status, fqdn_nodes)) return (fqdn_nodes == nodes) return False fqdn_names = lambda nodes: sorted( [self.get_fqdn_by_hostname(self.fqdn(n)) for n in nodes]) online = [x for x in fqdn_names(online_nodes)] wait(lambda: compare_pcm_nodes(ctrl_node, online, 'Online: '), timeout=30) compare_pcm_nodes(ctrl_node, online, 'Online: '), offline = [x for x in fqdn_names(offline_nodes)] wait(lambda: compare_pcm_nodes(ctrl_node, offline, 'OFFLINE: '), timeout=30) compare_pcm_nodes(ctrl_node, offline, 'OFFLINE: '), 'Offline nodes {0}'.format(offline)) @logwrap def get_fqdn_by_hostname(self, hostname): if self.environment.domain not in hostname: hostname += ""."" + self.environment.domain return hostname"," fqdn_names = lambda nodes: sorted([self.fqdn(n) for n in nodes]) online = \ 'Online: [ {0} ]'.format(' '.join(fqdn_names(online_nodes))) wait(lambda: online in self.get_pacemaker_status( ctrl_node), timeout=30) online in self.get_pacemaker_status(ctrl_node), offline = \ 'OFFLINE: [ {0} ]'.format( ' '.join(fqdn_names(offline_nodes))) wait(lambda: offline in self.get_pacemaker_status( ctrl_node), timeout=30) offline in self.get_pacemaker_status(ctrl_node), 'Offline nodes {0}'.format(offline_nodes))",30,13
openstack%2Fpuppet-cinder~master~I602563420d915ce2b553c8bccca6f1260403d168,openstack/puppet-cinder,master,I602563420d915ce2b553c8bccca6f1260403d168,Service Validation for Cinder-API,MERGED,2014-12-08 23:56:13.000000000,2014-12-17 16:13:13.000000000,2014-12-15 11:20:42.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 1918}, {'_account_id': 7155}, {'_account_id': 7156}, {'_account_id': 7616}, {'_account_id': 9410}]","[{'number': 1, 'created': '2014-12-08 23:56:13.000000000', 'files': ['manifests/api.pp', 'spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/62823628ca092a2ee45faf3d40622a95f5483097', 'message': 'Service Validation for Cinder-API\n\nAs an option, validate Cinder API service with a default or custom\ncommand, and if the service is up and running, create a Puppet Anchor.\n\nChange-Id: I602563420d915ce2b553c8bccca6f1260403d168\n'}]",0,140183,62823628ca092a2ee45faf3d40622a95f5483097,10,7,1,3153,,,0,"Service Validation for Cinder-API

As an option, validate Cinder API service with a default or custom
command, and if the service is up and running, create a Puppet Anchor.

Change-Id: I602563420d915ce2b553c8bccca6f1260403d168
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/83/140183/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/cinder_api_spec.rb']",2,62823628ca092a2ee45faf3d40622a95f5483097,validate-api-service," describe 'while validating the service with default command' do let :params do req_params.merge({ :validate => true, }) end it { should contain_exec('execute cinder-api validation').with( :path => '/usr/bin:/bin:/usr/sbin:/sbin', :provider => 'shell', :tries => '10', :try_sleep => '2', :command => 'cinder --os-auth-url http://localhost:5000/ --os-tenant-name services --os-username cinder --os-password foo list', )} it { should contain_anchor('create cinder-api anchor').with( :require => 'Exec[execute cinder-api validation]', )} end describe 'while validating the service with custom command' do let :params do req_params.merge({ :validate => true, :validation_options => { 'cinder-api' => { 'command' => 'my-script' } } }) end it { should contain_exec('execute cinder-api validation').with( :path => '/usr/bin:/bin:/usr/sbin:/sbin', :provider => 'shell', :tries => '10', :try_sleep => '2', :command => 'my-script', )} it { should contain_anchor('create cinder-api anchor').with( :require => 'Exec[execute cinder-api validation]', )} end ",,76,3
openstack%2Fheat~master~I259249659c8b5dc846432f8e08985b148b30d682,openstack/heat,master,I259249659c8b5dc846432f8e08985b148b30d682,Add Dimensions Default in AWS_CloudWatch_Alarm.yaml,MERGED,2014-11-13 15:33:01.000000000,2014-12-17 15:58:52.000000000,2014-11-21 03:24:47.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 6698}, {'_account_id': 7404}, {'_account_id': 12321}, {'_account_id': 13009}]","[{'number': 1, 'created': '2014-11-13 15:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/081fad2c2ada4cb80eac36698189a761252aecbe', 'message': ""Fix wrong Default val in AWS_CloudWatch_Alarm.yaml\n\nWhen Default values equals '', function 'Ref' gives\nincorrect result [u''] instead of []. So this patch\nfixes this situation and now 'Ref' result is [].\nBesides that, patch adds Default value to Dimensions,\nbecause it's optional property.\n\nChange-Id: I259249659c8b5dc846432f8e08985b148b30d682\nCloses-bug: #1386824\n""}, {'number': 2, 'created': '2014-11-19 15:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/16361af6517ce1fc82143b73fdbc975b02f2eb0c', 'message': ""Fix wrong Default val in AWS_CloudWatch_Alarm.yaml\n\nWhen Default values equals '', function 'Ref' gives\nincorrect result [u''] instead of []. So this patch\nfixes this situation and now 'Ref' result is [].\nBesides that, patch adds Default value to Dimensions,\nbecause it's optional property.\n\nChange-Id: I259249659c8b5dc846432f8e08985b148b30d682\nCloses-bug: #1386824\n""}, {'number': 3, 'created': '2014-11-19 15:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c4f4f9c9a3262f1f6401d0afd7873144e4b8ae4a', 'message': ""Add Dimensions Default in AWS_CloudWatch_Alarm.yaml\n\nRelying on [1], property Dimensions isn't required, but\nthis template has no Default value for Dimensions\n(thereby making it required). This patch fix that omission.\n\nChange-Id: I259249659c8b5dc846432f8e08985b148b30d682\nCloses-bug: #1386824""}, {'number': 4, 'created': '2014-11-20 14:09:40.000000000', 'files': ['heat/tests/test_parameters.py', 'etc/heat/templates/AWS_CloudWatch_Alarm.yaml', 'heat/engine/parameters.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/13435988905df7de2d804ba2201ec08f13f61de6', 'message': ""Add Dimensions Default in AWS_CloudWatch_Alarm.yaml\n\nRelying on [1], property Dimensions isn't required, but\nthis template has no Default value for Dimensions\n(thereby making it required). This patch fix that omission.\nBesides that, parameters have wrong parsing, because if\nparameter with type 'CommaDelimitedList' has default\nvalue '', parameter's parsing result would be [u''] instead\nof []. this is wrong, so this patch fix it.\n\n[1] http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cw-alarm.html\n\nChange-Id: I259249659c8b5dc846432f8e08985b148b30d682\nCloses-bug: #1386824\n""}]",0,134251,13435988905df7de2d804ba2201ec08f13f61de6,25,8,4,13009,,,0,"Add Dimensions Default in AWS_CloudWatch_Alarm.yaml

Relying on [1], property Dimensions isn't required, but
this template has no Default value for Dimensions
(thereby making it required). This patch fix that omission.
Besides that, parameters have wrong parsing, because if
parameter with type 'CommaDelimitedList' has default
value '', parameter's parsing result would be [u''] instead
of []. this is wrong, so this patch fix it.

[1] http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cw-alarm.html

Change-Id: I259249659c8b5dc846432f8e08985b148b30d682
Closes-bug: #1386824
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/134251/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/heat/templates/AWS_CloudWatch_Alarm.yaml'],1,081fad2c2ada4cb80eac36698189a761252aecbe,add-cw-rqrd, Default: [] Default: [] Default: [] Default: [], Default: '' Default: '' Default: '',4,3
openstack%2Ftempest~master~I42ad92d8499bab1ed499bf5de5859923aa210e7e,openstack/tempest,master,I42ad92d8499bab1ed499bf5de5859923aa210e7e,Change invalid flavor name,ABANDONED,2014-09-10 15:40:33.000000000,2014-12-17 15:35:11.000000000,,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 9194}, {'_account_id': 9533}, {'_account_id': 10385}, {'_account_id': 11748}]","[{'number': 1, 'created': '2014-09-10 15:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d5425ed7cc8e58ffaef9f43ac7d47041cf5c731f', 'message': 'Change invalid flavor name\n\nThis supports the change proposed at\nhttps://review.openstack.org/#/c/119741/, which allows all printable\nand horizontal space characters in all resource names.\n\nChange-Id: I42ad92d8499bab1ed499bf5de5859923aa210e7e\nPartial-Bug: 1366778\n'}, {'number': 2, 'created': '2014-09-10 15:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8fc554a4b532ee45148cb3365d43ec87d445f635', 'message': 'Change invalid flavor name\n\nThis supports the change proposed at\nhttps://review.openstack.org/#/c/119741/ which allows all printable\nand horizontal space characters in all resource names.\n\nChange-Id: I42ad92d8499bab1ed499bf5de5859923aa210e7e\nPartial-Bug: 1366778\n'}, {'number': 3, 'created': '2014-12-15 17:52:33.000000000', 'files': ['tempest/api/compute/v3/admin/test_flavors_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e05903bb7a4d0a5ea724c6c7ac8b4f3911818bd3', 'message': 'Change invalid flavor name\n\nThis supports the change proposed at\nhttps://review.openstack.org/#/c/119741/ which allows all printable\nand horizontal space characters in all resource names.\n\nImplements: blueprint relax-resource-name-restrictions\nChange-Id: I42ad92d8499bab1ed499bf5de5859923aa210e7e\nPartial-Bug: 1366778\n'}]",0,120451,e05903bb7a4d0a5ea724c6c7ac8b4f3911818bd3,18,6,3,11748,,,0,"Change invalid flavor name

This supports the change proposed at
https://review.openstack.org/#/c/119741/ which allows all printable
and horizontal space characters in all resource names.

Implements: blueprint relax-resource-name-restrictions
Change-Id: I42ad92d8499bab1ed499bf5de5859923aa210e7e
Partial-Bug: 1366778
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/120451/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_flavors_negative_xml.py'],1,d5425ed7cc8e58ffaef9f43ac7d47041cf5c731f,bug/1366778, invalid_flavor_name = data_utils.rand_name('invalid-!@#$%\x00-'), invalid_flavor_name = data_utils.rand_name('invalid-!@#$%-'),1,1
openstack%2Ffuel-web~master~I192ba7bbe21f084a6394105c65593a1451333177,openstack/fuel-web,master,I192ba7bbe21f084a6394105c65593a1451333177,Warnings on UI,MERGED,2014-10-17 09:01:32.000000000,2014-12-17 14:28:36.000000000,2014-12-17 14:28:35.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}, {'_account_id': 13516}]","[{'number': 1, 'created': '2014-10-17 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3d0ebe7e898f15aeea8471a266de35eb78fc7719', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 2, 'created': '2014-10-20 10:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b3549cf733e6c17b0242b6ef7c9d24d0d4630a19', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 3, 'created': '2014-10-21 12:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/05ba2c5173474d5d5d464a52907855424e938813', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 4, 'created': '2014-11-13 15:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a4f0842bb963b25b4c2fdfc205ed48733b84923c', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 5, 'created': '2014-11-13 15:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0526df00e82694d0bcf80be2c3adf9106e96b933', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 6, 'created': '2014-11-14 08:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e20d875f36d8281942f25aedd084cbfac6306c21', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 7, 'created': '2014-11-14 08:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f7f9eeef51063d244885d3b1405165169d2015e5', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 8, 'created': '2014-11-18 15:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b7f777ef4c328ffbec7eea27fc5decb386bb27e1', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 9, 'created': '2014-11-18 15:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/864226d05fac7c35ff597c0a54aab24afd8ee172', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 10, 'created': '2014-11-26 12:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e22ccde5b603538fd81299d724b369ccbd78dd15', 'message': 'Warnings on Settings tab\n\nCloses-Bug: #1308920\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 11, 'created': '2014-11-27 12:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7d6e615ef931f5b94173fb6afb8fa2f01d5178ae', 'message': 'Warnings on UI\n\nImplemented displaying of warning messages for:\n- roles in Assign Roles panel\n- settings on Settings  tab\n\nCloses-Bug: #1308920\nCloses-Bug: #1396596\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}, {'number': 12, 'created': '2014-12-10 09:40:26.000000000', 'files': ['nailgun/static/js/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/static/i18n/translation.json', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/nodes_tab_subviews.jsx', 'nailgun/static/js/models.js', 'nailgun/static/js/views/statistics_mixin.jsx', 'nailgun/static/js/views/controls.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6c12e4de61aa7467961778dfd3c3c6cea400bc17', 'message': 'Warnings on UI\n\nImplemented displaying of warning messages for:\n- roles in Assign Roles panel\n- settings on Settings  tab\n\nCloses-Bug: #1308920\nCloses-Bug: #1396596\n\nChange-Id: I192ba7bbe21f084a6394105c65593a1451333177\n'}]",24,129172,6c12e4de61aa7467961778dfd3c3c6cea400bc17,85,8,12,8766,,,0,"Warnings on UI

Implemented displaying of warning messages for:
- roles in Assign Roles panel
- settings on Settings  tab

Closes-Bug: #1308920
Closes-Bug: #1396596

Change-Id: I192ba7bbe21f084a6394105c65593a1451333177
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/72/129172/10 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/static/i18n/translation.json', 'nailgun/static/js/models.js']",3,3d0ebe7e898f15aeea8471a266de35eb78fc7719,bug/1308920," var result = false, warnings = _.map(restrictions, function(restriction) { result = result || Expression.prototype.compile(restriction.condition).evaluate(models); return restriction.message; }); return {result: result, warnings: _.compact(warnings)}; if (this.checkRestrictions(models, null, groupName + '.metadata').result) return; if (!(setting.regex && setting.regex.source) || this.checkRestrictions(models, null, path).result) return;"," return _.any(restrictions, function(restriction) { return Expression.prototype.compile(restriction.condition).evaluate(models); }); if (this.checkRestrictions(models, null, groupName + '.metadata')) return; if (!(setting.regex && setting.regex.source) || this.checkRestrictions(models, null, path)) return;",46,16
openstack%2Fmagnetodb~master~I4e35f271f4a2c4f0c9222e44040b77acccc9ef4d,openstack/magnetodb,master,I4e35f271f4a2c4f0c9222e44040b77acccc9ef4d,Remove MAGNETODB_CONF_DIR on devstack cleanup,MERGED,2014-12-12 13:26:11.000000000,2014-12-17 14:18:23.000000000,2014-12-17 14:18:22.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-12-12 13:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/9a10ca15505da76b491dec7527cbc65ca3bc2f99', 'message': 'Remove MAGNETODB_CONF_DIR on devstack cleanup\n\nRemove /etc/magnetodb (or what is set as\nMAGNETODB_CONF_DIR) as a part of\ndevstack/cleanup.sh\n\nChange-Id: I4e35f271f4a2c4f0c9222e44040b77acccc9ef4d\n'}, {'number': 2, 'created': '2014-12-17 09:48:38.000000000', 'files': ['contrib/devstack/lib/magnetodb'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/c6b9db83553f4e8868164c58f9edc1099b3eadb5', 'message': 'Remove MAGNETODB_CONF_DIR on devstack cleanup\n\nRemove /etc/magnetodb (or what is set as\nMAGNETODB_CONF_DIR) as a part of\ndevstack/cleanup.sh\n\nChange-Id: I4e35f271f4a2c4f0c9222e44040b77acccc9ef4d\n'}]",0,141367,c6b9db83553f4e8868164c58f9edc1099b3eadb5,12,5,2,8491,,,0,"Remove MAGNETODB_CONF_DIR on devstack cleanup

Remove /etc/magnetodb (or what is set as
MAGNETODB_CONF_DIR) as a part of
devstack/cleanup.sh

Change-Id: I4e35f271f4a2c4f0c9222e44040b77acccc9ef4d
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/67/141367/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/magnetodb'],1,9a10ca15505da76b491dec7527cbc65ca3bc2f99,remove-configs-on-cleanup, sudo rm -rf $MAGNETODB_CONF_DIR,,1,0
openstack%2Fheat~master~I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8,openstack/heat,master,I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8,Move test_update_group_replace() to functional tests,MERGED,2014-12-09 06:16:28.000000000,2014-12-17 14:17:50.000000000,2014-12-17 14:17:49.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6577}]","[{'number': 1, 'created': '2014-12-09 06:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6eeb7b421c4fb56c2b388d0d71551b01eca9c83d', 'message': 'Move instance group replace to functional tests\n\nChange-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8\n'}, {'number': 2, 'created': '2014-12-10 08:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8df0c8f89b60842baeaca45b9edd8743d50d204f', 'message': 'Move test_update_group_replace() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8\n'}, {'number': 3, 'created': '2014-12-10 10:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4776019349e68ca09b11640e9b3502e235fa1f02', 'message': 'Move test_update_group_replace() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8\n'}, {'number': 4, 'created': '2014-12-11 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e8bbc735902f64dbfb1ae5a6e65de09238fb0a5', 'message': 'Move test_update_group_replace() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8\n'}, {'number': 5, 'created': '2014-12-15 01:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4760718e0b3ef01343199eef7cc45fba973de811', 'message': 'Move test_update_group_replace() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8\n'}, {'number': 6, 'created': '2014-12-17 00:15:40.000000000', 'files': ['heat_integrationtests/functional/test_instance_group.py', 'heat/tests/test_instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7aedc6a82272801df01abc02fd591f0cb439b7c8', 'message': 'Move test_update_group_replace() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8\n'}]",0,140249,7aedc6a82272801df01abc02fd591f0cb439b7c8,27,3,6,4715,,,0,"Move test_update_group_replace() to functional tests

Part of blueprint decouple-nested
Change-Id: I7a96f5ede436e1aecac5447fef9d8ee6c5fb13a8
",git fetch https://review.opendev.org/openstack/heat refs/changes/49/140249/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_instance_group.py', 'heat/tests/test_instance_group.py']",2,6eeb7b421c4fb56c2b388d0d71551b01eca9c83d,bug/1360292,,"from heat.engine import parserfrom heat.engine import resources from heat.engine.resources import instanceig_template = ''' { ""AWSTemplateFormatVersion"" : ""2010-09-09"", ""Description"" : ""Template to create multiple instances."", ""Parameters"" : {}, ""Resources"" : { ""JobServerGroup"" : { ""Type"" : ""OS::Heat::InstanceGroup"", ""Properties"" : { ""LaunchConfigurationName"" : { ""Ref"" : ""JobServerConfig"" }, ""Size"" : ""1"", ""AvailabilityZones"" : [""nova""] } }, ""JobServerConfig"" : { ""Type"" : ""AWS::AutoScaling::LaunchConfiguration"", ""Metadata"": {""foo"": ""bar""}, ""Properties"": { ""ImageId"" : ""foo"", ""InstanceType"" : ""m1.large"", ""KeyName"" : ""test"", ""SecurityGroups"" : [ ""sg-1"" ], ""UserData"" : ""jsconfig data"", ""BlockDeviceMappings"": [ { ""DeviceName"": ""vdb"", ""Ebs"": {""SnapshotId"": ""9ef5496e-7426-446a-bbc8-01f84d9c9972"", ""DeleteOnTermination"": ""True""} }] } } } } ''' class InstanceGroupTest(common.HeatTestCase): def _stub_create(self, num, instance_class=instance.Instance): """""" Expect creation of C{num} number of Instances. :param instance_class: The resource class to expect to be created instead of instance.Instance. """""" self.m.StubOutWithMock(parser.Stack, 'validate') parser.Stack.validate() self.stub_KeypairConstraint_validate() self.stub_ImageConstraint_validate() self.stub_FlavorConstraint_validate() self.stub_SnapshotConstraint_validate() self.m.StubOutWithMock(instance_class, 'handle_create') self.m.StubOutWithMock(instance_class, 'check_create_complete') cookie = object() for x in range(num): instance_class.handle_create().AndReturn(cookie) instance_class.check_create_complete(cookie).AndReturn(False) instance_class.check_create_complete( cookie).MultipleTimes().AndReturn(True) def create_resource(self, t, stack, resource_name): # subsequent resources may need to reference previous created resources # use the stack's resource objects instead of instantiating new ones rsrc = stack[resource_name] self.assertIsNone(rsrc.validate()) scheduler.TaskRunner(rsrc.create)() self.assertEqual((rsrc.CREATE, rsrc.COMPLETE), rsrc.state) return rsrc def test_update_group_replace(self): """"""Make sure that during a group update the non updatable properties cause a replacement. """""" t = template_format.parse(ig_template) properties = t['Resources']['JobServerGroup']['Properties'] properties['Size'] = '2' stack = utils.parse_stack(t) self._stub_create(2) self.m.ReplayAll() self.create_resource(t, stack, 'JobServerConfig') rsrc = self.create_resource(t, stack, 'JobServerGroup') self.m.ReplayAll() props = copy.copy(rsrc.properties.data) props['AvailabilityZones'] = ['wibble'] update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) updater = scheduler.TaskRunner(rsrc.update, update_snippet) self.assertRaises(resource.UpdateReplace, updater) rsrc.delete() self.m.VerifyAll() ",45,101
openstack%2Fheat~master~I3de435c2bc551fdc8ba00f069975d68d239666f1,openstack/heat,master,I3de435c2bc551fdc8ba00f069975d68d239666f1,Move test_create_config_prop_validation to functional,MERGED,2014-12-09 06:16:28.000000000,2014-12-17 14:17:40.000000000,2014-12-17 14:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6577}]","[{'number': 1, 'created': '2014-12-09 06:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d2454cba0ce880cb6f89d626768abd599db6cd97', 'message': 'Move functional test instance group property fail\n\nChange-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1\n'}, {'number': 2, 'created': '2014-12-10 08:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/db1aeb29b341110bd562efc7ffba6a61e34b0c89', 'message': 'Move test_create_config_prop_validation to functional\n\nPart of blueprint decouple-nested\nChange-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1\n'}, {'number': 3, 'created': '2014-12-10 10:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3ad1e2a8967cebd25a54b797be463679a83efcce', 'message': 'Move test_create_config_prop_validation to functional\n\nPart of blueprint decouple-nested\nChange-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1\n'}, {'number': 4, 'created': '2014-12-11 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5a9fb54ad1347757fd06a5df35059d87cfcf044d', 'message': 'Move test_create_config_prop_validation to functional\n\nPart of blueprint decouple-nested\nChange-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1\n'}, {'number': 5, 'created': '2014-12-15 01:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/821b5e77e23098d4cc872e195b5cc1accd7a7958', 'message': 'Move test_create_config_prop_validation to functional\n\nPart of blueprint decouple-nested\nChange-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1\n'}, {'number': 6, 'created': '2014-12-17 00:15:40.000000000', 'files': ['heat_integrationtests/functional/test_instance_group.py', 'heat/tests/test_instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9d18ea84b56653a1127fe35fa63c97f39754f35a', 'message': 'Move test_create_config_prop_validation to functional\n\nPart of blueprint decouple-nested\nChange-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1\n'}]",1,140248,9d18ea84b56653a1127fe35fa63c97f39754f35a,25,3,6,4715,,,0,"Move test_create_config_prop_validation to functional

Part of blueprint decouple-nested
Change-Id: I3de435c2bc551fdc8ba00f069975d68d239666f1
",git fetch https://review.opendev.org/openstack/heat refs/changes/48/140248/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_instance_group.py', 'heat/tests/test_instance_group.py']",2,d2454cba0ce880cb6f89d626768abd599db6cd97,bug/1360292,," def test_create_config_prop_validation(self): """"""Make sure that during a group create the instance properties are validated. And an error causes the group to fail. """""" t = template_format.parse(ig_template) stack = utils.parse_stack(t) self.stub_ImageConstraint_validate() self.stub_KeypairConstraint_validate() self.stub_FlavorConstraint_validate() self.stub_SnapshotConstraint_validate() self.m.ReplayAll() self.create_resource(t, stack, 'JobServerConfig') rsrc = stack['JobServerGroup'] self.m.VerifyAll() self.m.UnsetStubs() self.m.StubOutWithMock(instance.Instance, 'handle_create') not_found = exception.ImageNotFound(image_name='bla') instance.Instance.handle_create().AndRaise(not_found) self.m.StubOutWithMock(parser.Stack, 'validate') parser.Stack.validate() self.stub_KeypairConstraint_validate() self.stub_ImageConstraint_validate() self.stub_FlavorConstraint_validate() self.stub_SnapshotConstraint_validate() self.m.ReplayAll() create = scheduler.TaskRunner(rsrc.create) self.assertRaises(exception.ResourceFailure, create) self.assertEqual((rsrc.CREATE, rsrc.FAILED), rsrc.state) self.m.VerifyAll() ",37,39
openstack%2Fheat~master~I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af,openstack/heat,master,I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af,Move test_size_updates_work() to functional tests,MERGED,2014-12-09 06:16:28.000000000,2014-12-17 14:17:30.000000000,2014-12-17 14:17:29.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-12-09 06:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d42054c758ceb0e73b539d65c9c1d9ac0f06714b', 'message': 'Move functional test instance group update resize\n\nChange-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af\n'}, {'number': 2, 'created': '2014-12-10 08:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ee77f699e9572363cf859cef37d9eb805351454e', 'message': 'Move test_size_updates_work() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af\n'}, {'number': 3, 'created': '2014-12-10 10:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/68f21a5fabef920cacebbad104b89a934ec263cf', 'message': 'Move test_size_updates_work() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af\n'}, {'number': 4, 'created': '2014-12-11 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/18ef966e5243d5d297ee4a1d9dccd9ce770ae56a', 'message': 'Move test_size_updates_work() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af\n'}, {'number': 5, 'created': '2014-12-15 01:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0eab9c2b6cf50e60f17846379ce93d1484798429', 'message': 'Move test_size_updates_work() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af\n'}, {'number': 6, 'created': '2014-12-17 00:15:40.000000000', 'files': ['heat_integrationtests/functional/test_instance_group.py', 'heat/tests/test_instance_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2fb00d8b1205acffcbf733654cbf8fe0ad08d289', 'message': 'Move test_size_updates_work() to functional tests\n\nPart of blueprint decouple-nested\nChange-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af\n'}]",2,140247,2fb00d8b1205acffcbf733654cbf8fe0ad08d289,31,5,6,4715,,,0,"Move test_size_updates_work() to functional tests

Part of blueprint decouple-nested
Change-Id: I70e73af83e3b5a4e99c8dfdff9ad1ed4762a03af
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/140247/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_instance_group.py', 'heat/tests/test_instance_group.py']",2,d42054c758ceb0e73b539d65c9c1d9ac0f06714b,bug/1360292,," def test_size_updates_work(self): t = template_format.parse(ig_template) properties = t['Resources']['JobServerGroup']['Properties'] properties['Size'] = '2' stack = utils.parse_stack(t) self._stub_create(2) self.m.ReplayAll() self.create_resource(t, stack, 'JobServerConfig') rsrc = self.create_resource(t, stack, 'JobServerGroup') self.m.VerifyAll() self.m.UnsetStubs() # Increase min size to 5 self._stub_create(3) self.m.StubOutWithMock(instance.Instance, 'FnGetAtt') instance.Instance.FnGetAtt('PublicIp').AndReturn('10.0.0.2') instance.Instance.FnGetAtt('PublicIp').AndReturn('10.0.0.3') instance.Instance.FnGetAtt('PublicIp').AndReturn('10.0.0.4') instance.Instance.FnGetAtt('PublicIp').AndReturn('10.0.0.5') instance.Instance.FnGetAtt('PublicIp').AndReturn('10.0.0.6') self.m.ReplayAll() props = copy.copy(rsrc.properties.data) props['Size'] = 5 update_snippet = rsrc_defn.ResourceDefinition(rsrc.name, rsrc.type(), props) tmpl_diff = {'Properties': {'Size': '5'}} prop_diff = {'Size': '5'} self.assertIsNone(rsrc.handle_update(update_snippet, tmpl_diff, prop_diff)) self.assertEqual('10.0.0.2,10.0.0.3,10.0.0.4,10.0.0.5,10.0.0.6', rsrc.FnGetAtt('InstanceList')) rsrc.delete() self.m.VerifyAll() ",43,42
openstack%2Fnova~master~I410af5ce989555b6f7cb80676f0ed0537855b9ce,openstack/nova,master,I410af5ce989555b6f7cb80676f0ed0537855b9ce,Replace the rest of the non-object-using test_compute tests,MERGED,2014-12-12 03:02:56.000000000,2014-12-17 14:16:52.000000000,2014-12-17 14:16:49.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-12 03:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23b062c1f444b34e96d45f6b039e483dff3be0d5', 'message': 'Replace the rest of the non-object-using test_compute tests\n\nThis has some effects on both conductor task and shelve tests. The\nshelve tests are overly complex and a troubling mix of objects and\nraw DB, which I converted as best I could.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce\n'}, {'number': 2, 'created': '2014-12-12 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/017f00a20ebff61ffdd12afbda491ef2f3bad691', 'message': 'Replace the rest of the non-object-using test_compute tests\n\nThis has some effects on both conductor task and shelve tests. The\nshelve tests are overly complex and a troubling mix of objects and\nraw DB, which I converted as best I could.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce\n'}, {'number': 3, 'created': '2014-12-12 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed0fe8121647b15b4b9992ac1b208d641a110f44', 'message': 'Replace the rest of the non-object-using test_compute tests\n\nThis has some effects on both conductor task and shelve tests. The\nshelve tests are overly complex and a troubling mix of objects and\nraw DB, which I converted as best I could.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce\n'}, {'number': 4, 'created': '2014-12-15 20:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3690a6a2f31b0692dff5263171b8d40f73cd3023', 'message': 'Replace the rest of the non-object-using test_compute tests\n\nThis has some effects on both conductor task and shelve tests. The\nshelve tests are overly complex and a troubling mix of objects and\nraw DB, which I converted as best I could.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce\n'}, {'number': 5, 'created': '2014-12-16 16:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0afe226415d8d7db3dddddf1dfa1d448cff242dd', 'message': 'Replace the rest of the non-object-using test_compute tests\n\nThis has some effects on both conductor task and shelve tests. The\nshelve tests are overly complex and a troubling mix of objects and\nraw DB, which I converted as best I could.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce\n'}, {'number': 6, 'created': '2014-12-16 22:41:45.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf72b463b7a5968d474f9a6273fc30cd7d5409b6', 'message': 'Replace the rest of the non-object-using test_compute tests\n\nThis has some effects on both conductor task and shelve tests. The\nshelve tests are overly complex and a troubling mix of objects and\nraw DB, which I converted as best I could.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce\n'}]",10,141255,bf72b463b7a5968d474f9a6273fc30cd7d5409b6,44,10,6,4393,,,0,"Replace the rest of the non-object-using test_compute tests

This has some effects on both conductor task and shelve tests. The
shelve tests are overly complex and a troubling mix of objects and
raw DB, which I converted as best I could.

Related to blueprint flavor-from-sysmeta-to-blob

Change-Id: I410af5ce989555b6f7cb80676f0ed0537855b9ce
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/141255/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py']",3,23b062c1f444b34e96d45f6b039e483dff3be0d5,bp/flavor-from-sysmeta-to-blob," flavor = flavors.get_flavor_by_name(type_name) inst = objects.Instance(context=self.context) inst.vm_state = vm_states.ACTIVE inst.task_state = None inst.image_ref = FAKE_IMAGE_REF inst.reservation_id = 'r-fakeres' inst.user_id = self.user_id inst.project_id = self.project_id inst.host = 'fake_host' inst.node = NODENAME inst.instance_type_id = flavor.id inst.ami_launch_index = 0 inst.memory_mb = 0 inst.vcpus = 0 inst.root_gb = 0 inst.ephemeral_gb = 0 inst.architecture = arch.X86_64 inst.os_type = 'Linux' inst.system_metadata = ( params and params.get('system_metadata', {}) or {}) inst.locked = False inst.created_at = timeutils.utcnow() inst.updated_at = timeutils.utcnow() inst.launched_at = timeutils.utcnow() inst.security_groups = objects.SecurityGroupList(objects=[]) flavors.save_flavor_info(inst.system_metadata, flavor) if params: inst.update(params) if services: _create_service_entries(self.context.elevated(), [['fake_zone', [inst.host]]]) inst.create() return inst instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() self._create_fake_instance_obj(params=params) self.context, self._create_fake_instance_obj()) self.context, self._create_fake_instance_obj(), bdms=bdms) instance = self._create_fake_instance_obj() self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, self.compute.run_instance(self.context, instance, {}, {}, None, None, instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj({'host': 'someotherhost'}) self.compute._instance_update(self.context, instance.uuid) instance = self._create_fake_instance_obj({'node': 'someothernode'}) self.compute._instance_update(self.context, instance.uuid) instance = self._create_fake_instance_obj(params) self.compute._instance_update(self.context, instance.uuid) instance = self._create_fake_instance_obj( self._create_fake_instance_obj(params={'host': CONF.host}) self._create_fake_instance_obj(params={'host': CONF.host, self._create_fake_instance_obj( self._create_fake_instance_obj( self._create_fake_instance_obj({'host': self.compute.host}) self._create_fake_instance_obj({'host': self.compute.host}) self._create_fake_instance_obj({'host': self.compute.host}) instance = self._create_fake_instance_obj() exp_instance = self._create_fake_instance_obj() instance = self.compute_api.get(self.context, exp_instance.uuid, want_objects=True) self.assertEqual(exp_instance.id, instance.id) exp_instance = self._create_fake_instance_obj() instance = self.compute_api.get(c, exp_instance['uuid'], want_objects=True) self.assertEqual(exp_instance.id, instance.id) exp_instance = self._create_fake_instance_obj() instance = self.compute_api.get(self.context, exp_instance['id'], want_objects=True) self.assertEqual(exp_instance.id, instance.id) instance1 = self._create_fake_instance_obj({'display_name': 'woot'}) instance2 = self._create_fake_instance_obj({ instance3 = self._create_fake_instance_obj({ instance1 = self._create_fake_instance_obj({ 'info_cache': objects.InstanceInfoCache( network_info=fake_network_info('192.168.0.1'))}) instance2 = self._create_fake_instance_obj({ 'info_cache': objects.InstanceInfoCache( network_info=fake_network_info('192.168.0.2'))}) instance3 = self._create_fake_instance_obj({ 'info_cache': objects.InstanceInfoCache( network_info=fake_network_info('192.168.0.3'))}) instance1 = self._create_fake_instance_obj({'image_ref': '1234'}) instance2 = self._create_fake_instance_obj({'image_ref': '4567'}) instance3 = self._create_fake_instance_obj({'image_ref': '4567'}) instance1 = self._create_fake_instance_obj({'instance_type_id': 1}) instance2 = self._create_fake_instance_obj({'instance_type_id': 2}) instance3 = self._create_fake_instance_obj({'instance_type_id': 2}) instance1 = self._create_fake_instance_obj({ instance2 = self._create_fake_instance_obj({ instance3 = self._create_fake_instance_obj({ instance0 = self._create_fake_instance_obj() instance1 = self._create_fake_instance_obj({ instance2 = self._create_fake_instance_obj({ instance3 = self._create_fake_instance_obj({ instance4 = self._create_fake_instance_obj({ instance1 = self._create_fake_instance_obj({ self._create_fake_instance_obj({'metadata': {'key1': 'value1'}, self._create_fake_instance_obj({'metadata': {'key2': 'value2'}, instance = self._create_fake_instance_obj( {'vm_state': vm_states.BUILDING}) instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj({'image_ref': ''}) instance = self._create_fake_instance_obj({'root_device_name': 'vda'}) instance = self._create_fake_instance_obj() i_ref = self._create_fake_instance_obj() i_ref = self._create_fake_instance_obj() i_ref = self._create_fake_instance_obj() i_ref = self._create_fake_instance_obj() i_ref = self._create_fake_instance_obj() instance = self._create_fake_instance_obj(params=params) instance = self._create_fake_instance_obj(params={'host': ''}) instance = self._create_fake_instance_obj(params={'host': ''}) instance = self._create_fake_instance_obj(params={'host': ''}) instance = self._create_fake_instance_obj(params={'host': ''}) instance = self._create_fake_instance_obj(params={'host': ''}) instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance = self._create_fake_instance_obj() instance1 = self._create_fake_instance_obj() instance2 = self._create_fake_instance_obj() self.instance = self._create_fake_instance_obj()","from nova.objects import base as obj_base def _create_fake_instance(self, params=None, type_name='m1.tiny', services=False): """"""Create a test instance."""""" if not params: params = {} def make_fake_sys_meta(): sys_meta = params.pop(""system_metadata"", {}) inst_type = flavors.get_flavor_by_name(type_name) for key in flavors.system_metadata_flavor_props: sys_meta['instance_type_%s' % key] = inst_type[key] return sys_meta inst = {} inst['vm_state'] = vm_states.ACTIVE inst['task_state'] = None inst['image_ref'] = FAKE_IMAGE_REF inst['reservation_id'] = 'r-fakeres' inst['user_id'] = self.user_id inst['project_id'] = self.project_id inst['host'] = 'fake_host' inst['node'] = NODENAME type_id = flavors.get_flavor_by_name(type_name)['id'] inst['instance_type_id'] = type_id inst['ami_launch_index'] = 0 inst['memory_mb'] = 0 inst['vcpus'] = 0 inst['root_gb'] = 0 inst['ephemeral_gb'] = 0 inst['architecture'] = arch.X86_64 inst['os_type'] = 'Linux' inst['system_metadata'] = make_fake_sys_meta() inst['locked'] = False inst['created_at'] = timeutils.utcnow() inst['updated_at'] = timeutils.utcnow() inst['launched_at'] = timeutils.utcnow() inst['security_groups'] = [] inst.update(params) if services: _create_service_entries(self.context.elevated(), [['fake_zone', [inst['host']]]]) return db.instance_create(self.context, inst) db_inst = self._create_fake_instance(params, type_name=type_name, services=services) return objects.Instance._from_db_object( self.context, objects.Instance(), db_inst, expected_attrs=instance_obj.INSTANCE_DEFAULT_FIELDS) instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() self._create_fake_instance(params=params) self.context, self._create_fake_instance()) self.context, self._create_fake_instance(), bdms=bdms) instance = self._create_fake_instance() instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, instance_p = obj_base.obj_to_primitive(instance) self.compute.run_instance(self.context, instance_p, {}, {}, None, None, self.instance = objects.Instance._from_db_object(self.context, objects.Instance(), db.instance_get_by_uuid(self.admin_ctxt, self.instance['uuid'])) instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance({'host': 'someotherhost'}) self.compute._instance_update(self.context, instance['uuid']) instance = self._create_fake_instance({'node': 'someothernode'}) self.compute._instance_update(self.context, instance['uuid']) instance = self._create_fake_instance(params) self.compute._instance_update(self.context, instance['uuid']) instance = self._create_fake_instance( self._create_fake_instance(params={'host': CONF.host}) self._create_fake_instance(params={'host': CONF.host, self._create_fake_instance( self._create_fake_instance( self._create_fake_instance({'host': self.compute.host}) self._create_fake_instance({'host': self.compute.host}) self._create_fake_instance({'host': self.compute.host}) instance = self._create_fake_instance() exp_instance = self._create_fake_instance() # NOTE(danms): Transform the db object in a similar way as # the API method will do. expected = obj_base.obj_to_primitive( objects.Instance._from_db_object( self.context, objects.Instance(), exp_instance, instance_obj.INSTANCE_DEFAULT_FIELDS + ['fault'])) def fake_db_get(_context, _instance_uuid, columns_to_join=None, use_slave=False): return exp_instance self.stubs.Set(db, 'instance_get_by_uuid', fake_db_get) instance = self.compute_api.get(self.context, exp_instance['uuid']) self.assertEqual(unify_instance(expected), unify_instance(instance)) exp_instance = self._create_fake_instance() # NOTE(danms): Transform the db object in a similar way as # the API method will do. expected = obj_base.obj_to_primitive( objects.Instance._from_db_object( c, objects.Instance(), exp_instance, instance_obj.INSTANCE_DEFAULT_FIELDS + ['fault'])) def fake_db_get(context, instance_uuid, columns_to_join=None, use_slave=False): return exp_instance self.stubs.Set(db, 'instance_get_by_uuid', fake_db_get) instance = self.compute_api.get(c, exp_instance['uuid']) self.assertEqual(unify_instance(expected), unify_instance(instance)) exp_instance = self._create_fake_instance() # NOTE(danms): Transform the db object in a similar way as # the API method will do. expected = obj_base.obj_to_primitive( objects.Instance._from_db_object( self.context, objects.Instance(), exp_instance, instance_obj.INSTANCE_DEFAULT_FIELDS + ['fault'])) def fake_db_get(_context, _instance_id, columns_to_join=None): return exp_instance self.stubs.Set(db, 'instance_get', fake_db_get) instance = self.compute_api.get(self.context, exp_instance['id']) self.assertEqual(unify_instance(expected), unify_instance(instance)) instance1 = self._create_fake_instance({'display_name': 'woot'}) instance2 = self._create_fake_instance({ instance3 = self._create_fake_instance({ instance1 = self._create_fake_instance({ 'id': 1, 'info_cache': {'network_info': fake_network_info('192.168.0.1')}}) instance2 = self._create_fake_instance({ 'id': 20, 'info_cache': {'network_info': fake_network_info('192.168.0.2')}}) instance3 = self._create_fake_instance({ 'id': 30, 'info_cache': {'network_info': fake_network_info('192.168.0.3')}}) instance1 = self._create_fake_instance({'image_ref': '1234'}) instance2 = self._create_fake_instance({'image_ref': '4567'}) instance3 = self._create_fake_instance({'image_ref': '4567'}) instance1 = self._create_fake_instance({'instance_type_id': 1}) instance2 = self._create_fake_instance({'instance_type_id': 2}) instance3 = self._create_fake_instance({'instance_type_id': 2}) instance1 = self._create_fake_instance({ instance2 = self._create_fake_instance({ instance3 = self._create_fake_instance({ instance0 = self._create_fake_instance() instance1 = self._create_fake_instance({ instance2 = self._create_fake_instance({ instance3 = self._create_fake_instance({ instance4 = self._create_fake_instance({ instance1 = self._create_fake_instance({ self._create_fake_instance({'metadata': {'key1': 'value1'}, self._create_fake_instance({'metadata': {'key2': 'value2'}, instance = self._create_fake_instance({'vm_state': vm_states.BUILDING}) instance = dict(instance) instance = self._create_fake_instance() instance = self._create_fake_instance({'image_ref': ''}) instance = self._create_fake_instance({'root_device_name': 'vda'}) instance = self._create_fake_instance() i_ref = self._create_fake_instance() i_ref = self._create_fake_instance() i_ref = self._create_fake_instance() i_ref = self._create_fake_instance() i_ref = self._create_fake_instance() instance = self._create_fake_instance(params=params) instance = self._create_fake_instance(params={'host': ''}) instance = self._create_fake_instance(params={'host': ''}) instance = self._create_fake_instance(params={'host': ''}) instance = self._create_fake_instance(params={'host': ''}) instance = self._create_fake_instance(params={'host': ''}) instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance = self._create_fake_instance() instance1 = self._create_fake_instance() instance2 = self._create_fake_instance() self.instance = self._create_fake_instance()",250,366
openstack%2Fnova~master~Ieffec0e846565b7521fe620694d9f84c67066e11,openstack/nova,master,Ieffec0e846565b7521fe620694d9f84c67066e11,Make instance_get_all_*() funtions support the smart extra.$foo columns,MERGED,2014-12-12 03:02:56.000000000,2014-12-17 14:16:32.000000000,2014-12-17 14:16:29.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-12 03:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2238043839ca54b70c3fd9914b2f0a8c766674fe', 'message': 'Make instance_get_all_*() funtions support the smart extra.$foo columns\n\nThis is a follow-on to a previous patch set that made the extra columns\nvalid for being specified in columns_to_join, as they require slightly\ndifferent handling.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ieffec0e846565b7521fe620694d9f84c67066e11\n'}, {'number': 2, 'created': '2014-12-12 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/071c4a8018de8ccbf888671d5d08115b21797b64', 'message': 'Make instance_get_all_*() funtions support the smart extra.$foo columns\n\nThis is a follow-on to a previous patch set that made the extra columns\nvalid for being specified in columns_to_join, as they require slightly\ndifferent handling.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ieffec0e846565b7521fe620694d9f84c67066e11\n'}, {'number': 3, 'created': '2014-12-12 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bc68b528e84a10c601376b89f123090173ba6ef', 'message': 'Make instance_get_all_*() funtions support the smart extra.$foo columns\n\nThis is a follow-on to a previous patch set that made the extra columns\nvalid for being specified in columns_to_join, as they require slightly\ndifferent handling.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ieffec0e846565b7521fe620694d9f84c67066e11\n'}, {'number': 4, 'created': '2014-12-15 20:20:32.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc38ff0a18162beecb2ec0e4e7527c96032f59d0', 'message': 'Make instance_get_all_*() funtions support the smart extra.$foo columns\n\nThis is a follow-on to a previous patch set that made the extra columns\nvalid for being specified in columns_to_join, as they require slightly\ndifferent handling.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ieffec0e846565b7521fe620694d9f84c67066e11\n'}]",4,141254,fc38ff0a18162beecb2ec0e4e7527c96032f59d0,34,10,4,4393,,,0,"Make instance_get_all_*() funtions support the smart extra.$foo columns

This is a follow-on to a previous patch set that made the extra columns
valid for being specified in columns_to_join, as they require slightly
different handling.

Related to blueprint flavor-from-sysmeta-to-blob

Change-Id: Ieffec0e846565b7521fe620694d9f84c67066e11
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/141254/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,2238043839ca54b70c3fd9914b2f0a8c766674fe,bp/flavor-from-sysmeta-to-blob, if 'extra.' in column: query_prefix = query_prefix.options(undefer(column)) else: query_prefix = query_prefix.options(joinedload(column)) if 'extra.' in column: query = query.options(undefer(column)) else: query = query.options(joinedload(column)), query_prefix = query_prefix.options(joinedload(column)) query = query.options(joinedload(column)),8,2
openstack%2Fnova~master~Ib40b20a01991e6f356b9376f797405a4c50b7e99,openstack/nova,master,Ib40b20a01991e6f356b9376f797405a4c50b7e99,Add support for microversions API special version latest,MERGED,2014-11-26 05:21:06.000000000,2014-12-17 14:16:11.000000000,2014-12-17 14:16:07.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-11-26 05:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27b824a7efde2125975cef772e72c02ba5fc682b', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 2, 'created': '2014-11-26 14:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/347c6ad36ed10055e95be611f64af5d21506f25d', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 3, 'created': '2014-11-26 23:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd8091b32f5acd5796bec9534a64f5c5c0c46389', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 4, 'created': '2014-11-28 00:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52dc13ade88de9131b02f3221294355cab90fcab', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 5, 'created': '2014-11-28 04:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b27a26f4a9d92a0af71316e8b2298bc69bc18901', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 6, 'created': '2014-11-29 11:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eec0aebf972624fa1ed9dc5f5716f62d44d772d4', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 7, 'created': '2014-12-01 03:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a62a89d2a78b2a580d2761028916e82a9b8d5b63', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 8, 'created': '2014-12-01 23:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e94fc7d5b884c2c39595a638fdb738292fd51eb5', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 9, 'created': '2014-12-02 04:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45f97b4bf984505ccba71bcc09231d843d360b45', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 10, 'created': '2014-12-02 06:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2a6c9cd1090ef38983805d186df522098acc58', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 11, 'created': '2014-12-02 13:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/460f9dcaabdb360921c36bfe7b75af2504a47ba6', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 12, 'created': '2014-12-05 01:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26d0ce5d11cd2f56c8ebacc47923ebfd45ab618d', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 13, 'created': '2014-12-10 03:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d070b15a407b46f8f9f99757301873dbf4ba9d2a', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 14, 'created': '2014-12-10 07:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1b0aa2830f0a4c01fcf8c7209c35852bfc10d9d', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}, {'number': 15, 'created': '2014-12-17 03:01:16.000000000', 'files': ['nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/220738f6215c35128b2b5eeda73e0067f5b40918', 'message': ""Add support for microversions API special version latest\n\nAdds support for specifying 'latest' as the version of the API in\nthe X-OpenStack-Compute-API-Version header. This will always\nbehave as if a request was made for the maximum version\nsupported.\n\nPartially implements blueprint api-microversions\n\nChange-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99\n""}]",4,137274,220738f6215c35128b2b5eeda73e0067f5b40918,146,18,15,5292,,,0,"Add support for microversions API special version latest

Adds support for specifying 'latest' as the version of the API in
the X-OpenStack-Compute-API-Version header. This will always
behave as if a request was made for the maximum version
supported.

Partially implements blueprint api-microversions

Change-Id: Ib40b20a01991e6f356b9376f797405a4c50b7e99
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/137274/15 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/test_wsgi.py']",2,27b824a7efde2125975cef772e72c02ba5fc682b,bp/api-microversions," @mock.patch(""nova.api.openstack.api_version_request.max_api_version"") def test_api_version_request_header_latest(self, mock_maxver): mock_maxver.return_value = api_version.APIVersionRequest(""3.5"") request = wsgi.Request.blank('/') request.headers = {'X-OpenStack-Compute-API-Version': 'latest'} request.set_api_version_request() self.assertEqual(api_version.APIVersionRequest(""3.5""), request.api_version_request) ",,18,2
openstack%2Fnova~master~I5748d7b81b355bf8aad6bb8703d1a29a97798452,openstack/nova,master,I5748d7b81b355bf8aad6bb8703d1a29a97798452,Adds API microversion response headers,MERGED,2014-11-25 12:07:14.000000000,2014-12-17 14:15:49.000000000,2014-12-17 14:15:46.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}, {'_account_id': 13663}]","[{'number': 1, 'created': '2014-11-25 12:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11107f6cbd90c13fd6fdeadf74475c890abf07be', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 2, 'created': '2014-11-26 04:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a123182d18e31fefbbe6cd74468fa31facd8454', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 3, 'created': '2014-11-26 14:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19cb26f6d36422b25a743b0e82828b91a7770323', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 4, 'created': '2014-11-26 23:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e97f4f74ca300cb8d506927ad3d05a0ecc61b3a', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 5, 'created': '2014-11-28 00:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fb7bd75536e2a44bd7d4835dd7405d79b3ed14b', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 6, 'created': '2014-11-28 04:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ca5e274b840472bc49e7eb35983f172514e528e', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 7, 'created': '2014-11-29 11:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d727070203028df2b387dc3a11e69b6eed91cee', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 8, 'created': '2014-12-01 03:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/678d39c4e332ac58a27cca605700ae18dccc28b7', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 9, 'created': '2014-12-01 23:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aff1d57eabe2e59319ad5e68bac58baf4677e74', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 10, 'created': '2014-12-02 04:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1cc8da5ffe162e1078e4513da4caac84f9632ba', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 11, 'created': '2014-12-02 06:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e28b54a141f536e8fa459010792b419b855d5181', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 12, 'created': '2014-12-02 13:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1308bd2487ee7257ad4d5d7e930a9fcf9affe3ba', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 13, 'created': '2014-12-05 01:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54048a82038317341c0d22a9c1a7e1e011bc41b1', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 14, 'created': '2014-12-10 03:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0cb9904beaf85c4e1ec48f4d905e29da22106ff', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 15, 'created': '2014-12-10 07:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e84f9ae287751ffde003b530724a15232b3c218', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}, {'number': 16, 'created': '2014-12-17 03:01:16.000000000', 'files': ['nova/api/openstack/wsgi.py', 'nova/api/openstack/__init__.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/api/openstack/compute/test_plugins/microversions.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a290cdb7cfbbbc5999247b15062501326c2d4d99', 'message': 'Adds API microversion response headers\n\nAdds the following headers to REST API headers for API\nmicroversions:\n\nX-OpenStack-Compute-API-Version: Version\nVary: X-OpenStack-Compute-API-Version\n\nPartially implements blueprint api-microversions\n\nChange-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452\n'}]",5,137032,a290cdb7cfbbbc5999247b15062501326c2d4d99,139,18,16,5292,,,0,"Adds API microversion response headers

Adds the following headers to REST API headers for API
microversions:

X-OpenStack-Compute-API-Version: Version
Vary: X-OpenStack-Compute-API-Version

Partially implements blueprint api-microversions

Change-Id: I5748d7b81b355bf8aad6bb8703d1a29a97798452
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/137032/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi.py', 'nova/api/openstack/__init__.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/api/openstack/compute/test_plugins/microversions.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/test_wsgi.py']",6,11107f6cbd90c13fd6fdeadf74475c890abf07be,bp/api-microversions, app = fakes.TestRouterV21(Controller()) app = fakes.TestRouterV21(Controller()) app = fakes.TestRouterV21(Controller()), app = fakes.TestRouter(Controller()) app = fakes.TestRouter(Controller()) app = fakes.TestRouter(Controller()),102,21
openstack%2Fheat~master~Ie6b4481417204a527d322fd532c341b9acbce473,openstack/heat,master,Ie6b4481417204a527d322fd532c341b9acbce473,"Add ""parameter_defaults"" to the environment",MERGED,2014-10-28 04:11:55.000000000,2014-12-17 14:15:35.000000000,2014-12-17 14:15:34.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 8289}, {'_account_id': 13009}]","[{'number': 1, 'created': '2014-10-28 04:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e28890aecf93f51fb2ae304ccf3fe5aac66a6c2', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\n\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 2, 'created': '2014-10-31 08:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/68a470e5eb9b9c5b119de6c6ea47e3a6062e08d9', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\n\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 3, 'created': '2014-11-13 02:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c3b06f507349f94e7eecd93b4c3505c73994314f', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\n\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 4, 'created': '2014-11-20 22:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/936863cb6a8eeea867fd4c1a7a76239a40b89928', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 5, 'created': '2014-11-21 04:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1a4f0b235891954aa8aea6c8bb8c3e3cea58d84e', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 6, 'created': '2014-11-24 02:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4f4b9b9edf54c10a2a0958e59f7bb59852a7fe6f', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 7, 'created': '2014-12-11 11:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ef884dc7dc74634892d1c90577ef7693dcb87038', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}, {'number': 8, 'created': '2014-12-14 23:45:15.000000000', 'files': ['heat/engine/resources/remote_stack.py', 'heat/tests/test_environment_format.py', 'heat_integrationtests/functional/test_default_parameters.py', 'heat/tests/test_environment.py', 'heat/engine/environment.py', 'heat/tests/test_parameters.py', 'heat/engine/template.py', 'heat/common/environment_format.py', 'heat_integrationtests/common/test.py', 'heat/engine/hot/template.py', 'heat/tests/test_api_openstack_v1.py', 'doc/source/template_guide/environment.rst', 'heat/engine/resources/template_resource.py', 'heat/tests/test_stack_resource.py', 'heat/tests/test_remote_stack.py', 'heat/tests/test_engine_service.py', 'heat/engine/parameter_groups.py', 'heat/engine/cfn/template.py', 'heat/engine/parameters.py', 'heat/engine/stack_resource.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/08431c7c0601f64e6f0477dd502bf912eba8529b', 'message': 'Add ""parameter_defaults"" to the environment\n\nThis give the user a way to set defaults recursively down nested stacks\nwithout having to create the parameter in every template (it\'s ignored\nif the template does not have the parameter).\n\nblueprint env-nested-usability\nChange-Id: Ie6b4481417204a527d322fd532c341b9acbce473\n'}]",0,131337,08431c7c0601f64e6f0477dd502bf912eba8529b,51,7,8,4715,,,0,"Add ""parameter_defaults"" to the environment

This give the user a way to set defaults recursively down nested stacks
without having to create the parameter in every template (it's ignored
if the template does not have the parameter).

blueprint env-nested-usability
Change-Id: Ie6b4481417204a527d322fd532c341b9acbce473
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/131337/8 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_environment_format.py', 'heat/tests/test_environment.py', 'heat/engine/environment.py', 'heat/engine/template.py', 'heat/common/environment_format.py', 'heat/engine/hot/template.py', 'heat/tests/test_api_openstack_v1.py', 'heat/engine/parameter_groups.py', 'heat/engine/cfn/template.py', 'heat/engine/parameters.py', 'heat/engine/stack_resource.py', 'heat/engine/stack.py']",12,6e28890aecf93f51fb2ae304ccf3fe5aac66a6c2,bp/env-nested-usability," self.parameters = self.t.parameters( self.identifier(), user_params=self.env.params, param_defaults=self.env.param_defaults)"," self.parameters = self.t.parameters(self.identifier(), user_params=self.env.params)",61,14
openstack%2Fheat~master~I2627214cf7c9ebfffde9e715a69ef302b019d1c3,openstack/heat,master,I2627214cf7c9ebfffde9e715a69ef302b019d1c3,Updated from global requirements,MERGED,2014-12-12 22:14:30.000000000,2014-12-17 14:15:25.000000000,2014-12-17 14:15:24.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-12-12 22:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2a802851ad9d50ed260c19405d7acf161f0a6920', 'message': 'Updated from global requirements\n\nChange-Id: I2627214cf7c9ebfffde9e715a69ef302b019d1c3\n'}, {'number': 2, 'created': '2014-12-16 19:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/200bc5519356dd93dffc8aab28964d1bd798d9c9', 'message': 'Updated from global requirements\n\nChange-Id: I2627214cf7c9ebfffde9e715a69ef302b019d1c3\n'}, {'number': 3, 'created': '2014-12-17 04:05:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/1e2cc4387cb7ab58bb6c33d141d658effbdb5812', 'message': 'Updated from global requirements\n\nChange-Id: I2627214cf7c9ebfffde9e715a69ef302b019d1c3\n'}]",0,141504,1e2cc4387cb7ab58bb6c33d141d658effbdb5812,17,4,3,11131,,,0,"Updated from global requirements

Change-Id: I2627214cf7c9ebfffde9e715a69ef302b019d1c3
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/141504/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2a802851ad9d50ed260c19405d7acf161f0a6920,openstack/requirements,python-glanceclient>=0.15.0,python-glanceclient>=0.14.0,1,1
openstack%2Fnova~master~I3e5e88450c4b89c8c6153cff61a03311fd88f430,openstack/nova,master,I3e5e88450c4b89c8c6153cff61a03311fd88f430,add hacking check for deprecated oslo libraries,ABANDONED,2014-12-11 18:11:23.000000000,2014-12-17 14:11:39.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-11 18:11:23.000000000', 'files': ['nova/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cb72a9e3c4bc3494ddafd00f963ff8c6ea758cf', 'message': 'add hacking check for deprecated oslo libraries\n\nAs oslo libraries are changing their name to address namespacing\nissues with python 2.7 we should prevent the import of the old name\n(which will create deprecation log messages for our users).\n\nChange-Id: I3e5e88450c4b89c8c6153cff61a03311fd88f430\n'}]",1,141118,7cb72a9e3c4bc3494ddafd00f963ff8c6ea758cf,11,9,1,2750,,,0,"add hacking check for deprecated oslo libraries

As oslo libraries are changing their name to address namespacing
issues with python 2.7 we should prevent the import of the old name
(which will create deprecation log messages for our users).

Change-Id: I3e5e88450c4b89c8c6153cff61a03311fd88f430
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/141118/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/hacking/checks.py'],1,7cb72a9e3c4bc3494ddafd00f963ff8c6ea758cf,oslo_deprecations,"# As we increase library minimums to use non namespaced oslo # libraries, add those to the list below. OSLO_NON_NAMESPACED = (""concurrency"",) oslo_deprecated = re.compile('(from|import) oslo\.(%s)' % ""|"".join(OSLO_NON_NAMESPACED))def check_oslo_deprecations(logical_line): msg = (""N333: the oslo import uses the deprecated name"") if re.match(oslo_deprecated, logical_line): yield(0, msg) register(check_oslo_deprecations)",,12,0
openstack%2Ffuel-main~stable%2F6.0~I2b8fa6adde4cfc06b97f0bbba537be7afef393d4,openstack/fuel-main,stable/6.0,I2b8fa6adde4cfc06b97f0bbba537be7afef393d4,Add test on node deletion from old cluster after upgrade,MERGED,2014-12-15 08:38:48.000000000,2014-12-17 13:37:49.000000000,2014-12-15 10:16:01.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-15 08:38:48.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ff80efcc83ad94c345c5c46002451cfb35230f5f', 'message': 'Add test on node deletion from old cluster\nafter upgrade\n\nChange-Id: I2b8fa6adde4cfc06b97f0bbba537be7afef393d4\nCloses-Bug: #1396571\n(cherry picked from commit c4df7e067ed8a2804b2cd30327f231efeb71ef9d)\n'}]",2,141742,ff80efcc83ad94c345c5c46002451cfb35230f5f,11,6,1,10136,,,0,"Add test on node deletion from old cluster
after upgrade

Change-Id: I2b8fa6adde4cfc06b97f0bbba537be7afef393d4
Closes-Bug: #1396571
(cherry picked from commit c4df7e067ed8a2804b2cd30327f231efeb71ef9d)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/42/141742/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,ff80efcc83ad94c345c5c46002451cfb35230f5f,,"from devops.helpers.helpers import wait @test(groups=[""upgrade_simple_delete_node""]) @log_snapshot_on_error def upgrade_simple_delete_node(self): """"""Upgrade simple deployed cluster with ceph and delete node from old cluster Scenario: 1. Revert snapshot with simple ceph env 2. Run upgrade on master 3. Check that upgrade was successful 4. Delete one compute+ceph node 5. Re-deploy cluster 6. Run OSTF """""" if not self.env.get_virtual_environment().has_snapshot( 'ceph_multinode_compact'): raise SkipTest() self.env.revert_snapshot(""ceph_multinode_compact"") cluster_id = self.fuel_web.get_last_created_cluster() checkers.upload_tarball(self.env.get_admin_remote(), hlp_data.TARBALL_PATH, '/var') checkers.check_tarball_exists(self.env.get_admin_remote(), os.path.basename(hlp_data. TARBALL_PATH), '/var') checkers.untar(self.env.get_admin_remote(), os.path.basename(hlp_data. TARBALL_PATH), '/var') checkers.run_script(self.env.get_admin_remote(), '/var', 'upgrade.sh', password= hlp_data.KEYSTONE_CREDS['password']) checkers.wait_upgrade_is_done(self.env.get_admin_remote(), 3000, phrase='*** UPGRADE DONE SUCCESSFULLY') checkers.check_upgraded_containers(self.env.get_admin_remote(), hlp_data.UPGRADE_FUEL_FROM, hlp_data.UPGRADE_FUEL_TO) self.fuel_web.assert_nodes_in_ready_state(cluster_id) self.fuel_web.assert_fuel_version(hlp_data.UPGRADE_FUEL_TO) self.fuel_web.assert_nailgun_upgrade_migration() nailgun_nodes = self.fuel_web.update_nodes( cluster_id, {'slave-03': ['compute', 'ceph-osd']}, False, True) task = self.fuel_web.deploy_cluster(cluster_id) self.fuel_web.assert_task_success(task) nodes = filter(lambda x: x[""pending_deletion""] is True, nailgun_nodes) wait( lambda: self.fuel_web.is_node_discovered(nodes[0]), timeout=10 * 60 ) self.fuel_web.run_ostf(cluster_id=cluster_id, should_fail=1) self.env.make_snapshot(""upgrade_simple_delete_node"") ",,55,0
openstack%2Fnova~master~If2e5b509df2a32464d040cd79b29368b60513cff,openstack/nova,master,If2e5b509df2a32464d040cd79b29368b60513cff,libvirt: enhance to return avail free pages on cells,MERGED,2014-10-13 14:51:38.000000000,2014-12-17 13:32:51.000000000,2014-12-17 10:16:41.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2835}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-10-13 14:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f9109eebf33f593167befdb5f7eda7feb2d264f', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 2, 'created': '2014-10-14 08:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa2f32e90fcd565cfb8d9c204e3b5f7eecd26e14', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 3, 'created': '2014-10-14 15:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07f755d7775783eb4bf873f850013faa8d2b8f3e', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 4, 'created': '2014-10-14 15:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b84f566da8ea63bc1e1eb69a57cf2caa83ae9d15', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 5, 'created': '2014-10-15 16:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ed2a654af478c39b50f650c776a08c54d9f4e2b', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 6, 'created': '2014-10-16 11:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/327e8197702aaee714e57282dd9fceef37764ac6', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 7, 'created': '2014-10-20 12:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/318c21f5e277b72961caaee682eb14bc589a49f0', 'message': ""libvirt: enhance libvirt driver to update pages usages\n\nIntroduces a new method '_refresh_numa_pages_usages' which\nupdate objects virtNUMAPagesInfo with the current pages usages\nof cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 8, 'created': '2014-10-20 12:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c76b5046860ab17d44d7562886365b99f1cfe0a', 'message': ""virt: enhance drivers to return avail free pages on cells\n\nIntroduces a new method 'get_free_pages' which returns the available\nmemory pages per cells on the host.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 9, 'created': '2014-10-20 17:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb79d531091035f14edcd2170e7b06532dda60ae', 'message': ""virt: enhance drivers to return avail free pages on cells\n\nIntroduces a new method 'get_free_pages' which returns the available\nmemory pages per cells on the host.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 10, 'created': '2014-10-21 08:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d4d9578beaef728cc202e52414889d1b0f3b2bd', 'message': ""virt: enhance drivers to return avail free pages on cells\n\nIntroduces a new method 'get_free_pages' which returns the available\nmemory pages per cells on the host.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 11, 'created': '2014-10-22 09:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9d293238f3a341d4d0cd8e5a0dd5cd9ce19820e', 'message': ""virt: enhance drivers to return avail free pages on cells\n\nIntroduces a new method 'get_free_pages' which returns the available\nmemory pages per cells on the host.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n""}, {'number': 12, 'created': '2014-10-24 10:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21e9638b2d2526e66a262aea50af9117a142e89f', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 13, 'created': '2014-10-24 12:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/967e1ae52e2e49f688187d9458ba271533c69cb4', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 14, 'created': '2014-10-27 17:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc5f2700f6ac56b9ce3ad3f30e53539a2658c112', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 15, 'created': '2014-10-28 08:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/247fa74fdefe443659b266c1c62708d1460c51c6', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 16, 'created': '2014-10-28 13:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e66cb497f837520a4d2efa3d106baff4517d8be', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 17, 'created': '2014-10-28 15:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2268a3cf47a97ac4cb3574c3e3814adc3992c3c', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 18, 'created': '2014-10-29 14:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fb070f2c53967c474531099eef16c60b10d42d0', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 19, 'created': '2014-10-29 15:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15b09fa71bccfd4c434615a236ab2e5b7e8ad2b6', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 20, 'created': '2014-10-29 16:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8a39b956641e490447c6c00f8405052fe029239', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 21, 'created': '2014-10-29 22:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/870fc11be923c79722c95c5d88d4621dc2b0c95f', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 22, 'created': '2014-10-30 08:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1538210fb67a8663626589bfba86e8b892593b68', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 23, 'created': '2014-10-30 12:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd36a5bbeddcbfa7cfef811977d0e161f9df1035', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 24, 'created': '2014-11-05 08:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a5e9ae0690a32e555b69a34bcd434dca0f8f594', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 25, 'created': '2014-11-12 14:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85ce197d3700ca975a884c073f3ae4e4e2a656cf', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 26, 'created': '2014-11-13 17:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c46155aaf568203fbae012f55a1e9a262d6231e', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 27, 'created': '2014-11-14 08:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d53ffb2dc76a54ec07929e0e96e7f12b67bcb2c', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 28, 'created': '2014-11-14 16:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42145758e06b4116a475d8014969fd0c86646433', 'message': 'hardware: enhance cells to return avail free pages on cells\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nPartial-Implement: blueprint virt-driver-large-pages\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\n'}, {'number': 29, 'created': '2014-12-03 10:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e7f150709aacc8e2a165e7cde754826bb92239f', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 30, 'created': '2014-12-03 10:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a87bac6bea586160f3d80d9f9866b405c6b191ff', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 31, 'created': '2014-12-04 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b84812cc120ba0215e3d016992e949ce02f4fef', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 32, 'created': '2014-12-05 08:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e042b504e8ccd076fad00429cad17437c56c73b7', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 33, 'created': '2014-12-08 17:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9977b0880e6e86a8547e1ed8df79f4dfe54e375', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 34, 'created': '2014-12-09 08:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21feea1d95b3059f4db319129ce75125f6a27bf9', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 35, 'created': '2014-12-09 12:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0826123390f4637ae1d3a5f237c90b387f219956', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 36, 'created': '2014-12-10 13:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84de6b7f0c98e8790da4172c9887b864261aea69', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 37, 'created': '2014-12-10 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d3b580a5fcf838738db4202a237dcd5580b8905', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 38, 'created': '2014-12-10 15:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4888e90673d663f3e80439d0ff3bfdef8e54ac08', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 39, 'created': '2014-12-10 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fcfc675aa04ef2760f0e763697c73b6d90a4fca', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 40, 'created': '2014-12-13 09:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b130edd1479a78dce73594c8d7c5dedb9b6f4e3', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 41, 'created': '2014-12-13 10:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce4b9ab6a5eaae45c7ce1544bad4f16cfd0c9162', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 42, 'created': '2014-12-14 13:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cb679e4c91deefa1b4202bd40f3be82f8810c45', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 43, 'created': '2014-12-15 11:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e50b0588d2672bd7a12e2c81a9b4edb86f2c9607', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}, {'number': 44, 'created': '2014-12-16 11:58:25.000000000', 'files': ['nova/tests/unit/compute/test_claims.py', 'nova/virt/libvirt/driver.py', 'nova/objects/numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/objects/instance_numa_topology.py', 'nova/tests/unit/scheduler/fakes.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eff1f940fe42dc96ba6a9ff8140227b62f20a21d', 'message': 'libvirt: enhance to return avail free pages on cells\n\nUpdate driver libvirt to return avail free pages memory\non numa cells.\n\nWork-Item: Enhance libvirt driver to report available\n           large pages per NUMA node in the host state data\n\nChange-Id: If2e5b509df2a32464d040cd79b29368b60513cff\nPartial-Implement: blueprint virt-driver-large-pages\n'}]",29,127983,eff1f940fe42dc96ba6a9ff8140227b62f20a21d,280,16,44,7730,,,0,"libvirt: enhance to return avail free pages on cells

Update driver libvirt to return avail free pages memory
on numa cells.

Work-Item: Enhance libvirt driver to report available
           large pages per NUMA node in the host state data

Change-Id: If2e5b509df2a32464d040cd79b29368b60513cff
Partial-Implement: blueprint virt-driver-large-pages
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/127983/42 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,8f9109eebf33f593167befdb5f7eda7feb2d264f,bp/virt-driver-large-pages," conn._conn.getFreePages = mock.MagicMock(return_value={ 0: {4: 298376, 2048: 0}, 1: {4: 938462, 2048: 0} }) conn._conn.getFreePages = mock.MagicMock(return_value={ 0: {4: 298376, 2048: 0}, 1: {4: 938462, 2048: 0} }) conn._conn.getFreePages = mock.MagicMock(return_value={ 0: {4: 298376, 2048: 0}, 1: {4: 938462, 2048: 0} }) def test_refresh_numa_pages_usage(self): conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) conn._conn.getFreePages = mock.MagicMock(return_value={ 0: {4: 0, 2048: 0}, 1: {4: 100, 2048: 5} }) p0_4 = hardware.VirtNUMAPagesInfo(4, 100) p0_2048 = hardware.VirtNUMAPagesInfo(2048, 0) p1_4 = hardware.VirtNUMAPagesInfo(4, 200) p1_2048 = hardware.VirtNUMAPagesInfo(2048, 10) cells = [ hardware.VirtNUMATopologyCell( 0, set([1, 2]), 1024, set([p0_4, p0_2048])), hardware.VirtNUMATopologyCell( 1, set([3, 4]), 1024, set([p1_4, p1_2048]))] conn._refresh_numa_pages_usage(cells) self.assertEqual(100, p0_4.used) self.assertEqual(0, p0_2048.used) self.assertEqual(100, p1_4.used) self.assertEqual(5, p1_2048.used) conn._conn.getFreePages = mock.MagicMock(return_value={ 0: {4: 298376, 2048: 0}, 1: {4: 938462, 2048: 0} })",,60,0
openstack%2Frally~master~I7d8a4333fc7f613aea89e8f930ee6bd65daf6228,openstack/rally,master,I7d8a4333fc7f613aea89e8f930ee6bd65daf6228,Fail test to make sure job works properly,ABANDONED,2014-11-25 12:58:27.000000000,2014-12-17 13:17:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 14135}]","[{'number': 1, 'created': '2014-11-25 12:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1c0c7b00bbe6f286920c53a313a26bb06fa69dfc', 'message': 'Fail test to make sure job works properly\n\nDo not merge\n\nChange-Id: I7d8a4333fc7f613aea89e8f930ee6bd65daf6228\n'}, {'number': 2, 'created': '2014-12-16 15:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/099f781852fc6b2dc768afd2f28a3ce8aa393f20', 'message': 'Fail test to make sure job works properly\n\nDo not merge\n\nChange-Id: I7d8a4333fc7f613aea89e8f930ee6bd65daf6228\n'}, {'number': 3, 'created': '2014-12-16 15:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9b82f8dc1463b5f299d976558ece6eafc11f9642', 'message': 'Fail test to make sure job works properly\n\nDo not merge\n\nChange-Id: I7d8a4333fc7f613aea89e8f930ee6bd65daf6228\n'}, {'number': 4, 'created': '2014-12-16 15:56:49.000000000', 'files': ['tests/functional/utils.py', 'tests/functional/test_cli_deployment.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3176ff63cd01e2319abcd97c7060b16b0d984065', 'message': 'Fail test to make sure job works properly\n\nDo not merge\n\nChange-Id: I7d8a4333fc7f613aea89e8f930ee6bd65daf6228\n'}]",0,137044,3176ff63cd01e2319abcd97c7060b16b0d984065,81,3,4,7369,,,0,"Fail test to make sure job works properly

Do not merge

Change-Id: I7d8a4333fc7f613aea89e8f930ee6bd65daf6228
",git fetch https://review.opendev.org/openstack/rally refs/changes/44/137044/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/test_cli_deployment.py'],1,1c0c7b00bbe6f286920c53a313a26bb06fa69dfc,fail_test_2," self.fail(""test"")",,1,0
openstack%2Fglance~master~I72dbead3cb2dcb87f52658ddb880e26880cc229b,openstack/glance,master,I72dbead3cb2dcb87f52658ddb880e26880cc229b,To prevent client use v2 patch api to handle file and swift location,MERGED,2014-12-15 04:34:59.000000000,2014-12-17 13:12:09.000000000,2014-12-17 11:29:51.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 5202}, {'_account_id': 6549}, {'_account_id': 7473}, {'_account_id': 8127}, {'_account_id': 8158}, {'_account_id': 9311}]","[{'number': 1, 'created': '2014-12-15 04:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4a1dc13b97bb63c04896cecd616a7187e95abc58', 'message': 'To prevent client use v2 patch api to handle file and swift location\n\nThe change will be used to restrict client to download and delete any\nfile in glance-api server. The same resone and logic as what we did in\nv1:\nhttps://github.com/openstack/glance/blob/master/glance/api/v1/images.py#L429\n\nCloses-Bug: bug/1400966\nDocImpact\n\nNote: Even this change could fully resolve the problem for Glance, but\nwe still need to fix this issue from glance_store perspective\nseparatelly due to other projects can use the lib directly.\n\nChange-Id: I72dbead3cb2dcb87f52658ddb880e26880cc229b\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>'}, {'number': 2, 'created': '2014-12-15 05:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f672f95ce391a6ad6ef63efe6928b89527a620e5', 'message': 'To prevent client use v2 patch api to handle file and swift location\n\nThe change will be used to restrict client to download and delete any\nfile in glance-api server. The same resone and logic as what we did in\nv1:\nhttps://github.com/openstack/glance/blob/master/glance/api/v1/images.py#L429\n\nCloses-Bug: bug/1400966\nDocImpact\n\nNote: Even this change could fully resolve the problem for Glance, but\nwe still need to fix this issue from glance_store perspective\nseparatelly due to other projects can use the lib directly.\n\nChange-Id: I72dbead3cb2dcb87f52658ddb880e26880cc229b\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}, {'number': 3, 'created': '2014-12-15 06:27:17.000000000', 'files': ['glance/location.py', 'glance/tests/functional/v1/test_copy_to_file.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/test_store_location.py', 'glance/tests/unit/utils.py', 'glance/tests/unit/v1/test_api.py', 'glance/api/v1/images.py', 'glance/common/store_utils.py', 'glance/tests/unit/test_store_image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4afdb017aa1ccef01482f117cb8d0736a6da38ed', 'message': 'To prevent client use v2 patch api to handle file and swift location\n\nThe change will be used to restrict client to download and delete any\nfile in glance-api server. The same resone and logic as what we did in\nv1:\nhttps://github.com/openstack/glance/blob/master/glance/api/v1/images.py#L429\n\nCloses-Bug: bug/1400966\nDocImpact\n\nNote: Even this change could fully resolve the problem for Glance, but\nwe still need to fix this issue from glance_store perspective\nseparatelly due to other projects can use the lib directly.\n\nChange-Id: I72dbead3cb2dcb87f52658ddb880e26880cc229b\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}]",5,141706,4afdb017aa1ccef01482f117cb8d0736a6da38ed,28,8,3,6549,,,0,"To prevent client use v2 patch api to handle file and swift location

The change will be used to restrict client to download and delete any
file in glance-api server. The same resone and logic as what we did in
v1:
https://github.com/openstack/glance/blob/master/glance/api/v1/images.py#L429

Closes-Bug: bug/1400966
DocImpact

Note: Even this change could fully resolve the problem for Glance, but
we still need to fix this issue from glance_store perspective
separatelly due to other projects can use the lib directly.

Change-Id: I72dbead3cb2dcb87f52658ddb880e26880cc229b
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/06/141706/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/location.py', 'glance/tests/functional/v1/test_copy_to_file.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/test_store_location.py', 'glance/tests/unit/utils.py', 'glance/tests/unit/v1/test_api.py', 'glance/api/v1/images.py', 'glance/common/store_utils.py']",8,4a1dc13b97bb63c04896cecd616a7187e95abc58,,"import six.moves.urllib.parse as urlparse def validate_external_location(uri): """""" Validate if URI of external location are supported. Only over non-local store types are OK, i.e. S3, Swift, HTTP. Note the absence of 'file://' for security reasons, see LP bug #942118, 1400966, 'swift+config://' is also absent for security reasons, see LP bug #1334196. :param uri: The URI of external image location. :return: Whether given URI of external image location are OK. """""" # TODO(zhiyan): This function could be moved to glance_store. pieces = urlparse.urlparse(uri) valid_schemes = [scheme for scheme in store_api.get_known_schemes() if scheme != 'file' and scheme != 'swift+config'] return pieces.scheme in valid_schemes",,219,130
openstack%2Fpython-magnumclient~master~Ie7ea6227c8c090b8f86fe246506676337319cf9c,openstack/python-magnumclient,master,Ie7ea6227c8c090b8f86fe246506676337319cf9c,Implement pod client CLI,MERGED,2014-12-17 09:20:30.000000000,2014-12-17 13:08:16.000000000,2014-12-17 13:08:15.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 09:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/d5305c7f24a44cc565efaa54e5e11f2a7d1ee13d', 'message': 'Implement pod client CLI\n\nChange-Id: Ie7ea6227c8c090b8f86fe246506676337319cf9c\nImplements-bluerpint: magnum-backend-kubernetes\n'}, {'number': 2, 'created': '2014-12-17 09:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/10f8b6347a00f65f72b5aef094a054e9db0d9c17', 'message': 'Implement pod client CLI\n\nChange-Id: Ie7ea6227c8c090b8f86fe246506676337319cf9c\nImplements-bluerpint: magnum-backend-kubernetes\n'}, {'number': 3, 'created': '2014-12-17 09:53:09.000000000', 'files': ['magnumclient/api/shell.py', 'magnumclient/api/pods.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/fdf75c18d338dc62da69da95bccd4306de25735d', 'message': 'Implement pod client CLI\n\nChange-Id: Ie7ea6227c8c090b8f86fe246506676337319cf9c\nImplements-bluerpint: magnum-backend-kubernetes\n'}]",0,142389,fdf75c18d338dc62da69da95bccd4306de25735d,9,2,3,2834,,,0,"Implement pod client CLI

Change-Id: Ie7ea6227c8c090b8f86fe246506676337319cf9c
Implements-bluerpint: magnum-backend-kubernetes
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/89/142389/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/api/shell.py', 'magnumclient/api/pods.py']",2,d5305c7f24a44cc565efaa54e5e11f2a7d1ee13d,,"CREATION_ATTRIBUTES = ['name'] def list(self, limit=None, marker=None, sort_key=None, sort_dir=None, detail=False): """"""Retrieve a list of port. :param marker: Optional, the UUID of a port, eg the last port from a previous result set. Return return self._list(self._path(path), ""pods"") else: return self._list_pagination(self._path(path), ""pods"",","# FIXME: Modify correct attributes. CREATION_ATTRIBUTES = ['name', 'description'] def list(self, marker=None, limit=None, sort_key=None, sort_dir=None, detail=False): """"""Retrieve a list of pods. :param marker: Optional, the UUID of a pods, eg the last pods from a previous result set. Return # TODO(yuanying): if endpoint returns ""map"", # change None to response_key return self._list(self._path(path), None) else: # TODO(yuanying): if endpoint returns ""map"", # change None to response_key return self._list_pagination(self._path(path), None,",33,14
openstack%2Fpython-magnumclient~master~Ifa3a44371b5c2f580c0bcdcf03bc96edda23cd3c,openstack/python-magnumclient,master,Ifa3a44371b5c2f580c0bcdcf03bc96edda23cd3c,Make bay-create operate again as a result of baymodel,MERGED,2014-12-17 06:33:41.000000000,2014-12-17 13:08:10.000000000,2014-12-17 13:08:09.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 06:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/5ff8c505bc4ffa769e306fe709f25551c3b8ef26', 'message': 'Make bay-create operate again as a result of baymodel\n\nChange-Id: Ifa3a44371b5c2f580c0bcdcf03bc96edda23cd3c\n'}, {'number': 2, 'created': '2014-12-17 07:41:36.000000000', 'files': ['magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/29d8c60fb1aebb503667e3cd9a510e4d72a1578d', 'message': 'Make bay-create operate again as a result of baymodel\n\nChange-Id: Ifa3a44371b5c2f580c0bcdcf03bc96edda23cd3c\n'}]",0,142367,29d8c60fb1aebb503667e3cd9a510e4d72a1578d,8,2,2,2834,,,0,"Make bay-create operate again as a result of baymodel

Change-Id: Ifa3a44371b5c2f580c0bcdcf03bc96edda23cd3c
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/67/142367/2 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/api/shell.py'],1,5ff8c505bc4ffa769e306fe709f25551c3b8ef26,, del bay._info['links']," del baymodel._info['links']@utils.arg('--baymodel_id', metavar='<baymodel_id>', help='The ID or name of the bay model.') opts['baymodel_id'] = args.type",1,5
openstack%2Fpython-magnumclient~master~I70a0aaa4efe01e3359c402db355fde6dac045dd8,openstack/python-magnumclient,master,I70a0aaa4efe01e3359c402db355fde6dac045dd8,Make bay create work with new bay model structure,MERGED,2014-12-17 06:23:06.000000000,2014-12-17 13:08:04.000000000,2014-12-17 13:08:04.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 06:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0d8afc8aac6da14078928048a3a559a2af358d60', 'message': 'Make bay create work with new bay model structure\n\nChange-Id: I70a0aaa4efe01e3359c402db355fde6dac045dd8\n'}, {'number': 2, 'created': '2014-12-17 07:41:36.000000000', 'files': ['magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/368925e161a562adc2f28e172eeb5dd39c7b9725', 'message': 'Make bay create work with new bay model structure\n\nChange-Id: I70a0aaa4efe01e3359c402db355fde6dac045dd8\n'}]",0,142365,368925e161a562adc2f28e172eeb5dd39c7b9725,8,2,2,2834,,,0,"Make bay create work with new bay model structure

Change-Id: I70a0aaa4efe01e3359c402db355fde6dac045dd8
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/65/142365/2 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/api/shell.py'],1,0d8afc8aac6da14078928048a3a559a2af358d60,,"@utils.arg('--baymodel_id', metavar='<baymodel_id>', help='The ID or name of the bay model.') opts['baymodel_id'] = args.type","@utils.arg('--type', metavar='<type>', help='Type of bay to create (virt or bare).') @utils.arg('--image_id', metavar='<image_id>', help='The name or UUID of the base image to customize for the bay.') opts['type'] = args.type opts['image_id'] = args.image_id",4,8
openstack%2Fpython-magnumclient~master~Ie872e780154b77fced4a83fbe591af8120353272,openstack/python-magnumclient,master,Ie872e780154b77fced4a83fbe591af8120353272,Type and image_id are removed from server,MERGED,2014-12-17 06:21:06.000000000,2014-12-17 13:07:55.000000000,2014-12-17 13:07:55.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 06:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/773622b750e650192b2e55f3f329464f475fb80d', 'message': 'Type and image_id are removed from server\n\nNo longer show them in the bay object for the client\n\nChange-Id: Ie872e780154b77fced4a83fbe591af8120353272\n'}, {'number': 2, 'created': '2014-12-17 07:41:36.000000000', 'files': ['magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/96be8496cfd855a3cca7f50b674bd2641c396c56', 'message': 'Type and image_id are removed from server\n\nNo longer show them in the bay object for the client\n\nChange-Id: Ie872e780154b77fced4a83fbe591af8120353272\n'}]",0,142364,96be8496cfd855a3cca7f50b674bd2641c396c56,8,2,2,2834,,,0,"Type and image_id are removed from server

No longer show them in the bay object for the client

Change-Id: Ie872e780154b77fced4a83fbe591af8120353272
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/64/142364/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/api/shell.py'],1,773622b750e650192b2e55f3f329464f475fb80d,," columns = ('uuid', 'name', 'node_count')"," columns = ('uuid', 'name', 'type', 'image_id', 'node_count')",1,1
openstack%2Fpython-magnumclient~master~I3e260f7688ec60f68dc8decded001abf263cdf79,openstack/python-magnumclient,master,I3e260f7688ec60f68dc8decded001abf263cdf79,Don't show links when showing bay,MERGED,2014-12-17 06:19:13.000000000,2014-12-17 13:07:46.000000000,2014-12-17 13:07:46.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 06:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/d8fb2d7b2356c8ac364c254a7b1c6864bc649404', 'message': ""Don't show links when showing bay\n\nLinks are unnecessary to show and make the interface untidy\n\nChange-Id: I3e260f7688ec60f68dc8decded001abf263cdf79\n""}, {'number': 2, 'created': '2014-12-17 07:41:36.000000000', 'files': ['magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/6efdb49394f1960b4b6036837eeca5ea8f189480', 'message': ""Don't show links when showing bay\n\nLinks are unnecessary to show and make the interface untidy\n\nChange-Id: I3e260f7688ec60f68dc8decded001abf263cdf79\n""}]",0,142362,6efdb49394f1960b4b6036837eeca5ea8f189480,8,2,2,2834,,,0,"Don't show links when showing bay

Links are unnecessary to show and make the interface untidy

Change-Id: I3e260f7688ec60f68dc8decded001abf263cdf79
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/62/142362/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/api/shell.py'],1,d8fb2d7b2356c8ac364c254a7b1c6864bc649404,, del baymodel._info['links'],,1,0
openstack%2Fpython-magnumclient~master~I4f659e17628ce865ba95f7035e68268155b0d77e,openstack/python-magnumclient,master,I4f659e17628ce865ba95f7035e68268155b0d77e,Make baymodel-list only show name and UUID,MERGED,2014-12-17 06:18:06.000000000,2014-12-17 13:07:45.000000000,2014-12-17 13:07:45.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 06:18:06.000000000', 'files': ['magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e225571fbd4187badd93bc5f4d3cd7e75456009b', 'message': 'Make baymodel-list only show name and UUID\n\nTo find detailed information baymodel-show can be used\n\nChange-Id: I4f659e17628ce865ba95f7035e68268155b0d77e\n'}]",0,142360,e225571fbd4187badd93bc5f4d3cd7e75456009b,6,2,1,2834,,,0,"Make baymodel-list only show name and UUID

To find detailed information baymodel-show can be used

Change-Id: I4f659e17628ce865ba95f7035e68268155b0d77e
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/60/142360/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/api/shell.py'],1,e225571fbd4187badd93bc5f4d3cd7e75456009b,," columns = ('uuid', 'name')"," columns = ('uuid', 'name', 'image_id')",1,1
openstack%2Fpython-magnumclient~master~I8b1ac880ca398681e8cb7c09c9a6ed3e73acf2a6,openstack/python-magnumclient,master,I8b1ac880ca398681e8cb7c09c9a6ed3e73acf2a6,Make baymodel not show links,MERGED,2014-12-17 06:15:31.000000000,2014-12-17 13:07:39.000000000,2014-12-17 13:07:39.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 06:15:31.000000000', 'files': ['magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/de619f0a45b2cdc5a6db2fe3caad905230645e2c', 'message': ""Make baymodel not show links\n\nWe don't need the links property shown to the user.\n\nChange-Id: I8b1ac880ca398681e8cb7c09c9a6ed3e73acf2a6\n""}]",0,142359,de619f0a45b2cdc5a6db2fe3caad905230645e2c,6,2,1,2834,,,0,"Make baymodel not show links

We don't need the links property shown to the user.

Change-Id: I8b1ac880ca398681e8cb7c09c9a6ed3e73acf2a6
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/59/142359/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/api/shell.py'],1,de619f0a45b2cdc5a6db2fe3caad905230645e2c,, del baymodel._info['links'] _show_baymodel(bay) _show_baymodel(baymodel), _show_bay(bay) _show_bay(baymodel),3,2
openstack%2Fmagnum~master~Ie6b7220bfecfd61af0ecf9114a791dfed61b415e,openstack/magnum,master,Ie6b7220bfecfd61af0ecf9114a791dfed61b415e,Remove type and image_id replace with baymodel_id,MERGED,2014-12-17 04:00:30.000000000,2014-12-17 13:07:37.000000000,2014-12-17 13:07:37.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 04:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0c48298f5afbaa2d26601b5a47edba1a21ae6c3c', 'message': 'Remove type and image_id replace with baymodel_id\n\nThe baymodel_id represents the bay model used to generate this\nparticular Bay.  This is essentially a split of Bay into multiple\nobjects - one for template storage - one for instantation.\n\nChange-Id: Ie6b7220bfecfd61af0ecf9114a791dfed61b415e\n'}, {'number': 2, 'created': '2014-12-17 04:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2fd2656fcfde55b6d6b4c71b11bec6a2dadc620b', 'message': 'Remove type and image_id replace with baymodel_id\n\nThe baymodel_id represents the bay model used to generate this\nparticular Bay.  This is essentially a split of Bay into multiple\nobjects - one for template storage - one for instantation.\n\nChange-Id: Ie6b7220bfecfd61af0ecf9114a791dfed61b415e\n'}, {'number': 3, 'created': '2014-12-17 05:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0d2f11b147b8be50f5f89c1493d7c5550d0e6d64', 'message': 'Remove type and image_id replace with baymodel_id\n\nThe baymodel_id represents the bay model used to generate this\nparticular Bay.  This is essentially a split of Bay into multiple\nobjects - one for template storage - one for instantation.\n\nChange-Id: Ie6b7220bfecfd61af0ecf9114a791dfed61b415e\n'}, {'number': 4, 'created': '2014-12-17 05:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f41489b6ae507be8b8e4a82209e8610c55a02b79', 'message': 'Remove type and image_id replace with baymodel_id\n\nThe baymodel_id represents the bay model used to generate this\nparticular Bay.  This is essentially a split of Bay into multiple\nobjects - one for template storage - one for instantation.\n\nChange-Id: Ie6b7220bfecfd61af0ecf9114a791dfed61b415e\n'}, {'number': 5, 'created': '2014-12-17 05:45:42.000000000', 'files': ['magnum/objects/bay.py', 'magnum/api/controllers/v1/bay.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/tests/api/controllers/v1/test_all_objects.py', 'magnum/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/54e59ea12eddb7ec208cc24a8abb01b25049d13b', 'message': 'Remove type and image_id replace with baymodel_id\n\nThe baymodel_id represents the bay model used to generate this\nparticular Bay.  This is essentially a split of Bay into multiple\nobjects - one for template storage - one for instantation.\n\nChange-Id: Ie6b7220bfecfd61af0ecf9114a791dfed61b415e\n'}]",0,142328,54e59ea12eddb7ec208cc24a8abb01b25049d13b,13,2,5,2834,,,0,"Remove type and image_id replace with baymodel_id

The baymodel_id represents the bay model used to generate this
particular Bay.  This is essentially a split of Bay into multiple
objects - one for template storage - one for instantation.

Change-Id: Ie6b7220bfecfd61af0ecf9114a791dfed61b415e
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/142328/5 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/objects/bay.py', 'magnum/api/controllers/v1/bay.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/db/sqlalchemy/models.py', 'magnum/tests/api/controllers/v1/test_all_objects.py']",5,0c48298f5afbaa2d26601b5a47edba1a21ae6c3c,," params = '{""name"": ""bay_example_A"", ""baymodel_id"": ""12345"", \ ""node_count"": ""3""}' self.assertEqual(12345, c.get('baymodel_id'))"," params = '{""name"": ""bay_example_A"", ""type"": ""virt"", \ ""image_id"": ""Fedora"", ""node_count"": ""3""}' self.assertEqual('virt', c.get('type')) self.assertEqual('Fedora', c.get('image_id'))",9,16
openstack%2Fmagnum~master~I317bda292719ca3f4649283f7e27674c813cc3b0,openstack/magnum,master,I317bda292719ca3f4649283f7e27674c813cc3b0,Add a baymodel object,MERGED,2014-12-16 02:08:38.000000000,2014-12-17 13:07:32.000000000,2014-12-17 13:07:30.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 5638}, {'_account_id': 6924}, {'_account_id': 12385}]","[{'number': 1, 'created': '2014-12-16 02:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dc616fa0dbfb7d518be65a6cefa8ccaf208bba85', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 2, 'created': '2014-12-16 17:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4f581028ba0dcd0139efaf290c39fcd1607947f1', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 3, 'created': '2014-12-16 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bc65cd4101ff61e67b65e32772c4f7ab75e3628d', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 4, 'created': '2014-12-16 20:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8214abee2a8e4ff57e305af802b8ba5263642a6f', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 5, 'created': '2014-12-17 01:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bad84d841ec539953e4bfc14b7be03f8636b6aa2', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 6, 'created': '2014-12-17 03:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/138a1a3ed23646fe616f0ef0dff7d572553d1d4c', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 7, 'created': '2014-12-17 04:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3fdd90a7e4e2c4f33ac25a515e26b42f5ad39468', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 8, 'created': '2014-12-17 05:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d89cb4680b7a778634c114aea4a17ed5fdab26e0', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functoinality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}, {'number': 9, 'created': '2014-12-17 05:45:42.000000000', 'files': ['magnum/objects/__init__.py', 'magnum/api/controllers/v1/baymodel.py', 'magnum/conductor/api.py', 'magnum/db/sqlalchemy/api.py', 'magnum/api/controllers/v1/__init__.py', 'magnum/objects/baymodel.py', 'magnum/db/api.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/tests/api/controllers/v1/test_all_objects.py', 'magnum/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3f520bbde569577ad3b18751d97273678863039e', 'message': 'Add a baymodel object\n\nThe baymodel object and ReST object is used to control bay properties\nfor different bay models.  It is then possible to launch bay models\nusing this functionality.\n\nChange-Id: I317bda292719ca3f4649283f7e27674c813cc3b0\n'}]",2,141960,3f520bbde569577ad3b18751d97273678863039e,29,5,9,2834,,,0,"Add a baymodel object

The baymodel object and ReST object is used to control bay properties
for different bay models.  It is then possible to launch bay models
using this functionality.

Change-Id: I317bda292719ca3f4649283f7e27674c813cc3b0
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/141960/8 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/objects/__init__.py', 'magnum/api/controllers/v1/baymodel.py', 'magnum/db/sqlalchemy/api.py', 'magnum/api/controllers/v1/__init__.py', 'magnum/db/api.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/objects/baymodel.py', 'magnum/db/sqlalchemy/models.py']",8,dc616fa0dbfb7d518be65a6cefa8ccaf208bba85,,"class BayModel(Base): """"""Represents a bay model."""""" __tablename__ = 'baymodel' __table_args__ = ( schema.UniqueConstraint('uuid', name='uniq_baymodel0uuid'), table_args() ) id = Column(Integer, primary_key=True) uuid = Column(String(36)) name = Column(String(255)) image_id = Column(String(255)) flavor_id = Column(String(255)) keypair_id = Column(String(255)) external_network_id = Column(String(255)) dns_nameserver = Column(String(255)) ",,838,0
openstack%2Fnova~master~Ief918e4fc73664624489d9a740dd3a773295f5d9,openstack/nova,master,Ief918e4fc73664624489d9a740dd3a773295f5d9,Cleanup in ResourceExtension ALIAS(v2.1api),ABANDONED,2014-12-17 06:43:58.000000000,2014-12-17 13:01:27.000000000,,"[{'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-17 06:43:58.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/certificates.py', 'nova/api/openstack/compute/plugins/v3/migrations.py', 'nova/api/openstack/compute/plugins/v3/console_auth_tokens.py', 'nova/api/openstack/compute/plugins/v3/networks.py', 'nova/api/openstack/compute/plugins/v3/security_groups.py', 'nova/api/openstack/compute/plugins/v3/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/830137743a9793df77f84675a29032632a894283', 'message': 'Cleanup in ResourceExtension ALIAS(v2.1api)\n\nUse global variables ALIAS in ResourceExtension if the the alias of the\nextension happen to be the same as ALIAS.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Ief918e4fc73664624489d9a740dd3a773295f5d9\n'}]",0,142368,830137743a9793df77f84675a29032632a894283,6,4,1,11189,,,0,"Cleanup in ResourceExtension ALIAS(v2.1api)

Use global variables ALIAS in ResourceExtension if the the alias of the
extension happen to be the same as ALIAS.

Partially implements blueprint v2-on-v3-api

Change-Id: Ief918e4fc73664624489d9a740dd3a773295f5d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/142368/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/certificates.py', 'nova/api/openstack/compute/plugins/v3/console_auth_tokens.py', 'nova/api/openstack/compute/plugins/v3/migrations.py', 'nova/api/openstack/compute/plugins/v3/networks.py', 'nova/api/openstack/compute/plugins/v3/security_groups.py', 'nova/api/openstack/compute/plugins/v3/hosts.py']",6,830137743a9793df77f84675a29032632a894283,bp/v2-on-v3-api," resources = [extensions.ResourceExtension(ALIAS,"," resources = [extensions.ResourceExtension('os-hosts',",7,7
openstack%2Ffuel-main~stable%2F6.0~I73bdb208111e993ab0135cd7aded47e90a0f1b34,openstack/fuel-main,stable/6.0,I73bdb208111e993ab0135cd7aded47e90a0f1b34,assert_pacemaker() transforms node names to FQDN before comparison,MERGED,2014-12-10 10:18:49.000000000,2014-12-17 12:42:04.000000000,2014-12-17 12:42:02.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-10 10:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/de817c7d4466dbd775dd60fe7d66f8cd6ad82796', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}, {'number': 2, 'created': '2014-12-17 10:16:37.000000000', 'files': ['fuelweb_test/tests/test_ha.py', 'fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a78bbb136dcf4dc2164d79f3203d88d93932ee0e', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n(cherry picked from commit 81594361fd573e430a5b4add5b5bf1ed15f33c2e)\n""}]",5,140631,a78bbb136dcf4dc2164d79f3203d88d93932ee0e,14,8,2,11969,,,0,"assert_pacemaker() transforms node names to FQDN before comparison

Pacemaker returns it's status using FQDN on CentOS and short node
names on Ubuntu. It makes hard for comparison different node
name formats with always FQDN from nailgun.

Now output of pacemaker status converts into FQDN before comparison.

Change-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34
Closes-Bug:#1400169
(cherry picked from commit 81594361fd573e430a5b4add5b5bf1ed15f33c2e)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/31/140631/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/fuel_web_client.py'],1,de817c7d4466dbd775dd60fe7d66f8cd6ad82796,," def compare_pcm_nodes(ctrl_node, nodes, online_status): for line in self.get_pacemaker_status(ctrl_node).splitlines(): if online_status in line: pcm_nodes = line[line.find('[') + 1:line.find(']')].split() fqdn_nodes = [self.get_fqdn_by_hostname(x) for x in pcm_nodes] logger.debug(""Expected nodes {0} {1}"" .format(online_status, nodes)) logger.debug(""Actual nodes {0} {1}"" .format(online_status, fqdn_nodes)) return (fqdn_nodes == nodes) return False online = [x for x in fqdn_names(online_nodes)] wait(lambda: compare_pcm_nodes(ctrl_node, online, 'Online: '), timeout=30) compare_pcm_nodes(ctrl_node, online, 'Online: '), offline = [x for x in fqdn_names(offline_nodes)] wait(lambda: compare_pcm_nodes(ctrl_node, offline, 'OFFLINE: '), timeout=30) compare_pcm_nodes(ctrl_node, offline, 'OFFLINE: '), 'Offline nodes {0}'.format(offline)) if self.environment.domain not in hostname:"," online = \ 'Online: [ {0} ]'.format(' '.join(fqdn_names(online_nodes))) wait(lambda: online in self.get_pacemaker_status( ctrl_node), timeout=30) online in self.get_pacemaker_status(ctrl_node), offline = \ 'OFFLINE: [ {0} ]'.format( ' '.join(fqdn_names(offline_nodes))) wait(lambda: offline in self.get_pacemaker_status( ctrl_node), timeout=30) offline in self.get_pacemaker_status(ctrl_node), 'Offline nodes {0}'.format(offline_nodes)) if not self.environment.domain in hostname:",23,13
openstack%2Ffuel-main~stable%2F6.0~I3989880093f587226c679ab2c202fdf6098aceba,openstack/fuel-main,stable/6.0,I3989880093f587226c679ab2c202fdf6098aceba,Remove inheritance of rollback class from upgrade,MERGED,2014-12-16 12:15:37.000000000,2014-12-17 12:41:56.000000000,2014-12-17 12:41:54.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-16 12:15:37.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1b92e71ac24919ce2d16a0d029114e66a9d421dd', 'message': 'Remove inheritance of rollback class from upgrade\n\n- Inheritance of rollback class from upgrade was removed\nbecause rollback tests were running two times with upgrade\ntests on CI\n\nChange-Id: I3989880093f587226c679ab2c202fdf6098aceba\nCloses-Bug: #1402996\n'}]",0,142087,1b92e71ac24919ce2d16a0d029114e66a9d421dd,8,7,1,10136,,,0,"Remove inheritance of rollback class from upgrade

- Inheritance of rollback class from upgrade was removed
because rollback tests were running two times with upgrade
tests on CI

Change-Id: I3989880093f587226c679ab2c202fdf6098aceba
Closes-Bug: #1402996
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/87/142087/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,1b92e71ac24919ce2d16a0d029114e66a9d421dd,,class RollbackFuelMaster(base_test_data.TestBasic): expected_kernel = UpgradeFuelMaster.get_slave_kernel(remote) kernel = UpgradeFuelMaster.get_slave_kernel(remote),class RollbackFuelMaster(UpgradeFuelMaster): expected_kernel = self.get_slave_kernel(remote) kernel = self.get_slave_kernel(remote),3,3
openstack%2Ffuel-main~master~I3989880093f587226c679ab2c202fdf6098aceba,openstack/fuel-main,master,I3989880093f587226c679ab2c202fdf6098aceba,Remove inheritance of rollback class from upgrade,MERGED,2014-12-16 12:13:48.000000000,2014-12-17 12:41:48.000000000,2014-12-17 12:41:47.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-16 12:13:48.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ebdf9f8c48dc2831e41266a4e0234730b836bb18', 'message': 'Remove inheritance of rollback class from upgrade\n\n- Inheritance of rollback class from upgrade was removed\nbecause rollback tests were running two times with upgrade\ntests on CI\n\nChange-Id: I3989880093f587226c679ab2c202fdf6098aceba\nCloses-Bug: #1402996\n'}]",0,142084,ebdf9f8c48dc2831e41266a4e0234730b836bb18,10,7,1,10136,,,0,"Remove inheritance of rollback class from upgrade

- Inheritance of rollback class from upgrade was removed
because rollback tests were running two times with upgrade
tests on CI

Change-Id: I3989880093f587226c679ab2c202fdf6098aceba
Closes-Bug: #1402996
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/84/142084/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,ebdf9f8c48dc2831e41266a4e0234730b836bb18,removeOddInheritance,class RollbackFuelMaster(base_test_data.TestBasic): expected_kernel = UpgradeFuelMaster.get_slave_kernel(remote) kernel = UpgradeFuelMaster.get_slave_kernel(remote),class RollbackFuelMaster(UpgradeFuelMaster): expected_kernel = self.get_slave_kernel(remote) kernel = self.get_slave_kernel(remote),3,3
openstack%2Ffuel-library~master~I66c5b4799dafc32e7903c16365a277109cfb6723,openstack/fuel-library,master,I66c5b4799dafc32e7903c16365a277109cfb6723,Refactor fuel syntax check script,MERGED,2014-12-04 15:33:11.000000000,2014-12-17 12:39:57.000000000,2014-12-17 12:39:55.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 9977}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-04 15:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6895c92db5d9004467c868a89599a6a0c7e9e840', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 2, 'created': '2014-12-08 15:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c130046e8a6838301def7681783025ced39a87cc', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 3, 'created': '2014-12-12 12:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/413f215c30d453becfa530db6ef50f5fa14c607b', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 4, 'created': '2014-12-12 13:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/00128b6ca6b257afa664218a7d9afdaa706a7cce', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 5, 'created': '2014-12-12 13:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ad6ece2a198804e13d7dde1cc9e3d593f44821fa', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nFuel CI temporarily disabled.\n\nFuel-CI: disable\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 6, 'created': '2014-12-12 13:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/753e905c64d27dcbc80f63f83e3b3d96ff511def', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nFuel CI temporarily disabled.\n\nFuel-CI: disable\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 7, 'created': '2014-12-12 14:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c240f5a98324fa8f1185ed440221c9ec3fa8a762', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nFuel CI temporarily disabled.\n\nFuel-CI: disable\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 8, 'created': '2014-12-12 14:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a5f419e265bbe4cbd3917d05115d6553a2c06fea', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nFuel CI temporarily disabled.\n\nFuel-CI: disable\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}, {'number': 9, 'created': '2014-12-12 14:21:13.000000000', 'files': ['deployment/puppet/neutron/manifests/plugins/ml2.pp', 'deployment/puppet/neutron/manifests/agents/ml2/ovs.pp', 'deployment/puppet/cinder/manifests/volume.pp', 'deployment/puppet/nova/Rakefile', 'deployment/puppet/cinder/manifests/backup.pp', 'deployment/puppet/nova/manifests/rabbitmq.pp', 'deployment/puppet/cinder/manifests/api.pp', 'utils/jenkins/fuel_syntax_check.sh', 'deployment/puppet/nova/tests/db.pp', 'deployment/puppet/cinder/manifests/scheduler.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/47bf38d6803b659b79b4c3bd942fa569ee3ebfa2', 'message': ""Refactor fuel syntax check script\n\n- Check syntax for changed modules only\n- Use 'rake lint' instead of 'puppet-lint' where possible\n- Use 'bundle' for rake lint tests\n- Fix current syntax errors that break 'rake lint' or disable\n  'fail_on_warnings' option for lint\n\nCloses-bug: #1340336\nChange-Id: I66c5b4799dafc32e7903c16365a277109cfb6723\n""}]",12,139090,47bf38d6803b659b79b4c3bd942fa569ee3ebfa2,71,7,9,9387,,,0,"Refactor fuel syntax check script

- Check syntax for changed modules only
- Use 'rake lint' instead of 'puppet-lint' where possible
- Use 'bundle' for rake lint tests
- Fix current syntax errors that break 'rake lint' or disable
  'fail_on_warnings' option for lint

Closes-bug: #1340336
Change-Id: I66c5b4799dafc32e7903c16365a277109cfb6723
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/90/139090/9 && git format-patch -1 --stdout FETCH_HEAD,['utils/jenkins/fuel_syntax_check.sh'],1,6895c92db5d9004467c868a89599a6a0c7e9e840,rake-lint,"# Some basic checks if ! [ -d ""$WORKSPACE"" ] ; then echo ""ERROR: WORKSPACE not found"" exit 1if [ -z ""$GERRIT_BRANCH"" ] ; then echo ""ERROR: GERRIT_BRANCH variable is empty"" exit 1if [ -z ""$PUPPET_GEM_VERSION"" ] ; then PUPPET_GEM_VERSION='~> 3.4.0' fi # Check for bundle and exit if failed bundle --version || exit 1 export GEM_HOME=$WORKSPACE/.bundled_gems # Function that runs lint check for puppet manifests function check_lint { MODULE=`basename $(pwd)` if [ -f Gemfile ] && grep -q puppet-lint Gemfile ; then bundle install bundle exec rake lint --trace return $? else exit_code=0 all_files=`find -name ""*.pp""` for x in $all_files; do puppet-lint \ --no-80chars-check \ --no-autoloader_layout-check \ --no-nested_classes_or_defines-check \ --no-only_variable_string-check \ --no-2sp_soft_tabs-check \ --no-trailing_whitespace-check \ --no-hard_tabs-check \ --no-class_inherits_from_params_class-check \ --with-filename $x || let exit_code=1 done return $exit_code fi } # Function that checks syntax function check_syntax { exit_code=0 all_files=`find -name ""*.pp"" -o -name ""*.erb"" -o -name ""*.sh"" -o -path ""*/files/ocf/*""` for x in $all_files; do case $x in *.pp ) puppet parser validate --render-as s --color=false $x ;; *.erb | *.rb ) erb -P -x -T '-' $x | ruby -c > /dev/null ;; *.sh ) *files/ocf/* ) case $(file --mime --brief $x) in *x-shellscript*) bash -n $x ;; *x-ruby*) ruby -c $x ;; *x-python*) python -m py_compile $x ;; *x-perl*) perl -c $x ;; esac if [ ""$?"" -ne ""0"" ] ; then exit_code=1 fi done return $exit_code } # Iterate over the changed modules and run syntax checks for them fail=0 modules=$(git diff --name-only $GERRIT_BRANCH | grep -o 'deployment/puppet/[^/]*/' | sort -u) for mod in $modules; do echo -e ""\nChecking $mod"" pushd $mod &> /dev/null check_lint || let fail+=1 check_syntax || let fail+=1 popd &>/dev/nullif test $fail -ne 0 ; then echo ""Syntax Test FAILED: $fail modules failed syntax tests."" exit 1 else echo ""Syntax Test SUCCEEDED: All modules successfully passed syntax tests."" exit 0","set -e #TODO: Run these in parallel - we have 4 cores. #TODO: Control the environment (through the config dir?). # We want to parse for all environments. # Is this being done, contrary to puppet report? #TODO: Even with --ignoreimport, some may be pulling in others, # meaning we're checking multiple times. #all_files=`find -name ""*.pp"" -o -name ""*.erb"" -o -name ""*.sh"" -o -name ""*.rb""` if [ -z ""$*"" ]; then ruby_files=`find -type f -print0 | xargs -0 file -i | grep -i ruby | awk -F: '{ print $1 }'` all_files=""${ruby_files} `find -name ""*.pp"" -o -name ""*.erb"" -o -name ""*.sh"" -o -path ""*/files/ocf/*""`"" else all_files=""$*""num_files=`echo $all_files | wc -w` if test $num_files -eq ""0"" ; then echo ""WARNING: no .sh, .pp, .rb or .erb files found"" exit 0echo ""Checking $num_files files for syntax errors."" echo ""Puppet version is: `puppet --version`"" for x in $all_files; do case $x in *.pp ) puppet-lint \ --no-80chars-check \ --no-autoloader_layout-check \ --no-nested_classes_or_defines-check \ --no-only_variable_string-check \ --no-2sp_soft_tabs-check \ --no-trailing_whitespace-check \ --no-hard_tabs-check \ --no-class_inherits_from_params_class-check \ --with-filename $x puppet parser validate --render-as s --color=false $x ;; *.erb | *.rb ) erb -P -x -T '-' $x | ruby -c > /dev/null ;; *.sh ) bash -n $x ;; *files/ocf/* ) case $(file --mime --brief $x) in *x-shellscript*) *x-ruby*) ruby -c $x ;; *x-python*) python -m py_compile $x ;; *x-perl*) perl -c $x ;; esacif [ ""$1"" = ""-u"" ]; then fail=0 all_files=`find -iname ""rakefile""` num_files=`echo $all_files | wc -w` if test $num_files -eq ""0"" ; then echo ""WARNING: no Rakefile files found"" exit 0 fi echo ""Will run $num_files RSpec tests."" echo ""Rake version is: `rake --version`"" for file in $all_files; do d=`dirname $file` dn=`basename $d` cd $d rc=0 echo ""RSpec-ing $dn"" set +e rake spec rc=$? set -e if test $rc -ne 0 ; then fail=1 echo ""ERROR in $dn (see above)"" fi cd ${WORKSPACE} done if test $fail -ne 0 ; then echo ""RSpec Test FAILED: at least one module failed RSpec tests."" else echo ""RSpec Test SUCCEEDED: All modules successfully passed RSpec tests."" fi",91,91
openstack%2Ffuel-library~stable%2F6.0~Ie78103a760fdd661ebc37b02cb7765453f7e5920,openstack/fuel-library,stable/6.0,Ie78103a760fdd661ebc37b02cb7765453f7e5920,Fix ceilometer notifications in neutron,MERGED,2014-12-17 09:57:07.000000000,2014-12-17 12:39:48.000000000,2014-12-17 12:39:47.000000000,"[{'_account_id': 3}, {'_account_id': 7227}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-17 09:57:07.000000000', 'files': ['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/73332192a257ea02c40a39885c502ad1ebdf3eda', 'message': ""Fix ceilometer notifications in neutron\n\nAlso fixes broken logic of passing neutron param to classes:\n  openstack::ceilometer\n  openstack::horizon\n\nClass openstack::horizon does not seem to use its 'quantum'\nparameter at all, but still we should fix it.\n\nChange-Id: Ie78103a760fdd661ebc37b02cb7765453f7e5920\nCloses-bug: #1403135\n""}]",0,142399,73332192a257ea02c40a39885c502ad1ebdf3eda,12,6,1,9387,,,0,"Fix ceilometer notifications in neutron

Also fixes broken logic of passing neutron param to classes:
  openstack::ceilometer
  openstack::horizon

Class openstack::horizon does not seem to use its 'quantum'
parameter at all, but still we should fix it.

Change-Id: Ie78103a760fdd661ebc37b02cb7765453f7e5920
Closes-bug: #1403135
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/99/142399/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp']",2,73332192a257ea02c40a39885c502ad1ebdf3eda,, neutron_config { 'DEFAULT/notification_driver': value => 'messaging' }, class { '::neutron::notify::ceilometer': },3,3
openstack%2Ffuel-library~master~Ie78103a760fdd661ebc37b02cb7765453f7e5920,openstack/fuel-library,master,Ie78103a760fdd661ebc37b02cb7765453f7e5920,Fix ceilometer notifications in neutron,MERGED,2014-12-17 09:51:46.000000000,2014-12-17 12:39:40.000000000,2014-12-17 12:39:38.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-17 09:51:46.000000000', 'files': ['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/12e05560ad7011e5110965f6c2cda78a8a3ae2a8', 'message': ""Fix ceilometer notifications in neutron\n\nAlso fixes broken logic of passing neutron param to classes:\n  openstack::ceilometer\n  openstack::horizon\n\nClass openstack::horizon does not seem to use its 'quantum'\nparameter at all, but still we should fix it.\n\nChange-Id: Ie78103a760fdd661ebc37b02cb7765453f7e5920\nCloses-bug: #1403135\n""}]",0,142398,12e05560ad7011e5110965f6c2cda78a8a3ae2a8,14,7,1,9387,,,0,"Fix ceilometer notifications in neutron

Also fixes broken logic of passing neutron param to classes:
  openstack::ceilometer
  openstack::horizon

Class openstack::horizon does not seem to use its 'quantum'
parameter at all, but still we should fix it.

Change-Id: Ie78103a760fdd661ebc37b02cb7765453f7e5920
Closes-bug: #1403135
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/98/142398/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp']",2,12e05560ad7011e5110965f6c2cda78a8a3ae2a8,bug/1403135, neutron_config { 'DEFAULT/notification_driver': value => 'messaging' }, class { '::neutron::notify::ceilometer': },3,3
openstack%2Fmagnetodb~master~I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8,openstack/magnetodb,master,I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8,Adds table_id field to table description,MERGED,2014-12-10 15:43:19.000000000,2014-12-17 12:19:49.000000000,2014-12-17 12:19:49.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8414}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}, {'_account_id': 10665}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-12-10 15:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/904b54dc868d269bb1aec5d51b3ed615b4389a3a', 'message': '(WIP)Adds table_id to table create, delete and describe response bodies\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 2, 'created': '2014-12-10 15:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/44d230efe4ce412442809099af33990778baec2f', 'message': '(WIP)Adds table_id to table create, delete and describe response bodies\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 3, 'created': '2014-12-11 12:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/19e67f752f51ed6afb926cfc4c50bc710874edbc', 'message': 'Adds table_id fiels to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 4, 'created': '2014-12-11 12:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/e05ba2caa141571249879b35c916a65f9cb27b4d', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 5, 'created': '2014-12-11 12:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/b5d725bbbe143d3946fb3d001aaf93df0de3c298', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 6, 'created': '2014-12-11 13:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/d5b207ec341408504d77b011029a8c8245d8e2bb', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 7, 'created': '2014-12-11 13:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/1704b6273e4b773c6dcaf1dd168281ec6792e4dc', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 8, 'created': '2014-12-11 14:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/ecfd1fe902aae5ac99ed9e06f48cc6fa06b4b4d8', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 9, 'created': '2014-12-11 14:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/2a55a9a4670041db2984310ff82d105197763624', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 10, 'created': '2014-12-11 15:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/a80002708a4dc29206f41f4fbff8a89d9b73184f', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 11, 'created': '2014-12-11 16:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/32e62493dd77ed0ff438b672a75bb9422d061070', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 12, 'created': '2014-12-16 13:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/9f419ccb88e7e1033778c499405ad7f8fe947ad6', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}, {'number': 13, 'created': '2014-12-16 15:07:43.000000000', 'files': ['contrib/tempest/api/keyvalue/stable/rest/test_create_table.py', 'magnetodb/tests/unittests/api/amz/test_boto.py', 'magnetodb/tests/unittests/api/openstack/v1/test_delete_table.py', 'magnetodb/tests/unittests/storage/table_info_repo/test_cassandra_table_info_repo.py', 'magnetodb/tests/unittests/storage/manager/test_async_storage_manager.py', 'magnetodb/tests/storage/test_cassandra_impl.py', 'magnetodb/api/openstack/v1/data/delete_table.py', 'magnetodb/storage/models.py', 'magnetodb/tests/unittests/api/openstack/v1/test_describe_table.py', 'magnetodb/tests/unittests/storage/manager/test_simple_storage_manager.py', 'magnetodb/tests/unittests/storage/manager/test_notify_storage_manager.py', 'magnetodb/storage/driver/cassandra/cassandra_impl.py', 'magnetodb/storage/table_info_repo/cassandra_impl.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_table.py', 'magnetodb/api/openstack/v1/data/describe_table.py', 'magnetodb/storage/manager/simple_impl.py', 'contrib/devstack/lib/magnetodb', 'magnetodb/api/openstack/v1/data/create_table.py', 'tools/install_cassandra_ccm.sh', 'contrib/cql_samples.txt', 'magnetodb/tests/unittests/api/openstack/v1/test_create_table.py', 'magnetodb/storage/table_info_repo/__init__.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/388c32916ee6deb4266a8169fd0e3dc284623929', 'message': 'Adds table_id field to table description\n\nAdds table_id field to create, describe and delete table\nresponse bodies.\n\nImplements: bp table-uuid\nChange-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8\n'}]",0,140740,388c32916ee6deb4266a8169fd0e3dc284623929,34,8,13,8863,,,0,"Adds table_id field to table description

Adds table_id field to create, describe and delete table
response bodies.

Implements: bp table-uuid
Change-Id: I9e8fb5a265f489b3dcfe207e9f8f9fe09d0a9dc8
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/40/140740/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/storage/driver/cassandra/cassandra_impl.py', 'magnetodb/storage/table_info_repo/cassandra_impl.py', 'magnetodb/api/openstack/v1/parser.py', 'magnetodb/api/openstack/v1/data/describe_table.py', 'magnetodb/storage/manager/simple_impl.py', 'contrib/devstack/lib/magnetodb', 'magnetodb/api/openstack/v1/data/create_table.py', 'contrib/cql_samples.txt', 'magnetodb/api/openstack/v1/data/delete_table.py', 'magnetodb/storage/models.py', 'magnetodb/storage/table_info_repo/__init__.py']",11,904b54dc868d269bb1aec5d51b3ed615b4389a3a,bp/table-uuid," def __init__(self, name, id, schema, status, internal_name=None, creation_date_time=None, last_update_date_time=None): self.name = name self.id = id# @property # def name(self): # return self.__name #"," def __init__(self, name, schema, status, internal_name=None, creation_date_time=None, last_update_date_time=None): self.__name = name @property def name(self): return self.__name ",44,31
openstack%2Fneutron~master~Id0a3af22fb85992bde35d8c691bee3ddf435639d,openstack/neutron,master,Id0a3af22fb85992bde35d8c691bee3ddf435639d,Fix race condition in ProcessMonitor,MERGED,2014-12-10 11:26:03.000000000,2014-12-17 12:01:00.000000000,2014-12-13 05:13:36.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 8124}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-10 11:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a11ee3b6b6e4e58704372dc3989d77688784da31', 'message': 'Fix race condition in ProcessMonitor\n\nIf any new external process was enabled/disabled during\nthe process monitoring loop time, a RuntimeError: dictionary\nchanged size during iteration was thrown. This is fixed\nby pre-building the service list from the dictionary\nfor the iteration.\n\nChange-Id: Id0a3af22fb85992bde35d8c691bee3ddf435639d\n'}, {'number': 2, 'created': '2014-12-10 11:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90fdea7a59c016332ee0cb27657e43e1038852b6', 'message': 'Fix race condition in ProcessMonitor\n\nIf any new external process was enabled/disabled during\nthe process monitoring loop time, a RuntimeError: dictionary\nchanged size during iteration was thrown. This is fixed\nby pre-building the service list from the dictionary\nfor the iteration.\n\nCloses-Bug: #1401042\n\nChange-Id: Id0a3af22fb85992bde35d8c691bee3ddf435639d\n'}, {'number': 3, 'created': '2014-12-11 08:05:54.000000000', 'files': ['neutron/agent/linux/external_process.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b25915f1d94e19756c932ae18119bdf872cc6316', 'message': 'Fix race condition in ProcessMonitor\n\nIf any new external process was enabled/disabled during\nthe process monitoring loop time, a RuntimeError: dictionary\nchanged size during iteration was thrown. This is fixed\nby pre-building the service list from the dictionary\nfor the iteration.\n\nCloses-Bug: #1401042\n\nChange-Id: Id0a3af22fb85992bde35d8c691bee3ddf435639d\n'}]",5,140647,b25915f1d94e19756c932ae18119bdf872cc6316,56,24,3,8788,,,0,"Fix race condition in ProcessMonitor

If any new external process was enabled/disabled during
the process monitoring loop time, a RuntimeError: dictionary
changed size during iteration was thrown. This is fixed
by pre-building the service list from the dictionary
for the iteration.

Closes-Bug: #1401042

Change-Id: Id0a3af22fb85992bde35d8c691bee3ddf435639d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/140647/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/external_process.py'],1,a11ee3b6b6e4e58704372dc3989d77688784da31,bug/1401042, # we build the list of .keys() before iterating in the loop # to cover the case where other threads could add or remove # items from the dictionary for service_id in self._process_managers.keys():, for service_id in self._process_managers:,4,1
openstack%2Fheat~master~I1441f79a006a4dfba2d7ee54ca6f4f7577205c0d,openstack/heat,master,I1441f79a006a4dfba2d7ee54ca6f4f7577205c0d,Update testing-overview.txt,MERGED,2014-12-15 08:39:26.000000000,2014-12-17 11:29:46.000000000,2014-12-17 11:29:44.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 8246}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-12-15 08:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5a2233973b00c167dac059653937541652c4ba78', 'message': 'Update testing-overview.txt\n\n- update for actual tests directory structure used\n- describe how to use tox to run only a subset of tests\n- add hint on how to run tests when debuggers are used\n- also remove non-existent heat/testing/README.rst from MANINFEST.in\n\nChange-Id: I1441f79a006a4dfba2d7ee54ca6f4f7577205c0d\n'}, {'number': 2, 'created': '2014-12-15 08:55:28.000000000', 'files': ['heat/tests/testing-overview.txt', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/heat/commit/a6fdab04328102041cc851bf66667bf5a5e55a46', 'message': 'Update testing-overview.txt\n\n- update for actual tests directory structure used\n- describe how to use tox to run only a subset of tests\n- add hint on how to run tests when debuggers are used\n- also remove non-existent heat/testing/README.rst from MANINFEST.in\n\nChange-Id: I1441f79a006a4dfba2d7ee54ca6f4f7577205c0d\n'}]",0,141743,a6fdab04328102041cc851bf66667bf5a5e55a46,15,5,2,9542,,,0,"Update testing-overview.txt

- update for actual tests directory structure used
- describe how to use tox to run only a subset of tests
- add hint on how to run tests when debuggers are used
- also remove non-existent heat/testing/README.rst from MANINFEST.in

Change-Id: I1441f79a006a4dfba2d7ee54ca6f4f7577205c0d
",git fetch https://review.opendev.org/openstack/heat refs/changes/43/141743/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/testing-overview.txt', 'MANIFEST.in']",2,5a2233973b00c167dac059653937541652c4ba78,fix-tests-docs,,include heat/testing/README.rst,28,15
openstack%2Ffuel-web~master~If238765a0482dd90264f00e940c740095d66bdd8,openstack/fuel-web,master,If238765a0482dd90264f00e940c740095d66bdd8,Add fuel version to cobbler profiles name,ABANDONED,2014-11-18 13:56:03.000000000,2014-12-17 11:28:06.000000000,,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8971}, {'_account_id': 10391}]","[{'number': 1, 'created': '2014-11-18 13:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a6ab72a594944979d62872ec022288398d06c913', 'message': 'Add fuel version to cobbler profiles name\n\nVersioning of cobbler profiles is required\nto use separate kickstart/preseed scripts, in order\nto be able to work with newer kernels,\n\nDocImpact\nCloses-Bug: 1348331\n\nChange-Id: If238765a0482dd90264f00e940c740095d66bdd8\n'}, {'number': 2, 'created': '2014-11-18 13:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8880a6a2d0faa346b513b9c7fd511183fb7daf42', 'message': 'Add fuel version to cobbler profiles name\n\nVersioning of cobbler profiles is required\nto use separate kickstart/preseed scripts, in order\nto be able to work with newer kernels,\n\nfuel-library patch: Ie894a1d3d9659d9e091078c39ea166abe49893ad\n\nDocImpact\nCloses-Bug: 1348331\n\nChange-Id: If238765a0482dd90264f00e940c740095d66bdd8\n'}, {'number': 3, 'created': '2014-11-19 12:04:31.000000000', 'files': ['nailgun/nailgun/utils/__init__.py', 'nailgun/nailgun/test/unit/test_attributes_generators.py', 'nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/301cf82e6113b26b28427067381a1baefa4880cb', 'message': 'Add fuel version to cobbler profiles name\n\nVersioning of cobbler profiles is required\nto use separate kickstart/preseed scripts, in order\nto be able to work with newer kernels,\n\nfuel-library patch: Ie894a1d3d9659d9e091078c39ea166abe49893ad\n\nDocImpact\nCloses-Bug: 1348331\n\nChange-Id: If238765a0482dd90264f00e940c740095d66bdd8\n'}]",1,135289,301cf82e6113b26b28427067381a1baefa4880cb,21,6,3,8907,,,0,"Add fuel version to cobbler profiles name

Versioning of cobbler profiles is required
to use separate kickstart/preseed scripts, in order
to be able to work with newer kernels,

fuel-library patch: Ie894a1d3d9659d9e091078c39ea166abe49893ad

DocImpact
Closes-Bug: 1348331

Change-Id: If238765a0482dd90264f00e940c740095d66bdd8
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/89/135289/3 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,a6ab72a594944979d62872ec022288398d06c913,bug/1348331," generator_arg: ""centos-x86_64_6.0"" generator_arg: ""ubuntu_1204_x86_64_6.0"""," generator_arg: ""centos-x86_64"" generator_arg: ""ubuntu_1204_x86_64""",2,2
openstack%2Ffuel-library~master~Ie894a1d3d9659d9e091078c39ea166abe49893ad,openstack/fuel-library,master,Ie894a1d3d9659d9e091078c39ea166abe49893ad,Add versioning support for cobbler entities,ABANDONED,2014-11-18 12:18:08.000000000,2014-12-17 11:28:03.000000000,,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8786}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 10391}]","[{'number': 1, 'created': '2014-11-18 12:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/bc89b2024312b8fcc8a0fea77dda414c7d3699e8', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nRelated-Bug: 1348331\n'}, {'number': 2, 'created': '2014-11-18 12:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f857ed138aa1019ca9e63f8adb1f8f312ff3e7eb', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 3, 'created': '2014-11-18 13:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3a4735ebd05fe3f9a44c9349a17a307e1f7bb316', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 4, 'created': '2014-11-18 15:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f4b4e6c8ecb9450385185f42e31c04aa6b504599', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 5, 'created': '2014-11-19 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/650c9a6a6cf400c0c0bcf8e7bdd1beee5914a262', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 6, 'created': '2014-11-19 11:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1a0e8954c3490ca5029b2e6b8fb132e3b38cfd39', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nnailgun patch: Ie894a1d3d9659d9e091078c39ea166abe49893ad\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 7, 'created': '2014-11-19 11:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a87ab4d833bdc6076e96024e80063189c99f90b7', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nnailgun patch: If238765a0482dd90264f00e940c740095d66bdd8\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 8, 'created': '2014-11-19 15:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9f5c6379624e07081ce270fc5d8e23bfed5eb780', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nnailgun patch: If238765a0482dd90264f00e940c740095d66bdd8\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 9, 'created': '2014-11-19 15:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/908da3d4adf066063e7e2cb2ba4beb085fe13c78', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nnailgun patch: If238765a0482dd90264f00e940c740095d66bdd8\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}, {'number': 10, 'created': '2014-11-20 07:45:28.000000000', 'files': ['deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/nailgun/examples/cobbler-only.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/36c9e97b889d4b81e54366aa1c90176b10a31048', 'message': 'Add versioning support for cobbler entities\n\nSupport of versioning for cobbler entities:\n - profiles\n - distros\nis required to provision servers with new kernels,\nwithout modifying profiles for already provisioned servers\n\nPatch added fuel_version into the name (which serves as unique identifier)\nof each cobbler entity.\n\nDefault profile will be bootstrap with last executed release\n\nnailgun patch: If238765a0482dd90264f00e940c740095d66bdd8\n\nChange-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad\nPartial-Bug: 1348331\n'}]",12,135261,36c9e97b889d4b81e54366aa1c90176b10a31048,68,10,10,8907,,,0,"Add versioning support for cobbler entities

Support of versioning for cobbler entities:
 - profiles
 - distros
is required to provision servers with new kernels,
without modifying profiles for already provisioned servers

Patch added fuel_version into the name (which serves as unique identifier)
of each cobbler entity.

Default profile will be bootstrap with last executed release

nailgun patch: If238765a0482dd90264f00e940c740095d66bdd8

Change-Id: Ie894a1d3d9659d9e091078c39ea166abe49893ad
Partial-Bug: 1348331
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/61/135261/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/manifests/cobbler.pp', 'deployment/puppet/nailgun/examples/cobbler-only.pp']",2,bc89b2024312b8fcc8a0fea77dda414c7d3699e8,bug/1348331, release => $fuel_version['VERSION']['release'],,32,19
openstack%2Ffuel-web~master~Ief701353090b61a4a7f78f151716e5b7a12f25d7,openstack/fuel-web,master,Ief701353090b61a4a7f78f151716e5b7a12f25d7,Add lacp-time=fast option in case of lacp is used,ABANDONED,2014-10-29 11:36:41.000000000,2014-12-17 11:27:55.000000000,,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11082}, {'_account_id': 11577}, {'_account_id': 12200}]","[{'number': 1, 'created': '2014-10-29 11:36:41.000000000', 'files': ['nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ce4c62556ce1cc8d0ed1a5854c641e49bd4c990b', 'message': 'Add lacp-time=fast option in case of lacp is used\n\nOption other_config:lacp-time=fast will be added to the ovs-vsctl\ncommand that creates bonded interface\n\nCommand will look like:\novs-vsctl add-bond br-ovs-bond0 ovs-bond0 eth2 eth3 lacp=active \\\nbond_mode=balance-tcp other_config:lacp-time=fast\n\nThis patch assumes that lact-time=fast will be used by default,\nand the only way to change it will be to  overwright deployment info\nwith rest api or with fuel client, like:\nfuel deployment --env 1 --default\n\nDocImpact\nChange-Id: Ief701353090b61a4a7f78f151716e5b7a12f25d7\nCloses-Bug: 1367776\n'}]",0,131711,ce4c62556ce1cc8d0ed1a5854c641e49bd4c990b,9,8,1,8907,,,0,"Add lacp-time=fast option in case of lacp is used

Option other_config:lacp-time=fast will be added to the ovs-vsctl
command that creates bonded interface

Command will look like:
ovs-vsctl add-bond br-ovs-bond0 ovs-bond0 eth2 eth3 lacp=active \
bond_mode=balance-tcp other_config:lacp-time=fast

This patch assumes that lact-time=fast will be used by default,
and the only way to change it will be to  overwright deployment info
with rest api or with fuel client, like:
fuel deployment --env 1 --default

DocImpact
Change-Id: Ief701353090b61a4a7f78f151716e5b7a12f25d7
Closes-Bug: 1367776
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/11/131711/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",2,ce4c62556ce1cc8d0ed1a5854c641e49bd4c990b,bug/1367776," 'properties': ['lacp=active', 'bond_mode=balance-tcp', 'other_config:lacp-time=fast']"," 'properties': ['lacp=active', 'bond_mode=balance-tcp']",4,1
openstack%2Ftrove~master~I772e6698566c4c8e43ec5aebea5ac9362ce01ee7,openstack/trove,master,I772e6698566c4c8e43ec5aebea5ac9362ce01ee7,Assign os_region_name a default value,MERGED,2014-12-08 19:14:04.000000000,2014-12-17 11:27:12.000000000,2014-12-17 11:27:11.000000000,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 5293}, {'_account_id': 6413}, {'_account_id': 7806}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 13355}]","[{'number': 1, 'created': '2014-12-08 19:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/be4dc058f428776ec06aabe854c77087ef3b61b0', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\nThe latter could be considered more easy to debug than the former.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 2, 'created': '2014-12-09 04:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/07c719aeee18ded04fdfb3c2b8e82cf08a7a7e2f', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\nThe latter could be considered more easy to debug than the former.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 3, 'created': '2014-12-09 04:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d6518a8f6efdb4d57a9566d47c8ece4287432102', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\nThe latter could be considered more easy to debug than the former.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 4, 'created': '2014-12-09 20:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7a39b981152aefbfaea2e52d7dd624b7a1029a2d', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\nThe latter could be considered more easy to debug than the former.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 5, 'created': '2014-12-09 20:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/275f3dee7d9b9bedfa5f341b6bf21323cb34b6e8', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\nThe latter could be considered more easy to debug than the former.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 6, 'created': '2014-12-09 21:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a3f619d3e35f3a3f47d7f0c0cd0d45c2aff482cc', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 7, 'created': '2014-12-10 13:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/364e807d34c21c85eccae323d5a9eea2a595b5ce', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}, {'number': 8, 'created': '2014-12-10 13:42:34.000000000', 'files': ['trove/common/exception.py', 'trove/tests/unittests/common/test_remote.py', 'trove/common/cfg.py', 'trove/common/remote.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0220e1cd5ade19a54c708fb565fa432e2d7be053', 'message': 'Assign os_region_name a default value\n\nLeaving os_region_name is unspecified leads to RegionAmbiguity errors.\nDefaulting to RegionOne (DevStacks default) allows Trove working\nout-of-the-box with DevStack and, in the more common case of not being\nin a DevStack environment, it will fail with a NoServiceEndpoint error.\n\nChange-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7\nCloses-Bug: #1361377\n'}]",1,140121,0220e1cd5ade19a54c708fb565fa432e2d7be053,33,9,8,6413,,,0,"Assign os_region_name a default value

Leaving os_region_name is unspecified leads to RegionAmbiguity errors.
Defaulting to RegionOne (DevStacks default) allows Trove working
out-of-the-box with DevStack and, in the more common case of not being
in a DevStack environment, it will fail with a NoServiceEndpoint error.

Change-Id: I772e6698566c4c8e43ec5aebea5ac9362ce01ee7
Closes-Bug: #1361377
",git fetch https://review.opendev.org/openstack/trove refs/changes/21/140121/8 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/cfg.py', 'trove/common/remote.py']",2,be4dc058f428776ec06aabe854c77087ef3b61b0,bug/1361377,"def get_endpoint(service_catalog, service_type=None, endpoint_region, matching both type and region. The client is expected to supply the region matching the service_type. There must be one -- and only one -- successful match in the catalog,","def get_endpoint(service_catalog, service_type=None, endpoint_region=None, matching both type and region. If the client supplied no region then any endpoint matching service_type is considered a match. There must be one -- and only one -- successful match in the catalog,",5,6
openstack%2Fmistral~master~I7f186ff77a6300a9ab209cc6d5d3d6f70ba9e050,openstack/mistral,master,I7f186ff77a6300a9ab209cc6d5d3d6f70ba9e050,Fix retry policy unit test,MERGED,2014-12-17 09:46:02.000000000,2014-12-17 10:56:06.000000000,2014-12-17 10:56:06.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-17 09:46:02.000000000', 'files': ['mistral/tests/unit/engine1/test_policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/794dc73c8c215e78016207bdbcc6e6523f4a2fc6', 'message': 'Fix retry policy unit test\n\nChange-Id: I7f186ff77a6300a9ab209cc6d5d3d6f70ba9e050\n'}]",0,142397,794dc73c8c215e78016207bdbcc6e6523f4a2fc6,7,5,1,7700,,,0,"Fix retry policy unit test

Change-Id: I7f186ff77a6300a9ab209cc6d5d3d6f70ba9e050
",git fetch https://review.opendev.org/openstack/mistral refs/changes/97/142397/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/engine1/test_policies.py'],1,794dc73c8c215e78016207bdbcc6e6523f4a2fc6,fix_test_retry," count: 3 delay: 1 2,"," count: 2 delay: 2 1,",3,3
openstack%2Fmistral~master~I767742f04e69b309688d28967e03969bb59f3fb4,openstack/mistral,master,I767742f04e69b309688d28967e03969bb59f3fb4,Fixing a bug retry policy,MERGED,2014-12-17 09:33:53.000000000,2014-12-17 10:56:00.000000000,2014-12-17 10:55:59.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-17 09:33:53.000000000', 'files': ['mistral/engine1/policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/393b8b5ae471ac788ceb0208a128d6cc1adb0344', 'message': ""Fixing a bug retry policy\n\n* During last refactoring in policies it's been broken\n\nChange-Id: I767742f04e69b309688d28967e03969bb59f3fb4\n""}]",0,142393,393b8b5ae471ac788ceb0208a128d6cc1adb0344,7,5,1,8731,,,0,"Fixing a bug retry policy

* During last refactoring in policies it's been broken

Change-Id: I767742f04e69b309688d28967e03969bb59f3fb4
",git fetch https://review.opendev.org/openstack/mistral refs/changes/93/142393/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine1/policies.py'],1,393b8b5ae471ac788ceb0208a128d6cc1adb0344,fix_retry_policy_bug, runtime_context[context_key] = policy_context,,1,0
openstack%2Ffuel-library~stable%2F5.1~I47cae0a4f937be565238818b597811f936ca493a,openstack/fuel-library,stable/5.1,I47cae0a4f937be565238818b597811f936ca493a,Remove 'ceph-deploy osd activate',MERGED,2014-11-18 16:16:54.000000000,2014-12-17 10:30:27.000000000,2014-12-17 10:30:27.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2014-11-18 16:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9b5a42888ad2545d41c006e315502526cfcffb95', 'message': ""Change 'ceph-deploy osd activate' to service\n\nChange Exec['ceph-deploy osd activate'] to\nService['ceph-osd-all'] as it does the same, but\nmore preferable.\n\nChange-Id: I47cae0a4f937be565238818b597811f936ca493a\nCloses-Bug: 1374160\n""}, {'number': 2, 'created': '2014-11-20 16:03:07.000000000', 'files': ['deployment/puppet/ceph/manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/5a4254b711fe30d26680948c30225953f96521cb', 'message': ""Remove 'ceph-deploy osd activate'\n\nRemove Exec['ceph-deploy osd activate'] because the same\nis done by Service['ceph'], that is more preferable.\n\nChange-Id: I47cae0a4f937be565238818b597811f936ca493a\nCloses-Bug: 1374160\n""}]",0,135338,5a4254b711fe30d26680948c30225953f96521cb,19,10,2,13344,,,0,"Remove 'ceph-deploy osd activate'

Remove Exec['ceph-deploy osd activate'] because the same
is done by Service['ceph'], that is more preferable.

Change-Id: I47cae0a4f937be565238818b597811f936ca493a
Closes-Bug: 1374160
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/38/135338/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/ceph/manifests/osd.pp'],1,9b5a42888ad2545d41c006e315502526cfcffb95,bug/1374160," service { 'ceph-osd-all': ensure => running, enable => true, Service['ceph-osd-all']"," exec { 'ceph-deploy osd activate': command => ""ceph-deploy osd activate ${devices}"", returns => 0, logoutput => true, Exec['ceph-deploy osd activate']",4,5
openstack%2Ffuel-library~master~I47cae0a4f937be565238818b597811f936ca493a,openstack/fuel-library,master,I47cae0a4f937be565238818b597811f936ca493a,Remove 'ceph-deploy osd activate',MERGED,2014-11-18 16:15:25.000000000,2014-12-17 10:30:02.000000000,2014-12-17 10:30:00.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2014-11-18 16:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2d71ac52b1c9172ef0626e44964f36aa16c82017', 'message': ""Change 'ceph-deploy osd activate' to service\n\nChange Exec['ceph-deploy osd activate'] to\nService['ceph-osd-all'] as it does the same, but\nmore preferable.\n\nChange-Id: I47cae0a4f937be565238818b597811f936ca493a\nCloses-Bug: 1374160\n""}, {'number': 2, 'created': '2014-11-20 16:00:30.000000000', 'files': ['deployment/puppet/ceph/manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cd8409fda9cfacd6cc3500456555cd021d25c37c', 'message': ""Remove 'ceph-deploy osd activate'\n\nRemove Exec['ceph-deploy osd activate'] because the same\nis done by Service['ceph'], that is more preferable.\n\nChange-Id: I47cae0a4f937be565238818b597811f936ca493a\nCloses-Bug: 1374160\n""}]",1,135337,cd8409fda9cfacd6cc3500456555cd021d25c37c,26,10,2,13344,,,0,"Remove 'ceph-deploy osd activate'

Remove Exec['ceph-deploy osd activate'] because the same
is done by Service['ceph'], that is more preferable.

Change-Id: I47cae0a4f937be565238818b597811f936ca493a
Closes-Bug: 1374160
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/37/135337/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/ceph/manifests/osd.pp'],1,2d71ac52b1c9172ef0626e44964f36aa16c82017,bug/1374160," service { 'ceph-osd-all': ensure => running, enable => true, Service['ceph-osd-all']"," exec { 'ceph-deploy osd activate': command => ""ceph-deploy osd activate ${devices}"", returns => 0, logoutput => true, Exec['ceph-deploy osd activate']",4,5
openstack%2Ffuel-library~stable%2F5.1~Id2139b415af3f8835a6d4e9ee90e81121caf7c95,openstack/fuel-library,stable/5.1,Id2139b415af3f8835a6d4e9ee90e81121caf7c95,Enable the server personality feature,MERGED,2014-12-02 08:47:19.000000000,2014-12-17 10:28:38.000000000,2014-12-17 10:28:36.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-02 08:47:19.000000000', 'files': ['deployment/puppet/openstack/manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9e50ab7a055d13362c00a10536e83d74a1565c6d', 'message': 'Enable the server personality feature\n\nhttp://docs.openstack.org/api/openstack-compute/2/content/Server_Personality-d1e2543.html\n-Use different approaches for different OS:\n CentOS - use libguestfs\n Ubuntu - use NBD due to the problems with libguestfs\n\nChange-Id: Id2139b415af3f8835a6d4e9ee90e81121caf7c95\nCloses-bug: #1335697\n'}]",0,138286,9e50ab7a055d13362c00a10536e83d74a1565c6d,11,6,1,13343,,,0,"Enable the server personality feature

http://docs.openstack.org/api/openstack-compute/2/content/Server_Personality-d1e2543.html
-Use different approaches for different OS:
 CentOS - use libguestfs
 Ubuntu - use NBD due to the problems with libguestfs

Change-Id: Id2139b415af3f8835a6d4e9ee90e81121caf7c95
Closes-bug: #1335697
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/86/138286/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/compute.pp'],1,9e50ab7a055d13362c00a10536e83d74a1565c6d,bug/1335697_5.1, # Enable the file injection feature if !$::fuel_settings['storage']['images_ceph'] { if $::osfamily == 'RedHat' { nova_config { 'libvirt/inject_partition': value => '-1'; } } else { nova_config { 'libvirt/inject_partition': value => '1'; } } } ,,10,0
openstack%2Ffuel-library~stable%2F5.1~Ib53038bc53846d14a6c7bf028c7b4e78eef56255,openstack/fuel-library,stable/5.1,Ib53038bc53846d14a6c7bf028c7b4e78eef56255,Use augeas instead of sysctl::value,MERGED,2014-12-10 14:41:20.000000000,2014-12-17 10:27:28.000000000,2014-12-17 10:27:27.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-10 14:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/053e553f3ae9a1e3280283d9c74c8d840c702115', 'message': ""Use augeas instead of sysctl::value\n\nWe don't actually need to execute 'sysctl -w' for\nnet.bridge.bridge-nf-call* sysctl keys since this can cause\npuppet errors if puppet tries to apply sysctl::value before bridge\nkernel module is loaded.\n\nSo we just need to make sure those sysctl keys are configured\nproperly in /etc/sysctl.conf file. When bridge kernel module is\nloaded by libvirt, it will set them to correct values itself.\n\nCloses-bug: #1401100\nChange-Id: Ib53038bc53846d14a6c7bf028c7b4e78eef56255\n""}, {'number': 2, 'created': '2014-12-10 15:17:27.000000000', 'files': ['deployment/puppet/openstack/manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/44968069b64314dc3687986272273c0c15df2570', 'message': ""Use augeas instead of sysctl::value\n\nWe don't actually need to execute 'sysctl -w' for\nnet.bridge.bridge-nf-call* sysctl keys since this can cause\npuppet errors if puppet tries to apply sysctl::value before bridge\nkernel module is loaded.\n\nSo we just need to make sure those sysctl keys are configured\nproperly in /etc/sysctl.conf file. When bridge kernel module is\nloaded by libvirt, it will set them to correct values itself.\n\nCloses-bug: #1401100\nChange-Id: Ib53038bc53846d14a6c7bf028c7b4e78eef56255\n""}]",0,140698,44968069b64314dc3687986272273c0c15df2570,16,5,2,9387,,,0,"Use augeas instead of sysctl::value

We don't actually need to execute 'sysctl -w' for
net.bridge.bridge-nf-call* sysctl keys since this can cause
puppet errors if puppet tries to apply sysctl::value before bridge
kernel module is loaded.

So we just need to make sure those sysctl keys are configured
properly in /etc/sysctl.conf file. When bridge kernel module is
loaded by libvirt, it will set them to correct values itself.

Closes-bug: #1401100
Change-Id: Ib53038bc53846d14a6c7bf028c7b4e78eef56255
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/98/140698/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack/manifests/compute.pp'],1,053e553f3ae9a1e3280283d9c74c8d840c702115,," augeas { 'sysctl-net.bridge.bridge-nf-call-arptables': context => '/files/etc/sysctl.conf', onlyif => ""get net.bridge.bridge-nf-call-arptables != '1'"", changes => ""set net.bridge.bridge-nf-call-arptables '1'"", before => Service['libvirt'], } augeas { 'sysctl-net.bridge.bridge-nf-call-iptables': context => '/files/etc/sysctl.conf', onlyif => ""get net.bridge.bridge-nf-call-iptables != '1'"", changes => ""set net.bridge.bridge-nf-call-iptables '1'"", before => Service['libvirt'], } augeas { 'sysctl-net.bridge.bridge-nf-call-ip6tables': context => '/files/etc/sysctl.conf', onlyif => ""get net.bridge.bridge-nf-call-ip6tables != '1'"", changes => ""set net.bridge.bridge-nf-call-ip6tables '1'"", before => Service['libvirt'], } "," sysctl::value { 'net.bridge.bridge-nf-call-arptables': value => '1', require => Service['libvirt'], } sysctl::value { 'net.bridge.bridge-nf-call-iptables': value => '1', require => Service['libvirt'], } sysctl::value { 'net.bridge.bridge-nf-call-ip6tables': value => '1', require => Service['libvirt'], }",16,9
openstack%2Fmagnum~master~I510541fd6a1b9d499aa32ec18495db867ef50223,openstack/magnum,master,I510541fd6a1b9d499aa32ec18495db867ef50223,Fix authentication,MERGED,2014-12-17 09:44:58.000000000,2014-12-17 10:17:36.000000000,2014-12-17 10:17:35.000000000,"[{'_account_id': 3}, {'_account_id': 2834}]","[{'number': 1, 'created': '2014-12-17 09:44:58.000000000', 'files': ['magnum/api/auth.py', 'magnum/tests/__init__.py', 'magnum/tests/db/base.py', 'magnum/tests/api/controllers/v1/test_all_objects.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4e20a0ef0b96fea40419592d778e06c2711d83c', 'message': 'Fix authentication\n\nauth_token is not set in auth.py. this fixes it.\n\nChange-Id: I510541fd6a1b9d499aa32ec18495db867ef50223\n'}]",0,142395,b4e20a0ef0b96fea40419592d778e06c2711d83c,6,2,1,12385,,,0,"Fix authentication

auth_token is not set in auth.py. this fixes it.

Change-Id: I510541fd6a1b9d499aa32ec18495db867ef50223
",git fetch https://review.opendev.org/openstack/magnum refs/changes/95/142395/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/auth.py', 'magnum/tests/__init__.py', 'magnum/tests/db/base.py', 'magnum/tests/api/controllers/v1/test_all_objects.py']",4,b4e20a0ef0b96fea40419592d778e06c2711d83c,,,,22,36
openstack%2Ffuel-library~stable%2F6.0~I7774dcf1dde53082aeabfefa5562f39f36d431ab,openstack/fuel-library,stable/6.0,I7774dcf1dde53082aeabfefa5562f39f36d431ab,Fix neutron to send notifications for ceilometer,ABANDONED,2014-12-16 17:31:07.000000000,2014-12-17 10:04:44.000000000,,"[{'_account_id': 3}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-12-16 17:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b804d63dabaaa92cdfec7056e2cefdfebc5b4145', 'message': 'Fix neutron to send notifications for ceilometer\n\nChange-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab\nCloses-bug: #1403135\n'}, {'number': 4, 'created': '2014-12-16 17:39:55.000000000', 'files': ['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/network.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4a68a3158d6c44654e38ad4baa19377a5fadc385', 'message': 'Fix neutron to send notifications for ceilometer\n\nChange-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab\nCloses-bug: #1403135\n'}]",0,142167,4a68a3158d6c44654e38ad4baa19377a5fadc385,18,5,2,7732,,,0,"Fix neutron to send notifications for ceilometer

Change-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab
Closes-bug: #1403135
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/67/142167/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/network.pp', 'deployment/puppet/test.sh']",3,b804d63dabaaa92cdfec7056e2cefdfebc5b4145,,#!/bin/bash a= while [ -z $a ]; do a=$(grep -irn notification_driver neutron/) echo $a git checkout HEAD^1 done ,,14,0
openstack%2Ffuel-library~master~I7774dcf1dde53082aeabfefa5562f39f36d431ab,openstack/fuel-library,master,I7774dcf1dde53082aeabfefa5562f39f36d431ab,Fix neutron to send notifications for ceilometer,ABANDONED,2014-12-16 17:30:47.000000000,2014-12-17 10:03:48.000000000,,"[{'_account_id': 3}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-12-16 17:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b74142aef59341b91f7093b67a3dba283f0ae31e', 'message': 'Fix neutron to send notifications for ceilometer\n\nChange-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab\nCloses-bug: #1403135\n'}, {'number': 2, 'created': '2014-12-16 17:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4b2db32c2fcc43c960c2a077b919e449e8c4edb7', 'message': 'Fix neutron to send notifications for ceilometer\n\nChange-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab\nCloses-bug: #1403135\n'}, {'number': 3, 'created': '2014-12-16 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/aaf5ad316f966b39b098c35210947b730fc40cf8', 'message': 'Fix neutron to send notifications for ceilometer\n\nChange-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab\nCloses-bug: #1403135\n'}, {'number': 4, 'created': '2014-12-16 17:38:37.000000000', 'files': ['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/network.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b4091b409599aceb675150b396d40b97f4a6a51a', 'message': 'Fix neutron to send notifications for ceilometer\n\nChange-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab\nCloses-bug: #1403135\n'}]",0,142166,b4091b409599aceb675150b396d40b97f4a6a51a,28,5,4,7732,,,0,"Fix neutron to send notifications for ceilometer

Change-Id: I7774dcf1dde53082aeabfefa5562f39f36d431ab
Closes-bug: #1403135
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/66/142166/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/controller.pp', 'deployment/puppet/openstack/manifests/network.pp', 'deployment/puppet/test.sh']",3,b74142aef59341b91f7093b67a3dba283f0ae31e,bug/1403135,#!/bin/bash a= while [ -z $a ]; do a=$(grep -irn notification_driver neutron/) echo $a git checkout HEAD^1 done ,,14,0
openstack%2Ffuel-library~master~I27ceef1c8567d91f76cf0b8b1482680d5480c361,openstack/fuel-library,master,I27ceef1c8567d91f76cf0b8b1482680d5480c361,"Temporary revert ""Rename parameter 'tag' to 'vlan_tag' in l23network module""",ABANDONED,2014-10-27 08:53:59.000000000,2014-12-17 10:01:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-10-27 08:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/60addb7d83293a793ca344da70efa907ef006de5', 'message': 'Temporary revert ""Rename parameter \'tag\' to \'vlan_tag\' in l23network module""\n\nThis reverts commit 54a43a3ab34ecfc113b010b53ce77aa952b327d7.\n\nChange-Id: I27ceef1c8567d91f76cf0b8b1482680d5480c361\n'}, {'number': 2, 'created': '2014-10-27 14:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fa0eacb6b6dda817e135cda6304acdb2973d2985', 'message': 'Temporary revert ""Rename parameter \'tag\' to \'vlan_tag\' in l23network module""\n\nThis reverts commit 54a43a3ab34ecfc113b010b53ce77aa952b327d7.\n\nChange-Id: I27ceef1c8567d91f76cf0b8b1482680d5480c361\n'}, {'number': 3, 'created': '2014-10-28 09:38:43.000000000', 'files': ['deployment/puppet/l23network/lib/puppet/type/l2_ovs_bond.rb', 'deployment/puppet/l23network/lib/puppet/type/l2_ovs_patch.rb', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_port/ovs.rb', 'deployment/puppet/l23network/manifests/l2/bond.pp', 'deployment/puppet/l23network/lib/puppet/type/l2_ovs_port.rb', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_bond/ovs.rb', 'deployment/puppet/l23network/manifests/l2/patch.pp', 'deployment/puppet/l23network/manifests/l2/port.pp', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_patch/ovs.rb', 'deployment/puppet/l23network/README.md', 'deployment/puppet/l23network/lib/puppet/parser/functions/generate_network_config.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3b1a6bd90ed95a2e542794cd09697b29b07cc1c2', 'message': 'Temporary revert ""Rename parameter \'tag\' to \'vlan_tag\' in l23network module""\n\nThis reverts commit 54a43a3ab34ecfc113b010b53ce77aa952b327d7.\n\nFuel-CI: disable\nChange-Id: I27ceef1c8567d91f76cf0b8b1482680d5480c361\n'}]",0,131054,3b1a6bd90ed95a2e542794cd09697b29b07cc1c2,21,4,3,7468,,,0,"Temporary revert ""Rename parameter 'tag' to 'vlan_tag' in l23network module""

This reverts commit 54a43a3ab34ecfc113b010b53ce77aa952b327d7.

Fuel-CI: disable
Change-Id: I27ceef1c8567d91f76cf0b8b1482680d5480c361
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/54/131054/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/l23network/lib/puppet/type/l2_ovs_bond.rb', 'deployment/puppet/l23network/lib/puppet/type/l2_ovs_patch.rb', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_port/ovs.rb', 'deployment/puppet/l23network/lib/puppet/type/l2_ovs_port.rb', 'deployment/puppet/l23network/manifests/l2/bond.pp', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_bond/ovs.rb', 'deployment/puppet/l23network/manifests/l2/patch.pp', 'deployment/puppet/l23network/manifests/l2/port.pp', 'deployment/puppet/l23network/lib/puppet/provider/l2_ovs_patch/ovs.rb', 'deployment/puppet/l23network/README.md', 'deployment/puppet/l23network/lib/puppet/parser/functions/generate_network_config.rb']",11,60addb7d83293a793ca344da70efa907ef006de5,bp/fuel-multiple-l3-agents," :tag => 0, :tag => 0, :tags => [0, 0],"," :vlan_id => 0, :vlan_id => 0, :vlan_ids => [0, 0],",23,23
openstack%2Ffuel-main~master~I2ba29c77aa1e13fb7e76e0b37f507caa5c470584,openstack/fuel-main,master,I2ba29c77aa1e13fb7e76e0b37f507caa5c470584,image/ubuntu: depend on Ubuntu mirror only,ABANDONED,2014-12-16 11:14:45.000000000,2014-12-17 09:58:47.000000000,,"[{'_account_id': 3}, {'_account_id': 8003}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-12-16 11:14:45.000000000', 'files': ['image/ubuntu/module.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/87e6966ee7b81c51d43fc38b8eebe641b301c4ff', 'message': 'image/ubuntu: depend on Ubuntu mirror only\n\nCreating an Ubuntu chroot does not use the rpm (CentOS) mirror.\nMakes debugging of Ubuntu related problems much faster.\n\nRelated-bug: #1401764\n\nChange-Id: I2ba29c77aa1e13fb7e76e0b37f507caa5c470584\n'}]",0,142068,87e6966ee7b81c51d43fc38b8eebe641b301c4ff,5,5,1,13194,,,0,"image/ubuntu: depend on Ubuntu mirror only

Creating an Ubuntu chroot does not use the rpm (CentOS) mirror.
Makes debugging of Ubuntu related problems much faster.

Related-bug: #1401764

Change-Id: I2ba29c77aa1e13fb7e76e0b37f507caa5c470584
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/68/142068/1 && git format-patch -1 --stdout FETCH_HEAD,['image/ubuntu/module.mk'],1,87e6966ee7b81c51d43fc38b8eebe641b301c4ff,,$(BUILD_DIR)/images/$(TARGET_UBUNTU_IMG_ART_NAME): $(BUILD_DIR)/mirror/ubuntu/build.done,$(BUILD_DIR)/images/$(TARGET_UBUNTU_IMG_ART_NAME): $(BUILD_DIR)/mirror/build.done,1,1
openstack%2Ffuel-main~master~Icf7b4c1918f436369455712d5d807b7332019e58,openstack/fuel-main,master,Icf7b4c1918f436369455712d5d807b7332019e58,image/ubuntu: prevent services from being started in a staging chroot,ABANDONED,2014-12-16 11:14:45.000000000,2014-12-17 09:58:31.000000000,,"[{'_account_id': 3}, {'_account_id': 8003}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 11:14:45.000000000', 'files': ['image/ubuntu/create_separate_images.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0aee24485f2ecd6bb9549f930028fc2f4aa1f4d7', 'message': 'image/ubuntu: prevent services from being started in a staging chroot\n\nRelated-bug: #1401764\nChange-Id: Icf7b4c1918f436369455712d5d807b7332019e58\n'}]",0,142069,0aee24485f2ecd6bb9549f930028fc2f4aa1f4d7,5,4,1,13194,,,0,"image/ubuntu: prevent services from being started in a staging chroot

Related-bug: #1401764
Change-Id: Icf7b4c1918f436369455712d5d807b7332019e58
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/69/142069/1 && git format-patch -1 --stdout FETCH_HEAD,['image/ubuntu/create_separate_images.sh'],1,0aee24485f2ecd6bb9549f930028fc2f4aa1f4d7,,# inhibit service startup in the chroot cat > policy-rc.d << EOF #!/bin/sh # prevent any service from being started exit 101 EOF chmod 755 policy-rc.d sudo cp policy-rc.d ${TMP_CHROOT_DIR}/usr/sbin # re-enable services sudo rm ${TMP_CHROOT_DIR}/usr/sbin/policy-rc.d ,,12,0
openstack%2Ffuel-main~master~Id850bcbd4984757e28dfd69a55290026e4a3af06,openstack/fuel-main,master,Id850bcbd4984757e28dfd69a55290026e4a3af06,"ubuntu: don't install packages with debootstrap, use apt instead",ABANDONED,2014-12-16 11:14:45.000000000,2014-12-17 09:58:14.000000000,,"[{'_account_id': 3}, {'_account_id': 8003}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-12-16 11:14:45.000000000', 'files': ['image/ubuntu/module.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1490d1a520a9b7304f95cb43d239913b0dcdc764', 'message': ""ubuntu: don't install packages with debootstrap, use apt instead\n\nDependency handling in debootstrap is very primitive. For instance,\ndebootstrap happily picks an i386 version of a shared library if\nthe corresponding amd64 package is not available.\nAlso debootstrap does not obey the policy regarding (not) starting\nservices which breaks the ISO build.\n\nRelated-bug: #1401764\nChange-Id: Id850bcbd4984757e28dfd69a55290026e4a3af06\n""}]",0,142070,1490d1a520a9b7304f95cb43d239913b0dcdc764,5,5,1,13194,,,0,"ubuntu: don't install packages with debootstrap, use apt instead

Dependency handling in debootstrap is very primitive. For instance,
debootstrap happily picks an i386 version of a shared library if
the corresponding amd64 package is not available.
Also debootstrap does not obey the policy regarding (not) starting
services which breaks the ISO build.

Related-bug: #1401764
Change-Id: Id850bcbd4984757e28dfd69a55290026e4a3af06
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/70/142070/1 && git format-patch -1 --stdout FETCH_HEAD,['image/ubuntu/module.mk'],1,1490d1a520a9b7304f95cb43d239913b0dcdc764,, PKGS_APTGET:=\ wget\$(BUILD_DIR)/images/$(TARGET_UBUNTU_IMG_ART_NAME): export DEBOOTSTRAP_PARAMS=--no-check-gpg --arch=$(UBUNTU_ARCH) $(UBUNTU_RELEASE) $(TMP_CHROOT) file://$(LOCAL_MIRROR)/ubuntu,"PKGS_INCLUDE:=\wget PKGS_APTGET:=\$(BUILD_DIR)/images/$(TARGET_UBUNTU_IMG_ART_NAME): export DEBOOTSTRAP_PARAMS=--no-check-gpg --arch=$(UBUNTU_ARCH) --include=$(subst $(space),$(comma),$(PKGS_INCLUDE)) $(UBUNTU_RELEASE) $(TMP_CHROOT) file://$(LOCAL_MIRROR)/ubuntu",4,5
openstack%2Ffuel-main~master~I732039667f9954726fe8d44e6ba83d88fa8a5d94,openstack/fuel-main,master,I732039667f9954726fe8d44e6ba83d88fa8a5d94,image/ubuntu: umount the image properly,ABANDONED,2014-12-16 11:14:45.000000000,2014-12-17 09:57:20.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 11:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/d058525f204be2919d12133ec2fd58633b82c1ae', 'message': 'image/ubuntu: umount the image properly\n\nTerminate any processes started in the chroot (by a sloppy postinst script,\netc) before umounting the image.\n\nRelated-bug: #1401764\nChange-Id: I732039667f9954726fe8d44e6ba83d88fa8a5d94\n'}, {'number': 2, 'created': '2014-12-17 09:56:03.000000000', 'files': ['image/ubuntu/module.mk', 'image/ubuntu/create_separate_images.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6d356c09952798c0e78ac71e117cdd583a050e18', 'message': 'image/ubuntu: umount the image properly\n\nTerminate any processes started in the chroot (by a sloppy postinst script,\netc) before umounting the image.\n\nRelated-bug: #1401764\nChange-Id: I732039667f9954726fe8d44e6ba83d88fa8a5d94\n'}]",0,142071,6d356c09952798c0e78ac71e117cdd583a050e18,8,2,2,13194,,,0,"image/ubuntu: umount the image properly

Terminate any processes started in the chroot (by a sloppy postinst script,
etc) before umounting the image.

Related-bug: #1401764
Change-Id: I732039667f9954726fe8d44e6ba83d88fa8a5d94
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/71/142071/1 && git format-patch -1 --stdout FETCH_HEAD,['image/ubuntu/create_separate_images.sh'],1,d058525f204be2919d12133ec2fd58633b82c1ae,,"# kill any stray process in chroot (just in a case some sloppy postinst # script still hanging around) signal_chrooted_processes() { local chroot_dir=""$1"" local signal=""$2"" local proc_root for p in `sudo fuser -v ""$chroot_dir""`; do proc_root=""`readlink -f /proc/$p/root || true`"" if [ ""$proc_root"" = ""$chroot_dir"" ]; then sudo kill -s ""$signal"" $p fi done } signal_chrooted_processes $TMP_CHROOT_DIR TERM sleep 1 signal_chrooted_processes $TMP_CHROOT_DIR KILL ",,18,0
openstack%2Fceilometer~master~Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3,openstack/ceilometer,master,Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3,Code style fixes,ABANDONED,2014-11-18 12:09:30.000000000,2014-12-17 09:57:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6676}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-11-18 12:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fc74ab54970b8c6d8706d46535053591550bb14a', 'message': 'Code style fixes\n\nCeilometer code contained redundant parentheses usages,\nso they were removed. And some assignment can be replaced\nwith augmented assignment.\n\nChange-Id: Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3\n'}, {'number': 2, 'created': '2014-11-18 12:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dd45ecdf13e23c0c3ad5d7a44bfa9cdcd6fdd16e', 'message': 'Code style fixes\n\nCeilometer code contained redundant parentheses usages,\nso they were removed. And some assignment can be replaced\nwith augmented assignment.\n\nChange-Id: Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3\n'}, {'number': 3, 'created': '2014-11-20 08:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e4771fb49ac77bab3a3bfad671a368da6da7db9c', 'message': 'Code style fixes\n\nCeilometer code contained redundant parentheses usages,\nso they were removed. And some assignment can be replaced\nwith augmented assignment.\n\nChange-Id: Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3\n'}, {'number': 4, 'created': '2014-11-20 09:35:34.000000000', 'files': ['ceilometer/tests/hardware/inspector/test_snmp.py', 'ceilometer/tests/ipmi/platform/fake_utils.py', 'ceilometer/pipeline.py', 'ceilometer/hardware/pollsters/net.py', 'ceilometer/tests/compute/pollsters/test_location_metadata.py', 'ceilometer/hardware/pollsters/disk.py', 'ceilometer/openstack/common/processutils.py', 'ceilometer/openstack/common/fileutils.py', 'ceilometer/compute/virt/vmware/inspector.py', 'ceilometer/network/statistics/opendaylight/client.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f83b1034eb9d16a7aafa9f0dddc6d065d8644db4', 'message': 'Code style fixes\n\nCeilometer code contained redundant parentheses usages,\nso they were removed. And some assignment can be replaced\nwith augmented assignment.\n\nChange-Id: Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3\n'}]",1,135258,f83b1034eb9d16a7aafa9f0dddc6d065d8644db4,14,5,4,13273,,,0,"Code style fixes

Ceilometer code contained redundant parentheses usages,
so they were removed. And some assignment can be replaced
with augmented assignment.

Change-Id: Ia2c391f1c48e61aa49207be1e4cfd338f06af1e3
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/58/135258/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/pipeline.py', 'ceilometer/tests/hardware/inspector/test_snmp.py', 'ceilometer/tests/ipmi/platform/fake_utils.py', 'ceilometer/hardware/pollsters/net.py', 'ceilometer/tests/compute/pollsters/test_location_metadata.py', 'ceilometer/hardware/pollsters/disk.py', 'ceilometer/openstack/common/processutils.py', 'ceilometer/openstack/common/fileutils.py', 'ceilometer/compute/virt/vmware/inspector.py', 'ceilometer/network/statistics/opendaylight/client.py']",10,fc74ab54970b8c6d8706d46535053591550bb14a,code-style-fixes," curl_command = ['REQ: curl -i -X GET ', '""%s"" ' % url]"," curl_command = ['REQ: curl -i -X GET ', '""%s"" ' % (url)]",15,15
openstack%2Fmistral~master~Ie2fccf3b8c786c7f73b0456b347cbb29a72cb8c2,openstack/mistral,master,Ie2fccf3b8c786c7f73b0456b347cbb29a72cb8c2,Add region name to OpenStack client initialization,MERGED,2014-12-16 13:35:26.000000000,2014-12-17 09:46:21.000000000,2014-12-17 09:46:21.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-16 13:35:26.000000000', 'files': ['mistral/actions/openstack/actions.py', 'mistral/utils/openstack/keystone.py', 'mistral/actions/openstack/base.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f1bee22fe5f958fc962e88290abcf14e92d00bef', 'message': 'Add region name to OpenStack client initialization\n\nChange-Id: Ie2fccf3b8c786c7f73b0456b347cbb29a72cb8c2\n'}]",0,142104,f1bee22fe5f958fc962e88290abcf14e92d00bef,7,5,1,8731,,,0,"Add region name to OpenStack client initialization

Change-Id: Ie2fccf3b8c786c7f73b0456b347cbb29a72cb8c2
",git fetch https://review.opendev.org/openstack/mistral refs/changes/04/142104/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/openstack/actions.py', 'mistral/utils/openstack/keystone.py', 'mistral/actions/openstack/base.py']",3,f1bee22fe5f958fc962e88290abcf14e92d00bef,add_region_to_openstack_clients," e_str = '%s: %s' % (type(e), e.message) (self.__class__.__name__, self.client_method_name, e_str) return dict( zip(self._kwargs_for_run, ['test'] * len(self._kwargs_for_run)) )"," (self.__class__.__name__, self.client_method_name, e) return dict(zip(self._kwargs_for_run, ['test'] * len(self._kwargs_for_run)))",70,26
openstack%2Fgovernance~master~Ic2e0d53ccd0ea07c28dbfa66d5a7a665fec105f1,openstack/governance,master,Ic2e0d53ccd0ea07c28dbfa66d5a7a665fec105f1,sort oslo libraries,MERGED,2014-12-11 06:46:47.000000000,2014-12-17 09:38:22.000000000,2014-12-17 09:38:22.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 67}, {'_account_id': 308}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 2472}]","[{'number': 1, 'created': '2014-12-11 06:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/952a8a9243c1df3ee8c8e693f837e506535f0d25', 'message': 'WIP: sort oslo libraries and add missing hacking library\n\nChange-Id: Ic2e0d53ccd0ea07c28dbfa66d5a7a665fec105f1\n'}, {'number': 2, 'created': '2014-12-11 16:20:39.000000000', 'files': ['reference/programs.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1916e07a8a60cb13e2a8aedc93c115c3ff3f95b5', 'message': 'sort oslo libraries\n\nMake it easier to compare with other list(s) of oslo projects.\n\nChange-Id: Ic2e0d53ccd0ea07c28dbfa66d5a7a665fec105f1\n'}]",0,140934,1916e07a8a60cb13e2a8aedc93c115c3ff3f95b5,15,8,2,5638,,,0,"sort oslo libraries

Make it easier to compare with other list(s) of oslo projects.

Change-Id: Ic2e0d53ccd0ea07c28dbfa66d5a7a665fec105f1
",git fetch https://review.opendev.org/openstack/governance refs/changes/34/140934/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/programs.yaml'],1,952a8a9243c1df3ee8c8e693f837e506535f0d25,, - repo: openstack/oslo-incubator - repo: openstack/oslo-specs - repo: openstack/oslosphinx - repo: openstack/oslotest - repo: openstack-dev/hacking, - repo: openstack/oslo-incubator - repo: openstack/oslo-specs - repo: openstack/oslosphinx - repo: openstack/oslotest,5,4
openstack%2Ftricircle~master~Ib331e3d4b424e7a1667b09b2820a18dee63a138d,openstack/tricircle,master,Ib331e3d4b424e7a1667b09b2820a18dee63a138d,1. reuse mapping uuid cache for cinder proxy 2. get rid off service cacatlog in cinder admin uer cinder client,MERGED,2014-12-17 09:30:32.000000000,2014-12-17 09:35:31.000000000,2014-12-17 09:35:31.000000000,"[{'_account_id': 3}, {'_account_id': 13924}]","[{'number': 1, 'created': '2014-12-17 09:30:32.000000000', 'files': ['tricircle', 'cinderproxy/cinder/volume/cinder_proxy.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/a696e0eafb532218cfdce3a74fea8cb8d49cf8b2', 'message': '1. reuse mapping uuid cache for cinder proxy\n2. get rid off service cacatlog in cinder admin uer cinder client\n\nChange-Id: Ib331e3d4b424e7a1667b09b2820a18dee63a138d\n'}]",0,142391,a696e0eafb532218cfdce3a74fea8cb8d49cf8b2,6,2,1,13924,,,0,"1. reuse mapping uuid cache for cinder proxy
2. get rid off service cacatlog in cinder admin uer cinder client

Change-Id: Ib331e3d4b424e7a1667b09b2820a18dee63a138d
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/91/142391/1 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle', 'cinderproxy/cinder/volume/cinder_proxy.py']",2,a696e0eafb532218cfdce3a74fea8cb8d49cf8b2,," cfg.StrOpt('cinder_tenant_id', default='cinder_tenant_id', help='tenant id for connecting to cinder in admin context'), try: volumes = self._query_vol_cascaded_pagination() for vol in volumes: ccding_volume_id = self._get_ccding_volume_id(vol) self.volumes_mapping_cache['volumes'][ccding_volume_id] = \ vol._info['id'] snapshots = self._query_snapshot_cascaded_all_tenant() for snapshot in snapshots: ccding__snapshot_id = self._get_ccding_snapsot_id(snapshot) self.volumes_mapping_cache['snapshots'][ccding__snapshot_id] = \ snapshot._info['id'] LOG.info(_(""cascading info: init volume mapping cache is %s""), self.volumes_mapping_cache) def _get_ccding_volume_id(self, volume): VOLUME_UUID_LENGTH = 36 csd_name = volume._info[""name""] uuid_len = VOLUME_UUID_LENGTH if len(csd_name) > (uuid_len+1) and csd_name[-(uuid_len+1)] == '@': return csd_name[-uuid_len:] try: return volume._info['metadata']['logicalVolumeId'] except KeyError: return '' def _get_ccding_snapsot_id(self, snapshot): SNAPSHOT_UUID_LENGTH = 36 csd_name = snapshot._info[""name""] uuid_len = SNAPSHOT_UUID_LENGTH if len(csd_name) > (uuid_len+1) and csd_name[-(uuid_len+1)] == '@': return csd_name[-uuid_len:] try: return snapshot._info['metadata']['logicalVolumeId'] except KeyError: return '' # sCatalog = getattr(client_v2, 'auth_ref').get('serviceCatalog') # compat_catalog = { # 'access': {'serviceCatalog': sCatalog} # } # sc = service_catalog.ServiceCatalog(compat_catalog) # url = sc.url_for(attr='region', # filter_value=cfg.CONF.cascaded_region_name, # service_type='volume', # service_name='cinder', # endpoint_type='publicURL') diction = {'project_id': cfg.CONF.cinder_tenant_id} cinderclient.client.management_url = \ cfg.CONF.cascaded_cinder_url % diction display_name = volume_properties.get('display_name')+""@""+volume_id # snapshot_ref = self.db.snapshot_get(context, snapshot_id) # cascaded_snapshot_id = snapshot_ref['mapping_uuid'] cascaded_snapshot_id = \ self.volumes_mapping_cache['volumes'].get(snapshot_id, '') # vol_ref = self.db.volume_get(context, source_volid) # cascaded_source_volid = vol_ref['mapping_uuid'] cascaded_source_volid = \ self.volumes_mapping_cache['volumes'].get(volume_id, '') self.volumes_mapping_cache['volumes'][volume_id] = \ bodyResponse._info['id'] # self.db.volume_update( # context, # volume_id, # {'mapping_uuid': bodyResponse._info['id']}) def _query_vol_cascaded_pagination(self): try: page_limit = CONF.pagination_limit LOG.debug(_('cascade info, pagination_limit: %s'), page_limit) marker = None volumes = [] while True: sopt = {'all_tenants': True, 'sort_key': 'updated_at', 'sort_dir': 'desc', 'marker': marker, 'limit': page_limit, } vols = \ self.adminCinderClient.volumes.list(search_opts=sopt) LOG.debug(_('cascade info: pagination volumes query.' 'marker: %s, vols: %s'), marker, vols) if (vols): volumes.extend(vols) marker = vols[-1]._info['id'] LOG.debug(_('cascade info: marker: %s'), marker) continue else: break LOG.info(_('Cascade info: change since time is none,' 'volumes: %s'), volumes) return volumes except cinder_exception.Unauthorized: self.adminCinderClient = self._get_cinder_cascaded_admin_client() raise cinder_exception.Unauthorized def _query_snapshot_cascaded_all_tenant(self): try: opts = {'all_tenants': True} snapshots =\ self.adminCinderClient.volume_snapshots.list(search_opts=opts) LOG.debug(_('cascade info: snapshots query.' 'snapshots: %s'), snapshots) return snapshots except cinder_exception.Unauthorized: self.adminCinderClient = self._get_cinder_cascaded_admin_client() raise cinder_exception.Unauthorized volumes = self._query_vol_cascaded_pagination() LOG.debug(_(""Cascade info, new change since time: %s""), new_change_since_isotime) if (volumes): return except cinder_exception.Unauthorized: self.adminCinderClient = self._get_cinder_cascaded_admin_client() return return # vol_ref = self.db.volume_get(context, volume_id) # caecaded_volume_id = vol_ref['mapping_uuid'] cascaded_volume_id = \ self.volumes_mapping_cache['volumes'].get(volume_id, '') cascaded_volume_id) cinderClient.volumes.get(cascaded_volume_id) cinderClient.volumes.delete(volume=cascaded_volume_id) self.volumes_mapping_cache['volumes'].pop(volume_id, '') cascaded_volume_id) return except cinder_exception.NotFound: self.volumes_mapping_cache['volumes'].pop(volume_id, '') LOG.info(_('Cascade info: finished to delete cascade volume %s'), cascaded_volume_id) return ' volume %s'), cascaded_volume_id) display_name = snapshot_ref['display_name'] + ""@"" + snapshot_id cascaded_volume_id = \ self.volumes_mapping_cache['volumes'].get(volume_id, '') LOG.debug(_('Cascade info: create snapshot, ccded vol id %s'), cascaded_volume_id) volume_id=cascaded_volume_id, self.volumes_mapping_cache['snapshots'][snapshot_id] =\ bodyResponse._info['id'] # self.db.snapshot_update( # context, # snapshot_ref['id'], # {'mapping_uuid': bodyResponse._info['id']}) # snapshot_ref = self.db.snapshot_get(context, snapshot_id) # cascaded_snapshot_id = snapshot_ref['mapping_uuid'] cascaded_snapshot_id = \ self.volumes_mapping_cache['snapshots'].get(snapshot_id, '') cinderClient.volume_snapshots.get(snapshot_id) self.volumes_mapping_cache['snapshots'].pop(snapshot_id, '') return except cinder_exception.NotFound: self.volumes_mapping_cache['snapshots'].pop(snapshot_id, '') LOG.info(_(""delete casecade snapshot %s successfully.""), cascaded_snapshot_id) return # vol_ref = self.db.volume_get(context, volume_id) # casecaded_volume_id = vol_ref['mapping_uuid'] cascaded_volume_id = \ self.volumes_mapping_cache['volumes'].get(volume_id, '') LOG.debug(_('Cascade info: cop vol to img, ccded vol id is %s'), cascaded_volume_id) volume=cascaded_volume_id, # vol_ref = self.db.volume_get(context, volume_id) # cascaded_volume_id = vol_ref['mapping_uuid'] cascaded_volume_id = \ self.volumes_mapping_cache['volumes'].get(volume_id, '')"," try: sear_op = {'all_tenants': True} volumes = self.adminCinderClient.volumes.list(search_opts=sear_op) for volume in volumes: if 'logicalVolumeId' in volume._info['metadata']: volumeId = volume._info['metadata']['logicalVolumeId'] physicalVolumeId = volume._info['id'] self.volumes_mapping_cache['volumes'][volumeId] = \ physicalVolumeId snapshots = \ self.adminCinderClient.volume_snapshots.list(search_opts=sear_op) for snapshot in snapshots: if 'logicalSnapshotId' in snapshot._info['metadata']: snapshotId = \ snapshot._info['metadata']['logicalSnapshotId'] physicalSnapshotId = snapshot._info['id'] self.volumes_mapping_cache['snapshots'][snapshotId] = \ physicalSnapshotId LOG.info(_(""Cascade info: cinder proxy: init volumes mapping"" ""cache:%s""), self.volumes_mapping_cache) def _heal_volume_mapping_cache(self, volumeId, physicalVolumeId, action): if action == 'add': self.volumes_mapping_cache['volumes'][volumeId] = physicalVolumeId LOG.info(_(""Cascade info: volume mapping cache add record. "" ""volumeId:%s,physicalVolumeId:%s""), (volumeId, physicalVolumeId)) return True elif action == 'remove': if volumeId in self.volumes_mapping_cache['volumes']: self.volumes_mapping_cache['volumes'].pop(volumeId) LOG.info(_(""Casecade info: volume mapping cache remove record."" "" volumeId:%s, physicalVolumeId:%s""), (volumeId, physicalVolumeId)) return True def _heal_snapshot_mapping_cache(self, snapshotId, physicalSnapshotId, action): if action == 'add': self.volumes_mapping_cache['snapshots'][snapshotId] = \ physicalSnapshotId LOG.info(_(""Cascade info: snapshots mapping cache add record. "" ""snapshotId:%s, physicalSnapshotId:%s""), (snapshotId, physicalSnapshotId)) return True elif action == 'remove': if snapshotId in self.volumes_mapping_cache['snapshots']: self.volumes_mapping_cache['snapshots'].pop(snapshotId) LOG.info(_(""Casecade info: volume snapshot mapping cache"" ""remove snapshotId:%s,physicalSnapshotId:%s""), (snapshotId, physicalSnapshotId)) return True def _get_cascaded_volume_id(self, volume_id): physical_volume_id = None if volume_id in self.volumes_mapping_cache['volumes']: physical_volume_id = \ self.volumes_mapping_cache['volumes'].get(volume_id) LOG.debug(_('get cascade volume,volume id:%s,physicalVolumeId:%s'), (volume_id, physical_volume_id)) if physical_volume_id is None: LOG.error(_('can not find volume %s in volumes_mapping_cache %s.'), volume_id, self.volumes_mapping_cache) return physical_volume_id def _get_cascaded_snapshot_id(self, snapshot_id): physical_snapshot_id = None if snapshot_id in self.volumes_mapping_cache['snapshots']: physical_snapshot_id = \ self.volumes_mapping_cache['snapshots'].get('snapshot_id') LOG.debug(_(""get cascade volume,snapshot_id:%s,"" ""physicalSnapshotId:%s""), (snapshot_id, physical_snapshot_id)) if physical_snapshot_id is None: LOG.error(_('not find snapshot %s in volumes_mapping_cache %s'), snapshot_id, self.volumes_mapping_cache) return physical_snapshot_id sCatalog = getattr(client_v2, 'auth_ref').get('serviceCatalog') compat_catalog = { 'access': {'serviceCatalog': sCatalog} } sc = service_catalog.ServiceCatalog(compat_catalog) url = sc.url_for(attr='region', filter_value=cfg.CONF.cascaded_region_name, service_type='volume', service_name='cinder', endpoint_type='publicURL') cinderclient.client.management_url = url display_name = volume_properties.get('display_name') snapshot_ref = self.db.snapshot_get(context, snapshot_id) cascaded_snapshot_id = snapshot_ref['mapping_uuid'] vol_ref = self.db.volume_get(context, source_volid) cascaded_source_volid = vol_ref['mapping_uuid'] self._heal_volume_mapping_cache(volume_id, bodyResponse._info['id'], 'add') self.db.volume_update( context, volume_id, {'mapping_uuid': bodyResponse._info['id']}) page_limit = CONF.pagination_limit LOG.debug(_('cascade info, pagination_limit: %s'), page_limit) marker = None volumes = [] while True: sopt = {'all_tenants': True, 'sort_key': 'updated_at', 'sort_dir': 'desc', 'marker': marker, 'limit': page_limit, } vols = \ self.adminCinderClient.volumes.list(search_opts=sopt) LOG.debug(_('cascade info: pagination volumes query.' 'marker: %s, vols: %s'), marker, vols) if (vols): volumes.extend(vols) marker = vols[-1]._info['id'] LOG.debug(_('cascade info: marker: %s'), marker) continue else: break LOG.info(_('Cascade info: change since time is none,' 'volumes: %s'), volumes) if len(volumes) > 0: self.adminCinderClient = self._get_cinder_cascaded_admin_client() return self._heal_volume_status(context) vol_ref = self.db.volume_get(context, volume_id) casecaded_volume_id = vol_ref['mapping_uuid'] casecaded_volume_id) cinderClient.volumes.delete(volume=casecaded_volume_id) casecaded_volume_id) ' volume %s'), casecaded_volume_id) display_name = snapshot_ref['display_name'] LOG.info(_(""Cascade info: create snapshot while cascade id is:%s""), vol_ref['mapping_uuid']) vol_ref = self.db.volume_get(context, volume_id) casecaded_volume_id = vol_ref['mapping_uuid'] volume_id=casecaded_volume_id, self._heal_snapshot_mapping_cache(snapshot_id, bodyResponse._info['id'], ""add"") self.db.snapshot_update( context, snapshot_ref['id'], {'mapping_uuid': bodyResponse._info['id']}) snapshot_ref = self.db.snapshot_get(context, snapshot_id) cascaded_snapshot_id = snapshot_ref['mapping_uuid'] vol_ref = self.db.volume_get(context, volume_id) casecaded_volume_id = vol_ref['mapping_uuid'] volume=casecaded_volume_id, vol_ref = self.db.volume_get(context, volume_id) cascaded_volume_id = vol_ref['mapping_uuid']",168,165
openstack%2Fneutron-specs~master~I51a351a53ab896661b65a18bc2993a7ed232b0ac,openstack/neutron-specs,master,I51a351a53ab896661b65a18bc2993a7ed232b0ac,Kilo L2 agent improvements,MERGED,2014-11-28 15:34:40.000000000,2014-12-17 08:54:44.000000000,2014-12-16 20:01:44.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 1923}, {'_account_id': 2888}, {'_account_id': 4694}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6697}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7170}, {'_account_id': 7448}, {'_account_id': 8449}, {'_account_id': 8788}, {'_account_id': 8792}, {'_account_id': 8873}, {'_account_id': 8976}, {'_account_id': 9093}, {'_account_id': 9361}]","[{'number': 1, 'created': '2014-11-28 15:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c5577d07729fc36d774201bd03cfb9679a61dde4', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 2, 'created': '2014-11-28 15:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cbd8eb3e52020ecacfb97ef726683961d36c0994', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 3, 'created': '2014-12-02 16:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e578605edc3badbbd5e5c1506b72ba7459fe4a23', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 4, 'created': '2014-12-02 16:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/48b0e458b2e1e2348c189e953b50542706f5b1ed', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 5, 'created': '2014-12-10 16:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e3ff480343ed40e972bfb3e3521172e4678c95ff', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 6, 'created': '2014-12-10 16:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/260254e09d38f9c1a8cc0e088e8840ef5f571bb5', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 7, 'created': '2014-12-12 15:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b9ceb492cb1394c68f6c27c4d9d8607d0e670314', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}, {'number': 8, 'created': '2014-12-15 13:11:40.000000000', 'files': ['specs/kilo/restructure-l2-agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c5ea9d0e77a6b93b84f280656c3d583643ee01c0', 'message': 'Kilo L2 agent improvements\n\nChange-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac\n'}]",195,137808,c5ea9d0e77a6b93b84f280656c3d583643ee01c0,68,21,8,6788,,,0,"Kilo L2 agent improvements

Change-Id: I51a351a53ab896661b65a18bc2993a7ed232b0ac
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/08/137808/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/restructure-l2-agent.rst'],1,c5577d07729fc36d774201bd03cfb9679a61dde4,restructure-l2-agent,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Restructure L2 agent ==================== https://blueprints.launchpad.net/neutron/+spec/restructure-l2-agent :Author: Rossella Sblendido <rsblendido@suse.com> :Author: Marios Andreou <marios@redhat.com> This blueprint focuses on paying down the technical debt for the L2 agent, as already discussed during the Kilo design summit. The goal of this work is to improve the code quality of the l2 agent, in particular with respect to scalability, performance, maintainability extensibility and test coverage. Problem Description =================== The L2 agent presents several points that can be improved to boost performance and scalability. RPC --- update_device_up and update_device_down are the calls used to nofify the plugin that a device is up or down. These calls right now accept only one device, they can be improved to handle several devices. When the agent gets a security_groups_provider_updated it refreshes the filters for all the ports, not only for the ports affected by the change. This is unnecessarily costly. Devices processing ------------------ The way devices are processed by the agent can be improved. * If any operation fails during the agent loop, the agent must resync with the plugin, this means it must require all the devices information again and process them. This is very costly and can be avoided. * Some device are processed even if there's no need to perform any action by the agent (for example consider a port that was updated but with no state change). * The agent stores a cache to keep track of the known interfaces, then periodically scans all ports and make a diff to infer which interfaces were removed or added. This is not optimal. Functional tests ---------------- There's no functional test for the L2 agent Use OVS Python library ---------------------- Using the CLI ovs-vsctl is not performant, OVS Python lib is faster [#]_ .. [#] http://blog.otherwiseguy.com/replacing-ovs-vsctl-calls-with-native-ovsdb-in-neutron/ OVSDB monitor ------------- Same as previous point, using OVS Python lib instead of the CLI would make ovsdb monitor more perfomant. Right now OVS Python lib even though it essentially runs monitor to update the local cache of the interfaces, doesn't make those events (device added or removed) available to the user of the library. If this is implemented the L2 agent could make use of those notifications. Tha last two points are more related to ovs lib and not so much to the agent. They will be tackled in another blueprint and are here for completeness. The related blueprint was filed for Juno and it will be updated for Kilo [#]_ .. [#] https://review.openstack.org/#/c/114050/ Proposed Change =============== For every point in the problem description a change will be proposed, except for the last two. As said they are out of the scope for this blueprint. RPC --- New RPC calls will be introduced update_device_list_up and update_device_list_down. The agent instead of sending one RPC call for device, will be able to send one RPC call for all the devices. When possible the implementation of this RPC calls on the plugin side will issue only one query to the DB, instead of one query per device to update the device status. A new parameter will be added to security_groups_provider_updated to specify the subnet_id, so the agent will be able to calculate a list of devices whose filter needs to be updated instead of refreshing the filters for all of them. Devices processing ------------------ Smart resync ~~~~~~~~~~~~ With the current implementation if there's an error in the communication with the plugin during the agent loop, the sync flag is set to true and a complete resync will be perfomed by the agent at the next iteration. This means that all the devices will be processed again by the agent. To avoid that when possible a list of devices in error will be created and the resync will be performed only for those devices. Avoid processing a device when there's no need ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * The agent keeps track of the ports for which it received a port update notification. During the agent loop updated port are process together with added port, they are handled in the same way but actually in most cases updated port don't need any action performed by the agent. The proposed change is to add a check and process the port updated only if the update is a state change. * For updated port port filters are applied again, this is not needed if there's no change in the IP address. Add a check for that. * When a security_groups_provider_updated is received then a global refresh of the firewall is performed. Avoid that by keeping track of the devices that should be updated and refreshing their filter only. Event notification from OVS Python library ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OVS Python library needs to be modified to make events regarding port added or deleted available to its client. `otherwiseguy <https://launchpad.net/~otherwiseguy>`_ is working on it. The L2 agent can make use of that. Instead of calculating each time the devices added or removed, it can simply process the notifications. Functional tests ---------------- Add a functional test for the l2 agent. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ Performance should be improved IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- This change has been discussed during the Kilo design summit and supports the focus for Kilo to pay down technical debt. Alternatives ------------ This blueprint in the end is a list of small changes. Every small changes can be discussed and several slightly different variants can be proposed. But the only general alternative to this blueprint, is to leave the agent as it is. Implementation ============== Assignee(s) ----------- Primary assignee: `rossella_s <https://launchpad.net/~rossella-o>`_ Other contributors: `marios <https://launchpad.net/~marios-b>`_ Work Items ---------- #. Functional testing of the agent #. RPC improvements #. Agent Loop - device processing - Avoid processing a device when there's no need + Add a check to process updated port + Avoid global refresh of the firewall - Use event notification from OVS Python library Dependencies ============ * Using event notification from OVS Python library requires this functionality to be added to OVS Python lib. `otherwiseguy <https://launchpad.net/~otherwiseguy>`_ is working on it. Testing ======= Tempest Tests ------------- No new tests Functional Tests ---------------- A functional test for the agent will be added API Tests --------- None Documentation Impact ==================== User Documentation ------------------ None Developer Documentation ----------------------- #. New RPC calls will be added update_device_list_up and update_device_list_down #. A new parameter will be added to security_groups_provider_updated. References ========== https://etherpad.openstack.org/p/kilo-neutron-agents-technical-debt ",,280,0
openstack%2Fpython-neutronclient~master~Ia6a1c726be310d60b3b56ce677f843e818079fbe,openstack/python-neutronclient,master,Ia6a1c726be310d60b3b56ce677f843e818079fbe,firewall policy update for a rule is not working,MERGED,2014-07-02 10:06:56.000000000,2014-12-17 08:37:52.000000000,2014-12-17 08:37:51.000000000,"[{'_account_id': 3}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 5950}, {'_account_id': 6072}, {'_account_id': 6995}, {'_account_id': 7293}, {'_account_id': 10370}, {'_account_id': 10780}, {'_account_id': 11447}, {'_account_id': 11614}, {'_account_id': 11774}, {'_account_id': 11825}, {'_account_id': 12737}]","[{'number': 1, 'created': '2014-07-02 10:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2b2cd6dc400069fc775c4d944a13136098c43e47', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option.\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 2, 'created': '2014-07-04 10:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/866b0b2a7fff0ba00561bea683e0f60032f7de27', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option.\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 3, 'created': '2014-07-18 06:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/21e52141ff45b6702b98768b173fc455b1ebe258', 'message': 'firewall policy update for a rule is not working.\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option.\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 4, 'created': '2014-07-18 11:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1828d39b19f58b1d2a52c3fc46f5d05f4120ed21', 'message': 'firewall policy update for a rule is not working.\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option.\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 5, 'created': '2014-07-21 06:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/bc7673db8bea8b103a4234768dd812d36a9e9519', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 6, 'created': '2014-07-22 10:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/65880adbc3f97e36df1c5e13d4e75c22fed17de1', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 7, 'created': '2014-08-05 07:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/4777bf32baa161998192c92233ec2208b60f6045', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 8, 'created': '2014-08-05 07:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c5e52eb028755281dfd7af75a29be632826d9b93', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 9, 'created': '2014-08-12 09:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/76023f68e1c194f5454aaa2512def289d5cad968', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 10, 'created': '2014-09-18 14:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a9f15c10ccb0e728aa8a7cb0729373dc5871305d', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 11, 'created': '2014-09-19 05:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/e52fbe947685f51acaa6b1818698b4a75cea5178', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 12, 'created': '2014-10-09 08:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cf3d2b96013ef3a2f9ea42bf84b37e6bb3336aa2', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 13, 'created': '2014-10-16 11:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/baac008faaad408351e7dc1a9a551419ebbcef5c', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}, {'number': 14, 'created': '2014-12-15 10:41:57.000000000', 'files': ['neutronclient/neutron/v2_0/fw/firewallpolicy.py', 'neutronclient/tests/unit/fw/test_cli20_firewallpolicy.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/04a0ec8ddfa5c0aed08b638a63cc3a5da7bf148c', 'message': 'firewall policy update for a rule is not working\n\nIf user specifies one rule to update it is not taking but more than one rule\nit is accepting as a list and updating the policy. Modified policy-update to\nbehave same as policy-create command for ""--firewall-rules"" option\n\nChange-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe\nCloses-bug: 1318617\n'}]",36,104132,04a0ec8ddfa5c0aed08b638a63cc3a5da7bf148c,93,15,14,11614,,,0,"firewall policy update for a rule is not working

If user specifies one rule to update it is not taking but more than one rule
it is accepting as a list and updating the policy. Modified policy-update to
behave same as policy-create command for ""--firewall-rules"" option

Change-Id: Ia6a1c726be310d60b3b56ce677f843e818079fbe
Closes-bug: 1318617
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/32/104132/8 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/neutron/v2_0/fw/firewallpolicy.py'],1,2b2cd6dc400069fc775c4d944a13136098c43e47,bug/1318617," def add_known_arguments(self, parser): parser.add_argument( '--firewall-rules', type=string.split, help=_('Ordered list of whitespace-delimited firewall rule ' 'names or IDs; e.g., --firewall-rules \""rule1 rule2\""')) def args2body(self, parsed_args): if parsed_args.firewall_rules: _firewall_rules = [] for f in parsed_args.firewall_rules: _firewall_rules.append( neutronv20.find_resourceid_by_name_or_id( self.get_client(), 'firewall_rule', f)) body = {self.resource: { 'firewall_rules': _firewall_rules, }, } else: body = {self.resource: {}} neutronv20.update_dict(parsed_args, body[self.resource], ['name', 'description', 'shared', 'audited', 'tenant_id']) return body ",,24,0
openstack%2Fhorizon~master~Ie2e2169ef4e1892e087f74cfd290988f4827e3f2,openstack/horizon,master,Ie2e2169ef4e1892e087f74cfd290988f4827e3f2,Imported Translations from Transifex,MERGED,2014-12-16 06:09:55.000000000,2014-12-17 08:16:17.000000000,2014-12-17 08:16:15.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4978}, {'_account_id': 6610}, {'_account_id': 6914}]","[{'number': 1, 'created': '2014-12-16 06:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5f4da93914b25e06cc6601ce795643890da6b73', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ie2e2169ef4e1892e087f74cfd290988f4827e3f2\n'}, {'number': 2, 'created': '2014-12-17 06:03:56.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/sr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb1d787cdabcbed26ee94a39bec54509084cf0c9', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ie2e2169ef4e1892e087f74cfd290988f4827e3f2\n'}]",0,141986,eb1d787cdabcbed26ee94a39bec54509084cf0c9,14,5,2,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ie2e2169ef4e1892e087f74cfd290988f4827e3f2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/86/141986/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po'],1,d5f4da93914b25e06cc6601ce795643890da6b73,transifex/translations,"# Yongbok Kim <ruo91@yongbok.net>, 2014""PO-Revision-Date: 2014-12-15 11:50+0000\n"" ""Last-Translator: Yongbok Kim <ruo91@yongbok.net>\n""msgstr ""  ,   .""msgstr ""pseudo   ,   .""msgstr ""host %s compute   .""msgstr ""host %s compute      . ""msgstr "" ""msgstr[0] "" ""msgstr[0] "" ""msgstr ""compute  ""msgstr "" ""msgstr ""     .""msgstr ""QOS    .""msgstr """"msgstr ""  ""msgstr ""  ""msgstr ""  ""msgstr ""   ( GB * )""","""PO-Revision-Date: 2014-12-12 03:41+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr[0] """"msgstr[0] """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",19,18
openstack%2Fneutron~stable%2Fjuno~I33701d4dc9bf61595e44a49050c405ebca779091,openstack/neutron,stable/juno,I33701d4dc9bf61595e44a49050c405ebca779091,Add admin tenant name to nova notifier,ABANDONED,2014-12-03 00:41:46.000000000,2014-12-17 08:15:34.000000000,,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6876}, {'_account_id': 7088}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9846}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-12-03 00:41:46.000000000', 'files': ['etc/neutron.conf', 'neutron/common/config.py', 'neutron/notifiers/nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d90b53859ecb53eb32c808f849400e081e6a52be', 'message': 'Add admin tenant name to nova notifier\n\nThis change introduces the ability to use the nova admin\ntenant name with the nova notifier in place of the nova\nadmin tenant id which may not be available when the neutron\nservice is being configured as is the case with tripleo\ninstallations where the neutron service is configured and\nstarted before the nova admin tenant has been configured in\nkeystone and thus does not have a known id.\n\nDocImpact\nIntroduces the nova_admin_tenant_name configuration entry as\nan optional configurable value in neutron.conf.  If the\nnova_admin_tenant_name is configured and the nova_admin_tenanat_id\nis not configured, a performance impact may be seen because\nkeystone will become involved in communication between neutron\nand nova.\n\nChange-Id: I33701d4dc9bf61595e44a49050c405ebca779091\nCloses-Bug: #1331566\n(cherry picked from commit cf92bbead9b25ee40a3336bd76110b3733a4f7ee)\n'}]",0,138590,d90b53859ecb53eb32c808f849400e081e6a52be,17,15,1,4395,,,0,"Add admin tenant name to nova notifier

This change introduces the ability to use the nova admin
tenant name with the nova notifier in place of the nova
admin tenant id which may not be available when the neutron
service is being configured as is the case with tripleo
installations where the neutron service is configured and
started before the nova admin tenant has been configured in
keystone and thus does not have a known id.

DocImpact
Introduces the nova_admin_tenant_name configuration entry as
an optional configurable value in neutron.conf.  If the
nova_admin_tenant_name is configured and the nova_admin_tenanat_id
is not configured, a performance impact may be seen because
keystone will become involved in communication between neutron
and nova.

Change-Id: I33701d4dc9bf61595e44a49050c405ebca779091
Closes-Bug: #1331566
(cherry picked from commit cf92bbead9b25ee40a3336bd76110b3733a4f7ee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/138590/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron.conf', 'neutron/common/config.py', 'neutron/notifiers/nova.py']",3,d90b53859ecb53eb32c808f849400e081e6a52be,bug/1331566," if cfg.CONF.nova_admin_tenant_id: bypass_url = ""%s/%s"" % (cfg.CONF.nova_url, cfg.CONF.nova_admin_tenant_id) else: bypass_url = None project_id=cfg.CONF.nova_admin_tenant_name,"," bypass_url = ""%s/%s"" % (cfg.CONF.nova_url, cfg.CONF.nova_admin_tenant_id) project_id=None,",14,3
openstack%2Fneutron~stable%2Ficehouse~I33701d4dc9bf61595e44a49050c405ebca779091,openstack/neutron,stable/icehouse,I33701d4dc9bf61595e44a49050c405ebca779091,Add admin tenant name to nova notifier,ABANDONED,2014-12-03 00:42:07.000000000,2014-12-17 08:15:20.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7088}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9846}, {'_account_id': 10119}, {'_account_id': 10153}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2014-12-03 00:42:07.000000000', 'files': ['etc/neutron.conf', 'neutron/common/config.py', 'neutron/notifiers/nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a03bfae972a4fc3fbf34c0059b7dcacac500c0c', 'message': 'Add admin tenant name to nova notifier\n\nThis change introduces the ability to use the nova admin\ntenant name with the nova notifier in place of the nova\nadmin tenant id which may not be available when the neutron\nservice is being configured as is the case with tripleo\ninstallations where the neutron service is configured and\nstarted before the nova admin tenant has been configured in\nkeystone and thus does not have a known id.\n\nDocImpact\nIntroduces the nova_admin_tenant_name configuration entry as\nan optional configurable value in neutron.conf.  If the\nnova_admin_tenant_name is configured and the nova_admin_tenanat_id\nis not configured, a performance impact may be seen because\nkeystone will become involved in communication between neutron\nand nova.\n\nChange-Id: I33701d4dc9bf61595e44a49050c405ebca779091\nCloses-Bug: #1331566\n(cherry picked from commit cf92bbead9b25ee40a3336bd76110b3733a4f7ee)\n'}]",0,138591,3a03bfae972a4fc3fbf34c0059b7dcacac500c0c,18,16,1,4395,,,0,"Add admin tenant name to nova notifier

This change introduces the ability to use the nova admin
tenant name with the nova notifier in place of the nova
admin tenant id which may not be available when the neutron
service is being configured as is the case with tripleo
installations where the neutron service is configured and
started before the nova admin tenant has been configured in
keystone and thus does not have a known id.

DocImpact
Introduces the nova_admin_tenant_name configuration entry as
an optional configurable value in neutron.conf.  If the
nova_admin_tenant_name is configured and the nova_admin_tenanat_id
is not configured, a performance impact may be seen because
keystone will become involved in communication between neutron
and nova.

Change-Id: I33701d4dc9bf61595e44a49050c405ebca779091
Closes-Bug: #1331566
(cherry picked from commit cf92bbead9b25ee40a3336bd76110b3733a4f7ee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/138591/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron.conf', 'neutron/common/config.py', 'neutron/notifiers/nova.py']",3,3a03bfae972a4fc3fbf34c0059b7dcacac500c0c,bug/1331566," if cfg.CONF.nova_admin_tenant_id: bypass_url = ""%s/%s"" % (cfg.CONF.nova_url, cfg.CONF.nova_admin_tenant_id) else: bypass_url = None project_id=cfg.CONF.nova_admin_tenant_name,"," bypass_url = ""%s/%s"" % (cfg.CONF.nova_url, cfg.CONF.nova_admin_tenant_id) project_id=None,",14,3
openstack%2Fmagnum~master~I524749df95cc0cf67fd30d637632e8430dc04e17,openstack/magnum,master,I524749df95cc0cf67fd30d637632e8430dc04e17,Fix auth_url type,MERGED,2014-12-17 07:34:31.000000000,2014-12-17 07:40:26.000000000,2014-12-17 07:40:26.000000000,"[{'_account_id': 3}, {'_account_id': 2834}]","[{'number': 1, 'created': '2014-12-17 07:34:31.000000000', 'files': ['magnum/common/heat.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d8b0d110b7cdd9da8c1a3bfaed74d2b8bdf1ab6f', 'message': 'Fix auth_url type\n\nIn this case, auth_url variable is set as Tuple.\nIt is bug, so this fixes it.\n\nChange-Id: I524749df95cc0cf67fd30d637632e8430dc04e17\n'}]",0,142371,d8b0d110b7cdd9da8c1a3bfaed74d2b8bdf1ab6f,6,2,1,12385,,,0,"Fix auth_url type

In this case, auth_url variable is set as Tuple.
It is bug, so this fixes it.

Change-Id: I524749df95cc0cf67fd30d637632e8430dc04e17
",git fetch https://review.opendev.org/openstack/magnum refs/changes/71/142371/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/common/heat.py'],1,d8b0d110b7cdd9da8c1a3bfaed74d2b8bdf1ab6f,, auth_url = cfg.CONF.keystone_authtoken.auth_uri," auth_url = cfg.CONF.keystone_authtoken.auth_uri,",1,1
openstack%2Ftripleo-incubator~master~I1c57f522ea3b26969538674d0cbc6c7be4bba365,openstack/tripleo-incubator,master,I1c57f522ea3b26969538674d0cbc6c7be4bba365,Support --help as well as -h,MERGED,2014-12-13 09:40:18.000000000,2014-12-17 07:33:35.000000000,2014-12-17 07:33:34.000000000,"[{'_account_id': 3}, {'_account_id': 8449}, {'_account_id': 9369}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-12-13 09:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/5ed4a167616451114c15160e96a5436c2572b450', 'message': 'If unsupported options are found, be helpful\n\nFor instance, this means that if someone uses ""--help"", the script will\nprint the help rather than simply saying ""unsupported option"", which\nleaves the user wondering if they should next be trying ""-help"" or ""-h""\nor ""/h"" or ""/?"" or....\n\nChange-Id: I1c57f522ea3b26969538674d0cbc6c7be4bba365\n'}, {'number': 2, 'created': '2014-12-13 09:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/1d956400d518ece2c684bb7e2ccffd64fa5303af', 'message': 'If unsupported options are found, be helpful\n\nFor instance, this means that if someone uses ""--help"", the script will\nprint the help rather than simply saying ""unsupported option"", which\nleaves the user wondering if they should next be trying ""-help"" or ""-h""\nor ""/h"" or ""/?"" or....\n\nHelp text is modified to clarify the fact that --bm-networks is\noptional, but if not supplied the script is a no-op\n\nChange-Id: I1c57f522ea3b26969538674d0cbc6c7be4bba365\n'}, {'number': 3, 'created': '2014-12-16 16:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/a2d9034b06aa119087b8927dff9625954665f96a', 'message': ""Clarify that --bm-networks is optional\n\nIf --bm-networks is not supplied the script runs successfuly but is a\nno-op; in order to avoid people wondering why the script isn't doing\nanything, be explicit about this in the help text.\n\nChange-Id: I1c57f522ea3b26969538674d0cbc6c7be4bba365\n""}, {'number': 4, 'created': '2014-12-16 16:50:23.000000000', 'files': ['scripts/devtest_update_network.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ca22523d6d732fe6395d15c8eb3b71d5691feab8', 'message': 'Support --help as well as -h\n\nThe majority of scripts in this directory (17 vs 14) support both -h and\n--help. Switch this script to be part of the majority.\n\nHelp text is modified to clarify the fact that --bm-networks is\noptional, but if not supplied the script is a no-op\n\nChange-Id: I1c57f522ea3b26969538674d0cbc6c7be4bba365\n'}]",0,141549,ca22523d6d732fe6395d15c8eb3b71d5691feab8,15,4,4,9453,,,0,"Support --help as well as -h

The majority of scripts in this directory (17 vs 14) support both -h and
--help. Switch this script to be part of the majority.

Help text is modified to clarify the fact that --bm-networks is
optional, but if not supplied the script is a no-op

Change-Id: I1c57f522ea3b26969538674d0cbc6c7be4bba365
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/49/141549/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_update_network.sh'],1,5ed4a167616451114c15160e96a5436c2572b450,more-helpful," *) echo ""Error: unsupported option $1."" ; show_options 1 ;;"," *) echo ""Error: unsupported option $1."" ; exit 1 ;;",1,1
openstack%2Fmistral-extra~master~Ic977f34141672cf9e7771ec9ade558217c04ac2f,openstack/mistral-extra,master,Ic977f34141672cf9e7771ec9ade558217c04ac2f,Relayouting v2 examples,MERGED,2014-12-17 06:19:30.000000000,2014-12-17 07:05:52.000000000,2014-12-17 07:05:51.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-17 06:19:30.000000000', 'files': ['examples/v2/services_registration/multiple_services_registration.yaml', 'examples/v2/services_registration/zabbix/zabbix_machine_registration.yaml', 'examples/v2/services_registration/vyatta/vyatta_firewall.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/75fdc197aeca16a4aa8b5e772c5645e2fb8d7a81', 'message': 'Relayouting v2 examples\n\n* Created an umbrella folder for examples demonstrating services registration\n\nChange-Id: Ic977f34141672cf9e7771ec9ade558217c04ac2f\n'}]",0,142363,75fdc197aeca16a4aa8b5e772c5645e2fb8d7a81,6,5,1,8731,,,0,"Relayouting v2 examples

* Created an umbrella folder for examples demonstrating services registration

Change-Id: Ic977f34141672cf9e7771ec9ade558217c04ac2f
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/63/142363/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/v2/services_registration/multiple_services_registration.yaml', 'examples/v2/services_registration/zabbix/zabbix_machine_registration.yaml', 'examples/v2/services_registration/vyatta/vyatta_firewall.yaml']",3,75fdc197aeca16a4aa8b5e772c5645e2fb8d7a81,relayout_v2_examples,,,0,0
openstack%2Fopenstack-manuals~master~Ic180902bfe2d2e66eb8739f7ef41f6dd96b11d6b,openstack/openstack-manuals,master,Ic180902bfe2d2e66eb8739f7ef41f6dd96b11d6b,Clarify heat roles in the Installation Guide,MERGED,2014-12-16 03:56:48.000000000,2014-12-17 07:03:29.000000000,2014-12-17 07:03:28.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 10705}]","[{'number': 1, 'created': '2014-12-16 03:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e2967e95b02e1ba3d20000db4fbdd14306e77742', 'message': 'Clarify heat roles in the Installation Guide\n\n1. Added a brief description of the heat_stack_owner and heat_stack_user roles\n2. Added a warning not to assign heat_stack_owner and heat_stack_user roles to the same user.\n\nChange-Id: Ic180902bfe2d2e66eb8739f7ef41f6dd96b11d6b\nbackport: Juno\nCloses-Bug: #1401668\n'}, {'number': 2, 'created': '2014-12-17 00:26:37.000000000', 'files': ['doc/install-guide/section_heat-install.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4f8a32470d476b45a4de3f9ec66d39b4021914eb', 'message': 'Clarify heat roles in the Installation Guide\n\n1. Added a brief description of the heat_stack_owner and heat_stack_user roles\n2. Added a warning not to assign heat_stack_owner and heat_stack_user roles to the same user.\n\nChange-Id: Ic180902bfe2d2e66eb8739f7ef41f6dd96b11d6b\nbackport: Juno\nCloses-Bug: #1401668\n'}]",2,141975,4f8a32470d476b45a4de3f9ec66d39b4021914eb,13,5,2,10705,,,0,"Clarify heat roles in the Installation Guide

1. Added a brief description of the heat_stack_owner and heat_stack_user roles
2. Added a warning not to assign heat_stack_owner and heat_stack_user roles to the same user.

Change-Id: Ic180902bfe2d2e66eb8739f7ef41f6dd96b11d6b
backport: Juno
Closes-Bug: #1401668
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/75/141975/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_heat-install.xml'],1,e2967e95b02e1ba3d20000db4fbdd14306e77742,heatstackrole_installguide/darren," <literal>heat_stack_user</literal> role.</para> </para>The <literal>heat_stack_user</literal> role is for users created by heat, and is restricted to specific API actions. The <literal>heat_stack_owner</literal> role is assigned to users who create heat stacks.</para> <warning><para>Because the <literal>heat_stack_owner</literal> role has limited operational access to heat, you must never assign this role to a user with a <literal>heat_stack_user</literal> role.</para></warning>", <literal>heat_stack_user</literal> role.</para>,9,1
openstack%2Fopenstack-manuals~master~I6536ebf894e1948fe65c4531931aeec67386f634,openstack/openstack-manuals,master,I6536ebf894e1948fe65c4531931aeec67386f634,Fixed a  broken link in the Cloud Administrator Guide,MERGED,2014-12-17 06:13:24.000000000,2014-12-17 06:52:13.000000000,2014-12-17 06:52:11.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-17 06:13:24.000000000', 'files': ['doc/admin-guide-cloud/compute/section_compute-system-admin.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/13e4fe232b8cd228177c74f99b9410cde96be34c', 'message': 'Fixed a  broken link in the Cloud Administrator Guide\n\nFixed a broken link in the Migrate instances section.\n\nChange-Id: I6536ebf894e1948fe65c4531931aeec67386f634\nbackport: Juno\nCloses-Bug: #1403125\n'}]",0,142357,13e4fe232b8cd228177c74f99b9410cde96be34c,7,3,1,10705,,,0,"Fixed a  broken link in the Cloud Administrator Guide

Fixed a broken link in the Migrate instances section.

Change-Id: I6536ebf894e1948fe65c4531931aeec67386f634
backport: Juno
Closes-Bug: #1403125
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/57/142357/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/compute/section_compute-system-admin.xml'],1,13e4fe232b8cd228177c74f99b9410cde96be34c,novaconfig_cloudadmin/darren," xlink:href=""http://docs.openstack.org/trunk/config-reference/content/list-of-compute-config-options.html"""," xlink:href=""http://docs.openstack.org/trunk/config-reference/content/configuring-openstack-compute-basics.html""",1,1
openstack%2Frally~master~I69661e0cdafe83b5a3ae5cdb777a5c682117fe18,openstack/rally,master,I69661e0cdafe83b5a3ae5cdb777a5c682117fe18,Add swift service to pre-defined service list,MERGED,2014-12-16 13:29:45.000000000,2014-12-17 06:38:35.000000000,2014-12-17 06:38:34.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}]","[{'number': 1, 'created': '2014-12-16 13:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2d62d14c18f6eb03ac6bd07b9e9945a602c080de', 'message': 'Add swift service to pre-defined service list\n\n* Ignore any service not present in pre-defined service list\n\nChange-Id: I69661e0cdafe83b5a3ae5cdb777a5c682117fe18\nCloses-Bug: #1400907\n'}, {'number': 2, 'created': '2014-12-16 14:13:07.000000000', 'files': ['rally/consts.py', 'rally/verification/verifiers/tempest/config.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/282c06689fe7578dbf261f552a8acc38a7bb519c', 'message': 'Add swift service to pre-defined service list\n\n* Ignore any service not present in pre-defined service list\n  while generating tempest.conf\n\nChange-Id: I69661e0cdafe83b5a3ae5cdb777a5c682117fe18\nCloses-Bug: #1400907\n'}]",1,142100,282c06689fe7578dbf261f552a8acc38a7bb519c,26,3,2,6124,,,0,"Add swift service to pre-defined service list

* Ignore any service not present in pre-defined service list
  while generating tempest.conf

Change-Id: I69661e0cdafe83b5a3ae5cdb777a5c682117fe18
Closes-Bug: #1400907
",git fetch https://review.opendev.org/openstack/rally refs/changes/00/142100/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/consts.py', 'rally/verification/verifiers/tempest/config.py']",2,2d62d14c18f6eb03ac6bd07b9e9945a602c080de,bug/1400907, if services_type2name_map.get(service['type']) == servicename:, if services_type2name_map[service['type']] == servicename:,5,2
openstack%2Fsecurity-doc~master~Ib653a234ff9d31878db094e88edfa168a4f68efb,openstack/security-doc,master,Ib653a234ff9d31878db094e88edfa168a4f68efb,Imported Translations from Transifex,MERGED,2014-12-17 06:05:55.000000000,2014-12-17 06:38:27.000000000,2014-12-17 06:38:27.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-17 06:05:55.000000000', 'files': ['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/b7c668a0291def1960cd82596937f6177a4fba02', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ib653a234ff9d31878db094e88edfa168a4f68efb\n'}]",0,142355,b7c668a0291def1960cd82596937f6177a4fba02,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ib653a234ff9d31878db094e88edfa168a4f68efb
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/55/142355/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po']",2,b7c668a0291def1960cd82596937f6177a4fba02,transifex/translations,"""POT-Creation-Date: 2014-12-16 17:08+0000\n"" ""PO-Revision-Date: 2014-12-16 07:39+0000\n""#: ./security-guide/section_data-privacy-concerns.xml161(title)#: ./security-guide/section_data-privacy-concerns.xml182(title)#: ./security-guide/section_data-privacy-concerns.xml143(title) msgid ""Image Service delay delete feature"" msgstr """" #: ./security-guide/section_data-privacy-concerns.xml144(para) msgid """" ""OpenStack Image Service has a delayed delete feature, which will pend the "" ""deletion of an image for a defined time period. It is recommended to disable"" "" this feature if it is a security concern, by editing the "" ""<filename>etc/glance/glance-api.conf</filename> file and setting the "" ""<literal>delayed_delete</literal> option as "" ""<replaceable>False</replaceable>."" msgstr """" #: ./security-guide/section_data-privacy-concerns.xml152(title) msgid ""Compute soft delete feature"" msgstr """" #: ./security-guide/section_data-privacy-concerns.xml153(para) msgid """" ""OpenStack Compute has a soft-delete feature, which enables an instance that "" ""is deleted to be in a soft-delete state for a defined time period. The "" ""instance can be restored during this time period. To disable the soft-delete"" "" feature, edit the <filename>etc/nova/nova.conf</filename> file and leave "" ""the <literal>reclaim_instance_interval</literal> option empty."" msgstr """" #: ./security-guide/section_data-privacy-concerns.xml162(para)#: ./security-guide/section_data-privacy-concerns.xml165(para)#: ./security-guide/section_data-privacy-concerns.xml170(para)#: ./security-guide/section_data-privacy-concerns.xml175(para)#: ./security-guide/section_data-privacy-concerns.xml183(para)#: ./security-guide/section_data-privacy-concerns.xml190(para)","""POT-Creation-Date: 2014-12-15 17:55+0000\n"" ""PO-Revision-Date: 2014-12-15 19:11+0000\n""#: ./security-guide/section_data-privacy-concerns.xml140(title)#: ./security-guide/section_data-privacy-concerns.xml147(title)#: ./security-guide/section_data-privacy-concerns.xml141(para)#: ./security-guide/section_data-privacy-concerns.xml142(para)#: ./security-guide/section_data-privacy-concerns.xml143(para)#: ./security-guide/section_data-privacy-concerns.xml144(para)#: ./security-guide/section_data-privacy-concerns.xml148(para)#: ./security-guide/section_data-privacy-concerns.xml155(para)",68,25
openstack%2Fopenstack-manuals~master~Id20981589ddd96b22fe55eed50952465ec94da02,openstack/openstack-manuals,master,Id20981589ddd96b22fe55eed50952465ec94da02,Imported Translations from Transifex,MERGED,2014-12-17 06:13:04.000000000,2014-12-17 06:38:15.000000000,2014-12-17 06:38:13.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-17 06:13:04.000000000', 'files': ['doc/config-reference/locale/config-reference.pot', 'doc/admin-guide-cloud/locale/admin-guide-cloud.pot', 'doc/common/locale/common.pot', 'doc/arch-design/locale/arch-design.pot', 'doc/glossary/locale/ko_KR.po', 'doc/common/locale/ja.po', 'doc/cli-reference/locale/cli-reference.pot', 'doc/common/locale/fr.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/daba800aa9c98702cef4f293881d342b33eeb7cd', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Id20981589ddd96b22fe55eed50952465ec94da02\n'}]",0,142356,daba800aa9c98702cef4f293881d342b33eeb7cd,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Id20981589ddd96b22fe55eed50952465ec94da02
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/56/142356/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/locale/config-reference.pot', 'doc/admin-guide-cloud/locale/admin-guide-cloud.pot', 'doc/common/locale/common.pot', 'doc/arch-design/locale/arch-design.pot', 'doc/glossary/locale/ko_KR.po', 'doc/common/locale/ja.po', 'doc/cli-reference/locale/cli-reference.pot', 'doc/common/locale/fr.po']",8,daba800aa9c98702cef4f293881d342b33eeb7cd,transifex/translations,"""POT-Creation-Date: 2014-12-17 04:36+0000\n"" ""PO-Revision-Date: 2014-12-17 04:37+0000\n""#: ./doc/common/tables/keystone-catalog.xml33(td)#: ./doc/common/tables/keystone-catalog.xml37(td)#: ./doc/common/tables/keystone-catalog.xml38(td)","""POT-Creation-Date: 2014-12-15 00:16+0000\n"" ""PO-Revision-Date: 2014-12-15 00:30+0000\n""#: ./doc/common/tables/keystone-catalog.xml37(td)#: ./doc/common/tables/keystone-catalog.xml33(td) msgid """" ""endpoint_substitution_whitelist = tenant_id, user_id, public_bind_host, "" ""admin_bind_host, compute_host, compute_port, admin_port, public_port, "" ""public_endpoint, admin_endpoint"" msgstr """" ""(ListOpt) (Deprecated) List of possible substitutions for use in formatting "" ""endpoints. Use caution when modifying this list. It will give users with "" ""permission to create endpoints the ability to see those values in your "" ""configuration file. This option will be removed in Juno."" msgstr """" #: ./doc/common/tables/keystone-catalog.xml38(td) msgid """"#: ./doc/common/tables/keystone-catalog.xml41(td)#: ./doc/common/tables/keystone-catalog.xml42(td)",1080,1174
openstack%2Ftooz~master~Iaf33ce5716cafbcf249758f5def7708c25e1ea75,openstack/tooz,master,Iaf33ce5716cafbcf249758f5def7708c25e1ea75,Ensure only ToozError exceptions are raised from public methods,ABANDONED,2014-08-22 10:44:08.000000000,2014-12-17 06:11:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 7450}, {'_account_id': 8052}]","[{'number': 1, 'created': '2014-08-22 10:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/d55ba7715e227a6dd28614f3e449afe26f0bb9c5', 'message': ""Ensure only ToozError exceptions are raised from public methods\n\nIf a driver doesn't handle all the exceptions raised by the backend,\ndifferent exceptions might be raised to the user depending on the\nbackend used.\n\nThis patch ensures that all unknown exceptions are wrapped in a ToozError.\n\nNOTE: this is one possible approach, but I'm not claiming it's the correct one.\nThere are also multiple debatable things like:\n- should the base class reside in the coordination module? This would\n  mean we don't need to move the ToozError exception, but makes less\n  sense logically. I don't think ToozError belongs in coordination module\n  in the first place.\n\nChange-Id: Iaf33ce5716cafbcf249758f5def7708c25e1ea75\n""}, {'number': 2, 'created': '2014-08-25 11:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/d93769a381effa810c25ea230cd9f491b4eeb5b1', 'message': ""Ensure only ToozError exceptions are raised from public methods\n\nIf a driver doesn't handle all the exceptions raised by the backend,\ndifferent exceptions might be raised to the user depending on the\nbackend used.\n\nThis patch ensures that all unknown exceptions are wrapped in a ToozError.\nIt also provides a new mechanism enabling drivers to add exception\nmappings, meaning that any exception raised in the driver that has a\nmapping set up is automatically wrapped according to the wrapping.\n\nChange-Id: Iaf33ce5716cafbcf249758f5def7708c25e1ea75\n""}, {'number': 3, 'created': '2014-08-26 06:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/f0aac20f59a64f7363143c04f59427774cd1c1b8', 'message': ""Ensure only ToozError exceptions are raised from public methods\n\nIf a driver doesn't handle all the exceptions raised by the backend,\ndifferent exceptions might be raised to the user depending on the\nbackend used.\n\nThis patch ensures that all unknown exceptions are wrapped in a ToozError.\nIt also provides a new mechanism enabling drivers to add exception\nmappings, meaning that any exception raised in the driver that has a\nmapping set up is automatically wrapped according to the wrapping.\n\nChange-Id: Iaf33ce5716cafbcf249758f5def7708c25e1ea75\n""}, {'number': 4, 'created': '2014-08-27 06:41:16.000000000', 'files': ['tooz/__init__.py', 'tooz/locking.py', 'tooz/drivers/ipc.py', 'tooz/drivers/zookeeper.py', 'tooz/tests/test_exceptions.py', 'tooz/drivers/memcached.py', 'tooz/coordination.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/d771c6b240d819ad4f1322a519df3bafaf6248d4', 'message': ""Ensure only ToozError exceptions are raised from public methods\n\nIf a driver doesn't handle all the exceptions raised by the backend,\ndifferent exceptions might be raised to the user depending on the\nbackend used.\n\nThis patch ensures that all unknown exceptions are wrapped in a ToozError.\nIt also provides a new mechanism enabling drivers to add exception\nmappings, meaning that any exception raised in the driver that has a\nmapping set up is automatically wrapped according to the wrapping.\n\nChange-Id: Iaf33ce5716cafbcf249758f5def7708c25e1ea75\n""}]",4,116219,d771c6b240d819ad4f1322a519df3bafaf6248d4,20,5,4,8052,,,0,"Ensure only ToozError exceptions are raised from public methods

If a driver doesn't handle all the exceptions raised by the backend,
different exceptions might be raised to the user depending on the
backend used.

This patch ensures that all unknown exceptions are wrapped in a ToozError.
It also provides a new mechanism enabling drivers to add exception
mappings, meaning that any exception raised in the driver that has a
mapping set up is automatically wrapped according to the wrapping.

Change-Id: Iaf33ce5716cafbcf249758f5def7708c25e1ea75
",git fetch https://review.opendev.org/openstack/tooz refs/changes/19/116219/4 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/__init__.py', 'tooz/locking.py', 'tooz/drivers/ipc.py', 'tooz/drivers/zookeeper.py', 'tooz/drivers/memcached.py', 'tooz/coordination.py']",6,d55ba7715e227a6dd28614f3e449afe26f0bb9c5,nsaje/memcached-exceptions-fixes,"import toozclass CoordinationDriver(tooz.ToozBase): super(CoordinationDriver, self).__init__()class CoordAsyncResult(tooz.ToozBase): def __init__(self): super(CoordAsyncResult, self).__init__() ToozError = tooz.ToozError","class CoordinationDriver(object):class CoordAsyncResult(object):class ToozError(Exception): """"""Exception raised when an internal error occurs, for instance in case of server internal error. """"""",76,7
openstack%2Ftooz~master~Ic9d15d2ddf92a4ed9eec37f92de600ed67470cdb,openstack/tooz,master,Ic9d15d2ddf92a4ed9eec37f92de600ed67470cdb,Memcached: handle client connection errors,ABANDONED,2014-08-22 09:12:19.000000000,2014-12-17 06:11:17.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2014-08-22 09:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/015bcfd388936bdda2dbfd1cdb55fe338ac66039', 'message': 'Memcached: raise ToozConnectionError on start() if necessary\n\npymemcache only raises a connection error on first method call,\nnot when creating the client. In this case, heartbeat() raises\nan error, so move it into the try-catch.\n\nChange-Id: Ic9d15d2ddf92a4ed9eec37f92de600ed67470cdb\n'}, {'number': 2, 'created': '2014-08-26 06:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/f83b8cf8cc55b750a89ed773a6016313719ef318', 'message': 'Memcached: handle client connection errors\n\nHandle pymemcache client exceptions making use of the new\nexception mapping mechanism.\n\nChange-Id: Ic9d15d2ddf92a4ed9eec37f92de600ed67470cdb\n'}, {'number': 3, 'created': '2014-08-27 06:41:16.000000000', 'files': ['tooz/__init__.py', 'tooz/drivers/memcached.py', 'tooz/coordination.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/6fe81a4657bce8b6b0396e707e582a3137a9f0ad', 'message': 'Memcached: handle client connection errors\n\nHandle pymemcache client exceptions making use of the new\nexception mapping mechanism.\n\nChange-Id: Ic9d15d2ddf92a4ed9eec37f92de600ed67470cdb\n'}]",1,116210,6fe81a4657bce8b6b0396e707e582a3137a9f0ad,15,5,3,8052,,,0,"Memcached: handle client connection errors

Handle pymemcache client exceptions making use of the new
exception mapping mechanism.

Change-Id: Ic9d15d2ddf92a4ed9eec37f92de600ed67470cdb
",git fetch https://review.opendev.org/openstack/tooz refs/changes/10/116210/3 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/memcached.py'],1,015bcfd388936bdda2dbfd1cdb55fe338ac66039,nsaje/memcached-exceptions-fixes, self._group_members = collections.defaultdict(set) self._acquired_locks = [] self.heartbeat(), self._group_members = collections.defaultdict(set) self._acquired_locks = [] self.heartbeat(),3,3
openstack%2Fmistral~master~I0441957671a4227f89ecf3fb57a3b811230a5b9b,openstack/mistral,master,I0441957671a4227f89ecf3fb57a3b811230a5b9b,Changing target task property to singular form,MERGED,2014-12-16 12:02:42.000000000,2014-12-17 05:59:40.000000000,2014-12-17 05:59:39.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 8907}]","[{'number': 1, 'created': '2014-12-16 12:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/520aee027c11b4749f43e5b7430879d7143162b9', 'message': 'Changing target task property to singular form\n\nChange-Id: I0441957671a4227f89ecf3fb57a3b811230a5b9b\n'}, {'number': 2, 'created': '2014-12-16 18:10:25.000000000', 'files': ['mistral/engine1/commands.py', 'mistral/workbook/v2/tasks.py', 'mistral/tests/unit/workbook/v2/test_dsl_specs_v2.py', 'mistral/engine1/rpc.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/80b9457576e46f74a82de366513a6993dee94a7c', 'message': 'Changing target task property to singular form\n\nChange-Id: I0441957671a4227f89ecf3fb57a3b811230a5b9b\n'}]",3,142083,80b9457576e46f74a82de366513a6993dee94a7c,15,5,2,7700,,,0,"Changing target task property to singular form

Change-Id: I0441957671a4227f89ecf3fb57a3b811230a5b9b
",git fetch https://review.opendev.org/openstack/mistral refs/changes/83/142083/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine1/commands.py', 'mistral/workbook/v2/tasks.py', 'mistral/tests/unit/workbook/v2/test_dsl_specs_v2.py', 'mistral/engine1/rpc.py']",4,520aee027c11b4749f43e5b7430879d7143162b9,fix_targets," action_params, target=None): if target: self._cast_run_action(self.topic, target, **kwargs)"," action_params, targets=None): if targets: for target in targets: self._cast_run_action(self.topic, target, **kwargs)",13,14
openstack%2Ffuel-main~stable%2F6.0~I1da48a2374c4d4f0783b12bb9f736e54098fcb41,openstack/fuel-main,stable/6.0,I1da48a2374c4d4f0783b12bb9f736e54098fcb41,The delay required for downloading tftp boot image,MERGED,2014-12-16 16:14:02.000000000,2014-12-17 05:51:30.000000000,2014-12-17 05:51:29.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8782}, {'_account_id': 8786}, {'_account_id': 8967}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 16:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7f966628ae29b115b954684cbd6c67b994c900a5', 'message': 'The delay required for downloading tftp boot image\n\nThe delay allows to increase time for obtaining a boot image by\nfuel-slave nodes and decreasing CPU load on fuel-master node.\n\nChange-Id: I1da48a2374c4d4f0783b12bb9f736e54098fcb41\nCloses-Bug: #1401851\n'}, {'number': 2, 'created': '2014-12-16 17:15:42.000000000', 'files': ['virtualbox/actions/slave-nodes-create-and-boot.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/93af8119dcc5758ead2a17ab48f729a26a15d7fd', 'message': 'The delay required for downloading tftp boot image\n\nThe delay allows to increase time for obtaining a boot image by\nfuel-slave nodes and decreasing CPU load on fuel-master node.\n\nChange-Id: I1da48a2374c4d4f0783b12bb9f736e54098fcb41\nCloses-Bug: #1401851\n(cherry picked from commit 65a9bcdbd228dc8478091999689c7c81bcd7d762 )\n'}]",0,142143,93af8119dcc5758ead2a17ab48f729a26a15d7fd,13,6,2,13274,,,0,"The delay required for downloading tftp boot image

The delay allows to increase time for obtaining a boot image by
fuel-slave nodes and decreasing CPU load on fuel-master node.

Change-Id: I1da48a2374c4d4f0783b12bb9f736e54098fcb41
Closes-Bug: #1401851
(cherry picked from commit 65a9bcdbd228dc8478091999689c7c81bcd7d762 )
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/43/142143/1 && git format-patch -1 --stdout FETCH_HEAD,['virtualbox/actions/slave-nodes-create-and-boot.sh'],1,7f966628ae29b115b954684cbd6c67b994c900a5,bug/1401851, # The delay required for downloading tftp boot image sleep 10,,3,0
openstack%2Ffuel-main~master~I1da48a2374c4d4f0783b12bb9f736e54098fcb41,openstack/fuel-main,master,I1da48a2374c4d4f0783b12bb9f736e54098fcb41,The delay required for downloading tftp boot image,MERGED,2014-12-16 16:11:48.000000000,2014-12-17 05:48:09.000000000,2014-12-17 05:48:08.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 8782}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8967}, {'_account_id': 8971}, {'_account_id': 10667}, {'_account_id': 12866}]","[{'number': 1, 'created': '2014-12-16 16:11:48.000000000', 'files': ['virtualbox/actions/slave-nodes-create-and-boot.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/65a9bcdbd228dc8478091999689c7c81bcd7d762', 'message': 'The delay required for downloading tftp boot image\n\nThe delay allows to increase time for obtaining a boot image by\nfuel-slave nodes and decreasing CPU load on fuel-master node.\n\nChange-Id: I1da48a2374c4d4f0783b12bb9f736e54098fcb41\nCloses-Bug: #1401851\n'}]",0,142142,65a9bcdbd228dc8478091999689c7c81bcd7d762,11,11,1,13274,,,0,"The delay required for downloading tftp boot image

The delay allows to increase time for obtaining a boot image by
fuel-slave nodes and decreasing CPU load on fuel-master node.

Change-Id: I1da48a2374c4d4f0783b12bb9f736e54098fcb41
Closes-Bug: #1401851
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/42/142142/1 && git format-patch -1 --stdout FETCH_HEAD,['virtualbox/actions/slave-nodes-create-and-boot.sh'],1,65a9bcdbd228dc8478091999689c7c81bcd7d762,bug/1401851, # The delay required for downloading tftp boot image sleep 10,,3,0
openstack%2Fnova~master~Ifdfc30ff260298637c437e5758983db53a86c0dc,openstack/nova,master,Ifdfc30ff260298637c437e5758983db53a86c0dc,use more specific error messages in ec2 keystone auth,MERGED,2014-11-05 17:58:53.000000000,2014-12-17 05:36:59.000000000,2014-12-17 03:39:57.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-05 17:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb829fca037ad74a37beaf1aa988dbbecbabd29b', 'message': 'use more specific error messages in ec2 keystone auth\n\nCurrently in the ec2 keystone auth, when status code != 200 the\nresponse.reason is used for the error message only if\nstatus code == 401. This change uses response.reason for the error\nmessage for any status code != 200.\n\nIt also changes a message ""failure communicating with keystone""\nto ""failure parsing response from keystone.""\n\nChange-Id: Ifdfc30ff260298637c437e5758983db53a86c0dc\n'}, {'number': 2, 'created': '2014-11-19 18:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21bb2b88ea789829037c0127fe3b6123354d5332', 'message': 'use more specific error messages in ec2 keystone auth\n\nCurrently in the ec2 keystone auth, when status code != 200 the\nresponse.reason is used for the error message only if\nstatus code == 401. This change uses response.reason for the error\nmessage for any status code != 200.\n\nIt also changes a message ""failure communicating with keystone""\nto ""failure parsing response from keystone.""\n\nChange-Id: Ifdfc30ff260298637c437e5758983db53a86c0dc\n'}, {'number': 3, 'created': '2014-12-08 19:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da45204e9c706f97dfa2eb4b44c3c7721c4b183a', 'message': 'use more specific error messages in ec2 keystone auth\n\nCurrently in the ec2 keystone auth, when status code != 200 the\nresponse.reason is used for the error message only if\nstatus code == 401. This change uses response.reason for the error\nmessage for any status code != 200.\n\nIt also changes a message ""failure communicating with keystone""\nto ""failure parsing response from keystone.""\n\nChange-Id: Ifdfc30ff260298637c437e5758983db53a86c0dc\n'}, {'number': 4, 'created': '2014-12-10 23:33:14.000000000', 'files': ['nova/api/ec2/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa6fb53c6b3c2658cd21b67cd68442756e5144c1', 'message': 'use more specific error messages in ec2 keystone auth\n\nCurrently in the ec2 keystone auth, when status code != 200 the\nresponse.reason is used for the error message only if\nstatus code == 401. This change uses response.reason for the error\nmessage for any status code != 200.\n\nIt also changes a message ""failure communicating with keystone""\nto ""failure parsing response from keystone.""\n\nChange-Id: Ifdfc30ff260298637c437e5758983db53a86c0dc\n'}]",9,132896,aa6fb53c6b3c2658cd21b67cd68442756e5144c1,53,12,4,4690,,,0,"use more specific error messages in ec2 keystone auth

Currently in the ec2 keystone auth, when status code != 200 the
response.reason is used for the error message only if
status code == 401. This change uses response.reason for the error
message for any status code != 200.

It also changes a message ""failure communicating with keystone""
to ""failure parsing response from keystone.""

Change-Id: Ifdfc30ff260298637c437e5758983db53a86c0dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/132896/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/ec2/__init__.py'],1,eb829fca037ad74a37beaf1aa988dbbecbabd29b,ec2-keystone-error-msgs," msg = response.reason msg = _(""Failure parsing response from keystone: %s"") % e LOG.error(msg)"," if status_code == 401: msg = response.reason else: msg = _(""Failure communicating with keystone"") LOG.error(_LE(""Keystone failure: %s""), e) msg = _(""Failure communicating with keystone"")",3,6
openstack%2Fnova~master~I5e890c7b72c398e9625e590994d8c2afb9ce8897,openstack/nova,master,I5e890c7b72c398e9625e590994d8c2afb9ce8897,Stop neutron.api relying on base neutron package,MERGED,2014-11-25 00:13:53.000000000,2014-12-17 05:28:38.000000000,2014-12-17 03:40:18.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7191}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-25 00:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f3177c12e1ae6c32ebe2224346124a20a0d0147', 'message': 'Stop neutron.api relying on base neutron package\n\nThere is a weird namespacing issue happening here where the\nnova.network.neutronv2.api package is relying on nova.network.neutronv2.\nThis is backwards from standard design and results in strange sharing\npatterns when trying to do clean up.\n\nChange-Id: I5e890c7b72c398e9625e590994d8c2afb9ce8897\n'}, {'number': 2, 'created': '2014-12-10 05:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/169ca36e33187cb91cfbf0195b9689b4cafc912f', 'message': 'Stop neutron.api relying on base neutron package\n\nThere is a weird namespacing issue happening here where the\nnova.network.neutronv2.api package is relying on nova.network.neutronv2.\nThis is backwards from standard design and results in strange sharing\npatterns when trying to do clean up.\n\nChange-Id: I5e890c7b72c398e9625e590994d8c2afb9ce8897\n'}, {'number': 3, 'created': '2014-12-10 08:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c103c68db86d30efd6f2b1e19f1fafbc54091b65', 'message': 'Stop neutron.api relying on base neutron package\n\nThere is a weird namespacing issue happening here where the\nnova.network.neutronv2.api package is relying on nova.network.neutronv2.\nThis is backwards from standard design and results in strange sharing\npatterns when trying to do clean up.\n\nChange-Id: I5e890c7b72c398e9625e590994d8c2afb9ce8897\n'}, {'number': 4, 'created': '2014-12-10 10:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/113a004e9f65828b030b99f5d4b7ce90337525b6', 'message': 'Stop neutron.api relying on base neutron package\n\nThere is a weird namespacing issue happening here where the\nnova.network.neutronv2.api package is relying on nova.network.neutronv2.\nThis is backwards from standard design and results in strange sharing\npatterns when trying to do clean up.\n\nChange-Id: I5e890c7b72c398e9625e590994d8c2afb9ce8897\n'}, {'number': 5, 'created': '2014-12-10 11:27:24.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/neutronv2/__init__.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/network/security_group/neutron_driver.py', 'nova/tests/unit/api/openstack/compute/contrib/test_neutron_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4bab641e9a5b1a9a21280bc303fc4ecd77609510', 'message': 'Stop neutron.api relying on base neutron package\n\nThere is a weird namespacing issue happening here where the\nnova.network.neutronv2.api package is relying on nova.network.neutronv2.\nThis is backwards from standard design and results in strange sharing\npatterns when trying to do clean up.\n\nChange-Id: I5e890c7b72c398e9625e590994d8c2afb9ce8897\n'}]",1,136930,4bab641e9a5b1a9a21280bc303fc4ecd77609510,47,10,5,7191,,,0,"Stop neutron.api relying on base neutron package

There is a weird namespacing issue happening here where the
nova.network.neutronv2.api package is relying on nova.network.neutronv2.
This is backwards from standard design and results in strange sharing
patterns when trying to do clean up.

Change-Id: I5e890c7b72c398e9625e590994d8c2afb9ce8897
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/136930/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/network/security_group/test_neutron_driver.py', 'nova/network/neutronv2/__init__.py', 'nova/network/security_group/neutron_driver.py', 'nova/tests/unit/api/openstack/compute/contrib/test_neutron_security_groups.py']",6,9f3177c12e1ae6c32ebe2224346124a20a0d0147,move-neutron-api, self.original_client = neutron_api.get_client neutron_api.get_client = get_client neutron_api.get_client = self.original_client neutron_api.get_client = self.original_client,from nova.network import neutronv2 self.original_client = neutronv2.get_client neutronv2.get_client = get_client neutronv2.get_client = self.original_client neutronv2.get_client = self.original_client,194,205
openstack%2Fnova~master~If61e9855beddf66ac8a4fbfb59dc8bb2e22bdccf,openstack/nova,master,If61e9855beddf66ac8a4fbfb59dc8bb2e22bdccf,libvirt: don't pass a module import into methods,MERGED,2014-12-08 17:21:39.000000000,2014-12-17 05:06:08.000000000,2014-12-17 03:39:16.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-12-08 17:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ce82eb9a066f9e20320f6a3ab82554473831bad', 'message': ""libvirt: don't pass a module import into methods\n\nFor some reason the 'vconfig' module import is being passed\ninto the _set_kvm_timers method. This serves no purpose other\nthan to confuse people.\n\nChange-Id: If61e9855beddf66ac8a4fbfb59dc8bb2e22bdccf\n""}, {'number': 2, 'created': '2014-12-11 16:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d6155ec395e6c2837d7a01763921f67d8fcaf77', 'message': ""libvirt: don't pass a module import into methods\n\nFor some reason the 'vconfig' module import is being passed\ninto the _set_kvm_timers method. This serves no purpose other\nthan to confuse people.\n\nChange-Id: If61e9855beddf66ac8a4fbfb59dc8bb2e22bdccf\n""}, {'number': 3, 'created': '2014-12-16 11:44:51.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b0d29ae3c8cabd12a9e79321f8a48ec3eed4dd01', 'message': ""libvirt: don't pass a module import into methods\n\nFor some reason the 'vconfig' module import is being passed\ninto the _set_kvm_timers method. This serves no purpose other\nthan to confuse people.\n\nChange-Id: If61e9855beddf66ac8a4fbfb59dc8bb2e22bdccf\n""}]",0,140083,b0d29ae3c8cabd12a9e79321f8a48ec3eed4dd01,37,12,3,1779,,,0,"libvirt: don't pass a module import into methods

For some reason the 'vconfig' module import is being passed
into the _set_kvm_timers method. This serves no purpose other
than to confuse people.

Change-Id: If61e9855beddf66ac8a4fbfb59dc8bb2e22bdccf
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/140083/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,1ce82eb9a066f9e20320f6a3ab82554473831bad,libvirt-win-timers," def _set_kvm_timers(self, clk, image_meta): self._set_kvm_timers(clk, image_meta)"," def _set_kvm_timers(self, vconfig, clk, image_meta): self._set_kvm_timers(vconfig, clk, image_meta)",2,2
openstack%2Fhorizon~stable%2Ficehouse~I7187f8d2d19987681c2bcfeafc1617922bd684ad,openstack/horizon,stable/icehouse,I7187f8d2d19987681c2bcfeafc1617922bd684ad,Updated from global requirements,MERGED,2014-10-22 07:10:14.000000000,2014-12-17 04:49:52.000000000,2014-12-17 04:49:50.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 6635}, {'_account_id': 6763}, {'_account_id': 6914}, {'_account_id': 9317}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 11880}, {'_account_id': 12826}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-10-22 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1cb88794f6998bf6f9ec6515b397c9998222417', 'message': 'Updated from global requirements\n\nChange-Id: I7187f8d2d19987681c2bcfeafc1617922bd684ad\n'}, {'number': 2, 'created': '2014-11-15 17:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d40481c62d653e8b7218655cd997aa7333f44065', 'message': 'Updated from global requirements\n\nChange-Id: I7187f8d2d19987681c2bcfeafc1617922bd684ad\n'}, {'number': 3, 'created': '2014-11-20 00:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0ae0f2c829ef6a39869f189bbfc7dc1e326ff40', 'message': 'Updated from global requirements\n\nChange-Id: I7187f8d2d19987681c2bcfeafc1617922bd684ad\n'}, {'number': 4, 'created': '2014-11-26 10:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6e5b5c83b858aa20c00462548e25f051428bbff3', 'message': 'Updated from global requirements\n\nChange-Id: I7187f8d2d19987681c2bcfeafc1617922bd684ad\n'}, {'number': 5, 'created': '2014-11-26 20:47:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/89ae7056dc88895697defee9d6961a1cd1efc70b', 'message': 'Updated from global requirements\n\nChange-Id: I7187f8d2d19987681c2bcfeafc1617922bd684ad\n'}]",0,130145,89ae7056dc88895697defee9d6961a1cd1efc70b,53,16,5,11131,,,0,"Updated from global requirements

Change-Id: I7187f8d2d19987681c2bcfeafc1617922bd684ad
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/130145/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a1cb88794f6998bf6f9ec6515b397c9998222417,openstack/requirements,"python-glanceclient>=0.9.0,!=0.14.0",python-glanceclient>=0.9.0,1,1
openstack%2Fnova~master~I635f5993888b21dc9b497e588057af5f794f55b3,openstack/nova,master,I635f5993888b21dc9b497e588057af5f794f55b3,Clear libvirt test on LibvirtDriverTestCase,MERGED,2014-10-28 05:30:30.000000000,2014-12-17 04:43:48.000000000,2014-12-17 04:43:45.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8574}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-10-28 05:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3a4c8380dce187177d508da9566290e6ac43163', 'message': 'Clea libvirt test on LibvirtDriverTestCase\n\nWe already create a class variable for connection,\nno need to create each one for every test cases.\n\nChange-Id: I635f5993888b21dc9b497e588057af5f794f55b3\n'}, {'number': 2, 'created': '2014-10-28 05:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9917b3af4911916383a4580cf0c8372cb0b4310c', 'message': 'Clear libvirt test on LibvirtDriverTestCase\n\nWe already create a class variable for connection,\nno need to create each one for every test cases.\n\nChange-Id: I635f5993888b21dc9b497e588057af5f794f55b3\n'}, {'number': 3, 'created': '2014-11-13 08:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2e84d8d33724cca6034e6bcf09a6052c2ea50f5', 'message': 'Clear libvirt test on LibvirtDriverTestCase\n\nWe already create a class variable for connection,\nno need to create each one for every test cases.\n\nChange-Id: I635f5993888b21dc9b497e588057af5f794f55b3\n'}, {'number': 4, 'created': '2014-12-12 05:43:53.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d801742a29163d6e7bddfda141b33c0981e72c15', 'message': 'Clear libvirt test on LibvirtDriverTestCase\n\nWe already create a class variable for connection,\nno need to create each one for every test cases.\n\nChange-Id: I635f5993888b21dc9b497e588057af5f794f55b3\n'}]",2,131343,d801742a29163d6e7bddfda141b33c0981e72c15,53,12,4,6062,,,0,"Clear libvirt test on LibvirtDriverTestCase

We already create a class variable for connection,
no need to create each one for every test cases.

Change-Id: I635f5993888b21dc9b497e588057af5f794f55b3
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/131343/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/virt/libvirt/test_driver.py'],1,f3a4c8380dce187177d508da9566290e6ac43163,clean_conn_in_libvirt_tests, conn = self.libvirtconnection conn = self.libvirtconnection conn = self.libvirtconnection conn = self.libvirtconnection conn = self.libvirtconnection, conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()),5,5
openstack%2Fmagnum~master~I244b62fb673b596a932f5b296fe09d4dc6f3f4c2,openstack/magnum,master,I244b62fb673b596a932f5b296fe09d4dc6f3f4c2,Rename type to flavor,ABANDONED,2014-12-12 23:51:16.000000000,2014-12-17 04:18:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7494}, {'_account_id': 12385}]","[{'number': 1, 'created': '2014-12-12 23:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7ce5b558e2dc1e9d54273a4b74f9c18043209d35', 'message': 'Rename type to flavor\n\nSince we will be using nova with the ironic virt driver to launch things,\nit makes sense to rename type to flavor.  The bay flavor will then identify\nwhich flavor of bay to create.\n\nChange-Id: I244b62fb673b596a932f5b296fe09d4dc6f3f4c2\n'}, {'number': 2, 'created': '2014-12-13 01:04:13.000000000', 'files': ['magnum/objects/bay.py', 'magnum/api/controllers/v1/bay.py', 'magnum/db/api.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/da4144cc98fa25c79ed73d6dcb118386f76f5269', 'message': 'Rename type to flavor\n\nSince we will be using nova with the ironic virt driver to launch things,\nit makes sense to rename type to flavor.  The bay flavor will then identify\nwhich flavor of bay to create.\n\nChange-Id: I244b62fb673b596a932f5b296fe09d4dc6f3f4c2\n'}]",0,141525,da4144cc98fa25c79ed73d6dcb118386f76f5269,11,4,2,2834,,,0,"Rename type to flavor

Since we will be using nova with the ironic virt driver to launch things,
it makes sense to rename type to flavor.  The bay flavor will then identify
which flavor of bay to create.

Change-Id: I244b62fb673b596a932f5b296fe09d4dc6f3f4c2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/25/141525/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/objects/bay.py', 'magnum/api/controllers/v1/bay.py', 'magnum/db/api.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/db/sqlalchemy/models.py']",5,7ce5b558e2dc1e9d54273a4b74f9c18043209d35,, flavor = Column(String(20)) flavor = Column(String(20)), type = Column(String(20)) type = Column(String(20)),9,9
openstack%2Fpython-magnumclient~master~I2725a7ce97f12e085a63cb596c720b81cf1202d1,openstack/python-magnumclient,master,I2725a7ce97f12e085a63cb596c720b81cf1202d1,"Rename ""type"" to ""flavor"" in bay in magnumclient",ABANDONED,2014-12-12 23:44:43.000000000,2014-12-17 04:16:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7770}]","[{'number': 1, 'created': '2014-12-12 23:44:43.000000000', 'files': ['magnumclient/api/bays.py', 'magnumclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/eb4311cd30bf222fbb3e5623ab9938ecdbcc60b1', 'message': 'Rename ""type"" to ""flavor"" in bay in magnumclient\n\nRename type to flavor in the bay object\n\nChange-Id: I2725a7ce97f12e085a63cb596c720b81cf1202d1\n'}]",0,141523,eb4311cd30bf222fbb3e5623ab9938ecdbcc60b1,5,3,1,2834,,,0,"Rename ""type"" to ""flavor"" in bay in magnumclient

Rename type to flavor in the bay object

Change-Id: I2725a7ce97f12e085a63cb596c720b81cf1202d1
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/23/141523/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/api/bays.py', 'magnumclient/api/shell.py']",2,eb4311cd30bf222fbb3e5623ab9938ecdbcc60b1,," columns = ('uuid', 'name', 'flavor', 'image_id', 'node_count')@utils.arg('--flavor', metavar='<flavor>', opts['flavor'] = args.flavor columns = ('uuid', 'flavor', 'image_id')@utils.arg('--flavor', metavar='<flavor>', help='Flavor of node to create.') opts['flavor'] = args.flavor"," columns = ('uuid', 'name', 'type', 'image_id', 'node_count')@utils.arg('--type', metavar='<type>', opts['type'] = args.type columns = ('uuid', 'type', 'image_id')@utils.arg('--type', metavar='<type>', help='Type of node to create (virt or bare).') opts['type'] = args.type",10,10
openstack%2Fhorizon~master~Ieb7833038228c97f7415bd57ecd353e218f00cdd,openstack/horizon,master,Ieb7833038228c97f7415bd57ecd353e218f00cdd,Small performance improvement,MERGED,2014-12-10 07:57:32.000000000,2014-12-17 03:59:19.000000000,2014-12-17 03:59:18.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 4264}, {'_account_id': 4428}, {'_account_id': 6610}, {'_account_id': 8871}, {'_account_id': 12355}]","[{'number': 1, 'created': '2014-12-10 07:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bca1fc2d1b6feb8b1bb3ff943b8984efb10b4208', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 2, 'created': '2014-12-10 08:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e341ad05b95e6ee87b562d35280097b4a7cec1b6', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 3, 'created': '2014-12-11 01:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/85d2abf215c7d27e50b5265e50530a9b3c37b7c8', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 4, 'created': '2014-12-11 03:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5dde53915ced5e902831a6310679e9157858b8ea', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 5, 'created': '2014-12-11 05:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/716774ff9ecde9f7d3ee0dd84549d215cb84f022', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 6, 'created': '2014-12-11 07:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/161058032a0c2849988209f8aeeb61da6d4fab32', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 7, 'created': '2014-12-11 09:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7ceff415b66c3405f7865baa7020a2e2971086c4', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 8, 'created': '2014-12-12 01:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/62af703af65dbd2aeff5edc63bd70ab5814577d3', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 9, 'created': '2014-12-12 02:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e37be580047c2eb38e8948eae06d4277051d32ae', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}, {'number': 10, 'created': '2014-12-12 03:09:44.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/volumes/tests.py', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/volumes/volumes/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b58942a84ba2b85efd0a95b3bd04dce255284e8', 'message': 'Small performance improvement\n\nWe can use search_opts for volume_list and volume_snapshot_list\ninstead of filtering the results after we get the whole list to\nimprove the performance.\n\nChange-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd\nCloses-bug: #1401013\n'}]",20,140600,9b58942a84ba2b85efd0a95b3bd04dce255284e8,47,7,10,4428,,,0,"Small performance improvement

We can use search_opts for volume_list and volume_snapshot_list
instead of filtering the results after we get the whole list to
improve the performance.

Change-Id: Ieb7833038228c97f7415bd57ecd353e218f00cdd
Closes-bug: #1401013
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/140600/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py'],1,bca1fc2d1b6feb8b1bb3ff943b8984efb10b4208,small-performance-improvement," avaliable = api.cinder.VOLUME_STATE_AVAILABLE for v in cinder.volume_list(self.request, search_opts=dict(status=avaliable, bootable='true'))] avaliable = api.cinder.VOLUME_STATE_AVAILABLE snapshots = cinder.volume_snapshot_list( self.request, search_opts=dict(status=avaliable))", for v in cinder.volume_list(self.request) if (v.status == api.cinder.VOLUME_STATE_AVAILABLE and v.bootable == 'true')] snaps = cinder.volume_snapshot_list(self.request) snapshots = [self._get_volume_display_name(s) for s in snaps if s.status == api.cinder.VOLUME_STATE_AVAILABLE],7,6
openstack%2Fhorizon~master~Ia0e5ba02a4980c1db0d914e2689956feee5fb718,openstack/horizon,master,Ia0e5ba02a4980c1db0d914e2689956feee5fb718,Make admin_state translatable,MERGED,2014-12-16 07:54:24.000000000,2014-12-17 03:57:36.000000000,2014-12-17 03:57:34.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 5623}, {'_account_id': 6610}]","[{'number': 1, 'created': '2014-12-16 07:54:24.000000000', 'files': ['openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/admin/routers/ports/tables.py', 'openstack_dashboard/dashboards/project/vpn/forms.py', 'openstack_dashboard/dashboards/project/networks/ports/tables.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/firewalls/forms.py', 'openstack_dashboard/dashboards/admin/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'openstack_dashboard/dashboards/project/firewalls/workflows.py', 'openstack_dashboard/dashboards/project/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/loadbalancers/workflows.py', 'openstack_dashboard/dashboards/project/loadbalancers/forms.py', 'openstack_dashboard/dashboards/project/routers/ports/tables.py', 'openstack_dashboard/dashboards/project/networks/forms.py', 'openstack_dashboard/dashboards/admin/networks/ports/tables.py', 'openstack_dashboard/dashboards/project/vpn/workflows.py', 'openstack_dashboard/dashboards/project/routers/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/33092aec9b904adffefae571ae8fbec26c839239', 'message': 'Make admin_state translatable\n\nIn several panels the network admin state is hardcoded to UP/DOWN,\nthis patch aims to make the admin_state translatable.\n\nChange-Id: Ia0e5ba02a4980c1db0d914e2689956feee5fb718\nCloses-bug: #1390207\n'}]",0,142012,33092aec9b904adffefae571ae8fbec26c839239,11,4,1,4428,,,0,"Make admin_state translatable

In several panels the network admin state is hardcoded to UP/DOWN,
this patch aims to make the admin_state translatable.

Change-Id: Ia0e5ba02a4980c1db0d914e2689956feee5fb718
Closes-bug: #1390207
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/142012/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/admin/routers/ports/tables.py', 'openstack_dashboard/dashboards/project/vpn/forms.py', 'openstack_dashboard/dashboards/project/networks/ports/tables.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/firewalls/forms.py', 'openstack_dashboard/dashboards/admin/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'openstack_dashboard/dashboards/project/firewalls/workflows.py', 'openstack_dashboard/dashboards/project/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/loadbalancers/workflows.py', 'openstack_dashboard/dashboards/project/loadbalancers/forms.py', 'openstack_dashboard/dashboards/project/routers/ports/tables.py', 'openstack_dashboard/dashboards/project/networks/forms.py', 'openstack_dashboard/dashboards/admin/networks/ports/tables.py', 'openstack_dashboard/dashboards/project/vpn/workflows.py', 'openstack_dashboard/dashboards/project/routers/forms.py']",18,33092aec9b904adffefae571ae8fbec26c839239,admin-state-translatable," admin_state = forms.ChoiceField(choices=[(True, _('UP')), (False, _('DOWN'))],"," # TODO(amotoki): make UP/DOWN translatable admin_state = forms.ChoiceField(choices=[(True, 'UP'), (False, 'DOWN')],",96,48
openstack%2Fmanila~master~I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1,openstack/manila,master,I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1,Workflow documentation is now in infra-manual,MERGED,2014-12-05 03:42:13.000000000,2014-12-17 03:47:24.000000000,2014-12-17 03:47:22.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 6547}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2014-12-05 03:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9e70244eb52cff2c25b2478001e1aeecc028a225', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1\n'}, {'number': 2, 'created': '2014-12-05 04:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05aa8ed5a154e946286034c1bbde5ae642082708', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1\n'}, {'number': 3, 'created': '2014-12-16 08:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/94f416e47af020a2d204c1c7ecbc43c4744b505c', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1\n'}, {'number': 4, 'created': '2014-12-16 12:14:01.000000000', 'files': ['doc/source/devref/gerrit.rst', 'CONTRIBUTING.md', 'doc/source/devref/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/dc0f163f4c1182a4988310e0c0eccbf97c0e4d17', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1\n'}]",9,139336,dc0f163f4c1182a4988310e0c0eccbf97c0e4d17,26,7,4,5263,,,0,"Workflow documentation is now in infra-manual

Replace URLs for workflow documentation to appropriate parts of the
OpenStack Project Infrastructure Manual.

Change-Id: I7e589febbc12bd70c5d5f3c03fb33d5d5b182aa1
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/139336/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/gerrit.rst', 'CONTRIBUTING.md', 'doc/source/devref/development.environment.rst']",3,9e70244eb52cff2c25b2478001e1aeecc028a225,infra-manual,Grab the code::.. _GerritWorkflow: http://docs.openstack.org/infra/manual/developers.html#development-workflow,Grab the code from GitHub::.. _GerritWorkflow: http://wiki.openstack.org/GerritWorkflow,8,8
openstack%2Frequirements~master~I1d73e010c75856ab482f9d3d63f361749ae1b7ab,openstack/requirements,master,I1d73e010c75856ab482f9d3d63f361749ae1b7ab,Add tooz to project list to update,MERGED,2014-12-09 14:33:06.000000000,2014-12-17 03:47:12.000000000,2014-12-17 03:47:11.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1297}, {'_account_id': 1561}, {'_account_id': 1669}, {'_account_id': 1994}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 7450}, {'_account_id': 8122}, {'_account_id': 9107}]","[{'number': 1, 'created': '2014-12-09 14:33:06.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0dcfd74efb848b4e75c747c6c6baf4b1e07fc29b', 'message': 'Add tooz to project list to update\n\nChange-Id: I1d73e010c75856ab482f9d3d63f361749ae1b7ab\n'}]",0,140344,0dcfd74efb848b4e75c747c6c6baf4b1e07fc29b,19,16,1,1669,,,0,"Add tooz to project list to update

Change-Id: I1d73e010c75856ab482f9d3d63f361749ae1b7ab
",git fetch https://review.opendev.org/openstack/requirements refs/changes/44/140344/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,0dcfd74efb848b4e75c747c6c6baf4b1e07fc29b,jd/tooz,openstack/tooz,,1,0
openstack%2Fnova~master~I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88,openstack/nova,master,I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88,Improve error return code of floating_ips in v2/v2.1 api,MERGED,2014-10-13 07:37:16.000000000,2014-12-17 03:44:15.000000000,2014-12-17 03:36:00.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-10-13 07:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c88de04214afb8644eeea1b807ef62d611b12f', 'message': 'Add slfjsdlfj\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 2, 'created': '2014-10-13 07:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3030dd80f302d12da69532f616da4214b8cefd3c', 'message': 'Improve error return code of floating_ips in v3 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 3, 'created': '2014-10-14 03:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17e27b4e9122c0beb76eb8c4a4496a3b85c5fa2d', 'message': 'Improve error return code of floating_ips in v3 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 4, 'created': '2014-10-21 01:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a7d77be806affa3ac8c45215737b4e8afda4549', 'message': 'Improve error return code of floating_ips in v3 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 5, 'created': '2014-10-27 06:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c13da94b488fff831457fedcc61172840d5b501', 'message': 'Improve error return code of floating_ips in v3 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 6, 'created': '2014-10-28 05:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e8b7c84f83054f612a84471bd0a9a3f0ad64e04', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 7, 'created': '2014-10-28 06:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5968dbcd775dffc84eaf556098f6f76424cf1235', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 8, 'created': '2014-10-29 04:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64b952947c48bab9882d8a98cd95e87274132f2e', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400(BadRequest)\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 9, 'created': '2014-11-17 05:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae85b39e211e621208cc3ccf54a01815215c6837', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 10, 'created': '2014-11-21 08:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a77c88e835d56a4e457aab6fe1d04af510cae6da', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 11, 'created': '2014-11-24 02:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3076da78d552dee71567a03ee00be781f11d9d55', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 12, 'created': '2014-11-26 06:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e2bd8b7b28d000d85340f09a94f81ccaf82a07c', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 13, 'created': '2014-11-26 06:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cec57a87f4c1ebb07b961af16224293dd32f4ced', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 14, 'created': '2014-11-26 08:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d900627bdf43249293bd48aaaa4f0c397206eaa', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 15, 'created': '2014-11-27 06:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9755a314fc347d959e7332cd1e1b1ab8179e217d', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 16, 'created': '2014-11-27 08:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4988661950447f45752a619ecefa8d249137669d', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 17, 'created': '2014-11-28 01:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6376c6ff37ec30a8734ec993eac77e85c84480', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 18, 'created': '2014-11-28 02:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2da5bbab0e48ef726694a3323a8f5e43237e696d', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 19, 'created': '2014-11-28 05:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2601a22efe77723d504f2a06035ad748da74797', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}, {'number': 20, 'created': '2014-11-28 05:35:52.000000000', 'files': ['nova/api/openstack/compute/contrib/floating_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py', 'nova/api/openstack/compute/plugins/v3/floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f88c725f2124cd5a51185fc3beecb6f5a78d98b3', 'message': 'Improve error return code of floating_ips in v2/v2.1 api\n\n1.change exception.InvalidID from 404 to 400 when passing a invalid\nid.\n\n2.handle exceptions when calling get_instance_id_by_floating_address()\n  FloatingIpNotFoundForAddress -> HTTPNotFound\n  FloatingIpMultipleFoundForAddress ->HTTPConflict\n\n3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating\nip which is not associated the instance\n\nChange-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88\n'}]",14,127889,f88c725f2124cd5a51185fc3beecb6f5a78d98b3,171,17,20,12175,,,0,"Improve error return code of floating_ips in v2/v2.1 api

1.change exception.InvalidID from 404 to 400 when passing a invalid
id.

2.handle exceptions when calling get_instance_id_by_floating_address()
  FloatingIpNotFoundForAddress -> HTTPNotFound
  FloatingIpMultipleFoundForAddress ->HTTPConflict

3.change HTTPUnprocessableEntity to HTTPConflict when remove a floating
ip which is not associated the instance

Change-Id: I0c9cd5b50a2d3cf024e5c4c3506ae2d0e6394c88
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/127889/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/floating_ips.py', 'setup.cfg']",2,04c88de04214afb8644eeea1b807ef62d611b12f,bp/v2-on-v3-api, fping = nova.api.openstack.compute.plugins.v3.fping:Fping, fping = nova.api.openstack.compute.plugins.v3.fping:Fping,26,9
openstack%2Fkeystone~master~I95761267b6c0f3052bc52deda6d56fc4b713ea6b,openstack/keystone,master,I95761267b6c0f3052bc52deda6d56fc4b713ea6b,Remove XML support,MERGED,2014-10-02 18:56:00.000000000,2014-12-17 03:43:27.000000000,2014-12-17 03:43:25.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-10-02 18:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17db423b0134f89658a86a26ede8c08ff71c7faa', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 2, 'created': '2014-10-02 18:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7b210ef43fbb14749a1caf92e7d41294944fccab', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 3, 'created': '2014-10-06 05:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/75a88f594821b39376ed0aec9af8c9ecdd277761', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 4, 'created': '2014-10-07 14:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1ee0cbf9b0ae8e0d19d303d45e247585fb5c0c7d', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 5, 'created': '2014-10-13 19:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7215427f8d12ddfe23cf46e26d3e39a13618a906', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 6, 'created': '2014-10-16 14:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/856cab5a185a7efd05b687a02ff53bc84d329cf5', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 7, 'created': '2014-10-17 14:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c7600c78827f40616b80286383c8ab1e9475a41e', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 8, 'created': '2014-10-17 18:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eeb427e96849fe8578c58ce58e418bd54dce91ec', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 9, 'created': '2014-10-21 17:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/51cbb1924a6cf18c9b4017aab011c3842adefa83', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 10, 'created': '2014-10-21 22:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7709a9c86a4575aa0f0b225595f1330ba64bdb49', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 11, 'created': '2014-10-23 14:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed23e28064f4d8d2d00804e55de17aca0691a9e1', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 12, 'created': '2014-10-23 21:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ceb7b420a33be6d41ac03af8c7f3cc6277d0e9f6', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 13, 'created': '2014-10-24 19:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/66f8f494dca357f6439f60d0d78b6fe9e775ceb8', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 14, 'created': '2014-10-28 18:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/897c5e77a6ee74ad7cb4b72ad7654068512c69c6', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 15, 'created': '2014-11-20 15:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/beae8f443fa590be97e02bb159fa8d403cd6e3a0', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 16, 'created': '2014-11-20 18:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/139724a74cdd77299be0529475ff388b6ef4a319', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 17, 'created': '2014-12-02 14:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b951d5765dd9b5c4829a55b5bdf74c7ea3eca4b', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 18, 'created': '2014-12-03 15:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/65ad4e90e87a8f6c62192b8c0e348bb9112e645b', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 19, 'created': '2014-12-03 19:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cfbc441b4a943fa324ecae8f211c1aa4b4ddb471', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 20, 'created': '2014-12-08 02:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1db51fcb5d034d6dd78ac50bf893aded8205d5d6', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 21, 'created': '2014-12-12 20:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/811959eb479e5a303226c44501bb6fcff13437cb', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}, {'number': 22, 'created': '2014-12-13 16:30:31.000000000', 'files': ['keystone/tests/test_serializer.py', 'etc/keystone-paste.ini', 'keystone/tests/test_v3_catalog.py', 'keystone/middleware/core.py', 'keystone/common/serializer.py', 'keystone/tests/test_v3_federation.py', 'keystone/tests/test_versions.py', 'keystone/tests/test_v3_auth.py', 'keystone/controllers.py', 'keystone/tests/test_v3.py', 'keystone/tests/test_v3_filters.py', 'keystone/token/controllers.py', 'keystone/tests/test_content_types.py', 'keystone/tests/test_middleware.py', 'keystone/tests/test_v3_assignment.py', 'keystone/tests/rest.py', 'keystone/tests/test_v3_identity.py', 'keystone/tests/test_v3_credential.py', 'keystone/tests/test_v3_policy.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4fdaab3b975f3c5f9ada7cd8e0621628fee38b70', 'message': 'Remove XML support\n\nXML support has been deprecated for the last two releases, staged to be\nremoved in Kilo.\n\nimplements bp removed-as-of-kilo\nCloses-Bug: #1384382\nCloses-Bug: #1384789\n\nChange-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b\n'}]",41,125738,4fdaab3b975f3c5f9ada7cd8e0621628fee38b70,141,11,22,5046,,,0,"Remove XML support

XML support has been deprecated for the last two releases, staged to be
removed in Kilo.

implements bp removed-as-of-kilo
Closes-Bug: #1384382
Closes-Bug: #1384789

Change-Id: I95761267b6c0f3052bc52deda6d56fc4b713ea6b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/38/125738/9 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_serializer.py', 'etc/keystone-paste.ini', 'keystone/tests/test_v3_catalog.py', 'keystone/middleware/core.py', 'keystone/common/serializer.py', 'keystone/tests/test_v3_federation.py', 'keystone/tests/test_versions.py', 'keystone/tests/test_v3_auth.py', 'keystone/controllers.py', 'keystone/tests/test_v3.py', 'keystone/tests/test_v3_filters.py', 'keystone/token/controllers.py', 'keystone/tests/test_content_types.py', 'keystone/tests/test_middleware.py', 'keystone/tests/rest.py', 'keystone/tests/test_v3_identity.py', 'keystone/tests/test_v3_credential.py', 'keystone/tests/test_v3_policy.py']",18,17db423b0134f89658a86a26ede8c08ff71c7faa,bp/removed-as-of-kilo,," def test_list_policies_xml(self): """"""Call ``GET /policies (xml data)``."""""" r = self.get('/policies', content_type='xml') self.assertValidPolicyListResponse(r, ref=self.policy) ",17,1534
openstack%2Fnova~master~I34051813849c90d25a9c2377fb413b49935553b4,openstack/nova,master,I34051813849c90d25a9c2377fb413b49935553b4,objects: fix changed fields for instance numa cell,MERGED,2014-12-10 13:09:44.000000000,2014-12-17 03:43:02.000000000,2014-12-17 03:42:59.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7730}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-10 13:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcbaa7447f60a6517a9744be6049a9d96f893629', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}, {'number': 2, 'created': '2014-12-10 14:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1ea3ca6c9aecf9a6d7c31678883d47eba5f0ae1', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}, {'number': 3, 'created': '2014-12-10 15:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41b66e481cb8e8eae5427aa91ad2c5dada537a54', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}, {'number': 4, 'created': '2014-12-10 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/567987035bc3ef685ea09ac2b82be55aa5e23ca5', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}, {'number': 5, 'created': '2014-12-11 08:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd0590dbd6abf92e0036d56f169c6eb83baeedc0', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}, {'number': 6, 'created': '2014-12-13 09:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee3d000a3ced8b6a19c250d29bbc8810eb5e0c42', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}, {'number': 7, 'created': '2014-12-15 11:53:11.000000000', 'files': ['nova/tests/unit/objects/test_instance_numa_topology.py', 'nova/objects/instance_numa_topology.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1caab9ad94ee4f540dda9284a9137d6b3d0318a6', 'message': 'objects: fix changed fields for instance numa cell\n\nCommit 139529a90e6dfc60639887af77bbfab18b2638ab introduces\ndefault fields. At this step of the construction we dont want\nto consider fields has changed.\n\nChange-Id: I34051813849c90d25a9c2377fb413b49935553b4\n'}]",6,140670,1caab9ad94ee4f540dda9284a9137d6b3d0318a6,63,11,7,7730,,,0,"objects: fix changed fields for instance numa cell

Commit 139529a90e6dfc60639887af77bbfab18b2638ab introduces
default fields. At this step of the construction we dont want
to consider fields has changed.

Change-Id: I34051813849c90d25a9c2377fb413b49935553b4
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/140670/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance_numa_topology.py'],1,bcbaa7447f60a6517a9744be6049a9d96f893629,bp/virt-driver-large-pages, self.obj_reset_changes() ,,2,0
openstack%2Fnova~master~I209325ff587f6bca366a377475b03772daf519ba,openstack/nova,master,I209325ff587f6bca366a377475b03772daf519ba,libvirt: have _get_guest_numa_config return a named tuple,MERGED,2014-12-10 14:36:52.000000000,2014-12-17 03:42:42.000000000,2014-12-17 03:42:39.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8802}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-10 14:36:52.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3464aac1df496bd026b7e6c9af27f8bfc9ec3650', 'message': 'libvirt: have _get_guest_numa_config return a named tuple\n\nHave the method return an object. This makes the code a lot cleaner.\n\nChange-Id: I209325ff587f6bca366a377475b03772daf519ba\n'}]",0,140696,3464aac1df496bd026b7e6c9af27f8bfc9ec3650,31,10,1,1653,,,0,"libvirt: have _get_guest_numa_config return a named tuple

Have the method return an object. This makes the code a lot cleaner.

Change-Id: I209325ff587f6bca366a377475b03772daf519ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/140696/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,3464aac1df496bd026b7e6c9af27f8bfc9ec3650,cruft-namedtuple,"import collectionsGuestNumaConfig = collections.namedtuple( 'GuestNumaConfig', ['cpuset', 'cputune', 'numaconfig', 'numatune']) return GuestNumaConfig(allowed_cpus, None, None, None) return GuestNumaConfig(pin_cpuset, None, None, None) return GuestNumaConfig(allowed_cpus, None, None, None) return GuestNumaConfig(None, guest_cpu_tune, guest_cpu_numa_config, guest_numa_tune) else: return GuestNumaConfig(allowed_cpus, None, guest_cpu_numa_config, None) guest_numa_config = self._get_guest_numa_config( guest.cpuset = guest_numa_config.cpuset guest.cputune = guest_numa_config.cputune guest.numatune = guest_numa_config.numatune flavor, image_meta, guest_numa_config.numaconfig)"," return allowed_cpus, None, None, None return pin_cpuset, None, None, None return allowed_cpus, None, None, None return (None, guest_cpu_tune, guest_cpu_numa_config, guest_numa_tune) else: return allowed_cpus, None, guest_cpu_numa_config, None cpuset, cputune, guest_cpu_numa, guest_numa_tune = \ self._get_guest_numa_config( guest.cpuset = cpuset guest.cputune = cputune guest.numatune = guest_numa_tune flavor, image_meta, guest_cpu_numa)",17,12
openstack%2Fnova~master~I3dc48c4ebb7ea4576429cf836bae995ede21ce30,openstack/nova,master,I3dc48c4ebb7ea4576429cf836bae995ede21ce30,Use model_query from oslo.db,MERGED,2014-12-10 14:11:11.000000000,2014-12-17 03:42:22.000000000,2014-12-17 03:42:18.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-10 14:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49bb04176aa92eb246f3169add7396e64f6f76c8', 'message': 'Use model_query from oslo.db\n\nThis change makes nova.db.sqlalchemy.api.model_query() a wrapper round\noslo.db.sqlalchemy.utils.model_query().\n\nArguments to model_query are brought in line with the version in\noslo.db, which removes the need for heuristic introspection of the\nmodel argument. This creates some noise in the patch, as all callers\nwhich previously used the base_model argument have had to be updated.\n\nmodel_query from oslo.db returns a TypeError rather than a ValueError for an\ninvalid model, so the invalid arguments test is updated accordingly.\n\nThis requires N309 to have been disabled for sqlalchemy/api.py, as it\nwill complain about the session argument to model_query.\n\nChange-Id: I3dc48c4ebb7ea4576429cf836bae995ede21ce30\n'}, {'number': 2, 'created': '2014-12-10 16:57:20.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/291c11eaca8dccafbf7db4c0a311489ed00ad7ba', 'message': 'Use model_query from oslo.db\n\nThis change makes nova.db.sqlalchemy.api.model_query() a wrapper round\noslo.db.sqlalchemy.utils.model_query().\n\nArguments to model_query are brought in line with the version in\noslo.db, which removes the need for heuristic introspection of the\nmodel argument. This creates some noise in the patch, as all callers\nwhich previously used the base_model argument have had to be updated.\n\nmodel_query from oslo.db returns a TypeError rather than a ValueError for an\ninvalid model, so the invalid arguments test is updated accordingly.\n\nThis requires N309 to have been disabled for sqlalchemy/api.py, as it\nwill complain about the session argument to model_query.\n\nChange-Id: I3dc48c4ebb7ea4576429cf836bae995ede21ce30\n'}]",0,140687,291c11eaca8dccafbf7db4c0a311489ed00ad7ba,41,9,2,9555,,,0,"Use model_query from oslo.db

This change makes nova.db.sqlalchemy.api.model_query() a wrapper round
oslo.db.sqlalchemy.utils.model_query().

Arguments to model_query are brought in line with the version in
oslo.db, which removes the need for heuristic introspection of the
model argument. This creates some noise in the patch, as all callers
which previously used the base_model argument have had to be updated.

model_query from oslo.db returns a TypeError rather than a ValueError for an
invalid model, so the invalid arguments test is updated accordingly.

This requires N309 to have been disabled for sqlalchemy/api.py, as it
will complain about the session argument to model_query.

Change-Id: I3dc48c4ebb7ea4576429cf836bae995ede21ce30
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/140687/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,49bb04176aa92eb246f3169add7396e64f6f76c8,db/oslo,"def model_query(context, model, args=None, session=None, use_slave=False, read_deleted=None, project_only=False): :param context: NovaContext of the query. :param model: Model to query. Must be a subclass of ModelBase. :param args: Arguments to query. If None - model is used. :param session: If present, the session to use. :param use_slave: If true, use a slave connection to the DB if creating a session. :param read_deleted: If not None, overrides context's read_deleted field. Permitted values are 'no', which does not return deleted values; 'only', which only returns deleted values; and 'yes', which does not filter deleted values. :param project_only: If set and context is user-type, then restrict query to match the context's project_id. If set to 'allow_none', restriction includes project_id = None. if session is None: if CONF.database.slave_connection == '': use_slave = False session = get_session(use_slave=use_slave) if read_deleted is None: read_deleted = context.read_deleted query_kwargs = {} if 'no' == read_deleted: query_kwargs['deleted'] = False elif 'only' == read_deleted: query_kwargs['deleted'] = True elif 'yes' == read_deleted: pass query = sqlalchemyutils.model_query(model, session, args, **query_kwargs) # We can't use oslo.db model_query's project_id here, as it doesn't allow # us to return both our projects and unowned projects. filter(or_(model.project_id == context.project_id, model.project_id == null())) models.ComputeNode, ( func.count(models.ComputeNode.id), func.sum(models.ComputeNode.vcpus), func.sum(models.ComputeNode.memory_mb), func.sum(models.ComputeNode.local_gb), func.sum(models.ComputeNode.vcpus_used), func.sum(models.ComputeNode.memory_mb_used), func.sum(models.ComputeNode.local_gb_used), func.sum(models.ComputeNode.free_ram_mb), func.sum(models.ComputeNode.free_disk_gb), func.sum(models.ComputeNode.current_workload), func.sum(models.ComputeNode.running_vms), func.sum(models.ComputeNode.disk_available_least), ), read_deleted=""no"").\ for result in model_query(context, models.FloatingIp, (models.FloatingIp.pool,)).distinct(): result = model_query(context, models.FixedIp, (models.FixedIp.id,), read_deleted=""no"", session=session).\ (models.FixedIp, models.Network, models.Instance)).\ return model_query(context, models.FixedIp, (models.FixedIp.id,), read_deleted=""no"", session=session).\ models.Instance, ( func.count(models.Instance.id), func.sum(models.Instance.vcpus), func.sum(models.Instance.memory_mb), ), session=session).\ subq = model_query(context, model_metadata, (model_uuid,), session=query.session).\ subq = model_query(context, model_metadata, (model_uuid,), session=query.session).\ for tuple in model_query(context, models.Instance, (models.Instance.uuid,), read_deleted=""no"", session=session).\ models.FloatingIp, (models.FloatingIp.address,)).\ fixed_ip_query = model_query(context, models.FixedIp, (models.FixedIp.network_id,), user_quotas = model_query(context, models.ProjectUserQuota, (models.ProjectUserQuota.resource, models.ProjectUserQuota.hard_limit)).\ return model_query(context, models.InstanceTypes, (models.InstanceTypes.id,), read_deleted=""no"", session=session).\ models.InstanceGroup, (models.InstanceGroup.id,), models.InstanceGroupMember, (models.InstanceGroupMember.instance_id,)).\ models.InstanceGroupPolicy, (models.InstanceGroupPolicy.policy,)).\","def model_query(context, model, *args, **kwargs): :param context: context to query under :param use_slave: If true, use slave_connection :param session: if present, the session to use :param read_deleted: if present, overrides context's read_deleted field. :param project_only: if present and context is user-type, then restrict query to match the context's project_id. If set to 'allow_none', restriction includes project_id = None. :param base_model: Where model_query is passed a ""model"" parameter which is not a subclass of NovaBase, we should pass an extra base_model parameter that is a subclass of NovaBase and corresponds to the model parameter. # We pass a function here rather than a value so we can lazily evaluate # get_session. In all cases we want to use the default value even if we've # been explicitly passed a value of None def _default(kwarg, default): val = kwargs.get(kwarg) if val is None: return default() return val use_slave = _default('use_slave', lambda: False) # Can't use a slave if it's not specified if CONF.database.slave_connection == '': use_slave = False session = _default('session', lambda: get_session(use_slave=use_slave)) read_deleted = _default('read_deleted', lambda: context.read_deleted) project_only = _default('project_only', lambda: False) # No default for base_model; it's handled below base_model = kwargs.get('base_model') def issubclassof_nova_base(obj): return isinstance(obj, type) and issubclass(obj, models.NovaBase) if issubclassof_nova_base(model): base_model = model elif not issubclassof_nova_base(base_model): raise ValueError(_(""model or base_model parameter should be "" ""subclass of NovaBase"")) query = session.query(model, *args) default_deleted_value = base_model.__mapper__.c.deleted.default.arg if read_deleted == 'no': query = query.filter(base_model.deleted == default_deleted_value) elif read_deleted == 'yes': pass # omit the filter to include deleted and active elif read_deleted == 'only': query = query.filter(base_model.deleted != default_deleted_value) filter(or_(base_model.project_id == context.project_id, base_model.project_id == null())) func.count(models.ComputeNode.id), func.sum(models.ComputeNode.vcpus), func.sum(models.ComputeNode.memory_mb), func.sum(models.ComputeNode.local_gb), func.sum(models.ComputeNode.vcpus_used), func.sum(models.ComputeNode.memory_mb_used), func.sum(models.ComputeNode.local_gb_used), func.sum(models.ComputeNode.free_ram_mb), func.sum(models.ComputeNode.free_disk_gb), func.sum(models.ComputeNode.current_workload), func.sum(models.ComputeNode.running_vms), func.sum(models.ComputeNode.disk_available_least), base_model=models.ComputeNode, read_deleted=""no"").\ for result in model_query(context, models.FloatingIp.pool, base_model=models.FloatingIp).distinct(): result = model_query(context, models.FixedIp.id, base_model=models.FixedIp, read_deleted=""no"", session=session).\ models.Network, models.Instance).\ return model_query(context, models.FixedIp.id, base_model=models.FixedIp, read_deleted=""no"", session=session).\ func.count(models.Instance.id), func.sum(models.Instance.vcpus), func.sum(models.Instance.memory_mb), base_model=models.Instance, session=session).\ subq = model_query(context, model_uuid, session=query.session, base_model=model_metadata).\ subq = model_query(context, model_uuid, session=query.session, base_model=model_metadata).\ for tuple in model_query(context, models.Instance.uuid, read_deleted=""no"", base_model=models.Instance, session=session).\ models.FloatingIp.address, base_model=models.FloatingIp).\ fixed_ip_query = model_query(context, models.FixedIp.network_id, base_model=models.FixedIp, user_quotas = model_query(context, models.ProjectUserQuota.resource, models.ProjectUserQuota.hard_limit, base_model=models.ProjectUserQuota).\ return model_query(context, models.InstanceTypes.id, read_deleted=""no"", session=session, base_model=models.InstanceTypes).\ models.InstanceGroup.id, base_model=models.InstanceGroup, models.InstanceGroupMember.instance_id, base_model=models.InstanceGroupMember).\ models.InstanceGroupPolicy.policy, base_model=models.InstanceGroupPolicy).\",90,105
openstack%2Fheat~stable%2Fjuno~I4e823206c3a88d27241532d9f393c07208af8b73,openstack/heat,stable/juno,I4e823206c3a88d27241532d9f393c07208af8b73,Use kwargs for ResourcePropertyConflict exception,MERGED,2014-12-10 10:46:45.000000000,2014-12-17 03:41:18.000000000,2014-12-17 03:41:16.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}]","[{'number': 1, 'created': '2014-12-10 10:46:45.000000000', 'files': ['heat/api/middleware/fault.py', 'heat/common/exception.py', 'heat/engine/resources/neutron/router.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/423ee27dcf628be90863da91632489a877619c49', 'message': 'Use kwargs for ResourcePropertyConflict exception\n\nCurrent approach works correct when error raised in heat-engine,\nbut when oslo-messaging try to send this error to heat-api it calls\nthis Exception again without any arguments. So it leads to empty output\nin message.\nThis patch adds kwargs properties for directly sending parameters to\nparent class and storing them for substitution during re-call in\noslo-messanging.\n\nChange-Id: I4e823206c3a88d27241532d9f393c07208af8b73\nCloses-Bug: #1397002\n(cherry picked from commit a4ecd1ed33aad0f1ec8296be28fff69e2affcffe)\n'}]",0,140642,423ee27dcf628be90863da91632489a877619c49,10,6,1,6577,,,0,"Use kwargs for ResourcePropertyConflict exception

Current approach works correct when error raised in heat-engine,
but when oslo-messaging try to send this error to heat-api it calls
this Exception again without any arguments. So it leads to empty output
in message.
This patch adds kwargs properties for directly sending parameters to
parent class and storing them for substitution during re-call in
oslo-messanging.

Change-Id: I4e823206c3a88d27241532d9f393c07208af8b73
Closes-Bug: #1397002
(cherry picked from commit a4ecd1ed33aad0f1ec8296be28fff69e2affcffe)
",git fetch https://review.opendev.org/openstack/heat refs/changes/42/140642/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/api/middleware/fault.py', 'heat/common/exception.py', 'heat/engine/resources/neutron/router.py']",3,423ee27dcf628be90863da91632489a877619c49,bug/1397002, depr_subnet_key), subnet_key),8,5
openstack%2Fcinder~stable%2Fjuno~Ibc4da26aca262633c9a14d8ca383cd0df6a8b37d,openstack/cinder,stable/juno,Ibc4da26aca262633c9a14d8ca383cd0df6a8b37d,Updated from global requirements,MERGED,2014-12-16 14:48:21.000000000,2014-12-17 03:40:39.000000000,2014-12-17 03:40:38.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12370}]","[{'number': 1, 'created': '2014-12-16 14:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60f65ff41b69588eb94dd1be8cae045c9ee6b9e5', 'message': 'Updated from global requirements\n\nChange-Id: Ibc4da26aca262633c9a14d8ca383cd0df6a8b37d\n'}, {'number': 2, 'created': '2014-12-16 23:02:36.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/818313e88607543981798094aaa2f8946aa608ac', 'message': 'Updated from global requirements\n\nChange-Id: Ibc4da26aca262633c9a14d8ca383cd0df6a8b37d\n'}]",0,142121,818313e88607543981798094aaa2f8946aa608ac,15,5,2,11131,,,0,"Updated from global requirements

Change-Id: Ibc4da26aca262633c9a14d8ca383cd0df6a8b37d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/142121/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,60f65ff41b69588eb94dd1be8cae045c9ee6b9e5,openstack/requirements,"oslo.db>=1.0.0,<1.3 # Apache-2.0",oslo.db>=1.0.0 # Apache-2.0,1,1
openstack%2Fnova~master~I1770447b03df1cc1ab029780fada96fab8ccaa0f,openstack/nova,master,I1770447b03df1cc1ab029780fada96fab8ccaa0f,Update devref with link to kilo priorities,MERGED,2014-12-12 19:03:02.000000000,2014-12-17 03:39:40.000000000,2014-12-17 03:39:38.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-12 19:03:02.000000000', 'files': ['doc/source/devref/kilo.blueprints.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a1a5f9f3475cb0994ca5f28afed5796fccd9276', 'message': 'Update devref with link to kilo priorities\n\nDevref contains a document discussing project priorities.  Include a\nlink to the list of specific Kilo priorities that lives over in the\nnova-specs repo.\n\nChange-Id: I1770447b03df1cc1ab029780fada96fab8ccaa0f\n'}]",0,141463,1a1a5f9f3475cb0994ca5f28afed5796fccd9276,24,9,1,1561,,,0,"Update devref with link to kilo priorities

Devref contains a document discussing project priorities.  Include a
link to the list of specific Kilo priorities that lives over in the
nova-specs repo.

Change-Id: I1770447b03df1cc1ab029780fada96fab8ccaa0f
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/141463/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/kilo.blueprints.rst'],1,1a1a5f9f3475cb0994ca5f28afed5796fccd9276,,Note that the specific priorities for Kilo can be found here: http://specs.openstack.org/openstack/nova-specs/priorities/kilo-priorities.html,,2,1
openstack%2Fnova~master~I40a5b133c98e01e8f5c613b765b8d821beec03a6,openstack/nova,master,I40a5b133c98e01e8f5c613b765b8d821beec03a6,Add delete not found unit testcase for floating_ip api,MERGED,2014-11-26 08:56:12.000000000,2014-12-17 03:38:56.000000000,2014-12-17 03:38:53.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-11-26 08:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9c1c081ac00836e303971d3f6b7dbf8e2ebfcca', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}, {'number': 2, 'created': '2014-11-27 06:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76570ec5ba9e7e6c8691766d539c6f0a5289e3c3', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}, {'number': 3, 'created': '2014-11-27 08:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65ae6cc86ba4c43311d5d88cfdda99decd12ad25', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}, {'number': 4, 'created': '2014-11-28 01:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07579e7258e9af3f03ec263d45d91e82d90cbd81', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}, {'number': 5, 'created': '2014-11-28 02:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d67af245f9de9fe71d38308dd99b6cf4dbe70a2', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}, {'number': 6, 'created': '2014-11-28 05:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eef16c8087ceb38387cd2d42dfb89724bf10a6bb', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}, {'number': 7, 'created': '2014-11-28 05:35:52.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/019937bb85c2140a58edb65912481507a0648d31', 'message': 'Add delete not found unit testcase for floating_ip api\n\nThis patch adds unit test case for the delete api of\nfloating_ip extension.\nV2 and V21 have difference return code when delete\na invalid when given a invalid id of floating ip.\n\nThis patch addes both nova-network api and neutronv2 api\ntest cases.\n\nPartially implements blueprint v2-on-v3-api\nChange-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6\n'}]",0,137305,019937bb85c2140a58edb65912481507a0648d31,60,11,7,12175,,,0,"Add delete not found unit testcase for floating_ip api

This patch adds unit test case for the delete api of
floating_ip extension.
V2 and V21 have difference return code when delete
a invalid when given a invalid id of floating ip.

This patch addes both nova-network api and neutronv2 api
test cases.

Partially implements blueprint v2-on-v3-api
Change-Id: I40a5b133c98e01e8f5c613b765b8d821beec03a6
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/137305/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py'],1,f9c1c081ac00836e303971d3f6b7dbf8e2ebfcca,bp/v2-on-v3-api," def _test_floatingip_delete_not_found(self, ex, expect_ex=webob.exc.HTTPNotFound): req = fakes.HTTPRequest.blank('/v2/fake/os-floating-ips/1') with contextlib.nested( mock.patch.object(self.controller.network_api, 'get_floating_ip', side_effect=ex) ): self.assertRaises(expect_ex, self.controller.delete, req, 1) def test_floatingip_delete_not_found_ip(self): ex = exception.FloatingIpNotFound(id=1) self._test_floatingip_delete_not_found(ex) def test_floatingip_delete_not_found(self): ex = exception.NotFound self._test_floatingip_delete_not_found(ex) def test_floatingip_delete_invalid_id(self): ex = exception.InvalidID(id=1) self._test_floatingip_delete_not_found(ex, webob.exc.HTTPBadRequest) def test_floatingip_delete_invalid_id(self): ex = exception.InvalidID(id=1) self._test_floatingip_delete_not_found(ex, webob.exc.HTTPNotFound) def _test_floatingip_delete_not_found(self, ex, expect_ex=webob.exc.HTTPNotFound): req = self._get_fake_fip_request('1') with contextlib.nested( mock.patch.object(self.controller.network_api, 'get_floating_ip', side_effect=ex) ): self.assertRaises(expect_ex, self.controller.delete, req, 1) def test_floatingip_delete_not_found_ip(self): ex = exception.FloatingIpNotFound(id=1) self._test_floatingip_delete_not_found(ex) def test_floatingip_delete_not_found(self): ex = exception.NotFound self._test_floatingip_delete_not_found(ex) def test_floatingip_delete_invalid_id(self): ex = exception.InvalidID(id=1) self._test_floatingip_delete_not_found(ex, webob.exc.HTTPBadRequest) def test_floatingip_delete_invalid_id(self): ex = exception.InvalidID(id=1) self._test_floatingip_delete_not_found(ex, webob.exc.HTTPNotFound) ",,54,0
openstack%2Ftraining-guides~master~Id57bc3c4894f8dfa44069af91f08d180e5bb47c3,openstack/training-guides,master,Id57bc3c4894f8dfa44069af91f08d180e5bb47c3,Add missing whitespaces,ABANDONED,2014-12-11 05:30:45.000000000,2014-12-17 03:38:10.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-11 05:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/6b2cdcface25d70dad5e67ca93ec30afe5134252', 'message': 'Add missing whitespaces\n\n- add missing whitespaces before/after link text\n- delete duplicate link element\n\nChange-Id: Id57bc3c4894f8dfa44069af91f08d180e5bb47c3\n'}, {'number': 2, 'created': '2014-12-11 05:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/bfe8cfca1dde450596c5c9fe691d8c4838d76c80', 'message': 'Add missing whitespaces\n\n- add missing whitespaces before/after link text\n- delete duplicate link element\n\nCloses-Bug: 1331588\nChange-Id: Id57bc3c4894f8dfa44069af91f08d180e5bb47c3\n'}, {'number': 3, 'created': '2014-12-11 06:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/f4ebca8d5954c68cc8d0c5e1b4080a6c7f2a32a8', 'message': 'Add missing whitespaces\n\n- add missing whitespaces before/after link text\n- delete duplicate link element\n- fix broken links to OpenStack End User Guide\n\nCloses-Bug: 1331588\nChange-Id: Id57bc3c4894f8dfa44069af91f08d180e5bb47c3\n'}, {'number': 4, 'created': '2014-12-11 06:26:31.000000000', 'files': ['doc/training-guides/common/section_overview-horizon-cli.xml'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c456a059e9197fe1d58a585b1ec03a0863f314c5', 'message': 'Add missing whitespaces\n\n- add missing whitespaces before/after link text\n- delete duplicate link element\n- fix broken links to OpenStack End User Guide\n\nCloses-Bug: 1331588\nChange-Id: Id57bc3c4894f8dfa44069af91f08d180e5bb47c3\n'}]",0,140925,c456a059e9197fe1d58a585b1ec03a0863f314c5,8,1,4,10497,,,0,"Add missing whitespaces

- add missing whitespaces before/after link text
- delete duplicate link element
- fix broken links to OpenStack End User Guide

Closes-Bug: 1331588
Change-Id: Id57bc3c4894f8dfa44069af91f08d180e5bb47c3
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/25/140925/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/training-guides/common/section_overview-horizon-cli.xml'],1,6b2cdcface25d70dad5e67ca93ec30afe5134252,bug/1331588," security group with rules. For information, see <link the cloud-init package. For information, see <link instances. For details, see <link in <link VNC console, see <link <para>For preparation details, see <link <para>Create a volume as described in <link <para>Attach the volume to the instance as described in <link with <link snapshot and click Launch. Proceed with <link latest version of the client from the <link variables. Proceed to <link <para>For more information, see the <link see <link <para>To delete the security rule that you created in <link <para>To delete the security rule that you created in <link the guest instance can access. For example the <link >cloudinit</link> system is an open source package from instance, you can launch it from an <link >image</link> or a <link <para>To create a stack, or template, from an <link"," security group with rules. For information, see<link the cloud-init package. For information, see<link instances. For details, see<link in<link xlink:href=""http://docs.openstack.org/user-guide/content/dashboard_launch_instances.html#dashboard_launch_instances_from_volume"" VNC console, see<link xlink:href=""http://docs.openstack.org/user-guide/content/instance_console.html"" ></link><link <para>For preparation details, see<link xlink:href=""http://docs.openstack.org/user-guide/content/dashboard_manage_volumes.html#create_or_delete_volumes"" ></link><link <para>Create a volume as described in<link xlink:href=""http://docs.openstack.org/user-guide/content/dashboard_manage_volumes.html#create_or_delete_volumes"" ></link><link <para>Attach the volume to the instance as described in<link xlink:href=""http://docs.openstack.org/user-guide/content/dashboard_manage_volumes.html#attach_volumes_to_instances"" ></link><link with<link xlink:href=""http://docs.openstack.org/user-guide/content/dashboard_launch_instances.html#dashboard_launch_instances_from_image"" ></link><link snapshot and click Launch. Proceed with<link xlink:href=""http://docs.openstack.org/user-guide/content/dashboard_launch_instances.html#dashboard_launch_instances_from_image"" ></link><link latest version of the client from the<link xlink:href=""http://pypi.python.org/pypi""></link><link variables. Proceed to<link <para>For more information, see the<link see<link xlink:href=""http://docs.openstack.org/user-guide/content/cli_openrc.html"" ></link><link <para>To delete the security rule that you created in<link <para>To delete the security rule that you created in<link the guest instance can access. For example the<link >cloudinit</link>system is an open source package from instance, you can launch it from an<link >image</link>or a<link <para>To create a stack, or template, from an<link",21,37
openstack%2Fkeystone~master~Ia86ef9fabfd438367a7ed09efb55711860e47d8b,openstack/keystone,master,Ia86ef9fabfd438367a7ed09efb55711860e47d8b,Fix modifying a role with same name using LDAP,MERGED,2014-12-12 01:23:27.000000000,2014-12-17 03:35:49.000000000,2014-12-17 03:35:48.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-12-12 01:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/57512d26c980511fe3e339a68aae2b6fa249f2d0', 'message': 'Fix modifying a role with same name using LDAP\n\nWhen the keystone server was configured to use the LDAP assignment\nbackend and a role was modified with the same name as the role the\noperation would fail. This is because the server would check that a\nrole with the same name existed already and it would of course find\nthe entry that is currently being modified.\n\nThe server is changed to check if the entry currently being modified\nis the one with the same name and the operation is allowed if this is\nthe case.\n\nChange-Id: Ia86ef9fabfd438367a7ed09efb55711860e47d8b\nCloses-Bug: #1401721\n'}, {'number': 2, 'created': '2014-12-12 01:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b04f065835431a9541706f434309e98311e72793', 'message': 'Fix modifying a role with same name using LDAP\n\nWhen the keystone server was configured to use the LDAP assignment\nbackend and a role was modified with the same name as the role the\noperation would fail. This is because the server would check that a\nrole with the same name existed already and it would of course find\nthe entry that is currently being modified.\n\nThe server is changed to check if the entry currently being modified\nis the one with the same name and the operation is allowed if this is\nthe case.\n\nChange-Id: Ia86ef9fabfd438367a7ed09efb55711860e47d8b\nCloses-Bug: #1401721\n'}, {'number': 3, 'created': '2014-12-12 15:08:42.000000000', 'files': ['keystone/tests/test_backend_ldap.py', 'keystone/assignment/backends/ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b6f7cad8ba432e6d3e33812238620e768c529996', 'message': 'Fix modifying a role with same name using LDAP\n\nWhen the keystone server was configured to use the LDAP assignment\nbackend and a role was modified with the same name as the role the\noperation would fail. This is because the server would check that a\nrole with the same name existed already and it would of course find\nthe entry that is currently being modified.\n\nThe server is changed to check if the entry currently being modified\nis the one with the same name and the operation is allowed if this is\nthe case.\n\nChange-Id: Ia86ef9fabfd438367a7ed09efb55711860e47d8b\nCloses-Bug: #1401721\n'}]",0,141235,b6f7cad8ba432e6d3e33812238620e768c529996,16,5,3,6486,,,0,"Fix modifying a role with same name using LDAP

When the keystone server was configured to use the LDAP assignment
backend and a role was modified with the same name as the role the
operation would fail. This is because the server would check that a
role with the same name existed already and it would of course find
the entry that is currently being modified.

The server is changed to check if the entry currently being modified
is the one with the same name and the operation is allowed if this is
the case.

Change-Id: Ia86ef9fabfd438367a7ed09efb55711860e47d8b
Closes-Bug: #1401721
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/141235/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_backend_ldap.py', 'keystone/assignment/backends/ldap.py']",2,57512d26c980511fe3e339a68aae2b6fa249f2d0,bug/1401721, old_role = self.get_by_name(new_name) if old_role['id'] != role_id: raise exception.Conflict( _('Cannot duplicate name %s') % old_role), old_name = self.get_by_name(new_name) raise exception.Conflict( _('Cannot duplicate name %s') % old_name),4,11
openstack%2Fkeystone~master~I40bb62200e79c8ff519e02facad042a657c26cae,openstack/keystone,master,I40bb62200e79c8ff519e02facad042a657c26cae,Add a test for modifying a role to set the name the same,MERGED,2014-12-12 01:23:27.000000000,2014-12-17 03:35:39.000000000,2014-12-17 03:35:38.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5707}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-12-12 01:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2cae3797d14d19e1de7ac91b08cae9f9318b15b1', 'message': 'Add a test for modifying a role to set the name the same\n\nThere was no test that showed what happened when a role is modified\nto have the same name. The test shows that when using the LDAP\nassignment this request fails with a conflict error.\n\nChange-Id: I40bb62200e79c8ff519e02facad042a657c26cae\nPartial-Bug: #1401721\n'}, {'number': 2, 'created': '2014-12-12 01:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed2bb8c6bb29d8e0bc90cedf4420e35d77181449', 'message': 'Add a test for modifying a role to set the name the same\n\nThere was no test that showed what happened when a role is modified\nto have the same name. The test shows that when using the LDAP\nassignment this request fails with a conflict error.\n\nChange-Id: I40bb62200e79c8ff519e02facad042a657c26cae\nPartial-Bug: #1401721\n'}, {'number': 3, 'created': '2014-12-12 15:08:42.000000000', 'files': ['keystone/tests/test_backend_ldap.py', 'keystone/tests/test_backend.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/79c2fedd6ff6a6d4471412518e415351003aca39', 'message': 'Add a test for modifying a role to set the name the same\n\nThere was no test that showed what happened when a role is modified\nto have the same name. The test shows that when using the LDAP\nassignment this request fails with a conflict error.\n\nChange-Id: I40bb62200e79c8ff519e02facad042a657c26cae\nPartial-Bug: #1401721\n'}]",0,141234,79c2fedd6ff6a6d4471412518e415351003aca39,15,4,3,6486,,,0,"Add a test for modifying a role to set the name the same

There was no test that showed what happened when a role is modified
to have the same name. The test shows that when using the LDAP
assignment this request fails with a conflict error.

Change-Id: I40bb62200e79c8ff519e02facad042a657c26cae
Partial-Bug: #1401721
",git fetch https://review.opendev.org/openstack/keystone refs/changes/34/141234/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_backend_ldap.py', 'keystone/tests/test_backend.py']",2,2cae3797d14d19e1de7ac91b08cae9f9318b15b1,bug/1401721," def test_update_role_same_name(self): # A user can update a role and set the name to be the same as it was. self.assignment_api.update_role(self.role_member['id'], {'name': self.role_member['name']}) # If the previous line didn't raise an exception then the test passes. ",,15,0
openstack%2Fkeystone~master~I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0,openstack/keystone,master,I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0,Fix disabling entities when enabled is ignored,MERGED,2014-12-11 16:56:19.000000000,2014-12-17 03:35:29.000000000,2014-12-17 03:35:28.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2218}, {'_account_id': 5707}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-12-11 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cc4a31358a0979c009b75812f6776b4ba6dd99f8', 'message': ""Fix disabling entities when enabled is ignored\n\nWhen LDAP is configured so that the `enabled` attribute was ignored\nfor an entity (user, group, role, project) and a client attempts to\ndisable the entity, it remains enabled, so a user might think that the\nentity was disabled when it's not.\n\nWith this change, attempting to disable an entity where `enabled` is\nignored will return a 403 Forbidden error.\n\nCloses-Bug: #1241134\n\nSecurityImpact\nThis is for security hardening.\n\nChange-Id: I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0\n""}, {'number': 2, 'created': '2014-12-11 22:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e9a2f8cfc5c9535db1c04d3cb19176405dfd9b84', 'message': ""Fix disabling entities when enabled is ignored\n\nWhen LDAP is configured so that the `enabled` attribute was ignored\nfor an entity (user, group, role, project) and a client attempts to\ndisable the entity, it remains enabled, so a user might think that the\nentity was disabled when it's not.\n\nWith this change, attempting to disable an entity where `enabled` is\nignored will return a 403 Forbidden error.\n\nCloses-Bug: #1241134\n\nSecurityImpact\nThis is for security hardening.\n\nChange-Id: I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0\n""}, {'number': 3, 'created': '2014-12-11 22:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3ad2c057eac4e927f8bb5eac5e845d96512d1eee', 'message': ""Fix disabling entities when enabled is ignored\n\nWhen LDAP is configured so that the `enabled` attribute was ignored\nfor an entity (user, group, role, project) and a client attempts to\ndisable the entity, it remains enabled, so a user might think that the\nentity was disabled when it's not.\n\nWith this change, attempting to disable an entity where `enabled` is\nignored will return a 403 Forbidden error.\n\nCloses-Bug: #1241134\n\nSecurityImpact\nThis is for security hardening.\n\nChange-Id: I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0\n""}, {'number': 4, 'created': '2014-12-12 01:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/54e48da48e2e4ff5ad3e7acf639048e5f985d5a0', 'message': ""Fix disabling entities when enabled is ignored\n\nWhen LDAP is configured so that the `enabled` attribute was ignored\nfor an entity (user, group, role, project) and a client attempts to\ndisable the entity, it remains enabled, so a user might think that the\nentity was disabled when it's not.\n\nWith this change, attempting to disable an entity where `enabled` is\nignored will return a 403 Forbidden error.\n\nSince entities are always enabled when the `enabled` attribute is\nignored, there's no change to reject changes that attempt to enable\nthe entity.\n\nCloses-Bug: #1241134\n\nSecurityImpact\nThis is for security hardening.\n\nChange-Id: I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0\n""}, {'number': 5, 'created': '2014-12-12 15:08:42.000000000', 'files': ['keystone/common/ldap/core.py', 'keystone/tests/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e62de2c91b5755149146a47e84e61d3642095998', 'message': ""Fix disabling entities when enabled is ignored\n\nWhen LDAP is configured so that the `enabled` attribute was ignored\nfor an entity (user, group, role, project) and a client attempts to\ndisable the entity, it remains enabled, so a user might think that the\nentity was disabled when it's not.\n\nWith this change, attempting to disable an entity where `enabled` is\nignored will return a 403 Forbidden error.\n\nSince entities are always enabled when the `enabled` attribute is\nignored, there's no change to reject changes that attempt to enable\nthe entity.\n\nCloses-Bug: #1241134\n\nSecurityImpact\nThis is for security hardening.\n\nChange-Id: I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0\n""}]",5,141101,e62de2c91b5755149146a47e84e61d3642095998,23,5,5,6486,,,0,"Fix disabling entities when enabled is ignored

When LDAP is configured so that the `enabled` attribute was ignored
for an entity (user, group, role, project) and a client attempts to
disable the entity, it remains enabled, so a user might think that the
entity was disabled when it's not.

With this change, attempting to disable an entity where `enabled` is
ignored will return a 403 Forbidden error.

Since entities are always enabled when the `enabled` attribute is
ignored, there's no change to reject changes that attempt to enable
the entity.

Closes-Bug: #1241134

SecurityImpact
This is for security hardening.

Change-Id: I8cb3326952d6e379a457c19d7f8f5f9ee4b29eb0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/141101/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/ldap/core.py', 'keystone/tests/test_backend_ldap.py']",2,cc4a31358a0979c009b75812f6776b4ba6dd99f8,bug/1401721," def test_user_enabled_ignored_disable_error(self): # ignored for users, users cannot be disabled. # Attempt to disable the user. self.assertRaises(exception.ForbiddenAction, self.identity_api.update_user, self.user_foo['id'], {'enabled': False}) def test_group_enabled_ignored_disable_error(self): # ignored for groups, groups cannot be disabled. # Attempt to disable the group. self.assertRaises(exception.ForbiddenAction, self.identity_api.update_group, new_group['id'], {'enabled': False}) def test_project_enabled_ignored_disable_error(self): # ignored for projects, projects cannot be disabled. # Attempt to disable the project. self.assertRaises(exception.ForbiddenAction, self.assignment_api.update_project, self.tenant_baz['id'], {'enabled': False}) def test_role_enabled_ignored_disable_error(self): # ignored for roles, roles cannot be disabled. # Attempt to disable the role. self.assertRaises(exception.ForbiddenAction, self.assignment_api.update_role, self.role_member['id'], {'enabled': False}) def test_project_enabled_ignored_disable_error(self): def test_role_enabled_ignored_disable_error(self): def test_user_enabled_ignored_disable_error(self): def test_group_enabled_ignored_disable_error(self): # Override. self.skipTest(""Doesn't apply since LDAP config has no affect on the "" ""SQL identity backend."") def test_project_enabled_ignored_disable_error(self): def test_role_enabled_ignored_disable_error(self): def test_user_enabled_ignored_disable_error(self): ""SQL identity backend."") def test_group_enabled_ignored_disable_error(self): # Override. self.skipTest(""Doesn't apply since LDAP config has no affect on the "" ""SQL identity backend."") def test_project_enabled_ignored_disable_error(self): def test_role_enabled_ignored_disable_error(self):"," def test_user_enabled_ignored_disable(self): # ignored for users and a user is disabled, the user remains enabled. # FIXME(blk-u): An error should be raised when a client tries to # disable a user and enabled is an ignored attribute. See bug 1241134. # Disable the user. self.identity_api.update_user(self.user_foo['id'], {'enabled': False}) user_info = self.identity_api.get_user(self.user_foo['id']) self.assertNotIn('enabled', user_info) def test_group_enabled_ignored_disable(self): # ignored for groups and a group is disabled, the group remains # enabled. # FIXME(blk-u): An error should be raised when a client tries to # disable a group and enabled is an ignored attribute. See bug 1241134. # Disable the group. self.identity_api.update_group(new_group['id'], {'enabled': False}) group_info = self.identity_api.get_group(new_group['id']) self.assertNotIn('enabled', group_info) def test_project_enabled_ignored_disable(self): # ignored for projects and a project is disabled, the project remains # enabled. # FIXME(blk-u): An error should be raised when a client tries to # disable a project and enabled is an ignored attribute. See # bug 1241134. # Disable the project. self.assignment_api.update_project(self.tenant_baz['id'], {'enabled': False}) project_info = self.assignment_api.get_project(self.tenant_baz['id']) self.assertNotIn('enabled', project_info) def test_role_enabled_ignored_disabled(self): # ignored for roles and a role is disabled, the role remains enabled. # FIXME(blk-u): An error should be raised when a client tries to # disable a role and enabled is an ignored attribute. See bug 1241134. # Disable the project. self.assignment_api.update_role(self.role_member['id'], {'enabled': False}) role_info = self.assignment_api.get_role(self.role_member['id']) self.assertNotIn('enabled', role_info) def test_project_enabled_ignored_disable(self): def test_role_enabled_ignored_disabled(self): def test_user_enabled_ignored_disable(self): def test_project_enabled_ignored_disable(self): def test_role_enabled_ignored_disabled(self): def test_user_enabled_ignored_disable(self): ""SQL backend."") def test_project_enabled_ignored_disable(self): def test_role_enabled_ignored_disabled(self):",55,51
openstack%2Fkeystone~master~I48608f772456ade05318170d3615920d664d7dd2,openstack/keystone,master,I48608f772456ade05318170d3615920d664d7dd2,Add tests for enabled attribute ignored,MERGED,2014-12-11 01:59:30.000000000,2014-12-17 03:35:19.000000000,2014-12-17 03:35:17.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-12-11 01:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5255f6ecefd757567d11de227e34c1cf7898001', 'message': 'Add tests for enabled attribute ignored\n\nThere were no tests that showed what happened when the enabled\nattribute is ignored for the LDAP backend for various entities.\n\nThe tests show that if the client tries to disable the entity the\nentity actually remains enabled.\n\nChange-Id: I48608f772456ade05318170d3615920d664d7dd2\nPartial-Bug: #1241134\n'}, {'number': 2, 'created': '2014-12-11 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/10942e54cb1b58f3c6a0051e73a09b3ed572c399', 'message': 'Add tests for enabled attribute ignored\n\nThere were no tests that showed what happened when the enabled\nattribute is ignored for the LDAP backend for various entities.\n\nThe tests show that if the client tries to disable the entity the\nentity actually remains enabled.\n\nChange-Id: I48608f772456ade05318170d3615920d664d7dd2\nPartial-Bug: #1241134\n'}, {'number': 3, 'created': '2014-12-11 22:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9602f1c363c8f2564c4341787897aab8b9ae2ff6', 'message': 'Add tests for enabled attribute ignored\n\nThere were no tests that showed what happened when the enabled\nattribute is ignored for the LDAP backend for various entities.\n\nThe tests show that if the client tries to disable the entity the\nentity actually remains enabled.\n\nChange-Id: I48608f772456ade05318170d3615920d664d7dd2\nPartial-Bug: #1241134\n'}, {'number': 4, 'created': '2014-12-11 22:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/45f32c047c04971a752c011006c807e942401da7', 'message': 'Add tests for enabled attribute ignored\n\nThere were no tests that showed what happened when the enabled\nattribute is ignored for the LDAP backend for various entities.\n\nThe tests show that if the client tries to disable the entity the\nentity actually remains enabled.\n\nChange-Id: I48608f772456ade05318170d3615920d664d7dd2\nPartial-Bug: #1241134\n'}, {'number': 5, 'created': '2014-12-12 15:08:42.000000000', 'files': ['keystone/tests/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4442671ffc2cad9b7d688a13aefb266873dfec0d', 'message': 'Add tests for enabled attribute ignored\n\nThere were no tests that showed what happened when the enabled\nattribute is ignored for the LDAP backend for various entities.\n\nThe tests show that if the client tries to disable the entity the\nentity actually remains enabled.\n\nChange-Id: I48608f772456ade05318170d3615920d664d7dd2\nPartial-Bug: #1241134\n'}]",6,140895,4442671ffc2cad9b7d688a13aefb266873dfec0d,26,5,5,6486,,,0,"Add tests for enabled attribute ignored

There were no tests that showed what happened when the enabled
attribute is ignored for the LDAP backend for various entities.

The tests show that if the client tries to disable the entity the
entity actually remains enabled.

Change-Id: I48608f772456ade05318170d3615920d664d7dd2
Partial-Bug: #1241134
",git fetch https://review.opendev.org/openstack/keystone refs/changes/95/140895/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_backend_ldap.py'],1,b5255f6ecefd757567d11de227e34c1cf7898001,bug/1401721," def test_user_enabled_ignored_disable(self): # When the server is configured so that the enabled attribute is # ignored for users and a user is disabled, the user remains enabled. # FIXME(blk-u): An error should be raised when a client tries to # disable a user and enabled is an ignored attribute. See bug 1241134. self.config_fixture.config(group='ldap', user_attribute_ignore=['enabled']) # Need to re-load backends for the config change to take effect. self.load_backends() # Disable the user. self.identity_api.update_user(self.user_foo['id'], {'enabled': False}) user_info = self.identity_api.get_user(self.user_foo['id']) self.assertNotIn('enabled', user_info) def test_project_enabled_ignored_disable(self): # When the server is configured so that the enabled attribute is # ignored for projects and a project is disabled, the project remains # enabled. # FIXME(blk-u): An error should be raised when a client tries to # disable a project and enabled is an ignored attribute. See # bug 1241134. self.config_fixture.config(group='ldap', project_attribute_ignore=['enabled']) # Need to re-load backends for the config change to take effect. self.load_backends() # Disable the project. self.assignment_api.update_project(self.tenant_baz['id'], {'enabled': False}) project_info = self.assignment_api.get_project(self.tenant_baz['id']) self.assertNotIn('enabled', project_info) def test_project_enabled_ignored_disable(self): # Override self.skipTest(""Doesn't apply since LDAP configuration is ignored for "" ""SQL assignment backend."") def test_user_enabled_ignored_disable(self): # Override. self.skipTest(""Doesn't apply since LDAP config has no affect on the "" ""SQL backend."") def test_project_enabled_ignored_disable(self): # Override self.skipTest(""Doesn't apply since LDAP configuration is ignored for "" ""SQL assignment backend."") def test_user_enabled_ignored_disable(self): # Override. self.skipTest(""Doesn't apply since LDAP config has no affect on the "" ""SQL backend."") def test_project_enabled_ignored_disable(self): # Override self.skipTest(""Doesn't apply since LDAP configuration is ignored for "" ""SQL assignment backend."") ",,64,0
openstack%2Fkeystone~master~I234a36301a54ad4796cd421c42e85b15e9415902,openstack/keystone,master,I234a36301a54ad4796cd421c42e85b15e9415902,Fix update role without name using LDAP,MERGED,2014-12-11 22:15:05.000000000,2014-12-17 03:34:35.000000000,2014-12-17 03:34:33.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5707}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-12-11 22:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/53e0337259d0df33172ccc599095c1cd7a4344c0', 'message': 'Fix update role without name using LDAP\n\nWhen the keystone server was configured to use the LDAP assignment\nbackend and a role was updated and no name was included in the update\ndict the operation would fail with a 500 Internal Server Error.\n\nWith this fix, an update without a name works.\n\nChange-Id: I234a36301a54ad4796cd421c42e85b15e9415902\nCloses-Bug: #1241134\n'}, {'number': 2, 'created': '2014-12-11 22:58:29.000000000', 'files': ['keystone/tests/test_backend_ldap.py', 'keystone/assignment/backends/ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/93ab08a46bbf5d466b1a12fe9691565ec10b1179', 'message': 'Fix update role without name using LDAP\n\nWhen the keystone server was configured to use the LDAP assignment\nbackend and a role was updated and no name was included in the update\ndict the operation would fail with a 500 Internal Server Error.\n\nWith this fix, an update without a name works.\n\nChange-Id: I234a36301a54ad4796cd421c42e85b15e9415902\nCloses-Bug: #1241134\n'}]",0,141186,93ab08a46bbf5d466b1a12fe9691565ec10b1179,14,4,2,6486,,,0,"Fix update role without name using LDAP

When the keystone server was configured to use the LDAP assignment
backend and a role was updated and no name was included in the update
dict the operation would fail with a 500 Internal Server Error.

With this fix, an update without a name works.

Change-Id: I234a36301a54ad4796cd421c42e85b15e9415902
Closes-Bug: #1241134
",git fetch https://review.opendev.org/openstack/keystone refs/changes/86/141186/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_backend_ldap.py', 'keystone/assignment/backends/ldap.py']",2,53e0337259d0df33172ccc599095c1cd7a4344c0,bug/1241134, new_name = role.get('name') if new_name is not None: try: old_name = self.get_by_name(new_name) raise exception.Conflict( _('Cannot duplicate name %s') % old_name) except exception.NotFound: pass, try: old_name = self.get_by_name(role['name']) raise exception.Conflict(_('Cannot duplicate name %s') % old_name) except exception.NotFound: pass,8,13
openstack%2Fmurano~master~I248c2a8037836f3b152ea9d1ac05885f1760246c,openstack/murano,master,I248c2a8037836f3b152ea9d1ac05885f1760246c,Removed unused uml-generator from contrib,MERGED,2014-12-13 15:39:02.000000000,2014-12-17 03:28:25.000000000,2014-12-17 03:28:24.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-13 15:39:02.000000000', 'files': ['contrib/utils/uml-generator/README.md', 'contrib/utils/uml-generator/umlgen.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/f88b6ca00aff52ebb3a32c9cb37b123dd72f7b7c', 'message': ""Removed unused uml-generator from contrib\n\nThis tool was introduced long time ago and hasn't been used since\nthen. We can always merge it back when we see a demand for it.\n\nChange-Id: I248c2a8037836f3b152ea9d1ac05885f1760246c\n""}]",0,141562,f88b6ca00aff52ebb3a32c9cb37b123dd72f7b7c,12,6,1,7600,,,0,"Removed unused uml-generator from contrib

This tool was introduced long time ago and hasn't been used since
then. We can always merge it back when we see a demand for it.

Change-Id: I248c2a8037836f3b152ea9d1ac05885f1760246c
",git fetch https://review.opendev.org/openstack/murano refs/changes/62/141562/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/utils/uml-generator/README.md', 'contrib/utils/uml-generator/umlgen.py']",2,f88b6ca00aff52ebb3a32c9cb37b123dd72f7b7c,murano-cleanup,,"#!/usr/bin/python # Copyright (c) 2013 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import os import re import yaml # Workaround for unknown yaml tags def yaml_default_ctor(loader, tag_suffix, node): return tag_suffix + ' ' + node.value yaml.add_multi_constructor('', yaml_default_ctor) class PlantUmlNode(): def __init__(self, node_dn): self._dn = node_dn self.attributes = [] self.operations = [] self.extras = [] def write(self, f): f.write('class {0} {{\n'.format(self._dn)) f.write('-- Properties --\n') for item in self.attributes: f.write('<{type}> {name}: {contract}\n'.format(**item)) f.write('-- Workflows --\n') for item in self.operations: f.write('{name}()\n'.format(**item)) f.write('-- Namespaces --\n') for item in self.extras: if item['key'] != '=': f.write('{key}: {value}\n'.format(**item)) f.write('}\n') def add_attribute(self, name, type, contract): d = {'type': type, 'name': name, 'contract': contract} self.attributes.append(d) def add_operation(self, name): d = {'name': name} self.operations.append(d) def add_extra(self, key, value): d = {'key': key, 'value': value} self.extras.append(d) class DslSpec(): def __init__(self, class_dn, basepath='.'): self._dn = class_dn self._id = self._dn.replace('.', '_') self._name = self._dn.split('.')[-1] self._ns = ('=', self._dn.split('.')[:-1]) self._graph = None self.is_virtual = True self.parent_dn = None self.manifest = None manifest_path = os.path.join(basepath, self._dn, 'manifest.yaml') if os.path.exists(manifest_path): self.manifest = yaml.load(open(manifest_path)) if self.manifest: self.is_virtual = False self.name = self.manifest['Name'] if 'Extends' in self.manifest: self.parent_dn = self.get_dn(self.manifest['Extends']) def split_ns(self, name=None): if name: parts = name.split(':') if len(parts) == 1: parts.insert(0, '=') else: parts = ['=', self._name] return parts def get_ns(self, name=None): parts = self.split_ns(name) return { 'key': parts[0], 'value': self.manifest['Namespaces'][parts[0]] } def get_dn(self, name=None): parts = self.split_ns(name) parts[0] = self.get_ns(parts[0] + ':')['value'] return '.'.join(parts) def get_name(self): return self._name class DslPlantUmlNode(DslSpec): def write(self, file): uml_class = PlantUmlNode(self._dn) ext_classes = [] if not self.is_virtual: namespaces = [self.get_ns()] for name, item in self.manifest.get('Properties', {}).iteritems(): item_type = item.get('Type', 'In') item_contract = str(item.get('Contract', 'UNDEFINED')) match = re.search('class\((.*?)\)', item_contract) if match: ns = self.get_ns(match.group(1)) ext_classes.append(self.get_dn(match.group(1))) if not ns in namespaces: namespaces.append(ns) uml_class.add_attribute( name, type=item_type, contract=item_contract ) for m in self.manifest.get('Workflow', []): uml_class.add_operation(m) for ns in namespaces: uml_class.add_extra(ns['key'], ns['value']) uml_class.write(file) return ext_classes class DslPlantUmlGraph(): def __init__(self): self._nodes = [] self._edges = [] self._options = {} self._file = None def write(self, classname, level=0): if level == 0: self._file.write('@startuml\n') if self.get_option('NoNamespaces', False): self._file.write('set namespaceSeparator none\n') if self.node_exists(classname): return self.add_node(classname) node = DslPlantUmlNode(classname) ext_classes = node.write(self._file) if not self.get_option('ParentsOnly', False): for ext_class in ext_classes: self.add_edge( from_node=ext_class, to_node=classname, edge_type='<..' ) self.write(ext_class, level + 1) if node.is_virtual: return if node.parent_dn: self.add_edge( from_node=node.parent_dn, to_node=classname, edge_type='<|--' ) self.write(node.parent_dn, level + 1) if level == 0: for edge in self._edges: self._file.write('{from_node} {type} {to_node}\n' .format(**edge)) self._file.write('@enduml\n') self._file.close() def add_node(self, classname): self._nodes.append(classname) def node_exists(self, dn): return dn in self._nodes def add_edge(self, from_node, to_node, edge_type): edge = {'from_node': from_node, 'to_node': to_node, 'type': edge_type} if not edge in self._edges: self._edges.append(edge) def set_option(self, key, value): self._options[key] = value def get_option(self, key, default=None): return self._options.get(key, default) def open_file(self, file_name): self._file = open(file_name, 'w') def close_file(self): self._file.close() parser = argparse.ArgumentParser(description='Qwerty') parser.add_argument('classname', default='com.mirantis.murano.demoApp.DemoHost', help='Dsl Class Name to draw.', nargs='?') parser.add_argument('-n', '--no-namespaces', action='store_true') parser.add_argument('-p', '--parents-only', action='store_true') args = parser.parse_args() graph = DslPlantUmlGraph() graph.set_option('NoNamespaces', args.no_namespaces) graph.set_option('ParentsOnly', args.parents_only) graph.open_file('plantuml.txt') graph.write(args.classname) graph.close_file() os.system('java -jar plantuml.jar plantuml.txt') os.system('xdg-open plantuml.png') ",0,253
openstack%2Fneutron~stable%2Fjuno~I22831dbe79fe30e6932d4df068c7309c025dc8c5,openstack/neutron,stable/juno,I22831dbe79fe30e6932d4df068c7309c025dc8c5,Updated from global requirements,MERGED,2014-12-14 00:12:26.000000000,2014-12-17 03:18:21.000000000,2014-12-16 21:11:43.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9846}, {'_account_id': 10153}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 13900}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-14 00:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a346db475f760bd05c90421ccdad52b60ac98444', 'message': 'Updated from global requirements\n\nChange-Id: I22831dbe79fe30e6932d4df068c7309c025dc8c5\n'}, {'number': 2, 'created': '2014-12-16 14:50:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e4b410d60e4342a89c15d33e7906d3bab6be580', 'message': 'Updated from global requirements\n\nChange-Id: I22831dbe79fe30e6932d4df068c7309c025dc8c5\n'}]",1,141600,1e4b410d60e4342a89c15d33e7906d3bab6be580,38,18,2,11131,,,0,"Updated from global requirements

Change-Id: I22831dbe79fe30e6932d4df068c7309c025dc8c5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/141600/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a346db475f760bd05c90421ccdad52b60ac98444,openstack/requirements,"SQLAlchemy>=0.8.4,<=0.9.99,!=0.9.0,!=0.9.1,!=0.9.2,!=0.9.3,!=0.9.4,!=0.9.5,!=0.9.6","SQLAlchemy>=0.8.4,<=0.8.99,>=0.9.7,<=0.9.99",1,1
openstack%2Fproject-config~master~Ifecbd148cb02e635edaeb043b8947311bfe06da3,openstack/project-config,master,Ifecbd148cb02e635edaeb043b8947311bfe06da3,Pre-release tags must include non-digits,MERGED,2014-12-17 03:01:26.000000000,2014-12-17 03:14:48.000000000,2014-12-17 03:14:48.000000000,"[{'_account_id': 3}, {'_account_id': 4146}]","[{'number': 1, 'created': '2014-12-17 03:01:26.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f488a950b08bd1c60c5fb93ecc725d92b56d4a9c', 'message': 'Pre-release tags must include non-digits\n\n* zuul/layout.yaml: Without making the (a|b|c) required, release\ntags match the pre-release pipeline too.\n\nChange-Id: Ifecbd148cb02e635edaeb043b8947311bfe06da3\n'}]",0,142313,f488a950b08bd1c60c5fb93ecc725d92b56d4a9c,6,2,1,5263,,,0,"Pre-release tags must include non-digits

* zuul/layout.yaml: Without making the (a|b|c) required, release
tags match the pre-release pipeline too.

Change-Id: Ifecbd148cb02e635edaeb043b8947311bfe06da3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/142313/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,f488a950b08bd1c60c5fb93ecc725d92b56d4a9c,pep-440, ref: ^refs/tags/[0-9]+(\.[0-9]+)*(a|b|c)[0-9]+$, ref: ^refs/tags/[0-9]+(\.[0-9]+)*((a|b|c)[0-9]+)?$,1,1
openstack%2Fkeystone~master~I78b1a33596ff0b4fa42745c2995ff9c98282a254,openstack/keystone,master,I78b1a33596ff0b4fa42745c2995ff9c98282a254,set endpoint enabled default to True if not specified(kvs),ABANDONED,2014-12-08 09:51:31.000000000,2014-12-17 03:11:46.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-12-08 09:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e3a08b3594edaea81ca54f3a042a135c56720b20', 'message': 'set endpoint enabled default to True if not specified(kvs)\n\nLet the create endpoint API of kvs backend and sql backend have the\nsame behavior.\n\nChange-Id: I78b1a33596ff0b4fa42745c2995ff9c98282a254\n'}, {'number': 2, 'created': '2014-12-17 01:45:38.000000000', 'files': ['keystone/tests/test_backend_sql.py', 'keystone/catalog/core.py', 'keystone/tests/test_backend.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/82389a47ee9da3056457a63d224991df4e4e0e09', 'message': 'set endpoint enabled default to True if not specified(kvs)\n\nLet the create endpoint API of kvs backend and sql backend have the\nsame behavior.\n\nCloses-Bug: #1403272\nChange-Id: I78b1a33596ff0b4fa42745c2995ff9c98282a254\n'}]",2,139958,82389a47ee9da3056457a63d224991df4e4e0e09,6,3,2,9101,,,0,"set endpoint enabled default to True if not specified(kvs)

Let the create endpoint API of kvs backend and sql backend have the
same behavior.

Closes-Bug: #1403272
Change-Id: I78b1a33596ff0b4fa42745c2995ff9c98282a254
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/139958/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/catalog/core.py', 'keystone/tests/test_backend.py']",2,e3a08b3594edaea81ca54f3a042a135c56720b20,endpoint_enabled," res = self.catalog_api.create_endpoint(endpoint['id'], endpoint.copy()) endpoint['enabled'] = True if 'legacy_endpoint_id' in res: endpoint['legacy_endpoint_id'] = None self.assertDictEqual(endpoint, res)"," self.catalog_api.create_endpoint(endpoint['id'], endpoint.copy())",6,1
openstack%2Fnova-specs~master~I428caa125f2fb9d454f828249680857f090f4372,openstack/nova-specs,master,I428caa125f2fb9d454f828249680857f090f4372,Consolidate the APIs for getting consoles,MERGED,2014-12-11 15:05:12.000000000,2014-12-17 03:07:25.000000000,2014-12-17 03:07:23.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 9172}, {'_account_id': 9420}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-12-11 15:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f217bc524b36d7e55edcd9eac8ce2f4a190461c8', 'message': 'Consolidate the APIs for getting consoles\n\nWe have different public API for getting console access for each kind of\nconsole that is supported in Nova. The proposal is to consolidate all\nthese APIs into one.\n\nblueprint consolidate-console-api\n\nChange-Id: I428caa125f2fb9d454f828249680857f090f4372\n'}, {'number': 2, 'created': '2014-12-12 09:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/29d6e7deda1d23c51cdb9708c4e4897e34ea866d', 'message': 'Consolidate the APIs for getting consoles\n\nWe have different public API for getting console access for each kind of\nconsole that is supported in Nova. The proposal is to consolidate all\nthese APIs into one.\n\nAPIImpact\n\nblueprint consolidate-console-api\n\nChange-Id: I428caa125f2fb9d454f828249680857f090f4372\n'}, {'number': 3, 'created': '2014-12-15 10:03:31.000000000', 'files': ['specs/kilo/approved/consolidate-console-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3ff3a629463e0775e6abd0c5c4d19bd5b8cab383', 'message': 'Consolidate the APIs for getting consoles\n\nWe have different public API for getting console access for each kind of\nconsole that is supported in Nova. The proposal is to consolidate all\nthese APIs into one.\n\nAPIImpact\n\nblueprint consolidate-console-api\n\nChange-Id: I428caa125f2fb9d454f828249680857f090f4372\n'}]",19,141065,3ff3a629463e0775e6abd0c5c4d19bd5b8cab383,25,11,3,9172,,,0,"Consolidate the APIs for getting consoles

We have different public API for getting console access for each kind of
console that is supported in Nova. The proposal is to consolidate all
these APIs into one.

APIImpact

blueprint consolidate-console-api

Change-Id: I428caa125f2fb9d454f828249680857f090f4372
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/65/141065/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/consolidate-console-api.rst'],1,f217bc524b36d7e55edcd9eac8ce2f4a190461c8,bp/vmware-webmks-console,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Consolidate the APIs for getting consoles ========================================== https://blueprints.launchpad.net/nova/+spec/consolidate-console-api We have different public API for getting console access for each kind of console that is supported in Nova. The proposal is to consolidate all these APIs into one. Problem description =================== The APIs for getting console access are tightly coupled with the name of the underlying protocol: os-getVNCConsole, os-getRDPConsole, etc. The result is that every time we want to add support for a new console, we need to introduce a new public API. A far better solution is to have only one API, os-getConsole, which can be used for obtaining access to all types of consoles. Use Cases ---------- As a Nova developer I want to add support for a new console type and I don't want to add more clutter to the public API. Project Priority ----------------- None Proposed change =============== The proposal is to introduce a single public API for getting console access and deprecate all of the current public APIs that we have. The implementation will inspect the request and will call the relevant get_XXX_console of the ComputeManager. Alternatives ------------ The alternative is to keep adding public APIs for each new console type which is not really desired. Data model impact ----------------- None REST API impact --------------- Definition of the new API: Request:: POST /servers/<uuid>/action { ""os-getConsole"": { ""protocol"": [""vnc""|""rdp""|""serial""|""spice""], ""type"": [""novnc""|""xpvnc""|""rdp-html5""|""spice-html5""] } } Reponse:: { ""console"": { ""url"": string, ""protocol"": [""vnc""|""rdp""|""serial""|""spice""], ""type"": [""novnc""|""xpvnc""|""rdp-html5""|""spice-html5""] } } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- There will be a new 'get-console' subcommand for the Nova CLI that will support all of the console types. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: rgerganov Work Items ---------- The blueprint can be implemented in a single patch which adds the new API. Dependencies ============ None Testing ======= Existing tempest tests which exercise the console APIs will be modified to use the new API. Documentation Impact ==================== The new API should be documented and we should encourage users to use this instead of the old APIs which will be deprecated. References ========== None ",,147,0
openstack%2Fhacking~master~I81098fb4f4debc2654d60ed28a02d64c5bbcedea,openstack/hacking,master,I81098fb4f4debc2654d60ed28a02d64c5bbcedea,Add eventlet to test-requirements,MERGED,2014-12-17 01:36:44.000000000,2014-12-17 02:54:33.000000000,2014-12-17 02:54:20.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-17 01:36:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/hacking/commit/6c851bdf2f359f2083231bda1ab9f7155d43e086', 'message': ""Add eventlet to test-requirements\n\neventlet isn't actually used by hacking, but its a common global import\n(nova/__init__.py imports it) in OpenStack, so to make the hacking venvs\nwork with local hacks in repos that require eventlet, we just add it\nhere.\n\nSince this is a test-requirement it shouldn't have any impact on\npackaging of hacking.\n\nChange-Id: I81098fb4f4debc2654d60ed28a02d64c5bbcedea\nCloses-Bug: 1403270\n""}]",0,142297,6c851bdf2f359f2083231bda1ab9f7155d43e086,8,5,1,1849,,,0,"Add eventlet to test-requirements

eventlet isn't actually used by hacking, but its a common global import
(nova/__init__.py imports it) in OpenStack, so to make the hacking venvs
work with local hacks in repos that require eventlet, we just add it
here.

Since this is a test-requirement it shouldn't have any impact on
packaging of hacking.

Change-Id: I81098fb4f4debc2654d60ed28a02d64c5bbcedea
Closes-Bug: 1403270
",git fetch https://review.opendev.org/openstack/hacking refs/changes/97/142297/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6c851bdf2f359f2083231bda1ab9f7155d43e086,bug/1403270," # hacking doesn't use this anywhere, but nova imports this in nova/__init__.py # since eventlet is such a common universal import, add it to the hacking test # virtualenv, so importing things like 'nova.hacking.checks.factory' will just # work. # See https://bugs.launchpad.net/hacking/+bug/1403270 eventlet>=0.15.2",,7,0
openstack%2Fnova~master~I92a4708e0700e88f4b2554aa4e7ad3856f5be1e0,openstack/nova,master,I92a4708e0700e88f4b2554aa4e7ad3856f5be1e0,Fix using anyjson in fake_notifier,MERGED,2014-12-16 18:17:31.000000000,2014-12-17 02:38:55.000000000,2014-12-16 22:41:00.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-16 18:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2923c5acfa4e5c8b229b407ded5bc854e910ebb', 'message': 'Fix using anyjson in fake_notifier\n\nFor some reason we were using anyjson.serialize() in our fake_notifier.\nThat may have been to mirror kombu, but really we need to mirror what we\ndo when we convert our payloads to primitives, which is using jsonutils.\n\nChange-Id: I92a4708e0700e88f4b2554aa4e7ad3856f5be1e0\n'}, {'number': 2, 'created': '2014-12-16 18:37:33.000000000', 'files': ['nova/tests/unit/fake_notifier.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ed9268a1f61b708cb1360c2d89aa25e935a8f4a', 'message': 'Fix using anyjson in fake_notifier\n\nFor some reason we were using anyjson.serialize() in our fake_notifier.\nThat may have been to mirror kombu, but really we need to mirror what we\ndo when we convert our payloads to primitives, which is using jsonutils.\n\nCloses-Bug: #1403162\nChange-Id: I92a4708e0700e88f4b2554aa4e7ad3856f5be1e0'}]",0,142175,7ed9268a1f61b708cb1360c2d89aa25e935a8f4a,16,10,2,4393,,,0,"Fix using anyjson in fake_notifier

For some reason we were using anyjson.serialize() in our fake_notifier.
That may have been to mirror kombu, but really we need to mirror what we
do when we convert our payloads to primitives, which is using jsonutils.

Closes-Bug: #1403162
Change-Id: I92a4708e0700e88f4b2554aa4e7ad3856f5be1e0",git fetch https://review.opendev.org/openstack/nova refs/changes/75/142175/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/fake_notifier.py'],1,c2923c5acfa4e5c8b229b407ded5bc854e910ebb,fix-notifier-json,from oslo.serialization import jsonutils jsonutils.to_primitive(payload),import anyjson anyjson.serialize(payload),2,2
openstack%2Fneutron~master~Ia5a3e2c759d2479a2e7088a2ab7db1d4e17d1ae2,openstack/neutron,master,Ia5a3e2c759d2479a2e7088a2ab7db1d4e17d1ae2,Replace non-ovs_lib calls of run_vsctl with libary functions,MERGED,2014-12-12 17:14:53.000000000,2014-12-17 02:26:11.000000000,2014-12-16 22:09:09.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6502}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-12 17:14:53.000000000', 'files': ['neutron/tests/unit/ibm/test_sdnve_agent.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/06295477aa74f6bfea38cc10c76cf2390b469305', 'message': ""Replace non-ovs_lib calls of run_vsctl with libary functions\n\nThere is already an OVSBridge.set_controller() function, so replace\ncalls to run_vsctl(['set-controller', ...]) with calls to\nOVSBridge.set_controller().\n\nThis is also the only non-ovs_lib call to run_vsctl. This change\nwill also make it easier to abstract out the ovsdb-related code in\nthe future.\n\nChange-Id: Ia5a3e2c759d2479a2e7088a2ab7db1d4e17d1ae2\n""}]",0,141433,06295477aa74f6bfea38cc10c76cf2390b469305,31,22,1,5756,,,0,"Replace non-ovs_lib calls of run_vsctl with libary functions

There is already an OVSBridge.set_controller() function, so replace
calls to run_vsctl(['set-controller', ...]) with calls to
OVSBridge.set_controller().

This is also the only non-ovs_lib call to run_vsctl. This change
will also make it easier to abstract out the ovsdb-related code in
the future.

Change-Id: Ia5a3e2c759d2479a2e7088a2ab7db1d4e17d1ae2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/141433/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/ibm/test_sdnve_agent.py', 'neutron/plugins/ibm/agent/sdnve_neutron_agent.py']",2,06295477aa74f6bfea38cc10c76cf2390b469305,replace_non_ovslib_run_vsctl_calls," self.int_br.set_controller([""tcp:"" + new_controller]) int_br.set_controller([""tcp:"" + controller_ip])"," self.int_br.run_vsctl([""set-controller"", self.int_bridge_name, ""tcp:"" + new_controller]) int_br.run_vsctl( [""set-controller"", bridge_name, ""tcp:"" + controller_ip])",4,9
openstack%2Ftooz~master~I21dd62c93dd3d3394c549245b1d8d2633979927d,openstack/tooz,master,I21dd62c93dd3d3394c549245b1d8d2633979927d,zookeeper: add support for delete group,MERGED,2014-12-09 16:53:58.000000000,2014-12-17 02:17:39.000000000,2014-12-17 02:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}]","[{'number': 1, 'created': '2014-12-09 16:53:58.000000000', 'files': ['tooz/drivers/zookeeper.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/41dab3597561e31ddd50ef358317ff171de62529', 'message': 'zookeeper: add support for delete group\n\nChange-Id: I21dd62c93dd3d3394c549245b1d8d2633979927d\n'}]",0,140400,41dab3597561e31ddd50ef358317ff171de62529,11,4,1,1669,,,0,"zookeeper: add support for delete group

Change-Id: I21dd62c93dd3d3394c549245b1d8d2633979927d
",git fetch https://review.opendev.org/openstack/tooz refs/changes/00/140400/1 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/zookeeper.py'],1,41dab3597561e31ddd50ef358317ff171de62529,jd/group-deletion," def _delete_group_handler(async_result, timeout, timeout_exception, group_id): try: async_result.get(block=True, timeout=timeout) except timeout_exception as e: raise coordination.OperationTimedOut(utils.exception_message(e)) except exceptions.NoNodeError: raise coordination.GroupNotCreated(group_id) except exceptions.NotEmptyError: raise coordination.GroupNotEmpty(group_id) except exceptions.ZookeeperError as e: raise coordination.ToozError(utils.exception_message(e)) def delete_group(self, group_id): group_path = self._path_group(group_id) async_result = self._coord.delete_async(group_path) return ZooAsyncResult(async_result, self._delete_group_handler, timeout_exception=self._timeout_exception, group_id=group_id) @staticmethod",,21,0
openstack%2Ftooz~master~Ia86213d15f58f2842106ce4571d3f654adb519e9,openstack/tooz,master,Ia86213d15f58f2842106ce4571d3f654adb519e9,redis: add support for group deletion,MERGED,2014-12-09 16:02:48.000000000,2014-12-17 02:17:37.000000000,2014-12-17 02:17:37.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 7450}]","[{'number': 1, 'created': '2014-12-09 16:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/8647f88dfd993558ff64605c7eaeda6d4c4063d4', 'message': 'redis: add support for group deletion\n\nChange-Id: Ia86213d15f58f2842106ce4571d3f654adb519e9\n'}, {'number': 2, 'created': '2014-12-09 16:04:48.000000000', 'files': ['tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/1cb825dd5f9d1bf059ca09e396b5d018a90c8d5c', 'message': 'redis: add support for group deletion\n\nChange-Id: Ia86213d15f58f2842106ce4571d3f654adb519e9\n'}]",0,140389,1cb825dd5f9d1bf059ca09e396b5d018a90c8d5c,12,4,2,1669,,,0,"redis: add support for group deletion

Change-Id: Ia86213d15f58f2842106ce4571d3f654adb519e9
",git fetch https://review.opendev.org/openstack/tooz refs/changes/89/140389/2 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/redis.py'],1,8647f88dfd993558ff64605c7eaeda6d4c4063d4,jd/group-deletion," def delete_group(self, group_id): encoded_group = self._encode_group_id(group_id) def _delete_group(p): # An empty group still have the special key _GROUP_EXISTS set, so # its len is 1 if p.hlen(encoded_group) > 1: raise coordination.GroupNotEmpty(group_id) if not p.delete(encoded_group): raise coordination.GroupNotCreated(group_id) p.srem(self._groups, self._encode_group_id(group_id, apply_namespace=False)) return RedisFutureResult(self._submit(self._client.transaction, _delete_group, encoded_group, value_from_callable=True)) ",,19,0
openstack%2Ftooz~master~I976bbe79327de233edb1b4c448572d23a1e743ac,openstack/tooz,master,I976bbe79327de233edb1b4c448572d23a1e743ac,tests: minor code simplification,MERGED,2014-12-08 15:47:40.000000000,2014-12-17 02:17:31.000000000,2014-12-17 02:17:31.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}]","[{'number': 1, 'created': '2014-12-08 15:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/b3c659d3c6fd13fa1d556c27548d0d5e39fe41fb', 'message': 'tests: minor code simplification\n\nChange-Id: I976bbe79327de233edb1b4c448572d23a1e743ac\n'}, {'number': 2, 'created': '2014-12-09 11:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/097c3f6c9d2775bb86b5b464584df3b18318520c', 'message': 'tests: minor code simplification\n\nChange-Id: I976bbe79327de233edb1b4c448572d23a1e743ac\n'}, {'number': 3, 'created': '2014-12-09 16:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/db482214f98bf52a45d418873632d89fe2d0437c', 'message': 'tests: minor code simplification\n\nChange-Id: I976bbe79327de233edb1b4c448572d23a1e743ac\n'}, {'number': 4, 'created': '2014-12-09 16:04:48.000000000', 'files': ['tooz/tests/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/88f0533a3d6ceb2b86f9018ef7043448b2f91e4c', 'message': 'tests: minor code simplification\n\nChange-Id: I976bbe79327de233edb1b4c448572d23a1e743ac\n'}]",0,140038,88f0533a3d6ceb2b86f9018ef7043448b2f91e4c,18,4,4,1669,,,0,"tests: minor code simplification

Change-Id: I976bbe79327de233edb1b4c448572d23a1e743ac
",git fetch https://review.opendev.org/openstack/tooz refs/changes/38/140038/2 && git format-patch -1 --stdout FETCH_HEAD,['tooz/tests/test_coordination.py'],1,b3c659d3c6fd13fa1d556c27548d0d5e39fe41fb,jd/group-deletion, join_group = self._coord.join_group(self.group_id), group_id_test = self._get_random_uuid() join_group = self._coord.join_group(group_id_test),1,2
openstack%2Ftooz~master~Iff0e41180a212b56040f1142c499266a1c522f3d,openstack/tooz,master,Iff0e41180a212b56040f1142c499266a1c522f3d,memcached: add support for group deletion,MERGED,2014-12-08 15:47:40.000000000,2014-12-17 02:17:27.000000000,2014-12-17 02:17:27.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}]","[{'number': 1, 'created': '2014-12-08 15:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/6293fc6615b309ca7c8d4f43811f4d968ab0441e', 'message': 'memcached: add support for group deletion\n\nChange-Id: Iff0e41180a212b56040f1142c499266a1c522f3d\n'}, {'number': 2, 'created': '2014-12-09 11:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/c48fedadda61bc7adb55586a20219c0929239b9d', 'message': 'memcached: add support for group deletion\n\nChange-Id: Iff0e41180a212b56040f1142c499266a1c522f3d\n'}, {'number': 3, 'created': '2014-12-09 16:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/8238e7013a0088e0420d3c329b75a152e80ffcf0', 'message': 'memcached: add support for group deletion\n\nChange-Id: Iff0e41180a212b56040f1142c499266a1c522f3d\n'}, {'number': 4, 'created': '2014-12-09 16:04:48.000000000', 'files': ['tooz/tests/test_coordination.py', 'tooz/drivers/memcached.py', 'tooz/coordination.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/c07951ebd703f6fc20f498d0595ac74790d30e8d', 'message': 'memcached: add support for group deletion\n\nChange-Id: Iff0e41180a212b56040f1142c499266a1c522f3d\n'}]",0,140037,c07951ebd703f6fc20f498d0595ac74790d30e8d,21,4,4,1669,,,0,"memcached: add support for group deletion

Change-Id: Iff0e41180a212b56040f1142c499266a1c522f3d
",git fetch https://review.opendev.org/openstack/tooz refs/changes/37/140037/4 && git format-patch -1 --stdout FETCH_HEAD,"['tooz/tests/test_coordination.py', 'tooz/drivers/memcached.py', 'tooz/coordination.py']",3,6293fc6615b309ca7c8d4f43811f4d968ab0441e,jd/group-deletion," def delete_group(group_id): """"""Delete a group asynchronously. :param group_id: the id of the group to leave :type group_id: str :returns: Result :rtype: CoordAsyncResult """""" raise tooz.NotImplemented @staticmethod class GroupNotEmpty(ToozError): ""Exception raised when the caller try to delete a group with members."" def __init__(self, group_id): self.group_id = group_id super(GroupNotEmpty, self).__init__(""Group %s is not empty"" % group_id)",,74,3
openstack%2Fnova~master~I4a08274c34acedc58a2010a5f3093865bd1055d4,openstack/nova,master,I4a08274c34acedc58a2010a5f3093865bd1055d4,Make cells send Instance objects in build_instance(),MERGED,2014-12-03 21:15:40.000000000,2014-12-17 02:14:43.000000000,2014-12-17 02:14:40.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-03 21:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71241b0bbaa7c39ef65034ca21862234694cf3e8', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 2, 'created': '2014-12-04 16:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b9866960744936ffd47e2f154118a7076e20bd0', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 3, 'created': '2014-12-05 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c68568722a30424995c342850b5a866830ef0ad0', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 4, 'created': '2014-12-05 18:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b592ddd070a8e8d79bfe4488f793cf908be393a6', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 5, 'created': '2014-12-08 19:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abe85acfcae8d0f9f9726a7326a02f8a5c5e0190', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 6, 'created': '2014-12-08 21:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f7d293ea6c03b7adec79f269f9203c07b158db2', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 7, 'created': '2014-12-09 17:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcdbca42cfbd8bce008e39a7327a2bb762ed51aa', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 8, 'created': '2014-12-11 17:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b8eccf3d194f4b8a3febc61c6be7392c023b849', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 9, 'created': '2014-12-12 03:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42f9559c787e841322f90b928c5b30173a2a094e', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 10, 'created': '2014-12-12 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e38f09c71221efc8d091e46119943e070b38d2fe', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 11, 'created': '2014-12-12 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bd044f62c25f841fd7a99c69040c79ebdba4dd7', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}, {'number': 12, 'created': '2014-12-15 20:20:32.000000000', 'files': ['nova/cells/manager.py', 'nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/tests/unit/cells/test_cells_scheduler.py', 'nova/tests/unit/cells/test_cells_manager.py', 'nova/cells/rpcapi.py', 'nova/cells/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a1a8ca295c47b6a3cc52506b796ec7fc82ebb0e', 'message': 'Make cells send Instance objects in build_instance()\n\nThis makes the cells rpcapi pass real objects through in the build_instances()\ncall.\n\nRelated to blueprint kilo-objects\n\nChange-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4\n'}]",9,138865,1a1a8ca295c47b6a3cc52506b796ec7fc82ebb0e,111,13,12,4393,,,0,"Make cells send Instance objects in build_instance()

This makes the cells rpcapi pass real objects through in the build_instances()
call.

Related to blueprint kilo-objects

Change-Id: I4a08274c34acedc58a2010a5f3093865bd1055d4
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/138865/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cells/manager.py', 'nova/tests/unit/cells/test_cells_rpcapi.py', 'nova/cells/rpcapi.py']",3,71241b0bbaa7c39ef65034ca21862234694cf3e8,bp/flavor-from-sysmeta-to-blob, * 1.30 - Send objects for flavor and instances in build_instances() else: flavor = flavor_p = None if self.client.can_send_version('1.30'): version = '1.30' build_inst_kwargs['instances'] = instances if flavor: build_inst_kwargs['filter_properties']['instance_type'] = ( flavor) else: version = '1.8' cctxt = self.client.prepare(version=version), cctxt = self.client.prepare(version='1.8'),21,5
openstack%2Fheat~master~I2fbb3668522eabea9a6408ccd2f3c3d76645e2ee,openstack/heat,master,I2fbb3668522eabea9a6408ccd2f3c3d76645e2ee,Sync oslo modules,MERGED,2014-12-08 17:36:15.000000000,2014-12-17 02:14:28.000000000,2014-12-17 02:14:27.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4715}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-12-08 17:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d94a24f5afefdcb0f6486698f84993d2bd7b4953', 'message': 'Sync oslo modules\n\nSynchronize oslo modules, removing unsed gettextutils and fixing tests\nfor policy module change.\n\nChange-Id: I2fbb3668522eabea9a6408ccd2f3c3d76645e2ee\n'}, {'number': 2, 'created': '2014-12-09 09:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cbcc3e37d401a4f61623752e608e2a1e56c85d07', 'message': 'Sync oslo modules\n\nSynchronize oslo modules, removing unsed gettextutils and fixing tests\nfor policy module change.\n\nChange-Id: I2fbb3668522eabea9a6408ccd2f3c3d76645e2ee\n'}, {'number': 3, 'created': '2014-12-10 18:57:50.000000000', 'files': ['heat/openstack/common/crypto/utils.py', 'heat/openstack/common/policy.py', 'heat/openstack/common/eventlet_backdoor.py', 'heat/openstack/common/fileutils.py', 'heat/tests/test_common_policy.py', 'heat/common/policy.py', 'heat/openstack/common/log.py', 'heat/openstack/common/gettextutils.py', 'heat/openstack/common/context.py', 'heat/common/i18n.py', 'heat/openstack/common/threadgroup.py', 'heat/tests/test_common_context.py', 'openstack-common.conf', 'heat/openstack/common/_i18n.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a322a95ab11b3ad45fe870045c0fa7e17f4ed949', 'message': 'Sync oslo modules\n\nSynchronize oslo modules, removing unsed gettextutils and fixing tests\nfor policy module change.\n\nChange-Id: I2fbb3668522eabea9a6408ccd2f3c3d76645e2ee\n'}]",1,140094,a322a95ab11b3ad45fe870045c0fa7e17f4ed949,22,6,3,7385,,,0,"Sync oslo modules

Synchronize oslo modules, removing unsed gettextutils and fixing tests
for policy module change.

Change-Id: I2fbb3668522eabea9a6408ccd2f3c3d76645e2ee
",git fetch https://review.opendev.org/openstack/heat refs/changes/94/140094/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/openstack/common/crypto/utils.py', 'heat/openstack/common/policy.py', 'heat/openstack/common/eventlet_backdoor.py', 'heat/openstack/common/fileutils.py', 'tools/config/generate_sample.sh', 'heat/tests/test_common_policy.py', 'heat/common/policy.py', 'heat/openstack/common/log.py', 'heat/openstack/common/gettextutils.py', 'heat/openstack/common/context.py', 'heat/common/i18n.py', 'heat/openstack/common/threadgroup.py', 'heat/tests/test_common_context.py', 'openstack-common.conf', 'heat/openstack/common/_i18n.py']",15,d94a24f5afefdcb0f6486698f84993d2bd7b4953,sync-oslo,"try: import oslo.i18n # NOTE(dhellmann): This reference to o-s-l-o will be replaced by the # application name when this module is synced into the separate # repository. It is OK to have more than one translation function # using the same domain, since there will still only be one message # catalog. _translators = oslo.i18n.TranslatorFactory(domain='heat') # The primary translation function using the well-known name ""_"" _ = _translators.primary # Translators for log levels. # # The abbreviated names are meant to reflect the usual use of a short # name like '_'. The ""L"" is for ""log"" and the other letter comes from # the level. _LI = _translators.log_info _LW = _translators.log_warning _LE = _translators.log_error _LC = _translators.log_critical except ImportError: # NOTE(dims): Support for cases where a project wants to use # code from heat-incubator, but is not ready to be internationalized # (like tempest) _ = _LI = _LW = _LE = _LC = lambda x: x","import oslo.i18n # NOTE(dhellmann): This reference to o-s-l-o will be replaced by the # application name when this module is synced into the separate # repository. It is OK to have more than one translation function # using the same domain, since there will still only be one message # catalog. _translators = oslo.i18n.TranslatorFactory(domain='heat') # The primary translation function using the well-known name ""_"" _ = _translators.primary # Translators for log levels. # # The abbreviated names are meant to reflect the usual use of a short # name like '_'. The ""L"" is for ""log"" and the other letter comes from # the level. _LI = _translators.log_info _LW = _translators.log_warning _LE = _translators.log_error _LC = _translators.log_critical",224,646
openstack%2Fheat~master~I3eeb24e6eab8335475d6a76d80a461765089c9c0,openstack/heat,master,I3eeb24e6eab8335475d6a76d80a461765089c9c0,Get correct server_id when udpate Volume Attachment,MERGED,2014-12-16 06:57:48.000000000,2014-12-17 02:13:31.000000000,2014-12-17 02:13:30.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 4715}]","[{'number': 1, 'created': '2014-12-16 06:57:48.000000000', 'files': ['heat/engine/resources/volume.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2c58f31063e58ebceab3a3aadf8ca0f8612b755a', 'message': 'Get correct server_id when udpate Volume Attachment\n\nGet the correct server id used for dettach the volume when\nupdating CinderVolumeAttachment.\n\nFixed bug #1402500\n\nChange-Id: I3eeb24e6eab8335475d6a76d80a461765089c9c0\n'}]",0,142003,2c58f31063e58ebceab3a3aadf8ca0f8612b755a,12,3,1,10486,,,0,"Get correct server_id when udpate Volume Attachment

Get the correct server id used for dettach the volume when
updating CinderVolumeAttachment.

Fixed bug #1402500

Change-Id: I3eeb24e6eab8335475d6a76d80a461765089c9c0
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/142003/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/volume.py'],1,2c58f31063e58ebceab3a3aadf8ca0f8612b755a,bug/1402500, server_id = self._stored_properties_data.get(self.INSTANCE_ID), server_id = self.properties.get(self.INSTANCE_ID),1,1
openstack%2Fhorizon~master~I56fca9131a4e4d3991d53184ee1332e84138cdc2,openstack/horizon,master,I56fca9131a4e4d3991d53184ee1332e84138cdc2,Ability to change modal form backdrop element behavior,MERGED,2014-08-11 09:54:14.000000000,2014-12-17 02:11:38.000000000,2014-12-17 02:11:36.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 7012}, {'_account_id': 8040}, {'_account_id': 8090}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 10176}, {'_account_id': 10761}, {'_account_id': 11902}, {'_account_id': 12826}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-08-11 09:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c40e0bb262e6948694455a83ba7d5d63318eec6d', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms would be data-backdrop=""static"".\n\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\n'}, {'number': 2, 'created': '2014-08-15 13:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b334592dbeb7554fa7a0abbb93a687d22b089ca1', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms would be data-backdrop=""static"".\n\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\n'}, {'number': 3, 'created': '2014-08-15 20:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/884e07bc3cc2848a36327cf4fe25d4d8d89d5938', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms would be data-backdrop=""static"".\n\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nPartial-Bug: #1062065\n'}, {'number': 4, 'created': '2014-09-16 14:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2d17f9f60d6641dd9145d4d75ef4f17bc6d39dc2', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms would be data-backdrop=""static"".\n\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nPartial-Bug: #1062065\n'}, {'number': 5, 'created': '2014-09-24 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ae1c89fad51d0d0f4215c4493d8e1df863147ede', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms would be data-backdrop=""static"".\n\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nRelated-Bug: #1062065\n'}, {'number': 6, 'created': '2014-11-24 14:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c239a959b8f3f8d59e7df91c56fdaeca366f1ffc', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms (and workflows) would be data-backdrop=""static"".\n\nDocImpact\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nRelated-Bug: #1062065\n'}, {'number': 7, 'created': '2014-11-24 14:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d24c7803549f395cad82a1db7d9f311fa23530fe', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms (and workflows) would be data-backdrop=""static"".\n\nDocImpact\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nRelated-Bug: #1062065\n'}, {'number': 8, 'created': '2014-11-25 09:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a62f8388900aa30b5dd3f1580c72d0319ae71edd', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms (and workflows) would be data-backdrop=""static"".\n\nDocImpact\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nRelated-Bug: #1062065\n'}, {'number': 9, 'created': '2014-12-08 12:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/147ad53881088bb0223ba97b120b683e7538e690', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms (and workflows/client-side modals) would be\ndata-backdrop=""static"".\n\nDocImpact\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nRelated-Bug: #1062065\n'}, {'number': 10, 'created': '2014-12-10 09:41:47.000000000', 'files': ['horizon/forms/views.py', 'horizon/templates/horizon/common/_modal.html', 'doc/source/topics/settings.rst', 'horizon/templates/horizon/_scripts.html', 'horizon/templates/horizon/common/_workflow.html', 'horizon/static/horizon/js/horizon.modals.js', 'horizon/workflows/views.py', 'openstack_dashboard/local/local_settings.py.example', 'horizon/templates/horizon/client_side/_modal.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a6c364448a4bbbe4372769de3edb9c8f384ce00f', 'message': 'Ability to change modal form backdrop element behavior\n\nBy default modal form is closed after clicking outside of it on a dark\nbackdrop (data-backdrop=""true""). For the forms with a lot of fields\nthis could lead to a loss of data the user had entered before he has\nunintentionally clicked outside of the form. So more preferable option\nfor such forms (and workflows/client-side modals) would be\ndata-backdrop=""static"".\n\nDocImpact\nChange-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2\nPartially-Implements: blueprint form-template-to-view\nRelated-Bug: #1062065\n'}]",3,113206,a6c364448a4bbbe4372769de3edb9c8f384ce00f,62,13,10,8040,,,0,"Ability to change modal form backdrop element behavior

By default modal form is closed after clicking outside of it on a dark
backdrop (data-backdrop=""true""). For the forms with a lot of fields
this could lead to a loss of data the user had entered before he has
unintentionally clicked outside of the form. So more preferable option
for such forms (and workflows/client-side modals) would be
data-backdrop=""static"".

DocImpact
Change-Id: I56fca9131a4e4d3991d53184ee1332e84138cdc2
Partially-Implements: blueprint form-template-to-view
Related-Bug: #1062065
",git fetch https://review.opendev.org/openstack/horizon refs/changes/06/113206/9 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/horizon/common/_modal_form.html', 'horizon/forms/views.py']",2,c40e0bb262e6948694455a83ba7d5d63318eec6d,bug/1062065," .. attribute: modal_backdrop (optional) The appearance and behavior of backdrop element under modal form. Possible options are: * 'true' - show backdrop element outside the modal form, close form after clicking on backdrop (the default one); * 'false' - do not show backdrop element, do not close form after clicking outside of it; * 'static' - show backdrop element outside the modal form, do not close form after clicking on backdrop. modal_backdrop = 'true' context['modal_backdrop'] = self.modal_backdrop",,14,1
openstack%2Ftempest~master~Icf56194e855452e580e6a126f8477ebbd8d6952d,openstack/tempest,master,Icf56194e855452e580e6a126f8477ebbd8d6952d,Remove Nova v3 API schemas,MERGED,2014-12-12 05:46:47.000000000,2014-12-17 02:10:48.000000000,2014-12-17 02:10:47.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-12 05:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b91439385b46081cb5effe6d756814c356b0c444', 'message': 'Remove Nova v3 API schemas\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes the API schemas.\n\nChange-Id: Icf56194e855452e580e6a126f8477ebbd8d6952d\n'}, {'number': 2, 'created': '2014-12-12 07:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b4eee2b4d65068956c4263686389f1f4cf9dfd2', 'message': 'Remove Nova v3 API schemas\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes the API schemas.\n\nChange-Id: Icf56194e855452e580e6a126f8477ebbd8d6952d\n'}, {'number': 3, 'created': '2014-12-14 13:30:59.000000000', 'files': ['tempest/api_schema/request/compute/v3/__init__.py', 'tempest/api_schema/response/compute/v3/interfaces.py', 'tempest/api_schema/response/compute/v3/agents.py', 'tempest/api_schema/response/compute/v3/hosts.py', 'tempest/api_schema/response/compute/v3/availability_zone.py', 'tempest/api_schema/response/compute/v3/hypervisors.py', 'tempest/api_schema/response/compute/v3/__init__.py', 'tempest/api_schema/response/compute/v3/aggregates.py', 'tempest/api_schema/response/compute/v3/certificates.py', 'tempest/api_schema/response/compute/v3/servers.py', 'tempest/api_schema/response/compute/v3/keypairs.py', 'tempest/api_schema/response/compute/v3/quotas.py', 'tempest/api_schema/request/compute/v3/flavors.py', 'tempest/api_schema/response/compute/v3/flavors.py', 'tempest/api_schema/response/compute/v3/extensions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9845a6452ca0d457de127e7314678c76f2446131', 'message': 'Remove Nova v3 API schemas\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes the API schemas.\n\nChange-Id: Icf56194e855452e580e6a126f8477ebbd8d6952d\n'}]",0,141274,9845a6452ca0d457de127e7314678c76f2446131,22,6,3,6167,,,0,"Remove Nova v3 API schemas

Nova v3 API has disappeared, and Tempest isn't testing the API on the
gate now. In addition, Nova team is creating a new REST API ""Nova v2.1
API + microversions"" and the interfaces are different from v3 API.
So it is not necessary to keep Nova v3 API tests in Tempest.
This patch removes the API schemas.

Change-Id: Icf56194e855452e580e6a126f8477ebbd8d6952d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/74/141274/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api_schema/request/compute/v3/__init__.py', 'tempest/api_schema/response/compute/v3/interfaces.py', 'tempest/api_schema/response/compute/v3/agents.py', 'tempest/api_schema/response/compute/v3/hosts.py', 'tempest/api_schema/response/compute/v3/availability_zone.py', 'tempest/api_schema/response/compute/v3/hypervisors.py', 'tempest/api_schema/response/compute/v3/__init__.py', 'tempest/api_schema/response/compute/v3/aggregates.py', 'tempest/api_schema/response/compute/v3/certificates.py', 'tempest/api_schema/response/compute/v3/servers.py', 'tempest/api_schema/response/compute/v3/keypairs.py', 'tempest/api_schema/response/compute/v3/quotas.py', 'tempest/api_schema/request/compute/v3/flavors.py', 'tempest/api_schema/response/compute/v3/flavors.py', 'tempest/api_schema/response/compute/v3/extensions.py']",15,b91439385b46081cb5effe6d756814c356b0c444,rest-client,,"# Copyright 2014 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. list_extensions = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'extensions': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'name': {'type': 'string'}, 'alias': {'type': 'string'}, 'description': {'type': 'string'}, 'version': {'type': 'integer'} }, 'required': ['name', 'alias', 'description', 'version'] } } }, 'required': ['extensions'] } } ",0,713
openstack%2Ftempest~master~I90f48b3adcd94435320de965a3db21eefaa97cda,openstack/tempest,master,I90f48b3adcd94435320de965a3db21eefaa97cda,Remove Nova v3 API clients,MERGED,2014-12-11 09:03:52.000000000,2014-12-17 02:10:14.000000000,2014-12-17 02:10:13.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10016}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-11 09:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13b96b8acf773a56274bff195ff6940c383a0e8e', 'message': 'Remove Nova v3 API clients and schemas\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes both clients and schemas of Nova v3 API.\n\nChange-Id: I90f48b3adcd94435320de965a3db21eefaa97cda\n'}, {'number': 2, 'created': '2014-12-12 04:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6df296e72117da77116c9cb4de000c4682497cf7', 'message': 'Remove Nova v3 API clients\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes both clients.\n\nChange-Id: I90f48b3adcd94435320de965a3db21eefaa97cda\n'}, {'number': 3, 'created': '2014-12-12 05:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1f05f30f9c64fd8b4d12e100e09f592217cd662', 'message': 'Remove Nova v3 API clients\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes both clients.\n\nChange-Id: I90f48b3adcd94435320de965a3db21eefaa97cda\n'}, {'number': 4, 'created': '2014-12-12 05:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f7044739372374d6942853fbbc2c7a5344b71fe', 'message': 'Remove Nova v3 API clients\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes the clients.\n\nChange-Id: I90f48b3adcd94435320de965a3db21eefaa97cda\n'}, {'number': 5, 'created': '2014-12-12 07:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55dd58bd81759c2b734a053a8347e67c890a02f3', 'message': 'Remove Nova v3 API clients\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes the clients.\n\nChange-Id: I90f48b3adcd94435320de965a3db21eefaa97cda\n'}, {'number': 6, 'created': '2014-12-14 13:30:59.000000000', 'files': ['tempest/services/compute/v3/json/interfaces_client.py', 'tempest/services/compute/v3/json/services_client.py', 'tempest/services/compute/v3/json/quotas_client.py', 'tempest/cmd/verify_tempest_config.py', 'tempest/services/compute/v3/json/certificates_client.py', 'tempest/services/compute/v3/json/keypairs_client.py', 'tempest/services/compute/v3/json/migration_client.py', 'tempest/services/compute/v3/json/hosts_client.py', 'tempest/services/compute/v3/json/aggregates_client.py', 'tempest/services/compute/v3/json/flavors_client.py', 'tempest/services/compute/v3/json/version_client.py', 'tempest/tests/cmd/test_verify_tempest_config.py', 'tempest/services/compute/v3/__init__.py', 'tempest/services/compute/v3/json/extensions_client.py', 'tempest/services/compute/v3/json/hypervisor_client.py', 'tempest/clients.py', 'tempest/services/compute/v3/json/__init__.py', 'tempest/services/compute/v3/json/servers_client.py', 'tempest/services/compute/v3/json/agents_client.py', 'tempest/services/compute/v3/json/availability_zone_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7ee5a01afcb67643ef459c440f46566ab08e89f', 'message': 'Remove Nova v3 API clients\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes the clients.\n\nChange-Id: I90f48b3adcd94435320de965a3db21eefaa97cda\n'}]",0,140982,b7ee5a01afcb67643ef459c440f46566ab08e89f,31,9,6,6167,,,0,"Remove Nova v3 API clients

Nova v3 API has disappeared, and Tempest isn't testing the API on the
gate now. In addition, Nova team is creating a new REST API ""Nova v2.1
API + microversions"" and the interfaces are different from v3 API.
So it is not necessary to keep Nova v3 API tests in Tempest.
This patch removes the clients.

Change-Id: I90f48b3adcd94435320de965a3db21eefaa97cda
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/140982/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/v3/json/interfaces_client.py', 'tempest/services/compute/v3/json/services_client.py', 'tempest/api_schema/response/compute/v3/hosts.py', 'tempest/services/compute/v3/json/quotas_client.py', 'tempest/services/compute/v3/json/keypairs_client.py', 'tempest/api_schema/response/compute/v3/hypervisors.py', 'tempest/services/compute/v3/json/migration_client.py', 'tempest/services/compute/v3/json/hosts_client.py', 'tempest/services/compute/v3/json/flavors_client.py', 'tempest/services/compute/v3/json/version_client.py', 'tempest/api_schema/response/compute/v3/__init__.py', 'tempest/api_schema/response/compute/v3/certificates.py', 'tempest/services/compute/v3/__init__.py', 'tempest/services/compute/v3/json/extensions_client.py', 'tempest/services/compute/v3/json/hypervisor_client.py', 'tempest/services/compute/v3/json/servers_client.py', 'tempest/api_schema/response/compute/v3/servers.py', 'tempest/api_schema/response/compute/v3/keypairs.py', 'tempest/api_schema/response/compute/v3/extensions.py', 'tempest/services/compute/v3/json/availability_zone_client.py', 'tempest/api_schema/response/compute/v3/interfaces.py', 'tempest/api_schema/response/compute/v3/agents.py', 'tempest/services/compute/v3/json/certificates_client.py', 'tempest/api_schema/response/compute/v3/availability_zone.py', 'tempest/services/compute/v3/json/aggregates_client.py', 'tempest/api_schema/response/compute/v3/aggregates.py', 'tempest/clients.py', 'tempest/services/compute/v3/json/__init__.py', 'tempest/services/compute/v3/json/agents_client.py', 'tempest/api_schema/response/compute/v3/quotas.py', 'tempest/api_schema/response/compute/v3/flavors.py']",31,13b96b8acf773a56274bff195ff6940c383a0e8e,rest-client,,"# Copyright 2014 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from tempest.api_schema.response.compute import flavors from tempest.api_schema.response.compute import flavors_extra_specs list_flavors_details = copy.deepcopy(flavors.common_flavor_list_details) # NOTE- In v3 API, 'swap' comes as '0' not empty string '""""' # (In V2 API, it comes as empty string) So leaving 'swap'as integer type only. # Defining extra attributes for V3 flavor schema list_flavors_details['response_body']['properties']['flavors']['items'][ 'properties'].update({'disabled': {'type': 'boolean'}, 'ephemeral': {'type': 'integer'}, 'flavor-access:is_public': {'type': 'boolean'}, 'os-flavor-rxtx:rxtx_factor': {'type': 'number'}}) # 'flavor-access' and 'os-flavor-rxtx' are API extensions. # So they are not 'required'. list_flavors_details['response_body']['properties']['flavors']['items'][ 'required'].extend(['disabled', 'ephemeral']) set_flavor_extra_specs = copy.deepcopy(flavors_extra_specs.flavor_extra_specs) set_flavor_extra_specs['status_code'] = [201] unset_flavor_extra_specs = { 'status_code': [204] } get_flavor_details = copy.deepcopy(flavors.common_flavor_details) # NOTE- In v3 API, 'swap' comes as '0' not empty string '""""' # (In V2 API, it comes as empty string) So leaving 'swap'as integer type only. # Defining extra attributes for V3 flavor schema get_flavor_details['response_body']['properties']['flavor'][ 'properties'].update({'disabled': {'type': 'boolean'}, 'ephemeral': {'type': 'integer'}, 'flavor-access:is_public': {'type': 'boolean'}, 'os-flavor-rxtx:rxtx_factor': {'type': 'number'}}) # 'flavor-access' and 'os-flavor-rxtx' are API extensions. # So they are not 'required'. get_flavor_details['response_body']['properties']['flavor'][ 'required'].extend(['disabled', 'ephemeral']) create_flavor_details = copy.deepcopy(get_flavor_details) # Overriding the status code for create flavor V3 API. create_flavor_details['status_code'] = [201] delete_flavor = { 'status_code': [204] } ",0,2361
openstack%2Fpbr~feature%2F0.10~Ie2ca34f59e9b42a3126c95edf36640fef32feed8,openstack/pbr,feature/0.10,Ie2ca34f59e9b42a3126c95edf36640fef32feed8,Stop including git sha in version strings,MERGED,2014-12-16 00:04:25.000000000,2014-12-17 02:10:07.000000000,2014-12-17 02:10:06.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2014-12-16 00:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/fb265e5104c19d14f2df98f2ab9c59d9b8641b09', 'message': ""Stop including git sha in version strings\n\nWe include it in pbr.json now. Including it is contentious in the world\nof python, and it's up for debate as to whether or not it provides\nvalue.\n\nChange-Id: Ie2ca34f59e9b42a3126c95edf36640fef32feed8\n""}, {'number': 2, 'created': '2014-12-16 00:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/1fb11fd30dd3118728945e5ff3903d599292432a', 'message': ""Stop including git sha in version strings\n\nWe include it in pbr.json now. Including it is contentious in the world\nof python, and it's up for debate as to whether or not it provides\nvalue.\n\nChange-Id: Ie2ca34f59e9b42a3126c95edf36640fef32feed8\n""}, {'number': 3, 'created': '2014-12-16 16:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/9a66bfa0ae73faa4553f52a2d8b4ced9bc87aa3b', 'message': ""Stop including git sha in version strings\n\nWe include it in pbr.json now. Including it is contentious in the world\nof python, and it's up for debate as to whether or not it provides\nvalue.\n\nChange-Id: Ie2ca34f59e9b42a3126c95edf36640fef32feed8\n""}, {'number': 4, 'created': '2014-12-16 18:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/6f70da28b4bf192f9e94d00392c8e23da0740098', 'message': ""Stop including git sha in version strings\n\nWe include it in pbr.json now. Including it is contentious in the world\nof python, and it's up for debate as to whether or not it provides\nvalue.\n\nChange-Id: Ie2ca34f59e9b42a3126c95edf36640fef32feed8\n""}, {'number': 5, 'created': '2014-12-16 20:18:25.000000000', 'files': ['pbr/packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/e73e67acdd84e3c0fe7f5a8cabb62d514c5a9d06', 'message': ""Stop including git sha in version strings\n\nWe include it in pbr.json now. Including it is contentious in the world\nof python, and it's up for debate as to whether or not it provides\nvalue.\n\nChange-Id: Ie2ca34f59e9b42a3126c95edf36640fef32feed8\n""}]",1,141946,e73e67acdd84e3c0fe7f5a8cabb62d514c5a9d06,18,4,5,2,,,0,"Stop including git sha in version strings

We include it in pbr.json now. Including it is contentious in the world
of python, and it's up for debate as to whether or not it provides
value.

Change-Id: Ie2ca34f59e9b42a3126c95edf36640fef32feed8
",git fetch https://review.opendev.org/openstack/pbr refs/changes/46/141946/4 && git format-patch -1 --stdout FETCH_HEAD,['pbr/packaging.py'],1,fb265e5104c19d14f2df98f2ab9c59d9b8641b09,," git_dir = _run_git_functions() if git_dir: return ""%s.dev%s"" % (pre_version, _get_revno(git_dir)) else: raw_version = _run_git_command( git_dir).replace('-', '.').split('.g')[0] if '.' not in raw_version: raw_version = ""0.0.0.%s"" % _get_revno(git_dir) return raw_version"," git_dir = _get_git_directory() if git_dir and _git_is_installed(): sha = _run_git_command( ['log', '-n1', '--pretty=format:%h'], git_dir) return ""%s.dev%s+g%s"" % (pre_version, _get_revno(git_dir), sha) else: return _run_git_command( git_dir).replace('-', '.').replace('.g', '+g')",8,7
openstack%2Ftelemetry-specs~master~Ib9d60b3977f61985a53b21f1040c34a689b8b9ec,openstack/telemetry-specs,master,Ib9d60b3977f61985a53b21f1040c34a689b8b9ec,Add spec for more power and thermal data,MERGED,2014-12-05 06:28:46.000000000,2014-12-17 02:01:05.000000000,2014-12-17 02:01:04.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 4491}]","[{'number': 1, 'created': '2014-12-05 06:28:46.000000000', 'files': ['specs/kilo/power-thermal-data.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/cd964c88f6b7366b86bf1172fa0b446082fc029a', 'message': 'Add spec for more power and thermal data\n\nAdd more power and thermal data, like CUPS and airflow\n\nChange-Id: Ib9d60b3977f61985a53b21f1040c34a689b8b9ec\n'}]",0,139537,cd964c88f6b7366b86bf1172fa0b446082fc029a,7,3,1,11235,,,0,"Add spec for more power and thermal data

Add more power and thermal data, like CUPS and airflow

Change-Id: Ib9d60b3977f61985a53b21f1040c34a689b8b9ec
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/37/139537/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/power-thermal-data.rst'],1,cd964c88f6b7366b86bf1172fa0b446082fc029a,bp/power-thermal-data,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== More Power and Thermal Data =========================== https://blueprints.launchpad.net/ceilometer/+spec/power-thermal-data Add more power and thermal data besides IPMI sensor data and Node Manager basic data. These data from platform hardware are independent of OS/driver, and valuable to show running status of node. Problem description =================== We already have IPMI sensor data and Node Manager basic data, but they don't provide enough info of overall picture for server in data center. Some extra data can be added, like CUPS(Compute Usage Per Second), which indicates CPU/IO/Memory utilization, and Volumetric Airflow, which indicates current amount of air that goes through server. These data plus previous basic power/thermal data, can be used as input for Nova scheduling. Proposed change =============== Add capability to get new data in NodeManager class. Add new pollsters to get CUPS and airflow data. Add following new metrics: ====================================== ======== ============= ========= Name Type Unit Origin ====================================== ======== ============= ========= hardware.ipmi.airflow g CFM p hardware.ipmi.cups.core g % p hardware.ipmi.cups.io g % p hardware.ipmi.cups.mem g % p ====================================== ======== ============= ========= * g = gauge, n = notification , p = pollster, CFM = Cubic Feet per Minute Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Pipeline impact --------------- None Other end user impact --------------------- These new data should be exposed via the Horizon metering dashboard. Performance/Scalability Impacts ------------------------------- Fetching some new metrics would not cause obvious perf drop Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: edwin-zhai Other contributors: lianhao-lu Work Items ---------- * Add raw IPMI command to get new data in NodeManager class * Implement 2 new pollster: CUPS and airflow * Add unit test coverage * Update related docs Future lifecycle ================ Once this feature enabled, need test and bug fixing in next 2 releases to avoid regression Dependencies ============ This feature depends on IPMI/NM capable servers Testing ======= This feature with previous IPMI sensor data and NM basic data need 3rd party testing system to verify its function. This testing system development is in progress. Documentation Impact ==================== The added metrics will need to be documented in the `measurements section`_. .. _measurements section: http://docs.openstack.org/developer/ceilometer/measurements.html References ========== None ",,151,0
openstack%2Fpbr~feature%2F0.10~I35a1489c9ab637769218d1e6a26d1115a52a7051,openstack/pbr,feature/0.10,I35a1489c9ab637769218d1e6a26d1115a52a7051,Write and read more complex git sha info,MERGED,2014-12-14 22:48:47.000000000,2014-12-17 02:00:43.000000000,2014-12-17 02:00:42.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 4190}, {'_account_id': 5263}, {'_account_id': 7687}]","[{'number': 1, 'created': '2014-12-14 22:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/60326f7ef841b11bb3ab8002ba1e3e1605371166', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 2, 'created': '2014-12-14 22:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/588067149908706f9bdadbf393b62e517540c9e2', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 3, 'created': '2014-12-14 23:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b283b1da94eadbf7b19e77647fe2f68c25ca85fe', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 4, 'created': '2014-12-14 23:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/fb499822655ca5df2896720a89df1df0e08d7b64', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 5, 'created': '2014-12-15 18:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7bdc192e3c278d4a59163bcc6160b985742708bc', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 6, 'created': '2014-12-16 00:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/fa288de794ffe815d61ea313f42cfbf96aae2b7a', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 7, 'created': '2014-12-16 16:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/5570a525ef54a6bf20b45dee569a0982592295a7', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 8, 'created': '2014-12-16 18:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/9950471209d6057bf5f62612716ac8f02ff1d1b1', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}, {'number': 9, 'created': '2014-12-16 20:18:25.000000000', 'files': ['pbr/packaging.py', 'pbr/cmd/main.py', 'setup.cfg', 'pbr/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/b3678714aabd9c82a4ad389036e160a0819fd45c', 'message': 'Write and read more complex git sha info\n\nInstead of encoding the git sha into the version string, add it to\na metadata file. This will allow us to get out of the business of\narguing with pip and setuptools about version info. In order to make\nthis really nice, provide a command line utility called ""pbr"" that has\nsubcommands to print out the metadata that we\'re now including in the\negg-info dir.\n\nChange-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051\n'}]",4,141667,b3678714aabd9c82a4ad389036e160a0819fd45c,30,6,9,2,,,0,"Write and read more complex git sha info

Instead of encoding the git sha into the version string, add it to
a metadata file. This will allow us to get out of the business of
arguing with pip and setuptools about version info. In order to make
this really nice, provide a command line utility called ""pbr"" that has
subcommands to print out the metadata that we're now including in the
egg-info dir.

Change-Id: I35a1489c9ab637769218d1e6a26d1115a52a7051
",git fetch https://review.opendev.org/openstack/pbr refs/changes/67/141667/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/packaging.py', 'pbr/cmd/main.py', 'setup.cfg', 'pbr/cmd/__init__.py']",4,60326f7ef841b11bb3ab8002ba1e3e1605371166,141667,,,165,10
openstack%2Ffuel-docs~master~I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3,openstack/fuel-docs,master,I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3,Adds 2 release network commands for Fuel CLI.,MERGED,2014-11-27 08:37:18.000000000,2014-12-17 01:58:57.000000000,2014-12-17 01:58:56.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9788}, {'_account_id': 10014}, {'_account_id': 13082}, {'_account_id': 14342}]","[{'number': 1, 'created': '2014-11-27 08:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a9e1aa6ef427d7719a9212bd71f02519326a6de4', 'message': 'Adds 2 release network commands for Fuel CLI.\n\nThe following commands are introduced for Fuel CLI:\n\n*   fuel rel --rel 1 --networks --download (read rel-nets)\n*   fuel rel --rel 1 --networks --upload (upload back after modifying)\n\nChange-Id: I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3\nCloses-Bug: 1391207\n'}, {'number': 2, 'created': '2014-11-27 08:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a7544c7e54368b51afbf8ae49544a1d5de1c7a89', 'message': 'Adds 2 release network commands for Fuel CLI.\n\nThe following commands are introduced for Fuel CLI:\n\n*   fuel rel --rel 1 --networks --download (read rel-nets)\n*   fuel rel --rel 1 --networks --upload (upload back after modifying)\n\nChange-Id: I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3\nCloses-Bug: 1391207\n'}, {'number': 3, 'created': '2014-11-27 08:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a016af03098d981b20ddb7e081404c85c74953b9', 'message': 'Adds 2 release network commands for Fuel CLI.\n\nThe following commands are introduced for Fuel CLI:\n\n*   fuel rel --rel 1 --networks --download (read rel-nets)\n*   fuel rel --rel 1 --networks --upload (upload back after modifying)\n\nChange-Id: I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3\nCloses-Bug: 1391207\n'}, {'number': 4, 'created': '2014-11-27 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/ff0d04b04442d645293e7e9f0b4d8c733ab6af22', 'message': 'Adds 2 release network commands for Fuel CLI.\n\nThe following commands are introduced for Fuel CLI:\n\n*   fuel rel --rel 1 --network --download (read rel-nets)\n*   fuel rel --rel 1 --network --upload (upload back after modifying)\n\nChange-Id: I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3\nCloses-Bug: 1391207\n'}, {'number': 5, 'created': '2014-11-27 09:38:09.000000000', 'files': ['pages/user-guide/cli.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a4b993be5cf76c4948dd850a0859e7be396d83d1', 'message': 'Adds 2 release network commands for Fuel CLI.\n\nThe following commands are introduced for Fuel CLI:\n\n*   fuel rel --rel 1 --network --download (read rel-nets)\n*   fuel rel --rel 1 --network --upload (upload back after modifying)\n\nChange-Id: I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3\nCloses-Bug: 1391207\n'}]",21,137545,a4b993be5cf76c4948dd850a0859e7be396d83d1,35,8,5,13082,,,0,"Adds 2 release network commands for Fuel CLI.

The following commands are introduced for Fuel CLI:

*   fuel rel --rel 1 --network --download (read rel-nets)
*   fuel rel --rel 1 --network --upload (upload back after modifying)

Change-Id: I11bf7b08f7cf4c71be5f6ccb1075b2c608081dc3
Closes-Bug: 1391207
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/45/137545/3 && git format-patch -1 --stdout FETCH_HEAD,['pages/user-guide/cli.rst'],1,a9e1aa6ef427d7719a9212bd71f02519326a6de4,bug/1391207,"Read release networks. This command reads networks from API and saves them in .yaml format on the file system: :: fuel rel --rel 1 --networks --download Modify release networks. After reading the networks, you may want to modify them and upload back: :: fuel rel --rel 1 --networks --upload ",,14,0
openstack%2Fironic-python-agent~master~I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e,openstack/ironic-python-agent,master,I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e,Use oslo.utils and oslo.concurrency,MERGED,2014-12-01 16:28:49.000000000,2014-12-17 01:44:49.000000000,2014-12-17 01:44:47.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 7491}, {'_account_id': 8106}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10380}, {'_account_id': 12356}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-12-01 16:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/beea9323c80108094781f019180e375717968f50', 'message': 'Use oslo.utils and oslo.concurrency\n\nUpdate openstack/common files and use oslo.utils, oslo.concurrency\ninstead of modules from oslo-incubator\n\nChange-Id: I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e\n'}, {'number': 2, 'created': '2014-12-02 13:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ffd2c2e0f6ce89cd662f60e4f5a85ee0fc6baa0c', 'message': 'Use oslo.utils and oslo.concurrency\n\nUpdate openstack/common files and use oslo.utils, oslo.concurrency\ninstead of modules from oslo-incubator\n\nChange-Id: I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e\n'}, {'number': 3, 'created': '2014-12-08 22:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/00b0649690b611365248b98b8396687728f19edd', 'message': 'Use oslo.utils and oslo.concurrency\n\nUpdate openstack/common files and use oslo.utils, oslo.concurrency\ninstead of modules from oslo-incubator\n\nAdditionally, sort and set requirements.txt to correct versions in\nopenstack/requirements in order to ensure pep8 passes.\n\nChange-Id: I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e\n'}, {'number': 4, 'created': '2014-12-09 00:07:34.000000000', 'files': ['ironic_python_agent/openstack/common/loopingcall.py', 'ironic_python_agent/tests/extensions/standby.py', 'ironic_python_agent/tests/utils.py', 'ironic_python_agent/openstack/common/jsonutils.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/openstack/common/__init__.py', 'ironic_python_agent/openstack/common/_i18n.py', 'ironic_python_agent/openstack/common/config/__init__.py', 'ironic_python_agent/openstack/common/config/generator.py', 'ironic_python_agent/openstack/common/importutils.py', 'requirements.txt', 'ironic_python_agent/openstack/common/strutils.py', 'ironic_python_agent/openstack/common/timeutils.py', 'ironic_python_agent/openstack/common/processutils.py', 'ironic_python_agent/openstack/common/gettextutils.py', 'openstack-common.conf', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/agent.py', 'ironic_python_agent/cmd/agent.py', 'ironic_python_agent/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/86ef5d368db7d2dadf6714c4da293636b9fd4a5e', 'message': 'Use oslo.utils and oslo.concurrency\n\nUpdate openstack/common files and use oslo.utils, oslo.concurrency\ninstead of modules from oslo-incubator.\n\nAdditionally, sort and set requirements.txt to correct versions in\nopenstack/requirements in order to ensure pep8 passes.\n\nChange-Id: I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e\n'}]",5,138116,86ef5d368db7d2dadf6714c4da293636b9fd4a5e,21,11,4,12363,,,0,"Use oslo.utils and oslo.concurrency

Update openstack/common files and use oslo.utils, oslo.concurrency
instead of modules from oslo-incubator.

Additionally, sort and set requirements.txt to correct versions in
openstack/requirements in order to ensure pep8 passes.

Change-Id: I15f88a31a4c889bba27cd0cd1c7fc481c0c0b51e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/16/138116/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/openstack/common/loopingcall.py', 'ironic_python_agent/tests/extensions/standby.py', 'ironic_python_agent/tests/utils.py', 'ironic_python_agent/openstack/common/jsonutils.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/openstack/common/__init__.py', 'ironic_python_agent/openstack/common/config/__init__.py', 'ironic_python_agent/openstack/common/config/generator.py', 'ironic_python_agent/openstack/common/importutils.py', 'requirements.txt', 'ironic_python_agent/openstack/common/strutils.py', 'ironic_python_agent/openstack/common/timeutils.py', 'ironic_python_agent/openstack/common/processutils.py', 'ironic_python_agent/openstack/common/gettextutils.py', 'openstack-common.conf', 'ironic_python_agent/utils.py', 'ironic_python_agent/tests/agent.py', 'ironic_python_agent/cmd/agent.py', 'ironic_python_agent/openstack/common/log.py']",19,beea9323c80108094781f019180e375717968f50,use_oslo_utils,"import copyimport socketfrom oslo.serialization import jsonutils from oslo.utils import importutilsfrom ironic_python_agent.openstack.common._i18n import _ 'urllib3.connectionpool=WARN', 'websocket=WARN', ""keystonemiddleware=WARN"", ""routes.middleware=WARN"", ""stevedore=WARN""] def list_opts(): """"""Entry point for oslo.config-generator."""""" return [(None, copy.deepcopy(common_cli_opts)), (None, copy.deepcopy(logging_cli_opts)), (None, copy.deepcopy(generic_log_opts)), (None, copy.deepcopy(log_opts)), ] # NOTE(jecarey): If msg is not unicode, coerce it into unicode # before it can get to the python logging and # possibly cause string encoding trouble if not isinstance(msg, six.text_type): handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR) if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog ' 'is running.') # NOTE(jecarey): If msg is not unicode, coerce it into unicode # before it can get to the python logging and # possibly cause string encoding trouble if not isinstance(record.msg, six.text_type): record.msg = six.text_type(record.msg) ","from ironic_python_agent.openstack.common.gettextutils import _ from ironic_python_agent.openstack.common import importutils from ironic_python_agent.openstack.common import jsonutils# NOTE(flaper87): Pls, remove when graduating this module # from the incubator. from ironic_python_agent.openstack.common.strutils import mask_password # noqa 'urllib3.connectionpool=WARN', 'websocket=WARN'] # NOTE(mrodden): catch any Message/other object and # coerce to unicode before they can get # to the python logging and possibly # cause string encoding trouble if not isinstance(msg, six.string_types): if CONF.use_syslog: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) try: handler = importutils.import_object( ""ironic_python_agent.openstack.common.log_handler.PublishErrorsHandler"", logging.ERROR) except ImportError: handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR)",62,1903
openstack%2Fkeystone~master~I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7,openstack/keystone,master,I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7,Check and delete for policy_association_for_region_and_service,MERGED,2014-12-08 19:14:57.000000000,2014-12-17 01:43:51.000000000,2014-12-17 01:43:49.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 7634}, {'_account_id': 9101}, {'_account_id': 9142}, {'_account_id': 10765}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-12-08 19:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/915dd0dbfbc5d463b0727b120c9f71a8d812a439', 'message': 'Check and delete for  policy_association_for_region_and_service\n\nCalls proper function in the manager and driver\n\nChange-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7\nCloses-bug: 1400362\n'}, {'number': 2, 'created': '2014-12-10 19:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f10ff9aed6278eb217b119682761225459e0c674', 'message': 'Check and delete for  policy_association_for_region_and_service\n\nCalls proper function in the manager and driver\n\nChange-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7\nCloses-bug: 1400362\n'}, {'number': 3, 'created': '2014-12-16 16:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8d7123dd39c25ed1702cc63a3e74ac28a2251c38', 'message': 'Check and delete for  policy_association_for_region_and_service\n\nCalls proper function in the manager and driver\n\nUnit tests now check pre- and post- conditions on CRUD\n\nChange-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7\nCloses-bug: 1400362\n'}, {'number': 4, 'created': '2014-12-16 17:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e205d0d51612196a4d41499fec04023d20828254', 'message': 'Check and delete for  policy_association_for_region_and_service\n\nCalls proper function in the manager and driver\n\nUnit tests now check pre- and post- conditions on CRUD\n\nChange-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7\nCloses-bug: 1400362\n'}, {'number': 5, 'created': '2014-12-16 17:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3ff6a9191c568351f49ce77c14f08fca81ad37cd', 'message': 'Check and delete for policy_association_for_region_and_service\n\nCalls proper function in the manager and driver\n\nUnit tests now check pre- and post- conditions on CRUD\n\nChange-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7\nCloses-bug: 1400362\n'}, {'number': 6, 'created': '2014-12-16 20:11:21.000000000', 'files': ['keystone/contrib/endpoint_policy/controllers.py', 'keystone/tests/test_v3_endpoint_policy.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1c615db7f2b3c29d58cfbd03e497a1e4b55cbb78', 'message': 'Check and delete for policy_association_for_region_and_service\n\nCalls proper function in the manager and driver\n\nUnit tests now check pre- and post- conditions on CRUD\n\nChange-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7\nCloses-bug: 1400362\n'}]",13,140122,1c615db7f2b3c29d58cfbd03e497a1e4b55cbb78,38,10,6,2218,,,0,"Check and delete for policy_association_for_region_and_service

Calls proper function in the manager and driver

Unit tests now check pre- and post- conditions on CRUD

Change-Id: I26e4d4f15ff39dd76141aa5fb7aae1ebb6680bf7
Closes-bug: 1400362
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/140122/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/contrib/endpoint_policy/controllers.py', 'keystone/tests/test_v3_endpoint_policy.py']",2,915dd0dbfbc5d463b0727b120c9f71a8d812a439,bug/1400362," self.get(url, expected_status=404)",,3,2
openstack%2Frequirements~master~I03bdead39760e9c13d6de4a33f8e5e788052323d,openstack/requirements,master,I03bdead39760e9c13d6de4a33f8e5e788052323d,Add a tox env to check requirements overlap,MERGED,2014-06-05 22:08:11.000000000,2014-12-17 01:34:32.000000000,2014-09-23 16:43:21.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6486}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-06-05 22:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f0bd962b477f910c58703560efaf2435be9534a2', 'message': ""Add a tox env to check requirements overlap\n\nThere was no easy way to check that the requirements in the\ncurrent commit overlap with requirements in the ancestor commit.\n\nThis change adds a tox env such that if it's used it compares the\nglobal-requirements.txt with the parent global requirements, and\nfails if the requirements for the packages don't overlap.\n\nRun it with\n\n tox -e versions-overlap-parent\n\nChange-Id: I03bdead39760e9c13d6de4a33f8e5e788052323d\nCloses-Bug: #1326504\n""}, {'number': 2, 'created': '2014-06-19 02:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9012df1f3604d9688fe4c2a97b27fb47c5ed96e4', 'message': ""Add a tox env to check requirements overlap\n\nThere was no easy way to check that the requirements in the\ncurrent commit overlap with requirements in the ancestor commit.\n\nThis change adds a tox env such that if it's used it compares the\nglobal-requirements.txt with the parent global requirements, and\nfails if the requirements for the packages don't overlap.\n\nRun it with\n\n tox -e versions-overlap-parent\n\nChange-Id: I03bdead39760e9c13d6de4a33f8e5e788052323d\nCloses-Bug: #1326504\n""}, {'number': 3, 'created': '2014-08-25 21:32:56.000000000', 'files': ['tests/test_versions_overlap_parent.py', 'versions_overlap_parent.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3127601efc483f0949c8eb58d74d7f29caf8a66', 'message': ""Add a tox env to check requirements overlap\n\nThere was no easy way to check that the requirements in the\ncurrent commit overlap with requirements in the ancestor commit.\n\nThis change adds a tox env that when run compares the\nglobal-requirements.txt with the parent commit's\nglobal-requirements.txt. If the requirements for the packages don't\noverlap it fails.\n\nRun it with\n\n tox -e versions-overlap-parent\n\nChange-Id: I03bdead39760e9c13d6de4a33f8e5e788052323d\nCloses-Bug: #1326504\n""}]",0,98262,f3127601efc483f0949c8eb58d74d7f29caf8a66,34,7,3,6486,,,0,"Add a tox env to check requirements overlap

There was no easy way to check that the requirements in the
current commit overlap with requirements in the ancestor commit.

This change adds a tox env that when run compares the
global-requirements.txt with the parent commit's
global-requirements.txt. If the requirements for the packages don't
overlap it fails.

Run it with

 tox -e versions-overlap-parent

Change-Id: I03bdead39760e9c13d6de4a33f8e5e788052323d
Closes-Bug: #1326504
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/98262/1 && git format-patch -1 --stdout FETCH_HEAD,"['versions_overlap_parent.py', 'tox.ini']",2,f0bd962b477f910c58703560efaf2435be9534a2,bug/1326504,[testenv:versions-overlap-parent] commands = python versions_overlap_parent.py ,,176,0
openstack%2Fcookbook-openstack-object-storage~master~I75f5f7a1a0cb1eb40d5442551f8844ba1170a627,openstack/cookbook-openstack-object-storage,master,I75f5f7a1a0cb1eb40d5442551f8844ba1170a627,Add keystone support,MERGED,2014-11-18 20:36:07.000000000,2014-12-17 01:20:37.000000000,2014-12-17 01:20:36.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 12323}, {'_account_id': 12588}, {'_account_id': 13252}]","[{'number': 1, 'created': '2014-11-18 20:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/e75789e16725a988ed16d8699a13cc7efc2dab5c', 'message': 'Add keystone support\n\nNew recipe for identity registration like other cookbooks.\nCalled during the setup recipe.  This is first patch to start down\nroad of getting swift cookbook up to date and supporting redhat.\n\nChange-Id: I75f5f7a1a0cb1eb40d5442551f8844ba1170a627\n'}, {'number': 2, 'created': '2014-11-18 22:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/e7f37d1db1fc54f799e6cd08c1f2191c042052df', 'message': 'Add keystone support\n\nNew recipe for identity registration like other cookbooks.\nCalled during the setup recipe.  This is first patch to start down\nroad of getting swift cookbook up to date and supporting redhat.\n\nChange-Id: I75f5f7a1a0cb1eb40d5442551f8844ba1170a627\n'}, {'number': 3, 'created': '2014-11-19 14:21:31.000000000', 'files': ['spec/spec_helper.rb', 'recipes/setup.rb', 'attributes/default.rb', 'spec/identity_registration_spec.rb', 'spec/setup_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'recipes/identity_registration.rb', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-object-storage/commit/cc5870723b6032c5b061f923fe0b1ef048bfdd35', 'message': 'Add keystone support\n\nNew recipe for identity registration like other cookbooks.\nCalled during the setup recipe.  This is first patch to start down\nroad of getting swift cookbook up to date and supporting redhat.\n\nChange-Id: I75f5f7a1a0cb1eb40d5442551f8844ba1170a627\n'}]",4,135416,cc5870723b6032c5b061f923fe0b1ef048bfdd35,17,5,3,7128,,,0,"Add keystone support

New recipe for identity registration like other cookbooks.
Called during the setup recipe.  This is first patch to start down
road of getting swift cookbook up to date and supporting redhat.

Change-Id: I75f5f7a1a0cb1eb40d5442551f8844ba1170a627
",git fetch https://review.opendev.org/openstack/cookbook-openstack-object-storage refs/changes/16/135416/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/spec_helper.rb', 'recipes/setup.rb', 'attributes/default.rb', 'spec/identity_registration_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'recipes/identity_registration.rb', 'Berksfile']",8,e75789e16725a988ed16d8699a13cc7efc2dab5c,redhat,"cookbook ""openstack-identity"", github: ""stackforge/cookbook-openstack-identity""",,248,7
openstack%2Frally~master~I14c788ae776996a295df206512c814d1b0c514ae,openstack/rally,master,I14c788ae776996a295df206512c814d1b0c514ae,Add Rally create keypair CLI command,ABANDONED,2014-06-10 09:46:14.000000000,2014-12-17 01:19:01.000000000,,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6124}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9180}, {'_account_id': 9601}, {'_account_id': 11105}]","[{'number': 1, 'created': '2014-06-10 09:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/aa3409374dad7b4e20f01755f20366474c6d06d7', 'message': '[WIP] Add Rally create CLI command\n\nImplements following create resource options,\n1. Create keypair\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nblueprint: add-rally-create-cli-command\n'}, {'number': 2, 'created': '2014-07-16 08:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9956167ada8ac0617afc6be18d23866b9ae942f1', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}, {'number': 3, 'created': '2014-07-16 08:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6bf7ddac2860b9abc15d26c92753449bb57a5791', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}, {'number': 4, 'created': '2014-08-08 17:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6831fbb5cbaebebd18659a09ab1945af089260e6', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}, {'number': 5, 'created': '2014-08-08 17:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e939396b08fdc73652e1fb8f2db0ca871a3c1eef', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}, {'number': 6, 'created': '2014-08-12 09:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e4d08ecb28eb3d115659544721839bb600e89846', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}, {'number': 7, 'created': '2014-08-13 05:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2556c5905ad7fd65d39232d98405edf0f255a987', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}, {'number': 8, 'created': '2014-08-13 06:32:02.000000000', 'files': ['rally/cmd/main.py', 'tests/cmd/commands/test_create.py', 'rally/cmd/commands/create.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/9316e4b3b4ebb6572d3528f65d970955df0ab4da', 'message': 'Add Rally create keypair CLI command\n\nChange-Id: I14c788ae776996a295df206512c814d1b0c514ae\nImplements: blueprint: add-rally-create-cli-command\n'}]",29,98992,9316e4b3b4ebb6572d3528f65d970955df0ab4da,47,8,8,11105,,,0,"Add Rally create keypair CLI command

Change-Id: I14c788ae776996a295df206512c814d1b0c514ae
Implements: blueprint: add-rally-create-cli-command
",git fetch https://review.opendev.org/openstack/rally refs/changes/92/98992/6 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cmd/main.py', 'rally/cmd/commands/create.py']",2,aa3409374dad7b4e20f01755f20366474c6d06d7,bp/add-rally-create-cli-command,"# Copyright 2014: Red Hat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Rally command: create """""" from __future__ import print_function import os import sys from rally.cmd import cliutils from rally.cmd import envutils from rally import db from rally import exceptions from rally.objects import endpoint from rally.openstack.common import cliutils as common_cliutils from rally.openstack.common.gettextutils import _ from rally import osclients from rally import utils class CreateCommands(object): @cliutils.args(""--deploy-id"", dest=""deploy_id"", type=str, required=False, help=""UUID of a deployment."") @cliutils.args('--name', type=str, required=True, help='A name of the keypair.') @cliutils.args('--pub-key', type=str, required=True, dest='pub_key', help='Path to a public ssh key.') @envutils.with_default_deploy_id def keypair(self, deploy_id=None, name=""None"", pub_key=None): """"""Start running tempest tests against a live cloud cluster. :param deploy_id: a UUID of a deployment :param name: Name of keypair :param pub_key: Path to a public ssh key """""" try: with open(os.path.expanduser(pub_key)) as f: pub_key = f.read() except IOError as e: raise exceptions.CommandError(_(""Can't open or read '%(key)s': "" ""%(exc)s"") % {'key': pub_key, 'exc': e}) try: endpoints = db.deployment_get(deploy_id)['endpoints'] for endpoint_dict in endpoints: clients = osclients.Clients(endpoint. Endpoint(**endpoint_dict)) nova_client = clients.nova() nova_client.keypairs.create(name, pub_key) headers = ['Name', 'Fingerprint'] mixed_case_fields = ['Name', 'Fingerprint'] table_rows = [] for keypair in nova_client.keypairs.list(): data = [keypair.name, keypair.fingerprint] table_rows.append(utils.Struct(**dict(zip(headers, data)))) except exceptions.InvalidArgumentsException: print(_(""Authentication Issues: %s"") % sys.exc_info()[1]) return(1) common_cliutils.print_list(table_rows, fields=headers, mixed_case_fields=mixed_case_fields) ",,77,1
openstack%2Frally~master~I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1,openstack/rally,master,I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1,CLIUtils: add new decorator for output formats,ABANDONED,2014-10-06 14:46:50.000000000,2014-12-17 01:17:12.000000000,,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 9545}]","[{'number': 1, 'created': '2014-10-06 14:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7f150cd998bf050f2d43d7728b34684f75ee74c3', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It tackes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}, {'number': 2, 'created': '2014-10-06 15:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/34cd11917c1e64e74b08a90a3be52cfe1027ea45', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It tackes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}, {'number': 3, 'created': '2014-10-06 15:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/55982ca616e158642c70acde967fd2c3fe56c68c', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It tackes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}, {'number': 4, 'created': '2014-10-06 19:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/07c953d3620b9690718948d6d4210049f3e5cfc5', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It takes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}, {'number': 5, 'created': '2014-10-07 14:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c6cafe2bb3139c180cfea1e9ca251c3b02a17838', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It takes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}, {'number': 6, 'created': '2014-10-07 14:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e251e06d4ceb9957f8bd71a0bfb03051517daadf', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It takes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}, {'number': 7, 'created': '2014-10-07 14:59:44.000000000', 'files': ['rally/cmd/commands/verify.py', 'rally/cmd/commands/deployment.py', 'tests/unit/cmd/commands/test_task.py', 'tests/unit/cmd/test_cliutils.py', 'tests/unit/cmd/commands/test_deployment.py', 'rally/cmd/commands/task.py', 'tests/unit/cmd/commands/test_verify.py', 'rally/cmd/cliutils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/970e6ebf6d1074ed7302a03184ea464c1b4e7af3', 'message': 'CLIUtils: add new decorator for output formats\n\nModules from `rally.cmd.commands` contain code duplication related to setting\noutput format.\n\nIn this patch:\n - new decorator ""add_output_args"" was implemented. It takes care about\n   setting args for output formats with unified help messages.\n - all usages of `rally.cmd.cliutils.args` related to output formats were\n   replaced by new decorator ""add_output_args""\n\nAlso, PPrint output format was removed.\n\nChange-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1\n'}]",4,126312,970e6ebf6d1074ed7302a03184ea464c1b4e7af3,20,4,7,9545,,,0,"CLIUtils: add new decorator for output formats

Modules from `rally.cmd.commands` contain code duplication related to setting
output format.

In this patch:
 - new decorator ""add_output_args"" was implemented. It takes care about
   setting args for output formats with unified help messages.
 - all usages of `rally.cmd.cliutils.args` related to output formats were
   replaced by new decorator ""add_output_args""

Also, PPrint output format was removed.

Change-Id: I8d7d545a4a4fc6bf758f3431bfd7b6c2cc477cc1
",git fetch https://review.opendev.org/openstack/rally refs/changes/12/126312/5 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cmd/commands/verify.py', 'tests/cmd/test_cliutils.py', 'rally/cmd/commands/deployment.py', 'rally/cmd/commands/task.py', 'rally/cmd/cliutils.py']",5,7f150cd998bf050f2d43d7728b34684f75ee74c3,new_decorator," def add_output_args(output_formats=None, default_format_index=0, file_arg=False): """"""Add arguments for all formats listed in ``output_formats`` :param output_formats: list of output formats :type output_formats: list :param default_format_index: index of default format in ``output_formats`` (default is 0) or None if default format should not be labeled. :type default_format_index: int :param file_arg: index of default format in ``output_formats`` :type file_arg: False """""" def get_message(output_format): msg = _(""Display output in %s format"") % output_format if (default_format_index is not None and default_format_index < len(output_formats) and output_format == output_formats[default_format_index]): msg += _("" (Default)"") return msg def _decorator(func): if isinstance(output_formats, list): for output_format in output_formats: args(""--%s"" % output_format.lower(), action=""store_true"", dest=""output_%s"" % output_format.lower(), help=get_message(output_format))(func) if file_arg: args(""--output-file"", type=str, required=False, dest=""output_file"", help=_(""If specified, output will be saved in given file."")) return func return _decorator",,135,24
openstack%2Frally~master~I642f0ecc2b5c84202ebacd01e2b0c85ab609e597,openstack/rally,master,I642f0ecc2b5c84202ebacd01e2b0c85ab609e597,Add support for Nova live migrations,ABANDONED,2014-08-02 05:15:44.000000000,2014-12-17 01:15:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1525}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 8507}]","[{'number': 1, 'created': '2014-08-02 05:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/045d1c6fed204d48fa5a64b47c4bd75836e5c629', 'message': 'Add support for Nova live migrations\n\nCloses-bug: #1351547\n\nThis patch adds support for a new live_migrate action as part of the\nboot and bounce scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 2, 'created': '2014-08-02 22:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b2dab9c58f33093912b4ddbfba926981972ca8f4', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 3, 'created': '2014-08-02 22:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/00b1655db49b9424a02e926526045f528d37a51d', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 4, 'created': '2014-08-03 00:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3214926b926b946d894956521dc660a24a770de8', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 5, 'created': '2014-08-11 04:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fd6c10d17cb5cd03082a5d39ec9b6fcaf928a786', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 6, 'created': '2014-08-12 00:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/56991b6a47c179aac5d929e3fc5e3b647c66ec16', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 7, 'created': '2014-08-23 07:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/602c01b4a47df931771084567f228cf24220c105', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}, {'number': 8, 'created': '2014-08-24 19:41:31.000000000', 'files': ['doc/samples/tasks/scenarios/nova/live_migrate.json', 'rally/benchmark/scenarios/nova/utils.py', 'tests/benchmark/scenarios/nova/test_utils.py', 'rally/benchmark/scenarios/nova/servers.py', 'doc/samples/tasks/scenarios/nova/live_migrate.yaml', 'tests/fakes.py', 'tests/benchmark/scenarios/nova/test_servers.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/7c230472e0f5f7f12ede99034f01b84cc7ff0c75', 'message': 'Add support for Nova live migrations\n\nThis patch adds support for live migration in a new live_migrate_server\nbenchmark scenario. Live migrate requires an admin context, as\ndoes determining the host on which an instance is running. A special\nis_ready function was added to check whether the instance host\nrecord changed. This is because live migrations can fail and simply\nreturn the instance to an active state, so the only way to know for\nsure we have completed successfully is to check the host before and\nafter the operation is initiated.\n\nChange-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597\n'}]",9,111444,7c230472e0f5f7f12ede99034f01b84cc7ff0c75,26,5,8,1525,,,0,"Add support for Nova live migrations

This patch adds support for live migration in a new live_migrate_server
benchmark scenario. Live migrate requires an admin context, as
does determining the host on which an instance is running. A special
is_ready function was added to check whether the instance host
record changed. This is because live migrations can fail and simply
return the instance to an active state, so the only way to know for
sure we have completed successfully is to check the host before and
after the operation is initiated.

Change-Id: I642f0ecc2b5c84202ebacd01e2b0c85ab609e597
",git fetch https://review.opendev.org/openstack/rally refs/changes/44/111444/5 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/scenarios/nova/utils.py', 'rally/benchmark/scenarios/nova/servers.py']",2,045d1c6fed204d48fa5a64b47c4bd75836e5c629,upstream-live-migration," 'rescue_unrescue', 'live_migrate'] action_builder.bind_action('live_migrate', self._live_migrate)", 'rescue_unrescue'],29,1
openstack%2Fheat-templates~master~I6fc98b3609aead581d99ab4d39dd91f39990c0a5,openstack/heat-templates,master,I6fc98b3609aead581d99ab4d39dd91f39990c0a5,Fixes circular dependency check and alarm action,MERGED,2014-12-16 10:12:43.000000000,2014-12-17 00:56:07.000000000,2014-12-17 00:56:07.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}]","[{'number': 1, 'created': '2014-12-16 10:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/b8124a3417455281ba573f2e65509b83c60c586d', 'message': 'Fixes regression created by circular dependency check and alarm action\n\nThis template is not compatible with the new circular\ndependency check introduced in Juno. Also the alarm action\nneeds the alarm url.\n\nChange-Id: I6fc98b3609aead581d99ab4d39dd91f39990c0a5\nCloses-Bug: 1401062\n'}, {'number': 2, 'created': '2014-12-16 10:18:14.000000000', 'files': ['cfn/F17/WordPress_Single_Instance_With_HA.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/ff53051e5ac377b1f0c8c0c49499ef811b114050', 'message': 'Fixes circular dependency check and alarm action\n\nThis template is not compatible with the new circular\ndependency check introduced in Juno. Also the alarm action\nneeds the alarm url.\n\nChange-Id: I6fc98b3609aead581d99ab4d39dd91f39990c0a5\nCloses-Bug: 1401062\n'}]",0,142053,ff53051e5ac377b1f0c8c0c49499ef811b114050,9,4,2,13278,,,0,"Fixes circular dependency check and alarm action

This template is not compatible with the new circular
dependency check introduced in Juno. Also the alarm action
needs the alarm url.

Change-Id: I6fc98b3609aead581d99ab4d39dd91f39990c0a5
Closes-Bug: 1401062
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/53/142053/1 && git format-patch -1 --stdout FETCH_HEAD,['cfn/F17/WordPress_Single_Instance_With_HA.yaml'],1,b8124a3417455281ba573f2e65509b83c60c586d,bug/1401062," - Fn::GetAtt: [WebServerRestartPolicy, AlarmUrl] - '/opt/aws/bin/cfn-push-stats --service-failure", - {Ref: WebServerRestartPolicy} - '/opt/aws/bin/cfn-push-stats --watch ' - {Ref: HttpFailureAlarm} - ' --service-failure,2,4
openstack%2Fglance~master~I23431f868e281a1b7d84bdc4ec123c3acdda62f1,openstack/glance,master,I23431f868e281a1b7d84bdc4ec123c3acdda62f1,Add the version requirement for setuptools<0.8.0,ABANDONED,2014-12-16 07:41:20.000000000,2014-12-17 00:55:13.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5202}, {'_account_id': 7770}, {'_account_id': 11114}]","[{'number': 1, 'created': '2014-12-16 07:41:20.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/5cf75bd3e4a22109501ea567632d21c38749acdc', 'message': 'Add the version requirement for setuptools<0.8.0\n\nsetuptools packages version 8(include 8.0.0~8.0.4) will break the SQLAlchemy\nversion verification, when pkg_resource load entry_points from setup.cfg.\n\nChange-Id: I23431f868e281a1b7d84bdc4ec123c3acdda62f1\nCloses-Bug: #1402747\n'}]",0,142011,5cf75bd3e4a22109501ea567632d21c38749acdc,8,5,1,11114,,,0,"Add the version requirement for setuptools<0.8.0

setuptools packages version 8(include 8.0.0~8.0.4) will break the SQLAlchemy
version verification, when pkg_resource load entry_points from setup.cfg.

Change-Id: I23431f868e281a1b7d84bdc4ec123c3acdda62f1
Closes-Bug: #1402747
",git fetch https://review.opendev.org/openstack/glance refs/changes/11/142011/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5cf75bd3e4a22109501ea567632d21c38749acdc,bug/1402747,# setuptools version 8 will break the parsing for requisite of SQLAlchemy when # load entry_points setuptools<0.8.0 ,,4,0
openstack%2Ftraining-guides~master~I213ff0e68c0099639ed14eee3776c10e284c588c,openstack/training-guides,master,I213ff0e68c0099639ed14eee3776c10e284c588c,convert associate guide chapter 4 XML to RST,ABANDONED,2014-12-16 06:39:19.000000000,2014-12-17 00:44:05.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-16 06:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/4c110cd2083ffa4f44f661ba9bcfad9ffe4d4b47', 'message': 'convert associate guide chapter 4 XML to RST\n\nattempting to use automate numbering\n\nChange-Id: I213ff0e68c0099639ed14eee3776c10e284c588c\nImplements: blueprint convert-the-xml-into-rst\n'}, {'number': 2, 'created': '2014-12-16 07:03:29.000000000', 'files': ['doc/training-guides/associate-guide/19-associate-compute-node-quiz4.rst', 'doc/training-guides/associate-guide/17-associate-compute-node-quiz2.rst', 'doc/training-guides/associate-guide/16-associate-compute-node-quiz1.rst', 'doc/training-guides/associate-guide/20-associate-compute-node-quiz-answers.rst', 'doc/training-guides/associate-guide/18-associate-compute-node-quiz3.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/c5f248acb0388a3eff6e4628aef4ecbc9d5a056c', 'message': 'convert associate guide chapter 4 XML to RST\n\nattempting to use automatic numbering\n\nChange-Id: I213ff0e68c0099639ed14eee3776c10e284c588c\nImplements: blueprint convert-the-xml-into-rst\n'}]",0,141991,c5f248acb0388a3eff6e4628aef4ecbc9d5a056c,4,1,2,6923,,,0,"convert associate guide chapter 4 XML to RST

attempting to use automatic numbering

Change-Id: I213ff0e68c0099639ed14eee3776c10e284c588c
Implements: blueprint convert-the-xml-into-rst
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/91/141991/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/training-guides/associate-guide/16-associate-compute-node-quiz.rst'],1,4c110cd2083ffa4f44f661ba9bcfad9ffe4d4b47,bp/convert-the-xml-into-rst,"Associate Training Guide, Compute Node Quiz Questions ===================================================== #. ** When managing images for OpenStack you can complete all those tasks with the OpenStack dashboard. ** #. True #. False #. ** When setting up access and security, SSH credentials (keypairs) must be injected into images after they are launched with a script. ** #. True #. False #. ** You can track monthly costs with metrics like: (choose all that apply). ** #. VCPU #. QoS #. Uptime #. Disks #. RAM #. ** The following OpenStack command-line clients are available: (choose all that apply). ** #. python-keystoneclient #. python-hypervisorclient #. python-imageclient #. python-cinderclient #. python-novaclient #. ** To install a client package. Run this command: # pip install [--update] python-project client ** #. True #. False #. ** To list images. Run this command: $ glance image-list ** #. True #. False #. ** When troubleshooting image creation you will need to look at which of the following log files for errors? (choose all that apply). ** a.bExamine the /var/log/nova-api.log #. Examine the /var/log/nova-compute.log #. Examine the /var/log/nova-error.log #. Examine the /var/log/nova-status.log #. Examine the /var/log/nova-image.log #. ** To generate a keypair use the following command syntax: $ nova keypair-add --pub_key ~/.ssh/id_rsa.pub KEY_NAME. ** #. True #. False #. ** When you want to launch an instance you can only do that from an image. ** #. True #. False #. ** An instance has a Private IP address which has the following properties: (choose all that apply). ** #. Used for communication between instances #. VMware vShpere 4.1, update 1 or greater #. Stays the same, even after reboots #. Stays allocated, even if you terminate the instance #. To see the status of the Private IP addresses you use the following command: $ nova floating-ip-pool-list #. ** To start and stop and instance you can use the following options: (choose all that apply). ** #. Pause/Un-pause #. Suspend/Resume #. Reboot #. Evacuate #. Shutdown/Restart #. ** To create a network in OpenStack use the following command: $ neutron net-create net1. ** #. True #. False #. ** Identity Service provides the following functions: (choose all that apply). #. Group policy objects #. Message queuing #. User management #. Publishing #. Service catalog #. ** The AMQP supports the following messaging bus options: (choose all that apply). ** #. ZeroMQ #. RabbitMQ #. Tibco Rendezvous #. IBM WebSphere Message Broker #. Qpid #. ** OpenStack uses the term tenant but in earlier versions it used the term customer. ** #. True #. False Associate Training Guide, Controller Node Quiz Answers ====================================================== #. B (False) - you can manage images through only the glance and nova clients or the Image Service and Compute APIs. #. B (False) - Keypairs are SSH credentials that are injected into images when they are launched. For this to work, the image must contain the cloud-init package #. A, C, D, E - You can track costs per month by showing metrics like number of VCPUs, disks, RAM, and uptime of all your instances #. A, D, E - The following command-line clients are available for the respective services' APIs: cinder(python-cinderclient) Client for the Block Storage service API. Use to create and manage volumes. glance(python-glanceclient) Client for the Image Service API. Use to create and manage images. keystone(python-keystoneclient) Client for the Identity Service API. Use to create and manage users, tenants, roles, endpoints, and credentials. nova(python-novaclient) Client for the Compute API and its extensions. Use to create and manage images, instances, and flavors. neutron(python-neutronclient) Client for the Networking API. Use to configure networks for guest servers. This client was previously known as quantum. swift(python-swiftclient) Client for the Object Storage API. Use to gather statistics, list items, update metadata, upload, download and delete files stored by the object storage service. Provides access to a swift installation for ad hoc processing. heat(python-heatclient) #. A (True) #. A (True) #. A, B #. B (False) - $ nova keypair-add KEY_NAME > MY_KEY.pem #. B (False) - you can launch and instance from an image or a volume #. A, B, C #. A, B, C, D #. A (True) #. C, E #. A, B, E #. B (False) - Because the term project was used instead of tenant in earlier versions of OpenStack Compute, some command-line tools use --project_id instead of --tenant-id or --os-tenant-id to refer to a tenant ID. ",,130,0
openstack%2Fopenstack-manuals~master~I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091,openstack/openstack-manuals,master,I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091,XenAPI: Remove warning message,MERGED,2014-12-10 17:01:15.000000000,2014-12-17 00:25:11.000000000,2014-12-17 00:25:10.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6735}, {'_account_id': 6772}, {'_account_id': 9382}]","[{'number': 1, 'created': '2014-12-10 17:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d09bb96bfcd0e921f5628fc588f5f99107548d3b', 'message': 'XenAPI: Remove warning message\n\nAfter the cleanup changes, the warning message is no longer valid, thus\nremoving it.\n\nChange-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091\n'}, {'number': 2, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8d33992765d30e14d186c09df739e4bdf9558a7e', 'message': 'XenAPI: Remove warning message\n\nAfter the cleanup changes, the warning message is no longer valid, thus\nremoving it.\n\nChange-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091\n'}, {'number': 3, 'created': '2014-12-11 10:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/92bddeedc1cc577d37e05b09957f74ea90fb193e', 'message': 'XenAPI: Remove warning message\n\nAfter the cleanup changes, the warning message is no longer valid, thus\nremoving it.\n\nChange-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091\n'}, {'number': 4, 'created': '2014-12-11 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/03c607ae36527ef208a72c7bbd42a36c7355ea0f', 'message': 'XenAPI: Remove warning message\n\nAfter the cleanup changes, the warning message is no longer valid, thus\nremoving it.\n\nChange-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091\n'}, {'number': 5, 'created': '2014-12-15 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/27a9dd7818569bce136213cb54dd118685b331c0', 'message': 'XenAPI: Remove warning message\n\nAfter the cleanup changes, the warning message is no longer valid, thus\nremoving it.\n\nChange-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091\n'}, {'number': 6, 'created': '2014-12-16 13:04:43.000000000', 'files': ['doc/config-reference/compute/section_introduction-to-xen.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dd8e44ae3070a2ae3357e367a2ae632004683e05', 'message': 'XenAPI: Remove warning message\n\nAfter the cleanup changes, the warning message is no longer valid, thus\nremoving it.\n\nChange-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091\n'}]",0,140773,dd8e44ae3070a2ae3357e367a2ae632004683e05,20,6,6,5044,,,0,"XenAPI: Remove warning message

After the cleanup changes, the warning message is no longer valid, thus
removing it.

Change-Id: I1f4b5bfbb32ef5b9fe6c7d0f9791f0de94992091
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/73/140773/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/compute/section_introduction-to-xen.xml'],1,d09bb96bfcd0e921f5628fc588f5f99107548d3b,,," <warning><title>This section needs help</title> <para>This section is low quality, and contains out of date information. The Documentation Team is currently looking for individuals with experience with the hypervisor to <link xlink:href=""https://blueprints.launchpad.net/openstack-manuals/+spec/redocument-xen"">Re-document Xen integration with OpenStack</link>.</para> </warning>",0,7
openstack%2Fmonasca-agent~master~I764a3064003beec55f0e589272855dadfa0997e7,openstack/monasca-agent,master,I764a3064003beec55f0e589272855dadfa0997e7,Fix detection of Zookeeper in monasca-setup,MERGED,2014-12-16 21:55:05.000000000,2014-12-17 00:24:47.000000000,2014-12-17 00:24:47.000000000,"[{'_account_id': 3}, {'_account_id': 11094}, {'_account_id': 11809}, {'_account_id': 12443}]","[{'number': 1, 'created': '2014-12-16 21:55:05.000000000', 'files': ['monsetup/detection/plugins/zookeeper.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/bd11c37a8669bdae2d4561483f50da0891b82627', 'message': 'Fix detection of Zookeeper in monasca-setup\n\nThe Zookeeper detection plugin was looking for zookeeper in the process\ncommand-line.  This was producing false positives in the detection\nprocess because storm uses the zookeeper library and it shows up\nthe command-line for storm.\n\nChange-Id: I764a3064003beec55f0e589272855dadfa0997e7\n'}]",0,142233,bd11c37a8669bdae2d4561483f50da0891b82627,7,4,1,12108,,,0,"Fix detection of Zookeeper in monasca-setup

The Zookeeper detection plugin was looking for zookeeper in the process
command-line.  This was producing false positives in the detection
process because storm uses the zookeeper library and it shows up
the command-line for storm.

Change-Id: I764a3064003beec55f0e589272855dadfa0997e7
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/33/142233/1 && git format-patch -1 --stdout FETCH_HEAD,['monsetup/detection/plugins/zookeeper.py'],1,bd11c37a8669bdae2d4561483f50da0891b82627,monasca/zookeeper-detection, if monsetup.detection.find_process_cmdline('org.apache.zookeeper') is not None:, if monsetup.detection.find_process_cmdline('zookeeper') is not None:,1,1
openstack%2Fcongress-specs~master~Ifcc28daa5da171eb30330244fb4b159e99fe0fa3,openstack/congress-specs,master,Ifcc28daa5da171eb30330244fb4b159e99fe0fa3,Add blueprint for parent-key-improvements,MERGED,2014-12-11 00:29:03.000000000,2014-12-17 00:24:41.000000000,2014-12-17 00:24:40.000000000,"[{'_account_id': 3}, {'_account_id': 8215}]","[{'number': 1, 'created': '2014-12-11 00:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/a8ae69efd4e81a1adbda6a425f3270ae4c445d4d', 'message': 'Add blueprint for parent-key-improvements\n\nChange-Id: Ifcc28daa5da171eb30330244fb4b159e99fe0fa3\n'}, {'number': 2, 'created': '2014-12-12 07:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/e6bacde20b245450b55b5839ffb348bea48bafe4', 'message': 'Add blueprint for parent-key-improvements\n\nChange-Id: Ifcc28daa5da171eb30330244fb4b159e99fe0fa3\n'}, {'number': 3, 'created': '2014-12-15 23:43:16.000000000', 'files': ['specs/kilo/parent-key-improvements.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/86864955c2a54fab6b060f799ddf3678c45f2ccf', 'message': 'Add blueprint for parent-key-improvements\n\nChange-Id: Ifcc28daa5da171eb30330244fb4b159e99fe0fa3\n'}]",0,140875,86864955c2a54fab6b060f799ddf3678c45f2ccf,10,2,3,4395,,,0,"Add blueprint for parent-key-improvements

Change-Id: Ifcc28daa5da171eb30330244fb4b159e99fe0fa3
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/75/140875/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/parent-key-improvements.rst'],1,a8ae69efd4e81a1adbda6a425f3270ae4c445d4d,bp/for,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Parent key improvements ========================================== https://blueprints.launchpad.net/congress/+spec/parent-key-improvements There are two current shortcomings of the parent_key implementation in congress. * It's unable to be accessed from a subtable. This is needed in the neutron refactoring working to handle how neutron structures the response for routers. * It's column name is always named parent_key. It would be helpful if we could have the column in the schema actually reflect it's name. For example, router_id per say. Problem description =================== * Parent key cannot be accessed from subtables which is needed. * No way to rename parent key column name. Proposed change =============== Change the datasource framework code so this can be done. I plan to only make this change for hdict because we don't think we will need vdict in the future. If it turns out that we need this for vdict then I'll add support for it. To handle specifiy the column name on a parent_key on should add: 'parent-col-name': <NAME> to the translator. If this is not present then the old behavior will still occur of having the column name called parent_key. Alternatives ------------ N/A Policy ------ N/A Policy actions -------------- N/A Data sources ------------ N/A Data model impact ----------------- N/A REST API impact --------------- N/A Security impact --------------- N/A Notifications impact -------------------- N/A Other end user impact --------------------- N/A Performance impact ------------------ N/A Other deployer impact --------------------- N/A Developer impact ---------------- N/A Implementation ============== Assignee(s) ----------- Primary assignee: arosen Work items ---------- Implement Dependencies ============ * This needs to be done before neutronv2 refactoring can be done. Testing ======= Unit tests will be included. Documentation impact ==================== N/A References ========== N/A ",,136,0
openstack%2Fcongress-specs~master~I40a2dfdb3637c2de2f071d2e4c2a22e9027d6ca7,openstack/congress-specs,master,I40a2dfdb3637c2de2f071d2e4c2a22e9027d6ca7,Blueprint for in-list support for hdict,MERGED,2014-12-10 01:26:27.000000000,2014-12-17 00:24:30.000000000,2014-12-17 00:24:28.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}]","[{'number': 1, 'created': '2014-12-10 01:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/626af9fcb75a27feda14aea54d2ac8d5e0e20b94', 'message': 'Blueprint for in-list support for hdict\n\nChange-Id: I40a2dfdb3637c2de2f071d2e4c2a22e9027d6ca7\n'}, {'number': 2, 'created': '2014-12-11 19:14:51.000000000', 'files': ['specs/kilo/add-in-list-type-for-hdict.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/7d59f61764cef0b980ba2355fdeeb0cdcb1df806', 'message': 'Blueprint for in-list support for hdict\n\nChange-Id: I40a2dfdb3637c2de2f071d2e4c2a22e9027d6ca7\n'}]",5,140550,7d59f61764cef0b980ba2355fdeeb0cdcb1df806,14,5,2,4395,,,0,"Blueprint for in-list support for hdict

Change-Id: I40a2dfdb3637c2de2f071d2e4c2a22e9027d6ca7
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/50/140550/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/add-in-list-type-for-hdict.rst'],1,626af9fcb75a27feda14aea54d2ac8d5e0e20b94,bp/for,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Add in list support for hdict ========================================== https://blueprints.launchpad.net/congress/+spec/add-in-list-support-hdict This blueprint is to add support for a new translator value called in-list which is useful in translating a hdict that contains another hdict which is a list. Problem description =================== Several datasources return data in the format of a dict(list(dict()) (for example neutron ports for fixed_ips): {""ports"": [{""status"": ""DOWN"", ""id"": ""11ce1474-e395-4bda-b48c-820f0d542acd"", ""fixed_ips"": [{""subnet_id"": ""e56370ba-d255-486c-9907-ad4c6aed0241"", ""ip_address"": ""10.2.0.2""}]}} congress currently does not have a good way to aid with data formatted in this way. This blueprint is to provide an easy generic way to do so. NOTE: I only plan to implement this at first for hdict because we believe we might be able to remove the vdict type as it might not be needed. If it turns out that we need vdict I'll implement this for vdict as well. Proposed change =============== To implement this solution I propose we add a new in-list attribute to the child translator. If present, the datasource driver class will just simply interate this list and treat each list element as an hdict. Alternatives ------------ We could force a datasource driver to manually do this themselves though it would be better to automatically handle this for a user. Policy ------ N/A Policy Actions -------------- N/A Data Sources ------------ N/A Data model impact ----------------- New element 'in-list' can be specified in the translator. REST API impact --------------- N/A Security impact --------------- N/A Notifications impact -------------------- N/A Other end user impact --------------------- N/A Performance Impact ------------------ N/A Other Deployer Impacts ---------------------- N/A Developer Impact ---------------- N/A Implementation ============== Assignee(s) ----------- Primary assignee: arosen Work Items ---------- Implement this feature. Dependencies ============ * This needs to be done before we can refactor the neutron driver to remove the subtables that it creates. Testing ======= Unit tests. Documentation Impact ==================== Will document. References ========== N/A ",,141,0
openstack%2Fopenstack-manuals~master~Ic8e553434b05e98067f4b8fa355197563cb84b80,openstack/openstack-manuals,master,Ic8e553434b05e98067f4b8fa355197563cb84b80,Remove endpoint_substitution_whitelist config option,MERGED,2014-12-16 09:19:11.000000000,2014-12-17 00:24:21.000000000,2014-12-17 00:24:20.000000000,"[{'_account_id': 3}, {'_account_id': 6772}, {'_account_id': 9382}]","[{'number': 1, 'created': '2014-12-16 09:19:11.000000000', 'files': ['tools/autogenerate-config-flagmappings/keystone.flagmappings', 'doc/common/tables/keystone-catalog.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6f17b97e224e37c5a3bf7bdb0345602c769d9c21', 'message': 'Remove endpoint_substitution_whitelist config option\n\nThis option was removed from keystone.\n\nChange-Id: Ic8e553434b05e98067f4b8fa355197563cb84b80\nCloses-bug: #1401586\n'}]",0,142037,6f17b97e224e37c5a3bf7bdb0345602c769d9c21,7,3,1,4428,,,0,"Remove endpoint_substitution_whitelist config option

This option was removed from keystone.

Change-Id: Ic8e553434b05e98067f4b8fa355197563cb84b80
Closes-bug: #1401586
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/37/142037/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/autogenerate-config-flagmappings/keystone.flagmappings', 'doc/common/tables/keystone-catalog.xml']",2,6f17b97e224e37c5a3bf7bdb0345602c769d9c21,remove-endpoint_substitution_whitelist,," <td>endpoint_substitution_whitelist = tenant_id, user_id, public_bind_host, admin_bind_host, compute_host, compute_port, admin_port, public_port, public_endpoint, admin_endpoint</td> <td>(ListOpt) (Deprecated) List of possible substitutions for use in formatting endpoints. Use caution when modifying this list. It will give users with permission to create endpoints the ability to see those values in your configuration file. This option will be removed in Juno.</td> </tr> <tr>",0,5
openstack%2Ftempest~master~I5de01deaa699e03b0e838952239011da54702daf,openstack/tempest,master,I5de01deaa699e03b0e838952239011da54702daf,Remove Nova v3 API tests,MERGED,2014-12-11 09:03:52.000000000,2014-12-17 00:06:57.000000000,2014-12-17 00:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10016}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-11 09:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c81da284212e510d94959d2099d64cfa9bbc00b', 'message': 'Remove Nova v3 API tests\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes them.\n\nChange-Id: I5de01deaa699e03b0e838952239011da54702daf\n'}, {'number': 2, 'created': '2014-12-12 04:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e46ad0c8932d695a207db551cb92c03a16bd9515', 'message': 'Remove Nova v3 API tests\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes them.\n\nChange-Id: I5de01deaa699e03b0e838952239011da54702daf\n'}, {'number': 3, 'created': '2014-12-14 13:30:59.000000000', 'files': ['tempest/api/compute/v3/test_live_block_migration_negative.py', 'tempest/api/compute/v3/servers/test_servers_negative.py', 'tempest/api/compute/v3/servers/test_server_addresses.py', 'tempest/api/compute/v3/servers/test_server_rescue_negative.py', 'tempest/api/compute/v3/servers/test_list_server_filters.py', 'tempest/api/compute/v3/admin/test_flavors_extra_specs_negative.py', 'tempest/api/compute/v3/servers/test_server_addresses_negative.py', 'tempest/api/compute/base.py', 'tempest/api/compute/v3/admin/test_flavors_access_negative.py', 'tempest/api/compute/v3/test_extensions.py', 'tempest/api/compute/v3/admin/test_aggregates.py', 'tempest/api/compute/v3/admin/test_flavors_extra_specs.py', 'tempest/api/compute/v3/flavors/__init__.py', 'tempest/api/compute/v3/admin/test_hypervisor.py', 'tempest/api/compute/certificates/test_certificates.py', 'tempest/api/compute/v3/test_quotas.py', 'tempest/api/compute/v3/admin/__init__.py', 'tempest/api/compute/v3/admin/test_quotas_negative.py', 'tempest/api/compute/v3/test_live_block_migration.py', 'tempest/api/compute/v3/servers/test_attach_volume.py', 'tempest/api/compute/v3/servers/test_server_metadata_negative.py', 'tempest/api/compute/v3/images/test_images_oneserver.py', 'tempest/api/compute/v3/admin/test_flavors_access.py', 'tempest/api/compute/v3/admin/test_migrations.py', 'tempest/api/compute/v3/admin/test_aggregates_negative.py', 'tempest/api/compute/v3/servers/test_instance_actions_negative.py', 'tempest/api/compute/v3/admin/test_agents.py', 'tempest/api/compute/v3/admin/test_servers.py', 'tempest/api/compute/v3/servers/test_multiple_create_negative.py', 'tempest/api/compute/v3/servers/test_server_metadata.py', 'tempest/api/compute/v3/images/test_images_oneserver_negative.py', 'tempest/api/compute/admin/test_availability_zone.py', 'tempest/api/compute/v3/images/test_images.py', 'tempest/api/compute/flavors/test_flavors.py', 'tempest/api/compute/v3/servers/test_servers.py', 'tempest/api/compute/v3/admin/test_hypervisor_negative.py', 'tempest/api/compute/v3/keypairs/__init__.py', 'tempest/api/compute/v3/admin/test_services.py', 'tempest/api/compute/v3/admin/test_flavors_negative.py', 'tempest/api/compute/v3/servers/test_list_servers_negative.py', 'tempest/api/compute/v3/admin/test_hosts.py', 'tempest/api/compute/v3/admin/test_services_negative.py', 'tempest/api/compute/v3/images/__init__.py', 'tempest/api/compute/v3/servers/test_server_actions.py', 'tempest/api/compute/v3/admin/test_servers_negative.py', 'tempest/api/compute/v3/__init__.py', 'tempest/api/compute/v3/servers/test_attach_interfaces.py', 'tempest/api/compute/v3/servers/test_server_rescue.py', 'tempest/api/compute/v3/test_version.py', 'tempest/api/compute/v3/flavors/test_flavors_negative.py', 'tempest/api/compute/v3/admin/test_flavors.py', 'tempest/api/compute/v3/servers/test_server_password.py', 'tempest/api/compute/v3/servers/test_create_server.py', 'tempest/api/compute/keypairs/test_keypairs.py', 'tempest/api/compute/v3/admin/test_quotas.py', 'tempest/api/compute/v3/keypairs/test_keypairs_negative.py', 'tempest/api/compute/servers/test_availability_zone.py', 'tempest/api/compute/v3/servers/test_delete_server.py', 'tempest/api/compute/v3/admin/test_hosts_negative.py', 'tempest/api/compute/v3/images/test_images_negative.py', 'tempest/api/compute/v3/servers/__init__.py', 'tempest/api/compute/v3/servers/test_multiple_create.py', 'tempest/api/compute/v3/servers/test_instance_actions.py', 'tempest/api/compute/v3/admin/test_availability_zone_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f5adf8053196ac103302d4d7ea3b1f927caff5d', 'message': 'Remove Nova v3 API tests\n\nNova v3 API has disappeared, and Tempest isn\'t testing the API on the\ngate now. In addition, Nova team is creating a new REST API ""Nova v2.1\nAPI + microversions"" and the interfaces are different from v3 API.\nSo it is not necessary to keep Nova v3 API tests in Tempest.\nThis patch removes them.\n\nChange-Id: I5de01deaa699e03b0e838952239011da54702daf\n'}]",5,140981,9f5adf8053196ac103302d4d7ea3b1f927caff5d,26,7,3,6167,,,0,"Remove Nova v3 API tests

Nova v3 API has disappeared, and Tempest isn't testing the API on the
gate now. In addition, Nova team is creating a new REST API ""Nova v2.1
API + microversions"" and the interfaces are different from v3 API.
So it is not necessary to keep Nova v3 API tests in Tempest.
This patch removes them.

Change-Id: I5de01deaa699e03b0e838952239011da54702daf
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/140981/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/v3/test_live_block_migration_negative.py', 'tempest/api/compute/v3/servers/test_servers_negative.py', 'tempest/api/compute/v3/servers/test_server_addresses.py', 'tempest/api/compute/v3/servers/test_server_rescue_negative.py', 'tempest/api/compute/v3/servers/test_list_server_filters.py', 'tempest/api/compute/v3/admin/test_flavors_extra_specs_negative.py', 'tempest/api/compute/v3/servers/test_server_addresses_negative.py', 'tempest/api/compute/base.py', 'tempest/api/compute/v3/admin/test_flavors_access_negative.py', 'tempest/api/compute/v3/test_extensions.py', 'tempest/api/compute/v3/admin/test_aggregates.py', 'tempest/api/compute/v3/admin/test_flavors_extra_specs.py', 'tempest/api/compute/v3/flavors/__init__.py', 'tempest/api/compute/v3/admin/test_hypervisor.py', 'tempest/api/compute/certificates/test_certificates.py', 'tempest/api/compute/v3/test_quotas.py', 'tempest/api/compute/v3/admin/__init__.py', 'tempest/api/compute/v3/admin/test_quotas_negative.py', 'tempest/api/compute/v3/test_live_block_migration.py', 'tempest/api/compute/v3/servers/test_attach_volume.py', 'tempest/api/compute/v3/servers/test_server_metadata_negative.py', 'tempest/api/compute/v3/images/test_images_oneserver.py', 'tempest/api/compute/v3/admin/test_flavors_access.py', 'tempest/api/compute/v3/admin/test_migrations.py', 'tempest/api/compute/v3/admin/test_aggregates_negative.py', 'tempest/api/compute/v3/servers/test_instance_actions_negative.py', 'tempest/api/compute/v3/admin/test_agents.py', 'tempest/api/compute/v3/admin/test_servers.py', 'tempest/api/compute/v3/servers/test_multiple_create_negative.py', 'tempest/api/compute/v3/servers/test_server_metadata.py', 'tempest/api/compute/v3/images/test_images_oneserver_negative.py', 'tempest/api/compute/admin/test_availability_zone.py', 'tempest/api/compute/v3/images/test_images.py', 'tempest/api/compute/flavors/test_flavors.py', 'tempest/api/compute/v3/servers/test_servers.py', 'tempest/api/compute/v3/admin/test_hypervisor_negative.py', 'tempest/api/compute/v3/keypairs/__init__.py', 'tempest/api/compute/v3/admin/test_services.py', 'tempest/api/compute/v3/admin/test_flavors_negative.py', 'tempest/api/compute/v3/servers/test_list_servers_negative.py', 'tempest/api/compute/v3/admin/test_hosts.py', 'tempest/api/compute/v3/admin/test_services_negative.py', 'tempest/api/compute/v3/images/__init__.py', 'tempest/api/compute/v3/servers/test_server_actions.py', 'tempest/api/compute/v3/admin/test_servers_negative.py', 'tempest/api/compute/v3/__init__.py', 'tempest/api/compute/v3/servers/test_attach_interfaces.py', 'tempest/api/compute/v3/servers/test_server_rescue.py', 'tempest/api/compute/v3/test_version.py', 'tempest/api/compute/v3/flavors/test_flavors_negative.py', 'tempest/api/compute/v3/admin/test_flavors.py', 'tempest/api/compute/v3/servers/test_server_password.py', 'tempest/api/compute/v3/servers/test_create_server.py', 'tempest/api/compute/keypairs/test_keypairs.py', 'tempest/api/compute/v3/admin/test_quotas.py', 'tempest/api/compute/v3/keypairs/test_keypairs_negative.py', 'tempest/api/compute/servers/test_availability_zone.py', 'tempest/api/compute/v3/servers/test_delete_server.py', 'tempest/api/compute/v3/admin/test_hosts_negative.py', 'tempest/api/compute/v3/images/test_images_negative.py', 'tempest/api/compute/v3/servers/__init__.py', 'tempest/api/compute/v3/servers/test_multiple_create.py', 'tempest/api/compute/v3/servers/test_instance_actions.py', 'tempest/api/compute/v3/admin/test_availability_zone_negative.py']",64,0c81da284212e510d94959d2099d64cfa9bbc00b,rest-client,,"# Copyright 2013 NEC Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest import exceptions from tempest import test class AZAdminNegativeV3Test(base.BaseV3ComputeAdminTest): """""" Tests Availability Zone API List """""" @classmethod def resource_setup(cls): super(AZAdminNegativeV3Test, cls).resource_setup() cls.client = cls.availability_zone_admin_client cls.non_adm_client = cls.availability_zone_client @test.attr(type=['negative', 'gate']) def test_get_availability_zone_list_detail_with_non_admin_user(self): # List of availability zones and available services with # non-administrator user self.assertRaises( exceptions.Unauthorized, self.non_adm_client.get_availability_zone_list_detail) ",23,6825
openstack%2Fceilometer~master~I1b3e7cf1206fd11ab7fde15233cdd19416322acc,openstack/ceilometer,master,I1b3e7cf1206fd11ab7fde15233cdd19416322acc,ensure unique pipeline names,MERGED,2014-12-04 21:26:00.000000000,2014-12-17 00:06:51.000000000,2014-12-17 00:06:50.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7052}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-12-04 21:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/163b5548eec38e21a737eaca38555f934c526a55', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}, {'number': 2, 'created': '2014-12-05 16:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0714b65309935af2bb33436403515ed3c201e2d1', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}, {'number': 3, 'created': '2014-12-05 18:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/90509a3385bc86360651e95b8bf1d15ef8fb9df4', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}, {'number': 4, 'created': '2014-12-09 16:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c192eab5d4065e532280871a0909b76b802b3b79', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}, {'number': 5, 'created': '2014-12-09 18:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ce349efc2179b00e9c479629557db6f437fcdae6', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}, {'number': 6, 'created': '2014-12-15 16:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c409aa60cea1696cdba9cf1361d07cd9d71d0185', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}, {'number': 7, 'created': '2014-12-15 20:21:41.000000000', 'files': ['ceilometer/pipeline.py', 'ceilometer/tests/test_decoupled_pipeline.py', 'ceilometer/tests/test_deprecated_pipeline.py', 'ceilometer/tests/pipeline_base.py', 'ceilometer/tests/agent/agentbase.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c290ed8f371d9aaeeef54abb3bf503f8f0526284', 'message': 'ensure unique pipeline names\n\nfor notification agent coordination, we requeue items based on the\npipeline name. to ensure we have correct queues for pipeline, we\nshould make sure pipeline names are unique.\n\nChange-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc\nImplements: blueprint notification-coordination\n'}]",13,139203,c290ed8f371d9aaeeef54abb3bf503f8f0526284,44,8,7,6537,,,0,"ensure unique pipeline names

for notification agent coordination, we requeue items based on the
pipeline name. to ensure we have correct queues for pipeline, we
should make sure pipeline names are unique.

Change-Id: I1b3e7cf1206fd11ab7fde15233cdd19416322acc
Implements: blueprint notification-coordination
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/03/139203/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/pipeline.py', 'ceilometer/tests/test_decoupled_pipeline.py', 'ceilometer/tests/test_deprecated_pipeline.py', 'ceilometer/tests/pipeline_base.py']",4,163b5548eec38e21a737eaca38555f934c526a55,bp/notification-coordination," def _dup_pipeline_name_cfg(self): """"""Break the pipeline config with duplicate pipeline name."""""" @abc.abstractmethod def test_unique_pipeline_names(self): self._dup_pipeline_name_cfg() self._exception_create_pipelinemanager()",,40,3
openstack%2Fneutron-specs~master~I319818a8de9cf71ae2eaf984ca3491aba0b1cc30,openstack/neutron-specs,master,I319818a8de9cf71ae2eaf984ca3491aba0b1cc30,Neutron OVS agent on Windows,MERGED,2014-11-25 00:56:12.000000000,2014-12-16 23:43:31.000000000,2014-12-16 19:34:33.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 3185}, {'_account_id': 4362}, {'_account_id': 6763}, {'_account_id': 8645}, {'_account_id': 9426}]","[{'number': 1, 'created': '2014-11-25 00:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/62cb814e14c39e80a394031251c5f031db4c1dd2', 'message': 'Neutron OVS agent on Windows\n\nSpec for porting Neutron OVS agent to Windows.\n\nChange-Id: I319818a8de9cf71ae2eaf984ca3491aba0b1cc30\nImplements: blueprint hyper-v-ovs-agent\n'}, {'number': 2, 'created': '2014-11-25 01:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e6b3b3a67386800a470c04f9790b554b6107a42e', 'message': 'Neutron OVS agent on Windows\n\nSpec for porting Neutron OVS agent to Windows.\n\nChange-Id: I319818a8de9cf71ae2eaf984ca3491aba0b1cc30\nImplements: blueprint hyper-v-ovs-agent\n'}, {'number': 3, 'created': '2014-12-09 16:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b6138e4407563fb0dada224254fc6cbaac9a9592', 'message': 'Neutron OVS agent on Windows\n\nSpec for porting Neutron OVS agent to Windows.\n\nChange-Id: I319818a8de9cf71ae2eaf984ca3491aba0b1cc30\nImplements: blueprint hyper-v-ovs-agent\n'}, {'number': 4, 'created': '2014-12-09 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/476736a47ee141ef72edb38628a21ab9e5e02ec5', 'message': 'Neutron OVS agent on Windows\n\nSpec for porting Neutron OVS agent to Windows.\n\nChange-Id: I319818a8de9cf71ae2eaf984ca3491aba0b1cc30\nImplements: blueprint hyper-v-ovs-agent\n'}, {'number': 5, 'created': '2014-12-09 17:45:10.000000000', 'files': ['specs/kilo/hyper-v-ovs-agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4fc5fdf1a2e767006995b9b2947b3548333bce4b', 'message': 'Neutron OVS agent on Windows\n\nSpec for porting Neutron OVS agent to Windows.\n\nChange-Id: I319818a8de9cf71ae2eaf984ca3491aba0b1cc30\nImplements: blueprint hyper-v-ovs-agent\n'}]",13,136936,4fc5fdf1a2e767006995b9b2947b3548333bce4b,32,10,5,9426,,,0,"Neutron OVS agent on Windows

Spec for porting Neutron OVS agent to Windows.

Change-Id: I319818a8de9cf71ae2eaf984ca3491aba0b1cc30
Implements: blueprint hyper-v-ovs-agent
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/36/136936/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/hyper-v-ovs-agent.rst'],1,62cb814e14c39e80a394031251c5f031db4c1dd2,bp/hyper-v-ovs-agent,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Neutron OVS agent on Windows ========================================== https://blueprints.launchpad.net/neutron/+spec/hyper-v-ovs-agent Thanks to the porting of Open vSwitch to Hyper-V is is now also possible to have the Neutron OVS L2 agent to work on both Linux and Windows. Most of the porting activity consists in replacing Linux specific dependencies with portable alternatives in the Neutron OVS agent, considering in particular that the agent primarily execs OVS CLI commands, and that OVS has an identical command line interface on both Linux and Windows. Problem Description =================== Current implementation of OVS agent has a few GNU/Linux specific components: * The use of rootwrap. This is not necessary on Windows. * The use of fnctl to enable non blocking subcommands. fnctl is not available on windows. * ovsdb_monitor.SimpleInterfaceMonitor currently only works on GNU/Linux Proposed Change =============== Considering that OVS agent currently uses a series of exec calls to ovs-vsctl and ovs-ofctl ovs_lib and parts (if not all) of utils will be almost identical on both Linux and Windows. This implies that they will have to be moved from neutron.agent.linux to a common location, e.g.: neutron.agent.common. A base class will be created and platform specific differences will be abstracted (for example, the need for rootwrap). Data Model Impact ----------------- None REST API Impact --------------- None. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ Depending on whether or not ovsdb_monitor.SimpleInterfaceMonitor can be ported over to Hyper-V, there may be a need to AlwaysPoll on Windows. Other Deployer Impact --------------------- This change will require the user to install Open vSwitch on Hyper-V before deploying neutron ovs agent, and make the binaries available in the PATH. Developer Impact ---------------- None. Community Impact ---------------- None Alternatives ------------ The Neutron Hyper-V agent offers already support for the ML2 plugin, which in turn allows interoperability with othe mechanism drivers, inclusing Open vSwitch. The main limitation of this option is that since Hyper-V does not support VXLAN or GRE encapsulation natively, networking is limited to the VLAN and flat options. Implementation ============== Assignee(s) ----------- Primary assignee: gabriel-samfira Work Items ---------- * Move neutron.agent.linux.ovs_lib and parts of neutron.agent.linux.utils to neutron.agent.common * Create a base class for interactig with Open vSwitch, and abstract away the differences that are platform specific. * remove the need for roowrap. Only enable it on GNU/Linux * update/add unit tests accordingly Dependencies ============ This change does not directly depend on any other blueprint. It is however related to: https://blueprints.launchpad.net/nova/+spec/hyper-v-ovs-vif Testing ======= This feature will be tested by the Hyper-V CI. Tempest Tests ------------- Current tempest tests are sufficient. Functional Tests ---------------- Functional tests will be added as needed. API Tests --------- None. Documentation Impact ==================== User Documentation ------------------ Documentation should reflect that OVS agent now works on Hyper-V as well. Developer Documentation ----------------------- None. References ========== [1] https://blueprints.launchpad.net/nova/+spec/hyper-v-ovs-vif [2] https://github.com/openvswitch/ovs [3] http://www.cloudbase.it/open-vswitch-on-hyper-v ",,168,0
openstack%2Fmanila~master~Ida3b69d9ef6c7f150e2aa1980ddba653247b3175,openstack/manila,master,Ida3b69d9ef6c7f150e2aa1980ddba653247b3175,Fix error message in share delete method,MERGED,2014-12-15 11:03:28.000000000,2014-12-16 23:18:36.000000000,2014-12-16 23:18:35.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 6529}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 11878}, {'_account_id': 13524}, {'_account_id': 14232}]","[{'number': 1, 'created': '2014-12-15 11:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6cf610ab621aaf49cec0d2b205884617cc411908', 'message': ""Fix error message in share delete method\n\nCurrently, if share has snapshots, method delete() in\nshare api service fails with 403 code, but without any\nerror message and user can't understand what goes wrong.\n\nChange-Id: Ida3b69d9ef6c7f150e2aa1980ddba653247b3175\nCloses-Bug: #1400816\n""}, {'number': 2, 'created': '2014-12-15 12:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8d2c06bdd42099dc0d3aca9e4429d9ba991de3f6', 'message': ""Fix error message in share delete method\n\nCurrently, if share has snapshots, method delete() in\nshare api service fails with 403 code, but without any\nerror message and user can't understand what goes wrong.\n\nChange-Id: Ida3b69d9ef6c7f150e2aa1980ddba653247b3175\nCloses-Bug: #1400816\n""}, {'number': 3, 'created': '2014-12-16 07:14:11.000000000', 'files': ['manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/147fdfae50f62d92299884be5debfc223d9ad88e', 'message': ""Fix error message in share delete method\n\nCurrently, if share has snapshots, method delete() in\nshare api service fails with 403 code, but without any\nerror message and user can't understand what goes wrong.\n\nError message was added to the HTTP exception, so client\ncan show appropriate reason of error.\n\nChange-Id: Ida3b69d9ef6c7f150e2aa1980ddba653247b3175\nCloses-Bug: #1400816\n""}]",2,141768,147fdfae50f62d92299884be5debfc223d9ad88e,16,9,3,14232,,,0,"Fix error message in share delete method

Currently, if share has snapshots, method delete() in
share api service fails with 403 code, but without any
error message and user can't understand what goes wrong.

Error message was added to the HTTP exception, so client
can show appropriate reason of error.

Change-Id: Ida3b69d9ef6c7f150e2aa1980ddba653247b3175
Closes-Bug: #1400816
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/141768/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/v1/shares.py'],1,6cf610ab621aaf49cec0d2b205884617cc411908,fix_error_msg_in_share_api, except exception.InvalidShare as e: raise exc.HTTPForbidden(e), except exception.InvalidShare: raise exc.HTTPForbidden(),2,2
openstack%2Fopenstack-manuals~master~I321bcfce193d63e5768327359ecf9991a4b407f2,openstack/openstack-manuals,master,I321bcfce193d63e5768327359ecf9991a4b407f2,XenAPI: Cleanup configuration section,MERGED,2014-12-10 10:50:02.000000000,2014-12-16 23:08:17.000000000,2014-12-16 23:08:15.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 5044}, {'_account_id': 6547}, {'_account_id': 6735}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-12-10 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0ceec73fc77f7363f8380fa4838627b62ae54d0e', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}, {'number': 2, 'created': '2014-12-10 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/777e0111cafd03e17c4687a2a77ec68e486ad910', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}, {'number': 3, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dc060eaeb463d16c432850345995cb1b864a792e', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}, {'number': 4, 'created': '2014-12-11 10:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/74d063006a583346734f8e73a754da3f214876f7', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}, {'number': 5, 'created': '2014-12-11 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/208c906a21328c93ea0d12af1bbac3f44a96f203', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}, {'number': 6, 'created': '2014-12-15 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/77e46ea729749f80b6d0b8234ecccdf1a46ae7d8', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}, {'number': 7, 'created': '2014-12-16 13:04:43.000000000', 'files': ['doc/config-reference/compute/section_compute-configure-xen.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c044c1b1840de9499806ec577a73239db50f08e7', 'message': 'XenAPI: Cleanup configuration section\n\n* Remove references to Host Internal Management Network, as they are\n  confusing.\n* Remove Xen+libvirt instructions.\n* Remove host aggregate related notes.\n\nChange-Id: I321bcfce193d63e5768327359ecf9991a4b407f2\n'}]",13,140643,c044c1b1840de9499806ec577a73239db50f08e7,25,7,7,5044,,,0,"XenAPI: Cleanup configuration section

* Remove references to Host Internal Management Network, as they are
  confusing.
* Remove Xen+libvirt instructions.
* Remove host aggregate related notes.

Change-Id: I321bcfce193d63e5768327359ecf9991a4b407f2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/43/140643/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/compute/section_compute-configure-xen.xml'],1,0ceec73fc77f7363f8380fa4838627b62ae54d0e,," The following section discusses some commonly changed options when using the XenAPI driver. The table below provides a complete reference of all configuration options available for configuring XAPI with OpenStack. The recommended way to use XAPI with OpenStack is through the XenAPI options to<filename>/etc/nova/nova.conf</filename> and restart <systemitem class=""service"">OpenStack Compute</systemitem>:[xenserver] connection_url = http://your_xenapi_management_ip_address connection_username = root connection_password = your_password</programlisting> These connection details are used by OpenStack Compute service to XenCenter, the XenServer management console, to your XenServer box. The <literal>connection_url</literal> is generally the management network IP address of the XenServer. The agent is a piece of software that runs on the instances, and communicates with OpenStack. In case of the XenAPI driver, the agent communicates with openstack through xenstored. If you don't have the guest agent on your VMs, it takes a long time for OpenStack Compute to detect that the VM has successfully started. Generally a large timeout is required for Windows instances, but you may want to adjust: <literal>agent_version_timeout</literal> within the <literal>[xenserver]</literal> section. Assuming you are talking to XAPI through a management network, and XenServer is on the address: 10.10.1.34 specify the same address for the vnc proxy address: <literal>vncserver_proxyclient_address=10.10.1.34</literal> looking at the following flag. The default is to use the <title>XenAPI configuration reference</title> To customize the XenAPI driver, use the configuration option settings documented in <xref linkend=""config_table_nova_xen""/>."," The following section discusses some commonly changed options in XenServer. The table below provides a complete reference of all configuration options available for configuring Xen with OpenStack. The recommended way to use Xen with OpenStack is through the XenAPI options <filename>/etc/nova/nova.conf</filename> and restart the <systemitem class=""service"">nova-compute</systemitem> service:xenapi_connection_url = http://your_xenapi_management_ip_address xenapi_connection_username = root xenapi_connection_password = your_password</programlisting> These connection details are used by the OpenStack Compute service to XenCenter, the XenServer management console, to your XenServer or XCP box. The <literal>xenapi_connection_url</literal> is generally the management network IP address of the XenServer. Though it is possible to use the internal network IP Address (169.250.0.1) to contact XenAPI, this does not allow live migration between hosts. Other functionalities such as host aggregates, do not work. <para> It is possible to manage Xen using libvirt, though this is not well-tested or supported. To experiment using Xen through libvirt add the following configuration options <filename>/etc/nova/nova.conf</filename>: <programlisting language=""ini"">compute_driver = libvirt.LibvirtDriver [libvirt] virt_type = xen</programlisting> </para> If you don't have the guest agent on your VMs, it takes a long time for nova to decide the VM has successfully started. Generally a large timeout is required for Windows instances, but you may want to tweak <literal>agent_version_timeout</literal>. </section> <section xml:id=""xen-firewall""> <title>Firewall</title> If using nova-network, iptables is supported: <programlisting language=""ini"">firewall_driver = nova.virt.firewall.IptablesFirewallDriver</programlisting> Alternately, doing the isolation in Dom0: <programlisting language=""ini"">firewall_driver = nova.virt.xenapi.firewall.Dom0IptablesFirewallDriver</programlisting> Assuming you are talking to XenAPI through the host local management network, and XenServer is on the address: 169.254.0.1, you can use the following: <literal>vncserver_proxyclient_address=169.254.0.1</literal> looking at the following flag. The default is to use the <note> <para> To use a XenServer pool, you must create the pool by using the Host Aggregates feature. </para> </note> <title>Xen configuration reference</title> To customize the Xen driver, use the configuration option settings documented in <xref linkend=""config_table_nova_xen""/>.",32,52
openstack%2Fopenstack-manuals~master~Ib53f646699bd5bcd3b87071fcecf48df5fb2238f,openstack/openstack-manuals,master,Ib53f646699bd5bcd3b87071fcecf48df5fb2238f,XenAPI: Format configure section,MERGED,2014-12-10 09:17:41.000000000,2014-12-16 23:07:05.000000000,2014-12-16 23:07:02.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 5044}, {'_account_id': 6547}, {'_account_id': 6735}, {'_account_id': 6772}, {'_account_id': 9382}]","[{'number': 1, 'created': '2014-12-10 09:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/08f862232d9faa64ca0b81b08648c06a5f8aba7c', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}, {'number': 2, 'created': '2014-12-10 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3de597e21725ad67713c9d1d54b889e06904ddca', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}, {'number': 3, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ae03604f3edf53f3fad4616caa5456907d4a8372', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}, {'number': 4, 'created': '2014-12-11 10:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4f108f154b01a0f27fc90c0d50bf222bd3a83010', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}, {'number': 5, 'created': '2014-12-11 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/69c40eb441765519b909f2835e07efd34bb0badd', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}, {'number': 6, 'created': '2014-12-15 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/11ca1c71ea4ecf156f8b84118fde4d31c047c9a8', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}, {'number': 7, 'created': '2014-12-16 13:04:43.000000000', 'files': ['doc/config-reference/compute/section_compute-configure-xen.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/01814b406f1cc7f3b4c899aaa3a4d67da9e2dbe5', 'message': 'XenAPI: Format configure section\n\nThis change is only about formatting, no content change\n\nChange-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f\n'}]",8,140617,01814b406f1cc7f3b4c899aaa3a4d67da9e2dbe5,27,8,7,5044,,,0,"XenAPI: Format configure section

This change is only about formatting, no content change

Change-Id: Ib53f646699bd5bcd3b87071fcecf48df5fb2238f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/17/140617/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/compute/section_compute-configure-xen.xml'],1,08f862232d9faa64ca0b81b08648c06a5f8aba7c,," <title>Xen configuration reference</title> <para> The following section discusses some commonly changed options in XenServer. The table below provides a complete reference of all configuration options available for configuring Xen with OpenStack. </para> <para> The recommended way to use Xen with OpenStack is through the XenAPI driver. To enable the XenAPI driver, add the following configuration options <filename>/etc/nova/nova.conf</filename> and restart the <systemitem class=""service"">nova-compute</systemitem> service: </para> <programlisting language=""ini"">compute_driver = xenapi.XenAPIDriver <para> These connection details are used by the OpenStack Compute service to contact your hypervisor and are the same details you use to connect XenCenter, the XenServer management console, to your XenServer or XCP box. </para> <note> <para> The <literal>xenapi_connection_url</literal> is generally the management network IP address of the XenServer. Though it is possible to use the internal network IP Address (169.250.0.1) to contact XenAPI, this does not allow live migration between hosts. Other functionalities such as host aggregates, do not work. </para> </note> <para> It is possible to manage Xen using libvirt, though this is not well-tested or supported. To experiment using Xen through libvirt add the following configuration options <filename>/etc/nova/nova.conf</filename>: <programlisting language=""ini"">compute_driver = libvirt.LibvirtDrivervirt_type = xen</programlisting> </para> <section xml:id=""xen-agent""> <title>Agent</title> <para> If you don't have the guest agent on your VMs, it takes a long time for nova to decide the VM has successfully started. Generally a large timeout is required for Windows instances, but you may want to tweak <literal>agent_version_timeout</literal>. </para> </section> <section xml:id=""xen-firewall""> <title>Firewall</title> <para> If using nova-network, iptables is supported: <programlisting language=""ini"">firewall_driver = nova.virt.firewall.IptablesFirewallDriver</programlisting> Alternately, doing the isolation in Dom0: <programlisting language=""ini"">firewall_driver = nova.virt.xenapi.firewall.Dom0IptablesFirewallDriver</programlisting> </para> </section> <section xml:id=""xen-vnc""> <title>VNC proxy address</title> <para> Assuming you are talking to XenAPI through the host local management network, and XenServer is on the address: 169.254.0.1, you can use the following: <literal>vncserver_proxyclient_address=169.254.0.1</literal> </para> </section> <section xml:id=""xen-storage""> <title>Storage</title> <para> You can specify which Storage Repository to use with nova by looking at the following flag. The default is to use the local-storage setup by the default installer: <programlisting language=""ini"">sr_matching_filter = ""other-config:i18n-key=local-storage""</programlisting> Another good alternative is to use the ""default"" storage (for example if you have attached NFS or any other shared storage): <programlisting language=""ini"">sr_matching_filter = ""default-sr:true""</programlisting> <note> <para> To use a XenServer pool, you must create the pool by using the Host Aggregates feature. </para> </note> </para> </section> <section xml:id=""xen-config-reference-table""> <title>Xen configuration reference</title> <para> To customize the Xen driver, use the configuration option settings documented in <xref linkend=""config_table_nova_xen""/>. </para> </section>","<title>Xen configuration reference</title> <para>The following section discusses some commonly changed options in XenServer. The table below provides a complete reference of all configuration options available for configuring Xen with OpenStack.</para> <para>The recommended way to use Xen with OpenStack is through the XenAPI driver. To enable the XenAPI driver, add the following configuration options <filename>/etc/nova/nova.conf</filename> and restart the <systemitem class=""service"">nova-compute</systemitem> service:</para> <programlisting language=""ini"">compute_driver = xenapi.XenAPIDriver<para>These connection details are used by the OpenStack Compute service to contact your hypervisor and are the same details you use to connect XenCenter, the XenServer management console, to your XenServer or XCP box.</para> <note><para> The <literal>xenapi_connection_url</literal> is generally the management network IP address of the XenServer. Though it is possible to use the internal network IP Address (169.250.0.1) to contact XenAPI, this does not allow live migration between hosts. Other functionalities such as host aggregates, do not work. </para></note> <para>It is possible to manage Xen using libvirt, though this is not well-tested or supported. To experiment using Xen through libvirt add the following configuration options <filename>/etc/nova/nova.conf</filename>: <programlisting language=""ini"">compute_driver = libvirt.LibvirtDrivervirt_type = xen</programlisting></para> <section xml:id=""xen-agent""> <title>Agent</title> <para> If you don't have the guest agent on your VMs, it takes a long time for nova to decide the VM has successfully started. Generally a large timeout is required for Windows instances, but you may want to tweak <literal>agent_version_timeout</literal>. </para></section> <section xml:id=""xen-firewall""> <title>Firewall</title> <para>If using nova-network, iptables is supported: <programlisting language=""ini"">firewall_driver = nova.virt.firewall.IptablesFirewallDriver</programlisting> Alternately, doing the isolation in Dom0: <programlisting language=""ini"">firewall_driver = nova.virt.xenapi.firewall.Dom0IptablesFirewallDriver</programlisting> </para></section> <section xml:id=""xen-vnc""> <title>VNC proxy address</title> <para> Assuming you are talking to XenAPI through the host local management network, and XenServer is on the address: 169.254.0.1, you can use the following: <literal>vncserver_proxyclient_address=169.254.0.1</literal> </para></section> <section xml:id=""xen-storage""> <title>Storage</title> <para>You can specify which Storage Repository to use with nova by looking at the following flag. The default is to use the local-storage setup by the default installer: <programlisting language=""ini"">sr_matching_filter = ""other-config:i18n-key=local-storage""</programlisting> Another good alternative is to use the ""default"" storage (for example if you have attached NFS or any other shared storage): <programlisting language=""ini"">sr_matching_filter = ""default-sr:true""</programlisting> <note> <para>To use a XenServer pool, you must create the pool by using the Host Aggregates feature.</para> </note> </para></section> <section xml:id=""xen-config-reference-table""> <title>Xen configuration reference</title> <para>To customize the Xen driver, use the configuration option settings documented in <xref linkend=""config_table_nova_xen""/>.</para> </section>",88,63
openstack%2Fmonasca-api~master~I2375320bbe2aa5588af5d2cd763f8fd93f69d9a7,openstack/monasca-api,master,I2375320bbe2aa5588af5d2cd763f8fd93f69d9a7,Factor out common code,MERGED,2014-12-16 22:26:59.000000000,2014-12-16 23:03:34.000000000,2014-12-16 23:03:34.000000000,"[{'_account_id': 3}, {'_account_id': 11809}]","[{'number': 1, 'created': '2014-12-16 22:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/2957b60a3c24478223151925a2c42ee670d1c8f6', 'message': 'Factor out common code\n\nChange-Id: I2375320bbe2aa5588af5d2cd763f8fd93f69d9a7\n'}, {'number': 2, 'created': '2014-12-16 22:36:41.000000000', 'files': ['monasca/v2/reference/metrics.py', 'monasca/v2/reference/helpers.py', 'monasca/v2/reference/alarms.py', 'monasca/v2/reference/alarming.py', 'monasca/v2/reference/notifications.py', 'monasca/v2/reference/alarm_definitions.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7eb2f67b9cda2b255e8e4501979f715f26f1d0b6', 'message': 'Factor out common code\n\nChange-Id: I2375320bbe2aa5588af5d2cd763f8fd93f69d9a7\n'}]",0,142241,7eb2f67b9cda2b255e8e4501979f715f26f1d0b6,8,2,2,12512,,,0,"Factor out common code

Change-Id: I2375320bbe2aa5588af5d2cd763f8fd93f69d9a7
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/41/142241/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca/v2/reference/metrics.py', 'monasca/v2/reference/helpers.py', 'monasca/v2/reference/alarms.py', 'monasca/v2/reference/alarming.py', 'monasca/v2/reference/notifications.py', 'monasca/v2/reference/alarm_definitions.py']",6,2957b60a3c24478223151925a2c42ee670d1c8f6,feature/refactor-common-method, res.body = helpers.dumpit_utf8(result) res.body = helpers.dumpit_utf8(result) res.body = helpers.dumpit_utf8(result) res.body = helpers.dumpit_utf8(result) res.body = helpers.dumpit_utf8(result),"import json res.body = json.dumps(result, ensure_ascii=False).encode('utf8') res.body = json.dumps(result, ensure_ascii=False).encode('utf8') res.body = json.dumps(result, ensure_ascii=False).encode('utf8') res.body = json.dumps(result, ensure_ascii=False).encode('utf8') res.body = json.dumps(result, ensure_ascii=False).encode('utf8')",30,23
openstack%2Fceilometer~master~If8503ee70217025106a188f40a6e4ea8c49a89f4,openstack/ceilometer,master,If8503ee70217025106a188f40a6e4ea8c49a89f4,implement notification coordination,MERGED,2014-11-18 20:26:47.000000000,2014-12-16 22:51:46.000000000,2014-12-16 22:51:45.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 8871}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-11-18 20:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ba9f025dac51c8c1519a461782d1ecfe22177139', 'message': 'notification coordination WIP\n\nthis patch enables coordination of notification agents by splitting\nendpoints across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 2, 'created': '2014-11-26 22:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/643d57ecf24e8a6d80ec522b6d212b8513020048', 'message': 'notification coordination WIP\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 3, 'created': '2014-11-27 17:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/066ba618d1d1718e328b7e61f5ebca5e0ed424cf', 'message': 'notification coordination WIP\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 4, 'created': '2014-11-28 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0f20e37c316404845af077b835825bebf43f2bc0', 'message': 'notification coordination WIP\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 5, 'created': '2014-12-01 19:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9350e960e49a8c6d8f7fcc097e574d8e670a72d8', 'message': 'notification coordination WIP\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 6, 'created': '2014-12-02 21:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/944bd1cfe658ab704ffce1321b69fdaa8c9a5400', 'message': 'notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 7, 'created': '2014-12-02 22:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/180433349fc417b8271da2343efcdff4c8148e4f', 'message': 'notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 8, 'created': '2014-12-03 17:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/72487b3660e386c146a5028def22d277b33847d7', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 9, 'created': '2014-12-04 20:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3261fcd20825adf358f2999879423302f90e7cad', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 10, 'created': '2014-12-05 00:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d5c7184744699fbc49ae65451ce8e7c244824d15', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 11, 'created': '2014-12-05 15:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5b168882aad09729cafe10542a0fcc99c05c130e', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 12, 'created': '2014-12-09 16:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/13fa04934f0c22b0e1a2cea1adb995b7d44dbe82', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 13, 'created': '2014-12-09 16:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f4016f8742a773d417aacc5d33c575b9cfb0af6b', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}, {'number': 14, 'created': '2014-12-15 16:41:37.000000000', 'files': ['ceilometer/tests/test_notification.py', 'ceilometer/coordination.py', 'ceilometer/pipeline.py', 'ceilometer/agent/plugin_base.py', 'ceilometer/notification.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8d3d84053fb3af4457c0ca3c4c326591ca13ab26', 'message': 'implement notification coordination\n\nthis patch enables coordination of notification agents by splitting\npipelines across agents. a single-worker agent is provided that\nskips the overhead of IPC. a multi-worker agent is added that uses\ninternal queue to redirect samples to correct pipeline.\n\nImplements: blueprint notification-coordination\nChange-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4\n'}]",21,135414,8d3d84053fb3af4457c0ca3c4c326591ca13ab26,66,7,14,6537,,,0,"implement notification coordination

this patch enables coordination of notification agents by splitting
pipelines across agents. a single-worker agent is provided that
skips the overhead of IPC. a multi-worker agent is added that uses
internal queue to redirect samples to correct pipeline.

Implements: blueprint notification-coordination
Change-Id: If8503ee70217025106a188f40a6e4ea8c49a89f4
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/14/135414/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/messaging.py', 'ceilometer/notification.py']",2,ba9f025dac51c8c1519a461782d1ecfe22177139,bp/notification-coordination,"from ceilometer import coordinationfrom ceilometer import utils self.partition_coordinator = coordination.PartitionCoordinator() self.partition_coordinator.start() self.endpoints = [] if cfg.CONF.notification.store_events: self.endpoints = [event_endpoint.EventsNotificationEndpoint()] self.targets = [] # TODO(gordc): need to split on event_type to properly handle # coordination of multiple exchange events. for new_tar in handler.get_targets(cfg.CONF): if not any([new_tar == target for target in self.targets]): self.targets.append(new_tar) self.endpoints.append(handler) self.partition_coordinator.join_group(self.NOTIFICATION_NAMESPACE) self.partition_coordinator._coordinator.watch_join_group( self.NOTIFICATION_NAMESPACE, self.refresh_agent) self.partition_coordinator._coordinator.watch_leave_group( self.NOTIFICATION_NAMESPACE, self.refresh_agent) self.configure_listeners() self.tg.add_timer(cfg.CONF.coordination.heartbeat, self.partition_coordinator.heartbeat) self.tg.add_timer(cfg.CONF.coordination.heartbeat, self.partition_coordinator._coordinator.run_watchers) def refresh_agent(self, event): map(lambda x: x.stop(), self.listeners) self.configure_listeners() def configure_listeners(self): urls = cfg.CONF.notification.messaging_urls or [None] self.listeners = [] partitioned = self.partition_coordinator.extract_my_subset( self.NOTIFICATION_NAMESPACE, self.endpoints) for url in urls: transport = messaging.get_transport(url) listener = messaging.get_notification_listener( transport, self.targets, partitioned, pool='pool-%s' % self.partition_coordinator._my_id) listener.start() self.listeners.append(listener) def stop(self): self.partition_coordinator._coordinator.leave_group( self.NOTIFICATION_NAMESPACE)"," endpoints = [] if cfg.CONF.notification.store_events: endpoints = [event_endpoint.EventsNotificationEndpoint()] targets = [] targets.extend(handler.get_targets(cfg.CONF)) endpoints.append(handler) urls = cfg.CONF.notification.messaging_urls or [None] self.listeners = [] for url in urls: transport = messaging.get_transport(url) listener = messaging.get_notification_listener( transport, targets, endpoints) listener.start() self.listeners.append(listener) def stop(self):",46,15
openstack%2Fkeystone~master~I9ca7d1af432cec2f0dcc5833e196f5e1e18a8013,openstack/keystone,master,I9ca7d1af432cec2f0dcc5833e196f5e1e18a8013,Add test for update role without name,MERGED,2014-12-11 22:15:05.000000000,2014-12-16 22:51:35.000000000,2014-12-16 22:51:35.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5707}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-12-11 22:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9914b1617f2ff6136098632b84b1854e483b989b', 'message': 'Add test for update role without name\n\nThere was no test that showed what happens when a role update is done\nwithout a name. The test shows that when using the LDAP assignment\nbackend a role update without a name raises an exception.\n\nChange-Id: I9ca7d1af432cec2f0dcc5833e196f5e1e18a8013\nPartial-Bug: #1241134\n'}, {'number': 2, 'created': '2014-12-11 22:58:29.000000000', 'files': ['keystone/tests/test_backend_ldap.py', 'keystone/tests/test_backend.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b62a445af84c6053629132f2e726450658f62c87', 'message': 'Add test for update role without name\n\nThere was no test that showed what happens when a role update is done\nwithout a name. The test shows that when using the LDAP assignment\nbackend a role update without a name raises an exception.\n\nChange-Id: I9ca7d1af432cec2f0dcc5833e196f5e1e18a8013\nPartial-Bug: #1241134\n'}]",0,141185,b62a445af84c6053629132f2e726450658f62c87,17,4,2,6486,,,0,"Add test for update role without name

There was no test that showed what happens when a role update is done
without a name. The test shows that when using the LDAP assignment
backend a role update without a name raises an exception.

Change-Id: I9ca7d1af432cec2f0dcc5833e196f5e1e18a8013
Partial-Bug: #1241134
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/141185/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/test_backend_ldap.py', 'keystone/tests/test_backend.py']",2,9914b1617f2ff6136098632b84b1854e483b989b,bug/1241134," def test_update_role_no_name(self): # A user can update a role and not include the name. # description is picked just because it's not name. self.assignment_api.update_role(self.role_member['id'], {'description': uuid.uuid4().hex}) # If this previous line didn't raise an exception then the test passes. ",,16,0
openstack%2Fkeystone~master~If9088379326acbb06b3b85731ad30edc10a9e7b6,openstack/keystone,master,If9088379326acbb06b3b85731ad30edc10a9e7b6,Rename `removeEvent` to be more pythonic,MERGED,2014-12-16 13:33:34.000000000,2014-12-16 22:49:13.000000000,2014-12-16 22:49:12.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 9142}]","[{'number': 1, 'created': '2014-12-16 13:33:34.000000000', 'files': ['keystone/tests/test_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2705965ff11feaa8a093311271e09e11e099b561', 'message': 'Rename `removeEvent` to be more pythonic\n\nThis is a non-functional change that renames a testing method to be more\nconsistent with OpenStack method naming conventions.\n\nChange-Id: If9088379326acbb06b3b85731ad30edc10a9e7b6\n'}]",0,142103,2705965ff11feaa8a093311271e09e11e099b561,9,4,1,5046,,,0,"Rename `removeEvent` to be more pythonic

This is a non-functional change that renames a testing method to be more
consistent with OpenStack method naming conventions.

Change-Id: If9088379326acbb06b3b85731ad30edc10a9e7b6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/03/142103/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/test_revoke.py'],1,2705965ff11feaa8a093311271e09e11e099b561,rename-test-method," self.remove_event(event) self.remove_event(event) self.remove_event(event) def remove_event(self, event): self.remove_event(event) self.remove_event(event) self.remove_event(event)"," self.removeEvent(event) self.removeEvent(event) self.removeEvent(event) def removeEvent(self, event): self.removeEvent(event) self.removeEvent(event) self.removeEvent(event)",7,7
openstack%2Fglance~master~I4906314c25c78b5997e0383d9c78620eb531e6ee,openstack/glance,master,I4906314c25c78b5997e0383d9c78620eb531e6ee,Updated from global requirements,MERGED,2014-12-04 22:36:14.000000000,2014-12-16 22:48:22.000000000,2014-12-16 22:48:21.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 8871}, {'_account_id': 14101}]","[{'number': 1, 'created': '2014-12-04 22:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c242d3c4b73cb71cca0b55af638f4c470e2a49e6', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 2, 'created': '2014-12-08 08:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eebd5d411cd491f6824bae086be0e51c6d937e7d', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 3, 'created': '2014-12-08 16:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/23ccd4de2bd427294ff38b8abc24206a8f25ca8d', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 4, 'created': '2014-12-09 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5b2062ca0e8703d81c74a0908c0a760f67bc320d', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 5, 'created': '2014-12-10 16:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/963e400e4c1ec9c8b5c85512e9ed19d6b8861cd6', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 6, 'created': '2014-12-10 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1e6e018af609cbd16b0d4360d7a2ab2aadde62bc', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 7, 'created': '2014-12-11 07:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f7387ebfcb20b45c73024dfeba4708cb343974a9', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 8, 'created': '2014-12-12 22:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cfa77f4fabbc03d047d5781a9e948929e5f7a25f', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}, {'number': 9, 'created': '2014-12-12 22:23:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/3065df96cd3fb4e723df1c72fb32dfc5ee5f36e3', 'message': 'Updated from global requirements\n\nChange-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee\n'}]",0,139228,3065df96cd3fb4e723df1c72fb32dfc5ee5f36e3,33,6,9,11131,,,0,"Updated from global requirements

Change-Id: I4906314c25c78b5997e0383d9c78620eb531e6ee
",git fetch https://review.opendev.org/openstack/glance refs/changes/28/139228/9 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c242d3c4b73cb71cca0b55af638f4c470e2a49e6,openstack/requirements,"oslo.messaging>=1.4.0,!=1.5.0",oslo.messaging>=1.4.0,1,1
openstack%2Frequirements~stable%2Fjuno~I78c8f0fb9bec942ebd6c1e375294ffb6494dee8e,openstack/requirements,stable/juno,I78c8f0fb9bec942ebd6c1e375294ffb6494dee8e,Lower the cap of oslo.db to <1.1,MERGED,2014-12-16 18:38:45.000000000,2014-12-16 22:48:10.000000000,2014-12-16 22:48:09.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2014-12-16 18:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f5f296d041927fb120df562e747a1cd444d956a2', 'message': ""Lower the cap of oslo.db to <1.1\n\noslo.db is capped because setuptools 8 changed the way it handles\nrequirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4).  We\nneed to cap at a version released from oslo.db's stable/juno branch to\navoid introducing incompatible secondary dependencies into stable\ndeployments.\n\nChange-Id: I78c8f0fb9bec942ebd6c1e375294ffb6494dee8e\n""}, {'number': 2, 'created': '2014-12-16 18:48:03.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/66ae06f03a6705f795a766da6361655e8b77fbdd', 'message': ""Lower the cap of oslo.db to <1.1\n\noslo.db is capped because setuptools 8 changed the way it handles\nrequirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4).  We\nneed to cap at a version released from oslo.db's stable/juno branch to\navoid introducing incompatible secondary dependencies into stable\ndeployments. See https://etherpad.openstack.org/p/cloL2FzTRd for\ndetails.\n\nChange-Id: I78c8f0fb9bec942ebd6c1e375294ffb6494dee8e\n""}]",0,142180,66ae06f03a6705f795a766da6361655e8b77fbdd,8,3,2,2472,,,0,"Lower the cap of oslo.db to <1.1

oslo.db is capped because setuptools 8 changed the way it handles
requirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4).  We
need to cap at a version released from oslo.db's stable/juno branch to
avoid introducing incompatible secondary dependencies into stable
deployments. See https://etherpad.openstack.org/p/cloL2FzTRd for
details.

Change-Id: I78c8f0fb9bec942ebd6c1e375294ffb6494dee8e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/142180/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f5f296d041927fb120df562e747a1cd444d956a2,cap-oslo-db-juno,"# NOTE(dhellmann): oslo.db is capped because setuptools 8 changed the # way it handles requirements lists (see # 4bbac4c9bc5bcba6962921369ce7721d2a544aa4). We need to cap at a # version released from oslo.db's stable/juno branch to avoid # introducing incompatible secondary dependencies into stable # deployments. oslo.db>=1.0.0,<1.1 # Apache-2.0","# oslo.db is capped because setuptools 8 changed the way it handles # requirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4). # We need to cap at a version known to work with both juno and kilo, # and since 1.2.0 was the last good version known to work we created # 1.2.1 with only a requirements change to allow the versions for # juno and kilo to overlap. We leave the cap a little loose, in case # we have more backports for juno in the 1.2 series. oslo.db>=1.0.0,<1.3 # Apache-2.0",7,8
openstack%2Fkeystone~master~Ib4c99b474aafaad4b34df125fd94b7c4c55aa863,openstack/keystone,master,Ib4c99b474aafaad4b34df125fd94b7c4c55aa863,fix wrong indentation in contrib/federation/utils.py,MERGED,2014-12-08 06:57:22.000000000,2014-12-16 22:48:06.000000000,2014-12-16 22:48:04.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 8978}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-12-08 06:57:22.000000000', 'files': ['keystone/contrib/federation/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/58df584d5b2cd8c9926b9a3faa215062b8c897f4', 'message': 'fix wrong indentation in contrib/federation/utils.py\n\nChange-Id: Ib4c99b474aafaad4b34df125fd94b7c4c55aa863\n'}]",0,139923,58df584d5b2cd8c9926b9a3faa215062b8c897f4,11,7,1,9101,,,0,"fix wrong indentation in contrib/federation/utils.py

Change-Id: Ib4c99b474aafaad4b34df125fd94b7c4c55aa863
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/139923/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/contrib/federation/utils.py'],1,58df584d5b2cd8c9926b9a3faa215062b8c897f4,wrong_indent," v = jsonschema.Draft4Validator(MAPPING_SCHEMA) messages = '' for error in sorted(v.iter_errors(ref), key=str): messages = messages + error.message + ""\n"" if messages: raise exception.ValidationError(messages)"," v = jsonschema.Draft4Validator(MAPPING_SCHEMA) messages = '' for error in sorted(v.iter_errors(ref), key=str): messages = messages + error.message + ""\n"" if messages: raise exception.ValidationError(messages)",6,6
openstack%2Fneutron~master~I16f1269644a56d932426daa3a89dd5a8f747b314,openstack/neutron,master,I16f1269644a56d932426daa3a89dd5a8f747b314,Add functional test for l3-agent metadata proxy,MERGED,2014-11-21 22:26:43.000000000,2014-12-16 22:46:09.000000000,2014-12-16 22:46:07.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8655}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9800}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 13051}, {'_account_id': 14024}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-21 22:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/095bad624af36ceea2757008bc28a72f146e0c00', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy done by the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 2, 'created': '2014-11-23 12:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73e3710f8c084912a2e0583db01d2d1e7a54b425', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 3, 'created': '2014-11-24 14:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbffdc84e73f9969f64e8a39606fbc007703c05b', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 4, 'created': '2014-11-24 16:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26498080819343050a0d682eb52e1ec721787e8e', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 5, 'created': '2014-11-25 09:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a9cc61f3a7a32bf2978c30a47b5e3d73ba7e7a8', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 6, 'created': '2014-11-25 09:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a749669276a335c95a92f497121cf51fde40efa', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 7, 'created': '2014-11-25 11:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13ee815422d9e64bb9dbfdb6734101d0767b7436', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 8, 'created': '2014-11-25 12:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d82ed50c9463a3922d440bc13203f7aa583f5f26', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 9, 'created': '2014-11-26 08:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6de7647c94acbf32f643ca4b242b9666219a0f1', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 10, 'created': '2014-11-26 13:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/520be84dcbf06d2c0919762cafcdbc4a387c093d', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 11, 'created': '2014-11-27 17:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46bc5cb45a8922ae99eeb68ab3ed252b3cab8cdb', 'message': 'Add functional test to the metadata proxy\n\nThis change add a functional test to the metadata proxy to verify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 12, 'created': '2014-12-01 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf631ee29aa11996a094551ede425480eb8aeef3', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 13, 'created': '2014-12-01 22:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb331fe698d4a9aee1d1e02f26455704fb0c1079', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 14, 'created': '2014-12-08 10:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb3d16295f921ae39ad3a9a8aa460eca2b500e1b', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 15, 'created': '2014-12-09 10:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89885c22ce2555fff98400bf5ad2e1131334e28c', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 16, 'created': '2014-12-10 11:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f421843f30617dd53b282eb7b232410a0aea60ea', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 17, 'created': '2014-12-10 12:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c0b581f62b11043c5b162c9684e0206c4e970fd', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 18, 'created': '2014-12-10 13:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a713fe635be865bbe26724958f5bebecc7cc0b6d', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 19, 'created': '2014-12-11 09:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e08da7d9ddc42077c615fe7f112509bf7b0b45e', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 20, 'created': '2014-12-12 10:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1560c390164c199e535e2f5d18d6e0bfe5ae65e', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 21, 'created': '2014-12-13 11:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78f28ca01ec0214ea379bd546d4ed7fa486fcc1e', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}, {'number': 22, 'created': '2014-12-15 16:01:01.000000000', 'files': ['neutron/tests/functional/contrib/filters.template', 'neutron/tests/functional/agent/linux/base.py', 'neutron/tests/functional/agent/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb3a38cb5ee0432958123745750e104180b3e615', 'message': 'Add functional test for l3-agent metadata proxy\n\nThis change add a functional test for l3-agent metadata proxy to\nverify:\n\n * iptables redirection from 169.254.169.254:80\n * headers added by the neutron-ns-metadata-proxy\n * proxy to the metadata_socket by the neutron-ns-metadata-proxy\n\nChange-Id: I16f1269644a56d932426daa3a89dd5a8f747b314\n'}]",138,136511,cb3a38cb5ee0432958123745750e104180b3e615,461,37,22,8124,,,0,"Add functional test for l3-agent metadata proxy

This change add a functional test for l3-agent metadata proxy to
verify:

 * iptables redirection from 169.254.169.254:80
 * headers added by the neutron-ns-metadata-proxy
 * proxy to the metadata_socket by the neutron-ns-metadata-proxy

Change-Id: I16f1269644a56d932426daa3a89dd5a8f747b314
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/136511/11 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/base.py', 'neutron/tests/functional/agent/test_l3_agent.py']",2,095bad624af36ceea2757008bc28a72f146e0c00,functional-metadata,"import netaddrfrom oslo.serialization import jsonutils import webob import webob.dec from neutron.agent.metadata import agent as metadata_agent self._allocated_ips = set() self.br_int = self.create_ovs_bridge() cfg.CONF.set_override('ovs_integration_bridge', self.br_int.br_name) self.br_ex = self.create_ovs_bridge() cfg.CONF.set_override('external_network_bridge', self.br_ex.br_name) for internal_port in ri.internal_ports: cidr = netaddr.IPNetwork(internal_port['ip_cidr']) self._allocated_ips |= {cidr.network, cidr.broadcast, cidr.ip} def _get_unallocated_ip(self, cidr): for ip in cidr: if ip not in self._allocated_ips: self._allocated_ips.add(ip) return str(ip) def _create_internal_namespace(self, router): internal_cidr = netaddr.IPNetwork( router.internal_ports[0]['ip_cidr']) ip = self._get_unallocated_ip(internal_cidr) ip_cidr = '%s/%s' % (ip, internal_cidr.prefixlen) internal_ns = self._create_namespace() internal_port = self.create_ovs_port(self.br_int, internal_ns, ip_cidr) internal_port.route.add_gateway(str(internal_cidr.ip)) return internal_ns, ip class MetadataFakeProxyHandler(object): def __init__(self, status): self.status = status @webob.dec.wsgify() def __call__(self, req): return webob.Response(body=jsonutils.dumps(dict(req.headers)), status=self.status) class MetadataL3Agent(L3AgentTestFramework): def setUp(self): super(MetadataL3Agent, self).setUp() def _create_metadata_fake_server(self, status): server = metadata_agent.UnixDomainWSGIServer('metadata-fake-server') self.addCleanup(server.stop) server.start(MetadataFakeProxyHandler(status), cfg.CONF.metadata_proxy_socket, workers=1, backlog=4096) def _check_http_get_command(self, url, code): python_code = ''' import requests resp = requests.get(""%(url)s"") if resp.status_code != %(code)s: raise SystemExit print resp.text ''' % {'url': url, 'code': code} return 'python', '-c', python_code def test_access_to_metadata_proxy(self): router = self.manage_router(False) self._create_metadata_fake_server(200) internal_ns, internal_ip = self._create_internal_namespace(router) cmd = self._check_http_get_command('http://169.254.169.254', 200) try: raw_headers = internal_ns.netns.execute(cmd) except RuntimeError: self.fail('metadata proxy unreachable on http://169.254.169.254') # check headers added by the metadata proxy headers = jsonutils.loads(raw_headers) self.assertEqual(internal_ip, headers['X-Forwarded-For']) self.assertEqual(router.router_id, headers['X-Neutron-Router-Id'])"," br_int = self.create_ovs_bridge() cfg.CONF.set_override('ovs_integration_bridge', br_int.br_name) br_ex = self.create_ovs_bridge() cfg.CONF.set_override('external_network_bridge', br_ex.br_name)",109,12
openstack%2Fkeystone~master~I57902acdb3bd58014b4ddd21a19b560b2ff98dbf,openstack/keystone,master,I57902acdb3bd58014b4ddd21a19b560b2ff98dbf,Fixes links in Shibboleth configuration docs,MERGED,2014-12-08 16:54:31.000000000,2014-12-16 22:46:03.000000000,2014-12-16 22:46:01.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-12-08 16:54:31.000000000', 'files': ['doc/source/extensions/shibboleth.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/63df7e74a7bc11a8b7db49644c0f2a11f5a73834', 'message': 'Fixes links in Shibboleth configuration docs\n\nChange-Id: I57902acdb3bd58014b4ddd21a19b560b2ff98dbf\n'}]",0,140077,63df7e74a7bc11a8b7db49644c0f2a11f5a73834,7,3,1,7725,,,0,"Fixes links in Shibboleth configuration docs

Change-Id: I57902acdb3bd58014b4ddd21a19b560b2ff98dbf
",git fetch https://review.opendev.org/openstack/keystone refs/changes/77/140077/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/extensions/shibboleth.rst'],1,63df7e74a7bc11a8b7db49644c0f2a11f5a73834,,".. _`Running Keystone in HTTPD`: ../apache-httpd.htmlKeystone enforces `external authentication`_ when the ``REMOTE_USER`` environment variable is present so make sure Shibboleth doesn't set the ``REMOTE_USER`` environment variable. To do so, scan through the ``/etc/shibboleth/shibboleth2.xml`` configuration file and remove the ``REMOTE_USER`` directives... _`external authentication`: ../external-auth.html ",".. _`Running Keystone in HTTPD`: apache-httpd.htmlKeystone enforces `external <http://docs.openstack.org/developer/keystone/external-auth.html>`_ authentication when environment variable ``REMOTE_USER`` is present so make sure Shibboleth doesn't set the ``REMOTE_USER`` environment variable. To do so, scan through the ``/etc/shibboleth/shibboleth2.xml`` configuration file and remove the ``REMOTE_USER`` directives.",8,6
openstack%2Fkeystone~master~Ie6e7351114d79eb25b392faaa0e6376c24c45fa0,openstack/keystone,master,Ie6e7351114d79eb25b392faaa0e6376c24c45fa0,default revoke driver should be the non-deprecated driver,MERGED,2014-10-25 02:30:02.000000000,2014-12-16 22:45:58.000000000,2014-12-16 22:45:56.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 6486}, {'_account_id': 9142}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-10-25 02:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a8e720ae33ad3c696f9a14d9dab3521715ca1595', 'message': 'revoke driver default should be the non-deprecated driver\n\nHave checked other config options that default is not the deprecated\noption, others are OK.\n\nChange-Id: Ie6e7351114d79eb25b392faaa0e6376c24c45fa0\nCloses-Bug: #1384775\n'}, {'number': 2, 'created': '2014-10-31 01:22:56.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/common/config.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8bd0f6ecd882a3119acb5fd7a760122c8931db94', 'message': 'default revoke driver should be the non-deprecated driver\n\nHave checked other config options that default is not the deprecated\noption, others are OK.\n\nChange-Id: Ie6e7351114d79eb25b392faaa0e6376c24c45fa0\nCloses-Bug: #1384775\n'}]",0,130917,8bd0f6ecd882a3119acb5fd7a760122c8931db94,11,5,2,9101,,,0,"default revoke driver should be the non-deprecated driver

Have checked other config options that default is not the deprecated
option, others are OK.

Change-Id: Ie6e7351114d79eb25b392faaa0e6376c24c45fa0
Closes-Bug: #1384775
",git fetch https://review.opendev.org/openstack/keystone refs/changes/17/130917/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone.conf.sample', 'keystone/common/config.py']",2,a8e720ae33ad3c696f9a14d9dab3521715ca1595,bug/1384775," default='keystone.contrib.revoke.backends.sql.Revoke',"," default='keystone.contrib.revoke.backends.kvs.Revoke',",2,2
openstack%2Fkeystone~stable%2Ficehouse~Ic29db344446467080977f3aca13e0a65d767ca84,openstack/keystone,stable/icehouse,Ic29db344446467080977f3aca13e0a65d767ca84,Updated from global requirements,MERGED,2014-11-15 17:36:20.000000000,2014-12-16 22:45:52.000000000,2014-12-16 22:45:50.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 979}, {'_account_id': 6486}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-11-15 17:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a49f56c6a4f1e6705a35b255dafcdd2cb536ae8', 'message': 'Updated from global requirements\n\nChange-Id: Ic29db344446467080977f3aca13e0a65d767ca84\n'}, {'number': 2, 'created': '2014-11-20 00:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a840a93e3c7e83289bbeb91c3893eae8289e2a61', 'message': 'Updated from global requirements\n\nChange-Id: Ic29db344446467080977f3aca13e0a65d767ca84\n'}, {'number': 3, 'created': '2014-11-26 20:48:18.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f0c8167a9b446b616d379c81709b7d3034dea4bd', 'message': 'Updated from global requirements\n\nChange-Id: Ic29db344446467080977f3aca13e0a65d767ca84\n'}]",0,134722,f0c8167a9b446b616d379c81709b7d3034dea4bd,20,5,3,11131,,,0,"Updated from global requirements

Change-Id: Ic29db344446467080977f3aca13e0a65d767ca84
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/134722/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7a49f56c6a4f1e6705a35b255dafcdd2cb536ae8,openstack/requirements,"testtools>=0.9.34,!=1.2.0",testtools>=0.9.34,1,1
openstack%2Fhorizon~master~I4f9f8d22711896b2e9d39ef1bf5e803ca7bcbc0a,openstack/horizon,master,I4f9f8d22711896b2e9d39ef1bf5e803ca7bcbc0a,Make Task state translatable.,MERGED,2014-11-14 20:08:11.000000000,2014-12-16 22:43:55.000000000,2014-12-16 22:43:54.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6610}, {'_account_id': 6983}, {'_account_id': 7012}, {'_account_id': 7634}, {'_account_id': 9317}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 9981}, {'_account_id': 11592}]","[{'number': 1, 'created': '2014-11-14 20:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0bad0214b7ab22321813a6a11079099b0725adc6', 'message': 'Make Task state None translatable.\n\nThe Task state None is currently not translated because it is the\nliteral value None.  Update to make sure it gets displayed as translated.\n\nChange-Id: I4f9f8d22711896b2e9d39ef1bf5e803ca7bcbc0a\nCloses-Bug: #1392848\n'}, {'number': 2, 'created': '2014-11-19 16:10:26.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a60fa55a70de9747b6db68d7e122f5b285596361', 'message': ""Make Task state translatable.\n\nThe Task state None is currently not translated because it is the\nliteral value None.  Update to make sure it gets displayed as translated.\nAlso add in other missing task_states: 'reboot_pending', 'reboot_started',\n'reboot_pending_hard', 'reboot_started_hard'\n\nChange-Id: I4f9f8d22711896b2e9d39ef1bf5e803ca7bcbc0a\nCloses-Bug: #1392848\n""}]",4,134638,a60fa55a70de9747b6db68d7e122f5b285596361,27,11,2,9981,,,0,"Make Task state translatable.

The Task state None is currently not translated because it is the
literal value None.  Update to make sure it gets displayed as translated.
Also add in other missing task_states: 'reboot_pending', 'reboot_started',
'reboot_pending_hard', 'reboot_started_hard'

Change-Id: I4f9f8d22711896b2e9d39ef1bf5e803ca7bcbc0a
Closes-Bug: #1392848
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/134638/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/admin/instances/tables.py']",2,0bad0214b7ab22321813a6a11079099b0725adc6,bug/1392848," filters=project_tables.TASK_DISPLAY_FILTER,"," filters=(title, filters.replace_underscores),",7,2
openstack%2Fkeystone~master~I77ab359b4018e49de0afbef1f6e137d9080bdc26,openstack/keystone,master,I77ab359b4018e49de0afbef1f6e137d9080bdc26,Fix the way migration helpers check FK names.,MERGED,2014-12-02 18:14:22.000000000,2014-12-16 22:39:41.000000000,2014-12-16 22:39:39.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 8871}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-12-02 18:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/10c3aa9f57d91397335c85865cb1fa945f04a946', 'message': 'Fix the way migration helpers check FK names.\n\nThe current check for FK names is unsfafe due to the order\nof checks - this patch resolves this.\n\nSince FKs are not supported as part of standard database used for\nunit tests (sqlite), there is no unit test for this change. This\nchange has been tested (and required) with MySQL and Postgres in the\nfollowing on patch (https://review.openstack.org/#/c/130954/)\n\nChange-Id: I77ab359b4018e49de0afbef1f6e137d9080bdc26\nCloses-bug: 1398470\n'}, {'number': 2, 'created': '2014-12-02 23:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/21fb36a6ab9b0a7db7a71a7bcdafa4daa1bc1ef2', 'message': 'Fix the way migration helpers check FK names.\n\nThe current check for FK names is unsfafe due to the order\nof checks - this patch resolves this.\n\nSince FKs are not supported as part of standard database used for\nunit tests (sqlite), there is no unit test for this change. This\nchange has been tested (and required) with MySQL and Postgres in the\nfollowing on patch (https://review.openstack.org/#/c/130954/)\n\nChange-Id: I77ab359b4018e49de0afbef1f6e137d9080bdc26\nCloses-bug: 1398470\n'}, {'number': 3, 'created': '2014-12-12 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0726362b944b6c126527814a127f09532b1ea4af', 'message': 'Fix the way migration helpers check FK names.\n\nThe current check for FK names is unsfafe due to the order\nof checks - this patch resolves this.\n\nSince FKs are not supported as part of standard database used for\nunit tests (sqlite), there is no unit test for this change. This\nchange has been tested (and required) with MySQL and Postgres in the\nfollowing on patch (https://review.openstack.org/#/c/130954/)\n\nChange-Id: I77ab359b4018e49de0afbef1f6e137d9080bdc26\nCloses-bug: 1398470\n'}, {'number': 4, 'created': '2014-12-15 09:22:25.000000000', 'files': ['keystone/common/sql/migration_helpers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e927ddfd7253f26f0505a247416a762f20f4102b', 'message': 'Fix the way migration helpers check FK names.\n\nThe current check for FK names is unsfafe due to the order\nof checks - this patch resolves this.\n\nSince FKs are not supported as part of standard database used for\nunit tests (sqlite), there is no unit test for this change. This\nchange has been tested (and required) with MySQL and Postgres in the\nfollowing on patch (https://review.openstack.org/#/c/130954/)\n\nChange-Id: I77ab359b4018e49de0afbef1f6e137d9080bdc26\nCloses-bug: 1398470\n'}]",2,138468,e927ddfd7253f26f0505a247416a762f20f4102b,24,8,4,5707,,,0,"Fix the way migration helpers check FK names.

The current check for FK names is unsfafe due to the order
of checks - this patch resolves this.

Since FKs are not supported as part of standard database used for
unit tests (sqlite), there is no unit test for this change. This
change has been tested (and required) with MySQL and Postgres in the
following on patch (https://review.openstack.org/#/c/130954/)

Change-Id: I77ab359b4018e49de0afbef1f6e137d9080bdc26
Closes-bug: 1398470
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/138468/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/migration_helpers.py'],1,10c3aa9f57d91397335c85865cb1fa945f04a946,bug/1398470," if (isinstance(fk, sqlalchemy.ForeignKeyConstraint) and column_name in fk.columns)]"," if (column_name in fk.columns and isinstance(fk, sqlalchemy.ForeignKeyConstraint))]",2,2
openstack%2Ftrove~master~I31176c0a78e734bfad3b40b2ec634ea8f362d81b,openstack/trove,master,I31176c0a78e734bfad3b40b2ec634ea8f362d81b,Obsolete oslo-incubator modules - timeutils,MERGED,2014-10-17 15:01:27.000000000,2014-12-16 22:39:18.000000000,2014-12-16 22:39:17.000000000,"[{'_account_id': 3}, {'_account_id': 694}, {'_account_id': 1925}, {'_account_id': 4240}, {'_account_id': 4463}, {'_account_id': 5293}, {'_account_id': 6159}, {'_account_id': 6268}, {'_account_id': 6413}, {'_account_id': 7092}, {'_account_id': 7796}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 8871}, {'_account_id': 9664}, {'_account_id': 9683}, {'_account_id': 9746}, {'_account_id': 9782}, {'_account_id': 10215}, {'_account_id': 10266}, {'_account_id': 10295}, {'_account_id': 10725}, {'_account_id': 12673}]","[{'number': 1, 'created': '2014-10-17 15:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f284fd6b56216bc8508f93b9fe77a5b383f4ee7b', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: trove-retire-unused-modules\n'}, {'number': 2, 'created': '2014-10-17 19:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/51fce6a940d021862bfa8a1f69b1551a26e3db2e', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: trove-retire-unused-modules\n""}, {'number': 3, 'created': '2014-10-17 19:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a47874ea0e9798cc990839e3fd3b508623d8d630', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: trove-retire-unused-modules\n'}, {'number': 4, 'created': '2014-10-17 19:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8d731b7383e78b6209eb0275864f40b07531c505', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: trove-retire-unused-modules\n""}, {'number': 5, 'created': '2014-10-17 19:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f568c96071d225b122d2c7e3d46369ac880c9ca1', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-modules""}, {'number': 6, 'created': '2014-10-17 20:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4eeb7d36fb421efbca1c8f0d6df9ee5c543f9708', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-modules\n""}, {'number': 7, 'created': '2014-10-18 11:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7412240b0a09913983c8bf2ca38024c21b4869f8', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-modules\n""}, {'number': 8, 'created': '2014-10-20 16:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e5bc5e01b834a71c3d7a114e9aa5fa712717a33b', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-modules\n""}, {'number': 9, 'created': '2014-10-20 16:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/22957c6962eb6ebeb17a3b1e1b933e782aae8cf9', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n""}, {'number': 10, 'created': '2014-10-20 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4913fd552a2d9fd1e152872be5480f758588299d', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n""}, {'number': 11, 'created': '2014-10-20 20:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/32a136aff682ad30122002ae225d1d809dc0ab55', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n""}, {'number': 12, 'created': '2014-10-20 21:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/cd4211c8fba6159f3d2ea21f19c4751197541281', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n""}, {'number': 13, 'created': '2014-11-05 08:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/996cd934678c9229756ff792e45a92bc8f40f84e', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n""}, {'number': 14, 'created': '2014-11-05 11:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2f87da5dbb37cea5bb356b89e3d506ae1f426d9e', 'message': ""Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nNOTE: THESE COMMITS ARE WIP AND I'M TESTING SOME TOOLS TO AUTOMATE\nTHESE CHANGES. THE TOOLS AREN'T WORKING ALL THAT WELL NOW!\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n""}, {'number': 15, 'created': '2014-11-07 20:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4485ff580008709b907ed12c2ada3f9f9c693541', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall people who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n'}, {'number': 16, 'created': '2014-11-10 12:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/013626f11da7a6f009390bd6318c9e6063871f53', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n'}, {'number': 17, 'created': '2014-11-10 12:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d4f1c163c33b0c7f9649c830227829eee147c54f', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n'}, {'number': 18, 'created': '2014-11-10 12:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/def3be773a990e852dc31d3eac62187baf138224', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-trove-modules\n'}, {'number': 19, 'created': '2014-11-10 12:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e545df2ac7ce55d89ef0f075327aef3237e16941', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-oslo-incubator-modules'}, {'number': 20, 'created': '2014-11-18 23:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b93c7de1cdd75f6f37b36d905a846245c47b2c82', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-oslo-incubator-modules\n'}, {'number': 21, 'created': '2014-12-04 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fd2458b3cb0bea9bc7662b8b0a3055b98df7fe8a', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-oslo-incubator-modules\n'}, {'number': 22, 'created': '2014-12-09 18:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/942cb0a19902a736efd5ad78223738902ba5b93d', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-oslo-incubator-modules\n'}, {'number': 23, 'created': '2014-12-10 18:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/160750efbacd1607d0b8c3f1893bc7984e684872', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nI have rebased this change and made it dependent on the change in\nhttps://review.openstack.org/#/c/129292/\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-oslo-incubator-modules\n'}, {'number': 24, 'created': '2014-12-11 20:50:38.000000000', 'files': ['trove/tests/api/limits.py', 'trove/taskmanager/models.py', 'openstack-common.conf', 'trove/guestagent/common/timeutils.py', 'trove/common/utils.py', 'trove/limits/views.py', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0fec4bccdcaa0424351458542f39d5b8400432f9', 'message': 'Obsolete oslo-incubator modules - timeutils\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules.\n\nThis commit handles the timeutils module.\n\nThe change here is to remove it from openstack-common.conf and point\nall modules who used to use that at oslo.utils. This also involves a\nchange to requirements.txt.\n\nI have rebased this change and made it dependent on the change in\nhttps://review.openstack.org/#/c/129292/\n\nChange-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b\nPartial-Bug: #1380789\nblueprint: retire-unused-oslo-incubator-modules\n'}]",4,129294,0fec4bccdcaa0424351458542f39d5b8400432f9,139,23,24,9664,,,0,"Obsolete oslo-incubator modules - timeutils

This change is part of a multi-part change set to handle obsolete and
graduated oslo modules.

This commit handles the timeutils module.

The change here is to remove it from openstack-common.conf and point
all modules who used to use that at oslo.utils. This also involves a
change to requirements.txt.

I have rebased this change and made it dependent on the change in
https://review.openstack.org/#/c/129292/

Change-Id: I31176c0a78e734bfad3b40b2ec634ea8f362d81b
Partial-Bug: #1380789
blueprint: retire-unused-oslo-incubator-modules
",git fetch https://review.opendev.org/openstack/trove refs/changes/94/129294/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/api/limits.py', 'trove/guestagent/common/timeutils.py', 'trove/templates/cassandra/config.template', 'trove/openstack/common/jsonutils.py', 'trove/guestagent/datastore/cassandra/service.py', 'trove/common/utils.py', 'trove/openstack/common/loopingcall.py', 'trove/limits/views.py', 'trove/tests/unittests/taskmanager/test_models.py', 'requirements.txt', 'trove/openstack/common/timeutils.py', 'trove/taskmanager/models.py', 'openstack-common.conf', 'setup.cfg', 'trove/openstack/common/notifier/api.py']",15,f284fd6b56216bc8508f93b9fe77a5b383f4ee7b,bugs/bug-1380789-timeutils,from oslo.utils import timeutils,from trove.openstack.common import timeutils,21,239
openstack%2Fhacking~master~I30013e7ca982f2f0b8eb02ccefd705dbebfe2997,openstack/hacking,master,I30013e7ca982f2f0b8eb02ccefd705dbebfe2997,Enforce import group ordering,ABANDONED,2013-10-29 19:29:04.000000000,2014-12-16 22:38:08.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 1849}, {'_account_id': 1994}, {'_account_id': 2750}, {'_account_id': 2759}, {'_account_id': 6198}, {'_account_id': 6786}, {'_account_id': 6928}, {'_account_id': 7494}, {'_account_id': 9453}]","[{'number': 1, 'created': '2013-10-29 19:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/2358e7425338b3c338625aa4b9327b2ebeba61a6', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 2, 'created': '2013-11-20 17:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/482ca882b38de3546d4408d86c0a4a622d64b16c', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 3, 'created': '2013-11-20 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/1a4b4efa3f64e95bc72f5e13d43f8019ec567a7c', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 4, 'created': '2013-11-20 22:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/d5a093940e430300805b62fce54705cbd34a4f8c', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 5, 'created': '2013-12-03 16:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/40a89e99b80155f89d0029f57f0a2c9ff0923b7d', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 6, 'created': '2013-12-12 18:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/d24797c274a53cc98e810d93ed4a9892fc6705c5', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 7, 'created': '2013-12-13 16:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/efc02155056d05a88035b4563e0c3064b48bd82a', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 8, 'created': '2014-01-17 15:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/f2847d55170df62e3eb76f5591d56c3576cef357', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 9, 'created': '2014-11-18 17:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/efdcf32e90ff7d25cc3bae9e9888e23240ebb136', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nThis is particularly needed now that H307 has been relaxed to allow\nmixing of stdlib and third-party imports.  Without this check,\nincorrectly ordered import groups can trigger an H307 that is\nconfusing on its own.  Note that H307 can\'t be ""fixed"" to address\nthat because allowing modules to move from third-party to stdlib\nmakes it impossible to know whether H307 or H308 is the correct\nerror.  For (slightly contrived) example, importlib exists as\nboth a third-party lib and in the stdlib, depending on Python\nversion.  A file that looks like:\n\n  import importlib\n\n  import os\n\nis either wrong because of the blank line between the two (H307), or\nwrong because os should be first as part of the stdlib group, and\nimportlib should be second as part of the third-party group (H308).\nEither fix will satisfy both H307 and H308.\n\nCloses-Bug: 1392525\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}, {'number': 10, 'created': '2014-11-20 20:56:26.000000000', 'files': ['hacking/checks/imports.py', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/hacking/commit/d7bd262def76cc499217aa17b97f06e6d1aef724', 'message': 'Enforce import group ordering\n\nHacking guidelines state that import groups should be ordered such\nthat stdlib comes first, third-party next, and project last.  This\nrule (H308) enforces that.\n\nThis is particularly needed now that H307 has been relaxed to allow\nmixing of stdlib and third-party imports.  Without this check,\nincorrectly ordered import groups can trigger an H307 that is\nconfusing on its own.  Note that H307 can\'t be ""fixed"" to address\nthat because allowing modules to move from third-party to stdlib\nmakes it impossible to know whether H307 or H308 is the correct\nerror.  For (slightly contrived) example, importlib exists as\nboth a third-party lib and in the stdlib, depending on Python\nversion.  A file that looks like:\n\n  import importlib\n\n  import os\n\nis either wrong because of the blank line between the two (H307), or\nwrong because os should be first as part of the stdlib group, and\nimportlib should be second as part of the third-party group (H308).\nEither fix will satisfy both H307 and H308.\n\nCloses-Bug: 1392525\nChange-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997\n'}]",2,54403,d7bd262def76cc499217aa17b97f06e6d1aef724,51,11,10,6928,,,0,"Enforce import group ordering

Hacking guidelines state that import groups should be ordered such
that stdlib comes first, third-party next, and project last.  This
rule (H308) enforces that.

This is particularly needed now that H307 has been relaxed to allow
mixing of stdlib and third-party imports.  Without this check,
incorrectly ordered import groups can trigger an H307 that is
confusing on its own.  Note that H307 can't be ""fixed"" to address
that because allowing modules to move from third-party to stdlib
makes it impossible to know whether H307 or H308 is the correct
error.  For (slightly contrived) example, importlib exists as
both a third-party lib and in the stdlib, depending on Python
version.  A file that looks like:

  import importlib

  import os

is either wrong because of the blank line between the two (H307), or
wrong because os should be first as part of the stdlib group, and
importlib should be second as part of the third-party group (H308).
Either fix will satisfy both H307 and H308.

Closes-Bug: 1392525
Change-Id: I30013e7ca982f2f0b8eb02ccefd705dbebfe2997
",git fetch https://review.opendev.org/openstack/hacking refs/changes/03/54403/7 && git format-patch -1 --stdout FETCH_HEAD,"['hacking/core.py', 'setup.cfg']",2,2358e7425338b3c338625aa4b9327b2ebeba61a6,bug/1392525, H308 = hacking.core:hacking_import_groups_ordering,,43,0
openstack%2Fproject-config~master~I19fd12f80ea68babfd4ea0344c556308e2e21a05,openstack/project-config,master,I19fd12f80ea68babfd4ea0344c556308e2e21a05,Make prerelease and release pipelines match pep440,MERGED,2014-12-15 16:02:47.000000000,2014-12-16 22:36:12.000000000,2014-12-16 22:36:11.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1106}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 11610}]","[{'number': 1, 'created': '2014-12-15 16:02:47.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/78a84807fd7876fc2abaee23f8990911ace87ed8', 'message': 'Make prerelease and release pipelines match pep440\n\nOur old release and prerelease regexes matched versions that are not\ncompletely valid under pep440. Some that are not valid would be\nnormalized by setuptools to valid versions resulting in git tags that do\nnot match sdist python versions. Others are completely invalid and will\nresult in setuptools versions parse errors which in turn leads to odd\nsort order for versions.\n\nAvoid all of this oddness and require pep440 valid versions.\n\nChange-Id: I19fd12f80ea68babfd4ea0344c556308e2e21a05\n'}]",5,141831,78a84807fd7876fc2abaee23f8990911ace87ed8,15,9,1,4146,,,0,"Make prerelease and release pipelines match pep440

Our old release and prerelease regexes matched versions that are not
completely valid under pep440. Some that are not valid would be
normalized by setuptools to valid versions resulting in git tags that do
not match sdist python versions. Others are completely invalid and will
result in setuptools versions parse errors which in turn leads to odd
sort order for versions.

Avoid all of this oddness and require pep440 valid versions.

Change-Id: I19fd12f80ea68babfd4ea0344c556308e2e21a05
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/141831/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,78a84807fd7876fc2abaee23f8990911ace87ed8,pep440-prereleases, ref: ^refs/tags/[0-9]+(\.[0-9]+)*((a|b|c)[0-9]+)?$ ref: ^refs/tags/[0-9]+(\.[0-9]+)*$, ref: ^refs/tags/([0-9]+\.?)+(alpha|beta|candidate|rc|a|b|c|r|g)[0-9]*$ ref: ^refs/tags/([0-9]+\.)*[0-9]+$,2,2
openstack%2Fbarbican~master~Id420fd7d91bff518265da65b002d42f57c6f3914,openstack/barbican,master,Id420fd7d91bff518265da65b002d42f57c6f3914,Support containers without a name,MERGED,2014-12-16 18:40:17.000000000,2014-12-16 22:35:58.000000000,2014-12-16 22:35:58.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-12-16 18:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/11e55c88034694080b77d671e212169a1dec17b8', 'message': 'Support containers without a name\n\nIn the documentation we state that we actually support creating\ncontainers without specifying a name, but this was not the case in\npractice. This CR fixes that.\n\nChange-Id: Id420fd7d91bff518265da65b002d42f57c6f3914\nCloses-bug: #141974\n'}, {'number': 2, 'created': '2014-12-16 18:41:18.000000000', 'files': ['barbican/common/validators.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f4b929e94db4179ca0feaf36f4debcecdc66f0f5', 'message': 'Support containers without a name\n\nIn the documentation we state that we actually support creating\ncontainers without specifying a name, but this was not the case in\npractice. This CR fixes that.\n\nChange-Id: Id420fd7d91bff518265da65b002d42f57c6f3914\nCloses-bug: #1354767\n'}]",0,142181,f4b929e94db4179ca0feaf36f4debcecdc66f0f5,10,13,2,10873,,,0,"Support containers without a name

In the documentation we state that we actually support creating
containers without specifying a name, but this was not the case in
practice. This CR fixes that.

Change-Id: Id420fd7d91bff518265da65b002d42f57c6f3914
Closes-bug: #1354767
",git fetch https://review.opendev.org/openstack/barbican refs/changes/81/142181/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/validators.py', 'barbican/tests/api/test_resources.py']",2,11e55c88034694080b77d671e212169a1dec17b8,bug/1354767," def _assert_returned_valid_container(self, resp): self.assertEqual(resp.status_int, 201) self.assertNotIn(self.project_keystone_id, resp.headers['Location']) args, kwargs = self.container_repo.create_from.call_args container = args[0] self.assertIsInstance(container, models.Container) def test_should_create_container_w_empty_name(self): # Name key missing container_req_w_no_name = {'type': self.type, 'secret_refs': self.secret_refs} resp = self.app.post_json( '/containers/', container_req_w_no_name ) self._assert_returned_valid_container(resp) # Name key is null container_req_w_null_name = {'name': None, 'type': self.type, 'secret_refs': self.secret_refs} resp = self.app.post_json( '/containers/', container_req_w_null_name ) self._assert_returned_valid_container(resp) ",,31,1
openstack%2Fnova-specs~master~I9af4fafd5821b657a11b1d02bf8f1e846852b563,openstack/nova-specs,master,I9af4fafd5821b657a11b1d02bf8f1e846852b563,Adds lock-free-quota-management spec,MERGED,2014-11-18 14:18:13.000000000,2014-12-16 22:34:10.000000000,2014-12-16 22:34:08.000000000,"[{'_account_id': 3}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4573}, {'_account_id': 6849}, {'_account_id': 7730}, {'_account_id': 11816}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-11-18 14:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e4e931bff1d505f7c1fa7c289920f4e72784c523', 'message': ""Adds lock-free-quota-management spec\n\nThis was proposed and considered last cycle but failed to get approval\nin time for the spec freeze. We're still very much interested in working\non this effort, however, and based on my research with Peter Boros from\nPercona, the quota management database layer in Nova is the number one\nbottleneck and cause for database-layer scalability issues. This spec\noutlines one strategy to avoid the use of our retry_on_deadlock\ncurrent behaviour and hopefully get us towards a more concurrent method\nof doing quota reservations.\n\nChange-Id: I9af4fafd5821b657a11b1d02bf8f1e846852b563\nBlueprint: lock-free-quota-management\n""}, {'number': 2, 'created': '2014-11-21 21:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/da9609b626465014a0adff6fbdda5551b9e55999', 'message': ""Adds lock-free-quota-management spec\n\nThis was proposed and considered last cycle but failed to get approval\nin time for the spec freeze. We're still very much interested in working\non this effort, however, and based on my research with Peter Boros from\nPercona, the quota management database layer in Nova is the number one\nbottleneck and cause for database-layer scalability issues. This spec\noutlines one strategy to avoid the use of our retry_on_deadlock\ncurrent behaviour and hopefully get us towards a more concurrent method\nof doing quota reservations.\n\nChange-Id: I9af4fafd5821b657a11b1d02bf8f1e846852b563\nBlueprint: lock-free-quota-management\n""}, {'number': 3, 'created': '2014-12-12 23:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/12fbfe8831c9dfb8bf11fe97e136396904514b1a', 'message': ""Adds lock-free-quota-management spec\n\nThis was proposed and considered last cycle but failed to get approval\nin time for the spec freeze. We're still very much interested in working\non this effort, however, and based on my research with Peter Boros from\nPercona, the quota management database layer in Nova is the number one\nbottleneck and cause for database-layer scalability issues. This spec\noutlines one strategy to avoid the use of our retry_on_deadlock\ncurrent behaviour and hopefully get us towards a more concurrent method\nof doing quota reservations.\n\nChange-Id: I9af4fafd5821b657a11b1d02bf8f1e846852b563\nBlueprint: lock-free-quota-management\n""}, {'number': 4, 'created': '2014-12-16 22:19:46.000000000', 'files': ['specs/kilo/approved/lock-free-quota-management.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/074106210ec1bee9c6be08d748c16c81f31be361', 'message': ""Adds lock-free-quota-management spec\n\nThis was proposed and considered last cycle but failed to get approval\nin time for the spec freeze. We're still very much interested in working\non this effort, however, and based on my research with Peter Boros from\nPercona, the quota management database layer in Nova is the number one\nbottleneck and cause for database-layer scalability issues. This spec\noutlines one strategy to avoid the use of our retry_on_deadlock\ncurrent behaviour and hopefully get us towards a more concurrent method\nof doing quota reservations.\n\nChange-Id: I9af4fafd5821b657a11b1d02bf8f1e846852b563\nBlueprint: lock-free-quota-management\n""}]",7,135296,074106210ec1bee9c6be08d748c16c81f31be361,31,11,4,7,,,0,"Adds lock-free-quota-management spec

This was proposed and considered last cycle but failed to get approval
in time for the spec freeze. We're still very much interested in working
on this effort, however, and based on my research with Peter Boros from
Percona, the quota management database layer in Nova is the number one
bottleneck and cause for database-layer scalability issues. This spec
outlines one strategy to avoid the use of our retry_on_deadlock
current behaviour and hopefully get us towards a more concurrent method
of doing quota reservations.

Change-Id: I9af4fafd5821b657a11b1d02bf8f1e846852b563
Blueprint: lock-free-quota-management
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/96/135296/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/lock-free-quota-management.rst'],1,e4e931bff1d505f7c1fa7c289920f4e72784c523,bp/lock-free-quota-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ A lock-free quota implementation ================================ https://blueprints.launchpad.net/nova/+spec/lock-free-quota-management Implement a lock-free quota management algorithm that removes the use of the SELECT FOR UPDATE in the database API. Problem description =================== When launching a single instance in Nova, more than 120 database queries may be made against the Nova, Neutron, Glance and/or Cinder databases. Of these queries, a significant portion of them involve quota management tasks -- checking for existing quotas, checking for existing project and user usage records, claiming the resources used in a reservation, and either committing or rolling back those reservations once the launch sequence succeeds or fails. The `SELECT FOR UPDATE` SQL construct is used in Nova in a couple places, to ensure that no two concurrent threads attempt to update the same rows in the database. When a thread selects records with `SELECT FOR UPDATE`, the thread is announcing that it intends to modify the records it is reading from the table -- this is called a write-intent lock. If another thread wants to update the same set of records, it will issue a `SELECT FOR UPDATE` call, and this call will wait until the first thread has completed the transaction and either issued a `COMMIT` or a `ROLLBACK`. In the case of traditional RDBMS systems like PostgreSQL or MySQL, calls to `SELECT FOR UPDATE` are, by nature, a detriment to scalability, since only a single thread may hold the write-intent lock on the same rows in the table at any given time. All other threads must wait while the single writer thread finishes what it is doing. In the case of Nova, the use of `SELECT FOR UPDATE` is predominantly in two areas: quota management and assignment of free IP addresses in nova-network's IPAM layer. In addition to `SELECT FOR UPDATE`'s inherent scalability issues, a popular replication variant of MySQL, called MySQL Galera, does not support the write-intent locks that `SELECT FOR UPDATE` requires. What this means, in practice, for deployers of Nova with MySQL Galera, is that occasionally the MySQL client will return a deadlock error when two threads simultaneously attempt to change the same set of rows. A deadlock in the traditional sense of the term does not actually occur, but Galera raises the error code for an InnoDB lock wait timeout (deadlock has occurred) when something called a certification failure happens. A certification failure happens when two threads writing to two different nodes in a Galera cluster attempt to `UPDATE` the same set of rows in the same table during the same time interval. Instead of causing MySQL to contain inconsistent data (two nodes having a different idea of the underlying data), Galera simply causes both threads to fail and thus issue a `ROLLBACK` of the containing transaction. This is different behavior from standard MySQL, in which a similar situation would cause just one of the threads to `ROLLBACK` after receiving a lock wait timeout error, and the other thread's `UPDATE` would succeed. The reason that this ""deadlock"" is not actually a deadlock in the Galera case is that the entire process happens without any actual waits or timeout loops. Each conflicting thread is simply sent an error and that thread issues a `ROLLBACK` of the current SQL transaction. Since MySQL Galera is, by far, the most popular high-availability database deployment option currently in the operator ecosystem, some changes are required in the quota management code to replace the use of `SELECT FOR UPDATE` with a lock-free implementation that suffers neither scalability problems nor the Galera-specific quasi-deadlock problems. Use Cases --------- A deployer typically uses a system like Tempest or Rally to provide an ""acceptance test"" of their OpenStack deployment. Both of these systems stress the Nova system by attempting to spawn and take actions against many instances, using many users and projects. Both of these tests realiably produce error scenarios where from the Nova log files, the deployer can see that a deadlock retry mechanism is being used to handle failure of the MySQL Galera cluster to certify quota usage update records. This deadlock retry mechanism is heavy-handed and clearly affects the performance and scalability of Nova. The deployer wants to see the Nova logs free of retry messages, and would like to see improved throughput of the system as a whole. Project Priority ---------------- TODO Proposed change =============== The proposed solution is to borrow a page from obstruction-free and lock-free algorithm design and use a ""compare and swap"" method that allows the thread that intends to change the quota usage records for a user or project to issue a standard `SELECT` statement for those records, and when that thread goes to update those records, it first checks that the state of records is what the thread previously knew to exist. The `UPDATE` statement will include a `WHERE` condition that will ensure that the rows are *only* updated in the table IFF the current row values are what the thread thought they were when previously reading the rows with the `SELECT` statement. The thread will check the number of rows affected by the `UPDATE` statement. If the number of rows affected is 0, then a randomized exponential backoff loop will be hit and the process of reading and then `UPDATE` ing with the `WHERE` condition will repeat until a pre-defined number of tries has been attempted. This algoritm is lock-free, in that no record locks of any kind are taken at any point in the quota management transactions. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ We will work with the Rally developer team to identify some pre and post benchmarks that should demonstrate better concurrency with this lock-free implementation under both MySQL and PostgreSQL deployments. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== We will implement the lock-free algorithm entirely in the quota_reserve(), quota_rollback() and quota_commit() DB API methods. The use of `with_lockmode('update')` shall be removed from the query object construction in the `_get_project_user_quota_usages()` method in `nova.db.sqlalchemy.api`. Within `quota_reserve()`, `quota_commit()` and `quota_rollback()`, we will change the algorithm from this *simplified* pseudo-code for `quota_reserve()`: .. code:: start_transaction: usage_records = get_and_lock_usage_records() reservations = [] for resource, amount in requested_resource_changes: reservation = reservation_record_create(resource, amount) reservations.append(reservation) commit_transaction return reservations to this: .. code:: current_usage_records = get_usage_records() for resource, amount in requested_resource_changes: while num_attempts < max_attempts: if usage_records_update(resource, amount, current_usage_records): break num_attempts++ current_usage_records = get_usage_records() return requested_resource_changes where the `usage_records_update()` method would look like this, again, in pseudo-code: .. code:: def usage_records_update(resource, amount, current_records): sql = ""UPDATE quota_usage SET used = used + amount WHERE resource = $resource AND used = $current_records.used"" execute_sql() return num_affected_rows() > 0 It's important to note that the implementation above proposes to remove the transactional container around the retrieval and update of quota usage records. This is due to the need to have each `UPDATE` SQL statement occur within its own transactional container. Otherwise, the semantics of the `REPEATABLE_READ` isolation level would mean the transaction would not see any changes from other transactions. Assignee(s) ----------- Primary assignees: AlexFrolov <afrolov@mirantis.com> pkholkin <pkholkin@mirantis.com> Work Items ---------- TODO Dependencies ============ None Testing ======= We should add a test that checks for occurrences of retry on deadlock in the Nova logs, and verify that after this fix, we do not see any more occurrences. Documentation Impact ==================== None References ========== None ",,238,0
openstack%2Fcongress~master~I53eda36e17a930c1a12be86498c017b6a0059a04,openstack/congress,master,I53eda36e17a930c1a12be86498c017b6a0059a04,Enable: E251 unexpected spaces around keyword / parameter equals,MERGED,2014-12-06 14:16:54.000000000,2014-12-16 22:33:18.000000000,2014-12-16 22:25:20.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-06 14:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/eb6c6c50f98612d6534493e6159e133e1ab75d3c', 'message': 'Enable: E251 unexpected spaces around keyword / parameter equals\n\nChange-Id: I53eda36e17a930c1a12be86498c017b6a0059a04\nCloses-Bug: 1398543\n'}, {'number': 2, 'created': '2014-12-06 14:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/73692c3d0c15952e1a62f72448484e6e10fddd93', 'message': 'Enable: E251 unexpected spaces around keyword / parameter equals\n\nChange-Id: I53eda36e17a930c1a12be86498c017b6a0059a04\nCloses-Bug: 1398543\n'}, {'number': 3, 'created': '2014-12-16 21:55:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/5ba1af56997d59ba209af24f6da8cc4b1650b0d5', 'message': 'Enable: E251 unexpected spaces around keyword / parameter equals\n\nChange-Id: I53eda36e17a930c1a12be86498c017b6a0059a04\nCloses-Bug: 1398543\n'}]",0,139801,5ba1af56997d59ba209af24f6da8cc4b1650b0d5,13,4,3,12256,,,0,"Enable: E251 unexpected spaces around keyword / parameter equals

Change-Id: I53eda36e17a930c1a12be86498c017b6a0059a04
Closes-Bug: 1398543
",git fetch https://review.opendev.org/openstack/congress refs/changes/01/139801/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb6c6c50f98612d6534493e6159e133e1ab75d3c,bug/1398543,"ignore = E128,E129,F402,F811,F812,H237,H305,H401,H404,H405,H904,H231,E122,H302","ignore = E128,E129,E251,F402,F811,F812,H237,H305,H401,H404,H405,H904,H231,E122,H302",1,1
openstack%2Fpython-novaclient~master~I635e017c7f9ab61812333983bfecccd6fce8d394,openstack/python-novaclient,master,I635e017c7f9ab61812333983bfecccd6fce8d394,novaclient sort parameters support,MERGED,2014-08-28 18:59:29.000000000,2014-12-16 22:27:37.000000000,2014-12-16 22:27:36.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5292}, {'_account_id': 9420}, {'_account_id': 10559}]","[{'number': 1, 'created': '2014-08-28 18:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0376396b5e2b598c4439e871b295ea3cbd4ebc1e', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-keys is a comma separated list of sort keys\n--sort-dirs is a comma separated list of sort directions\n\nThis change set will be a WIP until the change set that honors\nthese sort parameters is merged.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 2, 'created': '2014-08-29 15:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/82537bfc9e97b6cd329ca7203da345a16e1ac731', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multipe times)\n--sort-dir defines a sort direction (can be supplied multipe times)\n\nThis change set will be a WIP until the change set that honors\nthese sort parameters is merged.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 3, 'created': '2014-09-01 04:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c2e37838ab7296b74d4645eebf89a38a6b82fcbd', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multiple times)\n--sort-dir defines a sort direction (can be supplied multiple times)\n\nThis change set will be a WIP until the change set that honors\nthese sort parameters is merged.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 4, 'created': '2014-09-02 21:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7bd6d049d83baecbed7797b802506f4891e60917', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multiple times)\n--sort-dir defines a sort direction (can be supplied multiple times)\n\nThis change set will be a WIP until the change set that honors\nthese sort parameters is merged.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 5, 'created': '2014-09-03 13:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2e5f156bfb6d1b77e69d9e204521eaa206b20c59', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multiple times)\n--sort-dir defines a sort direction (can be supplied multiple times)\n\nThis change set will be a WIP until the change set that honors\nthese sort parameters is merged.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 6, 'created': '2014-12-08 20:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c1d6f084500c3e4ef72fa52d558055f53d50dacc', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multiple times)\n--sort-dir defines a sort direction (can be supplied multiple times)\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 7, 'created': '2014-12-11 15:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b724cba00421d4daf79e79296e7b33b46f4df327', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multiple times)\n--sort-dir defines a sort direction (can be supplied multiple times)\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 8, 'created': '2014-12-11 17:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c4a56f11ad8463d5d1500e8df80e18bac613ce07', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort-key defines a sort key (can be supplied multiple times)\n--sort-dir defines a sort direction (can be supplied multiple times)\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 9, 'created': '2014-12-15 18:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/dd8709820d7d05cc42ee5d42ba5362496c285f5a', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort <key|direction>\n\nThe --sort parameter is comma-separated and is used to specify\none or more sort keys and directions. The direction defaults to\n'desc' for each sort key and the user can supply 'asc' to\noverride.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}, {'number': 10, 'created': '2014-12-16 18:40:12.000000000', 'files': ['novaclient/v1_1/servers.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py', 'novaclient/tests/v1_1/test_servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4b530bf9d629a93324af63da1fc4afe997c4e9b6', 'message': ""novaclient sort parameters support\n\nAdds sorting support to the 'nova list' command.\n\n--sort <key>[:<direction>]\n\nThe --sort parameter is comma-separated and is used to specify\none or more sort keys and directions. The direction defaults to\n'desc' for each sort key and the user can supply 'asc' to\noverride.\n\nPartially implements: blueprint nova-pagination\n\nChange-Id: I635e017c7f9ab61812333983bfecccd6fce8d394\n""}]",52,117591,4b530bf9d629a93324af63da1fc4afe997c4e9b6,67,8,10,10559,,,0,"novaclient sort parameters support

Adds sorting support to the 'nova list' command.

--sort <key>[:<direction>]

The --sort parameter is comma-separated and is used to specify
one or more sort keys and directions. The direction defaults to
'desc' for each sort key and the user can supply 'asc' to
override.

Partially implements: blueprint nova-pagination

Change-Id: I635e017c7f9ab61812333983bfecccd6fce8d394
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/91/117591/8 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/servers.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py']",3,0376396b5e2b598c4439e871b295ea3cbd4ebc1e,bp/nova-pagination,"@utils.arg('--sort-keys', dest='sort_keys', metavar='<sort_keys>', default=None, help='Comma-separated list sort keys.') @utils.arg('--sort-dirs', dest='sort_dirs', metavar='<sort_dirs>', default=None, help='Comma-separated list sort directions.') sort_keys = [] if args.sort_keys: for key in args.sort_keys.split(','): sort_keys.append(key) sort_dirs = [] if args.sort_dirs: for dir in args.sort_dirs.split(','): sort_dirs.append(dir) search_opts=search_opts, sort_keys=sort_keys, sort_dirs=sort_dirs) sortby_index = 1 if sort_keys or sort_dirs: sortby_index = None formatters, sortby_index=sortby_index)"," search_opts=search_opts) formatters, sortby_index=1)",54,4
openstack%2Fpython-magnumclient~master~I90a97f18e46c3b85935674ba615e2a9df86edec3,openstack/python-magnumclient,master,I90a97f18e46c3b85935674ba615e2a9df86edec3,Implement baymodel in client,MERGED,2014-12-15 19:59:26.000000000,2014-12-16 22:25:29.000000000,2014-12-16 22:25:29.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 5638}, {'_account_id': 12385}]","[{'number': 1, 'created': '2014-12-15 19:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/565515e5cac15d6cdd50ad64a3834435f73d6a60', 'message': 'Implement baymodel in client\n\nThe baymodel object stores template information about the bay used\nto create new bays consistently.  Properties stored in the baymodel are\nthe image with which to launch the bay, the network ID to attach the bay\nto after creation, the flavor the bay should be launched with, etc.\n\nChange-Id: I90a97f18e46c3b85935674ba615e2a9df86edec3\n'}, {'number': 2, 'created': '2014-12-15 20:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a0fd5c476bacc0e6d660791730042715edb2fa58', 'message': 'Implement baymodel in client\n\nThe baymodel object stores template information about the bay used\nto create new bays consistently.  Properties stored in the baymodel are\nthe image with which to launch the bay, the network ID to attach the bay\nto after creation, the flavor the bay should be launched with, etc.\n\nChange-Id: I90a97f18e46c3b85935674ba615e2a9df86edec3\n'}, {'number': 3, 'created': '2014-12-16 20:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/b24a6f605a45f10c6b9170b959f912bdce782f4c', 'message': 'Implement baymodel in client\n\nThe baymodel object stores template information about the bay used\nto create new bays consistently.  Properties stored in the baymodel are\nthe image with which to launch the bay, the network ID to attach the bay\nto after creation, the flavor the bay should be launched with, etc.\n\nChange-Id: I90a97f18e46c3b85935674ba615e2a9df86edec3\n'}, {'number': 4, 'created': '2014-12-16 21:24:30.000000000', 'files': ['magnumclient/api/shell.py', 'magnumclient/api/client.py', 'magnumclient/api/baymodels.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/b2e0d3b73a6dfc6ba9bcf66413ce1f36f52b156b', 'message': 'Implement baymodel in client\n\nThe baymodel object stores template information about the bay used\nto create new bays consistently.  Properties stored in the baymodel are\nthe image with which to launch the bay, the network ID to attach the bay\nto after creation, the flavor the bay should be launched with, etc.\n\nChange-Id: I90a97f18e46c3b85935674ba615e2a9df86edec3\n'}]",0,141890,b2e0d3b73a6dfc6ba9bcf66413ce1f36f52b156b,14,4,4,2834,,,0,"Implement baymodel in client

The baymodel object stores template information about the bay used
to create new bays consistently.  Properties stored in the baymodel are
the image with which to launch the bay, the network ID to attach the bay
to after creation, the flavor the bay should be launched with, etc.

Change-Id: I90a97f18e46c3b85935674ba615e2a9df86edec3
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/90/141890/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/api/shell.py', 'magnumclient/api/client.py']",2,565515e5cac15d6cdd50ad64a3834435f73d6a60,,from magnumclient.api import baymodels self.baymodels = baymodels.BayModelManager(self.http_client),,54,0
openstack%2Frally~master~I32fb1c13e20a61476958eabfca7897caa59dccab,openstack/rally,master,I32fb1c13e20a61476958eabfca7897caa59dccab,Fix html rendering on failed functional tests,MERGED,2014-11-18 12:46:33.000000000,2014-12-16 22:18:07.000000000,2014-12-16 22:18:07.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 9545}, {'_account_id': 14135}]","[{'number': 1, 'created': '2014-11-18 12:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/11287702909eeac7a20cdd1bb06f9e060de1a2c8', 'message': 'Fix html rendering on failed functional tests\n\nRemove -e option from shebang\n\nChange-Id: I32fb1c13e20a61476958eabfca7897caa59dccab\n'}, {'number': 2, 'created': '2014-11-19 09:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c2795513a9290ee034fd43053bd24b062ae09c08', 'message': 'Fix html rendering on failed functional tests\n\nRemove -e option from shebang\n\nChange-Id: I32fb1c13e20a61476958eabfca7897caa59dccab\n'}, {'number': 3, 'created': '2014-11-25 12:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/55b3a39167b4f68a9e63fd3f41f25425a67113cc', 'message': 'Fix html rendering on failed functional tests\n\nRemove -e option from shebang\n\nChange-Id: I32fb1c13e20a61476958eabfca7897caa59dccab\n'}, {'number': 4, 'created': '2014-12-16 15:23:13.000000000', 'files': ['tests/ci/rally-integrated.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/e12ccc7d0962f2789f7c2b57e5fa6757d39628ea', 'message': 'Fix html rendering on failed functional tests\n\nRemove -e option from shebang\n\nChange-Id: I32fb1c13e20a61476958eabfca7897caa59dccab\n'}]",2,135274,e12ccc7d0962f2789f7c2b57e5fa6757d39628ea,33,5,4,7369,,,0,"Fix html rendering on failed functional tests

Remove -e option from shebang

Change-Id: I32fb1c13e20a61476958eabfca7897caa59dccab
",git fetch https://review.opendev.org/openstack/rally refs/changes/74/135274/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/rally-integrated.sh'],1,11287702909eeac7a20cdd1bb06f9e060de1a2c8,fail_test_2,#!/bin/bash -x,#!/bin/sh -ex,1,1
openstack%2Foslo.messaging~master~I5d7dc8a6df72b910d67bbcdddd5256b6ad6ec73a,openstack/oslo.messaging,master,I5d7dc8a6df72b910d67bbcdddd5256b6ad6ec73a,Don't allow call with fanout target,MERGED,2014-12-03 11:19:33.000000000,2014-12-16 22:12:13.000000000,2014-12-16 22:12:11.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8415}]","[{'number': 1, 'created': '2014-12-03 11:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3c254f480eaf160c583b1307e0dd9801bc8e6e65', 'message': ""Don't allow call with fanout target\n\nUsing call with a fanout target is an oddity.\n\nThis change removes that.\n\nCloses bug: #1336759\n\nChange-Id: I5d7dc8a6df72b910d67bbcdddd5256b6ad6ec73a\n""}, {'number': 2, 'created': '2014-12-03 14:41:36.000000000', 'files': ['oslo/messaging/rpc/client.py', 'tests/rpc/test_client.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/09cd9c0fd3413b541bfc375a4bf009ac473fcef8', 'message': ""Don't allow call with fanout target\n\nUsing call with a fanout target is an oddity.\n\nThis change removes that.\n\nCloses bug: #1336759\n\nChange-Id: I5d7dc8a6df72b910d67bbcdddd5256b6ad6ec73a\n""}]",0,138684,09cd9c0fd3413b541bfc375a4bf009ac473fcef8,10,5,2,2813,,,0,"Don't allow call with fanout target

Using call with a fanout target is an oddity.

This change removes that.

Closes bug: #1336759

Change-Id: I5d7dc8a6df72b910d67bbcdddd5256b6ad6ec73a
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/84/138684/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo/messaging/rpc/client.py', 'tests/rpc/test_client.py']",2,3c254f480eaf160c583b1307e0dd9801bc8e6e65,bug/1336759,"from oslo.messaging import exceptionsclass TestCallFanout(test_utils.BaseTestCase): scenarios = [ ('target', dict(prepare=_notset, target={'fanout': True})), ('prepare', dict(prepare={'fanout': True}, target={})), ('both', dict(prepare={'fanout': True}, target={'fanout': True})), ] def test_call_fanout(self): transport = _FakeTransport(self.conf) client = messaging.RPCClient(transport, messaging.Target(**self.target)) if self.prepare is not _notset: client = client.prepare(**self.prepare) self.assertRaises(exceptions.InvalidTarget, client.call, {}, 'foo') ",,25,0
openstack%2Fopenstack-manuals~master~I4eaad763dda7cfa0c8a464b1904322d49f5177da,openstack/openstack-manuals,master,I4eaad763dda7cfa0c8a464b1904322d49f5177da,Fix wrong docs about Cinder notifications,MERGED,2014-12-16 12:14:39.000000000,2014-12-16 22:12:05.000000000,2014-12-16 22:12:04.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 7729}, {'_account_id': 9562}]","[{'number': 1, 'created': '2014-12-16 12:14:39.000000000', 'files': ['doc/admin-guide-cloud/telemetry/section_telemetry-data-collection.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2e12457fd58659629922d8e653af88e2ee66e4b4', 'message': 'Fix wrong docs about Cinder notifications\n\nChange-Id: I4eaad763dda7cfa0c8a464b1904322d49f5177da\n'}]",0,142085,2e12457fd58659629922d8e653af88e2ee66e4b4,9,6,1,13273,,,0,"Fix wrong docs about Cinder notifications

Change-Id: I4eaad763dda7cfa0c8a464b1904322d49f5177da
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/85/142085/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/telemetry/section_telemetry-data-collection.xml'],1,2e12457fd58659629922d8e653af88e2ee66e4b4,fix_docs, <para>volume.update.*</para> <para>volume.attach.*</para> <para>volume.detach.*</para> <para>snapshot.update.*</para></td>, <para>snapshot.resize.*</para></td>,4,1
openstack%2Fswift~master~I5b86f25b42ffa6d4f9626dc6eb207ae0425933a8,openstack/swift,master,I5b86f25b42ffa6d4f9626dc6eb207ae0425933a8,Splice: Use `operator.or_` instead of a lambda-expression,MERGED,2014-11-26 09:05:08.000000000,2014-12-16 22:11:23.000000000,2014-12-16 22:11:22.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7479}, {'_account_id': 13052}, {'_account_id': 13777}]","[{'number': 1, 'created': '2014-11-26 09:05:08.000000000', 'files': ['swift/common/splice.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b0f9575be3a2ee0ecdcc5148606391e7cc042b5a', 'message': 'Splice: Use `operator.or_` instead of a lambda-expression\n\nSuggested by Samuel Merritt in https://review.openstack.org/#/c/135319/\n\nChange-Id: I5b86f25b42ffa6d4f9626dc6eb207ae0425933a8\n'}]",0,137307,b0f9575be3a2ee0ecdcc5148606391e7cc042b5a,17,6,1,13777,,,0,"Splice: Use `operator.or_` instead of a lambda-expression

Suggested by Samuel Merritt in https://review.openstack.org/#/c/135319/

Change-Id: I5b86f25b42ffa6d4f9626dc6eb207ae0425933a8
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/137307/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/splice.py'],1,b0f9575be3a2ee0ecdcc5148606391e7cc042b5a,cleanup-splice,"import operator c_flags = reduce(operator.or_, flags, 0) c_flags = reduce(operator.or_, flags, 0)"," c_flags = reduce(lambda a, b: a | b, flags, 0) c_flags = reduce(lambda a, b: a | b, flags, 0)",4,2
openstack%2Ftempest-lib~master~I7d73b83a6bead795352c208d6241aebfbbfb2cf3,openstack/tempest-lib,master,I7d73b83a6bead795352c208d6241aebfbbfb2cf3,Updated from global requirements,MERGED,2014-10-10 20:44:37.000000000,2014-12-16 22:11:08.000000000,2014-12-16 22:11:08.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-10-10 20:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/07d80bc41b1ccd23b51b6fc2e49a7f7b3fac8f47', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 2, 'created': '2014-10-11 15:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/9ae174d2749c1354229fe728243aef746998cfb9', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 3, 'created': '2014-10-30 22:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/18eaa31fdc0f7bd55b3be4e4d79e562c394b9435', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 4, 'created': '2014-11-05 08:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/60b5b78afbf2fe92b4cc765df7d42aceeda37613', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 5, 'created': '2014-11-16 15:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/e26a0943dc5b9d247daf06c8cb9a88f41cc63cb2', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 6, 'created': '2014-11-18 11:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/8eb2a6d839966aec26f0fdc72a92cf7afef293dd', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 7, 'created': '2014-11-20 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/fcdfd13d7c9aa0266ae933419e5d62e6ddb011f0', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 8, 'created': '2014-12-03 21:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/456325eaf8de02d39b462cef7e877220225cc9ed', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 9, 'created': '2014-12-05 16:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/9d45837c3940101c76e9262d6fbd7592b76dcb40', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 10, 'created': '2014-12-09 14:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/bb9a560375589d97dcecfcdfa38126136d0ff973', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}, {'number': 11, 'created': '2014-12-12 22:22:14.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/35cdd7f940ba1939de1da1c44f78b7e283f6a6da', 'message': 'Updated from global requirements\n\nChange-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3\n'}]",0,127649,35cdd7f940ba1939de1da1c44f78b7e283f6a6da,27,3,11,11131,,,0,"Updated from global requirements

Change-Id: I7d73b83a6bead795352c208d6241aebfbbfb2cf3
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/49/127649/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,07d80bc41b1ccd23b51b6fc2e49a7f7b3fac8f47,openstack/requirements,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",,19,5
openstack%2Fopenstack-manuals~master~Ica099806253b503aef4003306c8b447a98a03537,openstack/openstack-manuals,master,Ica099806253b503aef4003306c8b447a98a03537,Update CLI reference for python-neutronclient 2.3.10,MERGED,2014-12-16 19:52:29.000000000,2014-12-16 22:08:56.000000000,2014-12-16 22:08:54.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-12-16 19:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bcc02bf94662ec33bf8466fa84bd3ef3d1113670', 'message': 'Update CLI reference for neutron\n\nChange-Id: Ica099806253b503aef4003306c8b447a98a03537\n'}, {'number': 2, 'created': '2014-12-16 19:54:48.000000000', 'files': ['doc/cli-reference/generated/ch_cli_neutron_commands.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a1a1deb67bc40954911ba3e83250b048c81ef79f', 'message': 'Update CLI reference for python-neutronclient 2.3.10\n\nChange-Id: Ica099806253b503aef4003306c8b447a98a03537\n'}]",0,142206,a1a1deb67bc40954911ba3e83250b048c81ef79f,8,3,2,167,,,0,"Update CLI reference for python-neutronclient 2.3.10

Change-Id: Ica099806253b503aef4003306c8b447a98a03537
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/06/142206/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/cli-reference/generated/ch_cli_neutron_commands.xml'],1,bcc02bf94662ec33bf8466fa84bd3ef3d1113670,update_client_neutron," <literal>2.3.10</literal>. Updates the admin status and description for a specified agent. Create a health monitor. Delete a given health monitor. List health monitors that belong to a given tenant. Show information of a given health monitor. Update a given health monitor. List IPsec policies that belong to a given tenant connection. [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] <screen><computeroutput>usage: neutron agent-update [-h] [--request-format {json,xml}] [--admin-state-down] [--description DESCRIPTION] AGENT</computeroutput></screen>Updates the admin status and description for a specified agent. <varlistentry> <term><command>--admin-state-down</command></term> <listitem> <para> Set admin state up of the agent to false. </para> </listitem> </varlistentry> <varlistentry> <term><command>--description DESCRIPTION</command></term> <listitem> <para> Description for the agent. </para> </listitem> </varlistentry> [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--prefix PREFIX]Create a health monitor.Delete a given health monitor. ID of health_monitor to delete.List health monitors that belong to a given tenant. [--max-width &lt;integer&gt;] [--prefix PREFIX]Show information of a given health monitor. ID of health_monitor to look up.Update a given health monitor. [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] ID of member to look up. [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [--ip-version {4,6}] <term><command>--ip-version {4,6} IP</command></term> <listitem> <para> version to use, default is 4. </para> </listitem> </varlistentry> <varlistentry> [--max-width &lt;integer&gt;] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--prefix PREFIX]List IPsec policies that belong to a given tenant connection. [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--prefix PREFIX]"," <literal>2.3.9</literal>. Update a given agent. Create a healthmonitor. Delete a given healthmonitor. List healthmonitors that belong to a given tenant. Show information of a given healthmonitor. Update a given healthmonitor. List ipsecpolicies that belongs to a given tenant connection. [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] <screen><computeroutput>usage: neutron agent-update [-h] [--request-format {json,xml}] AGENT</computeroutput></screen>Update a given agent. [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--variable VARIABLE] [--variable VARIABLE] [--variable VARIABLE] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--variable VARIABLE] [--variable VARIABLE] [--variable VARIABLE] [--prefix PREFIX]Create a healthmonitor.Delete a given healthmonitor. ID or name of health_monitor to delete.List healthmonitors that belong to a given tenant. [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX]Show information of a given healthmonitor. ID or name of health_monitor to look up.Update a given healthmonitor. [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] ID or name of member to look up. [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--variable VARIABLE] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--variable VARIABLE] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--variable VARIABLE] [--variable VARIABLE] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [--ip-version {4,6}] <varlistentry> <term><command>--ip-version {4,6} IP</command></term> <listitem> <para> version to use, default is 4. </para> </listitem> </varlistentry> [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--request-format {json,xml}] [-D] [-F FIELD] [--ipv6-ra-mode {dhcpv6-stateful,dhcpv6-stateless,slaac}] [--ipv6-address-mode {dhcpv6-stateful,dhcpv6-stateless,slaac}] <varlistentry> <term><command>--ipv6-ra-mode {dhcpv6-stateful,dhcpv6-stateless,slaac}</command></term> <listitem> <para> IPv6 RA (Router Advertisement) mode. </para> </listitem> </varlistentry> <varlistentry> <term><command>--ipv6-address-mode {dhcpv6-stateful,dhcpv6-stateless,slaac}</command></term> <listitem> <para> IPv6 address mode. </para> </listitem> </varlistentry> [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--variable VARIABLE] [--prefix PREFIX]List ipsecpolicies that belongs to a given tenant connection. [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX] [--max-width &lt;integer&gt;] [--variable VARIABLE] [--prefix PREFIX]",120,163
openstack%2Foslo.concurrency~master~Ie92ce14b33180d35d84bbd0998e61b659487481d,openstack/oslo.concurrency,master,Ie92ce14b33180d35d84bbd0998e61b659487481d,Clean up API documentation,MERGED,2014-12-10 13:40:58.000000000,2014-12-16 22:03:42.000000000,2014-12-16 22:03:41.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-12-10 13:40:58.000000000', 'files': ['doc/source/api/index.rst', 'doc/source/api/fixture.lockutils.rst', 'doc/source/index.rst', '.gitignore', 'doc/source/usage.rst', 'doc/source/conf.py', 'doc/source/api/opts.rst', 'doc/source/api/processutils.rst', 'setup.cfg', 'doc/source/api/lockutils.rst'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/d59543df4aef097b852a1c197a719904addbe552', 'message': 'Clean up API documentation\n\nUse explicit files instead of auto-generating them.\n\nFail the build on a warning.\n\nTweak titles and other headings.\n\nAdd instructions for using lockutils-wrapper.\n\nChange-Id: Ie92ce14b33180d35d84bbd0998e61b659487481d\n'}]",0,140680,d59543df4aef097b852a1c197a719904addbe552,7,3,1,2472,,,0,"Clean up API documentation

Use explicit files instead of auto-generating them.

Fail the build on a warning.

Tweak titles and other headings.

Add instructions for using lockutils-wrapper.

Change-Id: Ie92ce14b33180d35d84bbd0998e61b659487481d
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/80/140680/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/index.rst', 'doc/source/api/fixture.lockutils.rst', 'doc/source/index.rst', '.gitignore', 'doc/source/usage.rst', 'doc/source/conf.py', 'doc/source/api/opts.rst', 'doc/source/api/processutils.rst', 'setup.cfg', 'doc/source/api/lockutils.rst']",10,d59543df4aef097b852a1c197a719904addbe552,clean-up-docs,=================================== :mod:`oslo_concurrency.lockutils` =================================== .. automodule:: oslo_concurrency.lockutils :members: :undoc-members: :show-inheritance: ,,69,35
openstack%2Fdevstack~master~I60bd160600ec4a02c94ee5e33e4bc91c9f2aa2ed,openstack/devstack,master,I60bd160600ec4a02c94ee5e33e4bc91c9f2aa2ed,Adds missing rabbit_userid to trove configs,MERGED,2014-12-13 16:34:12.000000000,2014-12-16 22:02:43.000000000,2014-12-16 22:02:40.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5293}, {'_account_id': 6156}, {'_account_id': 7369}, {'_account_id': 7770}, {'_account_id': 7806}, {'_account_id': 8074}, {'_account_id': 8214}, {'_account_id': 9664}, {'_account_id': 10385}, {'_account_id': 11783}]","[{'number': 1, 'created': '2014-12-13 16:34:12.000000000', 'files': ['lib/trove'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7bb9a73b8cbb62b31cbf8faa0f19d9c609b359fd', 'message': 'Adds missing rabbit_userid to trove configs\n\n- rabbit_userid was only updated in trove.conf leaving other\n  trove configuration files not having this value.\n- Trove service setup was broken because of this.\n- Added rabbit_userid to trove-taskmanager.conf,\n  trove-conductor.conf and trove-guest.conf.\n\nChange-Id: I60bd160600ec4a02c94ee5e33e4bc91c9f2aa2ed\nCloses-Bug: #1402227\n'}]",0,141564,7bb9a73b8cbb62b31cbf8faa0f19d9c609b359fd,24,13,1,7806,,,0,"Adds missing rabbit_userid to trove configs

- rabbit_userid was only updated in trove.conf leaving other
  trove configuration files not having this value.
- Trove service setup was broken because of this.
- Added rabbit_userid to trove-taskmanager.conf,
  trove-conductor.conf and trove-guest.conf.

Change-Id: I60bd160600ec4a02c94ee5e33e4bc91c9f2aa2ed
Closes-Bug: #1402227
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/141564/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/trove'],1,7bb9a73b8cbb62b31cbf8faa0f19d9c609b359fd,bug/1402227, iniset $TROVE_CONF_DIR/trove-taskmanager.conf DEFAULT rabbit_userid $RABBIT_USERID iniset $TROVE_CONF_DIR/trove-conductor.conf DEFAULT rabbit_userid $RABBIT_USERID iniset $TROVE_CONF_DIR/trove-guestagent.conf DEFAULT rabbit_userid $RABBIT_USERID, iniset $TROVE_CONF_DIR/trove.conf DEFAULT rabbit_userid $RABBIT_USERID iniset $TROVE_CONF_DIR/trove.conf DEFAULT rabbit_userid $RABBIT_USERID iniset $TROVE_CONF_DIR/trove.conf DEFAULT rabbit_userid $RABBIT_USERID,3,3
openstack%2Fheat~master~I91adfbc806111e2ab023199c5dea1ea7ebeca5da,openstack/heat,master,I91adfbc806111e2ab023199c5dea1ea7ebeca5da,Remove *.pyc files on every tox run,MERGED,2014-12-10 19:07:07.000000000,2014-12-16 21:58:14.000000000,2014-12-16 21:58:13.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4715}, {'_account_id': 8537}, {'_account_id': 9542}, {'_account_id': 11956}, {'_account_id': 13009}, {'_account_id': 14103}]","[{'number': 1, 'created': '2014-12-10 19:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/97132b125b875041a28d34d528350ab6f4f2a8a3', 'message': 'Remove *.pyc files on every tox run\n\nDo it only in Heat tree and ignore the .tox dir.\n\nChange-Id: I91adfbc806111e2ab023199c5dea1ea7ebeca5da\n'}, {'number': 2, 'created': '2014-12-11 10:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fe1051fdc7384accad063318f5b23f2a9f57b54c', 'message': 'Remove *.pyc files on every tox run\n\nDo it only in Heat tree and ignore the .tox dir.\n\nChange-Id: I91adfbc806111e2ab023199c5dea1ea7ebeca5da\n'}, {'number': 3, 'created': '2014-12-12 13:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e61ec0c322de4f1c5e9f0678ae01f93a21096048', 'message': 'Remove *.pyc files on every tox run\n\nDo it only in Heat tree and ignore the .tox dir.\n\nChange-Id: I91adfbc806111e2ab023199c5dea1ea7ebeca5da\n'}, {'number': 4, 'created': '2014-12-14 20:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/12ea73e1295e5c237f953a72a46d184a103e4f61', 'message': 'Remove *.pyc files on every tox run\n\nDo it only in Heat tree and ignore the .tox dir.\n\nChange-Id: I91adfbc806111e2ab023199c5dea1ea7ebeca5da\n'}, {'number': 5, 'created': '2014-12-15 09:03:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/94a7ec73fcee2c06463bf7e62c441b8ab34482a3', 'message': 'Remove *.pyc files on every tox run\n\nAs we start actively moving the code around (e.g. for resources\ndecoupling) stale *.pyc files might lead to cryptic failures when running\ntox locally (and not from the freshly cloned repo as OpenStack Infra\ndoes).\ntox installs the package being tested in venv using development mode,\nthus the actually tested code is from the repo working tree, so it is\nbeneficial to have it cleaned from pyc files before the test run.\nNow removed run_tests.sh also had similar feature, but for DB migrations\nonly.\n\nThe files from .tox dir are left in place, as that might speedup the\ntests run somewhat.\n\nChange-Id: I91adfbc806111e2ab023199c5dea1ea7ebeca5da\n'}]",2,140809,94a7ec73fcee2c06463bf7e62c441b8ab34482a3,34,8,5,9542,,,0,"Remove *.pyc files on every tox run

As we start actively moving the code around (e.g. for resources
decoupling) stale *.pyc files might lead to cryptic failures when running
tox locally (and not from the freshly cloned repo as OpenStack Infra
does).
tox installs the package being tested in venv using development mode,
thus the actually tested code is from the repo working tree, so it is
beneficial to have it cleaned from pyc files before the test run.
Now removed run_tests.sh also had similar feature, but for DB migrations
only.

The files from .tox dir are left in place, as that might speedup the
tests run somewhat.

Change-Id: I91adfbc806111e2ab023199c5dea1ea7ebeca5da
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/140809/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97132b125b875041a28d34d528350ab6f4f2a8a3,tox-remove-pyc, find {toxinidir} -not -path '{toxinidir}/.tox/*' -name '*.pyc' -deletewhitelist_externals = bash find,whitelist_externals = bash,4,1
openstack%2Fsolum~master~I5e5ade4976b27806037f99da7a8d72ed7e16811e,openstack/solum,master,I5e5ade4976b27806037f99da7a8d72ed7e16811e,Correct trigger_uri if X-Forwarded-Proto is https,MERGED,2014-12-08 22:16:29.000000000,2014-12-16 21:50:07.000000000,2014-12-16 21:50:06.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 9095}]","[{'number': 1, 'created': '2014-12-08 22:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/5c77d00b4b851200396160f17b04bd389d9cae07', 'message': 'Correct trigger_uri if X-Forwarded-Proto is https\n\nCloses-Bug: #1359516\n\nChange-Id: I5e5ade4976b27806037f99da7a8d72ed7e16811e\n'}, {'number': 2, 'created': '2014-12-08 22:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/f49b9c754fdaa7fe18bc77b2d48a843e783b455c', 'message': 'Correct trigger_uri if X-Forwarded-Proto is https\n\nCloses-Bug: #1359516\n\nChange-Id: I5e5ade4976b27806037f99da7a8d72ed7e16811e\n'}, {'number': 3, 'created': '2014-12-10 22:22:42.000000000', 'files': ['functionaltests/api/v1/test_assembly.py', 'solum/api/controllers/v1/assembly.py', 'solum/common/request.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/9d7e5d728556cb8294f1b89b5df254496ded91ee', 'message': 'Correct trigger_uri if X-Forwarded-Proto is https\n\nCloses-Bug: #1359516\n\nChange-Id: I5e5ade4976b27806037f99da7a8d72ed7e16811e\n'}]",7,140162,9d7e5d728556cb8294f1b89b5df254496ded91ee,18,5,3,1375,,,0,"Correct trigger_uri if X-Forwarded-Proto is https

Closes-Bug: #1359516

Change-Id: I5e5ade4976b27806037f99da7a8d72ed7e16811e
",git fetch https://review.opendev.org/openstack/solum refs/changes/62/140162/2 && git format-patch -1 --stdout FETCH_HEAD,"['solum/api/controllers/v1/assembly.py', 'solum/common/request.py']",2,5c77d00b4b851200396160f17b04bd389d9cae07,bug/1359516,"# Copyright 2014 - Rackspace Hosting # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import pecan def correct_https(): forwarded = pecan.request.environ.net('HTTP_X_FORWARDED_PROTO', '') if forwarded.lower() == 'https': pecan.request.environ['wsgi.url_scheme'] = 'https' ",,24,0
openstack%2Fpython-keystoneclient~master~I951b387904be3c4f14fbdfe157ecc1d14a79498a,openstack/python-keystoneclient,master,I951b387904be3c4f14fbdfe157ecc1d14a79498a,Updated from global requirements,MERGED,2014-11-16 15:06:48.000000000,2014-12-16 21:42:52.000000000,2014-12-16 21:42:51.000000000,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-11-16 15:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5f4aa2c3989b9553292e5999026227e0bad2a319', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 2, 'created': '2014-11-18 11:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/bdb92dfc0b160a58f5df1b227a799cd74316922e', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 3, 'created': '2014-11-18 19:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8b601e8da1863ab8578b9df246f10a49eeb4b3b0', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 4, 'created': '2014-11-20 14:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/fff21758b662cf6755c5735db73e4986b594e33b', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 5, 'created': '2014-11-27 21:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/36427df6e374a795105114e9387e24dae1ba0de4', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 6, 'created': '2014-12-03 21:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1606a9806a3a01ceb8822f1aecc944e0f8cd632c', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 7, 'created': '2014-12-04 21:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a306c27b38f81f9344776f1d319434adffb04312', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 8, 'created': '2014-12-05 16:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0f421370f36ae84892f0dbc3256542b48797d330', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 9, 'created': '2014-12-08 08:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3ff9126142ad2359e83c01c966a3af127617f51a', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 10, 'created': '2014-12-10 17:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/76b1d68677cc818d59c54ccfe44c89e528784c7a', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 11, 'created': '2014-12-11 07:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9cb01469d0019daaaeac279808927cb22edcf7a5', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 12, 'created': '2014-12-12 22:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c2088751282b63276cfd438e4a98d7044166025f', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}, {'number': 13, 'created': '2014-12-16 19:36:35.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e36852a1c8694373557065b2611f13979f83a4cf', 'message': 'Updated from global requirements\n\nChange-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a\n'}]",0,134794,e36852a1c8694373557065b2611f13979f83a4cf,33,3,13,11131,,,0,"Updated from global requirements

Change-Id: I951b387904be3c4f14fbdfe157ecc1d14a79498a
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/94/134794/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5f4aa2c3989b9553292e5999026227e0bad2a319,openstack/requirements,"testtools>=0.9.36,!=1.2.0",testtools>=0.9.36,1,1
openstack%2Foslo.concurrency~master~I7b0b5c840381b2d9afc00ff116fee1d970743183,openstack/oslo.concurrency,master,I7b0b5c840381b2d9afc00ff116fee1d970743183,Don't use ConfigFilter for lockutils,MERGED,2014-12-12 17:35:08.000000000,2014-12-16 21:38:49.000000000,2014-12-16 21:38:48.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-12-12 17:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/0deaf129fb84f61ff09cd8e09443d02a0d05ec73', 'message': ""Don't use ConfigFilter for lockutils\n\nIn Neutron, we usually specify lock_path as:\n\nlock_path = $state_path/lock\n\nIt turned out that ConfigFilter does not work correctly with\nsubstitution feature, so its usage blocks Neutron adoption of the\nlibrary.\n\nThe issue is also not specific to Neutron: any deployer should be able\nto use substitutions ($smth) in their configuration files without\ndetermining whether those configuration options he's interested in are\ndefined as ConfigOpts or ConfigFilter.\n\nSo the best short term approach to push forward the adoption of the\nlibrary is to refrain from using ConfigFilter at least until there is\nconsensus on how to support substitution feature with the class.\n\nOnce oslo.config sorts the issue out, we may get back to using\nConfigFilter for lockutils.\n\nChange-Id: I7b0b5c840381b2d9afc00ff116fee1d970743183\nCloses-Bug: #1399897\n""}, {'number': 2, 'created': '2014-12-15 10:36:18.000000000', 'files': ['oslo_concurrency/lockutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/9dd6d212f0d8fd74c29077a786fb6d770a2a0bba', 'message': ""Don't use ConfigFilter for lockutils\n\nIn Neutron, we usually specify lock_path as:\n\nlock_path = $state_path/lock\n\nIt turned out that ConfigFilter does not work correctly with\nsubstitution feature, so its usage blocks Neutron adoption of the\nlibrary.\n\nThe issue is also not specific to Neutron: any deployer should be able\nto use substitutions ($smth) in their configuration files without\ndetermining whether those configuration options he's interested in are\ndefined as ConfigOpts or ConfigFilter.\n\nSo the best short term approach to push forward the adoption of the\nlibrary is to refrain from using ConfigFilter at least until there is\nconsensus on how to support substitution feature with the class.\n\nOnce oslo.config sorts the issue out, we may get back to using\nConfigFilter for lockutils.\n\nChange-Id: I7b0b5c840381b2d9afc00ff116fee1d970743183\nCloses-Bug: #1399897\n""}]",0,141436,9dd6d212f0d8fd74c29077a786fb6d770a2a0bba,9,3,2,9656,,,0,"Don't use ConfigFilter for lockutils

In Neutron, we usually specify lock_path as:

lock_path = $state_path/lock

It turned out that ConfigFilter does not work correctly with
substitution feature, so its usage blocks Neutron adoption of the
library.

The issue is also not specific to Neutron: any deployer should be able
to use substitutions ($smth) in their configuration files without
determining whether those configuration options he's interested in are
defined as ConfigOpts or ConfigFilter.

So the best short term approach to push forward the adoption of the
library is to refrain from using ConfigFilter at least until there is
consensus on how to support substitution feature with the class.

Once oslo.config sorts the issue out, we may get back to using
ConfigFilter for lockutils.

Change-Id: I7b0b5c840381b2d9afc00ff116fee1d970743183
Closes-Bug: #1399897
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/36/141436/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_concurrency/lockutils.py'],1,0deaf129fb84f61ff09cd8e09443d02a0d05ec73,bug/1399897,CONF = cfg.CONF,CONF = cfgfilter.ConfigFilter(cfg.CONF),1,1
openstack%2Fproject-config~master~I9cdee60e77dab9c6943626d5fa1eda0402840277,openstack/project-config,master,I9cdee60e77dab9c6943626d5fa1eda0402840277,Check that Gerrit ACL files are normalized,MERGED,2014-12-10 19:44:03.000000000,2014-12-16 21:38:42.000000000,2014-12-16 21:38:42.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1106}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-12-10 19:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a0fca6892dba2248da7bb288700f9ce6d9c4fde3', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}, {'number': 2, 'created': '2014-12-10 19:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/072b637b9e2d6d5363245c0d3489eddc64163826', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}, {'number': 3, 'created': '2014-12-11 07:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e9b71a49e0b2eb733d577ef4ab2ccaf6d583b8e', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}, {'number': 4, 'created': '2014-12-11 22:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/61ac77e8ac91538525e027a228a3d3c50b0ff74e', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}, {'number': 5, 'created': '2014-12-11 22:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6d51954e550c7fff1a93fe8101caa4b4d6973abb', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}, {'number': 6, 'created': '2014-12-12 09:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/95c40963720bfbf35738d7c471f55221ad7a1e64', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}, {'number': 7, 'created': '2014-12-16 07:04:23.000000000', 'files': ['tools/check_valid_gerrit_config.sh', 'tools/normalize_acl.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8416301e82a0160ea071a6273d94b571cfe9516', 'message': 'Check that Gerrit ACL files are normalized\n\nEnhance Gerrit ACL check to check that the files are properly\nnormalized.\n\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\n\nChange-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277\n'}]",7,140821,d8416301e82a0160ea071a6273d94b571cfe9516,43,7,7,6547,,,0,"Check that Gerrit ACL files are normalized

Enhance Gerrit ACL check to check that the files are properly
normalized.

Co-Authored-By: Armando Migliaccio <armamig@gmail.com>

Change-Id: I9cdee60e77dab9c6943626d5fa1eda0402840277
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/140821/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_valid_gerrit_config.sh'],1,a0fca6892dba2248da7bb288700f9ce6d9c4fde3,add-check-gerrit-acl-2," $OLDPWD/tools/normalize_acl.py $config 0 1 2 3 4 5 > $TMPDIR/normalized if ! diff -u $config $TMPDIR/normalized; then echo ""Project $config is not normalized"" exit 1 fi",,6,0
openstack%2Fcongress~master~If289cea3b8e5cbe03628011143d81f31ccc292a8,openstack/congress,master,If289cea3b8e5cbe03628011143d81f31ccc292a8,Prettify policy and data source tables in Horizon,MERGED,2014-12-16 04:06:16.000000000,2014-12-16 21:34:09.000000000,2014-12-16 21:34:08.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 7187}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-16 04:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/d9b035f905ce22361da5abaf139022f4b5c2cff0', 'message': ""Prettify policy and data source tables in Horizon\n\nBreak up policy rules into multiple lines and data source tables into multiple\ncolumns.\n\nhorizon/\n* congress.py: New constants used to parse rules for formatting. Use the full\n  string for PolicyAPIDictWrapper names by default. Add new function to delete\n  values from apidict. Add PolicyRule class. Return None for objects not found\n  instead of empty apidict. Change some names and add docstrings for clarity.\n\nhorizon/datasources/\n* tables.py: Fix indentation. Change class name for clarity.\n* views.py: Fix exception handling - exceptions.handle() only works with\n  certain types of exceptions. Remove sorting of policies tables, which may\n  take a while for a long list. Split plugin and plugin-derived policy data\n  tables into columns based on the table's schema. Split user policy data\n  tables into unnamed columns. Add data source type to details view.\n\nhorizon/datasources/templates/datasources/\n* _detail_overview.html: Show data source type. Remove condition for showing\n  table name.\n\nhorizon/policies/\n* tables.py: Split policy rules into multiple lines.\n* views.py: Fix exception handling - exceptions.handle() only works with\n  certain types of exceptions.\n\nChange-Id: If289cea3b8e5cbe03628011143d81f31ccc292a8\nCloses-Bug: 1379565\n""}, {'number': 2, 'created': '2014-12-16 20:53:24.000000000', 'files': ['contrib/horizon/datasources/templates/datasources/_detail_overview.html', 'contrib/horizon/datasources/views.py', 'contrib/horizon/policies/tables.py', 'contrib/horizon/datasources/tables.py', 'contrib/horizon/policies/views.py', 'contrib/horizon/congress.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/a9e9da9754f39d4d7d981062da7e763ef122f5cd', 'message': ""Prettify policy and data source tables in Horizon\n\nBreak up policy rules into multiple lines and data source tables into multiple\ncolumns.\n\nhorizon/\n* congress.py: New constants used to parse rules for formatting. Use the full\n  string for PolicyAPIDictWrapper names by default. Add new function to delete\n  values from apidict. Add PolicyRule class. Return None for objects not found\n  instead of empty apidict. Change some names and add docstrings for clarity.\n\nhorizon/datasources/\n* tables.py: Fix indentation. Change class name for clarity.\n* views.py: Fix exception handling - exceptions.handle() only works with\n  certain types of exceptions. Remove sorting of policies tables, which may\n  take a while for a long list. Split plugin and plugin-derived policy data\n  tables into columns based on the table's schema. Split user policy data\n  tables into unnamed columns. Add data source type to details view.\n\nhorizon/datasources/templates/datasources/\n* _detail_overview.html: Show data source type. Remove condition for showing\n  table name.\n\nhorizon/policies/\n* tables.py: Split policy rules into multiple lines.\n* views.py: Fix exception handling - exceptions.handle() only works with\n  certain types of exceptions.\n\nChange-Id: If289cea3b8e5cbe03628011143d81f31ccc292a8\nCloses-Bug: 1379565\n""}]",10,141976,a9e9da9754f39d4d7d981062da7e763ef122f5cd,12,4,2,7187,,,0,"Prettify policy and data source tables in Horizon

Break up policy rules into multiple lines and data source tables into multiple
columns.

horizon/
* congress.py: New constants used to parse rules for formatting. Use the full
  string for PolicyAPIDictWrapper names by default. Add new function to delete
  values from apidict. Add PolicyRule class. Return None for objects not found
  instead of empty apidict. Change some names and add docstrings for clarity.

horizon/datasources/
* tables.py: Fix indentation. Change class name for clarity.
* views.py: Fix exception handling - exceptions.handle() only works with
  certain types of exceptions. Remove sorting of policies tables, which may
  take a while for a long list. Split plugin and plugin-derived policy data
  tables into columns based on the table's schema. Split user policy data
  tables into unnamed columns. Add data source type to details view.

horizon/datasources/templates/datasources/
* _detail_overview.html: Show data source type. Remove condition for showing
  table name.

horizon/policies/
* tables.py: Split policy rules into multiple lines.
* views.py: Fix exception handling - exceptions.handle() only works with
  certain types of exceptions.

Change-Id: If289cea3b8e5cbe03628011143d81f31ccc292a8
Closes-Bug: 1379565
",git fetch https://review.opendev.org/openstack/congress refs/changes/76/141976/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/horizon/datasources/templates/datasources/_detail_overview.html', 'contrib/horizon/datasources/views.py', 'contrib/horizon/policies/tables.py', 'contrib/horizon/datasources/tables.py', 'contrib/horizon/policies/views.py', 'contrib/horizon/congress.py']",6,d9b035f905ce22361da5abaf139022f4b5c2cff0,bug/1379565,"LITERALS_SEPARATOR = '), ' RULE_SEPARATOR = ':-' PLUGIN_TABLE_SEPARATOR = ':' def _set_id_as_name_if_empty(apidict, length=0): _set_id_as_name_if_empty(self) def set_value(self, key, value): def delete_by_key(self, key): del self._apidict[key] class PolicyRule(PolicyAPIDictWrapper): """"""Wrapper for a Congress policy's rule."""""" def set_id_as_name_if_empty(self): # Shorten UUID. _set_id_as_name_if_empty(self, length=8) return None return [PolicyRule(r) for r in results] return None """"""List all the data sources."""""" return [PolicyAPIDictWrapper(d) for d in datasources] def datasource_get(request, datasource_name): """"""Get a data source by name."""""" # TODO(jwy): Need API in congress_client to retrieve data source by name. datasources = datasources_list(request) for d in datasources: if d['id'] == datasource_name: return d return None def datasource_tables_list(request, datasource_name): """"""List all data tables in a data source, given by name."""""" datasource_tables_list = client.list_datasource_tables(datasource_name) results = datasource_tables_list['results'] return [PolicyAPIDictWrapper(t) for t in results] def datasource_rows_list(request, datasource_name, table_name): """"""List all rows in a data source's data table, given by name."""""" def datasource_table_schema_show(request, datasource_name, table_name): """"""Get the schema for a data source table."""""" client = congressclient(request) return client.show_datasource_table_schema(datasource_name, table_name)","def _set_id_as_name_if_empty(apidict, length=8): # Use the full id as the name. _set_id_as_name_if_empty(self, length=0) def set(self, key, value): return PolicyAPIDictWrapper({}) return [PolicyAPIDictWrapper(r) for r in results] return PolicyTable({}) return [PolicyAPIDictWrapper(t) for t in datasources] def datasources_tables_list(request, datasource_name): datasource_table_list = client.list_datasource_tables(datasource_name) datasource_table_rows = datasource_table_list['results'] return [PolicyAPIDictWrapper(t) for t in datasource_table_rows] def datasources_rows_list(request, datasource_name, table_name):",249,81
openstack%2Fkeystonemiddleware~master~I068f312d8927010fd209eab5c22910c4d1d343a1,openstack/keystonemiddleware,master,I068f312d8927010fd209eab5c22910c4d1d343a1,documentation for audit middleware,MERGED,2014-10-22 20:07:34.000000000,2014-12-16 21:30:57.000000000,2014-12-16 21:30:56.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 6537}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-10-22 20:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a17ad16dd269bda44eb96b505c0846b4e05b552e', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 2, 'created': '2014-10-22 20:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/aa6c3f5e573882c471d7482322b81c414ee926f5', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 3, 'created': '2014-10-22 20:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/49ab1399d4b37af1d5cd5bdaa4d87c0ead8a8d55', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 4, 'created': '2014-10-23 14:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6323d0b6f595db10d989c457784f4968a10e1dc1', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 5, 'created': '2014-10-24 22:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0268f15ab20af0cf295f1d1f8a5c0ccee1b0822b', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 6, 'created': '2014-11-04 14:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/240bad8e30bc74176c60e1ff1c77d67cd269190a', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 7, 'created': '2014-11-24 18:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0801e65c8bb191cc97aef85b268afeb0bc00db10', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 8, 'created': '2014-11-26 13:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0b66339a2faab3df4c3530dc4f660359b6251ef6', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 9, 'created': '2014-12-02 14:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d04e468fca67ef7cffac1c0367b230b3ca393255', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}, {'number': 10, 'created': '2014-12-15 21:44:35.000000000', 'files': ['doc/source/index.rst', 'doc/source/images/audit.png', 'doc/source/audit.rst', 'keystonemiddleware/audit.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bd07f84ed80b7345a18f2ef1d816047347b3e948', 'message': 'documentation for audit middleware\n\nthis moves (and edits) audit middleware documentation from pycadf\nlibrary to keystonemiddleware\n\npycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst\n\nImplements: blueprint audit-middleware\nChange-Id: I068f312d8927010fd209eab5c22910c4d1d343a1\n'}]",7,130344,bd07f84ed80b7345a18f2ef1d816047347b3e948,37,5,10,6537,,,0,"documentation for audit middleware

this moves (and edits) audit middleware documentation from pycadf
library to keystonemiddleware

pycadf doc: https://github.com/openstack/pycadf/blob/master/doc/source/middleware.rst

Implements: blueprint audit-middleware
Change-Id: I068f312d8927010fd209eab5c22910c4d1d343a1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/44/130344/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/images/audit.png', 'doc/source/audit.rst']",3,a17ad16dd269bda44eb96b505c0846b4e05b552e,bp/audit-middleware,".. Copyright 2014 IBM Corp Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. .. _middleware: ================= Audit middleware ================= The Keystonemiddleware library provides an optional WSGI middleware filter which allows the ability to audit api requests for each component of OpenStack. The audit middleware filter utilises environment variables to build the CADF event. .. figure:: ./images/audit.png :width: 100% :align: center :alt: Figure 1: Audit middleware in Nova pipeline The figure above shows the middleware in Nova's pipeline. Enabling audit middleware ========================= To enable auditing, oslo.messaging_ should be installed. If not, the middleware will log the audit event instead. Auditing can be enabled for a specific project by editing the project's api-paste.ini file to include the following filter definition: :: [filter:audit] paste.filter_factory = keystonemiddleware.audit:AuditMiddleware.factory audit_map_file = /etc/nova/api_audit_map.conf The filter should be included after Keystonemiddleware's auth_token middleware so it can utilise environment variables set by auth_token. Below is an example using Nova's WSGI pipeline:: [composite:openstack_compute_api_v2] use = call:nova.api.auth:pipeline_factory noauth = faultwrap sizelimit noauth ratelimit osapi_compute_app_v2 keystone = faultwrap sizelimit authtoken keystonecontext ratelimit audit osapi_compute_app_v2 keystone_nolimit = faultwrap sizelimit authtoken keystonecontext audit osapi_compute_app_v2 .. _oslo.messaging: http://www.github.com/openstack/oslo.messaging Configure audit middleware ========================== To properly audit api requests, the audit middleware requires an api_audit_map.conf to be defined. The project's corresponding api_audit_map.conf file is included in the `pyCADF library`_. The location of the mapping file should be specified explicitly by adding the path to the 'audit_map_file' option of the filter definition:: [filter:audit] paste.filter_factory = keystonemiddleware.audit:AuditMiddleware.factory audit_map_file = /etc/nova/api_audit_map.conf Additional options can be set:: [filter:audit] paste.filter_factory = pycadf.middleware.audit:AuditMiddleware.factory audit_map_file = /etc/nova/api_audit_map.conf service_name = test # opt to set HTTP_X_SERVICE_NAME environ variable ignore_req_list = GET,POST # opt to ignore specific requests .. _pyCADF library: https://github.com/openstack/pycadf/tree/master/etc/pycadf ",,82,0
openstack%2Fkeystonemiddleware~master~Iafcaf0efa0a6730826c04d1ef846ae333e16fee0,openstack/keystonemiddleware,master,Iafcaf0efa0a6730826c04d1ef846ae333e16fee0,remove the unused method _will_expire_soon,MERGED,2014-12-11 07:28:58.000000000,2014-12-16 21:30:44.000000000,2014-12-16 21:30:43.000000000,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 9101}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-12-11 07:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/368e67622a25adab143492df290f7a1f4e3d865b', 'message': 'remove the unused method _will_expire_soon\n\nThis method is unused, the check logic will be done in auth plugin.\n\nChange-Id: Iafcaf0efa0a6730826c04d1ef846ae333e16fee0\n'}, {'number': 2, 'created': '2014-12-11 08:11:11.000000000', 'files': ['keystonemiddleware/auth_token.py', 'keystonemiddleware/tests/test_auth_token_middleware.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0686144e2f7f12ab25bdec2dc1d725facf23b082', 'message': 'remove the unused method _will_expire_soon\n\nThis method is unused, the check logic will be done in auth plugin.\n\nChange-Id: Iafcaf0efa0a6730826c04d1ef846ae333e16fee0\n'}]",0,140966,0686144e2f7f12ab25bdec2dc1d725facf23b082,12,5,2,9101,,,0,"remove the unused method _will_expire_soon

This method is unused, the check logic will be done in auth plugin.

Change-Id: Iafcaf0efa0a6730826c04d1ef846ae333e16fee0
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/66/140966/2 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token.py'],1,368e67622a25adab143492df290f7a1f4e3d865b,unused_method,,"def _will_expire_soon(expiry): """"""Determines if expiration is about to occur. :param expiry: a datetime of the expected expiration :returns: boolean : true if expiration is within 30 seconds """""" soon = (timeutils.utcnow() + datetime.timedelta(seconds=30)) return expiry < soon ",0,10
openstack%2Fcongress~master~I2c8b243b635db5884318655b6f2ca8c6ff397761,openstack/congress,master,I2c8b243b635db5884318655b6f2ca8c6ff397761,Add keystone entry to datasources.conf,MERGED,2014-12-16 20:21:09.000000000,2014-12-16 21:30:08.000000000,2014-12-16 21:30:07.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}, {'_account_id': 13664}]","[{'number': 1, 'created': '2014-12-16 20:21:09.000000000', 'files': ['contrib/devstack/lib/congress'], 'web_link': 'https://opendev.org/openstack/congress/commit/33fd5f1054ecc7a4e2f41ecf7d6d9050d3b677b8', 'message': ""Add keystone entry to datasources.conf\n\nCommit ce7cfcbcf51ec93ca1b9dd30d2c330794d6e39ad introduced a bug due to which\nkeystone wasn't getting populated in datasources.conf; this fixes it\n\nChange-Id: I2c8b243b635db5884318655b6f2ca8c6ff397761\n""}]",0,142211,33fd5f1054ecc7a4e2f41ecf7d6d9050d3b677b8,8,4,1,13664,,,0,"Add keystone entry to datasources.conf

Commit ce7cfcbcf51ec93ca1b9dd30d2c330794d6e39ad introduced a bug due to which
keystone wasn't getting populated in datasources.conf; this fixes it

Change-Id: I2c8b243b635db5884318655b6f2ca8c6ff397761
",git fetch https://review.opendev.org/openstack/congress refs/changes/11/142211/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/congress'],1,33fd5f1054ecc7a4e2f41ecf7d6d9050d3b677b8,, _configure_service key keystone, _configure_service keystone keystone,1,1
openstack%2Fproject-config~master~Ie4c1ee99f14ad990a4cce0060acdf5617a8b7471,openstack/project-config,master,Ie4c1ee99f14ad990a4cce0060acdf5617a8b7471,Don't run check-heat-dsvm-functional-mysql in stable/juno,MERGED,2014-12-16 20:45:03.000000000,2014-12-16 21:30:06.000000000,2014-12-16 21:30:04.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 20:45:03.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/88777e469b3596ad92578fe323017f20cc8c3e2e', 'message': ""Don't run check-heat-dsvm-functional-mysql in stable/juno\n\nstable/juno lacks the in-tree functional tests, so this job\nshould never run on this branch.\n\nChange-Id: Ie4c1ee99f14ad990a4cce0060acdf5617a8b7471\n""}]",0,142217,88777e469b3596ad92578fe323017f20cc8c3e2e,7,3,1,4571,,,0,"Don't run check-heat-dsvm-functional-mysql in stable/juno

stable/juno lacks the in-tree functional tests, so this job
should never run on this branch.

Change-Id: Ie4c1ee99f14ad990a4cce0060acdf5617a8b7471
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/142217/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,88777e469b3596ad92578fe323017f20cc8c3e2e,heat-voting, branch: ^(?!stable/(icehouse|juno)).*$, branch: ^(?!stable/icehouse).*$,1,1
openstack%2Fopenstack-doc-tools~master~I35eab544b183c05b167ce9917d92f0f1f919b745,openstack/openstack-doc-tools,master,I35eab544b183c05b167ce9917d92f0f1f919b745,Add final newline to file formatting,MERGED,2014-12-16 20:51:31.000000000,2014-12-16 21:18:32.000000000,2014-12-16 21:18:32.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-12-16 20:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/d35944260555ae1636f6fe33d3167fea6039df40', 'message': ""Add final newline to file formatting\n\nThe JSON formatting created by jsoncheck.py omits the file's final\nnewline. It claims that files with such a newline need reformatting\nand removes the final newline in a file when reformatting.\n\nThis patch brings jsoncheck.py in line with the rest of the tools\nwhich prefer text files to end with a newline.\n\nCloses-Bug: #1403159\nChange-Id: I35eab544b183c05b167ce9917d92f0f1f919b745\n""}, {'number': 2, 'created': '2014-12-16 21:04:09.000000000', 'files': ['RELEASE_NOTES.rst', 'os_doc_tools/jsoncheck.py'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/e77e51365b563fefd7a0eb6a15b6bcf79160e755', 'message': ""Add final newline to file formatting\n\nThe JSON formatting created by jsoncheck.py omits the file's final\nnewline. It claims that files with such a newline need reformatting\nand removes the final newline in a file when reformatting.\n\nThis patch brings jsoncheck.py in line with the rest of the tools\nwhich prefer text files to end with a newline.\n\nUpdate release notes for pushing out the bug fix.\n\nCloses-Bug: #1403159\nChange-Id: I35eab544b183c05b167ce9917d92f0f1f919b745\n""}]",0,142219,e77e51365b563fefd7a0eb6a15b6bcf79160e755,10,4,2,11109,,,0,"Add final newline to file formatting

The JSON formatting created by jsoncheck.py omits the file's final
newline. It claims that files with such a newline need reformatting
and removes the final newline in a file when reformatting.

This patch brings jsoncheck.py in line with the rest of the tools
which prefer text files to end with a newline.

Update release notes for pushing out the bug fix.

Closes-Bug: #1403159
Change-Id: I35eab544b183c05b167ce9917d92f0f1f919b745
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/19/142219/1 && git format-patch -1 --stdout FETCH_HEAD,['os_doc_tools/jsoncheck.py'],1,d35944260555ae1636f6fe33d3167fea6039df40,add_newline," indent=4) + ""\n""", indent=4),1,1
openstack%2Fproject-config~master~I08f5c173c70903e9e2a006bf2327db97d9fc8b46,openstack/project-config,master,I08f5c173c70903e9e2a006bf2327db97d9fc8b46,Normalize ACLs,MERGED,2014-12-15 17:52:24.000000000,2014-12-16 21:18:10.000000000,2014-12-16 21:18:08.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1106}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}]","[{'number': 1, 'created': '2014-12-15 17:52:24.000000000', 'files': ['gerrit/acls/openstack/oslo.rootwrap.config', 'gerrit/acls/openstack/nova.config', 'gerrit/acls/openstack/oslo.version.config', 'gerrit/acls/openstack/trove.config', 'gerrit/acls/openstack/oslo.i18n.config', 'gerrit/acls/openstack/oslo.utils.config', 'gerrit/acls/openstack/oslo.serialization.config', 'gerrit/acls/openstack/horizon.config', 'gerrit/acls/openstack/cinder.config', 'gerrit/acls/openstack/ceilometer.config', 'gerrit/acls/openstack/oslo.middleware.config', 'gerrit/acls/openstack/oslo.config.config', 'gerrit/acls/openstack/keystone.config', 'gerrit/acls/openstack/neutron.config', 'gerrit/acls/stackforge/group-based-policy.config', 'gerrit/acls/openstack/oslo.log.config', 'gerrit/acls/openstack/oslo.messaging.config', 'gerrit/acls/openstack/oslo-incubator.config', 'gerrit/acls/openstack/swift.config', 'gerrit/acls/openstack/oslo.db.config', 'gerrit/acls/openstack/glance.config', 'gerrit/acls/openstack/heat.config', 'gerrit/acls/openstack/oslo.concurrency.config', 'gerrit/acls/openstack/oslo.vmware.config', 'gerrit/acls/openstack/sahara.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/34484faa15fca7ab0157422370c1d6952583b6b6', 'message': 'Normalize ACLs\n\nThis is the result of running:\n  find gerrit/acls/ -type f -name ""*.config"" -exec \\\n    ./tools/normalize_acl.py {} 1 2 3 4 5 6 \\;\n\nSome recent changes were not normalized ;(\n\nChange-Id: I08f5c173c70903e9e2a006bf2327db97d9fc8b46\n'}]",0,141860,34484faa15fca7ab0157422370c1d6952583b6b6,11,7,1,6547,,,0,"Normalize ACLs

This is the result of running:
  find gerrit/acls/ -type f -name ""*.config"" -exec \
    ./tools/normalize_acl.py {} 1 2 3 4 5 6 \;

Some recent changes were not normalized ;(

Change-Id: I08f5c173c70903e9e2a006bf2327db97d9fc8b46
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/141860/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/oslo.rootwrap.config', 'gerrit/acls/openstack/nova.config', 'gerrit/acls/openstack/oslo.version.config', 'gerrit/acls/openstack/trove.config', 'gerrit/acls/openstack/oslo.i18n.config', 'gerrit/acls/openstack/oslo.utils.config', 'gerrit/acls/openstack/oslo.serialization.config', 'gerrit/acls/openstack/horizon.config', 'gerrit/acls/openstack/cinder.config', 'gerrit/acls/openstack/ceilometer.config', 'gerrit/acls/openstack/oslo.middleware.config', 'gerrit/acls/openstack/oslo.config.config', 'gerrit/acls/openstack/keystone.config', 'gerrit/acls/openstack/neutron.config', 'gerrit/acls/stackforge/group-based-policy.config', 'gerrit/acls/openstack/oslo.log.config', 'gerrit/acls/openstack/oslo.messaging.config', 'gerrit/acls/openstack/oslo-incubator.config', 'gerrit/acls/openstack/swift.config', 'gerrit/acls/openstack/oslo.db.config', 'gerrit/acls/openstack/glance.config', 'gerrit/acls/openstack/heat.config', 'gerrit/acls/openstack/oslo.concurrency.config', 'gerrit/acls/openstack/oslo.vmware.config', 'gerrit/acls/openstack/sahara.config']",25,34484faa15fca7ab0157422370c1d6952583b6b6,normalize-changes,exclusiveGroupPermissions = abandon label-Code-Review label-Workflow,exclusiveGroupPermissions = abandon label-Code-Review label-Workflow,69,69
openstack%2Fsahara~stable%2Fjuno~I42e691082c2cbbd81cc0cddbf14f0b27b4e9a5b7,openstack/sahara,stable/juno,I42e691082c2cbbd81cc0cddbf14f0b27b4e9a5b7,Updated from global requirements,MERGED,2014-12-14 00:17:21.000000000,2014-12-16 21:17:22.000000000,2014-12-16 21:17:20.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 9820}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-12-14 00:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c6e6b7d4d55f4029230e29c8623d04b7cb1369d4', 'message': 'Updated from global requirements\n\nChange-Id: I42e691082c2cbbd81cc0cddbf14f0b27b4e9a5b7\n'}, {'number': 2, 'created': '2014-12-16 14:54:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/555fb0be1f1f77a4577bbf2ed875e1cb263f7659', 'message': 'Updated from global requirements\n\nChange-Id: I42e691082c2cbbd81cc0cddbf14f0b27b4e9a5b7\n'}]",0,141603,555fb0be1f1f77a4577bbf2ed875e1cb263f7659,163,9,2,11131,,,0,"Updated from global requirements

Change-Id: I42e691082c2cbbd81cc0cddbf14f0b27b4e9a5b7
",git fetch https://review.opendev.org/openstack/sahara refs/changes/03/141603/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c6e6b7d4d55f4029230e29c8623d04b7cb1369d4,openstack/requirements,"SQLAlchemy>=0.8.4,<=0.9.99,!=0.9.0,!=0.9.1,!=0.9.2,!=0.9.3,!=0.9.4,!=0.9.5,!=0.9.6","SQLAlchemy>=0.8.4,<=0.8.99,>=0.9.7,<=0.9.99",1,1
openstack%2Fneutron~master~I7d109bf62f71b2996aef4e0002f447ca3439a5cf,openstack/neutron,master,I7d109bf62f71b2996aef4e0002f447ca3439a5cf,Remove mlnx plugin,MERGED,2014-12-09 14:08:56.000000000,2014-12-16 21:17:07.000000000,2014-12-16 21:17:06.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7293}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12065}, {'_account_id': 12171}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-09 14:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca0dd4502f32c8448ba39f94e74ca9e2c29c5c7', 'message': 'Remove mlnx plugin\nDocImpact\nCloses-Bug: #1386539\n\nChange-Id: I7d109bf62f71b2996aef4e0002f447ca3439a5cf\nSigned-off-by: Moshe Levi <moshele@mellanox.com>\n'}, {'number': 2, 'created': '2014-12-14 08:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc424dc59177608cdd79128681b9af78c91a2b60', 'message': 'Remove mlnx plugin\n\nMellanox plugin was marked deprecated in Juno.\nThis commit actually removes the code for Kilo.\n\nMellanox recommends users to use mlnx or SR-IOV MD\n\nDocImpact\nCloses-Bug: #1386539\n\nChange-Id: I7d109bf62f71b2996aef4e0002f447ca3439a5cf\nSigned-off-by: Moshe Levi <moshele@mellanox.com>\n'}, {'number': 3, 'created': '2014-12-15 14:06:54.000000000', 'files': ['neutron/db/migration/models/head.py', 'neutron/plugins/mlnx/mlnx_plugin.py', 'neutron/tests/unit/mlnx/test_defaults.py', 'neutron/plugins/mlnx/common/config.py', 'neutron/plugins/mlnx/db/mlnx_db_v2.py', 'etc/neutron/plugins/mlnx/mlnx_conf.ini', 'neutron/plugins/mlnx/README', 'neutron/plugins/mlnx/db/__init__.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/tests/unit/mlnx/test_mlnx_security_group.py', 'neutron/plugins/mlnx/agent_notify_api.py', 'neutron/tests/unit/mlnx/test_mlnx_plugin.py', 'neutron/tests/unit/mlnx/test_mlnx_plugin_config.py', 'neutron/plugins/mlnx/db/mlnx_models_v2.py', 'neutron/tests/unit/mlnx/test_mlnx_db.py', 'neutron/tests/unit/mlnx/test_rpcapi.py', 'neutron/plugins/mlnx/rpc_callbacks.py', 'neutron/tests/unit/mlnx/test_agent_scheduler.py', 'setup.cfg', 'neutron/db/migration/alembic_migrations/versions/28c0ffb8ebbd_remove_mlnx_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f8c8abd0a8b629fc9a5e09608f22a73db30bdb8', 'message': 'Remove mlnx plugin\n\nMellanox plugin was marked deprecated in Juno.\nThis commit actually removes the code for Kilo.\n\nMellanox recommends users to use mlnx or SR-IOV MD\n\nDocImpact\nCloses-Bug: #1386539\n\nChange-Id: I7d109bf62f71b2996aef4e0002f447ca3439a5cf\nSigned-off-by: Moshe Levi <moshele@mellanox.com>\n'}]",27,140330,3f8c8abd0a8b629fc9a5e09608f22a73db30bdb8,99,31,3,12171,,,0,"Remove mlnx plugin

Mellanox plugin was marked deprecated in Juno.
This commit actually removes the code for Kilo.

Mellanox recommends users to use mlnx or SR-IOV MD

DocImpact
Closes-Bug: #1386539

Change-Id: I7d109bf62f71b2996aef4e0002f447ca3439a5cf
Signed-off-by: Moshe Levi <moshele@mellanox.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/140330/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/models/head.py', 'neutron/plugins/mlnx/mlnx_plugin.py', 'neutron/tests/unit/mlnx/test_defaults.py', 'neutron/plugins/mlnx/common/config.py', 'neutron/plugins/mlnx/db/mlnx_db_v2.py', 'etc/neutron/plugins/mlnx/mlnx_conf.ini', 'neutron/plugins/mlnx/README', 'neutron/plugins/mlnx/db/__init__.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/tests/unit/mlnx/test_mlnx_security_group.py', 'neutron/plugins/mlnx/agent_notify_api.py', 'neutron/tests/unit/mlnx/test_mlnx_plugin.py', 'neutron/tests/unit/mlnx/test_mlnx_plugin_config.py', 'neutron/plugins/mlnx/db/mlnx_models_v2.py', 'neutron/tests/unit/mlnx/test_mlnx_db.py', 'neutron/tests/unit/mlnx/test_rpcapi.py', 'neutron/plugins/mlnx/rpc_callbacks.py', 'neutron/tests/unit/mlnx/test_agent_scheduler.py', 'setup.cfg', 'neutron/db/migration/alembic_migrations/versions/28c0ffb8ebbd_remove_mlnx_plugin.py']",20,7ca0dd4502f32c8448ba39f94e74ca9e2c29c5c7,remove_mlnx_plugin,"# Copyright 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""remove mlnx plugin Revision ID: 28c0ffb8ebbd Revises: 408cfbf6923c Create Date: 2014-12-08 23:58:49.288830 """""" # revision identifiers, used by Alembic. revision = '28c0ffb8ebbd' down_revision = '408cfbf6923c' from alembic import op import sqlalchemy as sa from sqlalchemy.dialects import mysql def upgrade(): op.drop_table('mlnx_network_bindings') op.drop_table('segmentation_id_allocation') op.drop_table('port_profile') def downgrade(): op.create_table( 'port_profile', sa.Column( 'port_id', mysql.VARCHAR(length=36), nullable=False), sa.Column( 'vnic_type', mysql.VARCHAR(length=32), nullable=False), sa.ForeignKeyConstraint(['port_id'], [u'ports.id'], name=u'port_profile_ibfk_1', ondelete=u'CASCADE'), sa.PrimaryKeyConstraint('port_id'), mysql_default_charset=u'utf8', mysql_engine=u'InnoDB' ) op.create_table( 'segmentation_id_allocation', sa.Column('physical_network', mysql.VARCHAR(length=64), nullable=False), sa.Column('segmentation_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False), sa.Column('allocated', mysql.TINYINT(display_width=1), server_default=sa.text(u""'0'""), autoincrement=False, nullable=False), sa.PrimaryKeyConstraint('physical_network', 'segmentation_id'), mysql_default_charset=u'utf8', mysql_engine=u'InnoDB' ) op.create_table( 'mlnx_network_bindings', sa.Column('network_id', mysql.VARCHAR(length=36), nullable=False), sa.Column('network_type', mysql.VARCHAR(length=32), nullable=False), sa.Column('physical_network', mysql.VARCHAR(length=64), nullable=True), sa.Column('segmentation_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=False), sa.ForeignKeyConstraint(['network_id'], [u'networks.id'], name=u'mlnx_network_bindings_ibfk_1', ondelete=u'CASCADE'), sa.PrimaryKeyConstraint('network_id'), mysql_default_charset=u'utf8', mysql_engine=u'InnoDB' ) ",,86,1840
openstack%2Fcongress~master~I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c,openstack/congress,master,I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c,Enable: F811 redefinition of unused variable,MERGED,2014-12-15 22:55:33.000000000,2014-12-16 21:10:39.000000000,2014-12-16 20:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}, {'_account_id': 13664}]","[{'number': 1, 'created': '2014-12-15 22:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/ef78fb6837e169ad646b6e0be5173bdf884af089', 'message': 'Enable: F811 redefinition of unused variable\n\nChange-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c\nCloses-Bug: #1398548\n'}, {'number': 2, 'created': '2014-12-16 00:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/a7ddbf0dc7a2602f969c4157711d2905e525637c', 'message': 'Enable: F811 redefinition of unused variable\n\nChange-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c\nCloses-Bug: #1398548\n'}, {'number': 3, 'created': '2014-12-16 00:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/dc25836bbfb51ddbdb106f641cb72da00f4c77ba', 'message': 'Enable: F811 redefinition of unused variable\n\nCloses-Bug: #1398548\nChange-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c\n'}, {'number': 4, 'created': '2014-12-16 01:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/993cdac21a1a5310f818b27547aeba54cbc81c5c', 'message': 'Enable: F811 redefinition of unused variable\n\nCloses-Bug: #1398548\nChange-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c\n'}, {'number': 5, 'created': '2014-12-16 02:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/7e9908ebc7cd8b2443320c97a1c3f53cb97457f9', 'message': 'Enable: F811 redefinition of unused variable\n\nCloses-Bug: #1398548\nChange-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c\n'}, {'number': 6, 'created': '2014-12-16 18:43:47.000000000', 'files': ['congress/policy/utility.py', 'congress/policy/builtin/congressbuiltin.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/0ec504410a6910def18cf1db17689aef3fba10a1', 'message': 'Enable: F811 redefinition of unused variable\n\nCloses-Bug: #1398548\nChange-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c\n'}]",8,141929,0ec504410a6910def18cf1db17689aef3fba10a1,30,4,6,13664,,,0,"Enable: F811 redefinition of unused variable

Closes-Bug: #1398548
Change-Id: I7c6f736255e7bdad376d20eb80b2bbfdcd5aea0c
",git fetch https://review.opendev.org/openstack/congress refs/changes/29/141929/4 && git format-patch -1 --stdout FETCH_HEAD,"['congress/policy/builtin/congressbuiltin.py', 'congress/policy/utility.py', 'tox.ini']",3,ef78fb6837e169ad646b6e0be5173bdf884af089,,"ignore = E128,E129,E251,F402,F812,H237,H305,H401,H405,H904,H302","ignore = E128,E129,E251,F402,F811,F812,H237,H305,H401,H405,H904,H302",1,14
openstack%2Fheat~master~I2beb33371cf5e6701e22dbb41c8f5aa681c379de,openstack/heat,master,I2beb33371cf5e6701e22dbb41c8f5aa681c379de,Check that template format plugins are registered,MERGED,2014-12-15 17:08:11.000000000,2014-12-16 21:08:48.000000000,2014-12-16 21:08:47.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 6577}, {'_account_id': 9542}, {'_account_id': 13323}]","[{'number': 1, 'created': '2014-12-15 17:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/823f4f525e9f3986626df8b4c72cf3c85870a384', 'message': 'Check that template format plugins are registered\n\nOtherwise log an error and exit\n\nChange-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de\nCloses-Bug: #1402426\n'}, {'number': 2, 'created': '2014-12-15 18:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bca76790561f58cb5cbb8910aaacb6253ca782b2', 'message': 'Check that template format plugins are registered\n\nOtherwise log an error and exit\n\nChange-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de\nCloses-Bug: #1402426\n'}, {'number': 3, 'created': '2014-12-15 19:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/225390ea25a534a3ef9c31ad0e487b24cb6650b5', 'message': 'Check that template format plugins are registered\n\nOtherwise log an error and exit\n\nChange-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de\nCloses-Bug: #1402426\n'}, {'number': 4, 'created': '2014-12-16 10:47:20.000000000', 'files': ['heat/engine/template.py', 'bin/heat-engine'], 'web_link': 'https://opendev.org/openstack/heat/commit/ed76af426934147b895e2b746193491896369f82', 'message': 'Check that template format plugins are registered\n\nOtherwise log an error and exit\n\nChange-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de\nCloses-Bug: #1402426\n'}]",4,141847,ed76af426934147b895e2b746193491896369f82,18,5,4,13323,,,0,"Check that template format plugins are registered

Otherwise log an error and exit

Change-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de
Closes-Bug: #1402426
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/141847/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/common/exception.py', 'heat/engine/template.py', 'bin/heat-engine']",3,823f4f525e9f3986626df8b4c72cf3c85870a384,bug/1402426,"from heat.common import exception from heat.common.i18n import _LEfrom heat.engine import template try: template._get_template_extension_manager() except exception.TemplatePluginsNotRegistered as ex: LOG.error(_LE(""No template format plugins registered: %s""), ex) sys.exit(""ERROR: %s"" % ex) ",,19,1
openstack%2Fneutron~master~I8a876317cc503f133f768f5b119c871e31f77925,openstack/neutron,master,I8a876317cc503f133f768f5b119c871e31f77925,check that the vxlan kernel module is available in the proper way,ABANDONED,2014-12-15 20:42:57.000000000,2014-12-16 20:56:22.000000000,,"[{'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 13051}]","[{'number': 1, 'created': '2014-12-15 20:42:57.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ef10e00cd2466885d653aa398016578efe7b74c', 'message': 'check that the vxlan kernel module is available in the proper way\n\nInstead of checking via modinfo (which only checks if a module is\navailable) this checks that the module is loaded into the running\nkernel.  It also checks via sysfs which is both a more reliable and more\navailable way of checking that a module is available.  It also works on\nstatically compiled kernels.\n\nmoving vxlan module check to sanity checks as well\n\nCloses-Bug: 1339197\n\nChange-Id: I8a876317cc503f133f768f5b119c871e31f77925\n'}]",0,141898,9ef10e00cd2466885d653aa398016578efe7b74c,15,12,1,14288,,,0,"check that the vxlan kernel module is available in the proper way

Instead of checking via modinfo (which only checks if a module is
available) this checks that the module is loaded into the running
kernel.  It also checks via sysfs which is both a more reliable and more
available way of checking that a module is available.  It also works on
statically compiled kernels.

moving vxlan module check to sanity checks as well

Closes-Bug: 1339197

Change-Id: I8a876317cc503f133f768f5b119c871e31f77925
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/141898/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py']",4,9ef10e00cd2466885d653aa398016578efe7b74c,bug/1339197," def _check_vxlan_support(self, expected, vxlan_ucast_supported, vxlan_mcast_supported):"," def _check_vxlan_support(self, expected, vxlan_module_supported, vxlan_ucast_supported, vxlan_mcast_supported): mock.patch.object(self.lbm, 'vxlan_module_supported', return_value=vxlan_module_supported), vxlan_module_supported=True, vxlan_module_supported=True, vxlan_module_supported=False, vxlan_module_supported=True, def _check_vxlan_module_supported(self, expected, execute_side_effect): with mock.patch.object( utils, 'execute', side_effect=execute_side_effect): self.assertEqual(expected, self.lbm.vxlan_module_supported()) def test_vxlan_module_supported(self): self._check_vxlan_module_supported( expected=True, execute_side_effect=None) self._check_vxlan_module_supported( expected=False, execute_side_effect=RuntimeError()) ",31,37
openstack%2Fcinder~master~I9070eb5557b5a0ccc0563785f22e5fff7ad332f8,openstack/cinder,master,I9070eb5557b5a0ccc0563785f22e5fff7ad332f8,Extend LVM brick functionality,ABANDONED,2014-12-02 12:58:49.000000000,2014-12-16 20:54:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7350}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11737}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 13777}]","[{'number': 1, 'created': '2014-12-02 12:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20e0f296fd6e615173b04aa7010b94fa708a5a8b', 'message': 'Extend LVM brick functionality\n\nThis patch adds some new methods to the LVM brick:\n\n- VG activation\n- VG deactivation\n- VG removal\n- PV resizing\n- Thinpool extension\n\nThese changes were initially proposed in\nhttps://review.openstack.org/#/c/110236/ but reworked into a separate\npatch-set.\n\nChange-Id: I9070eb5557b5a0ccc0563785f22e5fff7ad332f8\n'}, {'number': 2, 'created': '2014-12-08 11:23:33.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/tests/brick/fake_lvm.py', 'cinder/tests/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5461a6d1ce5a7470573e59bb9ac7324f84529212', 'message': 'Extend LVM brick functionality\n\nThis patch adds some new methods to the LVM brick:\n\n- VG activation\n- VG deactivation\n- VG removal\n- PV resizing\n- Thinpool extension\n\nThese changes were initially proposed in\nhttps://review.openstack.org/#/c/110236/ but reworked into a separate\npatch-set.\n\nChange-Id: I9070eb5557b5a0ccc0563785f22e5fff7ad332f8\n'}]",1,138348,5461a6d1ce5a7470573e59bb9ac7324f84529212,30,18,2,13777,,,0,"Extend LVM brick functionality

This patch adds some new methods to the LVM brick:

- VG activation
- VG deactivation
- VG removal
- PV resizing
- Thinpool extension

These changes were initially proposed in
https://review.openstack.org/#/c/110236/ but reworked into a separate
patch-set.

Change-Id: I9070eb5557b5a0ccc0563785f22e5fff7ad332f8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/138348/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/tests/brick/fake_lvm.py', 'cinder/tests/brick/test_brick_lvm.py']",4,20e0f296fd6e615173b04aa7010b94fa708a5a8b,srb-lvm,"import mock elif 'vgremove, -f, ' in cmd_string: pass elif 'pvresize, ' in cmd_string: pass elif 'lvextend, ' in cmd_string: pass elif 'lvchange, ' in cmd_string: pass def test_activate_vg(self): executor = mock.MagicMock() self.vg.set_execute(executor) self.vg.activate_vg() executor.assert_called_once_with('vgchange', '-ay', self.configuration.volume_group_name, root_helper=self.vg._root_helper, run_as_root=True) def test_deactivate_vg(self): executor = mock.MagicMock() self.vg.set_execute(executor) self.vg.deactivate_vg() executor.assert_called_once_with('vgchange', '-an', self.configuration.volume_group_name, root_helper=self.vg._root_helper, run_as_root=True) def test_destroy_vg(self): executor = mock.MagicMock() self.vg.set_execute(executor) self.vg.destroy_vg() executor.assert_called_once_with('vgremove', '-f', self.configuration.volume_group_name, root_helper=self.vg._root_helper, run_as_root=True) def test_pv_resize(self): executor = mock.MagicMock() self.vg.set_execute(executor) self.vg.pv_resize('fake-pv', '50G') executor.assert_called_once_with('pvresize', '--setphysicalvolumesize', '50G', 'fake-pv', root_helper=self.vg._root_helper, run_as_root=True) def test_extend_thin_pool_nothin(self): executor =\ mock.MagicMock(side_effect=Exception('Unexpected call to execute')) self.vg.set_execute(executor) thin_calc =\ mock.MagicMock( side_effect= Exception('Unexpected call to _calculate_thin_pool_size')) self.vg._calculate_thin_pool_size = thin_calc self.vg.extend_thin_pool() def test_extend_thin_pool_thin(self): self.stubs.Set(processutils, 'execute', self.fake_execute) self.thin_vg = brick.LVM(self.configuration.volume_group_name, 'sudo', False, None, 'thin', self.fake_execute) self.assertTrue(self.thin_vg.supports_thin_provisioning('sudo')) self.thin_vg.update_volume_group_info = mock.MagicMock() with mock.patch('oslo.concurrency.processutils.execute'): executor = mock.MagicMock() self.thin_vg._execute = executor self.thin_vg.extend_thin_pool() executor.assert_called_once_with('lvextend', '-L', '9.5g', 'fake-vg/fake-vg-pool', root_helper=self.vg._root_helper, run_as_root=True) self.thin_vg.update_volume_group_info.assert_called_once_with()",,206,0
openstack%2Fmonasca-api~master~I41b64f11b1eb34b386ebbc902e6a68e581326133,openstack/monasca-api,master,I41b64f11b1eb34b386ebbc902e6a68e581326133,Remove peewee and replace with mysqldb,MERGED,2014-12-16 18:14:35.000000000,2014-12-16 20:53:39.000000000,2014-12-16 20:53:38.000000000,"[{'_account_id': 3}, {'_account_id': 11809}]","[{'number': 1, 'created': '2014-12-16 18:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/86d730de586f4e23023780def1bdf8a75f9d6836', 'message': 'Remove peewee and replace with mysqldb\n\nChange-Id: I41b64f11b1eb34b386ebbc902e6a68e581326133\n'}, {'number': 2, 'created': '2014-12-16 19:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/055ef703ccc0198b64cf73982e90b65c1e0bbd7a', 'message': 'Remove peewee and replace with mysqldb\n\nChange-Id: I41b64f11b1eb34b386ebbc902e6a68e581326133\n'}, {'number': 3, 'created': '2014-12-16 20:13:09.000000000', 'files': ['monasca/common/repositories/exceptions.py', 'monasca/v2/reference/resource.py', 'ref-impl-requirements.txt', 'monasca/common/repositories/mysql/notifications_repository.py', 'monasca/v2/reference/notifications.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ebbe74a901a7ee908dfca00f1aef8759aa96806d', 'message': 'Remove peewee and replace with mysqldb\n\nChange-Id: I41b64f11b1eb34b386ebbc902e6a68e581326133\n'}]",1,142172,ebbe74a901a7ee908dfca00f1aef8759aa96806d,10,2,3,12512,,,0,"Remove peewee and replace with mysqldb

Change-Id: I41b64f11b1eb34b386ebbc902e6a68e581326133
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/72/142172/3 && git format-patch -1 --stdout FETCH_HEAD,"['monasca/common/repositories/exceptions.py', 'monasca/v2/reference/resource.py', 'ref-impl-requirements.txt', 'monasca/common/repositories/mysql/notifications_repository.py', 'monasca/v2/reference/notifications.py']",5,86d730de586f4e23023780def1bdf8a75f9d6836,feature/remove-peewee,"from monasca.v2.reference.resource import resource_try_catch_block def __init__(self, global_conf): @resource_try_catch_block def _create_notification(self, tenant_id, notification, uri): name = notification['name'].decode('utf8') notification_type = notification['type'].upper().decode('utf8') address = notification['address'].decode('utf8') notification_id = self._notifications_repo.create_notification( tenant_id, name, notification_type, address) return self._create_notification_response(notification_id, name, notification_type, address, uri) @resource_try_catch_block def _update_notification(self, id, tenant_id, notification, uri): name = notification['name'].decode('utf8') notification_type = notification['type'].upper().decode('utf8') address = notification['address'].decode('utf8') self._notifications_repo.update_notification(id, tenant_id, name, notification_type, address) return self._create_notification_response(id, name, notification_type, address, uri) def _create_notification_response(self, id, name, type, address, uri): response = {'id': id, 'name': name, 'type': type, return helpers.add_links_to_resource(response, uri) @resource_try_catch_block def _list_notifications(self, tenant_id, uri): rows = self._notifications_repo.list_notifications(tenant_id) return [self._build_notification_result(row, uri) for row in rows] @resource_try_catch_block def _list_notification(self, tenant_id, notification_id, uri): row = self._notifications_repo.list_notification( tenant_id, notification_id) return self._build_notification_result(row, uri) def _build_notification_result(self, notification_row, uri): result = { u'id': notification_row['id'], u'name': notification_row['name'], u'type': notification_row['type'], u'address': notification_row['address'] } helpers.add_links_to_resource(result, uri) return result @resource_try_catch_block def _delete_notification(self, tenant_id, notification_id): self._notifications_repo.delete_notification(tenant_id, notification_id) result = self._create_notification(tenant_id, notification, req.uri) res.body = json.dumps(result, ensure_ascii=False).encode('utf8') res.status = falcon.HTTP_201 result = self._list_notifications(tenant_id, req.uri) res.body = json.dumps(result, ensure_ascii=False).encode('utf8') result = self._list_notification(tenant_id, id, req.uri) res.body = json.dumps(result, ensure_ascii=False).encode('utf8') result = self._update_notification(id, tenant_id, notification, req.uri) res.body = json.dumps(result, ensure_ascii=False).encode('utf8')","from monasca.common.repositories import exceptions as repository_exceptionsfrom monasca.openstack.common import uuidutils def __init__(self, global_conf): def _create_notification(self, id, tenant_id, notification): """"""Store the notification using the repository. :param notification: A notification object. :raises: falcon.HTTPServiceUnavailable,falcon.HTTPConflict """""" try: name = notification['name'] notification_type = notification['type'].upper() address = notification['address'] if self._notifications_repo.exists(tenant_id, name): raise falcon.HTTPConflict('Conflict', ( 'Notification Method already exists: tenant_id=%s ' 'name=%s' % ( tenant_id, name)), code=409) self._notifications_repo.create_notification(id, tenant_id, name, notification_type, address) except repository_exceptions.RepositoryException as ex: LOG.error(ex) raise falcon.HTTPInternalServerError('Service unavailable', ex.message) def _update_notification(self, id, tenant_id, notification): """"""Update the notification using the repository. :param notification: A notification object. :raises: falcon.HTTPServiceUnavailable,falcon.HTTPError (404) """""" try: name = notification['name'] notification_type = notification['type'].upper() address = notification['address'] self._notifications_repo.update_notification(id, tenant_id, name, notification_type, address) except repository_exceptions.DoesNotExistException: helpers.raise_not_found_exception('notification', id, tenant_id) except repository_exceptions.RepositoryException as ex: LOG.error(ex) raise falcon.HTTPInternalServerError('Service unavailable', ex.message) def _create_notification_response(self, id, notification, uri): name = notification['name'] notification_type = notification['type'].upper() address = notification['address'] response = {'id': id, 'name': name, 'type': notification_type, return json.dumps(helpers.add_links_to_resource(response, uri), ensure_ascii=False).encode('utf8') def _list_notifications(self, tenant_id, uri): """"""Lists all notifications for this tenant id. :param tenant_id: The tenant id. :raises: falcon.HTTPServiceUnavailable """""" try: notifications = self._notifications_repo.list_notifications( tenant_id) return json.dumps( helpers.add_links_to_resource_list(notifications, uri)) except repository_exceptions.RepositoryException as ex: LOG.error(ex) raise falcon.HTTPInternalServerError('Service unavailable', ex.message) def _list_notification(self, tenant_id, notification_id, uri): """"""Lists the notification by id. :param tenant_id: The tenant id. :param notification_id: The notification id :raises: falcon.HTTPServiceUnavailable,falcon.HTTPError (404): """""" try: notifications = self._notifications_repo.list_notification( tenant_id, notification_id) return json.dumps( helpers.add_links_to_resource(notifications, uri)) except repository_exceptions.DoesNotExistException: helpers.raise_not_found_exception('notification', notification_id, tenant_id) except repository_exceptions.RepositoryException as ex: LOG.error(ex) raise falcon.HTTPInternalServerError('Service unavailable', ex.message) def _delete_notification(self, tenant_id, notification_id): """"""Deletes the notification using the repository. :param tenant_id: The tenant id. :param notification_id: The notification id :raises: falcon.HTTPServiceUnavailable,falcon.HTTPError (404) """""" try: self._notifications_repo.delete_notification(tenant_id, notification_id) except repository_exceptions.DoesNotExistException: helpers.raise_not_found_exception('notification', notification_id, tenant_id) except repository_exceptions.RepositoryException as ex: LOG.error(ex) raise falcon.HTTPInternalServerError('Service unavailable', ex.message) id = uuidutils.generate_uuid() self._create_notification(id, tenant_id, notification) res.body = self._create_notification_response(id, notification, req.uri) res.status = falcon.HTTP_200 res.body = self._list_notifications(tenant_id, req.uri) res.body = self._list_notification(tenant_id, id, req.uri) self._update_notification(id, tenant_id, notification) res.body = self._create_notification_response(id, notification, req.uri)",202,195
openstack%2Fopenstack-ansible~master~I725e87fca647a21ea0e2d64952626b6f6fc6e2a3,openstack/openstack-ansible,master,I725e87fca647a21ea0e2d64952626b6f6fc6e2a3,Add swift_all inventory to swift account/container/object plays,MERGED,2014-12-15 11:52:42.000000000,2014-12-16 20:46:16.000000000,2014-12-16 19:39:14.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 9820}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-15 11:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/221e814574b7963ad9a442d9235b2a988bd29e1a', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 2, 'created': '2014-12-16 10:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/df585cd777d2ce2cae18c1449e251ced1d6aba67', 'message': 'Add service_name variable to swift account/container/object plays\n\nThis patch adds the service_name variable to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 3, 'created': '2014-12-16 11:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ee212e9e34e59bec380be41e4f67568429bdacd', 'message': 'Add service_name variable to swift account/container/object plays\n\nThis patch adds the service_name variable to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 4, 'created': '2014-12-16 11:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac9a2f135a2cc92729eec462be0833b56c4d1ebf', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 5, 'created': '2014-12-16 12:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3df3819dce7ba469661e2c4cd268f8fa957f598e', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 6, 'created': '2014-12-16 13:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c597b5446d90ef9de8b3a62a6c6854c8b94c77d9', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 7, 'created': '2014-12-16 16:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b03d928c5c509568371a5921256a134bf79390fd', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}, {'number': 8, 'created': '2014-12-16 17:18:44.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/playbooks/openstack/swift-container.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/198645cd2c84491ea8b4e7fe0aedf647ca2f6c04', 'message': 'Add swift_all inventory to swift account/container/object plays\n\nThis patch adds the swift_all inventory to the swift account, container\nand object plays to ensure that the correct service name is used when\nthe play configures the upstart services.\nWithout including the inventory a different service name is used,\nresulting in upstart trying to find the config files in /etc/neutron.\n\nChange-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3\nCloses-Bug: #1402617\n'}]",1,141774,198645cd2c84491ea8b4e7fe0aedf647ca2f6c04,32,6,8,6816,,,0,"Add swift_all inventory to swift account/container/object plays

This patch adds the swift_all inventory to the swift account, container
and object plays to ensure that the correct service name is used when
the play configures the upstart services.
Without including the inventory a different service name is used,
resulting in upstart trying to find the config files in /etc/neutron.

Change-Id: I725e87fca647a21ea0e2d64952626b6f6fc6e2a3
Closes-Bug: #1402617
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/141774/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/playbooks/openstack/swift-container.yml']",3,221e814574b7963ad9a442d9235b2a988bd29e1a,bug/1402617, - inventory/group_vars/swift_all.yml,,3,0
openstack%2Fcongress~master~Idba7feb9eaf5d6734ad8176e79b83dbb8e733e9d,openstack/congress,master,Idba7feb9eaf5d6734ad8176e79b83dbb8e733e9d,Enable: H305 imports not grouped correctly,MERGED,2014-12-06 15:46:06.000000000,2014-12-16 20:25:07.000000000,2014-12-16 20:25:07.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 7770}, {'_account_id': 8215}, {'_account_id': 12256}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-06 15:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/9f764a6f33e8da55ab11ab019b8372ccf29a5dd7', 'message': 'Enable: H305 imports not grouped correctly\n\nChange-Id: Idba7feb9eaf5d6734ad8176e79b83dbb8e733e9d\nCloses-Bug: #1398551\n'}, {'number': 2, 'created': '2014-12-14 14:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/5f7249ba0d3ac3e217026beb7c6bc1262238f3f6', 'message': 'Enable: H305 imports not grouped correctly\n\nChange-Id: Idba7feb9eaf5d6734ad8176e79b83dbb8e733e9d\nCloses-Bug: #1398551\n'}, {'number': 3, 'created': '2014-12-16 18:22:11.000000000', 'files': ['congress/tests/api/test_webservice.py', 'congress/tests/common/test_policy.py', 'congress/server/congress_server.py', 'congress/api/application.py', 'congress/datasources/plexxi_driver.py', 'congress/dse/d6cage.py', 'congress/tests/datasources/test_neutron_driver.py', 'congress/dse/deepsix.py', 'congress/policy/runtime.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/c4d66c1dfba2055aa936f7706583936a763dd6d7', 'message': 'Enable: H305 imports not grouped correctly\n\nChange-Id: Idba7feb9eaf5d6734ad8176e79b83dbb8e733e9d\nCloses-Bug: #1398551\n'}]",2,139811,c4d66c1dfba2055aa936f7706583936a763dd6d7,25,6,3,12256,,,0,"Enable: H305 imports not grouped correctly

Change-Id: Idba7feb9eaf5d6734ad8176e79b83dbb8e733e9d
Closes-Bug: #1398551
",git fetch https://review.opendev.org/openstack/congress refs/changes/11/139811/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/api/test_webservice.py', 'congress/tests/common/test_policy.py', 'congress/server/congress_server.py', 'congress/api/application.py', 'congress/datasources/plexxi_driver.py', 'congress/dse/d6cage.py', 'congress/tests/datasources/test_neutron_driver.py', 'congress/dse/deepsix.py', 'tox.ini', 'congress/policy/runtime.py']",10,9f764a6f33e8da55ab11ab019b8372ccf29a5dd7,bug/1398551,# FIXME there is a circular import here because compile.py imports runtime.py from congress.openstack.common import log as logging from congress.policy import utility ,# FIXME there is a circular import here because compile.py imports runtime.pyfrom congress.openstack.common import log as logging from congress.policy import utility,16,12
openstack%2Fpuppet-monasca~master~Ic5a36dd8ab29472a6576fec342312f18a118c32a,openstack/puppet-monasca,master,Ic5a36dd8ab29472a6576fec342312f18a118c32a,Corrected yaml formatting for libvirt template,MERGED,2014-12-16 19:07:12.000000000,2014-12-16 19:50:39.000000000,2014-12-16 19:50:39.000000000,"[{'_account_id': 3}, {'_account_id': 8126}]","[{'number': 1, 'created': '2014-12-16 19:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/c35bd4d23fa97a84b2a0ac71b2bdc02e02fe808e', 'message': 'Corrected yaml formatting for libvirt template\n\nChange-Id: Ic5a36dd8ab29472a6576fec342312f18a118c32a\n'}, {'number': 2, 'created': '2014-12-16 19:08:29.000000000', 'files': ['templates/checks/libvirt.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/55052af810d532e07c7c655e09fd301f95712149', 'message': 'Corrected yaml formatting for libvirt template\n\nChange-Id: Ic5a36dd8ab29472a6576fec342312f18a118c32a\n'}]",0,142190,55052af810d532e07c7c655e09fd301f95712149,7,2,2,11155,,,0,"Corrected yaml formatting for libvirt template

Change-Id: Ic5a36dd8ab29472a6576fec342312f18a118c32a
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/90/142190/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/checks/libvirt.yaml.erb'],1,c35bd4d23fa97a84b2a0ac71b2bdc02e02fe808e,,init_config: admin_password: <%= admin_password %> admin_tenant_name: <%= admin_tenant_name %> admin_user: <%= admin_user %> cache_dir: <%= cache_dir %> identity_uri: <%= identity_uri %> nova_refresh: <%= nova_refresh %> vm_probation: <%= vm_probation %>,"init_config: {admin_password: <%= admin_password %>, admin_tenant_name: <%= admin_tenant_name %>, admin_user: <%= admin_user %>, cache_dir: <%= cache_dir %>, identity_uri: <%= identity_uri %>, nova_refresh: <%= nova_refresh %>, vm_probation: <%= vm_probation %>}",8,7
openstack%2Fproject-config~master~I7d2302d4a0ba0def9d6fcc5af89e6e7a5d1fab45,openstack/project-config,master,I7d2302d4a0ba0def9d6fcc5af89e6e7a5d1fab45,Remove requirements overlap check,MERGED,2014-12-16 16:45:01.000000000,2014-12-16 19:42:02.000000000,2014-12-16 19:40:59.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 11610}]","[{'number': 1, 'created': '2014-12-16 16:45:01.000000000', 'files': ['jenkins/jobs/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/895611a451e034654f0130673b1411c26e448c3d', 'message': 'Remove requirements overlap check\n\nThe requirements overlap check was originally designed to address\na behavior introduced by our requirements-driven pypi mirror. Now\nthat we use full mirrors of pypi, it is no longer necessary and\nis an artifical restriction that may cause problems for us.\n\nChange-Id: I7d2302d4a0ba0def9d6fcc5af89e6e7a5d1fab45\nPartial-Bug: 1274731\n'}]",0,142152,895611a451e034654f0130673b1411c26e448c3d,9,5,1,1,,,0,"Remove requirements overlap check

The requirements overlap check was originally designed to address
a behavior introduced by our requirements-driven pypi mirror. Now
that we use full mirrors of pypi, it is no longer necessary and
is an artifical restriction that may cause problems for us.

Change-Id: I7d2302d4a0ba0def9d6fcc5af89e6e7a5d1fab45
Partial-Bug: 1274731
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/142152/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/projects.yaml'],1,895611a451e034654f0130673b1411c26e448c3d,bug/1274731,, - gate-{name}-tox-{envlist}: envlist: versions-overlap-parent ,0,3
openstack%2Fproject-config~master~Ibd8b209589452fe53564373f3d6457850d77283d,openstack/project-config,master,Ibd8b209589452fe53564373f3d6457850d77283d,Fix project-config-compare-xml,MERGED,2014-12-16 18:35:07.000000000,2014-12-16 19:38:12.000000000,2014-12-16 19:38:11.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5263}]","[{'number': 1, 'created': '2014-12-16 18:35:07.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a77cad371a2fa4d9b8db6ad070c34738374e1c79', 'message': 'Fix project-config-compare-xml\n\nChange I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d was applied\nat the wrong place, the failure/success messages from\nproject-config-compare-xml were added for project-config-gerrit.\n\nMove them to the right place.\n\nChange-Id: Ibd8b209589452fe53564373f3d6457850d77283d\n'}]",0,142179,a77cad371a2fa4d9b8db6ad070c34738374e1c79,8,4,1,6547,,,0,"Fix project-config-compare-xml

Change I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d was applied
at the wrong place, the failure/success messages from
project-config-compare-xml were added for project-config-gerrit.

Move them to the right place.

Change-Id: Ibd8b209589452fe53564373f3d6457850d77283d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/142179/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,a77cad371a2fa4d9b8db6ad070c34738374e1c79,fix-project-config-gerrit, failure-message: Jenkins XML output has changed. success-message: Jenkins XML output is unchanged., failure-message: Jenkins XML output has changed. success-message: Jenkins XML output is unchanged.,2,2
openstack%2Fproject-config~master~I3172ebd10a7cb2227068149eff29b7230bf6d98c,openstack/project-config,master,I3172ebd10a7cb2227068149eff29b7230bf6d98c,Grant push tag privilege to compass-core group,ABANDONED,2014-12-15 20:58:35.000000000,2014-12-16 19:37:23.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 9853}]","[{'number': 1, 'created': '2014-12-15 20:58:35.000000000', 'files': ['gerrit/acls/stackforge/compass.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/30c50946dd468da27791ccca45e1969088632293', 'message': 'Grant push tag privilege to compass-core group\n\nChange-Id: I3172ebd10a7cb2227068149eff29b7230bf6d98c\n'}]",1,141903,30c50946dd468da27791ccca45e1969088632293,9,5,1,9853,,,0,"Grant push tag privilege to compass-core group

Change-Id: I3172ebd10a7cb2227068149eff29b7230bf6d98c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/141903/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/stackforge/compass.config'],1,30c50946dd468da27791ccca45e1969088632293,,pushTag = group compass-core,,1,0
openstack%2Fopenstack-ansible~master~Ie7fa32a472105b2e7ba1074122b3abd8b4467f4c,openstack/openstack-ansible,master,Ie7fa32a472105b2e7ba1074122b3abd8b4467f4c,Specify units in haproxy configuration,MERGED,2014-12-16 16:45:35.000000000,2014-12-16 19:35:31.000000000,2014-12-16 19:35:29.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7307}, {'_account_id': 7414}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-16 16:45:35.000000000', 'files': ['etc/rpc_deploy/user_variables.yml', 'rpc_deployment/roles/haproxy_common/templates/haproxy.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8c2f84bd8a9ea049cf05016790d96e4f8e4a8dbd', 'message': ""Specify units in haproxy configuration\n\nPrevious update omitted the 's' suffix so the value was interpreted as\nmiliseconds. This patch corrects that.\n\nChange-Id: Ie7fa32a472105b2e7ba1074122b3abd8b4467f4c\nCloses-Bug: #1402580\n""}]",0,142153,8c2f84bd8a9ea049cf05016790d96e4f8e4a8dbd,10,6,1,7217,,,0,"Specify units in haproxy configuration

Previous update omitted the 's' suffix so the value was interpreted as
miliseconds. This patch corrects that.

Change-Id: Ie7fa32a472105b2e7ba1074122b3abd8b4467f4c
Closes-Bug: #1402580
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/142153/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/rpc_deploy/user_variables.yml', 'rpc_deployment/roles/haproxy_common/templates/haproxy.cfg']",2,8c2f84bd8a9ea049cf05016790d96e4f8e4a8dbd,bug/1402580, timeout client {{ haproxy_timeout|default('90s') }} timeout server {{ haproxy_timeout|default('90s') }}, timeout client {{ haproxy_timeout|default(90) }} timeout server {{ haproxy_timeout|default(90) }},4,4
openstack%2Fcongress~master~I8610e7d6c9d13c55b70b896c3f09b347d18635ad,openstack/congress,master,I8610e7d6c9d13c55b70b896c3f09b347d18635ad,Enable: H401 docstring should not start with a space,MERGED,2014-12-06 15:58:43.000000000,2014-12-16 19:33:29.000000000,2014-12-16 17:20:31.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 7770}, {'_account_id': 8215}, {'_account_id': 12256}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-06 15:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/cbc15382c85571d5246e0e75a7f1ff076857a3f2', 'message': 'Enable: H401 docstring should not start with a space\n\nChange-Id: I8610e7d6c9d13c55b70b896c3f09b347d18635ad\nCloses-Bug: #1398553\n'}, {'number': 2, 'created': '2014-12-14 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f928cd74e7c1f9d499786d3828786f01312e1ad5', 'message': 'Enable: H401 docstring should not start with a space\n\nChange-Id: I8610e7d6c9d13c55b70b896c3f09b347d18635ad\nCloses-Bug: #1398553\n'}, {'number': 3, 'created': '2014-12-15 05:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/9e42f0b961fe6015343fa6848812c1016fd9ba1e', 'message': 'Enable: H401 docstring should not start with a space\n\nChange-Id: I8610e7d6c9d13c55b70b896c3f09b347d18635ad\nCloses-Bug: #1398553\n'}, {'number': 4, 'created': '2014-12-16 04:01:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/2a9a229fe0b3a08b1d1fbe4750788e3b7e0c3f7a', 'message': 'Enable: H401 docstring should not start with a space\n\nChange-Id: I8610e7d6c9d13c55b70b896c3f09b347d18635ad\nCloses-Bug: #1398553\n'}]",0,139812,2a9a229fe0b3a08b1d1fbe4750788e3b7e0c3f7a,45,6,4,12256,,,0,"Enable: H401 docstring should not start with a space

Change-Id: I8610e7d6c9d13c55b70b896c3f09b347d18635ad
Closes-Bug: #1398553
",git fetch https://review.opendev.org/openstack/congress refs/changes/12/139812/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cbc15382c85571d5246e0e75a7f1ff076857a3f2,bug/1398553,"ignore = E128,E129,E251,F402,F811,F812,H237,H305,H404,H405,H904,H231,E122,H302","# H401 docstring should not start with a spaceignore = E128,E129,E251,F402,F811,F812,H237,H305,H401,H404,H405,H904,H231,E122,H302",1,2
openstack%2Fneutron~master~Ib1039ea1ff9480ca57f9cb0c917469d0d2ad28b8,openstack/neutron,master,Ib1039ea1ff9480ca57f9cb0c917469d0d2ad28b8,tests: initialize admin context after super().setUp call,MERGED,2014-12-08 13:34:00.000000000,2014-12-16 19:30:27.000000000,2014-12-16 06:27:42.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7293}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-08 13:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b561772a090998bfa48457226ad08d4e0aca1f65', 'message': 'tests: initialize admin context after super().setUp call\n\nNew policy code requires that CONF is already initialized when policy\nchecks are invoked. It means that no Neutron context objects should be\ncreated before BaseTestCase.setUp() is called that will set\nconfiguration, among other things.\n\nIdeally, we would just make sure that all test cases invoke\nsuper().setUp() as the very first line of any subclass setUp() methods.\nBut since some of test cases require prior setup (like mocking extension\nmanager) before proceeding to base class, we end up with magically\nshuffling context instantiations to occur below super() calls.\n\nChange-Id: Ib1039ea1ff9480ca57f9cb0c917469d0d2ad28b8\nCloses-Bug: #1400301\n'}, {'number': 2, 'created': '2014-12-12 15:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e01a87dbda40dc28e821d8136991399b24d682f6', 'message': 'tests: initialize admin context after super().setUp call\n\nNew policy code requires that CONF is already initialized when policy\nchecks are invoked. It means that no Neutron context objects should be\ncreated before BaseTestCase.setUp() is called that will set\nconfiguration, among other things.\n\nIdeally, we would just make sure that all test cases invoke\nsuper().setUp() as the very first line of any subclass setUp() methods.\nBut since some of test cases require prior setup (like mocking extension\nmanager) before proceeding to base class, we end up with magically\nshuffling context instantiations to occur below super() calls.\n\nChange-Id: Ib1039ea1ff9480ca57f9cb0c917469d0d2ad28b8\nCloses-Bug: #1400301\n'}, {'number': 3, 'created': '2014-12-15 11:12:24.000000000', 'files': ['neutron/tests/unit/ml2/drivers/brocade/test_brocade_l3_plugin.py', 'neutron/tests/unit/vmware/extensions/test_maclearning.py', 'neutron/tests/unit/test_agent_ext_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e33349e216e9361f4d93e012b91dd69b4bea9e92', 'message': 'tests: initialize admin context after super().setUp call\n\nNew policy code requires that CONF is already initialized when policy\nchecks are invoked. It means that no Neutron context objects should be\ncreated before BaseTestCase.setUp() is called that will set\nconfiguration, among other things.\n\nIdeally, we would just make sure that all test cases invoke\nsuper().setUp() as the very first line of any subclass setUp() methods.\nBut since some of test cases require prior setup (like mocking extension\nmanager) before proceeding to base class, we end up with magically\nshuffling context instantiations to occur below super() calls.\n\nChange-Id: Ib1039ea1ff9480ca57f9cb0c917469d0d2ad28b8\nCloses-Bug: #1400301\n'}]",0,139998,e33349e216e9361f4d93e012b91dd69b4bea9e92,94,31,3,9656,,,0,"tests: initialize admin context after super().setUp call

New policy code requires that CONF is already initialized when policy
checks are invoked. It means that no Neutron context objects should be
created before BaseTestCase.setUp() is called that will set
configuration, among other things.

Ideally, we would just make sure that all test cases invoke
super().setUp() as the very first line of any subclass setUp() methods.
But since some of test cases require prior setup (like mocking extension
manager) before proceeding to base class, we end up with magically
shuffling context instantiations to occur below super() calls.

Change-Id: Ib1039ea1ff9480ca57f9cb0c917469d0d2ad28b8
Closes-Bug: #1400301
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/139998/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/vpn/test_vpnaas_driver_plugin.py', 'neutron/tests/unit/ml2/drivers/brocade/test_brocade_l3_plugin.py', 'neutron/tests/unit/vmware/extensions/test_maclearning.py', 'neutron/tests/unit/test_agent_ext_plugin.py']",4,b561772a090998bfa48457226ad08d4e0aca1f65,bug/1400301, self.adminContext = context.get_admin_context(), self.adminContext = context.get_admin_context(),4,4
openstack%2Fneutron~master~Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2,openstack/neutron,master,Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2,Fixed test test_update_port_security_off_address_pairs,MERGED,2014-12-09 14:22:06.000000000,2014-12-16 19:29:23.000000000,2014-12-16 09:55:04.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 4727}, {'_account_id': 5170}, {'_account_id': 6502}, {'_account_id': 6598}, {'_account_id': 7293}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9423}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-09 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70d2bb4286695ce82452075756dee627ca3316a6', 'message': ""Fix typo in a unittest for allowed-address-pairs extension\n\nThe typo is in the security-groups extension alias names:\n'security-groups' -> 'security-group'\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}, {'number': 2, 'created': '2014-12-09 14:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/270a285a31dbe6db54982860d85ba35cd71484d5', 'message': ""Fix typo in a unittest for allowed-address-pairs extension\n\nThe typo is in the security-groups extension alias names:\n'security-groups' -> 'security-group'\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nCloses-Bug: #1400725\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}, {'number': 3, 'created': '2014-12-10 12:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9f38f9a2f33f5c16439645a4941f39a5395493e', 'message': ""Fixed test test_update_port_security_off_address_pairs\n\nThis test checks that port-update fails with 409 return code when\nport-security is turned off on a port which contains addressed-pairs.\nThe test had a typo ('security-groups' -> 'security-group') which would\nhave cause it to produce false-positive.\nThis change rewrites the test and eliminates the possibility of this\nfalse-positive to occurs.\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nCloses-Bug: #1400725\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}, {'number': 4, 'created': '2014-12-13 23:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0fa47121e8fbd9e75d7b3833e0e97ac9aa38dad', 'message': ""Fixed test test_update_port_security_off_address_pairs\n\nThis test checks that port-update fails with 409 return code when\nport-security is turned off on a port which contains addressed-pairs.\nThe test had a typo ('security-groups' -> 'security-group') which would\nhave cause it to produce false-positive.\nThis change rewrites the test and eliminates the possibility of this\nfalse-positive to occurs.\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nCloses-Bug: #1400725\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}, {'number': 5, 'created': '2014-12-14 09:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ed16cc7a538c5227a0135a76e18db09e7d84b98', 'message': ""Fixed test test_update_port_security_off_address_pairs\n\nThis test checks that port-update fails with 409 return code when\nport-security is turned off on a port which contains addressed-pairs.\nThe test had a typo ('security-groups' -> 'security-group') which would\nhave cause it to produce false-positive.\nThis change rewrites the test and eliminates the possibility of this\nfalse-positive to occurs.\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nCloses-Bug: #1400725\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}, {'number': 6, 'created': '2014-12-14 13:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/917124c89975d32706a71db4c86c91ce1a6ee867', 'message': ""Fixed test test_update_port_security_off_address_pairs\n\nThis test checks that port-update fails with 409 return code when\nport-security is turned off on a port which contains address-pairs.\nThe test had a typo ('security-groups' -> 'security-group') which would\nhave cause it to produce false-positive.\nThis change rewrites the test and eliminates the possibility of this\nfalse-positive to occurs.\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nCloses-Bug: #1400725\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}, {'number': 7, 'created': '2014-12-15 08:13:13.000000000', 'files': ['neutron/tests/unit/test_extension_allowedaddresspairs.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c18d1191c79fcfe46b60b6e5d8f06a687c86688', 'message': ""Fixed test test_update_port_security_off_address_pairs\n\nThis test checks that port-update fails with 409 return code when\nport-security is turned off on a port which contains address-pairs.\nThe test had a typo ('security-groups' -> 'security-group') which would\nhave cause it to produce false-positive.\nThis change rewrites the test and eliminates the possibility of this\nfalse-positive to occurs.\n\nChange-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2\nCloses-Bug: #1400725\nSigned-off-by: Roey Chen <roeyc@vmware.com>\n""}]",9,140341,7c18d1191c79fcfe46b60b6e5d8f06a687c86688,132,30,7,9423,,,0,"Fixed test test_update_port_security_off_address_pairs

This test checks that port-update fails with 409 return code when
port-security is turned off on a port which contains address-pairs.
The test had a typo ('security-groups' -> 'security-group') which would
have cause it to produce false-positive.
This change rewrites the test and eliminates the possibility of this
false-positive to occurs.

Change-Id: Ib54ad089872f28eb28a3d4d050ba0ee8fdc2bfe2
Closes-Bug: #1400725
Signed-off-by: Roey Chen <roeyc@vmware.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/140341/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_extension_allowedaddresspairs.py'],1,70d2bb4286695ce82452075756dee627ca3316a6,bug/1400725, if 'security-group' in plugin_obj.supported_extension_aliases:, if 'security-groups' in plugin_obj.supported_extension_aliases:,1,1
openstack%2Foslo.db~stable%2Fjuno~I985865a921f0ef1997eec9b407e7d5c24ce96f39,openstack/oslo.db,stable/juno,I985865a921f0ef1997eec9b407e7d5c24ce96f39,Updated from global requirements,MERGED,2014-11-27 10:37:42.000000000,2014-12-16 19:19:40.000000000,2014-12-16 19:19:40.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-11-27 10:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ff666cc330c08f8c514746254d2f0d5c900a2b56', 'message': 'Updated from global requirements\n\nChange-Id: I985865a921f0ef1997eec9b407e7d5c24ce96f39\n'}, {'number': 2, 'created': '2014-12-03 21:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bee2d9b3f5556b2a3fc862afdbff420450dbf461', 'message': 'Updated from global requirements\n\nChange-Id: I985865a921f0ef1997eec9b407e7d5c24ce96f39\n'}, {'number': 3, 'created': '2014-12-14 00:16:55.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/be916c107e13005cf32929d9b701a79883444258', 'message': 'Updated from global requirements\n\nChange-Id: I985865a921f0ef1997eec9b407e7d5c24ce96f39\n'}]",0,137583,be916c107e13005cf32929d9b701a79883444258,22,7,3,11131,,,0,"Updated from global requirements

Change-Id: I985865a921f0ef1997eec9b407e7d5c24ce96f39
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/83/137583/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,ff666cc330c08f8c514746254d2f0d5c900a2b56,openstack/requirements,"oslotest>=1.1.0,<1.4 # Apache-2.0testtools>=0.9.34,!=1.4.0",oslotest>=1.1.0 # Apache-2.0testtools>=0.9.34,6,6
openstack%2Fbarbican~master~I64d00db8bc6f39d59a0fa42ad9af52bd1014a1f7,openstack/barbican,master,I64d00db8bc6f39d59a0fa42ad9af52bd1014a1f7,Actually run type order creation test,MERGED,2014-12-16 03:51:57.000000000,2014-12-16 19:19:27.000000000,2014-12-16 19:19:27.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-12-16 03:51:57.000000000', 'files': ['barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/e8c334b55a8596d144cebbda7ee03d1c0a5a1385', 'message': 'Actually run type order creation test\n\nThe running of the type order creation test used to be skipped due to\na pending CR. Now the test is ran, but there seemed to be a problem\nwhere the proper project ID was not added to the calls. This was due\nto the test not being properly set. Now this was fixed.\n\nChange-Id: I64d00db8bc6f39d59a0fa42ad9af52bd1014a1f7\n'}]",0,141974,e8c334b55a8596d144cebbda7ee03d1c0a5a1385,8,13,1,10873,,,0,"Actually run type order creation test

The running of the type order creation test used to be skipped due to
a pending CR. Now the test is ran, but there seemed to be a problem
where the proper project ID was not added to the calls. This was due
to the test not being properly set. Now this was fixed.

Change-Id: I64d00db8bc6f39d59a0fa42ad9af52bd1014a1f7
",git fetch https://review.opendev.org/openstack/barbican refs/changes/74/141974/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/tests/api/test_resources.py'],1,e8c334b55a8596d144cebbda7ee03d1c0a5a1385,, self.app.extra_environ = get_barbican_env(self.project_keystone_id)," self.skipTest(""atiwari: remove skip once CR 111412 merged"")",1,1
openstack%2Fheat~stable%2Ficehouse~I5f16c528652f12440160f03b92f41b76d1c9100c,openstack/heat,stable/icehouse,I5f16c528652f12440160f03b92f41b76d1c9100c,Call server volume detach only once,MERGED,2014-12-08 11:08:27.000000000,2014-12-16 19:17:39.000000000,2014-12-16 19:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4257}, {'_account_id': 13009}]","[{'number': 1, 'created': '2014-12-08 11:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d86b855471d8108e011f666ae49fd05685daedb7', 'message': 'Call server volume detach only once\n\nChanges:\n - Removed duplicate delete calls to prevent race condition.\n - Removed duplicate mocked calls from unit-test.\n\nCloses-Bug: #1311533\n\nConflicts:\n\theat/engine/resources/volume.py\n\theat/tests/test_volume.py\n\nChange-Id: I5f16c528652f12440160f03b92f41b76d1c9100c\n(cherry picked from commit d1ffbd4bfde0cd6b7a82a48b9d4f59cc8b310bd8)\n'}, {'number': 2, 'created': '2014-12-16 15:20:47.000000000', 'files': ['heat/engine/resources/volume.py', 'heat/tests/test_volume.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0b984b8c13338cf2ec3836e21e71c3c955a148b4', 'message': 'Call server volume detach only once\n\nChanges:\n - Removed duplicate delete calls to prevent race condition.\n - Removed duplicate mocked calls from unit-test.\n\nCloses-Bug: #1311533\nCloses-Bug: #1298350\n\nConflicts:\n\theat/engine/resources/volume.py\n\theat/tests/test_volume.py\n\nChange-Id: I5f16c528652f12440160f03b92f41b76d1c9100c\n(cherry picked from commit d1ffbd4bfde0cd6b7a82a48b9d4f59cc8b310bd8)'}]",1,139972,0b984b8c13338cf2ec3836e21e71c3c955a148b4,14,4,2,9542,,,0,"Call server volume detach only once

Changes:
 - Removed duplicate delete calls to prevent race condition.
 - Removed duplicate mocked calls from unit-test.

Closes-Bug: #1311533
Closes-Bug: #1298350

Conflicts:
	heat/engine/resources/volume.py
	heat/tests/test_volume.py

Change-Id: I5f16c528652f12440160f03b92f41b76d1c9100c
(cherry picked from commit d1ffbd4bfde0cd6b7a82a48b9d4f59cc8b310bd8)",git fetch https://review.opendev.org/openstack/heat refs/changes/72/139972/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/volume.py', 'heat/tests/test_volume.py']",2,d86b855471d8108e011f666ae49fd05685daedb7,bug/1311533," fva = FakeVolume('in-use', 'available')"," fva = FakeVolume('i-use', 'available') self.m.StubOutWithMock(fva, 'get') fva.get().MultipleTimes() fva.status = ""in-use"" self.fc.volumes.delete_server_volume( 'WikiDatabase', 'vol-123').AndRaise( clients.novaclient.exceptions.NotFound('Not found')) self.fc.volumes.delete_server_volume( 'WikiDatabase', 'vol-123').AndRaise( clients.novaclient.exceptions.NotFound('Not found')) self.fc.volumes.delete_server_volume( 'WikiDatabase', 'vol-123').AndRaise( clients.cinderclient.exceptions.NotFound('Not found')) ",1,23
openstack%2Fopenstack-ansible~stable%2Fjuno~Idb75f816f47740ee28ec5d7d8afb118acf4a71bb,openstack/openstack-ansible,stable/juno,Idb75f816f47740ee28ec5d7d8afb118acf4a71bb,pin setuptools to 7.0 to workaround brokenness in 8.x,MERGED,2014-12-16 14:05:47.000000000,2014-12-16 19:16:32.000000000,2014-12-16 14:23:47.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-16 14:05:47.000000000', 'files': ['rpc_deployment/vars/repo_packages/swift.yml', 'requirements.txt', 'rpc_deployment/vars/repo_packages/readme.rst', 'rpc_deployment/vars/repo_packages/all_common.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ea012643aa90f5f8369bd4d7e62b5d4fef2d0cf', 'message': 'pin setuptools to 7.0 to workaround brokenness in 8.x\n\nsetuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the\nweekend.  This introduces a breaking change whereby python packages\ninstalled from SHA, rather than with a proper release version, do not\nhave their version numbers parsed properly due to the appended sha.\nEg python-glanceclient 0.14.2.2.gb126351\n\nThis commit:\n\n- pins setuptools to 7.0, to workaround this issue until a fix\nis made upstream, inside the global requirements.txt\n\n- removes package installations of python-setuptools and\npython-pip which had potential to further conflict.\n\n- removes the list pip_common_packages from the all_common vars file\n\nCloses-Bug: 1402679\n\nCloses-Bug: 1402672\n\nChange-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb\n(cherry picked from commit 2793a1dbcb73d1ebc8ed31a6e75fc31506b0c4e8)\n'}]",0,142110,7ea012643aa90f5f8369bd4d7e62b5d4fef2d0cf,9,6,1,425,,,0,"pin setuptools to 7.0 to workaround brokenness in 8.x

setuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the
weekend.  This introduces a breaking change whereby python packages
installed from SHA, rather than with a proper release version, do not
have their version numbers parsed properly due to the appended sha.
Eg python-glanceclient 0.14.2.2.gb126351

This commit:

- pins setuptools to 7.0, to workaround this issue until a fix
is made upstream, inside the global requirements.txt

- removes package installations of python-setuptools and
python-pip which had potential to further conflict.

- removes the list pip_common_packages from the all_common vars file

Closes-Bug: 1402679

Closes-Bug: 1402672

Change-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb
(cherry picked from commit 2793a1dbcb73d1ebc8ed31a6e75fc31506b0c4e8)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/142110/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/swift.yml', 'requirements.txt', 'rpc_deployment/vars/repo_packages/readme.rst', 'rpc_deployment/vars/repo_packages/all_common.yml']",4,7ea012643aa90f5f8369bd4d7e62b5d4fef2d0cf,bug/1402679,,pip_common_packages: - wheel - setuptools - pip ,1,9
openstack%2Fsahara~master~Ibc4d0d80d5040d6f43a9d6bc114218187ec119a1,openstack/sahara,master,Ibc4d0d80d5040d6f43a9d6bc114218187ec119a1,Imported Translations from Transifex,MERGED,2014-12-13 06:12:47.000000000,2014-12-16 19:15:54.000000000,2014-12-16 19:15:54.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2014-12-13 06:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/139e708e154854f77a6b3a58b49251142902a8fd', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ibc4d0d80d5040d6f43a9d6bc114218187ec119a1\n'}, {'number': 2, 'created': '2014-12-14 06:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/2fa31df6e0d2c2e9dce4d648d6d3a3e7e1aadaa7', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ibc4d0d80d5040d6f43a9d6bc114218187ec119a1\n'}, {'number': 3, 'created': '2014-12-15 06:12:37.000000000', 'files': ['sahara/locale/sahara-log-error.pot', 'sahara/locale/sahara.pot', 'sahara/locale/sahara-log-info.pot', 'sahara/locale/sahara-log-critical.pot', 'sahara/locale/fr/LC_MESSAGES/sahara-log-critical.po', 'sahara/locale/ja/LC_MESSAGES/sahara-log-critical.po', 'sahara/locale/en_GB/LC_MESSAGES/sahara-log-error.po', 'sahara/locale/sahara-log-warning.pot'], 'web_link': 'https://opendev.org/openstack/sahara/commit/253c976052b7c71f0c6f69191083cd2dc42d1050', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ibc4d0d80d5040d6f43a9d6bc114218187ec119a1\n'}]",0,141542,253c976052b7c71f0c6f69191083cd2dc42d1050,25,8,3,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ibc4d0d80d5040d6f43a9d6bc114218187ec119a1
",git fetch https://review.opendev.org/openstack/sahara refs/changes/42/141542/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/locale/sahara-log-error.pot', 'sahara/locale/sahara.pot', 'sahara/locale/sahara-log-critical.pot', 'sahara/locale/sahara-log-info.pot', 'sahara/locale/fr/LC_MESSAGES/sahara-log-critical.po', 'sahara/locale/ja/LC_MESSAGES/sahara-log-critical.po', 'sahara/locale/en_GB/LC_MESSAGES/sahara-log-error.po', 'sahara/locale/sahara-log-warning.pot']",8,139e708e154854f77a6b3a58b49251142902a8fd,transifex/translations,"""Project-Id-Version: sahara 2015.1.dev317.ga37345d\n""""POT-Creation-Date: 2014-12-13 06:12+0000\n""#: sahara/plugins/hdp/versions/version_2_0_6/versionhandler.py:390#: sahara/plugins/hdp/versions/version_2_0_6/services.py:962#: sahara/plugins/hdp/versions/version_2_0_6/services.py:1062#: sahara/plugins/hdp/versions/version_2_0_6/services.py:1065#: sahara/plugins/hdp/versions/version_2_0_6/services.py:1076#: sahara/plugins/vanilla/v1_2_1/config_helper.py:390#: sahara/plugins/vanilla/v1_2_1/config_helper.py:411#: sahara/service/direct_engine.py:478#: sahara/service/direct_engine.py:492#: sahara/service/direct_engine.py:500#: sahara/service/direct_engine.py:506#: sahara/service/engine.py:182","""Project-Id-Version: sahara 2015.1.dev188.g2452036\n""""POT-Creation-Date: 2014-11-20 06:13+0000\n""#: sahara/openstack/common/policy.py:248 #, python-format msgid ""Can not find policy directories %s"" msgstr """" #: sahara/plugins/hdp/versions/version_2_0_6/versionhandler.py:389#: sahara/plugins/hdp/versions/version_2_0_6/services.py:927#: sahara/plugins/hdp/versions/version_2_0_6/services.py:1027#: sahara/plugins/hdp/versions/version_2_0_6/services.py:1030#: sahara/plugins/hdp/versions/version_2_0_6/services.py:1041#: sahara/plugins/vanilla/v1_2_1/config_helper.py:363#: sahara/plugins/vanilla/v1_2_1/config_helper.py:384#: sahara/service/direct_engine.py:466#: sahara/service/direct_engine.py:480#: sahara/service/direct_engine.py:488#: sahara/service/direct_engine.py:494#: sahara/service/engine.py:180",370,273
openstack%2Frequirements~master~If934a117039b4101190aba98dfe33ae491027956,openstack/requirements,master,If934a117039b4101190aba98dfe33ae491027956,pymemcache and sysv_ipc for tooz,MERGED,2014-12-11 05:06:08.000000000,2014-12-16 19:14:58.000000000,2014-12-16 19:14:58.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-11 05:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ce038345eef2b78c137a5ec37cd878a106c717b', 'message': 'pymemcache and sysv_ipc for tooz\n\nTooz currently does not enforce global requirements check and is\nhence drifting. We need the pymemcache for the memcached driver\nand we need sysv_ipc for the ipc driver in tooz.\n\nChange-Id: If934a117039b4101190aba98dfe33ae491027956\n'}, {'number': 2, 'created': '2014-12-15 15:38:18.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/75081313212ea66ea32e47017f7a96ad66ad2b92', 'message': 'pymemcache and sysv_ipc for tooz\n\nTooz currently does not enforce global requirements check and is\nhence drifting. We need the pymemcache for the memcached driver\nand we need sysv_ipc for the ipc driver in tooz.\n\nTooz uses pymemcache instead of the historical memcache Python bindings\nbecause it has many more features including:\n\n- Access to the ""noreply"" flag, which can significantly increase the\n  speed of writes.\n- Configurable timeouts for socket connect and send/recv calls.\n- Flexible, simple approach to serialization and deserialization.\n- Python 3 support\n- Unit tests!\n\nChange-Id: If934a117039b4101190aba98dfe33ae491027956\n'}]",0,140920,75081313212ea66ea32e47017f7a96ad66ad2b92,21,5,2,5638,,,0,"pymemcache and sysv_ipc for tooz

Tooz currently does not enforce global requirements check and is
hence drifting. We need the pymemcache for the memcached driver
and we need sysv_ipc for the ipc driver in tooz.

Tooz uses pymemcache instead of the historical memcache Python bindings
because it has many more features including:

- Access to the ""noreply"" flag, which can significantly increase the
  speed of writes.
- Configurable timeouts for socket connect and send/recv calls.
- Flexible, simple approach to serialization and deserialization.
- Python 3 support
- Unit tests!

Change-Id: If934a117039b4101190aba98dfe33ae491027956
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/140920/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,3ce038345eef2b78c137a5ec37cd878a106c717b,140920,pymemcache>=1.2 # Apache 2.0 Licensesysv_ipc>=0.6.8 # BSD License,,2,0
openstack%2Fqa-specs~master~I7cc9a5c1781e122c126749bda93f3e42ea356342,openstack/qa-specs,master,I7cc9a5c1781e122c126749bda93f3e42ea356342,Add spec fpr bp: non-overlapping-dependency-upgrades,ABANDONED,2014-12-16 00:33:03.000000000,2014-12-16 19:09:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 1849}, {'_account_id': 2750}]","[{'number': 1, 'created': '2014-12-16 00:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/18c2401d2b61148245983987750a9f1ef936acfb', 'message': 'Add spec fpr bp: non-overlapping-dependency-upgrades\n\nChange-Id: I7cc9a5c1781e122c126749bda93f3e42ea356342\n'}, {'number': 2, 'created': '2014-12-16 18:21:36.000000000', 'files': ['specs/non-overlapping-dependency-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/0e1a567e6e74c7028241727ee80f17ae17d9391f', 'message': 'Add spec fpr bp: non-overlapping-dependency-upgrades\n\nChange-Id: I7cc9a5c1781e122c126749bda93f3e42ea356342\n'}]",4,141952,0e1a567e6e74c7028241727ee80f17ae17d9391f,8,4,2,1849,,,0,"Add spec fpr bp: non-overlapping-dependency-upgrades

Change-Id: I7cc9a5c1781e122c126749bda93f3e42ea356342
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/52/141952/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/non-overlapping-dependency-upgrades.rst'],1,18c2401d2b61148245983987750a9f1ef936acfb,bp/non-overlapping-dependency-upgrades,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Non-Overlapping Dependency Upgrades ===================================== https://blueprints.launchpad.net/devstack/+spec/non-overlapping-dependency-upgrades We want to support non-overlapping dependencies across stable releases, so we need to make devstack/grenade support this. Problem description =================== Specific problem at hand:: we would like to release oslo.db 1.0.X and cap Juno at <1.1, however, since master is at >=1.1 we are unable to do so because grenade doesn't support it. In general, finding an overlapping dependency that works with both $old and $new is hard, and practically impossible if we do not maintain the library ourselves. Constraining ourselves by supporting this contrived case is causing difficulty and no benefit. To fix this grenade must support per service dependency upgrades. Per service as to continue supporting the partial nova-compute test, where all services are upgraded except nova-compute. Proposed change =============== Add support to devstack for installing per service python dependencies inside of python virtualenvs and backport this feature to Juno so we can use it in Juno->Master grenade. Continue running devstack jobs without the virtualenvs as to make sure all the python dependencies work together and don't conflict with each other. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: Joe Gordon <jogo> Milestones ---------- Target Milestone for completion: Kilo-2 Work Items ---------- 1. Add support to devstack to build per service virtualenvs. Off by default so we keep testing all dependencies together. 2. Backport support to build service virtualenvs to devstack stable/juno 3. Update Grenade to use per service virtualenvs 4. Have grenade update the per service dependencies as part of the upgrade process Dependencies ============ None ",,74,0
openstack%2Fmonasca-agent~master~I77470909ae226e445b281e74791c88725eea7814,openstack/monasca-agent,master,I77470909ae226e445b281e74791c88725eea7814,Added annotated example config for libvirt plugin,MERGED,2014-12-16 17:26:19.000000000,2014-12-16 19:02:18.000000000,2014-12-16 19:02:18.000000000,"[{'_account_id': 3}, {'_account_id': 11094}]","[{'number': 1, 'created': '2014-12-16 17:26:19.000000000', 'files': ['conf.d/libvirt.yaml.example'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/eecdc9f65bb07cf8f3a1dac67de4fabc6fd19c05', 'message': 'Added annotated example config for libvirt plugin\n\nChange-Id: I77470909ae226e445b281e74791c88725eea7814\n'}]",0,142165,eecdc9f65bb07cf8f3a1dac67de4fabc6fd19c05,6,2,1,12443,,,0,"Added annotated example config for libvirt plugin

Change-Id: I77470909ae226e445b281e74791c88725eea7814
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/65/142165/1 && git format-patch -1 --stdout FETCH_HEAD,['conf.d/libvirt.yaml.example'],1,eecdc9f65bb07cf8f3a1dac67de4fabc6fd19c05,feature/libvirt-example-config,"init_config: # These are Nova credentials, [keystone_authtoken] in /etc/nova/nova.conf admin_password: pass admin_tenant_name: service admin_user: nova identity_uri: 'http://192.168.10.5:35357/v2.0' # Location of temporary files maintained by the plugin. Ramdisk preferred. cache_dir: /dev/shm # How long to wait before querying Nova for instance updates? (seconds) # Note that there is an automatic refresh if new instances are encountered. nova_refresh: 14400 # How long before gathering data on newly-provisioned instances? (seconds) vm_probation: 300 instances: # Instances are automatically detected through queries to the Nova API, # and therefore do not need to be listed here, so this remains empty. - {} ",,17,0
openstack%2Fcinder~master~I7ca13e28b000d7a07c2baecd5454e50be4c9640b,openstack/cinder,master,I7ca13e28b000d7a07c2baecd5454e50be4c9640b,First version of Cinder driver for Quobyte USP,MERGED,2014-05-19 12:43:15.000000000,2014-12-16 18:57:49.000000000,2014-12-16 18:57:46.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6043}, {'_account_id': 7860}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10115}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11521}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12018}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12779}, {'_account_id': 13915}]","[{'number': 1, 'created': '2014-05-19 12:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b95a511425b589d29fc2af63410e5f899ab4431f', 'message': 'Quobyte: First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured Quobyte volume. Therefore, the driver is similar to the existing drivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS driver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in the header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were taken over from test_glusterfs.py. New tests are written using ""Mock"" instead of ""mox"".\n\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 2, 'created': '2014-07-30 17:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9b6bf474863d9915c4a6c1c6e6d7fc93e4f2464', 'message': 'Quobyte: First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 3, 'created': '2014-08-01 11:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/112eaa6640ea2497f4d6daa3ac28c94e8b265a54', 'message': 'Quobyte: First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 4, 'created': '2014-11-26 16:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/162cafa6a3fe2616aba03c315a1af37a9bbda876', 'message': 'Quobyte: First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 5, 'created': '2014-11-27 08:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b979922d0eaa9bfea8514e5cc43290840bb9922f', 'message': 'Quobyte: First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 6, 'created': '2014-11-27 08:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1483907436a910b9cfd0f8f03e61c33bef2ca32c', 'message': 'Quobyte: First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 7, 'created': '2014-12-08 10:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69d25086ff23d5feb32b8d351345603f939ed33e', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 8, 'created': '2014-12-09 09:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/949d0ca45bcfa815377365cc7cd999fa6ba12e86', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 9, 'created': '2014-12-09 10:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a0c3962de09dee7f928b24ae8fa55107ca0e025', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 10, 'created': '2014-12-09 11:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b564febcd49f979852d109a9ea21eac5384de847', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 11, 'created': '2014-12-10 10:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86e42b65338e677405236e04c40553790f65d912', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 12, 'created': '2014-12-11 10:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/374d87b0b840c6256c97bd741fbd3620ffb4a44b', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nCertification tests: https://bugs.launchpad.net/cinder/+bug/1401471\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 13, 'created': '2014-12-11 10:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ada591555155a122984641d9dd10d915ebe173d2', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nCertification tests: https://bugs.launchpad.net/cinder/+bug/1401471\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 14, 'created': '2014-12-12 10:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/601b88f35bff56f4074961e67c3c41a821e23e81', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nUrgency Note:\nApproval of our Quobyte Nova Driver spec is blocked by Nova people\nuntil this driver is merged. As the Nova spec approval is deadlined\nto kilo-1 I\'d like to see this driver merged as soon as no serious\nissues are seen. Otherwise the Quobyte Nova Driver will be delayed\nfor months!\n\nCertification tests: https://bugs.launchpad.net/cinder/+bug/1401471\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}, {'number': 15, 'created': '2014-12-12 15:31:51.000000000', 'files': ['requirements.txt', 'cinder/exception.py', 'cinder/volume/drivers/quobyte.py', 'cinder/tests/test_quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49d92764183e288b8f62b91a51179c307dd19a44', 'message': 'First version of Cinder driver for Quobyte USP\n\nSupported Operations are:\n- Create Volume\n- Delete Volume\n- Attach Volume\n- Detach Volume\n- Extend Volume\n- Create Snapshot\n- Delete Snapshot\n- List Snapshots\n- Create Volume from Snapshot\n- Create Volume from Image\n- Create Volume from Volume (Clone)\n- Create Image from Volume\n\nThe driver uses a file-based interface to access the configured\nQuobyte volume. Therefore, the driver is similar to the existing\ndrivers NFS and GlusterFS.\n\nDue to the similarities, I reused the snapshot code from the GlusterFS\ndriver. Gluster, thanks for that! I\'ve kept the ""Red Hat"" copyright in\nthe header to credit you properly.\n\nAll driver functions are covered by unit tests. Snapshot tests were\ntaken over from test_glusterfs.py. New tests are written using ""Mock""\ninstead of ""mox"".\n\nCertification tests: https://bugs.launchpad.net/cinder/+bug/1401471\n\nImplements: blueprint quobyte-usp-driver\nChange-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b\n'}]",37,94186,49d92764183e288b8f62b91a51179c307dd19a44,144,23,15,11521,,,0,"First version of Cinder driver for Quobyte USP

Supported Operations are:
- Create Volume
- Delete Volume
- Attach Volume
- Detach Volume
- Extend Volume
- Create Snapshot
- Delete Snapshot
- List Snapshots
- Create Volume from Snapshot
- Create Volume from Image
- Create Volume from Volume (Clone)
- Create Image from Volume

The driver uses a file-based interface to access the configured
Quobyte volume. Therefore, the driver is similar to the existing
drivers NFS and GlusterFS.

Due to the similarities, I reused the snapshot code from the GlusterFS
driver. Gluster, thanks for that! I've kept the ""Red Hat"" copyright in
the header to credit you properly.

All driver functions are covered by unit tests. Snapshot tests were
taken over from test_glusterfs.py. New tests are written using ""Mock""
instead of ""mox"".

Certification tests: https://bugs.launchpad.net/cinder/+bug/1401471

Implements: blueprint quobyte-usp-driver
Change-Id: I7ca13e28b000d7a07c2baecd5454e50be4c9640b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/94186/14 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/cinder.conf.sample', 'cinder/exception.py', 'cinder/volume/drivers/quobyte.py', 'cinder/tests/test_quobyte.py']",4,b95a511425b589d29fc2af63410e5f899ab4431f,bp/remotefs-snaps,"# Copyright (c) 2014 Quobyte Inc. # Copyright (c) 2013 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Unit tests for the Quobyte driver module."""""" import contextlib import errno import mock import os import StringIO import time import traceback import mox as mox_lib from mox import IgnoreArg from mox import IsA from mox import stubout from oslo.config import cfg from cinder import context from cinder import db from cinder import exception from cinder.image import image_utils from cinder.openstack.common import imageutils from cinder.openstack.common import processutils as putils from cinder import test from cinder import units from cinder.volume import configuration as conf from cinder.volume.drivers import quobyte CONF = cfg.CONF class DumbVolume(object): fields = {} def __setitem__(self, key, value): self.fields[key] = value def __getitem__(self, item): return self.fields[item] class FakeDb(object): msg = ""Tests are broken: mock this out."" def volume_get(self, *a, **kw): raise Exception(self.msg) def snapshot_get_all_for_volume(self, *a, **kw): """"""Mock this if you want results from it."""""" return [] class QuobyteDriverTestCase(test.TestCase): """"""Test case for Quobyte driver."""""" TEST_QUOBYTE_VOLUME = 'quobyte://quobyte-host/openstack-volumes' TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL = 'quobyte-host/openstack-volumes' TEST_SIZE_IN_GB = 1 TEST_MNT_POINT = '/mnt/quobyte' TEST_MNT_POINT_BASE = '/mnt' TEST_LOCAL_PATH = '/mnt/quobyte/volume-123' TEST_FILE_NAME = 'test.txt' TEST_SHARES_CONFIG_FILE = '/etc/cinder/test-shares.conf' VOLUME_UUID = 'abcdefab-cdef-abcd-efab-cdefabcdefab' SNAP_UUID = 'bacadaca-baca-daca-baca-dacadacadaca' SNAP_UUID_2 = 'bebedede-bebe-dede-bebe-dedebebedede' def setUp(self): super(QuobyteDriverTestCase, self).setUp() self._mox = mox_lib.Mox() self._configuration = mox_lib.MockObject(conf.Configuration) self._configuration.append_config_values(mox_lib.IgnoreArg()) self._configuration.quobyte_volume_url = \ self.TEST_QUOBYTE_VOLUME self._configuration.quobyte_sparsed_volumes = True self._configuration.quobyte_qcow2_volumes = False self._configuration.quobyte_mount_point_base = \ self.TEST_MNT_POINT_BASE self.stubs = stubout.StubOutForTesting() self._driver =\ quobyte.QuobyteDriver(configuration=self._configuration, db=FakeDb()) self._driver.shares = {} self.addCleanup(self._mox.UnsetStubs) def stub_out_not_replaying(self, obj, attr_name): attr_to_replace = getattr(obj, attr_name) stub = mox_lib.MockObject(attr_to_replace) self.stubs.Set(obj, attr_name, stub) def assertRaisesAndMessageMatches( self, excClass, msg, callableObj, *args, **kwargs): """"""Ensure that the specified exception was raised and its message includes the string 'msg'. """""" caught = False try: callableObj(*args, **kwargs) except Exception as exc: caught = True self.assertEqual(excClass, type(exc), 'Wrong exception caught: %s Stacktrace: %s' % (exc, traceback.print_exc())) self.assertIn(msg, str(exc)) if not caught: self.fail('Expected raised exception but nothing caught.') def test_set_execute(self): mox = self._mox drv = self._driver def my_execute(*a, **k): pass mox.ReplayAll() drv.set_execute(my_execute) mox.VerifyAll() def test_local_path(self): """"""local_path common use case."""""" drv = self._driver volume = DumbVolume() volume['provider_location'] = self.TEST_QUOBYTE_VOLUME volume['name'] = 'volume-123' self.assertEqual( '/mnt/1331538734b757ed52d0e18c0a7210cd/volume-123', drv.local_path(volume)) def test_mount_quobyte_should_mount_correctly(self): with contextlib.nested( mock.patch.object(self._driver, '_execute'), mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') ) as (mock_execute, mock_open): # Content of /proc/mount (not mounted yet). mock_open.return_value = StringIO.StringIO( ""/dev/sda5 / ext4 rw,relatime,data=ordered 0 0"") self._driver._mount_quobyte(self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT) mkdir_call = mock.call('mkdir', '-p', self.TEST_MNT_POINT) mount_call = mock.call( 'mount.quobyte', '-o', 'allow_other', '--metadata-cache-size=0', self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, run_as_root=False) mock_execute.assert_has_calls([mkdir_call, mount_call], any_order=False) def test_mount_quobyte_already_mounted_detected_seen_in_proc_mount(self): with contextlib.nested( mock.patch.object(self._driver, '_execute'), mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') ) as (mock_execute, mock_open): # Content of /proc/mount (already mounted). mock_open.return_value = StringIO.StringIO( ""quobyte@%s %s fuse rw,nosuid,nodev,noatime,user_id=1000"" "",group_id=100,default_permissions,allow_other 0 0"" % (self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT)) self._driver._mount_quobyte(self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT) self.assertFalse(mock_execute.called) def test_mount_quobyte_should_suppress_and_log_already_mounted_error(self): """"""Based on /proc/mount, the file system is not mounted yet. However, mount.quobyte returns with an 'already mounted' error. This is a last-resort safe-guard in case /proc/mount parsing was not successful. Because _mount_quobyte gets called with ensure=True, the error will be suppressed and logged instead. """""" with contextlib.nested( mock.patch.object(self._driver, '_execute'), mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount'), mock.patch('cinder.volume.drivers.quobyte.LOG') ) as (mock_execute, mock_open, mock_LOG): # Content of /proc/mount (empty). mock_open.return_value = StringIO.StringIO() mock_execute.side_effect = [None, putils.ProcessExecutionError( stderr='is busy or already mounted')] self._driver._mount_quobyte(self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, ensure=True) mkdir_call = mock.call('mkdir', '-p', self.TEST_MNT_POINT) mount_call = mock.call( 'mount.quobyte', '-o', 'allow_other', '--metadata-cache-size=0', self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, run_as_root=False) mock_execute.assert_has_calls([mkdir_call, mount_call], any_order=False) mock_LOG.warn.assert_called_once_with('%s is already mounted', self.TEST_QUOBYTE_VOLUME) def test_mount_quobyte_should_reraise_already_mounted_error(self): """"""Same as test_mount_quobyte_should_suppress_and_log_already_mounted_error but with ensure=False. """""" with contextlib.nested( mock.patch.object(self._driver, '_execute'), mock.patch('cinder.volume.drivers.quobyte.QuobyteDriver' '.read_proc_mount') ) as (mock_execute, mock_open): mock_open.return_value = StringIO.StringIO() mock_execute.side_effect = [ None, # mkdir putils.ProcessExecutionError( # mount stderr='is busy or already mounted')] self.assertRaises(putils.ProcessExecutionError, self._driver._mount_quobyte, self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, ensure=False) mkdir_call = mock.call('mkdir', '-p', self.TEST_MNT_POINT) mount_call = mock.call( 'mount.quobyte', '-o', 'allow_other', '--metadata-cache-size=0', self.TEST_QUOBYTE_VOLUME, self.TEST_MNT_POINT, run_as_root=False) mock_execute.assert_has_calls([mkdir_call, mount_call], any_order=False) def test_get_hash_str(self): """"""_get_hash_str should calculation correct value."""""" drv = self._driver self.assertEqual('1331538734b757ed52d0e18c0a7210cd', drv._get_hash_str(self.TEST_QUOBYTE_VOLUME)) def test_get_available_capacity_with_df(self): """"""_get_available_capacity should calculate correct value."""""" mox = self._mox drv = self._driver df_total_size = 2620544 df_avail = 1490560 df_head = 'Filesystem 1K-blocks Used Available Use% Mounted on\n' df_data = 'quobyte@%s %d 996864 %d 41%% %s' % \ (self.TEST_QUOBYTE_VOLUME, df_total_size, df_avail, self.TEST_MNT_POINT) df_output = df_head + df_data mox.StubOutWithMock(drv, '_get_mount_point_for_share') drv._get_mount_point_for_share(self.TEST_QUOBYTE_VOLUME).\ AndReturn(self.TEST_MNT_POINT) mox.StubOutWithMock(drv, '_execute') drv._execute('df', '--portability', '--block-size', '1', self.TEST_MNT_POINT, run_as_root=True).AndReturn((df_output, None)) mox.ReplayAll() self.assertEqual((df_avail, df_total_size), drv._get_available_capacity(self.TEST_QUOBYTE_VOLUME)) mox.VerifyAll() def test_get_capacity_info(self): with mock.patch.object(self._driver, '_get_available_capacity') \ as mock_get_available_capacity: drv = self._driver df_size = 2620544 df_avail = 1490560 mock_get_available_capacity.return_value = (df_avail, df_size) size, available, used = drv._get_capacity_info(mock.ANY) mock_get_available_capacity.assert_called_once_with(mock.ANY) self.assertEqual(df_size, size) self.assertEqual(df_avail, available) self.assertEqual(size - available, used) def test_load_shares_config(self): """"""_load_shares_config only puts the Volume URL into shares and strips quobyte://. """""" drv = self._driver drv._load_shares_config() self.assertIn(self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL, drv.shares) def test_load_shares_config_without_protocol(self): """"""Same as test_load_shares_config, but this time the URL was specified without quobyte:// in front. """""" drv = self._driver drv.configuration.quobyte_volume_url = \ self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL drv._load_shares_config() self.assertIn(self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL, drv.shares) def test_ensure_share_mounted(self): """"""_ensure_share_mounted simple use case."""""" with contextlib.nested( mock.patch.object(self._driver, '_get_mount_point_for_share'), mock.patch.object(self._driver, '_mount_quobyte') ) as (mock_get_mount_point, mock_mount): drv = self._driver drv._ensure_share_mounted(self.TEST_QUOBYTE_VOLUME) mock_get_mount_point.assert_called_once_with( self.TEST_QUOBYTE_VOLUME) mock_mount.assert_called_once_with( self.TEST_QUOBYTE_VOLUME, mock_get_mount_point.return_value, ensure=True) def test_ensure_shares_mounted_should_save_mounting_successfully(self): """"""_ensure_shares_mounted should save share if mounted with success."""""" with mock.patch.object(self._driver, '_ensure_share_mounted') \ as mock_ensure_share_mounted: drv = self._driver drv._ensure_shares_mounted() mock_ensure_share_mounted.assert_called_once_with( self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL) self.assertIn(self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL, drv._mounted_shares) def test_ensure_shares_mounted_should_not_save_mounting_with_error(self): """"""_ensure_shares_mounted should not save if mount raised an error."""""" with mock.patch.object(self._driver, '_ensure_share_mounted') \ as mock_ensure_share_mounted: drv = self._driver mock_ensure_share_mounted.side_effect = Exception() drv._ensure_shares_mounted() mock_ensure_share_mounted.assert_called_once_with( self.TEST_QUOBYTE_VOLUME_WITHOUT_PROTOCOL) self.assertEqual(1, len(drv.shares)) self.assertEqual(0, len(drv._mounted_shares)) def test_do_setup(self): """"""do_setup runs successfully if mount.quobyte is executable."""""" mox = self._mox drv = self._driver mox.StubOutWithMock(drv, '_execute') drv._execute('mount.quobyte', check_exit_code=False, run_as_root=False) mox.ReplayAll() drv.do_setup(IsA(context.RequestContext)) mox.VerifyAll() def test_do_setup_should_throw_error_if_quobyte_volume_url_not_set(self): """"""do_setup should throw error if 'quobyte_volume_url' is not set."""""" drv = self._driver drv.configuration.quobyte_volume_url = None self.assertRaisesAndMessageMatches(exception.QuobyteException, 'no Quobyte volume configured', drv.do_setup, IsA(context.RequestContext)) def test_do_setup_should_throw_exception_if_client_is_not_installed(self): """"""do_setup should throw exception if client is not installed."""""" mox = self._mox drv = self._driver mox.StubOutWithMock(drv, '_execute') drv._execute('mount.quobyte', check_exit_code=False, run_as_root=False).\ AndRaise(OSError(errno.ENOENT, 'No such file or directory')) mox.ReplayAll() self.assertRaisesAndMessageMatches(exception.QuobyteException, 'mount.quobyte is not installed', drv.do_setup, IsA(context.RequestContext)) mox.VerifyAll() def test_do_setup_should_throw_exception_if_client_not_executable(self): """"""do_setup should throw exception if client cannot be executed."""""" mox = self._mox drv = self._driver mox.StubOutWithMock(drv, '_execute') drv._execute('mount.quobyte', check_exit_code=False, run_as_root=False).\ AndRaise(OSError(errno.EPERM, 'Operation not permitted')) mox.ReplayAll() self.assertRaisesAndMessageMatches(OSError, 'Operation not permitted', drv.do_setup, IsA(context.RequestContext)) mox.VerifyAll() def test_find_share_should_throw_error_if_there_is_no_mounted_shares(self): """"""_find_share should throw error if there is no mounted share."""""" drv = self._driver drv._mounted_shares = [] self.assertRaises(exception.QuobyteVolumeNotMounted, drv._find_share, self.TEST_SIZE_IN_GB) def test_find_share(self): """"""_find_share simple use case."""""" drv = self._driver drv._mounted_shares = [self.TEST_QUOBYTE_VOLUME] self.assertEqual(self.TEST_QUOBYTE_VOLUME, drv._find_share(self.TEST_SIZE_IN_GB)) def test_find_share_does_not_throw_error_if_there_isnt_enough_space(self): """"""_find_share intentionally does not throw when df reports no available space left. """""" with mock.patch.object(self._driver, '_get_available_capacity') \ as mock_get_available_capacity: drv = self._driver df_size = 2620544 df_avail = 0 mock_get_available_capacity.return_value = (df_avail, df_size) drv._mounted_shares = [self.TEST_QUOBYTE_VOLUME] self.assertEqual(self.TEST_QUOBYTE_VOLUME, drv._find_share(self.TEST_SIZE_IN_GB)) # The current implementation does not call _get_available_capacity. # Future ones might do and therefore we mocked it. self.assertGreaterEqual(mock_get_available_capacity.call_count, 0) def _simple_volume(self, uuid=None): volume = DumbVolume() volume['provider_location'] = self.TEST_QUOBYTE_VOLUME if uuid is None: volume['id'] = self.VOLUME_UUID else: volume['id'] = uuid # volume['name'] mirrors format from db/sqlalchemy/models.py volume['name'] = 'volume-%s' % volume['id'] volume['size'] = 10 volume['status'] = 'available' return volume def test_create_sparsed_volume(self): mox = self._mox drv = self._driver volume = self._simple_volume() mox.StubOutWithMock(drv, '_create_sparsed_file') mox.StubOutWithMock(drv, '_set_rw_permissions_for_all') drv._create_sparsed_file(IgnoreArg(), IgnoreArg()) drv._set_rw_permissions_for_all(IgnoreArg()) mox.ReplayAll() drv._do_create_volume(volume) mox.VerifyAll() def test_create_nonsparsed_volume(self): mox = self._mox drv = self._driver volume = self._simple_volume() old_value = self._configuration.quobyte_sparsed_volumes self._configuration.quobyte_sparsed_volumes = False mox.StubOutWithMock(drv, '_create_regular_file') mox.StubOutWithMock(drv, '_set_rw_permissions_for_all') drv._create_regular_file(IgnoreArg(), IgnoreArg()) drv._set_rw_permissions_for_all(IgnoreArg()) mox.ReplayAll() drv._do_create_volume(volume) mox.VerifyAll() self._configuration.quobyte_sparsed_volumes = old_value def test_create_qcow2_volume(self): (mox, drv) = self._mox, self._driver volume = self._simple_volume() old_value = self._configuration.quobyte_qcow2_volumes self._configuration.quobyte_qcow2_volumes = True mox.StubOutWithMock(drv, '_execute') hashed = drv._get_hash_str(volume['provider_location']) path = '%s/%s/volume-%s' % (self.TEST_MNT_POINT_BASE, hashed, self.VOLUME_UUID) drv._execute('qemu-img', 'create', '-f', 'qcow2', '-o', 'preallocation=metadata', path, str(volume['size'] * units.GiB), run_as_root=True) drv._execute('chmod', 'ugo+rw', path, run_as_root=True) mox.ReplayAll() drv._do_create_volume(volume) mox.VerifyAll() self._configuration.quobyte_qcow2_volumes = old_value def test_create_volume_should_ensure_quobyte_mounted(self): """"""create_volume ensures shares provided in config are mounted."""""" mox = self._mox drv = self._driver self.stub_out_not_replaying(quobyte, 'LOG') self.stub_out_not_replaying(drv, '_find_share') self.stub_out_not_replaying(drv, '_do_create_volume') mox.StubOutWithMock(drv, '_ensure_shares_mounted') drv._ensure_shares_mounted() mox.ReplayAll() volume = DumbVolume() volume['size'] = self.TEST_SIZE_IN_GB drv.create_volume(volume) mox.VerifyAll() def test_create_volume_should_return_provider_location(self): """"""create_volume should return provider_location with found share."""""" mox = self._mox drv = self._driver self.stub_out_not_replaying(quobyte, 'LOG') self.stub_out_not_replaying(drv, '_ensure_shares_mounted') self.stub_out_not_replaying(drv, '_do_create_volume') mox.StubOutWithMock(drv, '_find_share') drv._find_share(self.TEST_SIZE_IN_GB).\ AndReturn(self.TEST_QUOBYTE_VOLUME) mox.ReplayAll() volume = DumbVolume() volume['size'] = self.TEST_SIZE_IN_GB result = drv.create_volume(volume) self.assertEqual(self.TEST_QUOBYTE_VOLUME, result['provider_location']) mox.VerifyAll() def test_create_cloned_volume(self): (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, '_create_snapshot') mox.StubOutWithMock(drv, '_delete_snapshot') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(image_utils, 'convert_image') mox.StubOutWithMock(drv, '_copy_volume_from_snapshot') volume = self._simple_volume() src_vref = self._simple_volume() src_vref['id'] = '375e32b2-804a-49f2-b282-85d1d5a5b9e1' src_vref['name'] = 'volume-%s' % src_vref['id'] volume_ref = {'id': volume['id'], 'name': volume['name'], 'status': volume['status'], 'provider_location': volume['provider_location'], 'size': volume['size']} snap_ref = {'volume_name': src_vref['name'], 'name': 'clone-snap-%s' % src_vref['id'], 'size': src_vref['size'], 'volume_size': src_vref['size'], 'volume_id': src_vref['id'], 'id': 'tmp-snap-%s' % src_vref['id'], 'volume': src_vref} drv._create_snapshot(snap_ref) drv._copy_volume_from_snapshot(snap_ref, volume_ref, volume['size']) drv._delete_snapshot(mox_lib.IgnoreArg()) mox.ReplayAll() drv.create_cloned_volume(volume, src_vref) mox.VerifyAll() @mock.patch('cinder.openstack.common.fileutils.delete_if_exists') def test_delete_volume(self, mock_delete_if_exists): volume = self._simple_volume() volume_filename = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s' % (self.TEST_MNT_POINT, volume_filename) info_file = volume_path + '.info' with contextlib.nested( mock.patch.object(self._driver, '_ensure_share_mounted'), mock.patch.object(self._driver, '_local_volume_dir'), mock.patch.object(self._driver, '_execute'), mock.patch.object(self._driver, '_local_path_volume_info') ) as (mock_ensure_share_mounted, mock_local_volume_dir, mock_execute, mock_local_path_volume_info): mock_local_volume_dir.return_value = self.TEST_MNT_POINT mock_local_path_volume_info.return_value = info_file self._driver.delete_volume(volume) mock_ensure_share_mounted.assert_called_once_with( volume['provider_location']) mock_local_volume_dir.assert_called_once_with(volume) mock_execute.assert_called_once_with('rm', '-f', volume_path, run_as_root=True) mock_local_path_volume_info.assert_called_once_with(volume) mock_delete_if_exists.assert_called_once_with(info_file) def test_delete_should_ensure_share_mounted(self): """"""delete_volume should ensure that corresponding share is mounted."""""" mox = self._mox drv = self._driver self.stub_out_not_replaying(drv, '_execute') volume = DumbVolume() volume['name'] = 'volume-123' volume['provider_location'] = self.TEST_QUOBYTE_VOLUME mox.StubOutWithMock(drv, '_ensure_share_mounted') drv._ensure_share_mounted(self.TEST_QUOBYTE_VOLUME) mox.ReplayAll() drv.delete_volume(volume) mox.VerifyAll() def test_delete_should_not_delete_if_provider_location_not_provided(self): """"""delete_volume shouldn't delete if provider_location missed."""""" mox = self._mox drv = self._driver self.stub_out_not_replaying(drv, '_ensure_share_mounted') volume = DumbVolume() volume['name'] = 'volume-123' volume['provider_location'] = None mox.StubOutWithMock(drv, '_execute') mox.ReplayAll() drv.delete_volume(volume) mox.VerifyAll() def test_create_snapshot(self): (mox, drv) = self._mox, self._driver self.stub_out_not_replaying(drv, '_ensure_share_mounted') mox.StubOutWithMock(drv, '_create_qcow2_snap_file') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(drv, '_write_info_file') volume = self._simple_volume() snap_ref = {'name': 'test snap', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID} mox.StubOutWithMock(drv, '_execute') vol_filename = 'volume-%s' % self.VOLUME_UUID hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) vol_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, vol_filename) snap_path = '%s.%s' % (vol_path, self.SNAP_UUID) info_path = '%s%s' % (vol_path, '.info') info_dict = {'active': vol_filename} drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(info_dict) drv._create_qcow2_snap_file(snap_ref, vol_filename, snap_path) drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(info_dict) # SNAP_UUID_2 has been removed from dict. info_file_dict = {'active': 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID), self.SNAP_UUID: 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID)} drv._write_info_file(info_path, info_file_dict) mox.ReplayAll() drv.create_snapshot(snap_ref) mox.VerifyAll() def test_delete_snapshot_bottom(self): """"""Multiple snapshots exist. In this test, path (volume-<uuid>) is backed by snap_path (volume-<uuid>.<snap_uuid>) which is backed by snap_path_2 (volume-<uuid>.<snap_uuid_2>). Delete the snapshot identified by SNAP_UUID_2. Chain goes from (SNAP_UUID) (SNAP_UUID_2) volume-abc -> volume-abc.baca -> volume-abc.bebe to (SNAP_UUID) volume-abc -> volume-abc.baca """""" (mox, drv) = self._mox, self._driver hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_path = '%s/%s/volume-%s' % (self.TEST_MNT_POINT_BASE, hashed, self.VOLUME_UUID) volume_filename = 'volume-%s' % self.VOLUME_UUID snap_path_2 = '%s.%s' % (volume_path, self.SNAP_UUID_2) snap_file = '%s.%s' % (volume_filename, self.SNAP_UUID) snap_file_2 = '%s.%s' % (volume_filename, self.SNAP_UUID_2) info_path = '%s%s' % (volume_path, '.info') qemu_img_info_output = """"""image: volume-%s.%s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (self.VOLUME_UUID, self.SNAP_UUID, volume_filename) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, '_read_file') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(drv, '_get_backing_chain_for_path') mox.StubOutWithMock(drv, '_write_info_file') mox.StubOutWithMock(image_utils, 'qemu_img_info') img_info = imageutils.QemuImgInfo(qemu_img_info_output) image_utils.qemu_img_info(snap_path_2).AndReturn(img_info) info_file_dict = {'active': snap_file_2, self.SNAP_UUID_2: snap_file_2, self.SNAP_UUID: snap_file} snap_ref = {'name': 'test snap', 'volume_id': self.VOLUME_UUID, 'volume': self._simple_volume(), 'id': self.SNAP_UUID_2} drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(info_file_dict) drv._execute('qemu-img', 'commit', snap_path_2, run_as_root=True) drv._execute('rm', '-f', snap_path_2, run_as_root=True) drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(info_file_dict) drv._read_info_file(info_path).AndReturn(info_file_dict) drv._write_info_file(info_path, info_file_dict) mox.ReplayAll() drv.delete_snapshot(snap_ref) mox.VerifyAll() def test_delete_snapshot_middle(self): """"""Multiple snapshots exist. In this test, path (volume-<uuid>) is backed by snap_path (volume-<uuid>.<snap_uuid>) which is backed by snap_path_2 (volume-<uuid>.<snap_uuid_2>). Delete the snapshot identified with SNAP_UUID. Chain goes from (SNAP_UUID) (SNAP_UUID_2) volume-abc -> volume-abc.baca -> volume-abc.bebe to (SNAP_UUID_2) volume-abc -> volume-abc.bebe """""" (mox, drv) = self._mox, self._driver volume = self._simple_volume() hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_file = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, volume_file) snap_path = '%s.%s' % (volume_path, self.SNAP_UUID) snap_file = 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID) snap_path_2 = '%s.%s' % (volume_path, self.SNAP_UUID_2) snap_file_2 = 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID_2) qemu_img_info_output_snap_1 = """"""image: volume-%s.%s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 122K backing file: %s """""" % (self.VOLUME_UUID, self.SNAP_UUID, 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID)) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(drv, '_write_info_file') mox.StubOutWithMock(drv, '_get_backing_chain_for_path') mox.StubOutWithMock(drv, 'get_active_image_from_info') mox.StubOutWithMock(image_utils, 'qemu_img_info') info_file_dict = {self.SNAP_UUID_2: 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID_2), self.SNAP_UUID: 'volume-%s.%s' % (self.VOLUME_UUID, self.SNAP_UUID)} info_path = drv._local_path_volume(volume) + '.info' drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(info_file_dict) img_info = imageutils.QemuImgInfo(qemu_img_info_output_snap_1) image_utils.qemu_img_info(snap_path).AndReturn(img_info) snap_ref = {'name': 'test snap', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID} snap_path_chain = [{'filename': snap_file_2, 'backing-filename': snap_file}, {'filename': snap_file, 'backing-filename': volume_file}] drv.get_active_image_from_info(volume).AndReturn(snap_file_2) drv._get_backing_chain_for_path(volume, snap_path_2).\ AndReturn(snap_path_chain) drv._read_info_file(info_path).AndReturn(info_file_dict) drv._execute('qemu-img', 'commit', snap_path_2, run_as_root=True) drv._execute('rm', '-f', snap_path_2, run_as_root=True) drv._read_info_file(info_path).AndReturn(info_file_dict) drv._write_info_file(info_path, info_file_dict) mox.ReplayAll() drv.delete_snapshot(snap_ref) mox.VerifyAll() def test_delete_snapshot_not_in_info(self): """"""Snapshot not in info file / info file doesn't exist. Snapshot creation failed so nothing is on-disk. Driver should allow operation to succeed so the manager can remove the snapshot record. (Scenario: Snapshot object created in Cinder db but not on backing storage.) """""" (mox, drv) = self._mox, self._driver hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_dir = os.path.join(self.TEST_MNT_POINT_BASE, hashed) volume_filename = 'volume-%s' % self.VOLUME_UUID volume_path = os.path.join(volume_dir, volume_filename) info_path = '%s%s' % (volume_path, '.info') mox.StubOutWithMock(drv, '_read_file') mox.StubOutWithMock(drv, '_read_info_file') snap_ref = {'name': 'test snap', 'volume_id': self.VOLUME_UUID, 'volume': self._simple_volume(), 'id': self.SNAP_UUID_2} drv._read_info_file(info_path, empty_if_missing=True).AndReturn({}) mox.ReplayAll() drv.delete_snapshot(snap_ref) mox.VerifyAll() def test_read_info_file(self): (mox, drv) = self._mox, self._driver mox.StubOutWithMock(drv, '_read_file') hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_path = '%s/%s/volume-%s' % (self.TEST_MNT_POINT_BASE, hashed, self.VOLUME_UUID) info_path = '%s%s' % (volume_path, '.info') drv._read_file(info_path).AndReturn('{""%(id)s"": ""volume-%(id)s""}' % {'id': self.VOLUME_UUID}) mox.ReplayAll() volume = DumbVolume() volume['id'] = self.VOLUME_UUID volume['name'] = 'volume-%s' % self.VOLUME_UUID info = drv._read_info_file(info_path) self.assertEqual(info[self.VOLUME_UUID], 'volume-%s' % self.VOLUME_UUID) mox.VerifyAll() def test_extend_volume(self): (mox, drv) = self._mox, self._driver volume = self._simple_volume() volume_path = '%s/%s/volume-%s' % (self.TEST_MNT_POINT_BASE, drv._get_hash_str( self.TEST_QUOBYTE_VOLUME), self.VOLUME_UUID) qemu_img_info_output = """"""image: volume-%s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 473K """""" % self.VOLUME_UUID img_info = imageutils.QemuImgInfo(qemu_img_info_output) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, 'get_active_image_from_info') mox.StubOutWithMock(image_utils, 'qemu_img_info') mox.StubOutWithMock(image_utils, 'resize_image') drv.get_active_image_from_info(volume).AndReturn(volume['name']) image_utils.qemu_img_info(volume_path).AndReturn(img_info) image_utils.resize_image(volume_path, 3) mox.ReplayAll() drv.extend_volume(volume, 3) mox.VerifyAll() def test_create_snapshot_online(self): (mox, drv) = self._mox, self._driver volume = self._simple_volume() volume['status'] = 'in-use' hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_file = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, volume_file) info_path = '%s.info' % volume_path ctxt = context.RequestContext('fake_user', 'fake_project') snap_ref = {'name': 'test snap (online)', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID, 'context': ctxt, 'status': 'asdf', 'progress': 'asdf'} snap_path = '%s.%s' % (volume_path, self.SNAP_UUID) snap_file = '%s.%s' % (volume_file, self.SNAP_UUID) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, '_create_qcow2_snap_file') mox.StubOutWithMock(db, 'snapshot_get') mox.StubOutWithMock(drv, '_write_info_file') mox.StubOutWithMock(drv, '_nova') # Stub out the busy wait. self.stub_out_not_replaying(time, 'sleep') drv._create_qcow2_snap_file(snap_ref, volume_file, snap_path) create_info = {'snapshot_id': snap_ref['id'], 'type': 'qcow2', 'new_file': snap_file} drv._nova.create_volume_snapshot(ctxt, self.VOLUME_UUID, create_info) snap_ref_progress = snap_ref.copy() snap_ref_progress['status'] = 'creating' snap_ref_progress_0p = snap_ref_progress.copy() snap_ref_progress_0p['progress'] = '0%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_0p) snap_ref_progress_50p = snap_ref_progress.copy() snap_ref_progress_50p['progress'] = '50%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_50p) snap_ref_progress_90p = snap_ref_progress.copy() snap_ref_progress_90p['progress'] = '90%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_90p) snap_info = {'active': snap_file, self.SNAP_UUID: snap_file} drv._write_info_file(info_path, snap_info) mox.ReplayAll() drv.create_snapshot(snap_ref) mox.VerifyAll() def test_create_snapshot_online_novafailure(self): (mox, drv) = self._mox, self._driver volume = self._simple_volume() volume['status'] = 'in-use' hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_file = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, volume_file) ctxt = context.RequestContext('fake_user', 'fake_project') snap_ref = {'name': 'test snap (online)', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID, 'context': ctxt} snap_path = '%s.%s' % (volume_path, self.SNAP_UUID) snap_file = '%s.%s' % (volume_file, self.SNAP_UUID) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, '_create_qcow2_snap_file') mox.StubOutWithMock(drv, '_nova') # Stub out the busy wait. self.stub_out_not_replaying(time, 'sleep') mox.StubOutWithMock(db, 'snapshot_get') drv._create_qcow2_snap_file(snap_ref, volume_file, snap_path) create_info = {'snapshot_id': snap_ref['id'], 'type': 'qcow2', 'new_file': snap_file} drv._nova.create_volume_snapshot(ctxt, self.VOLUME_UUID, create_info) snap_ref_progress = snap_ref.copy() snap_ref_progress['status'] = 'creating' snap_ref_progress_0p = snap_ref_progress.copy() snap_ref_progress_0p['progress'] = '0%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_0p) snap_ref_progress_50p = snap_ref_progress.copy() snap_ref_progress_50p['progress'] = '50%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_50p) snap_ref_progress_90p = snap_ref_progress.copy() snap_ref_progress_90p['progress'] = '90%' snap_ref_progress_90p['status'] = 'error' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_90p) mox.ReplayAll() self.assertRaisesAndMessageMatches( exception.QuobyteException, 'Nova returned ""error"" status while creating snapshot.', drv.create_snapshot, snap_ref) mox.VerifyAll() def test_delete_snapshot_online_1(self): """"""Delete the newest snapshot, with only one snap present."""""" (mox, drv) = self._mox, self._driver volume = self._simple_volume() volume['status'] = 'in-use' ctxt = context.RequestContext('fake_user', 'fake_project') snap_ref = {'name': 'test snap to delete (online)', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID, 'context': ctxt} hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_file = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, volume_file) info_path = '%s.info' % volume_path snap_path = '%s.%s' % (volume_path, self.SNAP_UUID) snap_file = '%s.%s' % (volume_file, self.SNAP_UUID) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, '_nova') # Stub out the busy wait. self.stub_out_not_replaying(time, 'sleep') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(drv, '_write_info_file') mox.StubOutWithMock(db, 'snapshot_get') mox.StubOutWithMock(image_utils, 'qemu_img_info') snap_info = {'active': snap_file, self.SNAP_UUID: snap_file} drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(snap_info) qemu_img_info_output = """"""image: %s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (snap_file, volume_file) img_info = imageutils.QemuImgInfo(qemu_img_info_output) vol_qemu_img_info_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume_file volume_img_info = imageutils.QemuImgInfo(vol_qemu_img_info_output) image_utils.qemu_img_info(snap_path).AndReturn(img_info) image_utils.qemu_img_info(volume_path).AndReturn(volume_img_info) drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(snap_info) delete_info = { 'type': 'qcow2', 'merge_target_file': None, 'file_to_merge': None, 'volume_id': self.VOLUME_UUID } drv._nova.delete_volume_snapshot(ctxt, self.SNAP_UUID, delete_info) drv._read_info_file(info_path).AndReturn(snap_info) drv._read_info_file(info_path).AndReturn(snap_info) snap_ref_progress = snap_ref.copy() snap_ref_progress['status'] = 'deleting' snap_ref_progress_0p = snap_ref_progress.copy() snap_ref_progress_0p['progress'] = '0%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_0p) snap_ref_progress_50p = snap_ref_progress.copy() snap_ref_progress_50p['progress'] = '50%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_50p) snap_ref_progress_90p = snap_ref_progress.copy() snap_ref_progress_90p['progress'] = '90%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_90p) drv._write_info_file(info_path, snap_info) drv._execute('rm', '-f', volume_path, run_as_root=True) mox.ReplayAll() drv.delete_snapshot(snap_ref) mox.VerifyAll() def test_delete_snapshot_online_2(self): """"""Delete the middle of 3 snapshots."""""" (mox, drv) = self._mox, self._driver volume = self._simple_volume() volume['status'] = 'in-use' ctxt = context.RequestContext('fake_user', 'fake_project') snap_ref = {'name': 'test snap to delete (online)', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID, 'context': ctxt} hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_file = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, volume_file) info_path = '%s.info' % volume_path snap_path = '%s.%s' % (volume_path, self.SNAP_UUID) snap_file = '%s.%s' % (volume_file, self.SNAP_UUID) snap_file_2 = '%s.%s' % (volume_file, self.SNAP_UUID_2) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(drv, '_nova') # Stub out the busy wait. self.stub_out_not_replaying(time, 'sleep') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(drv, '_write_info_file') mox.StubOutWithMock(db, 'snapshot_get') mox.StubOutWithMock(image_utils, 'qemu_img_info') snap_info = {'active': snap_file_2, self.SNAP_UUID: snap_file, self.SNAP_UUID_2: snap_file_2} drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(snap_info) qemu_img_info_output = """"""image: %s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (snap_file, volume_file) img_info = imageutils.QemuImgInfo(qemu_img_info_output) vol_qemu_img_info_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume_file volume_img_info = imageutils.QemuImgInfo(vol_qemu_img_info_output) image_utils.qemu_img_info(snap_path).AndReturn(img_info) image_utils.qemu_img_info(volume_path).AndReturn(volume_img_info) drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(snap_info) delete_info = {'type': 'qcow2', 'merge_target_file': volume_file, 'file_to_merge': snap_file, 'volume_id': self.VOLUME_UUID} drv._nova.delete_volume_snapshot(ctxt, self.SNAP_UUID, delete_info) drv._read_info_file(info_path).AndReturn(snap_info) drv._read_info_file(info_path).AndReturn(snap_info) snap_ref_progress = snap_ref.copy() snap_ref_progress['status'] = 'deleting' snap_ref_progress_0p = snap_ref_progress.copy() snap_ref_progress_0p['progress'] = '0%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_0p) snap_ref_progress_50p = snap_ref_progress.copy() snap_ref_progress_50p['progress'] = '50%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_50p) snap_ref_progress_90p = snap_ref_progress.copy() snap_ref_progress_90p['progress'] = '90%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_90p) drv._write_info_file(info_path, snap_info) drv._execute('rm', '-f', snap_path, run_as_root=True) mox.ReplayAll() drv.delete_snapshot(snap_ref) mox.VerifyAll() def test_delete_snapshot_online_novafailure(self): """"""Delete the newest snapshot."""""" (mox, drv) = self._mox, self._driver volume = self._simple_volume() volume['status'] = 'in-use' ctxt = context.RequestContext('fake_user', 'fake_project') snap_ref = {'name': 'test snap to delete (online)', 'volume_id': self.VOLUME_UUID, 'volume': volume, 'id': self.SNAP_UUID, 'context': ctxt} hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) volume_file = 'volume-%s' % self.VOLUME_UUID volume_path = '%s/%s/%s' % (self.TEST_MNT_POINT_BASE, hashed, volume_file) info_path = '%s.info' % volume_path snap_path = '%s.%s' % (volume_path, self.SNAP_UUID) snap_file = '%s.%s' % (volume_file, self.SNAP_UUID) mox.StubOutWithMock(drv, '_nova') # Stub out the busy wait. self.stub_out_not_replaying(time, 'sleep') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(db, 'snapshot_get') mox.StubOutWithMock(image_utils, 'qemu_img_info') snap_info = {'active': snap_file, self.SNAP_UUID: snap_file} drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(snap_info) qemu_img_info_output = """"""image: %s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (snap_file, volume_file) img_info = imageutils.QemuImgInfo(qemu_img_info_output) vol_qemu_img_info_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume_file volume_img_info = imageutils.QemuImgInfo(vol_qemu_img_info_output) image_utils.qemu_img_info(snap_path).AndReturn(img_info) image_utils.qemu_img_info(volume_path).AndReturn(volume_img_info) drv._read_info_file(info_path, empty_if_missing=True).\ AndReturn(snap_info) delete_info = { 'type': 'qcow2', 'merge_target_file': None, 'file_to_merge': None, 'volume_id': self.VOLUME_UUID } drv._nova.delete_volume_snapshot(ctxt, self.SNAP_UUID, delete_info) drv._read_info_file(info_path).AndReturn(snap_info) drv._read_info_file(info_path).AndReturn(snap_info) snap_ref_progress = snap_ref.copy() snap_ref_progress['status'] = 'deleting' snap_ref_progress_0p = snap_ref_progress.copy() snap_ref_progress_0p['progress'] = '0%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_0p) snap_ref_progress_50p = snap_ref_progress.copy() snap_ref_progress_50p['progress'] = '50%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_50p) snap_ref_progress_90p = snap_ref_progress.copy() snap_ref_progress_90p['status'] = 'error_deleting' snap_ref_progress_90p['progress'] = '90%' db.snapshot_get(ctxt, self.SNAP_UUID).AndReturn(snap_ref_progress_90p) mox.ReplayAll() self.assertRaisesAndMessageMatches(exception.QuobyteException, 'Unable to delete snapshot', drv.delete_snapshot, snap_ref) mox.VerifyAll() @staticmethod def helper_get_matching_backing_file(backing_chain, snapshot_file): """"""Helper for test_get_backing_chain_for_path."""""" return next(f for f in backing_chain if f.get('backing-filename', '') == snapshot_file) def test_get_backing_chain_for_path(self): (mox, drv) = self._mox, self._driver volume = self._simple_volume() vol_filename = volume['name'] vol_filename_2 = volume['name'] + '.asdfjkl' vol_filename_3 = volume['name'] + 'qwertyuiop' hashed = drv._get_hash_str(self.TEST_QUOBYTE_VOLUME) vol_dir = '%s/%s' % (self.TEST_MNT_POINT_BASE, hashed) vol_path = '%s/%s' % (vol_dir, vol_filename) vol_path_2 = '%s/%s' % (vol_dir, vol_filename_2) vol_path_3 = '%s/%s' % (vol_dir, vol_filename_3) mox.StubOutWithMock(drv, '_execute') mox.StubOutWithMock(image_utils, 'qemu_img_info') qemu_img_output_base = """"""image: %(image_name)s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" qemu_img_output = """"""image: %(image_name)s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %(backing_file)s """""" qemu_img_output_1 = qemu_img_output_base % {'image_name': vol_filename} qemu_img_output_2 = qemu_img_output % {'image_name': vol_filename_2, 'backing_file': vol_filename} qemu_img_output_3 = qemu_img_output % {'image_name': vol_filename_3, 'backing_file': vol_filename_2} info_1 = imageutils.QemuImgInfo(qemu_img_output_1) info_2 = imageutils.QemuImgInfo(qemu_img_output_2) info_3 = imageutils.QemuImgInfo(qemu_img_output_3) image_utils.qemu_img_info(vol_path_3).\ AndReturn(info_3) image_utils.qemu_img_info(vol_path_2).\ AndReturn(info_2) image_utils.qemu_img_info(vol_path).\ AndReturn(info_1) mox.ReplayAll() chain = drv._get_backing_chain_for_path(volume, vol_path_3) mox.VerifyAll() # Verify chain contains all expected data item_1 = QuobyteDriverTestCase.helper_get_matching_backing_file( chain, vol_filename) self.assertEqual(item_1['filename'], vol_filename_2) chain.remove(item_1) item_2 = QuobyteDriverTestCase.helper_get_matching_backing_file( chain, vol_filename_2) self.assertEqual(item_2['filename'], vol_filename_3) chain.remove(item_2) self.assertEqual(len(chain), 1) self.assertEqual(chain[0]['filename'], vol_filename) def test_copy_volume_from_snapshot(self): (mox, drv) = self._mox, self._driver mox.StubOutWithMock(image_utils, 'convert_image') mox.StubOutWithMock(drv, '_read_info_file') mox.StubOutWithMock(image_utils, 'qemu_img_info') mox.StubOutWithMock(drv, '_set_rw_permissions_for_all') dest_volume = self._simple_volume( 'c1073000-0000-0000-0000-0000000c1073') src_volume = self._simple_volume() vol_dir = os.path.join(self.TEST_MNT_POINT_BASE, drv._get_hash_str(self.TEST_QUOBYTE_VOLUME)) src_vol_path = os.path.join(vol_dir, src_volume['name']) dest_vol_path = os.path.join(vol_dir, dest_volume['name']) info_path = os.path.join(vol_dir, src_volume['name']) + '.info' snapshot = {'volume_name': src_volume['name'], 'name': 'clone-snap-%s' % src_volume['id'], 'size': src_volume['size'], 'volume_size': src_volume['size'], 'volume_id': src_volume['id'], 'id': 'tmp-snap-%s' % src_volume['id'], 'volume': src_volume} snap_file = dest_volume['name'] + '.' + snapshot['id'] snap_path = os.path.join(vol_dir, snap_file) size = dest_volume['size'] drv._read_info_file(info_path).AndReturn( {'active': snap_file, snapshot['id']: snap_file} ) qemu_img_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (snap_file, src_volume['name']) img_info = imageutils.QemuImgInfo(qemu_img_output) image_utils.qemu_img_info(snap_path).AndReturn(img_info) image_utils.convert_image(src_vol_path, dest_vol_path, 'raw') drv._set_rw_permissions_for_all(dest_vol_path) mox.ReplayAll() drv._copy_volume_from_snapshot(snapshot, dest_volume, size) mox.VerifyAll() def test_create_volume_from_snapshot_status_not_available(self): """"""Expect an error when the snapshot's status is not 'available'."""""" drv = self._driver src_volume = self._simple_volume() snap_ref = {'volume_name': src_volume['name'], 'name': 'clone-snap-%s' % src_volume['id'], 'size': src_volume['size'], 'volume_size': src_volume['size'], 'volume_id': src_volume['id'], 'id': 'tmp-snap-%s' % src_volume['id'], 'volume': src_volume, 'status': 'error'} new_volume = DumbVolume() new_volume['size'] = snap_ref['size'] self.assertRaises(exception.InvalidSnapshot, drv.create_volume_from_snapshot, new_volume, snap_ref) def test_create_volume_from_snapshot(self): (mox, drv) = self._mox, self._driver src_volume = self._simple_volume() snap_ref = {'volume_name': src_volume['name'], 'name': 'clone-snap-%s' % src_volume['id'], 'size': src_volume['size'], 'volume_size': src_volume['size'], 'volume_id': src_volume['id'], 'id': 'tmp-snap-%s' % src_volume['id'], 'volume': src_volume, 'status': 'available'} new_volume = DumbVolume() new_volume['size'] = snap_ref['size'] mox.StubOutWithMock(drv, '_ensure_shares_mounted') mox.StubOutWithMock(drv, '_find_share') mox.StubOutWithMock(drv, '_do_create_volume') mox.StubOutWithMock(drv, '_copy_volume_from_snapshot') drv._ensure_shares_mounted() drv._find_share(new_volume['size']).AndReturn(self.TEST_QUOBYTE_VOLUME) drv._do_create_volume(new_volume) drv._copy_volume_from_snapshot(snap_ref, new_volume, new_volume['size']) mox.ReplayAll() drv.create_volume_from_snapshot(new_volume, snap_ref) mox.VerifyAll() def test_initialize_connection(self): (mox, drv) = self._mox, self._driver volume = self._simple_volume() vol_dir = os.path.join(self.TEST_MNT_POINT_BASE, drv._get_hash_str(self.TEST_QUOBYTE_VOLUME)) vol_path = os.path.join(vol_dir, volume['name']) qemu_img_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume['name'] img_info = imageutils.QemuImgInfo(qemu_img_output) mox.StubOutWithMock(drv, 'get_active_image_from_info') mox.StubOutWithMock(image_utils, 'qemu_img_info') drv.get_active_image_from_info(volume).AndReturn(volume['name']) image_utils.qemu_img_info(vol_path).AndReturn(img_info) mox.ReplayAll() conn_info = drv.initialize_connection(volume, None) mox.VerifyAll() self.assertEqual(conn_info['data']['format'], 'raw') self.assertEqual(conn_info['driver_volume_type'], 'quobyte') self.assertEqual(conn_info['data']['name'], volume['name']) self.assertEqual(conn_info['mount_point_base'], self.TEST_MNT_POINT_BASE) def test_copy_volume_to_image_raw_image(self): drv = self._driver volume = self._simple_volume() volume_path = '%s/%s' % (self.TEST_MNT_POINT, volume['name']) with contextlib.nested( mock.patch.object(drv, 'get_active_image_from_info'), mock.patch.object(drv, '_local_volume_dir'), mock.patch.object(image_utils, 'qemu_img_info'), mock.patch.object(image_utils, 'upload_volume') ) as (mock_get_active_image_from_info, mock_local_volume_dir, mock_qemu_img_info, mock_upload_volume): mock_get_active_image_from_info.return_value = volume['name'] mock_local_volume_dir.return_value = self.TEST_MNT_POINT qemu_img_output = """"""image: %s file format: raw virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume['name'] img_info = imageutils.QemuImgInfo(qemu_img_output) mock_qemu_img_info.return_value = img_info upload_path = volume_path drv.copy_volume_to_image(mock.ANY, volume, mock.ANY, mock.ANY) mock_get_active_image_from_info.assert_called_once_with(volume) mock_local_volume_dir.assert_called_once_with(volume) mock_qemu_img_info.assert_called_once_with(volume_path) mock_upload_volume.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, upload_path) def test_copy_volume_to_image_qcow2_image(self): """"""Upload a qcow2 image file which has to be converted to raw first."""""" drv = self._driver volume = self._simple_volume() volume_path = '%s/%s' % (self.TEST_MNT_POINT, volume['name']) image_meta = {'id': '10958016-e196-42e3-9e7f-5d8927ae3099'} with contextlib.nested( mock.patch.object(drv, 'get_active_image_from_info'), mock.patch.object(drv, '_local_volume_dir'), mock.patch.object(image_utils, 'qemu_img_info'), mock.patch.object(image_utils, 'convert_image'), mock.patch.object(image_utils, 'upload_volume'), mock.patch.object(drv, '_execute') ) as (mock_get_active_image_from_info, mock_local_volume_dir, mock_qemu_img_info, mock_convert_image, mock_upload_volume, mock_execute): mock_get_active_image_from_info.return_value = volume['name'] mock_local_volume_dir.return_value = self.TEST_MNT_POINT qemu_img_output = """"""image: %s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K """""" % volume['name'] img_info = imageutils.QemuImgInfo(qemu_img_output) mock_qemu_img_info.return_value = img_info upload_path = '%s/%s.temp_image.%s' % (self.TEST_MNT_POINT, volume['id'], image_meta['id']) drv.copy_volume_to_image(mock.ANY, volume, mock.ANY, image_meta) mock_get_active_image_from_info.assert_called_once_with(volume) mock_local_volume_dir.assert_called_with(volume) mock_qemu_img_info.assert_called_once_with(volume_path) mock_convert_image.assert_called_once_with( volume_path, upload_path, 'raw') mock_upload_volume.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, upload_path) mock_execute.assert_called_once_with('rm', '-f', upload_path) def test_copy_volume_to_image_snapshot_exists(self): """"""Upload an active snapshot which has to be converted to raw first."""""" drv = self._driver volume = self._simple_volume() volume_path = '%s/volume-%s' % (self.TEST_MNT_POINT, self.VOLUME_UUID) volume_filename = 'volume-%s' % self.VOLUME_UUID image_meta = {'id': '10958016-e196-42e3-9e7f-5d8927ae3099'} with contextlib.nested( mock.patch.object(drv, 'get_active_image_from_info'), mock.patch.object(drv, '_local_volume_dir'), mock.patch.object(image_utils, 'qemu_img_info'), mock.patch.object(image_utils, 'convert_image'), mock.patch.object(image_utils, 'upload_volume'), mock.patch.object(drv, '_execute') ) as (mock_get_active_image_from_info, mock_local_volume_dir, mock_qemu_img_info, mock_convert_image, mock_upload_volume, mock_execute): mock_get_active_image_from_info.return_value = volume['name'] mock_local_volume_dir.return_value = self.TEST_MNT_POINT qemu_img_output = """"""image: volume-%s.%s file format: qcow2 virtual size: 1.0G (1073741824 bytes) disk size: 173K backing file: %s """""" % (self.VOLUME_UUID, self.SNAP_UUID, volume_filename) img_info = imageutils.QemuImgInfo(qemu_img_output) mock_qemu_img_info.return_value = img_info upload_path = '%s/%s.temp_image.%s' % (self.TEST_MNT_POINT, volume['id'], image_meta['id']) drv.copy_volume_to_image(mock.ANY, volume, mock.ANY, image_meta) mock_get_active_image_from_info.assert_called_once_with(volume) mock_local_volume_dir.assert_called_with(volume) mock_qemu_img_info.assert_called_once_with(volume_path) mock_convert_image.assert_called_once_with( volume_path, upload_path, 'raw') mock_upload_volume.assert_called_once_with( mock.ANY, mock.ANY, mock.ANY, upload_path) mock_execute.assert_called_once_with('rm', '-f', upload_path) ",,2943,0
openstack%2Fopenstack-manuals~master~I02d2906d1d5d697dfe709b4e2cc532f0f89983d9,openstack/openstack-manuals,master,I02d2906d1d5d697dfe709b4e2cc532f0f89983d9,XenAPI: Cleanup install instructions,MERGED,2014-12-10 09:01:40.000000000,2014-12-16 18:56:12.000000000,2014-12-16 18:56:11.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 5044}, {'_account_id': 6547}, {'_account_id': 6735}]","[{'number': 1, 'created': '2014-12-10 09:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/89493305af587ecbf2fed2a2ec1dade41b4433ee', 'message': 'XenAPI: Celanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}, {'number': 2, 'created': '2014-12-10 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4b5911e89ef8d5a17cfbc426ce41dc494e93cb79', 'message': 'XenAPI: Cleanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}, {'number': 3, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6fc81803d061ee04de901cbc177b5e16b4075797', 'message': 'XenAPI: Cleanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}, {'number': 4, 'created': '2014-12-11 10:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3429d3114d5f92b88f56da77e9a67e1a9fef8db5', 'message': 'XenAPI: Cleanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nPartial-Bug: 1021224\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}, {'number': 5, 'created': '2014-12-11 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/347032d096390ffb3e0aea4e19917f1da7ee21f1', 'message': 'XenAPI: Cleanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nPartial-Bug: 1021224\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}, {'number': 6, 'created': '2014-12-15 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9be5f89a65f53cdf213a4576f236eb1320876b15', 'message': 'XenAPI: Cleanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nPartial-Bug: 1021224\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}, {'number': 7, 'created': '2014-12-16 13:04:43.000000000', 'files': ['doc/config-reference/compute/section_xapi-ami-setup.xml', 'doc/config-reference/compute/section_xapi-install-plugins.xml', 'doc/config-reference/compute/section_xen-install.xml', 'doc/config-reference/compute/section_xapi-resize-setup.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8bacea0a6f3b45f9d87c6817dd8c7071ad8f7ddf', 'message': 'XenAPI: Cleanup install instructions\n\n* Removed plugin installation through creating a supplemental pack as the\nscripts used to build the pack are no longer part of compute.\n* Removed references to XCP, Kronos.\n* Amend XenServer download links.\n* Remove references to DevStack.\n* Remove boot from iso instructions as they are not tested.\n* Formatted the sources\n* Update links to XenServer 6.2\n\nPartial-Bug: 1021224\n\nChange-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9\n'}]",27,140613,8bacea0a6f3b45f9d87c6817dd8c7071ad8f7ddf,29,6,7,5044,,,0,"XenAPI: Cleanup install instructions

* Removed plugin installation through creating a supplemental pack as the
scripts used to build the pack are no longer part of compute.
* Removed references to XCP, Kronos.
* Amend XenServer download links.
* Remove references to DevStack.
* Remove boot from iso instructions as they are not tested.
* Formatted the sources
* Update links to XenServer 6.2

Partial-Bug: 1021224

Change-Id: I02d2906d1d5d697dfe709b4e2cc532f0f89983d9
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/13/140613/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/compute/section_xapi-ami-setup.xml', 'doc/config-reference/compute/section_xapi-install-plugins.xml', 'doc/config-reference/compute/section_xapi-resize-setup.xml', 'doc/config-reference/compute/section_xen-install.xml']",4,89493305af587ecbf2fed2a2ec1dade41b4433ee,," <title xml:id=""xenapi-install.title"">Install XenServer</title> <para> Before you can run OpenStack with XenServer, you must install the hypervisor on <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/installation.html#sys_requirements""> an appropriate server </link> . </para> <para> Xen is a type 1 hypervisor: When your server starts, Xen is the first software that runs. Consequently, you must install XenServer before you install the operating system where you want to run OpenStack code. OpenStack services then installed into a dedicated virtual machine on the host. </para> <para> Use the following link to download XenServer's installation media: <itemizedlist> <listitem> <para> <link xlink:href=""http://xenserver.org/open-source-virtualization-download.html""> http://xenserver.org/open-source-virtualization-download.html </link> </para> </listitem> </itemizedlist> </para> <para> When you install many servers, you might find it easier to perform <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/installation.html#pxe_boot_install""> PXE boot installations </link> . You can also package any post-installation changes that you want to make to your XenServer by following the instructions of <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/supplemental_pack_ddk.html""> creating your own XenServer supplemental pack </link> . </para> <para> Make sure you use the EXT type of storage repository (SR). Features that require access to VHD files (such as copy on write, snapshot and migration) do not work when you use the LVM SR. Storage repository (SR) is a XAPI-specific term relating to the physical storage where virtual disks are stored. </para> <para> On the XenServer installation screen, choose the <guilabel>XenDesktop Optimized</guilabel> option. If you use an answer file, make sure you use <literal>srtype=""ext""</literal> in the <literal>installation</literal> tag of the answer file. </para> <para> The following steps need to be completed after the hypervisor's installation: </para> <para> For resize and migrate functionality, enable passwordless ssh authentication and set up the <literal>/images</literal> directory on dom0. </para> <para> Install the XAPI plug-ins. </para> <para> To support AMI type images, you must set up <literal>/boot/guest</literal> symlink/directory in Dom0. </para> <para> Create a Paravirtualized virtual machine that can run the OpenStack Compute. </para> <para> Install and configure <systemitem class=""service"">OpenStack Compute</systemitem> in the above virtual machine. </para>"," <title xml:id=""xenapi-install.title"">Install XenServer and XCP</title> <para>Before you can run OpenStack with XCP or XenServer, you must install the software on <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.0.0/1.0/en_gb/installation.html#sys_requirements"" >an appropriate server</link>.</para> <para>Xen is a type 1 hypervisor: When your server starts, Xen is the first software that runs. Consequently, you must install XenServer or XCP before you install the operating system where you want to run OpenStack code. The OpenStack services then run in a virtual machine that you install on top of XenServer.</para> <para>Before you can install your system, decide whether to install a free or paid edition of Citrix XenServer or Xen Cloud Platform from Xen.org. Download the software from these locations:</para> <itemizedlist> <listitem> <para><link xlink:href=""http://www.citrix.com/XenServer/download"" >http://www.citrix.com/XenServer/download</link></para> </listitem> <listitem> <para><link xlink:href=""http://www.xen.org/download/xcp/index.html"" >http://www.xen.org/download/xcp/index.html</link></para> </listitem> </itemizedlist> <para>When you install many servers, you might find it easier to perform <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.0.0/1.0/en_gb/installation.html#pxe_boot_install"" >PXE boot installations of XenServer or XCP</link>. You can also package any post-installation changes that you want to make to your XenServer by <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.0.0/1.0/en_gb/supplemental_pack_ddk.html"" >creating your own XenServer supplemental pack</link>.</para> <para>You can also install the <package>xcp-xenapi</package> package on Debian-based distributions to get XCP. However, this is not as mature or feature complete as above distributions. This modifies your boot loader to first boot Xen and boot your existing OS on top of Xen as Dom0. The xapi daemon runs in Dom0. Find more details at <link xlink:href=""http://wiki.xen.org/wiki/Project_Kronos"" >http://wiki.xen.org/wiki/Project_Kronos</link>.</para> <para>Make sure you use the EXT type of storage repository (SR). Features that require access to VHD files (such as copy on write, snapshot and migration) do not work when you use the LVM SR. Storage repository (SR) is a XenAPI-specific term relating to the physical storage where virtual disks are stored.</para> <para>On the XenServer/XCP installation screen, choose the <guilabel>XenDesktop Optimized</guilabel> option. If you use an answer file, make sure you use <literal>srtype=""ext""</literal> in the <option>installation</option> tag of the answer file.</para> <para>Complete these steps to install OpenStack in your XenServer system:</para> <para>For resize and migrate functionality, complete the changes described in the <citetitle>Configure resize</citetitle> section in the <link xlink:href=""http://docs.openstack.org/trunk/config-reference/content/"" ><citetitle>OpenStack Configuration Reference</citetitle></link>.</para> <para>Install the VIF isolation rules to help prevent mac and IP address spoofing.</para> <para>Install the XenAPI plug-ins. See the following section.</para> <para>To support AMI type images, you must set up <literal>/boot/guest</literal> symlink/directory in Dom0. For detailed instructions, see next section.</para> <para>To support resize/migration, set up an ssh trust relation between your XenServer hosts, and ensure <literal>/images</literal> is properly set up. See next section for more details.</para> </step> <step> <para>Create a Paravirtualized virtual machine that can run the OpenStack compute code.</para> </step> <step> <para>Install and configure the <systemitem class=""service"">nova-compute</systemitem> in the above virtual machine.</para> <para>For more information, see how DevStack performs the last three steps for developer deployments. For more information about DevStack, see <citetitle>Getting Started With XenServer and Devstack</citetitle> (<link xlink:href=""https://github.com/openstack-dev/devstack/blob/master/tools/xen/README.md"" >https://github.com/openstack-dev/devstack/blob/master/tools/xen/README.md</link>). Find more information about the first step, see <citetitle>Multi Tenancy Networking Protections in XenServer</citetitle> (<link xlink:href=""https://github.com/openstack/nova/blob/master/plugins/xenserver/doc/networking.rst"" >https://github.com/openstack/nova/blob/master/plugins/xenserver/doc/networking.rst</link>). For information about how to install the XenAPI plug-ins, see <citetitle>XenAPI README</citetitle> (<link xlink:href=""https://github.com/openstack/nova/blob/master/plugins/xenserver/xenapi/README"" >https://github.com/openstack/nova/blob/master/plugins/xenserver/xenapi/README</link>).</para> <section xml:id=""xenapi-boot-from-iso""> <title>Xen boot from ISO</title> <para>XenServer, through the XenAPI integration with OpenStack, provides a feature to boot instances from an ISO file. To activate the Boot From ISO feature, you must configure the SR elements on XenServer host, as follows:</para> <procedure> <step> <para>Create an ISO-typed SR, such as an NFS ISO library, for instance. For this, using XenCenter is a simple method. You must export an NFS volume from a remote NFS server. Make sure it is exported in read-write mode.</para> </step> <step> <para>On the compute host, find and record the UUID of this ISO SR:</para> <screen><prompt>#</prompt> <userinput>xe host-list</userinput></screen> </step> <step> <para>Locate the UUID of the NFS ISO library:</para> <screen><prompt>#</prompt> <userinput>xe sr-list content-type=iso</userinput></screen> </step> <step> <para>Set the UUID and configuration. Even if an NFS mount point is not local, you must specify <literal>local-storage-iso</literal>.</para> <screen><prompt>#</prompt> <userinput>xe sr-param-set uuid=[iso sr uuid] other-config:i18n-key=local-storage-iso</userinput></screen> </step> <step> <para>Make sure the host-UUID from <literal>xe pbd-list</literal> equals the UUID of the host you found previously:</para> <screen><prompt>#</prompt> <userinput>xe sr-uuid=[iso sr uuid]</userinput></screen> </step> <step> <para>You can now add images through the OpenStack Image Service with <literal>disk-format=iso</literal>, and boot them in OpenStack Compute:</para> <screen><prompt>$</prompt> <userinput>glance image-create --name fedora_iso --disk-format iso --container-format bare &lt; Fedora-16-x86_64-netinst.iso</userinput></screen> </step> </procedure> </section>",147,243
openstack%2Fproject-config~master~If9ce653c61d8bdadeec29d368207013a29f9e010,openstack/project-config,master,If9ce653c61d8bdadeec29d368207013a29f9e010,Generate tarballs for neutron-*aas on tags,MERGED,2014-12-16 15:17:07.000000000,2014-12-16 18:52:47.000000000,2014-12-16 18:52:45.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 15:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/92b9f743282e7b5978ba2062f69082dd6a8a5e9c', 'message': 'Generate tarballs for neutron-*aas on tags\n\nopenstack/neutron-*aas git repository are the result of a split from\nneutron. Tarballs will be published as part of the release process on\nmilestones and final releases, and attached to the same Launchpad page\nas Neutron itself.\n\nTo that effect, we need to enable the -tarball jobs to run on\npre-release and release zuul pipes for all neutron-*aas projects.\n\nChange-Id: If9ce653c61d8bdadeec29d368207013a29f9e010\n'}, {'number': 2, 'created': '2014-12-16 15:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8be9beefd58201a4d2875cf3889bbd536084c2fa', 'message': 'Generate tarballs for neutron-*aas on tags\n\nopenstack/neutron-*aas git repository are the result of a split from\nneutron. Tarballs will be published as part of the release process on\nmilestones and final releases, and attached to the same Launchpad page\nas Neutron itself.\n\nTo that effect, we need to enable the -tarball jobs to run on\npre-release and release zuul pipes for all neutron-*aas projects.\n\nChange-Id: If9ce653c61d8bdadeec29d368207013a29f9e010\n'}, {'number': 3, 'created': '2014-12-16 16:04:55.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cca2cb21f8fee42ae37b94b0e0c7ace05a411716', 'message': 'Generate tarballs for neutron-*aas on tags\n\nopenstack/neutron-*aas git repository are the result of a split from\nneutron. Tarballs will be published as part of the release process on\nmilestones and final releases, and attached to the same Launchpad page\nas Neutron itself.\n\nTo that effect, we need to enable the -tarball jobs to run on\npre-release and release zuul pipes for all neutron-*aas projects.\n\nChange-Id: If9ce653c61d8bdadeec29d368207013a29f9e010\n'}]",0,142126,cca2cb21f8fee42ae37b94b0e0c7ace05a411716,14,4,3,308,,,0,"Generate tarballs for neutron-*aas on tags

openstack/neutron-*aas git repository are the result of a split from
neutron. Tarballs will be published as part of the release process on
milestones and final releases, and attached to the same Launchpad page
as Neutron itself.

To that effect, we need to enable the -tarball jobs to run on
pre-release and release zuul pipes for all neutron-*aas projects.

Change-Id: If9ce653c61d8bdadeec29d368207013a29f9e010
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/142126/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,92b9f743282e7b5978ba2062f69082dd6a8a5e9c,publish-neutron-aas-too, - name: openstack-server-release-jobs - name: openstack-server-release-jobs - name: openstack-server-release-jobs,,3,0
openstack%2Fcinder~master~I2e92322ff9c80de123dc281f790a7c2a89c4d62e,openstack/cinder,master,I2e92322ff9c80de123dc281f790a7c2a89c4d62e,RemoteFS: Move Nova snapshot code into RemoteFSSnapDriver,MERGED,2014-12-08 18:11:40.000000000,2014-12-16 18:52:09.000000000,2014-12-16 18:52:08.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 2417}, {'_account_id': 4523}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 11459}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}]","[{'number': 1, 'created': '2014-12-08 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d93d0492c95d3acd007ca758365fe982cd0d2af', 'message': 'RemoteFS: Move Nova snapshot code into RemoteFSSnapDriver\n\nChange-Id: I2e92322ff9c80de123dc281f790a7c2a89c4d62e\n'}, {'number': 2, 'created': '2014-12-08 18:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/465a4625eaff43aa76498f0f93f3e4805453f332', 'message': 'RemoteFS: Move Nova snapshot code into RemoteFSSnapDriver\n\nImplements bp: remotefs-snaps\n\nChange-Id: I2e92322ff9c80de123dc281f790a7c2a89c4d62e\n'}, {'number': 3, 'created': '2014-12-09 14:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d63bcb96f62496bbe18469aa58d0eea821efc125', 'message': 'RemoteFS: Move Nova snapshot code into RemoteFSSnapDriver\n\nImplements bp: remotefs-snaps\n\nChange-Id: I2e92322ff9c80de123dc281f790a7c2a89c4d62e\n'}, {'number': 4, 'created': '2014-12-09 16:38:24.000000000', 'files': ['cinder/volume/drivers/glusterfs.py', 'cinder/volume/drivers/remotefs.py', 'cinder/tests/test_glusterfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5146b159b8380278eb8733f0c0875f563228b3bd', 'message': 'RemoteFS: Move Nova snapshot code into RemoteFSSnapDriver\n\nImplements bp: remotefs-snaps\n\nChange-Id: I2e92322ff9c80de123dc281f790a7c2a89c4d62e\n'}]",3,140105,5146b159b8380278eb8733f0c0875f563228b3bd,26,13,4,4523,,,0,"RemoteFS: Move Nova snapshot code into RemoteFSSnapDriver

Implements bp: remotefs-snaps

Change-Id: I2e92322ff9c80de123dc281f790a7c2a89c4d62e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/140105/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/glusterfs.py', 'cinder/volume/drivers/remotefs.py', 'cinder/tests/test_glusterfs.py']",3,5d93d0492c95d3acd007ca758365fe982cd0d2af,bp/remotefs-snaps," self.assertRaisesAndMessageMatches(exception.RemoteFSException,"," self.assertRaisesAndMessageMatches(exception.GlusterfsException,",158,165
openstack%2Fproject-config~master~I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d,openstack/project-config,master,I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d,Add test for validating certain gerrit ACL rules,MERGED,2014-12-09 20:37:22.000000000,2014-12-16 18:37:43.000000000,2014-12-16 12:46:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1106}, {'_account_id': 2750}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-09 20:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c3377654aef0fac97cb7262ea686057fe33820fb', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not apply to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 2, 'created': '2014-12-09 20:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0bb7ce95519fe5c4a66e448702804ed9d1d363fc', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not apply to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 3, 'created': '2014-12-09 21:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7628dccf84318d26521be65fe2139944d2f20271', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not apply to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 4, 'created': '2014-12-09 22:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/537873bfd5ea259fef7e96c4442065dcdfe549a8', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not apply to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 5, 'created': '2014-12-09 22:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1961ff5061db1b35f9ae86dd72ad9961045b2bad', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not apply to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 6, 'created': '2014-12-10 06:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2172f56ea8bd6268a44b29a2c8963d66a37af6a4', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not belong to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 7, 'created': '2014-12-10 14:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/101269a362eabebb60f97f90753ea2ba01573115', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not belong to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 8, 'created': '2014-12-10 20:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/79d6423f459a4f529a00de08be9784b42e043160', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nSome configs for existing projects do not pass this test, but\nthey do not belong to the stackforge namespace, so they have\nbeen left alone.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 9, 'created': '2014-12-10 20:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd28bd25b480c1588240dc849addaec8bbb215df', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 10, 'created': '2014-12-10 20:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c87beb8d752a6220f02a28656ff94b8fe4c16f8e', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nCurrently the check applies to stackforge and openstack-dev only.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}, {'number': 11, 'created': '2014-12-16 07:03:16.000000000', 'files': ['jenkins/jobs/infra.yaml', 'tools/check_valid_gerrit_config.sh', 'zuul/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e6573ea7526feda61541c74e89e4ef5d2d12b575', 'message': 'Add test for validating certain gerrit ACL rules\n\nThis patch adds a check for Gerrit ACL configs. In this initial\nversion, the test being added checks that the config defines\nat least one team that acts as a core/admin one.\n\nThe current check is intentially pretty loose to ensure some\nflexibility.\n\nCurrently the check applies to stackforge and openstack-dev only.\n\nChange-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d\n'}]",17,140470,e6573ea7526feda61541c74e89e4ef5d2d12b575,45,6,11,748,,,0,"Add test for validating certain gerrit ACL rules

This patch adds a check for Gerrit ACL configs. In this initial
version, the test being added checks that the config defines
at least one team that acts as a core/admin one.

The current check is intentially pretty loose to ensure some
flexibility.

Currently the check applies to stackforge and openstack-dev only.

Change-Id: I2b04f2d94130699d6fd1c16a9b00b9c81d1ba07d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/140470/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/check_valid_gerrit_config.sh', 'tox.ini']",2,c3377654aef0fac97cb7262ea686057fe33820fb,add-check-gerrit-acl,"envlist = pep8,gerrit,projects,jjb,jenkins-project,zuul[testenv:gerrit] commands = {toxinidir}/tools/check_valid_gerrit_config.sh gerrit/acls/ ","envlist = pep8,projects,jjb,jenkins-project,zuul",40,1
openstack%2Frequirements~master~I3c7301f18bd278da7d8b653a6695c0b4027021b1,openstack/requirements,master,I3c7301f18bd278da7d8b653a6695c0b4027021b1,Make SQLAlchemy settings compatible with Juno,ABANDONED,2014-12-15 22:49:51.000000000,2014-12-16 18:33:17.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 8655}]","[{'number': 1, 'created': '2014-12-15 22:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee8cfa73fa23291188d3d761d298c043f9a26c31', 'message': 'Make SQLAlchemy settings compatible with Juno\n\nWe need a new version of oslo.db that works with Juno and Kilo at the same\ntime, and that has settings for SQLAlchemy that work with setuptools 8.\nIn I2f13918c169071d4365c689bdb709a04064279fa we removed some of the\noverlap with the Juno version requirements, which makes new releases\nof oslo.db incompatible with Juno. This change resets the SQLAlchemy\nrequirements to match Juno.\n\nChange-Id: I3c7301f18bd278da7d8b653a6695c0b4027021b1\n'}, {'number': 2, 'created': '2014-12-16 12:23:32.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4be284ba7fd83212e0c8e528268064daa875578c', 'message': 'Make SQLAlchemy settings compatible with Juno\n\nWe need a new version of oslo.db that works with Juno and Kilo at the same\ntime, and that has settings for SQLAlchemy that work with setuptools 8.\nIn I2f13918c169071d4365c689bdb709a04064279fa we removed some of the\noverlap with the Juno version requirements, which makes new releases\nof oslo.db incompatible with Juno. This change resets the SQLAlchemy\nrequirements to match Juno.\n\nChange-Id: I3c7301f18bd278da7d8b653a6695c0b4027021b1\n'}]",3,141927,4be284ba7fd83212e0c8e528268064daa875578c,14,5,2,2472,,,0,"Make SQLAlchemy settings compatible with Juno

We need a new version of oslo.db that works with Juno and Kilo at the same
time, and that has settings for SQLAlchemy that work with setuptools 8.
In I2f13918c169071d4365c689bdb709a04064279fa we removed some of the
overlap with the Juno version requirements, which makes new releases
of oslo.db incompatible with Juno. This change resets the SQLAlchemy
requirements to match Juno.

Change-Id: I3c7301f18bd278da7d8b653a6695c0b4027021b1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/141927/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,ee8cfa73fa23291188d3d761d298c043f9a26c31,restore-sqlalchemy-to-juno-compatibility,"SQLAlchemy>=0.8.4,<=0.9.99,!=0.9.0,!=0.9.1,!=0.9.2,!=0.9.3,!=0.9.4,!=0.9.5,!=0.9.6","SQLAlchemy>=0.9.7,<=0.9.99",1,1
openstack%2Frequirements~stable%2Fjuno~I2a7a750322350e51d12d4aca21ace67f292f0d67,openstack/requirements,stable/juno,I2a7a750322350e51d12d4aca21ace67f292f0d67,Uncap oslo.db and skip bad versions,ABANDONED,2014-12-16 15:35:55.000000000,2014-12-16 18:32:55.000000000,,[],"[{'number': 1, 'created': '2014-12-16 15:35:55.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb8d73233d0ee11c8c897494d7313ca49a80a160', 'message': 'Uncap oslo.db and skip bad versions\n\nVersions of oslo.db between 1.0 and 1.3 specify a dependency on\nsqlalchemy in a way that breaks under setuptools 8 because it the way it\nhandles requirements lists (see\n4bbac4c9bc5bcba6962921369ce7721d2a544aa4).  We need to skip those\nversions.\n\nChange-Id: I2a7a750322350e51d12d4aca21ace67f292f0d67\n'}]",0,142131,fb8d73233d0ee11c8c897494d7313ca49a80a160,2,0,1,2472,,,0,"Uncap oslo.db and skip bad versions

Versions of oslo.db between 1.0 and 1.3 specify a dependency on
sqlalchemy in a way that breaks under setuptools 8 because it the way it
handles requirements lists (see
4bbac4c9bc5bcba6962921369ce7721d2a544aa4).  We need to skip those
versions.

Change-Id: I2a7a750322350e51d12d4aca21ace67f292f0d67
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/142131/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,fb8d73233d0ee11c8c897494d7313ca49a80a160,uncap-oslo-db-juno,"oslo.db>=1.0.0,!=1.1,!=1.2,!=1.3 # Apache-2.0","# oslo.db is capped because setuptools 8 changed the way it handles # requirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4). # We need to cap at a version known to work with both juno and kilo, # and since 1.2.0 was the last good version known to work we created # 1.2.1 with only a requirements change to allow the versions for # juno and kilo to overlap. We leave the cap a little loose, in case # we have more backports for juno in the 1.2 series. oslo.db>=1.0.0,<1.3 # Apache-2.0",1,8
openstack%2Fcongress~master~I8a1cb5af6c4a79ec4167db8bccce851be78a6ef5,openstack/congress,master,I8a1cb5af6c4a79ec4167db8bccce851be78a6ef5,Enable verbose/debug output in unit test,ABANDONED,2014-12-11 21:16:32.000000000,2014-12-16 18:32:16.000000000,,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-11 21:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/dc7c1f2426245c42fbaa0781824fc51033558e0a', 'message': 'Enable verbose/debug output in unit test\n\nChange-Id: I8a1cb5af6c4a79ec4167db8bccce851be78a6ef5\n'}, {'number': 2, 'created': '2014-12-12 00:16:17.000000000', 'files': ['congress/tests/base.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/04a06a71d3cdd372dbdd2907742c0f4f315f308f', 'message': 'Enable verbose/debug output in unit test\n\nChange-Id: I8a1cb5af6c4a79ec4167db8bccce851be78a6ef5\n'}]",0,141168,04a06a71d3cdd372dbdd2907742c0f4f315f308f,11,3,2,4395,,,0,"Enable verbose/debug output in unit test

Change-Id: I8a1cb5af6c4a79ec4167db8bccce851be78a6ef5
",git fetch https://review.opendev.org/openstack/congress refs/changes/68/141168/2 && git format-patch -1 --stdout FETCH_HEAD,['congress/tests/base.py'],1,dc7c1f2426245c42fbaa0781824fc51033558e0a,," # Enable verbose/debug output for test runs. cfg.CONF.set_override('verbose', True) cfg.CONF.set_override('debug', True) ",,4,0
openstack%2Fcue~master~Ia3fee13c713ea6a887875004933436e64dbd121d,openstack/cue,master,Ia3fee13c713ea6a887875004933436e64dbd121d,API to DB Object Refactoring,MERGED,2014-12-12 00:55:02.000000000,2014-12-16 18:24:16.000000000,2014-12-16 18:24:15.000000000,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 13771}]","[{'number': 1, 'created': '2014-12-12 00:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/cb78782dadf133672938f4995d29685e2f370964', 'message': 'API to DB Object Refactoring\n\nThis change incorporates object abstraction for DB objects as used\nin the Ironic and Nova openstack projects.  As part of the\nrefactoring, a new module ""cue/objects"" has been created.  This\nmodule provides generalized access to DB objects.  As part of this\npatch, The API has also been updated to access DB objects through\nthe ""cue/objects"" module.\n\n* updating affected tests.\n\nChange-Id: Ia3fee13c713ea6a887875004933436e64dbd121d\n'}, {'number': 2, 'created': '2014-12-12 01:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/731c5d2b4f6b6e47fd6011bb7cb985f591753c37', 'message': 'API to DB Object Refactoring\n\nThis change incorporates object abstraction for DB objects as used\nin the Ironic and Nova openstack projects.  As part of the\nrefactoring, a new module ""cue/objects"" has been created.  This\nmodule provides generalized access to DB objects.  As part of this\npatch, The API has also been updated to access DB objects through\nthe ""cue/objects"" module.\n\n* updating affected tests.\n\nChange-Id: Ia3fee13c713ea6a887875004933436e64dbd121d\n'}, {'number': 3, 'created': '2014-12-12 19:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/7965b2484465df33acc21ba3c34d26dae7e68583', 'message': 'API to DB Object Refactoring\n\nThis change incorporates object abstraction for DB objects as used\nin the Ironic and Nova openstack projects.  As part of the\nrefactoring, a new module ""cue/objects"" has been created.  This\nmodule provides generalized access to DB objects.  As part of this\npatch, The API has also been updated to access DB objects through\nthe ""cue/objects"" module.\n\n* updating affected tests.\n\nChange-Id: Ia3fee13c713ea6a887875004933436e64dbd121d\n'}, {'number': 4, 'created': '2014-12-12 21:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/c04d15fab0ce87d71cfac9fb4ee965d13f87acd9', 'message': 'API to DB Object Refactoring\n\nThis change incorporates object abstraction for DB objects as used\nin the Ironic and Nova openstack projects.  As part of the\nrefactoring, a new module ""cue/objects"" has been created.  This\nmodule provides generalized access to DB objects.  As part of this\npatch, The API has also been updated to access DB objects through\nthe ""cue/objects"" module.\n\n* updating affected tests.\n\nChange-Id: Ia3fee13c713ea6a887875004933436e64dbd121d\n'}, {'number': 5, 'created': '2014-12-12 21:07:02.000000000', 'files': ['cue/db/sqlalchemy/types.py', 'cue/db/sqlalchemy/alembic/versions/236f63c96b6a_.py', 'cue/db/sqlalchemy/alembic/__init__.py', 'cue/objects/cluster.py', 'cue/db/sqlalchemy/alembic.ini', 'cue/objects/node.py', 'cue/tests/db/utils.py', 'cue/db/sqlalchemy/base.py', 'cue/manage/database.py', 'cue/db/sqlalchemy/models.py', 'cue/db/sqlalchemy/alembic/env.py', 'cue/objects/__init__.py', 'cue/db/api.py', 'cue/objects/base.py', 'cue/db/sqlalchemy/alembic/README.rst', 'cue/tests/base.py', 'cue/api/hooks.py', 'cue/api/controllers/v1.py', 'cue/tests/db/test_models.py', 'cue/tests/api/test_clusters.py', 'cue/db/sqlalchemy/__init__.py', 'cue/db/sqlalchemy/api.py', 'cue/objects/utils.py', 'cue/db/sqlalchemy/alembic/script.py.mako', 'cue/api/controllers/base.py', 'cue/objects/endpoint.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/7c6a2333494aa9eee7b0bafddab0de9a6be734ef', 'message': 'API to DB Object Refactoring\n\nThis change incorporates object abstraction for DB objects as used\nin the Ironic and Nova openstack projects.  As part of the\nrefactoring, a new module ""cue/objects"" has been created.  This\nmodule provides generalized access to DB objects.  As part of this\npatch, The API has also been updated to access DB objects through\nthe ""cue/objects"" module.\n\n* updating affected tests.\n\nChange-Id: Ia3fee13c713ea6a887875004933436e64dbd121d\n'}]",0,141232,7c6a2333494aa9eee7b0bafddab0de9a6be734ef,15,3,5,13771,,,0,"API to DB Object Refactoring

This change incorporates object abstraction for DB objects as used
in the Ironic and Nova openstack projects.  As part of the
refactoring, a new module ""cue/objects"" has been created.  This
module provides generalized access to DB objects.  As part of this
patch, The API has also been updated to access DB objects through
the ""cue/objects"" module.

* updating affected tests.

Change-Id: Ia3fee13c713ea6a887875004933436e64dbd121d
",git fetch https://review.opendev.org/openstack/cue refs/changes/32/141232/3 && git format-patch -1 --stdout FETCH_HEAD,"['cue/db/sqlalchemy/types.py', 'cue/objects/Cluster.py', 'cue/db/sqlalchemy/alembic/versions/236f63c96b6a_.py', 'cue/db/sqlalchemy/alembic/__init__.py', 'cue/db/sqlalchemy/alembic.ini', 'cue/tests/db/utils.py', 'cue/db/sqlalchemy/base.py', 'cue/manage/database.py', 'cue/db/sqlalchemy/models.py', 'cue/db/sqlalchemy/alembic/env.py', 'cue/objects/__init__.py', 'cue/db/api.py', 'cue/objects/base.py', 'cue/db/sqlalchemy/alembic/README.rst', 'cue/tests/base.py', 'cue/api/hooks.py', 'cue/api/controllers/v1.py', 'cue/tests/db/test_models.py', 'cue/tests/api/test_clusters.py', 'cue/db/sqlalchemy/__init__.py', 'cue/db/sqlalchemy/api.py', 'cue/objects/Endpoint.py', 'cue/objects/Node.py', 'cue/objects/utils.py', 'cue/db/sqlalchemy/alembic/script.py.mako', 'cue/api/controllers/base.py']",26,cb78782dadf133672938f4995d29685e2f370964,api_wsme," @classmethod def from_db_model(cls, m): return cls(**(m.as_dict())) ",,837,164
openstack%2Fpuppet-monasca~master~I7d948f8e63147b730da870df671361fae7e8bc47,openstack/puppet-monasca,master,I7d948f8e63147b730da870df671361fae7e8bc47,Fixed monasca check group,MERGED,2014-12-15 22:15:31.000000000,2014-12-16 18:16:17.000000000,2014-12-16 18:16:16.000000000,"[{'_account_id': 3}, {'_account_id': 8126}, {'_account_id': 11155}]","[{'number': 1, 'created': '2014-12-15 22:15:31.000000000', 'files': ['manifests/checks/network.pp', 'manifests/checks/host_alive.pp', 'manifests/checks/apache.pp', 'manifests/init.pp', 'manifests/checks/libvirt.pp', 'manifests/checks/http_check.pp', 'manifests/checks/mysql.pp', 'manifests/checks/rabbitmq.pp', 'manifests/checks/process.pp', 'manifests/checks/nagios_wrapper.pp', 'manifests/checks/zk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/5b53834b075cc30f37e31bd004ed3034a88a1817', 'message': 'Fixed monasca check group\n\nChanged for consistency with the recent refactor\nChange-Id: I7d948f8e63147b730da870df671361fae7e8bc47\n'}]",2,141919,5b53834b075cc30f37e31bd004ed3034a88a1817,8,3,1,11155,,,0,"Fixed monasca check group

Changed for consistency with the recent refactor
Change-Id: I7d948f8e63147b730da870df671361fae7e8bc47
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/19/141919/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/checks/network.pp', 'manifests/checks/host_alive.pp', 'manifests/checks/apache.pp', 'manifests/init.pp', 'manifests/checks/libvirt.pp', 'manifests/checks/http_check.pp', 'manifests/checks/mysql.pp', 'manifests/checks/rabbitmq.pp', 'manifests/checks/process.pp', 'manifests/checks/nagios_wrapper.pp', 'manifests/checks/zk.pp']",11,5b53834b075cc30f37e31bd004ed3034a88a1817,," group => $::monasca::group,"," group => 'monasca-agent',",15,14
openstack%2Fheat~master~Ia48ebfcb6c1b3a904f01a83f8f34d8c7a13bb2be,openstack/heat,master,Ia48ebfcb6c1b3a904f01a83f8f34d8c7a13bb2be,Always update nested stacks,MERGED,2014-12-12 21:44:01.000000000,2014-12-16 17:48:34.000000000,2014-12-16 17:48:32.000000000,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4715}, {'_account_id': 7256}, {'_account_id': 8246}, {'_account_id': 8289}]","[{'number': 1, 'created': '2014-12-12 21:44:01.000000000', 'files': ['heat/engine/resources/remote_stack.py', 'heat/tests/test_autoscaling_update_policy.py', 'heat/engine/stack_resource.py', 'heat/tests/test_provider_template.py', 'heat/tests/test_resource_group.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/35ac781db3d529317bac691eae3fb08d208d1e56', 'message': ""Always update nested stacks\n\nThere's no reason to not issue an update to a nested stack, so don't bother\ntrying to decide if its inputs have changed (and especially don't replace\nit because it's in a failed state). Overriding _needs_update() also allows\nus to remove what was effectively an isinstance check from the previous\nhandling of failed states.\n\nChange-Id: Ia48ebfcb6c1b3a904f01a83f8f34d8c7a13bb2be\nRelated-Bug: #1383618\n""}]",0,141497,35ac781db3d529317bac691eae3fb08d208d1e56,9,6,1,4257,,,0,"Always update nested stacks

There's no reason to not issue an update to a nested stack, so don't bother
trying to decide if its inputs have changed (and especially don't replace
it because it's in a failed state). Overriding _needs_update() also allows
us to remove what was effectively an isinstance check from the previous
handling of failed states.

Change-Id: Ia48ebfcb6c1b3a904f01a83f8f34d8c7a13bb2be
Related-Bug: #1383618
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/141497/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/remote_stack.py', 'heat/tests/test_autoscaling_update_policy.py', 'heat/engine/stack_resource.py', 'heat/tests/test_provider_template.py', 'heat/tests/test_resource_group.py', 'heat/engine/resource.py']",6,35ac781db3d529317bac691eae3fb08d208d1e56,bug/1383618, raise UpdateReplace(self)," if hasattr(self, 'nested'): return True else: raise UpdateReplace(self)",22,20
openstack%2Fneutron-specs~master~I407a23735cb91ae0c58646b4bc2a548e1057a7ea,openstack/neutron-specs,master,I407a23735cb91ae0c58646b4bc2a548e1057a7ea,OVS agent: Use python binding instead of ovs-ofctl command,MERGED,2014-12-04 08:18:04.000000000,2014-12-16 17:40:35.000000000,2014-12-16 17:40:34.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 5756}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7823}, {'_account_id': 8873}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-12-04 08:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/11f2f80984231d16254cc6496293b310eeee2568', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 2, 'created': '2014-12-04 09:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f2fc9ade10e219028d87d964da5e145086d24604', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 3, 'created': '2014-12-08 04:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e0e2b332484158bc496875b13b554f03e86e8d9b', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 4, 'created': '2014-12-08 05:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/539b4dd21431fb2602895e2f4318bfd52f785499', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 5, 'created': '2014-12-08 05:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/045c9e7eabf99712f62d394b395a950633389f07', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 6, 'created': '2014-12-09 04:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/79a894e45284365fc49cc205a17701b6dccbd2fc', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 7, 'created': '2014-12-10 03:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8173d06da53bcfcc139968b1fdbc370a85ba3f84', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 8, 'created': '2014-12-11 02:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dc364fb38d3101d4228f1c73e9d3857f741b14fa', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 9, 'created': '2014-12-11 03:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5afe1e52447ed23d330398e169442e9ccb35f79b', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}, {'number': 10, 'created': '2014-12-15 04:04:02.000000000', 'files': ['specs/kilo/ovs-ofctl-to-python.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c0b53597cbb847b50db454793f34e0ae64688cb4', 'message': 'OVS agent: Use python binding instead of ovs-ofctl command\n\nChange-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea\n'}]",53,138980,c0b53597cbb847b50db454793f34e0ae64688cb4,48,11,10,6854,,,0,"OVS agent: Use python binding instead of ovs-ofctl command

Change-Id: I407a23735cb91ae0c58646b4bc2a548e1057a7ea
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/80/138980/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ovs-ofctl-to-python.rst'],1,11f2f80984231d16254cc6496293b310eeee2568,bp/ovs-ofctl-to-python,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================== OVS agent: Use python binding instead of ovs-ofctl command ========================================================== https://blueprints.launchpad.net/neutron/+spec/ovs-ofctl-to-python Problem Description =================== OVS agent uses ovs-ofctl command to program flow. it works but has some drawbacks: * involves high overhead; same as ovs-vsctl described in other blueprint [#vsctl_bp]_. * difficult or impossible to handle OpenFlow async messages; async messsages are useful for monitoring switch state changes like port additions and removals [#ofagent_port_monitor_bp]_. Proposed Change =============== Instead of invoking ovs-ofctl each times, use OpenFlow python library [#ryu_ofproto]_ provided by Ryu SDN Framework [#ryu]_ to program OVS. This approach was taken for ofagent [#ofagent]_ and proved to work. OVS agent currently uses OpenFlow 1.0. Unfortunately Ryu support of OpenFlow 1.0 is not in a very good shape compared to later versions like OpenFlow 1.3 [#ryu_of10]_. Given that OpenFlow 1.3 works well with recent versions of OVS [#ovs_version]_, this blueprint proposes to make OVS agent switch to OpenFlow 1.3. As a bonus, OpenFlow 1.3 provides some features possibly useful for OVS agent [#of13_features]_. .. [#ovs_version] Open vSwitch v2.0.0 introduced OpenFlow 1.3 support. Open vSwitch v2.3.0 enabled it by default. .. [#ryu_of10] It works well, but only provides older, less flexible API. .. [#of13_features] For example, ofagent uses metadata to implement ""local vlan"" isolation. Alternatives ------------ * Instead of making OVS agent switch to OpenFlow 1.3, improve Ryu's OpenFlow 1.0 support. This would minimize changes in neutron. * Fold ofagent into OVS agent. It includes some additional changes including drastic flow table design changes [#ofagent_flow]_. Data Model Impact ----------------- none REST API Impact --------------- none Security Impact --------------- none Notifications Impact -------------------- none Other End User Impact --------------------- none Performance Impact ------------------ none IPv6 Impact ----------- none Other Deployer Impact --------------------- Ryu SDN Framework will be required for OVS agent to work. Developer Impact ---------------- none Community Impact ---------------- none Implementation ============== Assignee(s) ----------- Primary assignee: yamamoto Other contributors: kakuma Work Items ---------- In addition to items in ""Proposed Change"" section, * Improve Ryu ofproto library to support necessary Nicira extensions Dependencies ============ none Testing ======= update the existing tests if necessary. Ryu SDN Framework will be required for gate jobs. Tempest Tests ------------- none Functional Tests ---------------- none API Tests --------- none Documentation Impact ==================== User Documentation ------------------ none Developer Documentation ----------------------- none References ========== .. [#vsctl_bp] https://blueprints.launchpad.net/neutron/+spec/vsctl-to-ovsdb .. [#ryu] https://osrg.github.io/ryu/ .. [#ryu_ofproto] http://ryu.readthedocs.org/en/latest/ofproto_ref.html .. [#ofagent] https://wiki.openstack.org/wiki/Neutron/OFAgent .. [#ofagent_flow] https://github.com/openstack/neutron/blob/stable/juno/neutron/plugins/ofagent/agent/flows.py .. [#ofagent_port_monitor_bp] https://blueprints.launchpad.net/neutron/+spec/ofagent-port-monitor2 ",,180,0
openstack%2Fpuppet-keystone~master~I9074c4ee39b6cd33216dc31512f88e90bfa313cf,openstack/puppet-keystone,master,I9074c4ee39b6cd33216dc31512f88e90bfa313cf,Fix deprecated LDAP config options,ABANDONED,2014-10-13 19:29:16.000000000,2014-12-16 17:39:15.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7155}, {'_account_id': 9098}]","[{'number': 1, 'created': '2014-10-13 19:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b2dccaa115b464ec06e7b38ab76612fd020df6de', 'message': 'Fix deprecated LDAP config options\n\nIn Juno, the tenant_* LDAP related options are deprecated in favor of\nproject_*. See Table 6.38 here:\nhttp://docs.openstack.org/trunk/config-reference/content/keystone-conf-changes-master.html\n\nChange-Id: I9074c4ee39b6cd33216dc31512f88e90bfa313cf\n'}, {'number': 2, 'created': '2014-10-13 19:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0bf955afbbbce2a02bd745789d7f09302d63852b', 'message': 'Fix deprecated LDAP config options\n\nIn Juno, the tenant_* LDAP related options are deprecated in favor of\nproject_*. See Table 6.38 here:\nhttp://docs.openstack.org/trunk/config-reference/content/keystone-conf-changes-master.html\n\nChange-Id: I9074c4ee39b6cd33216dc31512f88e90bfa313cf\n'}, {'number': 3, 'created': '2014-10-23 15:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/971c3be01a1159efe17bb5473278f7052e594f2e', 'message': 'Fix deprecated LDAP config options\n\nIn Juno, the tenant_* LDAP related options are deprecated in favor of\nproject_*. See Table 6.38 here:\nhttp://docs.openstack.org/trunk/config-reference/content/keystone-conf-changes-master.html\n\nChange-Id: I9074c4ee39b6cd33216dc31512f88e90bfa313cf\n'}, {'number': 4, 'created': '2014-10-23 15:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/759e3effb02a1aac1f0477a695c36314597d0bbd', 'message': 'Fix deprecated LDAP config options\n\nIn Juno, the tenant_* LDAP related options are deprecated in favor of\nproject_*. See Table 6.38 here:\nhttp://docs.openstack.org/trunk/config-reference/content/keystone-conf-changes-master.html\n\nChange-Id: I9074c4ee39b6cd33216dc31512f88e90bfa313cf\n'}, {'number': 5, 'created': '2014-11-18 23:15:34.000000000', 'files': ['spec/classes/keystone_ldap_spec.rb', 'examples/ldap_full.pp', 'manifests/ldap.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/52839860dd1adda5b94ccaeb44871364eb332574', 'message': 'Fix deprecated LDAP config options\n\nIn Juno, the tenant_* LDAP related options are deprecated in favor of\nproject_*. See Table 6.38 here:\nhttp://docs.openstack.org/trunk/config-reference/content/keystone-conf-changes-master.html\n\nChange-Id: I9074c4ee39b6cd33216dc31512f88e90bfa313cf\n'}]",0,128066,52839860dd1adda5b94ccaeb44871364eb332574,19,5,5,9500,,,0,"Fix deprecated LDAP config options

In Juno, the tenant_* LDAP related options are deprecated in favor of
project_*. See Table 6.38 here:
http://docs.openstack.org/trunk/config-reference/content/keystone-conf-changes-master.html

Change-Id: I9074c4ee39b6cd33216dc31512f88e90bfa313cf
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/66/128066/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_ldap_spec.rb', 'examples/ldap_full.pp', 'manifests/ldap.pp']",3,b2dccaa115b464ec06e7b38ab76612fd020df6de,deprecated_ldap," $project_tree_dn = undef, $project_filter = undef, $project_objectclass = undef, $project_id_attribute = undef, $project_member_attribute = undef, $project_desc_attribute = undef, $project_name_attribute = undef, $project_enabled_attribute = undef, $project_domain_id_attribute = undef, $project_attribute_ignore = undef, $project_allow_create = undef, $project_allow_update = undef, $project_allow_delete = undef, $project_enabled_emulation = undef, $project_enabled_emulation_dn = undef, $project_additional_attribute_mapping = undef, 'ldap/project_tree_dn': value => $project_tree_dn; 'ldap/project_filter': value => $project_filter; 'ldap/project_objectclass': value => $project_objectclass; 'ldap/project_id_attribute': value => $project_id_attribute; 'ldap/project_member_attribute': value => $project_member_attribute; 'ldap/project_desc_attribute': value => $project_desc_attribute; 'ldap/project_name_attribute': value => $project_name_attribute; 'ldap/project_enabled_attribute': value => $project_enabled_attribute; 'ldap/project_attribute_ignore': value => $project_attribute_ignore; 'ldap/project_domain_id_attribute': value => $project_domain_id_attribute; 'ldap/project_allow_create': value => $project_allow_create; 'ldap/project_allow_update': value => $project_allow_update; 'ldap/project_allow_delete': value => $project_allow_delete; 'ldap/project_enabled_emulation': value => $project_enabled_emulation; 'ldap/project_enabled_emulation_dn': value => $project_enabled_emulation_dn; 'ldap/project_additional_attribute_mapping': value => $project_additional_attribute_mapping;"," $tenant_tree_dn = undef, $tenant_filter = undef, $tenant_objectclass = undef, $tenant_id_attribute = undef, $tenant_member_attribute = undef, $tenant_desc_attribute = undef, $tenant_name_attribute = undef, $tenant_enabled_attribute = undef, $tenant_domain_id_attribute = undef, $tenant_attribute_ignore = undef, $tenant_allow_create = undef, $tenant_allow_update = undef, $tenant_allow_delete = undef, $tenant_enabled_emulation = undef, $tenant_enabled_emulation_dn = undef, $tenant_additional_attribute_mapping = undef, 'ldap/tenant_tree_dn': value => $tenant_tree_dn; 'ldap/tenant_filter': value => $tenant_filter; 'ldap/tenant_objectclass': value => $tenant_objectclass; 'ldap/tenant_id_attribute': value => $tenant_id_attribute; 'ldap/tenant_member_attribute': value => $tenant_member_attribute; 'ldap/tenant_desc_attribute': value => $tenant_desc_attribute; 'ldap/tenant_name_attribute': value => $tenant_name_attribute; 'ldap/tenant_enabled_attribute': value => $tenant_enabled_attribute; 'ldap/tenant_attribute_ignore': value => $tenant_attribute_ignore; 'ldap/tenant_domain_id_attribute': value => $tenant_domain_id_attribute; 'ldap/tenant_allow_create': value => $tenant_allow_create; 'ldap/tenant_allow_update': value => $tenant_allow_update; 'ldap/tenant_allow_delete': value => $tenant_allow_delete; 'ldap/tenant_enabled_emulation': value => $tenant_enabled_emulation; 'ldap/tenant_enabled_emulation_dn': value => $tenant_enabled_emulation_dn; 'ldap/tenant_additional_attribute_mapping': value => $tenant_additional_attribute_mapping;",111,111
openstack%2Ffuel-web~stable%2F6.0~I9f88345329aae9d81fb853acf74dfa4de7668a57,openstack/fuel-web,stable/6.0,I9f88345329aae9d81fb853acf74dfa4de7668a57,Fix vlan label - added `(default)`,MERGED,2014-12-16 17:17:12.000000000,2014-12-16 17:34:47.000000000,2014-12-16 17:34:45.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 17:17:12.000000000', 'files': ['nailgun/static/i18n/translation.json'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dc621c96e30f0dd284998e975f3b800afe9fc082', 'message': 'Fix vlan label - added `(default)`\n\nCloses-bug: #1403108\n\nChange-Id: I9f88345329aae9d81fb853acf74dfa4de7668a57\n'}]",0,142164,dc621c96e30f0dd284998e975f3b800afe9fc082,8,3,1,9091,,,0,"Fix vlan label - added `(default)`

Closes-bug: #1403108

Change-Id: I9f88345329aae9d81fb853acf74dfa4de7668a57
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/64/142164/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/i18n/translation.json'],1,dc621c96e30f0dd284998e975f3b800afe9fc082,," ""neutr_vlan"": ""Neutron with VLAN segmentation (default)"","," ""neutr_vlan"": ""Neutron with VLAN segmentation"",",1,1
openstack%2Ffuel-web~master~I9f88345329aae9d81fb853acf74dfa4de7668a57,openstack/fuel-web,master,I9f88345329aae9d81fb853acf74dfa4de7668a57,Fix vlan label - added `(default)`,MERGED,2014-12-16 17:16:33.000000000,2014-12-16 17:34:21.000000000,2014-12-16 17:34:21.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 17:16:33.000000000', 'files': ['nailgun/static/i18n/translation.json'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7bfb8525ee2c72ef72889faa539d9b677197285c', 'message': 'Fix vlan label - added `(default)`\n\nCloses-bug: #1403108\n\nChange-Id: I9f88345329aae9d81fb853acf74dfa4de7668a57\n'}]",0,142163,7bfb8525ee2c72ef72889faa539d9b677197285c,10,3,1,9091,,,0,"Fix vlan label - added `(default)`

Closes-bug: #1403108

Change-Id: I9f88345329aae9d81fb853acf74dfa4de7668a57
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/63/142163/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/i18n/translation.json'],1,7bfb8525ee2c72ef72889faa539d9b677197285c,fix_default_vlan," ""neutr_vlan"": ""Neutron with VLAN segmentation (default)"","," ""neutr_vlan"": ""Neutron with VLAN segmentation"",",1,1
openstack%2Fneutron~master~Id8b08452c890bc523939f35168a09c50750d68a4,openstack/neutron,master,Id8b08452c890bc523939f35168a09c50750d68a4,Add UniqueConstraint for name and tenant_id in security group,ABANDONED,2014-11-17 16:27:41.000000000,2014-12-16 17:34:11.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 261}, {'_account_id': 1561}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10354}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-17 16:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14689f4d5d92534a859aba90a5b7b235a2144835', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 2, 'created': '2014-11-20 12:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/977df6560f9f241ee7cb4cd1b61987bb7622ede2', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 3, 'created': '2014-11-20 14:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f819e9f98d071c393f1ad552f8aa1cb43c0dc9f', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 4, 'created': '2014-11-21 09:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/121d35aaf50db170ddf7161200e4e5d3e97fea6a', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 5, 'created': '2014-11-21 12:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c75878ce9f4ca0c402f09700cd56a65eab69d02a', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 6, 'created': '2014-11-21 16:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/743b881737313734936b5c1d7a75c1e637457244', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 7, 'created': '2014-11-21 16:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fdf2416e12d4abf19c6cb63eac35b9d058d46db', 'message': 'test\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 8, 'created': '2014-11-21 16:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04b142e196ebf72f8b3a765a0edba73e7c3d2293', 'message': 'test\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 9, 'created': '2014-11-25 07:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/691525aac770e1e30cae27a5ee3d0bbe4a72da02', 'message': 'test\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n'}, {'number': 10, 'created': '2014-11-25 08:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5c1ecd8279c0681a8a664dfff46d9d5ead5986e', 'message': ""Add UniqueConstaint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint.\n\nAlso fixed unittest to create security groups with unique names in\none tenant.\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}, {'number': 11, 'created': '2014-11-26 07:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18cbbbd0e8dc87ff8b5191951404656e2d5841e2', 'message': ""Add UniqueConstaint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint.\n\nAlso fixed unittest to create security groups with unique names in\none tenant.\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}, {'number': 12, 'created': '2014-12-04 13:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3a3a9fc4aaa8b4c0b0567cb5fdaa7cd2216fd1d', 'message': ""Add UniqueConstaint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint.\n\nAlso fixed unittest to create security groups with unique names in\none tenant and added test to check failure of creation security\ngroup with already existed name.\n\nAPIImpact\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}, {'number': 13, 'created': '2014-12-05 15:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8958beabcb446b371707cd0476e2dd13036505b9', 'message': ""Add UniqueConstraint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint.\n\nAlso fixed unittest to create security groups with unique names in\none tenant and added test to check failure of creation security\ngroup with already existed name.\n\nAPIImpact\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}, {'number': 14, 'created': '2014-12-10 12:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6a8abdd37fafec67d1eafcf75e974465da1d332', 'message': ""Add UniqueConstraint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint. All existed security\ngroups with duplicated name will be renamed to 'old_name-id', where\n'id' is an id of that security group.\n\nAlso fixed unittest to create security groups with unique names in\none tenant and added test to check failure of creation security\ngroup with already existed name.\n\nAPIImpact\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}, {'number': 15, 'created': '2014-12-10 12:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcc6659c72df50f677202ed2dda57522954a1a59', 'message': ""Add UniqueConstraint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint. All existing security\ngroups with duplicated name will be renamed to 'old_name-id', where\n'id' is an id of that security group.\n\nAlso fixed unittest to create security groups with unique names in\none tenant and added test to check failure of creation security\ngroup with already existed name.\n\nAPIImpact\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}, {'number': 16, 'created': '2014-12-15 11:13:32.000000000', 'files': ['neutron/tests/unit/test_extension_security_group.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/test_security_groups_rpc.py', 'neutron/db/migration/alembic_migrations/versions/34c5c7e4d155_add_unique_securitygroups.py', 'neutron/tests/unit/ml2/test_security_group.py', 'neutron/extensions/securitygroup.py', 'neutron/db/migration/alembic_migrations/versions/HEAD'], 'web_link': 'https://opendev.org/openstack/neutron/commit/372e38062d34699a63a602556a51c858f0576afd', 'message': ""Add UniqueConstraint for name and tenant_id in security group\n\nA race condition exists in the creation of a tenant's default\nsecurity group, since the uniqueness is guaranteed by the name\nand the check is done in code. As a result, multiple requests\nmay to create multiple default security groups.\n\nDiscussion of reason behind this change could be find there:\nhttp://lists.openstack.org/pipermail/openstack-dev/2014-December/052889.html\n\nThis change ensures the uniqueness of the security group name\nand tenant id relationship via a constraint. All existing security\ngroups with duplicated name will be renamed to 'old_name-id', where\n'id' is an id of that security group.\n\nAlso fixed unittest to create security groups with unique names in\none tenant and added test to check failure of creation security\ngroup with already existed name.\n\nAPIImpact\n\nDocImpact\n\nCloses-bug: #1194579\n\nChange-Id: Id8b08452c890bc523939f35168a09c50750d68a4\n""}]",27,135006,372e38062d34699a63a602556a51c858f0576afd,319,41,16,7249,,,0,"Add UniqueConstraint for name and tenant_id in security group

A race condition exists in the creation of a tenant's default
security group, since the uniqueness is guaranteed by the name
and the check is done in code. As a result, multiple requests
may to create multiple default security groups.

Discussion of reason behind this change could be find there:
http://lists.openstack.org/pipermail/openstack-dev/2014-December/052889.html

This change ensures the uniqueness of the security group name
and tenant id relationship via a constraint. All existing security
groups with duplicated name will be renamed to 'old_name-id', where
'id' is an id of that security group.

Also fixed unittest to create security groups with unique names in
one tenant and added test to check failure of creation security
group with already existed name.

APIImpact

DocImpact

Closes-bug: #1194579

Change-Id: Id8b08452c890bc523939f35168a09c50750d68a4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/135006/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_extension_security_group.py', 'neutron/db/securitygroups_db.py', 'neutron/db/migration/alembic_migrations/versions/34c5c7e4d155_add_unique_securitygroups.py', 'neutron/db/migration/alembic_migrations/versions/HEAD']",4,14689f4d5d92534a859aba90a5b7b235a2144835,bug/1194579,34c5c7e4d155,1f71e54a85e7 ,58,3
openstack%2Fcookbook-openstack-ops-database~master~I0d7b0893d143202f55f04ddcdbc8618aaaacef25,openstack/cookbook-openstack-ops-database,master,I0d7b0893d143202f55f04ddcdbc8618aaaacef25,Allow max_connections to be overridden for mysql server,MERGED,2014-12-02 21:01:29.000000000,2014-12-16 17:28:22.000000000,2014-12-16 17:28:21.000000000,"[{'_account_id': 3}, {'_account_id': 10559}, {'_account_id': 11915}, {'_account_id': 12323}, {'_account_id': 13252}]","[{'number': 1, 'created': '2014-12-02 21:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/1aa7aef7c2095cf162cfd01e3df5ac0a110188f5', 'message': 'Allow max_connections to be overridden for mysql server\n\nThe default of 151 is very small for most openstack use cases.\nPicked a higher recommended default that can be overridden as\nnecessary.\n\nChange-Id: I0d7b0893d143202f55f04ddcdbc8618aaaacef25\nCloses-Bug: #1398527\n'}, {'number': 2, 'created': '2014-12-02 21:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/9317f92f7a550cc8f229f725ebc7cb6bcf2ef2cb', 'message': 'Allow max_connections to be overridden for mysql server\n\nThe default of 151 is very small for most openstack use cases.\nPicked a higher recommended default that can be overridden as\nnecessary.\nAdded stub for newer postgresql cookbook level spec tests.\n\nChange-Id: I0d7b0893d143202f55f04ddcdbc8618aaaacef25\nCloses-Bug: #1398527\n'}, {'number': 3, 'created': '2014-12-02 21:29:06.000000000', 'files': ['recipes/mysql-server.rb', 'spec/mysql-server_spec.rb', 'templates/default/openstack.cnf.erb', 'spec/spec_helper.rb', 'CHANGELOG.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/a27cfab06e8e3978e42a8b3ab52b7b2c0957e8aa', 'message': 'Allow max_connections to be overridden for mysql server\n\nThe default of 151 is very small for most openstack use cases.\nPicked a higher recommended default that can be overridden as\nnecessary.\nAdded stub for newer postgresql cookbook level spec tests.\n\nChange-Id: I0d7b0893d143202f55f04ddcdbc8618aaaacef25\nCloses-Bug: #1398527\n'}]",0,138537,a27cfab06e8e3978e42a8b3ab52b7b2c0957e8aa,13,5,3,7128,,,0,"Allow max_connections to be overridden for mysql server

The default of 151 is very small for most openstack use cases.
Picked a higher recommended default that can be overridden as
necessary.
Added stub for newer postgresql cookbook level spec tests.

Change-Id: I0d7b0893d143202f55f04ddcdbc8618aaaacef25
Closes-Bug: #1398527
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/37/138537/2 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/mysql-server.rb', 'spec/mysql-server_spec.rb', 'templates/default/openstack.cnf.erb', 'CHANGELOG.md', 'README.md']",5,1aa7aef7c2095cf162cfd01e3df5ac0a110188f5,bug/1398527,The following mysql specific attributes are available: * `['mysql']['tunable']['default-storage-engine']` * `['mysql']['bind_address']` * `['mysql']['tunable']['innodb_thread_concurrency']` * `['mysql']['tunable']['innodb_commit_concurrency']` * `['mysql']['tunable']['innodb_read_io_threads']` * `['mysql']['tunable']['innodb_flush_log_at_trx_commit']` * `['mysql']['tunable']['skip-name-resolve']` * `['mysql']['tunable']['character-set-server']` * `['mysql']['tunable']['max_connections']` For more information see: http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html ,,20,1
openstack%2Fopenstack-manuals~master~If1e9789181209c91c75a47029dd809bea518ebfb,openstack/openstack-manuals,master,If1e9789181209c91c75a47029dd809bea518ebfb,XenAPI: Describe XenAPI and XAPI,MERGED,2014-12-09 17:54:30.000000000,2014-12-16 17:23:09.000000000,2014-12-16 17:23:08.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 5044}, {'_account_id': 6547}, {'_account_id': 6735}, {'_account_id': 6772}, {'_account_id': 9382}, {'_account_id': 10607}]","[{'number': 1, 'created': '2014-12-09 17:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2d02caebfc54e34af8b0c1082014dcf846f8cc51', 'message': 'XenAPI: Describe XenAPI and XAPI\n\nChange-Id: If1e9789181209c91c75a47029dd809bea518ebfb\n'}, {'number': 2, 'created': '2014-12-10 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0a43de521a636f30f25030c9cfd3998b69e84382', 'message': 'XenAPI: Describe XenAPI and XAPI\n\nChange-Id: If1e9789181209c91c75a47029dd809bea518ebfb\n'}, {'number': 3, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/10de9ed8502782a7867c8a41010f70966292d5d4', 'message': 'XenAPI: Describe XenAPI and XAPI\n\nChange-Id: If1e9789181209c91c75a47029dd809bea518ebfb\n'}, {'number': 4, 'created': '2014-12-11 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5dc15ba7dbfa5224c1dc8ffd3513cd5975c817c8', 'message': 'XenAPI: Describe XenAPI and XAPI\n\nChange-Id: If1e9789181209c91c75a47029dd809bea518ebfb\n'}, {'number': 5, 'created': '2014-12-15 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7fafb1930cad984cc44a0611cf31bfd078581eaf', 'message': 'XenAPI: Describe XenAPI and XAPI\n\nChange-Id: If1e9789181209c91c75a47029dd809bea518ebfb\n'}, {'number': 6, 'created': '2014-12-16 13:04:43.000000000', 'files': ['doc/config-reference/compute/section_introduction-to-xen.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ef83f260d7e019c7114d0de60aeeb5b28b7df404', 'message': 'XenAPI: Describe XenAPI and XAPI\n\nChange-Id: If1e9789181209c91c75a47029dd809bea518ebfb\n'}]",5,140416,ef83f260d7e019c7114d0de60aeeb5b28b7df404,28,9,6,5044,,,0,"XenAPI: Describe XenAPI and XAPI

Change-Id: If1e9789181209c91c75a47029dd809bea518ebfb
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/16/140416/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/compute/section_introduction-to-xen.xml'],1,2d02caebfc54e34af8b0c1082014dcf846f8cc51,," <title xml:id=""introduction-to-xen.title"">Xen, XAPI, XenServer</title> This section describes XAPI managed hypervisors, and how to <section xml:id=""terminology-xapi""> <title>XAPI</title> XAPI is one of the toolstacks that could control a Xen based hypervisor. XAPI's role is similar to libvirt's in the KVM world. The API provided by XAPI is called XenAPI. To learn more about the provided interface, look at for definitions of XAPI specific terms such as SR, VDI, VIF OpenStack has a compute driver which talks to XAPI, therefore all XAPI managed servers could be used with OpenStack. </para> </section> <section xml:id=""terminology-xenapi""> <title>XenAPI</title> <para> XenAPI is the API provided by XAPI. This name is also used by the python library that is a client for XAPI. hypervisor and XAPI for the management. For more information <section xml:id=""xapi-deployment-architecture""> <title xml:id=""xapi-deployment-architecture.title""> Deployment Architecture A basic OpenStack deployment on a XAPI managed server, assuming Domain 0: runs XAPI and some small pieces from OpenStack, the XAPI plug-ins. talk to XAPI, and it uses the Management Network to interhost communication, and compute - XAPI communication. Please note that the VM images are downloaded by the XAPI"," <title xml:id=""introduction-to-xen.title"">Xen, XenAPI, XenServer</title> This section describes XenAPI managed hypervisors, and how to <section xml:id=""terminology-xenapi""> <title>XenAPI</title> XenAPI is one of the toolstacks that could control a Xen based hypervisor. XenAPI's role is similar to libvirt's in the KVM world. To learn more about XenAPI, visit the for definitions of XenAPI specific terms such as SR, VDI, VIF OpenStack has a compute driver which talks to XenAPI, therefore all XenAPI managed servers could be used with OpenStack. hypervisor and XenAPI for the management. For more information <section xml:id=""xenapi-deployment-architecture""> <title xml:id=""xenapi-deployment-architecture.title""> XenAPI Deployment Architecture A basic OpenStack deployment on a xapi managed server, assuming Domain 0: runs xapi and some small pieces from OpenStack, the xapi plug-ins. talk to xapi, and it uses the Management Network to inter-host communication, and compute-xapi communication. Please note that the VM images are downloaded by the XenAPI",29,21
openstack%2Fopenstack-manuals~master~I9521649ef21f0082b41b61316d877030990f6476,openstack/openstack-manuals,master,I9521649ef21f0082b41b61316d877030990f6476,XenAPI: Fix deployment diagram,MERGED,2014-12-09 17:25:52.000000000,2014-12-16 17:21:57.000000000,2014-12-16 17:21:56.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 5044}, {'_account_id': 6547}, {'_account_id': 6735}]","[{'number': 1, 'created': '2014-12-09 17:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0bfbe537bf6a7cd5785e142edac93e57deef4fa8', 'message': 'XenAPI: Fix deployment diagram\n\nRemove tenant isolation rules, references to host aggregates, update\nlinks.\n\nChange-Id: I9521649ef21f0082b41b61316d877030990f6476\n'}, {'number': 2, 'created': '2014-12-10 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d240d7ebbc7eeb8bdb17ca44277a8e2714a012aa', 'message': 'XenAPI: Fix deployment diagram\n\nRemove tenant isolation rules, references to host aggregates, update\nlinks.\n\nChange-Id: I9521649ef21f0082b41b61316d877030990f6476\n'}, {'number': 3, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/cfaf81d0df4e48879ff7c793e71f3f4e0ab2fab3', 'message': 'XenAPI: Fix deployment diagram\n\nRemove tenant isolation rules, references to host aggregates, update\nlinks.\n\nChange-Id: I9521649ef21f0082b41b61316d877030990f6476\n'}, {'number': 4, 'created': '2014-12-15 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0fb2d4446d04a07407e0437aeb9154f67cceadce', 'message': 'XenAPI: Fix deployment diagram\n\nRemove tenant isolation rules, references to host aggregates, update\nlinks.\n\nChange-Id: I9521649ef21f0082b41b61316d877030990f6476\n'}, {'number': 5, 'created': '2014-12-16 13:04:43.000000000', 'files': ['doc/config-reference/compute/section_introduction-to-xen.xml', 'doc/common/figures/xenserver_architecture.svg', 'doc/common/figures/xenserver_architecture.png'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/44b1d39b3074e15f0dd531591101029a8fc81837', 'message': 'XenAPI: Fix deployment diagram\n\nRemove tenant isolation rules, references to host aggregates, update\nlinks.\n\nChange-Id: I9521649ef21f0082b41b61316d877030990f6476\n'}]",16,140411,44b1d39b3074e15f0dd531591101029a8fc81837,22,6,5,5044,,,0,"XenAPI: Fix deployment diagram

Remove tenant isolation rules, references to host aggregates, update
links.

Change-Id: I9521649ef21f0082b41b61316d877030990f6476
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/11/140411/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/compute/section_introduction-to-xen.xml', 'doc/common/figures/xenserver_architecture.svg', 'doc/common/figures/xenserver_architecture.png']",3,0bfbe537bf6a7cd5785e142edac93e57deef4fa8,,,,189,189
openstack%2Fos-net-config~master~Idac59e571a72cc8d5693f811ec0121273b891d0f,openstack/os-net-config,master,Idac59e571a72cc8d5693f811ec0121273b891d0f,"If setting a default route, use default netmask",MERGED,2014-11-22 09:50:48.000000000,2014-12-16 17:15:53.000000000,2014-12-16 17:15:52.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 7585}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-11-22 09:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f26bceeed41cb181a96fa26f37c469f608af5a53', 'message': ""If setting a default route, use default netmask\n\nWithout this change, when configuring a default route, it's neccessary\nto explicitly provide an ip_netmask of 0.0.0.0/0 - otherwise line 177\nerrors because there's no route.ip_netmask.\n\nWith this change, it's still possible to provide an ip_netmask for a\ndefault route (even though that makes no sense), but if none is provided\nThe Right Thing is done.\n\nChange-Id: Idac59e571a72cc8d5693f811ec0121273b891d0f\n""}, {'number': 2, 'created': '2014-11-24 14:54:39.000000000', 'files': ['os_net_config/impl_eni.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/35faddb8cdec69b2ffb66e2369c7550fa9342c1e', 'message': ""If setting a default route, use default netmask\n\nWithout this change, when configuring a default route, it's neccessary\nto explicitly provide an ip_netmask of 0.0.0.0/0 - otherwise line 177\nerrors because there's no route.ip_netmask.\n\nWith this change, it's still possible to provide an ip_netmask for a\ndefault route (even though that makes no sense), but if none is provided\nThe Right Thing is done.\n\nChange-Id: Idac59e571a72cc8d5693f811ec0121273b891d0f\n""}]",0,136558,35faddb8cdec69b2ffb66e2369c7550fa9342c1e,19,4,2,9453,,,0,"If setting a default route, use default netmask

Without this change, when configuring a default route, it's neccessary
to explicitly provide an ip_netmask of 0.0.0.0/0 - otherwise line 177
errors because there's no route.ip_netmask.

With this change, it's still possible to provide an ip_netmask for a
default route (even though that makes no sense), but if none is provided
The Right Thing is done.

Change-Id: Idac59e571a72cc8d5693f811ec0121273b891d0f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/58/136558/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/impl_eni.py'],1,f26bceeed41cb181a96fa26f37c469f608af5a53,,"# -*- Coding: utf-8 -*- if route.default and not route.ip_netmask: rt = netaddr.IPNetwork(""0.0.0.0/0"") else: rt = netaddr.IPNetwork(route.ip_netmask) bridge_d:17ata += (route_data or '')",# -*- coding: utf-8 -*- rt = netaddr.IPNetwork(route.ip_netmask) bridge_data += (route_data or ''),6,3
openstack%2Fapi-sig~master~I7a72413ab2f7621b4614d3a9b311796b5d76bd07,openstack/api-sig,master,I7a72413ab2f7621b4614d3a9b311796b5d76bd07,Add RSS feed,MERGED,2014-12-12 08:22:37.000000000,2014-12-16 17:15:46.000000000,2014-12-16 17:15:46.000000000,"[{'_account_id': 3}, {'_account_id': 7}]","[{'number': 1, 'created': '2014-12-12 08:22:37.000000000', 'files': ['requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/edff818d3056d9503c12397e713379ed7e1e8eed', 'message': 'Add RSS feed\n\nSetup yasfb to generate an RSS feed for approved specs. This is a change\nthat is done for all published documents on specs.openstack.org.\n\nUpdate requirements with current global requirements.\n\nChange-Id: I7a72413ab2f7621b4614d3a9b311796b5d76bd07\n'}]",0,141301,edff818d3056d9503c12397e713379ed7e1e8eed,6,2,1,6547,,,0,"Add RSS feed

Setup yasfb to generate an RSS feed for approved specs. This is a change
that is done for all published documents on specs.openstack.org.

Update requirements with current global requirements.

Change-Id: I7a72413ab2f7621b4614d3a9b311796b5d76bd07
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/01/141301/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py']",2,edff818d3056d9503c12397e713379ed7e1e8eed,RSS," 'yasfb',# Feed configuration for yasfb feed_base_url = 'http://specs.openstack.org/openstack/api-wg' feed_author = 'OpenStack API Working Group' ",,13,4
openstack%2Ffuel-web~stable%2F6.0~I90ea02135ca4df890e8e84b0f7f238da02c32d8a,openstack/fuel-web,stable/6.0,I90ea02135ca4df890e8e84b0f7f238da02c32d8a,Ubuntu release has now (default) string and VLAN is default network,MERGED,2014-12-16 16:47:17.000000000,2014-12-16 17:08:56.000000000,2014-12-16 17:08:55.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 16:47:17.000000000', 'files': ['nailgun/static/js/views/wizard.js', 'nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/cdaa9389ac986f254d6ecb41c42c668e78bfc668', 'message': 'Ubuntu release has now (default) string and VLAN is default network\n\nCloses-bug: #1403108\n\nChange-Id: I90ea02135ca4df890e8e84b0f7f238da02c32d8a\n'}]",0,142154,cdaa9389ac986f254d6ecb41c42c668e78bfc668,10,4,1,9091,,,0,"Ubuntu release has now (default) string and VLAN is default network

Closes-bug: #1403108

Change-Id: I90ea02135ca4df890e8e84b0f7f238da02c32d8a
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/54/142154/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/wizard.js', 'nailgun/nailgun/fixtures/openstack.yaml']",2,cdaa9389ac986f254d6ecb41c42c668e78bfc668,default_labels_ubuntu_vlan," - ""wizard:Network.manager"": ""neutron-vlan"" - ""wizard:Network.manager"": ""neutron-vlan"" - data: ""neutron-gre"" label: ""dialog.create_cluster_wizard.network.neutr_gre"" description: ""dialog.create_cluster_wizard.network.neutr_gre_description"" restrictions: - ""Compute.hypervisor == 'vcenter'"": ""dialog.create_cluster_wizard.network.hypervisor_alert"" bind: - ""cluster:net_provider"": ""neutron"" - ""cluster:net_segment_type"": ""gre"""," - ""wizard:Network.manager"": ""neutron-gre"" - ""wizard:Network.manager"": ""neutron-gre"" - data: ""neutron-gre"" label: ""dialog.create_cluster_wizard.network.neutr_gre"" description: ""dialog.create_cluster_wizard.network.neutr_gre_description"" restrictions: - ""Compute.hypervisor == 'vcenter'"": ""dialog.create_cluster_wizard.network.hypervisor_alert"" bind: - ""cluster:net_provider"": ""neutron"" - ""cluster:net_segment_type"": ""gre""",15,12
openstack%2Ffuel-web~master~I90ea02135ca4df890e8e84b0f7f238da02c32d8a,openstack/fuel-web,master,I90ea02135ca4df890e8e84b0f7f238da02c32d8a,Ubuntu release has now (default) string and VLAN is default network,MERGED,2014-12-16 16:48:29.000000000,2014-12-16 17:08:40.000000000,2014-12-16 17:08:39.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 16:48:29.000000000', 'files': ['nailgun/static/js/views/wizard.js', 'nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/17575b3ff34837a32081767e431fe215fd767436', 'message': 'Ubuntu release has now (default) string and VLAN is default network\n\nCloses-bug: #1403108\n\nChange-Id: I90ea02135ca4df890e8e84b0f7f238da02c32d8a\n'}]",0,142155,17575b3ff34837a32081767e431fe215fd767436,10,4,1,9091,,,0,"Ubuntu release has now (default) string and VLAN is default network

Closes-bug: #1403108

Change-Id: I90ea02135ca4df890e8e84b0f7f238da02c32d8a
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/55/142155/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/wizard.js', 'nailgun/nailgun/fixtures/openstack.yaml']",2,17575b3ff34837a32081767e431fe215fd767436,," - ""wizard:Network.manager"": ""neutron-vlan"" - ""wizard:Network.manager"": ""neutron-vlan"" - data: ""neutron-gre"" label: ""dialog.create_cluster_wizard.network.neutr_gre"" description: ""dialog.create_cluster_wizard.network.neutr_gre_description"" restrictions: - ""Compute.hypervisor == 'vcenter'"": ""dialog.create_cluster_wizard.network.hypervisor_alert"" bind: - ""cluster:net_provider"": ""neutron"" - ""cluster:net_segment_type"": ""gre"""," - ""wizard:Network.manager"": ""neutron-gre"" - ""wizard:Network.manager"": ""neutron-gre"" - data: ""neutron-gre"" label: ""dialog.create_cluster_wizard.network.neutr_gre"" description: ""dialog.create_cluster_wizard.network.neutr_gre_description"" restrictions: - ""Compute.hypervisor == 'vcenter'"": ""dialog.create_cluster_wizard.network.hypervisor_alert"" bind: - ""cluster:net_provider"": ""neutron"" - ""cluster:net_segment_type"": ""gre""",15,12
openstack%2Ffuel-main~master~I73bdb208111e993ab0135cd7aded47e90a0f1b34,openstack/fuel-main,master,I73bdb208111e993ab0135cd7aded47e90a0f1b34,assert_pacemaker() transforms node names to FQDN before comparison,MERGED,2014-12-08 22:32:09.000000000,2014-12-16 17:06:37.000000000,2014-12-16 17:06:36.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-08 22:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/82113a5335a7546074a1fd778221f96337b51449', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}, {'number': 2, 'created': '2014-12-09 16:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/9848d1b0b046aab50d65ec59670dc35a8193897a', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}, {'number': 3, 'created': '2014-12-10 23:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/81504fe693eb01d4c9c42a2bc716bff5f8ef5342', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}, {'number': 4, 'created': '2014-12-10 23:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b7b01c71468357f7d4268f961bf56f521041ca16', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}, {'number': 5, 'created': '2014-12-16 11:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a00e272cd2307b813e44247949a890d16052331b', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}, {'number': 6, 'created': '2014-12-16 16:01:54.000000000', 'files': ['fuelweb_test/tests/test_ha.py', 'fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/81594361fd573e430a5b4add5b5bf1ed15f33c2e', 'message': ""assert_pacemaker() transforms node names to FQDN before comparison\n\nPacemaker returns it's status using FQDN on CentOS and short node\nnames on Ubuntu. It makes hard for comparison different node\nname formats with always FQDN from nailgun.\n\nNow output of pacemaker status converts into FQDN before comparison.\n\nChange-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34\nCloses-Bug:#1400169\n""}]",5,140169,81594361fd573e430a5b4add5b5bf1ed15f33c2e,40,8,6,11969,,,0,"assert_pacemaker() transforms node names to FQDN before comparison

Pacemaker returns it's status using FQDN on CentOS and short node
names on Ubuntu. It makes hard for comparison different node
name formats with always FQDN from nailgun.

Now output of pacemaker status converts into FQDN before comparison.

Change-Id: I73bdb208111e993ab0135cd7aded47e90a0f1b34
Closes-Bug:#1400169
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/69/140169/4 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/fuel_web_client.py'],1,82113a5335a7546074a1fd778221f96337b51449,bug/1400169," def compare_pcm_nodes(ctrl_node, nodes, online_status): for line in self.get_pacemaker_status(ctrl_node).splitlines(): if online_status in line: pcm_nodes = line[line.find('[') + 1:line.find(']')].split() fqdn_nodes = [self.get_fqdn_by_hostname(x) for x in pcm_nodes] logger.debug(""Expected nodes {0} {1}"" .format(online_status, nodes)) logger.debug(""Actual nodes {0} {1}"" .format(online_status, fqdn_nodes)) return (fqdn_nodes == nodes) return False fqdn_names = lambda nodes: sorted( [self.get_fqdn_by_hostname(self.fqdn(n)) for n in nodes]) online = [x for x in fqdn_names(online_nodes)] wait(lambda: compare_pcm_nodes(ctrl_node, online, 'Online: '), timeout=30) compare_pcm_nodes(ctrl_node, online, 'Online: '), offline = [x for x in fqdn_names(offline_nodes)] wait(lambda: compare_pcm_nodes(ctrl_node, offline, 'OFFLINE: '), timeout=30) compare_pcm_nodes(ctrl_node, offline, 'OFFLINE: '), 'Offline nodes {0}'.format(offline)) if self.environment.domain not in hostname:"," fqdn_names = lambda nodes: sorted([self.fqdn(n) for n in nodes]) online = \ 'Online: [ {0} ]'.format(' '.join(fqdn_names(online_nodes))) wait(lambda: online in self.get_pacemaker_status( ctrl_node), timeout=30) online in self.get_pacemaker_status(ctrl_node), offline = \ 'OFFLINE: [ {0} ]'.format( ' '.join(fqdn_names(offline_nodes))) wait(lambda: offline in self.get_pacemaker_status( ctrl_node), timeout=30) offline in self.get_pacemaker_status(ctrl_node), 'Offline nodes {0}'.format(offline_nodes)) if not self.environment.domain in hostname:",25,14
openstack%2Ffuel-main~stable%2F6.0~Ie94bf6498f7ccc48dc17e539b72eb131e90774f4,openstack/fuel-main,stable/6.0,Ie94bf6498f7ccc48dc17e539b72eb131e90774f4,Change modificated file in rollback test,MERGED,2014-12-16 14:27:22.000000000,2014-12-16 17:06:30.000000000,2014-12-16 17:06:29.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}]","[{'number': 1, 'created': '2014-12-16 14:27:22.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/fb89876812320464ebad60e7ca34b433d6b1d815', 'message': 'Change modificated file in rollback test\n\n- We were trying to modify upgraders code from venv\nbut venv is created only after running upgrade. So now\nwe are modifying /upgrade/releases/metadata.yaml file.\nFix is temporary for 6.1 and will be changed to use fake\nupgrader\n\nChange-Id: Ie94bf6498f7ccc48dc17e539b72eb131e90774f4\nCloses-Bug: #1402630\n'}]",0,142116,fb89876812320464ebad60e7ca34b433d6b1d815,8,6,1,10136,,,0,"Change modificated file in rollback test

- We were trying to modify upgraders code from venv
but venv is created only after running upgrade. So now
we are modifying /upgrade/releases/metadata.yaml file.
Fix is temporary for 6.1 and will be changed to use fake
upgrader

Change-Id: Ie94bf6498f7ccc48dc17e539b72eb131e90774f4
Closes-Bug: #1402630
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/16/142116/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,fb89876812320464ebad60e7ca34b433d6b1d815,," ""2i \ \ \ \ 2014.2-6.0: blah-blah"", '/var/upgrade/releases/' 'metadata.yaml') ""2i \ \ \ \ 2014.2-6.0: blah-blah"", '/var/upgrade/releases/' 'metadata.yaml')"," ""61i \ \ \ \ \ \ \ \ raise errors."" ""ExecutedErrorNonZeroExitCode('{0}')"" .format('Some bad error'), '/var/upgrade/.fuel-upgrade-venv/lib/' 'python2.6/site-packages/' 'fuel_upgrade/engines/' 'openstack.py') ""98i \ \ \ \ \ \ \ \ raise errors."" ""ExecutedErrorNonZeroExitCode('{0}')"" .format('Some bad error'), '/var/upgrade/.fuel-upgrade-venv/lib/' 'python2.6/site-packages/' 'fuel_upgrade/engines/' 'docker_engine.py')",6,14
openstack%2Ffuel-main~master~Ie94bf6498f7ccc48dc17e539b72eb131e90774f4,openstack/fuel-main,master,Ie94bf6498f7ccc48dc17e539b72eb131e90774f4,Change modificated file in rollback test,MERGED,2014-12-16 14:25:53.000000000,2014-12-16 17:05:59.000000000,2014-12-16 17:05:58.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}]","[{'number': 1, 'created': '2014-12-16 14:25:53.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ce675aa2b065c4c75d1f0d3043a1661f24d93ede', 'message': 'Change modificated file in rollback test\n\n- We were trying to modify upgraders code from venv\nbut venv is created only after running upgrade. So now\nwe are modifying /upgrade/releases/metadata.yaml file.\nFix is temporary for 6.1 and will be changed to use fake\nupgrader\n\nChange-Id: Ie94bf6498f7ccc48dc17e539b72eb131e90774f4\nCloses-Bug: #1402630\n'}]",0,142115,ce675aa2b065c4c75d1f0d3043a1661f24d93ede,10,6,1,10136,,,0,"Change modificated file in rollback test

- We were trying to modify upgraders code from venv
but venv is created only after running upgrade. So now
we are modifying /upgrade/releases/metadata.yaml file.
Fix is temporary for 6.1 and will be changed to use fake
upgrader

Change-Id: Ie94bf6498f7ccc48dc17e539b72eb131e90774f4
Closes-Bug: #1402630
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/15/142115/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,ce675aa2b065c4c75d1f0d3043a1661f24d93ede,fixRollbackPath," ""2i \ \ \ \ 2014.2-6.0: blah-blah"", '/var/upgrade/releases/' 'metadata.yaml') ""2i \ \ \ \ 2014.2-6.0: blah-blah"", '/var/upgrade/releases/' 'metadata.yaml')"," ""61i \ \ \ \ \ \ \ \ raise errors."" ""ExecutedErrorNonZeroExitCode('{0}')"" .format('Some bad error'), '/var/upgrade/.fuel-upgrade-venv/lib/' 'python2.6/site-packages/' 'fuel_upgrade/engines/' 'openstack.py') ""98i \ \ \ \ \ \ \ \ raise errors."" ""ExecutedErrorNonZeroExitCode('{0}')"" .format('Some bad error'), '/var/upgrade/.fuel-upgrade-venv/lib/' 'python2.6/site-packages/' 'fuel_upgrade/engines/' 'docker_engine.py')",6,14
openstack%2Ffuel-web~master~I727abcc7ea441abacafb6d4b2dcdc611bdd3c91e,openstack/fuel-web,master,I727abcc7ea441abacafb6d4b2dcdc611bdd3c91e,"Revert ""Bump up lodash version to 2.4.1""",MERGED,2014-12-16 16:24:35.000000000,2014-12-16 17:05:25.000000000,2014-12-16 17:05:24.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-16 16:24:35.000000000', 'files': ['nailgun/static/js/libs/custom/backbone-lodash-monkeypatch.js', 'nailgun/bower.json', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/nodes_tab_subviews.jsx', 'nailgun/static/js/utils.js', 'nailgun/ui_tests/test_cluster_network.js', 'nailgun/static/js/config.js', 'nailgun/static/js/main.js', 'nailgun/static/js/models.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2eb7ed75daa1f7ff8c89d2cc5667c1b13e983167', 'message': 'Revert ""Bump up lodash version to 2.4.1""\n\nIt is broken in Firefox\n\nThis reverts commit 5c08e271a2f681e4842a5b3e7259f7cefc4b1702.\n\nChange-Id: I727abcc7ea441abacafb6d4b2dcdc611bdd3c91e\n'}]",0,142145,2eb7ed75daa1f7ff8c89d2cc5667c1b13e983167,8,3,1,8735,,,0,"Revert ""Bump up lodash version to 2.4.1""

It is broken in Firefox

This reverts commit 5c08e271a2f681e4842a5b3e7259f7cefc4b1702.

Change-Id: I727abcc7ea441abacafb6d4b2dcdc611bdd3c91e
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/45/142145/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/libs/custom/backbone-lodash-monkeypatch.js', 'nailgun/bower.json', 'nailgun/static/js/utils.js', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/nodes_tab_subviews.jsx', 'nailgun/ui_tests/test_cluster_network.js', 'nailgun/static/js/config.js', 'nailgun/static/js/main.js', 'nailgun/static/js/models.js']",8,2eb7ed75daa1f7ff8c89d2cc5667c1b13e983167,bug/1281076,"define(['utils', 'expression', 'deepModel'], function(utils, Expression) {","define(['underscore', 'utils', 'expression', 'deepModel'], function(_, utils, Expression) {",8,64
openstack%2Fsecurity-doc~master~I56975221e62de4dd6272cce1a69e5742ca5b0f2f,openstack/security-doc,master,I56975221e62de4dd6272cce1a69e5742ca5b0f2f,Adds OSSN-0042 Keystone Scoping,MERGED,2014-12-08 14:12:47.000000000,2014-12-16 16:55:29.000000000,2014-12-16 16:55:26.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 2807}, {'_account_id': 6486}, {'_account_id': 7063}, {'_account_id': 9098}, {'_account_id': 11397}, {'_account_id': 11716}]","[{'number': 1, 'created': '2014-12-08 14:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d12df396eb5292274cb8569ae83319a212b2d281', 'message': 'Adds OSSN-0042 Keystone Trusts\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 2, 'created': '2014-12-08 14:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/76c22d2cade7b89681104dcc5b346d7bc0577906', 'message': 'Adds OSSN-0042 Keystone Trusts\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 3, 'created': '2014-12-08 14:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f0c58323eea44b49404200e86d8c97e7fd75bd81', 'message': 'Adds OSSN-0042 Keystone Trusts\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 4, 'created': '2014-12-09 12:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/2dba3fc82172e4e1ce1315cda617b26b31cf0d85', 'message': 'Adds OSSN-0042 Keystone Trusts\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 5, 'created': '2014-12-09 15:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/fa9ac7039487a0dabacef62ed67c6e9c80a8c683', 'message': 'Adds OSSN-0042 Keystone Trusts\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 6, 'created': '2014-12-10 10:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/02a6e71ef29b29ab36f61ea9674edcd22fae8f0c', 'message': 'Adds OSSN-0042 Keystone Scoping\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 7, 'created': '2014-12-12 09:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/5c7d2cd44f5b1b191ea994598f8b4a0f88026e85', 'message': 'Adds OSSN-0042 Keystone Scoping\n\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}, {'number': 8, 'created': '2014-12-12 16:58:02.000000000', 'files': ['security-notes/OSSN-0042'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/8177771c4a6e4851a29d8bcafce908f6bf1c62ec', 'message': 'Adds OSSN-0042 Keystone Scoping\n\nCloses-bug: #1341816\nChange-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f\n'}]",46,140009,8177771c4a6e4851a29d8bcafce908f6bf1c62ec,45,8,8,7063,,,0,"Adds OSSN-0042 Keystone Scoping

Closes-bug: #1341816
Change-Id: I56975221e62de4dd6272cce1a69e5742ca5b0f2f
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/09/140009/8 && git format-patch -1 --stdout FETCH_HEAD,['security-notes/OSSN-0042'],1,d12df396eb5292274cb8569ae83319a212b2d281,bug/1341816,"Keystone scoped tokens provide no security benefit --- ### Summary ### Keystone provides ""Scoped"" tokens that can be constrained to use by a single project. This mechanism does not enhance security as any project can use a scoped token to request an un-scoped token from Keystone. If users expect their scoped token to be usable only by the project the token was given to this could be considered a privilege escalation. ### Affected Services / Software ### Keystone, Icehouse, Juno, Kilo ### Discussion ### This is not a bug in Keystone, it's a design feature that we believe some users may expect to bring security enhancement when it does not. The OSSG is issuing this security note to highlight the issue. Many operations in OpenStack will take a Keystone token from the user and pass it to another service to perform some portion of the intended operation. This token is very powerful and can be used to perform many actions for the user. Scoped tokens limit their use to the roles or project they were granted for. However, currently Keystone allows projects to request un-scoped tokens and will issue them if a scoped token is presented. ### Recommended Action ### Users and deployers of OpenStack should not rely on scoped tokens to limit what actions can be performed using specific tokens. Concerned users are encouraged to read (OSSG member) Nathan Kinder's blog post on this issue and some of the potential future solutions. ### Contacts / References ### Keystone Trusts : https://wiki.openstack.org/wiki/Keystone/Trusts Nkinder on Trusts : https://blog-nkinder.rhcloud.com/?p=101 This OSSN : https://wiki.openstack.org/wiki/OSSN/OSSN-0042 Original LaunchPad Bug : https://bugs.launchpad.net/ossn/+bug/1341816 OpenStack Security ML : openstack-security@lists.openstack.org OpenStack Security Group : https://launchpad.net/~openstack-ossg ",,40,0
openstack%2Fapi-sig~master~I7e5fa4231465f401531aa15f12a8fd0e983efd7d,openstack/api-sig,master,I7e5fa4231465f401531aa15f12a8fd0e983efd7d,Workflow documentation is now in infra-manual,MERGED,2014-12-05 03:40:26.000000000,2014-12-16 16:55:16.000000000,2014-12-16 16:55:13.000000000,"[{'_account_id': 3}, {'_account_id': 7}]","[{'number': 1, 'created': '2014-12-05 03:40:26.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/223934a472dbc2cf4b6e3f8d6d9b664a8e87bf34', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: I7e5fa4231465f401531aa15f12a8fd0e983efd7d\n'}]",0,139308,223934a472dbc2cf4b6e3f8d6d9b664a8e87bf34,6,2,1,5263,,,0,"Workflow documentation is now in infra-manual

Replace URLs for workflow documentation to appropriate parts of the
OpenStack Project Infrastructure Manual.

Change-Id: I7e5fa4231465f401531aa15f12a8fd0e983efd7d
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/08/139308/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst']",2,223934a472dbc2cf4b6e3f8d6d9b664a8e87bf34,infra-manual,processes](http://docs.openstack.org/infra/manual/developers.html).,processes](https://wiki.openstack.org/wiki/How_To_Contribute).,2,2
openstack%2Fproject-config~master~Iec71cc1caa30d6aeb82c569a658c4758377dc904,openstack/project-config,master,Iec71cc1caa30d6aeb82c569a658c4758377dc904,Fix publishing rally html results,MERGED,2014-12-09 11:03:25.000000000,2014-12-16 16:54:57.000000000,2014-12-16 16:54:56.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 6172}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7979}]","[{'number': 1, 'created': '2014-12-09 11:03:25.000000000', 'files': ['jenkins/jobs/rally.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/59a3866a1f818bef20d864a5a93b12433ca153c7', 'message': 'Fix publishing rally html results\n\nAdd copy-after-failure option to publisher\n\nChange-Id: Iec71cc1caa30d6aeb82c569a658c4758377dc904\n'}]",0,140296,59a3866a1f818bef20d864a5a93b12433ca153c7,11,6,1,7369,,,0,"Fix publishing rally html results

Add copy-after-failure option to publisher

Change-Id: Iec71cc1caa30d6aeb82c569a658c4758377dc904
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/140296/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/rally.yaml'],1,59a3866a1f818bef20d864a5a93b12433ca153c7,copy_after_failure, copy-after-failure: true,,1,0
openstack%2Fmurano-dashboard~master~I070ca4f64cb77949bec000d021c1a0530dc8cbe1,openstack/murano-dashboard,master,I070ca4f64cb77949bec000d021c1a0530dc8cbe1,Removed statistics panel,MERGED,2014-12-14 00:05:06.000000000,2014-12-16 16:34:09.000000000,2014-12-16 16:34:08.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-14 00:05:06.000000000', 'files': ['muranodashboard/tests/functional/sanity_check.py', 'muranodashboard/templates/stats/_billing_stats.html', 'muranodashboard/stats/panel.py', 'muranodashboard/templates/stats/_page_header.html', 'muranodashboard/templates/stats/_srv_instance.html', 'muranodashboard/stats/tabs.py', 'muranodashboard/stats/views.py', 'muranodashboard/templates/stats/index.html', 'muranodashboard/templates/stats/_eng_srv.html', 'muranodashboard/static/muranodashboard/css/catalog.css', 'muranodashboard/dashboard.py', 'muranodashboard/templates/stats/_billing_entry.html', 'muranodashboard/stats/__init__.py', 'muranodashboard/templates/stats/_api_srv.html', 'muranodashboard/stats/models.py', 'muranodashboard/stats/urls.py', 'muranodashboard/templates/stats/_app_stats.html', 'muranodashboard/templates/stats/_billing.html'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/c1ba9da29e2b878782d5041286ac6a8e40559c6a', 'message': 'Removed statistics panel\n\nChange-Id: I070ca4f64cb77949bec000d021c1a0530dc8cbe1\n'}]",0,141590,c1ba9da29e2b878782d5041286ac6a8e40559c6a,15,4,1,7600,,,0,"Removed statistics panel

Change-Id: I070ca4f64cb77949bec000d021c1a0530dc8cbe1
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/90/141590/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/tests/functional/sanity_check.py', 'muranodashboard/templates/stats/_billing_stats.html', 'muranodashboard/stats/panel.py', 'muranodashboard/templates/stats/_page_header.html', 'muranodashboard/templates/stats/_srv_instance.html', 'muranodashboard/stats/tabs.py', 'muranodashboard/stats/views.py', 'muranodashboard/templates/stats/index.html', 'muranodashboard/templates/stats/_eng_srv.html', 'muranodashboard/static/muranodashboard/css/catalog.css', 'muranodashboard/dashboard.py', 'muranodashboard/templates/stats/_billing_entry.html', 'muranodashboard/stats/__init__.py', 'muranodashboard/templates/stats/_api_srv.html', 'muranodashboard/stats/models.py', 'muranodashboard/stats/urls.py', 'muranodashboard/templates/stats/_app_stats.html', 'muranodashboard/templates/stats/_billing.html']",18,c1ba9da29e2b878782d5041286ac6a8e40559c6a,murano-cleanup,,"{% load i18n sizeformat %} {% if stats %} <div class=""panel-group {{ offset }}"" id=""{{ grp_id }}""> {% for env in stats %} {% with parent=grp_id env=env t=""stats/_billing_stats.html"" %} {% include t %} {% endwith %} {% endfor %} </div> {% else %} <div class=""alert alert-block alert-info fade in""> <p>{% trans ""No recent activity to report at this time."" %}</p> </div> {% endif %} ",1,350
openstack%2Fironic~master~If2bb15c8300d28551946ff6053da6713faaadb4b,openstack/ironic,master,If2bb15c8300d28551946ff6053da6713faaadb4b,Begin using the state machine for node deploy/teardown,MERGED,2014-12-04 22:10:50.000000000,2014-12-16 16:26:01.000000000,2014-12-16 09:34:44.000000000,"[{'_account_id': 3}, {'_account_id': 114}, {'_account_id': 1297}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 12081}, {'_account_id': 13362}]","[{'number': 1, 'created': '2014-12-04 22:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61b2ae6bcc58ed22ff1acd6c0901ea23394a066c', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 2, 'created': '2014-12-05 00:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33d293ff693e866e46255e99c247150e4d89b87d', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 3, 'created': '2014-12-05 01:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4cca2d7c0606fdad7d276564ec24041a3efe35d', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 4, 'created': '2014-12-10 19:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2bbe0c7678deb42056bca89758947fc9d78cc15', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 5, 'created': '2014-12-10 19:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c62f3c65772ba27ab6d0c77afbc6a54909a9432e', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nRelated-To: blueprint new-ironic-state-machine\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 6, 'created': '2014-12-11 00:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0dca60e2d7368c719d56291c9ea8cede29941474', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nRelated-To: blueprint new-ironic-state-machine\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 7, 'created': '2014-12-11 01:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e5c96acb900a6c46e10da62e8ad79a8b1f3af1b', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nRelated-To: blueprint new-ironic-state-machine\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 8, 'created': '2014-12-11 20:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7713ff7c3e74eed596d9113bca03981150d38c2', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nRelated-To: blueprint new-ironic-state-machine\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}, {'number': 9, 'created': '2014-12-15 20:45:26.000000000', 'files': ['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py', 'ironic/tests/conductor/test_task_manager.py', 'ironic/tests/drivers/test_pxe.py', 'ironic/tests/conductor/test_conductor_utils.py', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8c182bd13414e7d278b7fda4c2e48e088f9572d', 'message': 'Begin using the state machine for node deploy/teardown\n\nStart using the state machine:\n- first, add a process_event() method to TaskManager\n- then, use it for both do_node_deploy and do_node_tear_down\n- finally, add it to cleanup_after_timeout\n\nThis simplified both methods in ConductorManager, and also exposed a few\nshortcomings in unit tests.\n\nRelated-To: blueprint new-ironic-state-machine\nChange-Id: If2bb15c8300d28551946ff6053da6713faaadb4b\n'}]",9,139216,d8c182bd13414e7d278b7fda4c2e48e088f9572d,49,11,9,2889,,,0,"Begin using the state machine for node deploy/teardown

Start using the state machine:
- first, add a process_event() method to TaskManager
- then, use it for both do_node_deploy and do_node_tear_down
- finally, add it to cleanup_after_timeout

This simplified both methods in ConductorManager, and also exposed a few
shortcomings in unit tests.

Related-To: blueprint new-ironic-state-machine
Change-Id: If2bb15c8300d28551946ff6053da6713faaadb4b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/139216/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/conductor/test_manager.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py', 'ironic/tests/conductor/test_task_manager.py', 'ironic/tests/drivers/test_pxe.py', 'ironic/tests/conductor/test_conductor_utils.py', 'ironic/conductor/task_manager.py']",7,61b2ae6bcc58ed22ff1acd6c0901ea23394a066c,states,"from ironic.common import states self.fsm = states.machine.copy() self.fsm.initialize(self.node.provision_state) self.fsm = None def process_event(self, event): """"""Process an event by advancing the state machine."""""" self.fsm.process_event(event) self.node.provision_state = self.fsm.current_state self.node.target_provision_state = self.fsm.target_state ",,93,93
openstack%2Ffuel-web~master~I945df79e346a233659507dd22c2c2822e78c17b1,openstack/fuel-web,master,I945df79e346a233659507dd22c2c2822e78c17b1,Bump up lodash version to 2.4.1,MERGED,2014-10-31 14:48:51.000000000,2014-12-16 16:24:35.000000000,2014-12-16 11:45:47.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-10-31 14:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5393bf685a7f28d25032011221cb7e4d9668a540', 'message': 'Bump up lodash version to 2.4.1\n\n* _.difference accepts two arrays, this is fixed, possibly this\n  https://github.com/lodash/lodash/wiki/Changelog#v230\n  broke the current behavior\n\nChange-Id: I945df79e346a233659507dd22c2c2822e78c17b1\nCloses-Bug: #1281076\n'}, {'number': 2, 'created': '2014-11-07 12:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7b11cebfda2238745824016248cb17c28b11a289', 'message': 'Bump up lodash version to 2.4.1\n\n* _.difference accepts two arrays, this is fixed, possibly this\n  https://github.com/lodash/lodash/wiki/Changelog#v230\n  broke the current behavior\n\nChange-Id: I945df79e346a233659507dd22c2c2822e78c17b1\nCloses-Bug: #1281076\n'}, {'number': 3, 'created': '2014-11-07 13:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/57a6e02eaa435aec81a2a1aa6f63ca3c31cf9a93', 'message': 'Bump up lodash version to 2.4.1\n\n* _.difference accepts two arrays, this is fixed, possibly this\n  https://github.com/lodash/lodash/wiki/Changelog#v230\n  broke the current behavior\n* added backbone-lodash-monkeypatch. This fixes issues with passing objects\n  as predicates (which was introduced in Lodash) to filter, reject, where\n  functions\n\nChange-Id: I945df79e346a233659507dd22c2c2822e78c17b1\nCloses-Bug: #1281076\n'}, {'number': 4, 'created': '2014-11-12 14:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b3329a3b7bcad9a8cfc6d9aaaaaa6cf4d7ec29b5', 'message': 'Bump up lodash version to 2.4.1\n\n* _.difference accepts two arrays, this is fixed, possibly this\n  https://github.com/lodash/lodash/wiki/Changelog#v230\n  broke the current behavior\n* added backbone-lodash-monkeypatch. This fixes issues with passing objects\n  as predicates (which was introduced in Lodash) to filter, reject, where\n  functions\n* Backbone.Colleciton.filterWhere monkey-patched also\n\nChange-Id: I945df79e346a233659507dd22c2c2822e78c17b1\nCloses-Bug: #1281076\n'}, {'number': 5, 'created': '2014-11-14 10:53:03.000000000', 'files': ['nailgun/static/js/libs/custom/backbone-lodash-monkeypatch.js', 'nailgun/bower.json', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/nodes_tab_subviews.jsx', 'nailgun/static/js/utils.js', 'nailgun/ui_tests/test_cluster_network.js', 'nailgun/static/js/config.js', 'nailgun/static/js/main.js', 'nailgun/static/js/models.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5c08e271a2f681e4842a5b3e7259f7cefc4b1702', 'message': 'Bump up lodash version to 2.4.1\n\n* _.difference accepts two arrays, this is fixed, possibly this\n  https://github.com/lodash/lodash/wiki/Changelog#v230\n  broke the current behavior\n* added backbone-lodash-monkeypatch. This fixes issues with passing objects\n  as predicates (which was introduced in Lodash) to filter, reject, where\n  functions\n* Backbone.Colleciton.filterWhere monkey-patched also\n\nChange-Id: I945df79e346a233659507dd22c2c2822e78c17b1\nCloses-Bug: #1281076\n'}]",5,132271,5c08e271a2f681e4842a5b3e7259f7cefc4b1702,43,7,5,13445,,,0,"Bump up lodash version to 2.4.1

* _.difference accepts two arrays, this is fixed, possibly this
  https://github.com/lodash/lodash/wiki/Changelog#v230
  broke the current behavior
* added backbone-lodash-monkeypatch. This fixes issues with passing objects
  as predicates (which was introduced in Lodash) to filter, reject, where
  functions
* Backbone.Colleciton.filterWhere monkey-patched also

Change-Id: I945df79e346a233659507dd22c2c2822e78c17b1
Closes-Bug: #1281076
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/71/132271/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/bower.json', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/nodes_tab_subviews.jsx', 'nailgun/static/js/main.js']",3,5393bf685a7f28d25032011221cb7e4d9668a540,bug/1281076," lodash: 'js/libs/bower/lodash/js/lodash.compat', underscore: 'js/libs/bower/lodash/js/lodash.compat',"," lodash: 'js/libs/bower/lodash/js/lodash', underscore: 'js/libs/bower/lodash/js/lodash',",8,8
openstack%2Fneutron-vpnaas~master~I12825bc071033109bdcb93c89daa32012a8babb6,openstack/neutron-vpnaas,master,I12825bc071033109bdcb93c89daa32012a8babb6,Do not restart vpn processes for every router update,MERGED,2014-12-14 07:06:01.000000000,2014-12-16 16:22:56.000000000,2014-12-16 09:05:40.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 6659}, {'_account_id': 10237}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-12-14 07:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bd4f4d336583df58a3f146547ff90bbcc397a13f', 'message': ""Do not restart vpn processes for every router update\n\nPresently all the vpn processes are restarted when any\nrouter is updated, even if the updated router do not\nhost any vpn services. 'device_drivers.ipsec.sync()'\nupdates all the vpn services which results in stopping\nand then starting of the vpn processes.\nThis patch addresses the issue by\n1. Passing router id information to the vpnservice_updated\n2. (Re)starting the vpn process only if the\n      - the vpn service is newly added or\n      - the agent has been restarted before the sync or\n      - the sync has the router id of the vpn service\n\nChange-Id: I12825bc071033109bdcb93c89daa32012a8babb6\nCloses-bug: #1393589\n""}, {'number': 2, 'created': '2014-12-15 16:44:31.000000000', 'files': ['neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron_vpnaas/services/vpn/service_drivers/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_cisco_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ae02852296f19c9e960f48ac08adc64da5ba26e1', 'message': ""Do not restart vpn processes for every router update\n\nPresently all the vpn processes are restarted when any\nrouter is updated, even if the updated router do not\nhost any vpn services. 'device_drivers.ipsec.sync()'\nupdates all the vpn services which results in stopping\nand then starting of the vpn processes.\nThis patch addresses the issue by\n1. Passing router id information to the vpnservice_updated\n2. (Re)starting the vpn process only if the\n      - the vpn service is newly added or\n      - the agent has been restarted before the sync or\n      - the sync has the router id of the vpn service\n\nChange-Id: I12825bc071033109bdcb93c89daa32012a8babb6\nCloses-bug: #1393589\n""}]",0,141625,ae02852296f19c9e960f48ac08adc64da5ba26e1,18,6,2,10237,,,0,"Do not restart vpn processes for every router update

Presently all the vpn processes are restarted when any
router is updated, even if the updated router do not
host any vpn services. 'device_drivers.ipsec.sync()'
updates all the vpn services which results in stopping
and then starting of the vpn processes.
This patch addresses the issue by
1. Passing router id information to the vpnservice_updated
2. (Re)starting the vpn process only if the
      - the vpn service is newly added or
      - the agent has been restarted before the sync or
      - the sync has the router id of the vpn service

Change-Id: I12825bc071033109bdcb93c89daa32012a8babb6
Closes-bug: #1393589
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/25/141625/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron_vpnaas/services/vpn/service_drivers/__init__.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_cisco_ipsec.py']",5,bd4f4d336583df58a3f146547ff90bbcc397a13f,bug/1393589," self._fake_vpn_router_id = _uuid() 'router_id': self._fake_vpn_router_id **additional_info) {'reason': 'ipsec-conn-create', 'router': {'id': self._fake_vpn_router_id}}) {'reason': 'ipsec-conn-update', 'router': {'id': self._fake_vpn_router_id}}) {'reason': 'ipsec-conn-delete', 'router': {'id': self._fake_vpn_router_id}}) {'reason': 'vpn-service-update', 'router': {'id': FAKE_VPN_SERVICE['router_id']}}) {'reason': 'vpn-service-delete', 'router': {'id': FAKE_VPN_SERVICE['router_id']}})", 'router_id': _uuid() reason=mock.ANY) {'reason': 'ipsec-conn-create'}) {'reason': 'ipsec-conn-update'}) {'reason': 'ipsec-conn-delete'}) {'reason': 'vpn-service-update'}) {'reason': 'vpn-service-delete'}),218,63
openstack%2Fopenstack-ansible~master~Idb75f816f47740ee28ec5d7d8afb118acf4a71bb,openstack/openstack-ansible,master,Idb75f816f47740ee28ec5d7d8afb118acf4a71bb,pin setuptools to 7.0 to workaround brokenness in 8.x,MERGED,2014-12-15 14:44:47.000000000,2014-12-16 16:13:26.000000000,2014-12-16 14:59:59.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9820}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-15 14:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/723dcf4ee4c7503f884ba35f84fce540ddd48439', 'message': 'pin setuptools to 7.0 to workaround brokenness in 8.x\n\nsetuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the\nweekend.  This introduces a breaking change whereby python packages\ninstalled from SHA, rather than with a proper release version, do not\nhave their version numbers parsed properly due to the appended sha.\nEg python-glanceclient 0.14.2.2.gb126351\n\nThis commit pins setuptools to 7.0, to workaround this issue until a fix\nis made upstream.\n\nAlso, we remove package installations of python-setuptools and\npython-pip which had potential to further conflict.\n\nCloses-Bug: 1402681\nCloses-Bug: 1402672\n\nChange-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb\n'}, {'number': 2, 'created': '2014-12-16 09:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91cfbe6590f70698a61de089ae2ab711f17c15d0', 'message': 'pin setuptools to 7.0 to workaround brokenness in 8.x\n\nsetuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the\nweekend.  This introduces a breaking change whereby python packages\ninstalled from SHA, rather than with a proper release version, do not\nhave their version numbers parsed properly due to the appended sha.\nEg python-glanceclient 0.14.2.2.gb126351\n\nThis commit pins setuptools to 7.0, to workaround this issue until a fix\nis made upstream.\n\nAlso, we remove package installations of python-setuptools and\npython-pip which had potential to further conflict.\n\nCloses-Bug: 1402679\n\nCloses-Bug: 1402672\n\nChange-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb\n'}, {'number': 3, 'created': '2014-12-16 11:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/69b8aa0a20d7903fcffc1e2042931c0f94045d56', 'message': 'pin setuptools to 7.0 to workaround brokenness in 8.x\n\nsetuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the\nweekend.  This introduces a breaking change whereby python packages\ninstalled from SHA, rather than with a proper release version, do not\nhave their version numbers parsed properly due to the appended sha.\nEg python-glanceclient 0.14.2.2.gb126351\n\nThis commit pins setuptools to 7.0, to workaround this issue until a fix\nis made upstream.\n\nAlso, we remove package installations of python-setuptools and\npython-pip which had potential to further conflict.\n\nCloses-Bug: 1402679\n\nCloses-Bug: 1402672\n\nChange-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb\n'}, {'number': 4, 'created': '2014-12-16 12:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/160034b9b0814effb50a34c4c475c001fe16e8d8', 'message': 'pin setuptools to 7.0 to workaround brokenness in 8.x\n\nsetuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the\nweekend.  This introduces a breaking change whereby python packages\ninstalled from SHA, rather than with a proper release version, do not\nhave their version numbers parsed properly due to the appended sha.\nEg python-glanceclient 0.14.2.2.gb126351\n\nThis commit pins setuptools to 7.0, to workaround this issue until a fix\nis made upstream.\n\nAlso, we remove package installations of python-setuptools and\npython-pip which had potential to further conflict.\n\nCloses-Bug: 1402679\n\nCloses-Bug: 1402672\n\nChange-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb\n'}, {'number': 5, 'created': '2014-12-16 13:47:20.000000000', 'files': ['rpc_deployment/vars/repo_packages/swift.yml', 'requirements.txt', 'rpc_deployment/vars/repo_packages/readme.rst', 'rpc_deployment/vars/repo_packages/all_common.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2793a1dbcb73d1ebc8ed31a6e75fc31506b0c4e8', 'message': 'pin setuptools to 7.0 to workaround brokenness in 8.x\n\nsetuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the\nweekend.  This introduces a breaking change whereby python packages\ninstalled from SHA, rather than with a proper release version, do not\nhave their version numbers parsed properly due to the appended sha.\nEg python-glanceclient 0.14.2.2.gb126351\n\nThis commit:\n\n- pins setuptools to 7.0, to workaround this issue until a fix\nis made upstream, inside the global requirements.txt\n\n- removes package installations of python-setuptools and\npython-pip which had potential to further conflict.\n\n- removes the list pip_common_packages from the all_common vars file\n\nCloses-Bug: 1402679\n\nCloses-Bug: 1402672\n\nChange-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb\n'}]",2,141811,2793a1dbcb73d1ebc8ed31a6e75fc31506b0c4e8,26,8,5,425,,,0,"pin setuptools to 7.0 to workaround brokenness in 8.x

setuptools 8.0 (and subsequently 8.0.1, 8.0.2) were released over the
weekend.  This introduces a breaking change whereby python packages
installed from SHA, rather than with a proper release version, do not
have their version numbers parsed properly due to the appended sha.
Eg python-glanceclient 0.14.2.2.gb126351

This commit:

- pins setuptools to 7.0, to workaround this issue until a fix
is made upstream, inside the global requirements.txt

- removes package installations of python-setuptools and
python-pip which had potential to further conflict.

- removes the list pip_common_packages from the all_common vars file

Closes-Bug: 1402679

Closes-Bug: 1402672

Change-Id: Idb75f816f47740ee28ec5d7d8afb118acf4a71bb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/11/141811/5 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/swift.yml', 'rpc_deployment/vars/repo_packages/all_common.yml']",2,723dcf4ee4c7503f884ba35f84fce540ddd48439,bug/1402679, - setuptools==7.0, - setuptools,1,3
openstack%2Fmanila~master~I28b4787e0ada4f6505d929f8d417218a0dc4d0b4,openstack/manila,master,I28b4787e0ada4f6505d929f8d417218a0dc4d0b4,glusterfs: create share of specific size,MERGED,2014-09-26 05:59:38.000000000,2014-12-16 16:04:11.000000000,2014-12-16 16:04:10.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 8056}, {'_account_id': 8851}, {'_account_id': 9521}, {'_account_id': 11047}, {'_account_id': 11878}]","[{'number': 1, 'created': '2014-09-26 05:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/52ed7b2ab711ca97656afe80397a7a926487dc0a', 'message': ""glusterfs: create share of specific size\n\nCurrently, glusterfs driver creates shares, subdirectories within\nGlusterFS volume, ignoring the share size argument. Use GlusterFS's\nability to set (hard-limit) quota on subdirectories (shares) to enable\ncreation of shares of specific size.\n\nChange-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4\n""}, {'number': 2, 'created': '2014-09-26 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/339c6903559549e363ea65a09cffbf74ec41172b', 'message': ""glusterfs: create share of specific size\n\nCurrently, glusterfs driver creates shares, subdirectories within\nGlusterFS volume, ignoring the share size argument. Use GlusterFS's\nability to set (hard-limit) quota on subdirectories (shares) to enable\ncreation of shares of specific size.\n\nChange-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4\n""}, {'number': 3, 'created': '2014-12-09 09:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4aea1e5b2b93bb16ea0ce2e1671862446f4c385e', 'message': ""glusterfs: create share of specific size\n\nCurrently, glusterfs driver creates shares, subdirectories within\nGlusterFS volume, ignoring the share size argument. Use GlusterFS's\nability to set hard-limit quota on subdirectories (shares) to enable\ncreation of shares of specific size.\n\nChange-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4\n""}, {'number': 4, 'created': '2014-12-09 11:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9de9951cf010a476c95d7c65d417b6fc7e94157f', 'message': ""glusterfs: create share of specific size\n\nCurrently, glusterfs driver creates shares, subdirectories within\nGlusterFS volume, ignoring the share size argument. Use GlusterFS's\nability to set hard-limit quota on subdirectories (shares) to enable\ncreation of shares of specific size.\n\nChange-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4\n""}, {'number': 5, 'created': '2014-12-10 06:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0f32e0369f0e6452eb04690a0f4345410dd97e28', 'message': ""glusterfs: create share of specific size\n\nCurrently, glusterfs driver creates shares, subdirectories within\nGlusterFS volume, ignoring the share size argument. Use GlusterFS's\nability to set hard-limit quota on subdirectories (shares) to enable\ncreation of shares of specific size.\n\nChange-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4\nCloses-Bug: #1401000\n""}, {'number': 6, 'created': '2014-12-16 06:29:33.000000000', 'files': ['manila/tests/share/drivers/test_glusterfs.py', 'manila/share/drivers/glusterfs.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e6f0f88999f197c1782effadfe9bf846cb46b0fb', 'message': ""glusterfs: create share of specific size\n\nCurrently, glusterfs driver creates shares, subdirectories within\nGlusterFS volume, ignoring the share size argument. Use GlusterFS's\nability to set hard-limit quota on subdirectories (shares) to enable\ncreation of shares of specific size.\n\nChange-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4\nCloses-Bug: #1401000\n""}]",33,124278,e6f0f88999f197c1782effadfe9bf846cb46b0fb,29,8,6,8056,,,0,"glusterfs: create share of specific size

Currently, glusterfs driver creates shares, subdirectories within
GlusterFS volume, ignoring the share size argument. Use GlusterFS's
ability to set hard-limit quota on subdirectories (shares) to enable
creation of shares of specific size.

Change-Id: I28b4787e0ada4f6505d929f8d417218a0dc4d0b4
Closes-Bug: #1401000
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/124278/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_glusterfs.py', 'manila/share/drivers/glusterfs.py']",2,52ed7b2ab711ca97656afe80397a7a926487dc0a,bug/1401000," LOG.error(_(""Error in disabling access to the entire GlusterFS "" ""volume: %s""), exc.stderr) # enable quota options of a GlusteFS volume to allow # creation of shares of specific size args, kw = self.gluster_address.make_gluster_args( 'volume', 'quota', self.gluster_address.volume, 'enable') try: self._execute(*args, **kw) except exception.ProcessExecutionError as exc: if 'already enabled' not in exc.stderr: LOG.error(_(""Error in enabling creation of shares of specific"" "" size: %s""), exc.stderr) raise sizestr = str(share['size']) + 'GB' share_dir = '/' + share['name'] # set hard limit quota on the sub-directory/share args, kw = self.gluster_address.make_gluster_args( 'volume', 'quota', self.gluster_address.volume, 'limit-usage', share_dir, sizestr) self._execute(*args, **kw) except exception.ProcessExecutionError: self._cleanup_create_share(local_share_path) LOG.error(_('Unable to create share %s'), share['name']) def _cleanup_create_share(self, share_path): if os.path.exists(share_path): cmd = ['rm', '-rf', share_path] try: self._execute(*cmd, run_as_root=True) except exception.ProcessExecutionError: LOG.warn(_('Cannot cleanup unusable share in GlusterFS ' 'volume.')) "," LOG.error(_(""Error in gluster volume set: %s""), exc.stderr) except exception.ProcessExecutionError: LOG.error('Unable to create share %s', share['name'])",187,26
openstack%2Fgrenade~master~I40e151cf92cad95ddea9919537970ab471d4511a,openstack/grenade,master,I40e151cf92cad95ddea9919537970ab471d4511a,Upgrade ceilometer first,MERGED,2014-12-16 11:40:12.000000000,2014-12-16 16:03:55.000000000,2014-12-16 16:03:54.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 11564}]","[{'number': 1, 'created': '2014-12-16 11:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/381744409e92e9a71473a0b63c61c3fcdeea724f', 'message': ""Upgrade ceilometer first\n\nCeilometer installs code into the paste pipeline of other projects,\nwhich means that if other projects are upgraded first, their upgraded\nversions may get started with old ceilometer code. As we are finally\nstarting to pin requirements on stable, this prevents things like\nSwift from starting.\n\nThis seems like an architectural flaw in Ceilometer, as it should be\nconsuming externalized interfaces not sticking itself into the\npipeline.\n\nAlternative fix is to remove ceilometer support from grenade entirely,\nas the project doesn't provide the kind of upgrade model that we\nexpect in OpenStack. However, for now, a reordering should get things\nback working and let people merge code.\n\nChange-Id: I40e151cf92cad95ddea9919537970ab471d4511a\nRelated-Bug: #1403024\n""}, {'number': 2, 'created': '2014-12-16 12:25:13.000000000', 'files': ['prep-base', 'grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/0187392f4e0eab3fda2fbff5b208a62b6ae955a6', 'message': ""Upgrade ceilometer first\n\nCeilometer installs code into the paste pipeline of other projects,\nwhich means that if other projects are upgraded first, their upgraded\nversions may get started with old ceilometer code. As we are finally\nstarting to pin requirements on stable, this prevents things like\nSwift from starting.\n\nThis seems like an architectural flaw in Ceilometer, as it should be\nconsuming externalized interfaces not sticking itself into the\npipeline.\n\nAlternative fix is to remove ceilometer support from grenade entirely,\nas the project doesn't provide the kind of upgrade model that we\nexpect in OpenStack. However, for now, a reordering should get things\nback working and let people merge code.\n\nThere also remains an oslo.db coupling issue, which we need to get\naround by artificially installing an old oslo.db before we get\nstarted.\n\nChange-Id: I40e151cf92cad95ddea9919537970ab471d4511a\nRelated-Bug: #1403024\n""}]",0,142075,0187392f4e0eab3fda2fbff5b208a62b6ae955a6,9,3,2,2750,,,0,"Upgrade ceilometer first

Ceilometer installs code into the paste pipeline of other projects,
which means that if other projects are upgraded first, their upgraded
versions may get started with old ceilometer code. As we are finally
starting to pin requirements on stable, this prevents things like
Swift from starting.

This seems like an architectural flaw in Ceilometer, as it should be
consuming externalized interfaces not sticking itself into the
pipeline.

Alternative fix is to remove ceilometer support from grenade entirely,
as the project doesn't provide the kind of upgrade model that we
expect in OpenStack. However, for now, a reordering should get things
back working and let people merge code.

There also remains an oslo.db coupling issue, which we need to get
around by artificially installing an old oslo.db before we get
started.

Change-Id: I40e151cf92cad95ddea9919537970ab471d4511a
Related-Bug: #1403024
",git fetch https://review.opendev.org/openstack/grenade refs/changes/75/142075/2 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,381744409e92e9a71473a0b63c61c3fcdeea724f,ceilometer, # Upgrade Ceilometer # # Bug: 1403024 - Ceilometer *must* be upgraded before any # components that it has injected itself into. upgrade_service ceilometer stop $STOP upgrade-ceilometer 244 , # Upgrade Ceilometer upgrade_service ceilometer stop $STOP upgrade-ceilometer 280,7,3
openstack%2Foslo.db~feature%2F1.2~Ic63646fa2e92283de530bdff142bda406eb86a41,openstack/oslo.db,feature/1.2,Ic63646fa2e92283de530bdff142bda406eb86a41,Update SQLAlchemy requirements for setuptools 8,ABANDONED,2014-12-15 20:07:15.000000000,2014-12-16 15:41:38.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 5263}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-15 20:07:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bfe2ae2234195318552ad0ec8f8e4dd55b0c0cbe', 'message': 'Update SQLAlchemy requirements for setuptools 8\n\nsetuptools 8 has changed the way it interprets version ranges, so we\nneed to update our specification for SQLAlchemy to be compatible. This\nchange will eventually result in a new release 1.2.1, which will then\nbecome the upper bound requirement for stable/juno.\n\nSee https://review.openstack.org/#/c/141584/ for more details.\n\nChange-Id: Ic63646fa2e92283de530bdff142bda406eb86a41\n'}]",0,141894,bfe2ae2234195318552ad0ec8f8e4dd55b0c0cbe,6,4,1,2472,,,0,"Update SQLAlchemy requirements for setuptools 8

setuptools 8 has changed the way it interprets version ranges, so we
need to update our specification for SQLAlchemy to be compatible. This
change will eventually result in a new release 1.2.1, which will then
become the upper bound requirement for stable/juno.

See https://review.openstack.org/#/c/141584/ for more details.

Change-Id: Ic63646fa2e92283de530bdff142bda406eb86a41
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/94/141894/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bfe2ae2234195318552ad0ec8f8e4dd55b0c0cbe,update-sqlalchemy-requirements,"SQLAlchemy>=0.8.4,<=0.9.99,!=0.9.0,!=0.9.1,!=0.9.2,!=0.9.3,!=0.9.4,!=0.9.5,!=0.9.6","SQLAlchemy>=0.8.4,<=0.8.99,>=0.9.7,<=0.9.99",1,1
openstack%2Fdevstack~master~I848abf18e00e2a869697c5ef6366bc567dde448a,openstack/devstack,master,I848abf18e00e2a869697c5ef6366bc567dde448a,Add IPv6 support for tenant data network,MERGED,2014-04-16 14:51:38.000000000,2014-12-16 15:40:35.000000000,2014-11-20 20:09:43.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 970}, {'_account_id': 1131}, {'_account_id': 1313}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 6524}, {'_account_id': 6620}, {'_account_id': 6635}, {'_account_id': 6637}, {'_account_id': 6638}, {'_account_id': 6685}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 7183}, {'_account_id': 7249}, {'_account_id': 7715}, {'_account_id': 8871}, {'_account_id': 8909}, {'_account_id': 9008}, {'_account_id': 9009}, {'_account_id': 9382}, {'_account_id': 9411}, {'_account_id': 10257}, {'_account_id': 10385}, {'_account_id': 10969}, {'_account_id': 11224}, {'_account_id': 12632}, {'_account_id': 12826}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-04-16 14:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e163f9974a5d5163228bfd35bbe50b9cd24f3cd2', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your tenant data network as either\nipv4 or ipv6. Default value is 4\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you inten to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your repository have the following patches enabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run the radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 2, 'created': '2014-04-16 14:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3559523e96ac3a2db3633632b9108bb8922f9049', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your tenant data network as either\nipv4 or ipv6. Default value is 4\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 3, 'created': '2014-04-16 15:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/08a08570084ee1a06118408303e59737f57d749c', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your tenant data network as either\nipv4 or ipv6. Default value is 4\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 4, 'created': '2014-04-16 15:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cf715491f5d8729584baf3f8bdbd1c71ab11f617', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your tenant data network as either\nipv4 or ipv6. Default value is 4\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 5, 'created': '2014-04-16 15:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a24208bc71046ce863238f48818fcb7824c8631b', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your tenant data network as either\nipv4 or ipv6. Default value is 4\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 6, 'created': '2014-04-17 20:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8957d85325e1fcc3049152b3beffeb7c7f63636', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 7, 'created': '2014-04-17 20:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/68bfce3ae642065cc58cbdc8ed08b3b5be50eef6', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 8, 'created': '2014-04-24 12:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c8cde92b0795a77c727c4d5ebe9ef6441f84e8cb', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nDefine WITH_IPV6_PATCH with one of the two values 'True' or 'False'\nin your localrc to indicate if you intend to run your openstack with\nIPv6 patch or not. Default value is False. If the value is True,\nthen make sure your neutron repository have the following patches\nenabled:\n  - https://review.openstack.org/#/c/52983: may be disabled. So\n    make sure it's enabled in your repo\n  - https://review.openstack.org/#/c/70649/: may not be working\n    without some change.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nIf you run without the IPv6 patch, you may want to run a radvd\nservice in your router namespace to advertise default routes\ninto your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIf you run with the IPv6 patch, you may define two additional\nvariables in your localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nCheckout this file\nhttps://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf\nfor the possbile combinations of the two values\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 9, 'created': '2014-06-11 13:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/93109810dc4b19d4de79d80bee1c3a5e96531a9c', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nyou may want to run a radvd service in your router namespace to advertise\ndefault routes into your VMs. Define a /etc/radvd.conf such as it contains:\n    interface qr-xxxxxxxx-xx\n    {\n        AdvSendAdvert on;\n        MinRtrAdvInterval 3;\n        MaxRtrAdvInterval 10;\n    };\n\nAnd then run radvd inside your router namespace as\n   sudo ip netns exec <your router namespace> service radvd start\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\n\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 10, 'created': '2014-06-30 14:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/49120e7d14e1d1ee0ec23a7a4f031af873ba07e0', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nyou may want to run a radvd service in your router namespace to advertise\ndefault routes into your VMs. you can use this patch to achieve that:\nhttps://review.openstack.org/#/c/102648\n\nTo use the IPv6 subnet API, you can define the foloowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 11, 'created': '2014-06-30 14:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5827d6964092c479301537dfd24d76b7f899a9b7', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nyou may want to run a radvd service in your router namespace to advertise\ndefault routes into your VMs. you can use this patch to achieve that:\nhttps://review.openstack.org/#/c/102648\n\nTo use the IPv6 subnet API, you can define the foloowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 12, 'created': '2014-06-30 14:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d258d2e8e8b207d332fd465aad7c02dc3ff0c941', 'message': ""Add IPv6 support\n\nA couple of things are covered in this patch\n   -- the openstack management network can be either ipv4 or ipv6\n   -- the tenant data network can be either ipv4 or ipv6\n\nDefine MGMT_NET with one of the two values 4 or 6 in your localrc\nto indicate if you intend to run your management network as either\nipv4 or ipv6. Default value is 4\n\nIt's recommended to use host names to define HOST_IP, SERVICE_IP,\netc., in your localrc instead of IPv6 addresses. Those host names\nshould correspond to ipv6 addresses.\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - IPV6_PRIVATE_RANGE: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nyou may want to run a radvd service in your router namespace to advertise\ndefault routes into your VMs. you can use this patch to achieve that:\nhttps://review.openstack.org/#/c/102648\n\nTo use the IPv6 subnet API, you can define the foloowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\n""}, {'number': 13, 'created': '2014-08-27 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/79c137a2f227c0755d5335d24c049a10f3af39aa', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 14, 'created': '2014-08-27 14:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3dc4e92fe76122ea6788d906cede72d0ff1e8457', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 15, 'created': '2014-08-28 12:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0119ab09455e3c1b3ce10bdd73129ec9fce21944', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 16, 'created': '2014-09-04 14:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/204151d65ba7d63ddb2f5820dece028a5b417a4b', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 17, 'created': '2014-09-05 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/af693135bc07d342ed0695aa3fcacd139f9b6d41', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 18, 'created': '2014-09-05 14:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf8e69daa814a25045d677828ab26c83dbecb5c6', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nMake sure that your VM image has dhcpv6 client enabled at bootup.\nOr otherwise, you need to run it manually after the VM is booted.\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 19, 'created': '2014-09-08 13:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6321443084cf3fecbf10ae973eb48f0fc97bd255', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 20, 'created': '2014-09-08 15:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f0823596ed9dccdc96de14868d03e06cf4d2dea', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nA couple of variables should be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n\nTo use the IPv6 subnet API, you can define the folowing in localrc:\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 21, 'created': '2014-09-09 13:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d2f35090f5aedec04152ebc7e1c6240d4aada75', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either ipv4, ipv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: the ipv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: the gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has ipv6 internet access, and the ipv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 22, 'created': '2014-09-09 16:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/33d4eab3a09c2f8114ce433aa159b4e9823dce0e', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 23, 'created': '2014-09-11 15:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2ee31930e45ab210afc47d4ea1bb39453d8b465', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the lastest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 24, 'created': '2014-09-11 16:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4dcbbe1c493deaf31fc479aa120a2206a717638', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 25, 'created': '2014-09-15 16:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0304978b5543dc8581d78481ad86c8fdd29e64ce', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 26, 'created': '2014-09-16 12:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c877c58a775ce20cb11f43e7c361b81a0cbf12ac', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 27, 'created': '2014-09-18 16:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f88efcdcc5c1d531aa862b9c0e4d04c22f868d81', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 28, 'created': '2014-09-19 14:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ecdfbc76bcd3b86e9f6484d7cdbd4f3830236220', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 29, 'created': '2014-09-19 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bcbdd2c772d06741c7b9bfe0157b99c1785f6cfb', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 30, 'created': '2014-09-19 18:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/43270f00b8203fbbc3e8708e6a89655ccb7f312d', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 31, 'created': '2014-09-22 10:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d16b4e5051aea689a2cec97dd45720ea197287d1', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 32, 'created': '2014-09-22 18:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/22294554147011655d6feeabcfca927ce5b0e8a3', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 33, 'created': '2014-09-22 18:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5949ad835f20963aa12e1fea983eca16625a5b83', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 34, 'created': '2014-09-22 18:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/79924bfa9dfed43c67ab236772dd89b8bfae1449', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 35, 'created': '2014-09-29 10:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/68a82ea33a9076284fac2fe8db90affac36f2335', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 36, 'created': '2014-09-29 12:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ed048966ae3c9636f5b94d0ead925112efe9fa4f', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 37, 'created': '2014-10-01 10:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/375725ce5abe77c9fb88fd8eaacf169533c91f76', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 38, 'created': '2014-10-01 17:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7995c66d6382249ee4973d60ffbf432680ba0e6e', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 39, 'created': '2014-10-02 13:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c6d996624d07a44125d4a9d365fe4c43ea964e81', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 40, 'created': '2014-10-14 10:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dd550099639d93853ce9e2ef06bf655629940f50', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 41, 'created': '2014-10-15 13:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/016a53a6d77ae7542202b663f6686ce5871aeda8', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 42, 'created': '2014-10-15 13:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/38ccf14087c105a94485b0760f202199404be445', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 43, 'created': '2014-10-17 16:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/319a4a1210b94a5e118ee57d672b8cd4884222ef', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 44, 'created': '2014-10-21 14:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b1a8ff336728abb4f5ef258cd7e5a3cdb4825c01', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 45, 'created': '2014-10-27 11:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/afd24da7a7d0a5ed7ef689301ec082eba846a9e2', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 46, 'created': '2014-10-27 15:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0076c1c8d25a17430131a257fc96be8b786b1bf', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 47, 'created': '2014-10-29 10:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/098af49524b8be3216fb5666cb79119b41552ba6', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 48, 'created': '2014-10-29 15:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/810aee66e3820e36460326fb9dc57463486262d7', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - IPV6_PRIVATE_FIXED_RANGE: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 49, 'created': '2014-11-06 14:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fbc7b264f06af78fec1ad70e159d8c447207693e', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 50, 'created': '2014-11-06 14:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ad33564b388618e65e1e36795acc675389f4b74c', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 51, 'created': '2014-11-06 14:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/81eda3cb34138b99335b8a6e3c02ba96909df5d6', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 52, 'created': '2014-11-10 13:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d58e667595c224678d4b84a81ab8b4bcbb07e78', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}, {'number': 53, 'created': '2014-11-17 13:35:20.000000000', 'files': ['lib/neutron', 'doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/21529a50e3b49ce378da88ce10ce903933fa3a02', 'message': ""Add IPv6 support for tenant data network\n\nDefine IP_VERSION with one of the three values 4, 6, or 4+6 in\nyour localrc to indicate if you intend to run your tenant data network\nas either IPv4, IPv6, or dual stack respectively. Default value is 4.\n\nIf your IP_VERSION is set to 6 or 4+6, then the following variables\nshould be defined in your localrc:\n  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network\n  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix\n  - IPV6_RA_MODE (with default as slaac)\n  - IPV6_ADDRESS_MODE (with default as slaac)\n\nIf you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other\nthan the defaults then you should make sure your VM image has dhcpv6\nclient enabled at bootup, otherwise you'll need to run it manually\nafter the VM is booted.\n\nIt's recommended to run the latest version of dnsmasq 2.68.\nIf you intend to enable internet access in your VM, make sure\nyour network node has IPv6 internet access, and the IPv6 prefix for\nyour tenant network is a GUA and routable.\n\nImplements: blueprint ipv6-support\nChange-Id: I848abf18e00e2a869697c5ef6366bc567dde448a\nCo-Authored-By: John Davidge <jodavidg@cisco.com>\n""}]",163,87987,21529a50e3b49ce378da88ce10ce903933fa3a02,389,33,53,6685,,,0,"Add IPv6 support for tenant data network

Define IP_VERSION with one of the three values 4, 6, or 4+6 in
your localrc to indicate if you intend to run your tenant data network
as either IPv4, IPv6, or dual stack respectively. Default value is 4.

If your IP_VERSION is set to 6 or 4+6, then the following variables
should be defined in your localrc:
  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network
  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix
  - IPV6_RA_MODE (with default as slaac)
  - IPV6_ADDRESS_MODE (with default as slaac)

If you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other
than the defaults then you should make sure your VM image has dhcpv6
client enabled at bootup, otherwise you'll need to run it manually
after the VM is booted.

It's recommended to run the latest version of dnsmasq 2.68.
If you intend to enable internet access in your VM, make sure
your network node has IPv6 internet access, and the IPv6 prefix for
your tenant network is a GUA and routable.

Implements: blueprint ipv6-support
Change-Id: I848abf18e00e2a869697c5ef6366bc567dde448a
Co-Authored-By: John Davidge <jodavidg@cisco.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/87987/42 && git format-patch -1 --stdout FETCH_HEAD,"['lib/databases/mysql', 'lib/neutron', 'lib/nova', 'lib/keystone', 'lib/glance', 'lib/rpc_backend', 'stack.sh']",7,e163f9974a5d5163228bfd35bbe50b9cd24f3cd2,bp/ipv6-support,# Set default type of Management Network MGMT_NET=${MGMT_NET:-4},,138,27
openstack%2Fopenstack-ansible~master~I6cc01139db7274f80d138020c97368a0faece771,openstack/openstack-ansible,master,I6cc01139db7274f80d138020c97368a0faece771,Change nova scheduler filters,MERGED,2014-12-11 11:17:26.000000000,2014-12-16 15:40:09.000000000,2014-12-16 15:40:08.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-11 11:17:26.000000000', 'files': ['rpc_deployment/inventory/group_vars/nova_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f3af86445f2aafc2b42faeb79a1bfb60cc99af0c', 'message': 'Change nova scheduler filters\n\nThis commit changes AggregateCoreFilter to CoreFilter and\nAggregateDiskFilter to DiskFilter.  Whilst these filters work even if\naggregates are not being used, icehouse does not have\nAggregateDiskFilter so there CoreFilter and DiskFilter need to be used.\nThis change is more to bring the two branches in line, and if anyone\ndoes explicitly need the aggregate filter then that can be added via a\nlocal override.\n\nChange-Id: I6cc01139db7274f80d138020c97368a0faece771\nCloses-Bug: 1399366\n'}]",0,141017,f3af86445f2aafc2b42faeb79a1bfb60cc99af0c,10,6,1,7307,,,0,"Change nova scheduler filters

This commit changes AggregateCoreFilter to CoreFilter and
AggregateDiskFilter to DiskFilter.  Whilst these filters work even if
aggregates are not being used, icehouse does not have
AggregateDiskFilter so there CoreFilter and DiskFilter need to be used.
This change is more to bring the two branches in line, and if anyone
does explicitly need the aggregate filter then that can be added via a
local override.

Change-Id: I6cc01139db7274f80d138020c97368a0faece771
Closes-Bug: 1399366
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/141017/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/group_vars/nova_all.yml'],1,f3af86445f2aafc2b42faeb79a1bfb60cc99af0c,bug/1399366,"nova_scheduler_default_filters: RetryFilter,AvailabilityZoneFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,CoreFilter,DiskFilter","nova_scheduler_default_filters: RetryFilter,AvailabilityZoneFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,ServerGroupAntiAffinityFilter,ServerGroupAffinityFilter,AggregateCoreFilter,AggregateDiskFilter",1,1
openstack%2Fdesignate~stable%2Fjuno~If61c685252a7bd753ee0612aa4885aac6f47045a,openstack/designate,stable/juno,If61c685252a7bd753ee0612aa4885aac6f47045a,Updated from global requirements,MERGED,2014-12-14 00:10:28.000000000,2014-12-16 15:40:02.000000000,2014-12-16 15:40:01.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}]","[{'number': 1, 'created': '2014-12-14 00:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/acbefeb5e851b8c44637165d23082393bfb6204e', 'message': 'Updated from global requirements\n\nChange-Id: If61c685252a7bd753ee0612aa4885aac6f47045a\n'}, {'number': 2, 'created': '2014-12-16 14:48:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/b57e0cc2f2a9fa42d4add3d2773756d0ba3cb0d8', 'message': 'Updated from global requirements\n\nChange-Id: If61c685252a7bd753ee0612aa4885aac6f47045a\n'}]",0,141595,b57e0cc2f2a9fa42d4add3d2773756d0ba3cb0d8,16,5,2,11131,,,0,"Updated from global requirements

Change-Id: If61c685252a7bd753ee0612aa4885aac6f47045a
",git fetch https://review.opendev.org/openstack/designate refs/changes/95/141595/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,acbefeb5e851b8c44637165d23082393bfb6204e,openstack/requirements,"SQLAlchemy>=0.8.4,<=0.9.99,!=0.9.0,!=0.9.1,!=0.9.2,!=0.9.3,!=0.9.4,!=0.9.5,!=0.9.6","SQLAlchemy>=0.8.4,<=0.8.99,>=0.9.7,<=0.9.99",1,1
openstack%2Fproject-config~master~I1c009db6d782757e09bd071216abfe2c86d3975a,openstack/project-config,master,I1c009db6d782757e09bd071216abfe2c86d3975a,Add rss.opml file to repository,ABANDONED,2014-12-08 15:49:34.000000000,2014-12-16 15:31:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 2472}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6609}, {'_account_id': 10348}]","[{'number': 1, 'created': '2014-12-08 15:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f7f2f000d0163be076306c509a808b03bf8e24d3', 'message': 'Add rss.opml file to repository\n\nThis patch adds an OPML file containing all the RSS feeds for\nthe http://specs.openstack.org links to allow easy import by\nthe end users.\n\nChange-Id: I1c009db6d782757e09bd071216abfe2c86d3975a\n'}, {'number': 2, 'created': '2014-12-09 14:50:33.000000000', 'files': ['specs/rss.opml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2d25b65615a52da26e14ae7568bc300ab030bef5', 'message': 'Add rss.opml file to repository\n\nThis patch adds an OPML file containing all the RSS feeds for\nthe http://specs.openstack.org links to allow easy import by\nthe end users.\n\nChange-Id: I1c009db6d782757e09bd071216abfe2c86d3975a\n'}]",1,140041,2d25b65615a52da26e14ae7568bc300ab030bef5,21,8,2,10348,,,0,"Add rss.opml file to repository

This patch adds an OPML file containing all the RSS feeds for
the http://specs.openstack.org links to allow easy import by
the end users.

Change-Id: I1c009db6d782757e09bd071216abfe2c86d3975a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/140041/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rss.opml'],1,f7f2f000d0163be076306c509a808b03bf8e24d3,,"<opml version=""1.1""><head><title>Generated by FeedShow OMPLBuilder: Sun, 07 Dec 2014 13:38:13 +0100</title><dateCreated>Sun, 07 Dec 2014 13:38:13 +0100</dateCreated></head><body><outline text=""OpenStack Specs""><outline title=""specs.openstack.org/openstack/ironic-specs/rss.xml"" text=""specs.openstack.org/openstack/ironic-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/ironic-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/ceilometer-specs/rss.xml"" text=""specs.openstack.org/openstack/ceilometer-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/ceilometer-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/glance-specs/rss.xml"" text=""specs.openstack.org/openstack/glance-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/glance-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/oslo-specs/rss.xml"" text=""specs.openstack.org/openstack/oslo-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/oslo-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/tripleo-specs/rss.xml"" text=""specs.openstack.org/openstack/tripleo-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/tripleo-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/keystone-specs/rss.xml"" text=""specs.openstack.org/openstack/keystone-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/keystone-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/heat-specs/rss.xml"" text=""specs.openstack.org/openstack/heat-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/heat-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/designate-specs/rss.xml"" text=""specs.openstack.org/openstack/designate-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/designate-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/swift-specs/rss.xml"" text=""specs.openstack.org/openstack/swift-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/swift-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/cinder-specs/rss.xml"" text=""specs.openstack.org/openstack/cinder-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/cinder-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/barbican-specs/rss.xml"" text=""specs.openstack.org/openstack/barbican-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/barbican-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/nova-specs/rss.xml"" text=""specs.openstack.org/openstack/nova-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/nova-specs/rss.xml""/><outline title=""specs.openstack.org/openstack-infra/infra-specs/rss.xml"" text=""specs.openstack.org/openstack-infra/infra-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack-infra/infra-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/sahara-specs/rss.xml"" text=""specs.openstack.org/openstack/sahara-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/sahara-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/qa-specs/rss.xml"" text=""specs.openstack.org/openstack/qa-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/qa-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/docs-specs/rss.xml"" text=""specs.openstack.org/openstack/docs-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/docs-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/neutron-specs/rss.xml"" text=""specs.openstack.org/openstack/neutron-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/neutron-specs/rss.xml""/><outline title=""specs.openstack.org/openstack/zaqar-specs/rss.xml"" text=""specs.openstack.org/openstack/zaqar-specs/rss.xml"" type=""rss"" xmlUrl=""http://specs.openstack.org/openstack/zaqar-specs/rss.xml""/></outline></body></opml>",,1,0
openstack%2Fheat~master~I66c7e7d2149e22175b090c1f295416fc039daf81,openstack/heat,master,I66c7e7d2149e22175b090c1f295416fc039daf81,Update README.md to reflect the change in plugin path,ABANDONED,2014-06-19 09:26:01.000000000,2014-12-16 15:30:45.000000000,,"[{'_account_id': 3}, {'_account_id': 3098}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6488}, {'_account_id': 6577}, {'_account_id': 6763}, {'_account_id': 6917}, {'_account_id': 7135}, {'_account_id': 7193}, {'_account_id': 7253}, {'_account_id': 7256}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 9542}, {'_account_id': 10348}]","[{'number': 1, 'created': '2014-06-19 09:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6f2a0809db58e4de92d08444cea2e3f4253db51a', 'message': 'Changed README.md to reflect the change in path and that docker-plugin/plugin is now docker/docker\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 2, 'created': '2014-06-19 09:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/049c21dff376aa84e5997bf43e42052ada72245b', 'message': 'Changed README.md to reflect the change in path\nand that docker-plugin/plugin is now docker/docker\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 3, 'created': '2014-06-19 09:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4482ebc332970855ea58c2128d72e909778e2c0b', 'message': 'Changed README.md to reflect the change in path\nand that docker-plugin/plugin is now docker/docker\nAlso changed that plugin_dirs value is now ammended to the file\nand does not overwrite. :)\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 4, 'created': '2014-06-19 13:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2a7b0fddc8489654b14cb5b119a342f0f439c669', 'message': 'Update README.md to reflect the change in path\nUpdate REAEME.md with code to append or replace plugin_dirs in heat.conf\n\nRelated to https://review.openstack.org/#/c/71927/\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 5, 'created': '2014-06-19 14:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/78de6e1c7e808d703b40edeb0be7b9cf0f14ce3f', 'message': 'Update README.md to reflect the change in path\nUpdate REAEME.md with code to append or replace plugin_dirs in heat.conf\n\nRelated-Bug: #1271226\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 6, 'created': '2014-06-22 08:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/206ba6a4035148f09205b933d5ed1150fd8064f0', 'message': 'Update README.md to reflect the change in path\n\nUpdate README.md with code to append or replace plugin_dirs in heat.conf\n\nRelated to https://review.openstack.org/#/c/71927/\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 7, 'created': '2014-06-22 10:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/826f46b9742955d669d462966a004a0818daa8ef', 'message': 'Update README.md to reflect the change in path.\n\nUpdate README.md with code to append or replace plugin_dirs in heat.conf\n\nRelated to https://review.openstack.org/#/c/71927/\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 8, 'created': '2014-06-23 06:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/67978b68d794e6d22c0232c4b0a8a5d06c38fd69', 'message': 'Update README.md to reflect the change in path.\n\nUpdate README.md with code to append or replace plugin_dirs in heat.conf.\n\nRelated to https://review.openstack.org/#/c/71927/\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 9, 'created': '2014-06-24 11:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7931279d1d12fc00d2f3a705749e0a2df72841b0', 'message': 'Update README.md to reflect the change in plugin path\n\nThe previous version was using an incorrect path in the configuration\ninstructions. It was pointing to heat/contrib/docker-plugin/plugin\nwhich no longer exists.\n\nIncludes additional explanations as to what has to be changed in the\n/etc/heat/heat.conf file and also includes an awk statement that will\ndo this programatically.\n\nRelated to https://review.openstack.org/#/c/71927/\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}, {'number': 10, 'created': '2014-06-25 09:43:56.000000000', 'files': ['contrib/docker/docker/README.md'], 'web_link': 'https://opendev.org/openstack/heat/commit/2a7341def9a72948f7a20242c3903a3a47daedaa', 'message': 'Update README.md to reflect the change in plugin path\n\nThe previous version was using an incorrect path in the configuration\ninstructions. It was pointing to heat/contrib/docker-plugin/plugin\nwhich no longer exists.\n\nIncludes additional explanations as to what has to be changed in the\n/etc/heat/heat.conf file and also includes an awk statement that will\ndo this programatically.\n\nRelated to https://review.openstack.org/#/c/71927/\n\nChange-Id: I66c7e7d2149e22175b090c1f295416fc039daf81\n'}]",20,101144,2a7341def9a72948f7a20242c3903a3a47daedaa,67,18,10,10348,,,0,"Update README.md to reflect the change in plugin path

The previous version was using an incorrect path in the configuration
instructions. It was pointing to heat/contrib/docker-plugin/plugin
which no longer exists.

Includes additional explanations as to what has to be changed in the
/etc/heat/heat.conf file and also includes an awk statement that will
do this programatically.

Related to https://review.openstack.org/#/c/71927/

Change-Id: I66c7e7d2149e22175b090c1f295416fc039daf81
",git fetch https://review.opendev.org/openstack/heat refs/changes/44/101144/3 && git format-patch -1 --stdout FETCH_HEAD,['contrib/docker/docker/README.md'],1,6f2a0809db58e4de92d08444cea2e3f4253db51a,,"ln -sf $(cd heat/contrib/docker/docker; pwd) /usr/lib/heat/docker echo ""plugin_dirs=$(cd heat/contrib/docker/docker; pwd)"" > /etc/heat/heat.conf","ln -sf $(cd heat/contrib/docker-plugin/plugin; pwd) /usr/lib/heat/docker echo ""plugin_dirs=$(cd heat/contrib/docker-plugin/plugin; pwd)"" > /etc/heat/heat.conf",2,2
openstack%2Fopenstack-ansible~master~I40b0052876078c3472e88594a5c0d7e039b9817a,openstack/openstack-ansible,master,I40b0052876078c3472e88594a5c0d7e039b9817a,Allow container directories to have non-standard modes,MERGED,2014-12-12 10:45:29.000000000,2014-12-16 15:24:56.000000000,2014-12-16 15:24:55.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-12 10:45:29.000000000', 'files': ['rpc_deployment/inventory/group_vars/horizon.yml', 'rpc_deployment/inventory/group_vars/neutron_all.yml', 'rpc_deployment/inventory/group_vars/cinder_all.yml', 'rpc_deployment/inventory/group_vars/keystone_all.yml', 'rpc_deployment/inventory/group_vars/nova_all.yml', 'rpc_deployment/inventory/group_vars/swift_all.yml', 'rpc_deployment/roles/container_common/tasks/container_os_setup.yml', 'rpc_deployment/inventory/group_vars/glance_all.yml', 'rpc_deployment/inventory/group_vars/heat_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1978bf5fbb6c6df435ba513220e2baa33e065848', 'message': 'Allow container directories to have non-standard modes\n\nThis change adds the ability to customise the mode applied to a\ndirectory in the container_directories group_vars.  Additionally, we\nchange the default mode of a directory with an unspecified mode to 700.\nThis latter change requires us to flip the following back to 755\notherwise the respective service throws a permission denied error:\n\n* /var/www/cgi-bin/keystone\n* /var/lib/neutron\n* /var/lib/nova\n\nA fair bit of additional testing will need to be done before this\nmerges.\n\nChange-Id: I40b0052876078c3472e88594a5c0d7e039b9817a\nCloses-Bug: 1399428\n'}]",0,141321,1978bf5fbb6c6df435ba513220e2baa33e065848,9,5,1,7307,,,0,"Allow container directories to have non-standard modes

This change adds the ability to customise the mode applied to a
directory in the container_directories group_vars.  Additionally, we
change the default mode of a directory with an unspecified mode to 700.
This latter change requires us to flip the following back to 755
otherwise the respective service throws a permission denied error:

* /var/www/cgi-bin/keystone
* /var/lib/neutron
* /var/lib/nova

A fair bit of additional testing will need to be done before this
merges.

Change-Id: I40b0052876078c3472e88594a5c0d7e039b9817a
Closes-Bug: 1399428
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/141321/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/inventory/group_vars/horizon.yml', 'rpc_deployment/inventory/group_vars/neutron_all.yml', 'rpc_deployment/inventory/group_vars/cinder_all.yml', 'rpc_deployment/inventory/group_vars/keystone_all.yml', 'rpc_deployment/inventory/group_vars/nova_all.yml', 'rpc_deployment/inventory/group_vars/swift_all.yml', 'rpc_deployment/roles/container_common/tasks/container_os_setup.yml', 'rpc_deployment/inventory/group_vars/glance_all.yml', 'rpc_deployment/inventory/group_vars/heat_all.yml']",9,1978bf5fbb6c6df435ba513220e2baa33e065848,bug/1399428, - { name: /etc/heat } - { name: /etc/heat/environment.d } - { name: /etc/heat/templates } - { name: /var/cache/heat } - { name: /var/lib/heat } - { name: /var/log/heat }, - /etc/heat - /etc/heat/environment.d - /etc/heat/templates - /var/cache/heat - /var/lib/heat - /var/log/heat,59,59
openstack%2Fneutron-specs~master~Id620c477376a066dd7bdd22eb59d9a0b596602c4,openstack/neutron-specs,master,Id620c477376a066dd7bdd22eb59d9a0b596602c4,New iptables firewall driver,MERGED,2014-12-01 16:02:06.000000000,2014-12-16 15:17:35.000000000,2014-12-16 15:17:35.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 2035}, {'_account_id': 5756}, {'_account_id': 6072}, {'_account_id': 6788}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 8976}, {'_account_id': 10061}]","[{'number': 1, 'created': '2014-12-01 16:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/18150b53667187a8231f28b1fa9629b2334d4548', 'message': 'High level abstraction of iptables driver\n\nChange-Id: Id620c477376a066dd7bdd22eb59d9a0b596602c4\n'}, {'number': 2, 'created': '2014-12-01 16:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1fb993423883f0518876f194bf6d5c8cebf6761a', 'message': 'High level abstraction of iptables driver\n\nChange-Id: Id620c477376a066dd7bdd22eb59d9a0b596602c4\n'}, {'number': 3, 'created': '2014-12-01 16:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e9d303a207d242ab706d07cb337291ab300542f5', 'message': 'High level abstraction of iptables driver\n\nChange-Id: Id620c477376a066dd7bdd22eb59d9a0b596602c4\n'}, {'number': 4, 'created': '2014-12-03 13:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1989c1ee39a89bf21a623a23699d0ad01a0b7648', 'message': 'High level abstraction of iptables driver\n\nChange-Id: Id620c477376a066dd7bdd22eb59d9a0b596602c4\n'}, {'number': 5, 'created': '2014-12-14 09:13:01.000000000', 'files': ['specs/kilo/iptables-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f2a80d7b93903c83e4600e275227130df38ddf9b', 'message': 'New iptables firewall driver\n\nChange-Id: Id620c477376a066dd7bdd22eb59d9a0b596602c4\n'}]",11,138107,f2a80d7b93903c83e4600e275227130df38ddf9b,28,15,5,8655,,,0,"New iptables firewall driver

Change-Id: Id620c477376a066dd7bdd22eb59d9a0b596602c4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/07/138107/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/iptables-driver.rst'],1,18150b53667187a8231f28b1fa9629b2334d4548,bp/iptables-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== Higher level abstraction of iptables driver =========================================== The goal of this spec is to implement new iptables firewall driver which will be more maintainable, readable and testable with better OOP design. The functionality of driver is preserved and can achieve the same configuration as with current IptablesManager and IptablesFirewall. Problem Description =================== Nowadays, the biggest problem in current implementation is performance of IptablesManager discovered by Rally project. The bottleneck in this particular case is parsing the output of iptables-save command [1]. Other problems are code complexity of IptablesManager and how IptablesFirewall uses internal attributes of IptablesManager without any encapsulation on the side of IptablesManager. Proposed Change =============== IptablesDriver -------------- New IptablesDriver class will be introduced providing API for controlling netfilter via given CLI. This API will be similar to the CLI. There will be common class from which other classes will inherit and declare executable and defaults. e.g. IptablesDriver will contain executable 'iptables' and 'raw, mangle, filter, nat' tables while Ip6tablesDriver will contain 'ip6tables' executable and 'raw, mangle, filter' tables. In order to preserve atomicity when applying rules, similar approach to the current one will be used. That means changes are cached and are applied once by save/restore mechanisms. Cached are changes for adding, inserting and removing rules or chains. In order to improve performance here, an iptables parser will be implemented giving basic internal structure of IptablesDriver, described at :ref:`objectmodel` section. Parser will use regular expressions to distinguish which line is being parsed and according its state will be created needed object. Suggested expressions are in :ref:`regularexpression` section. For example: if parser already hit table ""A"" then all following chains belong to that table until new table is hit. When rules are about to be applied, changes are taken from operations cache in the same order in which they were added and applied on already parsed data. This will effectively replace current implementation with _modify_rules() avoiding expensive mangling of packet counters. .. _regularexpression: Regular expressions ------------------- :: TABLE_LINE_PATTERN = re.compile(r'^\*(?P<table>[a-z]+)') CHAIN_LINE_PATTERN = re.compile(r'^:(?P<chain_name>\S+) (?P<default_rule>\S+)' ' \[(?P<packets>\d+)\:(?P<bytes>\d+)\]') RULE_LINE_PATTERN = re.compile(r'^\[(?P<packets>\d+)\:(?P<bytes>\d+)\] ' '-A (?P<chain>\S+) (?P<rule>.*)') IptablesFirewall ---------------- As IptablesDriver is designed only to communicate with iptables CLI, logic of creation of top chains will be moved to new IptablesFirewall. For wrapping chain names will be created also separate class as this logic doesn't belong to driver either. The new driver will provide same functionality, API and output as current IptablesFirewall. .. _objectmodel: Object Model ------------ :: +-----------------------------------------------------------------------+ | IptablesDriver | +-----------------------------------------------------------------------+ | - tables: OrderedDict +----+ | - operations: list +--+ | +-----------------------------------------------------------------------+ | | | - load() | | | | + apply() | | | | + add_chain(table_name:str=filter,chain_name:str) | | | | + delete_chain(table_name:str=filter,chain_name:str) | | | | + set_chain_policy(table_name:str=filter,chain_name:str,policy:str) | | | | + append_rule(table_name:str=filter,chain_name:str,rule:IptablesRule) | | | | + insert_rule(table_name:str=filter,chain_name:str,rule:IptablesRule, | | | | position:int=0) | | | | + delete_rule(table_name:str=filter,chain_name:str,rule:IptablesRule) | | | +-----------------------------------------------------------------------+ | | | | +-----------------------------------------------------+ | | | | | | | +------------------+----------------+ | | IptablesOperation | | +-----------------------------------+ | | - action: method | | | - arguments: tuple (args, kwargs) | | +-----------------------------------+ | | +----------------------------+ | | +-------------------------------+---------------------------------+ | IptablesTable | +-----------------------------------------------------------------+ | - name: str | | - chains: OrderedList +--+ +-----------------------------------------------------------------+ | | + add_chain(chain_name:str) | | | + delete_chain(chain_name:str) | | | + set_chain_policy(chain_name:str,policy:str) | | | + append_rule(chain_name:str,rule:IptablesRule) | | | + insert_rule(chain_name:str,rule:IptablesRule, position:int=0) | | | + delete_rule(chain_name:str,rule:IptablesRule) | | +-----------------------------------------------------------------+ | | | +----------------------------------------------------------+ | | | +-------------------------+------------------------+ | IptablesChain | +--------------------------------------------------+ | - name: str | | - rules: list +--+ | - policy: str | | | - packets: int | | | - bytes: int | | +--------------------------------------------------+ | | + append_rule(rule:IptablesRule) | | | + insert_rule(rule:IptablesRule, position:int=0) | | | + delete_rule(rule:IptablesRule) | | +--------------------------------------------------+ | | | +--------+--------+ | IptablesRule | +-----------------+ | - source | | - destination | | - target: str | | - protocol | | - in_interface | | - out_interface | | - match: str | | - packets: int | | - bytes: int | +-----------------+ Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ Expected performance boost if iptables contains lot of chains. The performance will be gained in usage of iptables-save output parsing. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: libosvar Work Items ---------- 1) Make a test with current firewall driver managing iptables 2) Parser for output of iptables-save 3) New IptablesDriver driver passing test from 1) 4) New IptablesFirewall mapping security groups with new IptablesDriver Dependencies ============ None Testing ======= Tempest Tests ------------- No need of new Tempest tests as this spec doesn't actually implement any new functionality. Functional Tests ---------------- Testing current IptablesManager and new IptablesDriver API Tests --------- None Documentation Impact ==================== User Documentation ------------------ Operators will be notified about new firewall driver. Developer Documentation ----------------------- None References ========== [1] https://gist.github.com/anonymous/e3250001212ea8e40e1d ",,282,0
openstack%2Fneutron-specs~master~I25fdb45c7f1242f9c97fb2bc41e15833285d8157,openstack/neutron-specs,master,I25fdb45c7f1242f9c97fb2bc41e15833285d8157,Allow router external IPs to be set,MERGED,2014-12-11 01:18:39.000000000,2014-12-16 15:12:43.000000000,2014-12-16 15:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 841}, {'_account_id': 2035}, {'_account_id': 7787}, {'_account_id': 8645}]","[{'number': 1, 'created': '2014-12-11 01:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/33817bc94346b27579226bd0093c037cd014c659', 'message': 'Allow router external IPs to be set and read\n\nThis is a specification is to allow tenants to read\nthe external IP addresses assigned to their router\nand for admins to explicitly set the IP addresses\non a router.\n\nblueprint specify-router-ext-ip\n\nChange-Id: I25fdb45c7f1242f9c97fb2bc41e15833285d8157\n'}, {'number': 2, 'created': '2014-12-11 23:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2be95d98de7e3174a6f21919b8f99b52de724b2b', 'message': 'Allow router external IPs to be set\n\nThis is a specification is to allow administrators\nto set the external IP addresses assigned to tenant\nrouters to a given IP.\n\nblueprint specify-router-ext-ip\n\nChange-Id: I25fdb45c7f1242f9c97fb2bc41e15833285d8157\n'}, {'number': 3, 'created': '2014-12-15 23:31:42.000000000', 'files': ['specs/kilo/specify-router-ext-ip.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/be9db36a3a75d74cfd7712c7d9e4ed3b48b6c246', 'message': 'Allow router external IPs to be set\n\nThis is a specification is to allow administrators\nto set the external IP addresses assigned to tenant\nrouters to a given IP.\n\nblueprint specify-router-ext-ip\n\nChange-Id: I25fdb45c7f1242f9c97fb2bc41e15833285d8157\n'}]",11,140890,be9db36a3a75d74cfd7712c7d9e4ed3b48b6c246,16,7,3,7787,,,0,"Allow router external IPs to be set

This is a specification is to allow administrators
to set the external IP addresses assigned to tenant
routers to a given IP.

blueprint specify-router-ext-ip

Change-Id: I25fdb45c7f1242f9c97fb2bc41e15833285d8157
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/90/140890/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/specify-router-ext-ip.rst'],1,33817bc94346b27579226bd0093c037cd014c659,bp/specify-router-ext-ip,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================= Allow the external IP address of a router to be specified ========================================================= https://blueprints.launchpad.net/neutron/+spec/specify-router-ext-ip There currently is no way to specify the IP address given to a router on its external port. This blueprint allows external IPs to be set and the action is restricted to admin-only by default. This spec was originally approved for Juno, however due to time constraints and conflicts with all of the DVR work ongoing at the end of the cycle, the code was reduced to a read-only version at the deadline. The remaining code to finish the work is already complete and has received several reviews.[1] It affects about 100 lines of the L3 code so it has a small footprint and shouldn't take too much additional effort of reviewers to merge. Problem Description =================== The current router API doesn't allow any control over the IP address given to the external interface on router objects. This makes it difficult for scenarios where tenant routers have to be assigned a well-known address that receives special treatment on the provider network. Or, even if the address was originally randomly assigned, there is no way to delete the router, move it to another project, and preserve the previously assigned address. Proposed Change =============== Allow the external IP to be specified for a router in the external_gateway_info passed to router_update. By default, this will be restricted by policy.json to an admin-only operation. The format of this will be the standard fixed_ips format used when specifying an IP address for a normal port so it offers the flexibility of specifying a subnet_id instead of an IP directly. Requested addresses will be permitted to be any address inside any of the subnets associated with the external network except for the gateway addresses. They will not be affected by allocation pool ranges. If an address is already in use, the API will return a BadRequest error (HTTP 400). Alternatives ------------ N/A Data Model Impact ----------------- N/A REST API Impact --------------- This field already exists in the current API due to the previous partial implementation that allows the addresses to be read. The only difference is that the field can now be updated by an admin (or other user with the privileges defined in policy.json). +-------------------+--------+----------+----------+------------------+--------------+ |Attribute |Type |Access |Default |Validation/ |Description | |Name | | |Value |Conversion | | +===================+========+==========+==========+==================+==============+ |external_fixed_ips |fixed_ip|RO, owner |generated |Same as fixed_ips |External IP | | |format |RW, admin | |field validation |addresses | | |for | | |for normal ports. | | | |ports | | | | | +-------------------+--------+----------+----------+------------------+--------------+ Security Impact --------------- N/A if the default policy.json is left unmodified. If it's modified to allow all users to set an IP, standard users will be allowed to ignore the allocation ranges defined on the external subnet. Notifications Impact -------------------- N/A Other End User Impact --------------------- N/A Performance Impact ------------------ N/A Other Deployer Impact --------------------- N/A Developer Impact ---------------- N/A Community Impact ---------------- The community will rejoice in elation that such an amazing feature is even possible, let alone implemented, in software. Implementation ============== Assignee(s) ----------- kevinbenton Work Items ---------- Make the changes to the L3 db code, API, and policy. Update neutronclient Dependencies ============ N/A Testing ======= Tempest Tests ------------- N/A Functional Tests ---------------- N/A API Tests --------- Unit tests should be adequate since there will be no new behavior outside of the IP address assignment, which is well contained in the neutron code. Documentation Impact ==================== User Documentation ------------------ Indicate that tenants can see their router's external IP and that admins can specify router IPs. Developer Documentation ----------------------- The developer API documentation will need to be updated to indicate that the external router IP can now be set. References ========== 1. https://review.openstack.org/#/c/83664/ Related bugs: https://bugs.launchpad.net/neutron/+bug/1255142 https://bugs.launchpad.net/neutron/+bug/1188427 ",,191,0
openstack%2Fpython-neutronclient~master~Ib374d1cc499e4f1e5242f1b438bc65512c109e40,openstack/python-neutronclient,master,Ib374d1cc499e4f1e5242f1b438bc65512c109e40,"subnet: allow --enable-dhcp=False/True syntax, again",MERGED,2014-12-11 14:51:34.000000000,2014-12-16 14:59:53.000000000,2014-12-16 14:59:52.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 841}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7634}, {'_account_id': 8124}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-12-11 14:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/5a4b89ba5f1ad7e0a825eee81e196359dc280c62', 'message': ""subnet: allow --enable-dhcp=False/True syntax, again\n\nTill neutronclient 2.3.4, we allowed the following syntax to enable or\ndisable DHCP: --enable-dhcp=False or --enable-dhcp=True. Since\nI52d05ec2284b6910a33df4a5cb7dc3888737acb6 was merged, it's not the case\nanymore.\n\nClient libraries should be backwards compatible, so we need to support\nboth new and old styles for setting the attribute.\n\nThe change that introduced the regression cannot be reverted. First,\nbecause it's correct in essence and fixed a valid bug in neutron client\nCLI, and second (and more importantly), we don't want to break backwards\ncompatibility for users that currently use 2.3.5+ version that already\nincluded the new style of the argument.\n\nIt's sad, but argparse module that we use to parse CLI arguments does\nnot allow to distinguish between '--enable-dhcp=smth' and '--enable-dhcp\nsmth' variants of the argument. This limitation means that an argument\nwith nargs=argparse.OPTIONAL that would be useful to cover both styles\nwith single entry would consume the next argument from the command line\nif it's present and does not seem to be another option argument defined\nfor the parser. Meaning, it would break some cases, f.e. when\n--enable-dhcp is passed right before subnet name. In that specific case,\nthe argument would consume the name as the value of the argument and\nbreak the client.\n\nThat's why for this specific fix, we're forced to use\n--enable-dhcp=False and --enable-dhcp=True as argument *names*. It's\nugly as hell, so let's hide that mess from users by suppressing help\nentries for new arguments.\n\nPS: And Oh Lord the Mightly, thank you for only two possible values for\nboolean attributes!)\n\nCloses-Bug: #1401555\nChange-Id: Ib374d1cc499e4f1e5242f1b438bc65512c109e40\n""}, {'number': 2, 'created': '2014-12-11 14:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/00620870b2344d5bae1d37fd3a61c844bacf6c37', 'message': ""subnet: allow --enable-dhcp=False/True syntax, again\n\nTill neutronclient 2.3.4, we allowed the following syntax to enable or\ndisable DHCP: --enable-dhcp=False or --enable-dhcp=True. Since\nI52d05ec2284b6910a33df4a5cb7dc3888737acb6 was merged, it's not the case\nanymore.\n\nClient libraries should be backwards compatible.\n\nThe change that introduced the regression cannot be reverted. First,\nbecause it's correct in essence and fixed a valid bug in neutron client\nCLI, and second (and more importantly), we don't want to break backwards\ncompatibility for users that currently use 2.3.5+ version that already\nincluded the new style of the argument.\n\nSo we need to support both new and old styles for setting the attribute.\n\nIt's sad, but argparse module that we use to parse CLI arguments does\nnot allow to distinguish between '--enable-dhcp=smth' and '--enable-dhcp\nsmth' variants of the argument. This limitation means that an argument\nwith nargs=argparse.OPTIONAL that would be useful to cover both styles\nwith single entry would consume the next argument from the command line\nif it's present and does not seem to be another option argument defined\nfor the parser. Meaning, it would break some cases, f.e. when\n--enable-dhcp is passed right before subnet name. In that specific case,\nthe argument would consume the name as the value of the argument and\nbreak the client.\n\nThat's why for this specific fix, we're forced to use\n--enable-dhcp=False and --enable-dhcp=True as argument *names*. It's\nugly as hell, so let's hide that mess from users by suppressing help\nentries for new arguments.\n\nPS: And Oh Lord the Mighty, thank you for only two possible values for\nboolean attributes!)\n\nCloses-Bug: #1401555\nChange-Id: Ib374d1cc499e4f1e5242f1b438bc65512c109e40\n""}, {'number': 3, 'created': '2014-12-11 15:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/39ba5fa25372fb15781adf892557aebef016b90f', 'message': ""subnet: allow --enable-dhcp=False/True syntax, again\n\nTill neutronclient 2.3.4, we allowed the following syntax to enable or\ndisable DHCP: --enable-dhcp=False or --enable-dhcp=True. Since\nI52d05ec2284b6910a33df4a5cb7dc3888737acb6 was merged, it's not the case\nanymore.\n\nClient libraries should be backwards compatible.\n\nThe change that introduced the regression cannot be reverted. First,\nbecause it's correct in essence and fixed a valid bug in neutron client\nCLI, and second (and more importantly), we don't want to break backwards\ncompatibility for users that currently use 2.3.5+ version that already\nincluded the new style of the argument.\n\nSo we need to support both new and old styles for setting the attribute.\n\nIt's sad, but argparse module that we use to parse CLI arguments does\nnot allow to distinguish between '--enable-dhcp=smth' and '--enable-dhcp\nsmth' variants of the argument. This limitation means that an argument\nwith nargs=argparse.OPTIONAL that would be useful to cover both styles\nwith single entry would consume the next argument from the command line\nif it's present and does not seem to be another option argument defined\nfor the parser. Meaning, it would break some cases, f.e. when\n--enable-dhcp is passed right before subnet name. In that specific case,\nthe argument would consume the name as the value of the argument and\nbreak the client.\n\nThat's why for this specific fix, we're forced to use\n--enable-dhcp=False and --enable-dhcp=True as argument *names*. It's\nugly as hell, so let's hide that mess from users by suppressing help\nentries for new arguments.\n\nPS: And Oh Lord the Mighty, thank you for only two possible values for\nboolean attributes!)\n\nCloses-Bug: #1401555\nChange-Id: Ib374d1cc499e4f1e5242f1b438bc65512c109e40\n""}, {'number': 4, 'created': '2014-12-15 10:21:22.000000000', 'files': ['neutronclient/neutron/v2_0/subnet.py', 'neutronclient/tests/unit/test_cli20_subnet.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/fea8706c22438af5666bc249f86aa5facf97564d', 'message': ""subnet: allow --enable-dhcp=False/True syntax, again\n\nTill neutronclient 2.3.4, we allowed the following syntax to enable or\ndisable DHCP: --enable-dhcp=False or --enable-dhcp=True. Since\nI52d05ec2284b6910a33df4a5cb7dc3888737acb6 was merged, it's not the case\nanymore.\n\nClient libraries should be backwards compatible.\n\nThe change that introduced the regression cannot be reverted. First,\nbecause it's correct in essence and fixed a valid bug in neutron client\nCLI, and second (and more importantly), we don't want to break backwards\ncompatibility for users that currently use 2.3.5+ version that already\nincluded the new style of the argument.\n\nSo we need to support both new and old styles for setting the attribute.\n\nIt's sad, but argparse module that we use to parse CLI arguments does\nnot allow to distinguish between '--enable-dhcp=smth' and '--enable-dhcp\nsmth' variants of the argument. This limitation means that an argument\nwith nargs=argparse.OPTIONAL that would be useful to cover both styles\nwith single entry would consume the next argument from the command line\nif it's present and does not seem to be another option argument defined\nfor the parser. Meaning, it would break some cases, f.e. when\n--enable-dhcp is passed right before subnet name. In that specific case,\nthe argument would consume the name as the value of the argument and\nbreak the client.\n\nThat's why for this specific fix, we're forced to use\n--enable-dhcp=False and --enable-dhcp=True as argument *names*. It's\nugly as hell, so let's hide that mess from users by suppressing help\nentries for new arguments.\n\nPS: And Oh Lord the Mighty, thank you for only two possible values for\nboolean attributes!)\n\nCloses-Bug: #1401555\nChange-Id: Ib374d1cc499e4f1e5242f1b438bc65512c109e40\n""}]",19,141063,fea8706c22438af5666bc249f86aa5facf97564d,28,10,4,9656,,,0,"subnet: allow --enable-dhcp=False/True syntax, again

Till neutronclient 2.3.4, we allowed the following syntax to enable or
disable DHCP: --enable-dhcp=False or --enable-dhcp=True. Since
I52d05ec2284b6910a33df4a5cb7dc3888737acb6 was merged, it's not the case
anymore.

Client libraries should be backwards compatible.

The change that introduced the regression cannot be reverted. First,
because it's correct in essence and fixed a valid bug in neutron client
CLI, and second (and more importantly), we don't want to break backwards
compatibility for users that currently use 2.3.5+ version that already
included the new style of the argument.

So we need to support both new and old styles for setting the attribute.

It's sad, but argparse module that we use to parse CLI arguments does
not allow to distinguish between '--enable-dhcp=smth' and '--enable-dhcp
smth' variants of the argument. This limitation means that an argument
with nargs=argparse.OPTIONAL that would be useful to cover both styles
with single entry would consume the next argument from the command line
if it's present and does not seem to be another option argument defined
for the parser. Meaning, it would break some cases, f.e. when
--enable-dhcp is passed right before subnet name. In that specific case,
the argument would consume the name as the value of the argument and
break the client.

That's why for this specific fix, we're forced to use
--enable-dhcp=False and --enable-dhcp=True as argument *names*. It's
ugly as hell, so let's hide that mess from users by suppressing help
entries for new arguments.

PS: And Oh Lord the Mighty, thank you for only two possible values for
boolean attributes!)

Closes-Bug: #1401555
Change-Id: Ib374d1cc499e4f1e5242f1b438bc65512c109e40
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/63/141063/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/neutron/v2_0/subnet.py', 'neutronclient/tests/unit/test_cli20_subnet.py']",2,5a4b89ba5f1ad7e0a825eee81e196359dc280c62,bug/1401555," def _test_create_resource_and_catch_command_error(self, tested_args, fail, *args, **kwargs): _j = lambda args: ' '.join(args) try: self._test_create_resource(*args, **kwargs) except exceptions.CommandError: if not fail: self.fail( 'Unexpected exception raised for %s options' %\ _j(tested_args)) self.mox.UnsetStubs() else: if fail: self.fail( 'No exception for %s options' % _j(tested_args)) def test_create_subnet_with_enable_and_disable_dhcp(self): """"""Create subnet: --enable-dhcp and --disable-dhcp."""""" position_names = ['ip_version', 'network_id', 'cidr', 'enable_dhcp'] # enable_dhcp value is appended later inside the loop position_values = [4, netid, cidr] for enable_dhcp_arg, fail in ( ('--enable-dhcp=False', False), ('--enable-dhcp=True', True), ('--enable-dhcp', True), ): option_args = [enable_dhcp_arg, '--disable-dhcp'] args = option_args + [netid, cidr] pos_values = position_values + [fail] self._test_create_resource_and_catch_command_error( option_args, fail, resource, cmd, name, myid, args, position_names, pos_values) def test_create_subnet_with_multiple_enable_dhcp(self): """"""Create subnet with multiple --enable-dhcp arguments passed."""""" resource = 'subnet' cmd = subnet.CreateSubnet(test_cli20.MyApp(sys.stdout), None) name = 'myname' myid = 'myid' netid = 'netid' cidr = 'cidrvalue' position_names = ['ip_version', 'network_id', 'cidr', 'enable_dhcp'] # enable_dhcp value is appended later inside the loop position_values = [4, netid, cidr] _ = 'UNUSED_MARKER' for enable_dhcp_args, fail, pos_value in ( (('--enable-dhcp', '--enable-dhcp=True'), False, True), (('--enable-dhcp', '--enable-dhcp=False'), True, _), (('--enable-dhcp=False', '--enable-dhcp'), True, _), (('--enable-dhcp=True', '--enable-dhcp=False'), True, _), (('--enable-dhcp=False', '--enable-dhcp=True'), True, _)): args = list(enable_dhcp_args) + [netid, cidr] pos_values = position_values + [pos_value] self._test_create_resource_and_catch_command_error( enable_dhcp_args, fail, resource, cmd, name, myid, args, position_names, pos_values)"," def test_create_subnet_with_enable_and_disable_dhcp(self): """"""Create sbunet: --enable-dhcp and --disable-dhcp."""""" args = ['--enable-dhcp', '--disable-dhcp', netid, cidr] position_names = ['ip_version', 'network_id', 'cidr', 'gateway_ip'] position_values = [4, netid, cidr, None] try: self._test_create_resource(resource, cmd, name, myid, args, position_names, position_values) except exceptions.CommandError: return self.fail('No exception for --enable-dhcp --disable-dhcp option')",72,12
openstack%2Ftelemetry-specs~master~I11e9ed92ff2aa72f5fe440dd1e9ac79f8409deb3,openstack/telemetry-specs,master,I11e9ed92ff2aa72f5fe440dd1e9ac79f8409deb3,Adds spec for Hyper-V memory metrics collection,MERGED,2014-12-11 15:21:19.000000000,2014-12-16 14:53:42.000000000,2014-12-16 14:53:41.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 3185}, {'_account_id': 6537}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-12-11 15:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/93237d21942a41a42fc92383b1534cb3d377f174', 'message': 'Adds spec for Hyper-V memory metrics collection\n\nhttps://blueprints.launchpad.net/ceilometer/+spec/hyper-v-memory-metrics\n\nChange-Id: I11e9ed92ff2aa72f5fe440dd1e9ac79f8409deb3\n'}, {'number': 2, 'created': '2014-12-11 16:44:18.000000000', 'files': ['specs/kilo/hyper-v-memory-metrics.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/f1316477e23eb07608d7a52ef9c033f90c787fd0', 'message': 'Adds spec for Hyper-V memory metrics collection\n\nhttps://blueprints.launchpad.net/ceilometer/+spec/hyper-v-memory-metrics\n\nChange-Id: I11e9ed92ff2aa72f5fe440dd1e9ac79f8409deb3\n'}]",0,141067,f1316477e23eb07608d7a52ef9c033f90c787fd0,13,5,2,8213,,,0,"Adds spec for Hyper-V memory metrics collection

https://blueprints.launchpad.net/ceilometer/+spec/hyper-v-memory-metrics

Change-Id: I11e9ed92ff2aa72f5fe440dd1e9ac79f8409deb3
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/67/141067/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/hyper-v-memory-metrics.rst'],1,93237d21942a41a42fc92383b1534cb3d377f174,bp/s,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Adds memory usage metrics implementation in the Hyper-V Inspector ========================================== https://blueprints.launchpad.net/ceilometer/+spec/hyper-v-memory-metrics Currently, the Hyper-V Inspector does not collect the memory metrics. This feature can be added, since Hyper-V can measure the amount of memory instances are using. This is especially useful if the instances are configured to us dynamic memory. Problem description =================== Instances' memory usage metrics are very important in telemetry, but it is not currently implemented in the Hyper-V Inspector. This spec adds memory usage statistics to Hyper-V, so the user can get vital data on the instance's performance. Proposed change =============== Implements the method 'inspect_memory_usage' of HyperVInspector, fetches the memory stats data from Hyper-V VMs, located in the Msvm_AggregationMetricValue objects (further referred to as 'metrics objects') associated with the VMs. The metrics objects 'MetricDefinitionId' must be the equal to the 'Id' of Msvm_AggregationMetricDefinition object having the Caption 'Aggregated Average Memory Utilization'. Hyper-V metrics were introduced in Windows / Hyper-V Server 2012 (kernel version 6.2). They are not supported in the previous versions. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Pipeline impact --------------- None Other end user impact --------------------- None Performance/Scalability Impacts ------------------------------- None Other deployer impact --------------------- None. By default, the memory metrics collection is enabled in Nova, we just need to collect the data from the Hyper-V API. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <itoader> Work Items ---------- * Implements the method 'inspect_memory_usage' of HyperVInspector. * Adds related unit tests. * Updates ceilometer measurements document. Future lifecycle ================ Once this feature is enabled, it needs tests and bug fixing in the next 2 releases to avoid regression. Dependencies ============ * Windows / Hyper-V Server 2012 (kernel version 6.2) * wmi 1.4.9+ Testing ======= Unit tests are sufficient, since the implementation will only require data fetching from Hyper-V. Documentation Impact ==================== The added metrics will need to be documented in the `measurements section`_. .. _measurements section: http://docs.openstack.org/developer/ceilometer/measurements.html References ========== * [1] http://msdn.microsoft.com/en-us/library/cc768535%28v=bts.10%29.aspx ",,128,0
openstack%2Fopenstack-ansible~stable%2Fjuno~I0f36464e31a24b197207d4e6de5c7172ac9763a4,openstack/openstack-ansible,stable/juno,I0f36464e31a24b197207d4e6de5c7172ac9763a4,install services from latest stable tag to enforce consistent deployments,MERGED,2014-12-16 11:15:30.000000000,2014-12-16 14:49:19.000000000,2014-12-16 13:51:09.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-16 11:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/684b1e912a1763411be82b41bffda6cd55f4542c', 'message': 'install services from latest stable tag to enforce consistent\ndeployments\n\nalso ensure we are pointing at the latest rc tag for the ansible repo\n\nCloses_bug: 1403018\n\nChange-Id: I0f36464e31a24b197207d4e6de5c7172ac9763a4\n'}, {'number': 2, 'created': '2014-12-16 11:58:35.000000000', 'files': ['rpc_deployment/vars/repo_packages/swift.yml', 'rpc_deployment/vars/repo_packages/glance.yml', 'rpc_deployment/vars/repo_packages/heat.yml', 'rpc_deployment/vars/repo_packages/os-ansible-deployment.yml', 'rpc_deployment/vars/repo_packages/horizon.yml', 'rpc_deployment/vars/repo_packages/nova.yml', 'rpc_deployment/vars/repo_packages/cinder.yml', 'rpc_deployment/vars/repo_packages/keystone.yml', 'rpc_deployment/vars/repo_packages/neutron.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c57ac5bd69bcec6a5a521fb8cd81a7cdbd494cb', 'message': 'install services from latest stable tag to enforce consistent\ndeployments\n\nalso ensure we are pointing at the latest rc tag for the ansible repo\n\nCloses_bug: 1403018\n\nChange-Id: I0f36464e31a24b197207d4e6de5c7172ac9763a4\n'}]",0,142073,4c57ac5bd69bcec6a5a521fb8cd81a7cdbd494cb,15,6,2,425,,,0,"install services from latest stable tag to enforce consistent
deployments

also ensure we are pointing at the latest rc tag for the ansible repo

Closes_bug: 1403018

Change-Id: I0f36464e31a24b197207d4e6de5c7172ac9763a4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/142073/2 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/swift.yml', 'rpc_deployment/vars/repo_packages/glance.yml', 'rpc_deployment/vars/repo_packages/heat.yml', 'rpc_deployment/vars/repo_packages/os-ansible-deployment.yml', 'rpc_deployment/vars/repo_packages/horizon.yml', 'rpc_deployment/vars/repo_packages/nova.yml', 'rpc_deployment/vars/repo_packages/cinder.yml', 'rpc_deployment/vars/repo_packages/openstack_global_requirements.yml', 'rpc_deployment/vars/repo_packages/keystone.yml', 'rpc_deployment/vars/repo_packages/neutron.yml']",10,684b1e912a1763411be82b41bffda6cd55f4542c,1403018,git_install_branch: 2014.2,git_install_branch: stable/juno,10,10
openstack%2Ftripleo-image-elements~master~Ibce2bc4eeb087b7d0ecd64fc5608abcbf51357a3,openstack/tripleo-image-elements,master,Ibce2bc4eeb087b7d0ecd64fc5608abcbf51357a3,Run restorecon against actual rabbitmq directories,MERGED,2014-11-26 02:39:36.000000000,2014-12-16 14:47:13.000000000,2014-12-16 14:47:12.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 6928}, {'_account_id': 7471}, {'_account_id': 8688}, {'_account_id': 10373}, {'_account_id': 12459}]","[{'number': 1, 'created': '2014-11-26 02:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/76240da83ee7ac0adaea5cc5a9547f39406ee2c2', 'message': 'Run restorecon against actual rabbitmq directories\n\nrestorecon does not work with symlinks. We need to revert the path\nchanges to 20-rabbitmq-server-selinux and have them be on\n/mnt/state/var/log/rabbitmq instead of the symlink\n/var/log/rabbitmq.\n\nThe same applies for /var/lib/rabbitmq.\n\nChange-Id: Ibce2bc4eeb087b7d0ecd64fc5608abcbf51357a3\nCloses-Bug: 1396415\n'}, {'number': 2, 'created': '2014-12-05 00:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/683301429e733fd6d4a2ae941db5e32e69b29f5d', 'message': 'Run restorecon against actual rabbitmq directories\n\nrestorecon does not work with symlinks. We need to revert the path\nchanges to 20-rabbitmq-server-selinux and have them be on\n/mnt/state/var/log/rabbitmq instead of the symlink\n/var/log/rabbitmq.\n\nThe same applies for /var/lib/rabbitmq.\n\nChange-Id: Ibce2bc4eeb087b7d0ecd64fc5608abcbf51357a3\nCloses-Bug: 1396415\n'}, {'number': 3, 'created': '2014-12-15 21:28:50.000000000', 'files': ['elements/rabbitmq-server/os-refresh-config/configure.d/20-rabbitmq-server-selinux'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c7d660c28f9469e64be2933b71e3a10d1420cab5', 'message': 'Run restorecon against actual rabbitmq directories\n\nrestorecon does not work with symlinks. We need to find the\nactual path of the directories before running it.  This can\nbe done with readlink -f on the symlinks.\n\nChange-Id: Ibce2bc4eeb087b7d0ecd64fc5608abcbf51357a3\nCloses-Bug: 1396415\n'}]",3,137259,c7d660c28f9469e64be2933b71e3a10d1420cab5,25,7,3,7471,,,0,"Run restorecon against actual rabbitmq directories

restorecon does not work with symlinks. We need to find the
actual path of the directories before running it.  This can
be done with readlink -f on the symlinks.

Change-Id: Ibce2bc4eeb087b7d0ecd64fc5608abcbf51357a3
Closes-Bug: 1396415
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/59/137259/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/rabbitmq-server/os-refresh-config/configure.d/20-rabbitmq-server-selinux'],1,76240da83ee7ac0adaea5cc5a9547f39406ee2c2,bug/1396415,"semanage fcontext -a -t rabbitmq_var_lib_t ""/mnt/state/var/lib/rabbitmq(/.*)?"" restorecon -Rv /mnt/state/var/lib/rabbitmq semanage fcontext -a -t rabbitmq_var_log_t ""/mnt/state/var/log/rabbitmq(/.*)?"" restorecon -Rv /mnt/state/var/log/rabbitmq","semanage fcontext -a -t rabbitmq_var_lib_t ""/var/lib/rabbitmq(/.*)?"" restorecon -Rv /var/lib/rabbitmq semanage fcontext -a -t rabbitmq_var_log_t ""/var/log/rabbitmq(/.*)?"" restorecon -Rv /var/log/rabbitmq",4,4
openstack%2Fneutron~master~I9c53d3518b200412701b19958d7cbf1ed03d643e,openstack/neutron,master,I9c53d3518b200412701b19958d7cbf1ed03d643e,Update rpc_api docs with example version update,MERGED,2014-12-09 22:46:35.000000000,2014-12-16 14:38:08.000000000,2014-12-16 14:38:06.000000000,"[{'_account_id': 3}, {'_account_id': 162}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 11126}, {'_account_id': 12040}, {'_account_id': 14208}]","[{'number': 1, 'created': '2014-12-09 22:46:35.000000000', 'files': ['doc/source/devref/rpc_api.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a276e05a2a667d7d2a77c87c6a3102821c4c4d2', 'message': 'Update rpc_api docs with example version update\n\nUpdate the rpc api devref docs to include an example of what a change\nthat includes a minor version increment looks like.  I hope this will\nhelp clarify for people what all is included in an API change that\nrequires a version bump.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I9c53d3518b200412701b19958d7cbf1ed03d643e\n'}]",6,140510,9a276e05a2a667d7d2a77c87c6a3102821c4c4d2,28,22,1,1561,,,0,"Update rpc_api docs with example version update

Update the rpc api devref docs to include an example of what a change
that includes a minor version increment looks like.  I hope this will
help clarify for people what all is included in an API change that
requires a version bump.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I9c53d3518b200412701b19958d7cbf1ed03d643e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/140510/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/rpc_api.rst'],1,9a276e05a2a667d7d2a77c87c6a3102821c4c4d2,bp/rpc-docs-and-namespaces,"Example Change -------------- As an example minor API change, let's assume we want to add a new parameter to my_remote_method_2. First, we add the argument on the server side. To be backwards compatible, the new argument must have a default value set so that the interface will still work even if the argument is not supplied. Also, the interface's minor version number must be incremented. So, the new server side code would look like this: :: from oslo import messaging class ServerAPI(object): target = messaging.Target(version='1.2') def my_remote_method(self, context, arg1, arg2): return 'foo' def my_remote_method_2(self, context, arg1, arg2=None): if not arg2: # Deal with the fact that arg2 was not specified if needed. return 'bar' We can now update the client side to pass the new argument. The client must also specify that version '1.2' is required for this method call to be successful. The updated client side would look like this: :: from oslo import messaging from neutron.common import rpc as n_rpc class ClientAPI(object): """"""Client side RPC interface definition. API version history: 1.0 - Initial version 1.1 - Added my_remote_method_2 1.2 - Added arg2 to my_remote_method_2 """""" def __init__(self, topic): target = messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target) def my_remote_method(self, context, arg1, arg2): cctxt = self.client.prepare() return cctxt.call(context, 'my_remote_method', arg1=arg1, arg2=arg2) def my_remote_method_2(self, context, arg1, arg2): cctxt = self.client.prepare(version='1.2') return cctxt.call(context, 'my_remote_method_2', arg1=arg1, arg2=arg2) server side. Several of these pairs exist in the Neutron code base. The code base is being updated with documentation on every rpc interface implementation that indicates where the corresponding server or client code is located. Example: DHCP -------------",server side. Several of these pairs exist in the Neutron code base. DHCP ----,65,3
openstack%2Fswift~master~Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c,openstack/swift,master,Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c,Adjust MAX_FILE_SIZE during test on 32 bit systems,MERGED,2014-10-08 21:24:55.000000000,2014-12-16 14:37:38.000000000,2014-12-16 14:37:37.000000000,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-10-08 21:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a9e443eb286fa5a35ac285b051885745629f047', 'message': 'Adjust MAX_FILE_SIZE default on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2**30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2**30 + 2) if the default exceeds the maxsize of\nand int on the running platform.\n\nCloses-Bug: 1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}, {'number': 2, 'created': '2014-10-08 21:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6e117b47fd3aaf60cae48edacccc30a5d3c62cc5', 'message': 'Adjust MAX_FILE_SIZE default on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2**30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2**30 + 2) if the default exceeds the maxsize of\nan int on the running platform.\n\nCloses-Bug: 1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}, {'number': 3, 'created': '2014-10-09 07:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/982c5a2c29afeed9f1e8e7e4e3e53836a7c7937c', 'message': 'Adjust MAX_FILE_SIZE default on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2 ** 30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2 ** 30 + 2) if the default exceeds the maxsize of\nan int on the running platform.\n\nCloses-Bug: 1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}, {'number': 4, 'created': '2014-10-09 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e30950ad5b0a8f9c5f8930918506ec6b0c951c08', 'message': 'Adjust MAX_FILE_SIZE during test on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2 ** 30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2 ** 30 + 2) if the default exceeds the maxsize of\nan int on the platform running the tests.\n\nCloses-Bug: 1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}, {'number': 5, 'created': '2014-10-09 08:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce7d6ba94d61914be6afaf846d977ac1666f5027', 'message': 'Adjust MAX_FILE_SIZE during test on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2 ** 30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2 ** 30 + 2) if the default exceeds the maxsize of\nan int on the platform running the tests.\n\nCloses-Bug: 1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}, {'number': 6, 'created': '2014-10-09 08:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8082086e0b775bd241e7db910b48961345e3a91b', 'message': 'Adjust MAX_FILE_SIZE during test on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2 ** 30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2 ** 30 + 2) if the default exceeds the maxsize of\nan int on the platform running the tests.\n\nCloses-Bug: 1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}, {'number': 7, 'created': '2014-10-09 15:45:35.000000000', 'files': ['test/unit/proxy/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bd1ec7f89ce48b7359b97e7c926cc74a43267b2a', 'message': 'Adjust MAX_FILE_SIZE during test on 32 bit systems\n\nThe default MAX_FILE_SIZE of (5 * 2 ** 30 + 2) exceeds the\ncapacity of an int on 32 bit systems; adjust this default\ndown to (2 ** 30 + 2) if the default exceeds the maxsize of\nan int on the platform running the tests.\n\nCloses-Bug: #1378810\n\nChange-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c\n'}]",2,127030,bd1ec7f89ce48b7359b97e7c926cc74a43267b2a,23,5,7,935,,,0,"Adjust MAX_FILE_SIZE during test on 32 bit systems

The default MAX_FILE_SIZE of (5 * 2 ** 30 + 2) exceeds the
capacity of an int on 32 bit systems; adjust this default
down to (2 ** 30 + 2) if the default exceeds the maxsize of
an int on the platform running the tests.

Closes-Bug: #1378810

Change-Id: Iafa2ce90ceb2de4e968ad48580270c8c572a9c9c
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/127030/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/swift.conf-sample', 'swift/common/constraints.py']",2,1a9e443eb286fa5a35ac285b051885745629f047,bug/1378810,import sysMAX_FILE_SIZE = 5368709122 if 5368709122 < sys.maxsize else (2**30 +2),MAX_FILE_SIZE = 5368709122,7,2
openstack%2Frequirements~stable%2Fjuno~Idff40b74d078a786e1322267c500ee952dcb6248,openstack/requirements,stable/juno,Idff40b74d078a786e1322267c500ee952dcb6248,Cap oslo.db for setuptools 8,MERGED,2014-12-15 20:19:11.000000000,2014-12-16 14:37:22.000000000,2014-12-16 14:37:21.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-15 20:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4523c7bcdd74668a1df5b76058c1bbb3367d5bbc', 'message': 'Cap oslo.db for setuptools 8\n\noslo.db is capped because setuptools 8 changed the way it handles\nrequirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4).\nWe need to cap at a version known to work with both juno and kilo,\nand since 1.2.0 was the last good version known to work we created\n1.2.1 with only a requirements change to allow the versions for\njuno and kilo to overlap.\n\nChange-Id: Idff40b74d078a786e1322267c500ee952dcb6248\n'}, {'number': 2, 'created': '2014-12-15 20:36:56.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2cd8f4e4effa47045dbfe2ad170ccc8cb4922e1f', 'message': 'Cap oslo.db for setuptools 8\n\noslo.db is capped because setuptools 8 changed the way it handles\nrequirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4).\nWe need to cap at a version known to work with both juno and kilo,\nand since 1.2.0 was the last good version known to work we created\n1.2.1 with only a requirements change to allow the versions for\njuno and kilo to overlap. We leave the cap a little loose in case\nwe have more backports for the 1.2 series.\n\nChange-Id: Idff40b74d078a786e1322267c500ee952dcb6248\n'}]",0,141896,2cd8f4e4effa47045dbfe2ad170ccc8cb4922e1f,10,4,2,2472,,,0,"Cap oslo.db for setuptools 8

oslo.db is capped because setuptools 8 changed the way it handles
requirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4).
We need to cap at a version known to work with both juno and kilo,
and since 1.2.0 was the last good version known to work we created
1.2.1 with only a requirements change to allow the versions for
juno and kilo to overlap. We leave the cap a little loose in case
we have more backports for the 1.2 series.

Change-Id: Idff40b74d078a786e1322267c500ee952dcb6248
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/141896/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,4523c7bcdd74668a1df5b76058c1bbb3367d5bbc,cap-oslo-db-juno,"# oslo.db is capped because setuptools 8 changed the way it handles # requirements lists (see 4bbac4c9bc5bcba6962921369ce7721d2a544aa4). # We need to cap at a version known to work with both juno and kilo, # and since 1.2.0 was the last good version known to work we created # 1.2.1 with only a requirements change to allow the versions for # juno and kilo to overlap. oslo.db>=1.0.0,<=1.2.1 # Apache-2.0",oslo.db>=1.0.0 # Apache-2.0,7,1
openstack%2Fmistral-extra~master~I6cc7844a0547d5e41e12c19a10a9d2d216439698,openstack/mistral-extra,master,I6cc7844a0547d5e41e12c19a10a9d2d216439698,"Add tenant statistics example with ""join""",MERGED,2014-12-16 13:36:35.000000000,2014-12-16 14:33:13.000000000,2014-12-16 14:33:13.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2014-12-16 13:36:35.000000000', 'files': ['examples/v2/tenant_statistics/tenant_statistics.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/f38e912db9f6f80d31e89531b5e70bf1335d5dd1', 'message': 'Add tenant statistics example with ""join""\n\nChange-Id: I6cc7844a0547d5e41e12c19a10a9d2d216439698\n'}]",0,142105,f38e912db9f6f80d31e89531b5e70bf1335d5dd1,8,5,1,8731,,,0,"Add tenant statistics example with ""join""

Change-Id: I6cc7844a0547d5e41e12c19a10a9d2d216439698
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/05/142105/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/v2/tenant_statistics/tenant_statistics.yaml'],1,f38e912db9f6f80d31e89531b5e70bf1335d5dd1,add_tenant_statistics_join_example," tenant_statistics_plain: tenant_statistics_join: type: direct description: | This workflow gathers some tenant metrics and sends them to the configured email using ""join"" control to run two tasks in parallel prior to sending a final report by email. input: - to_email - from_email - smtp_server - smtp_password tasks: get_vm_count: action: nova.servers_list publish: vm_count: $.length() active_vm_count: $[$.status = 'ACTIVE'].length() on-complete: - send_stat get_net_count: action: neutron.list_networks publish: net_count: $.length() on-complete: - send_stat send_stat: join: all action: send_tenant_stat input: # Report body data. project_id: $.openstack.project_id vm_count: $.vm_count active_vm_count: $.active_vm_count net_count: $.net_count # Email settings. to_email: $.to_email from_email: $.from_email smtp_server: $.smtp_server smtp_password: $.smtp_password", tenant_statistics:,46,1
openstack%2Fironic-inspector~master~I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0,openstack/ironic-inspector,master,I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0,Update README and stop posting full changelogs,MERGED,2014-12-16 13:14:42.000000000,2014-12-16 14:33:07.000000000,2014-12-16 14:33:05.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-12-16 13:14:42.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/feaf7f5a33b9aed6043ba4bb547464b1b7fb905e', 'message': 'Update README and stop posting full changelogs\n\nGit already does quite a good job of keeping a changelog, only\ncreate high-level release notes from now on.\n\n(cherry picked from commit 7a7c62511cc33bb1af87cb10aad73a08910d071b)\nAlso created release notes for 1.0.\n\nChange-Id: I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0\n'}]",0,142097,feaf7f5a33b9aed6043ba4bb547464b1b7fb905e,7,3,1,10239,,,0,"Update README and stop posting full changelogs

Git already does quite a good job of keeping a changelog, only
create high-level release notes from now on.

(cherry picked from commit 7a7c62511cc33bb1af87cb10aad73a08910d071b)
Also created release notes for 1.0.

Change-Id: I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/97/142097/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,feaf7f5a33b9aed6043ba4bb547464b1b7fb905e,," diskimage-builder_ `ironic-discoverd-ramdisk element`_. append initrd=discovery.ramdisk discoverd_callback_url=http://{IP}:5050/v1/continue.. _ironic-discoverd-ramdisk element: https://github.com/openstack/diskimage-builder/tree/master/elements/ironic-discoverd-ramdisk.. _kernel: https://repos.fedorapeople.org/repos/openstack-m/tripleo-images-rdo-juno/discovery-ramdisk.kernel .. _ramdisk: https://repos.fedorapeople.org/repos/openstack-m/tripleo-images-rdo-juno/discovery-ramdisk.initramfs.. note:: This CLI interface is not stable and may be changes without prior notice. in configuration. Protocol is JSON over HTTP.Release Notes ------------- 1.0 Series ~~~~~~~~~~ 1.0 is the first feature-complete release series. It's also the first series to follow standard OpenStack processes from the beginning. See `1.0.0 release tracking page`_ for details. **API** * Support updating IPMI credentials from within ramdisk. Set ``ipmi_setup_credentials`` in *Node* extra to ``true`` to use. Requires manual power on after calling to ``/v1/discover``. See `setup-ipmi-credentials blueprint`_ for details. **Configuration** * Discovery now times out by default, set ``timeout`` option to alter. **Misc** .. _1.0.0 release tracking page: https://bugs.launchpad.net/ironic-discoverd/+milestone/1.0.0 .. _setup-ipmi-credentials blueprint: https://blueprints.launchpad.net/ironic-discoverd/+spec/setup-ipmi-credentials0.2 Series ~~~~~~~~~~ 0.2 is a long-term support series designed to work with OpenStack Juno release. The major changes are: **API** * Authentication via Keystone for ``/v1/discover``. * Expect ``interfaces`` instead of ``macs`` in post-back from the ramdisk **[version 0.2.1]**. * If ``interfaces`` is present, only add ports for NIC's with IP address set **[version 0.2.1]**. * ``/v1/discover`` now does some sync sanity checks **[version 0.2.2]**. **[version 0.2.2]**. * Nodes will be always put into maintenance mode before discovery **[version 0.2.1]**. **Configuration** * On each start-up make several attempts to check that Ironic is available **[version 0.2.2]**. **Misc** * Simple client in ``ironic_discoverd.client``. * Switch to Gerrit **[version 0.2.3]**, setuptools entry points and tox. * Preliminary supported for Python 3.3 (real support depends on Eventlet). 0.1 Series ~~~~~~~~~~ First stable release series. Not supported any more."," diskimage-builder_ `discovery-ironic element`_. append initrd=discovery.ramdisk ironic_callback_url=http://{IP}:5050/v1/continue.. _discovery-ironic element: https://github.com/agroup/instack-undercloud/tree/master/elements/discovery-ironic.. _kernel: http://file.rdu.redhat.com/%7Ejslagle/tripleo-images-juno-source/discovery-ramdisk.kernel .. _ramdisk: http://file.rdu.redhat.com/%7Ejslagle/tripleo-images-juno-source/discovery-ramdisk.initramfsin configuration. Protocol is JSON over HTTP;Change Log ---------- v1.0.0 ~~~~~~ * Support updating IPMI credentials from within ramdisk.* Discovery now times out by default.v0.2.5 ~~~~~~ * Be even more paranoid in cleaning the iptables. * Backport ``CONTRIBUTING.rst`` from master. v0.2.4 ~~~~~~ * Urgent fix: add requirements.txt and tox.ini to the manifest. v0.2.3 ~~~~~~ * Moved to StackForge and LaunchPad. v0.2.2 ~~~~~~ * ``/v1/discover`` now does some sync sanity checks. * On each start-up make several attempts to check that Ironic is available. * Now we try a bit harder to recover firewall state on every step. (part of future fix for `bug #1391871`_). * Actually able to start under Python 3.3 (still very experimental). * Updated unit tests and this documentation. .. _bug #1391871: https://bugs.launchpad.net/ironic-discoverd/+bug/1391871 v0.2.1 ~~~~~~ * Expect ``interfaces`` instead of ``macs`` in post-back from the ramdisk. * If ``interfaces`` is present, only add ports for NIC's with IP address set. * Now MAC's are white-listed for all drivers, not only SSH; option ``ssh_driver_regex`` was dropped. * Nodes will be always put into maintenance mode before discovery. v0.2.0 ~~~~~~ * Authentication via Keystone. * Simple client in ``ironic_discoverd.client``. * Switch to setuptools entry points. * Switch to tox.* SSH driver regex is now configurable. * Supported on Python 3.3. * Enhanced documentation. v0.1.1 ~~~~~~ * Added simple man page. * Make interface configurable. v0.1.0 ~~~~~~ * First stable release.",59,62
openstack%2Fopenstack-ansible~stable%2Fjuno~I12fad99d32d6bc8c7096af0ac8bed5a849c24da8,openstack/openstack-ansible,stable/juno,I12fad99d32d6bc8c7096af0ac8bed5a849c24da8,Pin tempest version,MERGED,2014-12-15 16:49:59.000000000,2014-12-16 14:23:41.000000000,2014-12-16 14:23:41.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 9820}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-15 16:49:59.000000000', 'files': ['rpc_deployment/vars/repo_packages/tempest.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0be441099b167e519ce37ee2cf7dafbb90afa693', 'message': 'Pin tempest version\n\nCurrently tempest will not install due to us pinning\npython-saharaclient to 0.7.5 while tempest requires 0.7.6.  Rather than\nbumping python-saharaclient, this change will pin tempest to the commit\nprior to requirements.txt updating.  This type of change was already\ndone to tempest in stable/icehouse.\n\nChange-Id: I12fad99d32d6bc8c7096af0ac8bed5a849c24da8\nCloses-Bug: #1402713\n(cherry picked from commit 4790cf46d645bd77137bf6f62172623de583e59c)\n'}]",0,141841,0be441099b167e519ce37ee2cf7dafbb90afa693,10,6,1,7307,,,0,"Pin tempest version

Currently tempest will not install due to us pinning
python-saharaclient to 0.7.5 while tempest requires 0.7.6.  Rather than
bumping python-saharaclient, this change will pin tempest to the commit
prior to requirements.txt updating.  This type of change was already
done to tempest in stable/icehouse.

Change-Id: I12fad99d32d6bc8c7096af0ac8bed5a849c24da8
Closes-Bug: #1402713
(cherry picked from commit 4790cf46d645bd77137bf6f62172623de583e59c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/141841/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/vars/repo_packages/tempest.yml'],1,0be441099b167e519ce37ee2cf7dafbb90afa693,bug/1402713,git_install_branch: 3a94488ced15985f34b276993891b3bf3def3845,git_install_branch: master,1,1
openstack%2Fdesignate~master~I94c940488bdc1581acecd1cfe0149c986aed15eb,openstack/designate,master,I94c940488bdc1581acecd1cfe0149c986aed15eb,Imported Translations from Transifex,MERGED,2014-12-16 06:16:34.000000000,2014-12-16 14:23:27.000000000,2014-12-16 14:23:26.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2014-12-16 06:16:34.000000000', 'files': ['designate/locale/designate-log-warning.pot', 'designate/locale/designate-log-critical.pot', 'designate/locale/pt_BR/LC_MESSAGES/designate-log-critical.po', 'designate/locale/en_GB/LC_MESSAGES/designate-log-critical.po', 'designate/locale/fr/LC_MESSAGES/designate-log-critical.po', 'designate/locale/fr/LC_MESSAGES/designate-log-warning.po', 'designate/locale/designate-log-info.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-info.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/5437b3bb4ac340f1156333544eff06fc9a1c0e23', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I94c940488bdc1581acecd1cfe0149c986aed15eb\n'}]",0,141988,5437b3bb4ac340f1156333544eff06fc9a1c0e23,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I94c940488bdc1581acecd1cfe0149c986aed15eb
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/141988/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/locale/designate-log-warning.pot', 'designate/locale/designate-log-critical.pot', 'designate/locale/pt_BR/LC_MESSAGES/designate-log-critical.po', 'designate/locale/en_GB/LC_MESSAGES/designate-log-critical.po', 'designate/locale/fr/LC_MESSAGES/designate-log-critical.po', 'designate/locale/fr/LC_MESSAGES/designate-log-warning.po', 'designate/locale/designate-log-info.pot', 'designate/locale/fr/LC_MESSAGES/designate-log-info.po']",8,5437b3bb4ac340f1156333544eff06fc9a1c0e23,transifex/translations,"""POT-Creation-Date: 2014-12-16 06:16+0000\n"" ""PO-Revision-Date: 2014-12-16 00:40+0000\n""#: designate/backend/impl_dynect.py:340#: designate/backend/impl_dynect.py:359#: designate/backend/impl_dynect.py:373#: designate/backend/impl_fake.py:28#: designate/backend/impl_fake.py:31#: designate/central/rpcapi.py:75#: designate/central/rpcapi.py:82#: designate/central/rpcapi.py:87#: designate/central/rpcapi.py:93#: designate/central/rpcapi.py:99#: designate/central/rpcapi.py:105#: designate/central/rpcapi.py:111#: designate/central/rpcapi.py:118#: designate/central/rpcapi.py:123#: designate/central/rpcapi.py:128#: designate/central/rpcapi.py:134#: designate/central/rpcapi.py:139#: designate/central/rpcapi.py:145#: designate/central/rpcapi.py:149#: designate/central/rpcapi.py:153#: designate/central/rpcapi.py:159#: designate/central/rpcapi.py:163#: designate/central/rpcapi.py:167#: designate/central/rpcapi.py:172#: designate/central/rpcapi.py:176#: designate/central/rpcapi.py:180#: designate/central/rpcapi.py:187#: designate/central/rpcapi.py:193#: designate/central/rpcapi.py:197#: designate/central/rpcapi.py:202#: designate/central/rpcapi.py:206#: designate/central/rpcapi.py:210#: designate/central/rpcapi.py:215#: designate/central/rpcapi.py:220#: designate/central/rpcapi.py:226#: designate/central/rpcapi.py:230#: designate/central/rpcapi.py:234#: designate/central/rpcapi.py:239#: designate/central/rpcapi.py:244#: designate/central/rpcapi.py:250#: designate/central/rpcapi.py:257#: designate/central/rpcapi.py:261#: designate/central/rpcapi.py:268#: designate/central/rpcapi.py:275#: designate/central/rpcapi.py:282#: designate/central/rpcapi.py:290#: designate/central/rpcapi.py:298#: designate/central/rpcapi.py:304#: designate/central/rpcapi.py:308#: designate/central/rpcapi.py:315#: designate/central/rpcapi.py:323#: designate/central/rpcapi.py:328#: designate/central/rpcapi.py:333#: designate/central/rpcapi.py:337#: designate/central/rpcapi.py:341#: designate/central/rpcapi.py:348#: designate/central/rpcapi.py:352#: designate/central/rpcapi.py:357#: designate/central/rpcapi.py:364#: designate/central/rpcapi.py:369#: designate/central/rpcapi.py:375#: designate/central/rpcapi.py:381#: designate/central/rpcapi.py:385#: designate/central/rpcapi.py:390#: designate/central/rpcapi.py:396#: designate/central/rpcapi.py:402#: designate/central/rpcapi.py:409#: designate/central/rpcapi.py:414#: designate/central/rpcapi.py:419#: designate/central/rpcapi.py:424#: designate/central/rpcapi.py:430#: designate/central/rpcapi.py:437#: designate/central/rpcapi.py:446#: designate/central/rpcapi.py:456#: designate/central/rpcapi.py:465#: designate/central/rpcapi.py:473#: designate/central/rpcapi.py:481#: designate/central/rpcapi.py:490#: designate/central/rpcapi.py:498#: designate/central/rpcapi.py:508#: designate/central/rpcapi.py:516#: designate/central/rpcapi.py:524#: designate/central/rpcapi.py:532#: designate/central/service.py:209#: designate/central/service.py:212#: designate/central/service.py:1775#: designate/central/service.py:2121#: designate/mdns/rpcapi.py:62#: designate/mdns/rpcapi.py:76#: designate/pool_manager/rpcapi.py:62#: designate/pool_manager/rpcapi.py:67#: designate/pool_manager/rpcapi.py:72#: designate/pool_manager/rpcapi.py:78","""POT-Creation-Date: 2014-12-11 06:09+0000\n"" ""PO-Revision-Date: 2014-12-10 13:59+0000\n""#: designate/backend/impl_dynect.py:336#: designate/backend/impl_dynect.py:355#: designate/backend/impl_dynect.py:369#: designate/backend/impl_fake.py:30 #, python-format msgid ""Create TSIG Key %r"" msgstr ""Crer cl TSIG %r"" #: designate/backend/impl_fake.py:33 #, python-format msgid ""Update TSIG Key %r"" msgstr ""Mettre  jour la cl TSIG %r"" #: designate/backend/impl_fake.py:36 #, python-format msgid ""Delete TSIG Key %r"" msgstr ""Supprimer la cl TSIG %r"" #: designate/backend/impl_fake.py:39 #, python-format msgid ""Create Server %r"" msgstr ""Crer le serveur %r"" #: designate/backend/impl_fake.py:42 #, python-format msgid ""Update Server %r"" msgstr ""Mise  jour du serveur %r"" #: designate/backend/impl_fake.py:45 #, python-format msgid ""Delete Server %r"" msgstr ""Supprimer le serveur %r"" #: designate/backend/impl_fake.py:48#: designate/backend/impl_fake.py:51 #, python-format msgid ""Update Domain %r"" msgstr ""Mise  jour du domaine %r"" #: designate/backend/impl_fake.py:54#: designate/backend/impl_fake.py:57 #, python-format msgid ""Create RecordSet %(domain)r / %(recordset)r"" msgstr ""Crer RecordSet %(domain)r / %(recordset)r"" #: designate/backend/impl_fake.py:61 #, python-format msgid ""Update RecordSet %(domain)r / %(recordset)r"" msgstr ""Mise  jour de RecordSet %(domain)r / %(recordset)r"" #: designate/backend/impl_fake.py:65 #, python-format msgid ""Delete RecordSet %(domain)r / %(recordset)r"" msgstr ""Suppresion de RecordSet %(domain)r / %(recordset)r"" #: designate/backend/impl_fake.py:69 #, python-format msgid ""Create Record %(domain)r / %(recordset)r / %(record)r"" msgstr ""Crer Enregistrement %(domain)r / %(recordset)r / %(record)r"" #: designate/backend/impl_fake.py:73 #, python-format msgid ""Update Record %(domain)r / %(recordset)r / %(record)r"" msgstr """" ""Mise  jour de l'enregistrement %(domain)r / %(recordset)r / %(record)r"" #: designate/backend/impl_fake.py:77 #, python-format msgid ""Delete Record %(domain)r / %(recordset)r / %(record)r"" msgstr """" ""Suppression de l'enregistrement %(domain)r / %(recordset)r / %(record)r"" #: designate/backend/impl_fake.py:81 #, python-format msgid ""Sync Domain %(domain)r / %(records)r"" msgstr ""Sync Domaine %(domain)r / %(records)r"" #: designate/backend/impl_fake.py:85 #, python-format msgid ""Sync Record %(domain)r / %(record)r"" msgstr ""Sync Enregistrement %(domain)r / %(record)r"" #: designate/backend/impl_fake.py:89 msgid ""Ping"" msgstr ""Ping"" #: designate/central/rpcapi.py:59#: designate/central/rpcapi.py:66#: designate/central/rpcapi.py:71#: designate/central/rpcapi.py:77#: designate/central/rpcapi.py:83#: designate/central/rpcapi.py:89#: designate/central/rpcapi.py:95#: designate/central/rpcapi.py:102#: designate/central/rpcapi.py:107#: designate/central/rpcapi.py:112#: designate/central/rpcapi.py:118#: designate/central/rpcapi.py:123#: designate/central/rpcapi.py:129#: designate/central/rpcapi.py:133#: designate/central/rpcapi.py:137#: designate/central/rpcapi.py:143#: designate/central/rpcapi.py:147#: designate/central/rpcapi.py:151#: designate/central/rpcapi.py:156#: designate/central/rpcapi.py:160#: designate/central/rpcapi.py:164#: designate/central/rpcapi.py:171#: designate/central/rpcapi.py:177#: designate/central/rpcapi.py:181#: designate/central/rpcapi.py:186#: designate/central/rpcapi.py:190#: designate/central/rpcapi.py:194#: designate/central/rpcapi.py:199#: designate/central/rpcapi.py:204#: designate/central/rpcapi.py:210#: designate/central/rpcapi.py:214#: designate/central/rpcapi.py:218#: designate/central/rpcapi.py:223#: designate/central/rpcapi.py:228#: designate/central/rpcapi.py:234#: designate/central/rpcapi.py:241#: designate/central/rpcapi.py:245#: designate/central/rpcapi.py:252#: designate/central/rpcapi.py:259#: designate/central/rpcapi.py:266#: designate/central/rpcapi.py:274#: designate/central/rpcapi.py:282#: designate/central/rpcapi.py:288#: designate/central/rpcapi.py:292#: designate/central/rpcapi.py:299#: designate/central/rpcapi.py:307#: designate/central/rpcapi.py:312#: designate/central/rpcapi.py:317#: designate/central/rpcapi.py:321#: designate/central/rpcapi.py:325#: designate/central/rpcapi.py:332#: designate/central/rpcapi.py:336#: designate/central/rpcapi.py:341#: designate/central/rpcapi.py:348#: designate/central/rpcapi.py:353#: designate/central/rpcapi.py:359#: designate/central/rpcapi.py:365#: designate/central/rpcapi.py:369#: designate/central/rpcapi.py:374#: designate/central/rpcapi.py:380#: designate/central/rpcapi.py:386#: designate/central/rpcapi.py:393#: designate/central/rpcapi.py:398#: designate/central/rpcapi.py:403#: designate/central/rpcapi.py:408#: designate/central/rpcapi.py:414#: designate/central/rpcapi.py:421#: designate/central/rpcapi.py:430#: designate/central/rpcapi.py:440#: designate/central/rpcapi.py:449#: designate/central/rpcapi.py:457#: designate/central/rpcapi.py:465#: designate/central/rpcapi.py:474#: designate/central/rpcapi.py:482#: designate/central/rpcapi.py:492#: designate/central/rpcapi.py:500#: designate/central/rpcapi.py:508#: designate/central/rpcapi.py:516#: designate/central/service.py:227#: designate/central/service.py:230#: designate/central/service.py:1759#: designate/central/service.py:2119#: designate/mdns/rpcapi.py:46#: designate/mdns/rpcapi.py:60#: designate/pool_manager/rpcapi.py:46#: designate/pool_manager/rpcapi.py:51#: designate/pool_manager/rpcapi.py:56#: designate/pool_manager/rpcapi.py:62",219,445
openstack%2Fmagnetodb~master~Ied50aab9f4b2e7116892658555db66ba6d503481,openstack/magnetodb,master,Ied50aab9f4b2e7116892658555db66ba6d503481,Fixed gate,MERGED,2014-12-15 14:12:05.000000000,2014-12-16 14:16:45.000000000,2014-12-16 14:16:43.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}]","[{'number': 1, 'created': '2014-12-15 14:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/5450880246e9434c1ac1af422797139c05e24e04', 'message': 'Fixed gate\n\nMoved tempest/ to contrib/tempest/ in order to not affect\nstandard tempest PYTHONPATH\n\nChange-Id: Ied50aab9f4b2e7116892658555db66ba6d503481\n'}, {'number': 2, 'created': '2014-12-15 15:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/e4f046e5deeaa2d7002f6f661c74e632cc98153b', 'message': 'Fixed gate\n\nMoved tempest/ to contrib/tempest/ in order to not affect\nstandard tempest PYTHONPATH\n\nChange-Id: Ied50aab9f4b2e7116892658555db66ba6d503481\n'}, {'number': 3, 'created': '2014-12-15 16:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/7cc7233f709f7032c4f38835c6a51f0b89b43a08', 'message': 'Fixed gate\n\nMoved tempest/ to contrib/tempest/ in order to not affect\nstandard tempest PYTHONPATH\n\nChange-Id: Ied50aab9f4b2e7116892658555db66ba6d503481\n'}, {'number': 4, 'created': '2014-12-15 16:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/5e1a82e691aeddee2f82e4db94ecd2bca1ae3544', 'message': 'Fixed gate\n\nMoved tempest/ to contrib/tempest/ in order to not affect\nstandard tempest PYTHONPATH\n\nChange-Id: Ied50aab9f4b2e7116892658555db66ba6d503481\n'}, {'number': 5, 'created': '2014-12-15 19:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/73b2a79e94dc489cfc14ff7ab794d275374f7e40', 'message': 'Fixed gate\n\nMoved tempest/ to contrib/tempest/ in order to not affect\nstandard tempest PYTHONPATH\n\nChange-Id: Ied50aab9f4b2e7116892658555db66ba6d503481\n'}, {'number': 6, 'created': '2014-12-16 11:33:47.000000000', 'files': ['contrib/tempest/api/keyvalue/stable/rest/test_create_backup.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_tables.py', 'contrib/tempest/README.rst', 'contrib/tempest/api/keyvalue/stable/rest/test_list_backups.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_get_item.py', 'contrib/tempest/common/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_get_item.py', 'contrib/tempest/exceptions.py', 'contrib/tempest/api/keyvalue/stable/rest/__init__.py', 'contrib/tempest/api/keyvalue/stable/boto/test_update.py', 'contrib/__init__.py', 'contrib/tempest/__init__.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/table-create-request.json', 'contrib/tempest/services/keyvalue/json/magnetodb_management_client.py', 'contrib/tempest/common/utils/data_utils.py', 'contrib/tempest/api/keyvalue/not_ready/__init__.py', 'contrib/tempest/services/keyvalue/json/magnetodb_streaming_client.py', 'contrib/tempest/openstack/common/importutils.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/item-put-request.json', 'contrib/tempest/api/keyvalue/in_progress/rest/test_put_item.py', 'contrib/tempest/api/keyvalue/boto_base/test.py', 'contrib/tempest/api/keyvalue/rest_base/__init__.py', 'contrib/tempest/cli/__init__.py', 'contrib/tempest/services/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_items.py', 'contrib/tempest/api/keyvalue/stable/rest/test_put_item.py', 'contrib/tempest/common/rest_client.py', 'contrib/tempest/api/keyvalue/stable/rest/test_create_table_negative.py', 'contrib/tempest/api/keyvalue/stable/rest/test_table_scenarios.py', 'contrib/tempest/cli/README.rst', 'contrib/tempest/api/keyvalue/rest_base/base.py', 'contrib/tempest/cli/keyvalue/README.txt', 'contrib/tempest/api/keyvalue/in_progress/rest/test_describe_table_negative.py', 'contrib/tempest/api/keyvalue/boto_base/__init__.py', 'contrib/tempest/openstack/common/log.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_table_negative.py', 'functionaltests/post_test_hook.sh', 'contrib/tempest/jmeter_tests/magneto_getitem.jmx', 'contrib/tempest/test.py', 'contrib/tempest/api/keyvalue/stable/rest/test_delete_backup.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_queries.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_scan.py', 'contrib/tempest/api/keyvalue/stable/rest/test_list_table.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/scan-request.json', 'etc/magnetodb-api.conf', 'contrib/tempest/services/keyvalue/json/magnetodb_monitoring_client.py', 'contrib/tempest/api/keyvalue/stable/rest/test_queries.py', 'contrib/tempest/api/keyvalue/stable/rest/test_update_item.py', 'contrib/tempest/api/keyvalue/stable/boto/test_tables.py', 'contrib/tempest/api/keyvalue/stable/rest/test_create_restore.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_restore.py', 'contrib/tempest/api/keyvalue/stable/boto/test_scan.py', 'contrib/tempest/services/botoclients.py', 'contrib/tempest/api/keyvalue/stable/rest/test_batch_get.py', 'contrib/tempest/api/keyvalue/in_progress/rest/__init__.py', 'contrib/tempest/api/keyvalue/not_ready/rest/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_create_table.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_backup.py', 'contrib/tempest/api/keyvalue/stable/rest/test_monitoring.py', 'functionaltests/run_tests.sh', 'etc/magnetodb-async-task-executor.conf', 'contrib/tempest/api/keyvalue/not_ready/boto/test_update.py', 'contrib/tempest/api/keyvalue/stable/rest/test_list_restores.py', 'contrib/tempest/api/keyvalue/stable/rest/test_streaming.py', 'contrib/tempest/api/keyvalue/boto_base/utils/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_table.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/batch-write-request.json', 'contrib/tempest/cli/keyvalue/magnetodb_templates/query-request.json', 'contrib/tempest/api/keyvalue/not_ready/boto/__init__.py', 'contrib/tempest/openstack/common/timeutils.py', 'contrib/tempest/clients.py', 'contrib/tempest/api/keyvalue/boto_base/base.py', 'contrib/tempest/common/http.py', 'contrib/tempest/api/keyvalue/in_progress/__init__.py', 'contrib/tempest/common/utils/misc.py', 'contrib/tempest/api/keyvalue/stable/rest/test_delete_item.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_create_table_negative.py', 'contrib/tempest/api/keyvalue/not_ready/rest/test_delete_item.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_tables.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_queries.py', 'contrib/tempest/api/keyvalue/stable/boto/test_items.py', 'contrib/tempest/api/keyvalue/boto_base/utils/wait.py', 'tox.ini', 'etc/magnetodb-streaming-api.conf', 'contrib/tempest/common/utils/__init__.py', 'contrib/tempest/tempest.conf', 'contrib/tempest/api/__init__.py', 'contrib/tempest/openstack/__init__.py', 'contrib/tempest/services/keyvalue/json/magnetodb_client.py', 'contrib/tempest/api/keyvalue/in_progress/boto/__init__.py', 'contrib/tempest/services/keyvalue/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_queries.py', 'contrib/tempest/config.py', 'contrib/tempest/api/keyvalue/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_create_table.py', 'contrib/tempest/common/isolated_creds.py', 'contrib/tempest/openstack/common/gettextutils.py', 'contrib/tempest/api/keyvalue/not_ready/rest/test_get_item.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_items.py', 'contrib/tempest/api/keyvalue/stable/boto/test_queries.py', 'contrib/tempest/cli/output_parser.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_batch_get.py', 'contrib/tempest/services/keyvalue/json/__init__.py', 'contrib/tempest/openstack/common/jsonutils.py', 'contrib/tempest/openstack/common/local.py', 'contrib/tempest/api/keyvalue/stable/boto/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_scan.py', 'contrib/tempest/common/utils/file_utils.py', 'contrib/tempest/cli/keyvalue/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_batch_write.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_describe_table.py', 'contrib/tempest/openstack/common/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_list_table.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_scan.py', 'contrib/tempest/api/keyvalue/stable/rest/test_batch_write.py', 'tempest/api/keyvalue/stable/boto/test_update.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/item-get-request.json', 'contrib/tempest/api/keyvalue/in_progress/boto/test_update.py', 'contrib/tempest/api/keyvalue/stable/__init__.py', 'contrib/tempest/cli/keyvalue/test_magnetodb.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/d51844f2881871d380c30b1a560faff93361e147', 'message': 'Fixed gate\n\nMoved tempest/ to contrib/tempest/ in order to not affect\nstandard tempest PYTHONPATH\n\nChange-Id: Ied50aab9f4b2e7116892658555db66ba6d503481\n'}]",0,141807,d51844f2881871d380c30b1a560faff93361e147,16,5,6,8188,,,0,"Fixed gate

Moved tempest/ to contrib/tempest/ in order to not affect
standard tempest PYTHONPATH

Change-Id: Ied50aab9f4b2e7116892658555db66ba6d503481
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/07/141807/4 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/api/keyvalue/stable/rest/test_create_backup.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_tables.py', 'contrib/tempest/README.rst', 'contrib/tempest/api/keyvalue/stable/rest/test_list_backups.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_get_item.py', 'contrib/tempest/common/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_get_item.py', 'contrib/tempest/exceptions.py', 'contrib/tempest/api/keyvalue/stable/rest/__init__.py', 'contrib/tempest/api/keyvalue/stable/boto/test_update.py', 'contrib/tempest/__init__.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/table-create-request.json', 'contrib/tempest/services/keyvalue/json/magnetodb_management_client.py', 'contrib/tempest/common/utils/data_utils.py', 'contrib/tempest/api/keyvalue/not_ready/__init__.py', 'contrib/tempest/services/keyvalue/json/magnetodb_streaming_client.py', 'contrib/tempest/openstack/common/importutils.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/item-put-request.json', 'contrib/tempest/api/keyvalue/in_progress/rest/test_put_item.py', 'contrib/tempest/api/keyvalue/boto_base/test.py', 'contrib/tempest/api/keyvalue/rest_base/__init__.py', 'contrib/tempest/cli/__init__.py', 'contrib/tempest/services/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_items.py', 'contrib/tempest/api/keyvalue/stable/rest/test_put_item.py', 'contrib/tempest/common/rest_client.py', 'contrib/tempest/api/keyvalue/stable/rest/test_create_table_negative.py', 'contrib/tempest/api/keyvalue/stable/rest/test_table_scenarios.py', 'contrib/tempest/cli/README.rst', 'contrib/tempest/api/keyvalue/rest_base/base.py', 'contrib/tempest/cli/keyvalue/README.txt', 'contrib/tempest/api/keyvalue/in_progress/rest/test_describe_table_negative.py', 'contrib/tempest/api/keyvalue/boto_base/__init__.py', 'contrib/tempest/openstack/common/log.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_table_negative.py', 'functionaltests/post_test_hook.sh', 'contrib/tempest/jmeter_tests/magneto_getitem.jmx', 'contrib/tempest/test.py', 'contrib/tempest/api/keyvalue/stable/rest/test_delete_backup.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_queries.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_scan.py', 'contrib/tempest/api/keyvalue/stable/rest/test_list_table.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/scan-request.json', 'contrib/tempest/services/keyvalue/json/magnetodb_monitoring_client.py', 'contrib/tempest/api/keyvalue/stable/rest/test_queries.py', 'contrib/tempest/api/keyvalue/stable/rest/test_update_item.py', 'contrib/tempest/api/keyvalue/stable/boto/test_tables.py', 'contrib/tempest/api/keyvalue/stable/rest/test_create_restore.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_restore.py', 'contrib/tempest/api/keyvalue/stable/boto/test_scan.py', 'contrib/tempest/services/botoclients.py', 'contrib/tempest/api/keyvalue/stable/rest/test_batch_get.py', 'contrib/tempest/api/keyvalue/in_progress/rest/__init__.py', 'contrib/tempest/api/keyvalue/not_ready/rest/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_create_table.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_backup.py', 'contrib/tempest/api/keyvalue/stable/rest/test_monitoring.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_update.py', 'contrib/tempest/api/keyvalue/stable/rest/test_list_restores.py', 'contrib/tempest/api/keyvalue/stable/rest/test_streaming.py', 'contrib/tempest/api/keyvalue/boto_base/utils/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_describe_table.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/batch-write-request.json', 'contrib/tempest/cli/keyvalue/magnetodb_templates/query-request.json', 'contrib/tempest/api/keyvalue/not_ready/boto/__init__.py', 'contrib/tempest/openstack/common/timeutils.py', 'contrib/tempest/clients.py', 'contrib/tempest/api/keyvalue/boto_base/base.py', 'contrib/tempest/common/http.py', 'contrib/tempest/api/keyvalue/in_progress/__init__.py', 'contrib/tempest/common/utils/misc.py', 'contrib/tempest/api/keyvalue/stable/rest/test_delete_item.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_create_table_negative.py', 'contrib/tempest/api/keyvalue/not_ready/rest/test_delete_item.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_tables.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_queries.py', 'contrib/tempest/api/keyvalue/stable/boto/test_items.py', 'contrib/tempest/api/keyvalue/boto_base/utils/wait.py', 'contrib/tempest/common/utils/__init__.py', 'contrib/tempest/tempest.conf', 'contrib/tempest/api/__init__.py', 'contrib/tempest/openstack/__init__.py', 'contrib/tempest/services/keyvalue/json/magnetodb_client.py', 'contrib/tempest/api/keyvalue/in_progress/boto/__init__.py', 'contrib/tempest/services/keyvalue/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_queries.py', 'contrib/tempest/config.py', 'contrib/tempest/api/keyvalue/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_create_table.py', 'contrib/tempest/common/isolated_creds.py', 'contrib/tempest/openstack/common/gettextutils.py', 'contrib/tempest/api/keyvalue/not_ready/rest/test_get_item.py', 'contrib/tempest/api/keyvalue/not_ready/boto/test_items.py', 'contrib/tempest/api/keyvalue/stable/boto/test_queries.py', 'contrib/tempest/cli/output_parser.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_batch_get.py', 'contrib/tempest/services/keyvalue/json/__init__.py', 'contrib/tempest/openstack/common/jsonutils.py', 'contrib/tempest/openstack/common/local.py', 'contrib/tempest/api/keyvalue/stable/boto/__init__.py', 'contrib/tempest/api/keyvalue/stable/rest/test_scan.py', 'contrib/tempest/common/utils/file_utils.py', 'contrib/tempest/cli/keyvalue/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_batch_write.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_describe_table.py', 'contrib/tempest/openstack/common/__init__.py', 'contrib/tempest/api/keyvalue/in_progress/rest/test_list_table.py', 'contrib/tempest/api/keyvalue/in_progress/boto/test_scan.py', 'contrib/tempest/api/keyvalue/stable/rest/test_batch_write.py', 'contrib/tempest/cli/keyvalue/magnetodb_templates/item-get-request.json', 'contrib/tempest/api/keyvalue/in_progress/boto/test_update.py', 'contrib/tempest/api/keyvalue/stable/__init__.py', 'contrib/tempest/cli/keyvalue/test_magnetodb.py']",113,5450880246e9434c1ac1af422797139c05e24e04,fix-gate,,,5,5
openstack%2Fdiskimage-builder~master~I24accb45ab8c7803a25f2642ce1b2d479d5a6e9c,openstack/diskimage-builder,master,I24accb45ab8c7803a25f2642ce1b2d479d5a6e9c,Fix rst rendering,MERGED,2014-12-03 20:28:01.000000000,2014-12-16 13:52:00.000000000,2014-12-16 13:51:59.000000000,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 6449}, {'_account_id': 8532}, {'_account_id': 12092}, {'_account_id': 12459}]","[{'number': 1, 'created': '2014-12-03 20:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/82f1060b32d17ae5da0d1d3eea825817c09e5870', 'message': ""Fix rst rendering\n\nThe file extention claims rst format, but it's plain text\nas such, the online documentation doesn't render properly\n\nChange-Id: I24accb45ab8c7803a25f2642ce1b2d479d5a6e9c\n""}, {'number': 2, 'created': '2014-12-03 20:30:53.000000000', 'files': ['elements/package-installs/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/563d33410562232a22ecf5a89a9a7fc9dae2c3a4', 'message': ""Fix rst rendering\n\nThe file extention claims rst format, but it's plain text\nas such, the online documentation doesn't render properly\n\nChange-Id: I24accb45ab8c7803a25f2642ce1b2d479d5a6e9c\n""}]",0,138848,563d33410562232a22ecf5a89a9a7fc9dae2c3a4,12,6,2,12092,,,0,"Fix rst rendering

The file extention claims rst format, but it's plain text
as such, the online documentation doesn't render properly

Change-Id: I24accb45ab8c7803a25f2642ce1b2d479d5a6e9c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/48/138848/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/package-installs/README.rst'],1,82f1060b32d17ae5da0d1d3eea825817c09e5870,fix-rst,"example package-installs.yaml:: libxml2: grub2: phase: pre-install.d networkmanager: uninstall: True example package-installs.json:: { ""libxml2"": null, ""grub2"": {""phase"": ""pre-install.d""}, ""networkmanager"": {""uninstall"": true} }","example package-installs.yaml: libxml2: grub2: phase: pre-install.d networkmanager: uninstall: True example package-installs.json: { ""libxml2"": null, ""grub2"": {""phase"": ""pre-install.d""}, ""networkmanager"": {""uninstall"": true} }",14,12
openstack%2Fmagnetodb~master~I97f63dd77040ea7078dfccad666a81fdab2aed3d,openstack/magnetodb,master,I97f63dd77040ea7078dfccad666a81fdab2aed3d,(DRAFT)Adds ability to use no auth in tempest tests,ABANDONED,2014-08-25 18:07:06.000000000,2014-12-16 13:00:41.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-08-25 18:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/980e9d8eae369dae808cf1090883b84e80dcc0e8', 'message': 'Adds ability to use no auth in tempest tests\n\nChange-Id: I97f63dd77040ea7078dfccad666a81fdab2aed3d\n'}, {'number': 2, 'created': '2014-08-25 19:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/1fbd5c6b86ac72a67a29b3818ff07fcb5655bfff', 'message': 'Adds ability to use no auth in tempest tests\n\nChange-Id: I97f63dd77040ea7078dfccad666a81fdab2aed3d\n'}, {'number': 3, 'created': '2014-08-26 16:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/d4777c937eaca785628fdb095dcfbbdf5ee01046', 'message': '(Draft)Adds ability to use no auth in tempest tests\n\nChange-Id: I97f63dd77040ea7078dfccad666a81fdab2aed3d\n'}, {'number': 4, 'created': '2014-08-26 16:17:42.000000000', 'files': ['tempest/common/rest_client.py', 'tempest/clients.py', 'tempest/config.py', 'tempest/services/keyvalue/json/magnetodb_streaming_client.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/cf84eb1b719f2663f832826c9a914f4e5873c67d', 'message': '(DRAFT)Adds ability to use no auth in tempest tests\n\nChange-Id: I97f63dd77040ea7078dfccad666a81fdab2aed3d\n'}]",0,116694,cf84eb1b719f2663f832826c9a914f4e5873c67d,7,1,4,8863,,,0,"(DRAFT)Adds ability to use no auth in tempest tests

Change-Id: I97f63dd77040ea7078dfccad666a81fdab2aed3d
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/94/116694/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/rest_client.py', 'tempest/clients.py', 'tempest/config.py', 'tempest/services/keyvalue/json/magnetodb_streaming_client.py']",4,980e9d8eae369dae808cf1090883b84e80dcc0e8,tempest-noauth," auth_version='v2', auth_strategy='keystone'): config, user, password, auth_url, tenant_name, auth_version, auth_strategy)"," auth_version='v2'): config, user, password, auth_url, tenant_name, auth_version)",22,8
openstack%2Fironic-inspector~stable%2F0.2~I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0,openstack/ironic-inspector,stable/0.2,I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0,Update README and stop posting full changelogs,MERGED,2014-12-12 15:18:21.000000000,2014-12-16 12:23:40.000000000,2014-12-16 12:23:40.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-12-12 15:18:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7a7c62511cc33bb1af87cb10aad73a08910d071b', 'message': 'Update README and stop posting full changelogs\n\nGit already does quite a good job of keeping a changelog, only\ncreate high-level release notes from now on.\n\nChange-Id: I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0\n'}]",0,141400,7a7c62511cc33bb1af87cb10aad73a08910d071b,7,3,1,10239,,,0,"Update README and stop posting full changelogs

Git already does quite a good job of keeping a changelog, only
create high-level release notes from now on.

Change-Id: I2ef30a4786d83d5a35788e6f2ad3532ef1aa3da0
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/00/141400/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7a7c62511cc33bb1af87cb10aad73a08910d071b,," diskimage-builder_ `ironic-discoverd-ramdisk element`_. append initrd=discovery.ramdisk discoverd_callback_url=http://{IP}:5050/v1/continue.. _ironic-discoverd-ramdisk element: https://github.com/openstack/diskimage-builder/tree/master/elements/ironic-discoverd-ramdisk.. _kernel: https://repos.fedorapeople.org/repos/openstack-m/tripleo-images-rdo-juno/discovery-ramdisk.kernel .. _ramdisk: https://repos.fedorapeople.org/repos/openstack-m/tripleo-images-rdo-juno/discovery-ramdisk.initramfs.. note:: This CLI interface is not stable and may be changes without prior notice. in configuration. Protocol is JSON over HTTP.Release Notes ------------- 0.2 Series ~~~~~~~~~~ 0.2 is a long-term support series designed to work with OpenStack Juno release. The major changes are: **API** * Authentication via Keystone for ``/v1/discover``. * Expect ``interfaces`` instead of ``macs`` in post-back from the ramdisk **[version 0.2.1]**. * If ``interfaces`` is present, only add ports for NIC's with IP address set **[version 0.2.1]**. * ``/v1/discover`` now does some sync sanity checks **[version 0.2.2]**. **[version 0.2.2]**. * Nodes will be always put into maintenance mode before discovery **[version 0.2.1]**. **Configuration** * On each start-up make several attempts to check that Ironic is available **[version 0.2.2]**. **Misc** * Simple client in ``ironic_discoverd.client``. * Switch to Gerrit **[version 0.2.3]**, setuptools entry points and tox. * Preliminary supported for Python 3.3 (real support depends on Eventlet). 0.1 Series ~~~~~~~~~~ First stable release series. Not supported any more."," diskimage-builder_ `discovery-ironic element`_. append initrd=discovery.ramdisk ironic_callback_url=http://{IP}:5050/v1/continue.. _discovery-ironic element: https://github.com/agroup/instack-undercloud/tree/master/elements/discovery-ironic.. _kernel: http://file.rdu.redhat.com/%7Ejslagle/tripleo-images-juno-source/discovery-ramdisk.kernel .. _ramdisk: http://file.rdu.redhat.com/%7Ejslagle/tripleo-images-juno-source/discovery-ramdisk.initramfsin configuration. Protocol is JSON over HTTP;Change Log ---------- v0.2.5 ~~~~~~ * Be even more paranoid in cleaning the iptables. * Backport ``CONTRIBUTING.rst`` from master. v0.2.4 ~~~~~~ * Urgent fix: add requirements.txt and tox.ini to the manifest. v0.2.3 ~~~~~~ * Moved to StackForge and LaunchPad. v0.2.2 ~~~~~~ * ``/v1/discover`` now does some sync sanity checks. * On each start-up make several attempts to check that Ironic is available. * Now we try a bit harder to recover firewall state on every step. (part of future fix for `bug #1391871`_). * Actually able to start under Python 3.3 (still very experimental). * Updated unit tests and this documentation. .. _bug #1391871: https://bugs.launchpad.net/ironic-discoverd/+bug/1391871 v0.2.1 ~~~~~~ * Expect ``interfaces`` instead of ``macs`` in post-back from the ramdisk. * If ``interfaces`` is present, only add ports for NIC's with IP address set. * Now MAC's are white-listed for all drivers, not only SSH; option ``ssh_driver_regex`` was dropped. * Nodes will be always put into maintenance mode before discovery. v0.2.0 ~~~~~~ * Authentication via Keystone. * Simple client in ``ironic_discoverd.client``. * Switch to setuptools entry points. * Switch to tox.* SSH driver regex is now configurable. * Supported on Python 3.3. * Enhanced documentation. v0.1.1 ~~~~~~ * Added simple man page. * Make interface configurable. v0.1.0 ~~~~~~ * First stable release.",35,58
openstack%2Fironic-inspector~master~I0158000cfb50372d6000d1f675aa1370a6c09d13,openstack/ironic-inspector,master,I0158000cfb50372d6000d1f675aa1370a6c09d13,Simple functional testing for discoverd and the reference ramdisk,MERGED,2014-12-15 12:02:57.000000000,2014-12-16 12:23:34.000000000,2014-12-16 12:23:34.000000000,"[{'_account_id': 3}, {'_account_id': 7419}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-12-15 12:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4c44125c7ed8af749fb933b67d0a0e480548a71f', 'message': ""Simple functional testing for discoverd and the reference ramdisk\n\nNew 'tox -efunc' command fetches the ramdisk from Github and\nexecutes some simple testing with it. Ironic and Keystone API\nare faked. Tools used by ramdisk are faked too.\n\nChange-Id: I0158000cfb50372d6000d1f675aa1370a6c09d13\n""}, {'number': 2, 'created': '2014-12-15 14:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e99d2ed7837bfe872bb6d96773ba65ed62c202ea', 'message': ""Simple functional testing for discoverd and the reference ramdisk\n\nNew 'tox -efunc' command fetches the ramdisk from Github and\nexecutes some simple testing with it. Ironic and Keystone API\nare faked. Tools used by ramdisk are faked too.\n\nChange-Id: I0158000cfb50372d6000d1f675aa1370a6c09d13\n""}, {'number': 3, 'created': '2014-12-16 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d38f79d8daf7b1e4b9eca75b83aae43a5a70ee0f', 'message': ""Simple functional testing for discoverd and the reference ramdisk\n\nNew 'tox -efunc' command fetches the ramdisk from Github and\nexecutes some simple testing with it. Ironic and Keystone API\nare faked. Tools used by ramdisk are faked too.\n\nChange-Id: I0158000cfb50372d6000d1f675aa1370a6c09d13\n""}, {'number': 4, 'created': '2014-12-16 11:14:43.000000000', 'files': ['functest/env/modprobe', 'functest/env/lscpu', 'functest/env/fdisk', 'functest/env/get_kernel_parameter', 'MANIFEST.in', 'functest/env/ip', 'CONTRIBUTING.rst', 'functest/env/dmidecode', 'functest/env/ipmitool', 'functest/env/poweroff', 'ironic_discoverd/test/base.py', 'functest/env/cpuinfo.txt', 'functest/env/sleep', 'functest/env/troubleshoot', 'tox.ini', 'functest/run.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f6b28e8244a128f957f4e2d248b10989e46faaf3', 'message': ""Simple functional testing for discoverd and the reference ramdisk\n\nNew 'tox -efunc' command fetches the ramdisk from Github and\nexecutes some simple testing with it. Ironic and Keystone API\nare faked. Tools used by ramdisk are faked too.\n\nChange-Id: I0158000cfb50372d6000d1f675aa1370a6c09d13\n""}]",0,141777,f6b28e8244a128f957f4e2d248b10989e46faaf3,13,3,4,10239,,,0,"Simple functional testing for discoverd and the reference ramdisk

New 'tox -efunc' command fetches the ramdisk from Github and
executes some simple testing with it. Ironic and Keystone API
are faked. Tools used by ramdisk are faked too.

Change-Id: I0158000cfb50372d6000d1f675aa1370a6c09d13
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/77/141777/4 && git format-patch -1 --stdout FETCH_HEAD,"['functest/env/modprobe', 'functest/env/lscpu', 'functest/env/fdisk', 'functest/env/get_kernel_parameter', 'functest/env/ip', 'functest/env/net/em2', 'functest/env/net/em1', 'CONTRIBUTING.rst', 'functest/env/dmidecode', 'functest/env/ipmitool', 'functest/env/net/lo', 'functest/env/poweroff', 'ironic_discoverd/test/base.py', 'functest/env/cpuinfo.txt', 'functest/env/sleep', 'functest/env/troubleshoot', 'tox.ini', 'functest/run.py']",18,4c44125c7ed8af749fb933b67d0a0e480548a71f,functest,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from __future__ import print_function import eventlet eventlet.monkey_patch(thread=False) import os import shutil import subprocess import sys import tempfile import unittest import mock import requests from ironic_discoverd import client from ironic_discoverd import firewall from ironic_discoverd import main from ironic_discoverd.test import base from ironic_discoverd import utils CONF = """""" [discoverd] os_auth_url = http://url os_username = user os_password = password os_tenant_name = tenant """""" ROOT = './functest/env' RAMDISK = (""https://raw.githubusercontent.com/openstack/diskimage-builder/"" ""master/elements/ironic-discoverd-ramdisk/"" ""init.d/80-discovery-ironic"") class Test(base.NodeTest): def setUp(self): super(Test, self).setUp() self.node.properties.clear() self.cli = utils.get_client() self.cli.node.get.return_value = self.node self.cli.node.update.return_value = self.node self.temp = tempfile.mkdtemp() self.addCleanup(lambda: shutil.rmtree(self.temp)) self.env = os.path.join(self.temp, 'env') shutil.copytree(ROOT, self.env) ramdisk = requests.get(RAMDISK).content ramdisk = ramdisk.replace('/proc/cpuinfo', os.path.join(self.env, 'cpuinfo.txt')) ramdisk = ramdisk.replace('/sys/class/net', os.path.join(self.env, 'net')) self.ramdisk_sh = os.path.join(self.env, 'ramdisk') with open(self.ramdisk_sh, 'wb') as f: f.write(ramdisk) # These properties come from fake tools in functest/env self.patch = [ {'op': 'add', 'path': '/properties/cpus', 'value': '4'}, {'path': '/properties/cpu_arch', 'value': 'x86_64', 'op': 'add'}, {'op': 'add', 'path': '/properties/memory_mb', 'value': '16384'}, {'path': '/properties/local_gb', 'value': '464', 'op': 'add'} ] def call_ramdisk(self): env = os.environ.copy() env['PATH'] = self.env + ':' + env.get('PATH', '') subprocess.check_call(['/bin/bash', '-eux', self.ramdisk_sh], env=env) def test_bmc(self): client.discover([self.uuid], auth_token='token') eventlet.greenthread.sleep(1) self.call_ramdisk() eventlet.greenthread.sleep(1) self.cli.node.update.assert_any_call(self.uuid, self.patch) self.cli.port.create.assert_called_once_with( node_uuid=self.uuid, address='11:22:33:44:55:66') # FIXME(dtantsur): remove once firewall management is optional @mock.patch.object(firewall, '_iptables', lambda *_, **__: None) @mock.patch.object(utils, 'get_keystone') @mock.patch.object(utils, 'get_client') def run(client_mock, keystone_mock): d = tempfile.mkdtemp() try: conf = os.path.join(d, 'test.conf') with open(conf, 'wb') as fp: fp.write(CONF) sys.argv[1:] = [conf] eventlet.greenthread.spawn_n(main.main) eventlet.greenthread.sleep(1) suite = unittest.TestLoader().loadTestsFromTestCase(Test) res = unittest.TextTestRunner().run(suite) sys.exit(0 if res.wasSuccessful() else 1) finally: shutil.rmtree(d) if __name__ == '__main__': run() ",,337,3
openstack%2Fdesignate~master~I06c1af89ba71e05d1a4da4b2ba1f0a41aa686c8c,openstack/designate,master,I06c1af89ba71e05d1a4da4b2ba1f0a41aa686c8c,Adds negative tests to test_records.py,MERGED,2014-12-16 09:09:54.000000000,2014-12-16 12:23:19.000000000,2014-12-16 12:23:19.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8099}]","[{'number': 1, 'created': '2014-12-16 09:09:54.000000000', 'files': ['designate/tests/test_api/test_v1/test_records.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d31e918cda38afa6a5177aedbb07b5bd09281228', 'message': 'Adds negative tests to test_records.py\n\nThis submission adds three negative tests under\n""designate/tests/test_api/test_v1/test_records.py"" script.\n\nFollowing are the negative tests -\n1. test_get_record_missing\n2. test_get_record_with_invalid_id\n3. test_delete_record_invalid_id\n\nChange-Id: I06c1af89ba71e05d1a4da4b2ba1f0a41aa686c8c\n'}]",0,142036,d31e918cda38afa6a5177aedbb07b5bd09281228,7,3,1,1795,,,0,"Adds negative tests to test_records.py

This submission adds three negative tests under
""designate/tests/test_api/test_v1/test_records.py"" script.

Following are the negative tests -
1. test_get_record_missing
2. test_get_record_with_invalid_id
3. test_delete_record_invalid_id

Change-Id: I06c1af89ba71e05d1a4da4b2ba1f0a41aa686c8c
",git fetch https://review.opendev.org/openstack/designate refs/changes/36/142036/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_api/test_v1/test_records.py'],1,d31e918cda38afa6a5177aedbb07b5bd09281228,separate/designate_records_unittests," def test_get_record_missing(self): self.get('domains/%s/records/2fdadfb1-cf96-4259-ac6b-' 'bb7b6d2ff980' % self.domain['id'], status_code=404) def test_get_record_with_invalid_id(self): self.get('domains/%s/records/2fdadfb1-cf96-4259-ac6b-' 'bb7b6d2ff980GH' % self.domain['id'], status_code=404) def test_delete_record_invalid_id(self): self.delete('domains/%s/records/2fdadfb1-cf96-4259-ac6b-' 'bb7b6d2ff980GH' % self.domain['id'], status_code=404)",,15,0
openstack%2Ffuel-web~master~I1b62e48afede147797203c23767b4cbbc95cd731,openstack/fuel-web,master,I1b62e48afede147797203c23767b4cbbc95cd731,Remove explicit calls to Settings.processRestictions(),MERGED,2014-11-14 15:49:02.000000000,2014-12-16 11:47:26.000000000,2014-12-16 11:47:25.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-11-14 15:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0041127725b727380f578c96958c1a80c7e6f3a6', 'message': 'Some more refactoring of Settings model\n\nChange-Id: I1b62e48afede147797203c23767b4cbbc95cd731\n'}, {'number': 2, 'created': '2014-12-03 12:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/511ac418d1ebe47f699fc5aaf56d638fa59ea43f', 'message': 'Some more refactoring of Settings model\n\nChange-Id: I1b62e48afede147797203c23767b4cbbc95cd731\n'}, {'number': 3, 'created': '2014-12-03 13:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5e74f330c56bb7ed258330f7590c795c41a47804', 'message': 'Remove explicit calls to Settings.processRestictions()\n\nChange-Id: I1b62e48afede147797203c23767b4cbbc95cd731\n'}, {'number': 4, 'created': '2014-12-15 17:22:32.000000000', 'files': ['nailgun/static/js/models.js', 'nailgun/static/js/views/statistics_mixin.jsx', 'nailgun/static/js/app.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/592de4632a4648a25d0fd8ef3a72c07f64aead1b', 'message': 'Remove explicit calls to Settings.processRestictions()\n\nChange-Id: I1b62e48afede147797203c23767b4cbbc95cd731\n'}]",1,134576,592de4632a4648a25d0fd8ef3a72c07f64aead1b,28,6,4,8735,,,0,"Remove explicit calls to Settings.processRestictions()

Change-Id: I1b62e48afede147797203c23767b4cbbc95cd731
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/76/134576/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/models.js', 'nailgun/static/js/app.js']",2,0041127725b727380f578c96958c1a80c7e6f3a6,(detached,, cluster.get('settings').processRestrictions();,5,1
openstack%2Ffuel-main~stable%2F6.0~Ib59b5cc1073b4c44c5d142ab20fe9feebf56d3ee,openstack/fuel-main,stable/6.0,Ib59b5cc1073b4c44c5d142ab20fe9feebf56d3ee,Add multiple cluster networks support to tests,MERGED,2014-12-12 10:49:37.000000000,2014-12-16 11:45:40.000000000,2014-12-16 11:45:40.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}]","[{'number': 1, 'created': '2014-12-12 10:49:37.000000000', 'files': ['fuelweb_test/helpers/multiple_networks_hacks.py', 'fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/models/nailgun_client.py', 'fuelweb_test/tests/test_multiple_networks.py', 'fuelweb_test/run_tests.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/22f8cba3b12c457a0c480813e47686273d11c3bc', 'message': 'Add multiple cluster networks support to tests\n\nAdd possibility to deploy environments with two sets of\nL2 networks in the system tests. This patch implements\nsupport of defining cluster nodes groups and editing of\nnetworks settings based on network group name. Also, due\nto lack of automatic cobbler configuring add the method\nwhich allows to rewrite default dnsmasq template.\n\nChange-Id: Ib59b5cc1073b4c44c5d142ab20fe9feebf56d3ee\nImplements: blueprint multiple-l2-networks-test\n(cherry picked from commit 150f56916d797ce5582916712aa8e930e6538a39)\n'}]",0,141322,22f8cba3b12c457a0c480813e47686273d11c3bc,10,6,1,11081,,,0,"Add multiple cluster networks support to tests

Add possibility to deploy environments with two sets of
L2 networks in the system tests. This patch implements
support of defining cluster nodes groups and editing of
networks settings based on network group name. Also, due
to lack of automatic cobbler configuring add the method
which allows to rewrite default dnsmasq template.

Change-Id: Ib59b5cc1073b4c44c5d142ab20fe9feebf56d3ee
Implements: blueprint multiple-l2-networks-test
(cherry picked from commit 150f56916d797ce5582916712aa8e930e6538a39)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/22/141322/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/multiple_networks_hacks.py', 'fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/models/environment.py', 'fuelweb_test/models/nailgun_client.py', 'fuelweb_test/tests/test_multiple_networks.py', 'fuelweb_test/run_tests.py', 'fuelweb_test/settings.py']",7,22f8cba3b12c457a0c480813e47686273d11c3bc,,"MULTIPLE_NETWORKS = os.environ.get('MULTIPLE_NETWORKS', False) == 'true' if MULTIPLE_NETWORKS: NODEGROUPS = ( { 'name': 'default', 'pools': ['admin', 'public', 'management', 'private', 'storage'] }, { 'name': 'group-custom-1', 'pools': ['admin2', 'public2', 'management2', 'private2', 'storage2'] } ) FORWARD_DEFAULT = os.environ.get('FORWARD_DEFAULT', 'route') ADMIN_FORWARD = os.environ.get('ADMIN_FORWARD', 'nat') PUBLIC_FORWARD = os.environ.get('PUBLIC_FORWARD', 'nat') else: NODEGROUPS = {} FORWARD_DEFAULT = os.environ.get('FORWARD_DEFAULT', None) ADMIN_FORWARD = os.environ.get('ADMIN_FORWARD', FORWARD_DEFAULT or 'nat') PUBLIC_FORWARD = os.environ.get('PUBLIC_FORWARD', FORWARD_DEFAULT or 'nat') 'storage': False,if MULTIPLE_NETWORKS: FORWARDING['admin2'] = ADMIN_FORWARD FORWARDING['public2'] = PUBLIC_FORWARD FORWARDING['management2'] = MGMT_FORWARD FORWARDING['private2'] = PRIVATE_FORWARD FORWARDING['storage2'] = STORAGE_FORWARD DHCP['admin2'] = False DHCP['public2'] = False DHCP['management2'] = False DHCP['private2'] = False DHCP['storage2'] = False INTERFACES['admin2'] = 'eth5' POOL_DEFAULT2 = os.environ.get('POOL_DEFAULT2', '10.108.0.0/16:24') POOL_ADMIN2 = os.environ.get('POOL_ADMIN2', POOL_DEFAULT2) POOL_PUBLIC2 = os.environ.get('POOL_PUBLIC2', POOL_DEFAULT2) POOL_MANAGEMENT2 = os.environ.get('POOL_MANAGEMENT', POOL_DEFAULT2) POOL_PRIVATE2 = os.environ.get('POOL_PRIVATE', POOL_DEFAULT2) POOL_STORAGE2 = os.environ.get('POOL_STORAGE', POOL_DEFAULT2) CUSTOM_POOLS = { 'admin2': POOL_ADMIN2, 'public2': POOL_PUBLIC2, 'management2': POOL_MANAGEMENT2, 'private2': POOL_PRIVATE2, 'storage2': POOL_STORAGE2, } POOLS['admin2'] = os.environ.get( 'PUBLIC_POOL2', CUSTOM_POOLS.get('admin2')).split(':') POOLS['public2'] = os.environ.get( 'PUBLIC_POOL2', CUSTOM_POOLS.get('public2')).split(':') POOLS['management2'] = os.environ.get( 'PUBLIC_POOL2', CUSTOM_POOLS.get('management2')).split(':') POOLS['private2'] = os.environ.get( 'PUBLIC_POOL2', CUSTOM_POOLS.get('private2')).split(':') POOLS['storage2'] = os.environ.get( 'PUBLIC_POOL2', CUSTOM_POOLS.get('storage2')).split(':') CUSTOM_INTERFACE_ORDER = os.environ.get( 'CUSTOM_INTERFACE_ORDER', 'admin2,public2,management2,private2,storage2') INTERFACE_ORDER.extend(CUSTOM_INTERFACE_ORDER.split(',')) ","FORWARD_DEFAULT = os.environ.get('FORWARD_DEFAULT', None) ADMIN_FORWARD = os.environ.get('ADMIN_FORWARD', FORWARD_DEFAULT or 'nat') PUBLIC_FORWARD = os.environ.get('PUBLIC_FORWARD', FORWARD_DEFAULT or 'nat') 'storage': False",582,50
openstack%2Fopenstack-ansible~master~I18ffb4d49b88b14a734fd81ae42faf797676b9b0,openstack/openstack-ansible,master,I18ffb4d49b88b14a734fd81ae42faf797676b9b0,Add MOTD notice to the cloudserver-aio.sh build,MERGED,2014-12-16 09:08:13.000000000,2014-12-16 11:44:27.000000000,2014-12-16 11:44:27.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-16 09:08:13.000000000', 'files': ['scripts/cloudserver-aio.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c2395967d0da4acec34b437e7bd4bb48391823f', 'message': 'Add MOTD notice to the cloudserver-aio.sh build\n\nThis patch adds a MOTD notice to the cloudserver-aio.sh build which\nwanrs the user that after a reboot the server will not operate until\nGalera has been re-bootstrapped. It also provides the execution steps to\nhelp the user know how to do that.\n\nChange-Id: I18ffb4d49b88b14a734fd81ae42faf797676b9b0\nCloses-Bug: #1402977\n'}]",0,142035,9c2395967d0da4acec34b437e7bd4bb48391823f,9,5,1,6816,,,0,"Add MOTD notice to the cloudserver-aio.sh build

This patch adds a MOTD notice to the cloudserver-aio.sh build which
wanrs the user that after a reboot the server will not operate until
Galera has been re-bootstrapped. It also provides the execution steps to
help the user know how to do that.

Change-Id: I18ffb4d49b88b14a734fd81ae42faf797676b9b0
Closes-Bug: #1402977
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/142035/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/cloudserver-aio.sh'],1,9c2395967d0da4acec34b437e7bd4bb48391823f,bug/1402977,"# put an motd in place to help the user know how to restart galera after reboot cat > /etc/update-motd.d/20-openstack<< EOF #!/usr/bin/env bash echo """" echo ""############ ansible-os-deployment all-in-one build #############"" echo ""If this server has been rebooted, you will need to re-bootstrap"" echo ""Galera to get the cluster operational. To do this execute:"" echo """" echo ""cd /opt/ansible-lxc-rpc/rpc_deployment"" echo ""ansible-playbook -e @/etc/rpc_deploy/user_variables.yml playbooks/infrastructure/galera-startup.yml"" EOF chmod +x /etc/update-motd.d/00-rpc-notice ",,13,0
openstack%2Ftempest~master~If7c262f4af533638d6bdce71536c89103bf8c279,openstack/tempest,master,If7c262f4af533638d6bdce71536c89103bf8c279,Create port in allowed allocation pools,ABANDONED,2014-12-16 09:53:47.000000000,2014-12-16 11:38:59.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-16 09:53:47.000000000', 'files': ['tempest/api/network/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb2210f0e2e761469b0835ebf2f454c219ab4df2', 'message': 'Create port in allowed allocation pools\n\nAdd test to create port in allowed allocation pools\n   -Create a network\n   -Create a subnet by specifying allocation pools\n   -Create a port\n   -Verify the port ip_address is within the range of allocation pools\n\nChange-Id: If7c262f4af533638d6bdce71536c89103bf8c279\n'}]",0,142047,bb2210f0e2e761469b0835ebf2f454c219ab4df2,4,2,1,13342,,,0,"Create port in allowed allocation pools

Add test to create port in allowed allocation pools
   -Create a network
   -Create a subnet by specifying allocation pools
   -Create a port
   -Verify the port ip_address is within the range of allocation pools

Change-Id: If7c262f4af533638d6bdce71536c89103bf8c279
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/142047/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_ports.py'],1,bb2210f0e2e761469b0835ebf2f454c219ab4df2,port,"import netaddr cls._subnet_data = {6: {'allocation_pools': cls._get_allocation_pools_from_gateway(6)}, 4: {'allocation_pools': cls._get_allocation_pools_from_gateway(4)}} @classmethod def _get_allocation_pools_from_gateway(cls, ip_version): """"""Return allocation range for subnet of given gateway"""""" gateway = cls._get_gateway_from_tempest_conf(ip_version) return [{'start': str(gateway + 2), 'end': str(gateway + 4)}] @classmethod def _get_gateway_from_tempest_conf(cls, ip_version): """"""Return first subnet gateway for configured CIDR """""" if ip_version == 4: cidr = netaddr.IPNetwork(CONF.network.tenant_network_cidr) mask_bits = CONF.network.tenant_network_mask_bits elif ip_version == 6: cidr = netaddr.IPNetwork(CONF.network.tenant_network_v6_cidr) mask_bits = CONF.network.tenant_network_v6_mask_bits if mask_bits >= cidr.prefixlen: return netaddr.IPAddress(cidr) + 1 else: for subnet in cidr.subnet(mask_bits): return netaddr.IPAddress(subnet) + 1 def subnet_dict(self, include_keys): """"""Return a subnet dict which has include_keys and their corresponding value from self._subnet_data """""" return dict((key, self._subnet_data[self._ip_version][key]) for key in include_keys) def test_to_create_port_in_allowed_allocation_pools(self): network = self.create_network() net_id = network['id'] self.create_subnet(network, **self.subnet_dict(['allocation_pools'])) _, body = self.client.create_port(network_id=net_id) port = body['port'] self.addCleanup(self._delete_port, port['id']) ip_address = port['fixed_ips'][0]['ip_address'] allocation_pools = self.subnet_dict(['allocation_pools']) end_ip_address = allocation_pools['allocation_pools'][0]['end'] self.assertLessEqual(ip_address, end_ip_address)",,47,1
openstack%2Fironic-inspector~master~I8e0ad77f05c6071e6243d7782fde800efed33f9f,openstack/ironic-inspector,master,I8e0ad77f05c6071e6243d7782fde800efed33f9f,Add forgotten modules to setup.py (shame on me),MERGED,2014-12-16 10:07:54.000000000,2014-12-16 11:09:44.000000000,2014-12-16 11:09:43.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2014-12-16 10:07:54.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/676922e5d18038f54da619dd3de8336dd250d076', 'message': 'Add forgotten modules to setup.py (shame on me)\n\nChange-Id: I8e0ad77f05c6071e6243d7782fde800efed33f9f\n'}]",0,142052,676922e5d18038f54da619dd3de8336dd250d076,6,2,1,10239,,,0,"Add forgotten modules to setup.py (shame on me)

Change-Id: I8e0ad77f05c6071e6243d7782fde800efed33f9f
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/52/142052/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,676922e5d18038f54da619dd3de8336dd250d076,functest," packages = ['ironic_discoverd', 'ironic_discoverd.plugins', 'ironic_discoverd.test'],"," packages = ['ironic_discoverd'],",2,1
openstack%2Fkeystone-specs~master~Iff229e34ef5d01ec2d261f3f7969f78fac4311e5,openstack/keystone-specs,master,Iff229e34ef5d01ec2d261f3f7969f78fac4311e5,Self Management of Roles and Domain Scoped Roles,ABANDONED,2014-12-03 14:01:32.000000000,2014-12-16 11:05:13.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6534}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 9142}]","[{'number': 1, 'created': '2014-12-03 14:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f9f4004c9e69b8e69ce91073b1904eebbea63983', 'message': 'Self Management of Domain Scoped (DS) Roles\n===========================================\n\nThis specification enables domain administrator to create and manage DS\nroles within a federation, by inviting federated users to join the various DS\nroles, and then it automatically creates the correct mapping rule for each user.\nIn this way, each time a user authenticates to Keystone via his IdP, there\nwill be the correct mapping rule in Keystone to assign the user to the correct\nDS role. The DS roles created by this specification are protected by a secret\nor PIN, which has to be quoted by the federated users when they wish to join\nthis DS role.\n\nChange-Id: Iff229e34ef5d01ec2d261f3f7969f78fac4311e5\nCo-authored-by: Ioram Sette <iss@cin.ufpe.br>\n'}, {'number': 2, 'created': '2014-12-10 18:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a47f425795897bac16b8d4661596c00bb46557a4', 'message': 'Self Management of Domain Scoped Roles\n\nDomain administrators will create and Domain Scoped (DS)\nroles within a federation. A user with proper authorization will be able\nto invite federated users to join the various DS roles.  Each invitation\ntriggers the creation the correct mapping rule for each user.  When the\nfederated user authenticates to Keystone via his IdP, there will then be\nthe correct mapping rule in Keystone to assign the user to the correct\nDS role. The DS roles created by this specification are\nprotected by a secret or PIN, which has to be quoted by the federated\nusers when they wish to join this DS role.\n\nChange-Id: Iff229e34ef5d01ec2d261f3f7969f78fac4311e5\nCo-authored-by: Ioram Sette <iss@cin.ufpe.br>'}, {'number': 3, 'created': '2014-12-16 11:00:49.000000000', 'files': ['specs/kilo/trusted-attributes-policy.rst', 'specs/kilo/vo-role-self-manage.rst', 'specs/kilo/ds-role-self-manage.md'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/484453417f60f04a37c0d494037faf2511424f2b', 'message': 'Self Management of Roles and Domain Scoped Roles\n\nThis specifies an API to allow federated users to self-register to\njoin domain based groups which can then be assigned to roles or domain based\nroles in the normal way.\n\nChange-Id: Iff229e34ef5d01ec2d261f3f7969f78fac4311e5\nCo-authored-by: Ioram Sette <iss@cin.ufpe.br>\n'}]",19,138728,484453417f60f04a37c0d494037faf2511424f2b,16,13,3,6534,,,0,"Self Management of Roles and Domain Scoped Roles

This specifies an API to allow federated users to self-register to
join domain based groups which can then be assigned to roles or domain based
roles in the normal way.

Change-Id: Iff229e34ef5d01ec2d261f3f7969f78fac4311e5
Co-authored-by: Ioram Sette <iss@cin.ufpe.br>
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/28/138728/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ds-role-self-manage.md'],1,f9f4004c9e69b8e69ce91073b1904eebbea63983,,"Self Management of Domain Scoped (DS) Roles =========================================== In a federation, both users and keystone domain administrators may not know the identifiers or identity attributes that IdPs assert for their users. It is therefore difficult, if not impossible, for a domain administrator to add the correct mapping rules to Keystone in order to assign particular DS roles to particular federated users. This specification enables domain administrator to create and manage DS roles within a federation, by inviting federated users to join the various DS roles, and then it automatically creates the correct mapping rule for each user. In this way, each time a user authenticates to Keystone via his IdP, there will be the correct mapping rule in Keystone to assign the user to the correct DS role. The DS roles created by this specification are protected by a secret or PIN, which has to be quoted by the federated users when they wish to join this DS role. DS Roles are assigned OpenStack roles in the normal way, so that all the members of a DS Role have the same capabilities/privileges. ### DS roles: `/OS-FEDERATION/DS_roles` ### DS role membership: `/OS-FEDERATION/DS_roles/member` Admin API on DS roles --------------------- ### Create a DS role: `PUT /OS-FEDERATION/DS_roles` Required Attributes: - `DS_name` (string) The name of the domain. - 'DS_role' (string) The name of the DS role. - `secret` (string) The secret to be presented by users to register for this DS role. Optional attributes: - `description` (string) Describes the domain. If a value is not specified by the client, the service will default this value to`null`. - `enabled` (boolean) Indicates whether this DS role is active or not. If a value is not specified by the client, the service will default this to `true`. - `automatic_join`(boolean) Indicates if the domain administrator must enable user DS role membership after registration. If a value is not specified by the client, the service will default this to `false`. Request: { ""DS_role"": { ""automatic_join"": false, ""description"": ""The Keystone developers"", ""enabled"": true, ""pin"": ""1234"", ""DS_name"": ""keystone"", ""DS_role"": ""developer"" } } Response: Status: 201 Created { ""DS_role"": { ""automatic_join"": false, ""description"": ""The Keystone developers"", ""enabled"": true, ""id"": ""6e78fa"", ""links"": { ""self"": ""http://identity:35357/v3/OS-FEDERATION/DS_roles/6e78fa"" }, ""pin"": ""1234"", ""DS_name"": ""keystone-dev"", ""DS_role"": ""member"" } } ### List DS roles: `GET /OS-FEDERATION/DS_roles` Response: Status: 200 OK { ""DS_roles"": [ { ""automatic_join"": false, ""description"": ""The Keystone developers"", ""enabled"": true, ""id"": ""6e78fa"", ""links"": { ""self"": ""http://identity:35357/v3/OS-FEDERATION/DS_roles/6e78fa"" }, ""pin"": ""1234"", ""DS_name"": ""keystone"", ""DS_role"": ""developer"" }, { ""automatic_join"": false, ""description"": ""The Keystone Implementors"", ""enabled"": true, ""id"": ""b345a2"", ""links"": { ""self"": ""http://identity:35357/v3/OS-FEDERATION/DS_roles/b345a2"" }, ""pin"": ""9999"", ""DS_name"": ""keystone"", ""DS_role"": ""implementor"" } ], ""links"": { ""next"": null, ""previous"": null, ""self"": ""http://identity:35357/v3/OS-FEDERATION/DS_roles"" } } ### Get a DS role: `GET /OS-FEDERATION/v_o_roles/{DS_role_id}` Response: Status: 200 OK { ""DS_role"": { ""automatic_join"": false, ""description"": ""The Keystone Implementors"", ""enabled"": true, ""id"": ""b345a2"", ""links"": { ""self"": ""http://identity:35357/v3/OS-FEDERATION/DS_roles/b345a2"" }, ""pin"": ""9999"", ""DS_is_domain"": false, ""DS_name"": ""keystone"", ""DS_role"": ""implementor"" } } ### Delete DS role: `DELETE /OS-FEDERATION/DS_roles/{DS_role_id}` Response: Status: 204 No Content ### Update DS role: `PATCH /OS-FEDERATION/DS_roles/{DS_role_id}` Any of the following parameters can be updated: automatic_join, description, enabled, pin, DS_role. They take effect immediately. Updating the last parameter will cause a new DS role to be created, the role occupants to be copied across, then the original DS role will be deleted. Request: { ""DS_role"": { ""enabled"": false } } Response: Status: 200 OK { ""DS_role"": { ""automatic_join"": false, ""description"": ""Keystone Developers"", ""enabled"": false, ""id"": ""6e78fa"", ""links"": { ""self"": ""http://identity:35357/v3/OS-FEDERATION/DS_roles/6e78fa"" }, ""pin"": ""1234"", ""DS_name"": ""keystone"", ""DS_role"": ""developer"" } } Admin API on DS role membership ------------------------------- ### Add DS role member: `PUT /OS-FEDERATION/DS_roles/{DS_role-id}/members/{user-id}` This is the operation that creates an attribute mapping for the authenticated user, based on the name of the IdP that performed the authentication, and the unique IdP provider user ID. (It only uses a subset of the attribute mapping capability.) Response: Status: 200 OK { { ""id"": ""34cb2d"", ""user_id"": ""abc@idp"", ""idp"": ""64ef2a"" } } ### Get member with DS_role: `GET /OS-FEDERATION/DS_roles/{DS_role_id}/members/{user_id}` Response: Status: 200 OK { { ""id"": ""34cb2d"", ""user_id"": ""abc@idp"", ""idp"": ""64ef2a"" } } ### List members with a DS role: `GET /OS-FEDERATION/DS_roles/{DS_role_id}/members` A user with an admin role should be able to list the members of any DS role. Other users should only be granted access to member lists of DS roles they are members of. Attempts to list the members of any other DS role should return HTTP status 403 Forbidden. Response: { ""DS_members"": [ { ""id"": ""34cb2d"", ""user_id"": ""abc@idp"", ""idp"": ""64ef2a"" }, { ""id"": ""bf21a9"", ""user_id"": ""xyz@idp"", ""idp"": ""64ef2a"" } ] } ### Remove DS role from user: `DELETE /OS-FEDERATION/DS_roles/{DS_role_id}/member/{user-id}` Response: Status: 204 No Content ### Switch DS roles for a user: `PATCH /OS-FEDERATION/DS_roles/{DS_role_id}/member/{user-id}` The new DS role must already exist as it cannot be created by this operation. Request: { ""new_DS_role_id: ""125adf"" } ### List DS role membership user requests: `GET /OS-FEDERATION/DS_roles/requests` Response: Status: 200 OK { ""DS_requests"": [ { ""id"": ""85efa3"", ""idp"": ""231eeb"", ""DS_name"": ""keystone-dev"", ""DS_role"": ""member"", ""user_id"": ""abc@idp"" }, { ""id"": ""99fab5"", ""idp"": ""231eeb"", ""DS_name"": ""keystone-dev"", ""DS_role"": ""admin"", ""user_id"": ""efg@idp"" } ] } ### Approve DS role membership user request: `HEAD /OS-FEDERATION/DS_roles/requests/{DS_request_id}` Response: Status: 200 OK ### Delete DS role membership request: `DELETE /OS-FEDERATION/DS_roles/requests/{DS_request_id}` Response: Status: 204 No Content Users will become blacklisted if they make too many wrong attempts at joining a DS role (e.g. by quoting the wrong password/PIN). This will mean that all further attempts to join any DS role in this domain will fail and the domain administrator must remove the user from the blacklist for that user to be able to join any DS role again. ### List blacklisted users for DS role: `GET /OS-FEDERATION/DS_roles/{DS_role_id}/blacklist` Response: { ""DS_blacklist"": [ { ""id"": ""34cb2d"", ""user_id"": ""badman@idp"", ""idp"": ""64ef2a"", ""DS_role"": ""66bb3e"" }, { ""id"": ""bf21a9"", ""user_id"": ""foo@idp"", ""idp"": ""64ef2a"", ""DS_role"": ""66bb3e"" } ] } ### List blacklisted users for all DS roles: `GET /OS-FEDERATION/DS_blacklist` Response: { ""DS_blacklist"": [ { ""id"": ""34cb2d"", ""user_id"": ""badman@idp"", ""idp"": ""64ef2a"", ""DS_role"": ""66bb3e"" }, { ""id"": ""5a3c88"", ""user_id"": ""foo@idp"", ""idp"": ""64ef2a"", ""DS_role"": ""7feab4"" } ] } ### Delete blacklist entry: `DELETE /OS-FEDERATION/DS_roles/{DS_role_id}/blacklist/{DS_blacklist_id}` Response: Status: 204 No Content User API --------- Users may join a DS role by providing the name of the domain, DS role and the PIN. The response should contain the name of the domain and a status message which can be: 1. success - the user successfully registered as a DS role member and can begin accessing the appropriate resources immediately. 2. pending - the user has registered for DS role membership but his request must be approved by the domain administrator before he can access any resources. 3. an error message if the join request has failed. ### Join DS Role: `PUT /OS-FEDERATION/DS_roles/members` Request: { ""DS_request"" : { ""pin"": ""1234"", ""DS_name"": ""keystone"", ""DS_role"": ""developer"" } } Response: Status: 201 Created { ""DS_role"": { ""id"": ""85efa3"", ""status"": ""pending"", ""DS_name"": ""keystone"", ""DS_role"": ""developer"" } } Users can check the status of a join request to a specific DS role. The HTTP code indicates the status: 1. 200 indicates that the user belongs to the DS role 2. 202 indicates that the user has made a request which has not yet been approved. 3. 404 indicates that the user has not requested membership, or that the request has been denied. ### Check DS role Membership: `HEAD /OS-FEDERATION/DS_roles/{DS_name}` Response: Status: 200 OK Users can resign from a DS role ### Resign from a DS Role: `DELETE /OS-FEDERATION/DS_roles/members` Request: { ""DS_resign"" : { ""DS_name"": ""keystone"", ""DS_role"": ""developer"" } } Response: Status: 204 No Content ",,440,0
openstack%2Fneutron~feature%2Flbaasv2~Iad3a7be0146e1148b29edee56233aa3196c982dc,openstack/neutron,feature/lbaasv2,Iad3a7be0146e1148b29edee56233aa3196c982dc,Implement Jinja templates for haproxy config,MERGED,2014-09-23 15:38:33.000000000,2014-12-16 10:54:47.000000000,2014-11-25 02:51:14.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6659}, {'_account_id': 6951}, {'_account_id': 8446}, {'_account_id': 8575}, {'_account_id': 8645}, {'_account_id': 9382}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9846}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10192}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10806}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 12412}]","[{'number': 1, 'created': '2014-09-23 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70b11a4073e0f5bfaa644cd881dff4cdc6f0ca04', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 2, 'created': '2014-09-23 15:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f763fdfbc8ad58b2e450a749e1d4d1e4ac8b56b2', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 3, 'created': '2014-09-24 17:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e82321b681831100ddb53c7941c16decbfc22b92', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 4, 'created': '2014-10-03 17:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d62c54321504b20db3b9df9bebb16420feb1df46', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\n'}, {'number': 5, 'created': '2014-10-03 23:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6b5db1a8c25ff0a7cf697352ae50a6a60906dae', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\nCo-authored-by: Doug Wiegley <dougw@a10networks.com>\n'}, {'number': 6, 'created': '2014-10-26 14:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/743bcc4274a21afa2a2e7f7cf724536a6761129d', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\nCo-authored-by: Doug Wiegley <dougw@a10networks.com>\n'}, {'number': 7, 'created': '2014-11-04 10:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/621362a386f115ad5b0aab22d3d4c09412fcf34e', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\nCo-authored-by: Doug Wiegley <dougw@a10networks.com>\n'}, {'number': 8, 'created': '2014-11-06 16:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e766b0177cb6e0b2aa45610d780c34e58ed1c9fe', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\nCo-authored-by: Doug Wiegley <dougw@a10networks.com>\n'}, {'number': 9, 'created': '2014-11-06 16:55:51.000000000', 'files': ['neutron/tests/unit/services/loadbalancer/drivers/haproxy/sample_configs/sample_configs.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4.template', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4_proxies.template', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_base.template', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_jinja_cfg.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/__init__.py', 'etc/services.conf', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/sample_configs/__init__.py', 'neutron/services/loadbalancer/drivers/haproxy/jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7147389bad4fb76d7794f7b406608e0631cec4d8', 'message': 'Implement Jinja templates for haproxy config\n\nAdded templates dir\nAdded haproxy v1.4 template\nAdded template tests\nAdded jinja_cfg for new haproxy jinja templating\n\nPartially-implements: blueprint lbaas-api-and-objmodel-improvement\nPartially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface\n\nChange-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc\nCo-authored-by: Brandon Logan <brandon.logan@rackspace.com>\nCo-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>\nCo-authored-by: Dustin Lundquist <dustin@null-ptr.net>\nCo-authored-by: Doug Wiegley <dougw@a10networks.com>\n'}]",13,123485,7147389bad4fb76d7794f7b406608e0631cec4d8,123,27,9,10980,,,0,"Implement Jinja templates for haproxy config

Added templates dir
Added haproxy v1.4 template
Added template tests
Added jinja_cfg for new haproxy jinja templating

Partially-implements: blueprint lbaas-api-and-objmodel-improvement
Partially-implements: blueprint lbaas-refactor-haproxy-namespace-driver-to-new-driver-interface

Change-Id: Iad3a7be0146e1148b29edee56233aa3196c982dc
Co-authored-by: Brandon Logan <brandon.logan@rackspace.com>
Co-authored-by: Phillip Toohill <phillip.toohill@rackspace.com>
Co-authored-by: Dustin Lundquist <dustin@null-ptr.net>
Co-authored-by: Doug Wiegley <dougw@a10networks.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/123485/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/loadbalancer/drivers/haproxy/sample_configs/sample_configs.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4.template', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_v1.4_proxies.template', 'neutron/services/loadbalancer/drivers/haproxy/templates/haproxy_base.template', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/test_jinja_cfg.py', 'neutron/services/loadbalancer/drivers/haproxy/templates/__init__.py', 'etc/services.conf', 'neutron/tests/unit/services/loadbalancer/drivers/haproxy/sample_configs/__init__.py', 'neutron/services/loadbalancer/drivers/haproxy/jinja_cfg.py']",9,70b11a4073e0f5bfaa644cd881dff4cdc6f0ca04,bp/lbaas-api-and-objmodel-improvement,"# Copyright 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import jinja2 import six from neutron.agent.linux import utils from neutron.plugins.common import constants as plugin_constants from neutron.services.loadbalancer import constants from oslo.config import cfg PROTOCOL_MAP = { constants.PROTOCOL_TCP: 'tcp', constants.PROTOCOL_HTTP: 'http', constants.PROTOCOL_HTTPS: 'tcp' } BALANCE_MAP = { constants.LB_METHOD_ROUND_ROBIN: 'roundrobin', constants.LB_METHOD_LEAST_CONNECTIONS: 'leastconn', constants.LB_METHOD_SOURCE_IP: 'source' } STATS_MAP = { constants.STATS_ACTIVE_CONNECTIONS: 'scur', constants.STATS_MAX_CONNECTIONS: 'smax', constants.STATS_CURRENT_SESSIONS: 'scur', constants.STATS_MAX_SESSIONS: 'smax', constants.STATS_TOTAL_CONNECTIONS: 'stot', constants.STATS_TOTAL_SESSIONS: 'stot', constants.STATS_IN_BYTES: 'bin', constants.STATS_OUT_BYTES: 'bout', constants.STATS_CONNECTION_ERRORS: 'econ', constants.STATS_RESPONSE_ERRORS: 'eresp' } ACTIVE_PENDING_STATUSES = plugin_constants.ACTIVE_PENDING_STATUSES + ( plugin_constants.INACTIVE, plugin_constants.DEFERRED) TEMPLATES_DIR = os.path.abspath( os.path.join(os.path.dirname(__file__), 'templates/')) JINJA_ENV = None jinja_opts = [ cfg.StrOpt( 'jinja_config_template', default=os.path.join( TEMPLATES_DIR, 'haproxy_v1.4.template'), help=_('Jinja template file for haproxy configuration')) ] cfg.CONF.register_opts(jinja_opts, 'haproxy') def save_config(conf_path, loadbalancer, socket_path=None, user_group='nogroup'): """"""Convert a logical configuration to the HAProxy version."""""" config_str = render_loadbalancer_obj(loadbalancer, user_group, socket_path) utils.replace_file(conf_path, config_str) def _get_template(): global JINJA_ENV if not JINJA_ENV: template_loader = jinja2.FileSystemLoader( searchpath=os.path.dirname(cfg.CONF.haproxy.jinja_config_template)) JINJA_ENV = jinja2.Environment( loader=template_loader, trim_blocks=True, lstrip_blocks=True) return JINJA_ENV.get_template(os.path.basename( cfg.CONF.haproxy.jinja_config_template)) def render_loadbalancer_obj(loadbalancer, user_group, socket_path): loadbalancer = _transform_loadbalancer(loadbalancer) return _get_template().render({'loadbalancer': loadbalancer, 'user_group': user_group, 'stats_sock': socket_path}, constants=constants) def _transform_loadbalancer(loadbalancer): listeners = [_transform_listener(x) for x in loadbalancer.listeners] return { 'name': loadbalancer.name, 'vip_address': loadbalancer.vip_address, 'listeners': listeners } def _transform_listener(listener): ret_value = { 'id': listener.id, 'protocol_port': listener.protocol_port, 'protocol': PROTOCOL_MAP[listener.protocol] } if listener.connection_limit and listener.connection_limit > -1: ret_value['connection_limit'] = listener.connection_limit if listener.default_pool: ret_value['default_pool'] = _transform_pool(listener.default_pool) return ret_value def _transform_pool(pool): ret_value = { 'id': pool.id, 'protocol': PROTOCOL_MAP[pool.protocol], 'lb_algorithm': BALANCE_MAP.get(pool.lb_algorithm, 'roundrobin'), 'members': [], 'health_monitor': '', 'session_persistence': '', 'admin_state_up': pool.admin_state_up, 'status': pool.status } members = [_transform_member(x) for x in pool.members if _include_member(x)] ret_value['members'] = members if pool.healthmonitor: ret_value['health_monitor'] = _transform_health_monitor( pool.healthmonitor) if pool.sessionpersistence: ret_value['session_persistence'] = _transform_session_persistence( pool.sessionpersistence) return ret_value def _transform_session_persistence(persistence): return { 'type': persistence.type, 'cookie_name': persistence.cookie_name } def _transform_member(member): return { 'id': member.id, 'address': member.address, 'protocol_port': member.protocol_port, 'weight': member.weight, 'admin_state_up': member.admin_state_up, 'subnet_id': member.subnet_id, 'status': member.status } def _transform_health_monitor(monitor): return { 'id': monitor.id, 'type': monitor.type, 'delay': monitor.delay, 'timeout': monitor.timeout, 'max_retries': monitor.max_retries, 'http_method': monitor.http_method, 'url_path': monitor.url_path, 'expected_codes': '|'.join( _expand_expected_codes(monitor.expected_codes)), 'admin_state_up': monitor.admin_state_up, } def _include_member(member): return member.status in ACTIVE_PENDING_STATUSES and member.admin_state_up def _expand_expected_codes(codes): """"""Expand the expected code string in set of codes. 200-204 -> 200, 201, 202, 204 200, 203 -> 200, 203 """""" retval = set() for code in codes.replace(',', ' ').split(' '): code = code.strip() if not code: continue elif '-' in code: low, hi = code.split('-')[:2] retval.update( str(i) for i in six.moves.xrange(int(low), int(hi) + 1)) else: retval.add(code) return retval",,778,0
openstack%2Fneutron-specs~master~Ib8804e735832495000c529556f9531bf8e03c9c3,openstack/neutron-specs,master,Ib8804e735832495000c529556f9531bf8e03c9c3,Split services out of Neutron repo,MERGED,2014-11-24 17:26:55.000000000,2014-12-16 10:34:44.000000000,2014-12-08 16:27:21.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 490}, {'_account_id': 748}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 2888}, {'_account_id': 6437}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 6995}, {'_account_id': 7448}, {'_account_id': 7987}, {'_account_id': 8279}, {'_account_id': 8976}, {'_account_id': 9375}, {'_account_id': 9656}, {'_account_id': 10310}, {'_account_id': 10850}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 11685}, {'_account_id': 11822}, {'_account_id': 12412}, {'_account_id': 13438}]","[{'number': 1, 'created': '2014-11-24 17:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/161036e9a28d7a65f602fbab465634c1ed5b3ed0', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}, {'number': 2, 'created': '2014-11-25 21:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a1db3069e1d57d0afb66684578681b11bbab7f6a', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}, {'number': 3, 'created': '2014-11-25 23:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bfe0c284e5abf787e49a4ebb52ac73f02ebec940', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}, {'number': 4, 'created': '2014-11-29 21:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/18dba6d1053dd4514470ef244cdafd4369f56fc7', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}, {'number': 5, 'created': '2014-12-02 19:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c9d4343fa474040e50d4ed8a801cc7e693d86085', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}, {'number': 6, 'created': '2014-12-03 17:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b4042c7eb155f94e0cec2a39d7e00c9780e9c5b3', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}, {'number': 7, 'created': '2014-12-04 19:50:01.000000000', 'files': ['specs/kilo/services-split.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b5562eb99194b3c2e4815870274ad85c8e43a5e4', 'message': 'Split services out of Neutron repo\n\nChange-Id: Ib8804e735832495000c529556f9531bf8e03c9c3\n'}]",306,136835,b5562eb99194b3c2e4815870274ad85c8e43a5e4,93,30,7,10980,,,0,"Split services out of Neutron repo

Change-Id: Ib8804e735832495000c529556f9531bf8e03c9c3
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/35/136835/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/services-split.rst'],1,161036e9a28d7a65f602fbab465634c1ed5b3ed0,bp/services-split,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Proposal for Neutron Services repo split ======================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/services-split This spec outlines the technical changes required for the repo split. The following intro is shamelessly stolen from an email thread started by Mark McClain: Over the last several months, the members of the Networking Program have been discussing ways to improve the management of our program. When the Quantum project was initially launched, we envisioned a combined service that included all things network related. This vision served us well in the early days as the team mostly focused on building out layers 2 and 3; however, weve run into growth challenges as the project started building out layers 4 through 7. Initially, we thought that development would float across all layers of the networking stack, but the reality is that the development concentrates around either layer 2 and 3 or layers 4 through 7. In the last few cycles, weve also discovered that these concentrations have different velocities and a single core team forces one to match the other to the detriment of the one forced to slow down. Going forward we want to divide the Neutron repository into multiple separate repositories lead by a common Networking PTL. The current mission of the program will remain unchanged. Problem Description =================== This proposal deals with the technical aspects of splitting the neutron repo into two repos, one for basic L2/L3 plumbing, one for advanced services. The repos will be referred to as ""neutron"" and ""services"" within this spec, until a project name for the ""services"" repo is selected. * Currently the neutron code is in a single repo, with a single set of cores. * After the split, all ""services"" code and db models will be in a new services repo, preserving history. * After the split, no services code to be in the neutron repo, with non-relavant history pruned. * During the split, an infra/project-config change for the new repo, shared spec repo, and new core team will be created. * Existing services code must be supported until deprecation. * Existing services fixes must be backported into neutron/stable. * The split needs to be aware of the imminent REST refactor. Proposed Change =============== * The repo will be split via infra scripts which will preserve history for all changes. * The existing services code (e.g. lbaas v1), will move into the services repo and be maintained by that repo's team going forward. * Initially, the services repo will not have its own REST service, and will utilize neutron extensions to share the neutron API namespace. Initially, service plugins will be moved (Kilo-1); after the neutron REST refactor, service extensions will be moved (Kilo-3), and the issue of a separate service endpoint will be revisited in the L timeframe or later. This is to maintain API consistency during the split process while the new repositories are being worked out. * The services repo will include neutron as a dependency in the requirements.txt file, and the services code may import neutron as a library. * The neutron repo will have some manner of dependency specified for packaging, so that installs of neutron will pull in the services repo in the short-term. A hacking check will be added to ensure that neutron code does not import services code as a library. * Extensions will stay inside the neutron repo, at least until after the REST refactor. * Code merged onto the existing 'feature/lbaasv2' neutron feature branch will be merged into the service repo as part of the split. * All outstanding gerrit reviews for services, currently submitted against Neutron, will have to be abandoned and resubmitted against the services repo. * Tox will pass cleanly in both projects immediately post-split. * The services repo will not support python 2.6. * Backported fixes will be merged into neutron/stable branches by the ""services"" team, approved by the stable team. * The services repo will use its own database (see Data Model Impact) * The services repo will have its own config file. * Initially, there will not be a separate CLI/client. That will be added when the services project has its own REST service endpoint. Data Model Impact ----------------- Services data models will be moved to the service repo, and removed from neutron. The services repo will have its own database migration chain. An initial db migration state will be created by starting from the neutron db state as of the split and stripping non-service related tables. A db migration will be added to neutron to strip service tables. An upgrade script will be provided to migrate db data from neutron to services. REST API Impact --------------- The REST API will be identical before and after the split. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ None. Other Deployer Impact --------------------- The new services project will have its own database and config file. In addition, by the end of Kilo, neutron will need to load the services API extension. For Kilo, neutron will assume that the services repo exists, and include the path to its API extensions in the conf file by default. A db/conf upgrade command-line script will be provided, which will copy relevant database tables and configuration elements to the new db and INI file. In Kilo, a fresh install will end up doing the following steps: * Install neutron. Services package will be pulled in as a dependency, its installer will run before neutron, initializing db, writing default config, then neutron will install as normal. * Deployer will edit neutron.conf for db and other info. * Deployer will edit services-tron.conf for db and other info. * Deployer will need to restart neutron-server. In Kilo, an upgrade from Juno or Icehouse will do the following steps: * Install neutron. Services package will be pulled in as a dependency, its installer will run before neutron, initializing db, writing default config, then neutron will install as normal. * Deployer will edit neutron.conf for db and other info. * Deployer will edit services-tron.conf for db and other info. * Deployer will run services-db-migration script. * Deployer will need to restart neutron-server. In the upgrade scenario, the REST controller will bounce, but active services (load balancers, etc) will remain active. Open issue: between the install and the server restart, neutron-server will return errors for service API operations. How to alleviate that, or is that an orchestration issue? Developer Impact ---------------- Anyone importing neutron.services will have to import the new project modules instead. Community Impact ---------------- This split was discussed at the Neutron summit, the openstack-dev mailing list, and multiple IRC meetings. Alternatives ------------ * Do nothing and keep it all in one repo. * Services to stackforge. * Services split with its own REST server endpoint. * Services shares neutron db and config. * Modify gerrit to allow different core teams in one repo. Implementation ============== Assignee(s) ----------- Primary assignee: https://launchpad.net/~dougwig Other contributors: https://launchpad.net/~mestery Work Items ---------- * Identify files for each repo. * Adapt olso graduation script for git split. * Merge in feature branch. * Adjust imports in new repo. * Add requirements to each project. * Add hacking rule to neutron. * Verify or add neutron's ability to load out-of-tree service plugins. * Create initial services db migration files. * Neutron db migration to strip services data (to be applied later!) * Fix references to neutron in various files (e.g. README) * Finalize project name * Infra patch to create new repo/group * Get unit tests passing cleanly. * Upgrade script to migrate db and config data. Dependencies ============ * Infra creating separate repos. * REST refactor not colliding at the same time. This needs to happen before or after. Testing ======= * Unit tests will split between repos, matching the code split. * Tempest tests will initiall remain unchanged, as the service endpoint will be identical before and after the split. Setup steps that touch db and/or config files may need to be updated to reflect new locations. Tempest Tests ------------- Unchanged. Functional Tests ---------------- Unchanged. API Tests --------- Unchanged. Documentation Impact ==================== Advanced services documentation should be separated from the Neutron documentation. User Documentation ------------------ Documentation referencing neutron.conf and the neutron db will need to be modified to reflect the new config file and database. Developer Documentation ----------------------- Documentation referencing neutron.conf and the neutron db will need to be modified to reflect the new config file and database. References ========== * https://etherpad.openstack.org/p/neutron-services * http://lists.openstack.org/pipermail/openstack-dev/2014-November/050961.html ",,328,0
openstack%2Fironic~master~I6299aae2b9e7511c61456a7619b9d4e521e48897,openstack/ironic,master,I6299aae2b9e7511c61456a7619b9d4e521e48897,Add new enrollment and troubleshooting doc sections,MERGED,2014-11-21 01:11:14.000000000,2014-12-16 10:27:28.000000000,2014-12-16 10:27:27.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 12081}]","[{'number': 1, 'created': '2014-11-21 01:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05952802ff6fb9463b93b511d042d26d93437a12', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 2, 'created': '2014-11-24 23:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/acaac9a3443966ea6612a2b4bccb283569aa53a0', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 3, 'created': '2014-11-25 00:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ced07dd0191f5c4aaf86f9715312213b37e64bb', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 4, 'created': '2014-12-15 19:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a9ea372ba68b60b2761f3de79b758f19602524a', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 5, 'created': '2014-12-15 19:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e4ab58b48987d6fbce18a1e13a6fbd34d70edd0', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 6, 'created': '2014-12-15 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75c7bc2d4b4e6e92aed011cab263897455d25feb', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 7, 'created': '2014-12-15 22:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b8e825af13d88ea51a2d4b1b8f1c242e656eb56', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}, {'number': 8, 'created': '2014-12-15 22:47:02.000000000', 'files': ['doc/source/deploy/install-guide.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f28af8597b80df27444cbc3c8e01f2a6a154d85f', 'message': 'Add new enrollment and troubleshooting doc sections\n\nAdd a new Enrollment section to the install guide, explaining\nthe process of adding Nodes to Ironic.\n\nAdd a minimal Troubleshooting section as well, with some basic info\nthat can be expanded upon later.\n\nChange-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897\n'}]",39,136202,f28af8597b80df27444cbc3c8e01f2a6a154d85f,51,8,8,2889,,,0,"Add new enrollment and troubleshooting doc sections

Add a new Enrollment section to the install guide, explaining
the process of adding Nodes to Ironic.

Add a minimal Troubleshooting section as well, with some basic info
that can be expanded upon later.

Change-Id: I6299aae2b9e7511c61456a7619b9d4e521e48897
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/136202/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deploy/install-guide.rst'],1,05952802ff6fb9463b93b511d042d26d93437a12,patch_136202,"Neutron needs to be configured so that the bare metal server can communicate with the OpenStack Networking service for DHCP, PXE Boot and other requirements. This section describes how to configure Neutron for a single flat network use case for bare metal provisioning. You will also need to provide Ironic with the MAC address(es) of each Node that it is provisioning; Ironic in turn will pass this information to Neutron for DHCP and PXE Boot configuration. An example of this is shown in the `Enrollment`_ section.Enrollment ========== After all services have been properly configured, you should enroll your hardware with Ironic, and confirm that the Compute service sees the available hardware. Some steps are shown separately for illustration purposes, and may be combined if desired. #. Create a Node in Ironic. At minimum, you must specify the driver name (eg, pxe_ipmitool). This will return the node UUID:: ironic node-create -d $DRIVER +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | uuid | dfc6189f-ad83-4261-9bda-b27258eb1987 | | driver_info | {} | | extra | {} | | driver | pxe_ipmitool | | chassis_uuid | | | properties | {} | +--------------+--------------------------------------+ #. Update the Node's driver_info so that Ironic can manage the node. Note that you may also specify all driver_info parameters during node-create by passing the ""-i"" option multiple times:: ironic node-update $NODE_UUID add \ driver_info/ipmi_username=$USER \ driver_info/ipmi_password=$PASS \ driver_info/ipmi_address=$ADDRESS #. Update the Node's properties to match the baremetal flavor you created earlier. As above, these can also be passed to node-create with the ""-p"" option:: ironic node-update $NODE_UUID add \ properties/cpus=$CPU \ properties/memory_mb=$RAM_MB \ properties/local_gb=$DISK_GB \ properties/cpu_arch=$ARCH #. If you wish to perform more advanced scheduling of instances based on hardware capabilities, you may add metadata to each Node that will be exposed to the Nova Scheduler. A full explanation of this is outside of the scope of this document. It can be done through the special ""capabilities"" property:: ironic node-update $NODE_UUID add \ properties/capabilities=key1:val1,key2:val2 #. As mentioned in the `Flavors` section, if using the Juno or later release of Ironic, you should specify a deploy kernel and ramdisk which correspond to the Node's driver, eg:: ironic node-update $NODE_UUID add \ driver_info/pxe_deploy_kernel=$DEPLOY_VMLINUZ_UUID \ driver_info/pxe_deploy_ramdisk=$DEPLOY_INITRD_UUID \ #. You must also inform Ironic of the Network Interface Cards which are part of the Node by creating a Port with each NIC's MAC address. These MAC addresses are passed to Neutron during instance provisioning and used to configure the network appropriately.:: ironic port-create -n $NODE_UUID -a $MAC_ADDRESS Troubleshooting =============== Once all the services are running and configured properly, and a Node is enrolled with Ironic, the Nova Compute service should detect the Node as an available resource and expose it to the scheduler. ''NOTE'' that there is a delay, and it may take up to a minute (one periodic task cycle) for Nova to recognize any changes in Ironic's resources (both additions and deletions). In addition to watching nova-compute log files, you can see the available resources by looking at the list of Nova ""hypervisors"". The resources reported therein should match the Ironic Node properties*and the Nova Flavor. Here is an example set of commands to compare the resources in Nova and Ironic.:: $ ironic node-list +--------------------------------------+---------------+-------------+--------------------+-------------+ | UUID | Instance UUID | Power State | Provisioning State | Maintenance | +--------------------------------------+---------------+-------------+--------------------+-------------+ | 86a2b1bb-8b29-4964-a817-f90031debddb | None | power off | None | False | +--------------------------------------+---------------+-------------+--------------------+-------------+ $ ironic node-show 86a2b1bb-8b29-4964-a817-f90031debddb +------------------------+----------------------------------------------------------------------+ | Property | Value | +------------------------+----------------------------------------------------------------------+ | instance_uuid | None | | properties | {u'memory_mb': u'1024', u'cpu_arch': u'x86_64', u'local_gb': u'10', | | | u'cpus': u'1'} | | maintenance | False | | driver_info | { [SNIP] } | | extra | {} | | last_error | None | | created_at | 2014-11-20T23:57:03+00:00 | | target_provision_state | None | | driver | pxe_ipmitool | | updated_at | 2014-11-21T00:47:34+00:00 | | instance_info | {} | | chassis_uuid | 7b49bbc5-2eb7-4269-b6ea-3f1a51448a59 | | provision_state | None | | reservation | None | | power_state | power off | | console_enabled | False | | uuid | 86a2b1bb-8b29-4964-a817-f90031debddb | +------------------------+----------------------------------------------------------------------+ $ nova hypervisor-show 1 +-------------------------+--------------------------------------+ | Property | Value | +-------------------------+--------------------------------------+ | cpu_info | baremetal cpu | | current_workload | 0 | | disk_available_least | - | | free_disk_gb | 10 | | free_ram_mb | 1024 | | host_ip | [ SNIP ] | | hypervisor_hostname | 86a2b1bb-8b29-4964-a817-f90031debddb | | hypervisor_type | ironic | | hypervisor_version | 1 | | id | 1 | | local_gb | 10 | | local_gb_used | 0 | | memory_mb | 1024 | | memory_mb_used | 0 | | running_vms | 0 | | service_disabled_reason | - | | service_host | my-test-host | | service_id | 6 | | state | up | | status | enabled | | vcpus | 1 | | vcpus_used | 0 | +-------------------------+--------------------------------------+ ","Neutron needs to be configured so that the bare metal server can communicate with the OpenStack services for DHCP, PXE Boot and other requirements. This section describes how to configure Neutron for a single flat network use case for bare metal provisioning.",152,4
openstack%2Fneutron~master~I201b4a310eb26a86765c8541fba6e2d42431cf2a,openstack/neutron,master,I201b4a310eb26a86765c8541fba6e2d42431cf2a,Enable test_migration,MERGED,2014-12-11 10:02:57.000000000,2014-12-16 10:27:18.000000000,2014-12-16 10:27:17.000000000,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6951}, {'_account_id': 7249}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 13051}, {'_account_id': 14103}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-11 10:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da2ed4c8be152d07d817008687e09e8d24396ce4', 'message': ""Enable test_migration\n\nAfter splitting in neutron database was left a number of tables\nthat don't have any models. Test should be improved to skip these\ntables from checking.\n\nCloses-bug: #1401424\n\nChange-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a\n""}, {'number': 2, 'created': '2014-12-11 11:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62948dc74b77378551d41049e149f27524be3f5d', 'message': ""Enable test_migration\n\nAfter splitting in neutron database was left a number of tables\nthat don't have any models. Test should be improved to skip these\ntables from checking.\n\nCloses-bug: #1401424\n\nChange-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a\n""}, {'number': 3, 'created': '2014-12-12 12:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2e1272c2cd689b68b8f8f91eda93b34f9fd1058', 'message': ""Enable test_migration\n\nAfter splitting in neutron database was left a number of tables\nthat don't have any models. Test should be improved to skip these\ntables from checking.\n\nCloses-bug: #1401424\n\nChange-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a\n""}, {'number': 4, 'created': '2014-12-12 15:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9701be791a579758bcb37293534cfba1a2c5d266', 'message': ""Enable test_migration\n\nAfter splitting in neutron database was left a number of tables\nthat don't have any models. Test should be improved to skip these\ntables from checking.\n\nCloses-bug: #1401424\n\nChange-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a\n""}, {'number': 5, 'created': '2014-12-15 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/534ca7e6a882e21f83e2add86417d055e4c1e77b', 'message': ""Enable test_migration\n\nAfter splitting in neutron database was left a number of tables\nthat don't have any models. Test should be improved to skip these\ntables from checking.\n\nCloses-bug: #1401424\n\nPartially-Implements: blueprint services-split\n\nChange-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a\n""}, {'number': 6, 'created': '2014-12-15 12:19:26.000000000', 'files': ['neutron/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/655622e7e90d16225b4700d7e475f64c8c1a138c', 'message': ""Enable test_migration\n\nAfter splitting in neutron database was left a number of tables\nthat don't have any models. Test should be improved to skip these\ntables from checking.\n\nCloses-bug: #1401424\n\nPartially-Implements: blueprint services-split\n\nChange-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a\n""}]",11,140997,655622e7e90d16225b4700d7e475f64c8c1a138c,134,25,6,7249,,,0,"Enable test_migration

After splitting in neutron database was left a number of tables
that don't have any models. Test should be improved to skip these
tables from checking.

Closes-bug: #1401424

Partially-Implements: blueprint services-split

Change-Id: I201b4a310eb26a86765c8541fba6e2d42431cf2a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/140997/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/db/test_migration.py'],1,da2ed4c8be152d07d817008687e09e8d24396ce4,bug/1401424,"# Tables for service plugin are left in neutron database, but its models move # to separate repositories. These tables skipped from checking in this test. SKIPPED_VPNAAS_TABLES = ['vpnservices', 'ipsecpolicies', 'ipsecpeercidrs', 'ipsec_site_connections', 'cisco_csr_identifier_map', 'ikepolicies'] SKIPPED_LBAAS_TABLES = ['vips', 'sessionpersistences', 'pools', 'healthmonitors', 'poolstatisticss', 'members', 'poolloadbalanceragentbindings', 'embrane_pool_port', 'poolmonitorassociations'] SKIPPED_FWAAS_TABLES = ['firewall_rules', 'firewalls', 'firewall_policies'] self.cfg.config(core_plugin=CORE_PLUGIN) if type_ == 'table' and (name == 'alembic_version' or name in SKIPPED_FWAAS_TABLES + SKIPPED_LBAAS_TABLES + SKIPPED_VPNAAS_TABLES):","cfg.CONF.import_opt('service_plugins', 'neutron.common.config') def _discover_plugins(plugin_type): return [ '%s.%s' % (entrypoint.module_name, entrypoint.attrs[0]) for entrypoint in pkg.iter_entry_points(plugin_type) ] SERVICE_PLUGINS = _discover_plugins(""neutron.service_plugins"") self.cfg.config(service_plugins=SERVICE_PLUGINS, core_plugin=CORE_PLUGIN) if type_ == 'table' and name == 'alembic_version': # TODO(dougw) - re-enable, with exclusion list self.skipTest(""Temporarily disabled during services split"") ",20,16
openstack%2Fpuppet-neutron~master~I7bdbad512bd7921bbcf0367d1bc2700d35585cc0,openstack/puppet-neutron,master,I7bdbad512bd7921bbcf0367d1bc2700d35585cc0,l3 agent network_device_mtu deprecation fix,MERGED,2014-12-15 22:41:02.000000000,2014-12-16 10:17:44.000000000,2014-12-16 10:17:44.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}]","[{'number': 1, 'created': '2014-12-15 22:41:02.000000000', 'files': ['manifests/agents/l3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/30bcad2ff70827e1c24c80f715413ad1a170ea41', 'message': ""l3 agent network_device_mtu deprecation fix\n\nIf the neutron l3 agent network_device_mtu if it isn't set there\nis no need to log this warning message.\n\nChange-Id: I7bdbad512bd7921bbcf0367d1bc2700d35585cc0\n""}]",0,141926,30bcad2ff70827e1c24c80f715413ad1a170ea41,7,3,1,360,,,0,"l3 agent network_device_mtu deprecation fix

If the neutron l3 agent network_device_mtu if it isn't set there
is no need to log this warning message.

Change-Id: I7bdbad512bd7921bbcf0367d1bc2700d35585cc0
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/26/141926/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/l3.pp'],1,30bcad2ff70827e1c24c80f715413ad1a170ea41,newtork_fixes,," warning('The neutron::l3_agent::network_device_mtu parameter is deprecated, use neutron::network_device_mtu instead.')",0,1
openstack%2Fpuppet-neutron~master~Ica506a404c2076bb188d6085d8ce675e299a20a4,openstack/puppet-neutron,master,Ica506a404c2076bb188d6085d8ce675e299a20a4,Fix 'network' (newtork) mispellings,MERGED,2014-12-15 20:52:42.000000000,2014-12-16 10:17:33.000000000,2014-12-16 10:17:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}]","[{'number': 1, 'created': '2014-12-15 20:52:42.000000000', 'files': ['spec/classes/neutron_init_spec.rb', 'manifests/agents/l3.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/71a9a0b927ba64301bb92b17b87a88ea1994fa7b', 'message': ""Fix 'network' (newtork) mispellings\n\nThe neutron::l3_agent::newtork_device_mtu deprecation message\nis mispelled.\n\nAlso fixes the 'newtork' spelling in a couple other places as well.\n\nChange-Id: Ica506a404c2076bb188d6085d8ce675e299a20a4\n""}]",0,141901,71a9a0b927ba64301bb92b17b87a88ea1994fa7b,7,3,1,360,,,0,"Fix 'network' (newtork) mispellings

The neutron::l3_agent::newtork_device_mtu deprecation message
is mispelled.

Also fixes the 'newtork' spelling in a couple other places as well.

Change-Id: Ica506a404c2076bb188d6085d8ce675e299a20a4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/01/141901/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_init_spec.rb', 'manifests/agents/l3.pp', 'README.md']",3,71a9a0b927ba64301bb92b17b87a88ea1994fa7b,newtork_fixes,"The neutron module is a part of [Stackforge](https://github.com/stackforge), an effort by the Openstack infrastructure team to provide continuous integration testing and code review for Openstack and Openstack community projects not part of the core software. The module itself is used to flexibly configure and manage the network service for Openstack.","The neutron module is a part of [Stackforge](https://github.com/stackforge), an effort by the Openstack infrastructure team to provide continuous integration testing and code review for Openstack and Openstack community projects not part of the core software. The module itself is used to flexibly configure and manage the newtork service for Openstack.",4,4
openstack%2Ftempest~master~I89692492bca5451f5a681c9d2e36d6a77a792db1,openstack/tempest,master,I89692492bca5451f5a681c9d2e36d6a77a792db1,Create port in allowed allocation pools,ABANDONED,2014-12-16 09:25:37.000000000,2014-12-16 10:13:51.000000000,,[{'_account_id': 10385}],"[{'number': 1, 'created': '2014-12-16 09:25:37.000000000', 'files': ['tempest/api/network/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/243f74bccc4b608b81709adce7a338267b8c57b7', 'message': 'Create port in allowed allocation pools\n\nAdd test to create port in allowed allocation pools\n   -Create a network\n   -Create a subnet by specifying allocation pools\n   -Create a port\n   -Verify the port ip_address is within the range of allocation pools\n\nChange-Id: I89692492bca5451f5a681c9d2e36d6a77a792db1\n'}]",0,142039,243f74bccc4b608b81709adce7a338267b8c57b7,3,1,1,13342,,,0,"Create port in allowed allocation pools

Add test to create port in allowed allocation pools
   -Create a network
   -Create a subnet by specifying allocation pools
   -Create a port
   -Verify the port ip_address is within the range of allocation pools

Change-Id: I89692492bca5451f5a681c9d2e36d6a77a792db1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/142039/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_ports.py'],1,243f74bccc4b608b81709adce7a338267b8c57b7,port,"import netaddr cls._subnet_data = {6: {'allocation_pools': cls._get_allocation_pools_from_gateway(6)}, 4: {'allocation_pools': cls._get_allocation_pools_from_gateway(4)}} @classmethod def _get_allocation_pools_from_gateway(cls, ip_version): """"""Return allocation range for subnet of given gateway"""""" gateway = cls._get_gateway_from_tempest_conf(ip_version) return [{'start': str(gateway + 2), 'end': str(gateway + 4)}] @classmethod def _get_gateway_from_tempest_conf(cls, ip_version): """"""Return first subnet gateway for configured CIDR """""" if ip_version == 4: cidr = netaddr.IPNetwork(CONF.network.tenant_network_cidr) mask_bits = CONF.network.tenant_network_mask_bits elif ip_version == 6: cidr = netaddr.IPNetwork(CONF.network.tenant_network_v6_cidr) mask_bits = CONF.network.tenant_network_v6_mask_bits if mask_bits >= cidr.prefixlen: return netaddr.IPAddress(cidr) + 1 else: for subnet in cidr.subnet(mask_bits): return netaddr.IPAddress(subnet) + 1 def subnet_dict(self, include_keys): """"""Return a subnet dict which has include_keys and their corresponding value from self._subnet_data """""" return dict((key, self._subnet_data[self._ip_version][key]) for key in include_keys) def test_to_create_port_in_allowed_allocation_pools(self): network = self.create_network() net_id = network['id'] self.create_subnet(network, **self.subnet_dict(['allocation_pools'])) _, body = self.client.create_port(network_id=net_id) port = body['port'] self.addCleanup(self._delete_port, port['id']) ip_address = port['fixed_ips'][0]['ip_address'] allocation_pools = self.subnet_dict(['allocation_pools']) end_ip_address = allocation_pools['allocation_pools'][0]['end'] self.assertLessEqual(ip_address, end_ip_address)",,47,0
openstack%2Ffuel-main~stable%2F6.0~Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb,openstack/fuel-main,stable/6.0,Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb,Fix logging messages in os_patching case,MERGED,2014-12-15 19:52:01.000000000,2014-12-16 09:52:21.000000000,2014-12-16 09:52:21.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-12-15 19:52:01.000000000', 'files': ['fuelweb_test/tests/tests_os_patching/test_os_patching.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a7dba54fad84e6476bc07d0351ad0a4372742845', 'message': 'Fix logging messages in os_patching case\n\nDictionary of packages for Centos was not\nshown correct\nChange-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb\n(cherry picked from commit eef2e0474037d860304fde9dc2b5a0fc047aa0a1)\n'}]",0,141888,a7dba54fad84e6476bc07d0351ad0a4372742845,8,5,1,8882,,,0,"Fix logging messages in os_patching case

Dictionary of packages for Centos was not
shown correct
Change-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb
(cherry picked from commit eef2e0474037d860304fde9dc2b5a0fc047aa0a1)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/88/141888/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/tests_os_patching/test_os_patching.py', 'fuelweb_test/settings.py']",2,a7dba54fad84e6476bc07d0351ad0a4372742845,,"# For 5.1.1 we have 2 releases in tarball and should specify what we need RELEASE_VERSION = os.environ.get('RELEASE_VERSION', ""2014.1.3-5.1.1"")","# For 5.1 we have 2 releases in tarball and should specify what we need RELEASE_VERSION = os.environ.get('RELEASE_VERSION', '')",15,15
openstack%2Fironic~master~I813e60563c3e5124e31183b9322152df830b2f8e,openstack/ironic,master,I813e60563c3e5124e31183b9322152df830b2f8e,Add base state machine,MERGED,2014-12-04 22:10:50.000000000,2014-12-16 09:34:19.000000000,2014-12-16 09:34:18.000000000,"[{'_account_id': 3}, {'_account_id': 114}, {'_account_id': 1297}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11739}, {'_account_id': 12081}, {'_account_id': 13362}]","[{'number': 1, 'created': '2014-12-04 22:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce2276f4598bbf47c75735b74fcf345b5078c536', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 2, 'created': '2014-12-09 21:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ffbf5b455d723029fb76f0cfa2aec251deeca21', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 3, 'created': '2014-12-09 22:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0cfba95f6cffe308def82df2f5428188acf39f1', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 4, 'created': '2014-12-09 22:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1fffba801d4ff2b9773ca30283dc58ca496eaaf3', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 5, 'created': '2014-12-10 19:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/438a4b3aaa68822d33dceaaad6a2bf82c8911a39', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 6, 'created': '2014-12-11 00:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/397d5bf8e9a8002df65c7187e5b464142ff7e450', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 7, 'created': '2014-12-11 00:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7284e8f34b6117471fccdde2876e4055eeef71b4', 'message': ""Add fsm.py module\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- adding a test_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n- adding target state initialization to states.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 8, 'created': '2014-12-11 01:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/324b7f10573f5723ce765340816605c15ccc67fd', 'message': ""Add base state machine\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic, and adds a model of\nour current states to the ironic.common.states module.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- add is_valid_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 9, 'created': '2014-12-11 20:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f9b64e2f37e0e86d2b0648b4b655133158f3055', 'message': ""Add base state machine\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic, and adds a model of\nour current states to the ironic.common.states module.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- add is_valid_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}, {'number': 10, 'created': '2014-12-15 20:45:26.000000000', 'files': ['ironic/common/exception.py', 'ironic/tests/test_fsm.py', 'ironic/common/states.py', 'ironic/common/fsm.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b49470e16126a9260ffe90c6ac9619d299c15e64', 'message': ""Add base state machine\n\nThis creates the ironic.common.fsm module, which was imported from\nTaskFlow and modified to fit the use-case of Ironic, and adds a model of\nour current states to the ironic.common.states module.\n\nNotable changes from the fsm.py module in TaskFlow are:\n- removing the table printing dependency\n- basing exceptions on Ironic's exception class names (which, it turns\n  out, are almost identical)\n- add is_valid_event() method\n- allowing the state to be passed when initializing a FSM\n- allowing shallow copies of state machines\n- adding target-state-tracking to fsm.py\n\nRelated-To: blueprint new-ironic-state-machine\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Chris Krelle <nobodycam@gmail.com>\n\nChange-Id: I813e60563c3e5124e31183b9322152df830b2f8e\n""}]",73,139215,b49470e16126a9260ffe90c6ac9619d299c15e64,80,12,10,2889,,,0,"Add base state machine

This creates the ironic.common.fsm module, which was imported from
TaskFlow and modified to fit the use-case of Ironic, and adds a model of
our current states to the ironic.common.states module.

Notable changes from the fsm.py module in TaskFlow are:
- removing the table printing dependency
- basing exceptions on Ironic's exception class names (which, it turns
  out, are almost identical)
- add is_valid_event() method
- allowing the state to be passed when initializing a FSM
- allowing shallow copies of state machines
- adding target-state-tracking to fsm.py

Related-To: blueprint new-ironic-state-machine
Co-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>
Co-Authored-By: Chris Krelle <nobodycam@gmail.com>

Change-Id: I813e60563c3e5124e31183b9322152df830b2f8e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/139215/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/common/states.py', 'ironic/common/fsm.py']",3,ce2276f4598bbf47c75735b74fcf345b5078c536,states,"# -*- coding: utf-8 -*- # Copyright (C) 2014 Yahoo! Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. try: from collections import OrderedDict # noqa except ImportError: from ordereddict import OrderedDict # noqa import six from ironic.common import exception as excp class _Jump(object): """"""A FSM transition tracks this data while jumping."""""" def __init__(self, name, on_enter, on_exit): self.name = name self.on_enter = on_enter self.on_exit = on_exit class FrozenMachine(Exception): """"""Exception raised when a frozen machine is modified."""""" def __init__(self): super(FrozenMachine, self).__init__(""Frozen machine can't be modified"") class FSM(object): """"""A finite state machine. This state machine can be used to automatically run a given set of transitions and states in response to events (either from callbacks or from generator/iterator send() values, see PEP 342). On each triggered event, a on_enter and on_exit callback can also be provided which will be called to perform some type of action on leaving a prior state and before entering a new state. NOTE(harlowja): reactions will *only* be called when the generator/iterator from run_iter() does *not* send back a new event (they will always be called if the run() method is used). This allows for two unique ways (these ways can also be intermixed) to use this state machine when using run_iter(); one where *external* events trigger the next state transition and one where *internal* reaction callbacks trigger the next state transition. The other way to use this state machine is to skip using run() or run_iter() completely and use the process_event() method explicitly and trigger the events via some *external* functionality. """""" def __init__(self, start_state=None): self._transitions = {} self._states = OrderedDict() self._start_state = start_state self._target_state = None self._current = None self.frozen = False @property def start_state(self): return self._start_state @property def current_state(self): if self._current is not None: return self._current.name return None @property def target_state(self): return self._target_state @property def terminated(self): """"""Returns whether the state machine is in a terminal state."""""" if self._current is None: return False return self._states[self._current.name]['terminal'] def add_state(self, state, on_enter=None, on_exit=None, target=None, terminal=None): """"""Adds a given state to the state machine. The on_enter and on_exit callbacks, if provided will be expected to take two positional parameters, these being the state being exited (for on_exit) or the state being entered (for on_enter) and a second parameter which is the event that is being processed that caused the state transition. """""" if self.frozen: raise FrozenMachine() if state in self._states: raise excp.Duplicate(""State '%s' already defined"" % state) if on_enter is not None: assert six.callable(on_enter), ""On enter callback must be callable"" if on_exit is not None: assert six.callable(on_exit), ""On exit callback must be callable"" if target is not None and target not in self._states: raise excp.InvalidState(""Target state '%s' does not exist"" % target) self._states[state] = { 'terminal': bool(terminal), 'reactions': {}, 'on_enter': on_enter, 'on_exit': on_exit, 'target': target, } self._transitions[state] = OrderedDict() def add_reaction(self, state, event, reaction, *args, **kwargs): """"""Adds a reaction that may get triggered by the given event & state. Reaction callbacks may (depending on how the state machine is ran) be used after an event is processed (and a transition occurs) to cause the machine to react to the newly arrived at stable state. These callbacks are expected to accept three default positional parameters (although more can be passed in via *args and **kwargs, these will automatically get provided to the callback when it is activated *ontop* of the three default). The three default parameters are the last stable state, the new stable state and the event that caused the transition to this new stable state to be arrived at. The expected result of a callback is expected to be a new event that the callback wants the state machine to react to. This new event may (depending on how the state machine is ran) get processed (and this process typically repeats) until the state machine reaches a terminal state. """""" if self.frozen: raise FrozenMachine() if state not in self._states: raise excp.NotFound(""Can not add a reaction to event '%s' for an"" "" undefined state '%s'"" % (event, state)) assert six.callable(reaction), ""Reaction callback must be callable"" if event not in self._states[state]['reactions']: self._states[state]['reactions'][event] = (reaction, args, kwargs) else: raise excp.Duplicate(""State '%s' reaction to event '%s'"" "" already defined"" % (state, event)) def add_transition(self, start, end, event): """"""Adds an allowed transition from start -> end for the given event."""""" if self.frozen: raise FrozenMachine() if start not in self._states: raise excp.NotFound(""Can not add a transition on event '%s' that"" "" starts in a undefined state '%s'"" % (event, start)) if end not in self._states: raise excp.NotFound(""Can not add a transition on event '%s' that"" "" ends in a undefined state '%s'"" % (event, end)) self._transitions[start][event] = _Jump(end, self._states[end]['on_enter'], self._states[start]['on_exit']) def process_event(self, event): """"""Trigger a state change in response to the provided event."""""" current = self._current if current is None: raise excp.InvalidState(""Can only process events after"" "" being initialized (not before)"") if self._states[current.name]['terminal']: raise excp.InvalidState(""Can not transition from terminal"" "" state '%s' on event '%s'"" % (current.name, event)) if event not in self._transitions[current.name]: raise excp.InvalidState(""Can not transition from state '%s' on"" "" event '%s' (no defined transition)"" % (current.name, event)) replacement = self._transitions[current.name][event] if current.on_exit is not None: current.on_exit(current.name, event) if replacement.on_enter is not None: replacement.on_enter(replacement.name, event) self._current = replacement # clear _target if we've reached it if (self._target_state is not None and self._target_state == replacement.name): self._target_state = None # set target if there is a new one if (self._target_state is None and self._states[replacement.name]['target'] is not None): self._target_state = self._states[replacement.name]['target'] return ( self._states[replacement.name]['reactions'].get(event), self._states[replacement.name]['terminal'], ) def test_event(self, event): """"""Check whether the event can be processed, but don't do it."""""" current = self._current if current is None: return False if self._states[current.name]['terminal']: return False if event not in self._transitions[current.name]: return False return True def initialize(self, state=None): """"""Sets up the state machine (sets current state to start state...)."""""" if state is None: state = self._start_state if state not in self._states: raise excp.NotFound(""Can not start from a undefined"" "" state '%s'"" % (self._start_state)) if self._states[self._start_state]['terminal']: raise excp.InvalidState(""Can not start from a terminal"" "" state '%s'"" % (self._start_state)) self._current = _Jump(state, None, None) def run(self, event, initialize=True): """"""Runs the state machine, using reactions only."""""" for transition in self.run_iter(event, initialize=initialize): pass def copy(self, shallow=False): """"""Copies the current state machine (shallow or deep). NOTE(harlowja): the copy will be left in an *uninitialized* state. NOTE(harlowja): when a shallow copy is requested the copy will share the same transition table and state table as the source; this can be advantageous if you have a machine and transitions + states that is defined somewhere and want to use copies to run with (the copies have the current state that is different between machines). """""" c = FSM(self.start_state) if not shallow: for state, data in six.iteritems(self._states): copied_data = data.copy() copied_data['reactions'] = copied_data['reactions'].copy() c._states[state] = copied_data for state, data in six.iteritems(self._transitions): c._transitions[state] = data.copy() else: c._transitions = self._transitions c._states = self._states return c def run_iter(self, event, initialize=True): """"""Returns a iterator/generator that will run the state machine. NOTE(harlowja): only one runner iterator/generator should be active for a machine, if this is not observed then it is possible for initialization and other local state to be corrupted and cause issues when running... """""" if initialize: self.initialize() while True: old_state = self.current_state reaction, terminal = self.process_event(event) new_state = self.current_state try: sent_event = yield (old_state, new_state) except GeneratorExit: break if terminal: break if reaction is None and sent_event is None: raise excp.NotFound(""Unable to progress since no reaction (or"" "" sent event) has been made available in"" "" new state '%s' (moved to from state '%s'"" "" in response to event '%s')"" % (new_state, old_state, event)) elif sent_event is not None: event = sent_event else: cb, args, kwargs = reaction event = cb(old_state, new_state, event, *args, **kwargs) def __contains__(self, state): """"""Returns if this state exists in the machines known states."""""" return state in self._states def freeze(self): """"""Freezes & stops addition of states, transitions, reactions..."""""" self.frozen = True @property def states(self): """"""Returns the state names."""""" return list(six.iterkeys(self._states)) @property def events(self): """"""Returns how many events exist."""""" c = 0 for state in six.iterkeys(self._states): c += len(self._transitions[state]) return c def __iter__(self): """"""Iterates over (start, event, end) transition tuples."""""" for state in six.iterkeys(self._states): for event, target in six.iteritems(self._transitions[state]): yield (state, event, target.name) ",,401,0
openstack%2Fproject-config~master~I40ddbbec1f1f7d1691607319c1ee3e218a31010b,openstack/project-config,master,I40ddbbec1f1f7d1691607319c1ee3e218a31010b,Push dg-tempest-dsvm-full logs to swift,MERGED,2014-12-14 22:53:17.000000000,2014-12-16 09:21:01.000000000,2014-12-16 09:21:00.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 7069}]","[{'number': 1, 'created': '2014-12-14 22:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/76d0492a36464374cf704001f04bc216f5089c96', 'message': 'Push dg-tempest-dsvm-full logs to swift\n\nTest pushing devstack-gate logs to swift.\n\nChange-Id: I40ddbbec1f1f7d1691607319c1ee3e218a31010b\n'}, {'number': 2, 'created': '2014-12-14 22:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6adb742d71c26d32077a678e0b2ab3fdd069fab', 'message': 'Push dg-tempest-dsvm-full logs to swift\n\nTest pushing devstack-gate logs to swift.\n\nChange-Id: I40ddbbec1f1f7d1691607319c1ee3e218a31010b\n'}, {'number': 3, 'created': '2014-12-15 23:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff89809d5c8f0964cff3e16da2457dcaa296b94f', 'message': 'Push dg-tempest-dsvm-full logs to swift\n\nTest pushing devstack-gate logs to swift.\n\nChange-Id: I40ddbbec1f1f7d1691607319c1ee3e218a31010b\n'}, {'number': 4, 'created': '2014-12-16 01:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2fcc4265ab64c6fbb04bb6704454d654b5ecc34a', 'message': 'Push dg-tempest-dsvm-full logs to swift\n\nTest pushing devstack-gate logs to swift.\n\nChange-Id: I40ddbbec1f1f7d1691607319c1ee3e218a31010b\n'}, {'number': 5, 'created': '2014-12-16 06:37:43.000000000', 'files': ['jenkins/jobs/macros.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4bde0571f968909bd6c85bccdea95a1de6c8c7f0', 'message': 'Push dg-tempest-dsvm-full logs to swift\n\nTest pushing devstack-gate logs to swift.\n\nChange-Id: I40ddbbec1f1f7d1691607319c1ee3e218a31010b\n'}]",3,141668,4bde0571f968909bd6c85bccdea95a1de6c8c7f0,19,5,5,7069,,,0,"Push dg-tempest-dsvm-full logs to swift

Test pushing devstack-gate logs to swift.

Change-Id: I40ddbbec1f1f7d1691607319c1ee3e218a31010b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/141668/4 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/macros.yaml', 'jenkins/jobs/devstack-gate.yaml']",2,76d0492a36464374cf704001f04bc216f5089c96,dg-swift, - zuul_swift_devstack-logs - zuul_swift_upload_console_log - zuul_swift_devstack-logs - zuul_swift_upload_console_log,,10,0
openstack%2Fproject-config~master~Ia54261e8fd4295b42bef0e2911628dddab778a42,openstack/project-config,master,Ia54261e8fd4295b42bef0e2911628dddab778a42,Rename zuul-swift-upload jobs to use hypens,MERGED,2014-12-15 23:50:28.000000000,2014-12-16 09:20:54.000000000,2014-12-16 09:20:53.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-15 23:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0945c69cd42480972079b26840ad8b9ae8162480', 'message': 'Rename zuul-swift-upload jobs to use hypens\n\nBe more consistent with other macros/jobs.\n\nChange-Id: Ia54261e8fd4295b42bef0e2911628dddab778a42\n'}, {'number': 2, 'created': '2014-12-16 06:37:43.000000000', 'files': ['jenkins/jobs/infra.yaml', 'jenkins/jobs/python-jobs.yaml', 'jenkins/jobs/macros.yaml', 'jenkins/jobs/devstack.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/93e45475771cb0960e5d7eafe6133fb60951a487', 'message': 'Rename zuul-swift-upload jobs to use hypens\n\nBe more consistent with other macros/jobs.\n\nChange-Id: Ia54261e8fd4295b42bef0e2911628dddab778a42\n'}]",0,141942,93e45475771cb0960e5d7eafe6133fb60951a487,10,3,2,7069,,,0,"Rename zuul-swift-upload jobs to use hypens

Be more consistent with other macros/jobs.

Change-Id: Ia54261e8fd4295b42bef0e2911628dddab778a42
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/141942/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/infra.yaml', 'jenkins/jobs/python-jobs.yaml', 'jenkins/jobs/macros.yaml']",3,0945c69cd42480972079b26840ad8b9ae8162480,dg-swift, name: zuul-swift-upload name: zuul-swift-upload-logs builders: - zuul-swift-upload: name: zuul-swift-upload-console-log - zuul-swift-upload-logs: name: zuul-swift-upload-logs-with-console - zuul-swift-upload-logs: name: zuul-swift-upload - zuul-swift-upload: name: zuul-swift-upload-logs - zuul-swift-upload-logs: name: zuul-swift-upload-console-log - zuul-swift-upload-console-log name: zuul-swift-upload-logs-with-console - zuul-swift-upload-logs-with-console:, name: zuul_swift_upload name: zuul_swift_upload_logs builders: - zuul_swift_upload: name: zuul_swift_upload_console_log - zuul_swift_upload_logs: name: zuul_swift_upload_logs_with_console - zuul_swift_upload_logs: name: zuul_swift_upload - zuul_swift_upload: name: zuul_swift_upload_logs - zuul_swift_upload_logs: name: zuul_swift_upload_console_log - zuul_swift_upload_console_log name: zuul_swift_upload_logs_with_console - zuul_swift_upload_logs_with_console:,24,24
openstack%2Ffuel-main~master~I1dfadebac4f76d18f85ca396a202d3550948042d,openstack/fuel-main,master,I1dfadebac4f76d18f85ca396a202d3550948042d,Fixed search Fuel ISO in vbox scripts,MERGED,2014-12-09 10:41:55.000000000,2014-12-16 08:29:05.000000000,2014-12-13 05:32:46.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8967}, {'_account_id': 8971}, {'_account_id': 14036}]","[{'number': 1, 'created': '2014-12-09 10:41:55.000000000', 'files': ['virtualbox/actions/master-node-enable-internet.sh', 'virtualbox/actions/master-node-create-and-install.sh', 'virtualbox/actions/prepare-environment.sh', 'virtualbox/config.sh', 'virtualbox/actions/slave-nodes-create-and-boot.sh', 'virtualbox/actions/create-interfaces.sh', 'virtualbox/actions/clean-previous-installation.sh'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/fe90cd9a2abba71196b9d6afe29ff8add2985a18', 'message': 'Fixed search Fuel ISO in vbox scripts\n\nFixed relative paths when are invoked other vbox scripts.\nIf we have another config.sh which is located on a different path\nin the variable PATH, we have an error.\n\nChange-Id: I1dfadebac4f76d18f85ca396a202d3550948042d\nCloses-Bug: #1393557\n'}]",0,140293,fe90cd9a2abba71196b9d6afe29ff8add2985a18,11,8,1,13274,,,0,"Fixed search Fuel ISO in vbox scripts

Fixed relative paths when are invoked other vbox scripts.
If we have another config.sh which is located on a different path
in the variable PATH, we have an error.

Change-Id: I1dfadebac4f76d18f85ca396a202d3550948042d
Closes-Bug: #1393557
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/93/140293/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbox/actions/master-node-enable-internet.sh', 'virtualbox/actions/master-node-create-and-install.sh', 'virtualbox/actions/prepare-environment.sh', 'virtualbox/config.sh', 'virtualbox/actions/slave-nodes-create-and-boot.sh', 'virtualbox/actions/create-interfaces.sh', 'virtualbox/actions/clean-previous-installation.sh']",7,fe90cd9a2abba71196b9d6afe29ff8add2985a18,bug/1393557,source ./config.sh source ./functions/vm.sh source ./functions/network.sh,source config.sh source functions/vm.sh source functions/network.sh,18,18
openstack%2Fsecurity-doc~master~I05d7d941b84451e161f3170cbb222fb775462d82,openstack/security-doc,master,I05d7d941b84451e161f3170cbb222fb775462d82,Updated from openstack-manuals,MERGED,2014-12-16 07:29:50.000000000,2014-12-16 08:28:37.000000000,2014-12-16 08:28:36.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 07:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/87285a96cbcda1933e6075cae32f3ef01652f8ba', 'message': 'Updated from openstack-manuals\n\nChange-Id: I05d7d941b84451e161f3170cbb222fb775462d82\n'}, {'number': 2, 'created': '2014-12-16 07:41:20.000000000', 'files': ['glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/85ec4e64e106e7b2ec9436143116eecaa5b7adb1', 'message': 'Updated from openstack-manuals\n\nChange-Id: I05d7d941b84451e161f3170cbb222fb775462d82\n'}]",0,142010,85ec4e64e106e7b2ec9436143116eecaa5b7adb1,7,2,2,11131,,,0,"Updated from openstack-manuals

Change-Id: I05d7d941b84451e161f3170cbb222fb775462d82
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/10/142010/1 && git format-patch -1 --stdout FETCH_HEAD,['glossary/locale/ja.po'],1,87285a96cbcda1933e6075cae32f3ef01652f8ba,openstack/openstack-manuals,"""POT-Creation-Date: 2014-12-15 18:58+0000\n"" ""PO-Revision-Date: 2014-12-15 19:11+0000\n""msgstr ""Compute ""msgstr ""OpenStack Linux Object Storage  Image Service ""msgstr ""Compute""msgstr ""<systemitem class=\""service\"">nova-compute</systemitem> Web <phrase role=\""keep-together\""></phrase>""msgstr "" () Compute <systemitem class=\""service\"">nova-compute</systemitem> ""msgstr ""No ACK""","""POT-Creation-Date: 2014-12-15 00:16+0000\n"" ""PO-Revision-Date: 2014-12-15 01:50+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",8,8
openstack%2Foperations-guide~master~I707f716a32ce7de05fd4a94f029d1a5f0a0d19ab,openstack/operations-guide,master,I707f716a32ce7de05fd4a94f029d1a5f0a0d19ab,Updated from openstack-manuals,MERGED,2014-12-16 07:29:47.000000000,2014-12-16 08:27:23.000000000,2014-12-16 08:27:22.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 07:29:47.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/49d767e1dcde547f7b52a5a159b2927ab0c82cb6', 'message': 'Updated from openstack-manuals\n\nChange-Id: I707f716a32ce7de05fd4a94f029d1a5f0a0d19ab\n'}]",0,142009,49d767e1dcde547f7b52a5a159b2927ab0c82cb6,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I707f716a32ce7de05fd4a94f029d1a5f0a0d19ab
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/09/142009/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,49d767e1dcde547f7b52a5a159b2927ab0c82cb6,openstack/openstack-manuals,"""POT-Creation-Date: 2014-12-15 18:58+0000\n"" ""PO-Revision-Date: 2014-12-15 19:11+0000\n""msgstr ""Compute ""msgstr ""OpenStack Linux Object Storage  Image Service ""msgstr ""Compute""msgstr ""<systemitem class=\""service\"">nova-compute</systemitem> Web <phrase role=\""keep-together\""></phrase>""msgstr "" () Compute <systemitem class=\""service\"">nova-compute</systemitem> ""msgstr ""No ACK""","""POT-Creation-Date: 2014-12-15 00:16+0000\n"" ""PO-Revision-Date: 2014-12-15 01:50+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",8,8
openstack%2Fha-guide~master~I1e2049e264b20c168bbcead20ed4a79e7194cb69,openstack/ha-guide,master,I1e2049e264b20c168bbcead20ed4a79e7194cb69,Updated from openstack-manuals,MERGED,2014-12-16 07:29:42.000000000,2014-12-16 08:27:03.000000000,2014-12-16 08:27:03.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 07:29:42.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/000245968cf0b8746669b947925cb12e8c6edc4f', 'message': 'Updated from openstack-manuals\n\nChange-Id: I1e2049e264b20c168bbcead20ed4a79e7194cb69\n'}]",0,142008,000245968cf0b8746669b947925cb12e8c6edc4f,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I1e2049e264b20c168bbcead20ed4a79e7194cb69
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/08/142008/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,000245968cf0b8746669b947925cb12e8c6edc4f,openstack/openstack-manuals,"""POT-Creation-Date: 2014-12-15 18:58+0000\n"" ""PO-Revision-Date: 2014-12-15 19:11+0000\n""msgstr ""Compute ""msgstr ""OpenStack Linux Object Storage  Image Service ""msgstr ""Compute""msgstr ""<systemitem class=\""service\"">nova-compute</systemitem> Web <phrase role=\""keep-together\""></phrase>""msgstr "" () Compute <systemitem class=\""service\"">nova-compute</systemitem> ""msgstr ""No ACK""","""POT-Creation-Date: 2014-12-15 00:16+0000\n"" ""PO-Revision-Date: 2014-12-15 01:50+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",8,8
openstack%2Fmagnetodb~master~Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c,openstack/magnetodb,master,Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c,API URI format change,MERGED,2014-12-01 13:13:41.000000000,2014-12-16 08:14:59.000000000,2014-12-05 14:38:10.000000000,"[{'_account_id': 3}, {'_account_id': 5538}, {'_account_id': 8188}, {'_account_id': 8464}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}, {'_account_id': 10665}, {'_account_id': 11006}]","[{'number': 1, 'created': '2014-12-01 13:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/ab3f614d31717d7b4f959c1b09444d0bf06381a1', 'message': '(WIP) API URI format change\n\nChanges API URI format for monitoring and data API.\nFix tests for API changes.\n\nChange-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nImplements: blueprint api-uri-format-change\n'}, {'number': 2, 'created': '2014-12-01 15:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/9bc980398c52c4a342372bdc0da7b102f2250807', 'message': '(WIP) API URI format change\n\nChanges API URI format for monitoring and data API.\nFix tests for API changes.\n\nChange-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nImplements: blueprint api-uri-format-change\n'}, {'number': 3, 'created': '2014-12-03 12:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/d65bc3ac85a05d6dd1dd145e06220c681d0f3464', 'message': '(WIP) API URI format change\n\nChanges API URI format for monitoring and data API.\nFix tests for API changes.\nAdds tempest test and client for monitoring.\n\nChange-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nImplements: blueprint api-uri-format-change\n'}, {'number': 4, 'created': '2014-12-03 13:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/b86a3ed8f042268ffdfdaa9f8fd6c3cc006fb85e', 'message': 'API URI format change\n\nChanges API URI format for monitoring and data API.\nFixes tests for API changes.\nAdds tempest test and client for monitoring.\n\nChange-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nImplements: blueprint api-uri-format-change\n'}, {'number': 5, 'created': '2014-12-04 10:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/cd014472e706466f5fbb75bfa4c465fddb864b83', 'message': 'API URI format change\n\nChanges API URI format for monitoring and data API.\nFixes tests for API changes.\nAdds tempest test and client for monitoring.\n\nChange-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nImplements: blueprint api-uri-format-change\n'}, {'number': 6, 'created': '2014-12-04 11:55:01.000000000', 'files': ['magnetodb/tests/unittests/api/openstack/v1/test_list_tables.py', 'magnetodb/tests/unittests/api/openstack/v1/test_delete_table.py', 'tempest/services/keyvalue/json/magnetodb_monitoring_client.py', 'tempest/services/keyvalue/json/magnetodb_client.py', 'magnetodb/api/openstack/v1/data/update_item.py', 'magnetodb/tests/unittests/api/openstack/v1/test_describe_table.py', 'magnetodb/api/openstack/v1/app_data.py', 'magnetodb/api/openstack/v1/data/put_item.py', 'magnetodb/tests/unittests/api/openstack/v1/test_table_usage_details.py', 'etc/api-paste-gunicorn.ini', 'magnetodb/api/openstack/v1/data/scan.py', 'etc/api-paste.ini', 'magnetodb/api/openstack/v1/monitoring/__init__.py', 'magnetodb/tests/unittests/api/openstack/v1/test_update_item.py', 'tempest/api/keyvalue/stable/rest/test_list_table.py', 'magnetodb/api/openstack/v1/data/batch_get_item.py', 'magnetodb/api/openstack/v1/data/create_table.py', 'magnetodb/tests/unittests/api/openstack/v1/test_put_item.py', 'magnetodb/tests/unittests/api/openstack/v1/test_batch_write_item.py', 'tempest/tempest.conf', 'tempest/common/rest_client.py', 'magnetodb/api/openstack/v1/data/get_item.py', 'tempest/api/keyvalue/stable/rest/test_monitoring.py', 'magnetodb/api/openstack/v1/data/query.py', 'magnetodb/api/openstack/v1/monitoring/monitoring_list_tables.py', 'magnetodb/api/openstack/v1/data/__init__.py', 'magnetodb/api/openstack/v1/data/delete_table.py', 'tempest/api/keyvalue/rest_base/base.py', 'magnetodb/tests/unittests/api/openstack/v1/test_delete_item.py', 'tempest/services/keyvalue/json/magnetodb_streaming_client.py', 'magnetodb/api/openstack/v1/data/batch_write_item.py', 'tempest/api/keyvalue/stable/rest/test_table_scenarios.py', 'etc/api-paste-test.ini', 'magnetodb/api/openstack/v1/data/delete_item.py', 'magnetodb/api/openstack/v1/monitoring/table_usage_details.py', 'magnetodb/api/openstack/v1/data/list_tables.py', 'magnetodb/api/stream_wsgi.py', 'magnetodb/api/openstack/v1/data/describe_table.py', 'magnetodb/tests/unittests/api/openstack/v1/test_scan.py', 'contrib/devstack/lib/magnetodb', 'magnetodb/tests/unittests/api/openstack/v1/test_query.py', 'tempest/clients.py', 'tempest/config.py', 'magnetodb/api/openstack/v1/app_monitoring.py', 'magnetodb/tests/unittests/api/openstack/v1/test_batch_get_item.py', 'magnetodb/tests/unittests/api/openstack/v1/test_create_table.py', 'magnetodb/tests/unittests/api/openstack/v1/test_get_item.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/99b522723413d0681d0d418983e07a064b0eb5b0', 'message': 'API URI format change\n\nChanges API URI format for monitoring and data API.\nFixes tests for API changes.\nAdds tempest test and client for monitoring.\n\nAPIImpact\n\nChange-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c\nImplements: blueprint api-uri-format-change\n'}]",0,138059,99b522723413d0681d0d418983e07a064b0eb5b0,23,9,6,10665,,,0,"API URI format change

Changes API URI format for monitoring and data API.
Fixes tests for API changes.
Adds tempest test and client for monitoring.

APIImpact

Change-Id: Iad2bcacbd2d3b8d4d89919d0bd9b71bdd419092c
Implements: blueprint api-uri-format-change
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/59/138059/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/keyvalue/json/magnetodb_client.py', 'magnetodb/api/openstack/v1/data/update_item.py', 'magnetodb/api/openstack/v1/app_data.py', 'magnetodb/api/openstack/v1/data/put_item.py', 'magnetodb/api/openstack/v1/data/scan.py', 'etc/api-paste.ini', 'magnetodb/api/openstack/v1/monitoring/__init__.py', 'magnetodb/api/openstack/v1/data/batch_get_item.py', 'magnetodb/api/openstack/v1/data/create_table.py', 'magnetodb/api/openstack/v1/data/get_item.py', 'tempest/api/keyvalue/stable/rest/test_monitoring.py', 'magnetodb/api/openstack/v1/data/query.py', 'magnetodb/api/openstack/v1/monitoring/monitoring_list_tables.py', 'magnetodb/api/openstack/v1/data/__init__.py', 'magnetodb/api/openstack/v1/data/delete_table.py', 'tempest/services/keyvalue/json/magnetodb_streaming_client.py', 'magnetodb/api/openstack/v1/data/batch_write_item.py', 'tempest/api/keyvalue/stable/rest/test_table_scenarios.py', 'magnetodb/api/openstack/v1/data/delete_item.py', 'magnetodb/api/openstack/v1/monitoring/table_usage_details.py', 'magnetodb/api/openstack/v1/data/list_tables.py', 'magnetodb/api/openstack/v1/data/describe_table.py', 'contrib/devstack/lib/magnetodb', 'magnetodb/api/openstack/v1/app_monitoring.py']",24,ab3f614d31717d7b4f959c1b09444d0bf06381a1,bp/api-uri-format-change,"# Copyright 2014 Symantec Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import routes from magnetodb.api import with_global_env from magnetodb.common import wsgi from magnetodb.api.openstack.v1 import create_resource from magnetodb.api.openstack.v1.monitoring import table_usage_details from magnetodb.api.openstack.v1.monitoring import monitoring_list_tables class MonitoringApplication(wsgi.Router): """"""Monitoring API"""""" def __init__(self): mapper = routes.Mapper() super(MonitoringApplication, self).__init__(mapper) mapper.connect( ""list_monitored_tables"", ""/{project_id}/tables"", conditions={'method': 'GET'}, controller=create_resource( monitoring_list_tables.MonitoringListTablesController()), action=""list_tables"" ) mapper.connect( ""monitor_table"", ""/{project_id}/tables/{table_name}"", controller=create_resource( table_usage_details.TableUsageController()), conditions={'method': 'GET'}, action=""table_usage_details"" ) @with_global_env(default_program='monitoring-api') def app_factory(global_conf, **local_conf): return MonitoringApplication() ",,231,68
openstack%2Fapi-site~master~I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb,openstack/api-site,master,I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb,Use HTTP response codes for identity v3,MERGED,2014-04-21 00:09:51.000000000,2014-12-16 07:40:38.000000000,2014-12-16 07:40:36.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 6486}, {'_account_id': 6547}, {'_account_id': 8878}]","[{'number': 1, 'created': '2014-04-21 00:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/7abe84290d88f6a1a403620102d6a3647ba576a6', 'message': ""Use HTTP response codes for identity v3\n\nThere's no such thing as identityFault, so this was removed.\n\nThe other repsonse code descriptions were changed so that the HTTP\nresponse code string (from http://tools.ietf.org/html/rfc2616) was\nused.\n\nThis is because the REST API uses HTTP response codes.\n\nChange-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb\n""}, {'number': 2, 'created': '2014-04-21 00:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/25feefa77c4476e52450030e2adf03f79a06fc11', 'message': ""Use HTTP response codes for identity v3\n\nThere's no such thing as identityFault, so this was removed.\n\nThe other repsonse code descriptions were changed so that the HTTP\nresponse code string (from http://tools.ietf.org/html/rfc2616) was\nused.\n\nThis is because the REST API uses HTTP response codes.\n\nChange-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb\n""}, {'number': 3, 'created': '2014-07-05 16:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/126985fa0f4e46384c24970d37b3d09cc888c5b6', 'message': ""Use HTTP response codes for identity v3\n\nThere's no such thing as identityFault, so this was removed.\n\nThe other response code descriptions were changed so that the HTTP\nresponse code string (from http://tools.ietf.org/html/rfc2616) was\nused.\n\nThis is because the REST API uses HTTP response codes.\n\nCloses-Bug: #1338128\n\nChange-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb\n""}, {'number': 4, 'created': '2014-07-05 17:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/92cb5bb621f412c5bbe6d8edb041cf3ee46bf769', 'message': ""Cleanup response text for identity v3\n\nThe other response codes were changed to not have the response,\nbecause they were maybe referring to something that didn't exist,\nand the response text was confusing since it looked like the HTTP\nreason phrase.\n\nThere's no HTTP response code for identityFault, so this was\nremoved.\n\nCloses-Bug: #1338128\n\nChange-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb\n""}, {'number': 5, 'created': '2014-07-06 15:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/a058e221b83b7d0d834ff0c94d3c3d1d1edba49a', 'message': 'Use HTTP response codes for identity v3\n\nThe HTTP 1.1 standard (http://tools.ietf.org/html/rfc2616)\ndefines the ""reason phrase"" for each status code. For example,\n400 is Bad Request, 404 is Not Found, etc.\n\nThe identity V3 API reference had unexpected values listed for\nthe return codes for different requests, such as\n""identityFault"" and ""overLimit"".\n\nThere\'s no HTTP response code for identityFault, so this was\nremoved.\n\nThe others were changed to use the standard reason phrase.\nSince the tooling requires that there\'s no space in the\n""element"" property, the reason phrase has spaces removed (so\nfor example ""Not Found"" becomes ""NotFound"".\n\nNote that this is a suboptimal fix. The real fix requires\nchanges in the tooling. The tooling should be able to take the\n""status"" in the response and convert it to the status code and\nreason string.\n\nCloses-Bug: #1338128\n\nChange-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb\n'}, {'number': 6, 'created': '2014-11-29 16:33:07.000000000', 'files': ['api-ref/src/wadls/identity-api/src/v3/wadl/OS-OAUTH1-v3.wadl', 'api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl', 'api-ref/src/wadls/identity-api/src/v3/wadl/common.ent'], 'web_link': 'https://opendev.org/openstack/api-site/commit/44511224105bfe5192fbf265933bef6d749cfe22', 'message': 'Use HTTP response codes for identity v3\n\nThe HTTP 1.1 standard (http://tools.ietf.org/html/rfc2616)\ndefines the ""reason phrase"" for each status code. For example,\n400 is Bad Request, 404 is Not Found, etc.\n\nThe identity V3 API reference had unexpected values listed for\nthe return codes for different requests, such as\n""identityFault"" and ""overLimit"".\n\nThere\'s no HTTP response code for identityFault, so this was\nremoved.\n\nThe others were changed to use the standard reason phrase.\n\nCloses-Bug: #1338128\n\nChange-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb\n'}]",4,89291,44511224105bfe5192fbf265933bef6d749cfe22,47,6,6,6486,,,0,"Use HTTP response codes for identity v3

The HTTP 1.1 standard (http://tools.ietf.org/html/rfc2616)
defines the ""reason phrase"" for each status code. For example,
400 is Bad Request, 404 is Not Found, etc.

The identity V3 API reference had unexpected values listed for
the return codes for different requests, such as
""identityFault"" and ""overLimit"".

There's no HTTP response code for identityFault, so this was
removed.

The others were changed to use the standard reason phrase.

Closes-Bug: #1338128

Change-Id: I5ea51cf456fed9d14e4296b6e0bf19c8fd0f02bb
",git fetch https://review.opendev.org/openstack/api-site refs/changes/91/89291/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/identity-api/src/v3/wadl/identity-admin-v3.wadl', 'api-ref/src/wadls/identity-api/src/v3/wadl/common.ent']",2,7abe84290d88f6a1a403620102d6a3647ba576a6,bug/1338128," <representation mediaType=""application/xml"" element=""identity:Bad Request""/> <representation mediaType=""application/xml"" element=""identity:Unauthorized""/> <representation mediaType=""application/xml"" element=""identity:Forbidden""/> <representation mediaType=""application/xml"" element=""identity:Bad Method""/> <representation mediaType=""application/xml"" element=""identity:Request Entity Too Large""/> <representation mediaType=""application/xml"" element=""identity:Service Unavailable""/> element=""identity:Not Found""/> element=""identity:Unsupported Media Type""/>","<response xmlns=""http://wadl.dev.java.net/2009/02""> <representation mediaType=""application/xml"" element=""identity:identityFault""/> <representation mediaType=""application/json""/> </response> <representation mediaType=""application/xml"" element=""identity:badRequest""/> <representation mediaType=""application/xml"" element=""identity:unauthorized""/> <representation mediaType=""application/xml"" element=""identity:forbidden""/> <representation mediaType=""application/xml"" element=""identity:badMethod""/> <representation mediaType=""application/xml"" element=""identity:overLimit""/> <representation mediaType=""application/xml"" element=""identity:serviceUnavailable""/> element=""identity:itemNotFound""/> element=""identity:badMediaType""/>",19,15
openstack%2Fopenstack-manuals~master~I5559946ec14fee7dc9fdbeae399d493ebd87e51b,openstack/openstack-manuals,master,I5559946ec14fee7dc9fdbeae399d493ebd87e51b,"Removal of passive voice from chap 1, arch guide",MERGED,2014-12-14 23:55:15.000000000,2014-12-16 07:39:06.000000000,2014-12-16 07:39:05.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 9162}, {'_account_id': 10897}]","[{'number': 1, 'created': '2014-12-14 23:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f2322a957ac6973708e40f2b27e3342acfa4305f', 'message': 'Removal of passive voice from chap 1, arch guide\n\nRemoval of passive voice from section_prescriptive_examples,\nand section_user_requirements\n\nChange-Id: I5559946ec14fee7dc9fdbeae399d493ebd87e51b\nPartial-bug: #1400550\n'}, {'number': 2, 'created': '2014-12-14 23:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2bf4cb4d131551713c22fa77e3355c3b4b537e90', 'message': 'Removal of passive voice from chap 1, arch guide\n\nRemoval of passive voice from section_prescriptive_examples,\nand section_user_requirements\n\nChange-Id: I5559946ec14fee7dc9fdbeae399d493ebd87e51b\nPartial-bug: #1400550\n'}, {'number': 3, 'created': '2014-12-15 00:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/11d500ffe5ac445c3b2ea779e0affbddf31d04f5', 'message': 'Removal of passive voice from chap 1, arch guide\n\nRemoval of passive voice from section_prescriptive_examples,\nand section_user_requirements\n\nChange-Id: I5559946ec14fee7dc9fdbeae399d493ebd87e51b\nPartial-bug: #1400550\n'}, {'number': 4, 'created': '2014-12-16 00:37:43.000000000', 'files': ['doc/arch-design/generalpurpose/section_user_requirements_general_purpose.xml', 'doc/arch-design/generalpurpose/section_prescriptive_example_general_purpose.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/88c00d36110944fd973415a6600f2d5005ad54ee', 'message': 'Removal of passive voice from chap 1, arch guide\n\nRemoval of passive voice from section_prescriptive_examples,\nand section_user_requirements\n\nChange-Id: I5559946ec14fee7dc9fdbeae399d493ebd87e51b\nPartial-bug: #1400550\n'}]",7,141673,88c00d36110944fd973415a6600f2d5005ad54ee,14,4,4,10607,,,0,"Removal of passive voice from chap 1, arch guide

Removal of passive voice from section_prescriptive_examples,
and section_user_requirements

Change-Id: I5559946ec14fee7dc9fdbeae399d493ebd87e51b
Partial-bug: #1400550
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/73/141673/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/generalpurpose/section_user_requirements_general_purpose.xml', 'doc/arch-design/generalpurpose/section_prescriptive_example_general_purpose.xml']",2,f2322a957ac6973708e40f2b27e3342acfa4305f,asettle/bug1400550," consisting of Tomcat, Nginx and MariaDB in a private cloud. To be able to meet policy requirements, the cloud infrastructure will run in their own data center. The company has predictable load requirements, but require scaling to cope with nightly increases in demand. Their current environment does not have the flexibility to align with their goal of running an open source API environment. The current environment consists of the following:</para> <para>Running hardware load balances and multiple web applications serving the sites, the company orchestrates environments using combinations of scripts and Puppet. The website generates large amounts of log data daily that requires archiving.</para> <para>OpenStack Controller service running Image, MariaDB and RabbitMQ. Running in highly available configurations on at least three <para>OpenStack Block Storage for use by compute instances, requiring persistent storage (such as databases for dynamic sites).</para> (such as images).</para> OpenStack Object Storage for processing and <para>Additional capabilities can be realized by with OpenStack Object Storage.</para> <note> <para> Increasing OpenStack Object Storage means network bandwidth needs to be taken into consideration. Running OpenStack Object Storage with network connections offering 10 GbE or better connectivity is advised. </para> </note> <para>Leveraging Orchestration and Telemetry modules is also a potential when providing auto-scaling, orchestrated web application environments. Defining the web applications in <glossterm negates the reliance on the current scripted Puppet solution.</para> This allows users to control hardware load balance pools"," consisting of Tomcat, Nginx and MariaDB in a private cloud. In order to meet policy requirements, the cloud infrastructure will run in their own data center. They have predictable load requirements but require an element of scaling to cope with nightly increases in demand. Their current environment is not flexible enough to align with their goal of running an open source API driven environment. Their current environment consists of the following:</para> <para>The company runs hardware load balancers and multiple web applications serving the sites. The company orchestrates their environment using a combination of scripts and Puppet. The websites generate a large amount of log data each day that needs to be archived.</para> <para>OpenStack Controller services running Image, MariaDB and RabbitMQ. The controllers will run in a highly available configuration on at least three <para>OpenStack Block Storage for use by compute instances that require persistent storage such as databases for dynamic sites.</para> such as images.</para> OpenStack Object Storage for later processing and <para>In this scenario, additional capabilities can be realized by with OpenStack Object Storage. Note that an increase in OpenStack Object Storage means that network bandwidth needs to be taken in to consideration. It is best to run OpenStack Object Storage with network connections offering 10 GbE or better connectivity.</para> <para>There is also a potential to leverage the Orchestration and Telemetry modules to provide an auto-scaling, orchestrated web application environment. Defining the web applications in <glossterm would negate the reliance on the scripted Puppet solution currently employed.</para> This would allow a user to control hardware load balance pools",76,86
openstack%2Fproject-config~master~I9defedb1010dae14896584ea5f6bf723a59a6356,openstack/project-config,master,I9defedb1010dae14896584ea5f6bf723a59a6356,Run acceptance tests without rake,MERGED,2014-12-15 06:38:42.000000000,2014-12-16 07:38:29.000000000,2014-12-16 07:38:29.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 7155}]","[{'number': 1, 'created': '2014-12-15 06:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea2c7ba6b737ccd922524ab3852711b03de29ebe', 'message': 'Run acceptance tests without rake\n\nFor modules that have unit tests in the spec/ directory, running\n`rake spec spec/acceptance` causes the rake task to only run the unit\ntests and not the acceptance tests. An example run is [1]. This patch\nruns the tests directly with the rspec command instead of using the\nrake command to go through the puppetlabs_spec_helper spec test rake\ntasks.\n\n[1] http://logs.openstack.org/20/102020/13/check/gate-puppet-nova-puppet-beaker-rspec/c2a7dce/console.html.gz\n\nChange-Id: I9defedb1010dae14896584ea5f6bf723a59a6356\n'}, {'number': 2, 'created': '2014-12-15 20:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/01d48eebb9894800dc4e23bc15d13ad04ac2c682', 'message': ""Run acceptance tests without rake\n\nThe puppetlabs_spec_helper has a 'spec' rake task that runs a defined\nset of unit tests in the spec/ directory of a module. It is not\nintended to accept any arguments. See [1] for the defined set. By\ndesign, it does not run any tests in the spec/acceptance/ directory.\nFor modules with only tests in the spec/acceptance directory and\nnowhere else in spec/, passing the argument spec/acceptance causes the\nunforeseen and undefined behavior where it will appear to correctly run\nthe acceptance tests. An example of this strange behavior is [2]. For\nmodules that have unit tests in the spec/ directory, where unit tests\nare defined by what the 'spec' rake task is intended to run, running\n`rake spec spec/acceptance` causes the rake task to only run the unit\ntests and not the acceptance tests. An example run is [3]. This patch\nruns the tests directly with the rspec command instead of using the\nrake command to go through the puppetlabs_spec_helper spec test rake\ntasks. For reference, the intended way to run beaker is documented [4].\n\n[1] https://github.com/puppetlabs/puppetlabs_spec_helper/blob/master/lib/puppetlabs_spec_helper/rake_tasks.rb#L10\n[2] http://logs.openstack.org/86/126086/12/check/gate-puppet-storyboard-puppet-beaker-rspec/074322d/console.html.gz\n[3] http://logs.openstack.org/20/102020/13/check/gate-puppet-nova-puppet-beaker-rspec/c2a7dce/console.html.gz\n[4] https://github.com/puppetlabs/beaker/wiki/How-to-Write-a-Beaker-Test-for-a-Module\n\nChange-Id: I9defedb1010dae14896584ea5f6bf723a59a6356\n""}, {'number': 3, 'created': '2014-12-15 21:00:29.000000000', 'files': ['jenkins/jobs/puppet-module-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/be6da399dab718c057e46524c88a72fc6b7686b5', 'message': ""Run acceptance tests without rake\n\nThe puppetlabs_spec_helper has a 'spec' rake task that runs a defined\nset of unit tests in the spec/ directory of a module. It is not\nintended to accept any arguments. See [1] for the defined set. By\ndesign, it does not run any tests in the spec/acceptance/ directory.\nFor modules with only tests in the spec/acceptance directory and\nnowhere else in spec/, passing the argument spec/acceptance causes the\nunforeseen and undefined behavior where it will appear to correctly run\nthe acceptance tests. An example of this strange behavior is [2]. For\nmodules that have unit tests in the spec/ directory, where unit tests\nare defined by what the 'spec' rake task is intended to run, running\n`rake spec spec/acceptance` causes the rake task to only run the unit\ntests and not the acceptance tests. An example run is [3]. This patch\nruns the tests directly with the rspec command instead of using the\nrake command to go through the puppetlabs_spec_helper spec test rake\ntasks. For reference, the intended way to run beaker is documented [4].\n\nIt should be noted that if a module does not have acceptance tests to\nrun, the test will fail whether we use the rake task or just the rspec\ncommand. This commit is not intended to correct that, but to cause\nmodules that do have acceptance tests to run those tests and not\nduplicate the effort of running unit tests that are already covered in\nseparate job.\n\n[1] https://github.com/puppetlabs/puppetlabs_spec_helper/blob/master/lib/puppetlabs_spec_helper/rake_tasks.rb#L10\n[2] http://logs.openstack.org/86/126086/12/check/gate-puppet-storyboard-puppet-beaker-rspec/074322d/console.html.gz\n[3] http://logs.openstack.org/20/102020/13/check/gate-puppet-nova-puppet-beaker-rspec/c2a7dce/console.html.gz\n[4] https://github.com/puppetlabs/beaker/wiki/How-to-Write-a-Beaker-Test-for-a-Module\n\nChange-Id: I9defedb1010dae14896584ea5f6bf723a59a6356\n""}]",0,141728,be6da399dab718c057e46524c88a72fc6b7686b5,18,9,3,8482,,,0,"Run acceptance tests without rake

The puppetlabs_spec_helper has a 'spec' rake task that runs a defined
set of unit tests in the spec/ directory of a module. It is not
intended to accept any arguments. See [1] for the defined set. By
design, it does not run any tests in the spec/acceptance/ directory.
For modules with only tests in the spec/acceptance directory and
nowhere else in spec/, passing the argument spec/acceptance causes the
unforeseen and undefined behavior where it will appear to correctly run
the acceptance tests. An example of this strange behavior is [2]. For
modules that have unit tests in the spec/ directory, where unit tests
are defined by what the 'spec' rake task is intended to run, running
`rake spec spec/acceptance` causes the rake task to only run the unit
tests and not the acceptance tests. An example run is [3]. This patch
runs the tests directly with the rspec command instead of using the
rake command to go through the puppetlabs_spec_helper spec test rake
tasks. For reference, the intended way to run beaker is documented [4].

It should be noted that if a module does not have acceptance tests to
run, the test will fail whether we use the rake task or just the rspec
command. This commit is not intended to correct that, but to cause
modules that do have acceptance tests to run those tests and not
duplicate the effort of running unit tests that are already covered in
separate job.

[1] https://github.com/puppetlabs/puppetlabs_spec_helper/blob/master/lib/puppetlabs_spec_helper/rake_tasks.rb#L10
[2] http://logs.openstack.org/86/126086/12/check/gate-puppet-storyboard-puppet-beaker-rspec/074322d/console.html.gz
[3] http://logs.openstack.org/20/102020/13/check/gate-puppet-nova-puppet-beaker-rspec/c2a7dce/console.html.gz
[4] https://github.com/puppetlabs/beaker/wiki/How-to-Write-a-Beaker-Test-for-a-Module

Change-Id: I9defedb1010dae14896584ea5f6bf723a59a6356
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/141728/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/puppet-module-jobs.yaml'],1,ea2c7ba6b737ccd922524ab3852711b03de29ebe,puppet-acceptance, bundle exec rspec spec/acceptance, bundle exec rake spec spec/acceptance,1,1
openstack%2Fsecurity-doc~master~I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9,openstack/security-doc,master,I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9,Added volume deletion information to the Security guide,MERGED,2014-12-09 05:03:33.000000000,2014-12-16 07:38:23.000000000,2014-12-16 07:38:22.000000000,"[{'_account_id': 3}, {'_account_id': 2807}, {'_account_id': 6547}, {'_account_id': 8590}, {'_account_id': 10705}, {'_account_id': 10897}]","[{'number': 1, 'created': '2014-12-09 05:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d733a09ba690402d7186e06f5505f7184134677f', 'message': 'Added volume deletion information to the Security guide\n\nAdded information about glance delay delete feature and the nova soft-delete\nfeature in the data disposal section\n\nChange-Id: I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9\nbackport: none\nCloses-Bug: #1329605\n'}, {'number': 2, 'created': '2014-12-09 05:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d5caf4472e5655ae92ba3027e015b2acb4a16946', 'message': 'Added volume deletion information to the Security guide\n\nAdded information about glance delay delete feature and the nova soft-delete\nfeature in the data disposal section\n\nChange-Id: I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9\nbackport: none\nCloses-Bug: #1329605\n'}, {'number': 3, 'created': '2014-12-16 00:36:59.000000000', 'files': ['security-guide/section_data-privacy-concerns.xml'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e4192fa154b2cbc4d6be30680d928ee77946ce34', 'message': 'Added volume deletion information to the Security guide\n\nAdded information about glance delay delete feature and the nova soft-delete feature in the data disposal section.\n\nChange-Id: I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9\nbackport: none\nCloses-Bug: #1329605\n'}]",0,140230,e4192fa154b2cbc4d6be30680d928ee77946ce34,16,6,3,10705,,,0,"Added volume deletion information to the Security guide

Added information about glance delay delete feature and the nova soft-delete feature in the data disposal section.

Change-Id: I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9
backport: none
Closes-Bug: #1329605
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/30/140230/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/section_data-privacy-concerns.xml'],1,d733a09ba690402d7186e06f5505f7184134677f,volumedeletion_secguide/darren," <para>Finally, while not a feature of OpenStack, vendors and implementors may choose to add or support encryption of volumes. In this case, destruction of data is as simple as throwing away the key.</para> </section> <section xml:id=""data-privacy-concerns-data-disposal-glance-delay-delete""> <title>Image Service delay delete feature</title> <para>OpenStack Image Service has a delayed delete feature, which will pend the deletion of an image for a defined time period. It is recommended to disable this feature if it is a security concern, by editing the <filename>etc/glance/glance-api.conf</filename> file and setting the <literal>delayed_delete</literal> option as <replaceable>False<replaceable>.</para> </section> <section xml:id=""data-privacy-concerns-data-disposal-nova-soft-delete""> <title>Compute soft delete feature</title> <para>OpenStack Compute has a soft-delete feature, which enables an instance that is deleted to be in a soft-delete state for a defined time period. The instance can be restored during this time period. To disable the soft-delete feature, edit the <filename>etc/nova/nova.conf</filename> file and leave the <literal>reclaim_instance_interval</literal> option empty.</para> <para>The creation and destruction of ephemeral storage will be somewhat dependent on the chosen hypervisor and the OpenStack Compute plug-in.</para> <para>The libvirt plug-in for compute may maintain ephemeral storage directly on a filesystem, or in LVM. Filesystem storage generally will not overwrite data when it is removed, although there is a guarantee that dirty extents are not provisioned to users.</para> <para>When using LVM backed ephemeral storage, which is block-based, it is necessary that the OpenStack Compute software securely erases blocks to prevent information disclosure. There have in the past been information disclosure vulnerabilities related to improperly erased ephemeral block storage devices.</para> <para>Filesystem storage is a more secure solution for ephemeral block storage devices than LVM as dirty extents cannot be provisioned to users. However, it is important to be mindful that user data is not destroyed, so it is suggested to encrypt the backing filesystem.</para>"," <para>Finally, while not a feature of OpenStack, vendors and implementors may choose to add or support encryption of volumes. In this case, destruction of data is as simple as throwing away the key.</para> <para>The creation and destruction of ephemeral storage will be somewhat dependent on the chosen hypervisor and the OpenStack Compute plug-in.</para> <para>The libvirt plug-in for compute may maintain ephemeral storage directly on a filesystem, or in LVM. Filesystem storage generally will not overwrite data when it is removed, although there is a guarantee that dirty extents are not provisioned to users.</para> <para>When using LVM backed ephemeral storage, which is block-based, it is necessary that the OpenStack Compute software securely erases blocks to prevent information disclosure. There have in the past been information disclosure vulnerabilities related to improperly erased ephemeral block storage devices.</para> <para>Filesystem storage is a more secure solution for ephemeral block storage devices than LVM as dirty extents cannot be provisioned to users. However, it is important to be mindful that user data is not destroyed, so it is suggested to encrypt the backing filesystem.</para>",40,5
openstack%2Fsecurity-doc~master~I24cb2a17b68c66d21492a4f154eac446945b34e9,openstack/security-doc,master,I24cb2a17b68c66d21492a4f154eac446945b34e9,Imported Translations from Transifex,MERGED,2014-12-16 06:11:45.000000000,2014-12-16 07:26:54.000000000,2014-12-16 07:26:54.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 06:11:45.000000000', 'files': ['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/7d10fb060f36123778743aef2baec3cdd76adf41', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I24cb2a17b68c66d21492a4f154eac446945b34e9\n'}]",0,141987,7d10fb060f36123778743aef2baec3cdd76adf41,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I24cb2a17b68c66d21492a4f154eac446945b34e9
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/87/141987/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po']",2,7d10fb060f36123778743aef2baec3cdd76adf41,transifex/translations,"""POT-Creation-Date: 2014-12-15 17:55+0000\n"" ""PO-Revision-Date: 2014-12-15 19:11+0000\n""#: ./security-guide/section_security-services-for-instances.xml90(None)#: ./security-guide/section_security-services-for-instances.xml35(title)#: ./security-guide/section_security-services-for-instances.xml71(title)#: ./security-guide/section_security-services-for-instances.xml141(title)#: ./security-guide/section_security-services-for-instances.xml216(title)#: ./security-guide/section_security-services-for-instances.xml288(title)#: ./security-guide/section_security-services-for-instances.xml317(title)#: ./security-guide/section_security-services-for-instances.xml31(para) #: ./security-guide/section_security-services-for-instances.xml335(title) msgid ""Firewalls and other host-based security controls"" msgstr """" #: ./security-guide/section_security-services-for-instances.xml36(para)#: ./security-guide/section_security-services-for-instances.xml48(para)#: ./security-guide/section_security-services-for-instances.xml60(para)#: ./security-guide/section_security-services-for-instances.xml72(para)#: ./security-guide/section_security-services-for-instances.xml73(para)#: ./security-guide/section_security-services-for-instances.xml93(para)#: ./security-guide/section_security-services-for-instances.xml94(para)""href=\""http://docs.openstack.org/trunk/config-reference/content"" ""/section_compute-scheduler.html#filter-figure\""> Filter Scheduler</link> "" ""section of the <citetitle>OpenStack Configuration Reference</citetitle>."" msgstr """" #: ./security-guide/section_security-services-for-instances.xml101(title)#: ./security-guide/section_security-services-for-instances.xml102(para)""<link href=\""http://docs.openstack.org/trunk/config-reference/content"" ""/section_compute-scheduler.html#host-aggregates\""> Host aggregates</link> "" ""section of the <citetitle>OpenStack Configuration Reference</citetitle> for "" ""more information on creating and managing aggregates).""#: ./security-guide/section_security-services-for-instances.xml116(title)#: ./security-guide/section_security-services-for-instances.xml117(para)#: ./security-guide/section_security-services-for-instances.xml127(title)#: ./security-guide/section_security-services-for-instances.xml128(para)#: ./security-guide/section_security-services-for-instances.xml131(title)#: ./security-guide/section_security-services-for-instances.xml132(para)#: ./security-guide/section_security-services-for-instances.xml135(title)#: ./security-guide/section_security-services-for-instances.xml136(para)#: ./security-guide/section_security-services-for-instances.xml137(para)#: ./security-guide/section_security-services-for-instances.xml142(para)#: ./security-guide/section_security-services-for-instances.xml144(title)#: ./security-guide/section_security-services-for-instances.xml145(para)#: ./security-guide/section_security-services-for-instances.xml153(para)#: ./security-guide/section_security-services-for-instances.xml160(para)#: ./security-guide/section_security-services-for-instances.xml168(para)#: ./security-guide/section_security-services-for-instances.xml169(para)#: ./security-guide/section_security-services-for-instances.xml205(para)#: ./security-guide/section_security-services-for-instances.xml206(para)#: ./security-guide/section_security-services-for-instances.xml209(title)#: ./security-guide/section_security-services-for-instances.xml210(para)#: ./security-guide/section_security-services-for-instances.xml211(para)#: ./security-guide/section_security-services-for-instances.xml212(para)#: ./security-guide/section_security-services-for-instances.xml217(para)#: ./security-guide/section_security-services-for-instances.xml227(para)#: ./security-guide/section_security-services-for-instances.xml228(para)#: ./security-guide/section_security-services-for-instances.xml229(para)#: ./security-guide/section_security-services-for-instances.xml230(para)#: ./security-guide/section_security-services-for-instances.xml231(para)#: ./security-guide/section_security-services-for-instances.xml234(title)#: ./security-guide/section_security-services-for-instances.xml235(para)#: ./security-guide/section_security-services-for-instances.xml237(para)#: ./security-guide/section_security-services-for-instances.xml240(para)#: ./security-guide/section_security-services-for-instances.xml243(para)#: ./security-guide/section_security-services-for-instances.xml246(para)#: ./security-guide/section_security-services-for-instances.xml251(title)#: ./security-guide/section_security-services-for-instances.xml252(para)#: ./security-guide/section_security-services-for-instances.xml254(para) #: ./security-guide/section_security-services-for-instances.xml264(title)#: ./security-guide/section_security-services-for-instances.xml257(para)#: ./security-guide/section_security-services-for-instances.xml260(para) #: ./security-guide/section_security-services-for-instances.xml277(title)#: ./security-guide/section_security-services-for-instances.xml265(para)#: ./security-guide/section_security-services-for-instances.xml273(title)#: ./security-guide/section_security-services-for-instances.xml274(para)#: ./security-guide/section_security-services-for-instances.xml278(para)#: ./security-guide/section_security-services-for-instances.xml280(para)#: ./security-guide/section_security-services-for-instances.xml281(para)#: ./security-guide/section_security-services-for-instances.xml282(para)#: ./security-guide/section_security-services-for-instances.xml289(para)#: ./security-guide/section_security-services-for-instances.xml302(para)#: ./security-guide/section_security-services-for-instances.xml306(para)#: ./security-guide/section_security-services-for-instances.xml318(para)#: ./security-guide/section_security-services-for-instances.xml325(para)#: ./security-guide/section_security-services-for-instances.xml336(para) msgid """" ""Most common operating systems include host-based firewalls for additional "" ""security. While we recommend that virtual machines run as few applications "" ""as possible (to the point of being single-purpose instances, if possible), "" ""all applications running on a virtual machine should be profiled to "" ""determine what system resources the application needs access to, the lowest "" ""level of privilege required for it to run, and what the expected network "" ""traffic is that will be going into and coming from the virtual machine. This"" "" expected traffic should be added to the host-based firewall as allowed "" ""traffic (or whitelisted), along with any necessary logging and management "" ""communication such as SSH or RDP. All other traffic should be explicitly "" ""denied in the firewall configuration."" msgstr """" #: ./security-guide/section_security-services-for-instances.xml349(para) msgid """" ""On Linux virtual machines, the application profile above can be used in "" ""conjunction with a tool like <link "" ""href=\""http://wiki.centos.org/HowTos/SELinux#head-"" ""faa96b3fdd922004cdb988c1989e56191c257c01\""><citetitle>audit2allow</citetitle></link>"" "" to build an SELinux policy that will further protect sensitive system "" ""information on most Linux distributions. SELinux uses a combination of "" ""users, policies and security contexts to compartmentalize the resources "" ""needed for an application to run, and segmenting it from other system "" ""resources that are not needed."" msgstr """" #: ./security-guide/section_security-services-for-instances.xml358(para) msgid """" ""OpenStack provides security groups for both hosts and the network to add "" ""defense in depth to the virtual machines in a given project. These are "" ""similar to host-based firewalls as they allow or deny incoming traffic based"" "" on port, protocol, and address, however security group rules are applied to"" "" incoming traffic only, while host-based firewall rules are able to be "" ""applied to both incoming and outgoing traffic. It is also possible for host "" ""and network security group rules to conflict and deny legitimate traffic. We"" "" recommend ensuring that security groups are configured correctly for the "" ""networking being used. See <xref linkend=\""networking-services-security-"" ""best-practices-security-groups\""/> in this guide for more detail."" msgstr """" ","""POT-Creation-Date: 2014-12-01 16:24+0000\n"" ""PO-Revision-Date: 2014-12-01 16:25+0000\n""#: ./security-guide/section_security-services-for-instances.xml84(None)#: ./security-guide/section_security-services-for-instances.xml32(title)#: ./security-guide/section_security-services-for-instances.xml68(title)#: ./security-guide/section_security-services-for-instances.xml134(title)#: ./security-guide/section_security-services-for-instances.xml209(title)#: ./security-guide/section_security-services-for-instances.xml281(title)#: ./security-guide/section_security-services-for-instances.xml310(title)#: ./security-guide/section_security-services-for-instances.xml33(para)#: ./security-guide/section_security-services-for-instances.xml45(para)#: ./security-guide/section_security-services-for-instances.xml57(para)#: ./security-guide/section_security-services-for-instances.xml69(para)#: ./security-guide/section_security-services-for-instances.xml70(para)#: ./security-guide/section_security-services-for-instances.xml90(para)#: ./security-guide/section_security-services-for-instances.xml91(para)""href=\""http://docs.openstack.org/trunk/config-reference/content/filter-"" ""scheduler.html\"">Filter Scheduler</link> section of the <citetitle>OpenStack"" "" Configuration Reference</citetitle>."" msgstr ""<citetitle>OpenStack Configuration Reference</citetitle><link href=\""http://docs.openstack.org/trunk/config-reference/content/filter-scheduler.html\"">Filter Scheduler</link>"" #: ./security-guide/section_security-services-for-instances.xml94(title)#: ./security-guide/section_security-services-for-instances.xml95(para)""<link href=\""http://docs.openstack.org/trunk/config-reference/content/host-"" ""aggregates.html\"">Host aggregates</link> section of the <citetitle>OpenStack"" "" Configuration Reference</citetitle> for more information on creating and "" ""managing aggregates).""#: ./security-guide/section_security-services-for-instances.xml109(title)#: ./security-guide/section_security-services-for-instances.xml110(para)#: ./security-guide/section_security-services-for-instances.xml120(title)#: ./security-guide/section_security-services-for-instances.xml121(para)#: ./security-guide/section_security-services-for-instances.xml124(title)#: ./security-guide/section_security-services-for-instances.xml125(para)#: ./security-guide/section_security-services-for-instances.xml128(title)#: ./security-guide/section_security-services-for-instances.xml129(para)#: ./security-guide/section_security-services-for-instances.xml130(para)#: ./security-guide/section_security-services-for-instances.xml135(para)#: ./security-guide/section_security-services-for-instances.xml137(title)#: ./security-guide/section_security-services-for-instances.xml138(para)#: ./security-guide/section_security-services-for-instances.xml146(para)#: ./security-guide/section_security-services-for-instances.xml153(para)#: ./security-guide/section_security-services-for-instances.xml161(para)#: ./security-guide/section_security-services-for-instances.xml162(para)#: ./security-guide/section_security-services-for-instances.xml198(para)#: ./security-guide/section_security-services-for-instances.xml199(para)#: ./security-guide/section_security-services-for-instances.xml202(title)#: ./security-guide/section_security-services-for-instances.xml203(para)#: ./security-guide/section_security-services-for-instances.xml204(para)#: ./security-guide/section_security-services-for-instances.xml205(para)#: ./security-guide/section_security-services-for-instances.xml210(para)#: ./security-guide/section_security-services-for-instances.xml220(para)#: ./security-guide/section_security-services-for-instances.xml221(para)#: ./security-guide/section_security-services-for-instances.xml222(para)#: ./security-guide/section_security-services-for-instances.xml223(para)#: ./security-guide/section_security-services-for-instances.xml224(para)#: ./security-guide/section_security-services-for-instances.xml227(title)#: ./security-guide/section_security-services-for-instances.xml228(para)#: ./security-guide/section_security-services-for-instances.xml230(para)#: ./security-guide/section_security-services-for-instances.xml233(para)#: ./security-guide/section_security-services-for-instances.xml236(para)#: ./security-guide/section_security-services-for-instances.xml239(para)#: ./security-guide/section_security-services-for-instances.xml244(title)#: ./security-guide/section_security-services-for-instances.xml245(para)#: ./security-guide/section_security-services-for-instances.xml247(para) #: ./security-guide/section_security-services-for-instances.xml257(title)#: ./security-guide/section_security-services-for-instances.xml250(para)#: ./security-guide/section_security-services-for-instances.xml253(para) #: ./security-guide/section_security-services-for-instances.xml270(title)#: ./security-guide/section_security-services-for-instances.xml258(para)#: ./security-guide/section_security-services-for-instances.xml266(title)#: ./security-guide/section_security-services-for-instances.xml267(para)#: ./security-guide/section_security-services-for-instances.xml271(para)#: ./security-guide/section_security-services-for-instances.xml273(para)#: ./security-guide/section_security-services-for-instances.xml274(para)#: ./security-guide/section_security-services-for-instances.xml275(para)#: ./security-guide/section_security-services-for-instances.xml282(para)#: ./security-guide/section_security-services-for-instances.xml295(para)#: ./security-guide/section_security-services-for-instances.xml299(para)#: ./security-guide/section_security-services-for-instances.xml311(para)#: ./security-guide/section_security-services-for-instances.xml318(para)",212,149
openstack%2Fopenstack-manuals~master~Ia7b6ffbd82930a071c827fbdfae97ebfde5d23ab,openstack/openstack-manuals,master,Ia7b6ffbd82930a071c827fbdfae97ebfde5d23ab,Imported Translations from Transifex,MERGED,2014-12-16 06:18:57.000000000,2014-12-16 07:26:41.000000000,2014-12-16 07:26:40.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-16 06:18:57.000000000', 'files': ['doc/install-guide/locale/install-guide.pot', 'doc/install-guide/locale/pt_BR.po', 'doc/config-reference/locale/config-reference.pot', 'doc/glossary/locale/ko_KR.po', 'doc/install-guide/locale/ja.po', 'doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1bbc83b79b60f79458a8ac9ef6d20d2f167104d1', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ia7b6ffbd82930a071c827fbdfae97ebfde5d23ab\n'}]",0,141989,1bbc83b79b60f79458a8ac9ef6d20d2f167104d1,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ia7b6ffbd82930a071c827fbdfae97ebfde5d23ab
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/89/141989/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/locale/install-guide.pot', 'doc/install-guide/locale/pt_BR.po', 'doc/config-reference/locale/config-reference.pot', 'doc/glossary/locale/ko_KR.po', 'doc/install-guide/locale/ja.po', 'doc/glossary/locale/ja.po']",6,1bbc83b79b60f79458a8ac9ef6d20d2f167104d1,transifex/translations,"""POT-Creation-Date: 2014-12-15 18:58+0000\n"" ""PO-Revision-Date: 2014-12-15 19:11+0000\n""msgstr ""Compute ""msgstr ""OpenStack Linux Object Storage  Image Service ""msgstr ""Compute""msgstr ""<systemitem class=\""service\"">nova-compute</systemitem> Web <phrase role=\""keep-together\""></phrase>""msgstr "" () Compute <systemitem class=\""service\"">nova-compute</systemitem> ""msgstr ""No ACK""","""POT-Creation-Date: 2014-12-15 00:16+0000\n"" ""PO-Revision-Date: 2014-12-15 01:50+0000\n""msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"msgstr """"",76,80
openstack%2Fnetworking-l2gw~master~I0e7877ad29738d8f18d8a70b9d32879fa897724b,openstack/networking-l2gw,master,I0e7877ad29738d8f18d8a70b9d32879fa897724b,Initial cookiecutter setup,MERGED,2014-12-12 07:31:45.000000000,2014-12-16 06:50:48.000000000,2014-12-16 06:50:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5217}, {'_account_id': 6558}]","[{'number': 1, 'created': '2014-12-12 07:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c5c232e51964f88003fac5f25c5c2811712b4ff8', 'message': 'Initial cookiecutter setup.\n\nChange-Id: I0e7877ad29738d8f18d8a70b9d32879fa897724b\n'}, {'number': 2, 'created': '2014-12-12 07:42:25.000000000', 'files': ['doc/source/contributing.rst', '.gitignore', 'test-requirements.txt', 'networking_l2gw/tests/base.py', 'README.rst', 'doc/source/usage.rst', 'setup.py', 'CONTRIBUTING.rst', 'requirements.txt', 'openstack-common.conf', '.coveragerc', 'LICENSE', 'networking_l2gw/__init__.py', 'networking_l2gw/tests/__init__.py', 'babel.cfg', 'doc/source/conf.py', 'MANIFEST.in', 'doc/source/installation.rst', 'doc/source/index.rst', '.testr.conf', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'networking_l2gw/tests/test_networking_l2gw.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/cbd20bb3366ecd12af6e5f79a2643b9afb9d822c', 'message': 'Initial cookiecutter setup\n\nChange-Id: I0e7877ad29738d8f18d8a70b9d32879fa897724b\n'}]",0,141289,cbd20bb3366ecd12af6e5f79a2643b9afb9d822c,8,4,2,748,,,0,"Initial cookiecutter setup

Change-Id: I0e7877ad29738d8f18d8a70b9d32879fa897724b
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/89/141289/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'networking_l2gw/__init__.py', 'test-requirements.txt', 'networking_l2gw/tests/__init__.py', 'networking_l2gw/tests/base.py', 'README.rst', 'doc/source/usage.rst', 'babel.cfg', 'setup.py', 'doc/source/conf.py', 'MANIFEST.in', 'doc/source/installation.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'requirements.txt', 'openstack-common.conf', 'doc/source/readme.rst', 'setup.cfg', 'LICENSE', 'tox.ini', 'networking_l2gw/tests/test_networking_l2gw.py', 'HACKING.rst']",22,c5c232e51964f88003fac5f25c5c2811712b4ff8,initial-commit,networking-l2gw Style Commandments =============================================== Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/ ,,541,0
openstack%2Fneutron~master~I8705f80f7d5b09dcdaca77eb4c2d63a809fba404,openstack/neutron,master,I8705f80f7d5b09dcdaca77eb4c2d63a809fba404,linuxbridge QoS support,ABANDONED,2014-01-24 03:40:21.000000000,2014-12-16 06:43:06.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 2592}, {'_account_id': 4428}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 7823}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 12412}]","[{'number': 1, 'created': '2014-01-24 03:40:21.000000000', 'files': ['neutron/common/constants.py', 'neutron/db/qos_rpc_base.py', 'neutron/db/qos_db.py', 'neutron/services/qos/drivers/qos_base.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/services/qos/drivers/linux_tc.py', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'neutron/services/qos/agents/qos_rpc.py', 'neutron/services/qos/drivers/openflow.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/407dfc4bad644d77dd3ab9c67ef2ce6c12159bae', 'message': ""linuxbridge QoS support\n\nNote:\nThis code is for early review since base QoS codes are\nunder review yet. It is also intended that review of this\ncode may make feedback to the design (ex. RPC interface)\nof the base QoS codes.\nUnit tests will be added after the base QoS codes become\nstable enough.\n\nImplements blueprint ml2-qos-linuxbridge\n\n'ratelimit' QoS policy type is added. 'policy' attribute has\nthree keys, 'tc_rate', 'tc_latency' and 'tc_burst', which\ncorrespond to the 'rate', 'latency' and 'burst' parameters of\nlinux tc(8) command respectively.\n\nThis is intended that linuxbridge agent sets QoS by using tc\ncommand with these parameters to an interface on a host which\ncorresponds a Neutron port.\n\nThe linux_tc qos driver is added for this work. The driver\nworks a part of a linuxbrdge agent.\nThe driver has following restrictions:\n* Network QoS is not supported.\n* For port Qos, only ports which are in a router are supported.\n  And only outgoing traffic from the router is controlled.\n  (Note that this is original motivation of the blueprint.)\n\nChange-Id: I8705f80f7d5b09dcdaca77eb4c2d63a809fba404\nDocImpact\n""}]",0,68839,407dfc4bad644d77dd3ab9c67ef2ce6c12159bae,43,14,1,4149,,,0,"linuxbridge QoS support

Note:
This code is for early review since base QoS codes are
under review yet. It is also intended that review of this
code may make feedback to the design (ex. RPC interface)
of the base QoS codes.
Unit tests will be added after the base QoS codes become
stable enough.

Implements blueprint ml2-qos-linuxbridge

'ratelimit' QoS policy type is added. 'policy' attribute has
three keys, 'tc_rate', 'tc_latency' and 'tc_burst', which
correspond to the 'rate', 'latency' and 'burst' parameters of
linux tc(8) command respectively.

This is intended that linuxbridge agent sets QoS by using tc
command with these parameters to an interface on a host which
corresponds a Neutron port.

The linux_tc qos driver is added for this work. The driver
works a part of a linuxbrdge agent.
The driver has following restrictions:
* Network QoS is not supported.
* For port Qos, only ports which are in a router are supported.
  And only outgoing traffic from the router is controlled.
  (Note that this is original motivation of the blueprint.)

Change-Id: I8705f80f7d5b09dcdaca77eb4c2d63a809fba404
DocImpact
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/68839/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/db/qos_rpc_base.py', 'neutron/db/qos_db.py', 'neutron/services/qos/drivers/qos_base.py', 'neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/services/qos/drivers/linux_tc.py', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'neutron/services/qos/agents/qos_rpc.py', 'neutron/services/qos/drivers/openflow.py']",9,407dfc4bad644d77dd3ab9c67ef2ce6c12159bae,bp/ml2-qos-linuxbridge," def delete_qos_for_port(self, port_id, **kwargs): def port_qos_updated(self, policy, port_id, **kwargs):"," def delete_qos_for_port(self, port_id): def port_qos_updated(self, policy, port_id):",205,13
openstack%2Fneutron-specs~master~Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759,openstack/neutron-specs,master,Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759,Linuxbridge QoS Support,ABANDONED,2014-05-29 02:05:51.000000000,2014-12-16 06:42:15.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1935}, {'_account_id': 2592}, {'_account_id': 2888}, {'_account_id': 4149}, {'_account_id': 4656}, {'_account_id': 6854}, {'_account_id': 6859}, {'_account_id': 12412}, {'_account_id': 12647}]","[{'number': 1, 'created': '2014-05-29 02:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d597a1f018990e99f8e96337a880414d0bee261d', 'message': ""Linuxbridge QoS Support\n\nNote:\nThis blueprint presupposes 'Neutron QoS API Extension' blueprint\n(https://review.openstack.org/88599/) which is under review\nand 'ML2 QoS support' whick is not submitted yet.\nThis blueprint is for early review and is intended to show our\nuse case.\nThis blueprint will be updated when the base brueprints become\nstable enough.\n\nChange-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759\n""}, {'number': 2, 'created': '2014-06-02 05:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/da5729982a9cb71a88cfa95b6409a94ded99e28a', 'message': ""Linuxbridge QoS Support\n\nNote:\nThis blueprint presupposes 'Neutron QoS API Extension' blueprint\n(https://review.openstack.org/88599/) which is under review\nand 'ML2 QoS support' whick is not submitted yet.\nThis blueprint is for early review and is intended to show our\nuse case.\nThis blueprint will be updated when the base brueprints become\nstable enough.\n\nChange-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759\n""}, {'number': 3, 'created': '2014-06-02 05:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/416ab447d9ec17844560e89226a5d236f459bd74', 'message': ""Linuxbridge QoS Support\n\nNote:\nThis blueprint presupposes 'Neutron QoS API Extension' blueprint\n(https://review.openstack.org/88599/) which is under review\nand 'ML2 QoS support' whick is not submitted yet.\nThis blueprint is for early review and is intended to show our\nuse case.\nThis blueprint will be updated when the base brueprints become\nstable enough.\n\nChange-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759\n""}, {'number': 4, 'created': '2014-06-02 06:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0d2c4772e73ee12e2aa9c7a1829e88f2d7100f62', 'message': ""Linuxbridge QoS Support\n\nNote:\nThis blueprint presupposes 'Neutron QoS API Extension' blueprint\n(https://review.openstack.org/88599/) which is under review\nand 'ML2 QoS support' whick is not submitted yet.\nThis blueprint is for early review and is intended to show our\nuse case.\nThis blueprint will be updated when the base brueprints become\nstable enough.\n\nChange-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759\n""}, {'number': 5, 'created': '2014-07-02 23:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8825ff6c602f14ad288c1b2b9cc57f8d04a6f0e8', 'message': ""Linuxbridge QoS Support\n\nThis blueprint proposes QoS implementation for ports connected\nto linuxbrdge(i.e. when ML2 linuxbrdige mechanism driver used).\nThis blueprint presupposes 'Neutron QoS API Extension' blueprint\n(https://review.openstack.org/88599/).\n\nChange-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759\n""}, {'number': 6, 'created': '2014-07-02 23:04:03.000000000', 'files': ['specs/juno/ml2-qos-linuxbridge.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cadbcb7f1610cb6ecd4060be838fdcf89ed160fc', 'message': ""Linuxbridge QoS Support\n\nThis blueprint proposes QoS implementation for ports connected\nto linuxbrdge(i.e. when ML2 linuxbrdige mechanism driver used).\nThis blueprint presupposes 'Neutron QoS API Extension' blueprint\n(https://review.openstack.org/88599/).\n\nChange-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759\n""}]",28,96331,cadbcb7f1610cb6ecd4060be838fdcf89ed160fc,41,11,6,4149,,,0,"Linuxbridge QoS Support

This blueprint proposes QoS implementation for ports connected
to linuxbrdge(i.e. when ML2 linuxbrdige mechanism driver used).
This blueprint presupposes 'Neutron QoS API Extension' blueprint
(https://review.openstack.org/88599/).

Change-Id: Iae8ca7415ef5a02c3f7041dacf7ed0d9c1b5e759
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/31/96331/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/ml2-qos-linuxbridge.rst'],1,d597a1f018990e99f8e96337a880414d0bee261d,bp/proposes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Linuxbridge QoS Support ========================================== https://blueprints.launchpad.net/neutron/+spec/ml2-qos-linuxbridge Problem description =================== QoS API and its implementation for ML2 openvswitch mechanism driver is under development. This blueprint proposes QoS for ML2 linuxbridge mechanism driver. The main intention is to control outbound traffic from a router to an external network. i.e. It is wanted to set QoS to a port of an external network in a router. Proposed change =============== QoS using linux tc(8) command is supported to linuxbridge ports. 'ratelimit' type and policy attributes for the type are supported to QoS API. neutron-linuxbridge-agent handles QoS setting for ports. * QoS API Accept 'ratelimit' type and validation check for 'ratelimit' is added. DB model change is not necessary. * ML2 plugin Need to include QoS parameters in the response of 'get_device_detail' RPC call so that neutron-linuxbridge-agent can handle QoS. QoS RPC call change is not necessary. * neutron-linuxbridge-agent QoS handling is added. Setting QoS to a network is not supported for linuxbridge. Setting QoS to a port only. Alternatives ------------ Extend QoS API to set to a router (QoS is set to an external network port in the router) is an alternative. l3_agent handles QoS in this case. Data model impact ----------------- None. REST API impact --------------- The 'type' attribute of QoS resource accepts 'ratelimit'. The 'policy' attribute has three keys, 'tc_rate', 'tc_latency' and 'tc_burst', which correspond to the 'rate', 'latency' and 'burst' parameters of tc(8) command, respectively. example: :: 'qos': {'type': 'ratelimit', 'policy': {'tc_rate': '100mbit', 'tc_latency': '50ms', 'tc_burst': '3000k'}} Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: oda-g Other contributors: None Work Items ---------- Dependencies ============ None. Testing ======= Unit tests will be added. Documentation Impact ==================== Usage of 'ratelimit' type will be added to API reference document. References ========== * https://review.openstack.org/#/c/88599 Neutron QoS API Extension ",,149,0
openstack%2Fneutron~master~I0d38df0510b95160c67ea7b76ed413138fa3d770,openstack/neutron,master,I0d38df0510b95160c67ea7b76ed413138fa3d770,ofa_test_base: Fix NoSuchOptError in UT,MERGED,2014-11-14 03:46:43.000000000,2014-12-16 06:27:32.000000000,2014-12-16 06:27:31.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7743}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}]","[{'number': 1, 'created': '2014-11-14 03:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ff20579f0325a0c9e7224f9e491cbf946deec57', 'message': 'ofa_test_base: Set up cfg.CONF\n\nOtherwise, depending on the execution order of tests,\nsome tests in test_ofa_neutron_agent can fail with\nthe following exception:\n\n    NoSuchOptError: no such option: config_dir\n\nThe problem has been exposed by the recently merged change\nfor policy module, commit d83731a96d3b47fab1295de1fb53cfe30576619c .\n\nCloses-Bug: #1392569\nChange-Id: I0d38df0510b95160c67ea7b76ed413138fa3d770\n'}, {'number': 2, 'created': '2014-11-17 02:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46e309a10012858fee64a440383a66f525422cba', 'message': 'ofa_test_base: Fix NoSuchOptError in UT\n\nEnsure setting up cfg.CONF.\nOtherwise, depending on the execution order of tests,\nsome tests in test_ofa_neutron_agent can fail with\nthe following exception:\n\n    NoSuchOptError: no such option: config_dir\n\nThe problem has been exposed by the recently merged change\nfor policy module, commit d83731a96d3b47fab1295de1fb53cfe30576619c .\n\nCloses-Bug: #1392569\nChange-Id: I0d38df0510b95160c67ea7b76ed413138fa3d770'}, {'number': 3, 'created': '2014-12-10 04:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77f0f684690085e9302cf0882e14fbb3187b9de9', 'message': 'ofa_test_base: Fix NoSuchOptError in UT\n\nEnsure setting up cfg.CONF.\nOtherwise, depending on the execution order of tests,\nsome tests in test_ofa_neutron_agent can fail with\nthe following exception:\n\n    NoSuchOptError: no such option: config_dir\n\nThe problem has been exposed by the recently merged change\nfor policy module, commit d83731a96d3b47fab1295de1fb53cfe30576619c .\n\nCloses-Bug: #1392569\nChange-Id: I0d38df0510b95160c67ea7b76ed413138fa3d770'}, {'number': 4, 'created': '2014-12-10 04:41:04.000000000', 'files': ['neutron/tests/unit/ofagent/ofa_test_base.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5da567f6035a97cd989f1da9f6bafc4c4396bfa2', 'message': 'ofa_test_base: Fix NoSuchOptError in UT\n\nEnsure setting up cfg.CONF.\nOtherwise, depending on the execution order of tests,\nsome tests in test_ofa_neutron_agent can fail with\nthe following exception:\n\n    NoSuchOptError: no such option: config_dir\n\nThe problem has been exposed by the recently merged change\nfor policy module, commit d83731a96d3b47fab1295de1fb53cfe30576619c .\n\nCloses-Bug: #1392569\nChange-Id: I0d38df0510b95160c67ea7b76ed413138fa3d770\n'}]",0,134435,5da567f6035a97cd989f1da9f6bafc4c4396bfa2,85,30,4,6854,,,0,"ofa_test_base: Fix NoSuchOptError in UT

Ensure setting up cfg.CONF.
Otherwise, depending on the execution order of tests,
some tests in test_ofa_neutron_agent can fail with
the following exception:

    NoSuchOptError: no such option: config_dir

The problem has been exposed by the recently merged change
for policy module, commit d83731a96d3b47fab1295de1fb53cfe30576619c .

Closes-Bug: #1392569
Change-Id: I0d38df0510b95160c67ea7b76ed413138fa3d770
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/134435/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/ofagent/ofa_test_base.py'],1,2ff20579f0325a0c9e7224f9e491cbf946deec57,bug/1392569, self.config_parse(),,1,0
openstack%2Fneutron~master~Ib58a1b53ace178e1bf99150628fa5576b079e8bc,openstack/neutron,master,Ib58a1b53ace178e1bf99150628fa5576b079e8bc,Set timeout for functional job,MERGED,2014-12-12 17:43:15.000000000,2014-12-16 06:01:04.000000000,2014-12-16 06:01:03.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1561}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 8655}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-12 17:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24c5fa4c8e1130640d988ef9b9e359b782214890', 'message': 'Set timeout for functional job\n\nAs functional jobs take more time to finish than unit tests and also\nthere is a chance that test will hang due to system interaction, this\npatch sets maximum execution time to 25 seconds per test.\n\nChange-Id: Ib58a1b53ace178e1bf99150628fa5576b079e8bc\n'}, {'number': 2, 'created': '2014-12-15 11:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa09c36bd19014008263d1bf5ba799e6783dd3e8', 'message': 'Set timeout for functional job\n\nAs functional jobs take more time to finish than unit tests and also\nthere is a chance that test will hang due to system interaction, this\npatch sets maximum execution time to 25 seconds per test.\n\nChange-Id: Ib58a1b53ace178e1bf99150628fa5576b079e8bc\n'}, {'number': 3, 'created': '2014-12-15 11:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00c6d459c218b48d784f5745f1e26079e57dea0c', 'message': 'Set timeout for functional job\n\nAs functional jobs take more time to finish than unit tests and also\nthere is a chance that test will hang due to system interaction, this\npatch sets maximum execution time to 25 seconds per test.\n\nChange-Id: Ib58a1b53ace178e1bf99150628fa5576b079e8bc\n'}, {'number': 4, 'created': '2014-12-15 13:30:53.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py', 'neutron/tests/functional/agent/linux/test_async_process.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e802a566ba6a5660e12fab1081e4394ac14dfb', 'message': 'Set timeout for functional job\n\nAs functional jobs take more time to finish than unit tests and also\nthere is a chance that test will hang due to system interaction, this\npatch sets maximum execution time to 90 seconds per test.\n\nChange-Id: Ib58a1b53ace178e1bf99150628fa5576b079e8bc\n'}]",4,141441,60e802a566ba6a5660e12fab1081e4394ac14dfb,74,24,4,8655,,,0,"Set timeout for functional job

As functional jobs take more time to finish than unit tests and also
there is a chance that test will hang due to system interaction, this
patch sets maximum execution time to 90 seconds per test.

Change-Id: Ib58a1b53ace178e1bf99150628fa5576b079e8bc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/141441/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,24c5fa4c8e1130640d988ef9b9e359b782214890,raise_functest_timeout, OS_TEST_TIMEOUT=25 OS_TEST_TIMEOUT=25,,2,0
openstack%2Fdocs-specs~master~I48a041df50a30e29e66e2b6d1f961a980cbe8557,openstack/docs-specs,master,I48a041df50a30e29e66e2b6d1f961a980cbe8557,convert-training-xml-into-rst spec,ABANDONED,2014-12-08 18:44:22.000000000,2014-12-16 05:45:40.000000000,,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6923}]","[{'number': 1, 'created': '2014-12-08 18:44:22.000000000', 'files': ['specs/kilo/convert-training-xml-into-rst.rst'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/9bfb7b08bd95802401dd43ef14be3fdaaf294e22', 'message': 'convert-training-xml-into-rst spec\n\nnew spec for only converting existing XML, what\nto do with leftover XML will be a separate spec\n\nimplements blueprint convert-the-xml-into-rst\n\nChange-Id: I48a041df50a30e29e66e2b6d1f961a980cbe8557\n'}]",4,140109,9bfb7b08bd95802401dd43ef14be3fdaaf294e22,5,3,1,6923,,,0,"convert-training-xml-into-rst spec

new spec for only converting existing XML, what
to do with leftover XML will be a separate spec

implements blueprint convert-the-xml-into-rst

Change-Id: I48a041df50a30e29e66e2b6d1f961a980cbe8557
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/09/140109/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/convert-training-xml-into-rst.rst'],1,9bfb7b08bd95802401dd43ef14be3fdaaf294e22,bp/convert-the-xml-into-rst,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Convert the Training XML into RST ================================= https://blueprints.launchpad.net/openstack-training-guides/+spec/convert-the-xml-into-rst Key parts of the existing training-guides books at docs.openstack.org will be converted from XML to RST. The RST format will support the automated creation of HMTL slides. The HTML slides will be published as part of gate to docs.openstack.org/training-guides. This blueprint will also cover what xml content that will remain and not be converted into RST. Problem description =================== Over the Kilo design summit, the training team along with the docs program team that most of the XML currently in docbooks format would be converted to RST. Proposed change =============== The RST format will follow the RST formated upstream training material Alternatives ------------ Discussion on https://etherpad.openstack.org/p/training-guides-kilo-summit Implementation ============== Assignee(s) ----------- Primary assignee: sarob Other contributors: Work Items ---------- Each associate and operator chapter will be summarized down to RST content Dependencies ============ * https://blueprints.launchpad.net/openstack-training-guides/+spec/merge-unused-content-back-into-the-existing-docs * https://blueprints.launchpad.net/openstack-training-guides/+spec/training-guides-tools Testing ======= Testing through the SFbay openstack user group References ========== https://etherpad.openstack.org/p/training-guides-kilo-summit ",,73,0
openstack%2Fneutron-lbaas~master~I54c92a80e1d61bf7e2f710d3160697c22e2c94f5,openstack/neutron-lbaas,master,I54c92a80e1d61bf7e2f710d3160697c22e2c94f5,Kill oslo-incubator files,MERGED,2014-12-12 16:59:14.000000000,2014-12-16 05:38:57.000000000,2014-12-16 05:38:57.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 9656}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-12-12 16:59:14.000000000', 'files': ['neutron_lbaas/openstack/common/fileutils.py', 'neutron_lbaas/openstack/common/uuidutils.py', 'neutron_lbaas/openstack/common/cache/backends.py', 'neutron_lbaas/openstack/common/systemd.py', 'neutron_lbaas/openstack/common/threadgroup.py', 'neutron_lbaas/openstack/common/eventlet_backdoor.py', 'neutron_lbaas/openstack/common/loopingcall.py', 'neutron_lbaas/openstack/common/service.py', 'neutron_lbaas/openstack/common/fixture/lockutils.py', 'neutron_lbaas/openstack/common/context.py', 'neutron_lbaas/openstack/common/versionutils.py', 'openstack-common.conf', 'neutron_lbaas/openstack/common/fixture/__init__.py', 'neutron_lbaas/openstack/common/local.py', 'neutron_lbaas/openstack/common/cache/cache.py', 'neutron_lbaas/openstack/common/_i18n.py', 'neutron_lbaas/openstack/common/processutils.py', 'neutron_lbaas/openstack/common/lockutils.py', 'neutron_lbaas/openstack/common/fixture/logging.py', 'neutron_lbaas/openstack/common/middleware/__init__.py', 'neutron_lbaas/openstack/common/log.py', 'neutron_lbaas/openstack/common/middleware/request_id.py', 'neutron_lbaas/openstack/common/middleware/catch_errors.py', 'neutron_lbaas/openstack/common/policy.py', 'neutron_lbaas/openstack/common/cache/__init__.py', 'neutron_lbaas/openstack/common/periodic_task.py', 'neutron_lbaas/openstack/__init__.py', 'neutron_lbaas/openstack/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7e3c12b0b7bfff6650d91fc7d3a0928a2b946700', 'message': 'Kill oslo-incubator files\n\nThey are not used, and just use space. If any of those modules is\nneeded, just use its version from neutron repo.\n\nChange-Id: I54c92a80e1d61bf7e2f710d3160697c22e2c94f5\n'}]",0,141427,7e3c12b0b7bfff6650d91fc7d3a0928a2b946700,15,4,1,9656,,,0,"Kill oslo-incubator files

They are not used, and just use space. If any of those modules is
needed, just use its version from neutron repo.

Change-Id: I54c92a80e1d61bf7e2f710d3160697c22e2c94f5
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/27/141427/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/openstack/common/fileutils.py', 'neutron_lbaas/openstack/common/uuidutils.py', 'neutron_lbaas/openstack/common/cache/backends.py', 'neutron_lbaas/openstack/common/systemd.py', 'neutron_lbaas/openstack/common/threadgroup.py', 'neutron_lbaas/openstack/common/eventlet_backdoor.py', 'neutron_lbaas/openstack/common/loopingcall.py', 'neutron_lbaas/openstack/common/service.py', 'neutron_lbaas/openstack/common/fixture/lockutils.py', 'neutron_lbaas/openstack/common/context.py', 'neutron_lbaas/openstack/common/versionutils.py', 'openstack-common.conf', 'neutron_lbaas/openstack/common/fixture/__init__.py', 'neutron_lbaas/openstack/common/local.py', 'neutron_lbaas/openstack/common/cache/cache.py', 'neutron_lbaas/openstack/common/_i18n.py', 'neutron_lbaas/openstack/common/processutils.py', 'neutron_lbaas/openstack/common/lockutils.py', 'neutron_lbaas/openstack/common/fixture/logging.py', 'neutron_lbaas/openstack/common/middleware/__init__.py', 'neutron_lbaas/openstack/common/log.py', 'neutron_lbaas/openstack/common/middleware/request_id.py', 'neutron_lbaas/openstack/common/middleware/catch_errors.py', 'neutron_lbaas/openstack/common/policy.py', 'neutron_lbaas/openstack/common/cache/__init__.py', 'neutron_lbaas/openstack/common/periodic_task.py', 'neutron_lbaas/openstack/__init__.py', 'neutron_lbaas/openstack/common/__init__.py']",28,7e3c12b0b7bfff6650d91fc7d3a0928a2b946700,,,,0,4681
openstack%2Fironic-python-agent~master~I94ec7299a5c918b3569e1e6f64a9bfa0c70d28d4,openstack/ironic-python-agent,master,I94ec7299a5c918b3569e1e6f64a9bfa0c70d28d4,Fix missing string format symbol,MERGED,2014-12-16 00:41:26.000000000,2014-12-16 05:16:51.000000000,2014-12-16 05:16:51.000000000,"[{'_account_id': 3}, {'_account_id': 10342}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-12-16 00:41:26.000000000', 'files': ['ironic_python_agent/netutils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/88c2bca93cc06478cd9a1f1830496a0f5dce7dd0', 'message': 'Fix missing string format symbol\n\nChange-Id: I94ec7299a5c918b3569e1e6f64a9bfa0c70d28d4\n'}]",0,141954,88c2bca93cc06478cd9a1f1830496a0f5dce7dd0,8,3,1,10380,,,0,"Fix missing string format symbol

Change-Id: I94ec7299a5c918b3569e1e6f64a9bfa0c70d28d4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/54/141954/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/netutils.py'],1,88c2bca93cc06478cd9a1f1830496a0f5dce7dd0,fix_log_line, LOG.debug('Binding interface %(interface)s for protocol ', LOG.debug('Binding interface %(interface) for protocol ',1,1
openstack%2Foslo.db~feature%2F1.2~I612818479c71cc3dd00b0c0e73ca3eebd376f492,openstack/oslo.db,feature/1.2,I612818479c71cc3dd00b0c0e73ca3eebd376f492,Update .gitreview for new branch,MERGED,2014-12-15 20:07:15.000000000,2014-12-16 05:12:44.000000000,2014-12-16 05:12:44.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-15 20:07:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/63ae95f1e1478b928eb7c86c35252c18d1ae0940', 'message': 'Update .gitreview for new branch\n\nChange-Id: I612818479c71cc3dd00b0c0e73ca3eebd376f492\n'}]",0,141893,63ae95f1e1478b928eb7c86c35252c18d1ae0940,11,4,1,2472,,,0,"Update .gitreview for new branch

Change-Id: I612818479c71cc3dd00b0c0e73ca3eebd376f492
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/93/141893/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,63ae95f1e1478b928eb7c86c35252c18d1ae0940,update-sqlalchemy-requirements,defaultbranch=feature/1.2,,1,0
openstack%2Ffuel-main~stable%2F6.0~I5959d10df731eee2e81db5943105b227ceec8938,openstack/fuel-main,stable/6.0,I5959d10df731eee2e81db5943105b227ceec8938,Change thread for cluster_action tests,MERGED,2014-12-15 20:01:55.000000000,2014-12-16 04:54:49.000000000,2014-12-16 04:54:49.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-12-15 20:01:55.000000000', 'files': ['fuelweb_test/tests/test_environment_action.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/820128ebcf8c8b058275294abedfd7ebd696f48d', 'message': 'Change thread for cluster_action tests\n\nIn thread_2 and thread_3 we have aborded jobs,\ncause cluster_action tests are require extra time.\n\nChange-Id: I5959d10df731eee2e81db5943105b227ceec8938\n(cherry picked from commit 30c24c198924285877041efda53a334b0b84f110)\n'}]",0,141892,820128ebcf8c8b058275294abedfd7ebd696f48d,8,5,1,8882,,,0,"Change thread for cluster_action tests

In thread_2 and thread_3 we have aborded jobs,
cause cluster_action tests are require extra time.

Change-Id: I5959d10df731eee2e81db5943105b227ceec8938
(cherry picked from commit 30c24c198924285877041efda53a334b0b84f110)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/92/141892/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_environment_action.py'],1,820128ebcf8c8b058275294abedfd7ebd696f48d,,"@test(groups=[""cluster_actions""])@test(groups=[""cluster_actions""])","@test(groups=[""thread_2"", ""cluster_actions""])@test(groups=[""thread_3"", ""cluster_actions""])",2,2
openstack%2Fcinder~master~Ifbda275e4a60dda144a169ef00a4ea5e548dfa03,openstack/cinder,master,Ifbda275e4a60dda144a169ef00a4ea5e548dfa03,FibreChannel drivers for NetApp Data ONTAP storage controllers,MERGED,2014-12-05 18:03:04.000000000,2014-12-16 03:56:13.000000000,2014-12-14 02:25:48.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7600}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9366}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11865}, {'_account_id': 11878}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-12-05 18:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4757fe4024ff61d9d7817dfa73c1ed81e238891', 'message': ""FibreChannel drivers for NetApp Data ONTAP storage controllers\n\nThis patch adds FibreChannel support to NetApp's Cinder drivers\nfor Data ONTAP (7-mode and Cluster-mode).  The drivers make full\nuse of Cinder's FibreChannel zone manager.\n\nImplements blueprint add-fibre-channel-support-to-netapp-drivers\nChange-Id: Ifbda275e4a60dda144a169ef00a4ea5e548dfa03\n""}, {'number': 2, 'created': '2014-12-05 23:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38a6a235647675c1e3d1a782012297ef79a7f2ab', 'message': ""FibreChannel drivers for NetApp Data ONTAP storage controllers\n\nThis patch adds FibreChannel support to NetApp's Cinder drivers\nfor Data ONTAP (7-mode and Cluster-mode).  The drivers make full\nuse of Cinder's FibreChannel zone manager.\n\nImplements blueprint add-fibre-channel-support-to-netapp-drivers\nChange-Id: Ifbda275e4a60dda144a169ef00a4ea5e548dfa03\n""}, {'number': 3, 'created': '2014-12-08 15:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/705f7ba0d3e0e1a66fb48aac7a0bf433a2677947', 'message': ""FibreChannel drivers for NetApp Data ONTAP storage controllers\n\nThis patch adds FibreChannel support to NetApp's Cinder drivers\nfor Data ONTAP (7-mode and Cluster-mode).  The drivers make full\nuse of Cinder's FibreChannel zone manager.\n\nImplements blueprint add-fibre-channel-support-to-netapp-drivers\nChange-Id: Ifbda275e4a60dda144a169ef00a4ea5e548dfa03\n""}, {'number': 4, 'created': '2014-12-10 21:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81e4b9fa7c4b1493f74bc80dfb71b61ab905d96c', 'message': ""FibreChannel drivers for NetApp Data ONTAP storage controllers\n\nThis patch adds FibreChannel support to NetApp's Cinder drivers\nfor Data ONTAP (7-mode and Cluster-mode).  The drivers make full\nuse of Cinder's FibreChannel zone manager.\n\nImplements blueprint add-fibre-channel-support-to-netapp-drivers\nChange-Id: Ifbda275e4a60dda144a169ef00a4ea5e548dfa03\n""}, {'number': 5, 'created': '2014-12-12 17:08:50.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/options.py', 'cinder/tests/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/volume/drivers/netapp/dataontap/fakes.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/tests/volume/drivers/netapp/fakes.py', 'cinder/tests/volume/drivers/netapp/dataontap/__init__.py', 'cinder/tests/volume/drivers/netapp/dataontap/client/test_client_7mode.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_7mode.py', 'cinder/volume/drivers/netapp/common.py', 'cinder/volume/drivers/netapp/dataontap/fc_7mode.py', 'cinder/tests/volume/drivers/netapp/dataontap/client/test_client_base.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/tests/volume/drivers/netapp/eseries/__init__.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05eeea8bfff84153e47f1d7a3d71e5c37063a93e', 'message': ""FibreChannel drivers for NetApp Data ONTAP storage controllers\n\nThis patch adds FibreChannel support to NetApp's Cinder drivers\nfor Data ONTAP (7-mode and Cluster-mode).  The drivers make full\nuse of Cinder's FibreChannel zone manager.\n\nImplements blueprint add-fibre-channel-support-to-netapp-drivers\nChange-Id: Ifbda275e4a60dda144a169ef00a4ea5e548dfa03\n""}]",38,139692,05eeea8bfff84153e47f1d7a3d71e5c37063a93e,68,19,5,11865,,,0,"FibreChannel drivers for NetApp Data ONTAP storage controllers

This patch adds FibreChannel support to NetApp's Cinder drivers
for Data ONTAP (7-mode and Cluster-mode).  The drivers make full
use of Cinder's FibreChannel zone manager.

Implements blueprint add-fibre-channel-support-to-netapp-drivers
Change-Id: Ifbda275e4a60dda144a169ef00a4ea5e548dfa03
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/139692/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/netapp/utils.py', 'etc/cinder/cinder.conf.sample', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/options.py', 'cinder/tests/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/volume/drivers/netapp/dataontap/fakes.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/tests/volume/drivers/netapp/fakes.py', 'cinder/tests/volume/drivers/netapp/dataontap/__init__.py', 'cinder/tests/volume/drivers/netapp/dataontap/client/test_client_7mode.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_7mode.py', 'cinder/volume/drivers/netapp/common.py', 'cinder/volume/drivers/netapp/dataontap/fc_7mode.py', 'cinder/tests/volume/drivers/netapp/dataontap/client/test_client_base.py', 'cinder/tests/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/tests/volume/drivers/netapp/eseries/__init__.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",22,c4757fe4024ff61d9d7817dfa73c1ed81e238891,bp/add-fibre-channel-support-to-netapp-drivers,"from cinder.zonemanager import utils as fczm_utils self.lookup_service = fczm_utils.create_lookup_service() """"""Extracts the LUNs from API and populates the LUN table."""""" def _map_lun(self, name, initiator_list, initiator_type, lun_id=None): """"""Maps LUN to the initiator(s) and returns LUN ID assigned."""""" igroup_name = self._get_or_create_igroup(initiator_list, (_igroup, lun_id) = self._find_mapped_lun_igroup(path, initiator_list) def _unmap_lun(self, path, initiator_list): (igroup_name, _lun_id) = self._find_mapped_lun_igroup(path, initiator_list) def _find_mapped_lun_igroup(self, path, initiator_list): """"""Find an igroup for a LUN mapped to the given initiator(s)."""""" def _has_luns_mapped_to_initiators(self, initiator_list): """"""Checks whether any LUNs are mapped to the given initiator(s)."""""" return self.zapi_client.has_luns_mapped_to_initiators(initiator_list) def _get_or_create_igroup(self, initiator_list, initiator_type, os='default'): """"""Checks for an igroup for a set of one or more initiators. igroups = self.zapi_client.get_igroup_by_initiators(initiator_list) for initiator in initiator_list: self.zapi_client.add_igroup_initiator(igroup_name, initiator) def _get_fc_target_wwpns(self, include_partner=True): raise NotImplementedError() lun_id = self._map_lun(name, [initiator_name], 'iscsi', None) target_details_list = self.zapi_client.get_iscsi_target_details() self._unmap_lun(path, [initiator_name]) @fczm_utils.AddFCZone def initialize_connection_fc(self, volume, connector): """"""Initializes the connection and returns connection info. Assign any created volume to a compute node/host so that it can be used from that host. The driver returns a driver_volume_type of 'fibre_channel'. The target_wwn can be a single entry or a list of wwns that correspond to the list of remote wwn(s) that will export the volume. Example return values: { 'driver_volume_type': 'fibre_channel' 'data': { 'target_discovered': True, 'target_lun': 1, 'target_wwn': '1234567890123', } } or { 'driver_volume_type': 'fibre_channel' 'data': { 'target_discovered': True, 'target_lun': 1, 'target_wwn': ['1234567890123', '0987654321321'], } } """""" initiators = [fczm_utils.get_formatted_wwn(wwpn) for wwpn in connector['wwpns']] volume_name = volume['name'] lun_id = self._map_lun(volume_name, initiators, 'fcp', None) msg = _(""Mapped LUN %(name)s to the initiator(s) %(initiators)s"") msg_fmt = {'name': volume_name, 'initiators': initiators} LOG.debug(msg % msg_fmt) target_wwpns, initiator_target_map, num_paths = \ self._build_initiator_target_map(connector) if target_wwpns: msg = _(""Successfully fetched target details for LUN %(name)s "" ""and initiator(s) %(initiators)s"") msg_fmt = {'name': volume_name, 'initiators': initiators} LOG.debug(msg % msg_fmt) else: msg = _('Failed to get LUN target details for the LUN %s') raise exception.VolumeBackendAPIException(data=msg % volume_name) target_info = {'driver_volume_type': 'fibre_channel', 'data': {'target_discovered': True, 'target_lun': lun_id, 'target_wwn': target_wwpns, 'access_mode': 'rw', 'initiator_target_map': initiator_target_map}} return target_info @fczm_utils.RemoveFCZone def terminate_connection_fc(self, volume, connector, **kwargs): """"""Disallow connection from connector. Return empty data if other volumes are in the same zone. The FibreChannel ZoneManager doesn't remove zones if there isn't an initiator_target_map in the return of terminate_connection. :returns: data - the target_wwns and initiator_target_map if the zone is to be removed, otherwise the same map with an empty dict for the 'data' key """""" initiators = [fczm_utils.get_formatted_wwn(wwpn) for wwpn in connector['wwpns']] name = volume['name'] metadata = self._get_lun_attr(name, 'metadata') path = metadata['Path'] self._unmap_lun(path, initiators) msg = _(""Unmapped LUN %(name)s from the initiator %(initiators)s"") msg_fmt = {'name': name, 'initiators': initiators} LOG.debug(msg % msg_fmt) info = {'driver_volume_type': 'fibre_channel', 'data': {}} if not self._has_luns_mapped_to_initiators(initiators): # No more exports for this host, so tear down zone. LOG.info(_LI(""Need to remove FC Zone, building initiator "" ""target map"")) target_wwpns, initiator_target_map, num_paths = \ self._build_initiator_target_map(connector) info['data'] = {'target_wwn': target_wwpns, 'initiator_target_map': initiator_target_map} return info def _build_initiator_target_map(self, connector): """"""Build the target_wwns and the initiator target map."""""" # get WWPNs from controller and strip colons all_target_wwpns = self._get_fc_target_wwpns() all_target_wwpns = [six.text_type(wwpn).replace(':', '') for wwpn in all_target_wwpns] target_wwpns = [] init_targ_map = {} num_paths = 0 if self.lookup_service is not None: # Use FC SAN lookup to determine which ports are visible. dev_map = self.lookup_service.get_device_mapping_from_network( connector['wwpns'], all_target_wwpns) for fabric_name in dev_map: fabric = dev_map[fabric_name] target_wwpns += fabric['target_port_wwn_list'] for initiator in fabric['initiator_port_wwn_list']: if initiator not in init_targ_map: init_targ_map[initiator] = [] init_targ_map[initiator] += fabric['target_port_wwn_list'] init_targ_map[initiator] = list(set( init_targ_map[initiator])) for target in init_targ_map[initiator]: num_paths += 1 target_wwpns = list(set(target_wwpns)) else: initiator_wwns = connector['wwpns'] target_wwpns = all_target_wwpns for initiator in initiator_wwns: init_targ_map[initiator] = target_wwpns return target_wwpns, init_targ_map, num_paths"," """"""Extracts the LUNs from API. Populates in the LUN table. """""" def _map_lun(self, name, initiator, initiator_type='iscsi', lun_id=None): """"""Maps LUN to the initiator and returns LUN id assigned."""""" igroup_name = self._get_or_create_igroup(initiator, (_igroup, lun_id) = self._find_mapped_lun_igroup(path, initiator) def _unmap_lun(self, path, initiator): (igroup_name, _lun_id) = self._find_mapped_lun_igroup(path, initiator) def _find_mapped_lun_igroup(self, path, initiator, os=None): """"""Find the igroup for mapped LUN with initiator."""""" def _get_or_create_igroup(self, initiator, initiator_type='iscsi', os='default'): """"""Checks for an igroup for an initiator. igroups = self.zapi_client.get_igroup_by_initiator(initiator=initiator) self.zapi_client.add_igroup_initiator(igroup_name, initiator) lun_id = self._map_lun(name, initiator_name, 'iscsi', None) target_details_list = self.zapi_client.get_target_details() self._unmap_lun(path, initiator_name)",1691,273
openstack%2Fkeystone~master~I7d8a07a772f1ee146c8a20743b30846ba7500c19,openstack/keystone,master,I7d8a07a772f1ee146c8a20743b30846ba7500c19,Modify the cloud policy,ABANDONED,2014-12-16 03:38:42.000000000,2014-12-16 03:39:47.000000000,,[],"[{'number': 1, 'created': '2014-12-16 03:38:42.000000000', 'files': ['etc/policy.v3cloudsample.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3131801b8fa313722eaca23913ef630f0ebddd0d', 'message': 'Modify the cloud policy\n\nExtract Common policy rules\n\nblueprint modify-policy\n\nCo-Authored-By: Rodrigo Duarte <rodrigods@lsd.ufcg.edu.br>\nCo-Authored-By: Raildo Mascena de Sousa Filho <raildo@lsd.ufcg.edu.br>\nCo-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>\nCo-Authored-By: Thiago Paiva <thiagop@lsd.ufcg.edu.br>\nCo-Authored-By: Adam Young <ayoung@redhat.com>\n\nChange-Id: I6b81cd4e599ed00827dff4fb644bc0a7c909ac59\n\ncommon policy rules\n\nChange-Id: I7d8a07a772f1ee146c8a20743b30846ba7500c19\n'}]",0,141972,3131801b8fa313722eaca23913ef630f0ebddd0d,2,0,1,2218,,,0,"Modify the cloud policy

Extract Common policy rules

blueprint modify-policy

Co-Authored-By: Rodrigo Duarte <rodrigods@lsd.ufcg.edu.br>
Co-Authored-By: Raildo Mascena de Sousa Filho <raildo@lsd.ufcg.edu.br>
Co-Authored-By: Henrique Truta <henrique@lsd.ufcg.edu.br>
Co-Authored-By: Thiago Paiva <thiagop@lsd.ufcg.edu.br>
Co-Authored-By: Adam Young <ayoung@redhat.com>

Change-Id: I6b81cd4e599ed00827dff4fb644bc0a7c909ac59

common policy rules

Change-Id: I7d8a07a772f1ee146c8a20743b30846ba7500c19
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/141972/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.v3cloudsample.json'],1,3131801b8fa313722eaca23913ef630f0ebddd0d,bp/modify-policy," ""cloud_admin"": ""role:admin and domain_id:admin_domain_id and scope:domain"", ""role_service"": ""role:admin or role:service"", ""identity_domain_matches"": ""domain_id:%(group.domain_id)s or domain_id:%(user.domain_id)s"", ""request_domain_matches"" : ""domain_id:%(project.domain_id)s or rule:identity_domain_matches"", ""target_domain_matches"": ""domain_id:%(target.member.domain_id)s"", ""domain_matches"": ""domain_id:%(domain_id)s or (rule:target_domain_matches or rule:request_domain_matches) "", ""project_matches"": ""project_id:%(project_id)s or project_id:%(target.member.project_id)s "", ""domain_admin"" : ""(role:admin and rule:domain_matches and scope:domain) or rule:cloud_admin"", ""owner"" : ""( user_id:%(user_id)s or user_id:%(target.token.user_id)s ) or rule:domain_admin"", ""project_admin"" : ""(role:admin and rule:project_matches) or rule:domain_admin"", ""admin_on_domain_filter"" : ""(role:admin and domain_id:%(scope.domain.id)s) or rule:domain_admin"", ""admin_on_project_filter"" : ""(role:admin and project_id:%(scope.project.id)s) or rule:domain_admin"", ""default"": ""rule:project_admin"", ""identity:get_service"" : ""rule:domain_admin"", ""identity:list_services"" : ""rule:domain_admin"", ""identity:get_endpoint"" : ""rule:domain_admin"", ""identity:list_endpoints"" : ""rule:domain_admin"", ""identity:get_domain"": ""rule:cloud_admin"", ""identity:get_project"": ""rule:domain_admin"", ""identity:list_projects"": ""rule:domain_admin"", ""identity:list_user_projects"": ""rule:owner"", ""identity:create_project"": ""rule:domain_admin"", ""identity:update_project"": ""rule:domain_admin"", ""identity:delete_project"": ""rule:domain_admin"", ""identity:get_user"": ""rule:domain_admin"", ""identity:list_users"": ""rule:domain_admin"", ""identity:create_user"": ""rule:domain_admin"", ""identity:update_user"": ""rule:domain_admin"", ""identity:delete_user"": ""rule:domain_admin"", ""identity:get_group"": ""rule:domain_admin"", ""identity:list_groups"": ""rule:domain_admin"", ""identity:list_groups_for_user"": ""rule:owner"", ""identity:create_group"": ""rule:domain_admin"", ""identity:update_group"": ""rule:domain_admin"", ""identity:delete_group"": ""rule:domain_admin"", ""identity:list_users_in_group"": ""rule:domain_admin"", ""identity:remove_user_from_group"": ""rule:domain_admin"", ""identity:check_user_in_group"": ""rule:domain_admin"", ""identity:add_user_to_group"": ""rule:domain_admin"", ""identity:get_credential"": ""role:admin"", ""identity:list_credentials"": ""rule:owner"", ""identity:create_credential"": ""role:admin"", ""identity:update_credential"": ""role:admin"", ""identity:delete_credential"": ""role:admin"", ""identity:ec2_get_credential"": ""rule:owner"", ""identity:ec2_list_credentials"": ""rule:owner"", ""identity:ec2_create_credential"": ""rule:owner"", ""identity:ec2_delete_credential"": ""rule:owner"", ""identity:get_role"": ""rule:domain_admin"", ""identity:list_roles"": ""rule:domain_admin"", ""identity:check_grant"": ""rule:project_admin"", ""identity:list_grants"": ""rule:project_admin"", ""identity:create_grant"": ""rule:project_admin"", ""identity:revoke_grant"": ""rule:project_admin"", ""identity:get_policy"" : ""rule:cloud_admin"", ""identity:check_token"": ""rule:owner"", ""identity:validate_token"": ""rule:role_service"", ""identity:validate_token_head"": ""rule:role_service"", ""identity:revocation_list"": ""rule:role_service"", ""identity:revoke_token"": ""rule:owner"", ""identity:get_trust"": ""rule:owner"", ""identity:create_consumer"": ""role:admin"", ""identity:get_consumer"": ""role:admin"", ""identity:list_consumers"": ""role:admin"", ""identity:delete_consumer"": ""role:admin"", ""identity:update_consumer"": ""role:admin"", ""identity:authorize_request_token"": ""role:admin"", ""identity:list_access_token_roles"": ""role:admin"", ""identity:get_access_token_role"": ""role:admin"", ""identity:list_access_tokens"": ""role:admin"", ""identity:get_access_token"": ""role:admin"", ""identity:delete_access_token"": ""role:admin"", ""identity:list_projects_for_endpoint"": ""role:admin"", ""identity:add_endpoint_to_project"": ""role:admin"", ""identity:check_endpoint_in_project"": ""role:admin"", ""identity:list_endpoints_for_project"": ""role:admin"", ""identity:remove_endpoint_from_project"": ""role:admin"", ""identity:create_endpoint_group"": ""role:admin"", ""identity:list_endpoint_groups"": ""role:admin"", ""identity:get_endpoint_group"": ""role:admin"", ""identity:update_endpoint_group"": ""role:admin"", ""identity:delete_endpoint_group"": ""role:admin"", ""identity:list_projects_associated_with_endpoint_group"": ""role:admin"", ""identity:list_endpoints_associated_with_endpoint_group"": ""role:admin"", ""identity:list_endpoint_groups_for_project"": ""role:admin"", ""identity:add_endpoint_group_to_project"": ""role:admin"", ""identity:remove_endpoint_group_from_project"": ""role:admin"","," ""admin_required"": ""role:admin"", ""cloud_admin"": ""rule:admin_required and domain_id:admin_domain_id"", ""service_role"": ""role:service"", ""service_or_admin"": ""rule:admin_required or rule:service_role"", ""owner"" : ""user_id:%(user_id)s or user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_or_cloud_admin"": ""rule:admin_required or rule:cloud_admin"", ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"", ""default"": ""rule:admin_required"", ""identity:get_service"": ""rule:admin_or_cloud_admin"", ""identity:list_services"": ""rule:admin_or_cloud_admin"", ""identity:get_endpoint"": ""rule:admin_or_cloud_admin"", ""identity:list_endpoints"": ""rule:admin_or_cloud_admin"", ""identity:get_domain"": ""rule:cloud_admin"", ""admin_and_matching_target_project_domain_id"": ""rule:admin_required and domain_id:%(target.project.domain_id)s"", ""admin_and_matching_project_domain_id"": ""rule:admin_required and domain_id:%(project.domain_id)s"", ""identity:get_project"": ""rule:cloud_admin or rule:admin_and_matching_target_project_domain_id"", ""identity:list_projects"": ""rule:cloud_admin or rule:admin_and_matching_domain_id"", ""identity:list_user_projects"": ""rule:owner or rule:admin_and_matching_domain_id"", ""identity:create_project"": ""rule:cloud_admin or rule:admin_and_matching_project_domain_id"", ""identity:update_project"": ""rule:cloud_admin or rule:admin_and_matching_target_project_domain_id"", ""identity:delete_project"": ""rule:cloud_admin or rule:admin_and_matching_target_project_domain_id"", ""admin_and_matching_target_user_domain_id"": ""rule:admin_required and domain_id:%(target.user.domain_id)s"", ""admin_and_matching_user_domain_id"": ""rule:admin_required and domain_id:%(user.domain_id)s"", ""identity:get_user"": ""rule:cloud_admin or rule:admin_and_matching_target_user_domain_id"", ""identity:list_users"": ""rule:cloud_admin or rule:admin_and_matching_domain_id"", ""identity:create_user"": ""rule:cloud_admin or rule:admin_and_matching_user_domain_id"", ""identity:update_user"": ""rule:cloud_admin or rule:admin_and_matching_target_user_domain_id"", ""identity:delete_user"": ""rule:cloud_admin or rule:admin_and_matching_target_user_domain_id"", ""admin_and_matching_target_group_domain_id"": ""rule:admin_required and domain_id:%(target.group.domain_id)s"", ""admin_and_matching_group_domain_id"": ""rule:admin_required and domain_id:%(group.domain_id)s"", ""identity:get_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:list_groups"": ""rule:cloud_admin or rule:admin_and_matching_domain_id"", ""identity:list_groups_for_user"": ""rule:owner or (rule:admin_required and domain_id:%(domain_id)s)"", ""identity:create_group"": ""rule:cloud_admin or rule:admin_and_matching_group_domain_id"", ""identity:update_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:delete_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:list_users_in_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:remove_user_from_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:check_user_in_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:add_user_to_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:get_credential"": ""rule:admin_required"", ""identity:list_credentials"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:create_credential"": ""rule:admin_required"", ""identity:update_credential"": ""rule:admin_required"", ""identity:delete_credential"": ""rule:admin_required"", ""identity:ec2_get_credential"": ""rule:admin_or_cloud_admin or rule:owner"", ""identity:ec2_list_credentials"": ""rule:admin_or_cloud_admin or rule:owner"", ""identity:ec2_create_credential"": ""rule:admin_or_cloud_admin or rule:owner"", ""identity:ec2_delete_credential"": ""(rule:admin_or_cloud_admin or rule:owner) or (rule:owner and user_id:%(target.credential.user_id)s)"", ""identity:get_role"": ""rule:admin_or_cloud_admin"", ""identity:list_roles"": ""rule:admin_or_cloud_admin"", ""domain_admin_for_grants"": ""rule:admin_required and (domain_id:%(domain_id)s or domain_id:%(target.project.domain_id)s)"", ""project_admin_for_grants"": ""rule:admin_required and project_id:%(project_id)s"", ""identity:check_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:list_grants"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:create_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:revoke_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""admin_on_domain_filter"" : ""rule:cloud_admin or (rule:admin_required and domain_id:%(scope.domain.id)s)"", ""admin_on_project_filter"" : ""rule:cloud_admin or (rule:admin_required and project_id:%(scope.project.id)s)"", ""identity:get_policy"": ""rule:cloud_admin"", ""identity:check_token"": ""rule:admin_or_owner"", ""identity:validate_token"": ""rule:service_or_admin"", ""identity:validate_token_head"": ""rule:service_or_admin"", ""identity:revocation_list"": ""rule:service_or_admin"", ""identity:revoke_token"": ""rule:admin_or_owner"", ""identity:get_trust"": ""rule:admin_or_owner"", ""identity:create_consumer"": ""rule:admin_required"", ""identity:get_consumer"": ""rule:admin_required"", ""identity:list_consumers"": ""rule:admin_required"", ""identity:delete_consumer"": ""rule:admin_required"", ""identity:update_consumer"": ""rule:admin_required"", ""identity:authorize_request_token"": ""rule:admin_required"", ""identity:list_access_token_roles"": ""rule:admin_required"", ""identity:get_access_token_role"": ""rule:admin_required"", ""identity:list_access_tokens"": ""rule:admin_required"", ""identity:get_access_token"": ""rule:admin_required"", ""identity:delete_access_token"": ""rule:admin_required"", ""identity:list_projects_for_endpoint"": ""rule:admin_required"", ""identity:add_endpoint_to_project"": ""rule:admin_required"", ""identity:check_endpoint_in_project"": ""rule:admin_required"", ""identity:list_endpoints_for_project"": ""rule:admin_required"", ""identity:remove_endpoint_from_project"": ""rule:admin_required"", ""identity:create_endpoint_group"": ""rule:admin_required"", ""identity:list_endpoint_groups"": ""rule:admin_required"", ""identity:get_endpoint_group"": ""rule:admin_required"", ""identity:update_endpoint_group"": ""rule:admin_required"", ""identity:delete_endpoint_group"": ""rule:admin_required"", ""identity:list_projects_associated_with_endpoint_group"": ""rule:admin_required"", ""identity:list_endpoints_associated_with_endpoint_group"": ""rule:admin_required"", ""identity:list_endpoint_groups_for_project"": ""rule:admin_required"", ""identity:add_endpoint_group_to_project"": ""rule:admin_required"", ""identity:remove_endpoint_group_from_project"": ""rule:admin_required"",",92,93
openstack%2Fceilometer~master~I7bee58a8cf004109e9540a0c66c3192a9efef652,openstack/ceilometer,master,I7bee58a8cf004109e9540a0c66c3192a9efef652,Add support for dynamic meters,ABANDONED,2014-12-09 05:15:15.000000000,2014-12-16 03:39:17.000000000,,"[{'_account_id': 3}, {'_account_id': 7052}, {'_account_id': 8290}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-12-09 05:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4259a7bb4b7158b3bb5390e07e7de30a28fa8b6d', 'message': 'Add support for dynamic meters\n\nThis change add support for dynamic meters, users can dynamically\nenable or disable meters without restart Ceilometer polling agents\nby changing pipeline configuration file, Ceilometer will check if\nthe pipeline configuration has been changed in every periodic\npolling task, and reload the pipeline base on new pipeline\nconfiguration if it was changed.\n\nThis is a simple but effective way to implement the goal of the\nblueprint.\n\nPartially-Implements blueprint dynamic-meters\n\nChange-Id: I7bee58a8cf004109e9540a0c66c3192a9efef652\n'}, {'number': 2, 'created': '2014-12-09 06:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6f5380e8577987abccaaee6aa92f2490246e6e75', 'message': 'Add support for dynamic meters\n\nThis change add support for dynamic meters, users can dynamically\nenable or disable meters without restart Ceilometer polling agents\nby changing pipeline configuration file, Ceilometer will check if\nthe pipeline configuration has been changed in every periodic\npolling task, and reload the pipeline base on new pipeline\nconfiguration if it was changed.\n\nThis is a simple but effective way to implement the goal of the\nblueprint.\n\nPartially-Implements blueprint dynamic-meters\n\nChange-Id: I7bee58a8cf004109e9540a0c66c3192a9efef652\n'}, {'number': 3, 'created': '2014-12-11 01:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f30417f54b08a5b88f8ca1ebf111c67bc75a7760', 'message': 'Add support for dynamic meters\n\nThis change add support for dynamic meters, users can dynamically\nenable or disable meters without restart Ceilometer polling agents\nby changing pipeline configuration file, Ceilometer will check if\nthe pipeline configuration has been changed in every periodic\npolling task, and reload the pipeline base on new pipeline\nconfiguration if it was changed.\n\nThis is a simple but effective way to implement the goal of the\nblueprint.\n\nPartially-Implements blueprint dynamic-meters\n\nChange-Id: I7bee58a8cf004109e9540a0c66c3192a9efef652\n'}, {'number': 4, 'created': '2014-12-15 08:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9e5bb2f40104609a63fdbd8ea1b0760654a123b0', 'message': 'Add support for dynamic meters\n\nThis change add support for dynamic meters, users can dynamically\nenable or disable meters without restart Ceilometer polling agents\nby changing pipeline configuration file, Ceilometer will check if\nthe pipeline configuration has been changed in every periodic\npolling task, and reload the pipeline base on new pipeline\nconfiguration if it was changed.\n\nThis is a simple but effective way to implement the goal of the\nblueprint.\n\nPartially-Implements blueprint dynamic-meters\n\nChange-Id: I7bee58a8cf004109e9540a0c66c3192a9efef652\n'}, {'number': 5, 'created': '2014-12-16 03:07:38.000000000', 'files': ['ceilometer/tests/agent/test_manager.py', 'ceilometer/tests/compute/pollsters/test_location_metadata.py', 'ceilometer/tests/storage/test_impl_log.py', 'ceilometer/tests/network/services/test_lbaas.py', 'ceilometer/tests/energy/test_kwapi.py', 'ceilometer/tests/ipmi/test_manager.py', 'ceilometer/tests/image/test_glance.py', 'ceilometer/tests/network/services/test_vpnaas.py', 'ceilometer/tests/network/test_floatingip.py', 'ceilometer/tests/objectstore/test_swift.py', 'ceilometer/tests/base.py', 'ceilometer/tests/network/services/test_fwaas.py', 'ceilometer/agent/base.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9b8683147a09d798333689e387be04d4c847e094', 'message': 'Add support for dynamic meters\n\nThis change add support for dynamic meters, users can dynamically\nenable or disable meters without restart Ceilometer polling agents\nby changing pipeline configuration file, Ceilometer will check if\nthe pipeline configuration has been changed in every periodic\npolling task, and reload the pipeline base on new pipeline\nconfiguration if it was changed.\n\nThis is a simple but effective way to implement the goal of the\nblueprint.\n\nPartially-Implements blueprint dynamic-meters\n\nChange-Id: I7bee58a8cf004109e9540a0c66c3192a9efef652\n'}]",12,140232,9b8683147a09d798333689e387be04d4c847e094,22,4,5,8290,,,0,"Add support for dynamic meters

This change add support for dynamic meters, users can dynamically
enable or disable meters without restart Ceilometer polling agents
by changing pipeline configuration file, Ceilometer will check if
the pipeline configuration has been changed in every periodic
polling task, and reload the pipeline base on new pipeline
configuration if it was changed.

This is a simple but effective way to implement the goal of the
blueprint.

Partially-Implements blueprint dynamic-meters

Change-Id: I7bee58a8cf004109e9540a0c66c3192a9efef652
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/32/140232/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/compute/pollsters/test_location_metadata.py', 'ceilometer/tests/network/services/test_lbaas.py', 'ceilometer/tests/energy/test_kwapi.py', 'ceilometer/tests/ipmi/test_manager.py', 'ceilometer/tests/image/test_glance.py', 'ceilometer/tests/network/services/test_vpnaas.py', 'ceilometer/tests/compute/test_manager.py', 'ceilometer/tests/network/test_floatingip.py', 'ceilometer/tests/objectstore/test_swift.py', 'ceilometer/tests/base.py', 'ceilometer/tests/central/test_manager.py', 'ceilometer/agent.py', 'ceilometer/tests/network/services/test_fwaas.py']",13,4259a7bb4b7158b3bb5390e07e7de30a28fa8b6d,bp/dynamic-meters,from ceilometer.tests import base,from oslotest import base,47,14
openstack%2Fceilometer~master~Idaff68878a274f36e41b8bc927178a0338fa553e,openstack/ceilometer,master,Idaff68878a274f36e41b8bc927178a0338fa553e,Add tests for dynamic meters feature,ABANDONED,2014-12-15 08:33:06.000000000,2014-12-16 03:25:25.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-15 08:33:06.000000000', 'files': ['ceilometer/tests/agentbase.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8f55118cbf95da954a9b992c6ffad60980eff9df', 'message': 'Add tests for dynamic meters feature\n\nThis change add tests for dynamic-meters\n\nPartially-Implements blueprint dynamic-meters\n\nChange-Id: Idaff68878a274f36e41b8bc927178a0338fa553e\n'}]",0,141741,8f55118cbf95da954a9b992c6ffad60980eff9df,4,1,1,8290,,,0,"Add tests for dynamic meters feature

This change add tests for dynamic-meters

Partially-Implements blueprint dynamic-meters

Change-Id: Idaff68878a274f36e41b8bc927178a0338fa553e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/141741/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/agentbase.py'],1,8f55118cbf95da954a9b992c6ffad60980eff9df,bp/dynamic-meters," def test_start_with_pipeline_cfg_file(self): self.CONF.set_override('heartbeat', 1.0, group='coordination') test_mgr = self.create_manager() test_mgr.start() polling_tasks = test_mgr.setup_polling_tasks() self.assertEqual(len(polling_tasks.items()), 1) self.assertEqual(polling_tasks.keys()[0], 600) # 2 timers: 1. for polling task, 2. for partition_coordinator heartbeat self.assertEqual(len(test_mgr.tg.timers), 2) pipelines = test_mgr.pipeline_manager.pipelines self.assertEqual(len(pipelines), 4) pipeline_names = [p.name for p in pipelines] self.assertEqual(pipeline_names, ['meter_source:meter_sink', 'cpu_source:cpu_sink', 'disk_source:disk_sink', 'network_source:network_sink']) test_mgr.tg.stop_timers() self.assertEqual(len(test_mgr.tg.timers), 0) def test_polling_and_publish_with_pipeline_cfg_changed(self): with open(self.CONF.pipeline_cfg_file) as fap: data = fap.read() test_pipeline_cfg = self.create_tempfiles( [('test_pipeline', data)], ext='.yaml') self.CONF.set_override('pipeline_cfg_file', test_pipeline_cfg[0]) self.CONF.set_override('heartbeat', 1.0, group='coordination') test_mgr = self.create_manager() test_mgr.start() self.assertEqual(len(test_mgr.tg.timers), 2) polling_tasks = test_mgr.setup_polling_tasks() self.assertEqual(len(polling_tasks.items()), 1) polling_task = polling_tasks.values()[0] pipelines = test_mgr.pipeline_manager.pipelines for p in pipelines: self.assertEqual(p.get_interval(), 600) first_mtime = test_mgr.pipeline_mtime with open(self.CONF.pipeline_cfg_file, 'w+') as fap: data = data.replace('interval: 600', 'interval: 60') fap.write(data) polling_task.poll_and_publish() second_mtime = test_mgr.pipeline_mtime pipelines = test_mgr.pipeline_manager.pipelines self.assertEqual(len(pipelines), 4) pipeline_names = [p.name for p in pipelines] self.assertEqual(pipeline_names, ['meter_source:meter_sink', 'cpu_source:cpu_sink', 'disk_source:disk_sink', 'network_source:network_sink']) for p in pipelines: self.assertEqual(p.get_interval(), 60) self.assertNotEqual(first_mtime, second_mtime) self.assertEqual(len(test_mgr.tg.timers), 2)",,58,0
openstack%2Ftripleo-image-elements~master~I6e109ce93e4c074dcb5fdfb0749799c869c25dd6,openstack/tripleo-image-elements,master,I6e109ce93e4c074dcb5fdfb0749799c869c25dd6,reset-db to get all db parameters from the config,MERGED,2014-04-17 15:42:57.000000000,2014-12-16 03:09:03.000000000,2014-12-16 03:09:03.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1706}, {'_account_id': 1872}, {'_account_id': 1926}, {'_account_id': 4190}, {'_account_id': 5639}, {'_account_id': 6488}, {'_account_id': 6969}, {'_account_id': 7537}, {'_account_id': 10035}, {'_account_id': 10277}, {'_account_id': 13762}]","[{'number': 1, 'created': '2014-04-17 15:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5ab1d75e4731df81c8c393427bd0298269a441d6', 'message': 'reset-db to get all db parameters from the config\n\nrefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create\nrather than using hardcoded strings and a common db-password\nconfiguration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 2, 'created': '2014-04-18 11:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/1807d3b8d7ebd04953ee37f12817f9fe459e855f', 'message': 'reset-db to get all db parameters from the config\n\nrefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create\nrather than using hardcoded strings and a common db-password\nconfiguration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 3, 'created': '2014-04-22 08:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8ee8c5a7a349264f6ea9b686fe89d7ff8eeb527f', 'message': 'reset-db to get all db parameters from the config\n\nrefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create\nrather than using hardcoded strings and a common db-password\nconfiguration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 4, 'created': '2014-04-22 10:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/028cae4112ccd467ef7a1aeaf74e5ac63f167dd3', 'message': 'reset-db to get all db parameters from the config\n\nrefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create\nrather than using hardcoded strings and a common db-password\nconfiguration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 5, 'created': '2014-04-22 12:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/091310b821745c17d8c46a76019687a2dbbdc896', 'message': 'reset-db to get all db parameters from the config\n\nrefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create,\nrather than using hardcoded strings and a common db-password\nconfiguration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 6, 'created': '2014-04-22 13:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/5ef229024539cc92f6fc54cc51e9c8e70bb71e0a', 'message': 'reset-db to get all db parameters from the config\n\nrefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create,\nrather than using hardcoded strings and a common db-password\nconfiguration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 7, 'created': '2014-04-22 17:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d1e8f3fd065c01073cae419d5f890055287ce670', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and only use those values to pass to\nos-db-create, rather than using hardcoded strings and a common\ndb-password configuration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 8, 'created': '2014-04-22 17:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/430e376da4aac1afb2aca2704159d69b6eb6f4dc', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and only use those values to pass to\nos-db-create, rather than using hardcoded strings and a common\ndb-password configuration parameter.\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 9, 'created': '2014-04-23 11:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/50de6ea672c724f2c6a7819d831a56789fd778f7', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 10, 'created': '2014-04-23 17:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/ebc00e286c41adfa39cee2b7c8bb70c21d64fda3', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\n\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 11, 'created': '2014-04-24 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f8de1e982741f0d54ebfc946c34448cb1d407532', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\n\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 12, 'created': '2014-05-02 12:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/56fa015e2b97296825fcdc8ad92c7c2b72e1502f', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\n\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 13, 'created': '2014-05-07 12:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6b7d8242cf062197b68146ab3f28898c192ca289', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\n\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 14, 'created': '2014-05-20 09:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c40aab01c69a08f275e9883e7dc264e9964dbdcb', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\n\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}, {'number': 15, 'created': '2014-12-03 14:02:50.000000000', 'files': ['elements/boot-stack/bin/reset-db'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/740fbe585788199f3048e8ae59879c418dc97f3e', 'message': 'reset-db to get all db parameters from the config\n\nRefactor elements/boot-stack/bin/reset-db introducing a convenience\nfunction to extract database name, user and password from the .db\nconfiguration parameter and use those values to pass to os-db-create.\n\nIncludes an optional default dsn with a common db-password parameter,\nand will forego the db create if neither the .db configuration nor\nthe default are provided.\n\nIntent is to facilitate service level control on db passwords.\n\nChange-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6\n'}]",17,88340,740fbe585788199f3048e8ae59879c418dc97f3e,121,13,15,5639,,,0,"reset-db to get all db parameters from the config

Refactor elements/boot-stack/bin/reset-db introducing a convenience
function to extract database name, user and password from the .db
configuration parameter and use those values to pass to os-db-create.

Includes an optional default dsn with a common db-password parameter,
and will forego the db create if neither the .db configuration nor
the default are provided.

Intent is to facilitate service level control on db passwords.

Change-Id: I6e109ce93e4c074dcb5fdfb0749799c869c25dd6
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/40/88340/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/boot-stack/bin/reset-db'],1,5ab1d75e4731df81c8c393427bd0298269a441d6,88340,"# create the database for the specifed service.db config key function create_db_from_config() { dsn=$(os-apply-config --key $1) part=${dsn##*://} database=${part##:*/} db_creds=${part##*@} db_user=${db_creds%%:*} db_pass=${db_creds##*:} os-db-create $database $db_user $db_pass } cinder_db_pass=$(os-apply-config --key cinder.db)create_db_from_config ""keystone.db"" create_db_from_config ""cinder.db"" create_db_from_config ""ironic.db"" create_db_from_config ""tuskar.db"" create_db_from_config ""ceilometer.db""create_db_from_config ""nova.db""create_db_from_config ""nova.baremetal.db""create_db_from_config ""glance.db""create_db_from_config ""heat.db""create_db_from_config ""neutron.ovs_db""",os-db-create keystone keystone $db_pass os-db-create cinder cinder $db_pass os-db-create ironic ironic $db_pass os-db-create tuskar tuskar $db_pass os-db-create ceilometer ceilometer $db_passos-db-create nova nova $db_passos-db-create nova_bm nova $db_passos-db-create glance glance $db_passos-db-create heat heat $db_passos-db-create ovs_neutron neutron $db_pass,23,10
openstack%2Frally~master~I1d07405d40b267427a3d376aa668ed8c5b3fc739,openstack/rally,master,I1d07405d40b267427a3d376aa668ed8c5b3fc739,orchestrator refactor,MERGED,2014-12-15 15:22:53.000000000,2014-12-16 02:19:00.000000000,2014-12-16 02:18:58.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 10068}, {'_account_id': 14135}]","[{'number': 1, 'created': '2014-12-15 15:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/725cb9164673d4daef92187251d99c118319a32a', 'message': 'orchestrator refactor\n\nChange-Id: I1d07405d40b267427a3d376aa668ed8c5b3fc739\n'}, {'number': 2, 'created': '2014-12-15 20:51:20.000000000', 'files': ['rally/cmd/commands/verify.py', 'rally/api.py', 'tests/unit/test_api.py', 'tests/unit/deploy/test_multihost.py', 'rally/cmd/commands/deployment.py', 'rally/deploy/engines/multihost.py', 'tests/unit/cmd/commands/test_task.py', 'rally/orchestrator/__init__.py', 'rally/cmd/commands/task.py', 'tests/unit/orchestrator/__init__.py', 'tests/unit/cmd/commands/test_verify.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/8b95fa3cd7c21a8b8042f000a44e3aac2f369236', 'message': 'orchestrator refactor\n\nChange-Id: I1d07405d40b267427a3d376aa668ed8c5b3fc739\n'}]",1,141823,8b95fa3cd7c21a8b8042f000a44e3aac2f369236,15,5,2,12145,,,0,"orchestrator refactor

Change-Id: I1d07405d40b267427a3d376aa668ed8c5b3fc739
",git fetch https://review.opendev.org/openstack/rally refs/changes/23/141823/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cmd/commands/verify.py', 'rally/api.py', 'rally/cmd/commands/deployment.py', 'rally/deploy/engines/multihost.py', 'tests/unit/deploy/test_multihost.py', 'tests/unit/cmd/commands/test_task.py', 'rally/orchestrator/__init__.py', 'tests/unit/orchestrator/test_api.py', 'rally/cmd/commands/task.py', 'tests/unit/cmd/commands/test_verify.py']",10,725cb9164673d4daef92187251d99c118319a32a,orchestrator_refactor," @mock.patch(""rally.api.verify"") @mock.patch(""rally.api.verify"") @mock.patch(""rally.api.verify"")"," @mock.patch(""rally.orchestrator.api.verify"") @mock.patch(""rally.orchestrator.api.verify"") @mock.patch(""rally.orchestrator.api.verify"")",34,34
openstack%2Fmurano~master~I8d6fbfbf88e657f5586c7361de849683c064d2e2,openstack/murano,master,I8d6fbfbf88e657f5586c7361de849683c064d2e2,Replace anyjson with oslo.serialization,MERGED,2014-12-13 15:08:07.000000000,2014-12-16 02:18:52.000000000,2014-12-16 02:18:51.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-13 15:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c6956d5b180a966b6554d87c5db0979ae750bbd3', 'message': ""Replace anyjson with oslo.serialization\n\nNow, when we started to use oslo.serialization it is safe\nto replace all the usages of anyjson with jsonutils from\noslo library.\noslo.serialization uses anyjson under the hood, so there\nshouldn't be any performance changes.\n\nChange-Id: I8d6fbfbf88e657f5586c7361de849683c064d2e2\n""}, {'number': 2, 'created': '2014-12-13 15:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/060d19696a3b95fefcbec799301f59b1e6f03e32', 'message': ""Replace anyjson with oslo.serialization\n\nNow, when we started to use oslo.serialization it is safe\nto replace all the usages of anyjson with jsonutils from\noslo library.\noslo.serialization uses anyjson under the hood, so there\nshouldn't be any performance changes.\n\nChange-Id: I8d6fbfbf88e657f5586c7361de849683c064d2e2\n""}, {'number': 3, 'created': '2014-12-13 15:11:11.000000000', 'files': ['murano/common/messaging/message.py', 'requirements.txt', 'murano/common/engine.py', 'murano/db/sqla/types.py', 'murano/common/messaging/mqclient.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/734d407332426c580c7bfe3749a25102c57c31bb', 'message': ""Replace anyjson with oslo.serialization\n\nNow, when we started to use oslo.serialization it is safe\nto replace all the usages of anyjson with jsonutils from\noslo library.\noslo.serialization uses anyjson under the hood, so there\nshouldn't be any performance changes.\n\nChange-Id: I8d6fbfbf88e657f5586c7361de849683c064d2e2\n""}]",0,141557,734d407332426c580c7bfe3749a25102c57c31bb,13,4,3,7600,,,0,"Replace anyjson with oslo.serialization

Now, when we started to use oslo.serialization it is safe
to replace all the usages of anyjson with jsonutils from
oslo library.
oslo.serialization uses anyjson under the hood, so there
shouldn't be any performance changes.

Change-Id: I8d6fbfbf88e657f5586c7361de849683c064d2e2
",git fetch https://review.opendev.org/openstack/murano refs/changes/57/141557/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/common/messaging/message.py', 'requirements.txt', 'murano/common/engine.py', 'murano/db/sqla/types.py', 'murano/common/messaging/mqclient.py']",5,c6956d5b180a966b6554d87c5db0979ae750bbd3,oslo,"from oslo.serialization import jsonutils body=jsonutils.dumps(message.body),","import anyjson body=anyjson.dumps(message.body),",9,10
openstack%2Fcongress~master~I282ea334d94cc189c5f392bd08b99361b35b7f55,openstack/congress,master,I282ea334d94cc189c5f392bd08b99361b35b7f55,Enable: F812 list comprehension redefines name from line,MERGED,2014-12-15 23:31:00.000000000,2014-12-16 02:18:39.000000000,2014-12-16 02:18:38.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}, {'_account_id': 13664}]","[{'number': 1, 'created': '2014-12-15 23:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/25e8cf26d81dc291f006ca0134b2fc784b8beb18', 'message': 'Enable: F812 list comprehension redefines name from line\n\nChange-Id: I282ea334d94cc189c5f392bd08b99361b35b7f55\nCloses-Bug: #1398549\n'}, {'number': 2, 'created': '2014-12-15 23:43:12.000000000', 'files': ['tox.ini', 'congress/policy/runtime.py', 'congress/api/schema_model.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/661f6176b3e147f965d2d8b118787ea482d0631e', 'message': 'Enable: F812 list comprehension redefines name from line\n\nChange-Id: I282ea334d94cc189c5f392bd08b99361b35b7f55\nCloses-Bug: #1398549\n'}]",2,141936,661f6176b3e147f965d2d8b118787ea482d0631e,12,4,2,13664,,,0,"Enable: F812 list comprehension redefines name from line

Change-Id: I282ea334d94cc189c5f392bd08b99361b35b7f55
Closes-Bug: #1398549
",git fetch https://review.opendev.org/openstack/congress refs/changes/36/141936/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'congress/api/schema_model.py', 'congress/policy/runtime.py']",3,25e8cf26d81dc291f006ca0134b2fc784b8beb18,1398549," to_add = [Event(formula_) for formula_ in to_add] to_rem = [Event(formula_, insert=False) for formula_ in to_rem]"," to_add = [Event(formula) for formula in to_add] to_rem = [Event(formula, insert=False) for formula in to_rem]",4,4
openstack%2Fpython-keystoneclient~master~I8998a9962fd541bafae32b3443d7d4767da74257,openstack/python-keystoneclient,master,I8998a9962fd541bafae32b3443d7d4767da74257,Document session usage first,MERGED,2014-10-11 14:56:19.000000000,2014-12-16 02:18:21.000000000,2014-12-16 02:18:20.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 8871}, {'_account_id': 8978}]","[{'number': 1, 'created': '2014-10-11 14:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/76f2dbd6880b738fe5f26cd5555e70fe18ab6645', 'message': ""Document session usage first\n\nSince we'd prefer developers to use the session method when\nconstructing the Client instance, document it first.\n\nChange-Id: I8998a9962fd541bafae32b3443d7d4767da74257\n""}, {'number': 2, 'created': '2014-10-12 16:24:34.000000000', 'files': ['doc/source/using-api-v3.rst'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/eb251b5af96ba031fbb04de32d9cdec8917b3b23', 'message': ""Document session usage first\n\nSince we'd prefer developers to use the session method when\nconstructing the Client instance, document it first.\n\nChange-Id: I8998a9962fd541bafae32b3443d7d4767da74257\n""}]",2,127755,eb251b5af96ba031fbb04de32d9cdec8917b3b23,21,7,2,6486,,,0,"Document session usage first

Since we'd prefer developers to use the session method when
constructing the Client instance, document it first.

Change-Id: I8998a9962fd541bafae32b3443d7d4767da74257
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/55/127755/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/using-api-v3.rst'],1,76f2dbd6880b738fe5f26cd5555e70fe18ab6645,doc,"Using SessionsInstantiate a :py:class:`keystoneclient.v3.client.Client` using a :py:class:`~keystoneclient.session.Session` to provide the authentication plugin, SSL/TLS certificates, and other data:: >>> from keystoneclient.auth.identity import v3 >>> from keystoneclient import session >>> from keystoneclient.v3 import client >>> auth = v3.Password(auth_url='https://my.keystone.com:5000/v3', ... user_id='myuserid', ... password='mypassword', ... project_id='myprojectid') >>> sess = session.Session(auth=auth) >>> keystone = client.Client(session=sess) For more information on Sessions refer to: `Using Sessions`_. .. _`Using Sessions`: using-sessions.html Non-Session Authentication (deprecated) ======================================= The *deprecated* way to authenticate is to pass the username, the user's domain name (which will default to 'Default' if it is not specified), and aA :py:class:`~keystoneclient.session.Session` should be passed to the Client instead. Using a Session you're not limited to authentication using a username and password but can take advantage of other more secure authentication methods. ","AuthenticatingYou can authenticate against Keystone using a username, a user domain name (which will default to 'Default' if it is not specified) and a Using Sessions ============== It's also possible to instantiate a :py:class:`keystoneclient.v3.client.Client` class by using :py:class:`keystoneclient.session.Session`.:: >>> from keystoneclient.auth.identity import v3 >>> from keystoneclient import session >>> from keystoneclient.v3 import client >>> auth = v3.Password(auth_url='https://my.keystone.com:5000/v3', ... user_id='myuserid', ... password='mypassword', ... project_id='myprojectid') >>> sess = session.Session(auth=auth) >>> keystone = client.Client(session=sess) For more information on Sessions refer to: `Using Sessions`_. .. _`Using Sessions`: using-sessions.html",29,23
openstack%2Foslo.db~master~I8896297bd8d7a64c72e17c0d9a985cb35991e41d,openstack/oslo.db,master,I8896297bd8d7a64c72e17c0d9a985cb35991e41d,Fix the link to the bug reporting site,MERGED,2014-12-15 16:58:54.000000000,2014-12-16 02:18:09.000000000,2014-12-16 02:18:08.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-12-15 16:58:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c6ddb04eb19bbd82fbd8dc692de2bffea8223268', 'message': 'Fix the link to the bug reporting site\n\nUpdate the README to fix the link to the bug reporting site and to\nprovide a slightly more detailed description of the library.\n\nChange-Id: I8896297bd8d7a64c72e17c0d9a985cb35991e41d\n'}]",0,141842,c6ddb04eb19bbd82fbd8dc692de2bffea8223268,7,3,1,2472,,,0,"Fix the link to the bug reporting site

Update the README to fix the link to the bug reporting site and to
provide a slightly more detailed description of the library.

Change-Id: I8896297bd8d7a64c72e17c0d9a985cb35991e41d
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/42/141842/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c6ddb04eb19bbd82fbd8dc692de2bffea8223268,fix-bug-tool-link,========= oslo.db ========= Database connection library for OpenStack* Bugs: http://bugs.launchpad.net/oslo.db,=================================== Overview =================================== oslo.db library* Bugs: http://bugs.launchpad.net/oslo,5,5
openstack%2Foslo.config~master~I56274336802036de050efc62eb2ee6b5d4ede77b,openstack/oslo.config,master,I56274336802036de050efc62eb2ee6b5d4ede77b,Move files out of the namespace package,MERGED,2014-12-05 21:06:32.000000000,2014-12-16 02:18:02.000000000,2014-12-16 02:18:02.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}]","[{'number': 1, 'created': '2014-12-05 21:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0af90b2f0b429e2036e1c828e1fa359cefede72c', 'message': 'Move files out of the namespace package\n\nMove the public API out of oslo.config to oslo_config. Retain the ability\nto import from the old namespace package for backwards compatibility\nfor this release cycle.\n\nbp/drop-namespace-packages\n\n    Change-Id: I4b2a5cbbaea16225701879c0c55fc50365f53d2e\n\nChange-Id: I56274336802036de050efc62eb2ee6b5d4ede77b\n'}, {'number': 2, 'created': '2014-12-05 21:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/7f961e8af7564ade2e46ce23152c396f4ebef9c9', 'message': 'Move files out of the namespace package\n\nMove the public API out of oslo.config to oslo_config. Retain the ability\nto import from the old namespace package for backwards compatibility\nfor this release cycle.\n\nbp/drop-namespace-packages\n\nChange-Id: I56274336802036de050efc62eb2ee6b5d4ede77b\n'}, {'number': 3, 'created': '2014-12-05 22:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/896a7f486b2c19b818533ef160cc49fff49f23d7', 'message': 'Move files out of the namespace package\n\nMove the public API out of oslo.config to oslo_config. Retain the ability\nto import from the old namespace package for backwards compatibility\nfor this release cycle.\n\nbp/drop-namespace-packages\n\nChange-Id: I56274336802036de050efc62eb2ee6b5d4ede77b\n'}, {'number': 4, 'created': '2014-12-12 21:23:34.000000000', 'files': ['oslo_config/__init__.py', 'oslo/config/cfg.py', '.gitignore', 'oslo/config/__init__.py', 'tests/test_warning.py', 'oslo_config/tests/test_cfg.py', 'oslo_config/generator.py', 'doc/source/parser.rst', 'doc/source/configopts.rst', 'doc/source/generator.rst', 'doc/source/types.rst', 'doc/source/cfgfilter.rst', 'oslo/config/types.py', 'tests/testmods/fbar_foo_opt.py', 'tests/testmods/fblaa_opt.py', 'doc/source/exceptions.rst', 'doc/source/opts.rst', 'oslo_config/cfg.py', 'tests/test_cfgfilter.py', 'oslo_config/tests/test_cfgfilter.py', 'tests/testmods/bar_foo_opt.py', 'doc/source/fixture.rst', 'oslo_config/tests/__init__.py', 'tests/testmods/baz_qux_opt.py', 'oslo/config/iniparser.py', 'oslo_config/tests/test_generator.py', 'oslo/config/cfgfilter.py', 'doc/source/cfg.rst', 'tests/test_cfg.py', 'oslo/config/fixture.py', 'oslo_config/cfgfilter.py', 'oslo/config/generator.py', 'oslo_config/tests/test_iniparser.py', 'doc/source/helpers.rst', 'oslo_config/tests/test_fixture.py', 'oslo_config/fixture.py', 'tests/test_generator.py', 'oslo_config/tests/test_types.py', 'oslo_config/types.py', 'oslo_config/iniparser.py', 'setup.cfg', 'tests/testmods/blaa_opt.py', 'tests/testmods/fbaar_baa_opt.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/70c5b67df353f70f0253dd7b8bcc66c871f842ff', 'message': 'Move files out of the namespace package\n\nMove the public API out of oslo.config to oslo_config. Retain the ability\nto import from the old namespace package for backwards compatibility\nfor this release cycle.\n\nbp/drop-namespace-packages\n\nChange-Id: I56274336802036de050efc62eb2ee6b5d4ede77b\n'}]",0,139735,70c5b67df353f70f0253dd7b8bcc66c871f842ff,12,3,4,2472,,,0,"Move files out of the namespace package

Move the public API out of oslo.config to oslo_config. Retain the ability
to import from the old namespace package for backwards compatibility
for this release cycle.

bp/drop-namespace-packages

Change-Id: I56274336802036de050efc62eb2ee6b5d4ede77b
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/35/139735/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/__init__.py', 'oslo/config/cfg.py', '.gitignore', 'oslo/config/__init__.py', 'tests/test_warning.py', 'oslo_config/tests/test_cfg.py', 'oslo_config/generator.py', 'doc/source/parser.rst', 'doc/source/configopts.rst', 'doc/source/generator.rst', 'doc/source/types.rst', 'doc/source/cfgfilter.rst', 'oslo/config/types.py', 'tests/testmods/fbar_foo_opt.py', 'tests/testmods/fblaa_opt.py', 'doc/source/exceptions.rst', 'doc/source/opts.rst', 'oslo_config/cfg.py', 'oslo_config/tests/test_cfgfilter.py', 'tests/testmods/bar_foo_opt.py', 'doc/source/fixture.rst', 'oslo_config/tests/__init__.py', 'tests/testmods/baz_qux_opt.py', 'oslo/config/iniparser.py', 'oslo_config/tests/test_generator.py', 'oslo/config/cfgfilter.py', 'doc/source/cfg.rst', 'tests/test_cfg.py', 'oslo/config/fixture.py', 'oslo_config/cfgfilter.py', 'oslo/config/generator.py', 'oslo_config/tests/test_iniparser.py', 'doc/source/helpers.rst', 'oslo_config/tests/test_fixture.py', 'oslo_config/fixture.py', 'tests/test_generator.py', 'oslo_config/tests/test_types.py', 'oslo_config/types.py', 'oslo_config/iniparser.py', 'setup.cfg', 'tests/testmods/blaa_opt.py', 'tests/testmods/fbaar_baa_opt.py']",42,0af90b2f0b429e2036e1c828e1fa359cefede72c,bp/drop-namespace-packages,from oslo_config import cfg,from oslo.config import cfg,8824,3754
openstack%2Fmurano~master~I7a1a7555a007a5f905fd0e8af1b3929476655695,openstack/murano,master,I7a1a7555a007a5f905fd0e8af1b3929476655695,Drop ordereddict from requirements,MERGED,2014-12-13 15:23:03.000000000,2014-12-16 01:17:56.000000000,2014-12-16 01:17:55.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-13 15:23:03.000000000', 'files': ['murano/dsl/murano_method.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/cda07fb00ef296e22f389f7de86ff8fc8245b95c', 'message': 'Drop ordereddict from requirements\n\nordereddict was present in requirements.txt to maintain compatibility\nwith Python 2.6. OpenStack dropped py2.6 support starting from Kilo.\nThus there is no need to maintain this requirement.\n\nChange-Id: I7a1a7555a007a5f905fd0e8af1b3929476655695\n'}]",0,141559,cda07fb00ef296e22f389f7de86ff8fc8245b95c,10,4,1,7600,,,0,"Drop ordereddict from requirements

ordereddict was present in requirements.txt to maintain compatibility
with Python 2.6. OpenStack dropped py2.6 support starting from Kilo.
Thus there is no need to maintain this requirement.

Change-Id: I7a1a7555a007a5f905fd0e8af1b3929476655695
",git fetch https://review.opendev.org/openstack/murano refs/changes/59/141559/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/dsl/murano_method.py', 'requirements.txt']",2,cda07fb00ef296e22f389f7de86ff8fc8245b95c,murano-cleanup,,ordereddict,3,8
openstack%2Fproject-config~master~Ia4b11087ec1db9d6fc327991bc506a0dc79878de,openstack/project-config,master,Ia4b11087ec1db9d6fc327991bc506a0dc79878de,Fix api-wg job names and placement,MERGED,2014-12-12 08:42:51.000000000,2014-12-16 01:06:56.000000000,2014-12-16 01:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6482}, {'_account_id': 6547}, {'_account_id': 6609}]","[{'number': 1, 'created': '2014-12-12 08:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef84c46bbc640cf946d2b447ee1c89babb27a66b', 'message': 'Fix api-wg job names and placement\n\nUse api-wg and not keystone-specs jobs for api-wg.\nMove api-wg to the ""Other OpenStack projects"" sections, it\'s not a\nserver project.\n\nChange-Id: Ia4b11087ec1db9d6fc327991bc506a0dc79878de\n'}, {'number': 2, 'created': '2014-12-12 08:50:11.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/21c6e306e019c68cbb5662caa0f5409f21fdcdd4', 'message': 'Fix api-wg job names and placement\n\nUse api-wg and not keystone-specs jobs for api-wg.\nMove api-wg to the ""Other OpenStack projects"" sections, it\'s not a\nserver project.\n\nChange-Id: Ia4b11087ec1db9d6fc327991bc506a0dc79878de\n'}]",0,141306,21c6e306e019c68cbb5662caa0f5409f21fdcdd4,12,6,2,6547,,,0,"Fix api-wg job names and placement

Use api-wg and not keystone-specs jobs for api-wg.
Move api-wg to the ""Other OpenStack projects"" sections, it's not a
server project.

Change-Id: Ia4b11087ec1db9d6fc327991bc506a0dc79878de
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/141306/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,ef84c46bbc640cf946d2b447ee1c89babb27a66b,api-wg, - name: openstack/api-wg template: - name: merge-check - name: openstack-specs-jobs check: - gate-api-wg-specs-python27 gate: - gate-api-wg-specs-python27 , - name: openstack/api-wg template: - name: merge-check - name: openstack-specs-jobs check: - gate-keystone-specs-python27 gate: - gate-keystone-specs-python27 ,16,16
openstack%2Ffuel-docs~master~I61cde99468e7284847d0da0099147b321a8651fb,openstack/fuel-docs,master,I61cde99468e7284847d0da0099147b321a8651fb,Replace Choose Network Service screen in User Guide,MERGED,2014-12-12 19:33:49.000000000,2014-12-16 00:59:37.000000000,2014-12-16 00:59:37.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8787}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 9788}]","[{'number': 1, 'created': '2014-12-12 19:33:49.000000000', 'files': ['pages/user-guide/create-environment/3000-choose-network.rst', '_images/user_screen_shots/network-services.png'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/f51055ed116194dcc6dddb91f269e3d1046110e8', 'message': 'Replace Choose Network Service screen in User Guide\n\nThe screen now refers to ""Legacy networking (nova-network) instead\nof straight Nova Networking.\n\nNew screen shot and updated text to reference it correctly\n\nChange-Id: I61cde99468e7284847d0da0099147b321a8651fb\n'}]",0,141474,f51055ed116194dcc6dddb91f269e3d1046110e8,11,6,1,10014,,,0,"Replace Choose Network Service screen in User Guide

The screen now refers to ""Legacy networking (nova-network) instead
of straight Nova Networking.

New screen shot and updated text to reference it correctly

Change-Id: I61cde99468e7284847d0da0099147b321a8651fb
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/74/141474/1 && git format-patch -1 --stdout FETCH_HEAD,"['pages/user-guide/create-environment/3000-choose-network.rst', '_images/user_screen_shots/network-services.png']",2,f51055ed116194dcc6dddb91f269e3d1046110e8,user-network-create,,,1,1
openstack%2Ffuel-docs~master~I36835b1f430a9d87d1584fedacb2e79d14a7ce11,openstack/fuel-docs,master,I36835b1f430a9d87d1584fedacb2e79d14a7ce11,Add statistics screen to User Guide,MERGED,2014-11-11 10:02:55.000000000,2014-12-16 00:54:31.000000000,2014-12-16 00:54:30.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8787}, {'_account_id': 8967}, {'_account_id': 8971}, {'_account_id': 9788}, {'_account_id': 10014}, {'_account_id': 10959}, {'_account_id': 12866}, {'_account_id': 13082}]","[{'number': 1, 'created': '2014-11-11 10:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/cf178767fa73e5b33faf2ad96acdc727a8da11a0', 'message': 'Add statistics screen to User Guide\n\nAdds a section about statistics gathering\nto the ""Create Environment"" section of the user guide.\n\nChange-Id: I36835b1f430a9d87d1584fedacb2e79d14a7ce11\n'}, {'number': 2, 'created': '2014-11-22 01:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/cc8c861c203d7711138b40cb8ecce7b15afc1c8e', 'message': 'Add statistics screen to User Guide\n\nAdds a section about statistics gathering\nto the ""Create Environment"" section of the user guide.\n\nChange-Id: I36835b1f430a9d87d1584fedacb2e79d14a7ce11\n'}, {'number': 3, 'created': '2014-12-03 04:04:28.000000000', 'files': ['_images/user_screen_shots/statistics-opt-in.png', '_images/user_screen_shots/statistics-name.png', 'pages/user-guide/create-environment/1100-statistics.rst', 'pages/user-guide/3000-create-environment.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1ee078c195c869c602feb24e24387336598a1149', 'message': 'Add statistics screen to User Guide\n\nAdds a section about statistics gathering\nto the ""Create Environment"" section of the user guide.\n\nNote that the Enterprise and Community editions of MOS\nhave different versions of this screen.  Patch 2 includes\nthe Community version.  Patches 1 and 3 contain the\nEnterprise version; Patch 3 adds a note that the Community\nversion has a different screen.\n\nChange-Id: I36835b1f430a9d87d1584fedacb2e79d14a7ce11\n'}]",5,133646,1ee078c195c869c602feb24e24387336598a1149,28,10,3,10014,,,0,"Add statistics screen to User Guide

Adds a section about statistics gathering
to the ""Create Environment"" section of the user guide.

Note that the Enterprise and Community editions of MOS
have different versions of this screen.  Patch 2 includes
the Community version.  Patches 1 and 3 contain the
Enterprise version; Patch 3 adds a note that the Community
version has a different screen.

Change-Id: I36835b1f430a9d87d1584fedacb2e79d14a7ce11
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/46/133646/1 && git format-patch -1 --stdout FETCH_HEAD,"['_images/user_screen_shots/statistics-opt-in.png', '_images/user_screen_shots/statistics-name.png', 'pages/user-guide/create-environment/1100-statistics.rst', 'pages/user-guide/3000-create-environment.rst']",4,cf178767fa73e5b33faf2ad96acdc727a8da11a0,user-statistics,| Approve collection of | See :ref:`statistics-ug` | | anonymous statistics | | +----------------------------+-------------------------------------------+.. include:: /pages/user-guide/create-environment/1100-statistics.rst,,37,0
openstack%2Ffuel-docs~master~I44277c97de0ca4c3d9e35cca323e7dbc10b444e0,openstack/fuel-docs,master,I44277c97de0ca4c3d9e35cca323e7dbc10b444e0,Fuel authorization -- 6.0 updates,MERGED,2014-11-07 09:15:13.000000000,2014-12-16 00:51:41.000000000,2014-12-16 00:51:41.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8882}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 9788}, {'_account_id': 10014}, {'_account_id': 10136}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-11-07 09:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/48a23f1ccfc168bb8c7bfeed748e51c0dc4a238c', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\n'}, {'number': 2, 'created': '2014-11-12 09:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/632cf0e12f7860add180ee7b9e72b04ce2b635d6', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\n'}, {'number': 3, 'created': '2014-11-12 20:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/620f7bf271441cc225d95fe8f257617947813a6f', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\n'}, {'number': 4, 'created': '2014-11-14 01:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/9e2a90c3365022bd19dbf08f86780f755e61546b', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 5, 'created': '2014-11-14 21:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/4e59718f8ba2528a102dc9716c1a33645289a8c4', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 6, 'created': '2014-11-20 21:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/da364cf3ca684006c29c316a5d2be8432e097f55', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 7, 'created': '2014-11-21 10:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/2c64502ad0a7112e7ea31ea618080eda62504959', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 8, 'created': '2014-11-26 00:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/50d9b8f28032e3d37d05775b24780e738e08d4c5', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 9, 'created': '2014-11-26 10:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1326f896e6e3f9c63d435c473f8602b4bc059497', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 10, 'created': '2014-12-02 09:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/9f694ff44957fd050e5aa369af724ee85a53a554', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 11, 'created': '2014-12-02 10:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a81c54b6418ad2291c6e9eb16c97203652037466', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\n'}, {'number': 12, 'created': '2014-12-03 20:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/ed0b4bf9f7201be165bc506cc7401390ee9129e5', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\nPartial-Bug: 1392626\n'}, {'number': 13, 'created': '2014-12-11 04:21:37.000000000', 'files': ['pages/operations/6500-fuel-auth.rst', 'pages/terminology/k/keystone.rst', 'pages/user-guide/8000-upgrade.rst', 'pages/user-guide/cli.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/b567cf65691a855ffbae8226decc92653d9dc923', 'message': 'Fuel authorization -- 6.0 updates\n\nDocument updates to Fuel Authorization being implemented\nin 6.0 and 5.1.1\n\noperations: update 6500-fuel-auth with info about new features\n\nuser-guide:\n- User must supply password for upgrade\n- Add --password option for fuel CLI\n\nterminology/Keystone -- an instance of Keystone runs in a container now\n  in addition to the instances that run on the target nodes\n\nChange-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0\nPartial-Bug: 1384343\nPartial-Bug: 1387667\nPartial-Bug: 1392289\nPartial-Bug: 1392626\n'}]",18,133166,b567cf65691a855ffbae8226decc92653d9dc923,92,10,13,10014,,,0,"Fuel authorization -- 6.0 updates

Document updates to Fuel Authorization being implemented
in 6.0 and 5.1.1

operations: update 6500-fuel-auth with info about new features

user-guide:
- User must supply password for upgrade
- Add --password option for fuel CLI

terminology/Keystone -- an instance of Keystone runs in a container now
  in addition to the instances that run on the target nodes

Change-Id: I44277c97de0ca4c3d9e35cca323e7dbc10b444e0
Partial-Bug: 1384343
Partial-Bug: 1387667
Partial-Bug: 1392289
Partial-Bug: 1392626
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/66/133166/12 && git format-patch -1 --stdout FETCH_HEAD,"['pages/operations/6500-fuel-auth.rst', 'pages/terminology/k/keystone.rst', 'pages/user-guide/8000-upgrade.rst', 'pages/user-guide/cli.rst']",4,48a23f1ccfc168bb8c7bfeed748e51c0dc4a238c,bug/1384343,"Change and Set Fuel password ++++++++++++++++++++++++++++You can set the Fuel Master Node password when upgrading from a earlier release with the following command: :: fuel --password <password> If you do not do this before running the **upgrade.sh** script, you will be prompted to supply the password. ",Change Fuel password ++++++++++++++++++++,99,37
openstack%2Fcongress~master~I43a2deb346d0b2a09e59398607cd5d545b711ecc,openstack/congress,master,I43a2deb346d0b2a09e59398607cd5d545b711ecc,Fix for simulation bug,MERGED,2014-12-10 00:41:07.000000000,2014-12-16 00:21:00.000000000,2014-12-16 00:20:59.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-10 00:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/cdaa301d25a28264fbb5fecaf416bb6d8bbb15f9', 'message': 'Fix for simulation bug\n\nPreviously, simulation did not properly insert data into\npolicies other than the one given for the query.  This led\nto incorrect results.  For example nova:p+(1) did not get inserted\ninto the nova policy, hence a query relying on nova:p(1) could\nfail.\n\nThis change identifies the policy to which a data element is targeted\nand inserts/deletes it from the appropriate policy.\n\nChange-Id: I43a2deb346d0b2a09e59398607cd5d545b711ecc\nCloses-bug: 1400921\n'}, {'number': 2, 'created': '2014-12-10 00:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/8433d1d21cb914ced6ef96dfaa2819de182be36f', 'message': 'Fix for simulation bug\n\nPreviously, simulation did not properly insert data into\npolicies other than the one given for the query.  This led\nto incorrect results.  For example nova:p+(1) did not get inserted\ninto the nova policy, hence a query relying on nova:p(1) could\nfail.\n\nThis change identifies the policy to which a data element is targeted\nand inserts/deletes it from the appropriate policy.\n\nChange-Id: I43a2deb346d0b2a09e59398607cd5d545b711ecc\nCloses-bug: 1400921\n'}, {'number': 3, 'created': '2014-12-10 15:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/f402cf308ce2cf1ca2fd117c54b0593121a14569', 'message': 'Fix for simulation bug\n\nPreviously, simulation did not properly insert data into\npolicies other than the one given for the query.  This led\nto incorrect results.  For example nova:p+(1) did not get inserted\ninto the nova policy, hence a query relying on nova:p(1) could\nfail.\n\nThis change identifies the policy to which a data element is targeted\nand inserts/deletes it from the appropriate policy.\n\nChange-Id: I43a2deb346d0b2a09e59398607cd5d545b711ecc\nCloses-bug: 1400921\n'}, {'number': 4, 'created': '2014-12-10 16:36:14.000000000', 'files': ['congress/policy/compile.py', 'congress/tests/policy/test_runtime.py', 'congress/policy/runtime.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/153665c0aa083caac7166559648c2203bad5c691', 'message': 'Fix for simulation bug\n\nPreviously, simulation did not properly insert data into\npolicies other than the one given for the query.  This led\nto incorrect results.  For example nova:p+(1) did not get inserted\ninto the nova policy, hence a query relying on nova:p(1) could\nfail.\n\nThis change identifies the policy to which a data element is targeted\nand inserts/deletes it from the appropriate policy.\n\nChange-Id: I43a2deb346d0b2a09e59398607cd5d545b711ecc\nCloses-bug: 1400921\n'}]",0,140542,153665c0aa083caac7166559648c2203bad5c691,36,5,4,8215,,,0,"Fix for simulation bug

Previously, simulation did not properly insert data into
policies other than the one given for the query.  This led
to incorrect results.  For example nova:p+(1) did not get inserted
into the nova policy, hence a query relying on nova:p(1) could
fail.

This change identifies the policy to which a data element is targeted
and inserts/deletes it from the appropriate policy.

Change-Id: I43a2deb346d0b2a09e59398607cd5d545b711ecc
Closes-bug: 1400921
",git fetch https://review.opendev.org/openstack/congress refs/changes/42/140542/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress/policy/compile.py', 'congress/tests/policy/test_runtime.py', 'congress/policy/runtime.py']",3,cdaa301d25a28264fbb5fecaf416bb6d8bbb15f9,bug/1400921," self.log(rule.head.table, ""Table already indexed: %s"", rule.head.table) self.log(rule.head.table, ""Table not indexed: %s"", rule.head.table) theory = delta.theory_name() or theory newdelta = delta.drop_update().drop_theory()", newdelta = delta.drop_update(),72,9
openstack%2Fdesignate~master~Icb40448f760ff2a573d08a04bb4dec1f550119bb,openstack/designate,master,Icb40448f760ff2a573d08a04bb4dec1f550119bb,Pool Manager Integration with Central,MERGED,2014-12-02 15:48:51.000000000,2014-12-16 00:20:55.000000000,2014-12-16 00:20:54.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}, {'_account_id': 9605}]","[{'number': 1, 'created': '2014-12-02 15:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2a28d531e9de33747bdc4a15de4aab041a4d90f1', 'message': ""Pool Manager Bug Fixes\n\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\n""}, {'number': 2, 'created': '2014-12-03 14:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc725251fb333cbb96172a5f71bbddceabfe1e3e', 'message': ""Pool Manager Integration with Central\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column.\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}, {'number': 3, 'created': '2014-12-03 14:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0d6d4811cd4a0df12cc89e94723bb4ebaf2a27b5', 'message': ""Pool Manager Integration with Central\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column.\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}, {'number': 4, 'created': '2014-12-05 00:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9caf73a4123bf15c3ea93392cb75eab569dea3a9', 'message': ""Pool Manager Integration with Central (WIP)\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}, {'number': 5, 'created': '2014-12-05 02:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/db4e39d1ba8659adb8afa4d44a9945781928e425', 'message': ""Pool Manager Integration with Central\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}, {'number': 6, 'created': '2014-12-15 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b3849a4e19de542f99f0491a1d41ac01a88a9068', 'message': ""Pool Manager Integration with Central\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column\n- Ported Fake backend to pools\n- Removed transitional pool_manager_proxy backend\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}, {'number': 7, 'created': '2014-12-15 16:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/deb23ce77bbc071710765f15dc1eb4fa4166e138', 'message': ""Pool Manager Integration with Central\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column\n- Ported Fake backend to pools\n- Removed transitional pool_manager_proxy backend\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}, {'number': 8, 'created': '2014-12-15 18:49:06.000000000', 'files': ['designate/backend/__init__.py', 'designate/backend/impl_pool_manager_proxy.py', 'designate/storage/impl_sqlalchemy/tables.py', 'designate/tests/__init__.py', 'designate/tests/test_api/test_v1/test_records.py', 'designate/tests/test_storage/__init__.py', 'designate/central/service.py', 'designate/tests/test_notification_handler/test_nova.py', 'designate/tests/test_api/test_v2/test_recordsets.py', 'designate/tests/test_central/test_service.py', 'contrib/vagrant/localrc', 'designate/backend/impl_fake.py', 'designate/tests/test_notification_handler/test_neutron.py', 'designate/tests/test_api/test_v2/test_zones.py', 'designate/central/__init__.py', 'designate/tests/test_pool_manager/test_service.py', 'contrib/devstack/lib/designate', 'designate/pool_manager/service.py', 'designate/tests/test_pool_manager/__init__.py', 'designate/tests/test_api/test_v1/test_domains.py', 'setup.cfg', 'designate/tests/test_api/test_v2/test_floatingips.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4e75f5b54c149bfd1aeea139bd8108c3031d049c', 'message': ""Pool Manager Integration with Central\n\nFull integration of Pool Manager with Central (no longer using the proxy\nbackend driver.)\n\nThis patch fixes:\n\n- Fix concurrent requests that cause lockup issue (bug #1392762)\n- Fixed bug where creating a domain fails the first time in mdns\n- Fixed bug where records in recordsets do not have the correct\n  status/action/serial\n- Changed 'ADD' to 'CREATE' for ACTION column\n- Ported Fake backend to pools\n- Removed transitional pool_manager_proxy backend\n\nChange-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb\nCloses-Bug: 1392762\n""}]",19,138406,4e75f5b54c149bfd1aeea139bd8108c3031d049c,57,6,8,9605,,,0,"Pool Manager Integration with Central

Full integration of Pool Manager with Central (no longer using the proxy
backend driver.)

This patch fixes:

- Fix concurrent requests that cause lockup issue (bug #1392762)
- Fixed bug where creating a domain fails the first time in mdns
- Fixed bug where records in recordsets do not have the correct
  status/action/serial
- Changed 'ADD' to 'CREATE' for ACTION column
- Ported Fake backend to pools
- Removed transitional pool_manager_proxy backend

Change-Id: Icb40448f760ff2a573d08a04bb4dec1f550119bb
Closes-Bug: 1392762
",git fetch https://review.opendev.org/openstack/designate refs/changes/06/138406/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/impl_sqlalchemy/tables.py', 'designate/central/service.py']",2,2a28d531e9de33747bdc4a15de4aab041a4d90f1,bp/transition-powerdns-to-pools," objects.Record(data=r, managed=True) for r in soa_values]) soa = self.create_recordset( context, domain_id=zone['id'], recordset=objects.RecordSet(**values), increment_serial=False, storage_only=self._is_pool_manager_backend()) objects.Record(data=r) for r in new_values]) objects.Record(data=r, managed=True) for r in ns_values]) ns = self.create_recordset( context, domain_id=zone['id'], recordset=objects.RecordSet(**values), increment_serial=False, storage_only=self._is_pool_manager_backend()) if not self._is_pool_manager_backend(): with wrap_backend_call(): self.backend.create_domain(context, created_domain) self.create_recordset( context, created_domain['id'], rrset, increment_serial=False, storage_only=self._is_pool_manager_backend()) # Create the NS and SOA recordsets for the new domain. SOA must be # last, in order to ensure BIND etc do not read the zone file before # all changes have been committed to the zone file. self._create_ns(context, created_domain, servers) self._create_soa(context, created_domain) if self._is_pool_manager_backend(): with wrap_backend_call(): self.backend.create_domain(context, created_domain) if self._is_pool_manager_backend(): increment_serial=True, storage_only=False): if recordset.records: for record in recordset.records: record.action, record.status = \ self._get_action_and_status('CREATE') record.serial = self._get_serial(domain, increment_serial) if not storage_only: with wrap_backend_call(): self.backend.create_recordset(context, domain, created_recordset) if recordset.records: for record in recordset.records: record.action, record.status = \ self._get_action_and_status('UPDATE') record.serial = self._get_serial(domain, increment_serial) if recordset.records: for record in recordset.records: record.action, record.status = \ self._get_action_and_status('DELETE') record.serial = self._get_serial(domain, increment_serial) record.serial = self._get_serial(domain, increment_serial) record.serial = self._get_serial(domain, increment_serial) record.serial = self._get_serial(domain, increment_serial) if self._is_pool_manager_backend(): def _is_pool_manager_backend(): return cfg.CONF['service:central'].backend_driver \ == 'pool_manager_proxy' def _get_action_and_status(self, passed_action): if self._is_pool_manager_backend(): @staticmethod def _get_serial(domain, increment_serial): serial = domain.serial if increment_serial: serial = utils.increment_serial(domain.serial) return serial "," action, status = self._get_action_and_status('CREATE') objects.Record(data=r, managed=True, serial=zone['serial'], action=action, status=status) for r in soa_values]) soa = self.create_recordset(context, domain_id=zone['id'], recordset=objects.RecordSet(**values), increment_serial=False) action, status = self._get_action_and_status('UPDATE') objects.Record(data=r, serial=zone['serial'], action=action, status=status) for r in new_values]) action, status = self._get_action_and_status('CREATE') objects.Record(data=r, managed=True, serial=zone['serial'], action=action, status=status) for r in ns_values]) ns = self.create_recordset(context, domain_id=zone['id'], recordset=objects.RecordSet(**values), increment_serial=False) r.action, r.status = self._get_action_and_status('UPDATE') with wrap_backend_call(): self.backend.create_domain(context, created_domain) self.create_recordset(context, created_domain['id'], rrset, increment_serial=False) # Create the NS and SOA recordsets for the new domain. SOA must be # last, in order to ensure BIND etc do not read the zone file before # all changes have been committed to the zone file. self._create_ns(context, created_domain, servers) self._create_soa(context, created_domain) if cfg.CONF['service:central'].backend_driver == 'pool_manager_proxy': increment_serial=True): with wrap_backend_call(): self.backend.create_recordset(context, domain, created_recordset) record.serial = domain.serial if increment_serial: record.serial = utils.increment_serial(domain.serial) record.serial = domain.serial if increment_serial: record.serial = utils.increment_serial(domain.serial) record.serial = domain.serial if increment_serial: record.serial = utils.increment_serial(domain.serial) if cfg.CONF['service:central'].backend_driver == 'pool_manager_proxy': def _get_action_and_status(passed_action): if cfg.CONF['service:central'].backend_driver == 'pool_manager_proxy':",70,51
openstack%2Fdesignate~master~I9cf96dbe8c079792bd55a9eab7a12efb7a983552,openstack/designate,master,I9cf96dbe8c079792bd55a9eab7a12efb7a983552,Remove the agent service and old-style backend tests,MERGED,2014-12-15 15:12:09.000000000,2014-12-16 00:20:49.000000000,2014-12-16 00:20:48.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-15 15:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/85212c2828cd2e57bc1991eb94f055b6c7482724', 'message': 'Remove the agent service\n\nThe agent service has been replaced by Pools, we should remove it\nnow that pools has fully merged.\n\nAdditionaly, the Backend tests rely on the Agent code, and no tests\nexist for Pools based backends. This will be fixed as a priority in\nKilo 2.\n\nChange-Id: I9cf96dbe8c079792bd55a9eab7a12efb7a983552\n'}, {'number': 2, 'created': '2014-12-15 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4f85a9a5a195da713fc06baf74fc950afc8f7a72', 'message': 'Remove the agent service and old-style backend tests\n\nThe agent service has been replaced by Pools, we should remove it\nnow that pools has fully merged.\n\nAdditionaly, the Backend tests rely on the Agent code, and no tests\nexist for Pools based backends. This will be fixed as a priority in\nKilo 2.\n\nChange-Id: I9cf96dbe8c079792bd55a9eab7a12efb7a983552\n'}, {'number': 3, 'created': '2014-12-15 16:09:43.000000000', 'files': ['designate/tests/test_backend/test_nsd4slave.py', 'designate/tests/__init__.py', 'designate/tests/test_backend/test_ipa.py', 'designate/tests/test_agent/test_service.py', 'designate/__init__.py', 'designate/tests/test_backend/__init__.py', 'doc/source/architecture.rst', 'doc/source/configuration.rst', 'designate/tests/test_agent/__init__.py', 'etc/designate/designate.conf.sample', 'doc/source/agent.rst', 'designate/agent/rpcapi.py', 'designate/tests/test_backend/test_multi.py', 'doc/source/index.rst', 'designate/tests/test_backend/test_backends.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/backend/impl_rpc.py', 'doc/source/glossary.rst', 'designate/cmd/agent.py', 'setup.cfg', 'doc/source/devstack.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/6285bdaf6d3ca9a5821a4fc71c42eae11786001e', 'message': 'Remove the agent service and old-style backend tests\n\nThe agent service has been replaced by Pools, we should remove it\nnow that pools has fully merged.\n\nAdditionaly, the Backend tests rely on the Agent code, and no tests\nexist for Pools based backends. This will be fixed as a priority in\nKilo 2.\n\nChange-Id: I9cf96dbe8c079792bd55a9eab7a12efb7a983552\n'}]",2,141819,6285bdaf6d3ca9a5821a4fc71c42eae11786001e,19,5,3,741,,,0,"Remove the agent service and old-style backend tests

The agent service has been replaced by Pools, we should remove it
now that pools has fully merged.

Additionaly, the Backend tests rely on the Agent code, and no tests
exist for Pools based backends. This will be fixed as a priority in
Kilo 2.

Change-Id: I9cf96dbe8c079792bd55a9eab7a12efb7a983552
",git fetch https://review.opendev.org/openstack/designate refs/changes/19/141819/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_backend/test_nsd4slave.py', 'designate/tests/__init__.py', 'designate/tests/test_backend/test_ipa.py', 'designate/tests/test_agent/test_service.py', 'designate/__init__.py', 'designate/tests/test_backend/__init__.py', 'designate/tests/test_agent/__init__.py', 'etc/designate/designate.conf.sample', 'designate/agent/rpcapi.py', 'designate/tests/test_backend/test_multi.py', 'designate/tests/test_backend/test_backends.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/backend/impl_rpc.py', 'designate/cmd/agent.py', 'setup.cfg']",16,85212c2828cd2e57bc1991eb94f055b6c7482724,bp/transition-powerdns-to-pools,, designate-agent = designate.cmd.agent:main rpc = designate.backend.impl_rpc:RPCBackend,3,1137
openstack%2Fdevstack~master~I8f5e49f8b8012a6ceaa3e087db213ce902467111,openstack/devstack,master,I8f5e49f8b8012a6ceaa3e087db213ce902467111,Install Juno RDO repos for RHEL7,ABANDONED,2014-12-15 21:37:55.000000000,2014-12-15 23:43:33.000000000,,"[{'_account_id': 3}, {'_account_id': 8074}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-15 21:37:55.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/336ca163d64f5db4f80cab60b1d1f5089b9b273f', 'message': 'Install Juno RDO repos for RHEL7\n\nRHEL7 does not include Open vSwitch in the default repos, but it\nis available via the RDO repo.  This patch automatically\nconfigures the RDO repo for RHEL7.\n\nMove this into the existing rhel6/rhel7 section.  We update RHEl6 to\nthe latest icehouse release, but it is not supported with Juno\n\nChange-Id: I8f5e49f8b8012a6ceaa3e087db213ce902467111\n'}]",0,141907,336ca163d64f5db4f80cab60b1d1f5089b9b273f,4,3,1,7118,,,0,"Install Juno RDO repos for RHEL7

RHEL7 does not include Open vSwitch in the default repos, but it
is available via the RDO repo.  This patch automatically
configures the RDO repo for RHEL7.

Move this into the existing rhel6/rhel7 section.  We update RHEl6 to
the latest icehouse release, but it is not supported with Juno

Change-Id: I8f5e49f8b8012a6ceaa3e087db213ce902467111
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/141907/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,336ca163d64f5db4f80cab60b1d1f5089b9b273f,bug/1402390," # Installing Open vSwitch on RHEL requires enabling the RDO repo. # Note no juno packages for rhel6 if [[ $DISTRO == ""rhel6"" ]]; then RHEL_RDO_REPO_RPM=${RHEL6_RDO_REPO_RPM:-""https://repos.fedorapeople.org/repos/openstack/openstack-icehouse/rdo-release-icehouse-4.noarch.rpm""} RHEL_RDO_REPO_ID=${RHEL6_RDO_REPO_ID:-""openstack-icehouse""} elif [[ $DISTRO == ""rhel7"" ]]; then RHEL_RDO_REPO_RPM=${RHEL7_RDO_REPO_RPM:-""https://repos.fedorapeople.org/repos/openstack/openstack-juno/rdo-release-juno-1.noarch.rpm""} RHEL_RDO_REPO_ID=${RHEL7_RDO_REPO_ID:-""openstack-juno""} fi if ! sudo yum repolist enabled $RHEL_RDO_REPO_ID | grep -q $RHEL_RDO_REPO_ID; then echo ""RDO repo not detected; installing"" yum_install $RHEL_RDO_REPO_RPM || \ die $LINENO ""Error installing RDO repo, cannot continue"" fi ","if is_fedora && [ $DISTRO == ""rhel6"" ]; then # Installing Open vSwitch on RHEL requires enabling the RDO repo. RHEL6_RDO_REPO_RPM=${RHEL6_RDO_REPO_RPM:-""http://rdo.fedorapeople.org/openstack-icehouse/rdo-release-icehouse.rpm""} RHEL6_RDO_REPO_ID=${RHEL6_RDO_REPO_ID:-""openstack-icehouse""} if ! sudo yum repolist enabled $RHEL6_RDO_REPO_ID | grep -q $RHEL6_RDO_REPO_ID; then echo ""RDO repo not detected; installing"" yum_install $RHEL6_RDO_REPO_RPM || \ die $LINENO ""Error installing RDO repo, cannot continue"" fi fi ",17,11
openstack%2Fmonasca-notification~master~I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36,openstack/monasca-notification,master,I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36,Added timeout to webhook,MERGED,2014-12-12 18:49:11.000000000,2014-12-15 23:33:20.000000000,2014-12-15 23:33:20.000000000,"[{'_account_id': 3}, {'_account_id': 10046}, {'_account_id': 11094}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-12-12 18:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/76ee3bc9c73a63ccf60e3d7da95287c03e027f36', 'message': 'Added timeout to webhook\n\nAdded a timeout keyword to requests.post that we use to send webhooks.  Updated\nthe tests to verify that the webhook will properly time out.\n\nChange-Id: I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36\n'}, {'number': 2, 'created': '2014-12-12 22:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/db453bb9b70d12d839b8759c25b53a605818e6b5', 'message': 'Added timeout to webhook\n\nAdded a timeout keyword to requests.post that we use to send webhooks.  Updated\nthe tests to verify that the webhook will properly time out.\n\nChange-Id: I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36\n'}, {'number': 3, 'created': '2014-12-12 22:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/bd21ba1adb233d784651157774519f66cdc5a708', 'message': 'Added timeout to webhook\n\nAdded a timeout keyword to requests.post that we use to send webhooks.  Updated\nthe tests to verify that the webhook will properly time out.\n\nChange-Id: I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36\n'}, {'number': 4, 'created': '2014-12-12 22:44:24.000000000', 'files': ['monasca_notification/processors/notification_processor.py', 'notification.yaml', 'monasca_notification/main.py', 'tests/test_notification_processor.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f0b4f91960a8e721c34f9b27ea34413c949fd608', 'message': 'Added timeout to webhook\n\nAdded a timeout keyword to requests.post that we use to send webhooks.  Updated\nthe tests to verify that the webhook will properly time out.\n\nChange-Id: I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36\n'}]",2,141458,f0b4f91960a8e721c34f9b27ea34413c949fd608,16,4,4,14273,,,0,"Added timeout to webhook

Added a timeout keyword to requests.post that we use to send webhooks.  Updated
the tests to verify that the webhook will properly time out.

Change-Id: I27140a8c13afcd8f2e30ea1367f0bd9f4944ba36
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/58/141458/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/processors/notification_processor.py', 'notification.yaml', 'monasca_notification/main.py', 'tests/test_notification_processor.py']",4,76ee3bc9c73a63ccf60e3d7da95287c03e027f36,,"import threading import time import requests from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler self.webhook_config = {'timeout': 0.001} nprocessor = (notification_processor. NotificationProcessor(self.notification_queue, self.sent_notification_queue, self.finished_queue, self.email_config, self.webhook_config)) def _http_post_200(self, url, data, headers, **kwargs): def _http_post_404(self, url, data, headers, **kwargs): """"""webhook good response """"""webhook bad response def test_webhook_timeout_exception_on_http_response(self): """"""webhook timeout exception port = 21654 server = HTTPServer(('localhost', port), BaseHTTPRequestHandler) thread = threading.Thread(target=server.serve_forever) thread.daemon = True thread.start() real_post_func = notification_processor.requests.post self.http_func = real_post_func notification = Notification('webhook', 0, 1, 'webhook notification', 'http://localhost:%s' % port, alarm_dict) self._start_processor() server.shutdown() self.assertRegexpMatches(log_msg, ""Error trying to post on URL http://localhost:%s"" % port) self.assertRaises(requests.exceptions.Timeout)"," nprocessor = notification_processor.NotificationProcessor( self.notification_queue, self.sent_notification_queue, self.finished_queue, self.email_config ) def _http_post_200(self, url, data, headers): def _http_post_404(self, url, data, headers): def _http_post_exception(self, url, data, headers): # generate error foobar """"""webhook """"""webhook def test_webhook_exception_on_http_response(self): """"""webhook self.http_func = self._http_post_exception notification = Notification('webhook', 0, 1, 'email notification', 'me@here.com', alarm_dict) self._start_processor() self.assertRegexpMatches(log_msg, ""Error trying to post on URL me@here.com"")",55,20
openstack%2Fdesignate~master~Id04a0d6b76244d5f3b22b637e79bf05209287ad3,openstack/designate,master,Id04a0d6b76244d5f3b22b637e79bf05209287ad3,Remove the non-pools bind9 backend,MERGED,2014-12-12 13:30:50.000000000,2014-12-15 23:32:35.000000000,2014-12-15 23:32:34.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}, {'_account_id': 9605}]","[{'number': 1, 'created': '2014-12-12 13:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/89bc6a5de71301dc917ba849e49d6074256406bd', 'message': 'Remove the non-pools bind9 backend\n\nChange-Id: Id04a0d6b76244d5f3b22b637e79bf05209287ad3\n'}, {'number': 2, 'created': '2014-12-12 13:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bf5ab29ce2b5dcf76198e206f80112b7f219b669', 'message': 'Remove the non-pools bind9 backend\n\nChange-Id: Id04a0d6b76244d5f3b22b637e79bf05209287ad3\n'}, {'number': 3, 'created': '2014-12-12 13:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a2d3f6a96f08c65435744ed33f3a01797fa09a6d', 'message': 'Remove the non-pools bind9 backend\n\nChange-Id: Id04a0d6b76244d5f3b22b637e79bf05209287ad3\n'}, {'number': 4, 'created': '2014-12-15 14:30:54.000000000', 'files': ['contrib/devstack/gate_hook.sh', 'designate/resources/templates/bind9-config.jinja2', 'designate/tests/test_utils.py', 'designate/tests/test_backend/test_backends.py', 'designate/backend/impl_bind9.py', 'etc/designate/designate.conf.sample', 'contrib/devstack/lib/designate_plugins/backend-bind9', 'contrib/devstack/lib/designate_plugins/backend-bind9_pool', 'setup.cfg', 'designate/backend/impl_bind9_pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/39c49c057eac4fd6feea94e76858f246409d7067', 'message': 'Remove the non-pools bind9 backend\n\nChange-Id: Id04a0d6b76244d5f3b22b637e79bf05209287ad3\n'}]",1,141368,39c49c057eac4fd6feea94e76858f246409d7067,16,6,4,741,,,0,"Remove the non-pools bind9 backend

Change-Id: Id04a0d6b76244d5f3b22b637e79bf05209287ad3
",git fetch https://review.opendev.org/openstack/designate refs/changes/68/141368/4 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/gate_hook.sh', 'designate/backend/impl_bind9.py', 'etc/designate/designate.conf.sample', 'contrib/devstack/lib/designate_plugins/backend-bind9', 'contrib/devstack/lib/designate_plugins/backend-bind9_pool', 'setup.cfg', 'designate/backend/impl_bind9_pool.py']",7,89bc6a5de71301dc917ba849e49d6074256406bd,bp/transition-powerdns-to-pools,,"# Copyright 2014 eBay Inc. # # Author: Ron Rickard <rrickard@ebay.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import socket from oslo.config import cfg from designate.openstack.common import log as logging from designate import exceptions from designate import utils from designate.backend import base LOG = logging.getLogger(__name__) DEFAULT_PORT = 5354 class Bind9PoolBackend(base.PoolBackend): __plugin_name__ = 'bind9_pool' @classmethod def _get_common_cfg_opts(cls): return [ cfg.StrOpt('rndc-host', default='127.0.0.1', help='RNDC Host'), cfg.IntOpt('rndc-port', default=953, help='RNDC Port'), cfg.StrOpt('rndc-config-file', default=None, help='RNDC Config File'), cfg.StrOpt('rndc-key-file', default=None, help='RNDC Key File'), ] def __init__(self, backend_options): super(Bind9PoolBackend, self).__init__(backend_options) self.masters = [self._parse_master(master) for master in self.get_backend_option('masters')] self.rndc_host = self.get_backend_option('rndc_host') self.rndc_port = self.get_backend_option('rndc_port') self.rndc_config_file = self.get_backend_option('rndc_config_file') self.rndc_key_file = self.get_backend_option('rndc_key_file') @staticmethod def _parse_master(master): try: (ip_address, port) = master.split(':', 1) except ValueError: ip_address = str(master) port = DEFAULT_PORT try: port = int(port) except ValueError: raise exceptions.ConfigurationError( 'Invalid port ""%s"" in masters option.' % port) if port < 0 or port > 65535: raise exceptions.ConfigurationError( 'Port ""%s"" is not between 0 and 65535 in masters option.' % port) try: socket.inet_pton(socket.AF_INET, ip_address) except socket.error: raise exceptions.ConfigurationError( 'Invalid IP address ""%s"" in masters option.' % ip_address) return {'ip-address': ip_address, 'port': port} def create_domain(self, context, domain): LOG.debug('Create Domain') masters = [] for master in self.masters: ip_address = master['ip-address'] port = master['port'] masters.append('%s port %s' % (ip_address, port)) rndc_op = [ 'addzone', '%s { type slave; masters { %s;}; file ""slave.%s%s""; };' % (domain['name'].rstrip('.'), '; '.join(masters), domain['name'], domain['id']), ] self._execute_rndc(rndc_op) def delete_domain(self, context, domain): LOG.debug('Delete Domain') rndc_op = [ 'delzone', '%s' % domain['name'].rstrip('.'), ] self._execute_rndc(rndc_op) def _rndc_base(self): rndc_call = [ 'rndc', '-s', self.rndc_host, '-p', str(self.rndc_port), ] if self.rndc_config_file: rndc_call.extend( ['-c', self.rndc_config_file]) if self.rndc_key_file: rndc_call.extend( ['-k', self.rndc_key_file]) return rndc_call def _execute_rndc(self, rndc_op): try: rndc_call = self._rndc_base() rndc_call.extend(rndc_op) LOG.debug('Executing RNDC call: %s' % "" "".join(rndc_call)) utils.execute(*rndc_call) except utils.processutils.ProcessExecutionError as e: LOG.debug('RNDC call failure: %s' % e) raise exceptions.Backend(e) ",88,468
openstack%2Fmagnum~master~I40980a4d264de7f59c1314b6c5a30b643d03dd92,openstack/magnum,master,I40980a4d264de7f59c1314b6c5a30b643d03dd92,Add bay kubernetes_heat type WIP,MERGED,2014-12-15 05:28:13.000000000,2014-12-15 23:30:30.000000000,2014-12-15 12:17:02.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 12385}]","[{'number': 1, 'created': '2014-12-15 05:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/093f0823a4f5a5d7cea530448e6ffc63404d6373', 'message': 'Add bay kubernetes_heat type WIP\n\nThis uses ""larsks/heat-kubernetes"" template to build a kubernetes cluster,\nto support k8s_heat type Bay.\nk8s_heat type Bay provide kubernetes using heat.\n\nChange-Id: I40980a4d264de7f59c1314b6c5a30b643d03dd92\n'}, {'number': 2, 'created': '2014-12-15 08:05:14.000000000', 'files': ['magnum/conductor/handlers/bay_k8s_heat.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4eb7aa6f837f386b0b1d655d05355b82119ece0c', 'message': 'Add bay kubernetes_heat type WIP\n\nThis uses ""larsks/heat-kubernetes"" template to build a kubernetes cluster,\nto support k8s_heat type Bay.\nk8s_heat type Bay provide kubernetes using heat.\n\nChange-Id: I40980a4d264de7f59c1314b6c5a30b643d03dd92\n'}]",3,141715,4eb7aa6f837f386b0b1d655d05355b82119ece0c,11,3,2,12385,,,0,"Add bay kubernetes_heat type WIP

This uses ""larsks/heat-kubernetes"" template to build a kubernetes cluster,
to support k8s_heat type Bay.
k8s_heat type Bay provide kubernetes using heat.

Change-Id: I40980a4d264de7f59c1314b6c5a30b643d03dd92
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/141715/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conductor/handlers/bay_k8s_heat.py'],1,093f0823a4f5a5d7cea530448e6ffc63404d6373,impl-heatbay,"# Copyright 2014 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo.config import cfg from magnum.common import heat from magnum import objects from magnum.openstack.common._i18n import _ from magnum.openstack.common import log as logging k8s_heat_opts = [ cfg.StrOpt('template_path', default='/etc/magnum/templates/kubecluster.yaml', help=_( 'Location of template to build a k8s cluster. '))] cfg.CONF.register_opts(k8s_heat_opts, group='k8s_heat') LOG = logging.getLogger(__name__) # These are the backend operations. They are executed by the backend # service. API calls via AMQP (within the ReST API) trigger the handlers to # be called. class Handler(object): def __init__(self): super(Handler, self).__init__() # Bay Operations def bay_create(self, ctxt, bay): if bay.type is not 'k8s_heat': return LOG.debug('k8s_heat bay_create') # 'definition' and 'properties' field are needed. # stack_name is unique on each tenant. stack_name = bay.name # bay_definition is used for heat parameter # larsks/heat-kubernetes requires # 'ssh_key_name' and 'external_network_id' bay_definition = bay.definition heat_client = heat.get_client(ctxt) created_stack = heat_client.stacks.create(stack_name=stack_name, template=cfg.CONF.k8s_heat.template_path, parameters=bay_definition) stack_id = created_stack['stack']['id'] bay.properties['stack_id'] = stack_id bay.create() # TODO:(yuanying) create ""node"" object # using bay_definition['number_of_minions'] return bay def bay_list(self, ctxt): LOG.debug('k8s_heat bay_list') return objects.Bay.list(ctxt) def bay_delete(self, ctxt, uuid): # if bay.type is not 'k8s_heat': # return LOG.debug('k8s_heat bay_delete') bay = objects.Bay.get_by_uuid(ctxt, uuid) stack_id = bay.properties['stack_id'] heat.stacks.delete(stack_id) bay.destroy() return None def bay_show(self, ctxt, uuid): # if bay.type is not 'k8s_heat': # return LOG.debug('k8s_heat bay_show') bay = objects.Bay.get_by_uuid(ctxt, uuid) stack_id = bay.properties['stack_id'] stack = heat.stacks.get(stack_id) if stack.status == 'COMPLETE': master_address = stack['outputs'][0]['output_value'] minion_addresses = stack['outputs'][2]['output_value'] bay.properties['master_address'] = master_address bay.properties['minion_addresses'] = minion_addresses bay.save() return bay",,105,0
openstack%2Fcongress~master~Idc48f323a927afcf56ef6e573b1b4ae8bac108b3,openstack/congress,master,Idc48f323a927afcf56ef6e573b1b4ae8bac108b3,Update glancev2 to use parent-col-name for tags table,MERGED,2014-12-11 19:55:52.000000000,2014-12-15 23:12:42.000000000,2014-12-15 23:12:42.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-11 19:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e5ee8973b7441e1aef07bc502ddcb7cf45a1e9c4', 'message': 'Update glancev2 to use parent-col-name for tags table\n\nPreviously the tags schema would look like this:\n\n$ openstack congress datasource table schema show  glancev2 tags\n+-----------+-------------+\n| name      | description |\n+-----------+-------------+\n| parent_id | None        |\n| tag       | None        |\n+-----------+-------------+\n\n$ openstack  congress datasource table schema show glancev2 tags\n+----------+-------------+\n| name     | description |\n+----------+-------------+\n| image_id | None        |\n| tag      | None        |\n+----------+-------------+\n\nThis makes it obviously that, that column is an image_id.\n\nChange-Id: Idc48f323a927afcf56ef6e573b1b4ae8bac108b3\n'}, {'number': 2, 'created': '2014-12-12 00:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/65e6867ab44b06f24e2cc969a5b8d8ecc1ac9cd4', 'message': 'Update glancev2 to use parent-col-name for tags table\n\nPreviously the tags schema would look like this:\n\n$ openstack congress datasource table schema show  glancev2 tags\n+-----------+-------------+\n| name      | description |\n+-----------+-------------+\n| parent_id | None        |\n| tag       | None        |\n+-----------+-------------+\n\n$ openstack  congress datasource table schema show glancev2 tags\n+----------+-------------+\n| name     | description |\n+----------+-------------+\n| image_id | None        |\n| tag      | None        |\n+----------+-------------+\n\nThis makes it obviously that, that column is an image_id.\n\nChange-Id: Idc48f323a927afcf56ef6e573b1b4ae8bac108b3\n'}, {'number': 3, 'created': '2014-12-15 20:46:51.000000000', 'files': ['congress/datasources/glancev2_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/52f3be6db97a27114bb520871fadf5c59588ab42', 'message': 'Update glancev2 to use parent-col-name for tags table\n\nPreviously the tags schema would look like this:\n\n$ openstack congress datasource table schema show  glancev2 tags\n+-----------+-------------+\n| name      | description |\n+-----------+-------------+\n| parent_id | None        |\n| tag       | None        |\n+-----------+-------------+\n\n$ openstack  congress datasource table schema show glancev2 tags\n+----------+-------------+\n| name     | description |\n+----------+-------------+\n| image_id | None        |\n| tag      | None        |\n+----------+-------------+\n\nThis makes it obviously that, that column is an image_id.\n\nChange-Id: Idc48f323a927afcf56ef6e573b1b4ae8bac108b3\n'}]",0,141145,52f3be6db97a27114bb520871fadf5c59588ab42,18,6,3,4395,,,0,"Update glancev2 to use parent-col-name for tags table

Previously the tags schema would look like this:

$ openstack congress datasource table schema show  glancev2 tags
+-----------+-------------+
| name      | description |
+-----------+-------------+
| parent_id | None        |
| tag       | None        |
+-----------+-------------+

$ openstack  congress datasource table schema show glancev2 tags
+----------+-------------+
| name     | description |
+----------+-------------+
| image_id | None        |
| tag      | None        |
+----------+-------------+

This makes it obviously that, that column is an image_id.

Change-Id: Idc48f323a927afcf56ef6e573b1b4ae8bac108b3
",git fetch https://review.opendev.org/openstack/congress refs/changes/45/141145/3 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/glancev2_driver.py'],1,e5ee8973b7441e1aef07bc502ddcb7cf45a1e9c4,," 'parent-col-name': 'image_id',",,1,0
openstack%2Fcongress~master~Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e,openstack/congress,master,Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e,Allow parent_key column to specify its name,MERGED,2014-12-11 00:31:40.000000000,2014-12-15 23:12:30.000000000,2014-12-15 23:12:29.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-11 00:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/30013c6437d540fc958ff8f13aa7260f4c6f36a7', 'message': ""Allow parent_key column to specify its name\n\nThis can be done by specifying 'parent-col-name': name\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e\n""}, {'number': 2, 'created': '2014-12-11 19:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/26bdfb64805f15fa211d71185f8c5c08ec337611', 'message': ""Allow parent_key column to specify its name\n\nThis can be done by specifying 'parent-col-name': name\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e\n""}, {'number': 3, 'created': '2014-12-11 19:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e092e2368dcdf3e6704d66ea54d2513643185fc5', 'message': ""Allow parent_key column to specify its name\n\nThis can be done by specifying 'parent-col-name': name\n\nThis is implemented for LISTS and HDICT\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e\n""}, {'number': 4, 'created': '2014-12-12 00:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/56b21aaef32d0be15bea747892617d6ea221a5ea', 'message': ""Allow parent_key column to specify its name\n\nThis can be done by specifying 'parent-col-name': name\n\nThis is implemented for LISTS and HDICT\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e\n""}, {'number': 5, 'created': '2014-12-15 20:46:16.000000000', 'files': ['congress/tests/datasources/test_datasource_driver.py', 'congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/3c6416d86f83d890d91edf460b25a703a46eddfd', 'message': ""Allow parent_key column to specify its name\n\nThis can be done by specifying 'parent-col-name': name\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e\n""}]",5,140876,3c6416d86f83d890d91edf460b25a703a46eddfd,29,6,5,4395,,,0,"Allow parent_key column to specify its name

This can be done by specifying 'parent-col-name': name

Partially implements blueprint parent-key-improvements

Change-Id: Ifb7e8c74d6ebe36bb3fd2c30761b38cf37961d8e
",git fetch https://review.opendev.org/openstack/congress refs/changes/76/140876/5 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/datasources/test_datasource_driver.py', 'congress/datasources/datasource_driver.py']",2,30013c6437d540fc958ff8f13aa7260f4c6f36a7,bp/parent-key-improvements," PARENT_COL_NAME = 'parent-col-name' SELECTOR_TYPE, FIELD_TRANSLATORS, IN_LIST, PARENT_COL_NAME) parent_col_name = translator.get(self.PARENT_COL_NAME, self.PARENT_KEY_COL_NAME) columns.append(parent_col_name) parent_col_name = translator.get(cls.PARENT_COL_NAME, cls.PARENT_KEY_COL_NAME) hdict_row[parent_col_name] = ( parent_col_name = translator.get(cls.PARENT_COL_NAME, cls.PARENT_KEY_COL_NAME) new_row = (hdict_row[parent_col_name],) + tuple(new_row)"," SELECTOR_TYPE, FIELD_TRANSLATORS, IN_LIST) # A missing parameter will raise a KeyError columns.append(self.PARENT_KEY_COL_NAME) hdict_row[cls.PARENT_KEY_COL_NAME] = ( new_row = (hdict_row[cls.PARENT_KEY_COL_NAME],) + tuple(new_row)",44,5
openstack%2Fneutron-specs~master~Iffc7f0bfd824c92efda3ddd40890ed1c3513694c,openstack/neutron-specs,master,Iffc7f0bfd824c92efda3ddd40890ed1c3513694c,Spec for the brocade lbaas driver based on v2 lbaas data model,MERGED,2014-12-12 02:49:06.000000000,2014-12-15 23:12:09.000000000,2014-12-15 23:12:08.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}]","[{'number': 1, 'created': '2014-12-12 02:49:06.000000000', 'files': ['specs/kilo/brocade-lbaas-v2-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c6cb8ac80862c8fe351134ea5535d7eb6ac31ea3', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: Iffc7f0bfd824c92efda3ddd40890ed1c3513694c\n'}]",0,141251,c6cb8ac80862c8fe351134ea5535d7eb6ac31ea3,7,3,1,7590,,,0,"Spec for the brocade lbaas driver based on v2 lbaas data model

Change-Id: Iffc7f0bfd824c92efda3ddd40890ed1c3513694c
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/51/141251/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/brocade-lbaas-v2-driver.rst'],1,c6cb8ac80862c8fe351134ea5535d7eb6ac31ea3,,"=================================================== Brocade LBaaS Plugin Driver (v2 Data Model Support) =================================================== Problem Description =================== URL of the launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/neutron-brocade-lbaas-driver Brocade LBaaS Plugin and Driver for the Brocade ADX Load Balancer Devices for the LBaaS in Neutron. Proposed Change =============== The driver will implement the interfaces according to the driver interfaces mentioned in the spec https://review.openstack.org/100690 for the blueprint https://blueprints.launchpad.net/neutron/+spec/lbaas-objmodel-driver-changes The following managers will be implemented: * LoadBalancerManager * ListenerManager * PoolManager * MemberManager * HealthMonitorManager Implementation is composed of Plugin Driver and Brocade Device Driver. Brocade LBaaS Plugin Driver extends/implements the driver interfaces as mentioned above and forwards the request to the device driver. The device driver communicates with the Brocade ADX Load Balancer Device (Physical and Virtual) via SOAP/XML APIs. The device driver use SUDs python module for the SOAP/XML API calls. Supported Features Protocols: HTTPS, HTTP, TCP LB Algorithms: ROUND_ROBIN, LEAST_CONNECTIONS Session persistence: SOURCE_IP Health Monitoring: TCP, HTTP, HTTPS Stats retrieval CRUD on loadbalancer, listener, pool, healthmonitor, member Additional lbaas features supported as part of framework in kilo release (TERMINATED_HTTPS, L7 etc) Product Versions supported ADX 12.5 and above Virtual ADX 3.0, 3.1 and above Exceptions Brocade LBaaS Device Driver will raise one of the following exceptions ConfigError . Raised when a configuration exception occurs on the load balancer device UnsupportedFeature . Raised when a particular feature is not yet supported by the Device Driver UnsupportedOption . Raised when an unsupported value is specified for an attribute. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None IPv6 Impact ----------- Will support ipv6 at the same level as neutron lbaas. Other Deployer Impact --------------------- service_provider entry in the neutron-lbaas.conf file needs to be updated to reflect Brocade as one of the service_provider for the plugin to be effective. Brocade Device Driver must be installed prior to using this driver Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- https://launchpad.net/~pattabi Work Items ---------- * Brocade plugin driver code * Unit tests * Voting CI Dependencies ============ * https://blueprints.launchpad.net/neutron/+spec/lbaas-api-and-objmodel-improvement Testing ======= - Unit Tests - Brocade QA - Existing LBaaS tests provide complete coverage, if driver is installed and configured (as our CI will do) Tempest Tests ------------- Brocade ADX CI will run existing LB tempest tests with Brocade ADX/vADX. Functional Tests ---------------- Brocade ADX CI will run existing LB functional tests with Brocade ADX/vADX. API Tests --------- Brocade ADX CI will run existing LB API tests with Brocade ADX/vADX. Documentation Impact ==================== None User Documentation ------------------ None Developer Documentation ----------------------- None References ========== None ",,195,0
openstack%2Ffuel-docs~master~Iad3bdf45ee8e1e26d0c55c61a965e8883d1b3adb,openstack/fuel-docs,master,Iad3bdf45ee8e1e26d0c55c61a965e8883d1b3adb,All-in-one deployment,ABANDONED,2014-10-03 06:24:40.000000000,2014-12-15 22:50:12.000000000,,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9788}, {'_account_id': 10014}, {'_account_id': 13488}]","[{'number': 1, 'created': '2014-10-03 06:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/fa4ff64c37e4d50fd02418b965b13de28a3f3d2f', 'message': 'All-in-one deployment\n\nGive instructions (with a stern warning) about how to\ndeploy MOSt on a single server.\n\noperations/8400-all-in-one.rst\n\nChange-Id: Iad3bdf45ee8e1e26d0c55c61a965e8883d1b3adb\n'}, {'number': 2, 'created': '2014-10-07 09:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/7a209be1c125c6965ec0ad2d8740e5672587ac5c', 'message': 'All-in-one deployment\n\nGive instructions (with a stern warning) about how to\ndeploy MOSt on a single server.\n\noperations/8400-all-in-one.rst\n\nChange-Id: Iad3bdf45ee8e1e26d0c55c61a965e8883d1b3adb\n'}, {'number': 3, 'created': '2014-10-10 05:45:53.000000000', 'files': ['pages/operations/8400-all-in-one.rst', 'contents/contents-operations.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/47a4861c532671074da4869181057b7e24e4248c', 'message': 'All-in-one deployment\n\nGive instructions (with stern warnings) about how to\ndeploy MOSt on a single server.\n\noperations/8400-all-in-one.rst\n\nChange-Id: Iad3bdf45ee8e1e26d0c55c61a965e8883d1b3adb\n'}]",0,125892,47a4861c532671074da4869181057b7e24e4248c,17,6,3,10014,,,0,"All-in-one deployment

Give instructions (with stern warnings) about how to
deploy MOSt on a single server.

operations/8400-all-in-one.rst

Change-Id: Iad3bdf45ee8e1e26d0c55c61a965e8883d1b3adb
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/92/125892/1 && git format-patch -1 --stdout FETCH_HEAD,"['pages/operations/8400-all-in-one.rst', 'contents/contents-operations.rst']",2,fa4ff64c37e4d50fd02418b965b13de28a3f3d2f,allinone,.. include:: /pages/operations/8400-all-in-one.rst,,64,0
openstack%2Fmonasca-api~master~I7831f3ae40e713fc3671cfffeb46a2089d2de829,openstack/monasca-api,master,I7831f3ae40e713fc3671cfffeb46a2089d2de829,Improve the speed of retrieving alarms by using a single query,MERGED,2014-12-15 20:52:16.000000000,2014-12-15 22:41:23.000000000,2014-12-15 22:41:22.000000000,"[{'_account_id': 3}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-12-15 20:52:16.000000000', 'files': ['src/main/java/monasca/api/app/AlarmService.java', 'src/test/java/monasca/api/infrastructure/persistence/mysql/AlarmMySqlRepositoryImplTest.java', 'src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmMySqlRepositoryImpl.java', 'src/main/java/monasca/api/domain/model/alarm/AlarmRepository.java', 'src/main/java/monasca/api/app/AlarmDefinitionService.java'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9e0cace5c134fcf17846bcd6704c0a967ff7ef50', 'message': 'Improve the speed of retrieving alarms by using a single query\n\nImprove the speed of deleting an alarm definition by getting\nall sub alarms for all alarms in a single query\n\nChange alarm update to be atomic\n\nAdd comprehensive tests for AlarmMySqlRepositoryImpl\n\nJAH-913 API fails to delete Alarm Definition when there are\nlots of alarms\n\nJAH-912 API fails listing alarms when there are lots of alarms\n\nChange-Id: I7831f3ae40e713fc3671cfffeb46a2089d2de829\n'}]",0,141900,9e0cace5c134fcf17846bcd6704c0a967ff7ef50,7,2,1,11809,,,0,"Improve the speed of retrieving alarms by using a single query

Improve the speed of deleting an alarm definition by getting
all sub alarms for all alarms in a single query

Change alarm update to be atomic

Add comprehensive tests for AlarmMySqlRepositoryImpl

JAH-913 API fails to delete Alarm Definition when there are
lots of alarms

JAH-912 API fails listing alarms when there are lots of alarms

Change-Id: I7831f3ae40e713fc3671cfffeb46a2089d2de829
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/00/141900/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/main/java/monasca/api/app/AlarmService.java', 'src/test/java/monasca/api/infrastructure/persistence/mysql/AlarmMySqlRepositoryImplTest.java', 'src/main/java/monasca/api/infrastructure/persistence/mysql/AlarmMySqlRepositoryImpl.java', 'src/main/java/monasca/api/domain/model/alarm/AlarmRepository.java', 'src/main/java/monasca/api/app/AlarmDefinitionService.java']",5,9e0cace5c134fcf17846bcd6704c0a967ff7ef50,speedup," final Map<String, Map<String, AlarmSubExpression>> alarmSubExpressions = alarmRepo.findAlarmSubExpressionsForAlarmDefinition(alarmDefId);"," final Map<String, Map<String, AlarmSubExpression>> alarmSubExpressions = new HashMap<>(alarms.size()); for (final Alarm alarm : alarms) { alarmSubExpressions.put(alarm.getId(), alarmRepo.findAlarmSubExpressions(alarm.getId())); }",410,215
openstack%2Fneutron-vpnaas~master~I54c92a80e1d61bf7e2f710d3160697c22e2c94f5,openstack/neutron-vpnaas,master,I54c92a80e1d61bf7e2f710d3160697c22e2c94f5,Kill oslo-incubator files,MERGED,2014-12-12 17:00:55.000000000,2014-12-15 22:40:53.000000000,2014-12-15 22:40:52.000000000,"[{'_account_id': 3}, {'_account_id': 6659}, {'_account_id': 9656}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-12-12 17:00:55.000000000', 'files': ['neutron_vpnaas/openstack/common/cache/cache.py', 'neutron_vpnaas/openstack/common/processutils.py', 'neutron_vpnaas/openstack/common/_i18n.py', 'neutron_vpnaas/openstack/common/middleware/__init__.py', 'neutron_vpnaas/openstack/common/periodic_task.py', 'neutron_vpnaas/openstack/common/service.py', 'neutron_vpnaas/openstack/common/lockutils.py', 'neutron_vpnaas/openstack/common/systemd.py', 'neutron_vpnaas/openstack/common/threadgroup.py', 'neutron_vpnaas/openstack/common/cache/__init__.py', 'neutron_vpnaas/openstack/common/loopingcall.py', 'openstack-common.conf', 'neutron_vpnaas/openstack/common/fixture/__init__.py', 'neutron_vpnaas/openstack/common/versionutils.py', 'neutron_vpnaas/openstack/common/middleware/catch_errors.py', 'neutron_vpnaas/openstack/common/cache/backends.py', 'neutron_vpnaas/openstack/common/__init__.py', 'neutron_vpnaas/openstack/common/fileutils.py', 'neutron_vpnaas/openstack/common/uuidutils.py', 'neutron_vpnaas/openstack/common/fixture/lockutils.py', 'neutron_vpnaas/openstack/common/eventlet_backdoor.py', 'neutron_vpnaas/openstack/common/context.py', 'neutron_vpnaas/openstack/common/middleware/request_id.py', 'neutron_vpnaas/openstack/common/policy.py', 'neutron_vpnaas/openstack/common/fixture/logging.py', 'neutron_vpnaas/openstack/__init__.py', 'neutron_vpnaas/openstack/common/local.py', 'neutron_vpnaas/openstack/common/log.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9437167afee4da0c2d77f54d136b8749acb69c25', 'message': 'Kill oslo-incubator files\n\nThey are not used, and just use space. If any of those modules is\nneeded, just use its version from neutron repo.\n\nChange-Id: I54c92a80e1d61bf7e2f710d3160697c22e2c94f5\n'}]",0,141428,9437167afee4da0c2d77f54d136b8749acb69c25,13,4,1,9656,,,0,"Kill oslo-incubator files

They are not used, and just use space. If any of those modules is
needed, just use its version from neutron repo.

Change-Id: I54c92a80e1d61bf7e2f710d3160697c22e2c94f5
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/28/141428/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/openstack/common/cache/cache.py', 'neutron_vpnaas/openstack/common/processutils.py', 'neutron_vpnaas/openstack/common/_i18n.py', 'neutron_vpnaas/openstack/common/middleware/__init__.py', 'neutron_vpnaas/openstack/common/periodic_task.py', 'neutron_vpnaas/openstack/common/service.py', 'neutron_vpnaas/openstack/common/lockutils.py', 'neutron_vpnaas/openstack/common/systemd.py', 'neutron_vpnaas/openstack/common/threadgroup.py', 'neutron_vpnaas/openstack/common/cache/__init__.py', 'neutron_vpnaas/openstack/common/loopingcall.py', 'openstack-common.conf', 'neutron_vpnaas/openstack/common/fixture/__init__.py', 'neutron_vpnaas/openstack/common/versionutils.py', 'neutron_vpnaas/openstack/common/middleware/catch_errors.py', 'neutron_vpnaas/openstack/common/cache/backends.py', 'neutron_vpnaas/openstack/common/__init__.py', 'neutron_vpnaas/openstack/common/fileutils.py', 'neutron_vpnaas/openstack/common/uuidutils.py', 'neutron_vpnaas/openstack/common/fixture/lockutils.py', 'neutron_vpnaas/openstack/common/eventlet_backdoor.py', 'neutron_vpnaas/openstack/common/context.py', 'neutron_vpnaas/openstack/common/middleware/request_id.py', 'neutron_vpnaas/openstack/common/policy.py', 'neutron_vpnaas/openstack/common/fixture/logging.py', 'neutron_vpnaas/openstack/__init__.py', 'neutron_vpnaas/openstack/common/local.py', 'neutron_vpnaas/openstack/common/log.py']",28,9437167afee4da0c2d77f54d136b8749acb69c25,tests,,"# Copyright 2011 OpenStack Foundation. # Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""OpenStack logging handler. This module adds to logging functionality by adding the option to specify a context object when calling the various log methods. If the context object is not specified, default formatting is used. Additionally, an instance uuid may be passed as part of the log message, which is intended to make it easier for admins to find messages related to a specific instance. It also allows setting of formatting information through conf. """""" import copy import inspect import itertools import logging import logging.config import logging.handlers import os import socket import sys import traceback from oslo.config import cfg from oslo.serialization import jsonutils from oslo.utils import importutils import six from six import moves _PY26 = sys.version_info[0:2] == (2, 6) from neutron_vpnaas.openstack.common._i18n import _ from neutron_vpnaas.openstack.common import local _DEFAULT_LOG_DATE_FORMAT = ""%Y-%m-%d %H:%M:%S"" common_cli_opts = [ cfg.BoolOpt('debug', short='d', default=False, help='Print debugging output (set logging level to ' 'DEBUG instead of default WARNING level).'), cfg.BoolOpt('verbose', short='v', default=False, help='Print more verbose output (set logging level to ' 'INFO instead of default WARNING level).'), ] logging_cli_opts = [ cfg.StrOpt('log-config-append', metavar='PATH', deprecated_name='log-config', help='The name of a logging configuration file. This file ' 'is appended to any existing logging configuration ' 'files. For details about logging configuration files, ' 'see the Python logging module documentation.'), cfg.StrOpt('log-format', metavar='FORMAT', help='DEPRECATED. ' 'A logging.Formatter log message format string which may ' 'use any of the available logging.LogRecord attributes. ' 'This option is deprecated. Please use ' 'logging_context_format_string and ' 'logging_default_format_string instead.'), cfg.StrOpt('log-date-format', default=_DEFAULT_LOG_DATE_FORMAT, metavar='DATE_FORMAT', help='Format string for %%(asctime)s in log records. ' 'Default: %(default)s .'), cfg.StrOpt('log-file', metavar='PATH', deprecated_name='logfile', help='(Optional) Name of log file to output to. ' 'If no default is set, logging will go to stdout.'), cfg.StrOpt('log-dir', deprecated_name='logdir', help='(Optional) The base directory used for relative ' '--log-file paths.'), cfg.BoolOpt('use-syslog', default=False, help='Use syslog for logging. ' 'Existing syslog format is DEPRECATED during I, ' 'and will change in J to honor RFC5424.'), cfg.BoolOpt('use-syslog-rfc-format', # TODO(bogdando) remove or use True after existing # syslog format deprecation in J default=False, help='(Optional) Enables or disables syslog rfc5424 format ' 'for logging. If enabled, prefixes the MSG part of the ' 'syslog message with APP-NAME (RFC5424). The ' 'format without the APP-NAME is deprecated in I, ' 'and will be removed in J.'), cfg.StrOpt('syslog-log-facility', default='LOG_USER', help='Syslog facility to receive log lines.') ] generic_log_opts = [ cfg.BoolOpt('use_stderr', default=True, help='Log output to standard error.') ] DEFAULT_LOG_LEVELS = ['amqp=WARN', 'amqplib=WARN', 'boto=WARN', 'qpid=WARN', 'sqlalchemy=WARN', 'suds=INFO', 'oslo.messaging=INFO', 'iso8601=WARN', 'requests.packages.urllib3.connectionpool=WARN', 'urllib3.connectionpool=WARN', 'websocket=WARN', ""keystonemiddleware=WARN"", ""routes.middleware=WARN"", ""stevedore=WARN""] log_opts = [ cfg.StrOpt('logging_context_format_string', default='%(asctime)s.%(msecs)03d %(process)d %(levelname)s ' '%(name)s [%(request_id)s %(user_identity)s] ' '%(instance)s%(message)s', help='Format string to use for log messages with context.'), cfg.StrOpt('logging_default_format_string', default='%(asctime)s.%(msecs)03d %(process)d %(levelname)s ' '%(name)s [-] %(instance)s%(message)s', help='Format string to use for log messages without context.'), cfg.StrOpt('logging_debug_format_suffix', default='%(funcName)s %(pathname)s:%(lineno)d', help='Data to append to log format when level is DEBUG.'), cfg.StrOpt('logging_exception_prefix', default='%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s ' '%(instance)s', help='Prefix each line of exception output with this format.'), cfg.ListOpt('default_log_levels', default=DEFAULT_LOG_LEVELS, help='List of logger=LEVEL pairs.'), cfg.BoolOpt('publish_errors', default=False, help='Enables or disables publication of error events.'), cfg.BoolOpt('fatal_deprecations', default=False, help='Enables or disables fatal status of deprecations.'), # NOTE(mikal): there are two options here because sometimes we are handed # a full instance (and could include more information), and other times we # are just handed a UUID for the instance. cfg.StrOpt('instance_format', default='[instance: %(uuid)s] ', help='The format for an instance that is passed with the log ' 'message.'), cfg.StrOpt('instance_uuid_format', default='[instance: %(uuid)s] ', help='The format for an instance UUID that is passed with the ' 'log message.'), ] CONF = cfg.CONF CONF.register_cli_opts(common_cli_opts) CONF.register_cli_opts(logging_cli_opts) CONF.register_opts(generic_log_opts) CONF.register_opts(log_opts) def list_opts(): """"""Entry point for oslo.config-generator."""""" return [(None, copy.deepcopy(common_cli_opts)), (None, copy.deepcopy(logging_cli_opts)), (None, copy.deepcopy(generic_log_opts)), (None, copy.deepcopy(log_opts)), ] # our new audit level # NOTE(jkoelker) Since we synthesized an audit level, make the logging # module aware of it so it acts like other levels. logging.AUDIT = logging.INFO + 1 logging.addLevelName(logging.AUDIT, 'AUDIT') try: NullHandler = logging.NullHandler except AttributeError: # NOTE(jkoelker) NullHandler added in Python 2.7 class NullHandler(logging.Handler): def handle(self, record): pass def emit(self, record): pass def createLock(self): self.lock = None def _dictify_context(context): if context is None: return None if not isinstance(context, dict) and getattr(context, 'to_dict', None): context = context.to_dict() return context def _get_binary_name(): return os.path.basename(inspect.stack()[-1][1]) def _get_log_file_path(binary=None): logfile = CONF.log_file logdir = CONF.log_dir if logfile and not logdir: return logfile if logfile and logdir: return os.path.join(logdir, logfile) if logdir: binary = binary or _get_binary_name() return '%s.log' % (os.path.join(logdir, binary),) return None class BaseLoggerAdapter(logging.LoggerAdapter): def audit(self, msg, *args, **kwargs): self.log(logging.AUDIT, msg, *args, **kwargs) def isEnabledFor(self, level): if _PY26: # This method was added in python 2.7 (and it does the exact # same logic, so we need to do the exact same logic so that # python 2.6 has this capability as well). return self.logger.isEnabledFor(level) else: return super(BaseLoggerAdapter, self).isEnabledFor(level) class LazyAdapter(BaseLoggerAdapter): def __init__(self, name='unknown', version='unknown'): self._logger = None self.extra = {} self.name = name self.version = version @property def logger(self): if not self._logger: self._logger = getLogger(self.name, self.version) if six.PY3: # In Python 3, the code fails because the 'manager' attribute # cannot be found when using a LoggerAdapter as the # underlying logger. Work around this issue. self._logger.manager = self._logger.logger.manager return self._logger class ContextAdapter(BaseLoggerAdapter): warn = logging.LoggerAdapter.warning def __init__(self, logger, project_name, version_string): self.logger = logger self.project = project_name self.version = version_string self._deprecated_messages_sent = dict() @property def handlers(self): return self.logger.handlers def deprecated(self, msg, *args, **kwargs): """"""Call this method when a deprecated feature is used. If the system is configured for fatal deprecations then the message is logged at the 'critical' level and :class:`DeprecatedConfig` will be raised. Otherwise, the message will be logged (once) at the 'warn' level. :raises: :class:`DeprecatedConfig` if the system is configured for fatal deprecations. """""" stdmsg = _(""Deprecated: %s"") % msg if CONF.fatal_deprecations: self.critical(stdmsg, *args, **kwargs) raise DeprecatedConfig(msg=stdmsg) # Using a list because a tuple with dict can't be stored in a set. sent_args = self._deprecated_messages_sent.setdefault(msg, list()) if args in sent_args: # Already logged this message, so don't log it again. return sent_args.append(args) self.warn(stdmsg, *args, **kwargs) def process(self, msg, kwargs): # NOTE(jecarey): If msg is not unicode, coerce it into unicode # before it can get to the python logging and # possibly cause string encoding trouble if not isinstance(msg, six.text_type): msg = six.text_type(msg) if 'extra' not in kwargs: kwargs['extra'] = {} extra = kwargs['extra'] context = kwargs.pop('context', None) if not context: context = getattr(local.store, 'context', None) if context: extra.update(_dictify_context(context)) instance = kwargs.pop('instance', None) instance_uuid = (extra.get('instance_uuid') or kwargs.pop('instance_uuid', None)) instance_extra = '' if instance: instance_extra = CONF.instance_format % instance elif instance_uuid: instance_extra = (CONF.instance_uuid_format % {'uuid': instance_uuid}) extra['instance'] = instance_extra extra.setdefault('user_identity', kwargs.pop('user_identity', None)) extra['project'] = self.project extra['version'] = self.version extra['extra'] = extra.copy() return msg, kwargs class JSONFormatter(logging.Formatter): def __init__(self, fmt=None, datefmt=None): # NOTE(jkoelker) we ignore the fmt argument, but its still there # since logging.config.fileConfig passes it. self.datefmt = datefmt def formatException(self, ei, strip_newlines=True): lines = traceback.format_exception(*ei) if strip_newlines: lines = [moves.filter( lambda x: x, line.rstrip().splitlines()) for line in lines] lines = list(itertools.chain(*lines)) return lines def format(self, record): message = {'message': record.getMessage(), 'asctime': self.formatTime(record, self.datefmt), 'name': record.name, 'msg': record.msg, 'args': record.args, 'levelname': record.levelname, 'levelno': record.levelno, 'pathname': record.pathname, 'filename': record.filename, 'module': record.module, 'lineno': record.lineno, 'funcname': record.funcName, 'created': record.created, 'msecs': record.msecs, 'relative_created': record.relativeCreated, 'thread': record.thread, 'thread_name': record.threadName, 'process_name': record.processName, 'process': record.process, 'traceback': None} if hasattr(record, 'extra'): message['extra'] = record.extra if record.exc_info: message['traceback'] = self.formatException(record.exc_info) return jsonutils.dumps(message) def _create_logging_excepthook(product_name): def logging_excepthook(exc_type, value, tb): extra = {'exc_info': (exc_type, value, tb)} getLogger(product_name).critical( """".join(traceback.format_exception_only(exc_type, value)), **extra) return logging_excepthook class LogConfigError(Exception): message = _('Error loading logging config %(log_config)s: %(err_msg)s') def __init__(self, log_config, err_msg): self.log_config = log_config self.err_msg = err_msg def __str__(self): return self.message % dict(log_config=self.log_config, err_msg=self.err_msg) def _load_log_config(log_config_append): try: logging.config.fileConfig(log_config_append, disable_existing_loggers=False) except (moves.configparser.Error, KeyError) as exc: raise LogConfigError(log_config_append, six.text_type(exc)) def setup(product_name, version='unknown'): """"""Setup logging."""""" if CONF.log_config_append: _load_log_config(CONF.log_config_append) else: _setup_logging_from_conf(product_name, version) sys.excepthook = _create_logging_excepthook(product_name) def set_defaults(logging_context_format_string=None, default_log_levels=None): # Just in case the caller is not setting the # default_log_level. This is insurance because # we introduced the default_log_level parameter # later in a backwards in-compatible change if default_log_levels is not None: cfg.set_defaults( log_opts, default_log_levels=default_log_levels) if logging_context_format_string is not None: cfg.set_defaults( log_opts, logging_context_format_string=logging_context_format_string) def _find_facility_from_conf(): facility_names = logging.handlers.SysLogHandler.facility_names facility = getattr(logging.handlers.SysLogHandler, CONF.syslog_log_facility, None) if facility is None and CONF.syslog_log_facility in facility_names: facility = facility_names.get(CONF.syslog_log_facility) if facility is None: valid_facilities = facility_names.keys() consts = ['LOG_AUTH', 'LOG_AUTHPRIV', 'LOG_CRON', 'LOG_DAEMON', 'LOG_FTP', 'LOG_KERN', 'LOG_LPR', 'LOG_MAIL', 'LOG_NEWS', 'LOG_AUTH', 'LOG_SYSLOG', 'LOG_USER', 'LOG_UUCP', 'LOG_LOCAL0', 'LOG_LOCAL1', 'LOG_LOCAL2', 'LOG_LOCAL3', 'LOG_LOCAL4', 'LOG_LOCAL5', 'LOG_LOCAL6', 'LOG_LOCAL7'] valid_facilities.extend(consts) raise TypeError(_('syslog facility must be one of: %s') % ', '.join(""'%s'"" % fac for fac in valid_facilities)) return facility class RFCSysLogHandler(logging.handlers.SysLogHandler): def __init__(self, *args, **kwargs): self.binary_name = _get_binary_name() # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) logging.handlers.SysLogHandler.__init__(self, *args, **kwargs) def format(self, record): # Do not use super() unless type(logging.handlers.SysLogHandler) # is 'type' (Python 2.7). # Use old style calls, if the type is 'classobj' (Python 2.6) msg = logging.handlers.SysLogHandler.format(self, record) msg = self.binary_name + ' ' + msg return msg def _setup_logging_from_conf(project, version): log_root = getLogger(None).logger for handler in log_root.handlers: log_root.removeHandler(handler) logpath = _get_log_file_path() if logpath: filelog = logging.handlers.WatchedFileHandler(logpath) log_root.addHandler(filelog) if CONF.use_stderr: streamlog = ColorHandler() log_root.addHandler(streamlog) elif not logpath: # pass sys.stdout as a positional argument # python2.6 calls the argument strm, in 2.7 it's stream streamlog = logging.StreamHandler(sys.stdout) log_root.addHandler(streamlog) if CONF.publish_errors: handler = importutils.import_object( ""oslo.messaging.notify.log_handler.PublishErrorsHandler"", logging.ERROR) log_root.addHandler(handler) datefmt = CONF.log_date_format for handler in log_root.handlers: # NOTE(alaski): CONF.log_format overrides everything currently. This # should be deprecated in favor of context aware formatting. if CONF.log_format: handler.setFormatter(logging.Formatter(fmt=CONF.log_format, datefmt=datefmt)) log_root.info('Deprecated: log_format is now deprecated and will ' 'be removed in the next release') else: handler.setFormatter(ContextFormatter(project=project, version=version, datefmt=datefmt)) if CONF.debug: log_root.setLevel(logging.DEBUG) elif CONF.verbose: log_root.setLevel(logging.INFO) else: log_root.setLevel(logging.WARNING) for pair in CONF.default_log_levels: mod, _sep, level_name = pair.partition('=') logger = logging.getLogger(mod) # NOTE(AAzza) in python2.6 Logger.setLevel doesn't convert string name # to integer code. if sys.version_info < (2, 7): level = logging.getLevelName(level_name) logger.setLevel(level) else: logger.setLevel(level_name) if CONF.use_syslog: try: facility = _find_facility_from_conf() # TODO(bogdando) use the format provided by RFCSysLogHandler # after existing syslog format deprecation in J if CONF.use_syslog_rfc_format: syslog = RFCSysLogHandler(address='/dev/log', facility=facility) else: syslog = logging.handlers.SysLogHandler(address='/dev/log', facility=facility) log_root.addHandler(syslog) except socket.error: log_root.error('Unable to add syslog handler. Verify that syslog ' 'is running.') _loggers = {} def getLogger(name='unknown', version='unknown'): if name not in _loggers: _loggers[name] = ContextAdapter(logging.getLogger(name), name, version) return _loggers[name] def getLazyLogger(name='unknown', version='unknown'): """"""Returns lazy logger. Creates a pass-through logger that does not create the real logger until it is really needed and delegates all calls to the real logger once it is created. """""" return LazyAdapter(name, version) class WritableLogger(object): """"""A thin wrapper that responds to `write` and logs."""""" def __init__(self, logger, level=logging.INFO): self.logger = logger self.level = level def write(self, msg): self.logger.log(self.level, msg.rstrip()) class ContextFormatter(logging.Formatter): """"""A context.RequestContext aware formatter configured through flags. The flags used to set format strings are: logging_context_format_string and logging_default_format_string. You can also specify logging_debug_format_suffix to append extra formatting if the log level is debug. For information about what variables are available for the formatter see: http://docs.python.org/library/logging.html#formatter If available, uses the context value stored in TLS - local.store.context """""" def __init__(self, *args, **kwargs): """"""Initialize ContextFormatter instance Takes additional keyword arguments which can be used in the message format string. :keyword project: project name :type project: string :keyword version: project version :type version: string """""" self.project = kwargs.pop('project', 'unknown') self.version = kwargs.pop('version', 'unknown') logging.Formatter.__init__(self, *args, **kwargs) def format(self, record): """"""Uses contextstring if request_id is set, otherwise default."""""" # NOTE(jecarey): If msg is not unicode, coerce it into unicode # before it can get to the python logging and # possibly cause string encoding trouble if not isinstance(record.msg, six.text_type): record.msg = six.text_type(record.msg) # store project info record.project = self.project record.version = self.version # store request info context = getattr(local.store, 'context', None) if context: d = _dictify_context(context) for k, v in d.items(): setattr(record, k, v) # NOTE(sdague): default the fancier formatting params # to an empty string so we don't throw an exception if # they get used for key in ('instance', 'color', 'user_identity'): if key not in record.__dict__: record.__dict__[key] = '' if record.__dict__.get('request_id'): fmt = CONF.logging_context_format_string else: fmt = CONF.logging_default_format_string if (record.levelno == logging.DEBUG and CONF.logging_debug_format_suffix): fmt += "" "" + CONF.logging_debug_format_suffix if sys.version_info < (3, 2): self._fmt = fmt else: self._style = logging.PercentStyle(fmt) self._fmt = self._style._fmt # Cache this on the record, Logger will respect our formatted copy if record.exc_info: record.exc_text = self.formatException(record.exc_info, record) return logging.Formatter.format(self, record) def formatException(self, exc_info, record=None): """"""Format exception output with CONF.logging_exception_prefix."""""" if not record: return logging.Formatter.formatException(self, exc_info) stringbuffer = moves.StringIO() traceback.print_exception(exc_info[0], exc_info[1], exc_info[2], None, stringbuffer) lines = stringbuffer.getvalue().split('\n') stringbuffer.close() if CONF.logging_exception_prefix.find('%(asctime)') != -1: record.asctime = self.formatTime(record, self.datefmt) formatted_lines = [] for line in lines: pl = CONF.logging_exception_prefix % record.__dict__ fl = '%s%s' % (pl, line) formatted_lines.append(fl) return '\n'.join(formatted_lines) class ColorHandler(logging.StreamHandler): LEVEL_COLORS = { logging.DEBUG: '\033[00;32m', # GREEN logging.INFO: '\033[00;36m', # CYAN logging.AUDIT: '\033[01;36m', # BOLD CYAN logging.WARN: '\033[01;33m', # BOLD YELLOW logging.ERROR: '\033[01;31m', # BOLD RED logging.CRITICAL: '\033[01;31m', # BOLD RED } def format(self, record): record.color = self.LEVEL_COLORS[record.levelno] return logging.StreamHandler.format(self, record) class DeprecatedConfig(Exception): message = _(""Fatal call to deprecated config: %(msg)s"") def __init__(self, msg): super(Exception, self).__init__(self.message % dict(msg=msg)) ",0,4680
openstack%2Fhorizon~master~I9af6db7e020bd9073ff78a55f8627f15f816e8c3,openstack/horizon,master,I9af6db7e020bd9073ff78a55f8627f15f816e8c3,Removing container ID element,ABANDONED,2014-09-12 20:17:28.000000000,2014-12-15 22:31:24.000000000,,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 8040}, {'_account_id': 9576}, {'_account_id': 9981}, {'_account_id': 11997}, {'_account_id': 12355}, {'_account_id': 12826}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-09-12 20:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/30dfddcd67836aff591da520967e1f6eb861983d', 'message': 'Removing container ID element\n\nChange-Id: I9af6db7e020bd9073ff78a55f8627f15f816e8c3\nCloses-Bug: #1368924\n'}, {'number': 2, 'created': '2014-09-12 20:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/69e34dfe394c30660fd6b61b75225a21645f0a30', 'message': 'Removing container ID element\n\nChange-Id: I9af6db7e020bd9073ff78a55f8627f15f816e8c3\nCloses-Bug: #1368924'}, {'number': 3, 'created': '2014-10-24 02:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f7833d3729a5536bb3037360067d736d81c64ca', 'message': 'Removing container ID element\n\nWe have a container ID that we are not using. The only reference of it is use for styling and should be replace with a CSS class instead.\n\nChange-Id: I9af6db7e020bd9073ff78a55f8627f15f816e8c3\nCloses-Bug: #1368924\n'}, {'number': 4, 'created': '2014-10-24 02:02:59.000000000', 'files': ['openstack_dashboard/templates/500.html', 'horizon/templates/base.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/efb6e6b6e91a35166a9dad69b8b98786a9cec5c3', 'message': 'Removing container ID element\n\nWe have a container ID that we are not using. \nThe only reference of it is use for styling and should be \nreplace with a CSS class instead.\n\nChange-Id: I9af6db7e020bd9073ff78a55f8627f15f816e8c3\nCloses-Bug: #1368924\n'}]",0,121218,efb6e6b6e91a35166a9dad69b8b98786a9cec5c3,16,9,4,9576,,,0,"Removing container ID element

We have a container ID that we are not using. 
The only reference of it is use for styling and should be 
replace with a CSS class instead.

Change-Id: I9af6db7e020bd9073ff78a55f8627f15f816e8c3
Closes-Bug: #1368924
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/121218/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/horizon/js/horizon.accordion_nav.js', 'openstack_dashboard/templates/500.html', 'horizon/templates/base.html']",3,30dfddcd67836aff591da520967e1f6eb861983d,bug/remove-container-id," <div class='topbar'> {% include ""_header.html"" %} </div> <div id='main_content'> {% include ""horizon/_messages.html"" %} {% block sidebar %} {% include 'horizon/common/_sidebar.html' %} {% endblock %} <div id='content_body'> {% block page_header %}{% endblock %} {% block main %}{% endblock %}"," <div id=""container""> <div class='topbar'> {% include ""_header.html"" %} </div> <div id='main_content'> {% include ""horizon/_messages.html"" %} {% block sidebar %} {% include 'horizon/common/_sidebar.html' %} {% endblock %} <div id='content_body'> {% block page_header %}{% endblock %} {% block main %}{% endblock %} </div>",15,17
openstack%2Fhorizon~master~I579f2178c22ead9e3b271d119ffde4529c72d85e,openstack/horizon,master,I579f2178c22ead9e3b271d119ffde4529c72d85e,Consistency across javascript p1,ABANDONED,2014-08-27 23:03:25.000000000,2014-12-15 22:31:13.000000000,,"[{'_account_id': 3}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 11881}]","[{'number': 1, 'created': '2014-08-27 23:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5bd3525e81a070ce4392a77847183ebb599e398c', 'message': 'Consistency across javascript p1\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript\n'}, {'number': 2, 'created': '2014-08-27 23:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b8a30764d036f1cbf457aedaa4fe8f26a2e75f7', 'message': 'Consistency across javascript p1\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript'}, {'number': 3, 'created': '2014-08-27 23:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/247bf17e4268913a6dd0aa4414a6a2a8822ed3b9', 'message': 'Consistency across javascript p1\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript'}, {'number': 4, 'created': '2014-08-27 23:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ef9418fcc5643a94ceea6aa069e7820c433b016', 'message': 'Consistency across javascript p1\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript'}, {'number': 5, 'created': '2014-08-27 23:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/896b8a0c74bf8b0c4be3c4b9584edd289953f3bd', 'message': 'Consistency across javascript p1\n\nAlso did some clean up.\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript\n'}, {'number': 6, 'created': '2014-08-27 23:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/67840e6c8d33e3a59f83756339112862710cb1bd', 'message': 'Consistency across javascript p1\n\nAlso did some clean up and linting.\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript\n'}, {'number': 7, 'created': '2014-08-27 23:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b49c9e14dda12611194c579b772e25f1b4210f2a', 'message': 'Consistency across javascript p1\n\nAlso did some clean up and linting.\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript'}, {'number': 8, 'created': '2014-09-10 02:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ad682cf912c41de40320d8ea9b954218922d7b67', 'message': 'Consistency across javascript p1\n\nAlso did some clean up and linting.\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript'}, {'number': 9, 'created': '2014-09-10 18:05:16.000000000', 'files': ['horizon/static/horizon/js/horizon.users.js', 'horizon/static/horizon/js/horizon.formset_table.js', 'horizon/static/horizon/js/horizon.communication.js', 'horizon/static/horizon/js/horizon.templates.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2c410c47cb134780eef41f4ba5e397cb302a5950', 'message': 'Consistency across javascript p1\n\nAlso did some clean up and linting.\n\nChange-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e\nImplements: blueprint consistent-javascript'}]",4,117369,2c410c47cb134780eef41f4ba5e397cb302a5950,19,4,9,9576,,,0,"Consistency across javascript p1

Also did some clean up and linting.

Change-Id: I579f2178c22ead9e3b271d119ffde4529c72d85e
Implements: blueprint consistent-javascript",git fetch https://review.opendev.org/openstack/horizon refs/changes/69/117369/9 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/horizon/js/horizon.users.js', 'horizon/static/horizon/js/horizon.formset_table.js', 'horizon/static/horizon/js/horizon.communication.js', 'horizon/static/horizon/js/horizon.templates.js']",4,5bd3525e81a070ce4392a77847183ebb599e398c,bp/consistent-javascript,"(function() { 'use strict'; /* Namespace for core functionality related to client-side templating. */ horizon.templates = { template_ids: [ ""#modal_template"", ""#empty_row_template"", ""#alert_message_template"", ""#spinner-modal"", ""#membership_template"" ], compiled_templates: {}, /* Pre-loads and compiles the client-side templates. */ compile_templates: function () { $.each(this.template_ids, function (ind, template_id) { this.compiled_templates[template_id] = Hogan.compile($(template_id).html()); }); } }; horizon.addInitFunction(function () { // Load client-side template fragments and compile them. horizon.templates.compile_templates(); })();","/* Namespace for core functionality related to client-side templating. */ horizon.templates = { template_ids: [""#modal_template"", ""#empty_row_template"", ""#alert_message_template"", ""#spinner-modal"", ""#membership_template""], compiled_templates: {} }; /* Pre-loads and compiles the client-side templates. */ horizon.templates.compile_templates = function () { $.each(horizon.templates.template_ids, function (ind, template_id) { horizon.templates.compiled_templates[template_id] = Hogan.compile($(template_id).html());}; horizon.addInitFunction(function () { // Load client-side template fragments and compile them. horizon.templates.compile_templates(); }); ",183,160
openstack%2Fkeystonemiddleware~master~I0b094d5c9b42ab11f845b78dcbc2838af66cdc60,openstack/keystonemiddleware,master,I0b094d5c9b42ab11f845b78dcbc2838af66cdc60,Remove superfluous exception block from auth_token,ABANDONED,2014-08-14 14:43:28.000000000,2014-12-15 22:07:44.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 6486}, {'_account_id': 6537}, {'_account_id': 11589}]","[{'number': 1, 'created': '2014-08-14 14:43:28.000000000', 'files': ['keystonemiddleware/auth_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3c2cc50612465cf58f7e6a79803e7ec9aba0cffb', 'message': 'Remove superfluous exception block from auth_token\n\nErrors meant to be caught by this exception are actually caught\nby HTTPError.\n\nChange-Id: I0b094d5c9b42ab11f845b78dcbc2838af66cdc60\n'}]",7,114261,3c2cc50612465cf58f7e6a79803e7ec9aba0cffb,9,5,1,11589,,,0,"Remove superfluous exception block from auth_token

Errors meant to be caught by this exception are actually caught
by HTTPError.

Change-Id: I0b094d5c9b42ab11f845b78dcbc2838af66cdc60
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/61/114261/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token.py'],1,3c2cc50612465cf58f7e6a79803e7ec9aba0cffb,remove_superfluous_exception_block,," except exceptions.Unauthorized as e: self._LOG.info('Keystone rejected authorization') self._LOG.warn('Identity response: %s' % e.response.text) if retry: self._LOG.info('Retrying validation') return self.verify_token(user_token, False)",0,6
openstack%2Ftripleo-image-elements~master~I5c9ff917d7f24b704e17d336cc1f79d211abd0a9,openstack/tripleo-image-elements,master,I5c9ff917d7f24b704e17d336cc1f79d211abd0a9,Wait for tuskar-api to start up,MERGED,2014-11-20 02:00:58.000000000,2014-12-15 22:06:43.000000000,2014-12-15 22:06:42.000000000,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 7471}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 12459}]","[{'number': 1, 'created': '2014-11-20 02:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/55047ced595b73d07c1dcc1fb7d556bec2513441', 'message': 'Wait for tuskar-api to start up\n\ntuskar-ui runs immediately after tuskar-api. There is a small chance\nthat the api has not come up completely before 101-tuskar-ui runs.\nThis patch adds a one second wait if the tuskar-api process is not\nfound to be running.\n\nChange-Id: I5c9ff917d7f24b704e17d336cc1f79d211abd0a9\nCloses-Bug: 1394430\n'}, {'number': 2, 'created': '2014-11-25 02:15:26.000000000', 'files': ['elements/tuskar-ui/os-refresh-config/post-configure.d/101-tuskar-ui'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a1bca773c19017b660c9f5062d5f72cca5759955', 'message': 'Wait for tuskar-api to start up\n\ntuskar-ui runs immediately after tuskar-api. There is a chance\nthat the api has not come up completely before 101-tuskar-ui runs.\nThis patch adds a five second wait if tuskar-api is found to be\nnot running.\n\nChange-Id: I5c9ff917d7f24b704e17d336cc1f79d211abd0a9\nCloses-Bug: 1394430\n'}]",3,135814,a1bca773c19017b660c9f5062d5f72cca5759955,14,6,2,7471,,,0,"Wait for tuskar-api to start up

tuskar-ui runs immediately after tuskar-api. There is a chance
that the api has not come up completely before 101-tuskar-ui runs.
This patch adds a five second wait if tuskar-api is found to be
not running.

Change-Id: I5c9ff917d7f24b704e17d336cc1f79d211abd0a9
Closes-Bug: 1394430
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/14/135814/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/tuskar-ui/os-refresh-config/post-configure.d/101-tuskar-ui'],1,55047ced595b73d07c1dcc1fb7d556bec2513441,bug/1394430,"if [ ! -n ""$(ps -ef | grep tuskar-api | grep -v grep)"" ]; then echo ""Waiting 1 second for tuskar-api to start""; sleep 1; fi ",,5,0
openstack%2Fpython-keystoneclient~master~I01f288f6bf5deaeced09a86e2526eb7948a6e9d1,openstack/python-keystoneclient,master,I01f288f6bf5deaeced09a86e2526eb7948a6e9d1,Add shell --profile option to tirgger osprofiler from CLI,ABANDONED,2014-08-18 00:01:31.000000000,2014-12-15 22:04:56.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 1849}, {'_account_id': 6172}, {'_account_id': 6282}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-08-18 00:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5ece3afcf9ad212ae1cfb265f0b8fba92aadd012', 'message': 'Add shell --profile option to tirgger osprofiler from CLI\n\nCurrently only way to trigger osprofiler (tracing) is to use\npython-keystoneclient as and python lib. This patch add new option\n--profile that will do this from CLI.\n\nSo if you have installed osprofiler lib. And you type\n\nkeystone --profile SECRET_KEY user-lsit\n\nAt the end of output there will be message with <trace_id>\nto plot nice HTML graphs use command:\n\nosprofiler trace show <trace_id> --html --out result.html\n\nRelated patch:\n(main patch in keystone) https://review.openstack.org/#/c/103368/\n\nChange-Id: I01f288f6bf5deaeced09a86e2526eb7948a6e9d1\n'}, {'number': 2, 'created': '2014-08-18 01:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/14710ced3fc2631115b64f25c5ad95ccef8615fd', 'message': 'Add shell --profile option to tirgger osprofiler from CLI\n\nCurrently only way to trigger osprofiler (tracing) is to use\npython-keystoneclient as and python lib. This patch add new option\n--profile that will do this from CLI.\n\nSo if you have installed osprofiler lib. And you type\n\nkeystone --profile SECRET_KEY user-lsit\n\nAt the end of output there will be message with <trace_id>\nto plot nice HTML graphs use command:\n\nosprofiler trace show <trace_id> --html --out result.html\n\nRelated patch:\n(main patch in keystone) https://review.openstack.org/#/c/103368/\n\nChange-Id: I01f288f6bf5deaeced09a86e2526eb7948a6e9d1\n'}, {'number': 3, 'created': '2014-08-19 18:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d5935dd674a05009ac88510033deedf740b0e7ff', 'message': 'Add shell --profile option to tirgger osprofiler from CLI\n\nCurrently only way to trigger osprofiler (tracing) is to use\npython-keystoneclient as and python lib. This patch add new option\n--profile that will do this from CLI.\n\nSo if you have installed osprofiler lib. And you type\n\nkeystone --profile SECRET_KEY user-lsit\n\nAt the end of output there will be message with <trace_id>\nto plot nice HTML graphs use command:\n\nosprofiler trace show <trace_id> --html --out result.html\n\nRelated patch:\n(main patch in keystone) https://review.openstack.org/#/c/103368/\n\nChange-Id: I01f288f6bf5deaeced09a86e2526eb7948a6e9d1\n'}, {'number': 4, 'created': '2014-08-23 20:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/04d26a573114ec48008e4cc413ea21e2cc7b6717', 'message': 'Add shell --profile option to tirgger osprofiler from CLI\n\nCurrently only way to trigger osprofiler (tracing) is to use\npython-keystoneclient as and python lib. This patch add new option\n--profile that will do this from CLI.\n\nSo if you have installed osprofiler lib. And you type\n\nkeystone --profile SECRET_KEY user-lsit\n\nAt the end of output there will be message with <trace_id>\nto plot nice HTML graphs use command:\n\nosprofiler trace show <trace_id> --html --out result.html\n\nRelated patch:\n(main patch in keystone) https://review.openstack.org/#/c/103368/\n\nChange-Id: I01f288f6bf5deaeced09a86e2526eb7948a6e9d1\n'}, {'number': 5, 'created': '2014-08-23 21:03:36.000000000', 'files': ['keystoneclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8de86ee4408ec2adc01b7acc8c9f9f4f5d3d47cb', 'message': 'Add shell --profile option to tirgger osprofiler from CLI\n\nCurrently only way to trigger osprofiler (tracing) is to use\npython-keystoneclient as and python lib. This patch add new option\n--profile that will do this from CLI.\n\nSo if you have installed osprofiler lib. And you type\n\nkeystone --profile SECRET_KEY user-lsit\n\nAt the end of output there will be message with <trace_id>\nto plot nice HTML graphs use command:\n\nosprofiler trace show <trace_id> --html --out result.html\n\nRelated patch:\n(main patch in keystone) https://review.openstack.org/#/c/103368/\n\nChange-Id: I01f288f6bf5deaeced09a86e2526eb7948a6e9d1\n'}]",12,114856,8de86ee4408ec2adc01b7acc8c9f9f4f5d3d47cb,22,9,5,6172,,,0,"Add shell --profile option to tirgger osprofiler from CLI

Currently only way to trigger osprofiler (tracing) is to use
python-keystoneclient as and python lib. This patch add new option
--profile that will do this from CLI.

So if you have installed osprofiler lib. And you type

keystone --profile SECRET_KEY user-lsit

At the end of output there will be message with <trace_id>
to plot nice HTML graphs use command:

osprofiler trace show <trace_id> --html --out result.html

Related patch:
(main patch in keystone) https://review.openstack.org/#/c/103368/

Change-Id: I01f288f6bf5deaeced09a86e2526eb7948a6e9d1
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/56/114856/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/shell.py'],1,5ece3afcf9ad212ae1cfb265f0b8fba92aadd012,profiler,"from keystoneclient.openstack.common import importutilsosprofiler_profiler = importutils.try_import(""osprofiler.profiler"") if osprofiler_profiler: parser.add_argument('--profile', metavar='HMAC_KEY', help='HMAC key to use for encrypting context ' 'data for performance profiling of operation. ' 'This key should be the value of HMAC key ' 'configured in osprofiler middleware in ' 'cinder, it specified in paste configuration ' 'file at /etc/cinder/api-paste.ini. ' 'Without key the profiling will not be ' 'triggered even if osprofiler is enabled ' 'on server side.') profile = osprofiler_profiler and options.profile if profile: osprofiler_profiler.init(options.profile) if profile: trace_id = osprofiler_profiler.get().get_base_id() print(""Trace ID: %s"" % trace_id) print(""To display trace use next command:\n"" ""osprofiler trace show --html %s "" % trace_id)",,25,0
openstack%2Fpython-keystoneclient~master~I83dec4f1113c415bd18a363349dc7fc3c51672d7,openstack/python-keystoneclient,master,I83dec4f1113c415bd18a363349dc7fc3c51672d7,Removed keystoneclient.apiclient,ABANDONED,2014-07-18 08:21:30.000000000,2014-12-15 22:04:49.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 8978}, {'_account_id': 11045}, {'_account_id': 11333}, {'_account_id': 11387}, {'_account_id': 11428}, {'_account_id': 11717}]","[{'number': 1, 'created': '2014-07-18 08:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/32eec5d067fc7bbbc92c5bc703e052597f2b3bab', 'message': 'Removed keystone.apiclient\n\nkeystone.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 2, 'created': '2014-07-22 12:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ee255665ec4581e3aa7085510daf341b4a51db52', 'message': 'Removed keystone.apiclient\n\nkeystone.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 3, 'created': '2014-07-23 07:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/49a0648ebba2726340d6319d24792cc2ce78b995', 'message': 'Removed keystone.apiclient\n\nkeystone.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 4, 'created': '2014-07-23 07:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8107871d3cfe00f8b263be4770546fe401676c18', 'message': 'Removed keystoneclient.apiclient\n\nkeystoneclient.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 5, 'created': '2014-07-23 07:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/12349abe084927efd79ca3522da725768c4df3a7', 'message': 'Removed keystoneclient.apiclient\n\nkeystoneclient.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 6, 'created': '2014-07-23 09:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f30e02296e33cf9268cf181108fbe4af960c1566', 'message': 'Removed keystoneclient.apiclient\n\nkeystoneclient.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 7, 'created': '2014-07-23 13:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1d16e3cba6bab7346e36505f6a505d5dac567d73', 'message': 'Removed keystoneclient.apiclient\n\nkeystoneclient.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}, {'number': 8, 'created': '2014-09-10 07:19:41.000000000', 'files': ['keystoneclient/apiclient/__init__.py', 'keystoneclient/apiclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d666d528e982da99b5cb682608cfc0b835422d5d', 'message': 'Removed keystoneclient.apiclient\n\nkeystoneclient.apiclient is deprecated since v.0.7.1 and should be removed.\n\nChange-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7\n'}]",2,107926,d666d528e982da99b5cb682608cfc0b835422d5d,39,11,8,167,,,0,"Removed keystoneclient.apiclient

keystoneclient.apiclient is deprecated since v.0.7.1 and should be removed.

Change-Id: I83dec4f1113c415bd18a363349dc7fc3c51672d7
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/26/107926/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/apiclient/__init__.py', 'keystoneclient/apiclient/exceptions.py']",2,32eec5d067fc7bbbc92c5bc703e052597f2b3bab,use_keystoneclient_exceptions,,"# Copyright 2010 Jacob Kaplan-Moss # Copyright 2011 Nebula, Inc. # Copyright 2013 Alessio Ababilov # Copyright 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Exception definitions. Deprecated since v0.7.1. Use 'keystoneclient.exceptions' instead of this module. """""" import warnings from keystoneclient.exceptions import * # noqa warnings.warn(""The 'keystoneclient.apiclient.exceptions' module is deprecated "" ""since v.0.7.1. Use 'keystoneclient.exceptions' instead of this "" ""module."", DeprecationWarning) ",0,64
openstack%2Fpython-keystoneclient~master~Iea5df8834e562a4db0c526ce623e7f128aad6477,openstack/python-keystoneclient,master,Iea5df8834e562a4db0c526ce623e7f128aad6477,Bump hacking to 0.9.x series,ABANDONED,2014-07-16 11:48:15.000000000,2014-12-15 22:04:39.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 220}, {'_account_id': 2218}, {'_account_id': 6282}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 11045}, {'_account_id': 11333}, {'_account_id': 11387}, {'_account_id': 11717}]","[{'number': 1, 'created': '2014-07-16 11:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c93f2f9738b7fc1b4c1d72a6a4f6a5e8e41fb46f', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 2, 'created': '2014-07-17 07:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/b3610287849a615abebe2993af196e0b72f4ee0c', 'message': 'Bump hacking to 0.9.x series\n\nAlso use keystoneclient.exceptions instead of keystone.apiclient.exceptions.\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 3, 'created': '2014-07-18 06:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/ce810069f13edcef05ddbcc2718b44139adaf859', 'message': 'Bump hacking to 0.9.x series\n\nAlso use keystoneclient.exceptions instead of keystone.apiclient.exceptions.\nkeystone.apiclient.exceptions is deprecated.\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 4, 'created': '2014-07-22 12:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8fdc8c2af804f73980b6a3d2bba99f5bcc3803f0', 'message': 'Bump hacking to 0.9.x series\n\nAlso use keystoneclient.exceptions instead of keystone.apiclient.exceptions.\nkeystone.apiclient.exceptions is deprecated.\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 5, 'created': '2014-07-22 12:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d585564eae7198066c9f0237c2f69d396f4f9d11', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 6, 'created': '2014-07-23 07:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2d669d384667aa7441fa92f3f55166771be24253', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 7, 'created': '2014-07-23 09:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/435293ee32c72f1949bf9c276da0918363e753eb', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 8, 'created': '2014-07-23 13:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d0e4d04a72230b7b208f061e60f32baa158d36a2', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 9, 'created': '2014-07-23 13:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d1c32dd34dd61a8d6f6c11111160cc90953f609d', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}, {'number': 10, 'created': '2014-08-19 13:44:19.000000000', 'files': ['keystoneclient/tests/apiclient/test_exceptions.py', 'test-requirements.txt', 'keystoneclient/httpclient.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/65f7778242fdad858b27e5348b4bbd5afc453d04', 'message': 'Bump hacking to 0.9.x series\n\nChange-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477\nCloses-Bug: #1328469\n'}]",7,107328,65f7778242fdad858b27e5348b4bbd5afc453d04,63,12,10,167,,,0,"Bump hacking to 0.9.x series

Change-Id: Iea5df8834e562a4db0c526ce623e7f128aad6477
Closes-Bug: #1328469
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/28/107328/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/apiclient/test_exceptions.py', 'test-requirements.txt', 'tox.ini']",3,c93f2f9738b7fc1b4c1d72a6a4f6a5e8e41fb46f,use_keystoneclient_exceptions,"# H904: Wrap long lines in parentheses instead of a backslashignore = F821,H304,H803,H405,E122,H904","ignore = F821,H304,H803,H405,E122",11,10
openstack%2Fpython-keystoneclient~master~Ia6fd754245799b792537ec10d6c2964f8d84fe30,openstack/python-keystoneclient,master,Ia6fd754245799b792537ec10d6c2964f8d84fe30,Add session helper functions,ABANDONED,2014-09-18 23:49:50.000000000,2014-12-15 22:04:31.000000000,,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-09-18 23:49:50.000000000', 'files': ['keystoneclient/exceptions.py', 'keystoneclient/session.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6c8f78cb3b100baebc6ea6e6b5a94e52df46ad65', 'message': 'Add session helper functions\n\nThese came from cinderclient, but they seem pretty general purpose\nand like anyone using keystone.session would want them.\n\nChange-Id: Ia6fd754245799b792537ec10d6c2964f8d84fe30\n'}]",8,122569,6c8f78cb3b100baebc6ea6e6b5a94e52df46ad65,8,5,1,2,,,0,"Add session helper functions

These came from cinderclient, but they seem pretty general purpose
and like anyone using keystone.session would want them.

Change-Id: Ia6fd754245799b792537ec10d6c2964f8d84fe30
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/69/122569/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/exceptions.py', 'keystoneclient/session.py']",2,6c8f78cb3b100baebc6ea6e6b5a94e52df46ad65,tox-docs,"import six.moves.urllib.parse as urlparse from keystoneclient import discoverdef get_v2_auth(v2_auth_url, username, password, tenant_id, tenant_name): return v2_auth.Password( v2_auth_url, username=username, password=password, tenant_id=tenant_id, tenant_name=tenant_name) def get_v3_auth( v3_auth_url, username, user_id, user_domain_name, user_domain_id, password, project_id, project_name, project_domain_name, project_domain_id) return v3_auth.Password( v3_auth_url, username=username, password=password, user_id=user_id, user_domain_name=user_domain_name, user_domain_id=user_domain_id, project_id=project_id, project_name=project_name, project_domain_name=project_domain_name, project_domain_id=project_domain_id, ) def _discover_auth_versions(session, auth_url): # discover the API versions the server is supporting based on the # given URL v2_auth_url = None v3_auth_url = None try: ks_discover = discover.Discover(session=session, auth_url=auth_url) v2_auth_url = ks_discover.url_for('2.0') v3_auth_url = ks_discover.url_for('3.0') except DiscoveryFailure: # Discovery response mismatch. Raise the error raise except Exception: # Some public clouds throw some other exception or doesn't support # discovery. In that case try to determine version from auth_url # API version from the original URL url_parts = urlparse.urlparse(auth_url) (scheme, netloc, path, params, query, fragment) = url_parts path = path.lower() if path.startswith('/v3'): v3_auth_url = auth_url elif path.startswith('/v2'): v2_auth_url = auth_url else: raise exceptions.SessionFailure( 'Unable to determine the Keystone' ' version to authenticate with using the given auth_url.') return (v2_auth_url, v3_auth_url) def get_keystone_session( self, cacert=None, cert=None, insecure=False, username=None, user_id=None, user_domain_name=None, user_domain_id=None, password=None, project_name=None, project_id=None, project_domain_name=None, project_domain_id=None): if insecure: verify = False else: verify = cacert or True ks_session = Session(verify=verify, cert=cert) # discover the supported keystone versions using the given url (v2_auth_url, v3_auth_url) = _discover_auth_versions( session=ks_session, auth_url=self.options.os_auth_url) auth = None if v3_auth_url and v2_auth_url: # support both v2 and v3 auth. Use v3 if possible. if username: if user_domain_name or user_domain_id: # use v3 auth auth = _get_v3_auth( v3_auth_url, username, user_id, user_domain_name, user_domain_id, password, project_id, project_name, project_domain_name, project_domain_id) else: # use v2 auth auth = _get_v2_auth( v2_auth_url, username, password, project_id, project_name) elif v3_auth_url: # support only v3 auth = _get_v3_auth( v3_auth_url, username, user_id, user_domain_name, user_domain_id, password, project_id, project_name, project_domain_name, project_domain_id) elif v2_auth_url: # support only v2 auth = _get_v2_auth(v2_auth_url) else: raise exceptions.SessionFailure('Unable to create a valid session.') ks_session.auth = auth return ks_session ",,141,0
openstack%2Fpython-keystoneclient~master~I053d116efb8579d4ef85b7dd028b46ad4d4229a0,openstack/python-keystoneclient,master,I053d116efb8579d4ef85b7dd028b46ad4d4229a0,"Corrected typos ""paramters"" and ""dependant""",ABANDONED,2014-09-18 20:23:58.000000000,2014-12-15 22:04:24.000000000,,"[{'_account_id': 3}, {'_account_id': 5707}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-09-18 20:23:58.000000000', 'files': ['keystoneclient/auth/identity/generic/base.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a0099074d46ae370e27f97ff08d7a795d3ea465e', 'message': 'Corrected typos ""paramters"" and ""dependant""\n\nMisspelling of ""parameters"" found in method create_plugin\nfrom class BaseGenericPlugin. Corrected ""dependant"" to\n""dependent."" ""Dependant"" is almost exclusively used as a noun;\na person who is dependant on another. ""Dependent"" is more\noften used as the adjective in this context.\n\nChange-Id: I053d116efb8579d4ef85b7dd028b46ad4d4229a0\n'}]",1,122515,a0099074d46ae370e27f97ff08d7a795d3ea465e,5,3,1,13300,,,0,"Corrected typos ""paramters"" and ""dependant""

Misspelling of ""parameters"" found in method create_plugin
from class BaseGenericPlugin. Corrected ""dependant"" to
""dependent."" ""Dependant"" is almost exclusively used as a noun;
a person who is dependant on another. ""Dependent"" is more
often used as the adjective in this context.

Change-Id: I053d116efb8579d4ef85b7dd028b46ad4d4229a0
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/15/122515/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/auth/identity/generic/base.py'],1,a0099074d46ae370e27f97ff08d7a795d3ea465e,," """"""An identity plugin that is not version dependent. Internally we will construct a version dependent plugin with the resolved """"""Create a plugin from the given parameters."," """"""An identity plugin that is not version dependant. Internally we will construct a version dependant plugin with the resolved """"""Create a plugin from the given paramters.",3,3
openstack%2Fpython-keystoneclient~master~I9b343f922c0bc3f460a07ff23ab23c0a373e5622,openstack/python-keystoneclient,master,I9b343f922c0bc3f460a07ff23ab23c0a373e5622,Convert keystone CLI to use auth plugins,ABANDONED,2014-05-27 08:25:38.000000000,2014-12-15 22:04:13.000000000,,"[{'_account_id': 3}, {'_account_id': 7191}, {'_account_id': 8871}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-05-27 08:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a32d03d99ec6c551114d49ddc4f44693970634dc', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 2, 'created': '2014-07-01 01:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/cad00e4e57daae64e514eda7c1ca19ba0352a68b', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 3, 'created': '2014-07-03 12:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7377904f98fe1cc8bc42a734ba6ca6bd3f67b8d3', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 4, 'created': '2014-07-03 12:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/07b197ae426047f85e1bce947a0bff8b311dd949', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 5, 'created': '2014-07-03 12:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/46aed6acdb2284ecf68dec96256580f23b36b0de', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 6, 'created': '2014-07-03 23:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/cf7d2b14875f7a3cf29b85ab614b92a0ed457461', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 7, 'created': '2014-07-07 04:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/21431dffa209890f1b7019b188f37d7d91adbafe', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 8, 'created': '2014-08-12 08:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/defe6540885bd235d29cb1663959e3f8c19b5eae', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}, {'number': 9, 'created': '2014-08-13 07:23:35.000000000', 'files': ['keystoneclient/shell.py', 'keystoneclient/auth/base.py', 'setup.cfg', 'keystoneclient/auth/identity/cli.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1fff4d971bfd496da2cf034e240376b6ba649f55', 'message': 'Convert keystone CLI to use auth plugins\n\nChange-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622\n'}]",6,95680,1fff4d971bfd496da2cf034e240376b6ba649f55,42,4,9,7191,,,0,"Convert keystone CLI to use auth plugins

Change-Id: I9b343f922c0bc3f460a07ff23ab23c0a373e5622
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/80/95680/9 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/shell.py'],1,a32d03d99ec6c551114d49ddc4f44693970634dc,cli-plugins,"from keystoneclient.auth import cli formatter_class=OpenStackHelpFormatter keyring = parser.add_argument_group('Keyring Options') keyring.add_argument('--os-cache', default=env('OS_CACHE', default=False), action='store_true', help='Use the auth token cache. ' 'Defaults to env[OS_CACHE].') keyring.add_argument('--os_cache', help=argparse.SUPPRESS) keyring.add_argument('--force-new-token', default=False, action=""store_true"", dest='force_new_token', help=""If the keyring is available and in use, "" ""token will always be stored and fetched "" ""from the keyring until the token has "" ""expired. Use this option to request a "" ""new token and replace the existing one "" ""in the keyring."") keyring.add_argument('--stale-duration', metavar='<seconds>', default=access.STALE_TOKEN_DURATION, dest='stale_duration', help=""Stale duration (in seconds) used to "" ""determine whether a token has expired "" ""when retrieving it from keyring. This "" ""is useful in mitigating process or "" ""network delays. Default is %s seconds."" % access.STALE_TOKEN_DURATION) compat = CompatabilityManager() # register additional CLI options compat.register_cli_arguments(self.parser, argv) args = self.parser.parse_args(argv) authenticated = not utils.isunauthenticated(args.func) cs = compat.create_client(args, authenticated) args.func(cs, args)class CompatabilityManager(object): """"""Manage all the hacks we do to keep backwards compatability. The 'never break backwards compatability' leads to some weird and stupid hacks that become really difficult to understand. This class attempts to break those down into more easily understood pieces with rationale about why we are doing things the way we are. """""" def register_cli_arguments(self, parser, argv): # register the transport options group = parser.add_argument_group('Transport Options') self._register_transport_cli_options(group) # register the --os-auth-plugin handler. It will return a boolean to # indicate whether a plugin was selected. self.use_auth_plugin = cli.register_cli_options(parser, argv) # if not then fall back to the original arguments. if not self.use_auth_plugin: auth_plugin_msg = ('Note that these options will change if you ' 'specify an --os-auth-plugin.') group = parser.add_argument_group('Default Authentication Options', auth_plugin_msg) self._register_original_cli_options(group) def create_client(self, args, authenticated): # unauthenticated calls are not worth trying to fix at the moment. if not authenticated: return self._create_unauthenticated_client(args) # there are some options that aren't or cannot be supported in a # compatible way when using auth plugins. unsupported_arguments = (args.os_cache or args.force_new_token or args.stale_duration) if self.use_auth_plugin and unsupported_arguments: # if you try and use those unsupported arguments with an auth # plugin we can fail, because you opt-in to new behaviour. msg = ('--os-cache, --os-force-new-token and --os-stale-duration ' 'are unsupported when using auth plugins') raise exc.CommandError(msg) elif self.use_auth_plugin: # if using new auth plugin then get it auth_plugin = cli.plugin_from_cli(args) elif unsupported_arguments: # if one of those arguments is used we can't use a session so we # must fall back to the old ways. return self._create_client_from_original_cli_options(args) else: # We're using the old method but we can still create an auth # plugin that will give the same behaviour. auth_plugin = self._create_plugin_from_original_cli_options(args) # so we have an auth plugin, now we create a session and a client sess = session.Session.load_from_cli_options(args, auth=auth_plugin) return self._get_api_class(args.os_identity_api_version)(session=sess) def _register_transport_cli_options(self, parser): # the primary options have not changed so can be registered as normal session.Session.register_cli_options(parser) # register some compatibility ones in addition parser.add_argument('--os_cacert', help=argparse.SUPPRESS) parser.add_argument('--os_cert', help=argparse.SUPPRESS) parser.add_argument('--os_key', help=argparse.SUPPRESS) def _register_original_cli_options(self, parser): parser.add_argument('--os-username', metavar='<auth-user-name>', default=env('OS_USERNAME'), help='Name used for authentication with the ' 'OpenStack Identity service. ' 'Defaults to env[OS_USERNAME].') parser.add_argument('--os_username', help=argparse.SUPPRESS) parser.add_argument('--os-password', metavar='<auth-password>', default=env('OS_PASSWORD'), help='Password used for authentication with the ' 'OpenStack Identity service. ' 'Defaults to env[OS_PASSWORD].') parser.add_argument('--os_password', help=argparse.SUPPRESS) parser.add_argument('--os-tenant-name', metavar='<auth-tenant-name>', default=env('OS_TENANT_NAME'), help='Tenant to request authorization on. ' 'Defaults to env[OS_TENANT_NAME].') parser.add_argument('--os_tenant_name', help=argparse.SUPPRESS) parser.add_argument('--os-tenant-id', metavar='<tenant-id>', default=env('OS_TENANT_ID'), help='Tenant to request authorization on. ' 'Defaults to env[OS_TENANT_ID].') parser.add_argument('--os_tenant_id', help=argparse.SUPPRESS) parser.add_argument('--os-auth-url', metavar='<auth-url>', default=env('OS_AUTH_URL'), help='Specify the Identity endpoint to use for ' 'authentication. ' 'Defaults to env[OS_AUTH_URL].') parser.add_argument('--os_auth_url', help=argparse.SUPPRESS) parser.add_argument('--os-token', metavar='<service-token>', default=env('OS_SERVICE_TOKEN'), help='Specify an existing token to use instead of ' 'retrieving one via authentication (e.g. ' 'with username & password). ' 'Defaults to env[OS_SERVICE_TOKEN].') parser.add_argument('--os-endpoint', metavar='<service-endpoint>', default=env('OS_SERVICE_ENDPOINT'), help='Specify an endpoint to use instead of ' 'retrieving one from the service catalog ' '(via authentication). ' 'Defaults to env[OS_SERVICE_ENDPOINT].') def _check_original_cli_options(self, args): # TODO(heckj): supporting backwards compatibility with environment # variables. To be removed after DEVSTACK is updated, ideally in # the Grizzly release cycle. args.os_token = args.os_token or env('SERVICE_TOKEN') args.os_endpoint = args.os_endpoint or env('SERVICE_ENDPOINT') if args.os_token or args.os_endpoint: if not args.os_token: raise exc.CommandError( 'Expecting a token provided via either --os-token or ' 'env[OS_SERVICE_TOKEN]') if not args.os_endpoint: raise exc.CommandError( 'Expecting an endpoint provided via either ' '--os-endpoint or env[OS_SERVICE_ENDPOINT]') # user supplied a token and endpoint and at least one other cred if args.os_username or args.os_password or args.os_auth_url: print('WARNING: Bypassing authentication using a token & ' 'endpoint (authentication credentials are being ' 'ignored).') else: if not args.os_auth_url: raise exc.CommandError( 'Expecting an auth URL via either --os-auth-url or ' 'env[OS_AUTH_URL]') if args.os_username or args.os_password: if not args.os_username: raise exc.CommandError( 'Expecting a username provided via either ' '--os-username or env[OS_USERNAME]') if not args.os_password: # No password, If we've got a tty, try prompting for it if hasattr(sys.stdin, 'isatty') and sys.stdin.isatty(): # Check for Ctl-D try: args.os_password = getpass.getpass('OS Password: ') except EOFError: pass # No password because we didn't have a tty or the # user Ctl-D when prompted? if not args.os_password: raise exc.CommandError( 'Expecting a password provided via either ' '--os-password, env[OS_PASSWORD], or ' 'prompted response') else: raise exc.CommandError('Expecting authentication method via' '\n either a service token, ' '--os-token or env[OS_SERVICE_TOKEN], ' '\n credentials, ' '--os-username or env[OS_USERNAME]') def _create_plugin_from_original_cli_options(self, args): self._check_original_cli_options(args) if args.os_endpoint and args.os_token: return token_endpoint.Token(args.os_endpoint, args.os_token) else: return v2_auth.Password(os.auth_url, username=args.os_username, password=args.os_password, tenant_id=args.os_tenant_id, tenant_name=args.os_tenant_name) def _get_api_class(self, version): try: return { ""2.0"": shell_v2_0.CLIENT_CLASS, }[version] except KeyError: if version: msg = ('WARNING: unsupported identity-api-version %s, ' 'falling back to 2.0' % version) print(msg) return shell_v2_0.CLIENT_CLASS def _create_client_from_original_cli_options(self, args): self._check_original_cli_options(args) token = None if args.os_token and args.os_endpoint: token = args.os_token return self._get_api_class(args.os_identity_api_version)( username=args.os_username, tenant_name=args.os_tenant_name, tenant_id=args.os_tenant_id, token=token, endpoint=args.os_endpoint, password=args.os_password, auth_url=args.os_auth_url, region_name=args.os_region_name, cacert=args.os_cacert, key=args.os_key, cert=args.os_cert, insecure=args.insecure, debug=args.debug, use_keyring=args.os_cache, force_new_token=args.force_new_token, stale_duration=args.stale_duration, timeout=args.timeout) def _create_unauthenticated_client(self, args): return shell_generic.CLIENT_CLASS(endpoint=args.os_auth_url, cacert=args.os_cacert, key=args.os_key, cert=args.os_cert, insecure=args.insecure, timeout=args.timeout) "," formatter_class=OpenStackHelpFormatter, parser.add_argument('--os-username', metavar='<auth-user-name>', default=env('OS_USERNAME'), help='Name used for authentication with the ' 'OpenStack Identity service. ' 'Defaults to env[OS_USERNAME].') parser.add_argument('--os_username', help=argparse.SUPPRESS) parser.add_argument('--os-password', metavar='<auth-password>', default=env('OS_PASSWORD'), help='Password used for authentication with the ' 'OpenStack Identity service. ' 'Defaults to env[OS_PASSWORD].') parser.add_argument('--os_password', help=argparse.SUPPRESS) parser.add_argument('--os-tenant-name', metavar='<auth-tenant-name>', default=env('OS_TENANT_NAME'), help='Tenant to request authorization on. ' 'Defaults to env[OS_TENANT_NAME].') parser.add_argument('--os_tenant_name', help=argparse.SUPPRESS) parser.add_argument('--os-tenant-id', metavar='<tenant-id>', default=env('OS_TENANT_ID'), help='Tenant to request authorization on. ' 'Defaults to env[OS_TENANT_ID].') parser.add_argument('--os_tenant_id', help=argparse.SUPPRESS) parser.add_argument('--os-auth-url', metavar='<auth-url>', default=env('OS_AUTH_URL'), help='Specify the Identity endpoint to use for ' 'authentication. ' 'Defaults to env[OS_AUTH_URL].') parser.add_argument('--os_auth_url', help=argparse.SUPPRESS) parser.add_argument('--os-token', metavar='<service-token>', default=env('OS_SERVICE_TOKEN'), help='Specify an existing token to use instead of ' 'retrieving one via authentication (e.g. ' 'with username & password). ' 'Defaults to env[OS_SERVICE_TOKEN].') parser.add_argument('--os-endpoint', metavar='<service-endpoint>', default=env('OS_SERVICE_ENDPOINT'), help='Specify an endpoint to use instead of ' 'retrieving one from the service catalog ' '(via authentication). ' 'Defaults to env[OS_SERVICE_ENDPOINT].') parser.add_argument('--os-cache', default=env('OS_CACHE', default=False), action='store_true', help='Use the auth token cache. ' 'Defaults to env[OS_CACHE].') parser.add_argument('--os_cache', help=argparse.SUPPRESS) parser.add_argument('--os_cacert', help=argparse.SUPPRESS) parser.add_argument('--os_key', help=argparse.SUPPRESS) parser.add_argument('--os_cert', help=argparse.SUPPRESS) parser.add_argument('--force-new-token', default=False, action=""store_true"", dest='force_new_token', help=""If the keyring is available and in use, "" ""token will always be stored and fetched "" ""from the keyring until the token has "" ""expired. Use this option to request a "" ""new token and replace the existing one "" ""in the keyring."") parser.add_argument('--stale-duration', metavar='<seconds>', default=access.STALE_TOKEN_DURATION, dest='stale_duration', help=""Stale duration (in seconds) used to "" ""determine whether a token has expired "" ""when retrieving it from keyring. This "" ""is useful in mitigating process or "" ""network delays. Default is %s seconds."" % access.STALE_TOKEN_DURATION) session.Session.register_cli_options(parser) def auth_check(self, args): if args.os_token or args.os_endpoint: if not args.os_token: raise exc.CommandError( 'Expecting a token provided via either --os-token or ' 'env[OS_SERVICE_TOKEN]') if not args.os_endpoint: raise exc.CommandError( 'Expecting an endpoint provided via either ' '--os-endpoint or env[OS_SERVICE_ENDPOINT]') # user supplied a token and endpoint and at least one other cred if args.os_username or args.os_password or args.os_auth_url: msg = ('WARNING: Bypassing authentication using a token & ' 'endpoint (authentication credentials are being ' 'ignored).') print(msg) else: if not args.os_auth_url: raise exc.CommandError( 'Expecting an auth URL via either --os-auth-url or ' 'env[OS_AUTH_URL]') if args.os_username or args.os_password: if not args.os_username: raise exc.CommandError( 'Expecting a username provided via either ' '--os-username or env[OS_USERNAME]') if not args.os_password: # No password, If we've got a tty, try prompting for it if hasattr(sys.stdin, 'isatty') and sys.stdin.isatty(): # Check for Ctl-D try: args.os_password = getpass.getpass('OS Password: ') except EOFError: pass # No password because we didn't have a tty or the # user Ctl-D when prompted? if not args.os_password: raise exc.CommandError( 'Expecting a password provided via either ' '--os-password, env[OS_PASSWORD], or ' 'prompted response') else: raise exc.CommandError('Expecting authentication method via' '\n either a service token, ' '--os-token or env[OS_SERVICE_TOKEN], ' '\n credentials, ' '--os-username or env[OS_USERNAME]') args = subcommand_parser.parse_args(argv) # TODO(heckj): supporting backwards compatibility with environment # variables. To be removed after DEVSTACK is updated, ideally in # the Grizzly release cycle. args.os_token = args.os_token or env('SERVICE_TOKEN') args.os_endpoint = args.os_endpoint or env('SERVICE_ENDPOINT') if utils.isunauthenticated(args.func): self.cs = shell_generic.CLIENT_CLASS(endpoint=args.os_auth_url, cacert=args.os_cacert, key=args.os_key, cert=args.os_cert, insecure=args.insecure, timeout=args.timeout) else: self.auth_check(args) token = None if args.os_token and args.os_endpoint: token = args.os_token api_version = options.os_identity_api_version self.cs = self.get_api_class(api_version)( username=args.os_username, tenant_name=args.os_tenant_name, tenant_id=args.os_tenant_id, token=token, endpoint=args.os_endpoint, password=args.os_password, auth_url=args.os_auth_url, region_name=args.os_region_name, cacert=args.os_cacert, key=args.os_key, cert=args.os_cert, insecure=args.insecure, debug=args.debug, use_keyring=args.os_cache, force_new_token=args.force_new_token, stale_duration=args.stale_duration, timeout=args.timeout) args.func(self.cs, args) def get_api_class(self, version): try: return { ""2.0"": shell_v2_0.CLIENT_CLASS, }[version] except KeyError: if version: msg = ('WARNING: unsupported identity-api-version %s, ' 'falling back to 2.0' % version) print(msg) return shell_v2_0.CLIENT_CLASS ",286,197
openstack%2Fpython-keystoneclient~master~Ib36c8a8f40ea0e5c98827cbe03cfcfa1a921419d,openstack/python-keystoneclient,master,Ib36c8a8f40ea0e5c98827cbe03cfcfa1a921419d,Add auth manager,ABANDONED,2014-09-03 05:14:16.000000000,2014-12-15 22:04:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7191}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-09-03 05:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d985799d3369bf4caeb5f52868031c808f87d743', 'message': 'Add auth manager\n\nChange-Id: Ib36c8a8f40ea0e5c98827cbe03cfcfa1a921419d\n'}, {'number': 2, 'created': '2014-09-05 07:18:31.000000000', 'files': ['keystoneclient/v3/client.py', 'keystoneclient/v3/auth.py', 'keystoneclient/tests/v3/test_auth_manager.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3553534acabf0e3a6fb557bf0eb795818767af59', 'message': 'Add auth manager\n\nChange-Id: Ib36c8a8f40ea0e5c98827cbe03cfcfa1a921419d\n'}]",0,118531,3553534acabf0e3a6fb557bf0eb795818767af59,9,3,2,7191,,,0,"Add auth manager

Change-Id: Ib36c8a8f40ea0e5c98827cbe03cfcfa1a921419d
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/31/118531/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/v3/client.py', 'keystoneclient/v3/auth.py', 'keystoneclient/tests/v3/test_auth_manager.py']",3,d985799d3369bf4caeb5f52868031c808f87d743,session-test,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from testtools import matchers from keystoneclient import fixture from keystoneclient.tests.v3 import utils def repeat(count, func, *args, **kwargs): return [func(*args, **kwargs) for i in range(0, count)] class AuthManagerTests(utils.TestCase): def setUp(self): super(AuthManagerTests, self).setUp() self.project_new_url = self.TEST_URL + '/auth/projects' self.project_old_url = '%s/users/%s/projects' % (self.TEST_URL, self.TEST_USER_ID) def new_project(self, **kwargs): kwargs.setdefault('id', uuid.uuid4().hex) kwargs.setdefault(uuid.uuid4().hex, uuid.uuid4().hex) kwargs.setdefault('domain_id', uuid.uuid4().hex) kwargs.setdefault('enabled', True) kwargs.setdefault('name', uuid.uuid4().hex) return kwargs def new_domain(self, **kwargs): kwargs.setdefault('id', uuid.uuid4().hex) kwargs.setdefault(uuid.uuid4().hex, uuid.uuid4().hex) kwargs.setdefault('enabled', True) kwargs.setdefault('name', uuid.uuid4().hex) return kwargs def create_list(self, key, values=None): return {key: values, 'links': { 'self': '%s/auth/%s' % (self.TEST_URL, key), 'previous': None, 'next': None }} def discovery_setup(self, id): d = fixture.V3Discovery(id=id, href=self.TEST_URL) self.stub_url('GET', json={'version': d}, status_code=300) def do_list_project_test(self, old): self.discovery_setup('v3.0' if old else 'v3.3') projects = repeat(3, self.new_project) project_list = self.create_list('projects', projects) if old: self.stub_url('GET', ['auth', 'projects'], status_code=404) else: self.stub_url('GET', ['auth', 'projects'], json=project_list) self.stub_url('GET', ['users', self.TEST_USER_ID, 'projects'], json=project_list) ids = set([p['id'] for p in projects]) names = set([p['name'] for p in projects]) ret = self.client.auth.projects() self.assertThat(ret, matchers.HasLength(3)) self.assertEqual(ids, set([p.id for p in ret])) self.assertEqual(names, set([p.name for p in ret])) def test_list_projects_v3_new_api(self): self.do_list_project_test(old=False) url = self.TEST_URL + '/auth/projects' self.assertEqual(url, self.requests.last_request.url) def test_list_projects_v3_old_api(self): self.do_list_project_test(old=True) self.assertEqual(self.project_old_url, self.requests.last_request.url) called_urls = [r.url for r in self.requests.request_history] if self.is_session_client: # if it's new then it knows that the version id isn't available # and so it won't bother making the request self.assertNotIn(self.project_new_url, called_urls) else: # the old client has no choice but to actually call it and get 404 self.assertIn(self.project_new_url, called_urls) def test_list_domains(self): self.discovery_setup('v3.3') domains = repeat(3, self.new_domain) domain_list = self.create_list('domains', domains) self.stub_url('GET', ['auth', 'domains'], json=domain_list) ids = set([p['id'] for p in domains]) names = set([p['name'] for p in domains]) ret = self.client.auth.domains() self.assertThat(ret, matchers.HasLength(3)) self.assertEqual(ids, set([p.id for p in ret])) self.assertEqual(names, set([p.name for p in ret])) url = self.TEST_URL + '/auth/domains' self.assertEqual(url, self.requests.last_request.url) ",,183,0
openstack%2Fpython-keystoneclient~master~I71b83a79a5b425afd54361c1dd6574b8aaccdfb0,openstack/python-keystoneclient,master,I71b83a79a5b425afd54361c1dd6574b8aaccdfb0,Inherited project role grants on keystoneclient v3,ABANDONED,2014-09-11 15:59:13.000000000,2014-12-15 22:03:57.000000000,,"[{'_account_id': 3}, {'_account_id': 9142}]","[{'number': 1, 'created': '2014-09-11 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/154b67871fa68b60dffec538a7c9834dad3e6740', 'message': 'Inherited project role grants on keystoneclient v3\n\nThis patch allows keystoneclient users to perform\ncreation, read and revokation of inherited role\ngrants in any node of an arbitrary project\nhierarchy.\n\nChange-Id: I71b83a79a5b425afd54361c1dd6574b8aaccdfb0\nImplements: blueprint hierarchical-multitenancy\n'}, {'number': 2, 'created': '2014-09-11 16:09:36.000000000', 'files': ['keystoneclient/v3/roles.py', 'keystoneclient/tests/v3/test_roles.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/fee1d26c3bc0d4e0a6530108fcd4a3d57f926dce', 'message': 'Inherited project role grants on keystoneclient v3\n\nThis patch allows keystoneclient users to perform\ncreation, read and revokation of inherited role\ngrants in any node of an arbitrary project\nhierarchy.\n\nChange-Id: I71b83a79a5b425afd54361c1dd6574b8aaccdfb0\nImplements: blueprint hierarchical-multitenancy\n'}]",0,120822,fee1d26c3bc0d4e0a6530108fcd4a3d57f926dce,5,2,2,9142,,,0,"Inherited project role grants on keystoneclient v3

This patch allows keystoneclient users to perform
creation, read and revokation of inherited role
grants in any node of an arbitrary project
hierarchy.

Change-Id: I71b83a79a5b425afd54361c1dd6574b8aaccdfb0
Implements: blueprint hierarchical-multitenancy
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/22/120822/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/v3/roles.py', 'keystoneclient/tests/v3/test_roles.py']",2,154b67871fa68b60dffec538a7c9834dad3e6740,bp/hierarchical-multitenancy," def test_project_role_grant_inherited(self): user_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref = self.new_ref() self.stub_url('PUT', ['OS-INHERIT', 'projects', project_id, 'users', user_id, self.collection_key, ref['id'], 'inherited_to_projects'], status_code=201) self.manager.grant(role=ref['id'], project=project_id, user=user_id, inherited=True) def test_project_group_role_grant_inherited(self): group_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref = self.new_ref() self.stub_url('PUT', ['OS-INHERIT', 'projects', project_id, 'groups', group_id, self.collection_key, ref['id'], 'inherited_to_projects'], status_code=201) self.manager.grant(role=ref['id'], project=project_id, group=group_id, inherited=True) def test_project_role_list_inherited(self): user_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref_list = [self.new_ref(), self.new_ref()] self.stub_entity('GET', ['OS-INHERIT', 'projects', project_id, 'users', user_id, self.collection_key, 'inherited_to_projects'], entity=ref_list) self.manager.list(project=project_id, user=user_id, inherited=True) def test_project_group_role_list_inherited(self): group_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref_list = [self.new_ref(), self.new_ref()] self.stub_entity('GET', ['OS-INHERIT', 'projects', project_id, 'groups', group_id, self.collection_key, 'inherited_to_projects'], entity=ref_list) self.manager.list(project=project_id, group=group_id, inherited=True) def test_project_role_check_inherited(self): user_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref = self.new_ref() self.stub_url('HEAD', ['OS-INHERIT', 'projects', project_id, 'users', user_id, self.collection_key, ref['id'], 'inherited_to_projects'], status_code=200) self.manager.check(role=ref['id'], project=project_id, user=user_id, inherited=True) def test_project_group_role_check_inherited(self): group_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref = self.new_ref() self.stub_url('HEAD', ['OS-INHERIT', 'projects', project_id, 'groups', group_id, self.collection_key, ref['id'], 'inherited_to_projects'], status_code=200) self.manager.check(role=ref['id'], project=project_id, group=group_id, inherited=True) def test_project_role_revoke_inherited(self): user_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref = self.new_ref() self.stub_url('DELETE', ['OS-INHERIT', 'projects', project_id, 'users', user_id, self.collection_key, ref['id'], 'inherited_to_projects'], status_code=204) self.manager.revoke(role=ref['id'], project=project_id, user=user_id, inherited=True) def test_project_group_role_revoke_inherited(self): group_id = uuid.uuid4().hex project_id = uuid.uuid4().hex ref = self.new_ref() self.stub_url('DELETE', ['OS-INHERIT', 'projects', project_id, 'groups', group_id, self.collection_key, ref['id'], 'inherited_to_projects'], status_code=204) self.manager.revoke(role=ref['id'], project=project_id, group=group_id, inherited=True) ",,111,2
openstack%2Fpython-keystoneclient~master~I0422b11bb4a9d28baa4c3ef8c81b43972c1766d0,openstack/python-keystoneclient,master,I0422b11bb4a9d28baa4c3ef8c81b43972c1766d0,[WIP] Add template hacks to identity plugins,ABANDONED,2014-08-08 03:07:21.000000000,2014-12-15 22:03:49.000000000,,"[{'_account_id': 3}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-08-08 03:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/83458088cbe4a1307a4ac2dd98a6d914f05cece4', 'message': ""[WIP] Add template hacks to identity plugins\n\nSo the dependant patch is able to replace any part of a URL to make it\nsuitable for discovery. That is the teardown phase.\n\nThis is the reverse. For some URLs eg compute, swift etc there is a\ntenant_id as part of the URL. Therefore after we've done discovery and\ngotten the base versioned URL we need to be able to add back some\ninformation to the URL.\n\nI can't quite put my finger on it but something smells off here. It\nfeels like there should be more connection between the removal and\naddition back process, but i can't see why.\n\nChange-Id: I0422b11bb4a9d28baa4c3ef8c81b43972c1766d0\n""}, {'number': 2, 'created': '2014-08-26 04:07:20.000000000', 'files': ['keystoneclient/tests/auth/test_identity_common.py', 'keystoneclient/auth/identity/base.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1b436651e61f08d5c380854debf8d2485403eddd', 'message': ""[WIP] Add template hacks to identity plugins\n\nSo the dependant patch is able to replace any part of a URL to make it\nsuitable for discovery. That is the teardown phase.\n\nThis is the reverse. For some URLs eg compute, swift etc there is a\ntenant_id as part of the URL. Therefore after we've done discovery and\ngotten the base versioned URL we need to be able to add back some\ninformation to the URL.\n\nI can't quite put my finger on it but something smells off here. It\nfeels like there should be more connection between the removal and\naddition back process, but i can't see why.\n\nChange-Id: I0422b11bb4a9d28baa4c3ef8c81b43972c1766d0\n""}]",0,112752,1b436651e61f08d5c380854debf8d2485403eddd,9,2,2,7191,,,0,"[WIP] Add template hacks to identity plugins

So the dependant patch is able to replace any part of a URL to make it
suitable for discovery. That is the teardown phase.

This is the reverse. For some URLs eg compute, swift etc there is a
tenant_id as part of the URL. Therefore after we've done discovery and
gotten the base versioned URL we need to be able to add back some
information to the URL.

I can't quite put my finger on it but something smells off here. It
feels like there should be more connection between the removal and
addition back process, but i can't see why.

Change-Id: I0422b11bb4a9d28baa4c3ef8c81b43972c1766d0
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/52/112752/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/auth/test_identity_common.py', 'keystoneclient/auth/identity/base.py']",2,83458088cbe4a1307a4ac2dd98a6d914f05cece4,isolate-then-hack," self._template_data = {} def add_template_hack(self, service_type, version, template): version = _discover.normalize_version_number(version) hacks = self._template_data.setdefault(service_type, []) hacks.append((version, template.lstrip('/'))) def get_template_hack(self, service_type, version, url): version = _discover.normalize_version_number(version) for ver, template in self._template_data.get(service_type, []): if _discover.version_match(ver, version): return '%s/%s' % (url.rstrip('/'), template) def add_catalog_template_hack(service_type, version, template): BaseIdentityPlugin._VERSION_HACKS.add_template_hack(service_type, version, template) new_url = disc.url_for(version) templated_url = self._VERSION_HACKS.get_template_hack(service_type, version, new_url) if templated_url: new_url = templated_url % {'project_id': acc.project_id} return new_url", return disc.url_for(version),76,1
openstack%2Fpython-keystoneclient~master~Id39d61104e1809bb64d9a8bb58d3c4cf6d6eb1b0,openstack/python-keystoneclient,master,Id39d61104e1809bb64d9a8bb58d3c4cf6d6eb1b0,Add get_auth_plugin_name function,ABANDONED,2014-08-04 07:49:25.000000000,2014-12-15 22:03:42.000000000,,"[{'_account_id': 3}, {'_account_id': 5707}, {'_account_id': 7191}]","[{'number': 1, 'created': '2014-08-04 07:49:25.000000000', 'files': ['keystoneclient/auth/conf.py', 'keystoneclient/auth/__init__.py', 'keystoneclient/tests/auth/test_conf.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9e7140552cdafe7a8836d5b91f043584dd154396', 'message': 'Add get_auth_plugin_name function\n\nAdd a function to make it easier to determine the auth plugin name from\na config file. This is possibly complicated as you can specify a\ndifferent group to retrieve the option from.\n\nChange-Id: Id39d61104e1809bb64d9a8bb58d3c4cf6d6eb1b0\n'}]",1,111665,9e7140552cdafe7a8836d5b91f043584dd154396,6,3,1,7191,,,0,"Add get_auth_plugin_name function

Add a function to make it easier to determine the auth plugin name from
a config file. This is possibly complicated as you can specify a
different group to retrieve the option from.

Change-Id: Id39d61104e1809bb64d9a8bb58d3c4cf6d6eb1b0
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/65/111665/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/auth/conf.py', 'keystoneclient/auth/__init__.py', 'keystoneclient/tests/auth/test_conf.py']",3,9e7140552cdafe7a8836d5b91f043584dd154396,get_auth_plugin_name," def test_get_auth_plugin_name_direct(self): plugin = uuid.uuid4().hex group = uuid.uuid4().hex conf.register_conf_options(self.conf_fixture.conf, group=group) self.conf_fixture.config(auth_plugin=plugin, group=group) new_plugin = conf.get_auth_plugin_name(self.conf_fixture.conf, group) self.assertEqual(plugin, new_plugin) def test_get_auth_plugin_name_section(self): plugin = uuid.uuid4().hex section = uuid.uuid4().hex group = uuid.uuid4().hex conf.register_conf_options(self.conf_fixture.conf, group=group) conf.register_conf_options(self.conf_fixture.conf, group=section) self.conf_fixture.config(auth_section=section, group=group) self.conf_fixture.config(auth_plugin=plugin, group=section) new_plugin = conf.get_auth_plugin_name(self.conf_fixture.conf, group) self.assertEqual(plugin, new_plugin)",,40,0
openstack%2Fpython-keystoneclient~master~Ie3741f3d7085b86ba682cbafedca6449c707ddd4,openstack/python-keystoneclient,master,Ie3741f3d7085b86ba682cbafedca6449c707ddd4,Escape strings in URLs,ABANDONED,2014-01-11 21:34:58.000000000,2014-12-15 22:03:19.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-01-11 21:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6206182d708172c4629239e6d63eb88324b9c2cc', 'message': ""Escape strings in URLs\n\nThe client could potentially generate invalid URLs because it\nwasn't escaping special characters. This change makes it so that\nthe values put into URLs are escaped.\n\nChange-Id: Ie3741f3d7085b86ba682cbafedca6449c707ddd4\n""}, {'number': 2, 'created': '2014-04-27 23:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f75757f8ba03fd00255af2c28654b6efa0a63634', 'message': ""Escape strings in URLs\n\nThe client could potentially generate invalid URLs because it\nwasn't escaping special characters. This change makes it so that\nthe values put into URLs are escaped.\n\nChange-Id: Ie3741f3d7085b86ba682cbafedca6449c707ddd4\n""}, {'number': 3, 'created': '2014-05-30 21:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/898ce10907598f7f4c3732e11ba2571d4c30a7f5', 'message': ""Escape strings in URLs\n\nThe client could potentially generate invalid URLs because it\nwasn't escaping special characters. This change makes it so that\nthe values put into URLs are escaped.\n\nChange-Id: Ie3741f3d7085b86ba682cbafedca6449c707ddd4\n""}, {'number': 4, 'created': '2014-06-02 14:00:06.000000000', 'files': ['keystoneclient/v2_0/users.py', 'keystoneclient/base.py', 'keystoneclient/v2_0/ec2.py', 'keystoneclient/v2_0/tenants.py', 'keystoneclient/v3/groups.py', 'keystoneclient/v2_0/services.py', 'keystoneclient/v3/users.py', 'keystoneclient/v2_0/tokens.py', 'keystoneclient/v2_0/endpoints.py', 'keystoneclient/v3/projects.py', 'keystoneclient/v2_0/roles.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/49b6a5195b01b3cbbb55383675d0cdfc272f4751', 'message': ""Escape strings in URLs\n\nThe client could potentially generate invalid URLs because it\nwasn't escaping special characters. This change makes it so that\nthe values put into URLs are escaped.\n\nChange-Id: Ie3741f3d7085b86ba682cbafedca6449c707ddd4\n""}]",12,66137,49b6a5195b01b3cbbb55383675d0cdfc272f4751,53,9,4,6486,,,0,"Escape strings in URLs

The client could potentially generate invalid URLs because it
wasn't escaping special characters. This change makes it so that
the values put into URLs are escaped.

Change-Id: Ie3741f3d7085b86ba682cbafedca6449c707ddd4
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/37/66137/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/v2_0/users.py', 'keystoneclient/base.py', 'keystoneclient/v2_0/ec2.py', 'keystoneclient/v2_0/tenants.py', 'keystoneclient/v2_0/services.py', 'keystoneclient/v3/groups.py', 'keystoneclient/v3/users.py', 'keystoneclient/v2_0/tokens.py', 'keystoneclient/v2_0/endpoints.py', 'keystoneclient/v2_0/roles.py', 'keystoneclient/v3/projects.py']",11,6206182d708172c4629239e6d63eb88324b9c2cc,escape_url, base_url = ('/users/%s' % base.url_quote(base.getid(user)) if user else None), base_url = '/users/%s' % base.getid(user) if user else None,66,45
openstack%2Fpython-keystoneclient~master~I3816ba5094fdb0685bd5d5324d5a3427d67b13c2,openstack/python-keystoneclient,master,I3816ba5094fdb0685bd5d5324d5a3427d67b13c2,auth_token accepts un-signed revocation list,ABANDONED,2014-05-07 23:20:25.000000000,2014-12-15 22:03:09.000000000,,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-05-07 23:20:25.000000000', 'files': ['keystoneclient/tests/test_auth_token_middleware.py', 'keystoneclient/middleware/auth_token.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e492837ad9dd51c754447cca9ec8693c9a23039d', 'message': ""auth_token accepts un-signed revocation list\n\nThe auth_token middleware accepted a revocation list that was\nencoded as a JSON object with 'signed', where 'signed' was the\nrevocation encoded with CMS. This required that the auth_token\nmiddleware was able to fetch the PKI certificates from the server.\n\nWith this change, the auth_token middleware will also accept a\nrevocation list that's not signed. If the revocation list isn't\nsigned then the middleware won't need the PKI certificates from\nthe server.\n\nChange-Id: I3816ba5094fdb0685bd5d5324d5a3427d67b13c2\nCloses-Bug: #1317302\n""}]",0,92726,e492837ad9dd51c754447cca9ec8693c9a23039d,14,3,1,6486,,,0,"auth_token accepts un-signed revocation list

The auth_token middleware accepted a revocation list that was
encoded as a JSON object with 'signed', where 'signed' was the
revocation encoded with CMS. This required that the auth_token
middleware was able to fetch the PKI certificates from the server.

With this change, the auth_token middleware will also accept a
revocation list that's not signed. If the revocation list isn't
signed then the middleware won't need the PKI certificates from
the server.

Change-Id: I3816ba5094fdb0685bd5d5324d5a3427d67b13c2
Closes-Bug: #1317302
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/26/92726/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/test_auth_token_middleware.py', 'keystoneclient/middleware/auth_token.py']",2,e492837ad9dd51c754447cca9ec8693c9a23039d,bug/1317302, if 'revoked' not in data: raise ServiceError('Revocation list improperly formatted.') return jsonutils.dumps(data), raise ServiceError('Revocation list improperly formatted.'),20,1
openstack%2Fpython-keystoneclient~master~Ic5e0d5e49ac36981054f5d24601609f071b79f13,openstack/python-keystoneclient,master,Ic5e0d5e49ac36981054f5d24601609f071b79f13,Fix defaults in the service manager,ABANDONED,2014-05-11 23:36:45.000000000,2014-12-15 22:02:59.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 11045}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-05-11 23:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d1b77ef3830adeeba5f8e7bc7cbefd11893e2b15', 'message': 'Match default to the CLI\n\nThe create method of the ServiceManager class of the client is missing the\ndefault for the description parameter, unlike the service-create command of\nthe CLI.\n\nThe client should be changed to use the same default as the CLI.\n\nChange-Id: Ic5e0d5e49ac36981054f5d24601609f071b79f13\nCloses-Bug: #1318438\n'}, {'number': 2, 'created': '2014-05-11 23:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a1ac9c9650b392f430fa7ddf05a5279a9ec76a52', 'message': 'Match default in the ServiceManager class to the CLI\n\nThe create method of the ServiceManager class of the client is missing the\ndefault for the description parameter, unlike the service-create command of\nthe CLI.\n\nThe client should be changed to use the same default as the CLI.\n\nChange-Id: Ic5e0d5e49ac36981054f5d24601609f071b79f13\nCloses-Bug: #1318438\n'}, {'number': 3, 'created': '2014-05-12 01:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/817d967c2b004ce182513ebe0939bc1b66f4d06c', 'message': 'Fix default in the service manager\n\nThe create method of the ServiceManager class of the client is missing the\ndefault for the description parameter, unlike the service-create command of\nthe CLI.\n\nThe client should be changed to use the same default as the CLI.\n\nChange-Id: Ic5e0d5e49ac36981054f5d24601609f071b79f13\nCloses-Bug: #1318438\n'}, {'number': 4, 'created': '2014-05-12 01:52:02.000000000', 'files': ['keystoneclient/v2_0/services.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/20fca0f5e59dc380a809d59c3c03fa31a504c102', 'message': 'Fix defaults in the service manager\n\nThe create method of the ServiceManager class of the client is missing the\ndefault for the description parameter, unlike the service-create command of\nthe CLI.\n\nThe client should be changed to use the same default as the CLI.\n\nChange-Id: Ic5e0d5e49ac36981054f5d24601609f071b79f13\nCloses-Bug: #1318438\n'}]",0,93244,20fca0f5e59dc380a809d59c3c03fa31a504c102,23,7,4,10245,,,0,"Fix defaults in the service manager

The create method of the ServiceManager class of the client is missing the
default for the description parameter, unlike the service-create command of
the CLI.

The client should be changed to use the same default as the CLI.

Change-Id: Ic5e0d5e49ac36981054f5d24601609f071b79f13
Closes-Bug: #1318438
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/44/93244/4 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/v2_0/services.py'],1,d1b77ef3830adeeba5f8e7bc7cbefd11893e2b15,bug/1318438," def create(self, name, service_type, description=None):"," def create(self, name, service_type, description):",1,1
openstack%2Fpython-keystoneclient~master~I885bcc6fedeaa42bc93389642bd800d737ec96ac,openstack/python-keystoneclient,master,I885bcc6fedeaa42bc93389642bd800d737ec96ac,revocation_events script,ABANDONED,2014-05-02 20:44:41.000000000,2014-12-15 22:02:45.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 11387}]","[{'number': 1, 'created': '2014-05-02 20:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/82545aecc3b2a177fc7813ce1e5472e3ac279579', 'message': 'revocation_events script\n\nSample script that calls APIs that generate revocation_events\nand calls the revocation_events API\n\nChange-Id: I885bcc6fedeaa42bc93389642bd800d737ec96ac\n'}, {'number': 2, 'created': '2014-05-02 23:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/bb2c9ea463c77b28f59b5a2423224be95ca07a91', 'message': 'revocation_events script\n\nSample script that calls APIs that generate revocation_events\nand calls the revocation_events API\n\nChange-Id: I885bcc6fedeaa42bc93389642bd800d737ec96ac\n'}, {'number': 3, 'created': '2014-05-07 03:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/28c6761c640211fda452fa0ad34c68e13b30520b', 'message': 'revocation_events script\n\nSample script that calls APIs that generate revocation_events\nand calls the revocation_events API\n\nChange-Id: I885bcc6fedeaa42bc93389642bd800d737ec96ac\n'}, {'number': 4, 'created': '2014-05-09 02:36:54.000000000', 'files': ['examples/scripts/revocation_events.py', 'examples/scripts/README.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6107e4973ba6658c09ce77f5fd92bfe2cbca95ab', 'message': 'revocation_events script\n\nSample script that calls APIs that generate revocation_events\nand calls the revocation_events API\n\nChange-Id: I885bcc6fedeaa42bc93389642bd800d737ec96ac\n'}]",3,91895,6107e4973ba6658c09ce77f5fd92bfe2cbca95ab,22,5,4,2218,,,0,"revocation_events script

Sample script that calls APIs that generate revocation_events
and calls the revocation_events API

Change-Id: I885bcc6fedeaa42bc93389642bd800d737ec96ac
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/95/91895/4 && git format-patch -1 --stdout FETCH_HEAD,"['examples/scripts/revocation_events.py', 'examples/scripts/README.txt']",2,82545aecc3b2a177fc7813ce1e5472e3ac279579,revocation_events_script,revocation_events.py Exercises the APIs that generate revocation evens. ,,3,3
openstack%2Fdesignate~master~Icde2f6f52d6b72162805424434ebbd458c0af10b,openstack/designate,master,Icde2f6f52d6b72162805424434ebbd458c0af10b,Changed oslo.messaging's default log level,MERGED,2014-12-15 19:58:41.000000000,2014-12-15 21:59:16.000000000,2014-12-15 21:59:15.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}]","[{'number': 1, 'created': '2014-12-15 19:58:41.000000000', 'files': ['designate/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1f046a25135efac9e070858d20a56eae84edf9ec', 'message': ""Changed oslo.messaging's default log level\n\nMoved the default log level for oslo.messaging to WARN,\nreducing the amount of cluter in the logs\n\nChange-Id: Icde2f6f52d6b72162805424434ebbd458c0af10b\n""}]",0,141889,1f046a25135efac9e070858d20a56eae84edf9ec,7,3,1,8099,,,0,"Changed oslo.messaging's default log level

Moved the default log level for oslo.messaging to WARN,
reducing the amount of cluter in the logs

Change-Id: Icde2f6f52d6b72162805424434ebbd458c0af10b
",git fetch https://review.opendev.org/openstack/designate refs/changes/89/141889/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/__init__.py'],1,1f046a25135efac9e070858d20a56eae84edf9ec,," 'keystonemiddleware.auth_token=INFO', 'oslo.messaging=WARN'])", 'keystonemiddleware.auth_token=INFO']),2,1
openstack%2Fdesignate~master~I1bf5f91afa1262d73acb0e494c42bdc8166f8195,openstack/designate,master,I1bf5f91afa1262d73acb0e494c42bdc8166f8195,Convert PowerDNS to a Pools Backend,MERGED,2014-12-11 21:14:45.000000000,2014-12-15 21:59:09.000000000,2014-12-15 21:59:08.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-11 21:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bd4f204ee880d5cf40c7d54a344269fcc7a08b47', 'message': 'WIP: Convert PowerDNS to Pools\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 2, 'created': '2014-12-12 09:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/96e2199eab0d519072f969150b3ac34ee6d6bb91', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 3, 'created': '2014-12-12 11:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/77aba1147fd5b428ff06ffe716cd69eb46a56558', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 4, 'created': '2014-12-12 12:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/32f80df92d5c1c27a68b345b12a3dac69e3931b4', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 5, 'created': '2014-12-12 12:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/53cfc0832352f404d6d89da0eb32fc3e19ef9619', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 6, 'created': '2014-12-12 12:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/48983c5f8acf2d7c5c70206a08dc22c8ea9c97bb', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 7, 'created': '2014-12-12 13:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f78885370484cfffb885b35b6e7d9c3b8662259c', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 8, 'created': '2014-12-12 13:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cab2513c3798ef604cf655c730717a1a02c437ab', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}, {'number': 9, 'created': '2014-12-15 14:30:54.000000000', 'files': ['contrib/devstack/gate_hook.sh', 'contrib/devstack/lib/designate_plugins/backend-powerdns', 'designate/manage/powerdns_mdns.py', 'designate/backend/impl_powerdns_mdns/tables.py', 'designate/backend/impl_powerdns_mdns/__init__.py', 'designate/tests/test_backend/test_backends.py', 'designate/tests/test_backend/test_powerdns.py', 'designate/backend/impl_powerdns/tables.py', 'designate/backend/impl_powerdns/__init__.py', 'contrib/devstack/lib/designate_plugins/backend-powerdns_mdns', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/9b7a253460698ad5ddfc075c06b3613f6804ef59', 'message': 'Convert PowerDNS to a Pools Backend\n\nChange-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195\nBlueprint: transition-powerdns-to-pools\n'}]",9,141167,9b7a253460698ad5ddfc075c06b3613f6804ef59,31,6,9,741,,,0,"Convert PowerDNS to a Pools Backend

Change-Id: I1bf5f91afa1262d73acb0e494c42bdc8166f8195
Blueprint: transition-powerdns-to-pools
",git fetch https://review.opendev.org/openstack/designate refs/changes/67/141167/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/manage/powerdns_mdns.py', 'designate/backend/impl_powerdns_mdns/__init__.py', 'designate/tests/test_backend/test_powerdns.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/manage/powerdns.py', 'contrib/devstack/lib/designate_plugins/backend-powerdns_mdns', 'contrib/devstack/gate_hook.sh', 'contrib/devstack/lib/designate_plugins/backend-powerdns', 'designate/backend/impl_powerdns_mdns/tables.py', 'designate/tests/test_backend/test_backends.py', 'designate/backend/impl_powerdns/tables.py', 'setup.cfg']",12,bd4f204ee880d5cf40c7d54a344269fcc7a08b47,bp/transition-powerdns-to-pools,, powerdns_mdns = designate.backend.impl_powerdns_mdns:PowerDNSMDNSBackend powerdns-mdns = designate.manage.powerdns_mdns:DatabaseCommands,77,902
openstack%2Fkeystone~master~Ia5db5f4eea0cf1d27c33535bc291351c22dff72b,openstack/keystone,master,Ia5db5f4eea0cf1d27c33535bc291351c22dff72b,Migrate keystone to use  v3 policy file,ABANDONED,2014-10-06 05:34:50.000000000,2014-12-15 21:59:03.000000000,,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 9098}]","[{'number': 1, 'created': '2014-10-06 05:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/752f5ff1477fa6d5fafe7a9421a447876e4e368b', 'message': 'Allow v3 policy file\n\nChange-Id: Ia5db5f4eea0cf1d27c33535bc291351c22dff72b\n'}, {'number': 2, 'created': '2014-10-06 17:56:00.000000000', 'files': ['keystone/common/authorization.py', 'etc/policy.onlyadminrole.json', 'etc/policy.v3cloudsample.json', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d12f5a53edd6e3696608c533f59e3a96cc8ce2a7', 'message': 'Migrate keystone to use  v3 policy file\n\nKeystone default policy file which has only admin role. This\npatch allows keystone to migrate to v3 policy file.\n\nThis patch set changes ""cloud admin"" domain to ""default"" domain\nKeystone v2 doesn\'t have domain scoped token. So if you get a\nv2 project scoped token, then it is treaated as equivalent to\n""default"" domain scoped token. Otherwise v2 clients won\'t work.\n\nThis patchset is fully backward compatible. (i.e) existing v2\nclients will work without any change.  At the same time v3 clients\nshould get ""domain scoped"" token to invoke identity operation\n\nChange-Id: Ia5db5f4eea0cf1d27c33535bc291351c22dff72b\n'}]",1,126217,d12f5a53edd6e3696608c533f59e3a96cc8ce2a7,8,3,2,220,,,0,"Migrate keystone to use  v3 policy file

Keystone default policy file which has only admin role. This
patch allows keystone to migrate to v3 policy file.

This patch set changes ""cloud admin"" domain to ""default"" domain
Keystone v2 doesn't have domain scoped token. So if you get a
v2 project scoped token, then it is treaated as equivalent to
""default"" domain scoped token. Otherwise v2 clients won't work.

This patchset is fully backward compatible. (i.e) existing v2
clients will work without any change.  At the same time v3 clients
should get ""domain scoped"" token to invoke identity operation

Change-Id: Ia5db5f4eea0cf1d27c33535bc291351c22dff72b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/17/126217/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/authorization.py', 'etc/policy.onlyadminrole.json', 'etc/policy.v3cloudsample.json', 'etc/policy.json']",4,752f5ff1477fa6d5fafe7a9421a447876e4e368b,V3Policy," ""admin_required"": ""role:admin"", ""cloud_admin"": ""rule:admin_required and domain_id:default"", ""owner"" : ""user_id:%(user_id)s or user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_or_cloud_admin"": ""rule:admin_required or rule:cloud_admin"", ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"", ""identity:create_region"": ""rule:admin_or_cloud_admin"", ""identity:update_region"": ""rule:admin_or_cloud_admin"", ""identity:delete_region"": ""rule:admin_or_cloud_admin"", ""identity:get_service"": ""rule:admin_or_cloud_admin"", ""identity:list_services"": ""rule:admin_or_cloud_admin"", ""identity:create_service"": ""rule:cloud_admin"", ""identity:update_service"": ""rule:cloud_admin"", ""identity:delete_service"": ""rule:cloud_admin"", ""identity:get_endpoint"": ""rule:admin_or_cloud_admin"", ""identity:list_endpoints"": ""rule:admin_or_cloud_admin"", ""identity:create_endpoint"": ""rule:cloud_admin"", ""identity:update_endpoint"": ""rule:cloud_admin"", ""identity:delete_endpoint"": ""rule:cloud_admin"", ""identity:get_domain"": ""rule:cloud_admin"", ""identity:list_domains"": ""rule:cloud_admin"", ""identity:create_domain"": ""rule:cloud_admin"", ""identity:update_domain"": ""rule:cloud_admin"", ""identity:delete_domain"": ""rule:cloud_admin"", ""admin_and_matching_target_project_domain_id"": ""rule:admin_required and domain_id:%(target.project.domain_id)s"", ""admin_and_matching_project_domain_id"": ""rule:admin_required and domain_id:%(project.domain_id)s"", ""identity:get_project"": ""rule:cloud_admin or rule:admin_and_matching_target_project_domain_id"", ""identity:list_projects"": ""rule:admin_required and domain_id:%(domain_id)s"", ""identity:list_user_projects"": ""rule:owner or rule:admin_and_matching_domain_id"", ""identity:create_project"": ""rule:cloud_admin or rule:admin_and_matching_project_domain_id"", ""identity:update_project"": ""rule:cloud_admin or rule:admin_and_matching_target_project_domain_id"", ""identity:delete_project"": ""rule:cloud_admin or rule:admin_and_matching_target_project_domain_id"", ""admin_and_matching_target_user_domain_id"": ""rule:admin_required and domain_id:%(target.user.domain_id)s"", ""admin_and_matching_user_domain_id"": ""rule:admin_required and domain_id:%(user.domain_id)s"", ""identity:get_user"": ""rule:cloud_admin or rule:admin_and_matching_target_user_domain_id"", ""identity:list_users"": ""rule:cloud_admin or rule:admin_and_matching_domain_id"", ""identity:create_user"": ""rule:cloud_admin or rule:admin_and_matching_user_domain_id"", ""identity:update_user"": ""rule:cloud_admin or rule:admin_and_matching_target_user_domain_id"", ""identity:delete_user"": ""rule:cloud_admin or rule:admin_and_matching_target_user_domain_id"", ""admin_and_matching_target_group_domain_id"": ""rule:admin_required and domain_id:%(target.group.domain_id)s"", ""admin_and_matching_group_domain_id"": ""rule:admin_required and domain_id:%(group.domain_id)s"", ""identity:get_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:list_groups"": ""rule:cloud_admin or rule:admin_and_matching_domain_id"", ""identity:list_groups_for_user"": ""rule:owner or (rule:admin_required and domain_id:%(domain_id)s)"", ""identity:create_group"": ""rule:cloud_admin or rule:admin_and_matching_group_domain_id"", ""identity:update_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:delete_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:list_users_in_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:remove_user_from_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:check_user_in_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:add_user_to_group"": ""rule:cloud_admin or rule:admin_and_matching_target_group_domain_id"", ""identity:list_credentials"": ""rule:admin_required or user_id:%(user_id)s"", ""identity:ec2_get_credential"": ""rule:admin_or_cloud_admin or rule:owner"", ""identity:ec2_list_credentials"": ""rule:admin_or_cloud_admin or rule:owner"", ""identity:ec2_create_credential"": ""rule:admin_or_cloud_admin or rule:owner"", ""identity:ec2_delete_credential"": ""(rule:admin_or_cloud_admin or rule:owner) or (rule:owner and user_id:%(target.credential.user_id)s)"", ""identity:get_role"": ""rule:admin_or_cloud_admin"", ""identity:list_roles"": ""rule:admin_or_cloud_admin"", ""identity:create_role"": ""rule:cloud_admin"", ""identity:update_role"": ""rule:cloud_admin"", ""identity:delete_role"": ""rule:cloud_admin"", ""domain_admin_for_grants"": ""rule:admin_required and (domain_id:%(domain_id)s or domain_id:%(target.project.domain_id)s)"", ""project_admin_for_grants"": ""rule:admin_required and project_id:%(project_id)s"", ""identity:check_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:list_grants"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:create_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:revoke_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""admin_on_domain_filter"" : ""rule:cloud_admin or (rule:admin_required and domain_id:%(scope.domain.id)s)"", ""admin_on_project_filter"" : ""rule:cloud_admin or (rule:admin_required and project_id:%(scope.project.id)s)"", ""identity:list_role_assignments"": ""rule:admin_on_domain_filter or rule:admin_on_project_filter"", ""identity:get_policy"": ""rule:cloud_admin"", ""identity:list_policies"": ""rule:cloud_admin"", ""identity:create_policy"": ""rule:cloud_admin"", ""identity:update_policy"": ""rule:cloud_admin"", ""identity:delete_policy"": ""rule:cloud_admin"", ""identity:change_password"": ""rule:owner"", ""identity:check_token"": ""rule:admin_or_owner"", ""identity:create_policy_association_for_endpoint"": ""rule:cloud_admin"", ""identity:check_policy_association_for_endpoint"": ""rule:cloud_admin"", ""identity:delete_policy_association_for_endpoint"": ""rule:cloud_admin"", ""identity:create_policy_association_for_service"": ""rule:cloud_admin"", ""identity:check_policy_association_for_service"": ""rule:cloud_admin"", ""identity:delete_policy_association_for_service"": ""rule:cloud_admin"", ""identity:create_policy_association_for_region_and_service"": ""rule:cloud_admin"", ""identity:check_policy_association_for_region_and_service"": ""rule:cloud_admin"", ""identity:delete_policy_association_for_region_and_service"": ""rule:cloud_admin"", ""identity:get_policy_for_endpoint"": ""rule:cloud_admin"", ""identity:list_endpoints_for_policy"": ""rule:cloud_admin"""," ""admin_required"": ""role:admin or is_admin:1"", ""owner"" : ""user_id:%(user_id)s"", ""admin_or_owner"": ""rule:admin_required or rule:owner"", ""identity:create_region"": ""rule:admin_required"", ""identity:update_region"": ""rule:admin_required"", ""identity:delete_region"": ""rule:admin_required"", ""identity:get_service"": ""rule:admin_required"", ""identity:list_services"": ""rule:admin_required"", ""identity:create_service"": ""rule:admin_required"", ""identity:update_service"": ""rule:admin_required"", ""identity:delete_service"": ""rule:admin_required"", ""identity:get_endpoint"": ""rule:admin_required"", ""identity:list_endpoints"": ""rule:admin_required"", ""identity:create_endpoint"": ""rule:admin_required"", ""identity:update_endpoint"": ""rule:admin_required"", ""identity:delete_endpoint"": ""rule:admin_required"", ""identity:get_domain"": ""rule:admin_required"", ""identity:list_domains"": ""rule:admin_required"", ""identity:create_domain"": ""rule:admin_required"", ""identity:update_domain"": ""rule:admin_required"", ""identity:delete_domain"": ""rule:admin_required"", ""identity:get_project"": ""rule:admin_required"", ""identity:list_projects"": ""rule:admin_required"", ""identity:list_user_projects"": ""rule:admin_or_owner"", ""identity:create_project"": ""rule:admin_required"", ""identity:update_project"": ""rule:admin_required"", ""identity:delete_project"": ""rule:admin_required"", ""identity:get_user"": ""rule:admin_required"", ""identity:list_users"": ""rule:admin_required"", ""identity:create_user"": ""rule:admin_required"", ""identity:update_user"": ""rule:admin_required"", ""identity:delete_user"": ""rule:admin_required"", ""identity:change_password"": ""rule:admin_or_owner"", ""identity:get_group"": ""rule:admin_required"", ""identity:list_groups"": ""rule:admin_required"", ""identity:list_groups_for_user"": ""rule:admin_or_owner"", ""identity:create_group"": ""rule:admin_required"", ""identity:update_group"": ""rule:admin_required"", ""identity:delete_group"": ""rule:admin_required"", ""identity:list_users_in_group"": ""rule:admin_required"", ""identity:remove_user_from_group"": ""rule:admin_required"", ""identity:check_user_in_group"": ""rule:admin_required"", ""identity:add_user_to_group"": ""rule:admin_required"", ""identity:list_credentials"": ""rule:admin_required"", ""identity:ec2_get_credential"": ""rule:admin_or_owner"", ""identity:ec2_list_credentials"": ""rule:admin_or_owner"", ""identity:ec2_create_credential"": ""rule:admin_or_owner"", ""identity:ec2_delete_credential"": ""rule:admin_required or (rule:owner and user_id:%(target.credential.user_id)s)"", ""identity:get_role"": ""rule:admin_required"", ""identity:list_roles"": ""rule:admin_required"", ""identity:create_role"": ""rule:admin_required"", ""identity:update_role"": ""rule:admin_required"", ""identity:delete_role"": ""rule:admin_required"", ""identity:check_grant"": ""rule:admin_required"", ""identity:list_grants"": ""rule:admin_required"", ""identity:create_grant"": ""rule:admin_required"", ""identity:revoke_grant"": ""rule:admin_required"", ""identity:list_role_assignments"": ""rule:admin_required"", ""identity:get_policy"": ""rule:admin_required"", ""identity:list_policies"": ""rule:admin_required"", ""identity:create_policy"": ""rule:admin_required"", ""identity:update_policy"": ""rule:admin_required"", ""identity:delete_policy"": ""rule:admin_required"", ""identity:check_token"": ""rule:admin_required"", ""identity:create_policy_association_for_endpoint"": ""rule:admin_required"", ""identity:check_policy_association_for_endpoint"": ""rule:admin_required"", ""identity:delete_policy_association_for_endpoint"": ""rule:admin_required"", ""identity:create_policy_association_for_service"": ""rule:admin_required"", ""identity:check_policy_association_for_service"": ""rule:admin_required"", ""identity:delete_policy_association_for_service"": ""rule:admin_required"", ""identity:create_policy_association_for_region_and_service"": ""rule:admin_required"", ""identity:check_policy_association_for_region_and_service"": ""rule:admin_required"", ""identity:delete_policy_association_for_region_and_service"": ""rule:admin_required"", ""identity:get_policy_for_endpoint"": ""rule:admin_required"", ""identity:list_endpoints_for_policy"": ""rule:admin_required""",264,259
openstack%2Fkeystone~master~I25d4b8161fa24bef9a7e111b9b3c328d52735fc0,openstack/keystone,master,I25d4b8161fa24bef9a7e111b9b3c328d52735fc0,Change all used passwords/secrets to 'secretsecret' and 'secrete_token' to 'secret_token',ABANDONED,2014-09-09 07:58:50.000000000,2014-12-15 21:58:51.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 167}, {'_account_id': 6482}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-09-09 07:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a1929ec99b1cba2dc6b4b73929ee5c2d84ce7c2b', 'message': ""Change 'secrete' to 'secret'\n\nRemoval of a spelling error.\n\nChange-Id: I25d4b8161fa24bef9a7e111b9b3c328d52735fc0\n""}, {'number': 2, 'created': '2014-10-06 08:48:17.000000000', 'files': ['doc/source/configuration.rst', 'doc/source/api_curl_examples.rst', 'keystone/auth/core.py', 'doc/source/cli_examples.rst', 'tools/sample_data.sh'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5570d87dd2b8ed14e7d0984b225f8920c37dca5', 'message': ""Change all used passwords/secrets to 'secretsecret' and 'secrete_token' to 'secret_token'\n\nChange-Id: I25d4b8161fa24bef9a7e111b9b3c328d52735fc0\n""}]",0,120031,b5570d87dd2b8ed14e7d0984b225f8920c37dca5,12,5,2,167,,,0,"Change all used passwords/secrets to 'secretsecret' and 'secrete_token' to 'secret_token'

Change-Id: I25d4b8161fa24bef9a7e111b9b3c328d52735fc0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/31/120031/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration.rst', 'doc/source/api_curl_examples.rst', 'keystone/auth/core.py', 'tools/sample_data.sh']",4,a1929ec99b1cba2dc6b4b73929ee5c2d84ce7c2b,secrete_to_secret,ADMIN_PASSWORD=${ADMIN_PASSWORD:-secret},ADMIN_PASSWORD=${ADMIN_PASSWORD:-secrete},10,10
openstack%2Fkeystone~master~I8f2948fb3c4f673aeb489ec13aa74a9b75db9054,openstack/keystone,master,I8f2948fb3c4f673aeb489ec13aa74a9b75db9054,Add sample of rally plugin,ABANDONED,2014-06-09 16:55:51.000000000,2014-12-15 21:58:13.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 220}, {'_account_id': 792}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6172}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 9751}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-06-09 16:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd0eb3b5368057715db3628bd151473d83c8246b', 'message': 'Add rally plugins support\n\nChange-Id: I8f2948fb3c4f673aeb489ec13aa74a9b75db9054\n'}, {'number': 2, 'created': '2014-06-10 11:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d063f524e2d6a857e4054e5ff25cc1d8b34a019', 'message': 'Add rally plugins support\n\nChange-Id: I8f2948fb3c4f673aeb489ec13aa74a9b75db9054\n'}, {'number': 3, 'created': '2014-06-13 17:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/15e4c685df4743e5a3d1cab7dc829656cb9e30ef', 'message': ""Add sample of rally plugin\n\nRecently we added support of plugins in Rally, as well as support\nof plugins in gates.\n\nThis patch adds sample of plugin related to keystone in keystone source.\nThis is actually good sample how to make a repidly new plugin by copy/paste/change\nexisting one.\n\nThese plugins are very helpfull for keystone team, cause it won't need to\nmerge anything in rally to get new benchmarks, which will save a lot of time of\nkeystone devs.\n\nIn any case rally team will appreciate if good plugins will be contributed back\nto the rally.\n\nChange-Id: I8f2948fb3c4f673aeb489ec13aa74a9b75db9054\n""}, {'number': 4, 'created': '2014-06-28 21:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/47524317b3c76129330da13865b507ff6a3ac07e', 'message': ""Add sample of rally plugin\n\nRecently we added support of plugins in Rally, as well as support\nof plugins in gates.\n\nThis patch adds sample of plugin related to keystone in keystone source.\nThis is actually good sample how to make a repidly new plugin by copy/paste/change\nexisting one.\n\nThese plugins are very helpfull for keystone team, cause it won't need to\nmerge anything in rally to get new benchmarks, which will save a lot of time of\nkeystone devs.\n\nIn any case rally team will appreciate if good plugins will be contributed back\nto the rally.\n\nChange-Id: I8f2948fb3c4f673aeb489ec13aa74a9b75db9054\n""}, {'number': 5, 'created': '2014-08-24 00:08:51.000000000', 'files': ['rally-scenarios/plugins/plugin_sample.py', 'rally-scenarios/README.rst', 'rally-scenarios/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a697d7e42ea0751239a792580bd1d993e369e7fe', 'message': ""Add sample of rally plugin\n\nRecently we added support of plugins in Rally, as well as support\nof plugins in gates.\n\nThis patch adds sample of plugin related to keystone in keystone source.\nThis is actually good sample how to make a rapidly new plugin by copy/paste/change\nexisting one.\n\nThese plugins are very helpful for keystone team, cause it won't need to\nmerge anything in rally to get new benchmarks, which will save a lot of time of\nkeystone devs.\n\nIn any case rally team will appreciate if good plugins will be contributed back\nto the rally.\n\nChange-Id: I8f2948fb3c4f673aeb489ec13aa74a9b75db9054\n""}]",26,98836,a697d7e42ea0751239a792580bd1d993e369e7fe,52,17,5,6172,,,0,"Add sample of rally plugin

Recently we added support of plugins in Rally, as well as support
of plugins in gates.

This patch adds sample of plugin related to keystone in keystone source.
This is actually good sample how to make a rapidly new plugin by copy/paste/change
existing one.

These plugins are very helpful for keystone team, cause it won't need to
merge anything in rally to get new benchmarks, which will save a lot of time of
keystone devs.

In any case rally team will appreciate if good plugins will be contributed back
to the rally.

Change-Id: I8f2948fb3c4f673aeb489ec13aa74a9b75db9054
",git fetch https://review.opendev.org/openstack/keystone refs/changes/36/98836/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally-scenarios/plugins/plugin_sample.py', 'rally-scenarios/README.rst', 'rally-scenarios/keystone.yaml']",3,dd0eb3b5368057715db3628bd151473d83c8246b,plugin," KeystonePlugin.your_mega_benchmark: - args: name_length: 20 runner: type: ""constant"" times: 50 concurrency: 25",,42,0
openstack%2Fkeystone~master~If0e862b7ba81f92cd0009df1feb37e129c02eb24,openstack/keystone,master,If0e862b7ba81f92cd0009df1feb37e129c02eb24,Identity API server proof of concept (WIP),ABANDONED,2014-08-23 16:15:42.000000000,2014-12-15 21:57:43.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-08-23 16:15:42.000000000', 'files': ['etc/keystone-paste.ini', 'keystone/identity/core.py', 'keystone/common/config.py', 'keystone/identity/controllers.py', 'keystone/service.py', 'keystone/routers.py', 'keystone/controllers.py', 'keystone/identity/routers.py', 'bin/identity-api'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bd33e81644931a7c1b919be96f5bd2dd4ab7d49b', 'message': 'Identity API server proof of concept (WIP)\n\nThe identity server should be split out from the Keystone server\nso that it can evolve on its own or be deprecated in favor of\nfederation.\n\nYou can start it up in devstack, just run it in a separate screen\n\n $ cd /opt/stack/keystone && /opt/stack/keystone/bin/identity-api \\\n     --config-file /etc/keystone/keystone.conf --debug\n\nThe server only supports /v1.0/users:\n\n $ curl http://localhost:35358/v1.0/users\n {""users"": [\n        { ""id"": ""0c6e0c8f22f34e03ad9ed1694b3a3d3d"",\n          ""name"": ""admin""},\n        { ""id"": ""954ffd010b1746eb80a3d89c30cab8eb"",\n          ""name"": ""demo""}\n ]}\n\nChange-Id: If0e862b7ba81f92cd0009df1feb37e129c02eb24\nLimitations: all of them.\n'}]",0,116464,bd33e81644931a7c1b919be96f5bd2dd4ab7d49b,7,3,1,6486,,,0,"Identity API server proof of concept (WIP)

The identity server should be split out from the Keystone server
so that it can evolve on its own or be deprecated in favor of
federation.

You can start it up in devstack, just run it in a separate screen

 $ cd /opt/stack/keystone && /opt/stack/keystone/bin/identity-api \
     --config-file /etc/keystone/keystone.conf --debug

The server only supports /v1.0/users:

 $ curl http://localhost:35358/v1.0/users
 {""users"": [
        { ""id"": ""0c6e0c8f22f34e03ad9ed1694b3a3d3d"",
          ""name"": ""admin""},
        { ""id"": ""954ffd010b1746eb80a3d89c30cab8eb"",
          ""name"": ""demo""}
 ]}

Change-Id: If0e862b7ba81f92cd0009df1feb37e129c02eb24
Limitations: all of them.
",git fetch https://review.opendev.org/openstack/keystone refs/changes/64/116464/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone-paste.ini', 'keystone/identity/core.py', 'keystone/common/config.py', 'keystone/identity/controllers.py', 'keystone/service.py', 'keystone/routers.py', 'keystone/controllers.py', 'keystone/identity/routers.py', 'bin/identity-api']",9,bd33e81644931a7c1b919be96f5bd2dd4ab7d49b,identity-server,"#!/usr/bin/env python # Copyright 2014 IBM Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging import os import socket import sys from oslo import i18n from paste import deploy import pbr.version # If ../keystone/__init__.py exists, add ../ to Python search path, so that # it will override what happens to be installed in /usr/(local/)lib/python... possible_topdir = os.path.normpath(os.path.join(os.path.abspath(__file__), os.pardir, os.pardir)) if os.path.exists(os.path.join(possible_topdir, 'keystone', '__init__.py')): sys.path.insert(0, possible_topdir) # NOTE(dstanek): i18n.enable_lazy() must be called before # keystone.i18n._() is called to ensure it has the desired lazy lookup # behavior. This includes cases, like keystone.exceptions, where # keystone.i18n._() is called at import time. i18n.enable_lazy() from keystone.common import dependency from keystone.common import environment from keystone.common import sql from keystone.common import utils from keystone import config from keystone.i18n import _ from keystone import identity from keystone.openstack.common import service from keystone.openstack.common import systemd CONF = config.CONF class ServerWrapper(object): """"""Wraps a Server with some launching info & capabilities."""""" def __init__(self, server, workers): self.server = server self.workers = workers def launch_with(self, launcher): self.server.listen() if self.workers > 1: # Use multi-process launcher launcher.launch_service(self.server, self.workers) else: # Use single process launcher launcher.launch_service(self.server) def create_server(conf, name, host, port, workers): app = deploy.loadapp('config:%s' % conf, name=name) server = environment.Server(app, host=host, port=port, keepalive=CONF.tcp_keepalive, keepidle=CONF.tcp_keepidle) if CONF.ssl.enable: server.set_ssl(CONF.ssl.certfile, CONF.ssl.keyfile, CONF.ssl.ca_certs, CONF.ssl.cert_required) return name, ServerWrapper(server, workers) def serve(*servers): if max([server[1].workers for server in servers]) > 1: launcher = service.ProcessLauncher() else: launcher = service.ServiceLauncher() for name, server in servers: try: server.launch_with(launcher) except socket.error: logging.exception(_('Failed to start the %(name)s server') % { 'name': name}) raise # notify calling process we are ready to serve systemd.notify_once() for name, server in servers: launcher.wait() if __name__ == '__main__': dev_conf = os.path.join(possible_topdir, 'etc', 'keystone.conf') config_files = None if os.path.exists(dev_conf): config_files = [dev_conf] config.configure() sql.initialize() config.set_default_for_default_log_levels() CONF(project='keystone', version=pbr.version.VersionInfo('keystone').version_string(), default_config_files=config_files) config.setup_logging() # Log the options used when starting if we're in debug mode... if CONF.debug: CONF.log_opt_values(logging.getLogger(CONF.prog), logging.DEBUG) paste_config = config.find_paste_config() monkeypatch_thread = not CONF.standard_threads pydev_debug_url = utils.setup_remote_pydev_debug() if pydev_debug_url: # in order to work around errors caused by monkey patching we have to # set the thread to False. An explanation is here: # http://lists.openstack.org/pipermail/openstack-dev/2012-August/ # 000794.html monkeypatch_thread = False environment.use_eventlet(monkeypatch_thread) identity.IdentityManager() # Instantiate the provider. servers = [] servers.append(create_server(paste_config, 'identity', CONF.identity_bind_host, int(CONF.identity_port), CONF.identity_workers)) dependency.resolve_future_dependencies() serve(*servers) ",,245,2
openstack%2Fkeystone~master~Ifbe60ad10d036d9908ad44449c17e14b24d8ab23,openstack/keystone,master,Ifbe60ad10d036d9908ad44449c17e14b24d8ab23,Implemented caching in policy layer.,ABANDONED,2014-08-11 12:03:43.000000000,2014-12-15 21:57:30.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-08-11 12:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/139c67d5896ecb91c4378ec6e8ca28d1c70b0fad', 'message': 'Implemented caching in policy layer.\n\nbp expand-keystone-caching\n\nChange-Id: Ifbe60ad10d036d9908ad44449c17e14b24d8ab23\n'}, {'number': 2, 'created': '2014-08-11 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea0d5ed2c50ec54550bd5ec6bee0e0752ee7d77f', 'message': 'Implemented caching in policy layer.\n\nbp expand-keystone-caching\n\nChange-Id: Ifbe60ad10d036d9908ad44449c17e14b24d8ab23\n'}, {'number': 3, 'created': '2014-08-13 13:05:47.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/common/config.py', 'keystone/policy/core.py', 'keystone/tests/test_backend.py', 'keystone/tests/test_backend_rules.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a496bb54c862bad52cee88afa42adf03b7b594a0', 'message': 'Implemented caching in policy layer.\n\nbp expand-keystone-caching\n\nChange-Id: Ifbe60ad10d036d9908ad44449c17e14b24d8ab23\n'}]",1,113236,a496bb54c862bad52cee88afa42adf03b7b594a0,14,3,3,11428,,,0,"Implemented caching in policy layer.

bp expand-keystone-caching

Change-Id: Ifbe60ad10d036d9908ad44449c17e14b24d8ab23
",git fetch https://review.opendev.org/openstack/keystone refs/changes/36/113236/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone.conf.sample', 'keystone/common/config.py', 'keystone/policy/core.py', 'keystone/tests/test_backend.py', 'keystone/tests/test_backend_rules.py']",5,139c67d5896ecb91c4378ec6e8ca28d1c70b0fad,bp/expand-keystone-caching," def test_cache_layer_policy_crud(self): self.assertRaises(exception.NotImplemented, super(RulesPolicy, self).test_cache_layer_policy_crud) ",,58,2
openstack%2Fkeystone~master~I89543ccd84dd0ed0df39c4c247f354bb08adc23e,openstack/keystone,master,I89543ccd84dd0ed0df39c4c247f354bb08adc23e,Configurable PKI token signature digest,ABANDONED,2014-08-27 23:42:50.000000000,2014-12-15 21:57:09.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 6486}, {'_account_id': 6802}]","[{'number': 1, 'created': '2014-08-27 23:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/227816aba6fcf8ddd2eb442ad3d93d9f8c868a4f', 'message': ""Configurable PKI token signature digest\n\npython-keystoneclient's token signing function (cms_sign_data) was\nrecently enhanced to support configuring the digest algorithm. This\nadds a configuration option to Keystone to set the digest to use.\n\nSecurityImpact\n\nDocImpact\n\nA new `message_digest_algorithm` option is added to the [token]\nsection of the config file.\n\nChange-Id: I89543ccd84dd0ed0df39c4c247f354bb08adc23e\nRelated-Bug: #1362343\n""}, {'number': 2, 'created': '2014-08-28 20:57:29.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/token/providers/pkiz.py', 'keystone/auth/controllers.py', 'keystone/token/controllers.py', 'keystone/common/config.py', 'keystone/token/providers/pki.py', 'keystone/tests/test_v3_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7c3f61c3f32ad533966af9b990c8318a88ae414c', 'message': ""Configurable PKI token signature digest\n\npython-keystoneclient's token signing function (cms_sign_data) was\nrecently enhanced to support configuring the digest algorithm. This\nadds a configuration option to Keystone to set the digest to use.\n\nSecurityImpact\n\nDocImpact\n\nA new `message_digest_algorithm` option is added to the [token]\nsection of the config file.\n\nChange-Id: I89543ccd84dd0ed0df39c4c247f354bb08adc23e\nRelated-Bug: #1362343\n""}]",0,117380,7c3f61c3f32ad533966af9b990c8318a88ae414c,9,4,2,6486,,,0,"Configurable PKI token signature digest

python-keystoneclient's token signing function (cms_sign_data) was
recently enhanced to support configuring the digest algorithm. This
adds a configuration option to Keystone to set the digest to use.

SecurityImpact

DocImpact

A new `message_digest_algorithm` option is added to the [token]
section of the config file.

Change-Id: I89543ccd84dd0ed0df39c4c247f354bb08adc23e
Related-Bug: #1362343
",git fetch https://review.opendev.org/openstack/keystone refs/changes/80/117380/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone.conf.sample', 'keystone/token/providers/pkiz.py', 'keystone/auth/controllers.py', 'keystone/token/controllers.py', 'keystone/common/config.py', 'keystone/token/providers/pki.py']",6,227816aba6fcf8ddd2eb442ad3d93d9f8c868a4f,bug/1362343," token_id = str(cms.cms_sign_token( jsonutils.dumps(token_data), CONF.signing.certfile, CONF.signing.keyfile, message_digest=CONF.token.message_digest_algorithm))"," token_id = str(cms.cms_sign_token(jsonutils.dumps(token_data), CONF.signing.certfile, CONF.signing.keyfile))",25,12
openstack%2Fkeystone~master~I92e8a7cfd923c4761b8647814ac83220b42ca37e,openstack/keystone,master,I92e8a7cfd923c4761b8647814ac83220b42ca37e,Add restricted catalog to unscoped token,ABANDONED,2014-07-22 06:51:47.000000000,2014-12-15 21:56:56.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7191}, {'_account_id': 8978}]","[{'number': 1, 'created': '2014-07-22 06:51:47.000000000', 'files': ['keystone/token/providers/common.py', 'keystone/common/config.py', 'keystone/tests/test_v3_catalog.py', 'keystone/common/sql/core.py', 'keystone/catalog/backends/sql.py', 'keystone/tests/test_v3_federation.py', 'keystone/catalog/core.py', 'keystone/common/driver_hints.py', 'keystone/tests/test_v3.py', 'keystone/contrib/endpoint_filter/backends/catalog_sql.py', 'keystone/catalog/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5c7767c8493863ffff832d69e8d7b394578e425a', 'message': 'Add restricted catalog to unscoped token\n\nReturn a restricted service catalog with unscoped tokens.\n\nDocImpact: Adds a new configuration option for [CATALOG]\nunscoped_catalog_service_types which is a list of service_types that\nshould be included in unscoped tokens.\n\nChange-Id: I92e8a7cfd923c4761b8647814ac83220b42ca37e\nBlueprint: unscoped-catalog\n'}]",1,108592,5c7767c8493863ffff832d69e8d7b394578e425a,8,4,1,7191,,,0,"Add restricted catalog to unscoped token

Return a restricted service catalog with unscoped tokens.

DocImpact: Adds a new configuration option for [CATALOG]
unscoped_catalog_service_types which is a list of service_types that
should be included in unscoped tokens.

Change-Id: I92e8a7cfd923c4761b8647814ac83220b42ca37e
Blueprint: unscoped-catalog
",git fetch https://review.opendev.org/openstack/keystone refs/changes/92/108592/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/token/providers/common.py', 'keystone/common/config.py', 'keystone/tests/test_v3_catalog.py', 'keystone/common/sql/core.py', 'keystone/catalog/backends/sql.py', 'keystone/tests/test_v3_federation.py', 'keystone/catalog/core.py', 'keystone/common/driver_hints.py', 'keystone/contrib/endpoint_filter/backends/catalog_sql.py', 'keystone/tests/test_v3.py', 'keystone/catalog/controllers.py']",11,5c7767c8493863ffff832d69e8d7b394578e425a,bp/unscoped-catalog, domain_id = auth_context.get('domain_id') if domain_id: _('Domain scoped tokens cannot be used to get a catalog')), if not user_id or not project_id: _('A project-scoped token is required to produce a service ' 'catalog.')),123,49
openstack%2Fkeystone~master~I2e509c3acd270961cb0639fee39582e3c4cfa4fc,openstack/keystone,master,I2e509c3acd270961cb0639fee39582e3c4cfa4fc,Allow fetching a plaintext revocation list,ABANDONED,2014-05-07 23:22:09.000000000,2014-12-15 21:56:33.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-05-07 23:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f612141e61ad7bf98306c6cda9376e609451789', 'message': 'Allow configuring for un-signed revocation list\n\nThe server would always respond with a signed revocation list.\n\nThis change adds a configuration option so that the revocation list\ncan be returned as an un-signed JSON object.\n\nChange-Id: I2e509c3acd270961cb0639fee39582e3c4cfa4fc\nCloses-Bug: #1317302\n'}, {'number': 2, 'created': '2014-05-07 23:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/669f60477e2d523fefe8e5a0a126d8f1c8665465', 'message': 'Allow configuring for un-signed revocation list\n\nThe server would always respond with a signed revocation list.\n\nThis change adds a configuration option so that the revocation list\ncan be returned as an un-signed JSON object.\n\nChange-Id: I2e509c3acd270961cb0639fee39582e3c4cfa4fc\nCloses-Bug: #1317302\n'}, {'number': 3, 'created': '2014-05-08 00:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e346250f6ac210fe1d906d95b4898bc8a5a570fe', 'message': 'Allow configuring for un-signed revocation list\n\nThe server would always respond with a signed revocation list.\n\nThis change adds a configuration option so that the revocation list\ncan be returned as an un-signed JSON object.\n\nChange-Id: I2e509c3acd270961cb0639fee39582e3c4cfa4fc\nCloses-Bug: #1317302\n'}, {'number': 4, 'created': '2014-05-08 20:28:08.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/token/controllers.py', 'keystone/tests/test_content_types.py', 'keystone/service.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b58a4fae928deeb9e2f7811086f91062ad3b1ee8', 'message': ""Allow fetching a plaintext revocation list\n\nThe server would always respond with a signed revocation list.\n\nThis change adds an optional query string parameter for fetching\nthe revocation list so that the server will not sign the revocation\nlist but instead send back the unsigned data. For example,\n\nv2.0/tokens/revoked?signed=0\n\nAlso, the v2.0/extensions response includes a 'tokens' section,\nwith a 'capabilities', where the 'unsigned_revocation_list' will\nbe True if the server supports the parameter. This is so that\nclients can query the server to verify that it's enabled.\n\nChange-Id: I2e509c3acd270961cb0639fee39582e3c4cfa4fc\nCloses-Bug: #1317302\n""}]",3,92727,b58a4fae928deeb9e2f7811086f91062ad3b1ee8,26,7,4,6486,,,0,"Allow fetching a plaintext revocation list

The server would always respond with a signed revocation list.

This change adds an optional query string parameter for fetching
the revocation list so that the server will not sign the revocation
list but instead send back the unsigned data. For example,

v2.0/tokens/revoked?signed=0

Also, the v2.0/extensions response includes a 'tokens' section,
with a 'capabilities', where the 'unsigned_revocation_list' will
be True if the server supports the parameter. This is so that
clients can query the server to verify that it's enabled.

Change-Id: I2e509c3acd270961cb0639fee39582e3c4cfa4fc
Closes-Bug: #1317302
",git fetch https://review.opendev.org/openstack/keystone refs/changes/27/92727/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/token/controllers.py', 'keystone/common/config.py']",2,8f612141e61ad7bf98306c6cda9376e609451789,bug/1317302," cfg.BoolOpt('sign_revocation_list', default=True, help=""Sign the revocation list. If this is False then "" ""the revocation list will not be CMS-encrypted but instead"" ""be a JSON object containing the list of tokens."")",,11,5
openstack%2Fkeystone~master~Id6c526966cddebeb02c0d7175b758693580fffe1,openstack/keystone,master,Id6c526966cddebeb02c0d7175b758693580fffe1,Tool to generate man pages,ABANDONED,2014-04-28 20:01:23.000000000,2014-12-15 21:56:03.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 6486}]","[{'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': ['keystone/tools/template/keystone-manage.rst', 'keystone/tools/template/keystone-all.rst', 'keystone/tools/__init__.py', 'tools/generate_man.sh', 'keystone/tools/man_generator.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3efd8dc26ae726165bbd7604847fd48333b3469e', 'message': 'Tool to generate man pages\n\nChange-Id: Id6c526966cddebeb02c0d7175b758693580fffe1\n'}]",0,75708,3efd8dc26ae726165bbd7604847fd48333b3469e,20,3,1,6486,,,0,"Tool to generate man pages

Change-Id: Id6c526966cddebeb02c0d7175b758693580fffe1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/08/75708/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tools/template/keystone-manage.rst', 'keystone/tools/template/keystone-all.rst', 'keystone/tools/__init__.py', 'tools/generate_man.sh', 'keystone/tools/man_generator.py']",5,3efd8dc26ae726165bbd7604847fd48333b3469e,topic/generate_man,"# Copyright 2012 SINA Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Generates a man page for a command-line utility."""""" from __future__ import print_function import argparse import imp import os import sys from oslo.config import cfg import stevedore.named from keystone.openstack.common import gettextutils from keystone.openstack.common import importutils gettextutils.install('keystone') PY_EXT = "".py"" def generate(argv): parser = argparse.ArgumentParser( description='generate sample configuration file', ) parser.add_argument('-m', dest='modules', action='append') parser.add_argument('-l', dest='libraries', action='append') parser.add_argument('srcfiles', nargs='*') parsed_args = parser.parse_args(argv) mods_by_pkg = dict() for filepath in parsed_args.srcfiles: pkg_name = filepath.split(os.sep)[1] mod_str = '.'.join(['.'.join(filepath.split(os.sep)[:-1]), os.path.basename(filepath).split('.')[0]]) mods_by_pkg.setdefault(pkg_name, list()).append(mod_str) # NOTE(lzyeval): place top level modules before packages pkg_names = sorted(pkg for pkg in mods_by_pkg if pkg.endswith(PY_EXT)) ext_names = sorted(pkg for pkg in mods_by_pkg if pkg not in pkg_names) pkg_names.extend(ext_names) # opts_by_group is a mapping of group name to an options list # The options list is a list of (module, options) tuples opts_by_group = {'DEFAULT': []} if parsed_args.modules: for module_name in parsed_args.modules: module = _import_module(module_name) if module: for group, opts in _list_opts(module): opts_by_group.setdefault(group, []).append((module_name, opts)) # Look for entry points defined in libraries (or applications) for # option discovery, and include their return values in the output. # # Each entry point should be a function returning an iterable # of pairs with the group name (or None for the default group) # and the list of Opt instances for that group. if parsed_args.libraries: loader = stevedore.named.NamedExtensionManager( 'oslo.config.opts', names=list(set(parsed_args.libraries)), invoke_on_load=False, ) for ext in loader: for group, opts in ext.plugin(): opt_list = opts_by_group.setdefault(group or 'DEFAULT', []) opt_list.append((ext.name, opts)) for pkg_name in pkg_names: mods = mods_by_pkg.get(pkg_name) mods.sort() for mod_str in mods: if mod_str.endswith('.__init__'): mod_str = mod_str[:mod_str.rfind(""."")] mod_obj = _import_module(mod_str) if not mod_obj: raise RuntimeError(""Unable to import module %s"" % mod_str) for group, opts in _list_opts(mod_obj): opts_by_group.setdefault(group, []).append((mod_str, opts)) CONF = cfg.CONF project = 'keystone' prog = 'keystone-all' version = None usage = None default_config_files = None CONF._pre_setup(project, prog, version, usage, default_config_files) CONF._setup(project, prog, version, usage, default_config_files) for opt, group in sorted(CONF._all_cli_opts(), key=lambda x: x[0].name): opt._add_to_cli(CONF._oparser, group) CONF._oparser.initialize_parser_arguments() help_ = CONF._oparser.format_help() print('help:\n\n%s\n\n' % help_) help_lines = help_.split('\n') split_at = help_lines.index('optional arguments:') usage_lines = help_lines[0:split_at - 1] usage_lines[0] = ' ' + usage_lines[0][7:] usage = '\n'.join(usage_lines) options_lines = help_lines[split_at + 1:-1] options = '\n'.join(options_lines) tpl_fn = '/opt/stack/keystone/keystone/tools/template/keystone-all.rst' with open(tpl_fn, 'r') as f: tpl = f.read() out_file = '/opt/stack/keystone/doc/source/man/keystone-all-g.rst' def _rst_ize(s): return s.replace('*', '\*') with open(out_file, 'w+') as f: f.write(tpl.format(usage=_rst_ize(usage), options=_rst_ize(options))) def _import_module(mod_str): try: if mod_str.startswith('bin.'): imp.load_source(mod_str[4:], os.path.join('bin', mod_str[4:])) return sys.modules[mod_str[4:]] else: return importutils.import_module(mod_str) except Exception as e: sys.stderr.write(""Error importing module %s: %s\n"" % (mod_str, str(e))) return None def _is_in_group(opt, group): ""Check if opt is in group."" for value in group._opts.values(): # NOTE(llu): Temporary workaround for bug #1262148, wait until # newly released oslo.config support '==' operator. if not(value['opt'] != opt): return True return False def _guess_groups(opt, mod_obj): # is it in the DEFAULT group? if _is_in_group(opt, cfg.CONF): return 'DEFAULT' # what other groups is it in? for value in cfg.CONF.values(): if isinstance(value, cfg.CONF.GroupAttr): if _is_in_group(opt, value._group): return value._group.name raise RuntimeError( ""Unable to find group for option %s, "" ""maybe it's defined twice in the same group?"" % opt.name ) def _list_opts(obj): def is_opt(o): return (isinstance(o, cfg.Opt) and not isinstance(o, cfg.SubCommandOpt)) opts = list() for attr_str in dir(obj): attr_obj = getattr(obj, attr_str) if is_opt(attr_obj): opts.append(attr_obj) elif (isinstance(attr_obj, list) and all(map(lambda x: is_opt(x), attr_obj))): opts.extend(attr_obj) ret = {} for opt in opts: ret.setdefault(_guess_groups(opt, obj), []).append(opt) return ret.items() def main(): generate(sys.argv[1:]) if __name__ == '__main__': main() ",,493,0
openstack%2Fkeystone~master~I68eb741874990d8a67493224c81901b17727db44,openstack/keystone,master,I68eb741874990d8a67493224c81901b17727db44,Add documentation on LDAP 'user_id_attribute',ABANDONED,2014-05-13 18:09:38.000000000,2014-12-15 21:55:48.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 8871}, {'_account_id': 8978}, {'_account_id': 9608}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-05-13 18:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3ba80b28937e26fa44ff55a64f5efdb3a0d7575f', 'message': ""Add documentation on LDAP 'user_id_attribute'\n\nThere is a strong relationship between the 'user_id_attribute' and the\ndistinguished name (DN).  This change adds detailed documentation on how\nto appropriately set what attributes should be used depending upon what\nthe 'query_scope' configuration setting\n\nChange-Id: I68eb741874990d8a67493224c81901b17727db44\nCloses-Bug: #1210141\nPartial-Bug: #1231488\n""}, {'number': 2, 'created': '2014-05-15 13:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5feadd95f2c078a085aa7429739051e745f31a2', 'message': ""Add documentation on LDAP 'user_id_attribute'\n\nThere is a strong relationship between the 'user_id_attribute' and the\ndistinguished name (DN).  This change adds detailed documentation on how\nto appropriately set what attributes should be used depending upon what\nthe 'query_scope' configuration setting\n\nCloses-Bug: #1210141\nPartial-Bug: #1231488\n\nChange-Id: I68eb741874990d8a67493224c81901b17727db44""}, {'number': 3, 'created': '2014-06-02 14:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c8bf535581130e1576f1af2e825fd75616ccb38f', 'message': ""Add documentation on LDAP 'user_id_attribute'\n\nThere is a strong relationship between the 'user_id_attribute' and the\ndistinguished name (DN).  This change adds detailed documentation on how\nto appropriately set what attributes should be used depending upon what\nthe 'query_scope' configuration setting\n\nChange-Id: I68eb741874990d8a67493224c81901b17727db44\nCloses-Bug: #1210141\nPartial-Bug: #1231488\n""}, {'number': 4, 'created': '2014-06-04 13:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/62e3912e6ded52d4997dac3e90c7418d1de43189', 'message': ""Add documentation on LDAP 'user_id_attribute'\n\nThere is a strong relationship between the 'user_id_attribute' and the\ndistinguished name (DN).  This change adds detailed documentation on how\nto appropriately set what attributes should be used depending upon what\nthe 'query_scope' configuration setting\n\nCloses-Bug: #1210141\nPartial-Bug: #1231488\nChange-Id: I68eb741874990d8a67493224c81901b17727db44\n""}, {'number': 5, 'created': '2014-08-06 07:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3e059a660b2d81c290c06813e7439d6752453e2', 'message': ""Add documentation on LDAP 'user_id_attribute'\n\nThere is a strong relationship between the 'user_id_attribute' and the\ndistinguished name (DN).  This change adds detailed documentation on how\nto appropriately set what attributes should be used depending upon what\nthe 'query_scope' configuration setting\n\nCloses-Bug: #1210141\nPartial-Bug: #1231488\nChange-Id: I68eb741874990d8a67493224c81901b17727db44\n""}, {'number': 6, 'created': '2014-09-12 10:41:51.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/common/config.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/36b0c3dc439d76fbd924b83867ef658b8283ad6d', 'message': ""Add documentation on LDAP 'user_id_attribute'\n\nThere is a strong relationship between the 'user_id_attribute' and the\ndistinguished name (DN).  This change adds detailed documentation on how\nto appropriately set what attributes should be used depending upon what\nthe 'query_scope' configuration setting\n\nCloses-Bug: #1210141\nPartial-Bug: #1231488\nChange-Id: I68eb741874990d8a67493224c81901b17727db44\n""}]",12,93480,36b0c3dc439d76fbd924b83867ef658b8283ad6d,47,12,6,11431,,,0,"Add documentation on LDAP 'user_id_attribute'

There is a strong relationship between the 'user_id_attribute' and the
distinguished name (DN).  This change adds detailed documentation on how
to appropriately set what attributes should be used depending upon what
the 'query_scope' configuration setting

Closes-Bug: #1210141
Partial-Bug: #1231488
Change-Id: I68eb741874990d8a67493224c81901b17727db44
",git fetch https://review.opendev.org/openstack/keystone refs/changes/80/93480/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone.conf.sample', 'keystone/common/config.py']",2,3ba80b28937e26fa44ff55a64f5efdb3a0d7575f,bug_1231488," help='LDAP attribute mapped to user id. If ""query_scope"" ' 'is set to ""one"", then this attribute must be set to ' 'the LDAP attribute that is the left-most relative ' 'distinguished name (RDN) of the distinguished name ' '(DN). If ""query_scope"" is set to ""sub"", then this ' 'attribute may be set to any LDAP attribute; however ' 'listing user information will still result in ' 'displaying user id as the left-most RDN of the DN.'),"," help='LDAP attribute mapped to user id.'),",14,2
openstack%2Fkeystone~master~I48b3553947c15470cb11a23852d5a6bdb22c41da,openstack/keystone,master,I48b3553947c15470cb11a23852d5a6bdb22c41da,Adding python-setuptools to list of dependencies,ABANDONED,2014-08-01 15:24:58.000000000,2014-12-15 21:55:42.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7725}]","[{'number': 1, 'created': '2014-08-01 15:24:58.000000000', 'files': ['doc/source/setup.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ac4c5048186644d8334f43f088c6929732cd757', 'message': 'Adding python-setuptools to list of dependencies\n\nNeed to install python-setuptools to install pip on\nFedora 20\n\nChange-Id: I48b3553947c15470cb11a23852d5a6bdb22c41da\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n'}]",1,111312,5ac4c5048186644d8334f43f088c6929732cd757,6,3,1,9625,,,0,"Adding python-setuptools to list of dependencies

Need to install python-setuptools to install pip on
Fedora 20

Change-Id: I48b3553947c15470cb11a23852d5a6bdb22c41da
Signed-off-by: Thiago da Silva <thiago@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/111312/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/setup.rst'],1,5ac4c5048186644d8334f43f088c6929732cd757,add_python-setuptools_doc, $ sudo yum install python-sqlite2 python-lxml python-greenlet-devel python-ldap sqlite-devel openldap-devel python-devel python-setuptools libxslt-devel openssl-devel, $ sudo yum install python-sqlite2 python-lxml python-greenlet-devel python-ldap sqlite-devel openldap-devel python-devel libxslt-devel openssl-devel,1,1
openstack%2Fkeystone~master~I23f64598f2cfc1f5f3eee2f51763b0fc40163688,openstack/keystone,master,I23f64598f2cfc1f5f3eee2f51763b0fc40163688,Make get_trust a protected method,ABANDONED,2014-02-17 04:31:15.000000000,2014-12-15 21:55:11.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 7244}, {'_account_id': 9382}, {'_account_id': 9450}, {'_account_id': 9751}]","[{'number': 1, 'created': '2014-02-17 04:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9892b9f828355b464433f337fb7290d4b926cfb1', 'message': 'get trust missing @controller.protected\n\n    Due to get_trust having an entry in the policy.json file\n    get_trust should be protected.\n\n    Closes-Bug: #1280084\n\nChange-Id: I23f64598f2cfc1f5f3eee2f51763b0fc40163688\n'}, {'number': 2, 'created': '2014-02-17 20:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a8503f38b613f951d634e2a55cc4a77494106286', 'message': 'get trust missing @controller.protected\n\n    Due to get_trust having an entry in the policy.json file\n    get_trust should be protected.\n\n    Closes-Bug: #1280084\n\nChange-Id: I23f64598f2cfc1f5f3eee2f51763b0fc40163688\n'}, {'number': 3, 'created': '2014-06-20 19:10:31.000000000', 'files': ['keystone/trust/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4a277f369568002d38d67a976e2b3845e7fabc3d', 'message': 'Make get_trust a protected method\n\nDue to get_trust having an entry in the policy.json file get_trust\nshould be protected.\n\nCloses-Bug: #1280084\n\nChange-Id: I23f64598f2cfc1f5f3eee2f51763b0fc40163688\n'}]",3,73907,4a277f369568002d38d67a976e2b3845e7fabc3d,27,8,3,7244,,,0,"Make get_trust a protected method

Due to get_trust having an entry in the policy.json file get_trust
should be protected.

Closes-Bug: #1280084

Change-Id: I23f64598f2cfc1f5f3eee2f51763b0fc40163688
",git fetch https://review.opendev.org/openstack/keystone refs/changes/07/73907/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/trust/controllers.py'],1,9892b9f828355b464433f337fb7290d4b926cfb1,bug_1280084, @controller.protected(),,1,1
openstack%2Fkeystone~master~I8899cae778a86e855f9c57781af78f2b37be349e,openstack/keystone,master,I8899cae778a86e855f9c57781af78f2b37be349e,Generate sample config on setup,ABANDONED,2014-08-31 19:36:42.000000000,2014-12-15 21:52:09.000000000,,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-08-31 19:36:42.000000000', 'files': ['etc/keystone.conf.sample', 'tools/config/check_uptodate.sh', 'keystone/openstack/common/config/__init__.py', 'keystone/openstack/common/config/generator.py', 'tools/config/README', 'keystone/setup_hook.py', 'tools/config/generate_sample.sh', 'openstack-common.conf', 'tools/config/oslo.config.generator.rc', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f81ef3d8ecb4a2d362e25a5d3a295578e5875319', 'message': 'Generate sample config on setup\n\nInstead of needing a sample configuration in-tree, anytime setup\nis run, generate the sample configuration for Keystone.\n\nChange-Id: I8899cae778a86e855f9c57781af78f2b37be349e\n'}]",0,118057,f81ef3d8ecb4a2d362e25a5d3a295578e5875319,5,3,1,2903,,,0,"Generate sample config on setup

Instead of needing a sample configuration in-tree, anytime setup
is run, generate the sample configuration for Keystone.

Change-Id: I8899cae778a86e855f9c57781af78f2b37be349e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/118057/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/keystone.conf.sample', 'tools/config/check_uptodate.sh', 'keystone/openstack/common/config/__init__.py', 'keystone/openstack/common/config/generator.py', 'tools/config/README', 'keystone/setup_hook.py', 'tools/config/generate_sample.sh', 'openstack-common.conf', 'tools/config/oslo.config.generator.rc', 'setup.cfg', 'tox.ini']",11,f81ef3d8ecb4a2d362e25a5d3a295578e5875319,generate_sample_config_on_demand,"envlist = py26,py27,py33,pep8,docs","envlist = py26,py27,py33,pep8,docs,sample_config[testenv:sample_config] commands = {toxinidir}/tools/config/generate_sample.sh ",37,1960
openstack%2Fkeystone-specs~master~I6985d5ea8916b9ec1d52f2d66e804030d79f528f,openstack/keystone-specs,master,I6985d5ea8916b9ec1d52f2d66e804030d79f528f,API doc for Inherited Role Assignments to Projects,MERGED,2014-10-22 16:53:09.000000000,2014-12-15 21:49:38.000000000,2014-12-15 21:49:38.000000000,"[{'_account_id': 3}, {'_account_id': 220}, {'_account_id': 1941}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 8866}, {'_account_id': 8978}, {'_account_id': 9142}, {'_account_id': 10046}, {'_account_id': 11022}]","[{'number': 1, 'created': '2014-10-22 16:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/81416e61e05a8ccaac9d108656db9134a484cd13', 'message': 'API documentation for Inherited Roles to Projects\n\nChanges regarding the functionality of Inherited Roles to\nProjects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 2, 'created': '2014-10-22 16:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/7d02485a6c36fc7bb29455de96753aa35c2e29a9', 'message': 'API documentation for Inherited Roles to Projects\n\nChanges regarding the functionality of Inherited Roles to\nProjects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 3, 'created': '2014-10-27 23:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d57b274e8622f19c853a8bf26de037a8fd4a1780', 'message': 'API documentation for Inherited Roles to Projects\n\nChanges regarding the functionality of Inherited Roles to\nProjects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 4, 'created': '2014-10-29 12:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e5806d851ea9cbab8e12be1e707c8bd1e1dc1f35', 'message': 'API documentation for Inherited Roles to Projects\n\nChanges regarding the functionality of Inherited Roles to\nProjects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 5, 'created': '2014-11-10 18:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f2ce437f1c40038735266989594f680a812b0fd2', 'message': 'API documentation for Inherited Roles to Projects\n\nChanges regarding the functionality of Inherited Roles to\nProjects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 6, 'created': '2014-11-11 13:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5dd224a397ac3bd83f5f73007050a95e0939e183', 'message': 'API documentation for Inherited Roles to Projects\n\nChanges regarding the functionality of Inherited Roles to\nProjects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 7, 'created': '2014-11-12 21:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/48803af1467479c9f1a9aac3cbe2f549c2aeacfc', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 8, 'created': '2014-11-12 21:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ca6e248523125ed9a7050299f80871ea13e41539', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 9, 'created': '2014-11-18 17:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/38878aa717014006e6ffd2f8858609cec2e938ac', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 10, 'created': '2014-11-28 13:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5e546f82c66cdb56441ceb008692e68b49d15e4e', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 11, 'created': '2014-12-04 23:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1a6765758aa39a6dbdb6cdd0a19e5f8eab3fea9f', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 12, 'created': '2014-12-11 19:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/992426e0ca0342805d6b9f1641bfa8e014c99687', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 13, 'created': '2014-12-11 19:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/7bd3199d366e010c33d193c2f7e5b64744e576f7', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 14, 'created': '2014-12-15 12:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/06c85768e276272fc9d3b4fdfc2e684c4fbff839', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 15, 'created': '2014-12-15 13:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/61ce3cc3e3287d28613885a18eb372a3cbd8e2c2', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 16, 'created': '2014-12-15 14:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/9108d047a5d9c25370ff2ded96fd21e8a97dddc5', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 17, 'created': '2014-12-15 15:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/84b75a6302ea15e8a37974ec059d32b4abd1e1e0', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 18, 'created': '2014-12-15 16:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/569bd8b307a3ba6c2d0eceb2c5abee6ee3b3d01f', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}, {'number': 19, 'created': '2014-12-15 17:37:37.000000000', 'files': ['api/v3/identity-api-v3-os-inherit-ext.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/2408c6645f962213270130e7c9b8a5b83973d604', 'message': 'API doc for Inherited Role Assignments to Projects\n\nChanges regarding the functionality of Inherited Roles Assignments\nto Projects.\n\nCo-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>\nDepends On: blueprint hierarchical-multitenancy\n\nChange-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f\n'}]",115,130277,2408c6645f962213270130e7c9b8a5b83973d604,91,13,19,11022,,,0,"API doc for Inherited Role Assignments to Projects

Changes regarding the functionality of Inherited Roles Assignments
to Projects.

Co-Authored-By: Raildo Mascena <raildo@lsd.ufcg.edu.br>
Depends On: blueprint hierarchical-multitenancy

Change-Id: I6985d5ea8916b9ec1d52f2d66e804030d79f528f
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/77/130277/12 && git format-patch -1 --stdout FETCH_HEAD,['api/identity-api-v3-os-inherit-ext.rst'],1,81416e61e05a8ccaac9d108656db9134a484cd13,bp/hierarchical-multitenancy,"What's New in Version 1.1 ------------------------- - Introduces a mechanism to inherit roles between projects. Projects -------- Add a role to a user for a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: PUT /OS-INHERIT/projects/{project_id}/users/{user_id}/roles/{role_id}/inherited_to_projects Relationship: ``http://docs.openstack.org/api/openstack-identity/3/ext/OS-INHERIT/1.0/rel/project_user_role_inherited_to_projects`` The inherited role is applied to the project and the children projects (both existing and future projects). Response: :: Status: 204 No Content Add a role to a group for a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: PUT /OS-INHERIT/projects/{project_id}/groups/{group_id}/roles/{role_id}/inherited_to_projects Relationship: ``http://docs.openstack.org/identity/rel/v3/ext/OS-INHERIT/1.0/project_group_role_inherited_to_projects`` The inherited role is applied to the project and the children projects (both existing and future projects), Response: :: Status: 204 No Content List user's inherited roles on a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: GET /OS-INHERIT/projects/{project_id}/users/{user_id}/roles/inherited_to_projects Relationship: ``http://docs.openstack.org/identity/rel/v3/ext/OS-INHERIT/1.0/project_user_roles_inherited_to_projects`` Lists all roles inherited by a specified project. These roles are also inherited by any child projects of the specified project. Response: :: Status: 200 OK { ""roles"": [ { ""id"": ""--role-id--"", ""links"": { ""self"": ""http://identity:35357/v3/roles/--role-id--"" }, ""name"": ""--role-name--"", }, { ""id"": ""--role-id--"", ""links"": { ""self"": ""http://identity:35357/v3/roles/--role-id--"" }, ""name"": ""--role-name--"" } ], ""links"": { ""self"": ""http://identity:35357/v3/OS-INHERIT/projects/--project_id--/ users/--user_id--/roles/inherited_to_projects"", ""previous"": null, ""next"": null } } List group's inherited roles on a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: GET /OS-INHERIT/projects/{project_id)/groups/{group_id}/roles/inherited_to_projects Lists all inherited roles for a specified group of projects. These roles are also inherited by any child projects of the projects in the specified group. Relationship: ``http://docs.openstack.org/identity/rel/v3/ext/OS-INHERIT/1.0/domain_group_roles_inherited_to_projects`` Response: :: Status: 200 OK { ""roles"": [ { ""id"": ""--role-id--"", ""links"": { ""self"": ""http://identity:35357/v3/roles/--role-id--"" }, ""name"": ""--role-name--"", }, { ""id"": ""--role-id--"", ""links"": { ""self"": ""http://identity:35357/v3/roles/--role-id--"" }, ""name"": ""--role-name--"" } ], ""links"": { ""self"": ""http://identity:35357/v3/OS-INHERIT/projects/--project_id--/ groups/--group_id--/roles/inherited_to_projects"", ""previous"": null, ""next"": null } } Check if a user has an inherited project role on a project ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ :: HEAD /OS-INHERIT/projects/{project_id)/users/{user_id}/roles/{role_id}/inherited_to_projects Relationship: ``http://docs.openstack.org/api/openstack-identity/3/ext/OS-INHERIT/1.0/rel/project_user_role_inherited_to_projects`` Response: :: Status: 204 No Content Check if a group has an inherited project role on a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: HEAD /OS-INHERIT/projects/{project_id)/groups/{group_id}/roles/{role_id}/inherited_to_projects Relationship: ``http://docs.openstack.org/identity/rel/v3/ext/OS-INHERIT/1.0/project_group_role_inherited_to_projects`` Response: :: Status: 204 No Content Revoke an inherited project role from a user on a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: DELETE /OS-INHERIT/projects/{project_id)/users/{user_id}/roles/{role_id}/inherited_to_projects Relationship: ``http://docs.openstack.org/api/openstack-identity/3/ext/OS-INHERIT/1.0/rel/domain_user_role_inherited_to_projects`` Response: :: Status: 204 No Content Revoke an inherited project role from group on a project ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ :: DELETE /OS-INHERIT/projects/{project_id)/groups/{group_id}/roles/{role_id}/inherited_to_projects Relationship: ``http://docs.openstack.org/identity/rel/v3/ext/OS-INHERIT/1.0/domain_group_role_inherited_to_projects`` Response: :: Status: 204 No Content Domains ------- ",,203,0
openstack%2Fkeystone~master~I84355699811cd852d4dca365000d171d7ea7965e,openstack/keystone,master,I84355699811cd852d4dca365000d171d7ea7965e,"Revert ""Inherited role assignments to projects""",ABANDONED,2014-12-15 00:05:10.000000000,2014-12-15 21:47:49.000000000,,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8866}, {'_account_id': 11022}, {'_account_id': 13055}]","[{'number': 1, 'created': '2014-12-15 00:05:10.000000000', 'files': ['keystone/assignment/controllers.py', 'keystone/assignment/backends/sql.py', 'keystone/assignment/core.py', 'keystone/assignment/routers.py', 'keystone/tests/test_v3_assignment.py', 'keystone/tests/test_versions.py', 'keystone/tests/test_v3.py', 'keystone/tests/test_backend.py', 'keystone/assignment/backends/ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bad574d0d5f395c3de13a74fcabdf56d490f1243', 'message': 'Revert ""Inherited role assignments to projects""\n\nThis reverts commit ac5a118e1abe1fc0fd9f676f30436959c8cb1847.\n\nThis can be re-added once the API Doc as merged. This change should\nnot have merged until after https://review.openstack.org/#/c/130277/\nmerged.\n\nChange-Id: I84355699811cd852d4dca365000d171d7ea7965e\n'}]",0,141674,bad574d0d5f395c3de13a74fcabdf56d490f1243,8,10,1,2903,,,0,"Revert ""Inherited role assignments to projects""

This reverts commit ac5a118e1abe1fc0fd9f676f30436959c8cb1847.

This can be re-added once the API Doc as merged. This change should
not have merged until after https://review.openstack.org/#/c/130277/
merged.

Change-Id: I84355699811cd852d4dca365000d171d7ea7965e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/74/141674/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/assignment/controllers.py', 'keystone/assignment/backends/sql.py', 'keystone/assignment/core.py', 'keystone/assignment/routers.py', 'keystone/tests/test_v3_assignment.py', 'keystone/tests/test_versions.py', 'keystone/tests/test_v3.py', 'keystone/assignment/backends/ldap.py', 'keystone/tests/test_backend.py']",9,bad574d0d5f395c3de13a74fcabdf56d490f1243,,," def test_list_projects_for_user_with_inherited_user_project_grants(self): """"""Test inherited role assignments for users on nested projects. Test Plan: - Enable OS-INHERIT extension - Create a hierarchy of projects with one root and one leaf project - Assign an inherited user role on root project - Assign a non-inherited user role on root project - Get a list of projects for user, should return both projects - Disable OS-INHERIT extension - Get a list of projects for user, should return only root project """""" # Enable OS-INHERIT extension self.config_fixture.config(group='os_inherit', enabled=True) root_project = {'id': uuid.uuid4().hex, 'description': '', 'domain_id': DEFAULT_DOMAIN_ID, 'enabled': True, 'name': uuid.uuid4().hex, 'parent_id': None} self.assignment_api.create_project(root_project['id'], root_project) leaf_project = {'id': uuid.uuid4().hex, 'description': '', 'domain_id': DEFAULT_DOMAIN_ID, 'enabled': True, 'name': uuid.uuid4().hex, 'parent_id': root_project['id']} self.assignment_api.create_project(leaf_project['id'], leaf_project) user = {'name': uuid.uuid4().hex, 'password': uuid.uuid4().hex, 'domain_id': DEFAULT_DOMAIN_ID, 'enabled': True} user = self.identity_api.create_user(user) # Grant inherited user role self.assignment_api.create_grant(user_id=user['id'], project_id=root_project['id'], role_id=self.role_admin['id'], inherited_to_projects=True) # Grant non-inherited user role self.assignment_api.create_grant(user_id=user['id'], project_id=root_project['id'], role_id=self.role_member['id']) # Should get back both projects: because the direct role assignment for # the root project and inherited role assignment for leaf project user_projects = self.assignment_api.list_projects_for_user(user['id']) self.assertEqual(2, len(user_projects)) self.assertIn(root_project, user_projects) self.assertIn(leaf_project, user_projects) # Disable OS-INHERIT extension self.config_fixture.config(group='os_inherit', enabled=False) # Should get back just root project - due the direct role assignment user_projects = self.assignment_api.list_projects_for_user(user['id']) self.assertEqual(1, len(user_projects)) self.assertIn(root_project, user_projects) def test_list_projects_for_user_with_inherited_group_project_grants(self): """"""Test inherited role assignments for groups on nested projects. Test Plan: - Enable OS-INHERIT extension - Create a hierarchy of projects with one root and one leaf project - Assign an inherited group role on root project - Assign a non-inherited group role on root project - Get a list of projects for user, should return both projects - Disable OS-INHERIT extension - Get a list of projects for user, should return only root project """""" self.config_fixture.config(group='os_inherit', enabled=True) root_project = {'id': uuid.uuid4().hex, 'description': '', 'domain_id': DEFAULT_DOMAIN_ID, 'enabled': True, 'name': uuid.uuid4().hex, 'parent_id': None} self.assignment_api.create_project(root_project['id'], root_project) leaf_project = {'id': uuid.uuid4().hex, 'description': '', 'domain_id': DEFAULT_DOMAIN_ID, 'enabled': True, 'name': uuid.uuid4().hex, 'parent_id': root_project['id']} self.assignment_api.create_project(leaf_project['id'], leaf_project) user = {'name': uuid.uuid4().hex, 'password': uuid.uuid4().hex, 'domain_id': DEFAULT_DOMAIN_ID, 'enabled': True} user = self.identity_api.create_user(user) group = {'name': uuid.uuid4().hex, 'domain_id': DEFAULT_DOMAIN_ID} group = self.identity_api.create_group(group) self.identity_api.add_user_to_group(user['id'], group['id']) # Grant inherited group role self.assignment_api.create_grant(group_id=group['id'], project_id=root_project['id'], role_id=self.role_admin['id'], inherited_to_projects=True) # Grant non-inherited group role self.assignment_api.create_grant(group_id=group['id'], project_id=root_project['id'], role_id=self.role_member['id']) # Should get back both projects: because the direct role assignment for # the root project and inherited role assignment for leaf project user_projects = self.assignment_api.list_projects_for_user(user['id']) self.assertEqual(2, len(user_projects)) self.assertIn(root_project, user_projects) self.assertIn(leaf_project, user_projects) # Disable OS-INHERIT extension self.config_fixture.config(group='os_inherit', enabled=False) # Should get back just root project - due the direct role assignment user_projects = self.assignment_api.list_projects_for_user(user['id']) self.assertEqual(1, len(user_projects)) self.assertIn(root_project, user_projects) ",49,569
openstack%2Fproject-config~master~Ide11b4f4927fcdb4b19b2e06811f2f32c20d83f3,openstack/project-config,master,Ide11b4f4927fcdb4b19b2e06811f2f32c20d83f3,Add puppet-elasticsearch as split out module,MERGED,2014-11-25 17:54:19.000000000,2014-12-15 21:43:09.000000000,2014-12-15 21:43:08.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 7979}, {'_account_id': 9624}]","[{'number': 1, 'created': '2014-11-25 17:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b126f9825d90739eedc1582911af03ccdae1a4ae', 'message': 'Add puppet-elasticsearch as split out module\n\nThe spec:\nhttp://specs.openstack.org/openstack-infra/infra-specs/specs/puppet-modules.html\n\nNeeded-By: Id38232f6f9d928c893013c5f7eb70956955bf777\n\nChange-Id: Ide11b4f4927fcdb4b19b2e06811f2f32c20d83f3\n'}, {'number': 2, 'created': '2014-11-25 17:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/57a056d8f2a1eb0e56dbf917dd13be2200bbdfda', 'message': 'Add puppet-elasticsearch as split out module\n\nThe spec:\nhttp://specs.openstack.org/openstack-infra/infra-specs/specs/puppet-modules.html\n\nThis patch should only be approved after arranging for a system-config core to ensure there are no outstanding changes and to approve the related module removal patch within a short time.\n\nNeeded-By: Id38232f6f9d928c893013c5f7eb70956955bf777\nChange-Id: Ide11b4f4927fcdb4b19b2e06811f2f32c20d83f3\n'}, {'number': 3, 'created': '2014-11-25 17:58:33.000000000', 'files': ['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3ffe75cd128b625f8242ca34a228f51a5619baf', 'message': 'Add puppet-elasticsearch as split out module\n\nThe spec:\nhttp://specs.openstack.org/openstack-infra/infra-specs/specs/puppet-modules.html\n\nThis patch should only be approved after arranging for a system-config\ncore to ensure there are no outstanding changes and to approve the\nrelated module removal patch within a short time.\n\nNeeded-By: Id38232f6f9d928c893013c5f7eb70956955bf777\nChange-Id: Ide11b4f4927fcdb4b19b2e06811f2f32c20d83f3\n'}]",0,137156,d3ffe75cd128b625f8242ca34a228f51a5619baf,16,9,3,7979,,,0,"Add puppet-elasticsearch as split out module

The spec:
http://specs.openstack.org/openstack-infra/infra-specs/specs/puppet-modules.html

This patch should only be approved after arranging for a system-config
core to ensure there are no outstanding changes and to approve the
related module removal patch within a short time.

Needed-By: Id38232f6f9d928c893013c5f7eb70956955bf777
Change-Id: Ide11b4f4927fcdb4b19b2e06811f2f32c20d83f3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/137156/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,b126f9825d90739eedc1582911af03ccdae1a4ae,module-split, - name: openstack-infra/puppet-elasticsearch template: - name: merge-check - name: puppet-check-jobs - name: infra-puppet-apply-jobs ,,23,0
openstack%2Fcongress~master~Iab0c756aff740f44ca7637727a78514000ba6bbf,openstack/congress,master,Iab0c756aff740f44ca7637727a78514000ba6bbf,Add missing file required for migrations,MERGED,2014-12-10 23:51:53.000000000,2014-12-15 21:42:16.000000000,2014-12-15 21:42:15.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-10 23:51:53.000000000', 'files': ['congress/db/migration/alembic_migrations/script.py.mako'], 'web_link': 'https://opendev.org/openstack/congress/commit/f2e0e5586c5f5ad703b5b1793030e1e64e6145cc', 'message': 'Add missing file required for migrations\n\nChange-Id: Iab0c756aff740f44ca7637727a78514000ba6bbf\n'}]",0,140872,f2e0e5586c5f5ad703b5b1793030e1e64e6145cc,23,4,1,4395,,,0,"Add missing file required for migrations

Change-Id: Iab0c756aff740f44ca7637727a78514000ba6bbf
",git fetch https://review.opendev.org/openstack/congress refs/changes/72/140872/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/db/migration/alembic_migrations/script.py.mako'],1,f2e0e5586c5f5ad703b5b1793030e1e64e6145cc,,"# Copyright ${create_date.year} OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""${message} Revision ID: ${up_revision} Revises: ${down_revision} Create Date: ${create_date} """""" # revision identifiers, used by Alembic. revision = ${repr(up_revision)} down_revision = ${repr(down_revision)} from alembic import op import sqlalchemy as sa ${imports if imports else """"} def upgrade(): ${upgrades if upgrades else ""pass""} def downgrade(): ${downgrades if downgrades else ""pass""} ",,38,0
openstack%2Fcongress~master~I676cac3216ba4cfb388db0cf48b1792b1d4399fb,openstack/congress,master,I676cac3216ba4cfb388db0cf48b1792b1d4399fb,Make congress devstack smarter with ENABLED SERVICES,MERGED,2014-12-14 07:54:08.000000000,2014-12-15 21:42:09.000000000,2014-12-15 21:42:08.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 13050}, {'_account_id': 13664}]","[{'number': 1, 'created': '2014-12-14 07:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/5fc0011245b2c4a2fde1874f53d22213cee0d924', 'message': 'WIP: Make congress devstack smarter with ENABLED SERVICES\n\nChange-Id: I676cac3216ba4cfb388db0cf48b1792b1d4399fb\nCloses-Bug: #1402098\n'}, {'number': 2, 'created': '2014-12-14 07:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/73f1397555c3e72326ce2aeae18f1fe77e432f8d', 'message': 'WIP: Make congress devstack smarter with ENABLED SERVICES\n\nChange-Id: I676cac3216ba4cfb388db0cf48b1792b1d4399fb\nCloses-Bug: #1402098\n'}, {'number': 3, 'created': '2014-12-15 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e26e77cc11ecfc6c39ed0bc5ea990ed1e3202b23', 'message': 'Make congress devstack smarter with ENABLED SERVICES\n\nChange-Id: I676cac3216ba4cfb388db0cf48b1792b1d4399fb\nCloses-Bug: #1402098\n'}, {'number': 4, 'created': '2014-12-15 19:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/5f6811b0335d64da047b4fbf0da1fe2fbe83c63e', 'message': 'Make congress devstack smarter with ENABLED SERVICES\n\nChange-Id: I676cac3216ba4cfb388db0cf48b1792b1d4399fb\nCloses-Bug: #1402098\n'}, {'number': 5, 'created': '2014-12-15 19:52:23.000000000', 'files': ['contrib/devstack/lib/congress'], 'web_link': 'https://opendev.org/openstack/congress/commit/ce7cfcbcf51ec93ca1b9dd30d2c330794d6e39ad', 'message': 'Make congress devstack smarter with ENABLED SERVICES\n\nChange-Id: I676cac3216ba4cfb388db0cf48b1792b1d4399fb\nCloses-Bug: #1402098\n'}]",9,141628,ce7cfcbcf51ec93ca1b9dd30d2c330794d6e39ad,19,5,5,13664,,,0,"Make congress devstack smarter with ENABLED SERVICES

Change-Id: I676cac3216ba4cfb388db0cf48b1792b1d4399fb
Closes-Bug: #1402098
",git fetch https://review.opendev.org/openstack/congress refs/changes/28/141628/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/devstack/lib/congress'],1,5fc0011245b2c4a2fde1874f53d22213cee0d924,," if is_service_enabled neutron; then _congress_configure_neutron fi if is_service_enabled nova; then _congress_configure_nova fi if is_service_enabled keystone; then _congress_configure_keystone fi if is_service_enabled ceilometer; then _congress_configure_ceilometer fi if is_service_enabled cinder; then _congress_configure_cinder fi if is_service_enabled swift; then _congress_configure_swift fi if is_service_enabled glance; then _congress_configure_glance fi #cp $CONGRESS_DIR/etc/datasources.conf.sample $CONGRESS_DATASOURCE_FILE# Enable neutron with congress # Add neutron section to datasources.conf function _congress_configure_neutron { echo -e \ ""\n[neutron]""\ ""\nmodule: datasources/neutron_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_PASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } # Enable nova with congress # Add nova section to datasources.conf function _congress_configure_nova { echo -e \ ""\n[nova]""\ ""\nmodule: datasources/nova_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_pASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } # Enable keystone with congress # Add keystone section to datasources.conf function _congress_configure_keystone { echo -e \ ""\n[keystone]""\ ""\nmodule: datasources/keystone_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_PASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } # Enable ceilometer with congress # Add ceilometer section to datasources.conf function _congress_configure_ceilometer { echo -e \ ""\n[ceilometer]""\ ""\nmodule: datasources/ceilometer_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_PASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } # Enable cinder with congress # Add cinder section to datasources.conf function _congress_configure_cinder { echo -e \ ""\n[cinder]""\ ""\nmodule: datasources/cinder_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_PASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } # Enable swift with congress # Add swift section to datasources.conf function _congress_configure_swift { echo -e \ ""\n[swift]""\ ""\nmodule: datasources/swift_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_PASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } # Enable glancev2 with congress # Add glancev2 section to datasources.conf function _congress_configure_glance { echo -e \ ""\n[glancev2]""\ ""\nmodule: datasources/glancev2_driver.py""\ ""\nusername: $OS_USERNAME""\ ""\npassword: $OS_PASSWORD""\ ""\nauth_url: http://$SERVICE_HOST:5000/v2.0""\ ""\ntenant_name: $OS_TENANT_NAME"" >> $CONGRESS_DATASOURCE_FILE } ", cp $CONGRESS_DIR/etc/datasources.conf.sample $CONGRESS_DATASOURCE_FILE,114,1
openstack%2Fcongress~master~Iaf4171b18d7f62a8c830bc04ddd83b8d2b013b35,openstack/congress,master,Iaf4171b18d7f62a8c830bc04ddd83b8d2b013b35,Remove references to plugin in README,MERGED,2014-12-11 02:12:16.000000000,2014-12-15 21:42:03.000000000,2014-12-15 21:42:00.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-11 02:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/a6b585f11783cde2e9578a36a2d7c5bbf41697b4', 'message': 'Remove reference to plugin in README\n\nThis readme was largely shameless stolen from neturon and still\nhad reference to plugin path. This patch removes these references.\n\nChange-Id: Iaf4171b18d7f62a8c830bc04ddd83b8d2b013b35\n'}, {'number': 2, 'created': '2014-12-11 02:12:33.000000000', 'files': ['congress/db/migration/README'], 'web_link': 'https://opendev.org/openstack/congress/commit/6f9bfcc75cfa4b160c8d71b8de3c1546e5ace9de', 'message': 'Remove references to plugin in README\n\nThis readme was largely shameless stolen from neturon and still\nhad reference to plugin path. This patch removes these references.\n\nChange-Id: Iaf4171b18d7f62a8c830bc04ddd83b8d2b013b35\n'}]",0,140898,6f9bfcc75cfa4b160c8d71b8de3c1546e5ace9de,11,4,2,4395,,,0,"Remove references to plugin in README

This readme was largely shameless stolen from neturon and still
had reference to plugin path. This patch removes these references.

Change-Id: Iaf4171b18d7f62a8c830bc04ddd83b8d2b013b35
",git fetch https://review.opendev.org/openstack/congress refs/changes/98/140898/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/db/migration/README'],1,a6b585f11783cde2e9578a36a2d7c5bbf41697b4,,"$ congress-db-manage --config-file /path/to/congress.conf stamp initial_db$ congress-db-manage --config-file /path/to/congress.conf upgrade head$ congress-db-manage --config-file /path/to/congress.conf current$ congress-db-manage --config-file /path/to/congress.conf upgrade head --sql upgrade <start version>:<end version> --sql upgrade --delta <# of revs> downgrade --delta <# of revs>revision -m ""description of revision"" --autogenerate revision -m ""description of revision""$ congress-db-manage --config-file /path/to/congress.conf check_migration$ congress-db-manage --config-file /path/to/congress.conf history","$ congress-db-manage --config-file /path/to/congress.conf \ --config-file /path/to/plugin/config.ini stamp initial_db$ congress-db-manage --config-file /path/to/congress.conf \ --config-file /path/to/plugin/config.ini upgrade head$ congress-db-manage --config-file /path/to/congress.conf \ --config-file /path/to/plugin/config.ini current$ congress-db-manage --config-file /path/to/congress.conf \ --config-file /path/to/plugin/config.ini upgrade head --sql--config-file /path/to/plugin/config.ini upgrade \ <start version>:<end version> --sql--config-file /path/to/plugin/config.ini upgrade --delta <# of revs>--config-file /path/to/plugin/config.ini downgrade --delta <# of revs>--config-file /path/to/plugin/config.ini revision \ -m ""description of revision"" \ --autogenerate--config-file /path/to/plugin/config.ini revision \ -m ""description of revision""$ congress-db-manage --config-file /path/to/congress.conf \ --config-file /path/to/plugin/config.ini check_migration$ congress-db-manage --config-file /path/to/congress.conf \ --config-file /path/to/plugin/config.ini history",11,21
openstack%2Fneutron-specs~master~I8d0a02a6f214df9162760a5207a239703033d82c,openstack/neutron-specs,master,I8d0a02a6f214df9162760a5207a239703033d82c,Filtering routers by network-id,MERGED,2014-12-08 13:47:03.000000000,2014-12-15 21:41:54.000000000,2014-12-15 21:41:52.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 8873}, {'_account_id': 13082}]","[{'number': 1, 'created': '2014-12-08 13:47:03.000000000', 'files': ['specs/kilo/filter-routers-by-network-id.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bf80173046646eb1e829574bd9668cd1a84745b8', 'message': ""Filtering routers by network-id\n\nThere is currently no way to list all the routers who are connected to\na single network. This patch adds an optional 'network_id' filter to\nthe router-list REST API, which (when used) will allow one to get a\nlist of all the routers which belong to a specific network.\n\nbp filter-routers-by-network-id\n\nChange-Id: I8d0a02a6f214df9162760a5207a239703033d82c\n""}]",3,140002,bf80173046646eb1e829574bd9668cd1a84745b8,8,5,1,12444,,,0,"Filtering routers by network-id

There is currently no way to list all the routers who are connected to
a single network. This patch adds an optional 'network_id' filter to
the router-list REST API, which (when used) will allow one to get a
list of all the routers which belong to a specific network.

bp filter-routers-by-network-id

Change-Id: I8d0a02a6f214df9162760a5207a239703033d82c
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/02/140002/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/filter-routers-by-network-id.rst'],1,bf80173046646eb1e829574bd9668cd1a84745b8,bp/filter-routers-by-network-id,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Allow Filtering of Routers by Network ID ======================================== https://blueprints.launchpad.net/neutron/+spec/filter-routers-by-network-id Currently, there is no way to list all the routers which are connected to a single network. This spec proposes an optional 'network_id' filter to the router-list REST API, which (when used) will allow one to get a list of all the routers which belong to a specific network. Problem Description =================== On a deployed setup with a lot of networks and routers, it's very difficult to get a list of all the routers which are connected to a specific network, and includes manually filtering out all the irrelevant routers. Proposed Change =============== This spec proposes adding a new parameter to the REST API for router-list, 'network_id', which will return routers which are logically connected to the specified network. This is done by querying a list of all the ports which are connected to the specified network, and then filtering from them only the ports that belong to some router. Data Model Impact ----------------- None. All the data is already present on the database, we simply need to filter them. REST API Impact --------------- * Filtering routers by network_id will be allowed by GET to the address: /v2.0/routers.json?network_id=network_id Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ The new flow of filtering for routers by a network_id will only occur of 'network_id' is provided in the GET query. If it isn't nothing is changed in the flow and no impact should be had. In case 'network_id' is provided, an SQL query which joins relevant rows of both the Router and Port models is created and executed. This is done only when a tenant asks for the information. IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ * The user is able to produce a list of all the ports, and for each use 'port-show' and see if the 'network_id' field matches the network_id the user is interested in, and if the 'device_owner' is a router. This is quite cumbersome. * A similar implementation can be automated in neutronclient, but will only add more throughput (a list of all the ports must be sent from the server to the client, and once the data is there the neutronclient code will need to manually filter it. The proposed fix does this at the DB level. Implementation ============== Assignee(s) ----------- Primary assignee: jschwarz (jschwarz@redhat.com) Work Items ---------- * Implementation (patch 111580) Dependencies ============ None Testing ======= Tempest Tests ------------- None Functional Tests ---------------- None API Tests --------- * A unit test which adds 2 routers, 2 subnets and 2 ports, and makes sure that using router-list using the network-id parameter only produce the wanted routers should be added. * A similar test for external networks should also be added. Documentation Impact ==================== The new field, 'network_id', should be documented. User Documentation ------------------ None Developer Documentation ----------------------- None References ========== https://review.openstack.org/#/c/111580/ ",,164,0
openstack%2Ftripleo-ci~master~Iaf089949b73aaf84a2a0dc20a37b5ae9e9258438,openstack/tripleo-ci,master,Iaf089949b73aaf84a2a0dc20a37b5ae9e9258438,Revert heat review 141373,ABANDONED,2014-12-13 23:51:35.000000000,2014-12-15 21:34:41.000000000,,"[{'_account_id': 3}, {'_account_id': 9369}]","[{'number': 1, 'created': '2014-12-13 23:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1abe51c71202849519d513432d5a59ef5c2d8fc5', 'message': 'Revert heat review 141373\n\nWe are not specifying the required template version and as a result we\nare failing after this commit\n\nChange-Id: Iaf089949b73aaf84a2a0dc20a37b5ae9e9258438\nRelated-Bug: #141373\n'}, {'number': 2, 'created': '2014-12-13 23:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8d2902e2ec34c9f1dce1b1a9019dedc328f80609', 'message': 'Revert heat review 141373\n\nWe are not specifying the required template version and as a result we\nare failing after this commit\n\nChange-Id: Iaf089949b73aaf84a2a0dc20a37b5ae9e9258438\nRelated-Bug: #1402305\n'}, {'number': 3, 'created': '2014-12-14 00:49:33.000000000', 'files': ['toci_devtest.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cf3702d22b10314b5aceff660b03148b74e2acc1', 'message': 'Revert heat review 141373\n\nWe are not specifying the required template version and as a result we\nare failing after this commit\n\nChange-Id: Iaf089949b73aaf84a2a0dc20a37b5ae9e9258438\n'}]",0,141589,cf3702d22b10314b5aceff660b03148b74e2acc1,10,2,3,10035,,,0,"Revert heat review 141373

We are not specifying the required template version and as a result we
are failing after this commit

Change-Id: Iaf089949b73aaf84a2a0dc20a37b5ae9e9258438
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/89/141589/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_devtest.sh'],1,1abe51c71202849519d513432d5a59ef5c2d8fc5,fix/heat-versions,# https://review.openstack.org/#/c/141373/ temprevert heat d5467447301cfecc1e2ee8b4ac1afa87a7b2fe40 1402305,,2,0
openstack%2Foslo-incubator~master~Ib7784262abacf262b48e23b7ce96fafe279eea14,openstack/oslo-incubator,master,Ib7784262abacf262b48e23b7ce96fafe279eea14,We shouldn't replace `oslo-incubator` in comments,MERGED,2014-12-11 10:28:11.000000000,2014-12-15 21:30:45.000000000,2014-12-15 21:30:44.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2014-12-11 10:28:11.000000000', 'files': ['update.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/36b0e8570b449129d6d474c03b02ceb62edb78df', 'message': ""We shouldn't replace `oslo-incubator` in comments\n\nChange-Id: Ib7784262abacf262b48e23b7ce96fafe279eea14\n""}]",0,141003,36b0e8570b449129d6d474c03b02ceb62edb78df,7,4,1,2813,,,0,"We shouldn't replace `oslo-incubator` in comments

Change-Id: Ib7784262abacf262b48e23b7ce96fafe279eea14
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/03/141003/1 && git format-patch -1 --stdout FETCH_HEAD,['update.py'],1,36b0e8570b449129d6d474c03b02ceb62edb78df,," replacements.append(('oslo(?!(test|-incubator))', base))"," replacements.append(('oslo(?!test)', base))",1,1
openstack%2Fos-net-config~master~I88118836605fade6bc7978b2d65ed51cef0cdc80,openstack/os-net-config,master,I88118836605fade6bc7978b2d65ed51cef0cdc80,Correct the ENI provider name log statement,MERGED,2014-12-12 17:54:55.000000000,2014-12-15 21:30:39.000000000,2014-12-15 21:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 7585}]","[{'number': 1, 'created': '2014-12-12 17:54:55.000000000', 'files': ['os_net_config/impl_eni.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/36d24771ea64e47203735aa417fe3904609ab89d', 'message': 'Correct the ENI provider name log statement\n\nChange-Id: I88118836605fade6bc7978b2d65ed51cef0cdc80\n'}]",0,141445,36d24771ea64e47203735aa417fe3904609ab89d,15,5,1,360,,,0,"Correct the ENI provider name log statement

Change-Id: I88118836605fade6bc7978b2d65ed51cef0cdc80
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/45/141445/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/impl_eni.py'],1,36d24771ea64e47203735aa417fe3904609ab89d,correct_eni_provider_name, logger.info('ENI net config provider created.'), logger.info('Ifcfg net config provider created.'),1,1
openstack%2Fnova-specs~master~I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f,openstack/nova-specs,master,I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f,Support vhost-user in libvirt vif driver,MERGED,2014-12-03 14:11:46.000000000,2014-12-15 21:25:09.000000000,2014-12-12 19:13:59.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 6932}, {'_account_id': 7166}, {'_account_id': 7916}, {'_account_id': 11547}, {'_account_id': 11604}, {'_account_id': 11647}, {'_account_id': 11711}, {'_account_id': 11785}, {'_account_id': 13869}]","[{'number': 1, 'created': '2014-12-03 14:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/75f0fc1cd52c403a4df72fa0bb4d77e8725cd8a3', 'message': 'Support vhost-user in libvirt vif driver\n\nPropose to add support for vhost-user to Nova libvirt\nvif driver.\n\nBlueprint: libvirt-vif-vhost-user\nChange-Id: I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f\n'}, {'number': 2, 'created': '2014-12-05 12:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/735db33b5f1ce0bbf2ae64371747c26852cb72a6', 'message': 'Support vhost-user in libvirt vif driver\n\nPropose to add support for vhost-user to Nova libvirt\nvif driver.\n\nBlueprint: libvirt-vif-vhost-user\nChange-Id: I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f\n'}, {'number': 3, 'created': '2014-12-10 15:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1302e5ff7d075b5b73a2e17428eb8eabb3d92647', 'message': 'Support vhost-user in libvirt vif driver\n\nPropose to add support for vhost-user to Nova libvirt\nvif driver.\n\nBlueprint: libvirt-vif-vhost-user\nChange-Id: I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f\n'}, {'number': 4, 'created': '2014-12-12 18:58:02.000000000', 'files': ['specs/kilo/approved/libvirt_vif_vhostuser.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d983e919c3b18e5979c7d7f51085d9e7c2c1e581', 'message': 'Support vhost-user in libvirt vif driver\n\nPropose to add support for vhost-user to Nova libvirt\nvif driver.\n\nBlueprint: libvirt-vif-vhost-user\nChange-Id: I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f\n'}]",20,138736,d983e919c3b18e5979c7d7f51085d9e7c2c1e581,36,14,4,11647,,,0,"Support vhost-user in libvirt vif driver

Propose to add support for vhost-user to Nova libvirt
vif driver.

Blueprint: libvirt-vif-vhost-user
Change-Id: I2cc754ccacd62a9072366e9ba60d83f8f4ab2d7f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/36/138736/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/libvirt_vif_vhostuser.rst'],1,75f0fc1cd52c403a4df72fa0bb4d77e8725cd8a3,bp/libvirt-vif-vhost-user,"This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Add VIF_VHOSTUSER vif type to libvirt driver ============================================ https://blueprints.launchpad.net/nova/+spec/libvirt-vif-vhost-user We propose to add a new VIF type to support the new QEMU vhost-user interface in libvirt dirver. vhost-user is a new QEMU feature that supports efficient Virtio-net I/O between a guest and a user-space vswitch. vhost-user is the userspace equivalent to /dev/vhost-net and is based on a Unix socket for communication instead of a kernel device file. Problem description =================== QEMU has a new type of network interface, vhost-user, and we want to make this available to Neutron drivers. This will support deploying high-throughput userspace vswitches for OpenStack-based applications. There are two types of vSwitches that can use vhost-user interface, a generic vhost-user vSwitch and ovs based one, both types should be supported. Proposed change =============== We propose to add VIF_VHOSTUSER to Nova for creating network interfaces based on vhost-user. This VIF type would be enabled by Neutron drivers by using portbindings extension and setting the vif_type to VIF_VHOSTUSER. To support both generic and ovs based vSwitches additional information will be passed in vif_detail. For ovs based vSwitches additional step of creating an ovs port will be performed by the libvirt driver. VIF_VHOSTUSER driver will assume that unix socket will be created by the vSwitch per Neutron port. The name of the socket will be the same as ID of the Neutron port. For ovs based vSwitches name of the socket will be the same as name of the ovs port. Alternatives ------------ In Juno cycle there were two initiatives to support userspace vhost user in Nova. One was based on vhost-user interface in Qemu the other was based on DPDK implementation. Since DPDK is moving to support vhost-user only one driver is needed. Alternatively a mechanism for plugging in vif libvirt driver could be used to support vhost-user in libvirt driver. Such mechanism is proposed here: https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver-plugin Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Use of VIF_VHOSTUSER will have no inpact on Openstack performance. Use of userspace vSwitch with vhost-user will improve guest network perforamce. Other deployer impact --------------------- VIF_VHOSTUSER does not have to be enabled by the deployer. Neutron drivers will automatically enable VIF_VHOSTUSER via port binding if this is the appropriate choice for the agent on the compute host. VIF_VHOSTUSER will require a version of QEMU with vhost-user support, which is currently upstream and will be released in QEMU 2.1. VIF_VHOSTUSER will also require a version of Libvirt with vhost-user support. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Przemyslaw Czesnowicz <pczesno> Other contributors: Work Items ---------- * Add VIF_VHOSTUSER support to Nova. Dependencies ============ An ml2 dpdk ovs driver is being proposed for Neutron. This feature doesn't directly depend on it. Testing ======= VIF_VHOSTUSER will be tested by 3rd party CI for the DPDK Ovs mech driver. Documentation Impact ==================== No documentation changes for Nova are anticipated. VIF_VHOSTUSER will be automatically enabled by Neutron where appropriate. References ========== * vhost-user: http://www.virtualopensystems.com/en/solutions/guides/snabbswitch-qemu/ * Snabb NFV (initial vswitch supporting vhost-user): http://snabb.co/nfv.html * Juno spec for VIF_VHOSTUSER: http://git.openstack.org/cgit/openstack/nova-specs/tree/specs/juno/approved/vif-vhostuser.rst * Juno spec for dpdkvhost https://review.openstack.org/#/c/95805/4/specs/juno/libvirt-ovs-use-usvhost.rst * Neutron dpdk-ovs mechanism driver https://blueprints.launchpad.net/neutron/+spec/ml2-dpdk-ovs-mechanism-driver * Blueprint for vif plugin mechanism. https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver-plugin ",,159,0
openstack%2Fnova-specs~master~I9f3b3e4fc564fbc3b1f8de828025a37f45690752,openstack/nova-specs,master,I9f3b3e4fc564fbc3b1f8de828025a37f45690752,Add libvirt-vif-driver-plugin specification,ABANDONED,2014-11-24 17:08:43.000000000,2014-12-15 21:20:16.000000000,,"[{'_account_id': 3}, {'_account_id': 162}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 6598}, {'_account_id': 6772}, {'_account_id': 7916}, {'_account_id': 10068}, {'_account_id': 11307}, {'_account_id': 11604}, {'_account_id': 11647}, {'_account_id': 12065}, {'_account_id': 12171}, {'_account_id': 13507}, {'_account_id': 13734}, {'_account_id': 13869}]","[{'number': 1, 'created': '2014-11-24 17:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c45097526d4788934cf576a527fdb0a586e0ae5b', 'message': 'libvirt vif driver plugin\n\nAdd a new plugging mechanism for VIF driver to accelerate the\nintegration and to allow loading vendor external vif driver.\n\nImplements: blueprint libvirt-vif-driver-plugin\nChange-Id: I9f3b3e4fc564fbc3b1f8de828025a37f45690752\n'}, {'number': 2, 'created': '2014-11-24 17:19:54.000000000', 'files': ['specs/kilo/approved/libvirt-vif-driver-plugin.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e7710b583c0f01575115995a0eed8c0c80731364', 'message': 'Add libvirt-vif-driver-plugin specification\n\nAdd a new plugging mechanism for VIF driver to accelerate the\nintegration and to allow loading vendor external vif driver.\n\nImplements: blueprint libvirt-vif-driver-plugin\nChange-Id: I9f3b3e4fc564fbc3b1f8de828025a37f45690752\n'}]",8,136827,e7710b583c0f01575115995a0eed8c0c80731364,25,17,2,13869,,,0,"Add libvirt-vif-driver-plugin specification

Add a new plugging mechanism for VIF driver to accelerate the
integration and to allow loading vendor external vif driver.

Implements: blueprint libvirt-vif-driver-plugin
Change-Id: I9f3b3e4fc564fbc3b1f8de828025a37f45690752
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/27/136827/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/libvirt-vif-driver-plugin.rst'],1,c45097526d4788934cf576a527fdb0a586e0ae5b,bp/libvirt-vif-driver-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Libvirt VIF drivers plugin ========================== https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver-plugin We propose a new VIF driver plugin mechanism to: accelerate integration, and, load external VIF drivers. Problem description ------------------- #. Essential part of Neutron plugins and port binding mechanism drivers are maintained in the Nova code base. Review is performed by two distinct communities: - Nova for the new VIF driver, and, - Neutron for the new L2 plugins. Adding a new L2 plugin to OpenStack is then a rather difficult task. From Daniel P. Berrange (Ref: http://lists.openstack.org/pipermail/openstack-dev/2014-August/044192.html) Our general rule for accepting new VIF drivers in Nova is that Neutron should have accepted the corresponding other half of VIF driver, since Nova does not want to add support for things that are not in-tree for Neutron. [...] So based on this policy, my recommendation would be to keep the Nova VIF support out of tree in your own branch of Nova codebase until Neutron team are willing to accept their half of the driver. [...] As the VIF_driver option has been removed from the Juno release, it is necessary to maintain a specific Nova branch until the L2 plugin has been accepted by the Neutron community. To facilitate the integration of the new VIF driver, we propose a new plugin mechanism in Nova to load an external VIF driver. It provides a way to introduce a new L2 plugin without going through the approval cycle of the Nova community as a first step. #. And increasing number of new VIF drivers need to be reviewed: - sriov: https://blueprints.launchpad.net/nova/+spec/vif-driver-ib-passthrough - vhost snabb: https://blueprints.launchpad.net/nova/+spec/vif-vhostuser - vhost dpdk: https://blueprints.launchpad.net/nova/+spec/libvirt-ovs-use-usvhost - network: https://blueprints.launchpad.net/nova/+spec/libvirt-direct-network - macvtap: https://blueprints.launchpad.net/nova/+spec/macvtap-vif - Huawei vswitch: https://blueprints.launchpad.net/nova/+spec/vif-huwai-vswitch - ... Having a plugin mechanim in Nova for VIF drivers would reduce the pressure of vendors on the Nova community to review new VIF drivers. #. In addition, such a mechanism could be used in a long term goal to remove vendor specific VIF drivers from the Nova tree - this is in line with the ongoing review of blueprints https://review.openstack.org/#/c/134680, where the Neutron community expects to spin out all vendor plugins and mechanism drivers. Use Cases ~~~~~~~~~ Facilate new VIF drivers integration ++++++++++++++++++++++++++++++++++++ Having a VIF driver plugin mechanism would make it easier to adopt and integrate new drivers. It would not be necessary to maintain a specific Nova branch until the L2 plugin has been accepted by the Neutron community. Support external vif_driver +++++++++++++++++++++++++++ In Neutron, it is possible to support external L2 drivers with the core_plugin option. (See Additional plugins https://wiki.openstack.org/wiki/Neutron#Plugins) For external L2 plugins in Neutron, it makes sense to be able to load an external VIF driver in Nova. Alternative vif_driver ++++++++++++++++++++++ Replacing a vif_driver in the Nova tree by an external VIF driver can be useful for some specific use cases: - Supporting new vif_models (other than virtio, e1000...). This allows to support external drivers that are not part of the kernel mainstream. - Supporting specific libvirt options for a vif_model, such as offloading features. (i.e., http://libvirt.org/formatdomain.html#elementsDriverBackendOption) - Supporting alternative backends for OVS (such as DPDK openvswitch), or Linux bridge without requiring a new VIF_TYPE for each specific backend. Project Priority ~~~~~~~~~~~~~~~~ None Proposed change --------------- New module: LibvirtVIFDriverManager ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Introduce a new module, :file:`vif_manager.py`, in charge of loading different VIF drivers inside or outside of the Nova tree. The new vif_model module includes: - A new option to list the VIF drivers to be loaded. The default value is the list of all VIF drivers supported in the Nova tree. Thus, the cloud administrator doesn't need to use this option for VIF drivers. .. rubric:: Example .. code-block:: python libvirt_vif_manager_opts = [ cfg.ListOpt( 'vif_drivers', default=[ 'nova.virt.libvirt.vifs.bridge_vif.LibvirtBridgeVIFDriver', 'nova.virt.libvirt.vifs.ovs_vif.LibvirtOvsVIFDriver', 'nova.virt.libvirt.vifs.ivs_vif.LibvirtIvsVIFDriver', 'nova.virt.libvirt.vifs.qbg_vif.Libvirt802QBGVIFDriver', 'nova.virt.libvirt.vifs.qbh_vif.Libvirt802QBHVIFDriver', 'nova.virt.libvirt.vifs.hwweb_vif.LibvirtHwVebVIFDriver', 'nova.virt.libvirt.vifs.iovisor_vif.LibvirtIovisorVIFDriver', 'nova.virt.libvirt.vifs.midonet_vif.LibvirtMidonetVIFDriver', 'nova.virt.libvirt.vifs.mlnxdirect_vif.LibvirtMlnxDirectVIFDriver', ], ) ] - A new class to load LibvirtVIFDriverManager, in charge of: - loading VIF drivers, and, - select the appropriate driver depending on the vif_type. .. rubric:: Example .. code-block:: python class LibvirtVIFDriverManager(object): """""" VIF driver Manager for libvirt networking."""""" def __init__(self, get_connection): self.vif_drivers = {} for vif_driver in CONF.libvirt.vif_drivers: vif_driver_class = importutils.import_class(vif_driver) self.vif_drivers[vif_driver_class.vif_type] = \ vif_driver_class(vif_driver_class) def get_config(self, instance, vif, image_meta, inst_type, virt_type): vif_driver = self.vif_drivers[vif['type']] retrun vif_driver.get_config(instance, vif, image_meta, inst_type, virt_type) def plug(self, instance, vif): vif_driver = self.vif_drivers[vif['type']] vif_driver.plug(instance, vif) def unplug(self, instance, vif): vif_driver = self.vif_drivers[vif['type']] vif_drivers.unplug(instance, vif) Update libvirt/vif.py module accordingly ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ - Split LibvirtGenericVIFDriver into several sub-classes: .. code-block:: python class LibvirtBridgeVIFDriver(LibvirtBaseVIFDriver) class LibvirtOvsVIFDriver(LibvirtBaseVIFDriver) class LibvirtIvsVIFDriver(LibvirtBaseVIFDriver) class Libvirt802QBGVIFDriver(LibvirtBaseVIFDriver) class Libvirt802QBHVIFDriver(LibvirtBaseVIFDriver) class LibvirtHwVebVIFDriver(LibvirtBaseVIFDriver) class LibvirtIovisorVIFDriver(LibvirtBaseVIFDriver) class LibvirtMidonetVIFDriver(LibvirtBaseVIFDriver) class LibvirtMlnxDirectVIFDriver(LibvirtBaseVIFDriver) .. note: Spliting the VIF driver allows for more modular code. - Add a new LibvirtBaseVIFDriver class. The API of a VIF driver is defined by this class. Each VIF driver must inherit this class. .. code-block:: python class LibvirtBaseVIFDriver(object): """"""Base VIF driver for libvirt networking."""""" # vif_type need to be set here for vif_manager vif_type = network_model.VIF_TYPE_OTHER def __init__(self, get_connection): self.get_connection = get_connection def get_base_config(self, instance, vif, image_meta, inst_type, virt_type): ... # Each vif driver need to implemented these methods def get_config(self, instance, vif, image_meta, inst_type, virt_type): raise NotImplementedError() def plug(self, instance, vif): raise NotImplementedError() def unplug(self, instance, vif): raise NotImplementedError() .. note:: There is no guarantee regarding the statibily of this API. It is up to the vendor to ensure that its external VIF driver is supported by the latest API. Alternatives ~~~~~~~~~~~~ Reintroduce vif_driver the option +++++++++++++++++++++++++++++++++ The vif_driver option has been introduced by this 2011 commit: https://github.com/openstack/nova/commit/a05b0325a76dea16a2d5f7d1931a5cbc922e03 The vif_driver option could be used to load external VIF drivers. However, in the Juno release, the vif_driver option has been removed. This is a direct consequence of this old blueprint: Simplify libvirt VIF drivers. (ref: https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver ) The main reason is: A great burden is placed on the Nova sysadmin to correctly configure libvirt VIF driver choices. All of this can & should be done automatically based on information about the type of network Nova is connecting to. LibvirtVIFDriverManager and LibvirtGenericVIFDriver +++++++++++++++++++++++++++++++++++++++++++++++++++ With these alternatives, the LibvirtGenericVIFDriver is not split into multiple classes for each vif_driver. The LibvirtVIFDriverManager is still in charge of loading the vif_driver class. But a vif_driver class can support multiple vif_types. .. rubric:: Pros - Small changes for LibvirtGenericVIFDriver vs. splitting it into multiple VIF drivers classes. .. rubric:: Cons - The selection of the VIF driver is more complex, it is done in two phases: - LibvirtVIFDriverManager selects the VIFDriver class depending on the VIF_TYPE. - The VIFDriver class (e.g., LibvirtGenericVIFDriver) selects a specific vif_driver depending on the VIF_TYPE. - Having a logic for one VIF_TYPE and another for one vif_driver class seems to be less confusing. It is still possible to have a module such as :file:`vif.py` supporting multiple vif_drivers with multiples classes. Add a plugin mechanism in LibvirtGenericVIFDriver +++++++++++++++++++++++++++++++++++++++++++++++++ There are no new classes: 'LibvirtVIFDriverManager'. The LibvirtGenericVIFDriver is in charge of loading the external VIF driver. To select a VIF_DRIVER for the get_config, plug, and unplug methods, the LibvirtGenericVIFDriver first tries to use this internal function. If there are no internal functions for this VIF_TYPE, the vif_driver is selected from the external_vif_drivers dictionary attribute. .. rubric:: Example .. code-block:: python def get_config(self, instance, vif, image_meta, inst_type, virt_type): vif_type = vif['type'] ... vif_slug = self._normalize_vif_type(vif_type) func = getattr(self, 'get_config_%s' % vif_slug, None) if not func: external_vif_driver = self.external_vif_drivers[vif_type] if not external_vif_driver: raise exception.NovaException( _(""Unexpected vif_type=%s"") % vif_type) func = external_vif_driver.get_config return func(instance, vif, image_meta, inst_type, virt_type) .. rubric:: Pros - Small changes for LibvirtGenericVIFDriver instead of splitting it into multiple VIF drivers classes. - vif_driver selection is done in one class (instead of 2 for the first alternative). .. rubric:: Cons - The LibvirtGenericVIFDriver is in charge of loading external devices. Having a dedicated class in charge of loading VIF drivers and of selecting a VIF driver seems to be a better implementation. - VIF drivers in the Nova tree are not implemented in the same way as external VIF drivers. The same API should be used for all the VIF drivers. - It is not possible to replace a VIF driver in the tree by an alternative one. Data model impact ~~~~~~~~~~~~~~~~~ No impact REST API impact ~~~~~~~~~~~~~~~ No impact Security impact ~~~~~~~~~~~~~~~ No impact Notifications impact ~~~~~~~~~~~~~~~~~~~~ No impact Other end user impact ~~~~~~~~~~~~~~~~~~~~~ No Impact Performance Impact ~~~~~~~~~~~~~~~~~~ The code in charge of the vif drivers is re-organized but that has not impact on the performance. Other deployer impact ~~~~~~~~~~~~~~~~~~~~~ The vif_drivers option (in :file:`/etc/nova.conf`) has a default value with all the libvirt VIF drivers available in Nova. The cloud administrator doesn't need to use this option for standard VIF drivers. Only advanced users and developers would use this options. Developer impact ~~~~~~~~~~~~~~~~ It would help to test new VIF driver. Implementation -------------- Assignee(s) ~~~~~~~~~~~ Primary assignee: maxime-leroy Work Items ~~~~~~~~~~ - Add new LibvirtVIFDriverManager with the vif_options - Split LibvirtGenericVIFDriver into several sub-classes Dependencies ------------ None Testing ------- - Add a new unit test to check that we can load a dummy vif_driver in LibvirtVIFDriverManager - Update :file:`test_vif.py` to use the LibvirtVIFDriverManager class instead of the LibvirtGenericVIFDriver class Documentation Impact -------------------- The new vif_drivers option for libvirt in :file:`nova.conf` needs to be documented. References ---------- None ",,428,0
openstack%2Fneutron~master~Icc6fd98982c946a8adac65fc0a1933c3dbec1362,openstack/neutron,master,Icc6fd98982c946a8adac65fc0a1933c3dbec1362,check that the vxlan kernel module is available in the proper way,ABANDONED,2014-12-10 21:16:27.000000000,2014-12-15 21:17:30.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10068}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14288}]","[{'number': 1, 'created': '2014-12-10 21:16:27.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be0e074e63ec3c862c8181d3f42770c8c43a3412', 'message': 'check that the vxlan kernel module is available in the proper way\n\nInstead of checking via modinfo (which only checks if a module is\navailable) this checks that the module is loaded into the running\nkernel.  It also checks via sysfs which is both a more reliable and more\navailable way of checking that a module is available.  It also works on\nstatically compiled kernels.\n\nChange-Id: Icc6fd98982c946a8adac65fc0a1933c3dbec1362\nCloses-Bug: 1339197\n'}]",2,140839,be0e074e63ec3c862c8181d3f42770c8c43a3412,25,20,1,14288,,,0,"check that the vxlan kernel module is available in the proper way

Instead of checking via modinfo (which only checks if a module is
available) this checks that the module is loaded into the running
kernel.  It also checks via sysfs which is both a more reliable and more
available way of checking that a module is available.  It also works on
statically compiled kernels.

Change-Id: Icc6fd98982c946a8adac65fc0a1933c3dbec1362
Closes-Bug: 1339197
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/140839/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py']",2,be0e074e63ec3c862c8181d3f42770c8c43a3412,bug/1339197," def _check_vxlan_module_supported(self, expected): with mock.patch.object(os.path, 'exists') as exists_fn: exists_fn.return_value = expected if expected is True: self.assertTrue(self.lbm.vxlan_module_supported()) else: self.assertFalse(self.lbm.vxlan_module_supported()) exists_fn.assert_called_with('/sys/module/vxlan') expected=True) expected=False)"," def _check_vxlan_module_supported(self, expected, execute_side_effect): with mock.patch.object( utils, 'execute', side_effect=execute_side_effect): self.assertEqual(expected, self.lbm.vxlan_module_supported()) expected=True, execute_side_effect=None) expected=False, execute_side_effect=RuntimeError())",11,14
openstack%2Fpuppet-monasca~master~Ie1e32d7c6db2d0a482bbac0e468ded4ebbb8572e,openstack/puppet-monasca,master,Ie1e32d7c6db2d0a482bbac0e468ded4ebbb8572e,Update api config file to latest bits,MERGED,2014-12-10 22:03:59.000000000,2014-12-15 20:57:05.000000000,2014-12-15 20:57:04.000000000,"[{'_account_id': 3}, {'_account_id': 8126}, {'_account_id': 11155}]","[{'number': 1, 'created': '2014-12-10 22:03:59.000000000', 'files': ['templates/api-config.yml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/ae99c12c46c41e195fb07256e7896619a337c1cd', 'message': 'Update api config file to latest bits\n\nChange-Id: Ie1e32d7c6db2d0a482bbac0e468ded4ebbb8572e\n'}]",0,140844,ae99c12c46c41e195fb07256e7896619a337c1cd,7,3,1,8126,,,0,"Update api config file to latest bits

Change-Id: Ie1e32d7c6db2d0a482bbac0e468ded4ebbb8572e
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/44/140844/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/api-config.yml.erb'],1,ae99c12c46c41e195fb07256e7896619a337c1cd,feature/update_api_conf, keystore: None keystorePassword: None, serviceIds: 100 endpointIds: 160,2,2
openstack%2Fneutron-specs~master~I50fa7150383ee0195e3e24b2f0dc3279fae1bc49,openstack/neutron-specs,master,I50fa7150383ee0195e3e24b2f0dc3279fae1bc49,VMWare LBaaS v2 support,MERGED,2014-12-09 18:40:16.000000000,2014-12-15 20:56:58.000000000,2014-12-15 20:56:56.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 8645}, {'_account_id': 10068}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-12-09 18:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ae849898399be9434be146f78b0f1b691ab80dd0', 'message': 'VMWare LBaaS v2 support\n\nSpec for the above\n\nChange-Id: I50fa7150383ee0195e3e24b2f0dc3279fae1bc49\n'}, {'number': 2, 'created': '2014-12-10 06:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1941294a334ff0013908717244811a1fcf232299', 'message': 'VMWare LBaaS v2 support\n\nSpec for the above\n\nChange-Id: I50fa7150383ee0195e3e24b2f0dc3279fae1bc49\n'}, {'number': 3, 'created': '2014-12-10 07:34:03.000000000', 'files': ['specs/kilo/vmware-lbaas-v2.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c2d83996f8f8648f831a5e33e58d453e05bbd257', 'message': 'VMWare LBaaS v2 support\n\nSpec for the above\n\nChange-Id: I50fa7150383ee0195e3e24b2f0dc3279fae1bc49\n'}]",5,140427,c2d83996f8f8648f831a5e33e58d453e05bbd257,18,7,3,13438,,,0,"VMWare LBaaS v2 support

Spec for the above

Change-Id: I50fa7150383ee0195e3e24b2f0dc3279fae1bc49
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/27/140427/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/vmware-lbaas-v2.rst'],1,ae849898399be9434be146f78b0f1b691ab80dd0,,"VMWware LBaaS Driver ==================== https://blueprints.launchpad.net/neutron/+spec/vmware-lbaas-v2 Neutron/LBaaS driver for VMWare NSX-v loadbalancer. Problem Description =================== The new driver would allow using VMWare NSX-v loadbalancer for Neutron/LBaaS functionality. Proposed Change =============== The driver (v2 driver based on v2 object model and API) will implement the interfaces in the LoadBalancerBaseDriver, using vDirect REST API, a JSON HTTP interface for configuring Radware appliances. The following managers will be implemented: * LoadBalancerManager * ListenerManager * PoolManager * MemberManager * HealthMonitorManager Alternatives ------------ None. Data Model Impact ----------------- None. REST API Impact --------------- None. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- None. Performance Impact ------------------ None. IPv6 Impact ----------- None. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Community Impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: https://launchpad.net/~ksamoray Work Items ---------- * VMWare driver code * Unit tests * Voting CI Dependencies ============ None. Testing ======= Tempest Tests ------------- None. Functional Tests ---------------- Functional Tests sohuld be added for driver API Tests --------- None. Documentation Impact ==================== User Documentation ------------------ None. Developer Documentation ----------------------- None. References ========== None. ",,140,0
openstack%2Foperations-guide~master~If9090ea380cf47658b77978d455aa5ae4d0a31a6,openstack/operations-guide,master,If9090ea380cf47658b77978d455aa5ae4d0a31a6,Workflow documentation is now in infra-manual,ABANDONED,2014-12-05 03:43:11.000000000,2014-12-15 20:54:59.000000000,,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2014-12-05 03:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/b784c144bbbc665f20198a7d20686d74ea101137', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: If9090ea380cf47658b77978d455aa5ae4d0a31a6\n'}, {'number': 2, 'created': '2014-12-05 06:22:28.000000000', 'files': ['doc/openstack-ops/ch_ops_upstream.xml', 'doc/openstack-ops/ch_ops_customize.xml'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/9d15496df87c348a965e22b8918e5fd4000dfb36', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: If9090ea380cf47658b77978d455aa5ae4d0a31a6\n'}]",2,139347,9d15496df87c348a965e22b8918e5fd4000dfb36,8,4,2,5263,,,0,"Workflow documentation is now in infra-manual

Replace URLs for workflow documentation to appropriate parts of the
OpenStack Project Infrastructure Manual.

Change-Id: If9090ea380cf47658b77978d455aa5ae4d0a31a6
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/47/139347/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/openstack-ops/ch_ops_upstream.xml', 'doc/openstack-ops/locale/openstack-ops.pot', 'doc/openstack-ops/ch_ops_customize.xml']",3,b784c144bbbc665f20198a7d20686d74ea101137,infra-manual," Learn <link xlink:href=""http://docs.openstack.org/infra/manual/developers.html"">how to contribute</link>, follow the <link xlink:href=""http://docs.openstack.org/infra/manual/developers.html#development-workflow"">code review <screen><prompt>$</prompt> <userinput>git clone https://git.openstack.org/cgit/openstack-dev/devstack.git -b"," Learn <link xlink:href=""https://wiki.openstack.org/wiki/How_To_Contribute"">how to contribute</link>, follow the <link xlink:href=""https://wiki.openstack.org/wiki/GerritWorkflow"">code review <screen><prompt>$</prompt> <userinput>git clone https://github.com/openstack-dev/devstack.git -b",6,6
openstack%2Fopenstack-manuals~master~Ib554a88f9ebfe8910df3f08d800ff169b1519a87,openstack/openstack-manuals,master,Ib554a88f9ebfe8910df3f08d800ff169b1519a87,Workflow documentation is now in infra-manual,ABANDONED,2014-12-05 03:43:00.000000000,2014-12-15 20:53:29.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 9382}]","[{'number': 1, 'created': '2014-12-05 03:43:00.000000000', 'files': ['doc/config-reference/locale/config-reference.pot', 'doc/config-reference/compute/section_xen-install.xml', 'www/ops/oreilly-openstack-ops-guide.mobi'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/594528212d14ac39a3669b360ba0fbe749d10df4', 'message': 'Workflow documentation is now in infra-manual\n\nReplace URLs for workflow documentation to appropriate parts of the\nOpenStack Project Infrastructure Manual.\n\nChange-Id: Ib554a88f9ebfe8910df3f08d800ff169b1519a87\n'}]",4,139344,594528212d14ac39a3669b360ba0fbe749d10df4,11,6,1,5263,,,0,"Workflow documentation is now in infra-manual

Replace URLs for workflow documentation to appropriate parts of the
OpenStack Project Infrastructure Manual.

Change-Id: Ib554a88f9ebfe8910df3f08d800ff169b1519a87
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/44/139344/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/locale/config-reference.pot', 'doc/config-reference/compute/section_xen-install.xml', 'www/ops/oreilly-openstack-ops-guide.mobi']",3,594528212d14ac39a3669b360ba0fbe749d10df4,infra-manual,,,3,3
openstack%2Ffuel-library~master~Id49a6ee1852e5d65a9994802c5949eac26dc1821,openstack/fuel-library,master,Id49a6ee1852e5d65a9994802c5949eac26dc1821,Add pretend_min_part_hours_passed before rebalance,MERGED,2014-12-15 15:48:59.000000000,2014-12-15 20:41:59.000000000,2014-12-15 20:41:58.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-15 15:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b1d9907e6f89a47ebe327d0a5cddfac11ecd2e75', 'message': 'Add pretend_min_part_hours_passed before rebalance\n\nAdd pretend_min_part_hours_passed before rebalancing swift ring.\n\nCloses-bug: #1402701\nChange-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821\n'}, {'number': 2, 'created': '2014-12-15 16:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4d79213deddca1a43e41ca92468223870d9cf118', 'message': 'Add pretend_min_part_hours_passed before rebalance\n\nAdd pretend_min_part_hours_passed before rebalancing swift ring.\nMake sure some dirs are created with proper ownership.\n\nCloses-bug: #1402701\nChange-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821\n'}, {'number': 3, 'created': '2014-12-15 17:28:47.000000000', 'files': ['deployment/puppet/openstack/manifests/swift/proxy.pp', 'deployment/puppet/swift/manifests/ringbuilder/rebalance.pp', 'deployment/puppet/swift/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cc063caf870bfdce46d8c2afe0837e83e8673696', 'message': 'Add pretend_min_part_hours_passed before rebalance\n\nAdd pretend_min_part_hours_passed before rebalancing swift ring.\nMake sure some dirs are created with proper ownership.\n\nCloses-bug: #1402701\nChange-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821\n'}]",0,141827,cc063caf870bfdce46d8c2afe0837e83e8673696,25,4,3,9387,,,0,"Add pretend_min_part_hours_passed before rebalance

Add pretend_min_part_hours_passed before rebalancing swift ring.
Make sure some dirs are created with proper ownership.

Closes-bug: #1402701
Change-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/27/141827/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/swift/proxy.pp', 'deployment/puppet/swift/manifests/ringbuilder/rebalance.pp']",2,b1d9907e6f89a47ebe327d0a5cddfac11ecd2e75,swift-rebalance-fix," if ! defined(Anchor['rebalance_begin']) { anchor {'rebalance_begin':} } if ! defined(Anchor['rebalance_end']) { anchor {'rebalance_end':} } Anchor['rebalance_begin'] -> Exec[""hours_passed_${name}""] -> Exec[""rebalance_${name}""] -> Anchor[""rebalance_end""] exec { ""hours_passed_${name}"": command => ""swift-ring-builder /etc/swift/${name}.builder pretend_min_part_hours_passed"", path => ['/usr/bin','/bin'], refreshonly => true, user => 'swift', returns => [0,1], } path => ['/usr/bin','/bin'], timeout => 900, user => 'swift', returns => [0,1], } "," path => ['/usr/bin'], }",25,3
openstack%2Fnova~master~Ic7fc2937d818294b25815aadf639c0ee20f38132,openstack/nova,master,Ic7fc2937d818294b25815aadf639c0ee20f38132,Use DB in CellsConductorAPIRPCRedirect tests,ABANDONED,2014-12-15 16:05:17.000000000,2014-12-15 20:40:51.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11748}]","[{'number': 1, 'created': '2014-12-15 16:05:17.000000000', 'files': ['nova/tests/unit/compute/test_compute_cells.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0a9f73973e5fa8181cbdbaa36dff26f555b1d01', 'message': 'Use DB in CellsConductorAPIRPCRedirect tests\n\nThis is an incidental change to support a future patch that will add\nblock device detection to live migration, and thus will necessitate\nusing the database in the\nnova.tests.unit.compute.test_compute_cells.CellsConductorAPIRCPRedirect.test_live_migrate_instance\ncase, which calls a live migration.\n\nChange-Id: Ic7fc2937d818294b25815aadf639c0ee20f38132\nPartial-Bug: 1398999\n'}]",0,141832,e0a9f73973e5fa8181cbdbaa36dff26f555b1d01,9,7,1,11748,,,0,"Use DB in CellsConductorAPIRPCRedirect tests

This is an incidental change to support a future patch that will add
block device detection to live migration, and thus will necessitate
using the database in the
nova.tests.unit.compute.test_compute_cells.CellsConductorAPIRCPRedirect.test_live_migrate_instance
case, which calls a live migration.

Change-Id: Ic7fc2937d818294b25815aadf639c0ee20f38132
Partial-Bug: 1398999
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/141832/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute_cells.py'],1,e0a9f73973e5fa8181cbdbaa36dff26f555b1d01,bug/1398999,class CellsConductorAPIRPCRedirect(test.TestCase):,class CellsConductorAPIRPCRedirect(test.NoDBTestCase):,1,1
openstack%2Fneutron-vpnaas~master~Iff8d9eea4ea539361da5b5d9c50a9cc78d0b5350,openstack/neutron-vpnaas,master,Iff8d9eea4ea539361da5b5d9c50a9cc78d0b5350,VPNaaS: Advanced Services split - unit tests,MERGED,2014-12-13 01:15:45.000000000,2014-12-15 20:40:20.000000000,2014-12-15 20:40:19.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 6659}, {'_account_id': 6951}, {'_account_id': 9656}, {'_account_id': 10980}]","[{'number': 1, 'created': '2014-12-13 01:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8a7cb387fd99d44d48b8a5c5544b8983611f3dda', 'message': 'VPNaaS: Advanced Services split - unit tests\n\nEnabling test modules, and fixing imports. Able to run unit\ntests and PEP8.\n\nChange-Id: Iff8d9eea4ea539361da5b5d9c50a9cc78d0b5350\n'}, {'number': 2, 'created': '2014-12-13 16:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bc50064b5040e8e1afd43f41d5c1a0f4af67260d', 'message': ""VPNaaS: Advanced Services split - unit tests\n\nEnabling test modules, and fixing imports. Able to run unit tests and\nPEP8. Had to override policy file to use Neutron's policy.json.\n\nIncluded Ihar's move of get_admin_context() from commit 141405.\n\nPartially-Implements: blueprint services-split\nChange-Id: Iff8d9eea4ea539361da5b5d9c50a9cc78d0b5350\n""}, {'number': 3, 'created': '2014-12-14 19:27:05.000000000', 'files': ['neutron_vpnaas/tests/unit/db/vpn/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpnaas_extension.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_cisco_ipsec.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_cisco_csr_rest.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron_vpnaas/tests/unit/services/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_cisco_ipsec.py', 'neutron_vpnaas/tests/unit/__init__.py', 'neutron_vpnaas/tests/unit/test_true.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpn_agent.py', 'neutron_vpnaas/tests/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/tests.skip/unit/__init__.py', 'neutron_vpnaas/tests/unit/db/__init__.py', 'neutron_vpnaas/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron_vpnaas/tests/unit/services/vpn/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpnaas_driver_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/baed505c2e80299c0ae9e90ab063e2497a1a7f82', 'message': ""VPNaaS: Advanced Services split - unit tests\n\nEnabling test modules, and fixing imports. Able to run unit tests and\nPEP8. Had to override policy file to use Neutron's policy.json.\n\nPartially-Implements: blueprint services-split\nChange-Id: Iff8d9eea4ea539361da5b5d9c50a9cc78d0b5350\n""}]",1,141532,baed505c2e80299c0ae9e90ab063e2497a1a7f82,27,6,3,6659,,,0,"VPNaaS: Advanced Services split - unit tests

Enabling test modules, and fixing imports. Able to run unit tests and
PEP8. Had to override policy file to use Neutron's policy.json.

Partially-Implements: blueprint services-split
Change-Id: Iff8d9eea4ea539361da5b5d9c50a9cc78d0b5350
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/32/141532/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/unit/db/vpn/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpnaas_extension.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_cisco_ipsec.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_cisco_csr_rest.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_ipsec.py', 'neutron_vpnaas/tests/unit/services/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/service_drivers/test_cisco_ipsec.py', 'neutron_vpnaas/tests/unit/__init__.py', 'neutron_vpnaas/tests/unit/test_true.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpn_agent.py', 'neutron_vpnaas/tests/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py', 'neutron_vpnaas/tests.skip/unit/__init__.py', 'neutron_vpnaas/tests/unit/db/__init__.py', 'neutron_vpnaas/tests/unit/db/vpn/test_db_vpnaas.py', 'neutron_vpnaas/tests/unit/services/vpn/__init__.py', 'neutron_vpnaas/tests/unit/services/vpn/test_vpnaas_driver_plugin.py']",19,8a7cb387fd99d44d48b8a5c5544b8983611f3dda,bp/services-split,from neutron_vpnaas.tests.unit.db.vpn import test_db_vpnaasVPN_DRIVER_CLASS = 'neutron_vpnaas.services.vpn.plugin.VPNDriverPlugin' 'neutron_vpnaas.services.vpn.',from neutron.tests.unit.db.vpn import test_db_vpnaasVPN_DRIVER_CLASS = 'neutron.services.vpn.plugin.VPNDriverPlugin' 'neutron.services.vpn.',56,52
openstack%2Ffuel-library~stable%2F6.0~Id49a6ee1852e5d65a9994802c5949eac26dc1821,openstack/fuel-library,stable/6.0,Id49a6ee1852e5d65a9994802c5949eac26dc1821,Add pretend_min_part_hours_passed before rebalance,MERGED,2014-12-15 15:50:48.000000000,2014-12-15 20:40:13.000000000,2014-12-15 20:40:11.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-15 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ff77f2b53c98079f573ddaff8697ae862058e63a', 'message': 'Add pretend_min_part_hours_passed before rebalance\n\nAdd pretend_min_part_hours_passed before rebalancing swift ring.\n\nCloses-bug: #1402701\nChange-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821\n'}, {'number': 2, 'created': '2014-12-15 16:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b2206cbd52330a24116ab733e340a11ea8a38e9d', 'message': 'Add pretend_min_part_hours_passed before rebalance\n\nAdd pretend_min_part_hours_passed before rebalancing swift ring.\nMake sure some dirs are created with proper ownership.\n\nCloses-bug: #1402701\nChange-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821\n'}, {'number': 3, 'created': '2014-12-15 17:29:03.000000000', 'files': ['deployment/puppet/openstack/manifests/swift/proxy.pp', 'deployment/puppet/swift/manifests/ringbuilder/rebalance.pp', 'deployment/puppet/swift/manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f81afbbd7075967ce265ac169a89180da715027c', 'message': 'Add pretend_min_part_hours_passed before rebalance\n\nAdd pretend_min_part_hours_passed before rebalancing swift ring.\nMake sure some dirs are created with proper ownership.\n\nCloses-bug: #1402701\nChange-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821\n'}]",0,141828,f81afbbd7075967ce265ac169a89180da715027c,22,4,3,9387,,,0,"Add pretend_min_part_hours_passed before rebalance

Add pretend_min_part_hours_passed before rebalancing swift ring.
Make sure some dirs are created with proper ownership.

Closes-bug: #1402701
Change-Id: Id49a6ee1852e5d65a9994802c5949eac26dc1821
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/28/141828/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/swift/proxy.pp', 'deployment/puppet/swift/manifests/ringbuilder/rebalance.pp']",2,ff77f2b53c98079f573ddaff8697ae862058e63a,," if ! defined(Anchor['rebalance_begin']) { anchor {'rebalance_begin':} } if ! defined(Anchor['rebalance_end']) { anchor {'rebalance_end':} } Anchor['rebalance_begin'] -> Exec[""hours_passed_${name}""] -> Exec[""rebalance_${name}""] -> Anchor[""rebalance_end""] exec { ""hours_passed_${name}"": command => ""swift-ring-builder /etc/swift/${name}.builder pretend_min_part_hours_passed"", path => ['/usr/bin','/bin'], refreshonly => true, user => 'swift', returns => [0,1], } path => ['/usr/bin','/bin'], timeout => 900, user => 'swift', returns => [0,1], } "," path => ['/usr/bin'], }",25,3
openstack%2Fneutron-specs~master~Ib3e0843476213451d971f045bf0f0961c0275466,openstack/neutron-specs,master,Ib3e0843476213451d971f045bf0f0961c0275466,Radware LBaaS Driver,MERGED,2014-12-07 09:16:03.000000000,2014-12-15 20:16:05.000000000,2014-12-15 20:16:04.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 8645}, {'_account_id': 10980}, {'_account_id': 11685}]","[{'number': 1, 'created': '2014-12-07 09:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/37f649ff2b2920161c7d1db11b98ed7ed89d955b', 'message': 'Radware LBaaS Driver\n\nChange-Id: Ib3e0843476213451d971f045bf0f0961c0275466\n'}, {'number': 2, 'created': '2014-12-07 10:15:25.000000000', 'files': ['specs/kilo/radware-lbaas-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bea704b7861ed33dc5ca576852e66d4d22ed5f27', 'message': 'Radware LBaaS Driver\n\nChange-Id: Ib3e0843476213451d971f045bf0f0961c0275466\n'}]",4,139854,bea704b7861ed33dc5ca576852e66d4d22ed5f27,13,7,2,8446,,,0,"Radware LBaaS Driver

Change-Id: Ib3e0843476213451d971f045bf0f0961c0275466
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/54/139854/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/radware-lbaas-driver.rst'],1,37f649ff2b2920161c7d1db11b98ed7ed89d955b,,"==================== Radware LBaaS Driver ==================== https://blueprints.launchpad.net/neutron/+spec/radware-lbaas-driver Neutron/LBaaS driver for Radware ADC. Problem description =================== The new driver would allow using Radware ADC appliances as backends for Neutron/LBaaS functionality. Proposed change =============== The driver (v2 driver based on v2 object model and API) will implement the interfaces in the LoadBalancerBaseDriver, using vDirect REST API, a JSON HTTP interface for configuring Radware appliances. The following managers will be implemented: * LoadBalancerManager * ListenerManager * PoolManager * MemberManager * HealthMonitorManager Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: https://launchpad.net/~avishayb Work Items ---------- * Radware driver code * Unit tests * Voting CI Dependencies ============ * https://review.openstack.org/#/c/101084/ Testing ======= * Unit tests * Radware QA * Third party CI Documentation Impact ==================== None. References ========== None. ",,116,0
openstack%2Fneutron-specs~master~I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4,openstack/neutron-specs,master,I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4,Spec for the brocade lbaas driver based on v2 lbaas data model,MERGED,2014-11-13 03:51:46.000000000,2014-12-15 20:02:57.000000000,2014-12-15 20:02:56.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2592}, {'_account_id': 7590}, {'_account_id': 8645}, {'_account_id': 10980}, {'_account_id': 11685}]","[{'number': 1, 'created': '2014-11-13 03:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/437dab2c8e95562b48401416689de2bb691eb42d', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4\n'}, {'number': 2, 'created': '2014-11-13 04:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de12c7a7bf7c07754f54258d62e7391b11311753', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4\n'}, {'number': 3, 'created': '2014-11-13 04:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4d39cad0bdfb2a9da9674c8f30dda986efff704f', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4\n'}, {'number': 4, 'created': '2014-12-12 02:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/854d78872742baf587465070e09a92e704d5fcee', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4\n'}, {'number': 5, 'created': '2014-12-12 02:49:41.000000000', 'files': ['specs/kilo/brocade-lbaas-v2-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8137f2cd13d7595666de1ea6d9b50f7bbe05eedc', 'message': 'Spec for the brocade lbaas driver based on v2 lbaas data model\n\nChange-Id: I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4\n'}]",11,134108,8137f2cd13d7595666de1ea6d9b50f7bbe05eedc,22,7,5,7590,,,0,"Spec for the brocade lbaas driver based on v2 lbaas data model

Change-Id: I73cf24b20ed93ea2f069f3b54e7d1e9070fe8fc4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/08/134108/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/brocade-lbaas-v2-driver.rst'],1,437dab2c8e95562b48401416689de2bb691eb42d,bp/neutron-brocade-lbaas-driver,"============================================= Brocade LBaaS Plugin Driver and Device Driver ============================================= Problem description =================== URL of the launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/neutron-brocade-lbaas-driver Brocade LBaaS Plugin and Driver for the Brocade ADX Load Balancer Devices for the LBaaS in Neutron. Proposed change =============== The driver will implement the interfaces according to the driver interfaces mentioned in the spec https://review.openstack.org/100690 for the blueprint https://blueprints.launchpad.net/neutron/+spec/lbaas-objmodel-driver-changes The following managers will be implemented: * LoadBalancerManager * ListenerManager * PoolManager * MemberManager * HealthMonitorManager The integration consists of a plugin driver class configured in the Neutron configuration file (neutron.conf), and the accompanying unit tests. Implementation comprise of Plugin Driver and Brocade Device Driver. Brocade LBaaS Plugin Driver extends/implements the driver interfaces as mentioned above and forwards the request to the device driver. A simple file based device inventory component (packaged as part of brocade device driver) supports the hardware load balancer devices. The device information (IP, User and Password) along with the list of Subnets served by the load balancer device are specified in JSON format in a file. The Plugin Driver selects a device based on the Subnet Id of the loadbalancer and forwards the request to the Device Driver with the device context. The device driver communicates with the Brocade ADX Load Balancer Device via SOAP/XML APIs. The device driver use SUDs python module for the SOAP/XML API calls. Supported Features Protocols: HTTPS, HTTP, TCP LB Algorithms: ROUND_ROBIN, LEAST_CONNECTIONS Session persistence: SOURCE_IP Health Monitoring: TCP, HTTP, HTTPS Stats retrieval CRUD on loadbalancer, listener, pool, healthmonitor, member Product Versions supported ADX 12.5 and above Virtual ADX 3.0, 3.1 and above Exceptions Brocade LBaaS Device Driver will raise one of the following exceptions ConfigError . Raised when a configuration exception occurs on the load balancer device UnsupportedFeature . Raised when a particular feature is not yet supported by the Device Driver (For example, Session Persistence for APP_COOKIE/HTTP_COOKIE) UnsupportedOption . Raised when an unsupported value is specified for an attribute. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Service_provider entry in the neutron.conf file needs to be updated to reflect Brocade as one of the service_provider for the plugin to be effective. Otherwise, HAProxy will be the default LBaaS Service Provider. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- https://launchpad.net/~pattabi Work Items ---------- * Brocade driver code * Unit tests * Voting CI Dependencies ============ * https://blueprints.launchpad.net/neutron/+spec/lbaas-api-and-objmodel-improvement * https://review.openstack.org/#/c/101084/ * https://review.openstack.org/#/c/105331/ * https://review.openstack.org/#/c/105609/ * https://review.openstack.org/#/c/105610/ Testing ======= - Unit Tests - Brocade QA - Existing LBaaS tests provide complete coverage, if driver is installed and configured (as our CI will do.) Documentation Impact ==================== None References ========== None ",,176,0
openstack%2Ffuel-main~master~I5959d10df731eee2e81db5943105b227ceec8938,openstack/fuel-main,master,I5959d10df731eee2e81db5943105b227ceec8938,Change thread for cluster_action tests,MERGED,2014-12-15 17:52:15.000000000,2014-12-15 20:01:55.000000000,2014-12-15 19:58:03.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10136}, {'_account_id': 11081}]","[{'number': 1, 'created': '2014-12-15 17:52:15.000000000', 'files': ['fuelweb_test/tests/test_environment_action.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/30c24c198924285877041efda53a334b0b84f110', 'message': 'Change thread for cluster_action tests\n\nIn thread_2 and thread_3 we have aborded jobs,\ncause cluster_action tests are require extra time.\n\nChange-Id: I5959d10df731eee2e81db5943105b227ceec8938\n'}]",0,141859,30c24c198924285877041efda53a334b0b84f110,11,6,1,8882,,,0,"Change thread for cluster_action tests

In thread_2 and thread_3 we have aborded jobs,
cause cluster_action tests are require extra time.

Change-Id: I5959d10df731eee2e81db5943105b227ceec8938
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/59/141859/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_environment_action.py'],1,30c24c198924285877041efda53a334b0b84f110,(detached,"@test(groups=[""cluster_actions""])@test(groups=[""cluster_actions""])","@test(groups=[""thread_2"", ""cluster_actions""])@test(groups=[""thread_3"", ""cluster_actions""])",2,2
openstack%2Fmurano-specs~master~I1a8956faef35c254541a434f8d8a375a00cc5621,openstack/murano-specs,master,I1a8956faef35c254541a434f8d8a375a00cc5621,Policy Rules Attachment in Murano,ABANDONED,2014-12-09 16:35:54.000000000,2014-12-15 19:59:12.000000000,,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 14269}]","[{'number': 1, 'created': '2014-12-09 16:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/4486c71ec8d63b23853d0dd69a4c95173de4a299', 'message': 'Policy Rules Attachment in Murano\n\nAs a part of policy guided fulfillment we need to attach policy rules to Murano global context, in order to enforce the policy rules on environment deployment.\n\nChange-Id: I1a8956faef35c254541a434f8d8a375a00cc5621\nAuthor: Radek Pospisil\n'}, {'number': 2, 'created': '2014-12-09 16:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/80eb7228c95ca8f343aebd370910b8ae937899bf', 'message': 'Policy Rules Attachment in Murano\n\nAs a part of policy guided fulfillment we need to attach\npolicy rules to Murano global context, in order to enforce\nthe policy rules on environment deployment.\n\nChange-Id: I1a8956faef35c254541a434f8d8a375a00cc5621\nAuthor: Radek Pospisil\n'}, {'number': 3, 'created': '2014-12-12 10:08:05.000000000', 'files': ['specs/kilo/policy-rules-attachment.rst'], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/94bab1a1f207da807a1b6a535276f5281e758685', 'message': 'Policy Rules Attachment in Murano\n\nAs a part of policy guided fulfillment we need to attach\npolicy rules to Murano global context, in order to enforce\nthe policy rules on environment deployment.\n\nChange-Id: I1a8956faef35c254541a434f8d8a375a00cc5621\nAuthor: Radek Pospisil\n'}]",0,140396,94bab1a1f207da807a1b6a535276f5281e758685,7,3,3,7225,,,0,"Policy Rules Attachment in Murano

As a part of policy guided fulfillment we need to attach
policy rules to Murano global context, in order to enforce
the policy rules on environment deployment.

Change-Id: I1a8956faef35c254541a434f8d8a375a00cc5621
Author: Radek Pospisil
",git fetch https://review.opendev.org/openstack/murano-specs refs/changes/96/140396/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/policy-rules-attachment.rst'],1,4486c71ec8d63b23853d0dd69a4c95173de4a299,bp/policy-guided-fullfillment,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================================== Policy Guided Fulfillment - Policy Rules Attachment in Murano ==================================================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/murano/+spec/example Problem description =================== As a part of policy guided fulfillment we need to attach policy rules to Murano global context, in order to enforce the policy rules on environment deployment. As a Administrator, I will be able to select policy rules from Congress to attach them to global context in Murano. During deployment the system will have access to the list of attached policy rules. Policy rules are managed in Congress. Proposed change =============== We need to * provide API to manage policy rules attachment for global context * provide API to list Congress policy and rules * provide UI for attachment management Alternatives ------------ None Data model impact ----------------- We need persistent storage for policy rule attachement. REST API impact --------------- Currently no REST API is planned Versioning impact ------------------------- None Other end user impact --------------------- There will be UI for attachment management Deployer impact --------------- None Developer impact ---------------- None Murano-dashboard / Horizon impact --------------------------------- New page for policy attachment will be introduced - *Murano/Manage/Policy*. * list of attached policy rules * action to attach new policy rule * list of policies and policy rules will be offered to the user. When policy rule is chosen, user has to * specify the parameter of the rule, where environment id is expected * whether it is negative or positive rule - i.e., whether Congress enforcement has not/has to return environment id in order to mark the enforcement as success or failure. Example: :: unsupportedAppInEnv(envId) :- obj(oid, envId, name), not appType(name) Where * rule is **unsupportedAppInEnv** * parameter is *envId* * it is *positive* (if environment id is returned by enforcement, then it is failure) Implementation ============== Assignee(s) ----------- **TBD** Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- 1. Prepare data model for policy rule attachment. It has to capture following data * policy rule identification - probably as path part of Congress URI * identification of rule where environment id will be expected * whether it is negative or positive rule - i.e., whether Congress enforcement has not/has to return environment id in order to mark the enforcement as success or failure. Dependencies ============ Congress python client Testing ======= **TBD** Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? Is this untestable in murano-ci? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== **TBD** What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== https://etherpad.openstack.org/p/policy-congress-murano-spec",,170,0
openstack%2Fpuppet-monasca~master~I204752a345440cb2a5e5dbbbc84f8ec3a8050b73,openstack/puppet-monasca,master,I204752a345440cb2a5e5dbbbc84f8ec3a8050b73,Add version to keystone catalog endpoints,MERGED,2014-12-12 20:33:45.000000000,2014-12-15 19:57:42.000000000,2014-12-15 19:57:42.000000000,"[{'_account_id': 3}, {'_account_id': 9500}, {'_account_id': 10540}, {'_account_id': 11155}]","[{'number': 1, 'created': '2014-12-12 20:33:45.000000000', 'files': ['manifests/params.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/1b2f40e813366f3a9a9950e49490b34852101e68', 'message': 'Add version to keystone catalog endpoints\n\nChange-Id: I204752a345440cb2a5e5dbbbc84f8ec3a8050b73\n'}]",0,141484,1b2f40e813366f3a9a9950e49490b34852101e68,6,4,1,8126,,,0,"Add version to keystone catalog endpoints

Change-Id: I204752a345440cb2a5e5dbbbc84f8ec3a8050b73
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/84/141484/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'manifests/keystone/auth.pp']",2,1b2f40e813366f3a9a9950e49490b34852101e68,feature/fix_keystone_endpoints," $api_version = $::monasca::params::api_version $public_url_real = ""${public_protocol}://${public_address}:${port}/${api_version}"" $admin_url_real = ""${admin_protocol}://${admin_address}:${port}/${api_version}"" $internal_url_real = ""${internal_protocol}://${internal_address}:${port}/${api_version}"""," $public_url_real = ""${public_protocol}://${public_address}:${port}"" $admin_url_real = ""${admin_protocol}://${admin_address}:${port}"" $internal_url_real = ""${internal_protocol}://${internal_address}:${port}""",5,3
openstack%2Ftaskflow~master~I3b7e6331751f25d9c4221393e8329934925791e7,openstack/taskflow,master,I3b7e6331751f25d9c4221393e8329934925791e7,"Fix split on ""+"" for connection strings that specify dialects",MERGED,2014-12-05 00:12:47.000000000,2014-12-15 19:57:36.000000000,2014-12-15 19:57:35.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 10584}, {'_account_id': 11024}]","[{'number': 1, 'created': '2014-12-05 00:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/93fec2f80c256d3d8f9b249eb085a2b38be5cbf6', 'message': 'Fix split on ""+"" for connection strings that specify dialects\n\nChange-Id: I3b7e6331751f25d9c4221393e8329934925791e7\n'}, {'number': 2, 'created': '2014-12-05 00:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a41da7146ad658c5d18b8b38ab8c186831284ac9', 'message': 'Fix split on ""+"" for connection strings that specify dialects\n\nFixes bug 1399486\n\nChange-Id: I3b7e6331751f25d9c4221393e8329934925791e7\n'}, {'number': 3, 'created': '2014-12-05 00:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8254afa6c8b3a80bc3b6b150a8c6d4a43d72aaaf', 'message': 'Fix split on ""+"" for connection strings that specify dialects\n\nFixes bug 1399486\n\nChange-Id: I3b7e6331751f25d9c4221393e8329934925791e7\n'}, {'number': 4, 'created': '2014-12-05 00:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/381e895fcf442e29619d660fb39f6eba13be01f8', 'message': 'Fix split on ""+"" for connection strings that specify dialects\n\nFixes bug 1399486\n\nChange-Id: I3b7e6331751f25d9c4221393e8329934925791e7\n'}, {'number': 5, 'created': '2014-12-05 01:00:04.000000000', 'files': ['taskflow/persistence/backends/__init__.py', 'taskflow/tests/unit/persistence/test_sql_persistence.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/81505533675d3edff88ab0dc1ac04b0a558bbbbe', 'message': 'Fix split on ""+"" for connection strings that specify dialects\n\nFixes bug 1399486\n\nChange-Id: I3b7e6331751f25d9c4221393e8329934925791e7\n'}]",0,139273,81505533675d3edff88ab0dc1ac04b0a558bbbbe,16,4,5,1297,,,0,"Fix split on ""+"" for connection strings that specify dialects

Fixes bug 1399486

Change-Id: I3b7e6331751f25d9c4221393e8329934925791e7
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/73/139273/4 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/persistence/backends/__init__.py'],1,93fec2f80c256d3d8f9b249eb085a2b38be5cbf6,bug/1399486," # If the backend is like 'mysql+pymysql://..."" we just want to look # at the first component to find out backend... if backend_name.find(""+"") != -1: backend_name = backend_name.split(""+"", 1)[0]",,4,0
openstack%2Fdesignate~master~I1889ac1de3dc90b95533bea3f456ea2bf8e9b845,openstack/designate,master,I1889ac1de3dc90b95533bea3f456ea2bf8e9b845,Pools Config Changes,MERGED,2014-12-11 21:14:45.000000000,2014-12-15 19:57:29.000000000,2014-12-15 19:57:28.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8130}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-11 21:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/43b48d2b01640501879010648fcdcb248f9cba71', 'message': 'WIP - Pools Config Changes\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}, {'number': 2, 'created': '2014-12-12 09:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3947a67e14462e279801bbc080743fcbdd80fa46', 'message': 'Pools Config Changes\n\nImplement the beginning of a structured pattern for Plugin\'s to provide\nconfiguration into Designate. The chosen pattern has been built to support\nboth config generation, and the ability to define ""extra"" config options\nwhich are based on other config options (i.e. the dynamic sections for each\npool server).\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}, {'number': 3, 'created': '2014-12-12 12:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/298320b0d13bf1d566a573441beb23416c6be803', 'message': 'Pools Config Changes\n\nImplement the beginning of a structured pattern for Plugin\'s to provide\nconfiguration into Designate. The chosen pattern has been built to support\nboth config generation, and the ability to define ""extra"" config options\nwhich are based on other config options (i.e. the dynamic sections for each\npool server).\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}, {'number': 4, 'created': '2014-12-12 12:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a6fa705ef814c0cc84f843d313755d80cf750828', 'message': 'Pools Config Changes\n\nImplement the beginning of a structured pattern for Plugin\'s to provide\nconfiguration into Designate. The chosen pattern has been built to support\nboth config generation, and the ability to define ""extra"" config options\nwhich are based on other config options (i.e. the dynamic sections for each\npool server).\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}, {'number': 5, 'created': '2014-12-12 12:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3d0906bbc54507076904ad28fe1cbf8258bb8b70', 'message': 'Pools Config Changes\n\nImplement the beginning of a structured pattern for Plugin\'s to provide\nconfiguration into Designate. The chosen pattern has been built to support\nboth config generation, and the ability to define ""extra"" config options\nwhich are based on other config options (i.e. the dynamic sections for each\npool server).\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}, {'number': 6, 'created': '2014-12-12 13:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/06c12b94ccd839469c20b0e91bb24fab05f4589f', 'message': 'Pools Config Changes\n\nImplement the beginning of a structured pattern for Plugin\'s to provide\nconfiguration into Designate. The chosen pattern has been built to support\nboth config generation, and the ability to define ""extra"" config options\nwhich are based on other config options (i.e. the dynamic sections for each\npool server).\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}, {'number': 7, 'created': '2014-12-15 14:30:54.000000000', 'files': ['designate/tests/__init__.py', 'designate/backend/impl_powerdns_mdns/__init__.py', 'designate/backend/impl_nsd4slave.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/backend/impl_bind9.py', 'etc/designate/designate.conf.sample', 'contrib/devstack/lib/designate_plugins/backend-bind9_pool', 'designate/backend/impl_dynect.py', 'designate/manage/powerdns.py', 'designate/backend/impl_bind9_pool.py', 'designate/pool_manager/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_multi.py', 'designate/pool_manager/backend_section_name.py', 'designate/utils.py', 'designate/pool_manager/service.py', 'designate/backend/impl_ipa/__init__.py', 'designate/plugin.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/504a2607a80a542eea6f71b8467508af24c9a396', 'message': 'Pools Config Changes\n\nImplement the beginning of a structured pattern for Plugin\'s to provide\nconfiguration into Designate. The chosen pattern has been built to support\nboth config generation, and the ability to define ""extra"" config options\nwhich are based on other config options (i.e. the dynamic sections for each\npool server).\n\nChange-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845\n'}]",12,141166,504a2607a80a542eea6f71b8467508af24c9a396,29,6,7,741,,,0,"Pools Config Changes

Implement the beginning of a structured pattern for Plugin's to provide
configuration into Designate. The chosen pattern has been built to support
both config generation, and the ability to define ""extra"" config options
which are based on other config options (i.e. the dynamic sections for each
pool server).

Change-Id: I1889ac1de3dc90b95533bea3f456ea2bf8e9b845
",git fetch https://review.opendev.org/openstack/designate refs/changes/66/141166/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/backend/impl_powerdns_mdns/__init__.py', 'designate/backend/impl_nsd4slave.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/backend/impl_bind9.py', 'etc/designate/designate.conf.sample', 'contrib/devstack/lib/designate_plugins/backend-bind9_pool', 'designate/backend/impl_dynect.py', 'designate/backend/impl_bind9_pool.py', 'designate/pool_manager/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_multi.py', 'designate/pool_manager/backend_section_name.py', 'designate/utils.py', 'designate/pool_manager/service.py', 'designate/backend/impl_ipa/__init__.py', 'designate/plugin.py']",17,43b48d2b01640501879010648fcdcb248f9cba71,bp/transition-powerdns-to-pools,"from stevedore import extension from oslo.config import cfgCONF = cfg.CONF @classmethod def get_cfg_opts(cls): """"""Returns an array of tuples in the form: [(group1, [Option1, Option2]), (group2, [Option1, Option2])] """""" return [] @classmethod def get_extra_cfg_opts(cls): """"""Returns an array of tuples in the form: [(group1, [Option1, Option2]), (group2, [Option1, Option2])] """""" return [] @classmethod def register_cfg_opts(cls, namespace): mgr = extension.ExtensionManager(namespace) for e in mgr: for group, opts in e.plugin.get_cfg_opts(): if isinstance(group, six.string_types): group = cfg.OptGroup(name=group) CONF.register_group(group) CONF.register_opts(opts, group=group) @classmethod def register_extra_cfg_opts(cls, namespace): mgr = extension.ExtensionManager(namespace) for e in mgr: for group, opts in e.plugin.get_extra_cfg_opts(): if isinstance(group, six.string_types): group = cfg.OptGroup(name=group) CONF.register_group(group) CONF.register_opts(opts, group=group) ",,318,390
openstack%2Fmagnetodb~master~Icc97ddf998fdaca1d81883887f2e29c1f2f23d1c,openstack/magnetodb,master,Icc97ddf998fdaca1d81883887f2e29c1f2f23d1c,[test] disable redundant external tempest project,ABANDONED,2014-12-15 11:48:21.000000000,2014-12-15 19:57:01.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-15 11:48:21.000000000', 'files': ['functionaltests/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/806aa37e68b7b5867b8f187d18e3e42447de2329', 'message': '[test] disable redundant external tempest project\n\nChange-Id: Icc97ddf998fdaca1d81883887f2e29c1f2f23d1c\n'}]",0,141773,806aa37e68b7b5867b8f187d18e3e42447de2329,3,1,1,8851,,,0,"[test] disable redundant external tempest project

Change-Id: Icc97ddf998fdaca1d81883887f2e29c1f2f23d1c
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/73/141773/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/post_test_hook.sh'],1,806aa37e68b7b5867b8f187d18e3e42447de2329,,# Disable installation of external tempest and leave only this project export ENABLED_SERVICES=magnetodb ,,3,0
openstack%2Ffuel-main~master~Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb,openstack/fuel-main,master,Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb,Fix logging messages in os_patching case,MERGED,2014-12-14 09:42:39.000000000,2014-12-15 19:52:01.000000000,2014-12-15 17:28:45.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}]","[{'number': 1, 'created': '2014-12-14 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/56f1732fbea40d051e3c0a43299f187c5966d414', 'message': 'Fix logging messages in os_patching case\n\nChange-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb\n'}, {'number': 2, 'created': '2014-12-14 09:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/52265cde64763963927241154c04cd062ef27186', 'message': 'Fix logging messages in os_patching case\n\nDictionary of packages for Centos was not\nshown correct\nChange-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb\n'}, {'number': 3, 'created': '2014-12-14 09:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/4e3747ae08a9dea5a7440a4d5f19a9f6d6e1ec54', 'message': 'Fix logging messages in os_patching case\n\nDictionary of packages for Centos was not\nshown correct\nChange-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb\n'}, {'number': 4, 'created': '2014-12-14 09:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/29187a1948ebb2f4cae485a87b15a04a001b586b', 'message': 'Fix logging messages in os_patching case\n\nDictionary of packages for Centos was not\nshown correct\nChange-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb\n'}, {'number': 5, 'created': '2014-12-15 16:29:20.000000000', 'files': ['fuelweb_test/tests/tests_os_patching/test_os_patching.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/eef2e0474037d860304fde9dc2b5a0fc047aa0a1', 'message': 'Fix logging messages in os_patching case\n\nDictionary of packages for Centos was not\nshown correct\nChange-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb\n'}]",1,141630,eef2e0474037d860304fde9dc2b5a0fc047aa0a1,29,7,5,8882,,,0,"Fix logging messages in os_patching case

Dictionary of packages for Centos was not
shown correct
Change-Id: Ibaacbdf9f4d57ec5eca1653679e5bb605f9065fb
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/30/141630/4 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/packages_fixture.py', 'fuelweb_test/tests/tests_os_patching/test_os_patching.py']",2,56f1732fbea40d051e3c0a43299f187c5966d414,," "" system before upgrade."") logger.info('Check if the upgrade complete.') release_version = hlp_data.RELEASE_VERSION ogger.debug(""Release version is {0}"".format(release_version)) release_version)) release_version)) 'It is time to update cluster.') logger.debug(""Current state of dict is {0}"".format( logger.debug(""Current state of dict is {0}"".format( packages_fixture.rpm)) logger.info(""packages after {0}"".format(p_version_after)) "," "" system before upgrade.."") logger.info('Check if the upgrade complete..') hlp_data.RELEASE_VERSION)) hlp_data.RELEASE_VERSION)) release_version = hlp_data.RELEASE_VERSION logger.debug(""Release version is {0}"".format(release_version)) ' It is time to update cluster ...') logger.debug(""Current state of dict is {0}"".format( logger.debug(""Current state of dict is"") logger.info(""packages after {0}"".format(p_version_after))",14,13
openstack%2Ffuel-library~stable%2F6.0~Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15,openstack/fuel-library,stable/6.0,Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15,Add forgotten vlan_start parameter to cluster_simple.pp,MERGED,2014-12-15 18:11:10.000000000,2014-12-15 19:46:12.000000000,2014-12-15 19:46:12.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-12-15 18:11:10.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d21f0927839a92bdf79dcba3bb5ed055bc82ae09', 'message': 'Add forgotten vlan_start parameter to cluster_simple.pp\n\nChange-Id: Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15\nCloses-bug: #1402768\n'}]",0,141866,d21f0927839a92bdf79dcba3bb5ed055bc82ae09,13,8,1,8935,,,0,"Add forgotten vlan_start parameter to cluster_simple.pp

Change-Id: Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15
Closes-bug: #1402768
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/66/141866/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'],1,d21f0927839a92bdf79dcba3bb5ed055bc82ae09,bug/1402768," $network_config = { 'vlan_start' => $vlan_start, } ",,4,0
openstack%2Ffuel-library~master~Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15,openstack/fuel-library,master,Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15,Add forgotten vlan_start parameter to cluster_simple.pp,MERGED,2014-12-15 17:58:54.000000000,2014-12-15 19:46:00.000000000,2014-12-15 19:46:00.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-12-15 17:58:54.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d6f350fc8fba47bec0279617571316ad80cf267c', 'message': 'Add forgotten vlan_start parameter to cluster_simple.pp\n\nChange-Id: Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15\nCloses-bug: #1402768\n'}]",0,141862,d6f350fc8fba47bec0279617571316ad80cf267c,16,8,1,8935,,,0,"Add forgotten vlan_start parameter to cluster_simple.pp

Change-Id: Iaf098f5f7ec6ae74844ddd8877e3939d0bb84d15
Closes-bug: #1402768
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/62/141862/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'],1,d6f350fc8fba47bec0279617571316ad80cf267c,bug/1402768," $network_config = { 'vlan_start' => $vlan_start, } ",,4,0
openstack%2Fswift~feature%2Fec~I9754554886be440ef53b7ffce4709b6f117d9280,openstack/swift,feature/ec,I9754554886be440ef53b7ffce4709b6f117d9280,SAIO updates to support EC development environment.,MERGED,2014-10-14 02:12:55.000000000,2014-12-15 19:45:18.000000000,2014-12-12 23:03:07.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 5189}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 8871}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-10-14 02:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/17f486e8e6c42c6726bcae045f0c905671752a95', 'message': ""Add another device to SAIO to support the default EC development\nenvironment.\n\nTeam decided to use an EC scheme of 2:1 so 2 data, 1 parity which\ndoesn't seem very exciting for EC but one of the needs we have is\nfor multiple handoffs (testing).  At the same time we don't want\nto add a ton of devices to SAIO or it becomes unmanageable.\n\nSo, the tradeoff is to add just 1 device so we have 3 in our EC\nset and 2 unique handoffs.\n\nChange-Id: I9754554886be440ef53b7ffce4709b6f117d9280\n""}, {'number': 2, 'created': '2014-10-17 19:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/198ff38285b8576355ad20fe503f1cee7b1dec76', 'message': ""Add another device to SAIO to support the default EC development\nenvironment.\n\nTeam decided to use an EC scheme of 2:1 so 2 data, 1 parity which\ndoesn't seem very exciting for EC but one of the needs we have is\nfor multiple handoffs (testing).  At the same time we don't want\nto add a ton of devices to SAIO or it becomes unmanageable.\n\nSo, the tradeoff is to add just 1 device so we have 3 in our EC\nset and 2 unique handoffs.\n\nChange-Id: I9754554886be440ef53b7ffce4709b6f117d9280\n""}, {'number': 3, 'created': '2014-10-29 20:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a7159c136cafd2be15fa8d1c83c3e60b6a25f186', 'message': ""Add another device to SAIO to support the default EC development\nenvironment.\n\nTeam decided to use an EC scheme of 2:1 so 2 data, 1 parity which\ndoesn't seem very exciting for EC but one of the needs we have is\nfor multiple handoffs (testing).  At the same time we don't want\nto add a ton of devices to SAIO or it becomes unmanageable.\n\nSo, the tradeoff is to add just 1 device so we have 3 in our EC\nset and 2 unique handoffs.\n\nChange-Id: I9754554886be440ef53b7ffce4709b6f117d9280\n""}, {'number': 4, 'created': '2014-11-13 22:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69ec4ffedac658a01254be853164373604aeda14', 'message': ""SAIO updates to support EC development environment.\n\nAdded one more device per server but only include them\non the EC ring as probetests won't work with anything\nother than 4 devices on the ring.\n\nSee comment in swift.conf for EC development use.\n\nChange-Id: I9754554886be440ef53b7ffce4709b6f117d9280\n""}, {'number': 5, 'created': '2014-11-19 21:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8be7750dac018590fd432cb3e4c1e9d80b88d98', 'message': ""SAIO updates to support EC development environment.\n\nAdded one more device per server but only include them\non the EC ring as probetests won't work with anything\nother than 4 devices on the ring.\n\nSee comment in swift.conf for EC development use.\n\nChange-Id: I9754554886be440ef53b7ffce4709b6f117d9280\n""}, {'number': 6, 'created': '2014-11-20 20:23:59.000000000', 'files': ['doc/saio/swift/swift.conf', 'doc/saio/bin/resetswift', 'doc/saio/swift/object-server/4.conf', 'doc/source/development_saio.rst', 'doc/saio/bin/remakerings', 'doc/saio/swift/object-server/3.conf', 'doc/saio/swift/object-server/2.conf', 'doc/saio/swift/object-server/1.conf'], 'web_link': 'https://opendev.org/openstack/swift/commit/f94d9f2b3700c5d3594b11e9073114314b069153', 'message': ""SAIO updates to support EC development environment.\n\nAdded one more device per server but only include them\non the EC ring as probetests won't work with anything\nother than 4 devices on the ring.\n\nSee comment in swift.conf for EC development use.\n\nChange-Id: I9754554886be440ef53b7ffce4709b6f117d9280\n""}]",14,128154,f94d9f2b3700c5d3594b11e9073114314b069153,38,9,6,7479,,,0,"SAIO updates to support EC development environment.

Added one more device per server but only include them
on the EC ring as probetests won't work with anything
other than 4 devices on the ring.

See comment in swift.conf for EC development use.

Change-Id: I9754554886be440ef53b7ffce4709b6f117d9280
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/128154/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/bin/resetswift', 'doc/saio/rsyncd.conf', 'doc/saio/swift/swift.conf', 'doc/source/policies_saio.rst', 'doc/saio/bin/remakerings', 'doc/saio/swift/account-server/5.conf', 'doc/saio/swift/container-server/5.conf', 'doc/source/development_saio.rst', 'doc/saio/swift/object-server/5.conf']",9,17f486e8e6c42c6726bcae045f0c905671752a95,(detached,[DEFAULT] devices = /srv/5/node mount_check = false disable_fallocate = true bind_ip = 127.0.0.1 bind_port = 6050 workers = 1 user = <your-user-name> log_facility = LOG_LOCAL6 recon_cache_path = /var/cache/swift5 eventlet_debug = true [pipeline:main] pipeline = recon object-server [app:object-server] use = egg:swift#object [filter:recon] use = egg:swift#recon [object-replicator] vm_test_mode = yes [object-updater] [object-auditor] ,,155,11
openstack%2Fcongress~master~I32ab60326f648edb62527c5227cc9a7c4ddd3ba4,openstack/congress,master,I32ab60326f648edb62527c5227cc9a7c4ddd3ba4,Break out _get_schema to get_schema(hdict|vdict|list),MERGED,2014-12-04 19:11:28.000000000,2014-12-15 19:42:38.000000000,2014-12-15 19:42:38.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-04 19:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/ffb5f2b02d479ceab6bff06f5afc6ccce8db8433', 'message': 'Break out _get_schema to get_schema(hdict|vdict|list)\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: I32ab60326f648edb62527c5227cc9a7c4ddd3ba4\n'}, {'number': 2, 'created': '2014-12-11 00:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/93b82dbee416d2cb67804eb8ebe637a58cfbadc5', 'message': 'Break out _get_schema to get_schema(hdict|vdict|list)\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: I32ab60326f648edb62527c5227cc9a7c4ddd3ba4\n'}, {'number': 3, 'created': '2014-12-11 19:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/80f6ecfcecc5acad801fc5d7997cc74c22ea4044', 'message': 'Break out _get_schema to get_schema(hdict|vdict|list)\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: I32ab60326f648edb62527c5227cc9a7c4ddd3ba4\n'}, {'number': 4, 'created': '2014-12-12 00:01:15.000000000', 'files': ['congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/2c1df6b69b8b071bd12319f7a2ba8e90141fd969', 'message': 'Break out _get_schema to get_schema(hdict|vdict|list)\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: I32ab60326f648edb62527c5227cc9a7c4ddd3ba4\n'}]",0,139160,2c1df6b69b8b071bd12319f7a2ba8e90141fd969,35,6,4,4395,,,0,"Break out _get_schema to get_schema(hdict|vdict|list)

Partially implements blueprint refactor-datasource-driver-framework

Change-Id: I32ab60326f648edb62527c5227cc9a7c4ddd3ba4
",git fetch https://review.opendev.org/openstack/congress refs/changes/60/139160/3 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/datasource_driver.py'],1,ffb5f2b02d479ceab6bff06f5afc6ccce8db8433,bp/refactor-datasource-driver-framework," def _get_schema_hdict(self, translator, schema): # A missing parameter will raise a KeyError tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) field_translators = translator[self.FIELD_TRANSLATORS] columns = [] if id_col is not None: columns.append(id_col) elif parent_key is not None: columns.append(self.PARENT_KEY_COL_NAME) for field_translator in field_translators: col = field_translator.get( self.COL, field_translator[self.FIELDNAME]) subtranslator = field_translator[self.TRANSLATOR] if self.PARENT_KEY not in subtranslator: columns.append(col) self._get_schema(subtranslator, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) schema[tablename] = tuple(columns) return schema def _get_schema_vdict(self, translator, schema): tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) key_col = translator[self.KEY_COL] value_col = translator[self.VAL_COL] subtrans = translator[self.TRANSLATOR] self._get_schema(subtrans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) # Construct the schema for this table. new_schema = (key_col,) if id_col: new_schema = (id_col,) + new_schema elif parent_key: new_schema = (self.PARENT_KEY_COL_NAME,) + new_schema if self.PARENT_KEY not in subtrans: new_schema = new_schema + (value_col,) schema[tablename] = new_schema return schema def _get_schema_list(self, translator, schema): tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) value_col = translator[self.VAL_COL] trans = translator[self.TRANSLATOR] self._get_schema(trans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) if id_col: schema[tablename] = (id_col, value_col) elif parent_key: schema[tablename] = (self.PARENT_KEY_COL_NAME, value_col) else: schema[tablename] = (value_col,) return schema self._get_schema_hdict(translator, schema) elif translation_type == self.VDICT: self._get_schema_vdict(translator, schema) elif translation_type == self.LIST: self._get_schema_list(translator, schema)"," # A missing parameter will raise a KeyError tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) field_translators = translator[self.FIELD_TRANSLATORS] columns = [] if id_col is not None: columns.append(id_col) elif parent_key is not None: columns.append(self.PARENT_KEY_COL_NAME) for field_translator in field_translators: col = field_translator.get( self.COL, field_translator[self.FIELDNAME]) subtranslator = field_translator[self.TRANSLATOR] if self.PARENT_KEY not in subtranslator: columns.append(col) self._get_schema(subtranslator, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) schema[tablename] = tuple(columns) elif translation_type == self.VDICT: tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) key_col = translator[self.KEY_COL] value_col = translator[self.VAL_COL] subtrans = translator[self.TRANSLATOR] self._get_schema(subtrans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) # Construct the schema for this table. new_schema = (key_col,) if id_col: new_schema = (id_col,) + new_schema elif parent_key: new_schema = (self.PARENT_KEY_COL_NAME,) + new_schema if self.PARENT_KEY not in subtrans: new_schema = new_schema + (value_col,) schema[tablename] = new_schema elif translation_type == self.LIST: tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) value_col = translator[self.VAL_COL] trans = translator[self.TRANSLATOR] self._get_schema(trans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) if id_col: schema[tablename] = (id_col, value_col) elif parent_key: schema[tablename] = (self.PARENT_KEY_COL_NAME, value_col) else: schema[tablename] = (value_col,) ",73,63
openstack%2Fcongress~master~Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae,openstack/congress,master,Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae,Break out inline method _get_schema,MERGED,2014-12-04 19:11:28.000000000,2014-12-15 19:42:32.000000000,2014-12-15 19:42:31.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-04 19:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/a939933321344445f2d72514ff409db4977b8efe', 'message': 'Break out inline method _get_schema\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae\n'}, {'number': 2, 'created': '2014-12-11 00:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/2cb26117234eb0526510a34145d1a4d98fc9135b', 'message': 'Break out inline method _get_schema\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae\n'}, {'number': 3, 'created': '2014-12-11 00:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/12d8bbd051b81b4a5e54c38407c2bd94864e1703', 'message': 'Break out inline method _get_schema\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae\n'}, {'number': 4, 'created': '2014-12-11 19:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/040a895fbb52a94118d2885171b05b054ed9d53d', 'message': 'Break out inline method _get_schema\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae\n'}, {'number': 5, 'created': '2014-12-12 00:01:15.000000000', 'files': ['congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/0a2b43d79de54a7de236cdabf47f4a6e507cd3dc', 'message': 'Break out inline method _get_schema\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae\n'}]",0,139159,0a2b43d79de54a7de236cdabf47f4a6e507cd3dc,36,6,5,4395,,,0,"Break out inline method _get_schema

Partially implements blueprint refactor-datasource-driver-framework

Change-Id: Ib7daa74d3ff5d4d5a11ee565ea38cc9c7303feae
",git fetch https://review.opendev.org/openstack/congress refs/changes/59/139159/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/datasource_driver.py'],1,a939933321344445f2d72514ff409db4977b8efe,bp/refactor-datasource-driver-framework," def _get_schema(self, translator, schema): self.check_translation_type(translator.keys()) translation_type = translator[self.TRANSLATION_TYPE] if translation_type == self.HDICT: # A missing parameter will raise a KeyError tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) field_translators = translator[self.FIELD_TRANSLATORS] columns = [] if id_col is not None: columns.append(id_col) elif parent_key is not None: columns.append(self.PARENT_KEY_COL_NAME) for field_translator in field_translators: col = field_translator.get( self.COL, field_translator[self.FIELDNAME]) subtranslator = field_translator[self.TRANSLATOR] if self.PARENT_KEY not in subtranslator: columns.append(col) self._get_schema(subtranslator, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) schema[tablename] = tuple(columns) elif translation_type == self.VDICT: tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) key_col = translator[self.KEY_COL] value_col = translator[self.VAL_COL] subtrans = translator[self.TRANSLATOR] self._get_schema(subtrans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) # Construct the schema for this table. new_schema = (key_col,) if id_col: new_schema = (id_col,) + new_schema elif parent_key: new_schema = (self.PARENT_KEY_COL_NAME,) + new_schema if self.PARENT_KEY not in subtrans: new_schema = new_schema + (value_col,) schema[tablename] = new_schema elif translation_type == self.LIST: tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) value_col = translator[self.VAL_COL] trans = translator[self.TRANSLATOR] self._get_schema(trans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) if id_col: schema[tablename] = (id_col, value_col) elif parent_key: schema[tablename] = (self.PARENT_KEY_COL_NAME, value_col) else: schema[tablename] = (value_col,) elif translation_type == self.VALUE: pass else: raise AssertionError('Unexpected translator type %s' % translation_type) return schema self._get_schema(trans, all_schemas)"," def _get_schema(translator, schema): self.check_translation_type(translator.keys()) translation_type = translator[self.TRANSLATION_TYPE] if translation_type == self.HDICT: # A missing parameter will raise a KeyError tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) field_translators = translator[self.FIELD_TRANSLATORS] columns = [] if id_col is not None: columns.append(id_col) elif parent_key is not None: columns.append(self.PARENT_KEY_COL_NAME) for field_translator in field_translators: col = field_translator.get( self.COL, field_translator[self.FIELDNAME]) subtranslator = field_translator[self.TRANSLATOR] if self.PARENT_KEY not in subtranslator: columns.append(col) _get_schema(subtranslator, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) schema[tablename] = tuple(columns) elif translation_type == self.VDICT: tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) key_col = translator[self.KEY_COL] value_col = translator[self.VAL_COL] subtrans = translator[self.TRANSLATOR] _get_schema(subtrans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) # Construct the schema for this table. new_schema = (key_col,) if id_col: new_schema = (id_col,) + new_schema elif parent_key: new_schema = (self.PARENT_KEY_COL_NAME,) + new_schema if self.PARENT_KEY not in subtrans: new_schema = new_schema + (value_col,) schema[tablename] = new_schema elif translation_type == self.LIST: tablename = translator[self.TABLE_NAME] parent_key = translator.get(self.PARENT_KEY, None) id_col = translator.get(self.ID_COL, None) value_col = translator[self.VAL_COL] trans = translator[self.TRANSLATOR] _get_schema(trans, schema) if tablename in schema: raise exception.InvalidParamException( ""table %s already in schema"" % tablename) if id_col: schema[tablename] = (id_col, value_col) elif parent_key: schema[tablename] = (self.PARENT_KEY_COL_NAME, value_col) else: schema[tablename] = (value_col,) elif translation_type == self.VALUE: pass else: raise AssertionError('Unexpected translator type %s' % translation_type) return schema _get_schema(trans, all_schemas)",77,77
openstack%2Fcongress~master~Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd,openstack/congress,master,Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd,Make parent_key accessable from subtable,MERGED,2014-12-10 22:55:25.000000000,2014-12-15 19:42:29.000000000,2014-12-15 19:42:28.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-10 22:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/04f1c19b6da33f1639e01da798fac770ecd16ae4', 'message': 'Make parent_key accessable from subtable\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd\n'}, {'number': 2, 'created': '2014-12-10 22:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/2f699f80d69819614f8fda0a5b79874890b53fd5', 'message': 'Make parent_key accessable from subtable\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd\n'}, {'number': 3, 'created': '2014-12-11 19:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/ecd592385edad43dd0d8377c82979baae64f4e1e', 'message': 'Make parent_key accessable from subtable\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd\n'}, {'number': 4, 'created': '2014-12-12 00:01:15.000000000', 'files': ['congress/tests/datasources/test_datasource_driver.py', 'congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/dd45fdb620059575e170f1f4a9cbb252be8d6049', 'message': 'Make parent_key accessable from subtable\n\nPartially implements blueprint parent-key-improvements\n\nChange-Id: Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd\n'}]",0,140855,dd45fdb620059575e170f1f4a9cbb252be8d6049,28,5,4,4395,,,0,"Make parent_key accessable from subtable

Partially implements blueprint parent-key-improvements

Change-Id: Id4b4a968232068c3cd334f2d9d2ca04f3f90c9cd
",git fetch https://review.opendev.org/openstack/congress refs/changes/55/140855/4 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/datasources/test_datasource_driver.py', 'congress/datasources/datasource_driver.py']",2,04f1c19b6da33f1639e01da798fac770ecd16ae4,bp/refactor-datasource-driver-framework," if parent_row_dict: # We should only get here if we are a nested table. parent_key = translator.get(cls.PARENT_KEY) if parent_key: hdict_row['parent_key'] = parent_row_dict[parent_key] return cls._format_results_to_hdict(new_results, translator, hdict_row) def _format_results_to_hdict(cls, results, translator, hdict_row): new_row = (hdict_row[cls.PARENT_KEY_COL_NAME],) + tuple(new_row)"," return cls._format_results_to_hdict(new_results, translator, hdict_row, parent_row_dict) def _format_results_to_hdict(cls, results, translator, hdict_row, parent_row_dict): parent_dict_row - is the previous parent row if there is one which is used to populate parent-key row if used. new_row = (parent_row_dict[parent_key],) + tuple(new_row)",49,8
openstack%2Fneutron-specs~master~I8a30cacaeb6c906d6deca8b49f38d224e4746e25,openstack/neutron-specs,master,I8a30cacaeb6c906d6deca8b49f38d224e4746e25,Brocade Vyatta VPN service and device drivers,MERGED,2014-11-24 07:08:09.000000000,2014-12-15 19:42:22.000000000,2014-12-15 19:42:21.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 6659}, {'_account_id': 7021}, {'_account_id': 8645}, {'_account_id': 10068}, {'_account_id': 13380}]","[{'number': 1, 'created': '2014-11-24 07:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c5b861249cf44fa701483ec2307ca8e90ecdb5fe', 'message': 'Brocade Vyatta VPN device driver\n\nSpec for introducing Brocade Vyatta VPN solution using\na new vendor specific device driver for Neutron L3 agent\n\nImplements: blueprint brocade-vyatta-vpnaas-plugin\n\nChange-Id: I8a30cacaeb6c906d6deca8b49f38d224e4746e25\n'}, {'number': 2, 'created': '2014-11-24 07:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b13ab8ef3a5bfff3d94056ac075b54fd6143bcdd', 'message': 'Brocade Vyatta VPN device driver\n\nSpec for introducing Brocade Vyatta VPN solution using\na new vendor specific device driver for Neutron L3 agent\n\nImplements: blueprint brocade-vyatta-vpnaas-plugin\n\nChange-Id: I8a30cacaeb6c906d6deca8b49f38d224e4746e25\n'}, {'number': 3, 'created': '2014-12-03 01:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5a975c8944783a49e764d5ddd2625219d4033f81', 'message': 'Brocade Vyatta VPN device driver\n\nSpec for introducing Brocade Vyatta VPN solution using\na new vendor specific device driver for Neutron L3 agent\n\nImplements: blueprint brocade-vyatta-vpnaas-plugin\n\nChange-Id: I8a30cacaeb6c906d6deca8b49f38d224e4746e25\n'}, {'number': 4, 'created': '2014-12-03 23:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/17208f373c2a8aef30941a265566171631b1bcbe', 'message': 'Brocade Vyatta VPN service and device drivers\n\nSpec for introducing Brocade Vyatta VPN solution using new vendor specific\nservice and device drivers for Neutron\n\nImplements: blueprint brocade-vyatta-vpnaas-plugin\n\nChange-Id: I8a30cacaeb6c906d6deca8b49f38d224e4746e25\n'}, {'number': 5, 'created': '2014-12-04 22:53:47.000000000', 'files': ['specs/kilo/brocade-vyatta-vpnaas-plugin.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/59e8b09278451d2f9a6e42e28b0abf67641bb3d8', 'message': 'Brocade Vyatta VPN service and device drivers\n\nSpec for introducing Brocade Vyatta VPN solution using new vendor specific\nservice and device drivers for Neutron\n\nImplements: blueprint brocade-vyatta-vpnaas-plugin\n\nChange-Id: I8a30cacaeb6c906d6deca8b49f38d224e4746e25\n'}]",26,136693,59e8b09278451d2f9a6e42e28b0abf67641bb3d8,33,8,5,13380,,,0,"Brocade Vyatta VPN service and device drivers

Spec for introducing Brocade Vyatta VPN solution using new vendor specific
service and device drivers for Neutron

Implements: blueprint brocade-vyatta-vpnaas-plugin

Change-Id: I8a30cacaeb6c906d6deca8b49f38d224e4746e25
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/93/136693/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/brocade-vyatta-vpnaas-plugin.rst'],1,c5b861249cf44fa701483ec2307ca8e90ecdb5fe,bp/brocade-vyatta-vpnaas-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Brocade Vyatta VPN plugin for Neutron ========================================== https://blueprints.launchpad.net/neutron/+spec/brocade-vyatta-vpnaas-plugin Introduce the Brocade Vyatta VPN device driver to provide VPNaaS solution using Vyatta vRouter VM running as a Neutron router. https://review.openstack.org/#/q/status:open+project:openstack/neutron-specs+message:apiimpact,n,z Problem Description =================== Brocade Vyatta vRouter is a multi-service product that provides various L3 and L4 services like Routing, NAT, Firewall, VPN, etc. While basic neutron router L3 functions are available using the Brocade Vyatta L3 plugin [1] vRouter's IPSec site-to-site VPN functionality is currently not configurable through existing Neutron VPN APIs. When available Cloud Service providers would be able to create site-to-site IPSec VPN to connect tenant networks to remote DC networks using Vyatta vRouter. Proposed Change =============== This blueprint proposes a new vendor device-driver for the Neutron VPN agent. There is no change proposed in the VPN service plugin side as existing reference IPSec vpn plugin is sufficient. :: >> +----------------------+ >> | Neutron L3 Agent | >> | | >> | | >> | +------------------+ | >> | | VPN Agent | | >> RPC to | +------------------+ | >> service plugin | | Vyatta VPN | | >> | | Device Driver | | >> <---------------+ | | | >> +-+--------+---------+-+ >> | >> | >> | REST API >> | >> +--------v---------+ >> | | >> | | >> | Vyattta vRouter | >> | | >> | | >> | | >> | | >> +------------------+ Vyatta VPN device driver will perform the following functions: 1. Handles the RPC message from vpn service-plugin that indicates a CRUD operation for site-to-site vpn connection 2. Gets the list of VPN services from the service-plugin using a RPC call 3. Prepares the list of new, deleted and updated vpn connection based on the local service-cache entries 4. Processes the above lists into effect using vRouter's REST API interface 5. Updates the local service-cache to reflect the new changes 6. Reports the status of the vpn connections back to the vpn service-plugin All these functions are similar to the existing reference vpn device-driver implementation. Additionally during L3 Agent startup the device driver will read vRouter VPN configuration using its REST API to rebuild the local service-cache. Once rebuilt the steps 2 through 6 are repeated. This helps to bring the vRouter VPN configuration to be in sync with the changes (if any) in the plugin DB while the L3 agent was down. Note, we are aware of the current L3 agent refactoring proposed for Kilo [3]. Given the device driver interface is planned to be kept as-is the changes proposed in this blueprint will integrate with minimal impact vis-a-vis the refactoring. This effort is part of a wider set of blueprints to offer Neutron L3 and L4 services using the Vyatta vRouter VM: * [1] introduces neutron router functionality using the Vyatta vRouter * [2] introduces firewall service using the Vyatta vRouter. Data Model Impact ----------------- None. REST API Impact --------------- None. Security Impact --------------- The device driver will use a common RESTapi client library that uses basic-auth authentication to connect to Vyatta vRouter. Notifications Impact -------------------- None. Other End User Impact --------------------- When tenants creates VPN using the Neutron API it will be created on the carrier-grade Vyatta vRouter. Performance Impact ------------------ None. Other Deployer Impact --------------------- Operators should first configure the Brocade Vyatta L3 plugin as described in [1]. Then operators can configure this new device driver in /etc/neutron/vpn_agent.ini file to offer Vyatta VPN using Neutron APIs. # Edit /etc/neutron/vpn_agent.ini and specify Vyatta VPN device driver, :: >> [vpnagent] >> vpn_device_driver=neutron.services.vpn.device_drivers.vyatta_ipsec.VyattaIPSecDriver Developer Impact ---------------- None. Community Impact ---------------- Validating Neutron VPN APIs with multiple vendor, including this one from Brocade, will help to move out of current experimental state for these APIs. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: srics-r Other contributors: None Work Items ---------- * Add new vyatta device driver for VPN agent (currently planned for neutron/services/vpn/device_drivers/vyatta_ipsec.py) * Add unit tests required to test the new code * Add tempest tests for new scenarios Dependencies ============ * Brocade Vyatta L3 Plugin [1] Testing ======= Tempest Tests ------------- - 3rd party testing will be provided (Brocade Vyatta CI) - Brocade Vyatta CI will report on all changes affecting this plugin - Testing is done using devstack and Vyatta vRouter Functional Tests ---------------- None API Tests --------- No new API tests are planned as no APIs are changed as part of this blueprint. Documentation Impact ==================== None. User Documentation ------------------ Brocade specific documentation will be updated on the availability of this functionality in Neutron and the vpn_device_driver configuration required to enable it. Developer Documentation ----------------------- None. References ========== * [1] https://blueprints.launchpad.net/neutron/+spec/l3-plugin-brocade-vyatta-vrouter * [2] https://blueprints.launchpad.net/neutron/+spec/firewall-plugin-for-brocade-vyatta-vrouter * [3] https://blueprints.launchpad.net/neutron/+spec/restructure-l3-agent ",,236,0
openstack%2Fcongress~master~I6b812e68732d2d61183e8098b15a48c5b5ea0e1a,openstack/congress,master,I6b812e68732d2d61183e8098b15a48c5b5ea0e1a,Implement in-line attribute for hdict,MERGED,2014-12-10 03:04:39.000000000,2014-12-15 19:33:50.000000000,2014-12-15 19:33:50.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-10 03:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/8da551abc9d17595ad5c06237de3cc6777f8fafa', 'message': 'Implement in-line attribute for hdict\n\nImplements blueprint: add-in-list-support-hdict\n\nChange-Id: I6b812e68732d2d61183e8098b15a48c5b5ea0e1a\n'}, {'number': 2, 'created': '2014-12-10 22:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/15a8a950972f3e2e3b3f3cac6cd2560c5d02b65a', 'message': 'Implement in-line attribute for hdict\n\nImplements blueprint: add-in-list-support-hdict\n\nChange-Id: I6b812e68732d2d61183e8098b15a48c5b5ea0e1a\n'}, {'number': 3, 'created': '2014-12-11 19:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/fdf69a862459f47a76b37bc4b764bf42ff0cab99', 'message': 'Implement in-line attribute for hdict\n\nImplements blueprint: add-in-list-support-hdict\n\nChange-Id: I6b812e68732d2d61183e8098b15a48c5b5ea0e1a\n'}, {'number': 4, 'created': '2014-12-12 00:01:15.000000000', 'files': ['congress/tests/datasources/test_datasource_driver.py', 'congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/e6e8abb13b2c1172851f7025763cd4f04d44ef1e', 'message': 'Implement in-line attribute for hdict\n\nImplements blueprint: add-in-list-support-hdict\n\nChange-Id: I6b812e68732d2d61183e8098b15a48c5b5ea0e1a\n'}]",16,140560,e6e8abb13b2c1172851f7025763cd4f04d44ef1e,44,6,4,4395,,,0,"Implement in-line attribute for hdict

Implements blueprint: add-in-list-support-hdict

Change-Id: I6b812e68732d2d61183e8098b15a48c5b5ea0e1a
",git fetch https://review.opendev.org/openstack/congress refs/changes/60/140560/4 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/datasources/test_datasource_driver.py', 'congress/datasources/datasource_driver.py']",2,8da551abc9d17595ad5c06237de3cc6777f8fafa,bp/refactor-datasource-driver-framework," In addition, sometimes one will have data that is structured in the following manor (i.e a dict contained in a list within a dict): data: {'id': '11111', 'things': [{'type': 1, 'location': 2}]} To handle this congress has a special attribute in-list that one can set. This allows you to use two hdicts to represent the data. For Example: thing_translator = { 'translation-type': 'HDICT', 'table-name': 'fixed-ips', 'parent-key': 'id', 'selector-type': 'DICT_SELECTOR', 'in-list': True, 'field-translators': ({'fieldname': 'ip_address', 'translator': {'translation-type': 'VALUE'}}, {'fieldname': 'subnet_id', 'translator': {'translation-type': 'VALUE'}})} {'translation-type': 'HDICT', 'table-name': 'example_table', 'parent-key': 'parent_key_column', 'selector-type': 'DOT_SELECTOR', 'field-translators': ({'fieldname': 'id', 'translator': {'translation-type': 'VALUE'}}, {'fieldname': 'thing': 'translator': thing_translator})} IN_LIST = 'in-list' SELECTOR_TYPE, FIELD_TRANSLATORS, IN_LIST) def _populate_hdict(cls, translator, obj, parent_row_dict): """"""This method populates hdict_row for a given row. translator - is the translator to convert obj. obj - is a row of data that will be fed into the translator. parent_dict_row - is the previous parent row if there is one which is used to populate parent-key row if used. """""" new_results = [] # New tuples from this HDICT and sub containers. hdict_row = {} # The content of the HDICT's new row. if v is None and cls.ID_COL in subtranslator: row_hash = cls._compute_hash([]) else: # NOTE(arosen) - tuples is a (table_name, list of values) return cls._format_results_to_hdict(new_results, translator, hdict_row, parent_row_dict) @classmethod def _format_results_to_hdict(cls, results, translator, hdict_row, parent_row_dict): """"""Convert hdict row to translator format for hdict. results - table row entries from subtables of a translator. translator - is the translator to convert obj. hdict_row - all the value fields of an hdict populated in a dict. parent_dict_row - is the previous parent row if there is one which is used to populate parent-key row if used. """""" field_translators = translator[cls.FIELD_TRANSLATORS] table = translator[cls.TABLE_NAME] id_col = translator.get(cls.ID_COL) parent_key = translator.get(cls.PARENT_KEY) results.append((table, new_row)) return results, h @classmethod def _populate_translator_data_hdict(cls, translator, obj, parent_row_dict): in_list = translator.get(cls.IN_LIST, False) new_results = [] # New tuples from this HDICT and sub containers. if not in_list: return cls._populate_hdict(translator, obj, parent_row_dict) for val in obj: rows, _ = cls._populate_hdict(translator, val, parent_row_dict) new_results.extend(rows) return new_results, _"," SELECTOR_TYPE, FIELD_TRANSLATORS) def _populate_translator_data_hdict(cls, translator, obj, parent_row_dict): table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY) id_col = translator.get(cls.ID_COL) new_results = [] # New tuples from this HDICT and sub containers. hdict_row = {} # The content of the HDICT's new row. if v is None: if cls.ID_COL in subtranslator: row_hash = cls._compute_hash([]) else: new_results.append((table, new_row)) return new_results, h",119,16
openstack%2Fcongress~master~Ib5428a908995f795896233f5522c570efa0fea95,openstack/congress,master,Ib5428a908995f795896233f5522c570efa0fea95,Break up convert_obj,MERGED,2014-12-03 00:57:28.000000000,2014-12-15 19:33:44.000000000,2014-12-15 19:33:43.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 8215}, {'_account_id': 9253}, {'_account_id': 12875}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-03 00:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/3d2d235d3539077e32fed96fd6d95723bba52839', 'message': 'Break up convert_obj\n\nThis patch simply breaks up the convert_obj method into 3 different methods\n_populate_translator_data_(vdict|hdict|list) so this method is more\nmanageable. Further refactoring will come later.\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib5428a908995f795896233f5522c570efa0fea95\n'}, {'number': 2, 'created': '2014-12-04 18:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/5f6d9ed0f9f5b07159397cb68348ebbbfc87d615', 'message': 'Break up convert_obj\n\nThis patch simply breaks up the convert_obj method into 3 different methods\n_populate_translator_data_(vdict|hdict|list) so this method is more\nmanageable. Further refactoring will come later.\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib5428a908995f795896233f5522c570efa0fea95\n'}, {'number': 3, 'created': '2014-12-10 03:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/70a696e36aeab4e29e55f7514e2e2ffa461c9ac9', 'message': 'Break up convert_obj\n\nThis patch simply breaks up the convert_obj method into 3 different methods\n_populate_translator_data_(vdict|hdict|list) so this method is more\nmanageable. Further refactoring will come later.\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib5428a908995f795896233f5522c570efa0fea95\n'}, {'number': 4, 'created': '2014-12-10 22:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/38e5716966c44d5d3c50322f6af67d111182615d', 'message': 'Break up convert_obj\n\nThis patch simply breaks up the convert_obj method into 3 different methods\n_populate_translator_data_(vdict|hdict|list) so this method is more\nmanageable. Further refactoring will come later.\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib5428a908995f795896233f5522c570efa0fea95\n'}, {'number': 5, 'created': '2014-12-12 00:01:15.000000000', 'files': ['congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/4c1067c0dad79cb454d58242e3959fe5111c95a5', 'message': 'Break up convert_obj\n\nThis patch simply breaks up the convert_obj method into 3 different methods\n_populate_translator_data_(vdict|hdict|list) so this method is more\nmanageable. Further refactoring will come later.\n\nPartially implements blueprint refactor-datasource-driver-framework\n\nChange-Id: Ib5428a908995f795896233f5522c570efa0fea95\n'}]",2,138594,4c1067c0dad79cb454d58242e3959fe5111c95a5,69,6,5,4395,,,0,"Break up convert_obj

This patch simply breaks up the convert_obj method into 3 different methods
_populate_translator_data_(vdict|hdict|list) so this method is more
manageable. Further refactoring will come later.

Partially implements blueprint refactor-datasource-driver-framework

Change-Id: Ib5428a908995f795896233f5522c570efa0fea95
",git fetch https://review.opendev.org/openstack/congress refs/changes/94/138594/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/datasource_driver.py'],1,3d2d235d3539077e32fed96fd6d95723bba52839,bp/parent-key-improvements," def _compare_subtranslator(cls, x, y): if cls.PARENT_KEY not in x[cls.TRANSLATOR] \ and cls.PARENT_KEY in y[cls.TRANSLATOR]: return -1 elif cls.PARENT_KEY in x[cls.TRANSLATOR] \ and cls.PARENT_KEY not in y[cls.TRANSLATOR]: return 1 else: return cmp(x, y) @classmethod def _populate_translator_data_list(cls, translator, obj, parent_row_dict): table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY, None) id_col = translator.get(cls.ID_COL, None) subtrans = translator[cls.TRANSLATOR] if subtrans[cls.TRANSLATION_TYPE] == cls.VALUE: extract_fn = subtrans.get(cls.EXTRACT_FN, None) converted_values = tuple([cls._extract_value(o, extract_fn) for o in obj]) if id_col: h = cls._compute_hash(converted_values) new_tuples = [(table, (h, v)) for v in converted_values] elif parent_key: h = None parent_key_value = parent_row_dict[parent_key] new_tuples = [(table, (parent_key_value, v)) for v in converted_values] else: h = None new_tuples = [(table, (v,)) for v in converted_values] return new_tuples, h else: assert translator[cls.TRANSLATION_TYPE] in (cls.HDICT, cls.VDICT, cls.LIST) new_tuples = [] row_hashes = [] for o in obj: if o is None: tuples = [] row_hash = [] if cls.ID_COL in subtrans: row_hash = cls._compute_hash([]) else: tuples, row_hash = cls.convert_obj(o, subtrans) assert row_hash, ""LIST's subtranslator must have row_hash"" assert cls.need_column_for_subtable_id(subtrans), \ ""LIST's subtranslator should have id"" if tuples: new_tuples.extend(tuples) row_hashes.append(row_hash) if id_col: h = cls._compute_hash(row_hashes) else: h = None for row_hash in row_hashes: if id_col: new_tuples.append((table, (h, row_hash))) elif parent_key: new_tuples.append((table, (parent_row_dict[parent_key], row_hash))) else: new_tuples.append((table, (row_hash,))) return new_tuples, h @classmethod def _populate_translator_data_vdict(cls, translator, obj, parent_row_dict): table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY, None) id_col = translator.get(cls.ID_COL, None) key_col = translator[cls.KEY_COL] subtrans = translator[cls.TRANSLATOR] if subtrans[cls.TRANSLATION_TYPE] == cls.VALUE: extract_fn = subtrans.get(cls.EXTRACT_FN, None) converted_items = tuple([(value_to_congress(k), cls._extract_value(v, extract_fn)) for k, v in obj.items()]) if id_col: h = cls._compute_hash(converted_items) new_tuples = [(table, (h,) + i) for i in converted_items] elif parent_key: h = None parent_key_value = parent_row_dict[parent_key] new_tuples = [(table, (parent_key_value,) + i) for i in converted_items] else: h = None new_tuples = [(table, i) for i in converted_items] return new_tuples, h else: assert translator[cls.TRANSLATION_TYPE] in (cls.HDICT, cls.VDICT, cls.LIST) new_tuples = [] vdict_rows = [] for k, v in obj.items(): if v is None: tuples = [] row_hash = [] if cls.ID_COL in subtrans: row_hash = cls._compute_hash([]) else: tuples, row_hash = cls.convert_obj(v, subtrans, {key_col: k}) if tuples: new_tuples.extend(tuples) vdict_row = (k,) if cls.need_column_for_subtable_id(subtrans): vdict_row = vdict_row + (row_hash,) vdict_rows.append(vdict_row) h = None if id_col: h = cls._compute_hash(vdict_rows) for vdict_row in vdict_rows: if id_col: new_tuples.append((table, (h,) + vdict_row)) elif parent_key: k = parent_row_dict[parent_key] new_tuples.append((table, (k,) + vdict_row)) else: new_tuples.append((table, vdict_row)) return new_tuples, h @classmethod def _populate_translator_data_hdict(cls, translator, obj, parent_row_dict): table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY) id_col = translator.get(cls.ID_COL) selector = translator[cls.SELECTOR_TYPE] field_translators = translator[cls.FIELD_TRANSLATORS] # Sort with fields lacking parent-key coming first so that the # subtranslators that need a parent field will be able to get them # from hdict_row. sorted_translators = sorted(field_translators, cmp=cls._compare_subtranslator) new_results = [] # New tuples from this HDICT and sub containers. hdict_row = {} # The content of the HDICT's new row. for field_translator in sorted_translators: field = field_translator[cls.FIELDNAME] col_name = field_translator.get(cls.COL, field) subtranslator = field_translator[cls.TRANSLATOR] if subtranslator[cls.TRANSLATION_TYPE] == cls.VALUE: extract_fn = subtranslator.get(cls.EXTRACT_FN) v = cls._extract_value( cls._get_value(obj, field, selector), extract_fn) hdict_row[col_name] = v else: assert translator[cls.TRANSLATION_TYPE] in (cls.HDICT, cls.VDICT, cls.LIST) tuples = [] row_hash = None v = cls._get_value(obj, field, selector) if v is None: if cls.ID_COL in subtranslator: row_hash = cls._compute_hash([]) else: tuples, row_hash = cls.convert_obj(v, subtranslator, hdict_row) new_results.extend(tuples) if cls.need_column_for_subtable_id(subtranslator): hdict_row[col_name] = row_hash new_row = [] for fieldtranslator in field_translators: col = fieldtranslator.get(cls.COL, fieldtranslator[cls.FIELDNAME]) if col in hdict_row: new_row.append(value_to_congress(hdict_row[col])) if id_col: h = cls._compute_hash(new_row) new_row = (h,) + tuple(new_row) elif parent_key: h = None new_row = (parent_row_dict[parent_key],) + tuple(new_row) else: h = None new_row = tuple(new_row) new_results.append((table, new_row)) return new_results, h @classmethod return cls._populate_translator_data_hdict(translator, obj, parent_row_dict) elif translation_type == cls.VDICT: return cls._populate_translator_data_vdict(translator, obj, parent_row_dict) elif translation_type == cls.LIST: return cls._populate_translator_data_list(translator, obj, parent_row_dict)"," table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY, None) id_col = translator.get(cls.ID_COL, None) selector = translator[cls.SELECTOR_TYPE] field_translators = translator[cls.FIELD_TRANSLATORS] new_results = [] # New tuples from this HDICT and sub containers. hdict_row = {} # The content of the HDICT's new row. def compare_subtranslator(x, y): if cls.PARENT_KEY not in x[cls.TRANSLATOR] \ and cls.PARENT_KEY in y[cls.TRANSLATOR]: return -1 elif cls.PARENT_KEY in x[cls.TRANSLATOR] \ and cls.PARENT_KEY not in y[cls.TRANSLATOR]: return 1 else: return cmp(x, y) # Sort with fields lacking parent-key coming first so that the # subtranslators that need a parent field will be able to get them # from hdict_row. sorted_translators = sorted(field_translators, cmp=compare_subtranslator) for field_translator in sorted_translators: field = field_translator[cls.FIELDNAME] col_name = field_translator.get(cls.COL, field) subtranslator = field_translator[cls.TRANSLATOR] if subtranslator[cls.TRANSLATION_TYPE] == cls.VALUE: extract_fn = subtranslator.get(cls.EXTRACT_FN, None) v = cls._extract_value( cls._get_value(obj, field, selector), extract_fn) hdict_row[col_name] = v else: assert subtranslator[cls.TRANSLATION_TYPE] in (cls.HDICT, cls.VDICT, cls.LIST) tuples = [] row_hash = None v = cls._get_value(obj, field, selector) if v is None: if cls.ID_COL in subtranslator: row_hash = cls._compute_hash([]) else: tuples, row_hash = cls.convert_obj(v, subtranslator, hdict_row) new_results.extend(tuples) if cls.need_column_for_subtable_id(subtranslator): hdict_row[col_name] = row_hash new_row = [] for fieldtranslator in field_translators: col = fieldtranslator.get(cls.COL, fieldtranslator[cls.FIELDNAME]) if col in hdict_row: new_row.append(value_to_congress(hdict_row[col])) if id_col: h = cls._compute_hash(new_row) new_row = (h,) + tuple(new_row) elif parent_key: h = None new_row = (parent_row_dict[parent_key],) + tuple(new_row) else: h = None new_row = tuple(new_row) new_results.append((table, new_row)) return new_results, h elif translation_type == cls.VDICT: table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY, None) id_col = translator.get(cls.ID_COL, None) key_col = translator[cls.KEY_COL] subtrans = translator[cls.TRANSLATOR] if subtrans[cls.TRANSLATION_TYPE] == cls.VALUE: extract_fn = subtrans.get(cls.EXTRACT_FN, None) converted_items = tuple([(value_to_congress(k), cls._extract_value(v, extract_fn)) for k, v in obj.items()]) if id_col: h = cls._compute_hash(converted_items) new_tuples = [(table, (h,) + i) for i in converted_items] elif parent_key: h = None parent_key_value = parent_row_dict[parent_key] new_tuples = [(table, (parent_key_value,) + i) for i in converted_items] else: h = None new_tuples = [(table, i) for i in converted_items] return new_tuples, h else: assert translator[cls.TRANSLATION_TYPE] in (cls.HDICT, cls.VDICT, cls.LIST) new_tuples = [] vdict_rows = [] for k, v in obj.items(): if v is None: tuples = [] row_hash = [] if cls.ID_COL in subtrans: row_hash = cls._compute_hash([]) else: tuples, row_hash = cls.convert_obj(v, subtrans, {key_col: k}) if tuples: new_tuples.extend(tuples) vdict_row = (k,) if cls.need_column_for_subtable_id(subtrans): vdict_row = vdict_row + (row_hash,) vdict_rows.append(vdict_row) h = None if id_col: h = cls._compute_hash(vdict_rows) for vdict_row in vdict_rows: if id_col: new_tuples.append((table, (h,) + vdict_row)) elif parent_key: k = parent_row_dict[parent_key] new_tuples.append((table, (k,) + vdict_row)) else: new_tuples.append((table, vdict_row)) return new_tuples, h elif translation_type == cls.LIST: table = translator[cls.TABLE_NAME] parent_key = translator.get(cls.PARENT_KEY, None) id_col = translator.get(cls.ID_COL, None) subtrans = translator[cls.TRANSLATOR] if subtrans[cls.TRANSLATION_TYPE] == cls.VALUE: extract_fn = subtrans.get(cls.EXTRACT_FN, None) converted_values = tuple([cls._extract_value(o, extract_fn) for o in obj]) if id_col: h = cls._compute_hash(converted_values) new_tuples = [(table, (h, v)) for v in converted_values] elif parent_key: h = None parent_key_value = parent_row_dict[parent_key] new_tuples = [(table, (parent_key_value, v)) for v in converted_values] else: h = None new_tuples = [(table, (v,)) for v in converted_values] return new_tuples, h else: assert translator[cls.TRANSLATION_TYPE] in (cls.HDICT, cls.VDICT, cls.LIST) new_tuples = [] row_hashes = [] for o in obj: if o is None: tuples = [] row_hash = [] if cls.ID_COL in subtrans: row_hash = cls._compute_hash([]) else: tuples, row_hash = cls.convert_obj(o, subtrans) assert row_hash, ""LIST's subtranslator must have row_hash"" assert cls.need_column_for_subtable_id(subtrans), \ ""LIST's subtranslator should have id"" if tuples: new_tuples.extend(tuples) row_hashes.append(row_hash) if id_col: h = cls._compute_hash(row_hashes) else: h = None for row_hash in row_hashes: if id_col: new_tuples.append((table, (h, row_hash))) elif parent_key: new_tuples.append((table, (parent_row_dict[parent_key], row_hash))) else: new_tuples.append((table, (row_hash,))) return new_tuples, h",206,190
openstack%2Fproject-config~master~I68bff48b1161f53d67c100dbe2509e95a31a7555,openstack/project-config,master,I68bff48b1161f53d67c100dbe2509e95a31a7555,Add puppet-recheckwatch as split out module Part 1,ABANDONED,2014-12-09 21:41:58.000000000,2014-12-15 19:23:45.000000000,,"[{'_account_id': 3}, {'_account_id': 9624}]","[{'number': 1, 'created': '2014-12-09 21:41:58.000000000', 'files': ['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4d171a8f6217b37f2925454e07a74393574175ce', 'message': 'Add puppet-recheckwatch as split out module Part 1\n\nAdd all parts needed to add the puppet-recheckwatch as a split out\nmodule except for the gerrit/project.yaml file.\n\nWe should be able to safely merge this, followed by Part 2,\nwhich will contain only the portion requiring core support.\n\nChange-Id: I68bff48b1161f53d67c100dbe2509e95a31a7555\n'}]",0,140487,4d171a8f6217b37f2925454e07a74393574175ce,4,2,1,9624,,,0,"Add puppet-recheckwatch as split out module Part 1

Add all parts needed to add the puppet-recheckwatch as a split out
module except for the gerrit/project.yaml file.

We should be able to safely merge this, followed by Part 2,
which will contain only the portion requiring core support.

Change-Id: I68bff48b1161f53d67c100dbe2509e95a31a7555
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/140487/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,4d171a8f6217b37f2925454e07a74393574175ce,module-split, - name: openstack-infra/puppet-recheckwatch template: - name: merge-check - name: puppet-check-jobs - name: infra-puppet-apply-jobs ,,16,0
openstack%2Fdesignate~master~I457a31e9a020ec0e6614aeb5ac97f19af66093ef,openstack/designate,master,I457a31e9a020ec0e6614aeb5ac97f19af66093ef,TEST: PDNS Gate Fix.. Force a NOTIFY upon zone create,ABANDONED,2014-12-15 18:47:29.000000000,2014-12-15 19:16:30.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-15 18:47:29.000000000', 'files': ['designate/pool_manager/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/508ce3ed3694b89522a2471934757528fbc2be3d', 'message': 'TEST: PDNS Gate Fix.. Force a NOTIFY upon zone create\n\nChange-Id: I457a31e9a020ec0e6614aeb5ac97f19af66093ef\n'}]",0,141876,508ce3ed3694b89522a2471934757528fbc2be3d,3,1,1,741,,,0,"TEST: PDNS Gate Fix.. Force a NOTIFY upon zone create

Change-Id: I457a31e9a020ec0e6614aeb5ac97f19af66093ef
",git fetch https://review.opendev.org/openstack/designate refs/changes/76/141876/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/pool_manager/service.py'],1,508ce3ed3694b89522a2471934757528fbc2be3d,bp/transition-powerdns-to-pools," self.mdns_api.notify_zone_changed( context, domain, self._get_destination(server), self.timeout, self.retry_interval, self.max_retries, 0) for server_backend in self.server_backends: server = server_backend['server']",,6,0
openstack%2Fswift~master~Ib8084ca20fe7a199a00067da9386c2ccf618755c,openstack/swift,master,Ib8084ca20fe7a199a00067da9386c2ccf618755c,Rework `splice` and `tee`,MERGED,2014-11-18 15:06:23.000000000,2014-12-15 19:16:02.000000000,2014-12-15 18:40:15.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 2696}, {'_account_id': 7233}, {'_account_id': 7479}, {'_account_id': 10068}, {'_account_id': 13052}, {'_account_id': 13777}]","[{'number': 1, 'created': '2014-11-18 15:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/110c8280c95f033fe994618c11018b7710853463', 'message': 'Remove `off_in` and `off_out` arguments to `splice`\n\nWhen passing offsets to `splice`, these arguments should be pointers to\n`loff_t` values (or `NULL`). Currently, the `off_in` and `off_out`\nvalues as passed to the Python `splice` binding are passed to libc\n`splice` as simple integers, which would cause corruption or crashes if\nthe syscall would actually write to the pointers (which happens if the\npointer is non-NULL).\n\nLuckily until now `splice` was only used with 0 as `off_in` and\n`off_out` values.\n\nThis patch removes the `off_in` and `off_out` arguments, always passing\nin `None` (which represents `NULL`) to the `ctypes` binding.\n\nChange-Id: Ib8084ca20fe7a199a00067da9386c2ccf618755c\n'}, {'number': 2, 'created': '2014-11-19 23:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28505defc0f28e2739d0013eb7b4fd4ad48513fa', 'message': 'Rework `splice` and `tee`\n\nThis patch reworks the bindings to `splice` and `tee` in order to fix a\n(potential) bug when using the old `splice` binding and passing offsets\n(see https://review.openstack.org/#/c/135319/ for a discussion of the\nissue).\n\nThe new binding code (based on https://github.com/NicolasT/tee-n-splice)\nuses more `ctypes` features w.r.t. parameter and return value handling.\n\nIt also introduces a test suite for both calls.\n\nChange-Id: Ib8084ca20fe7a199a00067da9386c2ccf618755c\n'}, {'number': 3, 'created': '2014-11-20 01:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5861fe917479d6ebdc05b15fe41671b22590b69e', 'message': 'Rework `splice` and `tee`\n\nThis patch reworks the bindings to `splice` and `tee` in order to fix a\n(potential) bug when using the old `splice` binding and passing offsets\n(see https://review.openstack.org/#/c/135319/ for a discussion of the\nissue).\n\nThe new binding code (based on https://github.com/NicolasT/tee-n-splice)\nuses more `ctypes` features w.r.t. parameter and return value handling.\n\nIt also introduces a test suite for both calls.\n\nChange-Id: Ib8084ca20fe7a199a00067da9386c2ccf618755c\n'}, {'number': 4, 'created': '2014-11-20 01:31:01.000000000', 'files': ['swift/common/utils.py', 'swift/common/splice.py', 'test/unit/common/test_splice.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a0a8ae00f2d3b7db255b0905b063e930f824f3d', 'message': 'Rework `splice` and `tee`\n\nThis patch reworks the bindings to `splice` and `tee` in order to fix a\n(potential) bug when using the old `splice` binding and passing offsets\n(see https://review.openstack.org/#/c/135319/ for a discussion of the\nissue).\n\nThe new binding code (based on https://github.com/NicolasT/tee-n-splice)\nuses more `ctypes` features w.r.t. parameter and return value handling.\n\nIt also introduces a test suite for both calls.\n\nChange-Id: Ib8084ca20fe7a199a00067da9386c2ccf618755c\n'}]",6,135319,2a0a8ae00f2d3b7db255b0905b063e930f824f3d,30,8,4,13777,,,0,"Rework `splice` and `tee`

This patch reworks the bindings to `splice` and `tee` in order to fix a
(potential) bug when using the old `splice` binding and passing offsets
(see https://review.openstack.org/#/c/135319/ for a discussion of the
issue).

The new binding code (based on https://github.com/NicolasT/tee-n-splice)
uses more `ctypes` features w.r.t. parameter and return value handling.

It also introduces a test suite for both calls.

Change-Id: Ib8084ca20fe7a199a00067da9386c2ccf618755c
",git fetch https://review.opendev.org/openstack/swift refs/changes/19/135319/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/obj/diskfile.py']",2,110c8280c95f033fe994618c11018b7710853463,fix-splice," splice, rfd, client_wpipe, pipe_size, 0) hashed = splice(hash_rpipe, md5_sockfd, bytes_in_pipe, SPLICE_F_MORE) sent = splice(client_rpipe, wsockfd, bytes_in_pipe, 0)"," splice, rfd, 0, client_wpipe, 0, pipe_size, 0) hashed = splice(hash_rpipe, 0, md5_sockfd, 0, bytes_in_pipe, SPLICE_F_MORE) sent = splice(client_rpipe, 0, wsockfd, 0, bytes_in_pipe, 0)",7,8
openstack%2Fpython-swiftclient~master~I1fdff85da2dd4b883d337d6098b1695e448d6f2b,openstack/python-swiftclient,master,I1fdff85da2dd4b883d337d6098b1695e448d6f2b,Show warning when auth_version >= 2 and keystoneclient is missing,MERGED,2014-11-25 12:14:45.000000000,2014-12-15 19:07:24.000000000,2014-12-15 19:07:23.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 7479}, {'_account_id': 7847}]","[{'number': 1, 'created': '2014-11-25 12:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/da84661837e6845cd5a397442dd327023ca46190', 'message': 'Show warning when auth_version >= 2 and keystoneclient is missing\n\nSwiftclient hangs forever without any reasonable hint if someone uses a recent\nversion of swiftclient together with auth version 2 or later. The reason for\nthis is the sys.exit() call in a thread - will never exit the main thread, and\nswift just waits forever.\n\nRaising a ClientException instead of calling sys.exit() fixes this and returns\nthe desired information back to the user.\n\nChange-Id: I1fdff85da2dd4b883d337d6098b1695e448d6f2b\n'}, {'number': 2, 'created': '2014-11-25 12:16:14.000000000', 'files': ['swiftclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/47546eb14522b70ebb765986560d914a88916276', 'message': 'Show warning when auth_version >= 2 and keystoneclient is missing\n\nSwiftclient hangs forever without any reasonable hint if someone\nuses a recent version of swiftclient together with auth version\n2 or later. The reason for this is the sys.exit() call in a thread\n- the main thread never exists, and swift just waits forever.\n\nRaising a ClientException instead of calling sys.exit() fixes this\nand returns the desired information back to the user.\n\nChange-Id: I1fdff85da2dd4b883d337d6098b1695e448d6f2b\n'}]",0,137034,47546eb14522b70ebb765986560d914a88916276,19,6,2,6968,,,0,"Show warning when auth_version >= 2 and keystoneclient is missing

Swiftclient hangs forever without any reasonable hint if someone
uses a recent version of swiftclient together with auth version
2 or later. The reason for this is the sys.exit() call in a thread
- the main thread never exists, and swift just waits forever.

Raising a ClientException instead of calling sys.exit() fixes this
and returns the desired information back to the user.

Change-Id: I1fdff85da2dd4b883d337d6098b1695e448d6f2b
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/34/137034/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/client.py'],1,da84661837e6845cd5a397442dd327023ca46190,fix-keystone-warning, raise ClientException(''',import sys sys.exit(''',1,2
openstack%2Fnova~master~I3878b1a52c09660b97ee32c170e20269ed3be101,openstack/nova,master,I3878b1a52c09660b97ee32c170e20269ed3be101,Extract common code from get_fc_wwpns and get_fc_wwnns,ABANDONED,2014-07-03 14:10:07.000000000,2014-12-15 19:03:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 1882}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-03 14:10:07.000000000', 'files': ['nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a73a986107b2c5dddd0c520617603cb9fbb1ee2a', 'message': 'Extract common code from get_fc_wwpns and get_fc_wwnns\n\nSince get_fc_wwpns and get_fc_wwnns has almost the same code,\nso extract common code from these two function and add a flag\nto identify what info to collect.\n\nChange-Id: I3878b1a52c09660b97ee32c170e20269ed3be101\nCloses-Bug: #1337304\n'}]",4,104557,a73a986107b2c5dddd0c520617603cb9fbb1ee2a,17,8,1,8874,,,0,"Extract common code from get_fc_wwpns and get_fc_wwnns

Since get_fc_wwpns and get_fc_wwnns has almost the same code,
so extract common code from these two function and add a flag
to identify what info to collect.

Change-Id: I3878b1a52c09660b97ee32c170e20269ed3be101
Closes-Bug: #1337304
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/104557/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/utils.py'],1,a73a986107b2c5dddd0c520617603cb9fbb1ee2a,bug/1337304,"def get_fc_info(wwnns_flag=True): """"""Get Fibre Channel WWNNs/WWPNs from the system, if any."""""" if wwnns_flag is True: wwnn = hba['node_name'].replace('0x', '') else: wwnn = hba['port_name'].replace('0x', '')def get_fc_wwpns(): """"""Get Fibre Channel WWPNs from the system, if any."""""" # Note modern linux kernels contain the FC HBA's in /sys # and are obtainable via the systool app return get_fc_info(wwnns_flag=False) def get_fc_wwnns(): """"""Get Fibre Channel WWNNs from the system, if any."""""" # Note modern linux kernels contain the FC HBA's in /sys # and are obtainable via the systool app return get_fc_info(wwnns_flag=True) ","def get_fc_wwpns(): """"""Get Fibre Channel WWPNs from the system, if any."""""" # Note modern linux kernels contain the FC HBA's in /sys # and are obtainable via the systool app hbas = get_fc_hbas() wwpns = [] if hbas: for hba in hbas: if hba['port_state'] == 'Online': wwpn = hba['port_name'].replace('0x', '') wwpns.append(wwpn) return wwpns def get_fc_wwnns(): """"""Get Fibre Channel WWNNs from the system, if any."""""" wwnn = hba['node_name'].replace('0x', '')",20,19
openstack%2Fpython-swiftclient~master~Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336,openstack/python-swiftclient,master,Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336,Fix misnamed dictionary key.,MERGED,2014-10-20 11:14:43.000000000,2014-12-15 19:02:24.000000000,2014-12-15 19:02:23.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 13470}]","[{'number': 1, 'created': '2014-10-20 11:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/d00d9dcd057182f33b87fff046dff24993525041', 'message': ""Fix misnamed dictionary key.o\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\nChanged to make it consistent\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 2, 'created': '2014-10-22 17:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/0f006d849c793593725f671ef246b073a2cd8731', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 3, 'created': '2014-10-23 11:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/4a89f8c0bb5f499805e1f83664c980c91354ff83', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 4, 'created': '2014-10-29 10:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/445216a9e7f6703ae22b73a93b58283994850125', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 5, 'created': '2014-11-17 12:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/09c7390b6642ad7ab56e465e5d2651affddd6060', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 6, 'created': '2014-11-17 12:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/58b9f926649f24cb971e92fe5cd6fb82d1b4ed31', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nCloses-Bug: 1392651\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 7, 'created': '2014-11-17 12:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/b70fbb896f72c0c775b7cc18040c9407a2c9edbe', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 8, 'created': '2014-11-20 14:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/f4701a09fe66322441402ffa852d930a4dbda1da', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}, {'number': 9, 'created': '2014-12-08 15:47:28.000000000', 'files': ['swiftclient/shell.py', 'tests/unit/test_service.py', 'tests/unit/test_shell.py', 'swiftclient/service.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/5756fcc4f25b97692cba548863f3d2b27217ced1', 'message': ""Fix misnamed dictionary key.\n\nThe response dictionary in _delete_segment attach's any error\nit encounters to the dict key 'exception', all other response\ndict's use 'error' to store the exception.\n\nChanged to make it consistent and added tests\n\nAlso added a third branch in st_delete as messages\ncreated in _delete_container where being silently dropped.\n\nChange-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336\n""}]",18,129574,5756fcc4f25b97692cba548863f3d2b27217ced1,52,5,9,13470,,,0,"Fix misnamed dictionary key.

The response dictionary in _delete_segment attach's any error
it encounters to the dict key 'exception', all other response
dict's use 'error' to store the exception.

Changed to make it consistent and added tests

Also added a third branch in st_delete as messages
created in _delete_container where being silently dropped.

Change-Id: Ifbc3b1fae78910fbc6acf4a86cfb0f60bb1aa336
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/74/129574/8 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/service.py'],1,d00d9dcd057182f33b87fff046dff24993525041,misnamed_dict_key," if (options['changed'] or options['skip_identical'] or not options['leave_segments']): if (path is not None and options['changed'] and cl == getsize(path) and mt == put_headers['x-object-meta-mtime']): if (path is not None and options['segment_size'] and getsize(path) > int(options['segment_size'])): if (not cancelled and options['fail_fast'] and not res['success']): res = {'success': True} except Exception as e: res = {'success': False, 'error': e} res.update({ 'action': 'delete_segment', 'container': container, 'object': obj, 'attempts': conn.attempts, 'response_dict': results_dict }) if config_true_value(headers.get('x-static-large-object')):"," if options['changed'] or options['skip_identical'] \ or not options['leave_segments']: if path is not None and options['changed']\ and cl == getsize(path) and \ mt == put_headers['x-object-meta-mtime']: if path is not None and options['segment_size'] and \ getsize(path) > int(options['segment_size']): if not cancelled and \ options['fail_fast'] and \ not res['success']: res = { 'action': 'delete_segment', 'container': container, 'object': obj, 'success': True, 'attempts': conn.attempts, 'response_dict': results_dict } except Exception as e: res = { 'action': 'delete_segment', 'container': container, 'object': obj, 'success': False, 'attempts': conn.attempts, 'response_dict': results_dict, 'exception': e } if config_true_value( headers.get('x-static-large-object')):",21,29
openstack%2Fopenstack-manuals~master~I5868f011e86c9368c2926344ac1ded5b230fc7e6,openstack/openstack-manuals,master,I5868f011e86c9368c2926344ac1ded5b230fc7e6,XenAPI: Cleanup introduction,MERGED,2014-12-09 16:00:40.000000000,2014-12-15 18:57:32.000000000,2014-12-15 18:57:31.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 5044}, {'_account_id': 6547}, {'_account_id': 6735}, {'_account_id': 6772}]","[{'number': 1, 'created': '2014-12-09 16:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/59d0d39a9fe8b217f406a12a1606c1087bacc3d9', 'message': 'XenAPI: Cleanup introduction\n\nRemove references to XCP, remove driver domain specific information,\nupdate links to the latest (6.2) XenServer, add link to xenserver.org\n\nChange-Id: I5868f011e86c9368c2926344ac1ded5b230fc7e6\n'}, {'number': 2, 'created': '2014-12-10 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c06ba166dbc36cc3d9a2dc60d72de8c0c414aa74', 'message': 'XenAPI: Cleanup introduction\n\nRemove references to XCP, remove driver domain specific information,\nupdate links to the latest (6.2) XenServer, add link to xenserver.org\n\nChange-Id: I5868f011e86c9368c2926344ac1ded5b230fc7e6\n'}, {'number': 3, 'created': '2014-12-10 17:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/79db1220203de23fc5a93c1722c49df313c05227', 'message': 'XenAPI: Cleanup introduction\n\nRemove references to XCP, remove driver domain specific information,\nupdate links to the latest (6.2) XenServer, add link to xenserver.org\n\nChange-Id: I5868f011e86c9368c2926344ac1ded5b230fc7e6\n'}, {'number': 4, 'created': '2014-12-15 11:27:45.000000000', 'files': ['doc/config-reference/compute/section_introduction-to-xen.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f6a38e543de9fbe96c24f3e867cdee9ef152f1f6', 'message': 'XenAPI: Cleanup introduction\n\nRemove references to XCP, remove driver domain specific information,\nupdate links to the latest (6.2) XenServer, add link to xenserver.org\n\nChange-Id: I5868f011e86c9368c2926344ac1ded5b230fc7e6\n'}]",4,140388,f6a38e543de9fbe96c24f3e867cdee9ef152f1f6,22,6,4,5044,,,0,"XenAPI: Cleanup introduction

Remove references to XCP, remove driver domain specific information,
update links to the latest (6.2) XenServer, add link to xenserver.org

Change-Id: I5868f011e86c9368c2926344ac1ded5b230fc7e6
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/140388/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/compute/section_introduction-to-xen.xml'],1,59d0d39a9fe8b217f406a12a1606c1087bacc3d9,," <title xml:id=""introduction-to-xen.title"">Xen, XenAPI, XenServer</title> <para> This section describes XenAPI managed hypervisors, and how to use them with OpenStack. </para> <title>Terminology</title> <section xml:id=""terminology-xen""> <title>Xen</title> <para> A hypervisor that provides the fundamental isolation between virtual machines. Xen is open source (GPLv2) and is managed by Xen.org, an cross-industry organization. </para> <para> Xen is a component of many different products and projects. The hypervisor itself is very similar across all these projects, but the way that it is managed can be different, which can cause confusion if you're not clear which toolstack you are using. Make sure you know what toolstack you want before you get started. </para> </section> <section xml:id=""terminology-xenapi""> <title>XenAPI</title> <para> XenAPI is one of the toolstacks that could control a Xen based hypervisor. XenAPI's role is similar to libvirt's in the KVM world. To learn more about XenAPI, visit the <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.2.0/1.0/en_gb/sdk.html#object_model_overview"" > XenAPI Object Model Overview </link> for definitions of XenAPI specific terms such as SR, VDI, VIF and PIF. </para> <para> OpenStack has a compute driver which talks to XenAPI, therefore all XenAPI managed servers could be used with OpenStack. </para> </section> <section xml:id=""terminology-xenserver""> <title>XenServer</title> <para> An Open Source virtualization software which includes the Xen hypervisor and XenAPI for the management. For more information and product downloads, visit <link xlink:href=""http://xenserver.org/""> xenserver.org </link>. </para> </section> <para> A Xen host runs a number of virtual machines, VMs, or domains (the terms are synonymous on Xen). One of these is in charge of running the rest of the system, and is known as domain 0, or dom0. It is the first domain to boot after Xen, and owns the storage and networking hardware, the device drivers, and the primary control software. Any other VM is unprivileged, and are known as a domU or guest. All customer VMs are unprivileged, but you should note that on Xen, the OpenStack Compute service also runs in a domU. This gives a level of security isolation between the privileged system software and the OpenStack software (much of which is customer-facing). This architecture is described in more detail later. </para> <title>Paravirtualized versus hardware virtualized domains</title> <para> A Xen virtual machine can be paravirtualized (PV) or hardware virtualized (HVM). This refers to the interaction between Xen, domain 0, and the guest VM's kernel. PV guests are aware of the fact that they are virtualized and will co-operate with Xen and domain 0; this gives them better performance characteristics. HVM guests are not aware of their environment, and the hardware has to pretend that they are running on an unvirtualized machine. HVM guests do not need to modify the guest operating system, which is essential when running Windows. </para> <para> In OpenStack, customer VMs may run in either PV or HVM mode. However, the OpenStack domU (that's the one running OpenStack Compute) must be running in PV mode. </para>"," <title xml:id=""introduction-to-xen.title"">Xen, XenAPI, XenServer, and XCP</title> <para>This section describes Xen, XenAPI, XenServer, and XCP, their differences, and how to use them with OpenStack. After you understand how the Xen and KVM architectures differ, you can determine when to use each architecture in your OpenStack cloud.</para> <title>Xen terminology</title> <para><emphasis role=""bold"">Xen</emphasis>. A hypervisor that provides the fundamental isolation between virtual machines. Xen is open source (GPLv2) and is managed by Xen.org, an cross-industry organization.</para> <para>Xen is a component of many different products and projects. The hypervisor itself is very similar across all these projects, but the way that it is managed can be different, which can cause confusion if you're not clear which tool stack you are using. Make sure you know what tool stack you want before you get started.</para> <para><emphasis role=""bold"">Xen Cloud Platform (XCP)</emphasis>. An open source (GPLv2) tool stack for Xen. It is designed specifically as a platform for enterprise and cloud computing, and is well integrated with OpenStack. XCP is available both as a binary distribution, installed from an iso, and from Linux distributions, such as <link xlink:href=""http://packages.ubuntu.com/precise/xcp-xapi"" >xcp-xapi</link> in Ubuntu. The current versions of XCP available in Linux distributions do not yet include all the features available in the binary distribution of XCP.</para> <para><emphasis role=""bold"">Citrix XenServer</emphasis>. A commercial product. It is based on XCP, and exposes the same tool stack and management API. As an analogy, think of XenServer being based on XCP in the way that Red Hat Enterprise Linux is based on Fedora. XenServer has a free version (which is very similar to XCP) and paid-for versions with additional features enabled. Citrix provides support for XenServer, but as of July 2012, they do not provide any support for XCP. For a comparison between these products see the <link xlink:href=""http://wiki.xen.org/wiki/XCP/XenServer_Feature_Matrix"" > XCP Feature Matrix</link>.</para> <para>Both XenServer and XCP include Xen, Linux, and the primary control daemon known as <emphasis role=""bold"" >xapi</emphasis>.</para> <para>The API shared between XCP and XenServer is called <emphasis role=""bold"">XenAPI</emphasis>. OpenStack usually refers to XenAPI, to indicate that the integration works equally well on XCP and XenServer. Sometimes, a careless person will refer to XenServer specifically, but you can be reasonably confident that anything that works on XenServer will also work on the latest version of XCP. Read the <link xlink:href=""http://docs.vmd.citrix.com/XenServer/6.0.0/1.0/en_gb/sdk.html#object_model_overview"" > XenAPI Object Model Overview</link> for definitions of XenAPI specific terms such as SR, VDI, VIF and PIF.</para> <para>A Xen host runs a number of virtual machines, VMs, or domains (the terms are synonymous on Xen). One of these is in charge of running the rest of the system, and is known as ""domain 0,"" or ""dom0."" It is the first domain to boot after Xen, and owns the storage and networking hardware, the device drivers, and the primary control software. Any other VM is unprivileged, and are known as a ""domU"" or ""guest"". All customer VMs are unprivileged of course, but you should note that on Xen the OpenStack control software (<systemitem class=""service"" >nova-compute</systemitem>) also runs in a domU. This gives a level of security isolation between the privileged system software and the OpenStack software (much of which is customer-facing). This architecture is described in more detail later.</para> <para>There is an ongoing project to split domain 0 into multiple privileged domains known as <emphasis role=""bold"">driver domains</emphasis> and <emphasis role=""bold"">stub domains</emphasis>. This would give even better separation between critical components. This technology is what powers Citrix XenClient RT, and is likely to be added into XCP in the next few years. However, the current architecture just has three levels of separation: dom0, the OpenStack domU, and the completely unprivileged customer VMs.</para> <title>Paravirtualized versus hardware virtualized domains</title> <para>A Xen virtual machine can be <emphasis role=""bold"" >paravirtualized (PV)</emphasis> or <emphasis role=""bold"">hardware virtualized (HVM)</emphasis>. This refers to the interaction between Xen, domain 0, and the guest VM's kernel. PV guests are aware of the fact that they are virtualized and will co-operate with Xen and domain 0; this gives them better performance characteristics. HVM guests are not aware of their environment, and the hardware has to pretend that they are running on an unvirtualized machine. HVM guests do not need to modify the guest operating system, which is essential when running Windows.</para> <para>In OpenStack, customer VMs may run in either PV or HVM mode. However, the OpenStack domU (that's the one running <systemitem class=""service"" >nova-compute</systemitem>) <emphasis role=""bold"" >must</emphasis> be running in PV mode.</para>",84,104
openstack%2Fkeystone~master~I812267a86eb375b5989b1c9ffa313070db889156,openstack/keystone,master,I812267a86eb375b5989b1c9ffa313070db889156,Allow pre-hashed passwords for users,ABANDONED,2014-12-08 18:06:42.000000000,2014-12-15 18:50:16.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2903}, {'_account_id': 10433}]","[{'number': 1, 'created': '2014-12-08 18:06:42.000000000', 'files': ['keystone/common/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/537466f8f9b43dd30a035632eb788d18b212ff22', 'message': 'Allow pre-hashed passwords for users\n\nChange-Id: I812267a86eb375b5989b1c9ffa313070db889156\n'}]",0,140104,537466f8f9b43dd30a035632eb788d18b212ff22,7,4,1,10433,,,0,"Allow pre-hashed passwords for users

Change-Id: I812267a86eb375b5989b1c9ffa313070db889156
",git fetch https://review.opendev.org/openstack/keystone refs/changes/04/140104/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/utils.py'],1,537466f8f9b43dd30a035632eb788d18b212ff22,hash-pass, if passlib.hash.sha512_crypt.identify(password_utf8): return password_utf8,,2,0
openstack%2Fdesignate~master~Ic7b8f614eb6af662f3db9d2ae668e127539ab9e5,openstack/designate,master,Ic7b8f614eb6af662f3db9d2ae668e127539ab9e5,TEST: Some quick PDNS+gate debugging,ABANDONED,2014-12-15 18:09:57.000000000,2014-12-15 18:47:48.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2014-12-15 18:09:57.000000000', 'files': ['designate/backend/impl_powerdns/__init__.py', 'contrib/devstack/lib/designate', 'contrib/devstack/exercises/designate.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/7c7374edb0033151be0b33c9efd6c2f9f5913a16', 'message': 'TEST: Some quick PDNS+gate debugging\n\nDo not merge.\n\nChange-Id: Ic7b8f614eb6af662f3db9d2ae668e127539ab9e5\n'}]",0,141865,7c7374edb0033151be0b33c9efd6c2f9f5913a16,3,1,1,741,,,0,"TEST: Some quick PDNS+gate debugging

Do not merge.

Change-Id: Ic7b8f614eb6af662f3db9d2ae668e127539ab9e5
",git fetch https://review.opendev.org/openstack/designate refs/changes/65/141865/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/impl_powerdns/__init__.py', 'contrib/devstack/lib/designate', 'contrib/devstack/exercises/designate.sh']",3,7c7374edb0033151be0b33c9efd6c2f9f5913a16,bp/transition-powerdns-to-pools," mysql -u root -psecretmysql -H 127.0.0.1 -e ""SELECT * FROM designate_pdns.domains;"" mysql -u root -psecretmysql -H 127.0.0.1 -e ""SELECT * FROM designate_pdns.records;"" mysql -u root -psecretmysql -H 127.0.0.1 -e ""SELECT * FROM designate_pdns.domains;"" mysql -u root -psecretmysql -H 127.0.0.1 -e ""SELECT * FROM designate_pdns.records;""",,8,14
openstack%2Fmurano~master~I284ea8b0e956f5b6e5f97f85facf69b8cfbd6442,openstack/murano,master,I284ea8b0e956f5b6e5f97f85facf69b8cfbd6442,Removed deprecated run_tests.sh,MERGED,2014-12-13 15:42:13.000000000,2014-12-15 18:41:32.000000000,2014-12-15 18:41:30.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7770}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-13 15:42:13.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/murano/commit/e947bca96804f211578ebf8e8942a3c44eb09172', 'message': ""Removed deprecated run_tests.sh\n\nrun_tests.sh was deprecated half a year ago. not it's a safe time\nto remove it from the source tree.\n\nChange-Id: I284ea8b0e956f5b6e5f97f85facf69b8cfbd6442\n""}]",0,141563,e947bca96804f211578ebf8e8942a3c44eb09172,11,5,1,7600,,,0,"Removed deprecated run_tests.sh

run_tests.sh was deprecated half a year ago. not it's a safe time
to remove it from the source tree.

Change-Id: I284ea8b0e956f5b6e5f97f85facf69b8cfbd6442
",git fetch https://review.opendev.org/openstack/murano refs/changes/63/141563/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,e947bca96804f211578ebf8e8942a3c44eb09172,murano-cleanup,,"#!/bin/bash EXPECTED_TOX_VERSION=""1.6.1"" tox_version=`tox --version 2>/dev/null` if [ $? -ne 0 ]; then tox_version=""not installed"" else tox_version=`echo $tox_version | cut -d' ' -f1` fi echo ""run_tests.sh is deprecated in favor of running tox directly."" echo ""This will ensure your results are the same as Jenkins'."" echo if [ ""$tox_version"" == ""not installed"" ]; then echo ""It looks like tox isn't installed. You can install (globally or"" echo ""into a virtualenv) with pip. Be sure to install version 1.6.1,"" echo ""since later versions have problems running some tests. To install:"" echo echo "" pip install \""tox==1.6.1\"""" echo elif [ ""$tox_version"" != ""$EXPECTED_TOX_VERSION"" ]; then echo ""## WARNING ##"" echo ""You have tox version $tox_version installed. Consider installing"" echo ""version $EXPECTED_TOX_VERSION, since later versions may not run tests correctly."" echo else echo ""You have tox $tox_version installed."" echo fi echo ""To run unit tests or pep8 using tox:"" echo echo "" 'tox -e pep8' will run style checks"" echo "" 'tox -e py26' will run python 2.6 unit tests"" echo "" 'tox -e py27' will run python 2.7 unit tests"" echo "" 'tox' will run all unit tests and pep8 (as Jenkins does)"" echo echo ""Tox creates its own virtual environments."" echo echo ""To run functional tests, run ./functionaltests/run_tests.sh"" ",0,44
openstack%2Fcookbook-openstack-network~master~I35474a463b843b50a688fb30622435cc82e395c7,openstack/cookbook-openstack-network,master,I35474a463b843b50a688fb30622435cc82e395c7,Update iproute because Centos 6.5 hates us,MERGED,2014-12-04 20:19:16.000000000,2014-12-15 18:41:08.000000000,2014-12-15 18:41:05.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 12588}]","[{'number': 1, 'created': '2014-12-04 20:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/bf622e865875c60f6d8dc554ca21f632ee3c3b02', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\nI tried putting it in as override attributes with the neutron-packages,\nand that broke more.\n\nThis is the only way to get it to work. This will also need to be\nbackported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 2, 'created': '2014-12-04 21:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/a7ea1cd72bcac0a4d9eadb8926d6193ac16df298', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 3, 'created': '2014-12-07 18:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/7d59d95e75a6692f64c1bd23624afd87c1a1b98b', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 4, 'created': '2014-12-09 21:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/b19650f62f97d9e2ab55d86e5906f4acc652469e', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 5, 'created': '2014-12-09 21:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/c84a203b68269ad9752711d9afbe033cb66a9447', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 6, 'created': '2014-12-12 22:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/54cd7d91bdfd1fabdf609fb446f410b70ae0a533', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 7, 'created': '2014-12-12 22:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/4498ba7f79a7166e66dba397cd8f6c9e67badcd2', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}, {'number': 8, 'created': '2014-12-15 17:29:34.000000000', 'files': ['spec/server-redhat_spec.rb', 'attributes/default.rb', 'CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/36bf972ab5628b4c810239153631cc54b8bd3ad3', 'message': 'Update iproute because Centos 6.5 hates us\n\nIt seems that centos 6.5 is out of date to run neutron.\n\nThe command to start l3 agent:\n[root@controller neutron]# ip -o netns list\nObject ""netns"" is unknown, try ""ip help"".\n\ndoesnt work, unless you update it.\n\nThis will also need to be backported to stable/icehouse after merge.\n\nChange-Id: I35474a463b843b50a688fb30622435cc82e395c7\n'}]",4,139175,36bf972ab5628b4c810239153631cc54b8bd3ad3,23,3,8,12323,,,0,"Update iproute because Centos 6.5 hates us

It seems that centos 6.5 is out of date to run neutron.

The command to start l3 agent:
[root@controller neutron]# ip -o netns list
Object ""netns"" is unknown, try ""ip help"".

doesnt work, unless you update it.

This will also need to be backported to stable/icehouse after merge.

Change-Id: I35474a463b843b50a688fb30622435cc82e395c7
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/75/139175/5 && git format-patch -1 --stdout FETCH_HEAD,['recipes/l3_agent.rb'],1,bf622e865875c60f6d8dc554ca21f632ee3c3b02,centos65_old_iproute," case node[""platform""] when ""centos"" if node[""platform_version""].to_f >= 6.5 package ""iproute"" do action :upgrade end end end ",,10,0
openstack%2Fdevstack~master~Ie5a7814fbfd0d7d1969f1f37a82639053d2f83e3,openstack/devstack,master,Ie5a7814fbfd0d7d1969f1f37a82639053d2f83e3,Ceph: enable logging to syslog,ABANDONED,2014-10-23 14:15:31.000000000,2014-12-15 18:38:33.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 9009}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-23 14:15:31.000000000', 'files': ['lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack/commit/74c5c1368445bcb9677bd1bd915162fc3df3aacf', 'message': 'Ceph: enable logging to syslog\n\nThis should assist in debugging Ceph issues in the gate.\n\nChange-Id: Ie5a7814fbfd0d7d1969f1f37a82639053d2f83e3\n'}]",0,130549,74c5c1368445bcb9677bd1bd915162fc3df3aacf,8,4,1,4523,,,0,"Ceph: enable logging to syslog

This should assist in debugging Ceph issues in the gate.

Change-Id: Ie5a7814fbfd0d7d1969f1f37a82639053d2f83e3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/130549/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph'],1,74c5c1368445bcb9677bd1bd915162fc3df3aacf,ceph,[mon] mon cluster log to syslog = true log to syslog = true err to syslog = true,,5,0
openstack%2Fcongress~master~Id03b9d6f663cdc1df857de0b92a8f2c402a91608,openstack/congress,master,Id03b9d6f663cdc1df857de0b92a8f2c402a91608,Enable H231 check,MERGED,2014-12-14 10:44:57.000000000,2014-12-15 18:24:11.000000000,2014-12-15 18:24:11.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 13050}]","[{'number': 1, 'created': '2014-12-14 10:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/1168470115b0ebf2cdb7a369b6509eb4cc42d9b6', 'message': 'Enable H231 check\n\nChange-Id: Id03b9d6f663cdc1df857de0b92a8f2c402a91608\nCloses-Bug: #1398557\n'}, {'number': 2, 'created': '2014-12-15 14:46:36.000000000', 'files': ['congress/tests/datasources/test_datasource_driver.py', 'congress/dse/d6cage.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/ca58962e39c4b958404d2796c18ac815efa2b161', 'message': 'Enable H231 check\n\nChange-Id: Id03b9d6f663cdc1df857de0b92a8f2c402a91608\nCloses-Bug: #1398557\n'}]",0,141632,ca58962e39c4b958404d2796c18ac815efa2b161,13,3,2,7770,,,0,"Enable H231 check

Change-Id: Id03b9d6f663cdc1df857de0b92a8f2c402a91608
Closes-Bug: #1398557
",git fetch https://review.opendev.org/openstack/congress refs/changes/32/141632/2 && git format-patch -1 --stdout FETCH_HEAD,"['congress/tests/datasources/test_datasource_driver.py', 'congress/dse/d6cage.py', 'tox.ini']",3,1168470115b0ebf2cdb7a369b6509eb4cc42d9b6,bug/1398557,"ignore = E128,E129,E251,F402,F811,F812,H237,H305,H401,H404,H405,H904,H302","# H231 Python 3.x incompatibleignore = E128,E129,E251,F402,F811,F812,H237,H305,H401,H404,H405,H904,H231,H302",4,5
openstack%2Fneutron~master~I965232930502c21b605fe360bb138bb6ea73d2b0,openstack/neutron,master,I965232930502c21b605fe360bb138bb6ea73d2b0,Auto allocate gateway_ip even for SLAAC subnets,MERGED,2014-11-20 07:43:07.000000000,2014-12-15 18:24:00.000000000,2014-12-15 18:23:58.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 704}, {'_account_id': 1131}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6685}, {'_account_id': 7183}, {'_account_id': 7962}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10257}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10969}, {'_account_id': 11420}, {'_account_id': 12040}, {'_account_id': 12632}, {'_account_id': 13409}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-20 07:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/660db816192358d34ab70965a2ac2df77542f30d', 'message': 'Auto allocate gateway_ip even for SLAAC subnets\n\nFor a SLAAC subnet that is created without specifying the gateway_ip,\nNeutron currently allocates (If0c48a7287a828eef4a0f0b0859d4f898d2937bd)\nthe gateway_ip at a later stage (i.e., neutron router_interface_add).\nIn order to keep the API consistent between IPv4 and IPv6, it is\nrecommended to allocate the gateway_ip during subnet_create stage itself.\n\nCloses-Bug: #1394112\nChange-Id: I965232930502c21b605fe360bb138bb6ea73d2b0\n'}, {'number': 2, 'created': '2014-12-09 11:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4253edde8560d545b6c71bd621c7a9772f1d5dfd', 'message': 'Auto allocate gateway_ip even for SLAAC subnets\n\nFor a SLAAC subnet that is created without specifying the gateway_ip,\nNeutron currently allocates (If0c48a7287a828eef4a0f0b0859d4f898d2937bd)\nthe gateway_ip at a later stage (i.e., neutron router_interface_add).\nIn order to keep the API consistent between IPv4 and IPv6, it is\nrecommended to allocate the gateway_ip during subnet_create stage itself.\n\nCloses-Bug: #1394112\nChange-Id: I965232930502c21b605fe360bb138bb6ea73d2b0\n'}, {'number': 3, 'created': '2014-12-09 15:49:24.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/tests/unit/oneconvergence/test_nvsd_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66dcb8b935a00e7f7566802d662ebb1f265eab1f', 'message': 'Auto allocate gateway_ip even for SLAAC subnets\n\nFor a SLAAC subnet that is created without specifying the gateway_ip,\nNeutron currently allocates (If0c48a7287a828eef4a0f0b0859d4f898d2937bd)\nthe gateway_ip at a later stage (i.e., neutron router_interface_add).\nIn order to keep the API consistent between IPv4 and IPv6, it is\nrecommended to allocate the gateway_ip during subnet_create stage itself.\n\nCloses-Bug: #1394112\nChange-Id: I965232930502c21b605fe360bb138bb6ea73d2b0\n'}]",8,135872,66dcb8b935a00e7f7566802d662ebb1f265eab1f,85,37,3,10257,,,0,"Auto allocate gateway_ip even for SLAAC subnets

For a SLAAC subnet that is created without specifying the gateway_ip,
Neutron currently allocates (If0c48a7287a828eef4a0f0b0859d4f898d2937bd)
the gateway_ip at a later stage (i.e., neutron router_interface_add).
In order to keep the API consistent between IPv4 and IPv6, it is
recommended to allocate the gateway_ip during subnet_create stage itself.

Closes-Bug: #1394112
Change-Id: I965232930502c21b605fe360bb138bb6ea73d2b0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/135872/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/l3_db.py']",3,660db816192358d34ab70965a2ac2df77542f30d,bug/1394112," if not subnet['gateway_ip']: fixed_ip = {'ip_address': subnet['gateway_ip'], 'subnet_id': subnet['id']}","from neutron.common import ipv6_utils if (not subnet['gateway_ip'] and not ipv6_utils.is_slaac_subnet(subnet)): if subnet['gateway_ip']: fixed_ip = {'ip_address': subnet['gateway_ip'], 'subnet_id': subnet['id']} else: fixed_ip = {'subnet_id': subnet['id']}",6,14
openstack%2Fbarbican~master~I769c349681bb2d762d5b47bbaced0b7b780641d7,openstack/barbican,master,I769c349681bb2d762d5b47bbaced0b7b780641d7,Notify user if no database is specified,MERGED,2014-12-13 14:18:21.000000000,2014-12-15 18:18:35.000000000,2014-12-15 18:18:34.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-12-13 14:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cb68211f1f2d4576e2f1c9185078c5f221ec6dec', 'message': 'Notify user if no database is specified\n\nThis CR raises a sensible exception if the user has not specified a\nproper SQLAlchemy database URL either through a CLI argument or\nthrough the config file.\n\nChange-Id: I769c349681bb2d762d5b47bbaced0b7b780641d7\nCloses-Bug: 1328249\n'}, {'number': 2, 'created': '2014-12-13 14:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0c7d6871636e4b2e4eb5c7f6695b6bf2faa89c3e', 'message': 'Notify user if no database is specified\n\nThis raises a sensible exception if the user has not specified a\nproper SQLAlchemy database URL either through a CLI argument or\nthrough the config file.\n\nChange-Id: I769c349681bb2d762d5b47bbaced0b7b780641d7\nCloses-Bug: 1328249\n'}, {'number': 3, 'created': '2014-12-15 15:27:40.000000000', 'files': ['barbican/model/migration/commands.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/91cc877340bfa7b05c3b33a06bc56316e642ba33', 'message': 'Notify user if no database is specified\n\nThis CR raises a sensible exception if the user has not specified a\nproper SQLAlchemy database URL either through a CLI argument or\nthrough the config file.\n\nChange-Id: I769c349681bb2d762d5b47bbaced0b7b780641d7\nCloses-Bug: 1328249\n'}]",2,141554,91cc877340bfa7b05c3b33a06bc56316e642ba33,15,14,3,10873,,,0,"Notify user if no database is specified

This CR raises a sensible exception if the user has not specified a
proper SQLAlchemy database URL either through a CLI argument or
through the config file.

Change-Id: I769c349681bb2d762d5b47bbaced0b7b780641d7
Closes-Bug: 1328249
",git fetch https://review.opendev.org/openstack/barbican refs/changes/54/141554/3 && git format-patch -1 --stdout FETCH_HEAD,['barbican/model/migration/commands.py'],1,cb68211f1f2d4576e2f1c9185078c5f221ec6dec,bug/1328249," if not sqlalchemy_url: raise RuntimeError(""Please specify a SQLAlchemy-friendly URL to "" ""connect to the proper database, either through "" ""the cli or the configuration file."") ",,5,0
openstack%2Fsahara~master~I6fbfd176964ec73e87113b6e5a4d6aabd58583af,openstack/sahara,master,I6fbfd176964ec73e87113b6e5a4d6aabd58583af,Updated from global requirements,MERGED,2014-12-11 07:20:27.000000000,2014-12-15 18:18:23.000000000,2014-12-15 18:18:22.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7604}, {'_account_id': 8090}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 10670}]","[{'number': 1, 'created': '2014-12-11 07:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7dfd82fbf4cb97bacd5c28c40ee4d8387638f43e', 'message': 'Updated from global requirements\n\nChange-Id: I6fbfd176964ec73e87113b6e5a4d6aabd58583af\n'}, {'number': 2, 'created': '2014-12-12 22:21:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/c0fee06e5a403f81247b5def3f0d7c9bb30b5a63', 'message': 'Updated from global requirements\n\nChange-Id: I6fbfd176964ec73e87113b6e5a4d6aabd58583af\n'}]",0,140960,c0fee06e5a403f81247b5def3f0d7c9bb30b5a63,25,8,2,11131,,,0,"Updated from global requirements

Change-Id: I6fbfd176964ec73e87113b6e5a4d6aabd58583af
",git fetch https://review.opendev.org/openstack/sahara refs/changes/60/140960/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7dfd82fbf4cb97bacd5c28c40ee4d8387638f43e,openstack/requirements,oslo.utils>=1.1.0 # Apache-2.0,oslo.utils>=1.0.0 # Apache-2.0,1,1
openstack%2Fpython-muranoclient~master~I0f4931f1e6566a7b83280302f884248c8db909c5,openstack/python-muranoclient,master,I0f4931f1e6566a7b83280302f884248c8db909c5,Add keystone v3 support to client,MERGED,2014-07-31 23:38:14.000000000,2014-12-15 18:12:32.000000000,2014-12-12 18:02:55.000000000,"[{'_account_id': 3}, {'_account_id': 1916}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 10063}, {'_account_id': 11045}, {'_account_id': 11333}]","[{'number': 1, 'created': '2014-07-31 23:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/5388fe6052d184148b611dcf607ba34b11995059', 'message': 'Support keystone v3\n\nWork to support v3 keystone endpoints. Does not fully implement\nkeystone sessions, but does switch to the identity auth plugins.\n\nWIP (unit tests)\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 2, 'created': '2014-08-01 15:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/173076cc4a10a59ef239f2c62aa61411e15cda23', 'message': 'Support keystone v3\n\nWork to support v3 keystone endpoints. Does not fully implement\nkeystone sessions, but does switch to the identity auth plugins.\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 3, 'created': '2014-10-27 20:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/84869db7a1ec4b4489b53c1fb97da4bce5ef57ef', 'message': 'Support keystone v3\n\nWork to support v3 keystone endpoints. Does not fully implement\nkeystone sessions, but does switch to the identity auth plugins.\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 4, 'created': '2014-10-31 18:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/9073b0eefb283ea5baafe1759c5d3af48d14eb32', 'message': 'Support keystone v3\n\nWork to support v3 keystone endpoints. Uses auth plugins and requires\nkeystone sessions (in a dependent change).\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 5, 'created': '2014-11-13 15:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/fe41966bbf4a01254c80ce52f727b3ee87de6cf5', 'message': 'Support keystone v3\n\nWork to support v3 keystone endpoints. Uses auth plugins and requires\nkeystone sessions (in a dependent change).\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 6, 'created': '2014-11-17 17:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/e32ed79d2b8104925b8970159f13fac0b26504a4', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 7, 'created': '2014-11-19 19:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/5a12149ac86dc503802dca5d72c64afd61681120', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 8, 'created': '2014-11-19 19:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/8f66700599343556ccd85fe5d4f774c041f01a69', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 9, 'created': '2014-11-20 06:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/97e8f20d570c50b2bfdeeebb5ed4d1fa815dfadf', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 10, 'created': '2014-11-20 07:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/e37fd699cb614a7394cd5eb8033bd336494a1ad5', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 11, 'created': '2014-11-20 07:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/fec1d44ebe69748d7fc90cd021485f026b2fc919', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 12, 'created': '2014-11-20 16:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/71df8f2d7a00238c4ad2bdcdce956e0eba6f7135', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 13, 'created': '2014-11-20 22:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/3cd7c29a9644baec34392ccaf167c1734a02971f', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 14, 'created': '2014-11-20 22:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/1b1fa5065a567a9610b7643623832c09e4954c27', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 15, 'created': '2014-11-21 15:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/0b6a3376254a34b21c3cbf5e0b32f1c0475098bd', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}, {'number': 16, 'created': '2014-11-21 15:38:36.000000000', 'files': ['muranoclient/shell.py', 'requirements.txt', 'muranoclient/tests/test_shell.py', 'test-requirements.txt', 'muranoclient/v1/client.py', 'muranoclient/v1/packages.py', 'muranoclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/65f51420e559482224d69ce4bf30d02122f7c755', 'message': 'Add keystone v3 support to client\n\nAll clients should support keystone v3 in kilo. This patch adds\nsupport for keystone sessions, keystone endpoint discovery and support\nfor the CLI to provide keystone v3 options.\n\nBumps python-keystoneclient to >=0.11.1 to bring in session support.\n\nThis patch was previously dependent on a separate one to add session\nsupport but that work has been squashed into this and its review\n(https://review.openstack.org/#/c/131309) will be abandoned.\n\nCo-Authored-By: David Hu <david.hu@hp.com>\nChange-Id: I0f4931f1e6566a7b83280302f884248c8db909c5\nImplements: blueprint support-keystone-v3\n'}]",14,111117,65f51420e559482224d69ce4bf30d02122f7c755,61,8,16,10063,,,0,"Add keystone v3 support to client

All clients should support keystone v3 in kilo. This patch adds
support for keystone sessions, keystone endpoint discovery and support
for the CLI to provide keystone v3 options.

Bumps python-keystoneclient to >=0.11.1 to bring in session support.

This patch was previously dependent on a separate one to add session
support but that work has been squashed into this and its review
(https://review.openstack.org/#/c/131309) will be abandoned.

Co-Authored-By: David Hu <david.hu@hp.com>
Change-Id: I0f4931f1e6566a7b83280302f884248c8db909c5
Implements: blueprint support-keystone-v3
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/17/111117/16 && git format-patch -1 --stdout FETCH_HEAD,['muranoclient/shell.py'],1,5388fe6052d184148b611dcf607ba34b11995059,bp/support-keystone-v3,"from six.moves.urllib import parse as urlparsefrom keystoneclient.auth.identity import v2 as v2_auth from keystoneclient.auth.identity import v3 as v3_auth from keystoneclient.auth import token_endpoint from keystoneclient import discover from keystoneclient import session as kssession from keystoneclient.openstack.common.apiclient import exceptions as ks_exc from muranoclient import client as murano_client parser.add_argument('--os-cert', parser.add_argument('--cert-file', dest='os_cert', help='DEPRECATED! Use --os-cert.') dest='os_key', help='Path of client key to use in SSL connection.' ' This option is not necessary if your ' 'key is prepended to your cert file.') parser.add_argument('--os-key', dest='os_cacert', help='DEPRECATED! Use --os-cacert.') parser.add_argument('--os-user-id', default=utils.env('OS_USER_ID'), help='Defaults to env[OS_USER_ID].') parser.add_argument('--os-user-domain-id', default=utils.env('OS_USER_DOMAIN_ID'), help='Defaults to env[OS_USER_DOMAIN_ID].') parser.add_argument('--os-user-domain-name', default=utils.env('OS_USER_DOMAIN_NAME'), help='Defaults to env[OS_USER_DOMAIN_NAME].') parser.add_argument('--os-project-domain-id', default=utils.env('OS_PROJECT_DOMAIN_ID'), help='Defaults to env[OS_PROJECT_DOMAIN_ID].') parser.add_argument('--os-project-domain-name', default=utils.env('OS_PROJECT_DOMAIN_NAME'), help='Defaults to env[OS_PROJECT_DOMAIN_NAME].') parser.add_argument('--os-project-id', default=utils.env('OS_PROJECT_ID'), help='Another way to specify tenant ID. ' 'This option is mutually exclusive with ' ' --os-tenant-id. ' 'Defaults to env[OS_PROJECT_ID].') parser.add_argument('--os-project-name', default=utils.env('OS_PROJECT_NAME'), help='Another way to specify tenant ID. ' 'This option is mutually exclusive with ' ' --os-tenant-name. ' 'Defaults to env[OS_PROJECT_NAME].') def _discover_auth_versions(self, session, auth_url): # discover the API versions the server is supporting base on the # given URL v2_auth_url = None v3_auth_url = None try: ks_discover = discover.Discover(session=session, auth_url=auth_url) v2_auth_url = ks_discover.url_for('2.0') v3_auth_url = ks_discover.url_for('3.0') except ks_exc.ClientException as e: # Identity service may not support discover API version. # Lets trying to figure out the API version from the original URL. url_parts = urlparse.urlparse(auth_url) (scheme, netloc, path, params, query, fragment) = url_parts path = path.lower() if path.startswith('/v3'): v3_auth_url = auth_url elif path.startswith('/v2'): v2_auth_url = auth_url else: # not enough information to determine the auth version msg = ('Unable to determine the Keystone version ' 'to authenticate with using the given ' 'auth_url. Identity service may not support API ' 'version discovery. Please provide a versioned ' 'auth_url instead. error=%s') % (e) raise exc.CommandError(msg) return (v2_auth_url, v3_auth_url) def _get_keystone_session(self, **kwargs): # FIXME(gyee): this code should come from keystoneclient # https://bugs.launchpad.net/python-keystoneclient/+bug/1332337 ks_session = kssession.Session.construct(kwargs) auth_url = kwargs.pop('auth_url', None) # discover the supported keystone versions using the given url (v2_auth_url, v3_auth_url) = self._discover_auth_versions( session=ks_session, auth_url=auth_url) # Determine which authentication plugin to use. First inspect the # auth_url to see the supported version. If both v3 and v2 are # supported, then use the highest version if possible. username = kwargs.pop('username', None) user_id = kwargs.pop('user_id', None) password = kwargs.pop('password', None) user_domain_name = kwargs.pop('user_domain_name', None) user_domain_id = kwargs.pop('user_domain_id', None) project_id = (kwargs.pop('project_id', None) or kwargs.pop('tenant_id', None)) project_name = (kwargs.pop('project_name', None) or kwargs.pop('tenant_name', None)) project_domain_name = kwargs.pop('project_domain_name', None) project_domain_id = kwargs.pop('project_domain_id', None) auth = None use_domain = (user_domain_id or user_domain_name or project_domain_id or project_domain_name) use_v3 = v3_auth_url and (use_domain or (not v2_auth_url)) use_v2 = v2_auth_url and not use_domain if use_v3: auth = v3_auth.Password( v3_auth_url, username=username, user_id=user_id, password=password, user_domain_name=user_domain_name, user_domain_id=user_domain_id, project_id=project_id, project_name=project_name, project_domain_name=project_domain_name, project_domain_id=project_domain_id) elif use_v2: auth = v2_auth.Password( v2_auth_url, username, password, tenant_id=project_id, tenant_name=project_name) else: raise exc.CommandError('Credential and auth_url mismatch. The given ' 'auth_url is using Keystone V2 endpoint, which ' 'may not able to handle Keystone V3 credentials. ' 'Please provide a correct Keystone V3 auth_url.') ks_session.auth = auth return ks_session def _get_endpoint_and_token(self, args): murano_url = args.murano_url auth_token = args.os_auth_token if args.os_no_client_auth: endpoint = murano_url token = args.os_auth_token else: kwargs = { 'auth_url': args.os_auth_url, 'username': args.os_username, 'user_id': args.os_user_id, 'user_domain_id': args.os_user_domain_id, 'user_domain_name': args.os_user_domain_name, 'password': args.os_password, 'auth_token': args.os_auth_token, 'tenant_id': args.os_tenant_id, 'tenant_name': args.os_tenant_name, 'project_id': args.os_project_id, 'project_name': args.os_project_name, 'project_domain_id': args.os_project_domain_id, 'project_domain_name': args.os_project_domain_name, 'insecure': args.insecure, 'cacert': args.os_cacert, 'cert': args.os_cert, 'key': args.os_key } print(kwargs) ks_session = self._get_keystone_session(**kwargs) token = args.os_auth_token or ks_session.get_token() service_type = args.os_service_type or 'application_catalog' endpoint_type = args.os_endpoint_type or 'publicURL' endpoint = args.murano_url or ks_session.get_endpoint( service_type=service_type, endpoint_type=endpoint_type, region_name=args.os_region_name) return endpoint, token ""or env[OS_TENANT_ID] OR a project name "" ""or project id via --os-project-name, "" ""--os-project-id, env[OS_PROJECT_ID] or "" ""env[OS_PROJECT_NAME]"") endpoint, token = self._get_endpoint_and_token(args) kwargs = { 'token': token, 'cert': args.os_cert, 'key': args.os_key, } client = murano_client.Client(api_version, endpoint, **kwargs)","from keystoneclient.v2_0 import client as ksclient from muranoclient import client as apiclient parser.add_argument('--cert-file', help='Path of CA SSL certificate(s) used to verify' ' the remote server certificate. Without ' 'this option glance looks for the default ' 'system CA certificates.') def _get_ksclient(self, **kwargs): """"""Get an endpoint and auth token from Keystone. :param username: name of user :param password: user's password :param tenant_id: unique identifier of tenant :param tenant_name: name of tenant :param auth_url: endpoint to authenticate against """""" kc_args = { 'auth_url': kwargs.get('auth_url'), 'insecure': kwargs.get('insecure'), 'cacert': kwargs.get('cacert')} if kwargs.get('tenant_id'): kc_args['tenant_id'] = kwargs.get('tenant_id') else: kc_args['tenant_name'] = kwargs.get('tenant_name') if kwargs.get('token'): kc_args['token'] = kwargs.get('token') else: kc_args['username'] = kwargs.get('username') kc_args['password'] = kwargs.get('password') return ksclient.Client(**kc_args) def _get_endpoint(self, client, **kwargs): """"""Get an endpoint using the provided keystone client."""""" return client.service_catalog.url_for( service_type=kwargs.get('service_type') or 'application_catalog', endpoint_type=kwargs.get('endpoint_type') or 'publicURL') ""or env[OS_TENANT_ID]"") kwargs = { 'username': args.os_username, 'password': args.os_password, 'token': args.os_auth_token, 'tenant_id': args.os_tenant_id, 'tenant_name': args.os_tenant_name, 'auth_url': args.os_auth_url, 'service_type': args.os_service_type, 'endpoint_type': args.os_endpoint_type, 'include_pass': args.include_password } endpoint = args.murano_url if not args.os_no_client_auth: _ksclient = self._get_ksclient(**kwargs) token = args.os_auth_token or _ksclient.auth_token kwargs = { 'token': token, 'insecure': args.insecure, 'ca_file': args.ca_file, 'cert_file': args.cert_file, 'key_file': args.key_file, 'username': args.os_username, 'password': args.os_password, 'endpoint_type': args.os_endpoint_type, 'include_pass': args.include_password } if args.os_region_name: kwargs['region_name'] = args.os_region_name if not endpoint: endpoint = self._get_endpoint(_ksclient, **kwargs) client = apiclient.Client(api_version, endpoint, **kwargs)",189,68
openstack%2Fneutron-specs~master~I15576e46ab34bf95ec8e0fc8066baad78460ceef,openstack/neutron-specs,master,I15576e46ab34bf95ec8e0fc8066baad78460ceef,Refactor test against template,MERGED,2014-12-08 22:27:19.000000000,2014-12-15 18:08:01.000000000,2014-12-15 18:08:01.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1561}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 7787}]","[{'number': 1, 'created': '2014-12-08 22:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3a690949abd6da283c4a545bed501fb65a44381e', 'message': ""Refactor test against template\n\ntest_titles originated in nova-specs.  The version in nova-specs has\nreceived several improvements that would be worth bringing over.  This\nstarted when I was writing a spec and the test code wouldn't let me\nadd any additional sections on top of the required ones.\n\nHere's a list of key differences in the new version:\n\n* Instead of hard coding the list of required sections, dynamically\n  discover the sections by reading the template.\n\n* Ensure all sections from the template are present, but allow\n  additional sections to be included.\n\n* Include the code for ensuring lines are wrapped, but disable it for\n  now since it doesn't pass.\n\n* Make sure the spec doesn't have \\r in it.\n\n* Make sure the spec doesn't have trailing whitespace.\n\nChange-Id: I15576e46ab34bf95ec8e0fc8066baad78460ceef\n""}, {'number': 2, 'created': '2014-12-15 14:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/564ccd327b2f1907cecb9cabae39192ac5337b06', 'message': ""Refactor test against template\n\ntest_titles originated in nova-specs.  The version in nova-specs has\nreceived several improvements that would be worth bringing over.  This\nstarted when I was writing a spec and the test code wouldn't let me\nadd any additional sections on top of the required ones.\n\nHere's a list of key differences in the new version:\n\n* Instead of hard coding the list of required sections, dynamically\n  discover the sections by reading the template.\n\n* Ensure all sections from the template are present, but allow\n  additional sections to be included.\n\n* Include the code for ensuring lines are wrapped, but disable it for\n  now since it doesn't pass.\n\n* Make sure the spec doesn't have \\r in it.\n\n* Make sure the spec doesn't have trailing whitespace.\n\nChange-Id: I15576e46ab34bf95ec8e0fc8066baad78460ceef\n""}, {'number': 3, 'created': '2014-12-15 17:50:29.000000000', 'files': ['specs/kilo/ml2-hierarchical-port-binding.rst', 'tests/test_titles.py'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9a16333a93397b80893575080352ea150c053d36', 'message': ""Refactor test against template\n\ntest_titles originated in nova-specs.  The version in nova-specs has\nreceived several improvements that would be worth bringing over.  This\nstarted when I was writing a spec and the test code wouldn't let me\nadd any additional sections on top of the required ones.\n\nHere's a list of key differences in the new version:\n\n* Instead of hard coding the list of required sections, dynamically\n  discover the sections by reading the template.\n\n* Ensure all sections from the template are present, but allow\n  additional sections to be included.\n\n* Include the code for ensuring lines are wrapped, but disable it for\n  now since it doesn't pass.\n\n* Make sure the spec doesn't have \\r in it.\n\n* Make sure the spec doesn't have trailing whitespace.\n\nAlso include a one line spec change to remove trailing whitespace so\nthe tests pass.\n\nChange-Id: I15576e46ab34bf95ec8e0fc8066baad78460ceef\n""}]",13,140165,9a16333a93397b80893575080352ea150c053d36,32,8,3,1561,,,0,"Refactor test against template

test_titles originated in nova-specs.  The version in nova-specs has
received several improvements that would be worth bringing over.  This
started when I was writing a spec and the test code wouldn't let me
add any additional sections on top of the required ones.

Here's a list of key differences in the new version:

* Instead of hard coding the list of required sections, dynamically
  discover the sections by reading the template.

* Ensure all sections from the template are present, but allow
  additional sections to be included.

* Include the code for ensuring lines are wrapped, but disable it for
  now since it doesn't pass.

* Make sure the spec doesn't have \r in it.

* Make sure the spec doesn't have trailing whitespace.

Also include a one line spec change to remove trailing whitespace so
the tests pass.

Change-Id: I15576e46ab34bf95ec8e0fc8066baad78460ceef
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/65/140165/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_titles.py'],1,3a690949abd6da283c4a545bed501fb65a44381e,bp/aims,"import re # Note subsection subtitles are thrown away def _check_titles(self, filename, expect, actual): missing_sections = [x for x in expect.keys() if x not in actual.keys()] extra_sections = [x for x in actual.keys() if x not in expect.keys()] msgs = [] if len(missing_sections) > 0: msgs.append(""Missing sections: %s"" % missing_sections) if len(extra_sections) > 0: msgs.append(""Extra sections: %s"" % extra_sections) for section in expect.keys(): missing_subsections = [x for x in expect[section] if x not in actual[section]] # extra subsections are allowed if len(missing_subsections) > 0: msgs.append(""Section '%s' is missing subsections: %s"" % (section, missing_subsections)) if len(msgs) > 0: self.fail(""While checking '%s':\n %s"" % (filename, ""\n "".join(msgs))) def _check_lines_wrapping(self, tpl, raw): for i, line in enumerate(raw.split(""\n"")): if ""http://"" in line or ""https://"" in line: continue self.assertTrue( len(line) < 80, msg=""%s:%d: Line limited to a maximum of 79 characters."" % (tpl, i+1)) def _check_no_cr(self, tpl, raw): matches = re.findall('\r', raw) self.assertEqual( len(matches), 0, ""Found %s literal carriage returns in file %s"" % (len(matches), tpl)) def _check_trailing_spaces(self, tpl, raw): for i, line in enumerate(raw.split(""\n"")): trailing_spaces = re.findall("" +$"", line) self.assertEqual(len(trailing_spaces),0, ""Found trailing spaces on line %s of %s"" % (i+1, tpl)) releases = [x.split('/')[1] for x in glob.glob('specs/*/')] for release in releases: if release[0] < 'k': # Don't bother enforcement for specs before Kilo. continue try: # Support release-specific template. with open(""specs/%s-template.rst"" % release) as f: template = f.read() except IOError: # Base template if release template not found. with open(""specs/template.rst"") as f: template = f.read() spec = docutils.core.publish_doctree(template) template_titles = self._get_titles(spec) files = glob.glob(""specs/%s/*"" % release) for filename in files: self.assertTrue(filename.endswith("".rst""), ""spec's file must uses 'rst' extension."") with open(filename) as f: data = f.read() spec = docutils.core.publish_doctree(data) titles = self._get_titles(spec) self._check_titles(filename, template_titles, titles) # self._check_lines_wrapping(filename, data) self._check_no_cr(filename, data) self._check_trailing_spaces(filename, data)","from docutils.parsers import rst from docutils.parsers.rst import directivesclass FakeDirective(rst.Directive): has_content = True def run(self): return [] directives.register_directive('seqdiag', FakeDirective) directives.register_directive('blockdiag', FakeDirective) directives.register_directive('nwdiag', FakeDirective) directives.register_directive('actdiag', FakeDirective) def _check_titles(self, titles): problem = 'Problem Description' self.assertIn(problem, titles) self.assertEqual(0, len(titles[problem])) proposed = 'Proposed Change' self.assertIn(proposed, titles) self.assertIn('Data Model Impact', titles[proposed]) self.assertIn('REST API Impact', titles[proposed]) self.assertIn('Security Impact', titles[proposed]) self.assertIn('Notifications Impact', titles[proposed]) self.assertIn('Other End User Impact', titles[proposed]) self.assertIn('Performance Impact', titles[proposed]) self.assertIn('IPv6 Impact', titles[proposed]) self.assertIn('Other Deployer Impact', titles[proposed]) self.assertIn('Developer Impact', titles[proposed]) self.assertIn('Community Impact', titles[proposed]) self.assertIn('Alternatives', titles[proposed]) impl = 'Implementation' self.assertIn(impl, titles) self.assertEqual(2, len(titles[impl])) self.assertIn('Assignee(s)', titles[impl]) self.assertIn('Work Items', titles[impl]) deps = 'Dependencies' self.assertIn(deps, titles) self.assertEqual(0, len(titles[deps])) testing = 'Testing' self.assertIn(testing, titles) self.assertIn('Tempest Tests', titles[testing]) self.assertIn('Functional Tests', titles[testing]) self.assertIn('API Tests', titles[testing]) self.assertEqual(3, len(titles[testing])) docs = 'Documentation Impact' self.assertIn(docs, titles) self.assertIn('User Documentation', titles[docs]) self.assertIn('Developer Documentation', titles[docs]) self.assertEqual(2, len(titles[docs])) refs = 'References' self.assertIn(refs, titles) self.assertEqual(0, len(titles[refs])) self.assertEqual(7, len(titles)) files = glob.glob('specs/*.rst') + glob.glob('specs/kilo/*') for filename in files: self.assertTrue(filename.endswith("".rst""), ""spec's file must uses 'rst' extension."") with open(filename) as f: data = f.read() spec = docutils.core.publish_doctree(data) titles = self._get_titles(spec) self._check_titles(titles)",68,63
openstack%2Frally~master~I974f3a02eeade3de6f6208642fa593832f7c62d9,openstack/rally,master,I974f3a02eeade3de6f6208642fa593832f7c62d9,Context tenants refactoring,MERGED,2014-12-08 12:33:41.000000000,2014-12-15 18:01:27.000000000,2014-12-15 18:01:26.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 9601}, {'_account_id': 10475}, {'_account_id': 14135}]","[{'number': 1, 'created': '2014-12-08 12:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3cc163e233b2ba96b5192ca9efe2431b127e4197', 'message': 'Context tenants refactoring.\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 2, 'created': '2014-12-08 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4fd8552382410047d13ed30b84da976f83a99e84', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 3, 'created': '2014-12-08 16:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e3da84486be5478519d7f1d21dcc2328db6a951b', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 4, 'created': '2014-12-09 13:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f1d351ed1328cdcb1e794c96df570076ce4b01e6', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 5, 'created': '2014-12-09 15:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b34e041cbfbf969fad441ba6d4cd434be7969ca4', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 6, 'created': '2014-12-09 15:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d15f7b75fb4022f5c335326cbf2bad1f697d2384', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 7, 'created': '2014-12-09 18:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/31e7bf8a54300a42e5828818d907b98167aaf28d', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 8, 'created': '2014-12-10 13:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d7f4b22cfa6d8538886c68d5798cd15e513e2d21', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 9, 'created': '2014-12-10 16:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/865be8a3fe386235feb851940ea8b93f0633f1a7', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 10, 'created': '2014-12-11 15:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3abc83954be981cbe91065e32089c56992d87cac', 'message': 'WIP Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 11, 'created': '2014-12-11 16:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/06d39484c89783c63797aa286ed85eb2fd3103c4', 'message': 'Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}, {'number': 12, 'created': '2014-12-15 14:03:40.000000000', 'files': ['tests/unit/benchmark/context/sahara/test_sahara_edp.py', 'rally/benchmark/context/sahara/sahara_image.py', 'rally/utils.py', 'tests/unit/benchmark/scenarios/cinder/test_volumes.py', 'tests/unit/benchmark/scenarios/cinder/test_utils.py', 'rally/benchmark/scenarios/sahara/jobs.py', 'tests/unit/benchmark/context/test_users.py', 'rally/benchmark/runners/base.py', 'rally/benchmark/scenarios/cinder/utils.py', 'rally/benchmark/context/sahara/sahara_edp.py', 'rally/benchmark/context/servers.py', 'rally/benchmark/scenarios/cinder/volumes.py', 'tests/unit/benchmark/context/test_images.py', 'tests/unit/benchmark/context/test_servers.py', 'tests/unit/benchmark/context/quotas/test_quotas.py', 'rally/benchmark/context/images.py', 'rally/benchmark/context/volumes.py', 'tests/unit/benchmark/scenarios/sahara/test_jobs.py', 'tests/unit/test_utils.py', 'rally/benchmark/context/secgroup.py', 'rally/benchmark/scenarios/sahara/clusters.py', 'tests/unit/benchmark/context/sahara/test_sahara_image.py', 'tests/unit/fakes.py', 'rally/benchmark/context/sahara/sahara_cluster.py', 'tests/unit/benchmark/runners/test_base.py', 'tests/unit/benchmark/context/sahara/test_sahara_cluster.py', 'tests/unit/benchmark/context/test_volumes.py', 'rally/benchmark/context/quotas/quotas.py', 'tests/unit/benchmark/context/test_secgroups.py', 'rally/benchmark/context/users.py', 'tests/unit/benchmark/scenarios/sahara/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3a89b0eb3b7aafb654e37fd3f0f095f9e8348cb9', 'message': 'Context tenants refactoring\n\n  Optimize tenants and their resources in context.\n  Implement tenant related resources tree with tenant\n  as root.\n\nChange-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9\n'}]",62,139987,3a89b0eb3b7aafb654e37fd3f0f095f9e8348cb9,45,6,12,9601,,,0,"Context tenants refactoring

  Optimize tenants and their resources in context.
  Implement tenant related resources tree with tenant
  as root.

Change-Id: I974f3a02eeade3de6f6208642fa593832f7c62d9
",git fetch https://review.opendev.org/openstack/rally refs/changes/87/139987/12 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/benchmark/context/test_users.py', 'rally/benchmark/context/users.py']",2,3cc163e233b2ba96b5192ca9efe2431b127e4197,context_refactoring2," self.context[""tenants""] = dict() if network_tenant_id in self.context[""tenants""].keys(): try: nova_admin.networks.disassociate(network) except Exception as ex: LOG.warning(""Failed disassociate net: %(tenant_id)s. "" ""Exception: %(ex)s"" % {""tenant_id"": network_tenant_id, ""ex"": ex}) tenants_dict = dict() for tenant in tenants: tmp_dict = dict() for key, value in tenant.items(): if key != ""id"": tmp_dict.setdefault(key, value) tenants_dict.setdefault(tenant[""id""], tmp_dict) return tenants_dict for tenant_id in self.context[""tenants""].keys(): for user_id in range(users_per_tenant): username = self.PATTERN_USER % {""tenant_id"": tenant_id, self.config[""user_domain""], tenant_id) username, password, project_dom, user_dom, tenant_id = args tenant_id, user_dom) client.auth_url, user.name, password, self.context[""tenants""][tenant_id][""name""], ""tenant_id"": tenant_id}) for tenant_id in self.context[""tenants""].keys(): queue.append(tenant_id) self.context[""tenants""] = dict()"," self.context[""tenants""] = [] for tenant in self.context[""tenants""]: if tenant[""id""] == network_tenant_id: try: nova_admin.networks.disassociate(network) except Exception as ex: LOG.warning(""Failed disassociate net: %(tenant_id)s. "" ""Exception: %(ex)s"" % {""tenant_id"": tenant[""id""], ""ex"": ex}) return list(tenants) for tenant in self.context[""tenants""]: for user_id in range(users_per_tenant): username = self.PATTERN_USER % {""tenant_id"": tenant[""id""], self.config[""user_domain""], tenant) username, password, project_dom, user_dom, tenant = args tenant[""id""], user_dom) client.auth_url, user.name, password, tenant[""name""], ""tenant_id"": tenant[""id""]}) for tenant in self.context[""tenants""]: queue.append(tenant[""id""]) self.context[""tenants""] = []",42,38
openstack%2Fneutron-specs~master~I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6,openstack/neutron-specs,master,I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6,DHCP Service LoadBalancing Scheduler,MERGED,2014-08-01 09:02:39.000000000,2014-12-15 17:54:07.000000000,2014-12-15 17:28:04.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 261}, {'_account_id': 333}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 4149}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 7921}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8940}, {'_account_id': 8976}, {'_account_id': 9200}, {'_account_id': 9361}, {'_account_id': 10068}, {'_account_id': 10780}, {'_account_id': 11367}, {'_account_id': 11546}, {'_account_id': 11774}, {'_account_id': 12255}]","[{'number': 1, 'created': '2014-08-01 09:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b6bf7e37d95b7af423ee3501a55a11f623900c28', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available.DHCP scheduler does not load balance the DHCP\nnamespace properly across multiple Network Nodes based on the load of DHCP\nagents.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nnetwork nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 2, 'created': '2014-08-01 11:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c666af7011fa70c98134def601137d35c80b7c1f', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available.DHCP scheduler does not load balance the DHCP\nnamespace properly across multiple Network Nodes based on the load of DHCP\nagents.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nnetwork nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 3, 'created': '2014-09-17 09:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/72c197787d28b319fbe045814f3c2e43560800b2', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 4, 'created': '2014-09-19 10:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bd029114f2f1df81d1cd4c24304872b29e699e33', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 5, 'created': '2014-10-15 06:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f29edeeb9a2a4f0335a06d8134c2eea690c9e047', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 6, 'created': '2014-11-27 12:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/29ba99fe061b7ceb13625aaf4a60111f878d5a1d', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 7, 'created': '2014-11-27 13:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3537c7e16caa1f1569d123261588d2a23f482952', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 8, 'created': '2014-12-03 12:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/375c19baf755610353ac774c20c4c9e6ef9ddca6', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nDocImpact\nImplements: blueprint dhcpservice-loadbalancing\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 9, 'created': '2014-12-09 09:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5526b8b89bc1c6652157f02b52aaafd049c468f1', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable when\nlarge number of namespaces are created.\nChance scheduler schedules around 90% of DHCP namespaces on a single Network\nNode and remaining 10% of namespaces are distributed across remaining Network\nNodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nDocImpact\nImplements: blueprint dhcpservice-loadbalancing\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 10, 'created': '2014-12-12 17:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/721f8cc7a52a9c7da0783b6062be34eb6152cd4c', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable\nwhen large number of namespaces are created.\nIn our deployment we observed that Chance scheduler schedules around 90% of\nDHCP namespaces on a single Network Node and remaining 10% of namespaces are\ndistributed across remaining Network Nodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nDocImpact\nImplements: blueprint dhcpservice-loadbalancing\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}, {'number': 11, 'created': '2014-12-15 07:27:57.000000000', 'files': ['specs/kilo/dhcpservice-loadbalancing.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/845a1dd80ec4cf09ff4a9542668528918eee5c36', 'message': 'DHCP Service LoadBalancing Scheduler\n\nWith the current Agent Management and Scheduler extensions we are not able to\neffectively distribute the DHCP namespace services when there are multiple\nNetwork Nodes available. Existing scheduler(Chance Scheduler) does not\nload balance the DHCP namespace properly across multiple Network Nodes based\non the network load of DHCP agents.\nChance scheduler schedules DHCP namespaces unevenly, which is not suitable\nwhen large number of namespaces are created.\nIn our deployment we observed that Chance scheduler schedules around 90% of\nDHCP namespaces on a single Network Node and remaining 10% of namespaces are\ndistributed across remaining Network Nodes.\n\nThis blueprint attempts to address this issue by proposing a new DHCP agent\nscheduler which will equally distribute the DHCP namespaces across multiple\nNetwork Nodes based on network load of DHCP agents.\n\nDocImpact\nBlueprint: dhcpservice-loadbalancing\nChange-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6\n'}]",136,111210,845a1dd80ec4cf09ff4a9542668528918eee5c36,91,27,11,11546,,,0,"DHCP Service LoadBalancing Scheduler

With the current Agent Management and Scheduler extensions we are not able to
effectively distribute the DHCP namespace services when there are multiple
Network Nodes available. Existing scheduler(Chance Scheduler) does not
load balance the DHCP namespace properly across multiple Network Nodes based
on the network load of DHCP agents.
Chance scheduler schedules DHCP namespaces unevenly, which is not suitable
when large number of namespaces are created.
In our deployment we observed that Chance scheduler schedules around 90% of
DHCP namespaces on a single Network Node and remaining 10% of namespaces are
distributed across remaining Network Nodes.

This blueprint attempts to address this issue by proposing a new DHCP agent
scheduler which will equally distribute the DHCP namespaces across multiple
Network Nodes based on network load of DHCP agents.

DocImpact
Blueprint: dhcpservice-loadbalancing
Change-Id: I9b0dd0aec3f5bf19d9630cc9596558f24fefc8a6
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/10/111210/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/dhcpservice-loadbalancing-scheduler.rst'],1,b6bf7e37d95b7af423ee3501a55a11f623900c28,bp/attempts,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================================== DHCP Service LoadBalancing Scheduler =================================================== https://blueprints.launchpad.net/neutron/+spec/dhcpservice-loadbalancing Problem description =================== With the current Agent Management and Scheduler extensions we are not able to effectively distribute the DHCP namespace services when there are multiple Network Nodes available.DHCP scheduler does not load balance the DHCP namespace properly across multiple Network Nodes based on the load of DHCP agents. This blueprint attempts to address this issue by proposing a new DHCP agent scheduler which will equally distribute the DHCP namespaces across multiple network nodes based on network load of DHCP agents. Proposed change =============== In the Neutron server, we have written a DHCP agent scheduler which will keep track of the DHCP services running on the Network Nodes based on the ""network_scheduler_driver"" configuration of 'neutron.conf'. DHCP agent scheduler will be started only if the ""network_scheduler_driver"" parameter is set to LeastNetworksScheduler.The default value for this flag is 'ChanceScheduler' When the new network is create the DHCP agent scheduler will fetch the dhcp agents with minimum number of networks hosted on it. And schedules the newly created DHCP namespace service on those minimally loaded DHCP agents. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deplorer impact --------------------- This feature can be enabled by setting the flag network_scheduler_driver = LeastNetworksScheduler which is configurable from ""neutron.conf"". If the flag is set to ChanceScheduler, none of this code will be executed. Developer impact ---------------- None Implementation ============== Current status: POC code ready. Will be submitted for review soon. Assignee(s) ----------- Praveen Kumar SM Shiva Kumar M Work Items ---------- Implementation predominantly is plugin centric. Highlevel tasks include : - Least Networks Scheduler framework This class will have the implementation to get the dhcp agents which is hosting least number of networks.Subsequently it will schedule the respective DHCP namespace services on those minimally loaded DHCP agents. Roadmap: The next plan is to add new scheduler which load balance the DHCP namespace services across Network nodes based on the number of VMs hosted on a particular network. Dependencies ============ Will reuse few methods from current scheduler classes. Testing ======= Testing is to be done on a multiple Network Node environment. Documentation Impact ==================== Current documentation will have to be enhanced to add the content specific to DHCP namespace services load balancing scheduler. References ========== ",,120,0
openstack%2Fsecurity-doc~master~I298e7af74bd9201cba7ae92abdd2a3950bf708b5,openstack/security-doc,master,I298e7af74bd9201cba7ae92abdd2a3950bf708b5,Adding recommendations for host based security controls,MERGED,2014-12-03 19:32:51.000000000,2014-12-15 17:53:12.000000000,2014-12-15 17:53:10.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 964}, {'_account_id': 2807}, {'_account_id': 6486}, {'_account_id': 6547}, {'_account_id': 12325}, {'_account_id': 14046}]","[{'number': 1, 'created': '2014-12-03 19:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/586a3192eb6af7e6348c45a49cec7f1c21fde22b', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 2, 'created': '2014-12-08 20:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/cd23c394cc871281d9c4f88539f64693e8ce1eea', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 3, 'created': '2014-12-09 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e87231adc92e811abfdf25ddccbc9b1d984ec1d3', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences (w/proper format)\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 4, 'created': '2014-12-09 21:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/ed319eb4bfdbccbf74e2ee9db6efd5b69b2fe5ad', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences.\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 5, 'created': '2014-12-09 21:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/7815eb040c6ad51d245923515578a8395b7129b8', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences between them.\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 6, 'created': '2014-12-11 15:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/cfba4154bf13ac1c1f1c85cd88a044299988d81c', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences between them.\nUpdated host aggregates link.\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 7, 'created': '2014-12-11 22:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1c428d80350a799989b91c65fafe2466a53c13ee', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences between them.\nUpdated host aggregates link and filters link.\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}, {'number': 8, 'created': '2014-12-12 21:52:57.000000000', 'files': ['security-guide/section_security-services-for-instances.xml'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e8e815f092cd8346ce7f2869d325d8439e2061a1', 'message': 'Adding recommendations for host based security controls\n\nAdded three paragraphs on firewalls, SELinux, and security group\nrecommendations, and clarifying the differences between them.\nUpdated host aggregates link and filters links.\n\nChange-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5\nCloses-Bug: #1344342\n'}]",3,138833,e8e815f092cd8346ce7f2869d325d8439e2061a1,34,8,8,12325,,,0,"Adding recommendations for host based security controls

Added three paragraphs on firewalls, SELinux, and security group
recommendations, and clarifying the differences between them.
Updated host aggregates link and filters links.

Change-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5
Closes-Bug: #1344342
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/33/138833/8 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/section_security-services-for-instances.xml'],1,586a3192eb6af7e6348c45a49cec7f1c21fde22b,bug1344342-hostfw," <listitem> <para>Firewalls and other host-based security controls</para> </listitem> <section xml:id=""security-services-for-instances-firewalls""> <title>Firewalls and other host-based security controls</title> <para>Most common operating systems include host-based firewalls for additional security. While we recommend that virtual machines run as few applications as possible (to the point of being single-purpose instances, if possible), all applications running on a virtual machine should be profiled to determine what system resources the application needs access to, the lowest level of privilege required for it to run, and what the expected network traffic is that will be going into and coming from the virtual machine. This expected traffic should be added to the host-based firewall as allowed traffic (or whitelisted), along with any necessary logging and management communication such as SSH or RDP. All other traffic should be explicitly denied in the firewall configuration.</para> <para>On Linux virtual machines, the application profile above can be used in conjunction with a tool like <link xlink:href=""http://wiki.centos.org/HowTos/SELinux#head-faa96b3fdd922004cdb988c1989e56191c257c01""> <citetitle>audit2allow</citetitle></link> to build an SELinux policy that will further protect sensitive system information on most Linux distributions. SELinux uses a combination of users, policies and security contexts to compartmentalize the resources needed for an application to run, and segmenting it from other system resources that are not needed.</para> <para>OpenStack provides security groups for both hosts and the network to add defense in depth to the virtual machines in a given project. These are similar to host-based firewalls as they allow or deny traffic based on port, protocol, and address. However it is possible for host and network security group rules to conflict and deny legitimate traffic. We recommend making sure that security groups are configured correctly for the networking being used. See the <link xlink:href=""http://docs.openstack.org/security-guide/content/networking-services-security-best-practices.html""> <citetitle>Networking services security best practices </citetitle></link> section of this guide for more detail. </para> </section>",,40,0
openstack%2Fnova-specs~master~Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8,openstack/nova-specs,master,Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8,Relax resource name restrictions,MERGED,2014-10-07 19:30:21.000000000,2014-12-15 17:50:48.000000000,2014-12-15 17:50:47.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5292}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 8905}, {'_account_id': 11748}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-10-07 19:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6e8e4c9112c435ba7141be88e90271b165d08d1f', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 2, 'created': '2014-10-07 20:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/057752c2dc1888d57f4e4930d931c2900ca4820e', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 3, 'created': '2014-10-07 21:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7bbb1220d663469e2063fb4f390ee0cb0d7d285a', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 4, 'created': '2014-10-08 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d09b1982fc0fb29f2dc57e13b12fc7797f839737', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 5, 'created': '2014-10-15 19:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5149b0c15ec77c0d3c05c5aafa3a0e647074800f', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 6, 'created': '2014-10-21 19:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5f4047513550e296f60b8a1d869092ff6a53c614', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 7, 'created': '2014-10-27 18:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/83e91b07d9709ce76033687ac721d3d6faa19b36', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 8, 'created': '2014-10-28 12:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5924798d1bd511a63b69688209a9fcf966802015', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 9, 'created': '2014-10-29 15:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7e8f48df2f8fcc63bbe0cb5427bf885cb2c3b60e', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nAPIImpact\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 10, 'created': '2014-11-19 17:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cec33be15e6203b8a367e535927f79ab3c14bbb5', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nAPIImpact\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 11, 'created': '2014-12-09 18:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0b05b5d8548d4167233dfed9e4e2806765b6c565', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nAPIImpact\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 12, 'created': '2014-12-11 21:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/80da85462f6be893d2fc47b48447b0abc6095b36', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nAPIImpact\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 13, 'created': '2014-12-12 04:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/72b71a7ca9bd77e9797fe88fbd4dff1658f9aa89', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nAPIImpact\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}, {'number': 14, 'created': '2014-12-15 17:29:34.000000000', 'files': ['specs/kilo/approved/relax-resource-name-restrictions.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/aa4e097e487a6535d709f890534dea746d673b8f', 'message': 'Relax resource name restrictions\n\nThis proposes to relax the artificial naming restrictions currently in\nplace for resource (instance, flavor, etc.) names.\n\nAPIImpact\nChange-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8\n'}]",14,126696,aa4e097e487a6535d709f890534dea746d673b8f,65,13,14,11748,,,0,"Relax resource name restrictions

This proposes to relax the artificial naming restrictions currently in
place for resource (instance, flavor, etc.) names.

APIImpact
Change-Id: Idd6c56d1ba131f7ac6abaecbf2afc68483b320c8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/96/126696/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/relax-resource-name-restrictions.rst'],1,6e8e4c9112c435ba7141be88e90271b165d08d1f,relax-resource-name-restrictions,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ Relax resource name restrictions ================================ https://blueprints.launchpad.net/nova/+spec/relax-resource-name-restrictions Currently, the only allowed characters in most resource names are Unicode alphanumerics, space, and ``[.-_]``. This should be expanded to all printable unicode characters and horizontal spaces. Problem description =================== Resource names are unnecessarily restricted. It's pretty much always a bad idea to add unnecessary restrictions without a good reason. While there may not be an immediate need to use, for example, the ever-useful `PILE OF POO <http://codepoints.net/U+1F4A9>`_ in a flavor name, it's hard to come up with a reason people *shouldn't* be allowed to use it. Furthermore, the current restriction already allows Unicode, so any Unicode-related concerns should not be tied to this blueprint. Proposed change =============== Instead of a strict whitelist of alphanumerics, space, and ``[.-_]``, we propose to allow all printable Unicode characters and horizontal spaces. With reference to `Unicode character categories <http://www.fileformat.info/info/unicode/category/index.htm>`_, the allowed characters will be: * All characters that are not in the ``C`` (Other, including control and format characters) and ``Z`` (Separator) categories; and * Characters in the ``Zs`` (Separator, Space) category. Alternatives ------------ There are many other possible restrictions, but all of them are arbitrary in some way. Perhaps the most reasonable alternative would be to allow the Unicode subset that MySQL supports as ``utf8mb4``, which excludes four-byte Unicode characters, but this should be left as an implementation detail, and Nova itself shouldn't introduce its own additional restrictions, since it may be backended by other databases, or MySQL with wide character support. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: stpierre Work Items ---------- #. Create a new name validation regex that allows all printable Unicode characters and horizontal spaces. #. Make all JSON Schema documents use the new regex for resource name validation. Dependencies ============ None. Testing ======= No new tempest tests are required; existing tempest tests that test resource name validation will need to be modified to include names that are now invalid under the new, relaxed, restrictions. Documentation Impact ==================== Docs that mention the old resource name restrictions will need to be updated to the new ones. References ========== * Mailing list discussion: http://lists.openstack.org/pipermail/openstack-dev/2014-September/045917.html * Tempest test updates: https://review.openstack.org/#/c/120451/ * Nova change: https://review.openstack.org/#/c/119741/ ",,136,0
openstack%2Fnova-specs~master~I70eac05145b3fadfb388484cf14cb07586651c61,openstack/nova-specs,master,I70eac05145b3fadfb388484cf14cb07586651c61,Validate project with Keystone,MERGED,2014-05-07 03:07:10.000000000,2014-12-15 17:49:52.000000000,2014-12-15 17:49:51.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 792}, {'_account_id': 1501}, {'_account_id': 1849}, {'_account_id': 1916}, {'_account_id': 2218}, {'_account_id': 2271}, {'_account_id': 2903}, {'_account_id': 4393}, {'_account_id': 4978}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6062}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 6699}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8247}, {'_account_id': 9847}]","[{'number': 1, 'created': '2014-05-07 03:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d53bb0857fc925664865b277dc84409d9bf102f2', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 2, 'created': '2014-05-07 03:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8cfd276854a86ac8f4eac0a701fb66f18941bcbf', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 3, 'created': '2014-05-07 03:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/347f5ab88ff0efacba31bfb5d5ef49f1156b3284', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 4, 'created': '2014-05-27 21:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/24127cbe1e1f57d2ac26dc73236634d85089493c', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 5, 'created': '2014-05-28 02:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9680c7592d356bcbb8c134148ef5565d7c99c3b4', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 6, 'created': '2014-05-28 03:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/25d91fc67aca9ae56be0651e032f8159ce1e75d0', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 7, 'created': '2014-05-28 04:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0dc4491df59c2199aa9559c5ea368e4c336270f5', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 8, 'created': '2014-06-29 02:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b04f10bd58853e68e1a38f2ad54e2114ac4d766b', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 9, 'created': '2014-07-02 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8cc3d90513538ab3fbf23810bd573042a5062da6', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 10, 'created': '2014-07-03 19:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0337ec546b9e224a8eab5d09485cb177dab02411', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 11, 'created': '2014-07-04 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1da640c35917be3025bc4b7666f83594bb5e6707', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 12, 'created': '2014-10-07 15:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a3b89ca01f8d62474720c6d230e060b057f0a881', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 13, 'created': '2014-10-08 19:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d4487c73a05cfaaf6f327c5301eee73a0b7e7ea7', 'message': 'Validate tenant and user with Keystone\n\nToday there is no functionality to validate the tenant or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the tenant/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\ntenant access to a flavor.\n\nThis blueprint proposes a way to validate a specified tenant and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\ntenant/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-tenant-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 14, 'created': '2014-10-17 19:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b114403a837d0450016f4acf085aeb99e1df5e99', 'message': 'Validate project and user with Keystone\n\nToday there is no functionality to validate the project or user\nthat is consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project/user ID\nor name (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project and\nuser with Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject/user ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-user-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 15, 'created': '2014-10-29 02:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4be00101b065537899e0f6c85b60eda975117d7a', 'message': 'Validate project with Keystone\n\nToday there is no functionality to validate the project that\nis consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project ID or\nname (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project\nwith Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 16, 'created': '2014-11-13 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dcdd5976d6157bfa60983ef7c77df9e3a53da125', 'message': 'Validate project with Keystone\n\nToday there is no functionality to validate the project that\nis consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project ID or\nname (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project\nwith Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject ID in quota management (i.e. quota-defaults,\nquota-delete, quota-show, quota-update) and in flavor management\n(i.e. flavor-access-add, flavor-access-list,\nflavor-access-remove).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 17, 'created': '2014-11-14 20:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/018f9715b26e658cd5734284a269e2c254e27cd9', 'message': 'Validate project with Keystone\n\nToday there is no functionality to validate the project that\nis consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project ID or\nname (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project\nwith Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject ID in quota management (i.e. quota-defaults, quota-show,\nquota-update) and in flavor management (i.e. flavor-access-add,\nflavor-access-list).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 18, 'created': '2014-12-01 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6948804deab82c415535c9a5b5507016901dd368', 'message': 'Validate project with Keystone\n\nToday there is no functionality to validate the project that\nis consumed by nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project ID or\nname (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project\nwith Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject ID in quota management (i.e. quota-defaults, quota-show,\nquota-update) and in flavor management (i.e. flavor-access-add,\nflavor-access-list).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 19, 'created': '2014-12-05 14:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e4549ca0650289c269fa7c50d289b6dde0b91fdc', 'message': 'Validate project with Keystone\n\nToday there is no functionality to validate the project that\nis consumed by Nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project ID or\nname (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project\nwith Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject ID in quota management (i.e. quota-defaults, quota-show,\nquota-update) and in flavor management (i.e. flavor-access-add,\nflavor-access-list).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}, {'number': 20, 'created': '2014-12-15 17:28:20.000000000', 'files': ['specs/kilo/approved/validate-tenant-user-with-keystone.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1b163aeee34f97ee78b106bda23663af69708cfb', 'message': 'Validate project with Keystone\n\nToday there is no functionality to validate the project that\nis consumed by Nova.  One reason for the lack of such\nfunctionality is performance, where validating to external\nservices can cause poor performance.  However, such functionality\nis needed in cases where the user passes in the project ID or\nname (e.g. quota management), so that the correct quota is set.\nSuch functionality is also needed where the user wants to grant a\nproject access to a flavor.\n\nThis blueprint proposes a way to validate a specified project\nwith Keystone.  This blueprint is only intented for cases\nwhere the API calls are done on a very infrequent basis.  More\nspecifically, it is only meant to be used for validating\nproject ID in quota management (i.e. quota-defaults, quota-show,\nquota-update) and in flavor management (i.e. flavor-access-add,\nflavor-access-list).  A separate blueprint is required for any\nfunctionality that is outside of quota and flavor management.\n\nbp validate-project-with-keystone\n\nChange-Id: I70eac05145b3fadfb388484cf14cb07586651c61\n'}]",70,92507,1b163aeee34f97ee78b106bda23663af69708cfb,143,23,20,8247,,,0,"Validate project with Keystone

Today there is no functionality to validate the project that
is consumed by Nova.  One reason for the lack of such
functionality is performance, where validating to external
services can cause poor performance.  However, such functionality
is needed in cases where the user passes in the project ID or
name (e.g. quota management), so that the correct quota is set.
Such functionality is also needed where the user wants to grant a
project access to a flavor.

This blueprint proposes a way to validate a specified project
with Keystone.  This blueprint is only intented for cases
where the API calls are done on a very infrequent basis.  More
specifically, it is only meant to be used for validating
project ID in quota management (i.e. quota-defaults, quota-show,
quota-update) and in flavor management (i.e. flavor-access-add,
flavor-access-list).  A separate blueprint is required for any
functionality that is outside of quota and flavor management.

bp validate-project-with-keystone

Change-Id: I70eac05145b3fadfb388484cf14cb07586651c61
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/07/92507/12 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/validate-tenant-user-with-keystone.rst'],1,d53bb0857fc925664865b277dc84409d9bf102f2,bp/proposes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Validate tenant and user with Keystone ========================================== https://blueprints.launchpad.net/nova/+spec/validate-tenant-user-with-keystone Today there is no functionality to validate the tenant or user that is consumed by nova. One reason for the lack of such functionality is performance, where validating to external services can cause poor performance. However, such functionality is needed in cases where the user passes in the tenant/user ID or name (e.g. quota management), so that the correct quota is set. Problem description =================== The quota management feature of nova requires a tenant and user ID to be specified as part of the CLI. This affects nova quota-show, quota-update, and quota-delete. When a tenant or user is specified in one of the quota actions above, they are not checked against keystone to validate their IDs. A user could specify a tenant or user name instead of the tenant or user ID, e.g. nova quota-update --instances 9 demo. Since no checks are done, an entry is created in nova's project_user_quotas table where the project_id or user_id is set to the tenant or user name. This causes invalid quotas to be set and returned if the tenant or user ID does not match what is in the project_user_quotas table. Proposed change =============== The proposed solution is to expose a keystone client in nova, similar to the cinder client that exists today in nova/volume/cinder.py. Methods to get the tenant or user by their ID would be implemented. When a tenant/user ID is be specified, it would be queried against the keystone client and validated. The proposed code for this can be found at: https://review.openstack.org/#/c/91866/. Alternatives ------------ The existing behavior, where the tenant/user ID is not validated, could be left as-is. It would be up to the user to figure out the appropriate tenant/user ID or name from ""keystone tenant-list"" or ""keystone user-list"". However, this alternative presents user errors, where the user could mistakenly specify the tenant/user name instead of the tenant/user ID for nova quota-show, quota-update, or quota-delete. If this occurs, the quota would not be correctly set. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ There will be minor impact to performance. A connection to keystone is required to validate the tenant/user ID. However, it would be a low-frequency operation because quotas are not often changed. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: thang-pham Work Items ---------- * Create a method to instantiate the keystone client. * Implement methods to get the tenant and user by a given ID. * Modify QuotaTemplate class in nova/api/openstack/compute/contrib/quotas.py to validate the tenant and user ID, if any. Dependencies ============ None Testing ======= The following commands should be tested: nova quota-show, quota-update, and quota-delete. More specifically, the --tenant and --user options need to be specified with the proper ID for positive test cases, and invalid IDs for negative test cases. Documentation Impact ==================== None References ========== * Proposed code change: https://review.openstack.org/#/c/91866/ * Reported bug: https://bugs.launchpad.net/nova/+bug/1313935 ",,135,0
openstack%2Frally~master~I49d5956bbf571840829b3e9b1411a907748cf1ed,openstack/rally,master,I49d5956bbf571840829b3e9b1411a907748cf1ed,Adds Zaqar consumer-producer scenario,MERGED,2014-11-24 23:23:20.000000000,2014-12-15 17:47:27.000000000,2014-12-15 17:47:26.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6124}, {'_account_id': 6172}, {'_account_id': 6413}, {'_account_id': 7369}, {'_account_id': 9180}, {'_account_id': 9601}, {'_account_id': 14135}]","[{'number': 1, 'created': '2014-11-24 23:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/14523480637beb9b2cf09fd9589c9bcff4063e38', 'message': 'Adds serial consumer-producer scenario\n\nThis scenario benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it,\nretrieve messages from it and deletes the queue.\n\nSome changes has been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 2, 'created': '2014-11-25 03:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/64b82fc0910d90ad1c566a4fec364bf34695cf9b', 'message': 'Adds serial consumer-producer scenario\n\nThis scenario benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it,\nretrieve messages from it and deletes the queue.\n\nSome changes has been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 3, 'created': '2014-11-25 11:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/41728d291146640130ce9e8e73881825efc792b0', 'message': 'Adds serial consumer-producer scenario\n\nThis scenario benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it,\nretrieves messages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 4, 'created': '2014-12-01 04:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f318995ba2481d79ddffa0255cdbbc596bde8a95', 'message': 'Adds serial consumer-producer scenario\n\nThis scenario benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it,\nretrieves messages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 5, 'created': '2014-12-01 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e1de5022d07a4ca203588433a5a9acbf34537ef1', 'message': 'Adds serial consumer-producer scenario\n\nThis scenario benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it,\nretrieves messages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 6, 'created': '2014-12-02 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1049fc83baa5a4e763f9926eeb9ba06e1396d723', 'message': 'Adds Zaqar consumer-producer scenario\n\nThis scenario for Zaqar benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it, retrieves\nmessages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 7, 'created': '2014-12-07 20:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c97c1c6d51865f0dec12c7d7d221c0048e7ac671', 'message': 'Adds Zaqar consumer-producer scenario\n\nThis scenario for Zaqar benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it, retrieves\nmessages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 8, 'created': '2014-12-09 23:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/da2d5510d5940810c2970378625c4aa14a87e0b2', 'message': 'Adds Zaqar consumer-producer scenario\n\nThis scenario for Zaqar benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it, retrieves\nmessages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}, {'number': 9, 'created': '2014-12-15 14:50:10.000000000', 'files': ['doc/samples/tasks/scenarios/zaqar/producer_consumer.yaml', 'rally/benchmark/scenarios/zaqar/basic.py', 'tests/unit/benchmark/scenarios/zaqar/test_basic.py', 'rally-jobs/rally-zaqar.yaml', 'doc/samples/tasks/scenarios/zaqar/producer_consumer.json', 'tests/unit/fakes.py', 'tests/unit/benchmark/scenarios/zaqar/test_utils.py', 'rally/benchmark/scenarios/zaqar/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/1b36a7274ac3cd328959c736164739ba8f811cc6', 'message': 'Adds Zaqar consumer-producer scenario\n\nThis scenario for Zaqar benchmarks a serial consumer-producer\nuse case: creates a queue, sends messages to it, retrieves\nmessages from it and deletes the queue.\n\nSome changes have been added to the fakes to test this\nscenario properly.\n\nChange-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed\n'}]",33,136922,1b36a7274ac3cd328959c736164739ba8f811cc6,76,9,9,6413,,,0,"Adds Zaqar consumer-producer scenario

This scenario for Zaqar benchmarks a serial consumer-producer
use case: creates a queue, sends messages to it, retrieves
messages from it and deletes the queue.

Some changes have been added to the fakes to test this
scenario properly.

Change-Id: I49d5956bbf571840829b3e9b1411a907748cf1ed
",git fetch https://review.opendev.org/openstack/rally refs/changes/22/136922/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/samples/tasks/scenarios/zaqar/producer_consumer.yaml', 'rally/benchmark/scenarios/zaqar/basic.py', 'tests/unit/benchmark/scenarios/zaqar/test_basic.py', 'rally-scenarios/rally-zaqar.yaml', 'doc/samples/tasks/scenarios/zaqar/producer_consumer.json', 'tests/unit/benchmark/scenarios/zaqar/test_utils.py', 'tests/unit/fakes.py', 'rally/benchmark/scenarios/zaqar/utils.py']",8,14523480637beb9b2cf09fd9589c9bcff4063e38,zaqar-producer-consumer,"# Copyright (c) 2014 Red Hat, Inc.# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at# http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Creates Zaqar queue with random name :param **kwargs: other optional parameters to create queues like ""metadata"" :returns: Zaqar queue instance return self.clients(""zaqar"").queue(name, **kwargs) def _queue_delete(self, queue): """"""Removes a Zaqar queue :param queue: queue to remove """""" queue.delete() @base.atomic_action_timer('zaqar.post_messages') def _messages_post(self, queue, messages): """"""Post a list of messages to a given Zaqar queue :param queue: post the messages to queue :param messages: messages to post """""" queue.post(messages) @base.atomic_action_timer('zaqar.get_messages') def _messages_get(self, queue): """"""Gets messages from a given Zaqar queue :param queue: get messages from queue :return: messages iterator """""" queue.messages() ","# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at# http://www.apache.org/licenses/LICENSE-2.0# Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Creates Zaqar queue with random name. :param **kwargs: Other optional parameters to create queues like ""metadata"". :returns: zaqar queue instance return self.clients(""zaqar"").queue(name, **kwargs)",188,46
openstack%2Fpycadf~master~Ia192869d7e92732000b9033b09b97316ba5d5028,openstack/pycadf,master,Ia192869d7e92732000b9033b09b97316ba5d5028,sync oslo,MERGED,2014-12-02 14:39:18.000000000,2014-12-15 17:43:46.000000000,2014-12-15 09:44:31.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1561}, {'_account_id': 1669}, {'_account_id': 1994}, {'_account_id': 2218}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2903}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6460}, {'_account_id': 6482}, {'_account_id': 6537}, {'_account_id': 6928}, {'_account_id': 7514}, {'_account_id': 7725}, {'_account_id': 9107}]","[{'number': 1, 'created': '2014-12-02 14:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/b8567a63a4bf3c91c3111908237bbd71f3ac28fa', 'message': 'sync oslo and bring in versionutils\n\nwe need versionutils to deprecate middleware. this patch brings it\nin and syncs to: Id091d697810ba7d65ae64fd2e52fd09cd78baf59\n\nChange-Id: Ia192869d7e92732000b9033b09b97316ba5d5028\n'}, {'number': 2, 'created': '2014-12-09 18:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/4a4318637d2eb83c4ec5a3b13b87fe3d23c5a683', 'message': 'sync oslo\n\nthis patch syncs to: Ia1820495a989f4f84530ab83f2d87d53a9f761df\n\nChange-Id: Ia192869d7e92732000b9033b09b97316ba5d5028\n'}, {'number': 3, 'created': '2014-12-09 18:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/1ce613fbd4348e38f21ca17a98583ef36804d05f', 'message': 'sync oslo\n\nthis patch syncs to: Ia1820495a989f4f84530ab83f2d87d53a9f761df\n\nChange-Id: Ia192869d7e92732000b9033b09b97316ba5d5028\n'}, {'number': 4, 'created': '2014-12-09 19:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/f9a4c3febd553a6433fcd847683d6ad763617f8c', 'message': 'sync oslo\n\nthis patch also corrects an issue where we incorrectly referenced\ncommon._i18n\n\nthis patch syncs to: Ia1820495a989f4f84530ab83f2d87d53a9f761df\n\nChange-Id: Ia192869d7e92732000b9033b09b97316ba5d5028\n'}, {'number': 5, 'created': '2014-12-09 19:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/21292f0c2ddcf3d979ec0adb68254a631743c44b', 'message': 'sync oslo\n\nthis patch also corrects an issue where we incorrectly referenced\ncommon._i18n\n\nthis patch syncs to: Ia1820495a989f4f84530ab83f2d87d53a9f761df\n\nChange-Id: Ia192869d7e92732000b9033b09b97316ba5d5028\n'}, {'number': 6, 'created': '2014-12-10 17:05:09.000000000', 'files': ['pycadf/middleware/notifier.py', 'pycadf/openstack/common/context.py', 'pycadf/_i18n.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/eeb1df1315d762d4a04e816b20b6bad694543839', 'message': 'sync oslo\n\nthis patch also corrects an issue where we incorrectly referenced\ncommon._i18n\n\nthis patch syncs to: Ia1820495a989f4f84530ab83f2d87d53a9f761df\n\nChange-Id: Ia192869d7e92732000b9033b09b97316ba5d5028\n'}]",5,138381,eeb1df1315d762d4a04e816b20b6bad694543839,39,18,6,6537,,,0,"sync oslo

this patch also corrects an issue where we incorrectly referenced
common._i18n

this patch syncs to: Ia1820495a989f4f84530ab83f2d87d53a9f761df

Change-Id: Ia192869d7e92732000b9033b09b97316ba5d5028
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/81/138381/3 && git format-patch -1 --stdout FETCH_HEAD,"['pycadf/openstack/common/log.py', 'pycadf/openstack/common/local.py', 'openstack-common.conf', 'pycadf/openstack/common/context.py', 'pycadf/openstack/common/versionutils.py', 'pycadf/openstack/common/_i18n.py']",6,b8567a63a4bf3c91c3111908237bbd71f3ac28fa,sync-oslo,"try: import oslo.i18n # NOTE(dhellmann): This reference to o-s-l-o will be replaced by the # application name when this module is synced into the separate # repository. It is OK to have more than one translation function # using the same domain, since there will still only be one message # catalog. _translators = oslo.i18n.TranslatorFactory(domain='pycadf') # The primary translation function using the well-known name ""_"" _ = _translators.primary # Translators for log levels. # # The abbreviated names are meant to reflect the usual use of a short # name like '_'. The ""L"" is for ""log"" and the other letter comes from # the level. _LI = _translators.log_info _LW = _translators.log_warning _LE = _translators.log_error _LC = _translators.log_critical except ImportError: # NOTE(dims): Support for cases where a project wants to use # code from pycadf-incubator, but is not ready to be internationalized # (like tempest) _ = _LI = _LW = _LE = _LC = lambda x: x","import oslo.i18n # NOTE(dhellmann): This reference to o-s-l-o will be replaced by the # application name when this module is synced into the separate # repository. It is OK to have more than one translation function # using the same domain, since there will still only be one message # catalog. _translators = oslo.i18n.TranslatorFactory(domain='pycadf') # The primary translation function using the well-known name ""_"" _ = _translators.primary # Translators for log levels. # # The abbreviated names are meant to reflect the usual use of a short # name like '_'. The ""L"" is for ""log"" and the other letter comes from # the level. _LI = _translators.log_info _LW = _translators.log_warning _LE = _translators.log_error _LC = _translators.log_critical",993,25
openstack%2Fnova-specs~master~I29de529d47c8da8d1b6bc87fda5c1d0255f64d92,openstack/nova-specs,master,I29de529d47c8da8d1b6bc87fda5c1d0255f64d92,docs fixup: corrects formatting of SQL in cellsv2,MERGED,2014-12-15 09:28:12.000000000,2014-12-15 17:38:52.000000000,2014-12-15 17:38:51.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5441}, {'_account_id': 9420}]","[{'number': 1, 'created': '2014-12-15 09:28:12.000000000', 'files': ['specs/kilo/approved/cells-v2-mapping.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7542142c87041e25d0de4c75ef0dda907232a251', 'message': 'docs fixup: corrects formatting of SQL in cellsv2\n\nSimple fix to the formatting of the SQL.\n\nChange-Id: I29de529d47c8da8d1b6bc87fda5c1d0255f64d92\n'}]",0,141753,7542142c87041e25d0de4c75ef0dda907232a251,8,4,1,9420,,,0,"docs fixup: corrects formatting of SQL in cellsv2

Simple fix to the formatting of the SQL.

Change-Id: I29de529d47c8da8d1b6bc87fda5c1d0255f64d92
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/53/141753/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/cells-v2-mapping.rst'],1,7542142c87041e25d0de4c75ef0dda907232a251,,"The table will look like::: CREATE TABLE `cell_mapping` ( `created_at` datetime DEFAULT NULL, `updated_at` datetime DEFAULT NULL, `deleted_at` datetime DEFAULT NULL, `id` int(11) NOT NULL AUTO_INCREMENT, `uuid` varchar(36) NOT NULL, `name` varchar(255) DEFAULT NULL, `deleted` int(11) DEFAULT NULL, `transport_url` mediumtext NOT NULL, `database_connection` mediumtext NOT NULL)","The table will look like: CREATE TABLE `cell_mapping` ( `created_at` datetime DEFAULT NULL, `updated_at` datetime DEFAULT NULL, `deleted_at` datetime DEFAULT NULL, `id` int(11) NOT NULL AUTO_INCREMENT, `uuid` varchar(36) NOT NULL, `name` varchar(255) DEFAULT NULL, `deleted` int(11) DEFAULT NULL, `transport_url` mediumtext NOT NULL, `database_connection` mediumtext NOT NULL)",11,11
openstack%2Fopenstack-ansible~master~I12fad99d32d6bc8c7096af0ac8bed5a849c24da8,openstack/openstack-ansible,master,I12fad99d32d6bc8c7096af0ac8bed5a849c24da8,Pin tempest version,MERGED,2014-12-15 15:25:44.000000000,2014-12-15 17:30:14.000000000,2014-12-15 16:45:54.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-15 15:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0f9303057f84baf802b9e9ffe153e86538c64de1', 'message': ""Bump python-saharaclient version\n\nTempest fails to install due to change in requirements.txt.  This\nchange bumps python-saharaclient version from 0.7.5 to 0.7.6.  We will\nprobably want to lock tempest down to a specific SHA to avoid having\nrunning into this so frequently.\n\nNote that we use master on tempest, since they do not branch like\nother OpenStack projects.  This new version of python-saharaclient\nstill meets stable/icehouse and stable/juno's requirements.\n\nChange-Id: I12fad99d32d6bc8c7096af0ac8bed5a849c24da8\nCloses-Bug: #1402713\n""}, {'number': 2, 'created': '2014-12-15 16:13:19.000000000', 'files': ['rpc_deployment/vars/repo_packages/tempest.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4790cf46d645bd77137bf6f62172623de583e59c', 'message': 'Pin tempest version\n\nCurrently tempest will not install due to us pinning\npython-saharaclient to 0.7.5 while tempest requires 0.7.6.  Rather than\nbumping python-saharaclient, this change will pin tempest to the commit\nprior to requirements.txt updating.  This type of change was already\ndone to tempest in stable/icehouse.\n\nChange-Id: I12fad99d32d6bc8c7096af0ac8bed5a849c24da8\nCloses-Bug: #1402713\n'}]",0,141824,4790cf46d645bd77137bf6f62172623de583e59c,13,5,2,7307,,,0,"Pin tempest version

Currently tempest will not install due to us pinning
python-saharaclient to 0.7.5 while tempest requires 0.7.6.  Rather than
bumping python-saharaclient, this change will pin tempest to the commit
prior to requirements.txt updating.  This type of change was already
done to tempest in stable/icehouse.

Change-Id: I12fad99d32d6bc8c7096af0ac8bed5a849c24da8
Closes-Bug: #1402713
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/141824/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/vars/repo_packages/python_saharaclient.yml'],1,0f9303057f84baf802b9e9ffe153e86538c64de1,bug/1402713,git_install_branch: 0.7.6,git_install_branch: 0.7.5,1,1
openstack%2Ffuel-web~master~I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6,openstack/fuel-web,master,I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6,Fixes Welcome page and statistics form texts,MERGED,2014-12-15 17:04:51.000000000,2014-12-15 17:28:53.000000000,2014-12-15 17:28:52.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-15 17:04:51.000000000', 'files': ['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/statistics_mixin.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/99e42ff7d978c384128b4f1481ffb96717042acc', 'message': 'Fixes Welcome page and statistics form texts\n\nCloses-Bug: #1402648\n\nChange-Id: I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6\n'}]",0,141845,99e42ff7d978c384128b4f1481ffb96717042acc,8,3,1,8766,,,0,"Fixes Welcome page and statistics form texts

Closes-Bug: #1402648

Change-Id: I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/45/141845/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/statistics_mixin.jsx']",4,99e42ff7d978c384128b4f1481ffb96717042acc,," getText: function(key) { if (_.contains(app.version.get('feature_groups'), 'mirantis')) return $.t(key); return $.t(key + '_community'); }, label={setting.label && this.getText(setting.label)} isMirantisIso = _.contains(app.version.get('feature_groups'), 'mirantis'), statsCollectorLink = 'https://stats.fuel-infra.org/', <p>{this.getText(ns + 'help_to_improve')}</p> {isMirantisIso ? <p> {$.t(ns + 'privacy_policy')} <a href='https://www.mirantis.com/company/privacy-policy/' target='_blank'>{$.t(ns + 'privacy_policy_link')}</a>. </p> : <p> {$.t(ns + 'statistics_collector')} <a href={statsCollectorLink} target='_blank'>{statsCollectorLink}</a>. </p> }", label={setting.label && $.t(setting.label)} <p>{$.t(ns + 'help_to_improve')}</p> <p> {$.t(ns + 'privacy_policy')} <a href='https://www.mirantis.com/company/privacy-policy/' target='_blank'>{$.t(ns + 'privacy_policy_link')}</a>. </p>,36,21
openstack%2Ffuel-main~stable%2F6.0~I19eae689519979a3374c4e526940c5d953d69e44,openstack/fuel-main,stable/6.0,I19eae689519979a3374c4e526940c5d953d69e44,Fix upgrade_ha_env test,MERGED,2014-12-15 13:07:58.000000000,2014-12-15 17:19:51.000000000,2014-12-15 17:19:51.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-15 13:07:58.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/052e7506dd0a54a0bab1114d1fd40fb7e490ba36', 'message': 'Fix upgrade_ha_env test\n\n- OpenStackActions instance was initialized with public vip\nof controller but cluster mode is simple and there is no\npublic vip. So now we are passing ip of the controller that\nis taking from devops\n\nChange-Id: I19eae689519979a3374c4e526940c5d953d69e44\nCloses-Bug: #1402537\n'}]",0,141787,052e7506dd0a54a0bab1114d1fd40fb7e490ba36,8,7,1,10136,,,0,"Fix upgrade_ha_env test

- OpenStackActions instance was initialized with public vip
of controller but cluster mode is simple and there is no
public vip. So now we are passing ip of the controller that
is taking from devops

Change-Id: I19eae689519979a3374c4e526940c5d953d69e44
Closes-Bug: #1402537
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/87/141787/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,052e7506dd0a54a0bab1114d1fd40fb7e490ba36,," self.fuel_web.get_nailgun_node_by_name('slave-06')['ip'],"," self.fuel_web.get_public_vip(cluster_id),",1,1
openstack%2Ffuel-main~master~I19eae689519979a3374c4e526940c5d953d69e44,openstack/fuel-main,master,I19eae689519979a3374c4e526940c5d953d69e44,Fix upgrade_ha_env test,MERGED,2014-12-15 08:47:34.000000000,2014-12-15 17:19:19.000000000,2014-12-15 17:19:19.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}]","[{'number': 1, 'created': '2014-12-15 08:47:34.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/19d64368fec69bbfe36ea2a324a6e06c6b889511', 'message': 'Fix upgrade_ha_env test\n\n- OpenStackActions instance was initialized with public vip\nof controller but cluster mode is simple and there is no\npublic vip. So now we are passing ip of the controller that\nis taking from devops\n\nChange-Id: I19eae689519979a3374c4e526940c5d953d69e44\nCloses-Bug: #1402537\n'}]",0,141744,19d64368fec69bbfe36ea2a324a6e06c6b889511,11,7,1,10136,,,0,"Fix upgrade_ha_env test

- OpenStackActions instance was initialized with public vip
of controller but cluster mode is simple and there is no
public vip. So now we are passing ip of the controller that
is taking from devops

Change-Id: I19eae689519979a3374c4e526940c5d953d69e44
Closes-Bug: #1402537
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/44/141744/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,19d64368fec69bbfe36ea2a324a6e06c6b889511,fixUpgradeHaTest," self.fuel_web.get_nailgun_node_by_name('slave-06')['ip'],"," self.fuel_web.get_public_vip(cluster_id),",1,1
openstack%2Fneutron~master~I43874e1b63a0ba7b01415cafe0538f4343057066,openstack/neutron,master,I43874e1b63a0ba7b01415cafe0538f4343057066,Have L3 agent catch the correct exception,MERGED,2014-12-09 22:37:23.000000000,2014-12-15 17:18:37.000000000,2014-12-15 16:25:12.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 7962}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-09 22:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d5037a3b5f111f7e2550cf7b7b52255ec340eb3', 'message': ""Have L3 agent catch the correct exception\n\nL3 agent imports the processutils module to catch exceptions that\nwouldn't ever be thrown because the underlying execute() being\ncalled is the one from neutron.agent.linux.utils which raises a\nRuntimeError on failure.\n\nAlso, processutils is now part of oslo.concurrency. So when we\nactually start using it, we'll use it from there.\n\nChange-Id: I43874e1b63a0ba7b01415cafe0538f4343057066\n""}, {'number': 2, 'created': '2014-12-09 22:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7066459ffc849f55e2b04b9d36206bbea3d81b2f', 'message': ""Have L3 agent catch the correct exception\n\nL3 agent imports the processutils module to catch exceptions that\nwouldn't ever be thrown because the underlying execute() being\ncalled is the one from neutron.agent.linux.utils which raises a\nRuntimeError on failure.\n\nAlso, processutils is now part of oslo.concurrency. So when we\nactually start using it, we'll use it from there.\n\nChange-Id: I43874e1b63a0ba7b01415cafe0538f4343057066\n""}, {'number': 3, 'created': '2014-12-11 16:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92696b92d0c5c6776980b37cc21df2dd0202d235', 'message': ""Have L3 agent catch the correct exception\n\nL3 agent imports the processutils module to catch exceptions that\nwouldn't ever be thrown because the underlying execute() being\ncalled is the one from neutron.agent.linux.utils which raises a\nRuntimeError on failure.\n\nAlso, processutils is now part of oslo.concurrency. So when we\nactually start using it, we'll use it from there.\n\nChange-Id: I43874e1b63a0ba7b01415cafe0538f4343057066\n""}, {'number': 4, 'created': '2014-12-11 18:09:04.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/openstack/common/processutils.py', 'openstack-common.conf', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cfe2fc98ae273034ffef7264f21b1bd5dff414d', 'message': ""Have L3 agent catch the correct exception\n\nL3 agent imports the processutils module to catch exceptions that\nwouldn't ever be thrown because the underlying execute() being\ncalled is the one from neutron.agent.linux.utils which raises a\nRuntimeError on failure.\n\nAlso, processutils is now part of oslo.concurrency. So when we\nactually start using it, we'll use it from there.\n\nCloses-Bug: 1401626\nChange-Id: I43874e1b63a0ba7b01415cafe0538f4343057066\n""}]",2,140507,4cfe2fc98ae273034ffef7264f21b1bd5dff414d,87,34,4,5756,,,0,"Have L3 agent catch the correct exception

L3 agent imports the processutils module to catch exceptions that
wouldn't ever be thrown because the underlying execute() being
called is the one from neutron.agent.linux.utils which raises a
RuntimeError on failure.

Also, processutils is now part of oslo.concurrency. So when we
actually start using it, we'll use it from there.

Closes-Bug: 1401626
Change-Id: I43874e1b63a0ba7b01415cafe0538f4343057066
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/140507/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3_agent.py', 'openstack-common.conf', 'neutron/tests/unit/test_l3_agent.py']",3,4d5037a3b5f111f7e2550cf7b7b52255ec340eb3,bug/1401626, device.addr.add.side_effect = RuntimeError(),from neutron.openstack.common import processutils device.addr.add.side_effect = processutils.ProcessExecutionError,2,6
openstack%2Ffuel-main~stable%2F6.0~I43da906379c43693537ff88c4dba93fdaf1cfca8,openstack/fuel-main,stable/6.0,I43da906379c43693537ff88c4dba93fdaf1cfca8,Add check on kernel version,MERGED,2014-12-15 17:00:21.000000000,2014-12-15 17:15:41.000000000,2014-12-15 17:15:41.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}, {'_account_id': 12867}, {'_account_id': 13194}]","[{'number': 1, 'created': '2014-12-15 17:00:21.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/helpers/checkers.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b8eefa555ffccf04da9efcf03c305280c5492f15', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}]",0,141843,b8eefa555ffccf04da9efcf03c305280c5492f15,9,9,1,10136,,,0,"Add check on kernel version

- Add check that new kernel is on the newly deployed nodes
- Add check that old kernel is on the nodes added
to an old env

Change-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8
Closes-Bug: #1397343
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/43/141843/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/helpers/checkers.py']",2,b8eefa555ffccf04da9efcf03c305280c5492f15,kernelCheck," def check_kernel(kernel, expected_kernel): assert_equal(kernel, expected_kernel, ""kernel version is wrong, it is {0}"".format(kernel))",,51,1
openstack%2Ffuel-web~stable%2F6.0~I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6,openstack/fuel-web,stable/6.0,I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6,Fixes Welcome page and statistics form texts,MERGED,2014-12-15 15:05:23.000000000,2014-12-15 17:08:13.000000000,2014-12-15 17:08:12.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 10959}]","[{'number': 1, 'created': '2014-12-15 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/49235d3f7564170063ae2aa3dd8b7bd829993523', 'message': 'Fixes Welcome page and statistics form texts\n\nChange-Id: I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6\n'}, {'number': 2, 'created': '2014-12-15 15:12:49.000000000', 'files': ['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/statistics_mixin.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/34c9e303865a930b7f122a30f8032c57539a2259', 'message': 'Fixes Welcome page and statistics form texts\n\nCloses-Bug: #1402648\n\nChange-Id: I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6\n'}]",4,141816,34c9e303865a930b7f122a30f8032c57539a2259,17,6,2,8766,,,0,"Fixes Welcome page and statistics form texts

Closes-Bug: #1402648

Change-Id: I01d5f64ca8dc383eaba4f6b3b16e70dc4be1d8c6
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/16/141816/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/i18n/translation.json', 'nailgun/static/js/views/welcome_page.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/statistics_mixin.jsx']",4,49235d3f7564170063ae2aa3dd8b7bd829993523,bug/1402648," getText: function(key) { if (!_.contains(app.version.get('feature_groups'), 'mirantis')) return $.t(key); return $.t(key + '_mirantis'); }, label={setting.label && this.getText(setting.label)} isMirantisIso = _.contains(app.version.get('feature_groups'), 'mirantis'), statsCollectorLink = 'https://stats.fuel-infra.org/', <p>{this.getText(ns + 'help_to_improve')}</p> {isMirantisIso ? <p> {$.t(ns + 'privacy_policy')} <a href='https://www.mirantis.com/company/privacy-policy/' target='_blank'>{$.t(ns + 'privacy_policy_link')}</a>. </p> : <p> {$.t(ns + 'statistics_collector')} <a href={statsCollectorLink} target='_blank'>{statsCollectorLink}</a>. </p> }", label={setting.label && $.t(setting.label)} <p>{$.t(ns + 'help_to_improve')}</p> <p> {$.t(ns + 'privacy_policy')} <a href='https://www.mirantis.com/company/privacy-policy/' target='_blank'>{$.t(ns + 'privacy_policy_link')}</a>. </p>,44,29
openstack%2Ffuel-main~master~I43da906379c43693537ff88c4dba93fdaf1cfca8,openstack/fuel-main,master,I43da906379c43693537ff88c4dba93fdaf1cfca8,Add check on kernel version,MERGED,2014-12-03 12:27:21.000000000,2014-12-15 17:02:21.000000000,2014-12-15 16:50:19.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12129}, {'_account_id': 12867}, {'_account_id': 13194}]","[{'number': 1, 'created': '2014-12-03 12:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a8bbd6c8ddb97e217ca9a77ea3f82c806f7d5f69', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}, {'number': 2, 'created': '2014-12-09 15:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c6eb7e17940e348d6cad10696c154ae4af15b06a', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}, {'number': 3, 'created': '2014-12-10 11:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6fce9809d645eecc6f9a4d5d24b629affd9565a8', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}, {'number': 4, 'created': '2014-12-10 14:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/48b6f9fea49f35167dcd2fb19f3b5dbf9852fb32', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}, {'number': 5, 'created': '2014-12-12 10:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/5a79f33dc545f743645090a133e21d307aa08451', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}, {'number': 6, 'created': '2014-12-15 16:27:19.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/helpers/checkers.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/08703f4998abdb8281c80e070206af69bb2933f3', 'message': 'Add check on kernel version\n\n- Add check that new kernel is on the newly deployed nodes\n- Add check that old kernel is on the nodes added\nto an old env\n\nChange-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8\nCloses-Bug: #1397343\n'}]",23,138699,08703f4998abdb8281c80e070206af69bb2933f3,54,10,6,10136,,,0,"Add check on kernel version

- Add check that new kernel is on the newly deployed nodes
- Add check that old kernel is on the nodes added
to an old env

Change-Id: I43da906379c43693537ff88c4dba93fdaf1cfca8
Closes-Bug: #1397343
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/99/138699/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/test_upgrade.py', 'fuelweb_test/helpers/checkers.py']",2,a8bbd6c8ddb97e217ca9a77ea3f82c806f7d5f69,(detached," @logwrap def check_kernel(kernel, expected_kernel): assert_equal(kernel, expected_kernel, ""kernel version is wrong, it is {0}"".format(kernel))",,18,0
openstack%2Fproject-config~master~I1fc734ba437ad089ba465aba8f49e68faa372ade,openstack/project-config,master,I1fc734ba437ad089ba465aba8f49e68faa372ade,Rename the heat-translator project repo,MERGED,2014-10-28 20:42:22.000000000,2014-12-15 16:58:47.000000000,2014-12-06 16:34:35.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6456}, {'_account_id': 6482}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2014-10-28 20:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/09e7ebaedb73b4a5168387d27f540ffa8b9f1f23', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}, {'number': 2, 'created': '2014-10-29 18:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/931166f4341a8c9f0723458e3b711616e53190a5', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}, {'number': 3, 'created': '2014-10-29 20:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/94ecf30d69e1c5d92b189d7c0dff8109bc3e3eb4', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}, {'number': 4, 'created': '2014-10-29 20:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/18bc8941a7f2c65c4a8a0ecef408ec253592dbd2', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}, {'number': 5, 'created': '2014-11-13 19:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7157e2c821969605bf73b98b4eec63d7d657ccbe', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}, {'number': 6, 'created': '2014-12-04 07:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2b0d1e62c9a9dbf12b95371c5ccbb50cbb59ccce', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}, {'number': 7, 'created': '2014-12-05 23:41:47.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml', 'gerrit/acls/openstack/heat-translator.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8a9500460c05df1790419578225a990bbb1b6de5', 'message': 'Rename the heat-translator project repo\n\nRename the project repo from stackforge/heat-translator\nto openstack/heat-translator.\nThe heat-translator project has been recently added to\nthe Heat program,\nhttps://review.openstack.org/#/c/127349/\n\nCo-Authored-By: Sergey Lukjanov <slukjanov@mirantis.com>\n\nChange-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade\n'}]",20,131558,8a9500460c05df1790419578225a990bbb1b6de5,48,10,7,6456,,,0,"Rename the heat-translator project repo

Rename the project repo from stackforge/heat-translator
to openstack/heat-translator.
The heat-translator project has been recently added to
the Heat program,
https://review.openstack.org/#/c/127349/

Co-Authored-By: Sergey Lukjanov <slukjanov@mirantis.com>

Change-Id: I1fc734ba437ad089ba465aba8f49e68faa372ade
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/131558/7 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/layout.yaml']",2,09e7ebaedb73b4a5168387d27f540ffa8b9f1f23,renaming-heat-translator, - name: openstack/heat-translator template: - name: docs-on-rtfd - name: merge-check - name: python-jobs - name: python3-jobs - name: publish-to-pypi check: - gate-heat-translator-python26 gate: - gate-heat-translator-python26 post: - heat-translator-coverage pre-release: - heat-translator-tarball release: - heat-translator-tarball , - name: stackforge/heat-translator template: - name: docs-on-rtfd - name: merge-check - name: python-jobs - name: python3-jobs - name: publish-to-pypi check: - gate-heat-translator-python26 gate: - gate-heat-translator-python26 post: - heat-translator-coverage pre-release: - heat-translator-tarball release: - heat-translator-tarball ,21,21
openstack%2Fopenstack-ansible~stable%2Ficehouse~Ibf67f0df529afd716478d31537befbf019a90b4d,openstack/openstack-ansible,stable/icehouse,Ibf67f0df529afd716478d31537befbf019a90b4d,Resolves all of the current linting issues,MERGED,2014-12-12 12:11:02.000000000,2014-12-15 16:57:00.000000000,2014-12-15 16:56:59.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 2799}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-12 12:11:02.000000000', 'files': ['rpc_deployment/roles/container_clone/tasks/main.yml', 'rpc_deployment/roles/container_destroy/tasks/main.yml', 'rpc_deployment/roles/host_common/tasks/authorized_keys.yml', 'rpc_deployment/roles/galera_config/tasks/main.yml', 'rpc_deployment/roles/memcached/tasks/main.yml', 'rpc_deployment/roles/neutron_common/tasks/main.yml', 'rpc_deployment/roles/container_archive/tasks/swift_upload.yml', 'rpc_deployment/roles/rabbit_user/tasks/main.yml', 'rpc_deployment/roles/galera_client_cnf/tasks/main.yml', 'rpc_deployment/roles/openstack_common/tasks/install_git_source.yml', 'rpc_deployment/playbooks/setup/archive-container.yml', 'rpc_deployment/roles/container_extra_setup/tasks/sysctl.yml', 'rpc_deployment/roles/rsyslog_stop/tasks/main.yml', 'rpc_deployment/roles/keystone_add_user/tasks/main.yml', 'rpc_deployment/roles/horizon_apache/tasks/main.yml', 'rpc_deployment/roles/rabbit_join_cluster/tasks/main.yml', 'rpc_deployment/roles/nova_libvirt/tasks/main.yml', 'rpc_deployment/roles/rpc_support_holland/tasks/holland.yml', 'rpc_deployment/roles/rabbit_common/tasks/restart_rabbit.yml', 'rpc_deployment/roles/neutron_setup/tasks/main.yml', 'rpc_deployment/playbooks/setup/deploy-archived-container.yml', 'rpc_deployment/roles/rpc_support_common/tasks/motd.yml', 'rpc_deployment/roles/kibana/tasks/main.yml', 'rpc_deployment/roles/container_common/tasks/container_user_create.yml', 'rpc_deployment/roles/openstack_common/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f4f929788f5337d35caacf45ce561cc9554d9465', 'message': 'Resolves all of the current linting issues\n\nThis PR goes through all of the files and looks for lint violations\nand updates all of them.\n\nUpdated per-feedback\n\n    Closes-Bug: 1398601\n\n(cherry picked from commit 6389c643ee72a34be84edf5474b49a77a4d0fbb8)\n\nChange-Id: Ibf67f0df529afd716478d31537befbf019a90b4d\n'}]",4,141346,f4f929788f5337d35caacf45ce561cc9554d9465,13,7,1,425,,,0,"Resolves all of the current linting issues

This PR goes through all of the files and looks for lint violations
and updates all of them.

Updated per-feedback

    Closes-Bug: 1398601

(cherry picked from commit 6389c643ee72a34be84edf5474b49a77a4d0fbb8)

Change-Id: Ibf67f0df529afd716478d31537befbf019a90b4d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/141346/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/roles/container_clone/tasks/main.yml', 'rpc_deployment/roles/container_destroy/tasks/main.yml', 'rpc_deployment/roles/host_common/tasks/authorized_keys.yml', 'rpc_deployment/roles/galera_config/tasks/main.yml', 'rpc_deployment/roles/memcached/tasks/main.yml', 'rpc_deployment/roles/neutron_common/tasks/main.yml', 'rpc_deployment/roles/container_archive/tasks/swift_upload.yml', 'rpc_deployment/roles/rabbit_user/tasks/main.yml', 'rpc_deployment/roles/galera_client_cnf/tasks/main.yml', 'rpc_deployment/roles/openstack_common/tasks/install_git_source.yml', 'rpc_deployment/playbooks/setup/archive-container.yml', 'rpc_deployment/roles/container_extra_setup/tasks/sysctl.yml', 'rpc_deployment/roles/rsyslog_stop/tasks/main.yml', 'rpc_deployment/roles/keystone_add_user/tasks/main.yml', 'rpc_deployment/roles/horizon_apache/tasks/main.yml', 'rpc_deployment/roles/rabbit_join_cluster/tasks/main.yml', 'rpc_deployment/roles/nova_libvirt/tasks/main.yml', 'rpc_deployment/roles/rpc_support_holland/tasks/holland.yml', 'rpc_deployment/roles/rabbit_common/tasks/restart_rabbit.yml', 'rpc_deployment/roles/neutron_setup/tasks/main.yml', 'rpc_deployment/playbooks/setup/deploy-archived-container.yml', 'rpc_deployment/roles/rpc_support_common/tasks/motd.yml', 'rpc_deployment/roles/kibana/tasks/main.yml', 'rpc_deployment/roles/container_common/tasks/container_user_create.yml', 'rpc_deployment/roles/openstack_common/tasks/main.yml']",25,f4f929788f5337d35caacf45ce561cc9554d9465,bug/1398601," shell: | for i in *; do if [ ! -f ""/etc/{{ service_name }}/$i"" ]; then cp -R $i /etc/{{ service_name }}/ fi done args: chdir: ""/opt/{{ service_name }}_{{ git_install_branch | replace('/', '_') }}/{{ git_etc_example }}"""," shell: > chdir=""/opt/{{ service_name }}_{{ git_install_branch | replace('/', '_') }}/{{ git_etc_example }}"" for i in *; do if [ ! -f ""/etc/{{ service_name }}/$i"" ]; then cp -R $i /etc/{{ service_name }}/; fi; done;",250,218
openstack%2Fsolum~master~I3f2c67deecd2750eea275a874ea6a020dea3a967,openstack/solum,master,I3f2c67deecd2750eea275a874ea6a020dea3a967,Filter Solum resources by project ID,MERGED,2014-11-19 23:29:13.000000000,2014-12-15 16:46:06.000000000,2014-12-15 16:46:04.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 9095}]","[{'number': 1, 'created': '2014-11-19 23:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/aa4d78993ae36448b0a724cd14f1b1df23f202a5', 'message': ""Filter Solum resources by project ID\n\nPrevent queries from returning resources that aren't\nin the user's project/tenant, unless that user is an\nadministrator.\n\nTo this end, the Userlog model now bears a\nproject_id like most of our other resources, and\nthree regular users with their own tenants have been\ncreated to demonstrate the mutual exclusion of their\nresources.\n\nChange-Id: I3f2c67deecd2750eea275a874ea6a020dea3a967\n""}, {'number': 2, 'created': '2014-11-24 21:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/01dc7a4a79ad4e39e3bbd88bcf9ed0072ffff6fc', 'message': ""Filter Solum resources by project ID\n\nPrevent queries from returning resources that aren't\nin the user's project/tenant, unless that user is an\nadministrator.\n\nTo this end, the Userlog model now bears a\nproject_id like most of our other resources, and\nthree regular users with their own tenants have been\ncreated to demonstrate the mutual exclusion of their\nresources.\n\nChange-Id: I3f2c67deecd2750eea275a874ea6a020dea3a967\n""}, {'number': 3, 'created': '2014-11-25 19:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/7e6344fe52e0a40ce0697108722b3941eb82b1bb', 'message': ""Filter Solum resources by project ID\n\nPrevent queries from returning resources that aren't\nin the user's project/tenant, unless that user is an\nadministrator.\n\nTo this end, the Userlog model now bears a\nproject_id like most of our other resources, and\nthree regular users with their own tenants have been\ncreated to demonstrate the mutual exclusion of their\nresources.\n\nChange-Id: I3f2c67deecd2750eea275a874ea6a020dea3a967\n""}, {'number': 4, 'created': '2014-12-01 17:34:53.000000000', 'files': ['solum/tests/objects/test_service.py', 'solum/objects/sqlalchemy/userlog.py', 'solum/tests/objects/test_extension.py', 'functionaltests/api/v1/test_assembly.py', 'contrib/devstack/extras.d/70-solum.sh', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/438cd6d1c655_add_project_column_to_userlogs.py', 'solum/tests/objects/test_sensor.py', 'solum/tests/objects/test_userlog.py', 'solum/tests/fakes.py', 'solum/objects/sqlalchemy/models.py', 'solum/tests/objects/test_component.py', 'functionaltests/api/v1/test_service.py', 'solum/objects/sqlalchemy/plan.py', 'solum/tests/objects/test_assembly.py', 'solum/tests/objects/test_image.py', 'contrib/devstack/lib/solum', 'solum/tests/common/test_solum_keystoneclient.py', 'solum/tests/objects/test_infrastructure_stack.py', 'solum/objects/sqlalchemy/assembly.py', 'solum/tests/objects/test_operation.py', 'solum/uploaders/common.py', 'solum/tests/objects/test_plan.py', 'solum/tests/utils.py', 'solum/objects/sqlalchemy/service.py', 'solum/tests/objects/test_pipeline.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/8dcea8d535d8d0d425a46e4de05a7f07f93e3367', 'message': ""Filter Solum resources by project ID\n\nPrevent queries from returning resources that aren't\nin the user's project/tenant, unless that user is an\nadministrator.\n\nTo this end, the Userlog model now bears a\nproject_id like most of our other resources, and\nthree regular users with their own tenants have been\ncreated to demonstrate the mutual exclusion of their\nresources.\n\nChange-Id: I3f2c67deecd2750eea275a874ea6a020dea3a967\n""}]",6,135778,8dcea8d535d8d0d425a46e4de05a7f07f93e3367,19,5,4,1375,,,0,"Filter Solum resources by project ID

Prevent queries from returning resources that aren't
in the user's project/tenant, unless that user is an
administrator.

To this end, the Userlog model now bears a
project_id like most of our other resources, and
three regular users with their own tenants have been
created to demonstrate the mutual exclusion of their
resources.

Change-Id: I3f2c67deecd2750eea275a874ea6a020dea3a967
",git fetch https://review.opendev.org/openstack/solum refs/changes/78/135778/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/devstack/lib/solum', 'solum/tests/objects/test_service.py', 'solum/objects/sqlalchemy/userlog.py', 'solum/tests/objects/test_extension.py', 'solum/tests/common/test_solum_keystoneclient.py', 'solum/tests/objects/test_infrastructure_stack.py', 'contrib/devstack/extras.d/70-solum.sh', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/438cd6d1c655_add_project_column_to_userlogs.py', 'solum/tests/objects/test_sensor.py', 'solum/tests/objects/test_userlog.py', 'solum/tests/fakes.py', 'solum/tests/objects/test_operation.py', 'solum/uploaders/common.py', 'solum/objects/sqlalchemy/models.py', 'solum/tests/objects/test_component.py', 'solum/tests/objects/test_plan.py', 'solum/tests/objects/test_assembly.py', 'solum/tests/utils.py', 'solum/tests/objects/test_image.py', 'solum/tests/objects/test_pipeline.py']",20,aa4d78993ae36448b0a724cd14f1b1df23f202a5,select-by-project," self.data = [{'project_id': self.ctx.tenant,"," self.data = [{'project_id': 'project_id_blah',",108,27
openstack%2Ffuel-web~master~I50ab1605ea4c88aad80eea6b0f74fcdeb8799e31,openstack/fuel-web,master,I50ab1605ea4c88aad80eea6b0f74fcdeb8799e31,Fix style for disabled role,MERGED,2014-12-12 14:09:34.000000000,2014-12-15 16:39:26.000000000,2014-12-15 16:39:25.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13516}]","[{'number': 1, 'created': '2014-12-12 14:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/db658668a564adcebe889f18456aa060538e1811', 'message': 'Fix style for disabled role\n\nChange-Id: I50ab1605ea4c88aad80eea6b0f74fcdeb8799e31\n'}, {'number': 2, 'created': '2014-12-12 14:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/554890bc9e22d65df7d506b1589cc2f3b9ee2a43', 'message': 'Fix style for disabled role\n\nChange-Id: I50ab1605ea4c88aad80eea6b0f74fcdeb8799e31\n'}, {'number': 3, 'created': '2014-12-15 16:11:45.000000000', 'files': ['nailgun/static/css/styles.less', 'nailgun/static/js/views/controls.jsx'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/003f4f4c6dff919ba91e60c194e318c67559d1ba', 'message': 'Fix style for disabled role\n\nChange-Id: I50ab1605ea4c88aad80eea6b0f74fcdeb8799e31\n'}]",8,141375,003f4f4c6dff919ba91e60c194e318c67559d1ba,28,7,3,9091,,,0,"Fix style for disabled role

Change-Id: I50ab1605ea4c88aad80eea6b0f74fcdeb8799e31
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/75/141375/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/css/styles.less', 'nailgun/static/js/views/controls.jsx']",2,db658668a564adcebe889f18456aa060538e1811,roles_style_fix," 'input-append': this.props.toggleable, disabled: this.props.disabled", 'input-append': this.props.toggleable,5,1
openstack%2Fbarbican-specs~master~I7db3dbef98be55cf9e65f54bf168e8eccec4b093,openstack/barbican-specs,master,I7db3dbef98be55cf9e65f54bf168e8eccec4b093,Spec for identifying CAs,MERGED,2014-10-16 21:00:55.000000000,2014-12-15 16:38:56.000000000,2014-12-15 16:38:55.000000000,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 6783}, {'_account_id': 6802}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10273}, {'_account_id': 10873}, {'_account_id': 11716}, {'_account_id': 11970}]","[{'number': 1, 'created': '2014-10-16 21:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/c2499cc65ff919b6a85e0512a561dce7a55b3f65', 'message': 'Spec for identifying CAs\n\nChange-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093\n'}, {'number': 2, 'created': '2014-12-03 19:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/16eb3e2069e807bf48174b33b3e2dba9c0a1903e', 'message': 'Spec for identifying CAs\n\nChange-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093\n'}, {'number': 3, 'created': '2014-12-05 17:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/66a08930c4e6ce32584fe20caeae0ecf4f21cce2', 'message': 'Spec for identifying CAs\n\nChange-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093\n'}, {'number': 4, 'created': '2014-12-10 22:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/6cabb69284c019882666bbebf1b4f6ccbecfbb90', 'message': 'Spec for identifying CAs\n\nChange-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093\n'}, {'number': 5, 'created': '2014-12-10 23:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/4c622e09a73ecaeb0f06d5e5a39a5448972bbe0f', 'message': 'Spec for identifying CAs\n\nChange-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093\n'}, {'number': 6, 'created': '2014-12-11 20:54:29.000000000', 'files': ['specs/kilo/identify-cas.rst'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/a4eeb9db61b799a60083b7260385ac4485867fb5', 'message': 'Spec for identifying CAs\n\nChange-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093\n'}]",119,129048,a4eeb9db61b799a60083b7260385ac4485867fb5,53,13,6,9914,,,0,"Spec for identifying CAs

Change-Id: I7db3dbef98be55cf9e65f54bf168e8eccec4b093
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/48/129048/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/identify_cas.rst'],1,c2499cc65ff919b6a85e0512a561dce7a55b3f65,bp/identify-cas,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================================== Identify available CAs ==================================================================== https://blueprints.launchpad.net/barbican/+spec/barbican-idenitfy-cas Problem Description =================== It is possible to have multiple CA plugins, each potentially talking to multiple backend CA servers. A mechanism is therefore needed to allow the client to select a backend CA server. In addition, Dogtag plans to implement the ability to configure lightweight sub CA's - subordinate CA's that can exist within the same CA instance. This opens up the possibility of configuring a separate CA instance for each project, so that the project could have certificates that are scoped to the project only. Thus, a mechanism is also required to associate a project with a preferred CA, so that if a client does not request a specific CA, the preferred CA is selected. Also, a mechanism should be added to allow clients to discover the CA servers available for a particular Barbican instance. Proposed Change =============== We need to add a new resource CertificateAuthorities that will specify the CAs that are available to Barbican. This resource will permit listing CAs and associating projects with a CA. See the REST API section for details. Two new tables will be required: CertificateAuthorities which will list the CA's available and ProjectCertificateAuthorities, which will list the preferred CA for each project. See the Data model section for details. The ProjectCertificateAuthorities table will be updated through a REST API call by a project administrator. The CertificateAuthorities table will be updated in two ways: * An API call will be added to refresh the CAs for a specific plugin. This call would be made by an admin user. This would trigger a call to a new provides() method on the relevant CA plugin. The provides() call will query the backend-CA to determine which CAs are provided. It will return the relevant data ie. a list/dict of (ca_id, description, ca_ski etc.) as needed to populate/update the CertificateAuthorities table. The update would then be made by a method in Barbican core. (eg. certificate_resources.update_ca_list(plugin_name)). * On startup, Barbican should iterate through all the CA plugins and execute certificate_resources.update_ca_list(plugin_name). When a certificate is requested and no ca_id is specified, Barbican will check the ProjectCertificateAuthorities table to see if a preferred CA is specified. If so, then the corresponding plugin will be invoked. If the plugin is not available, then a 500 exception will be thrown with the relevant error message. If a ca_id is requested, then the relevant plugin will be invoked. If the ca_id does not exist in the CertificateAuthority table, then a 400 error will be thrown. The ca_id will be passed to the plugin as part of the order_metadata. Plugins should check to determine if their plugin supports the specified ca_id. If not, then a 500 error should be thrown because the plugin should not have been invoked unless either the ProjectCertificateAuthority or CertificateAuthority tables contained a pairing of ca_id to plugin_name. If the CA no longer supports the ca_id, for instance, either table may need to be updated by the administrator or project administrator. Alternatives ------------ None. Data model impact ----------------- Two new tables will be added: CertificateAuthorities (CA table) and ProjectCertificateAuthority (PCA table). The CA table will have the following fields: * ca_id - unique identifier for the CA * ca_ski - subject key identifier for the CA signing cert, should be unique for each CA * name - human readable name * description * plugin_name The PCA table will have the following fields: * project_id * ca_id REST API impact --------------- We need a new resource to expose the CA's available. This resource will allow the following operations: * GET /cas - List all the CAs provided by ca_id * GET /ca/{id} - List details about CA referenced by ca_id * GET /ca/{id}/projects - List projects with preferred id ca_id * POST /cas/&plugin_name=foo - refresh CA table for plugin_name if provided or all CA plugins if not provided. Restricted to admins. * POST /ca/{ca_id}/projects/{project_id} . Add entry in PCA table for project_id/ca_id. Restricted to project admins or admins. * DEL /ca/{ca_id}/projects/{project_id). Remove entry in PCA table for project_id/ca_id. Restricted to project admins or admins. Also, an optional metadata parameter (ca_id) will be provided in the Order for a Certificate, and will be processed as described above. Security impact --------------- None. Notifications & Audit Impact ---------------------------- None. Other end user impact --------------------- python-barbicanclient will need new methods to check the list of CAs and to invoke a specific ca_id if requested. Performance Impact ------------------ None. Other deployer impact --------------------- Migration scripts will need to be run on already existing deployments to add the new tables. Developer impact ---------------- Plugin developers should write a provides() method that returns the correct information. We can provide a default implementation that creates a CA table entry based on the plugin_name. Implementation ============== Assignee(s) Primary assignee: alee-3 akoneru Work Items ---------- * TBD Dependencies ============ None Testing ======= The current unit tests will also be modified to have this change reflected upon them. Documentation Impact ==================== This is a new feature that will need to be documented. References ========== None ",,190,0
openstack%2Fneutron-specs~master~I61e703381a04ac017cbdd193402431ac0ad8b34a,openstack/neutron-specs,master,I61e703381a04ac017cbdd193402431ac0ad8b34a,ML2 Hierarchical Port Binding,MERGED,2014-12-07 23:39:50.000000000,2014-12-15 16:38:05.000000000,2014-12-15 16:38:05.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 107}, {'_account_id': 261}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 6558}, {'_account_id': 6697}, {'_account_id': 8645}, {'_account_id': 8792}]","[{'number': 1, 'created': '2014-12-07 23:39:50.000000000', 'files': ['specs/kilo/ml2-hierarchical-port-binding.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/70c6c07636c948b750cdb1fe9b61e28bf958fb7f', 'message': 'ML2 Hierarchical Port Binding\n\nImplements: blueprint ml2-hierarchical-port-binding\n\nChange-Id: I61e703381a04ac017cbdd193402431ac0ad8b34a\n'}]",2,139886,70c6c07636c948b750cdb1fe9b61e28bf958fb7f,13,12,1,1689,,,0,"ML2 Hierarchical Port Binding

Implements: blueprint ml2-hierarchical-port-binding

Change-Id: I61e703381a04ac017cbdd193402431ac0ad8b34a
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/86/139886/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/ml2-hierarchical-port-binding.rst'],1,70c6c07636c948b750cdb1fe9b61e28bf958fb7f,bp/ml2-hierarchical-port-binding,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== ML2: Hierarchical Port Binding ========================================== Launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/ml2-hierarchical-port-binding This blueprint extends ML2 port binding to support hierarchical network topologies. Note to reviewers: A similar blueprint was accepted for the Juno release and successfully implemented, but the review was not completed early enough in the cycle for the code to be merged. This specification has been significantly updated to reflect decisions made during implementation and in response to review comments, as well as to improve understandability. It describes the final state of the code reviewed during Juno. Other than rebasing, no significant changes should be required to the previously reviewed code. Problem Description =================== The ML2 plugin does not adequately support hierarchical network topologies. A hierarchical virtual network uses different network segments, potentially of different types (VLAN, VXLAN, GRE, proprietary fabric, ...), at different levels. It might be made up of one or more top-level static network segments along with dynamically allocated network segments at lower levels. For example, virtual network traffic between ToR and core switches could be encapsulated using VXLAN segments, while traffic for those same virtual networks between the ToR switches and the compute nodes could use dynamically allocated VLANs segments. :: +-------------+ | | | Core Switch | | | +---+-----+---+ VXLAN | | VXLAN +-----------+ +------------+ | | +------+-----+ +------+-----+ | | | | | ToR Switch | | ToR Switch | | | | | +---+---+----+ +---+----+---+ VLAN | | VLAN VLAN | | VLAN +-------+ +----+ +----+ +------+ | | | | +----+----+ +----+----+ +----+----+ +----+----+ | | | | | | | | | Compute | | Compute | | Compute | | Compute | | Node | | Node | | Node | | Node | | | | | | | | | +---------+ +---------+ +---------+ +---------+ Dynamically allocating segments at lower levels of the hierarchy is particularly important in allowing Neutron deployments to scale beyond the 4K limit per physical network for VLANs. VLAN allocations can be managed at lower levels of the hierarchy, allowing many more than 4K virtual networks to exist and be accessible to compute nodes as VLANs, as long as each link from ToR switch to compute node needs no more than 4K VLANs simultaneously. Support for allocating dynamic segments was merged to ML2 during Juno. But there is currently no way for these dynamic segments to be allocated by one mechanism driver supporting the ToR switch, and used by a different mechanism driver supporting the L2 agent on the compute node. What is needed is the ability for an initial mechanism driver to partially bind to a static segment of a port's virtual network, and provide a dynamic segment that can be bound by a different mechanism driver at the next level, continuing until the binding is complete. Note that the diagram above shows static VXLAN segments connecting ToR and core switches, but this most likely isn't the current 'vxlan' network_type where tunnel endpoints are managed via RPCs between the Neutron server and L2 agents. It would instead be a network_type specific to both the encapsulation format and the way tunnel endpoints are managed among the switches. Each network_type value should identify a well-defined standard or proprietary protocol, enabling interoperability where desired, and coexistance within heterogeneous deployments. Proposed Change =============== ML2 will support hierarchical network topologies by binding ports to mechanism drivers and network segments at each level of the hierarchy. For example, one mechanism driver might bind to a static VXLAN segment of the network, causing a ToR switch to bridge that network to a dynamically allocated VLAN on the link(s) to the compute node(s) connected to that switch, while a second mechanism driver, such as the existing OVS or HyperV driver, would bind the compute node to that dynamic VLAN. Supporting hierarchical network topologies impacts the ML2 driver APIs and ML2's port binding data model, but does not change Neutron's REST APIs in any way. A new function and property will be added to the PortContext class in the driver API to enable hierarchical port binding. :: class PortContext(object): # ... @abc.abstractmethod def continue_binding(self, segment_id, next_segments_to_bind): pass @abc.abstractproperty def segments_to_bind(self): pass The new continue_binding() method can be called from within a mechanism driver's bind_port() method as an alternative to the existing set_binding() method. As is currently the case, if a mechanism driver can complete a binding, it calls PortContext.set_binding(segment_id, vif_type, vif_details, status). If the mechanism driver can only partially establish a binding, it will instead call continue_binding(segment_id, next_segments_to_bind). If the mechanism driver cannot bind at all, it simply returns without calling either of these. As with set_binding(), the segment_id passed to continue_binding() indicates the segment that this driver is binding to. The new_segments parameter specifies the set of network segments that can be used by the next stage of binding for the port. It will typically contain a dynamically allocated segment that the next driver will use to continue or complete the binding. Currently, mechanism drivers try to bind using the segments from the PortContext.network.network_segments property. These are the network's static segments. The new PortContext.segments_to_bind property should now be used instead by all drivers. For the initial stage of binding, it will contain the same segments as PortContext.network.network_segments. But for subsequent stages, it will contain the segment(s) passed as next_segments_to_bind to PortContext.continue_binding() by the previous stage driver. The ML2 plugin currently tries to bind using all registered mechanism drivers in the order they are specified in the mechanism_drivers config variable. To support hierarchical binding, only a minor change is needed to avoid any possibility of binding loops in misconfigured or misbehaving deployments. At each stage of binding, any drivers that have already bound at a higher level using any of the current level's set of segments to bind are excluded. This approach allows the same driver to partially bind at multiple levels of a hierarchical network using different segments, but not using the same segment. Also, if a limit on the total number of binding levels is exceeded, binding will fail and an error will be logged. Finally, to enable mechanism drivers to see the details of hierarchical (as well as normal) bindings, the PortContext's bound_segment, original_bound_segment, bound_driver, and original_bound_driver properties will be replaced with a new set of properties: :: class PortContext(object): # ... @abc.abstractproperty def binding_levels(self): @abc.abstractproperty def original_binding_levels(self): @abc.abstractproperty def top_bound_segment(self): @abc.abstractproperty def original_top_bound_segment(self): @abc.abstractproperty def bottom_bound_segment(self): @abc.abstractproperty def original_bottom_bound_segment(self): The binding_levels and original_binding_levels properties return a list of dictionaries describing each binding level if the port is/was fully or partially bound. Keys for BOUND_DRIVER and BOUND_SEGMENT are defined, and additional keys can be added in future versions if needed. The first entry describes the top-level binding, which always involves one of the port's network's static segments. When fully bound, the last entry describes the bottom-level binding that supplied the port's binding:vif_type and binding:vif_details attribute values. In the presence of hierarchical bindings, some mechanism drivers that used the old bound_segment, original_bound_segment, bound_driver, and/or original_bound_driver properties need to access the top-level binding, while other drivers need to access the bottom-level binding. Therefore, the old properties will be replaced by new sets of properties providing access to each of these. Data Model Impact ----------------- In order to store multiple levels of binding information for access by mechanism drivers, changes to the ML2 database schema are required. The driver and segment columns will be moved from the existing ml2_port_bindings and ml2_dvr_port_bindings tables to a new ml2_port_binding_levels table. This table will have port_id, host, and level columns as primary keys. No separate DVR-specific table will be needed. A DB migration will be provided that moves existing binding data to the new table on upgrade. Downgrades will preserve existing single-level binding data, but there is no sensible way to preserve existing multi-level bindings on downgrade. REST API Impact --------------- No REST API changes are proposed in this specification. Using the existing providernet and multiprovidernet API extensions, only the top-level static segments of a network are accessible. There is no current need to expose dynamic segments through REST APIs. The portbindings extension could potentially be modified in the future to expose more information about multi-level bindings if needed. As mechanism drivers for specific network fabric technologies are developed, new network_type values may be defined that will be visible through the providernet and multiprovidernet extensions. But no new network_type values are being introduced in this specific BP. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- Hierarchical network topologies should enable OpenStack deployments to scale to larger numbers of networks. Performance Impact ------------------ Hierarchical network topologies may improve tenant network throughput by utilizing low-overhead encapsulation techiniques such as VLAN at the compute node level, while specialized network switches handle the more advanced encapsulation needed to scale to very large numbers of networks. IPv6 Impact ----------- No impact, since this blueprint is at layer 2. Other Deployer Impact --------------------- No change is required when deploying non-hierarchical network topologies. When deploying hierarchical network topologies, additional mechanism drivers will need to be configured. Additionally, when VLANs are used for the bottom-level bindings, L2 agent configurations will be impacted as described in the next few paragraphs. Mechanism drivers determine whether they can bind to a network segment by looking at the network_type and any other relevant information. For example, if network_type is 'flat' or 'vlan', the L2 agent mechanism drivers look at the physical_network and, using agents_db info, make sure the L2 agent on that host has a mapping for the segment's physical_network. This is how the existing mechanism drivers work, and this will not be changed by this BP. With hierarchical port binding, where a ToR switch is using dynamic VLAN segments and the hosts connected to it are using a standard L2 agent, the L2 agents on the hosts will be configured with a mapping for a physical_network name that corresponds to the scope at which the switch assigns dynamic VLANs. If dynamic VLAN segments are assigned at the switch scope, then each ToR switch should have a unique corresponding physical_network name. The switch's mechanism driver will use this physical_network name in the dynamic segments it creates as partial bindings. The L2 agents on the hosts connected to that switch must have a (bridge or interface) mapping for that same physical_network name, allowing any of the normal L2 agent mechanism drivers to complete the binding. If dynamic VLAN segments are instead assigned at the switch port scope, then each switch port would have a corresponding unique physical_network name, and only the host connected to that port should have a mapping for that physical_network. Since multi-level network deployments will typically involve a particular vendor's propriery switches, that vendor should supply documentation and deployment tools to assist the administrator. Developer Impact ---------------- Mechanism drivers that support hierarchical bindings will use the additional driver API call(s). Other drivers will only need a very minor update to use PortContext.segments_to_bind in place of PortContext.network.network_segments, and the new properies for accessing the top or bottom bound segment or driver. Community Impact ---------------- This change provides new capabilities for ML2 mechanism drivers to support hierarachical network topologies. This supports the community's interest in allowing Neutron to scale to larger deployments. It has been discussed at ML2 sub-team meetings, and at the Juno and Kilo summits. Alternatives ------------ The alternative is for vendors that need to support hierarchical network topologies to do so through monolithic plugins rather than ML2, or through ML2 mechanism drivers that require customized L2 agents. Implementation ============== Assignee(s) ----------- Primary assignee: rkukura Other contributors: asomya Work Items ---------- As was done during Juno, the implementation will consist of a series of three patches: * The driver API changes * The DB schema changes * The binding logic changes Dependencies ============ Use of this feature requires the dynamic segment feature that was merged during Juno. Testing ======= Unit tests will verify all the new driver API methods and properties, and that hierarchical port bindings can be established with a test mechanism driver. Real mechanism drivers using hierarchical bindings will be tested in the correspinding 3rd party CI, where the required switch hardware is available. Tempest Tests ------------- No new tempest tests are required because there is no change in application level behavior. 3rd party CI testing using the existing tempest tests will adequately exercise the hierarchical port binding functionality. Functional Tests ---------------- No new functional tests are required because there are no system level interactions that cannot be tested in unit tests. API Tests --------- There are no REST API changes to test. Documentation Impact ==================== Deployer documentation is the responsibility of 3rd parties that provide mechanism drivers that establish hierarchical bindings. User Documentation ------------------ No user documentation changes are required. Developer Documentation ----------------------- The primary developer documentation is derived from the doc strings in the driver API source file, which describe the APIs and their behavior in detail. If an ML2 driver writers guide is ever written, it will need to cover hierarchical port binding. References ========== None. ",,415,0
openstack%2Fneutron-specs~master~If93583cae13591b10c74b2296af412a5f900e375,openstack/neutron-specs,master,If93583cae13591b10c74b2296af412a5f900e375,Specification for Firewall Services on Cisco CSR1kv,MERGED,2014-10-21 08:04:40.000000000,2014-12-15 16:36:45.000000000,2014-12-15 16:36:44.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 333}, {'_account_id': 490}, {'_account_id': 6659}, {'_account_id': 6995}, {'_account_id': 7021}, {'_account_id': 8645}, {'_account_id': 10182}, {'_account_id': 10359}, {'_account_id': 12525}, {'_account_id': 13380}]","[{'number': 1, 'created': '2014-10-21 08:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d5cb8acefe19e6a042ef2816676eaa2c18f37a0e', 'message': 'Specification for Firewall Services on Cisco CSR1kv\n\nSpecification addresses the Cisco CSR1kv Service Plugin and\nassociated Agent design.\nImplements: blueprint fwaas-cisco\n\nChange-Id: If93583cae13591b10c74b2296af412a5f900e375\n'}, {'number': 2, 'created': '2014-12-02 01:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3e659a6f20ff063e0b11167c52b342117e4c5092', 'message': 'Specification for Firewall Services on Cisco CSR1kv\n\nSpecification addresses the Cisco CSR1kv Service Plugin and\nassociated Agent design.\nImplements: blueprint fwaas-cisco\n\nChange-Id: If93583cae13591b10c74b2296af412a5f900e375\n'}, {'number': 3, 'created': '2014-12-03 10:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0af3273052cf992dbdc1f652dfe0a9d265a93f8a', 'message': 'Specification for Firewall Services on Cisco CSR1kv\n\nSpecification addresses the Cisco CSR1kv Service Plugin and\nassociated Agent design.\nImplements: blueprint fwaas-cisco\n\nChange-Id: If93583cae13591b10c74b2296af412a5f900e375\n'}, {'number': 4, 'created': '2014-12-05 00:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/28f98a6ba43502c6540188d41b3bb54378e53292', 'message': 'Specification for Firewall Services on Cisco CSR1kv\n\nSpecification addresses the Cisco CSR1kv Service Plugin and\nassociated Agent design.\nImplements: blueprint fwaas-cisco\n\nChange-Id: If93583cae13591b10c74b2296af412a5f900e375\n'}, {'number': 5, 'created': '2014-12-09 22:05:50.000000000', 'files': ['specs/kilo/fwaas-cisco.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/55434c95f8d2457bf7f6c4a645caec2ae4501ef8', 'message': 'Specification for Firewall Services on Cisco CSR1kv\n\nSpecification addresses the Cisco CSR1kv Service Plugin and\nassociated Agent design.\nImplements: blueprint fwaas-cisco\n\nChange-Id: If93583cae13591b10c74b2296af412a5f900e375\n'}]",38,129836,55434c95f8d2457bf7f6c4a645caec2ae4501ef8,44,13,5,6995,,,0,"Specification for Firewall Services on Cisco CSR1kv

Specification addresses the Cisco CSR1kv Service Plugin and
associated Agent design.
Implements: blueprint fwaas-cisco

Change-Id: If93583cae13591b10c74b2296af412a5f900e375
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/36/129836/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/fwaas-cisco.rst'],1,d5cb8acefe19e6a042ef2816676eaa2c18f37a0e,bp/fwaas-cisco,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= FWaaS Implementation for Cisco Virtual Router ============================================= https://blueprints.launchpad.net/neutron/+spec/fwaas-cisco Adds support for vendor FWaaS implementation based on the Cisco Virtual Router. Problem description =================== The Cisco Virtual Router implementation (CSR1kv) also supports the Firewall Service in addition to Routing. The CSR1kv backend allows a Firewall to be applied on any of it's interfaces for a specific direction of traffic. This blueprint targets neutron support for this use case. Proposed change =============== Support of the Plugin and Agent/Driver for the CSR1kv Firewall is being proposed in this blueprint. There are no changes to any of the Resources from the Reference implementation. The OpenStack resources are translated to the backend implmentation and the mapping to the backend resources is maintained. Implementation targeted as a Service Plugin and will be refactored to align with the Flavor Framework once there is clarity on that effort. Also given that the Service Insertion BP[3] was not approved in its current form, the initial implementation will be done using Vendor extension attributes to capture the insertion points(Router interface & direction) of the service in as simple a form as possible. This will be refactored to align with the community as and when the approach is defined. Supporting the CSR1kv requires: * Additional vendor attributes to specify firewall insertion points (neutron port corresponding to router interface and associated direction). Supported as vendor extension attributes as a simple model that will be refactored to adopt the Service Insertion BP when available. The ""extraroute"" approach will be taken to add the needed attributes of port and direction without any changes to the client. * Introduce new table to track insertion points of a firewall resource in the vendor plugin. * Interaction with the CSR1kv Routing Service Plugin[1] which is limited to querying for the hosting VM and some validation for the attached interface. * Add validators for the attribute extensions to conform to vendor implementation constraints. * Agent support for Firewall built on Cisco Config Agent[2] as a service agent to handle messaging with the plugin along with the messaging interfaces (firewall dict, plugin API and agent API) mostly along the lines of the reference implementation. * Agent to backend communication using existing vendor REST communication library. Data model impact ----------------- There are no changes planned to existing Firewall resources (FirewallRule, FirewallPolicy and Firewalls). The insertion point attributes are tracked by introducing a new table CiscoFirewallAssociation: * firewall_id - uuid of logical firewall resource * port_id - uuid of neutron port corresponding to router interface * direction - direction of traffic on the portid to apply firewall on can be: - ingress - egress - bidirectional REST API impact --------------- No new REST API is introduced. Security impact --------------- None. Notifications impact -------------------- None to existing. New topic for messaging between the plugin and agent. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- Deployer will have to enable the CSR1kv Routing Service Plugin, the Cisco Config Agent in addition the CSR1kv Firewall Service Plugin being proposed here. There is no impact to the community implementation when this is not enabled. The Agent/backend driver is derived from the Service Plugin and eventually from the flavor and this is messaged with the Config Agent avoiding the need for a separate .ini file. Developer impact ---------------- None. Community Impact ---------------- The spec was reviewed and approved in the Juno Cycle. This is proposed as a Vendor Service Plugin and will be refactored to align with any Community efforts in this area. Alternatives ------------ The ideal approach is to base it on the flavor framework and service insertion BP's. But given that these are TBD, this is being proposed as a Service Plugin which will be refactored to align with the community model when available. Implementation ============== The above figure is a representation of the CSR1kv components and interactions. The CSR1kv Routing Service Plugin [1] and the Cisco Config Agent[2] have been upstreamed in Juno. The work being targetedi here are the two items suffixed with a '*' and their interfaces to the existing components. :: Neutron Server +---+---------------------+--------+ +-----------+ | +---------------------+ | |Cisco Cfg | | | CSR1kv Routing | | | Agent | | | Service Plugin | | | | | | | | | | | | | | | | | +---------------------+ | +----+------+ | ^ | |CSR1|kv Firewall | | | |Agen|t* | | +------------------------>| |<---+ | v | | +----+ | Cisco | +------------------v--+ | | Device specific | | CSR1kv Firewall | | v REST i/f | | Service Plugin* | | +------+ | | | | |CSR1kv| | | | | | VM | | +---------------------+ | | | | | | | | | +------+ | | | | +----------------------------------+ Assignee(s) ----------- Primary assignee: skandasw Other contributors: yanping Work Items ---------- Service Plugin with vendor extension attributes for the Firewall Resource. API & DB changes for the vendor specific extensions. Cisco CSR1kv FWaaS service agent addition to the Cisco config Agent[2]. Dependencies ============ None. All CSR specific components needed are already upstreamed. Testing ======= Unit tests are being added to address the changes. Tempest Tests ------------- Tests will be added for Vendor implementations along with CI support. Functional Tests ---------------- Tests will be added to validate the CSR FWaaS implementation in association with the CSR Routing implementation. API Tests --------- Tests will be added for the Vendor extensions being proposed. Documentation Impact ==================== User Documentation ------------------ Will require new documentation in Cisco sections. Developer Documentation ----------------------- Although API extensions are being proposed, these are vendor extensions and will be documented accordingly. There are no other consumers of the API changes. References ========== [1]https://blueprints.launchpad.net/neutron/+spec/cisco-routing-service-vm [2]https://blueprints.launchpad.net/neutron/+spec/cisco-config-agent [3]https://blueprints.launchpad.net/neutron/+spec/service-base-class-and-insertion ",,210,0
openstack%2Fpython-novaclient~master~Ic6a4a38157f52343fbb3e75a02d1f7c6bef28d99,openstack/python-novaclient,master,Ic6a4a38157f52343fbb3e75a02d1f7c6bef28d99,pass id to ServerGroupsManager in ServerGroup.delete(),MERGED,2014-12-10 20:46:43.000000000,2014-12-15 16:35:06.000000000,2014-12-15 16:35:05.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 7634}]","[{'number': 1, 'created': '2014-12-10 20:46:43.000000000', 'files': ['novaclient/tests/v1_1/test_server_groups.py', 'novaclient/v1_1/server_groups.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/85e15fe8856c1c689f77c488f0b9ff80263c6f5e', 'message': 'pass id to ServerGroupsManager in ServerGroup.delete()\n\nServerGroup object delete currently fails because the manager object\nrequires the server group id and is instead passed the server group\nobject itself (copy-paste error). This patch changes it to pass the\nid.\n\nChange-Id: Ic6a4a38157f52343fbb3e75a02d1f7c6bef28d99\nCloses-Bug: #1400494\n'}]",0,140834,85e15fe8856c1c689f77c488f0b9ff80263c6f5e,8,4,1,4690,,,0,"pass id to ServerGroupsManager in ServerGroup.delete()

ServerGroup object delete currently fails because the manager object
requires the server group id and is instead passed the server group
object itself (copy-paste error). This patch changes it to pass the
id.

Change-Id: Ic6a4a38157f52343fbb3e75a02d1f7c6bef28d99
Closes-Bug: #1400494
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/34/140834/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/test_server_groups.py', 'novaclient/v1_1/server_groups.py']",2,85e15fe8856c1c689f77c488f0b9ff80263c6f5e,bug/1400494, self.manager.delete(self.id), self.manager.delete(self),7,1
openstack%2Fneutron-specs~master~I7334dbeb479be122c7ebcfd7f8555394e8412805,openstack/neutron-specs,master,I7334dbeb479be122c7ebcfd7f8555394e8412805,Spec for Brocade Vyatta Firewall Driver,MERGED,2014-11-25 03:13:39.000000000,2014-12-15 16:34:58.000000000,2014-12-15 16:34:57.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 162}, {'_account_id': 333}, {'_account_id': 490}, {'_account_id': 6659}, {'_account_id': 6995}, {'_account_id': 8645}, {'_account_id': 10068}, {'_account_id': 11347}, {'_account_id': 12525}]","[{'number': 1, 'created': '2014-11-25 03:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7e13929218e3d941eb5c0ad8ccfb71a26b2aad2b', 'message': 'Spec for introducing Brocade Vyatta Firewall solution using a new vendor specific device driver for Neutron L3 agent\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 2, 'created': '2014-12-03 22:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b82ae0316781761551b6de7b1fddabe05e27031d', 'message': 'Brocade Vyatta FWaaS device driver\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 3, 'created': '2014-12-04 05:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e938a4ab572ed13d41b4fe7a19db5edc9d71bd67', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 4, 'created': '2014-12-04 16:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fccf47b82b782fd4238fd0fd247596d86e9c7b91', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nRemoved white spaces\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 5, 'created': '2014-12-04 16:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9437604bd436f60eb55dc66cb9fffac19eb152d8', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nRemoved white spaces above the line that contains word l3_agent_manager=\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 6, 'created': '2014-12-10 02:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/45c946782dbdebffc5b4ef0684e2502f5b08a86f', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 7, 'created': '2014-12-10 19:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/82c80ba840205a1c62dc8c53f45bdbdb6e31ea13', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 8, 'created': '2014-12-11 05:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e3b68e27d5f4b3bd2ffe7a8e888841e0a5faa454', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}, {'number': 9, 'created': '2014-12-12 21:34:35.000000000', 'files': ['specs/kilo/brocade-vyatta-fwaas-plugin.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/452c3b1170a066658211c4e79569ddd76b0add22', 'message': 'Spec for Brocade Vyatta Firewall Driver\n\nChange-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805\n'}]",37,136953,452c3b1170a066658211c4e79569ddd76b0add22,46,11,9,12525,,,0,"Spec for Brocade Vyatta Firewall Driver

Change-Id: I7334dbeb479be122c7ebcfd7f8555394e8412805
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/53/136953/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/brocade-vyatta-fwaas-plugin.rst'],1,7e13929218e3d941eb5c0ad8ccfb71a26b2aad2b,bp/brocade-vyatta-fwaas-plugin,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Brocade Neutron FWaaS driver for Vyatta vRouter =============================================== https://blueprints.launchpad.net/neutron/+spec/brocade-vyatta-fwaas-plugin Introduce the Brocade Vyatta Firewall device driver to provide FWaaS solution using Vyatta vRouter VM running as a Neutron router. The driver implements Perimeter Firewall functionality to filter traffic between tenant private networks and external network. Problem Description =================== Brocade Vyatta vRouter is a multi-service product that provides various L3 and L4 services like Routing, NAT, Firewall, VPN, etc. While basic neutron router L3 functions are available using Brocade Vyatta L3 plugin [1] vRouter's Firewall functionality is currently not configurable through existing Neutron FWaaS APIs. Proposed Change =============== This blueprint proposes a new vendor device-driver for Neutron FWaaS agent. There is no change proposed in the FWaaS service plugin side as existing reference FWaaS plugin is sufficient. :: >> +----------------------+ >> | Neutron L3 NAT | >> | Agent | >> | | >> | +------------------+ | >> | | FWaaS Agent | | >> RPC to FWaaS | +------------------+ | >> service plugin | | Vyatta FWaaS | | >> | | Device Driver | | >> <---------------+ | | | >> +-+--------+---------+-+ >> | >> | >> | REST API >> | >> +--------v---------+ >> | | >> | | >> | Vyatta vRouter | >> | | >> | | >> | | >> | | >> +------------------+ Vyatta FWaaS device driver will invoke the Vyatta vRouter REST APIs for the below CRUD APIs as and when determined by the FWaaS agent 1. create_firewall 2. update_firewall 3. delete_firewall All these functions are similar to the existing reference FWaaS device-driver implementation. Note, we are aware of the current L3 agent refactoring proposed for Kilo [3]. Given the device driver interface is planned to be kept as-is the changes proposed in this blueprint will integrate with minimal impact vis-a-vis the refactoring. This effort is part of a wider set of blueprints to offer Neutron L3 and L4 services using Vyatta vRouter VM: * [1] introduces neutron router functionality using Vyatta vRouter * [2] introduces VPN service using the Vyatta vRouter. Data Model Impact ----------------- None. REST API Impact --------------- None. Security Impact --------------- The device driver will use a common RESTapi client library that uses basic-auth authentication to connect to Vyatta vRouter. Notifications Impact -------------------- None. Other End User Impact --------------------- When tenants create Firewall using Neutron API it will be created on the carrier-grade Vyatta vRouter. Performance Impact ------------------ None. Other Deployer Impact --------------------- 1. Operators should first configure Brocade Vyatta L3 plugin as described in [1]. 2. Edit the controller node neutron configuration file /etc/neutron/neutron.conf to specify loading the FirewallPlugin in addition to Vyatta vRouter L3 plugin :: service_plugins= neutron.plugins.brocade.vyatta.vrouter_neutron_plugin.VyattaVRouterPlugin, neutron.services.firewall.fwaas_plugin.FirewallPlugin 3. Edit the network node configuration file /etc/neutron/l3_agent.ini with the below parameters :: l3_agent_manager= neutron.services.firewall.agents.vyatta.vyatta_router.VyattaL3NATAgentWithStateReport external_network_bridge = <name of bridge used for external network traffic> gateway_external_network_id = <UUID of external network> 4. Edit the network node configuration file /etc/init/neutron-l3-agent.conf to specify that the config file /etc/neutron/plugins.brocade/vyatta/vrouter.ini be loaded at l3-agent service startup 5. Edit the network node configuration file /etc/neutron/fwaas_driver.ini file with below parameters to specify Vyatta FWaaS driver :: [fwaas] driver=neutron.services.firewall.drivers.vyatta.vyatta_fwaas.VyattaFirewallDriver enabled=True Once configured, Vyatta FWaaS driver will be invoked for the firewall CRUD operation on tenant router Developer Impact ---------------- None. Community Impact ---------------- Validating Neutron FWaaS APIs with multiple vendor, including this one from Brocade, will help to move out of current experimental state for these APIs. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: vishwanathj Other contributors: None. Work Items ---------- None. Dependencies ============ * Brocade Vyatta L3 Plugin [1] Testing ======= Tempest Tests ------------- - 3rd party testing will be provided (Brocade Vyatta CI). - Brocade Vyatta CI will report on all changes affecting this plugin. - Testing is done using devstack and Vyatta vRouter. Functional Tests ---------------- None. API Tests --------- No new API tests are planned as no APIs are changed as part of this blueprint. Documentation Impact ==================== None. User Documentation ------------------ Brocade specific documentation will be updated on the availability of this functionality in Neutron and the fwaas_device_driver configuration required to enable it. Developer Documentation ----------------------- None. References ========== * [1] https://blueprints.launchpad.net/neutron/+spec/l3-plugin-brocade-vyatta-vrouter * [2] https://docs.google.com/document/d/1PJaKvsX2MzMRlLGfR0fBkrMraHYF0flvl0sqyZ704tA/ * [3] https://blueprints.launchpad.net/neutron/+spec/restructure-l3-agent ",,243,0
openstack%2Fneutron-specs~master~Id53e70c6312ecbb84201802742b3e5aa3471538b,openstack/neutron-specs,master,Id53e70c6312ecbb84201802742b3e5aa3471538b,Specification for the BP multiple-ipv6-prefixes,MERGED,2014-06-05 19:03:01.000000000,2014-12-15 16:23:02.000000000,2014-12-15 16:23:01.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 2592}, {'_account_id': 3217}, {'_account_id': 4656}, {'_account_id': 6524}, {'_account_id': 6620}, {'_account_id': 6685}, {'_account_id': 6695}, {'_account_id': 7183}, {'_account_id': 7278}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 10257}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-06-05 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bf76e0dd6d7ac39ec1e7a7d9878a765d5b41e996', 'message': 'Adding design spec for blueprint ""multiple-ipv6-prefixes""\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 2, 'created': '2014-06-05 21:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/553379b30c695a42fb8f5acc7a51abe59624846c', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 3, 'created': '2014-06-05 21:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9ef8a9c2c94a306657fa4936fe46a26cd270854d', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 4, 'created': '2014-06-12 21:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa1cc0c9cba9e4c27338a367dff9acf919df4bc6', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 5, 'created': '2014-07-01 19:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a454eec21a2cd836eb70c80c6021efacb4a31085', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 6, 'created': '2014-07-01 20:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ab2fd6b3bdaf2857f6b687573deacebc9c5e99c4', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 7, 'created': '2014-10-02 17:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/355f0b23ce2e8c077e1d023f2f3c6d2da84f1916', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 8, 'created': '2014-10-28 22:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/39cb4c4b6841ac33dfb58cfff9081fbd825ec481', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 9, 'created': '2014-11-24 18:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/24aa25a4820b208ae2ddaac0d20973b3a8afe3c5', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 10, 'created': '2014-12-02 17:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fbafed6c05aeba81c1fa0defa760a7036cf12024', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 11, 'created': '2014-12-02 17:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a2464341bdb158a72a52b53220c74400792cd253', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 12, 'created': '2014-12-04 23:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7a3411876e501ffcfa7edea5cd401e331b324247', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 13, 'created': '2014-12-14 18:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d24d2efa51458e0fbf4d9142932561be7eec9b36', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}, {'number': 14, 'created': '2014-12-15 14:17:33.000000000', 'files': ['specs/kilo/multiple-ipv6-prefixes.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e1343b6f4cb9282a2c7d684abe00884df551d25f', 'message': 'Specification for the BP multiple-ipv6-prefixes\n\nChange-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b\n'}]",139,98217,e1343b6f4cb9282a2c7d684abe00884df551d25f,98,16,14,6695,,,0,"Specification for the BP multiple-ipv6-prefixes

Change-Id: Id53e70c6312ecbb84201802742b3e5aa3471538b
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/17/98217/14 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/multiple-ipv6-prefixes.rst'],1,bf76e0dd6d7ac39ec1e7a7d9878a765d5b41e996,bp/multiple-ipv6-prefixes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================= Support Multiple IPv6 Prefixes and Addresses for IPv6 Network ============================================================= URL of the launchpad blueprint: https://blueprints.launchpad.net/neutron/+spec/multiple-ipv6-prefixes IPv6 standards allow for multiple IPv6 prefixes and addresses to be associated with a given interface. This blueprint defines how multiple IPv6 prefixes and/or addresses per Neutron port will be supported in OpenStack, and describes how this differs from the IPv4 implementation. Some possible use cases include: * Allow a mix of public (Global Unicast Address, or GUA) and private (e.g. Unique Local Address, or ULA) IPv6 addresses on a tenant network. * IPv6 renumbering: Support for overlap interval during which old and new IPv6 prefixes co-exist (e.g. on router port). * Floating-IP-like support: Allow for a tenant to allocate an address from a pool of pre-determined public IPv6 addresses, and associate that address with a VM or set of VMs. Note: Unlike the IPv4 Floating IP feature, IPv6 support would not involve NAT translation from fixed IPs to floating IPs. This design specification is a pre-requisite for for IPv6 Floating IPs; more details will be covered in a separate blueprint. Problem description =================== Current Implementation ---------------------- With the current Neutron implementation, when a port is created, the Layer 3 (L3) agent limits the number of IP addresses that is initially associated with that port to a maximum of one IP address per family (i.e. up to one IPv4 address and up to one IPv6 address). (Note: for externally-facing gateway ports, the number of IP addresses is further restricted to a single IP address, either IPv4 or IPv6. See Reference 1 below.) For IPv4, following port creation, the port can then be associated with additional fixed IP addresses using the port-update API, and/or it can be associated with a floating IP address (with NAT translation) using floating IP APIs. Considerations for IPv6 ----------------------- For IPv6, there are some differences between IPv6 and IPv4 which need to be considered when deciding how multiple IPv6 prefixes and addresses should be configured and supported in Neutron, and how closely the IPv6 implementation will follow the IPv4 paradigm: * IPv6 addresses are more abundant. Which means: * We can afford to be less conservative about assigning addresses to a port from each of the subnets within a network. * No need to do NAT translation. Globally accessible addresses can be assigned directly to the port. * IPv6 provides two main mechanisms for assigning IP addresses: * SLAAC (Stateless Address Autoconfiguration): This mechanism (RFC 4862, Ref 3) requires no manual configuration of hosts and minimal configuration of routers. With SLAAC, routers periodically send out Router Advertisement (RA) messages via multicast. To obtain an router advertisement quickly, hosts on that link may also prompt the router by sending a Router Solicitation message (RFC 4861, Ref 2). RA messages contain prefixes that identify subnet(s) associated with a link. Hosts on that link generate a unique ""interface identifier"" for each interface on the link (typically based on MAC address), and form an IPv6 address(es) by combining each prefix with the interface identifier. * DHCPv6: Similar to DHCPv4, a DHCP server can be configured to assign specific IPv6 addresses to each node on a link. With the current Neutron implementation, a subnet is configured for SLAAC vs. DHCPv6 address mode when the subnet is created by setting the ""ipv6_ra_mode"" and ""ipvt_address_mode"" attributes in a subnet-create API call. These attributes were added with the blueprint listed in Ref. 5. Attribute values are described in Ref. 7. The most important aspect of SLAAC addressing to consider here is that RA messages are multicast (on the all nodes multicast channel) to all IPv6-capable nodes on a link. What this means in an OpenStack environment is that whenever a subnet is created with SLAAC address generation mode, then all IPv6-capable hosts/VMs which are created on that network will receive periodic RA messages which include the associated prefix for that subnet (along with prefixes for all other SLAAC-enabled subnets on that network). The host will therefore generate an address using that subnet/prefix, regardless of whether the associated port-create API calls (and any follow-up port-update API calls) for that VM happen to specify that the subnet should be associated with that port. Theoretically, it would be possible to change this behavior by hacking RA generator used on an OpenStack network (whether it be dnsmasq or radvd) so that RA messages are delivered via unicast, and then devise a scheme to selectively enable or filter RA messages on a per port basis, but this would take a significant amount of hacking and would probably be rather complex and error prone. Subnets to Include Upon Port Creation ------------------------------------- When a Neutron port is created on a Neutron network, and that network includes multiple IPv6 subnets, which IPv6 prefixes (SLAAC) and which IPv6 addresses (DHCPv6) should be associated with that port upon port creation? First, let's consider the subnets configured with SLAAC. Due to the multicast nature of RAs as described earlier, all IPv6-capable nodes on the associated network will receive RAs which are advertising the associated prefix, and will be generating SLAAC addresses for each of the SLAAC-enabled subnets on that network. Neutron should therefore implicitly assume that a fixed IPv6 address will be generated for each such subnet, and should treat each of these SLAAC-generated, fixed IPv6 addresses as having been allocated to the associated port port in the Neutron databases. For each SLAAC-enabled subnet, the Neutron L3 Agent will need to either detect or anticipate which specific IPv6 is generated by each host. Note that for the initial release of IPv6 in OpenStack, the ability to anticipate or derive each SLAAC-generated address was added with the change set for Ref. 4. This algorithm assumes that interface IDs used in forming addresses are generated using EUI-64. Secondly, consider subnets configured for DHCPv6. Here the choice of which or how many subnets to include when allocating IPv6 addresses as part of a port create operation is less obvious, specifically when there is more than one such subnet on a network. Some possibilities to consider for handling this case: * Follow the IPv4 port create model. In this paradigm, if a single subnet (and optionally a specific fixed IP) is specified in the port-create API, then a fixed IP address is allocated from that subnet. Otherwise, Neutron selects one of the subnets in the network and allocates an IP address from that subnet. Following this model, ports would be created with one fixed IPv6 address from one of the DHCPv6-enabled subnets. If more fixed IPv6 addresses are desired, then additional address assignments would require subsequent port-update API calls. * Diverge from the IPv4 port create paradigm, and allow multiple fixed IPv6 addresses to be assigned at port creation time. This probably makes sense in the IPv6 world because addresses are usually abundant in each subnet block. Two sub-cases to consider: * The port create API call explicitly specifies a list of subnets or fixed IP addresses (in a fixed_ips dictionary): In this case, associate IP addresses according to the subnets/addresses specified. * The port create API call does not explicitly specify IPv6 subnets or addresses (e.g. only the network ID is provided): Assign IPv6 addresses for ALL subnets within the network which have been configured with DHCPv6. Subnet Deletion --------------- For DHCPv6-enabled subnets, the current model for subnet deletion can be followed: Such a subnet cannot be deleted until all associated IPv6 addresses have been removed from ports (via port-update) or the associated VMs have been deleted. In the case of SLAAC-enabled subnets, however, it's not feasible to remove the SLAAC-generated addresses individually from each associated port before deleting a subnet because of the multicast nature of RA messages. For SLAAC-enabled subnets, the subnet delete processing in Neutron needs to be changed so that these subnets will be allowed to be deleted even when there are ports which are using IPv6 addresses from this subnet. In this case, when a subnet deletion is requested, the Neutron L3 agent should reconfigure the source of RA messages (dnsmasq or radvd) to eliminate advertisement of the associated prefix. The VMs on the subnet will in time receive the updated RA messages, and start the process of disabling the SLAAC-generated address. (Note: According to RFC 2862, VMs should leave the address in a deprecated state for 2 hours. It's not clear whether associated gateway addresses on this subnet will need to follow a similar deprecation algorithm). Router Interfaces ----------------- With the current implementation, the L3 agent limits the number of IP addresses on a gateway port to one address (and one IP family, i.e. either IPv4 or IPv6) per port. The change described in the Neutron blueprint allow-multiple-subnets-on-gateway-port (Ref 1), which is currently abandoned, was an attempt to relax this restriction so that one IPv4 address and one IPv6 address would be allowed per gateway port. This blueprint will relax the restriction even further by allowing multiple IPv6 addresses along with up to one IPv4 address per gateway port. The same treatment will be extended to internal router interfaces. Floating-IP-Like Support ------------------------ As stated in the introduction, this blueprint is a pre-requisite for floating-ip-like support for IPv6. Unlike IPv4 floating IPs, floating IP support in IPv6 will not use NAT translation. The design proposed in this blueprint should provide a mechanism for allocating and assigning IPv6 addresses from a pool of pre-determined addresses using subnets which are configured for DHCPv6, and using the basic subnet-create, port-create, port-update, etc. Neutron API calls. A separate blueprint will be created for exploring this support further. For example, the floating IP API calls can be extended to allocate IPv6 addresses. This technique would provide the same result as using normal DHCPv6 address allocation, except that when addresses are allocated using floating IP APIs, they would be marked and accounted for specifically as floating IP addresses within Neutron databases and in floating API responses. Proposed change =============== Port Create API Call -------------------- It is not expected that the definition/syntax of the Neutron port-create API request/response messages will need to be changed for this blueprint. However, the way in which this API call will be used, and the way that Neutron handles this call when IPv6 subnets are included in the associated network, will represent a bit of a paradigm shift from the IPv4 model. The change in behavior will revolve around deciding for which subnets on the network that IP addresses should be allocated and associated initially, upon port creation. The changes can be summarized: * Current IPv4 behavior will not be changed. * For subnets on the associated network configured for IPv6 SLAAC: * All such SLAAC-enabled subnets on the network will be implicitly associated with the port, regardless of whether these subnets are explicitly included in the API data. * A port-create request can optionally explicitly include a SLAAC-enabled subnet, but this is superfluous. * The Neutron L3 agent will need to detect or anticipate the specific IPv6 address which was/will be used on the port. Currently, the address is anticipated by assuming EUI-64 interface ID generation. * For subnets on the associated network configured for DHCPv6: * If subnets/fixed IPs are enumerated in the port-create request (via fixed_ips dictionary): Include only those DHCPv6-enabled subnets which are included in the list (along with up to one IPv4 IP address and addresses for all SLAAC-enabled subnets). * If subnets/fixed IPs are not enumerated in the port-create request: Allocate addresses for all IPv6 subnets in the network (SLAAC or DHCPv6), along with up to one IPv4 IP address. * Response to API call should list all fixed IPs associated with the port, whether the association was implicitly or explicitly included in the port-create request. Port Update API Call -------------------- Similar to the port-create API call, it is not expected that the definition/syntax of the Neutron port-update API request/response messages will change, but the way in which this API call is used and the way that Neutron handles these requests will change. The behavior change will be the same as that outlined for port-create. Subnet Delete API Call ---------------------- As discussed in the Problem Definition section, the Neutron code which handles subnet delete will need to be changed to allow for deletion of a SLAAC-enabled subnet even when that subnet still has ports in use with SLAAC-generated addresses. In this case, the Neutron L3 agent should reconfigure the source of RA messages (dnsmasq or radvd) to eliminate advertisement of the associated prefix. The VMs on the subnet will in time receive the updated RA messages, and start the process of disabling the SLAAC-generated address. Router Interfaces ----------------- As discussed in the Problem Definition section, this blueprint will relax the restrictions imposed by the Neutron L3 agent on externally-facing gateway ports and internal router interfaces by allowing multiple IPv6 addresses along with up to one IPv4 address per router interface. Alternatives ------------ Various alternatives are discussed in the ""Problem Definition"" section. Data model impact ----------------- No data model changes are anticipated. REST API impact --------------- As discussed in earlier sections, the definition/syntax of the port-create, port-update, and subnet-delete API calls will not be changed, but the way in which these API calls are used and the way that Neutron handles these API calls will be modified for IPv6 subnets as compared to IPv4 subnets. Security impact --------------- There may be some risk associated with opening up an OpenStack cloud to IPv6 RA messages (e.g. spoofed RA messages may modify the network), but this is a concern for basic SLAAC implementation, and not something that is being introduced with this blueprint. Notifications impact -------------------- No changes anticipated. Other end user impact --------------------- Nothing more than what has been already discussed. Performance Impact ------------------ No significant performance impact expected. Other deployer impact --------------------- Deployers will need to understand that IPv6 addresses will be automatically and implicitly generated on every port on a network for every SLAAC-enabled subnet in that network. This should not come as no surprise, since SLAAC is an autoconfiguration mechanism. Developer impact ---------------- Devlopers of L3 services (e.g. Distributed Virtual Routing) may need to incorporate some of the behavior changes proposed in the blueprint with respect to port creation when IPv6 subnets are involved. Implementation ============== Assignee(s) ----------- Primary assignee: Dane LeBlanc launchpad-id: leblancd Other contributors: Robert (Bao) Li launchpad-id: baoli Work Items ---------- * Create test environment * Port-create API handling changes * Port-update API handling changes * Subnet-delete API handling changes * L3 Agent changes * Unit tests for the above * Tempest test creation Dependencies ============ Development and testing of this feature depends upon basic SLAAC implementation, which is provided through two Neutron blueprints: * Neutron Blueprint: ipv6-two-attributes (Ref 5) Changes for this blueprint have been merged, but the merged changes include a temporary disabling of support for the two RA attributes. In order to develop and test changes for multiple IPv6 prefixes/addresses, the changes for the two-attribute blueprint will have to be slightly modified to enable support of these attributes. * Neutron Blueprint: ipv6-provider-nets-slaac (Ref 6) Changes for this blueprint have already been merged. Testing ======= Tempest testing outline: * API tests for network with 1 IPv4 and 1 SLAAC address/subnets (Port create, Subnet delete) * API test for network with 1 IPv4, 1 DHCPv4 address/subnets (Port create, Subnet delete) * API test for network with 2 DHCPv4 and 2 SLAAC address/subnets (Port create, Subnet delete) * API test for port update: Add DHCPv4 subnet * Scenario test (ping/SSH) from network controller to VM with 2 SLAAC subnets and 2 DHCPv4 addresses. Documentation Impact ==================== The Neutron API v2 reference documentation may need to be modified to reflect the expected behavior with respect to IPv6 subnets for port-create, port-update, and subnet delete. References ========== 1. Neutron Blueprint: Allow multiple subnets on gateway. https://blueprints.launchpad.net/neutron/+spec/allow-multiple-subnets-on-gateway-port 2. RFC 4861: Neighbor Discovery for IP version 6 (IPv6) https://datatracker.ietf.org/doc/rfc4861 3. RFC 4862: IPv6 Stateless Address Autoconfiguration http://tools.ietf.org/html/rfc4862 4. DevStack Blueprint: Add IPv6 support https://blueprints.launchpad.net/devstack/+spec/ipv6-support 5. Neutron Blueprint: Two Attributes Proposal to Control IPv6 RA Announcement and Address Assignment https://blueprints.launchpad.net/neutron/+spec/ipv6-two-attributes 6. Neutron Blueprint: Provider Networking - upstream SLAAC support https://blueprints.launchpad.net/neutron/+spec/ipv6-provider-nets-slaac 7. OpenStack Neutron IPv6 Address Mode Attributes Table https://www.dropbox.com/s/9bojvv9vywsz8sd/IPv6%20Two%20Modes%20v3.0.pdf 8. RFC 4291: IP Version 6 Addressing Architecture http://tools.ietf.org/html/rfc4291 ",,439,0
openstack%2Ffuel-library~stable%2F6.0~I031351b36f56881f21986b412bfae79fba0e884b,openstack/fuel-library,stable/6.0,I031351b36f56881f21986b412bfae79fba0e884b,Disable DF bit for tunneled installations,MERGED,2014-12-12 20:45:46.000000000,2014-12-15 16:16:28.000000000,2014-12-15 16:16:28.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7613}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-12 20:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f2ebea603b3d5a0c00556aa380a264dd758cf420', 'message': 'Disable DF bit for tunneled installations\n\nDue to the way how OVS handles GRE tunnels\nit tries to copy DF flag to wrapping GRE\npacket header, thus making it impossible\nfor packets of more than 1430 bytes size\nto be transfered through regular interfaces\nthis breaks almost all applications. Thus\nwe are setting dont_fragment option to false\nand we will also need to make ovs agent\nset df_inherit flag to this option for\nOVS versions that support df_inherit flag\n\nChange-Id: I031351b36f56881f21986b412bfae79fba0e884b\nPartial-bug: #1402046\n'}, {'number': 2, 'created': '2014-12-15 14:48:22.000000000', 'files': ['deployment/puppet/neutron/manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/631853551ca8996bab70a84e2fadf082301509a8', 'message': 'Disable DF bit for tunneled installations\n\nDue to the way how OVS handles GRE tunnels\nit tries to copy DF flag to wrapping GRE\npacket header, thus making it impossible\nfor packets of more than 1430 bytes size\nto be transfered through regular interfaces\nthis breaks almost all applications. Thus\nwe are setting dont_fragment option to false\nand we will also need to make ovs agent\nset df_inherit flag to this option for\nOVS versions that support df_inherit flag\n\nWe will also need to document that user should\nextend his MTU size to reasonable one according\nto http://docs.openstack.org/icehouse/install-guide/install/yum/content/neutron-ml2-network-node.html\nin order to not get performance issues.\n\nDocImpact\nChange-Id: I031351b36f56881f21986b412bfae79fba0e884b\nPartial-bug: #1402046\n'}]",0,141488,631853551ca8996bab70a84e2fadf082301509a8,18,6,2,8786,,,0,"Disable DF bit for tunneled installations

Due to the way how OVS handles GRE tunnels
it tries to copy DF flag to wrapping GRE
packet header, thus making it impossible
for packets of more than 1430 bytes size
to be transfered through regular interfaces
this breaks almost all applications. Thus
we are setting dont_fragment option to false
and we will also need to make ovs agent
set df_inherit flag to this option for
OVS versions that support df_inherit flag

We will also need to document that user should
extend his MTU size to reasonable one according
to http://docs.openstack.org/icehouse/install-guide/install/yum/content/neutron-ml2-network-node.html
in order to not get performance issues.

DocImpact
Change-Id: I031351b36f56881f21986b412bfae79fba0e884b
Partial-bug: #1402046
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/88/141488/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/neutron/manifests/agents/ml2/ovs.pp'],1,f2ebea603b3d5a0c00556aa380a264dd758cf420,, 'agent/dont_fragment': value => false;,,1,0
openstack%2Ffuel-library~master~I031351b36f56881f21986b412bfae79fba0e884b,openstack/fuel-library,master,I031351b36f56881f21986b412bfae79fba0e884b,Disable DF bit for tunneled installations,MERGED,2014-12-12 20:42:39.000000000,2014-12-15 16:16:14.000000000,2014-12-15 16:16:14.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7613}, {'_account_id': 8786}, {'_account_id': 8881}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 13194}]","[{'number': 1, 'created': '2014-12-12 20:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/91419436133ea31d2bdec543c12207367541c221', 'message': 'Disable DF bit for tunneled installations\n\nDue to the way how OVS handles GRE tunnels\nit tries to copy DF flag to wrapping GRE\npacket header, thus making it impossible\nfor packets of more than 1430 bytes size\nto be transfered through regular interfaces\nthis breaks almost all applications. Thus\nwe are setting dont_fragment option to false\nand we will also need to make ovs agent\nset df_inherit flag to this option for\nOVS versions that support df_inherit flag\n\nChange-Id: I031351b36f56881f21986b412bfae79fba0e884b\nPartial-bug: #1402046\n'}, {'number': 2, 'created': '2014-12-15 14:48:06.000000000', 'files': ['deployment/puppet/neutron/manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a57c156550ebe769119df2e011a1135e8ea4598c', 'message': 'Disable DF bit for tunneled installations\n\nDue to the way how OVS handles GRE tunnels\nit tries to copy DF flag to wrapping GRE\npacket header, thus making it impossible\nfor packets of more than 1430 bytes size\nto be transfered through regular interfaces\nthis breaks almost all applications. Thus\nwe are setting dont_fragment option to false\nand we will also need to make ovs agent\nset df_inherit flag to this option for\nOVS versions that support df_inherit flag\n\nWe will also need to document that user should\nextend his MTU size to reasonable one according\nto http://docs.openstack.org/icehouse/install-guide/install/yum/content/neutron-ml2-network-node.html\nin order to not get performance issues.\n\nDocImpact\nChange-Id: I031351b36f56881f21986b412bfae79fba0e884b\nPartial-bug: #1402046'}]",0,141487,a57c156550ebe769119df2e011a1135e8ea4598c,26,8,2,8786,,,0,"Disable DF bit for tunneled installations

Due to the way how OVS handles GRE tunnels
it tries to copy DF flag to wrapping GRE
packet header, thus making it impossible
for packets of more than 1430 bytes size
to be transfered through regular interfaces
this breaks almost all applications. Thus
we are setting dont_fragment option to false
and we will also need to make ovs agent
set df_inherit flag to this option for
OVS versions that support df_inherit flag

We will also need to document that user should
extend his MTU size to reasonable one according
to http://docs.openstack.org/icehouse/install-guide/install/yum/content/neutron-ml2-network-node.html
in order to not get performance issues.

DocImpact
Change-Id: I031351b36f56881f21986b412bfae79fba0e884b
Partial-bug: #1402046",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/87/141487/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/neutron/manifests/agents/ml2/ovs.pp'],1,91419436133ea31d2bdec543c12207367541c221,, 'agent/dont_fragment': value => false;,,1,0
openstack%2Fmurano~master~I7d3d203f47a1d9eb940132930d5dbb82655515ee,openstack/murano,master,I7d3d203f47a1d9eb940132930d5dbb82655515ee,Updated from global requirements,MERGED,2014-12-14 01:44:11.000000000,2014-12-15 16:08:15.000000000,2014-12-15 16:08:14.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-14 01:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/60463a60f56845aa0adfd945f762b15dc8da96a2', 'message': 'Updated from global requirements\n\nThis is an important update and should be merged ASAP. Latest\nrelease of setuptools 8.0 introduced new rules which make\ncurrent constraints on SQLAlchemy invalid.\n\nAs a temporary workaround all the jenkins slave nodes have\na cap on setuptools version, but it is going to be removed\nsoon.\n\nChange-Id: I7d3d203f47a1d9eb940132930d5dbb82655515ee\n'}, {'number': 2, 'created': '2014-12-14 02:11:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/dc9ff5da8828825a828018e34125f26b268c741b', 'message': 'Updated from global requirements\n\nThis is an important update and should be merged ASAP. Latest\nrelease of setuptools 8.0 introduced new rules which make\ncurrent constraints on SQLAlchemy invalid.\n\nAs a temporary workaround all the jenkins slave nodes have\na cap on setuptools version, but it is going to be removed\nsoon.\n\nChange-Id: I7d3d203f47a1d9eb940132930d5dbb82655515ee\n'}]",0,141609,dc9ff5da8828825a828018e34125f26b268c741b,18,6,2,7600,,,0,"Updated from global requirements

This is an important update and should be merged ASAP. Latest
release of setuptools 8.0 introduced new rules which make
current constraints on SQLAlchemy invalid.

As a temporary workaround all the jenkins slave nodes have
a cap on setuptools version, but it is going to be removed
soon.

Change-Id: I7d3d203f47a1d9eb940132930d5dbb82655515ee
",git fetch https://review.opendev.org/openstack/murano refs/changes/09/141609/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,60463a60f56845aa0adfd945f762b15dc8da96a2,update-requirements,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",,17,8
openstack%2Fmurano~stable%2Fjuno~I4b9e02cc0c094b7287a82d0718db0b6529373e9f,openstack/murano,stable/juno,I4b9e02cc0c094b7287a82d0718db0b6529373e9f,Updated from global requirements,MERGED,2014-12-14 01:47:47.000000000,2014-12-15 16:08:04.000000000,2014-12-15 16:08:03.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-14 01:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/09217e020057905317971e19f10cf28e0d6f932e', 'message': 'Updated from global requirements\n\nThis is an important update and should be merged ASAP. Latest\nrelease of setuptools 8.0 introduced new rules which make\ncurrent constraints on SQLAlchemy invalid.\n\nAs a temporary workaround all the jenkins slave nodes have\na cap on setuptools version, but it is going to be removed\nsoon.\n\nChange-Id: I4b9e02cc0c094b7287a82d0718db0b6529373e9f\n'}, {'number': 2, 'created': '2014-12-14 02:13:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/bb337d58be3b42b43de30343dba7d23f3e7c3dfc', 'message': 'Updated from global requirements\n\nThis is an important update and should be merged ASAP. Latest\nrelease of setuptools 8.0 introduced new rules which make\ncurrent constraints on SQLAlchemy invalid.\n\nAs a temporary workaround all the jenkins slave nodes have\na cap on setuptools version, but it is going to be removed\nsoon.\n\nChange-Id: I4b9e02cc0c094b7287a82d0718db0b6529373e9f\n'}]",0,141610,bb337d58be3b42b43de30343dba7d23f3e7c3dfc,18,6,2,7600,,,0,"Updated from global requirements

This is an important update and should be merged ASAP. Latest
release of setuptools 8.0 introduced new rules which make
current constraints on SQLAlchemy invalid.

As a temporary workaround all the jenkins slave nodes have
a cap on setuptools version, but it is going to be removed
soon.

Change-Id: I4b9e02cc0c094b7287a82d0718db0b6529373e9f
",git fetch https://review.opendev.org/openstack/murano refs/changes/10/141610/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,09217e020057905317971e19f10cf28e0d6f932e,update-requirements,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",,16,7
openstack%2Fmurano-dashboard~master~Ide573615e6c5b84d14ace955aac0a31c72b9fd04,openstack/murano-dashboard,master,Ide573615e6c5b84d14ace955aac0a31c72b9fd04,Removed anyjson from requirements,MERGED,2014-12-14 05:13:10.000000000,2014-12-15 16:07:10.000000000,2014-12-15 16:07:10.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}]","[{'number': 1, 'created': '2014-12-14 05:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8601371b14924f640af5f0de1ff0412b4c1a3287', 'message': 'Removed anyjson from requirements\n\nbecase anyjson is not used in murano-dashboard\n\nChange-Id: Ide573615e6c5b84d14ace955aac0a31c72b9fd04\n'}, {'number': 2, 'created': '2014-12-14 05:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7b87ffc6093cee268f463ee9fea44de9465920a9', 'message': 'Removed anyjson from requirements\n\nbecase anyjson is not used in murano-dashboard\n\nChange-Id: Ide573615e6c5b84d14ace955aac0a31c72b9fd04\n'}, {'number': 3, 'created': '2014-12-15 10:52:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8aa6f42673c1611571ce37621c74e35443559809', 'message': 'Removed anyjson from requirements\n\nbecase anyjson is not used in murano-dashboard\n\nChange-Id: Ide573615e6c5b84d14ace955aac0a31c72b9fd04\n'}]",0,141621,8aa6f42673c1611571ce37621c74e35443559809,16,4,3,7600,,,0,"Removed anyjson from requirements

becase anyjson is not used in murano-dashboard

Change-Id: Ide573615e6c5b84d14ace955aac0a31c72b9fd04
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/21/141621/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8601371b14924f640af5f0de1ff0412b4c1a3287,murano-cleanup,python-muranoclient>=0.5.5 ,anyjson>=0.3.3python-muranoclient>=0.5.5,1,2
